(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nL(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var eg={exports:{}},Kl={},tg={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function rL(){if(H1)return it;H1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=h&&R[h]||R["@@iterator"],typeof R=="function"?R:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function b(R,Q,fe){this.props=R,this.context=Q,this.refs=S,this.updater=fe||_}b.prototype.isReactComponent={},b.prototype.setState=function(R,Q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Q,"setState")},b.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function A(){}A.prototype=b.prototype;function O(R,Q,fe){this.props=R,this.context=Q,this.refs=S,this.updater=fe||_}var T=O.prototype=new A;T.constructor=O,w(T,b.prototype),T.isPureReactComponent=!0;var M=Array.isArray,E=Object.prototype.hasOwnProperty,P={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function D(R,Q,fe){var _e,Ne={},Fe=null,nt=null;if(Q!=null)for(_e in Q.ref!==void 0&&(nt=Q.ref),Q.key!==void 0&&(Fe=""+Q.key),Q)E.call(Q,_e)&&!I.hasOwnProperty(_e)&&(Ne[_e]=Q[_e]);var Ge=arguments.length-2;if(Ge===1)Ne.children=fe;else if(1<Ge){for(var me=Array(Ge),$e=0;$e<Ge;$e++)me[$e]=arguments[$e+2];Ne.children=me}if(R&&R.defaultProps)for(_e in Ge=R.defaultProps,Ge)Ne[_e]===void 0&&(Ne[_e]=Ge[_e]);return{$$typeof:t,type:R,key:Fe,ref:nt,props:Ne,_owner:P.current}}function F(R,Q){return{$$typeof:t,type:R.type,key:Q,ref:R.ref,props:R.props,_owner:R._owner}}function q(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function L(R){var Q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(fe){return Q[fe]})}var W=/\/+/g;function J(R,Q){return typeof R=="object"&&R!==null&&R.key!=null?L(""+R.key):Q.toString(36)}function H(R,Q,fe,_e,Ne){var Fe=typeof R;(Fe==="undefined"||Fe==="boolean")&&(R=null);var nt=!1;if(R===null)nt=!0;else switch(Fe){case"string":case"number":nt=!0;break;case"object":switch(R.$$typeof){case t:case e:nt=!0}}if(nt)return nt=R,Ne=Ne(nt),R=_e===""?"."+J(nt,0):_e,M(Ne)?(fe="",R!=null&&(fe=R.replace(W,"$&/")+"/"),H(Ne,Q,fe,"",function($e){return $e})):Ne!=null&&(q(Ne)&&(Ne=F(Ne,fe+(!Ne.key||nt&&nt.key===Ne.key?"":(""+Ne.key).replace(W,"$&/")+"/")+R)),Q.push(Ne)),1;if(nt=0,_e=_e===""?".":_e+":",M(R))for(var Ge=0;Ge<R.length;Ge++){Fe=R[Ge];var me=_e+J(Fe,Ge);nt+=H(Fe,Q,fe,me,Ne)}else if(me=v(R),typeof me=="function")for(R=me.call(R),Ge=0;!(Fe=R.next()).done;)Fe=Fe.value,me=_e+J(Fe,Ge++),nt+=H(Fe,Q,fe,me,Ne);else if(Fe==="object")throw Q=String(R),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return nt}function B(R,Q,fe){if(R==null)return R;var _e=[],Ne=0;return H(R,_e,"","",function(Fe){return Q.call(fe,Fe,Ne++)}),_e}function Z(R){if(R._status===-1){var Q=R._result;Q=Q(),Q.then(function(fe){(R._status===0||R._status===-1)&&(R._status=1,R._result=fe)},function(fe){(R._status===0||R._status===-1)&&(R._status=2,R._result=fe)}),R._status===-1&&(R._status=0,R._result=Q)}if(R._status===1)return R._result.default;throw R._result}var Y={current:null},G={transition:null},te={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:G,ReactCurrentOwner:P};function ae(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:B,forEach:function(R,Q,fe){B(R,function(){Q.apply(this,arguments)},fe)},count:function(R){var Q=0;return B(R,function(){Q++}),Q},toArray:function(R){return B(R,function(Q){return Q})||[]},only:function(R){if(!q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},it.Component=b,it.Fragment=n,it.Profiler=i,it.PureComponent=O,it.StrictMode=r,it.Suspense=c,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,it.act=ae,it.cloneElement=function(R,Q,fe){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var _e=w({},R.props),Ne=R.key,Fe=R.ref,nt=R._owner;if(Q!=null){if(Q.ref!==void 0&&(Fe=Q.ref,nt=P.current),Q.key!==void 0&&(Ne=""+Q.key),R.type&&R.type.defaultProps)var Ge=R.type.defaultProps;for(me in Q)E.call(Q,me)&&!I.hasOwnProperty(me)&&(_e[me]=Q[me]===void 0&&Ge!==void 0?Ge[me]:Q[me])}var me=arguments.length-2;if(me===1)_e.children=fe;else if(1<me){Ge=Array(me);for(var $e=0;$e<me;$e++)Ge[$e]=arguments[$e+2];_e.children=Ge}return{$$typeof:t,type:R.type,key:Ne,ref:Fe,props:_e,_owner:nt}},it.createContext=function(R){return R={$$typeof:o,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:a,_context:R},R.Consumer=R},it.createElement=D,it.createFactory=function(R){var Q=D.bind(null,R);return Q.type=R,Q},it.createRef=function(){return{current:null}},it.forwardRef=function(R){return{$$typeof:l,render:R}},it.isValidElement=q,it.lazy=function(R){return{$$typeof:f,_payload:{_status:-1,_result:R},_init:Z}},it.memo=function(R,Q){return{$$typeof:d,type:R,compare:Q===void 0?null:Q}},it.startTransition=function(R){var Q=G.transition;G.transition={};try{R()}finally{G.transition=Q}},it.unstable_act=ae,it.useCallback=function(R,Q){return Y.current.useCallback(R,Q)},it.useContext=function(R){return Y.current.useContext(R)},it.useDebugValue=function(){},it.useDeferredValue=function(R){return Y.current.useDeferredValue(R)},it.useEffect=function(R,Q){return Y.current.useEffect(R,Q)},it.useId=function(){return Y.current.useId()},it.useImperativeHandle=function(R,Q,fe){return Y.current.useImperativeHandle(R,Q,fe)},it.useInsertionEffect=function(R,Q){return Y.current.useInsertionEffect(R,Q)},it.useLayoutEffect=function(R,Q){return Y.current.useLayoutEffect(R,Q)},it.useMemo=function(R,Q){return Y.current.useMemo(R,Q)},it.useReducer=function(R,Q,fe){return Y.current.useReducer(R,Q,fe)},it.useRef=function(R){return Y.current.useRef(R)},it.useState=function(R){return Y.current.useState(R)},it.useSyncExternalStore=function(R,Q,fe){return Y.current.useSyncExternalStore(R,Q,fe)},it.useTransition=function(){return Y.current.useTransition()},it.version="18.3.1",it}var W1;function db(){return W1||(W1=1,tg.exports=rL()),tg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1;function iL(){if(K1)return Kl;K1=1;var t=db(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var f,h={},v=null,_=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(_=c.ref);for(f in c)r.call(c,f)&&!a.hasOwnProperty(f)&&(h[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:l,key:v,ref:_,props:h,_owner:i.current}}return Kl.Fragment=n,Kl.jsx=o,Kl.jsxs=o,Kl}var Y1;function aL(){return Y1||(Y1=1,eg.exports=iL()),eg.exports}var x=aL(),$=db();const K=mt($);var Ld={},ng={exports:{}},Gn={},rg={exports:{}},ig={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function oL(){return J1||(J1=1,function(t){function e(G,te){var ae=G.length;G.push(te);e:for(;0<ae;){var R=ae-1>>>1,Q=G[R];if(0<i(Q,te))G[R]=te,G[ae]=Q,ae=R;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],ae=G.pop();if(ae!==te){G[0]=ae;e:for(var R=0,Q=G.length,fe=Q>>>1;R<fe;){var _e=2*(R+1)-1,Ne=G[_e],Fe=_e+1,nt=G[Fe];if(0>i(Ne,ae))Fe<Q&&0>i(nt,Ne)?(G[R]=nt,G[Fe]=ae,R=Fe):(G[R]=Ne,G[_e]=ae,R=_e);else if(Fe<Q&&0>i(nt,ae))G[R]=nt,G[Fe]=ae,R=Fe;else break e}}return te}function i(G,te){var ae=G.sortIndex-te.sortIndex;return ae!==0?ae:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,h=null,v=3,_=!1,w=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(G){for(var te=n(d);te!==null;){if(te.callback===null)r(d);else if(te.startTime<=G)r(d),te.sortIndex=te.expirationTime,e(c,te);else break;te=n(d)}}function M(G){if(S=!1,T(G),!w)if(n(c)!==null)w=!0,Z(E);else{var te=n(d);te!==null&&Y(M,te.startTime-G)}}function E(G,te){w=!1,S&&(S=!1,A(D),D=-1),_=!0;var ae=v;try{for(T(te),h=n(c);h!==null&&(!(h.expirationTime>te)||G&&!L());){var R=h.callback;if(typeof R=="function"){h.callback=null,v=h.priorityLevel;var Q=R(h.expirationTime<=te);te=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(c)&&r(c),T(te)}else r(c);h=n(c)}if(h!==null)var fe=!0;else{var _e=n(d);_e!==null&&Y(M,_e.startTime-te),fe=!1}return fe}finally{h=null,v=ae,_=!1}}var P=!1,I=null,D=-1,F=5,q=-1;function L(){return!(t.unstable_now()-q<F)}function W(){if(I!==null){var G=t.unstable_now();q=G;var te=!0;try{te=I(!0,G)}finally{te?J():(P=!1,I=null)}}else P=!1}var J;if(typeof O=="function")J=function(){O(W)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,B=H.port2;H.port1.onmessage=W,J=function(){B.postMessage(null)}}else J=function(){b(W,0)};function Z(G){I=G,P||(P=!0,J())}function Y(G,te){D=b(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){w||_||(w=!0,Z(E))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var ae=v;v=te;try{return G()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=v;v=G;try{return te()}finally{v=ae}},t.unstable_scheduleCallback=function(G,te,ae){var R=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?R+ae:R):ae=R,G){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ae+Q,G={id:f++,callback:te,priorityLevel:G,startTime:ae,expirationTime:Q,sortIndex:-1},ae>R?(G.sortIndex=ae,e(d,G),n(c)===null&&G===n(d)&&(S?(A(D),D=-1):S=!0,Y(M,ae-R))):(G.sortIndex=Q,e(c,G),w||_||(w=!0,Z(E))),G},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(G){var te=v;return function(){var ae=v;v=te;try{return G.apply(this,arguments)}finally{v=ae}}}}(ig)),ig}var X1;function sL(){return X1||(X1=1,rg.exports=oL()),rg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function lL(){if(Z1)return Gn;Z1=1;var t=db(),e=sL();function n(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,u){o(s,u),o(s+"Capture",u)}function o(s,u){for(i[s]=u,s=0;s<u.length;s++)r.add(u[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function v(s){return c.call(h,s)?!0:c.call(f,s)?!1:d.test(s)?h[s]=!0:(f[s]=!0,!1)}function _(s,u,p,y){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,u,p,y){if(u===null||typeof u>"u"||_(s,u,p,y))return!0;if(y)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function S(s,u,p,y,C,k,N){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=C,this.mustUseProperty=p,this.propertyName=s,this.type=u,this.sanitizeURL=k,this.removeEmptyString=N}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];b[u]=new S(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(A,O);b[u]=new S(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(A,O);b[u]=new S(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(A,O);b[u]=new S(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,u,p,y){var C=b.hasOwnProperty(u)?b[u]:null;(C!==null?C.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,p,C,y)&&(p=null),y||C===null?v(u)&&(p===null?s.removeAttribute(u):s.setAttribute(u,""+p)):C.mustUseProperty?s[C.propertyName]=p===null?C.type===3?!1:"":p:(u=C.attributeName,y=C.attributeNamespace,p===null?s.removeAttribute(u):(C=C.type,p=C===3||C===4&&p===!0?"":""+p,y?s.setAttributeNS(y,u,p):s.setAttribute(u,p))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),P=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),L=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),G=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,R;function Q(s){if(R===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);R=u&&u[1]||""}return`
`+R+s}var fe=!1;function _e(s,u){if(!s||fe)return"";fe=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(se){var y=se}Reflect.construct(s,[],u)}else{try{u.call()}catch(se){y=se}s.call(u.prototype)}else{try{throw Error()}catch(se){y=se}s()}}catch(se){if(se&&y&&typeof se.stack=="string"){for(var C=se.stack.split(`
`),k=y.stack.split(`
`),N=C.length-1,V=k.length-1;1<=N&&0<=V&&C[N]!==k[V];)V--;for(;1<=N&&0<=V;N--,V--)if(C[N]!==k[V]){if(N!==1||V!==1)do if(N--,V--,0>V||C[N]!==k[V]){var X=`
`+C[N].replace(" at new "," at ");return s.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",s.displayName)),X}while(1<=N&&0<=V);break}}}finally{fe=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?Q(s):""}function Ne(s){switch(s.tag){case 5:return Q(s.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return s=_e(s.type,!1),s;case 11:return s=_e(s.type.render,!1),s;case 1:return s=_e(s.type,!0),s;default:return""}}function Fe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case P:return"Portal";case F:return"Profiler";case D:return"StrictMode";case J:return"Suspense";case H:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case q:return(s._context.displayName||"Context")+".Provider";case W:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return u=s.displayName||null,u!==null?u:Fe(s.type)||"Memo";case Z:u=s._payload,s=s._init;try{return Fe(s(u))}catch{}}return null}function nt(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(u);case 8:return u===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function me(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function $e(s){var u=me(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),y=""+s[u];if(!s.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,k=p.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return C.call(this)},set:function(N){y=""+N,k.call(this,N)}}),Object.defineProperty(s,u,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(N){y=""+N},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Ve(s){s._valueTracker||(s._valueTracker=$e(s))}function ce(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var p=u.getValue(),y="";return s&&(y=me(s)?s.checked?"true":"false":s.value),s=y,s!==p?(u.setValue(s),!0):!1}function xt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ze(s,u){var p=u.checked;return ae({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function Ct(s,u){var p=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;p=Ge(u.value!=null?u.value:p),s._wrapperState={initialChecked:y,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function bt(s,u){u=u.checked,u!=null&&T(s,"checked",u,!1)}function Ut(s,u){bt(s,u);var p=Ge(u.value),y=u.type;if(p!=null)y==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(y==="submit"||y==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?Cn(s,u.type,p):u.hasOwnProperty("defaultValue")&&Cn(s,u.type,Ge(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function $n(s,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,p||u===s.value||(s.value=u),s.defaultValue=u}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function Cn(s,u,p){(u!=="number"||xt(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var or=Array.isArray;function gn(s,u,p,y){if(s=s.options,u){u={};for(var C=0;C<p.length;C++)u["$"+p[C]]=!0;for(p=0;p<s.length;p++)C=u.hasOwnProperty("$"+s[p].value),s[p].selected!==C&&(s[p].selected=C),C&&y&&(s[p].defaultSelected=!0)}else{for(p=""+Ge(p),u=null,C=0;C<s.length;C++){if(s[C].value===p){s[C].selected=!0,y&&(s[C].defaultSelected=!0);return}u!==null||s[C].disabled||(u=s[C])}u!==null&&(u.selected=!0)}}function Ln(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ii(s,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(n(92));if(or(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),p=u}s._wrapperState={initialValue:Ge(p)}}function Sa(s,u){var p=Ge(u.value),y=Ge(u.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),u.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),y!=null&&(s.defaultValue=""+y)}function Cr(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function Ni(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?Ni(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var jt,xc=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,y,C){MSApp.execUnsafeLocalFunction(function(){return s(u,p,y,C)})}:s}(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(jt=jt||document.createElement("div"),jt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=jt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function Di(s,u){if(u){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=u;return}}s.textContent=u}var Ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pp=["Webkit","ms","Moz","O"];Object.keys(Ri).forEach(function(s){pp.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),Ri[u]=Ri[s]})});function _c(s,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||Ri.hasOwnProperty(s)&&Ri[s]?(""+u).trim():u+"px"}function bc(s,u){s=s.style;for(var p in u)if(u.hasOwnProperty(p)){var y=p.indexOf("--")===0,C=_c(p,u[p],y);p==="float"&&(p="cssFloat"),y?s.setProperty(p,C):s[p]=C}}var mp=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cl(s,u){if(u){if(mp[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function xo(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=null;function fl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var hl=null,ji=null,$i=null;function wc(s){if(s=Nl(s)){if(typeof hl!="function")throw Error(n(280));var u=s.stateNode;u&&(u=Zc(u),hl(s.stateNode,s.type,u))}}function Sc(s){ji?$i?$i.push(s):$i=[s]:ji=s}function Cc(){if(ji){var s=ji,u=$i;if($i=ji=null,wc(s),u)for(s=0;s<u.length;s++)wc(u[s])}}function Tc(s,u){return s(u)}function kc(){}var pl=!1;function Li(s,u,p){if(pl)return s(u,p);pl=!0;try{return Tc(s,u,p)}finally{pl=!1,(ji!==null||$i!==null)&&(kc(),Cc())}}function ni(s,u){var p=s.stateNode;if(p===null)return null;var y=Zc(p);if(y===null)return null;p=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var Bi=!1;if(l)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Bi=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Bi=!1}function gp(s,u,p,y,C,k,N,V,X){var se=Array.prototype.slice.call(arguments,3);try{u.apply(p,se)}catch(pe){this.onError(pe)}}var Ta=!1,_o=null,bo=!1,ml=null,vp={onError:function(s){Ta=!0,_o=s}};function yp(s,u,p,y,C,k,N,V,X){Ta=!1,_o=null,gp.apply(vp,arguments)}function xp(s,u,p,y,C,k,N,V,X){if(yp.apply(this,arguments),Ta){if(Ta){var se=_o;Ta=!1,_o=null}else throw Error(n(198));bo||(bo=!0,ml=se)}}function ri(s){var u=s,p=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(p=u.return),s=u.return;while(s)}return u.tag===3?p:null}function Ec(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function Ac(s){if(ri(s)!==s)throw Error(n(188))}function _p(s){var u=s.alternate;if(!u){if(u=ri(s),u===null)throw Error(n(188));return u!==s?null:s}for(var p=s,y=u;;){var C=p.return;if(C===null)break;var k=C.alternate;if(k===null){if(y=C.return,y!==null){p=y;continue}break}if(C.child===k.child){for(k=C.child;k;){if(k===p)return Ac(C),s;if(k===y)return Ac(C),u;k=k.sibling}throw Error(n(188))}if(p.return!==y.return)p=C,y=k;else{for(var N=!1,V=C.child;V;){if(V===p){N=!0,p=C,y=k;break}if(V===y){N=!0,y=C,p=k;break}V=V.sibling}if(!N){for(V=k.child;V;){if(V===p){N=!0,p=k,y=C;break}if(V===y){N=!0,y=k,p=C;break}V=V.sibling}if(!N)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?s:u}function Pc(s){return s=_p(s),s!==null?Oc(s):null}function Oc(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=Oc(s);if(u!==null)return u;s=s.sibling}return null}var Mc=e.unstable_scheduleCallback,Ic=e.unstable_cancelCallback,bp=e.unstable_shouldYield,wp=e.unstable_requestPaint,Bt=e.unstable_now,Sp=e.unstable_getCurrentPriorityLevel,gl=e.unstable_ImmediatePriority,Nc=e.unstable_UserBlockingPriority,ka=e.unstable_NormalPriority,Cp=e.unstable_LowPriority,Dc=e.unstable_IdlePriority,ii=null,sr=null;function Rc(s){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(ii,s,void 0,(s.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:$c,jc=Math.log,Tp=Math.LN2;function $c(s){return s>>>=0,s===0?32:31-(jc(s)/Tp|0)|0}var j=64,z=4194304;function U(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ne(s,u){var p=s.pendingLanes;if(p===0)return 0;var y=0,C=s.suspendedLanes,k=s.pingedLanes,N=p&268435455;if(N!==0){var V=N&~C;V!==0?y=U(V):(k&=N,k!==0&&(y=U(k)))}else N=p&~C,N!==0?y=U(N):k!==0&&(y=U(k));if(y===0)return 0;if(u!==0&&u!==y&&(u&C)===0&&(C=y&-y,k=u&-u,C>=k||C===16&&(k&4194240)!==0))return u;if((y&4)!==0&&(y|=p&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=y;0<u;)p=31-Jn(u),C=1<<p,y|=s[p],u&=~C;return y}function re(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ue(s,u){for(var p=s.suspendedLanes,y=s.pingedLanes,C=s.expirationTimes,k=s.pendingLanes;0<k;){var N=31-Jn(k),V=1<<N,X=C[N];X===-1?((V&p)===0||(V&y)!==0)&&(C[N]=re(V,u)):X<=u&&(s.expiredLanes|=V),k&=~V}}function Te(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function xe(){var s=j;return j<<=1,(j&4194240)===0&&(j=64),s}function Le(s){for(var u=[],p=0;31>p;p++)u.push(s);return u}function Se(s,u,p){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-Jn(u),s[u]=p}function Be(s,u){var p=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var y=s.eventTimes;for(s=s.expirationTimes;0<p;){var C=31-Jn(p),k=1<<C;u[C]=0,y[C]=-1,s[C]=-1,p&=~k}}function ot(s,u){var p=s.entangledLanes|=u;for(s=s.entanglements;p;){var y=31-Jn(p),C=1<<y;C&u|s[y]&u&&(s[y]|=u),p&=~C}}var Qe=0;function Fi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var wo,Ea,So,Co,To,Aa=!1,Tn=[],fn=null,Bn=null,lr=null,vl=new Map,yl=new Map,qi=[],Cj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pw(s,u){switch(s){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":vl.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(u.pointerId)}}function xl(s,u,p,y,C,k){return s===null||s.nativeEvent!==k?(s={blockedOn:u,domEventName:p,eventSystemFlags:y,nativeEvent:k,targetContainers:[C]},u!==null&&(u=Nl(u),u!==null&&Ea(u)),s):(s.eventSystemFlags|=y,u=s.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),s)}function Tj(s,u,p,y,C){switch(u){case"focusin":return fn=xl(fn,s,u,p,y,C),!0;case"dragenter":return Bn=xl(Bn,s,u,p,y,C),!0;case"mouseover":return lr=xl(lr,s,u,p,y,C),!0;case"pointerover":var k=C.pointerId;return vl.set(k,xl(vl.get(k)||null,s,u,p,y,C)),!0;case"gotpointercapture":return k=C.pointerId,yl.set(k,xl(yl.get(k)||null,s,u,p,y,C)),!0}return!1}function Ow(s){var u=Pa(s.target);if(u!==null){var p=ri(u);if(p!==null){if(u=p.tag,u===13){if(u=Ec(p),u!==null){s.blockedOn=u,To(s.priority,function(){So(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Lc(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var p=Ep(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var y=new p.constructor(p.type,p);dl=y,p.target.dispatchEvent(y),dl=null}else return u=Nl(p),u!==null&&Ea(u),s.blockedOn=p,!1;u.shift()}return!0}function Mw(s,u,p){Lc(s)&&p.delete(u)}function kj(){Aa=!1,fn!==null&&Lc(fn)&&(fn=null),Bn!==null&&Lc(Bn)&&(Bn=null),lr!==null&&Lc(lr)&&(lr=null),vl.forEach(Mw),yl.forEach(Mw)}function _l(s,u){s.blockedOn===u&&(s.blockedOn=null,Aa||(Aa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kj)))}function bl(s){function u(C){return _l(C,s)}if(0<Tn.length){_l(Tn[0],s);for(var p=1;p<Tn.length;p++){var y=Tn[p];y.blockedOn===s&&(y.blockedOn=null)}}for(fn!==null&&_l(fn,s),Bn!==null&&_l(Bn,s),lr!==null&&_l(lr,s),vl.forEach(u),yl.forEach(u),p=0;p<qi.length;p++)y=qi[p],y.blockedOn===s&&(y.blockedOn=null);for(;0<qi.length&&(p=qi[0],p.blockedOn===null);)Ow(p),p.blockedOn===null&&qi.shift()}var ko=M.ReactCurrentBatchConfig,Bc=!0;function Ej(s,u,p,y){var C=Qe,k=ko.transition;ko.transition=null;try{Qe=1,kp(s,u,p,y)}finally{Qe=C,ko.transition=k}}function Aj(s,u,p,y){var C=Qe,k=ko.transition;ko.transition=null;try{Qe=4,kp(s,u,p,y)}finally{Qe=C,ko.transition=k}}function kp(s,u,p,y){if(Bc){var C=Ep(s,u,p,y);if(C===null)zp(s,u,y,Fc,p),Pw(s,y);else if(Tj(C,s,u,p,y))y.stopPropagation();else if(Pw(s,y),u&4&&-1<Cj.indexOf(s)){for(;C!==null;){var k=Nl(C);if(k!==null&&wo(k),k=Ep(s,u,p,y),k===null&&zp(s,u,y,Fc,p),k===C)break;C=k}C!==null&&y.stopPropagation()}else zp(s,u,y,null,p)}}var Fc=null;function Ep(s,u,p,y){if(Fc=null,s=fl(y),s=Pa(s),s!==null)if(u=ri(s),u===null)s=null;else if(p=u.tag,p===13){if(s=Ec(u),s!==null)return s;s=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return Fc=s,null}function Iw(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sp()){case gl:return 1;case Nc:return 4;case ka:case Cp:return 16;case Dc:return 536870912;default:return 16}default:return 16}}var Ui=null,Ap=null,qc=null;function Nw(){if(qc)return qc;var s,u=Ap,p=u.length,y,C="value"in Ui?Ui.value:Ui.textContent,k=C.length;for(s=0;s<p&&u[s]===C[s];s++);var N=p-s;for(y=1;y<=N&&u[p-y]===C[k-y];y++);return qc=C.slice(s,1<y?1-y:void 0)}function Uc(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Vc(){return!0}function Dw(){return!1}function Xn(s){function u(p,y,C,k,N){this._reactName=p,this._targetInst=C,this.type=y,this.nativeEvent=k,this.target=N,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(p=s[V],this[V]=p?p(k):k[V]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Vc:Dw,this.isPropagationStopped=Dw,this}return ae(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Vc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Vc)},persist:function(){},isPersistent:Vc}),u}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pp=Xn(Eo),wl=ae({},Eo,{view:0,detail:0}),Pj=Xn(wl),Op,Mp,Sl,zc=ae({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Np,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Sl&&(Sl&&s.type==="mousemove"?(Op=s.screenX-Sl.screenX,Mp=s.screenY-Sl.screenY):Mp=Op=0,Sl=s),Op)},movementY:function(s){return"movementY"in s?s.movementY:Mp}}),Rw=Xn(zc),Oj=ae({},zc,{dataTransfer:0}),Mj=Xn(Oj),Ij=ae({},wl,{relatedTarget:0}),Ip=Xn(Ij),Nj=ae({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Dj=Xn(Nj),Rj=ae({},Eo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),jj=Xn(Rj),$j=ae({},Eo,{data:0}),jw=Xn($j),Lj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qj(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=Fj[s])?!!u[s]:!1}function Np(){return qj}var Uj=ae({},wl,{key:function(s){if(s.key){var u=Lj[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Uc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Bj[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Np,charCode:function(s){return s.type==="keypress"?Uc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Uc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Vj=Xn(Uj),zj=ae({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$w=Xn(zj),Gj=ae({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Np}),Hj=Xn(Gj),Wj=ae({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kj=Xn(Wj),Yj=ae({},zc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Jj=Xn(Yj),Xj=[9,13,27,32],Dp=l&&"CompositionEvent"in window,Cl=null;l&&"documentMode"in document&&(Cl=document.documentMode);var Zj=l&&"TextEvent"in window&&!Cl,Lw=l&&(!Dp||Cl&&8<Cl&&11>=Cl),Bw=" ",Fw=!1;function qw(s,u){switch(s){case"keyup":return Xj.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ao=!1;function Qj(s,u){switch(s){case"compositionend":return Uw(u);case"keypress":return u.which!==32?null:(Fw=!0,Bw);case"textInput":return s=u.data,s===Bw&&Fw?null:s;default:return null}}function e$(s,u){if(Ao)return s==="compositionend"||!Dp&&qw(s,u)?(s=Nw(),qc=Ap=Ui=null,Ao=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Lw&&u.locale!=="ko"?null:u.data;default:return null}}var t$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vw(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!t$[s.type]:u==="textarea"}function zw(s,u,p,y){Sc(y),u=Yc(u,"onChange"),0<u.length&&(p=new Pp("onChange","change",null,p,y),s.push({event:p,listeners:u}))}var Tl=null,kl=null;function n$(s){lS(s,0)}function Gc(s){var u=No(s);if(ce(u))return s}function r$(s,u){if(s==="change")return u}var Gw=!1;if(l){var Rp;if(l){var jp="oninput"in document;if(!jp){var Hw=document.createElement("div");Hw.setAttribute("oninput","return;"),jp=typeof Hw.oninput=="function"}Rp=jp}else Rp=!1;Gw=Rp&&(!document.documentMode||9<document.documentMode)}function Ww(){Tl&&(Tl.detachEvent("onpropertychange",Kw),kl=Tl=null)}function Kw(s){if(s.propertyName==="value"&&Gc(kl)){var u=[];zw(u,kl,s,fl(s)),Li(n$,u)}}function i$(s,u,p){s==="focusin"?(Ww(),Tl=u,kl=p,Tl.attachEvent("onpropertychange",Kw)):s==="focusout"&&Ww()}function a$(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Gc(kl)}function o$(s,u){if(s==="click")return Gc(u)}function s$(s,u){if(s==="input"||s==="change")return Gc(u)}function l$(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var Tr=typeof Object.is=="function"?Object.is:l$;function El(s,u){if(Tr(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var p=Object.keys(s),y=Object.keys(u);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var C=p[y];if(!c.call(u,C)||!Tr(s[C],u[C]))return!1}return!0}function Yw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Jw(s,u){var p=Yw(s);s=0;for(var y;p;){if(p.nodeType===3){if(y=s+p.textContent.length,s<=u&&y>=u)return{node:p,offset:u-s};s=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Yw(p)}}function Xw(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?Xw(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function Zw(){for(var s=window,u=xt();u instanceof s.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)s=u.contentWindow;else break;u=xt(s.document)}return u}function $p(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function u$(s){var u=Zw(),p=s.focusedElem,y=s.selectionRange;if(u!==p&&p&&p.ownerDocument&&Xw(p.ownerDocument.documentElement,p)){if(y!==null&&$p(p)){if(u=y.start,s=y.end,s===void 0&&(s=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(s,p.value.length);else if(s=(u=p.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var C=p.textContent.length,k=Math.min(y.start,C);y=y.end===void 0?k:Math.min(y.end,C),!s.extend&&k>y&&(C=y,y=k,k=C),C=Jw(p,k);var N=Jw(p,y);C&&N&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==N.node||s.focusOffset!==N.offset)&&(u=u.createRange(),u.setStart(C.node,C.offset),s.removeAllRanges(),k>y?(s.addRange(u),s.extend(N.node,N.offset)):(u.setEnd(N.node,N.offset),s.addRange(u)))}}for(u=[],s=p;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)s=u[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var c$=l&&"documentMode"in document&&11>=document.documentMode,Po=null,Lp=null,Al=null,Bp=!1;function Qw(s,u,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Bp||Po==null||Po!==xt(y)||(y=Po,"selectionStart"in y&&$p(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Al&&El(Al,y)||(Al=y,y=Yc(Lp,"onSelect"),0<y.length&&(u=new Pp("onSelect","select",null,u,p),s.push({event:u,listeners:y}),u.target=Po)))}function Hc(s,u){var p={};return p[s.toLowerCase()]=u.toLowerCase(),p["Webkit"+s]="webkit"+u,p["Moz"+s]="moz"+u,p}var Oo={animationend:Hc("Animation","AnimationEnd"),animationiteration:Hc("Animation","AnimationIteration"),animationstart:Hc("Animation","AnimationStart"),transitionend:Hc("Transition","TransitionEnd")},Fp={},eS={};l&&(eS=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Wc(s){if(Fp[s])return Fp[s];if(!Oo[s])return s;var u=Oo[s],p;for(p in u)if(u.hasOwnProperty(p)&&p in eS)return Fp[s]=u[p];return s}var tS=Wc("animationend"),nS=Wc("animationiteration"),rS=Wc("animationstart"),iS=Wc("transitionend"),aS=new Map,oS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(s,u){aS.set(s,u),a(u,[s])}for(var qp=0;qp<oS.length;qp++){var Up=oS[qp],d$=Up.toLowerCase(),f$=Up[0].toUpperCase()+Up.slice(1);Vi(d$,"on"+f$)}Vi(tS,"onAnimationEnd"),Vi(nS,"onAnimationIteration"),Vi(rS,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(iS,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function sS(s,u,p){var y=s.type||"unknown-event";s.currentTarget=p,xp(y,u,void 0,s),s.currentTarget=null}function lS(s,u){u=(u&4)!==0;for(var p=0;p<s.length;p++){var y=s[p],C=y.event;y=y.listeners;e:{var k=void 0;if(u)for(var N=y.length-1;0<=N;N--){var V=y[N],X=V.instance,se=V.currentTarget;if(V=V.listener,X!==k&&C.isPropagationStopped())break e;sS(C,V,se),k=X}else for(N=0;N<y.length;N++){if(V=y[N],X=V.instance,se=V.currentTarget,V=V.listener,X!==k&&C.isPropagationStopped())break e;sS(C,V,se),k=X}}}if(bo)throw s=ml,bo=!1,ml=null,s}function It(s,u){var p=u[Jp];p===void 0&&(p=u[Jp]=new Set);var y=s+"__bubble";p.has(y)||(uS(u,s,2,!1),p.add(y))}function Vp(s,u,p){var y=0;u&&(y|=4),uS(p,s,y,u)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function Ol(s){if(!s[Kc]){s[Kc]=!0,r.forEach(function(p){p!=="selectionchange"&&(h$.has(p)||Vp(p,!1,s),Vp(p,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[Kc]||(u[Kc]=!0,Vp("selectionchange",!1,u))}}function uS(s,u,p,y){switch(Iw(u)){case 1:var C=Ej;break;case 4:C=Aj;break;default:C=kp}p=C.bind(null,u,p,s),C=void 0,!Bi||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),y?C!==void 0?s.addEventListener(u,p,{capture:!0,passive:C}):s.addEventListener(u,p,!0):C!==void 0?s.addEventListener(u,p,{passive:C}):s.addEventListener(u,p,!1)}function zp(s,u,p,y,C){var k=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var N=y.tag;if(N===3||N===4){var V=y.stateNode.containerInfo;if(V===C||V.nodeType===8&&V.parentNode===C)break;if(N===4)for(N=y.return;N!==null;){var X=N.tag;if((X===3||X===4)&&(X=N.stateNode.containerInfo,X===C||X.nodeType===8&&X.parentNode===C))return;N=N.return}for(;V!==null;){if(N=Pa(V),N===null)return;if(X=N.tag,X===5||X===6){y=k=N;continue e}V=V.parentNode}}y=y.return}Li(function(){var se=k,pe=fl(p),ge=[];e:{var he=aS.get(s);if(he!==void 0){var Ae=Pp,Me=s;switch(s){case"keypress":if(Uc(p)===0)break e;case"keydown":case"keyup":Ae=Vj;break;case"focusin":Me="focus",Ae=Ip;break;case"focusout":Me="blur",Ae=Ip;break;case"beforeblur":case"afterblur":Ae=Ip;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=Rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=Mj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=Hj;break;case tS:case nS:case rS:Ae=Dj;break;case iS:Ae=Kj;break;case"scroll":Ae=Pj;break;case"wheel":Ae=Jj;break;case"copy":case"cut":case"paste":Ae=jj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=$w}var De=(u&4)!==0,Gt=!De&&s==="scroll",ie=De?he!==null?he+"Capture":null:he;De=[];for(var ee=se,oe;ee!==null;){oe=ee;var be=oe.stateNode;if(oe.tag===5&&be!==null&&(oe=be,ie!==null&&(be=ni(ee,ie),be!=null&&De.push(Ml(ee,be,oe)))),Gt)break;ee=ee.return}0<De.length&&(he=new Ae(he,Me,null,p,pe),ge.push({event:he,listeners:De}))}}if((u&7)===0){e:{if(he=s==="mouseover"||s==="pointerover",Ae=s==="mouseout"||s==="pointerout",he&&p!==dl&&(Me=p.relatedTarget||p.fromElement)&&(Pa(Me)||Me[ai]))break e;if((Ae||he)&&(he=pe.window===pe?pe:(he=pe.ownerDocument)?he.defaultView||he.parentWindow:window,Ae?(Me=p.relatedTarget||p.toElement,Ae=se,Me=Me?Pa(Me):null,Me!==null&&(Gt=ri(Me),Me!==Gt||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Ae=null,Me=se),Ae!==Me)){if(De=Rw,be="onMouseLeave",ie="onMouseEnter",ee="mouse",(s==="pointerout"||s==="pointerover")&&(De=$w,be="onPointerLeave",ie="onPointerEnter",ee="pointer"),Gt=Ae==null?he:No(Ae),oe=Me==null?he:No(Me),he=new De(be,ee+"leave",Ae,p,pe),he.target=Gt,he.relatedTarget=oe,be=null,Pa(pe)===se&&(De=new De(ie,ee+"enter",Me,p,pe),De.target=oe,De.relatedTarget=Gt,be=De),Gt=be,Ae&&Me)t:{for(De=Ae,ie=Me,ee=0,oe=De;oe;oe=Mo(oe))ee++;for(oe=0,be=ie;be;be=Mo(be))oe++;for(;0<ee-oe;)De=Mo(De),ee--;for(;0<oe-ee;)ie=Mo(ie),oe--;for(;ee--;){if(De===ie||ie!==null&&De===ie.alternate)break t;De=Mo(De),ie=Mo(ie)}De=null}else De=null;Ae!==null&&cS(ge,he,Ae,De,!1),Me!==null&&Gt!==null&&cS(ge,Gt,Me,De,!0)}}e:{if(he=se?No(se):window,Ae=he.nodeName&&he.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&he.type==="file")var Re=r$;else if(Vw(he))if(Gw)Re=s$;else{Re=a$;var qe=i$}else(Ae=he.nodeName)&&Ae.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Re=o$);if(Re&&(Re=Re(s,se))){zw(ge,Re,p,pe);break e}qe&&qe(s,he,se),s==="focusout"&&(qe=he._wrapperState)&&qe.controlled&&he.type==="number"&&Cn(he,"number",he.value)}switch(qe=se?No(se):window,s){case"focusin":(Vw(qe)||qe.contentEditable==="true")&&(Po=qe,Lp=se,Al=null);break;case"focusout":Al=Lp=Po=null;break;case"mousedown":Bp=!0;break;case"contextmenu":case"mouseup":case"dragend":Bp=!1,Qw(ge,p,pe);break;case"selectionchange":if(c$)break;case"keydown":case"keyup":Qw(ge,p,pe)}var Ue;if(Dp)e:{switch(s){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Ao?qw(s,p)&&(Ke="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Ke="onCompositionStart");Ke&&(Lw&&p.locale!=="ko"&&(Ao||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Ao&&(Ue=Nw()):(Ui=pe,Ap="value"in Ui?Ui.value:Ui.textContent,Ao=!0)),qe=Yc(se,Ke),0<qe.length&&(Ke=new jw(Ke,s,null,p,pe),ge.push({event:Ke,listeners:qe}),Ue?Ke.data=Ue:(Ue=Uw(p),Ue!==null&&(Ke.data=Ue)))),(Ue=Zj?Qj(s,p):e$(s,p))&&(se=Yc(se,"onBeforeInput"),0<se.length&&(pe=new jw("onBeforeInput","beforeinput",null,p,pe),ge.push({event:pe,listeners:se}),pe.data=Ue))}lS(ge,u)})}function Ml(s,u,p){return{instance:s,listener:u,currentTarget:p}}function Yc(s,u){for(var p=u+"Capture",y=[];s!==null;){var C=s,k=C.stateNode;C.tag===5&&k!==null&&(C=k,k=ni(s,p),k!=null&&y.unshift(Ml(s,k,C)),k=ni(s,u),k!=null&&y.push(Ml(s,k,C))),s=s.return}return y}function Mo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function cS(s,u,p,y,C){for(var k=u._reactName,N=[];p!==null&&p!==y;){var V=p,X=V.alternate,se=V.stateNode;if(X!==null&&X===y)break;V.tag===5&&se!==null&&(V=se,C?(X=ni(p,k),X!=null&&N.unshift(Ml(p,X,V))):C||(X=ni(p,k),X!=null&&N.push(Ml(p,X,V)))),p=p.return}N.length!==0&&s.push({event:u,listeners:N})}var p$=/\r\n?/g,m$=/\u0000|\uFFFD/g;function dS(s){return(typeof s=="string"?s:""+s).replace(p$,`
`).replace(m$,"")}function Jc(s,u,p){if(u=dS(u),dS(s)!==u&&p)throw Error(n(425))}function Xc(){}var Gp=null,Hp=null;function Wp(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Kp=typeof setTimeout=="function"?setTimeout:void 0,g$=typeof clearTimeout=="function"?clearTimeout:void 0,fS=typeof Promise=="function"?Promise:void 0,v$=typeof queueMicrotask=="function"?queueMicrotask:typeof fS<"u"?function(s){return fS.resolve(null).then(s).catch(y$)}:Kp;function y$(s){setTimeout(function(){throw s})}function Yp(s,u){var p=u,y=0;do{var C=p.nextSibling;if(s.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(y===0){s.removeChild(C),bl(u);return}y--}else p!=="$"&&p!=="$?"&&p!=="$!"||y++;p=C}while(p);bl(u)}function zi(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function hS(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return s;u--}else p==="/$"&&u++}s=s.previousSibling}return null}var Io=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Io,Il="__reactProps$"+Io,ai="__reactContainer$"+Io,Jp="__reactEvents$"+Io,x$="__reactListeners$"+Io,_$="__reactHandles$"+Io;function Pa(s){var u=s[Fr];if(u)return u;for(var p=s.parentNode;p;){if(u=p[ai]||p[Fr]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(s=hS(s);s!==null;){if(p=s[Fr])return p;s=hS(s)}return u}s=p,p=s.parentNode}return null}function Nl(s){return s=s[Fr]||s[ai],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function No(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Zc(s){return s[Il]||null}var Xp=[],Do=-1;function Gi(s){return{current:s}}function Nt(s){0>Do||(s.current=Xp[Do],Xp[Do]=null,Do--)}function Tt(s,u){Do++,Xp[Do]=s.current,s.current=u}var Hi={},vn=Gi(Hi),Fn=Gi(!1),Oa=Hi;function Ro(s,u){var p=s.type.contextTypes;if(!p)return Hi;var y=s.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var C={},k;for(k in p)C[k]=u[k];return y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=C),C}function qn(s){return s=s.childContextTypes,s!=null}function Qc(){Nt(Fn),Nt(vn)}function pS(s,u,p){if(vn.current!==Hi)throw Error(n(168));Tt(vn,u),Tt(Fn,p)}function mS(s,u,p){var y=s.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return p;y=y.getChildContext();for(var C in y)if(!(C in u))throw Error(n(108,nt(s)||"Unknown",C));return ae({},p,y)}function ed(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hi,Oa=vn.current,Tt(vn,s),Tt(Fn,Fn.current),!0}function gS(s,u,p){var y=s.stateNode;if(!y)throw Error(n(169));p?(s=mS(s,u,Oa),y.__reactInternalMemoizedMergedChildContext=s,Nt(Fn),Nt(vn),Tt(vn,s)):Nt(Fn),Tt(Fn,p)}var oi=null,td=!1,Zp=!1;function vS(s){oi===null?oi=[s]:oi.push(s)}function b$(s){td=!0,vS(s)}function Wi(){if(!Zp&&oi!==null){Zp=!0;var s=0,u=Qe;try{var p=oi;for(Qe=1;s<p.length;s++){var y=p[s];do y=y(!0);while(y!==null)}oi=null,td=!1}catch(C){throw oi!==null&&(oi=oi.slice(s+1)),Mc(gl,Wi),C}finally{Qe=u,Zp=!1}}return null}var jo=[],$o=0,nd=null,rd=0,ur=[],cr=0,Ma=null,si=1,li="";function Ia(s,u){jo[$o++]=rd,jo[$o++]=nd,nd=s,rd=u}function yS(s,u,p){ur[cr++]=si,ur[cr++]=li,ur[cr++]=Ma,Ma=s;var y=si;s=li;var C=32-Jn(y)-1;y&=~(1<<C),p+=1;var k=32-Jn(u)+C;if(30<k){var N=C-C%5;k=(y&(1<<N)-1).toString(32),y>>=N,C-=N,si=1<<32-Jn(u)+C|p<<C|y,li=k+s}else si=1<<k|p<<C|y,li=s}function Qp(s){s.return!==null&&(Ia(s,1),yS(s,1,0))}function em(s){for(;s===nd;)nd=jo[--$o],jo[$o]=null,rd=jo[--$o],jo[$o]=null;for(;s===Ma;)Ma=ur[--cr],ur[cr]=null,li=ur[--cr],ur[cr]=null,si=ur[--cr],ur[cr]=null}var Zn=null,Qn=null,$t=!1,kr=null;function xS(s,u){var p=pr(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=s,u=s.deletions,u===null?(s.deletions=[p],s.flags|=16):u.push(p)}function _S(s,u){switch(s.tag){case 5:var p=s.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,Zn=s,Qn=zi(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,Zn=s,Qn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=Ma!==null?{id:si,overflow:li}:null,s.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=pr(18,null,null,0),p.stateNode=u,p.return=s,s.child=p,Zn=s,Qn=null,!0):!1;default:return!1}}function tm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function nm(s){if($t){var u=Qn;if(u){var p=u;if(!_S(s,u)){if(tm(s))throw Error(n(418));u=zi(p.nextSibling);var y=Zn;u&&_S(s,u)?xS(y,p):(s.flags=s.flags&-4097|2,$t=!1,Zn=s)}}else{if(tm(s))throw Error(n(418));s.flags=s.flags&-4097|2,$t=!1,Zn=s}}}function bS(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Zn=s}function id(s){if(s!==Zn)return!1;if(!$t)return bS(s),$t=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!Wp(s.type,s.memoizedProps)),u&&(u=Qn)){if(tm(s))throw wS(),Error(n(418));for(;u;)xS(s,u),u=zi(u.nextSibling)}if(bS(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(u===0){Qn=zi(s.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}s=s.nextSibling}Qn=null}}else Qn=Zn?zi(s.stateNode.nextSibling):null;return!0}function wS(){for(var s=Qn;s;)s=zi(s.nextSibling)}function Lo(){Qn=Zn=null,$t=!1}function rm(s){kr===null?kr=[s]:kr.push(s)}var w$=M.ReactCurrentBatchConfig;function Dl(s,u,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var y=p.stateNode}if(!y)throw Error(n(147,s));var C=y,k=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===k?u.ref:(u=function(N){var V=C.refs;N===null?delete V[k]:V[k]=N},u._stringRef=k,u)}if(typeof s!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,s))}return s}function ad(s,u){throw s=Object.prototype.toString.call(u),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function SS(s){var u=s._init;return u(s._payload)}function CS(s){function u(ie,ee){if(s){var oe=ie.deletions;oe===null?(ie.deletions=[ee],ie.flags|=16):oe.push(ee)}}function p(ie,ee){if(!s)return null;for(;ee!==null;)u(ie,ee),ee=ee.sibling;return null}function y(ie,ee){for(ie=new Map;ee!==null;)ee.key!==null?ie.set(ee.key,ee):ie.set(ee.index,ee),ee=ee.sibling;return ie}function C(ie,ee){return ie=ta(ie,ee),ie.index=0,ie.sibling=null,ie}function k(ie,ee,oe){return ie.index=oe,s?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<ee?(ie.flags|=2,ee):oe):(ie.flags|=2,ee)):(ie.flags|=1048576,ee)}function N(ie){return s&&ie.alternate===null&&(ie.flags|=2),ie}function V(ie,ee,oe,be){return ee===null||ee.tag!==6?(ee=Km(oe,ie.mode,be),ee.return=ie,ee):(ee=C(ee,oe),ee.return=ie,ee)}function X(ie,ee,oe,be){var Re=oe.type;return Re===I?pe(ie,ee,oe.props.children,be,oe.key):ee!==null&&(ee.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Z&&SS(Re)===ee.type)?(be=C(ee,oe.props),be.ref=Dl(ie,ee,oe),be.return=ie,be):(be=Pd(oe.type,oe.key,oe.props,null,ie.mode,be),be.ref=Dl(ie,ee,oe),be.return=ie,be)}function se(ie,ee,oe,be){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==oe.containerInfo||ee.stateNode.implementation!==oe.implementation?(ee=Ym(oe,ie.mode,be),ee.return=ie,ee):(ee=C(ee,oe.children||[]),ee.return=ie,ee)}function pe(ie,ee,oe,be,Re){return ee===null||ee.tag!==7?(ee=Fa(oe,ie.mode,be,Re),ee.return=ie,ee):(ee=C(ee,oe),ee.return=ie,ee)}function ge(ie,ee,oe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Km(""+ee,ie.mode,oe),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return oe=Pd(ee.type,ee.key,ee.props,null,ie.mode,oe),oe.ref=Dl(ie,null,ee),oe.return=ie,oe;case P:return ee=Ym(ee,ie.mode,oe),ee.return=ie,ee;case Z:var be=ee._init;return ge(ie,be(ee._payload),oe)}if(or(ee)||te(ee))return ee=Fa(ee,ie.mode,oe,null),ee.return=ie,ee;ad(ie,ee)}return null}function he(ie,ee,oe,be){var Re=ee!==null?ee.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Re!==null?null:V(ie,ee,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case E:return oe.key===Re?X(ie,ee,oe,be):null;case P:return oe.key===Re?se(ie,ee,oe,be):null;case Z:return Re=oe._init,he(ie,ee,Re(oe._payload),be)}if(or(oe)||te(oe))return Re!==null?null:pe(ie,ee,oe,be,null);ad(ie,oe)}return null}function Ae(ie,ee,oe,be,Re){if(typeof be=="string"&&be!==""||typeof be=="number")return ie=ie.get(oe)||null,V(ee,ie,""+be,Re);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case E:return ie=ie.get(be.key===null?oe:be.key)||null,X(ee,ie,be,Re);case P:return ie=ie.get(be.key===null?oe:be.key)||null,se(ee,ie,be,Re);case Z:var qe=be._init;return Ae(ie,ee,oe,qe(be._payload),Re)}if(or(be)||te(be))return ie=ie.get(oe)||null,pe(ee,ie,be,Re,null);ad(ee,be)}return null}function Me(ie,ee,oe,be){for(var Re=null,qe=null,Ue=ee,Ke=ee=0,an=null;Ue!==null&&Ke<oe.length;Ke++){Ue.index>Ke?(an=Ue,Ue=null):an=Ue.sibling;var ft=he(ie,Ue,oe[Ke],be);if(ft===null){Ue===null&&(Ue=an);break}s&&Ue&&ft.alternate===null&&u(ie,Ue),ee=k(ft,ee,Ke),qe===null?Re=ft:qe.sibling=ft,qe=ft,Ue=an}if(Ke===oe.length)return p(ie,Ue),$t&&Ia(ie,Ke),Re;if(Ue===null){for(;Ke<oe.length;Ke++)Ue=ge(ie,oe[Ke],be),Ue!==null&&(ee=k(Ue,ee,Ke),qe===null?Re=Ue:qe.sibling=Ue,qe=Ue);return $t&&Ia(ie,Ke),Re}for(Ue=y(ie,Ue);Ke<oe.length;Ke++)an=Ae(Ue,ie,Ke,oe[Ke],be),an!==null&&(s&&an.alternate!==null&&Ue.delete(an.key===null?Ke:an.key),ee=k(an,ee,Ke),qe===null?Re=an:qe.sibling=an,qe=an);return s&&Ue.forEach(function(na){return u(ie,na)}),$t&&Ia(ie,Ke),Re}function De(ie,ee,oe,be){var Re=te(oe);if(typeof Re!="function")throw Error(n(150));if(oe=Re.call(oe),oe==null)throw Error(n(151));for(var qe=Re=null,Ue=ee,Ke=ee=0,an=null,ft=oe.next();Ue!==null&&!ft.done;Ke++,ft=oe.next()){Ue.index>Ke?(an=Ue,Ue=null):an=Ue.sibling;var na=he(ie,Ue,ft.value,be);if(na===null){Ue===null&&(Ue=an);break}s&&Ue&&na.alternate===null&&u(ie,Ue),ee=k(na,ee,Ke),qe===null?Re=na:qe.sibling=na,qe=na,Ue=an}if(ft.done)return p(ie,Ue),$t&&Ia(ie,Ke),Re;if(Ue===null){for(;!ft.done;Ke++,ft=oe.next())ft=ge(ie,ft.value,be),ft!==null&&(ee=k(ft,ee,Ke),qe===null?Re=ft:qe.sibling=ft,qe=ft);return $t&&Ia(ie,Ke),Re}for(Ue=y(ie,Ue);!ft.done;Ke++,ft=oe.next())ft=Ae(Ue,ie,Ke,ft.value,be),ft!==null&&(s&&ft.alternate!==null&&Ue.delete(ft.key===null?Ke:ft.key),ee=k(ft,ee,Ke),qe===null?Re=ft:qe.sibling=ft,qe=ft);return s&&Ue.forEach(function(tL){return u(ie,tL)}),$t&&Ia(ie,Ke),Re}function Gt(ie,ee,oe,be){if(typeof oe=="object"&&oe!==null&&oe.type===I&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case E:e:{for(var Re=oe.key,qe=ee;qe!==null;){if(qe.key===Re){if(Re=oe.type,Re===I){if(qe.tag===7){p(ie,qe.sibling),ee=C(qe,oe.props.children),ee.return=ie,ie=ee;break e}}else if(qe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Z&&SS(Re)===qe.type){p(ie,qe.sibling),ee=C(qe,oe.props),ee.ref=Dl(ie,qe,oe),ee.return=ie,ie=ee;break e}p(ie,qe);break}else u(ie,qe);qe=qe.sibling}oe.type===I?(ee=Fa(oe.props.children,ie.mode,be,oe.key),ee.return=ie,ie=ee):(be=Pd(oe.type,oe.key,oe.props,null,ie.mode,be),be.ref=Dl(ie,ee,oe),be.return=ie,ie=be)}return N(ie);case P:e:{for(qe=oe.key;ee!==null;){if(ee.key===qe)if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){p(ie,ee.sibling),ee=C(ee,oe.children||[]),ee.return=ie,ie=ee;break e}else{p(ie,ee);break}else u(ie,ee);ee=ee.sibling}ee=Ym(oe,ie.mode,be),ee.return=ie,ie=ee}return N(ie);case Z:return qe=oe._init,Gt(ie,ee,qe(oe._payload),be)}if(or(oe))return Me(ie,ee,oe,be);if(te(oe))return De(ie,ee,oe,be);ad(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,ee!==null&&ee.tag===6?(p(ie,ee.sibling),ee=C(ee,oe),ee.return=ie,ie=ee):(p(ie,ee),ee=Km(oe,ie.mode,be),ee.return=ie,ie=ee),N(ie)):p(ie,ee)}return Gt}var Bo=CS(!0),TS=CS(!1),od=Gi(null),sd=null,Fo=null,im=null;function am(){im=Fo=sd=null}function om(s){var u=od.current;Nt(od),s._currentValue=u}function sm(s,u,p){for(;s!==null;){var y=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),s===p)break;s=s.return}}function qo(s,u){sd=s,im=Fo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&u)!==0&&(Un=!0),s.firstContext=null)}function dr(s){var u=s._currentValue;if(im!==s)if(s={context:s,memoizedValue:u,next:null},Fo===null){if(sd===null)throw Error(n(308));Fo=s,sd.dependencies={lanes:0,firstContext:s}}else Fo=Fo.next=s;return u}var Na=null;function lm(s){Na===null?Na=[s]:Na.push(s)}function kS(s,u,p,y){var C=u.interleaved;return C===null?(p.next=p,lm(u)):(p.next=C.next,C.next=p),u.interleaved=p,ui(s,y)}function ui(s,u){s.lanes|=u;var p=s.alternate;for(p!==null&&(p.lanes|=u),p=s,s=s.return;s!==null;)s.childLanes|=u,p=s.alternate,p!==null&&(p.childLanes|=u),p=s,s=s.return;return p.tag===3?p.stateNode:null}var Ki=!1;function um(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ES(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ci(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function Yi(s,u,p){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(dt&2)!==0){var C=y.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),y.pending=u,ui(s,p)}return C=y.interleaved,C===null?(u.next=u,lm(y)):(u.next=C.next,C.next=u),y.interleaved=u,ui(s,p)}function ld(s,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var y=u.lanes;y&=s.pendingLanes,p|=y,u.lanes=p,ot(s,p)}}function AS(s,u){var p=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var C=null,k=null;if(p=p.firstBaseUpdate,p!==null){do{var N={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};k===null?C=k=N:k=k.next=N,p=p.next}while(p!==null);k===null?C=k=u:k=k.next=u}else C=k=u;p={baseState:y.baseState,firstBaseUpdate:C,lastBaseUpdate:k,shared:y.shared,effects:y.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=u:s.next=u,p.lastBaseUpdate=u}function ud(s,u,p,y){var C=s.updateQueue;Ki=!1;var k=C.firstBaseUpdate,N=C.lastBaseUpdate,V=C.shared.pending;if(V!==null){C.shared.pending=null;var X=V,se=X.next;X.next=null,N===null?k=se:N.next=se,N=X;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,V=pe.lastBaseUpdate,V!==N&&(V===null?pe.firstBaseUpdate=se:V.next=se,pe.lastBaseUpdate=X))}if(k!==null){var ge=C.baseState;N=0,pe=se=X=null,V=k;do{var he=V.lane,Ae=V.eventTime;if((y&he)===he){pe!==null&&(pe=pe.next={eventTime:Ae,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Me=s,De=V;switch(he=u,Ae=p,De.tag){case 1:if(Me=De.payload,typeof Me=="function"){ge=Me.call(Ae,ge,he);break e}ge=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=De.payload,he=typeof Me=="function"?Me.call(Ae,ge,he):Me,he==null)break e;ge=ae({},ge,he);break e;case 2:Ki=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,he=C.effects,he===null?C.effects=[V]:he.push(V))}else Ae={eventTime:Ae,lane:he,tag:V.tag,payload:V.payload,callback:V.callback,next:null},pe===null?(se=pe=Ae,X=ge):pe=pe.next=Ae,N|=he;if(V=V.next,V===null){if(V=C.shared.pending,V===null)break;he=V,V=he.next,he.next=null,C.lastBaseUpdate=he,C.shared.pending=null}}while(!0);if(pe===null&&(X=ge),C.baseState=X,C.firstBaseUpdate=se,C.lastBaseUpdate=pe,u=C.shared.interleaved,u!==null){C=u;do N|=C.lane,C=C.next;while(C!==u)}else k===null&&(C.shared.lanes=0);ja|=N,s.lanes=N,s.memoizedState=ge}}function PS(s,u,p){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var y=s[u],C=y.callback;if(C!==null){if(y.callback=null,y=p,typeof C!="function")throw Error(n(191,C));C.call(y)}}}var Rl={},qr=Gi(Rl),jl=Gi(Rl),$l=Gi(Rl);function Da(s){if(s===Rl)throw Error(n(174));return s}function cm(s,u){switch(Tt($l,u),Tt(jl,s),Tt(qr,Rl),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ht(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=Ht(u,s)}Nt(qr),Tt(qr,u)}function Uo(){Nt(qr),Nt(jl),Nt($l)}function OS(s){Da($l.current);var u=Da(qr.current),p=Ht(u,s.type);u!==p&&(Tt(jl,s),Tt(qr,p))}function dm(s){jl.current===s&&(Nt(qr),Nt(jl))}var Ft=Gi(0);function cd(s){for(var u=s;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var fm=[];function hm(){for(var s=0;s<fm.length;s++)fm[s]._workInProgressVersionPrimary=null;fm.length=0}var dd=M.ReactCurrentDispatcher,pm=M.ReactCurrentBatchConfig,Ra=0,qt=null,Xt=null,nn=null,fd=!1,Ll=!1,Bl=0,S$=0;function yn(){throw Error(n(321))}function mm(s,u){if(u===null)return!1;for(var p=0;p<u.length&&p<s.length;p++)if(!Tr(s[p],u[p]))return!1;return!0}function gm(s,u,p,y,C,k){if(Ra=k,qt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,dd.current=s===null||s.memoizedState===null?E$:A$,s=p(y,C),Ll){k=0;do{if(Ll=!1,Bl=0,25<=k)throw Error(n(301));k+=1,nn=Xt=null,u.updateQueue=null,dd.current=P$,s=p(y,C)}while(Ll)}if(dd.current=md,u=Xt!==null&&Xt.next!==null,Ra=0,nn=Xt=qt=null,fd=!1,u)throw Error(n(300));return s}function vm(){var s=Bl!==0;return Bl=0,s}function Ur(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?qt.memoizedState=nn=s:nn=nn.next=s,nn}function fr(){if(Xt===null){var s=qt.alternate;s=s!==null?s.memoizedState:null}else s=Xt.next;var u=nn===null?qt.memoizedState:nn.next;if(u!==null)nn=u,Xt=s;else{if(s===null)throw Error(n(310));Xt=s,s={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},nn===null?qt.memoizedState=nn=s:nn=nn.next=s}return nn}function Fl(s,u){return typeof u=="function"?u(s):u}function ym(s){var u=fr(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var y=Xt,C=y.baseQueue,k=p.pending;if(k!==null){if(C!==null){var N=C.next;C.next=k.next,k.next=N}y.baseQueue=C=k,p.pending=null}if(C!==null){k=C.next,y=y.baseState;var V=N=null,X=null,se=k;do{var pe=se.lane;if((Ra&pe)===pe)X!==null&&(X=X.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),y=se.hasEagerState?se.eagerState:s(y,se.action);else{var ge={lane:pe,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};X===null?(V=X=ge,N=y):X=X.next=ge,qt.lanes|=pe,ja|=pe}se=se.next}while(se!==null&&se!==k);X===null?N=y:X.next=V,Tr(y,u.memoizedState)||(Un=!0),u.memoizedState=y,u.baseState=N,u.baseQueue=X,p.lastRenderedState=y}if(s=p.interleaved,s!==null){C=s;do k=C.lane,qt.lanes|=k,ja|=k,C=C.next;while(C!==s)}else C===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function xm(s){var u=fr(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var y=p.dispatch,C=p.pending,k=u.memoizedState;if(C!==null){p.pending=null;var N=C=C.next;do k=s(k,N.action),N=N.next;while(N!==C);Tr(k,u.memoizedState)||(Un=!0),u.memoizedState=k,u.baseQueue===null&&(u.baseState=k),p.lastRenderedState=k}return[k,y]}function MS(){}function IS(s,u){var p=qt,y=fr(),C=u(),k=!Tr(y.memoizedState,C);if(k&&(y.memoizedState=C,Un=!0),y=y.queue,_m(RS.bind(null,p,y,s),[s]),y.getSnapshot!==u||k||nn!==null&&nn.memoizedState.tag&1){if(p.flags|=2048,ql(9,DS.bind(null,p,y,C,u),void 0,null),rn===null)throw Error(n(349));(Ra&30)!==0||NS(p,u,C)}return C}function NS(s,u,p){s.flags|=16384,s={getSnapshot:u,value:p},u=qt.updateQueue,u===null?(u={lastEffect:null,stores:null},qt.updateQueue=u,u.stores=[s]):(p=u.stores,p===null?u.stores=[s]:p.push(s))}function DS(s,u,p,y){u.value=p,u.getSnapshot=y,jS(u)&&$S(s)}function RS(s,u,p){return p(function(){jS(u)&&$S(s)})}function jS(s){var u=s.getSnapshot;s=s.value;try{var p=u();return!Tr(s,p)}catch{return!0}}function $S(s){var u=ui(s,1);u!==null&&Or(u,s,1,-1)}function LS(s){var u=Ur();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:s},u.queue=s,s=s.dispatch=k$.bind(null,qt,s),[u.memoizedState,s]}function ql(s,u,p,y){return s={tag:s,create:u,destroy:p,deps:y,next:null},u=qt.updateQueue,u===null?(u={lastEffect:null,stores:null},qt.updateQueue=u,u.lastEffect=s.next=s):(p=u.lastEffect,p===null?u.lastEffect=s.next=s:(y=p.next,p.next=s,s.next=y,u.lastEffect=s)),s}function BS(){return fr().memoizedState}function hd(s,u,p,y){var C=Ur();qt.flags|=s,C.memoizedState=ql(1|u,p,void 0,y===void 0?null:y)}function pd(s,u,p,y){var C=fr();y=y===void 0?null:y;var k=void 0;if(Xt!==null){var N=Xt.memoizedState;if(k=N.destroy,y!==null&&mm(y,N.deps)){C.memoizedState=ql(u,p,k,y);return}}qt.flags|=s,C.memoizedState=ql(1|u,p,k,y)}function FS(s,u){return hd(8390656,8,s,u)}function _m(s,u){return pd(2048,8,s,u)}function qS(s,u){return pd(4,2,s,u)}function US(s,u){return pd(4,4,s,u)}function VS(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function zS(s,u,p){return p=p!=null?p.concat([s]):null,pd(4,4,VS.bind(null,u,s),p)}function bm(){}function GS(s,u){var p=fr();u=u===void 0?null:u;var y=p.memoizedState;return y!==null&&u!==null&&mm(u,y[1])?y[0]:(p.memoizedState=[s,u],s)}function HS(s,u){var p=fr();u=u===void 0?null:u;var y=p.memoizedState;return y!==null&&u!==null&&mm(u,y[1])?y[0]:(s=s(),p.memoizedState=[s,u],s)}function WS(s,u,p){return(Ra&21)===0?(s.baseState&&(s.baseState=!1,Un=!0),s.memoizedState=p):(Tr(p,u)||(p=xe(),qt.lanes|=p,ja|=p,s.baseState=!0),u)}function C$(s,u){var p=Qe;Qe=p!==0&&4>p?p:4,s(!0);var y=pm.transition;pm.transition={};try{s(!1),u()}finally{Qe=p,pm.transition=y}}function KS(){return fr().memoizedState}function T$(s,u,p){var y=Qi(s);if(p={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null},YS(s))JS(u,p);else if(p=kS(s,u,p,y),p!==null){var C=En();Or(p,s,y,C),XS(p,u,y)}}function k$(s,u,p){var y=Qi(s),C={lane:y,action:p,hasEagerState:!1,eagerState:null,next:null};if(YS(s))JS(u,C);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=u.lastRenderedReducer,k!==null))try{var N=u.lastRenderedState,V=k(N,p);if(C.hasEagerState=!0,C.eagerState=V,Tr(V,N)){var X=u.interleaved;X===null?(C.next=C,lm(u)):(C.next=X.next,X.next=C),u.interleaved=C;return}}catch{}finally{}p=kS(s,u,C,y),p!==null&&(C=En(),Or(p,s,y,C),XS(p,u,y))}}function YS(s){var u=s.alternate;return s===qt||u!==null&&u===qt}function JS(s,u){Ll=fd=!0;var p=s.pending;p===null?u.next=u:(u.next=p.next,p.next=u),s.pending=u}function XS(s,u,p){if((p&4194240)!==0){var y=u.lanes;y&=s.pendingLanes,p|=y,u.lanes=p,ot(s,p)}}var md={readContext:dr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},E$={readContext:dr,useCallback:function(s,u){return Ur().memoizedState=[s,u===void 0?null:u],s},useContext:dr,useEffect:FS,useImperativeHandle:function(s,u,p){return p=p!=null?p.concat([s]):null,hd(4194308,4,VS.bind(null,u,s),p)},useLayoutEffect:function(s,u){return hd(4194308,4,s,u)},useInsertionEffect:function(s,u){return hd(4,2,s,u)},useMemo:function(s,u){var p=Ur();return u=u===void 0?null:u,s=s(),p.memoizedState=[s,u],s},useReducer:function(s,u,p){var y=Ur();return u=p!==void 0?p(u):u,y.memoizedState=y.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},y.queue=s,s=s.dispatch=T$.bind(null,qt,s),[y.memoizedState,s]},useRef:function(s){var u=Ur();return s={current:s},u.memoizedState=s},useState:LS,useDebugValue:bm,useDeferredValue:function(s){return Ur().memoizedState=s},useTransition:function(){var s=LS(!1),u=s[0];return s=C$.bind(null,s[1]),Ur().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,p){var y=qt,C=Ur();if($t){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),rn===null)throw Error(n(349));(Ra&30)!==0||NS(y,u,p)}C.memoizedState=p;var k={value:p,getSnapshot:u};return C.queue=k,FS(RS.bind(null,y,k,s),[s]),y.flags|=2048,ql(9,DS.bind(null,y,k,p,u),void 0,null),p},useId:function(){var s=Ur(),u=rn.identifierPrefix;if($t){var p=li,y=si;p=(y&~(1<<32-Jn(y)-1)).toString(32)+p,u=":"+u+"R"+p,p=Bl++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=S$++,u=":"+u+"r"+p.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},A$={readContext:dr,useCallback:GS,useContext:dr,useEffect:_m,useImperativeHandle:zS,useInsertionEffect:qS,useLayoutEffect:US,useMemo:HS,useReducer:ym,useRef:BS,useState:function(){return ym(Fl)},useDebugValue:bm,useDeferredValue:function(s){var u=fr();return WS(u,Xt.memoizedState,s)},useTransition:function(){var s=ym(Fl)[0],u=fr().memoizedState;return[s,u]},useMutableSource:MS,useSyncExternalStore:IS,useId:KS,unstable_isNewReconciler:!1},P$={readContext:dr,useCallback:GS,useContext:dr,useEffect:_m,useImperativeHandle:zS,useInsertionEffect:qS,useLayoutEffect:US,useMemo:HS,useReducer:xm,useRef:BS,useState:function(){return xm(Fl)},useDebugValue:bm,useDeferredValue:function(s){var u=fr();return Xt===null?u.memoizedState=s:WS(u,Xt.memoizedState,s)},useTransition:function(){var s=xm(Fl)[0],u=fr().memoizedState;return[s,u]},useMutableSource:MS,useSyncExternalStore:IS,useId:KS,unstable_isNewReconciler:!1};function Er(s,u){if(s&&s.defaultProps){u=ae({},u),s=s.defaultProps;for(var p in s)u[p]===void 0&&(u[p]=s[p]);return u}return u}function wm(s,u,p,y){u=s.memoizedState,p=p(y,u),p=p==null?u:ae({},u,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var gd={isMounted:function(s){return(s=s._reactInternals)?ri(s)===s:!1},enqueueSetState:function(s,u,p){s=s._reactInternals;var y=En(),C=Qi(s),k=ci(y,C);k.payload=u,p!=null&&(k.callback=p),u=Yi(s,k,C),u!==null&&(Or(u,s,C,y),ld(u,s,C))},enqueueReplaceState:function(s,u,p){s=s._reactInternals;var y=En(),C=Qi(s),k=ci(y,C);k.tag=1,k.payload=u,p!=null&&(k.callback=p),u=Yi(s,k,C),u!==null&&(Or(u,s,C,y),ld(u,s,C))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var p=En(),y=Qi(s),C=ci(p,y);C.tag=2,u!=null&&(C.callback=u),u=Yi(s,C,y),u!==null&&(Or(u,s,y,p),ld(u,s,y))}};function ZS(s,u,p,y,C,k,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,k,N):u.prototype&&u.prototype.isPureReactComponent?!El(p,y)||!El(C,k):!0}function QS(s,u,p){var y=!1,C=Hi,k=u.contextType;return typeof k=="object"&&k!==null?k=dr(k):(C=qn(u)?Oa:vn.current,y=u.contextTypes,k=(y=y!=null)?Ro(s,C):Hi),u=new u(p,k),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=gd,s.stateNode=u,u._reactInternals=s,y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=k),u}function e1(s,u,p,y){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,y),u.state!==s&&gd.enqueueReplaceState(u,u.state,null)}function Sm(s,u,p,y){var C=s.stateNode;C.props=p,C.state=s.memoizedState,C.refs={},um(s);var k=u.contextType;typeof k=="object"&&k!==null?C.context=dr(k):(k=qn(u)?Oa:vn.current,C.context=Ro(s,k)),C.state=s.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(wm(s,u,k,p),C.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(u=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),u!==C.state&&gd.enqueueReplaceState(C,C.state,null),ud(s,p,C,y),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function Vo(s,u){try{var p="",y=u;do p+=Ne(y),y=y.return;while(y);var C=p}catch(k){C=`
Error generating stack: `+k.message+`
`+k.stack}return{value:s,source:u,stack:C,digest:null}}function Cm(s,u,p){return{value:s,source:null,stack:p??null,digest:u??null}}function Tm(s,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var O$=typeof WeakMap=="function"?WeakMap:Map;function t1(s,u,p){p=ci(-1,p),p.tag=3,p.payload={element:null};var y=u.value;return p.callback=function(){Sd||(Sd=!0,Fm=y),Tm(s,u)},p}function n1(s,u,p){p=ci(-1,p),p.tag=3;var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var C=u.value;p.payload=function(){return y(C)},p.callback=function(){Tm(s,u)}}var k=s.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(p.callback=function(){Tm(s,u),typeof y!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})}),p}function r1(s,u,p){var y=s.pingCache;if(y===null){y=s.pingCache=new O$;var C=new Set;y.set(u,C)}else C=y.get(u),C===void 0&&(C=new Set,y.set(u,C));C.has(p)||(C.add(p),s=z$.bind(null,s,u,p),u.then(s,s))}function i1(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function a1(s,u,p,y,C){return(s.mode&1)===0?(s===u?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=ci(-1,1),u.tag=2,Yi(p,u,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=C,s)}var M$=M.ReactCurrentOwner,Un=!1;function kn(s,u,p,y){u.child=s===null?TS(u,null,p,y):Bo(u,s.child,p,y)}function o1(s,u,p,y,C){p=p.render;var k=u.ref;return qo(u,C),y=gm(s,u,p,y,k,C),p=vm(),s!==null&&!Un?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~C,di(s,u,C)):($t&&p&&Qp(u),u.flags|=1,kn(s,u,y,C),u.child)}function s1(s,u,p,y,C){if(s===null){var k=p.type;return typeof k=="function"&&!Wm(k)&&k.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=k,l1(s,u,k,y,C)):(s=Pd(p.type,null,y,u,u.mode,C),s.ref=u.ref,s.return=u,u.child=s)}if(k=s.child,(s.lanes&C)===0){var N=k.memoizedProps;if(p=p.compare,p=p!==null?p:El,p(N,y)&&s.ref===u.ref)return di(s,u,C)}return u.flags|=1,s=ta(k,y),s.ref=u.ref,s.return=u,u.child=s}function l1(s,u,p,y,C){if(s!==null){var k=s.memoizedProps;if(El(k,y)&&s.ref===u.ref)if(Un=!1,u.pendingProps=y=k,(s.lanes&C)!==0)(s.flags&131072)!==0&&(Un=!0);else return u.lanes=s.lanes,di(s,u,C)}return km(s,u,p,y,C)}function u1(s,u,p){var y=u.pendingProps,C=y.children,k=s!==null?s.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Go,er),er|=p;else{if((p&1073741824)===0)return s=k!==null?k.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,Tt(Go,er),er|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=k!==null?k.baseLanes:p,Tt(Go,er),er|=y}else k!==null?(y=k.baseLanes|p,u.memoizedState=null):y=p,Tt(Go,er),er|=y;return kn(s,u,C,p),u.child}function c1(s,u){var p=u.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function km(s,u,p,y,C){var k=qn(p)?Oa:vn.current;return k=Ro(u,k),qo(u,C),p=gm(s,u,p,y,k,C),y=vm(),s!==null&&!Un?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~C,di(s,u,C)):($t&&y&&Qp(u),u.flags|=1,kn(s,u,p,C),u.child)}function d1(s,u,p,y,C){if(qn(p)){var k=!0;ed(u)}else k=!1;if(qo(u,C),u.stateNode===null)yd(s,u),QS(u,p,y),Sm(u,p,y,C),y=!0;else if(s===null){var N=u.stateNode,V=u.memoizedProps;N.props=V;var X=N.context,se=p.contextType;typeof se=="object"&&se!==null?se=dr(se):(se=qn(p)?Oa:vn.current,se=Ro(u,se));var pe=p.getDerivedStateFromProps,ge=typeof pe=="function"||typeof N.getSnapshotBeforeUpdate=="function";ge||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==y||X!==se)&&e1(u,N,y,se),Ki=!1;var he=u.memoizedState;N.state=he,ud(u,y,N,C),X=u.memoizedState,V!==y||he!==X||Fn.current||Ki?(typeof pe=="function"&&(wm(u,p,pe,y),X=u.memoizedState),(V=Ki||ZS(u,p,V,y,he,X,se))?(ge||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(u.flags|=4194308)):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=X),N.props=y,N.state=X,N.context=se,y=V):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{N=u.stateNode,ES(s,u),V=u.memoizedProps,se=u.type===u.elementType?V:Er(u.type,V),N.props=se,ge=u.pendingProps,he=N.context,X=p.contextType,typeof X=="object"&&X!==null?X=dr(X):(X=qn(p)?Oa:vn.current,X=Ro(u,X));var Ae=p.getDerivedStateFromProps;(pe=typeof Ae=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==ge||he!==X)&&e1(u,N,y,X),Ki=!1,he=u.memoizedState,N.state=he,ud(u,y,N,C);var Me=u.memoizedState;V!==ge||he!==Me||Fn.current||Ki?(typeof Ae=="function"&&(wm(u,p,Ae,y),Me=u.memoizedState),(se=Ki||ZS(u,p,se,y,he,Me,X)||!1)?(pe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(y,Me,X),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(y,Me,X)),typeof N.componentDidUpdate=="function"&&(u.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===s.memoizedProps&&he===s.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&he===s.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Me),N.props=y,N.state=Me,N.context=X,y=se):(typeof N.componentDidUpdate!="function"||V===s.memoizedProps&&he===s.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&he===s.memoizedState||(u.flags|=1024),y=!1)}return Em(s,u,p,y,k,C)}function Em(s,u,p,y,C,k){c1(s,u);var N=(u.flags&128)!==0;if(!y&&!N)return C&&gS(u,p,!1),di(s,u,k);y=u.stateNode,M$.current=u;var V=N&&typeof p.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,s!==null&&N?(u.child=Bo(u,s.child,null,k),u.child=Bo(u,null,V,k)):kn(s,u,V,k),u.memoizedState=y.state,C&&gS(u,p,!0),u.child}function f1(s){var u=s.stateNode;u.pendingContext?pS(s,u.pendingContext,u.pendingContext!==u.context):u.context&&pS(s,u.context,!1),cm(s,u.containerInfo)}function h1(s,u,p,y,C){return Lo(),rm(C),u.flags|=256,kn(s,u,p,y),u.child}var Am={dehydrated:null,treeContext:null,retryLane:0};function Pm(s){return{baseLanes:s,cachePool:null,transitions:null}}function p1(s,u,p){var y=u.pendingProps,C=Ft.current,k=!1,N=(u.flags&128)!==0,V;if((V=N)||(V=s!==null&&s.memoizedState===null?!1:(C&2)!==0),V?(k=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),Tt(Ft,C&1),s===null)return nm(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((u.mode&1)===0?u.lanes=1:s.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(N=y.children,s=y.fallback,k?(y=u.mode,k=u.child,N={mode:"hidden",children:N},(y&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=N):k=Od(N,y,0,null),s=Fa(s,y,p,null),k.return=u,s.return=u,k.sibling=s,u.child=k,u.child.memoizedState=Pm(p),u.memoizedState=Am,s):Om(u,N));if(C=s.memoizedState,C!==null&&(V=C.dehydrated,V!==null))return I$(s,u,N,y,V,C,p);if(k){k=y.fallback,N=u.mode,C=s.child,V=C.sibling;var X={mode:"hidden",children:y.children};return(N&1)===0&&u.child!==C?(y=u.child,y.childLanes=0,y.pendingProps=X,u.deletions=null):(y=ta(C,X),y.subtreeFlags=C.subtreeFlags&14680064),V!==null?k=ta(V,k):(k=Fa(k,N,p,null),k.flags|=2),k.return=u,y.return=u,y.sibling=k,u.child=y,y=k,k=u.child,N=s.child.memoizedState,N=N===null?Pm(p):{baseLanes:N.baseLanes|p,cachePool:null,transitions:N.transitions},k.memoizedState=N,k.childLanes=s.childLanes&~p,u.memoizedState=Am,y}return k=s.child,s=k.sibling,y=ta(k,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=p),y.return=u,y.sibling=null,s!==null&&(p=u.deletions,p===null?(u.deletions=[s],u.flags|=16):p.push(s)),u.child=y,u.memoizedState=null,y}function Om(s,u){return u=Od({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function vd(s,u,p,y){return y!==null&&rm(y),Bo(u,s.child,null,p),s=Om(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function I$(s,u,p,y,C,k,N){if(p)return u.flags&256?(u.flags&=-257,y=Cm(Error(n(422))),vd(s,u,N,y)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(k=y.fallback,C=u.mode,y=Od({mode:"visible",children:y.children},C,0,null),k=Fa(k,C,N,null),k.flags|=2,y.return=u,k.return=u,y.sibling=k,u.child=y,(u.mode&1)!==0&&Bo(u,s.child,null,N),u.child.memoizedState=Pm(N),u.memoizedState=Am,k);if((u.mode&1)===0)return vd(s,u,N,null);if(C.data==="$!"){if(y=C.nextSibling&&C.nextSibling.dataset,y)var V=y.dgst;return y=V,k=Error(n(419)),y=Cm(k,y,void 0),vd(s,u,N,y)}if(V=(N&s.childLanes)!==0,Un||V){if(y=rn,y!==null){switch(N&-N){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(y.suspendedLanes|N))!==0?0:C,C!==0&&C!==k.retryLane&&(k.retryLane=C,ui(s,C),Or(y,s,C,-1))}return Hm(),y=Cm(Error(n(421))),vd(s,u,N,y)}return C.data==="$?"?(u.flags|=128,u.child=s.child,u=G$.bind(null,s),C._reactRetry=u,null):(s=k.treeContext,Qn=zi(C.nextSibling),Zn=u,$t=!0,kr=null,s!==null&&(ur[cr++]=si,ur[cr++]=li,ur[cr++]=Ma,si=s.id,li=s.overflow,Ma=u),u=Om(u,y.children),u.flags|=4096,u)}function m1(s,u,p){s.lanes|=u;var y=s.alternate;y!==null&&(y.lanes|=u),sm(s.return,u,p)}function Mm(s,u,p,y,C){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:C}:(k.isBackwards=u,k.rendering=null,k.renderingStartTime=0,k.last=y,k.tail=p,k.tailMode=C)}function g1(s,u,p){var y=u.pendingProps,C=y.revealOrder,k=y.tail;if(kn(s,u,y.children,p),y=Ft.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&m1(s,p,u);else if(s.tag===19)m1(s,p,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}y&=1}if(Tt(Ft,y),(u.mode&1)===0)u.memoizedState=null;else switch(C){case"forwards":for(p=u.child,C=null;p!==null;)s=p.alternate,s!==null&&cd(s)===null&&(C=p),p=p.sibling;p=C,p===null?(C=u.child,u.child=null):(C=p.sibling,p.sibling=null),Mm(u,!1,C,p,k);break;case"backwards":for(p=null,C=u.child,u.child=null;C!==null;){if(s=C.alternate,s!==null&&cd(s)===null){u.child=C;break}s=C.sibling,C.sibling=p,p=C,C=s}Mm(u,!0,p,null,k);break;case"together":Mm(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function yd(s,u){(u.mode&1)===0&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function di(s,u,p){if(s!==null&&(u.dependencies=s.dependencies),ja|=u.lanes,(p&u.childLanes)===0)return null;if(s!==null&&u.child!==s.child)throw Error(n(153));if(u.child!==null){for(s=u.child,p=ta(s,s.pendingProps),u.child=p,p.return=u;s.sibling!==null;)s=s.sibling,p=p.sibling=ta(s,s.pendingProps),p.return=u;p.sibling=null}return u.child}function N$(s,u,p){switch(u.tag){case 3:f1(u),Lo();break;case 5:OS(u);break;case 1:qn(u.type)&&ed(u);break;case 4:cm(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,C=u.memoizedProps.value;Tt(od,y._currentValue),y._currentValue=C;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(Tt(Ft,Ft.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?p1(s,u,p):(Tt(Ft,Ft.current&1),s=di(s,u,p),s!==null?s.sibling:null);Tt(Ft,Ft.current&1);break;case 19:if(y=(p&u.childLanes)!==0,(s.flags&128)!==0){if(y)return g1(s,u,p);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Tt(Ft,Ft.current),y)break;return null;case 22:case 23:return u.lanes=0,u1(s,u,p)}return di(s,u,p)}var v1,Im,y1,x1;v1=function(s,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Im=function(){},y1=function(s,u,p,y){var C=s.memoizedProps;if(C!==y){s=u.stateNode,Da(qr.current);var k=null;switch(p){case"input":C=Ze(s,C),y=Ze(s,y),k=[];break;case"select":C=ae({},C,{value:void 0}),y=ae({},y,{value:void 0}),k=[];break;case"textarea":C=Ln(s,C),y=Ln(s,y),k=[];break;default:typeof C.onClick!="function"&&typeof y.onClick=="function"&&(s.onclick=Xc)}cl(p,y);var N;p=null;for(se in C)if(!y.hasOwnProperty(se)&&C.hasOwnProperty(se)&&C[se]!=null)if(se==="style"){var V=C[se];for(N in V)V.hasOwnProperty(N)&&(p||(p={}),p[N]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?k||(k=[]):(k=k||[]).push(se,null));for(se in y){var X=y[se];if(V=C!=null?C[se]:void 0,y.hasOwnProperty(se)&&X!==V&&(X!=null||V!=null))if(se==="style")if(V){for(N in V)!V.hasOwnProperty(N)||X&&X.hasOwnProperty(N)||(p||(p={}),p[N]="");for(N in X)X.hasOwnProperty(N)&&V[N]!==X[N]&&(p||(p={}),p[N]=X[N])}else p||(k||(k=[]),k.push(se,p)),p=X;else se==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,V=V?V.__html:void 0,X!=null&&V!==X&&(k=k||[]).push(se,X)):se==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(se,""+X):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(X!=null&&se==="onScroll"&&It("scroll",s),k||V===X||(k=[])):(k=k||[]).push(se,X))}p&&(k=k||[]).push("style",p);var se=k;(u.updateQueue=se)&&(u.flags|=4)}},x1=function(s,u,p,y){p!==y&&(u.flags|=4)};function Ul(s,u){if(!$t)switch(s.tailMode){case"hidden":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function xn(s){var u=s.alternate!==null&&s.alternate.child===s.child,p=0,y=0;if(u)for(var C=s.child;C!==null;)p|=C.lanes|C.childLanes,y|=C.subtreeFlags&14680064,y|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)p|=C.lanes|C.childLanes,y|=C.subtreeFlags,y|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=y,s.childLanes=p,u}function D$(s,u,p){var y=u.pendingProps;switch(em(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(u),null;case 1:return qn(u.type)&&Qc(),xn(u),null;case 3:return y=u.stateNode,Uo(),Nt(Fn),Nt(vn),hm(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(s===null||s.child===null)&&(id(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,kr!==null&&(Vm(kr),kr=null))),Im(s,u),xn(u),null;case 5:dm(u);var C=Da($l.current);if(p=u.type,s!==null&&u.stateNode!=null)y1(s,u,p,y,C),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(n(166));return xn(u),null}if(s=Da(qr.current),id(u)){y=u.stateNode,p=u.type;var k=u.memoizedProps;switch(y[Fr]=u,y[Il]=k,s=(u.mode&1)!==0,p){case"dialog":It("cancel",y),It("close",y);break;case"iframe":case"object":case"embed":It("load",y);break;case"video":case"audio":for(C=0;C<Pl.length;C++)It(Pl[C],y);break;case"source":It("error",y);break;case"img":case"image":case"link":It("error",y),It("load",y);break;case"details":It("toggle",y);break;case"input":Ct(y,k),It("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!k.multiple},It("invalid",y);break;case"textarea":Ii(y,k),It("invalid",y)}cl(p,k),C=null;for(var N in k)if(k.hasOwnProperty(N)){var V=k[N];N==="children"?typeof V=="string"?y.textContent!==V&&(k.suppressHydrationWarning!==!0&&Jc(y.textContent,V,s),C=["children",V]):typeof V=="number"&&y.textContent!==""+V&&(k.suppressHydrationWarning!==!0&&Jc(y.textContent,V,s),C=["children",""+V]):i.hasOwnProperty(N)&&V!=null&&N==="onScroll"&&It("scroll",y)}switch(p){case"input":Ve(y),$n(y,k,!0);break;case"textarea":Ve(y),Cr(y);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(y.onclick=Xc)}y=C,u.updateQueue=y,y!==null&&(u.flags|=4)}else{N=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ni(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=N.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof y.is=="string"?s=N.createElement(p,{is:y.is}):(s=N.createElement(p),p==="select"&&(N=s,y.multiple?N.multiple=!0:y.size&&(N.size=y.size))):s=N.createElementNS(s,p),s[Fr]=u,s[Il]=y,v1(s,u,!1,!1),u.stateNode=s;e:{switch(N=xo(p,y),p){case"dialog":It("cancel",s),It("close",s),C=y;break;case"iframe":case"object":case"embed":It("load",s),C=y;break;case"video":case"audio":for(C=0;C<Pl.length;C++)It(Pl[C],s);C=y;break;case"source":It("error",s),C=y;break;case"img":case"image":case"link":It("error",s),It("load",s),C=y;break;case"details":It("toggle",s),C=y;break;case"input":Ct(s,y),C=Ze(s,y),It("invalid",s);break;case"option":C=y;break;case"select":s._wrapperState={wasMultiple:!!y.multiple},C=ae({},y,{value:void 0}),It("invalid",s);break;case"textarea":Ii(s,y),C=Ln(s,y),It("invalid",s);break;default:C=y}cl(p,C),V=C;for(k in V)if(V.hasOwnProperty(k)){var X=V[k];k==="style"?bc(s,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&xc(s,X)):k==="children"?typeof X=="string"?(p!=="textarea"||X!=="")&&Di(s,X):typeof X=="number"&&Di(s,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?X!=null&&k==="onScroll"&&It("scroll",s):X!=null&&T(s,k,X,N))}switch(p){case"input":Ve(s),$n(s,y,!1);break;case"textarea":Ve(s),Cr(s);break;case"option":y.value!=null&&s.setAttribute("value",""+Ge(y.value));break;case"select":s.multiple=!!y.multiple,k=y.value,k!=null?gn(s,!!y.multiple,k,!1):y.defaultValue!=null&&gn(s,!!y.multiple,y.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=Xc)}switch(p){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return xn(u),null;case 6:if(s&&u.stateNode!=null)x1(s,u,s.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(n(166));if(p=Da($l.current),Da(qr.current),id(u)){if(y=u.stateNode,p=u.memoizedProps,y[Fr]=u,(k=y.nodeValue!==p)&&(s=Zn,s!==null))switch(s.tag){case 3:Jc(y.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Jc(y.nodeValue,p,(s.mode&1)!==0)}k&&(u.flags|=4)}else y=(p.nodeType===9?p:p.ownerDocument).createTextNode(y),y[Fr]=u,u.stateNode=y}return xn(u),null;case 13:if(Nt(Ft),y=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if($t&&Qn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)wS(),Lo(),u.flags|=98560,k=!1;else if(k=id(u),y!==null&&y.dehydrated!==null){if(s===null){if(!k)throw Error(n(318));if(k=u.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Fr]=u}else Lo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;xn(u),k=!1}else kr!==null&&(Vm(kr),kr=null),k=!0;if(!k)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(y=y!==null,y!==(s!==null&&s.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(s===null||(Ft.current&1)!==0?Zt===0&&(Zt=3):Hm())),u.updateQueue!==null&&(u.flags|=4),xn(u),null);case 4:return Uo(),Im(s,u),s===null&&Ol(u.stateNode.containerInfo),xn(u),null;case 10:return om(u.type._context),xn(u),null;case 17:return qn(u.type)&&Qc(),xn(u),null;case 19:if(Nt(Ft),k=u.memoizedState,k===null)return xn(u),null;if(y=(u.flags&128)!==0,N=k.rendering,N===null)if(y)Ul(k,!1);else{if(Zt!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(N=cd(s),N!==null){for(u.flags|=128,Ul(k,!1),y=N.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=p,p=u.child;p!==null;)k=p,s=y,k.flags&=14680066,N=k.alternate,N===null?(k.childLanes=0,k.lanes=s,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=N.childLanes,k.lanes=N.lanes,k.child=N.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=N.memoizedProps,k.memoizedState=N.memoizedState,k.updateQueue=N.updateQueue,k.type=N.type,s=N.dependencies,k.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return Tt(Ft,Ft.current&1|2),u.child}s=s.sibling}k.tail!==null&&Bt()>Ho&&(u.flags|=128,y=!0,Ul(k,!1),u.lanes=4194304)}else{if(!y)if(s=cd(N),s!==null){if(u.flags|=128,y=!0,p=s.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),Ul(k,!0),k.tail===null&&k.tailMode==="hidden"&&!N.alternate&&!$t)return xn(u),null}else 2*Bt()-k.renderingStartTime>Ho&&p!==1073741824&&(u.flags|=128,y=!0,Ul(k,!1),u.lanes=4194304);k.isBackwards?(N.sibling=u.child,u.child=N):(p=k.last,p!==null?p.sibling=N:u.child=N,k.last=N)}return k.tail!==null?(u=k.tail,k.rendering=u,k.tail=u.sibling,k.renderingStartTime=Bt(),u.sibling=null,p=Ft.current,Tt(Ft,y?p&1|2:p&1),u):(xn(u),null);case 22:case 23:return Gm(),y=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(er&1073741824)!==0&&(xn(u),u.subtreeFlags&6&&(u.flags|=8192)):xn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function R$(s,u){switch(em(u),u.tag){case 1:return qn(u.type)&&Qc(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Uo(),Nt(Fn),Nt(vn),hm(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 5:return dm(u),null;case 13:if(Nt(Ft),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Lo()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return Nt(Ft),null;case 4:return Uo(),null;case 10:return om(u.type._context),null;case 22:case 23:return Gm(),null;case 24:return null;default:return null}}var xd=!1,_n=!1,j$=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function zo(s,u){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(y){Vt(s,u,y)}else p.current=null}function Nm(s,u,p){try{p()}catch(y){Vt(s,u,y)}}var _1=!1;function $$(s,u){if(Gp=Bc,s=Zw(),$p(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var C=y.anchorOffset,k=y.focusNode;y=y.focusOffset;try{p.nodeType,k.nodeType}catch{p=null;break e}var N=0,V=-1,X=-1,se=0,pe=0,ge=s,he=null;t:for(;;){for(var Ae;ge!==p||C!==0&&ge.nodeType!==3||(V=N+C),ge!==k||y!==0&&ge.nodeType!==3||(X=N+y),ge.nodeType===3&&(N+=ge.nodeValue.length),(Ae=ge.firstChild)!==null;)he=ge,ge=Ae;for(;;){if(ge===s)break t;if(he===p&&++se===C&&(V=N),he===k&&++pe===y&&(X=N),(Ae=ge.nextSibling)!==null)break;ge=he,he=ge.parentNode}ge=Ae}p=V===-1||X===-1?null:{start:V,end:X}}else p=null}p=p||{start:0,end:0}}else p=null;for(Hp={focusedElem:s,selectionRange:p},Bc=!1,Pe=u;Pe!==null;)if(u=Pe,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,Pe=s;else for(;Pe!==null;){u=Pe;try{var Me=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var De=Me.memoizedProps,Gt=Me.memoizedState,ie=u.stateNode,ee=ie.getSnapshotBeforeUpdate(u.elementType===u.type?De:Er(u.type,De),Gt);ie.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var oe=u.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(be){Vt(u,u.return,be)}if(s=u.sibling,s!==null){s.return=u.return,Pe=s;break}Pe=u.return}return Me=_1,_1=!1,Me}function Vl(s,u,p){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var C=y=y.next;do{if((C.tag&s)===s){var k=C.destroy;C.destroy=void 0,k!==void 0&&Nm(u,p,k)}C=C.next}while(C!==y)}}function _d(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&s)===s){var y=p.create;p.destroy=y()}p=p.next}while(p!==u)}}function Dm(s){var u=s.ref;if(u!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof u=="function"?u(s):u.current=s}}function b1(s){var u=s.alternate;u!==null&&(s.alternate=null,b1(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[Fr],delete u[Il],delete u[Jp],delete u[x$],delete u[_$])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function w1(s){return s.tag===5||s.tag===3||s.tag===4}function S1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||w1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Rm(s,u,p){var y=s.tag;if(y===5||y===6)s=s.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(s,u):p.insertBefore(s,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(s,p)):(u=p,u.appendChild(s)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Xc));else if(y!==4&&(s=s.child,s!==null))for(Rm(s,u,p),s=s.sibling;s!==null;)Rm(s,u,p),s=s.sibling}function jm(s,u,p){var y=s.tag;if(y===5||y===6)s=s.stateNode,u?p.insertBefore(s,u):p.appendChild(s);else if(y!==4&&(s=s.child,s!==null))for(jm(s,u,p),s=s.sibling;s!==null;)jm(s,u,p),s=s.sibling}var hn=null,Ar=!1;function Ji(s,u,p){for(p=p.child;p!==null;)C1(s,u,p),p=p.sibling}function C1(s,u,p){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(ii,p)}catch{}switch(p.tag){case 5:_n||zo(p,u);case 6:var y=hn,C=Ar;hn=null,Ji(s,u,p),hn=y,Ar=C,hn!==null&&(Ar?(s=hn,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):hn.removeChild(p.stateNode));break;case 18:hn!==null&&(Ar?(s=hn,p=p.stateNode,s.nodeType===8?Yp(s.parentNode,p):s.nodeType===1&&Yp(s,p),bl(s)):Yp(hn,p.stateNode));break;case 4:y=hn,C=Ar,hn=p.stateNode.containerInfo,Ar=!0,Ji(s,u,p),hn=y,Ar=C;break;case 0:case 11:case 14:case 15:if(!_n&&(y=p.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){C=y=y.next;do{var k=C,N=k.destroy;k=k.tag,N!==void 0&&((k&2)!==0||(k&4)!==0)&&Nm(p,u,N),C=C.next}while(C!==y)}Ji(s,u,p);break;case 1:if(!_n&&(zo(p,u),y=p.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=p.memoizedProps,y.state=p.memoizedState,y.componentWillUnmount()}catch(V){Vt(p,u,V)}Ji(s,u,p);break;case 21:Ji(s,u,p);break;case 22:p.mode&1?(_n=(y=_n)||p.memoizedState!==null,Ji(s,u,p),_n=y):Ji(s,u,p);break;default:Ji(s,u,p)}}function T1(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new j$),u.forEach(function(y){var C=H$.bind(null,s,y);p.has(y)||(p.add(y),y.then(C,C))})}}function Pr(s,u){var p=u.deletions;if(p!==null)for(var y=0;y<p.length;y++){var C=p[y];try{var k=s,N=u,V=N;e:for(;V!==null;){switch(V.tag){case 5:hn=V.stateNode,Ar=!1;break e;case 3:hn=V.stateNode.containerInfo,Ar=!0;break e;case 4:hn=V.stateNode.containerInfo,Ar=!0;break e}V=V.return}if(hn===null)throw Error(n(160));C1(k,N,C),hn=null,Ar=!1;var X=C.alternate;X!==null&&(X.return=null),C.return=null}catch(se){Vt(C,u,se)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)k1(u,s),u=u.sibling}function k1(s,u){var p=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Pr(u,s),Vr(s),y&4){try{Vl(3,s,s.return),_d(3,s)}catch(De){Vt(s,s.return,De)}try{Vl(5,s,s.return)}catch(De){Vt(s,s.return,De)}}break;case 1:Pr(u,s),Vr(s),y&512&&p!==null&&zo(p,p.return);break;case 5:if(Pr(u,s),Vr(s),y&512&&p!==null&&zo(p,p.return),s.flags&32){var C=s.stateNode;try{Di(C,"")}catch(De){Vt(s,s.return,De)}}if(y&4&&(C=s.stateNode,C!=null)){var k=s.memoizedProps,N=p!==null?p.memoizedProps:k,V=s.type,X=s.updateQueue;if(s.updateQueue=null,X!==null)try{V==="input"&&k.type==="radio"&&k.name!=null&&bt(C,k),xo(V,N);var se=xo(V,k);for(N=0;N<X.length;N+=2){var pe=X[N],ge=X[N+1];pe==="style"?bc(C,ge):pe==="dangerouslySetInnerHTML"?xc(C,ge):pe==="children"?Di(C,ge):T(C,pe,ge,se)}switch(V){case"input":Ut(C,k);break;case"textarea":Sa(C,k);break;case"select":var he=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!k.multiple;var Ae=k.value;Ae!=null?gn(C,!!k.multiple,Ae,!1):he!==!!k.multiple&&(k.defaultValue!=null?gn(C,!!k.multiple,k.defaultValue,!0):gn(C,!!k.multiple,k.multiple?[]:"",!1))}C[Il]=k}catch(De){Vt(s,s.return,De)}}break;case 6:if(Pr(u,s),Vr(s),y&4){if(s.stateNode===null)throw Error(n(162));C=s.stateNode,k=s.memoizedProps;try{C.nodeValue=k}catch(De){Vt(s,s.return,De)}}break;case 3:if(Pr(u,s),Vr(s),y&4&&p!==null&&p.memoizedState.isDehydrated)try{bl(u.containerInfo)}catch(De){Vt(s,s.return,De)}break;case 4:Pr(u,s),Vr(s);break;case 13:Pr(u,s),Vr(s),C=s.child,C.flags&8192&&(k=C.memoizedState!==null,C.stateNode.isHidden=k,!k||C.alternate!==null&&C.alternate.memoizedState!==null||(Bm=Bt())),y&4&&T1(s);break;case 22:if(pe=p!==null&&p.memoizedState!==null,s.mode&1?(_n=(se=_n)||pe,Pr(u,s),_n=se):Pr(u,s),Vr(s),y&8192){if(se=s.memoizedState!==null,(s.stateNode.isHidden=se)&&!pe&&(s.mode&1)!==0)for(Pe=s,pe=s.child;pe!==null;){for(ge=Pe=pe;Pe!==null;){switch(he=Pe,Ae=he.child,he.tag){case 0:case 11:case 14:case 15:Vl(4,he,he.return);break;case 1:zo(he,he.return);var Me=he.stateNode;if(typeof Me.componentWillUnmount=="function"){y=he,p=he.return;try{u=y,Me.props=u.memoizedProps,Me.state=u.memoizedState,Me.componentWillUnmount()}catch(De){Vt(y,p,De)}}break;case 5:zo(he,he.return);break;case 22:if(he.memoizedState!==null){P1(ge);continue}}Ae!==null?(Ae.return=he,Pe=Ae):P1(ge)}pe=pe.sibling}e:for(pe=null,ge=s;;){if(ge.tag===5){if(pe===null){pe=ge;try{C=ge.stateNode,se?(k=C.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(V=ge.stateNode,X=ge.memoizedProps.style,N=X!=null&&X.hasOwnProperty("display")?X.display:null,V.style.display=_c("display",N))}catch(De){Vt(s,s.return,De)}}}else if(ge.tag===6){if(pe===null)try{ge.stateNode.nodeValue=se?"":ge.memoizedProps}catch(De){Vt(s,s.return,De)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===s)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===s)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===s)break e;pe===ge&&(pe=null),ge=ge.return}pe===ge&&(pe=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:Pr(u,s),Vr(s),y&4&&T1(s);break;case 21:break;default:Pr(u,s),Vr(s)}}function Vr(s){var u=s.flags;if(u&2){try{e:{for(var p=s.return;p!==null;){if(w1(p)){var y=p;break e}p=p.return}throw Error(n(160))}switch(y.tag){case 5:var C=y.stateNode;y.flags&32&&(Di(C,""),y.flags&=-33);var k=S1(s);jm(s,k,C);break;case 3:case 4:var N=y.stateNode.containerInfo,V=S1(s);Rm(s,V,N);break;default:throw Error(n(161))}}catch(X){Vt(s,s.return,X)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function L$(s,u,p){Pe=s,E1(s)}function E1(s,u,p){for(var y=(s.mode&1)!==0;Pe!==null;){var C=Pe,k=C.child;if(C.tag===22&&y){var N=C.memoizedState!==null||xd;if(!N){var V=C.alternate,X=V!==null&&V.memoizedState!==null||_n;V=xd;var se=_n;if(xd=N,(_n=X)&&!se)for(Pe=C;Pe!==null;)N=Pe,X=N.child,N.tag===22&&N.memoizedState!==null?O1(C):X!==null?(X.return=N,Pe=X):O1(C);for(;k!==null;)Pe=k,E1(k),k=k.sibling;Pe=C,xd=V,_n=se}A1(s)}else(C.subtreeFlags&8772)!==0&&k!==null?(k.return=C,Pe=k):A1(s)}}function A1(s){for(;Pe!==null;){var u=Pe;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:_n||_d(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!_n)if(p===null)y.componentDidMount();else{var C=u.elementType===u.type?p.memoizedProps:Er(u.type,p.memoizedProps);y.componentDidUpdate(C,p.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var k=u.updateQueue;k!==null&&PS(u,k,y);break;case 3:var N=u.updateQueue;if(N!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}PS(u,N,p)}break;case 5:var V=u.stateNode;if(p===null&&u.flags&4){p=V;var X=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&p.focus();break;case"img":X.src&&(p.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var se=u.alternate;if(se!==null){var pe=se.memoizedState;if(pe!==null){var ge=pe.dehydrated;ge!==null&&bl(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}_n||u.flags&512&&Dm(u)}catch(he){Vt(u,u.return,he)}}if(u===s){Pe=null;break}if(p=u.sibling,p!==null){p.return=u.return,Pe=p;break}Pe=u.return}}function P1(s){for(;Pe!==null;){var u=Pe;if(u===s){Pe=null;break}var p=u.sibling;if(p!==null){p.return=u.return,Pe=p;break}Pe=u.return}}function O1(s){for(;Pe!==null;){var u=Pe;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{_d(4,u)}catch(X){Vt(u,p,X)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var C=u.return;try{y.componentDidMount()}catch(X){Vt(u,C,X)}}var k=u.return;try{Dm(u)}catch(X){Vt(u,k,X)}break;case 5:var N=u.return;try{Dm(u)}catch(X){Vt(u,N,X)}}}catch(X){Vt(u,u.return,X)}if(u===s){Pe=null;break}var V=u.sibling;if(V!==null){V.return=u.return,Pe=V;break}Pe=u.return}}var B$=Math.ceil,bd=M.ReactCurrentDispatcher,$m=M.ReactCurrentOwner,hr=M.ReactCurrentBatchConfig,dt=0,rn=null,Wt=null,pn=0,er=0,Go=Gi(0),Zt=0,zl=null,ja=0,wd=0,Lm=0,Gl=null,Vn=null,Bm=0,Ho=1/0,fi=null,Sd=!1,Fm=null,Xi=null,Cd=!1,Zi=null,Td=0,Hl=0,qm=null,kd=-1,Ed=0;function En(){return(dt&6)!==0?Bt():kd!==-1?kd:kd=Bt()}function Qi(s){return(s.mode&1)===0?1:(dt&2)!==0&&pn!==0?pn&-pn:w$.transition!==null?(Ed===0&&(Ed=xe()),Ed):(s=Qe,s!==0||(s=window.event,s=s===void 0?16:Iw(s.type)),s)}function Or(s,u,p,y){if(50<Hl)throw Hl=0,qm=null,Error(n(185));Se(s,p,y),((dt&2)===0||s!==rn)&&(s===rn&&((dt&2)===0&&(wd|=p),Zt===4&&ea(s,pn)),zn(s,y),p===1&&dt===0&&(u.mode&1)===0&&(Ho=Bt()+500,td&&Wi()))}function zn(s,u){var p=s.callbackNode;ue(s,u);var y=ne(s,s===rn?pn:0);if(y===0)p!==null&&Ic(p),s.callbackNode=null,s.callbackPriority=0;else if(u=y&-y,s.callbackPriority!==u){if(p!=null&&Ic(p),u===1)s.tag===0?b$(I1.bind(null,s)):vS(I1.bind(null,s)),v$(function(){(dt&6)===0&&Wi()}),p=null;else{switch(Fi(y)){case 1:p=gl;break;case 4:p=Nc;break;case 16:p=ka;break;case 536870912:p=Dc;break;default:p=ka}p=F1(p,M1.bind(null,s))}s.callbackPriority=u,s.callbackNode=p}}function M1(s,u){if(kd=-1,Ed=0,(dt&6)!==0)throw Error(n(327));var p=s.callbackNode;if(Wo()&&s.callbackNode!==p)return null;var y=ne(s,s===rn?pn:0);if(y===0)return null;if((y&30)!==0||(y&s.expiredLanes)!==0||u)u=Ad(s,y);else{u=y;var C=dt;dt|=2;var k=D1();(rn!==s||pn!==u)&&(fi=null,Ho=Bt()+500,La(s,u));do try{U$();break}catch(V){N1(s,V)}while(!0);am(),bd.current=k,dt=C,Wt!==null?u=0:(rn=null,pn=0,u=Zt)}if(u!==0){if(u===2&&(C=Te(s),C!==0&&(y=C,u=Um(s,C))),u===1)throw p=zl,La(s,0),ea(s,y),zn(s,Bt()),p;if(u===6)ea(s,y);else{if(C=s.current.alternate,(y&30)===0&&!F$(C)&&(u=Ad(s,y),u===2&&(k=Te(s),k!==0&&(y=k,u=Um(s,k))),u===1))throw p=zl,La(s,0),ea(s,y),zn(s,Bt()),p;switch(s.finishedWork=C,s.finishedLanes=y,u){case 0:case 1:throw Error(n(345));case 2:Ba(s,Vn,fi);break;case 3:if(ea(s,y),(y&130023424)===y&&(u=Bm+500-Bt(),10<u)){if(ne(s,0)!==0)break;if(C=s.suspendedLanes,(C&y)!==y){En(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=Kp(Ba.bind(null,s,Vn,fi),u);break}Ba(s,Vn,fi);break;case 4:if(ea(s,y),(y&4194240)===y)break;for(u=s.eventTimes,C=-1;0<y;){var N=31-Jn(y);k=1<<N,N=u[N],N>C&&(C=N),y&=~k}if(y=C,y=Bt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*B$(y/1960))-y,10<y){s.timeoutHandle=Kp(Ba.bind(null,s,Vn,fi),y);break}Ba(s,Vn,fi);break;case 5:Ba(s,Vn,fi);break;default:throw Error(n(329))}}}return zn(s,Bt()),s.callbackNode===p?M1.bind(null,s):null}function Um(s,u){var p=Gl;return s.current.memoizedState.isDehydrated&&(La(s,u).flags|=256),s=Ad(s,u),s!==2&&(u=Vn,Vn=p,u!==null&&Vm(u)),s}function Vm(s){Vn===null?Vn=s:Vn.push.apply(Vn,s)}function F$(s){for(var u=s;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var y=0;y<p.length;y++){var C=p[y],k=C.getSnapshot;C=C.value;try{if(!Tr(k(),C))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ea(s,u){for(u&=~Lm,u&=~wd,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var p=31-Jn(u),y=1<<p;s[p]=-1,u&=~y}}function I1(s){if((dt&6)!==0)throw Error(n(327));Wo();var u=ne(s,0);if((u&1)===0)return zn(s,Bt()),null;var p=Ad(s,u);if(s.tag!==0&&p===2){var y=Te(s);y!==0&&(u=y,p=Um(s,y))}if(p===1)throw p=zl,La(s,0),ea(s,u),zn(s,Bt()),p;if(p===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,Ba(s,Vn,fi),zn(s,Bt()),null}function zm(s,u){var p=dt;dt|=1;try{return s(u)}finally{dt=p,dt===0&&(Ho=Bt()+500,td&&Wi())}}function $a(s){Zi!==null&&Zi.tag===0&&(dt&6)===0&&Wo();var u=dt;dt|=1;var p=hr.transition,y=Qe;try{if(hr.transition=null,Qe=1,s)return s()}finally{Qe=y,hr.transition=p,dt=u,(dt&6)===0&&Wi()}}function Gm(){er=Go.current,Nt(Go)}function La(s,u){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,g$(p)),Wt!==null)for(p=Wt.return;p!==null;){var y=p;switch(em(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Qc();break;case 3:Uo(),Nt(Fn),Nt(vn),hm();break;case 5:dm(y);break;case 4:Uo();break;case 13:Nt(Ft);break;case 19:Nt(Ft);break;case 10:om(y.type._context);break;case 22:case 23:Gm()}p=p.return}if(rn=s,Wt=s=ta(s.current,null),pn=er=u,Zt=0,zl=null,Lm=wd=ja=0,Vn=Gl=null,Na!==null){for(u=0;u<Na.length;u++)if(p=Na[u],y=p.interleaved,y!==null){p.interleaved=null;var C=y.next,k=p.pending;if(k!==null){var N=k.next;k.next=C,y.next=N}p.pending=y}Na=null}return s}function N1(s,u){do{var p=Wt;try{if(am(),dd.current=md,fd){for(var y=qt.memoizedState;y!==null;){var C=y.queue;C!==null&&(C.pending=null),y=y.next}fd=!1}if(Ra=0,nn=Xt=qt=null,Ll=!1,Bl=0,$m.current=null,p===null||p.return===null){Zt=1,zl=u,Wt=null;break}e:{var k=s,N=p.return,V=p,X=u;if(u=pn,V.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var se=X,pe=V,ge=pe.tag;if((pe.mode&1)===0&&(ge===0||ge===11||ge===15)){var he=pe.alternate;he?(pe.updateQueue=he.updateQueue,pe.memoizedState=he.memoizedState,pe.lanes=he.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Ae=i1(N);if(Ae!==null){Ae.flags&=-257,a1(Ae,N,V,k,u),Ae.mode&1&&r1(k,se,u),u=Ae,X=se;var Me=u.updateQueue;if(Me===null){var De=new Set;De.add(X),u.updateQueue=De}else Me.add(X);break e}else{if((u&1)===0){r1(k,se,u),Hm();break e}X=Error(n(426))}}else if($t&&V.mode&1){var Gt=i1(N);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),a1(Gt,N,V,k,u),rm(Vo(X,V));break e}}k=X=Vo(X,V),Zt!==4&&(Zt=2),Gl===null?Gl=[k]:Gl.push(k),k=N;do{switch(k.tag){case 3:k.flags|=65536,u&=-u,k.lanes|=u;var ie=t1(k,X,u);AS(k,ie);break e;case 1:V=X;var ee=k.type,oe=k.stateNode;if((k.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Xi===null||!Xi.has(oe)))){k.flags|=65536,u&=-u,k.lanes|=u;var be=n1(k,V,u);AS(k,be);break e}}k=k.return}while(k!==null)}j1(p)}catch(Re){u=Re,Wt===p&&p!==null&&(Wt=p=p.return);continue}break}while(!0)}function D1(){var s=bd.current;return bd.current=md,s===null?md:s}function Hm(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),rn===null||(ja&268435455)===0&&(wd&268435455)===0||ea(rn,pn)}function Ad(s,u){var p=dt;dt|=2;var y=D1();(rn!==s||pn!==u)&&(fi=null,La(s,u));do try{q$();break}catch(C){N1(s,C)}while(!0);if(am(),dt=p,bd.current=y,Wt!==null)throw Error(n(261));return rn=null,pn=0,Zt}function q$(){for(;Wt!==null;)R1(Wt)}function U$(){for(;Wt!==null&&!bp();)R1(Wt)}function R1(s){var u=B1(s.alternate,s,er);s.memoizedProps=s.pendingProps,u===null?j1(s):Wt=u,$m.current=null}function j1(s){var u=s;do{var p=u.alternate;if(s=u.return,(u.flags&32768)===0){if(p=D$(p,u,er),p!==null){Wt=p;return}}else{if(p=R$(p,u),p!==null){p.flags&=32767,Wt=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Zt=6,Wt=null;return}}if(u=u.sibling,u!==null){Wt=u;return}Wt=u=s}while(u!==null);Zt===0&&(Zt=5)}function Ba(s,u,p){var y=Qe,C=hr.transition;try{hr.transition=null,Qe=1,V$(s,u,p,y)}finally{hr.transition=C,Qe=y}return null}function V$(s,u,p,y){do Wo();while(Zi!==null);if((dt&6)!==0)throw Error(n(327));p=s.finishedWork;var C=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var k=p.lanes|p.childLanes;if(Be(s,k),s===rn&&(Wt=rn=null,pn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Cd||(Cd=!0,F1(ka,function(){return Wo(),null})),k=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||k){k=hr.transition,hr.transition=null;var N=Qe;Qe=1;var V=dt;dt|=4,$m.current=null,$$(s,p),k1(p,s),u$(Hp),Bc=!!Gp,Hp=Gp=null,s.current=p,L$(p),wp(),dt=V,Qe=N,hr.transition=k}else s.current=p;if(Cd&&(Cd=!1,Zi=s,Td=C),k=s.pendingLanes,k===0&&(Xi=null),Rc(p.stateNode),zn(s,Bt()),u!==null)for(y=s.onRecoverableError,p=0;p<u.length;p++)C=u[p],y(C.value,{componentStack:C.stack,digest:C.digest});if(Sd)throw Sd=!1,s=Fm,Fm=null,s;return(Td&1)!==0&&s.tag!==0&&Wo(),k=s.pendingLanes,(k&1)!==0?s===qm?Hl++:(Hl=0,qm=s):Hl=0,Wi(),null}function Wo(){if(Zi!==null){var s=Fi(Td),u=hr.transition,p=Qe;try{if(hr.transition=null,Qe=16>s?16:s,Zi===null)var y=!1;else{if(s=Zi,Zi=null,Td=0,(dt&6)!==0)throw Error(n(331));var C=dt;for(dt|=4,Pe=s.current;Pe!==null;){var k=Pe,N=k.child;if((Pe.flags&16)!==0){var V=k.deletions;if(V!==null){for(var X=0;X<V.length;X++){var se=V[X];for(Pe=se;Pe!==null;){var pe=Pe;switch(pe.tag){case 0:case 11:case 15:Vl(8,pe,k)}var ge=pe.child;if(ge!==null)ge.return=pe,Pe=ge;else for(;Pe!==null;){pe=Pe;var he=pe.sibling,Ae=pe.return;if(b1(pe),pe===se){Pe=null;break}if(he!==null){he.return=Ae,Pe=he;break}Pe=Ae}}}var Me=k.alternate;if(Me!==null){var De=Me.child;if(De!==null){Me.child=null;do{var Gt=De.sibling;De.sibling=null,De=Gt}while(De!==null)}}Pe=k}}if((k.subtreeFlags&2064)!==0&&N!==null)N.return=k,Pe=N;else e:for(;Pe!==null;){if(k=Pe,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Vl(9,k,k.return)}var ie=k.sibling;if(ie!==null){ie.return=k.return,Pe=ie;break e}Pe=k.return}}var ee=s.current;for(Pe=ee;Pe!==null;){N=Pe;var oe=N.child;if((N.subtreeFlags&2064)!==0&&oe!==null)oe.return=N,Pe=oe;else e:for(N=ee;Pe!==null;){if(V=Pe,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:_d(9,V)}}catch(Re){Vt(V,V.return,Re)}if(V===N){Pe=null;break e}var be=V.sibling;if(be!==null){be.return=V.return,Pe=be;break e}Pe=V.return}}if(dt=C,Wi(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(ii,s)}catch{}y=!0}return y}finally{Qe=p,hr.transition=u}}return!1}function $1(s,u,p){u=Vo(p,u),u=t1(s,u,1),s=Yi(s,u,1),u=En(),s!==null&&(Se(s,1,u),zn(s,u))}function Vt(s,u,p){if(s.tag===3)$1(s,s,p);else for(;u!==null;){if(u.tag===3){$1(u,s,p);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Xi===null||!Xi.has(y))){s=Vo(p,s),s=n1(u,s,1),u=Yi(u,s,1),s=En(),u!==null&&(Se(u,1,s),zn(u,s));break}}u=u.return}}function z$(s,u,p){var y=s.pingCache;y!==null&&y.delete(u),u=En(),s.pingedLanes|=s.suspendedLanes&p,rn===s&&(pn&p)===p&&(Zt===4||Zt===3&&(pn&130023424)===pn&&500>Bt()-Bm?La(s,0):Lm|=p),zn(s,u)}function L1(s,u){u===0&&((s.mode&1)===0?u=1:(u=z,z<<=1,(z&130023424)===0&&(z=4194304)));var p=En();s=ui(s,u),s!==null&&(Se(s,u,p),zn(s,p))}function G$(s){var u=s.memoizedState,p=0;u!==null&&(p=u.retryLane),L1(s,p)}function H$(s,u){var p=0;switch(s.tag){case 13:var y=s.stateNode,C=s.memoizedState;C!==null&&(p=C.retryLane);break;case 19:y=s.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(u),L1(s,p)}var B1;B1=function(s,u,p){if(s!==null)if(s.memoizedProps!==u.pendingProps||Fn.current)Un=!0;else{if((s.lanes&p)===0&&(u.flags&128)===0)return Un=!1,N$(s,u,p);Un=(s.flags&131072)!==0}else Un=!1,$t&&(u.flags&1048576)!==0&&yS(u,rd,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;yd(s,u),s=u.pendingProps;var C=Ro(u,vn.current);qo(u,p),C=gm(null,u,y,s,C,p);var k=vm();return u.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,qn(y)?(k=!0,ed(u)):k=!1,u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,um(u),C.updater=gd,u.stateNode=C,C._reactInternals=u,Sm(u,y,s,p),u=Em(null,u,y,!0,k,p)):(u.tag=0,$t&&k&&Qp(u),kn(null,u,C,p),u=u.child),u;case 16:y=u.elementType;e:{switch(yd(s,u),s=u.pendingProps,C=y._init,y=C(y._payload),u.type=y,C=u.tag=K$(y),s=Er(y,s),C){case 0:u=km(null,u,y,s,p);break e;case 1:u=d1(null,u,y,s,p);break e;case 11:u=o1(null,u,y,s,p);break e;case 14:u=s1(null,u,y,Er(y.type,s),p);break e}throw Error(n(306,y,""))}return u;case 0:return y=u.type,C=u.pendingProps,C=u.elementType===y?C:Er(y,C),km(s,u,y,C,p);case 1:return y=u.type,C=u.pendingProps,C=u.elementType===y?C:Er(y,C),d1(s,u,y,C,p);case 3:e:{if(f1(u),s===null)throw Error(n(387));y=u.pendingProps,k=u.memoizedState,C=k.element,ES(s,u),ud(u,y,null,p);var N=u.memoizedState;if(y=N.element,k.isDehydrated)if(k={element:y,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},u.updateQueue.baseState=k,u.memoizedState=k,u.flags&256){C=Vo(Error(n(423)),u),u=h1(s,u,y,p,C);break e}else if(y!==C){C=Vo(Error(n(424)),u),u=h1(s,u,y,p,C);break e}else for(Qn=zi(u.stateNode.containerInfo.firstChild),Zn=u,$t=!0,kr=null,p=TS(u,null,y,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Lo(),y===C){u=di(s,u,p);break e}kn(s,u,y,p)}u=u.child}return u;case 5:return OS(u),s===null&&nm(u),y=u.type,C=u.pendingProps,k=s!==null?s.memoizedProps:null,N=C.children,Wp(y,C)?N=null:k!==null&&Wp(y,k)&&(u.flags|=32),c1(s,u),kn(s,u,N,p),u.child;case 6:return s===null&&nm(u),null;case 13:return p1(s,u,p);case 4:return cm(u,u.stateNode.containerInfo),y=u.pendingProps,s===null?u.child=Bo(u,null,y,p):kn(s,u,y,p),u.child;case 11:return y=u.type,C=u.pendingProps,C=u.elementType===y?C:Er(y,C),o1(s,u,y,C,p);case 7:return kn(s,u,u.pendingProps,p),u.child;case 8:return kn(s,u,u.pendingProps.children,p),u.child;case 12:return kn(s,u,u.pendingProps.children,p),u.child;case 10:e:{if(y=u.type._context,C=u.pendingProps,k=u.memoizedProps,N=C.value,Tt(od,y._currentValue),y._currentValue=N,k!==null)if(Tr(k.value,N)){if(k.children===C.children&&!Fn.current){u=di(s,u,p);break e}}else for(k=u.child,k!==null&&(k.return=u);k!==null;){var V=k.dependencies;if(V!==null){N=k.child;for(var X=V.firstContext;X!==null;){if(X.context===y){if(k.tag===1){X=ci(-1,p&-p),X.tag=2;var se=k.updateQueue;if(se!==null){se=se.shared;var pe=se.pending;pe===null?X.next=X:(X.next=pe.next,pe.next=X),se.pending=X}}k.lanes|=p,X=k.alternate,X!==null&&(X.lanes|=p),sm(k.return,p,u),V.lanes|=p;break}X=X.next}}else if(k.tag===10)N=k.type===u.type?null:k.child;else if(k.tag===18){if(N=k.return,N===null)throw Error(n(341));N.lanes|=p,V=N.alternate,V!==null&&(V.lanes|=p),sm(N,p,u),N=k.sibling}else N=k.child;if(N!==null)N.return=k;else for(N=k;N!==null;){if(N===u){N=null;break}if(k=N.sibling,k!==null){k.return=N.return,N=k;break}N=N.return}k=N}kn(s,u,C.children,p),u=u.child}return u;case 9:return C=u.type,y=u.pendingProps.children,qo(u,p),C=dr(C),y=y(C),u.flags|=1,kn(s,u,y,p),u.child;case 14:return y=u.type,C=Er(y,u.pendingProps),C=Er(y.type,C),s1(s,u,y,C,p);case 15:return l1(s,u,u.type,u.pendingProps,p);case 17:return y=u.type,C=u.pendingProps,C=u.elementType===y?C:Er(y,C),yd(s,u),u.tag=1,qn(y)?(s=!0,ed(u)):s=!1,qo(u,p),QS(u,y,C),Sm(u,y,C,p),Em(null,u,y,!0,s,p);case 19:return g1(s,u,p);case 22:return u1(s,u,p)}throw Error(n(156,u.tag))};function F1(s,u){return Mc(s,u)}function W$(s,u,p,y){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(s,u,p,y){return new W$(s,u,p,y)}function Wm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function K$(s){if(typeof s=="function")return Wm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===W)return 11;if(s===B)return 14}return 2}function ta(s,u){var p=s.alternate;return p===null?(p=pr(s.tag,u,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=u,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,u=s.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function Pd(s,u,p,y,C,k){var N=2;if(y=s,typeof s=="function")Wm(s)&&(N=1);else if(typeof s=="string")N=5;else e:switch(s){case I:return Fa(p.children,C,k,u);case D:N=8,C|=8;break;case F:return s=pr(12,p,u,C|2),s.elementType=F,s.lanes=k,s;case J:return s=pr(13,p,u,C),s.elementType=J,s.lanes=k,s;case H:return s=pr(19,p,u,C),s.elementType=H,s.lanes=k,s;case Y:return Od(p,C,k,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case q:N=10;break e;case L:N=9;break e;case W:N=11;break e;case B:N=14;break e;case Z:N=16,y=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return u=pr(N,p,u,C),u.elementType=s,u.type=y,u.lanes=k,u}function Fa(s,u,p,y){return s=pr(7,s,y,u),s.lanes=p,s}function Od(s,u,p,y){return s=pr(22,s,y,u),s.elementType=Y,s.lanes=p,s.stateNode={isHidden:!1},s}function Km(s,u,p){return s=pr(6,s,null,u),s.lanes=p,s}function Ym(s,u,p){return u=pr(4,s.children!==null?s.children:[],s.key,u),u.lanes=p,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function Y$(s,u,p,y,C){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Le(0),this.expirationTimes=Le(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.identifierPrefix=y,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Jm(s,u,p,y,C,k,N,V,X){return s=new Y$(s,u,p,V,X),u===1?(u=1,k===!0&&(u|=8)):u=0,k=pr(3,null,null,u),s.current=k,k.stateNode=s,k.memoizedState={element:y,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},um(k),s}function J$(s,u,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:y==null?null:""+y,children:s,containerInfo:u,implementation:p}}function q1(s){if(!s)return Hi;s=s._reactInternals;e:{if(ri(s)!==s||s.tag!==1)throw Error(n(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(qn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(s.tag===1){var p=s.type;if(qn(p))return mS(s,p,u)}return u}function U1(s,u,p,y,C,k,N,V,X){return s=Jm(p,y,!0,s,C,k,N,V,X),s.context=q1(null),p=s.current,y=En(),C=Qi(p),k=ci(y,C),k.callback=u??null,Yi(p,k,C),s.current.lanes=C,Se(s,C,y),zn(s,y),s}function Md(s,u,p,y){var C=u.current,k=En(),N=Qi(C);return p=q1(p),u.context===null?u.context=p:u.pendingContext=p,u=ci(k,N),u.payload={element:s},y=y===void 0?null:y,y!==null&&(u.callback=y),s=Yi(C,u,N),s!==null&&(Or(s,C,N,k),ld(s,C,N)),N}function Id(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function V1(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<u?p:u}}function Xm(s,u){V1(s,u),(s=s.alternate)&&V1(s,u)}function X$(){return null}var z1=typeof reportError=="function"?reportError:function(s){console.error(s)};function Zm(s){this._internalRoot=s}Nd.prototype.render=Zm.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(n(409));Md(s,u,null,null)},Nd.prototype.unmount=Zm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;$a(function(){Md(null,s,null,null)}),u[ai]=null}};function Nd(s){this._internalRoot=s}Nd.prototype.unstable_scheduleHydration=function(s){if(s){var u=Co();s={blockedOn:null,target:s,priority:u};for(var p=0;p<qi.length&&u!==0&&u<qi[p].priority;p++);qi.splice(p,0,s),p===0&&Ow(s)}};function Qm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Dd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function G1(){}function Z$(s,u,p,y,C){if(C){if(typeof y=="function"){var k=y;y=function(){var se=Id(N);k.call(se)}}var N=U1(u,y,s,0,null,!1,!1,"",G1);return s._reactRootContainer=N,s[ai]=N.current,Ol(s.nodeType===8?s.parentNode:s),$a(),N}for(;C=s.lastChild;)s.removeChild(C);if(typeof y=="function"){var V=y;y=function(){var se=Id(X);V.call(se)}}var X=Jm(s,0,!1,null,null,!1,!1,"",G1);return s._reactRootContainer=X,s[ai]=X.current,Ol(s.nodeType===8?s.parentNode:s),$a(function(){Md(u,X,p,y)}),X}function Rd(s,u,p,y,C){var k=p._reactRootContainer;if(k){var N=k;if(typeof C=="function"){var V=C;C=function(){var X=Id(N);V.call(X)}}Md(u,N,s,C)}else N=Z$(p,u,s,C,y);return Id(N)}wo=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var p=U(u.pendingLanes);p!==0&&(ot(u,p|1),zn(u,Bt()),(dt&6)===0&&(Ho=Bt()+500,Wi()))}break;case 13:$a(function(){var y=ui(s,1);if(y!==null){var C=En();Or(y,s,1,C)}}),Xm(s,1)}},Ea=function(s){if(s.tag===13){var u=ui(s,134217728);if(u!==null){var p=En();Or(u,s,134217728,p)}Xm(s,134217728)}},So=function(s){if(s.tag===13){var u=Qi(s),p=ui(s,u);if(p!==null){var y=En();Or(p,s,u,y)}Xm(s,u)}},Co=function(){return Qe},To=function(s,u){var p=Qe;try{return Qe=s,u()}finally{Qe=p}},hl=function(s,u,p){switch(u){case"input":if(Ut(s,p),u=p.name,p.type==="radio"&&u!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var y=p[u];if(y!==s&&y.form===s.form){var C=Zc(y);if(!C)throw Error(n(90));ce(y),Ut(y,C)}}}break;case"textarea":Sa(s,p);break;case"select":u=p.value,u!=null&&gn(s,!!p.multiple,u,!1)}},Tc=zm,kc=$a;var Q$={usingClientEntryPoint:!1,Events:[Nl,No,Zc,Sc,Cc,zm]},Wl={findFiberByHostInstance:Pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eL={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Pc(s),s===null?null:s.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||X$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{ii=jd.inject(eL),sr=jd}catch{}}return Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q$,Gn.createPortal=function(s,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qm(u))throw Error(n(200));return J$(s,u,null,p)},Gn.createRoot=function(s,u){if(!Qm(s))throw Error(n(299));var p=!1,y="",C=z1;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),u=Jm(s,1,!1,null,null,p,!1,y,C),s[ai]=u.current,Ol(s.nodeType===8?s.parentNode:s),new Zm(u)},Gn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Pc(u),s=s===null?null:s.stateNode,s},Gn.flushSync=function(s){return $a(s)},Gn.hydrate=function(s,u,p){if(!Dd(u))throw Error(n(200));return Rd(null,s,u,!0,p)},Gn.hydrateRoot=function(s,u,p){if(!Qm(s))throw Error(n(405));var y=p!=null&&p.hydratedSources||null,C=!1,k="",N=z1;if(p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(k=p.identifierPrefix),p.onRecoverableError!==void 0&&(N=p.onRecoverableError)),u=U1(u,null,s,1,p??null,C,!1,k,N),s[ai]=u.current,Ol(s),y)for(s=0;s<y.length;s++)p=y[s],C=p._getVersion,C=C(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,C]:u.mutableSourceEagerHydrationData.push(p,C);return new Nd(u)},Gn.render=function(s,u,p){if(!Dd(u))throw Error(n(200));return Rd(null,s,u,!1,p)},Gn.unmountComponentAtNode=function(s){if(!Dd(s))throw Error(n(40));return s._reactRootContainer?($a(function(){Rd(null,null,s,!1,function(){s._reactRootContainer=null,s[ai]=null})}),!0):!1},Gn.unstable_batchedUpdates=zm,Gn.unstable_renderSubtreeIntoContainer=function(s,u,p,y){if(!Dd(p))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Rd(s,u,p,!1,y)},Gn.version="18.3.1-next-f1338f8080-20240426",Gn}var Q1;function uL(){if(Q1)return ng.exports;Q1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ng.exports=lL(),ng.exports}var eC;function cL(){if(eC)return Ld;eC=1;var t=uL();return Ld.createRoot=t.createRoot,Ld.hydrateRoot=t.hydrateRoot,Ld}var dL=cL();const fL=mt(dL),hL="modulepreload",pL=function(t){return"/controle-financeiro/"+t},tC={},sc=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(n.map(d=>{if(d=pL(d),d in tC)return;tC[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":hL,f||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),f)return new Promise((_,w)=>{v.addEventListener("load",_),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},mL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>sc(async()=>{const{default:r}=await Promise.resolve().then(()=>Zs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class fb extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class gL extends fb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vL extends fb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yL extends fb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(mx||(mx={}));var xL=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class _L{constructor(e,{headers:n={},customFetch:r,region:i=mx.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=mL(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return xL(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(w=>{throw new gL(w)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new vL(f);if(!f.ok)throw new yL(f);let v=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield f.json():v==="application/octet-stream"?_=yield f.blob():v==="text/event-stream"?_=f:v==="multipart/form-data"?_=yield f.formData():_=yield f.text(),{data:_,error:null}}catch(i){return{data:null,error:i}}})}}var on={},Ko={},Yo={},Jo={},Xo={},Zo={},bL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bs=bL();const wL=bs.fetch,eN=bs.fetch.bind(bs),tN=bs.Headers,SL=bs.Request,CL=bs.Response,Zs=Object.freeze(Object.defineProperty({__proto__:null,Headers:tN,Request:SL,Response:CL,default:eN,fetch:wL},Symbol.toStringTag,{value:"Module"})),TL=nL(Zs);var Bd={},nC;function nN(){if(nC)return Bd;nC=1,Object.defineProperty(Bd,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Bd.default=t,Bd}var rC;function rN(){if(rC)return Zo;rC=1;var t=Zo&&Zo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Zo,"__esModule",{value:!0});const e=t(TL),n=t(nN());class r{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=Object.assign({},this.headers),this.headers[a]=o,this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,h,v;let _=null,w=null,S=null,b=d.status,A=d.statusText;if(d.ok){if(this.method!=="HEAD"){const E=await d.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=E:w=JSON.parse(E))}const T=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),M=(h=d.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");T&&M&&M.length>1&&(S=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(_={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,S=null,b=406,A="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const T=await d.text();try{_=JSON.parse(T),Array.isArray(_)&&d.status===404&&(w=[],_=null,b=200,A="OK")}catch{d.status===404&&T===""?(b=204,A="No Content"):_={message:T}}if(_&&this.isMaybeSingle&&(!((v=_==null?void 0:_.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,b=200,A="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:w,count:S,status:b,statusText:A}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,h,v;return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(h=d==null?void 0:d.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(v=d==null?void 0:d.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,o)}returns(){return this}overrideTypes(){return this}}return Zo.default=r,Zo}var iC;function iN(){if(iC)return Xo;iC=1;var t=Xo&&Xo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xo,"__esModule",{value:!0});const e=t(rN());class n extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var f;const h=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${v}"; options=${h};`,d==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Xo.default=n,Xo}var aC;function hb(){if(aC)return Jo;aC=1;var t=Jo&&Jo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jo,"__esModule",{value:!0});const e=t(iN());class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return Jo.default=n,Jo}var oC;function aN(){if(oC)return Yo;oC=1;var t=Yo&&Yo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yo,"__esModule",{value:!0});const e=t(hb());class n{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=a,this.schema=o,this.fetch=l}select(i,{head:a=!1,count:o}={}){const l=a?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const d=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const d="POST",f=[`resolution=${o?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),c||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const h=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(h.length>0){const v=[...new Set(h)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Yo.default=n,Yo}var Yl={},Jl={},sC;function kL(){return sC||(sC=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.version=void 0,Jl.version="0.0.0-automated"),Jl}var lC;function EL(){if(lC)return Yl;lC=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.DEFAULT_HEADERS=void 0;const t=kL();return Yl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Yl}var uC;function AL(){if(uC)return Ko;uC=1;var t=Ko&&Ko.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ko,"__esModule",{value:!0});const e=t(aN()),n=t(hb()),r=EL();class i{constructor(o,{headers:l={},schema:c,fetch:d}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=d}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:d=!1,count:f}={}){let h;const v=new URL(`${this.url}/rpc/${o}`);let _;c||d?(h=c?"HEAD":"GET",Object.entries(l).filter(([S,b])=>b!==void 0).map(([S,b])=>[S,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([S,b])=>{v.searchParams.append(S,b)})):(h="POST",_=l);const w=Object.assign({},this.headers);return f&&(w.Prefer=`count=${f}`),new n.default({method:h,url:v,headers:w,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return Ko.default=i,Ko}var cC;function PL(){if(cC)return on;cC=1;var t=on&&on.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(on,"__esModule",{value:!0}),on.PostgrestError=on.PostgrestBuilder=on.PostgrestTransformBuilder=on.PostgrestFilterBuilder=on.PostgrestQueryBuilder=on.PostgrestClient=void 0;const e=t(AL());on.PostgrestClient=e.default;const n=t(aN());on.PostgrestQueryBuilder=n.default;const r=t(hb());on.PostgrestFilterBuilder=r.default;const i=t(iN());on.PostgrestTransformBuilder=i.default;const a=t(rN());on.PostgrestBuilder=a.default;const o=t(nN());return on.PostgrestError=o.default,on.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},on}var OL=PL();const ML=mt(OL),{PostgrestClient:IL,PostgrestQueryBuilder:ose,PostgrestFilterBuilder:sse,PostgrestTransformBuilder:lse,PostgrestBuilder:use,PostgrestError:cse}=ML;let gx;typeof window>"u"?gx=require("ws"):gx=window.WebSocket;const NL="2.11.10",DL={"X-Client-Info":`realtime-js/${NL}`},RL="1.0.0",oN=1e4,jL=1e3;var ms;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ms||(ms={}));var Pn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pn||(Pn={}));var Nr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Nr||(Nr={}));var vx;(function(t){t.websocket="websocket"})(vx||(vx={}));var Ya;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ya||(Ya={}));class $L{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+i));o=o+i;const c=r.decode(e.slice(o,o+a));o=o+a;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class sN{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(kt||(kt={}));const dC=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=LL(o,t,e,i),a),{})},LL=(t,e,n,r)=>{const i=e.find(l=>l.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?lN(a,o):yx(o)},lN=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return UL(e,n)}switch(t){case kt.bool:return BL(e);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return FL(e);case kt.json:case kt.jsonb:return qL(e);case kt.timestamp:return VL(e);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return yx(e);default:return yx(e)}},yx=t=>t,BL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},FL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},UL=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>lN(e,l))}return t},VL=t=>typeof t=="string"?t.replace(" ","T"):t,uN=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ag{constructor(e,n,r={},i=oN){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fC||(fC={}));class hu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hu.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=hu.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hu.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),l={},c={};return this.map(a,(d,f)=>{o[d]||(c[d]=f)}),this.map(o,(d,f)=>{const h=a[d];if(h){const v=f.map(b=>b.presence_ref),_=h.map(b=>b.presence_ref),w=f.filter(b=>_.indexOf(b.presence_ref)<0),S=h.filter(b=>v.indexOf(b.presence_ref)<0);w.length>0&&(l[d]=w),S.length>0&&(c[d]=S)}else l[d]=f}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const f=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),f.length>0){const h=e[l].map(_=>_.presence_ref),v=f.filter(_=>h.indexOf(_.presence_ref)<0);e[l].unshift(...v)}r(l,f,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const f=c.map(h=>h.presence_ref);d=d.filter(h=>f.indexOf(h.presence_ref)<0),e[l]=d,i(l,d,c),d.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hC||(hC={}));var pC;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(pC||(pC={}));var mi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mi||(mi={}));class pb{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ag(this,Nr.join,this.params,this.timeout),this.rejoinTimer=new sN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new hu(this),this.broadcastEndpointURL=uN(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(f=>e==null?void 0:e(mi.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(mi.CLOSED));const c={},d={broadcast:a,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var h;if(this.socket.setAuth(),f===void 0){e==null||e(mi.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(h=v==null?void 0:v.length)!==null&&h!==void 0?h:0,w=[];for(let S=0;S<_;S++){const b=v[S],{filter:{event:A,schema:O,table:T,filter:M}}=b,E=f&&f[S];if(E&&E.event===A&&E.schema===O&&E.table===T&&E.filter===M)w.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=Pn.errored,e==null||e(mi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(mi.SUBSCRIBED);return}}).receive("error",f=>{this.state=Pn.errored,e==null||e(mi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const i=new ag(this,Nr.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ag(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:f}=Nr;if(r&&[l,c,d,f].indexOf(o)>=0&&r!==this._joinRef())return;let v=this._onMessage(o,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var w,S,b;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(S=_.filter)===null||S===void 0?void 0:S.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(_=>_.callback(v,r)):(a=this.bindings[o])===null||a===void 0||a.filter(_=>{var w,S,b,A,O,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const M=_.id,E=(w=_.filter)===null||w===void 0?void 0:w.event;return M&&((S=n.ids)===null||S===void 0?void 0:S.includes(M))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const M=(O=(A=_==null?void 0:_.filter)===null||A===void 0?void 0:A.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return M==="*"||M===((T=n==null?void 0:n.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:S,table:b,commit_timestamp:A,type:O,errors:T}=w;v=Object.assign(Object.assign({},{schema:S,table:b,commit_timestamp:A,eventType:O,new:{},old:{},errors:T}),this._getPayloadRecords(w))}_.callback(v,r)})}_isClosed(){return this.state===Pn.closed}_isJoined(){return this.state===Pn.joined}_isJoining(){return this.state===Pn.joining}_isLeaving(){return this.state===Pn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&pb.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nr.close,{},e)}_onError(e){this._on(Nr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=dC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=dC(e.columns,e.old_record)),n}}const mC=()=>{},zL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class GL{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=DL,this.params={},this.timeout=oN,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mC,this.ref=0,this.logger=mC,this.conn=null,this.sendBuffer=[],this.serializer=new $L,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>sc(async()=>{const{default:c}=await Promise.resolve().then(()=>Zs);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${vx.websocket}`,this.httpEndpoint=uN(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=gx),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new HL(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RL}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ms.connecting:return Ya.Connecting;case ms.open:return Ya.Open;case ms.closing:return Ya.Closing;default:return Ya.Closed}}isConnected(){return this.connectionState()===Ya.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new pb(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Nr.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(jL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:a,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([zL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class HL{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ms.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class mb extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function sn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class WL extends mb{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class xx extends mb{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var KL=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const cN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>sc(async()=>{const{default:r}=await Promise.resolve().then(()=>Zs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},YL=()=>KL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sc(()=>Promise.resolve().then(()=>Zs),void 0)).Response:Response}),_x=t=>{if(Array.isArray(t))return t.map(n=>_x(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=_x(r)}),e};var ho=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const og=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),JL=(t,e,n)=>ho(void 0,void 0,void 0,function*(){const r=yield YL();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new WL(og(i),t.status||500))}).catch(i=>{e(new xx(og(i),i))}):e(new xx(og(t),t))}),XL=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function lc(t,e,n,r,i,a){return ho(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,XL(e,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>JL(c,l,r))})})}function ff(t,e,n,r){return ho(this,void 0,void 0,function*(){return lc(t,"GET",e,n,r)})}function ia(t,e,n,r,i){return ho(this,void 0,void 0,function*(){return lc(t,"POST",e,r,i,n)})}function ZL(t,e,n,r,i){return ho(this,void 0,void 0,function*(){return lc(t,"PUT",e,r,i,n)})}function QL(t,e,n,r){return ho(this,void 0,void 0,function*(){return lc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function dN(t,e,n,r,i){return ho(this,void 0,void 0,function*(){return lc(t,"DELETE",e,r,i,n)})}var Hn=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const e5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class t5{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=cN(i)}uploadOrUpdate(e,n,r,i){return Hn(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},gC),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:e,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),v=yield h.json();return h.ok?{data:{path:d,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(a){if(sn(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Hn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:gC.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),v=yield h.json();return h.ok?{data:{path:a,fullPath:v.Key},error:null}:{data:null,error:v}}catch(c){if(sn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Hn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield ia(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new mb("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:{path:(yield ia(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Hn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ia(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Hn(this,void 0,void 0,function*(){try{const i=yield ia(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}download(e,n){return Hn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ff(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(sn(l))return{data:null,error:l};throw l}})}info(e){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ff(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_x(r),error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}})}exists(e){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield QL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(sn(r)&&r instanceof xx){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield dN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(sn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Hn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},e5),n),{prefix:e||""});return{data:yield ia(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const n5="2.7.1",r5={"X-Client-Info":`storage-js/${n5}`};var Qo=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class i5{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},r5),n),this.fetch=cN(r)}listBuckets(){return Qo(this,void 0,void 0,function*(){try{return{data:yield ff(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(sn(e))return{data:null,error:e};throw e}})}getBucket(e){return Qo(this,void 0,void 0,function*(){try{return{data:yield ff(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(sn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Qo(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Qo(this,void 0,void 0,function*(){try{return{data:yield ZL(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Qo(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(sn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Qo(this,void 0,void 0,function*(){try{return{data:yield dN(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(sn(n))return{data:null,error:n};throw n}})}}class a5 extends i5{constructor(e,n={},r){super(e,n,r)}from(e){return new t5(this.url,this.headers,e,this.fetch)}}const o5="2.50.0";let su="";typeof Deno<"u"?su="deno":typeof document<"u"?su="web":typeof navigator<"u"&&navigator.product==="ReactNative"?su="react-native":su="node";const s5={"X-Client-Info":`supabase-js-${su}/${o5}`},l5={headers:s5},u5={schema:"public"},c5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d5={};var f5=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const h5=t=>{let e;return t?e=t:typeof fetch>"u"?e=eN:e=fetch,(...n)=>e(...n)},p5=()=>typeof Headers>"u"?tN:Headers,m5=(t,e,n)=>{const r=h5(n),i=p5();return(a,o)=>f5(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:d}))})};var g5=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};function v5(t){return t.endsWith("/")?t:t+"/"}function y5(t,e){var n,r;const{db:i,auth:a,realtime:o,global:l}=t,{db:c,auth:d,realtime:f,global:h}=e,v={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>g5(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const fN="2.70.0",ss=30*1e3,bx=3,sg=bx*ss,x5="http://localhost:9999",_5="supabase.auth.token",b5={"X-Client-Info":`gotrue-js/${fN}`},wx="X-Supabase-Api-Version",hN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,S5=6e5;class gb extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function tt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class C5 extends gb{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function T5(t){return tt(t)&&t.name==="AuthApiError"}class pN extends gb{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class va extends gb{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ra extends va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k5(t){return tt(t)&&t.name==="AuthSessionMissingError"}class Fd extends va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qd extends va{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ud extends va{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function E5(t){return tt(t)&&t.name==="AuthImplicitGrantRedirectError"}class vC extends va{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sx extends va{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function lg(t){return tt(t)&&t.name==="AuthRetryableFetchError"}class yC extends va{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class pu extends va{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xC=` 	
\r=`.split(""),A5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<xC.length;e+=1)t[xC[e].charCodeAt(0)]=-2;for(let e=0;e<hf.length;e+=1)t[hf[e].charCodeAt(0)]=e;return t})();function _C(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(hf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(hf[r]),e.queuedBits-=6}}function mN(t,e,n){const r=A5[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bC(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{M5(o,r,n)};for(let o=0;o<t.length;o+=1)mN(t.charCodeAt(o),i,a);return e.join("")}function P5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function O5(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}P5(r,e)}}function M5(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function I5(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)mN(t.charCodeAt(i),n,r);return new Uint8Array(e)}function N5(t){const e=[];return O5(t,n=>e.push(n)),new Uint8Array(e)}function D5(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>_C(i,n,r)),_C(null,n,r),e.join("")}function R5(t){return Math.round(Date.now()/1e3)+t}function j5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ir=()=>typeof window<"u"&&typeof document<"u",qa={tested:!1,writable:!1},mu=()=>{if(!Ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qa.tested)return qa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qa.tested=!0,qa.writable=!0}catch{qa.tested=!0,qa.writable=!1}return qa.writable};function $5(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const gN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>sc(async()=>{const{default:r}=await Promise.resolve().then(()=>Zs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},L5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",vN=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Vd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},zd=async(t,e)=>{await t.removeItem(e)};class bh{constructor(){this.promise=new bh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}bh.promiseConstructor=Promise;function ug(t){const e=t.split(".");if(e.length!==3)throw new pu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!w5.test(e[r]))throw new pu("JWT not in base64url format");return{header:JSON.parse(bC(e[0])),payload:JSON.parse(bC(e[1])),signature:I5(e[2]),raw:{header:e[0],payload:e[1]}}}async function B5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function F5(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function q5(t){return("0"+t.toString(16)).substr(-2)}function U5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,q5).join("")}async function V5(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function z5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await V5(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function es(t,e,n=!1){const r=U5();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await vN(t,`${e}-code-verifier`,i);const a=await z5(r);return[a,r===a?"plain":"s256"]}const G5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H5(t){const e=t.headers.get(wx);if(!e||!e.match(G5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function W5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function K5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Y5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ts(t){if(!Y5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var J5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ha=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),X5=[502,503,504];async function wC(t){var e;if(!L5(t))throw new Sx(Ha(t),0);if(X5.includes(t.status))throw new Sx(Ha(t),t.status);let n;try{n=await t.json()}catch(a){throw new pN(Ha(a),a)}let r;const i=H5(t);if(i&&i.getTime()>=hN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new yC(Ha(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ra}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new yC(Ha(n),t.status,n.weak_password.reasons);throw new C5(Ha(n),t.status||500,r)}const Z5=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function st(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[wx]||(a[wx]=hN["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Q5(t,e,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Q5(t,e,n,r,i,a){const o=Z5(e,r,i,a);let l;try{l=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new Sx(Ha(c),0)}if(l.ok||await wC(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await wC(c)}}function pi(t){var e;let n=null;r3(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=R5(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function SC(t){const e=pi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function la(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function e3(t){return{data:t,error:null}}function t3(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=J5(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function n3(t){return t}function r3(t){return t.access_token&&t.refresh_token&&t.expires_in}const cg=["global","local","others"];var i3=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class a3{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=gN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=cg[0]){if(cg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cg.join(", ")}`);try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:la})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=i3(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:t3,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(tt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:la})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},f=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:n3});if(f.error)throw f.error;const h=await f.json(),v=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);d[`${b}Page`]=S}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(tt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){ts(e);try{return await st(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:la})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ts(e);try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:la})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ts(e);try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:la})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ts(e.userId);try{const{data:n,error:r}=await st(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ts(e.userId),ts(e.id);try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}}const o3={getItem:t=>mu()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{mu()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{mu()&&globalThis.localStorage.removeItem(t)}};function CC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function s3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ns={debug:!!(globalThis&&mu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yN extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class l3 extends yN{}async function u3(t,e,n){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new l3(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ns.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}s3();const c3={url:x5,storageKey:_5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:b5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function TC(t,e,n){return await n()}class Su{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Su.nextInstanceID,Su.nextInstanceID+=1,this.instanceID>0&&Ir()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},c3),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new a3({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=gN(i.fetch),this.lock=i.lock||TC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ir()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=u3:this.lock=TC,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:mu()?this.storage=o3:(this.memoryStorage={},this.storage=CC(this.memoryStorage)):(this.memoryStorage={},this.storage=CC(this.memoryStorage)),Ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fN}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=$5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ir()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),E5(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return tt(n)?{error:n}:{error:new pN("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:pi}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(tt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:f,password:h,options:v}=e;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await es(this.storage,this.storageKey)),a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:f,password:h,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:w},xform:pi})}else if("phone"in e){const{phone:f,password:h,options:v}=e;a=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:pi})}else throw new qd("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(tt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:l}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:SC})}else if("phone"in e){const{phone:a,password:o,options:l}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:SC})}else throw new qd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Fd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,a,o,l,c,d,f,h,v,_;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:b,wallet:A,statement:O,options:T}=e;let M;if(Ir())if(typeof A=="object")M=A;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))M=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=A}const E=new URL((n=T==null?void 0:T.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const P=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),O?{statement:O}:null));let I;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")I=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)I=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)w=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),S=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=T==null?void 0:T.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=T==null?void 0:T.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((h=(f=T==null?void 0:T.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...T.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const P=await M.signMessage(new TextEncoder().encode(w),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=P}}try{const{data:b,error:A}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:D5(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:pi});if(A)throw A;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Fd}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:A})}catch(b){if(tt(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await Vd(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:pi});if(await zd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Fd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(tt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,l=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pi}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Fd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await es(this.storage,this.storageKey));const{error:h}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:f}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new qd("You must provide either an email or phone number.")}catch(l){if(tt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:pi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(tt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await es(this.storage,this.storageKey)),await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:e3})}catch(a){if(tt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ra;const{error:i}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(tt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await st(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:l}=await st(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new qd("You must provide either an email or phone number and a type")}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Vd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<sg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,f)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,f))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:la}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ra}:await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:la})})}catch(n){if(tt(n))return k5(n)&&(await this._removeSession(),await zd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ra;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await es(this.storage,this.storageKey));const{data:d,error:f}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:la});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ra;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=ug(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(tt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ra;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ir())throw new Ud("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ud(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ud("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vC("No code detected.");const{data:O,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!a||!l||!o||!d)throw new Ud("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(l);let v=f+h;c&&(v=parseInt(c));const _=v-f;_*1e3<=ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${h}s`);const w=v-h;f-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,f):f-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,f);const{data:S,error:b}=await this._getUser(a);if(b)throw b;const A={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:v,refresh_token:o,token_type:d,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:e.type},error:null}}catch(r){if(tt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Vd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(T5(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await zd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=j5(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await es(this.storage,this.storageKey,!0));try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(tt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,c,d,f;const{data:h,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",_,{headers:this.headers,jwt:(f=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Ir()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(tt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await F5(async i=>(i>0&&await B5(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pi})),(i,a)=>{const o=200*Math.pow(2,i);return a&&lg(a)&&Date.now()+o-r<ss})}catch(r){if(this._debug(n,"error",r),tt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ir()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Vd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<sg;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${sg}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),lg(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ra;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new bh;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new ra;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),tt(a)){const o={session:null,error:a};return lg(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await vN(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await zd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ir()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ss);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ss}ms, refresh threshold is ${bx} ticks`),i<=bx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yN)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ir()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await es(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await st(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await st(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(tt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(tt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ug(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+S5>Date.now()))return r;const{data:i,error:a}=await st(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new pu("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new pu("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:_,error:w}=await this.getSession();if(w||!_.session)return{data:null,error:w};r=_.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=ug(r);if(W5(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:a,header:i,signature:o},error:null}}const d=K5(i.alg),f=await this.fetchJwk(i.kid,n),h=await crypto.subtle.importKey("jwk",f,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,N5(`${l}.${c}`)))throw new pu("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}}Su.nextInstanceID=0;const d3=Su;class f3 extends d3{constructor(e){super(e)}}var h3=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class p3{constructor(e,n,r){var i,a,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=v5(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:u5,realtime:d5,auth:Object.assign(Object.assign({},c5),{storageKey:d}),global:l5},h=y5(r??{},f);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=m5(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new IL(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new _L(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new a5(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return h3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:o,lock:l,debug:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new GL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const m3=(t,e,n)=>new p3(t,e,n),g3="https://kezqwaibstyhvxpdhdts.supabase.co",v3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtlenF3YWlic3R5aHZ4cGRoZHRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2ODU0NTEsImV4cCI6MjA1OTI2MTQ1MX0.f8lcr89hUJLsQYdHWE6tFlijL7PtHKI3w7KtG-PGgb8",ke=m3(g3,v3);var de=(t=>(t.INCOME="INCOME",t.EXPENSE="EXPENSE",t.TRANSFER="TRANSFER",t))(de||{}),ir=(t=>(t.DEPOSIT="DEPOSIT",t.WITHDRAWAL="WITHDRAWAL",t))(ir||{});const y3=[{name:"Salário"},{name:"Vendas"},{name:"Investimentos"},{name:"Presente"},{name:"Outras Receitas"}],x3=[{name:"Alimentação"},{name:"Transporte"},{name:"Moradia"},{name:"Lazer"},{name:"Saúde"},{name:"Educação"},{name:"Compras"},{name:"Impostos"},{name:"Água"},{name:"Luz"},{name:"Outras Despesas"}],_3=[{name:"Carteira",initial_balance:0},{name:"Banco Principal",initial_balance:1e3}],Cx="Meu Financeiro",wh=[{value:de.INCOME,label:"Receita"},{value:de.EXPENSE,label:"Despesa"},{value:de.TRANSFER,label:"Transferência"}],b3=[{value:"all",label:"Todo o Período"},{value:"today",label:"Hoje"},{value:"current_month",label:"Este Mês"},{value:"last_7_days",label:"Últimos 7 Dias"},{value:"last_30_days",label:"Últimos 30 Dias"}],w3=t=>{const e=y3.map(r=>({...r,user_id:t,type:de.INCOME})),n=x3.map(r=>({...r,user_id:t,type:de.EXPENSE}));return[...e,...n]},S3=t=>_3.map(e=>({...e,user_id:t})),ut=()=>crypto.randomUUID(),Dn=(t,e="pt-BR",n)=>{const r=new Date(t.includes("T")?t:t+"T00:00:00"),i={year:"numeric",month:"short",day:"numeric"},a=n?{...i,...n}:i;return r.toLocaleDateString(e,a)},ve=(t,e="BRL",n="pt-BR",r=!1)=>{var i;return r?`${((i=new Intl.NumberFormat(n,{style:"currency",currency:e}).formatToParts(0).find(o=>o.type==="currency"))==null?void 0:i.value)||"$"} ****,**`:new Intl.NumberFormat(n,{style:"currency",currency:e}).format(t)},yt=(t=new Date)=>(typeof t=="string"?new Date(t.includes("T")?t:t+"T00:00:00"):t).toISOString().split("T")[0],xN=(t,e,n)=>{const r=new Date(t+"T00:00:00");let i=r.getMonth()+e,a=r.getFullYear();i>11&&(a+=Math.floor(i/12),i=i%12);const l=r.getMonth()+1+(e-1);a=r.getFullYear(),i=l,i>11&&(a+=Math.floor(i/12),i=i%12);const c=new Date(a,i,1),d=new Date(a,i+1,0).getDate(),f=Math.min(n,d);return c.setDate(f),c},_N=(t,e,n)=>{if(!t||!e)return[];const r=[],i=n.getFullYear(),a=n.getMonth();let o=new Date(i,a,e.closing_day);n.getDate()>e.closing_day&&o.setMonth(a+1);let l=new Date(o.getFullYear(),o.getMonth(),e.due_day);e.due_day<e.closing_day&&l.setMonth(o.getMonth()+1);for(const c of t)if(c.installments_paid<c.number_of_installments){const d=c.installments_paid+1,f=xN(c.purchase_date,d,e.due_day);if(f<=l){let h=new Date(l);h.setMonth(h.getMonth()-1),(f>h||f.getFullYear()===l.getFullYear()&&f.getMonth()===l.getMonth())&&r.push(c)}}return r.filter((c,d,f)=>f.findIndex(h=>h.id===c.id)===d)},bN=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),kC=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),Tx=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15L15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),pf=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"})}),C3=({id:t,message:e,type:n,onDismiss:r})=>{let i="bg-primary dark:bg-primaryDark",a="text-white",o=kC;switch(n){case"success":i="bg-secondary dark:bg-secondaryDark",o=Tx;break;case"warning":i="bg-amber-500 dark:bg-amber-600",o=pf;break;case"error":i="bg-destructive dark:bg-destructiveDark",o=pf;break;case"info":default:i="bg-blue-500 dark:bg-blue-600",o=kC;break}return x.jsxs("div",{role:"alert","aria-live":"assertive","aria-atomic":"true",className:`relative flex items-start w-full max-w-sm p-4 rounded-lg shadow-2xl ${i} ${a} transform transition-all duration-300 ease-in-out animate-fadeIn`,children:[x.jsx("div",{className:"flex-shrink-0 mr-3",children:x.jsx(o,{className:"w-6 h-6"})}),x.jsx("div",{className:"flex-grow text-sm font-medium",children:e}),x.jsx("button",{onClick:()=>r(t),"aria-label":"Fechar notificação",className:"ml-3 -mr-1 -my-1 p-1 rounded-md hover:bg-black/20 focus:outline-none focus:ring-2 focus:ring-white/50 transition-colors",children:x.jsx(bN,{className:"w-5 h-5"})}),x.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},T3=({toasts:t,removeToast:e})=>t.length?x.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"fixed top-4 right-4 z-[100] space-y-3 w-full max-w-sm pointer-events-none",children:t.map(n=>x.jsx("div",{className:"pointer-events-auto",children:x.jsx(C3,{...n,onDismiss:e})},n.id))}):null,wN=$.createContext(void 0),SN=()=>{const t=$.useContext(wN);if(!t)throw new Error("useToasts must be used within a ToastProvider");return t},k3=({children:t})=>{const[e,n]=$.useState([]),r=$.useCallback((a,o,l=5e3)=>{const c=ut();n(d=>[{id:c,message:a,type:o,duration:l},...d.slice(0,4)]),l&&setTimeout(()=>{i(c)},l)},[]),i=$.useCallback(a=>{n(o=>o.filter(l=>l.id!==a))},[]);return x.jsxs(wN.Provider,{value:{addToast:r},children:[t,x.jsx(T3,{toasts:e,removeToast:i})]})},cn=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),E3=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52M6.25 4.97A48.416 48.416 0 0 1 12 4.5c2.291 0 4.545.16 6.75.47m-13.5 0C4.146 5.116 3.146 5.29 2.25 5.5m3.75-.48a25.293 25.293 0 0 0-3.75.48M12 12.75h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0-9h.008v.008H12V9.75Z"})}),vb=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-3.741-5.602M12 12.75a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 0H7.5M12 12.75V15m0 0H7.5M12 15A6.75 6.75 0 0 0 5.25 9.75M12 15A6.75 6.75 0 0 1 18.75 9.75M12 2.25A6.75 6.75 0 0 0 5.25 9m6.75-6.75v1.5m0 1.5V9m0-3a2.25 2.25 0 0 0-2.25-2.25H7.5A2.25 2.25 0 0 0 5.25 6m13.5 6.75a2.25 2.25 0 0 0-2.25-2.25H15a2.25 2.25 0 0 0-2.25 2.25m3.75 0v1.5m0 1.5V18m0-3a2.25 2.25 0 0 0-2.25-2.25H15A2.25 2.25 0 0 0 12.75 15m3.75 0h-3.75M3.375 19.5a2.25 2.25 0 0 1 2.25-2.25H10.5a2.25 2.25 0 0 1 2.25 2.25"})}),ye=({variant:t="primary",size:e="md",children:n,className:r,...i})=>{const a="font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-backgroundDark transition-colors duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center";let o="";switch(t){case"primary":o="bg-primary text-white hover:bg-blue-700 dark:bg-primaryDark dark:hover:bg-blue-600 focus:ring-primary dark:focus:ring-primaryDark";break;case"secondary":o="bg-secondary text-white hover:bg-emerald-700 dark:bg-secondaryDark dark:hover:bg-emerald-600 focus:ring-secondary dark:focus:ring-secondaryDark";break;case"danger":o="bg-destructive text-white hover:bg-red-700 dark:bg-destructiveDark dark:hover:bg-red-600 focus:ring-destructive dark:focus:ring-destructiveDark";break;case"ghost":o="bg-transparent text-textBase dark:text-textBaseDark hover:bg-neutral/10 dark:hover:bg-neutralDark/20 focus:ring-neutral dark:focus:ring-neutralDark";break}let l="";switch(e){case"sm":l="px-3 py-1.5 text-sm";break;case"md":l="px-4 py-2 text-base";break;case"lg":l="px-6 py-3 text-lg";break}return x.jsx("button",{className:`${a} ${o} ${l} ${r||""}`,...i,children:n})};function CN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CN(t))&&(r&&(r+=" "),r+=e);return r}var dg,EC;function Kn(){if(EC)return dg;EC=1;var t=Array.isArray;return dg=t,dg}var fg,AC;function TN(){if(AC)return fg;AC=1;var t=typeof $d=="object"&&$d&&$d.Object===Object&&$d;return fg=t,fg}var hg,PC;function ei(){if(PC)return hg;PC=1;var t=TN(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return hg=n,hg}var pg,OC;function uc(){if(OC)return pg;OC=1;var t=ei(),e=t.Symbol;return pg=e,pg}var mg,MC;function A3(){if(MC)return mg;MC=1;var t=uc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var l=n.call(o,i),c=o[i];try{o[i]=void 0;var d=!0}catch{}var f=r.call(o);return d&&(l?o[i]=c:delete o[i]),f}return mg=a,mg}var gg,IC;function P3(){if(IC)return gg;IC=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return gg=n,gg}var vg,NC;function Ei(){if(NC)return vg;NC=1;var t=uc(),e=A3(),n=P3(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:r:a&&a in Object(l)?e(l):n(l)}return vg=o,vg}var yg,DC;function Ai(){if(DC)return yg;DC=1;function t(e){return e!=null&&typeof e=="object"}return yg=t,yg}var xg,RC;function Qs(){if(RC)return xg;RC=1;var t=Ei(),e=Ai(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return xg=r,xg}var _g,jC;function yb(){if(jC)return _g;jC=1;var t=Kn(),e=Qs(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return _g=i,_g}var bg,$C;function ya(){if($C)return bg;$C=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return bg=t,bg}var wg,LC;function xb(){if(LC)return wg;LC=1;var t=Ei(),e=ya(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==a}return wg=o,wg}var Sg,BC;function O3(){if(BC)return Sg;BC=1;var t=ei(),e=t["__core-js_shared__"];return Sg=e,Sg}var Cg,FC;function M3(){if(FC)return Cg;FC=1;var t=O3(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Cg=n,Cg}var Tg,qC;function kN(){if(qC)return Tg;qC=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Tg=n,Tg}var kg,UC;function I3(){if(UC)return kg;UC=1;var t=xb(),e=M3(),n=ya(),r=kN(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(v){if(!n(v)||e(v))return!1;var _=t(v)?f:a;return _.test(r(v))}return kg=h,kg}var Eg,VC;function N3(){if(VC)return Eg;VC=1;function t(e,n){return e==null?void 0:e[n]}return Eg=t,Eg}var Ag,zC;function po(){if(zC)return Ag;zC=1;var t=I3(),e=N3();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return Ag=n,Ag}var Pg,GC;function Sh(){if(GC)return Pg;GC=1;var t=po(),e=t(Object,"create");return Pg=e,Pg}var Og,HC;function D3(){if(HC)return Og;HC=1;var t=Sh();function e(){this.__data__=t?t(null):{},this.size=0}return Og=e,Og}var Mg,WC;function R3(){if(WC)return Mg;WC=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Mg=t,Mg}var Ig,KC;function j3(){if(KC)return Ig;KC=1;var t=Sh(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return r.call(o,a)?o[a]:void 0}return Ig=i,Ig}var Ng,YC;function $3(){if(YC)return Ng;YC=1;var t=Sh(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return Ng=r,Ng}var Dg,JC;function L3(){if(JC)return Dg;JC=1;var t=Sh(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return Dg=n,Dg}var Rg,XC;function B3(){if(XC)return Rg;XC=1;var t=D3(),e=R3(),n=j3(),r=$3(),i=L3();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Rg=a,Rg}var jg,ZC;function F3(){if(ZC)return jg;ZC=1;function t(){this.__data__=[],this.size=0}return jg=t,jg}var $g,QC;function _b(){if(QC)return $g;QC=1;function t(e,n){return e===n||e!==e&&n!==n}return $g=t,$g}var Lg,eT;function Ch(){if(eT)return Lg;eT=1;var t=_b();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Lg=e,Lg}var Bg,tT;function q3(){if(tT)return Bg;tT=1;var t=Ch(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():n.call(a,o,1),--this.size,!0}return Bg=r,Bg}var Fg,nT;function U3(){if(nT)return Fg;nT=1;var t=Ch();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Fg=e,Fg}var qg,rT;function V3(){if(rT)return qg;rT=1;var t=Ch();function e(n){return t(this.__data__,n)>-1}return qg=e,qg}var Ug,iT;function z3(){if(iT)return Ug;iT=1;var t=Ch();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Ug=e,Ug}var Vg,aT;function Th(){if(aT)return Vg;aT=1;var t=F3(),e=q3(),n=U3(),r=V3(),i=z3();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Vg=a,Vg}var zg,oT;function bb(){if(oT)return zg;oT=1;var t=po(),e=ei(),n=t(e,"Map");return zg=n,zg}var Gg,sT;function G3(){if(sT)return Gg;sT=1;var t=B3(),e=Th(),n=bb();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Gg=r,Gg}var Hg,lT;function H3(){if(lT)return Hg;lT=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Hg=t,Hg}var Wg,uT;function kh(){if(uT)return Wg;uT=1;var t=H3();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Wg=e,Wg}var Kg,cT;function W3(){if(cT)return Kg;cT=1;var t=kh();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Kg=e,Kg}var Yg,dT;function K3(){if(dT)return Yg;dT=1;var t=kh();function e(n){return t(this,n).get(n)}return Yg=e,Yg}var Jg,fT;function Y3(){if(fT)return Jg;fT=1;var t=kh();function e(n){return t(this,n).has(n)}return Jg=e,Jg}var Xg,hT;function J3(){if(hT)return Xg;hT=1;var t=kh();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return Xg=e,Xg}var Zg,pT;function wb(){if(pT)return Zg;pT=1;var t=G3(),e=W3(),n=K3(),r=Y3(),i=J3();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Zg=a,Zg}var Qg,mT;function EN(){if(mT)return Qg;mT=1;var t=wb(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var d=r.apply(this,o);return a.cache=c.set(l,d)||c,d};return a.cache=new(n.Cache||t),a}return n.Cache=t,Qg=n,Qg}var ev,gT;function X3(){if(gT)return ev;gT=1;var t=EN(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return ev=n,ev}var tv,vT;function Z3(){if(vT)return tv;vT=1;var t=X3(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,l,c,d){a.push(c?d.replace(n,"$1"):l||o)}),a});return tv=r,tv}var nv,yT;function Sb(){if(yT)return nv;yT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return nv=t,nv}var rv,xT;function Q3(){if(xT)return rv;xT=1;var t=uc(),e=Sb(),n=Kn(),r=Qs(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return rv=o,rv}var iv,_T;function AN(){if(_T)return iv;_T=1;var t=Q3();function e(n){return n==null?"":t(n)}return iv=e,iv}var av,bT;function PN(){if(bT)return av;bT=1;var t=Kn(),e=yb(),n=Z3(),r=AN();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return av=i,av}var ov,wT;function Eh(){if(wT)return ov;wT=1;var t=Qs();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return ov=e,ov}var sv,ST;function Cb(){if(ST)return sv;ST=1;var t=PN(),e=Eh();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return sv=n,sv}var lv,CT;function ON(){if(CT)return lv;CT=1;var t=Cb();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return lv=e,lv}var eB=ON();const ar=mt(eB);var uv,TT;function tB(){if(TT)return uv;TT=1;function t(e){return e==null}return uv=t,uv}var nB=tB();const lt=mt(nB);var cv,kT;function rB(){if(kT)return cv;kT=1;var t=Ei(),e=Kn(),n=Ai(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return cv=i,cv}var iB=rB();const ro=mt(iB);var aB=xb();const Ye=mt(aB);var oB=ya();const el=mt(oB);var dv={exports:{}},gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function sB(){if(ET)return gt;ET=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function S(b){if(typeof b=="object"&&b!==null){var A=b.$$typeof;switch(A){case t:switch(b=b.type,b){case n:case i:case r:case d:case f:return b;default:switch(b=b&&b.$$typeof,b){case l:case o:case c:case v:case h:case a:return b;default:return A}}case e:return A}}}return gt.ContextConsumer=o,gt.ContextProvider=a,gt.Element=t,gt.ForwardRef=c,gt.Fragment=n,gt.Lazy=v,gt.Memo=h,gt.Portal=e,gt.Profiler=i,gt.StrictMode=r,gt.Suspense=d,gt.SuspenseList=f,gt.isAsyncMode=function(){return!1},gt.isConcurrentMode=function(){return!1},gt.isContextConsumer=function(b){return S(b)===o},gt.isContextProvider=function(b){return S(b)===a},gt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},gt.isForwardRef=function(b){return S(b)===c},gt.isFragment=function(b){return S(b)===n},gt.isLazy=function(b){return S(b)===v},gt.isMemo=function(b){return S(b)===h},gt.isPortal=function(b){return S(b)===e},gt.isProfiler=function(b){return S(b)===i},gt.isStrictMode=function(b){return S(b)===r},gt.isSuspense=function(b){return S(b)===d},gt.isSuspenseList=function(b){return S(b)===f},gt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===d||b===f||b===_||typeof b=="object"&&b!==null&&(b.$$typeof===v||b.$$typeof===h||b.$$typeof===a||b.$$typeof===o||b.$$typeof===c||b.$$typeof===w||b.getModuleId!==void 0)},gt.typeOf=S,gt}var AT;function lB(){return AT||(AT=1,dv.exports=sB()),dv.exports}var uB=lB(),fv,PT;function MN(){if(PT)return fv;PT=1;var t=Ei(),e=Ai(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return fv=r,fv}var hv,OT;function cB(){if(OT)return hv;OT=1;var t=MN();function e(n){return t(n)&&n!=+n}return hv=e,hv}var dB=cB();const cc=mt(dB);var fB=MN();const hB=mt(fB);var On=function(e){return e===0?0:e>0?1:-1},Xa=function(e){return ro(e)&&e.indexOf("%")===e.length-1},Ce=function(e){return hB(e)&&!cc(e)},en=function(e){return Ce(e)||ro(e)},pB=0,dc=function(e){var n=++pB;return"".concat(e||"").concat(n)},Mn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&!ro(e))return r;var a;if(Xa(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return cc(a)&&(a=r),i&&a>n&&(a=n),a},ua=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},mB=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},aa=function(e,n){return Ce(e)&&Ce(n)?function(r){return e+r*(n-e)}:function(){return n}};function kx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ar(r,e))===n})}var gB=function(e,n){return Ce(e)&&Ce(n)?e-n:ro(e)&&ro(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function gs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Ex(t){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(t)}var vB=["viewBox","children"],yB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MT=["points","pathLength"],pv={svg:vB,polygon:MT,polyline:MT},Tb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],mf=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!el(r))return null;var i={};return Object.keys(r).forEach(function(a){Tb.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},xB=function(e,n,r){return function(i){return e(n,r,i),null}},io=function(e,n,r){if(!el(e)||Ex(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];Tb.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=xB(o,n,r))}),i},_B=["children"],bB=["children"];function IT(t,e){if(t==null)return{};var n=wB(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var NT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_i=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},DT=null,mv=null,kb=function t(e){if(e===DT&&Array.isArray(mv))return mv;var n=[];return $.Children.forEach(e,function(r){lt(r)||(uB.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),mv=n,DT=e,n};function _r(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return _i(i)}):r=[_i(e)],kb(t).forEach(function(i){var a=ar(i,"type.displayName")||ar(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function nr(t,e){var n=_r(t,e);return n&&n[0]}var RT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ce(r)||r<=0||!Ce(i)||i<=0)},SB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],CB=function(e){return e&&e.type&&ro(e.type)&&SB.indexOf(e.type)>=0},TB=function(e,n,r,i){var a,o=(a=pv==null?void 0:pv[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ye(e)&&(i&&o.includes(n)||yB.includes(n))||r&&Tb.includes(n)},We=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!el(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;TB((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=i[o])}),a},Ax=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return jT(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!jT(a,o))return!1}return!0},jT=function(e,n){if(lt(e)&&lt(n))return!0;if(!lt(e)&&!lt(n)){var r=e.props||{},i=r.children,a=IT(r,_B),o=n.props||{},l=o.children,c=IT(o,bB);return i&&l?gs(a,c)&&Ax(i,l):!i&&!l?gs(a,c):!1}return!1},$T=function(e,n){var r=[],i={};return kb(e).forEach(function(a,o){if(CB(a))r.push(a);else if(a){var l=_i(a.type),c=n[l]||{},d=c.handler,f=c.once;if(d&&(!f||!i[l])){var h=d(a,l,o);r.push(h),i[l]=!0}}}),r},kB=function(e){var n=e&&e.type;return n&&NT[n]?NT[n]:null},EB=function(e,n){return kb(n).indexOf(e)},AB=["children","width","height","viewBox","className","style","title","desc"];function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Px.apply(this,arguments)}function PB(t,e){if(t==null)return{};var n=OB(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ox(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,d=PB(t,AB),f=i||{width:n,height:r,x:0,y:0},h=at("recharts-surface",a);return K.createElement("svg",Px({},We(d,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),K.createElement("title",null,l),K.createElement("desc",null,c),e)}var MB=["children","className"];function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mx.apply(this,arguments)}function IB(t,e){if(t==null)return{};var n=NB(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _t=K.forwardRef(function(t,e){var n=t.children,r=t.className,i=IB(t,MB),a=at("recharts-layer",r);return K.createElement("g",Mx({className:a},We(i,!0),{ref:e}),n)}),$r=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},gv,LT;function DB(){if(LT)return gv;LT=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return gv=t,gv}var vv,BT;function RB(){if(BT)return vv;BT=1;var t=DB();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return vv=e,vv}var yv,FT;function IN(){if(FT)return yv;FT=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+a+"]");function c(d){return l.test(d)}return yv=c,yv}var xv,qT;function jB(){if(qT)return xv;qT=1;function t(e){return e.split("")}return xv=t,xv}var _v,UT;function $B(){if(UT)return _v;UT=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",w=d+"?",S="["+a+"]?",b="(?:"+_+"(?:"+[f,h,v].join("|")+")"+S+w+")*",A=S+w+b,O="(?:"+[f+l+"?",l,h,v,o].join("|")+")",T=RegExp(c+"(?="+c+")|"+O+A,"g");function M(E){return E.match(T)||[]}return _v=M,_v}var bv,VT;function LB(){if(VT)return bv;VT=1;var t=jB(),e=IN(),n=$B();function r(i){return e(i)?n(i):t(i)}return bv=r,bv}var wv,zT;function BB(){if(zT)return wv;zT=1;var t=RB(),e=IN(),n=LB(),r=AN();function i(a){return function(o){o=r(o);var l=e(o)?n(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[a]()+d}}return wv=i,wv}var Sv,GT;function FB(){if(GT)return Sv;GT=1;var t=BB(),e=t("toUpperCase");return Sv=e,Sv}var qB=FB();const Ah=mt(qB);function At(t){return function(){return t}}const NN=Math.cos,gf=Math.sin,Br=Math.sqrt,vf=Math.PI,Ph=2*vf,Ix=Math.PI,Nx=2*Ix,Wa=1e-6,UB=Nx-Wa;function DN(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function VB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return DN;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class zB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?DN:VB(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-e,d=i-n,f=o-e,h=l-n,v=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Wa)if(!(Math.abs(h*c-d*f)>Wa)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-o,w=i-l,S=c*c+d*d,b=_*_+w*w,A=Math.sqrt(S),O=Math.sqrt(v),T=a*Math.tan((Ix-Math.acos((S+v-b)/(2*A*O)))/2),M=T/O,E=T/A;Math.abs(M-1)>Wa&&this._append`L${e+M*f},${n+M*h}`,this._append`A${a},${a},0,0,${+(h*_>f*w)},${this._x1=e+E*c},${this._y1=n+E*d}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,f=n+c,h=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Wa||Math.abs(this._y1-f)>Wa)&&this._append`L${d},${f}`,r&&(v<0&&(v=v%Nx+Nx),v>UB?this._append`A${r},${r},0,1,${h},${e-l},${n-c}A${r},${r},0,1,${h},${this._x1=d},${this._y1=f}`:v>Wa&&this._append`A${r},${r},0,${+(v>=Ix)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Eb(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new zB(e)}function Ab(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function RN(t){this._context=t}RN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Oh(t){return new RN(t)}function jN(t){return t[0]}function $N(t){return t[1]}function LN(t,e){var n=At(!0),r=null,i=Oh,a=null,o=Eb(l);t=typeof t=="function"?t:t===void 0?jN:At(t),e=typeof e=="function"?e:e===void 0?$N:At(e);function l(c){var d,f=(c=Ab(c)).length,h,v=!1,_;for(r==null&&(a=i(_=o())),d=0;d<=f;++d)!(d<f&&n(h=c[d],d,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(h,d,c),+e(h,d,c));if(_)return a=null,_+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:At(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:At(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:At(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function Gd(t,e,n){var r=null,i=At(!0),a=null,o=Oh,l=null,c=Eb(d);t=typeof t=="function"?t:t===void 0?jN:At(+t),e=typeof e=="function"?e:At(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?$N:At(+n);function d(h){var v,_,w,S=(h=Ab(h)).length,b,A=!1,O,T=new Array(S),M=new Array(S);for(a==null&&(l=o(O=c())),v=0;v<=S;++v){if(!(v<S&&i(b=h[v],v,h))===A)if(A=!A)_=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=v-1;w>=_;--w)l.point(T[w],M[w]);l.lineEnd(),l.areaEnd()}A&&(T[v]=+t(b,v,h),M[v]=+e(b,v,h),l.point(r?+r(b,v,h):T[v],n?+n(b,v,h):M[v]))}if(O)return l=null,O+""||null}function f(){return LN().defined(i).curve(o).context(a)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:At(+h),r=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:At(+h),d):t},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:At(+h),d):r},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:At(+h),n=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:At(+h),d):e},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:At(+h),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(h){return arguments.length?(i=typeof h=="function"?h:At(!!h),d):i},d.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),d):o},d.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),d):a},d}class BN{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function GB(t){return new BN(t,!0)}function HB(t){return new BN(t,!1)}const Pb={draw(t,e){const n=Br(e/vf);t.moveTo(n,0),t.arc(0,0,n,0,Ph)}},WB={draw(t,e){const n=Br(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},FN=Br(1/3),KB=FN*2,YB={draw(t,e){const n=Br(e/KB),r=n*FN;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},JB={draw(t,e){const n=Br(e),r=-n/2;t.rect(r,r,n,n)}},XB=.8908130915292852,qN=gf(vf/10)/gf(7*vf/10),ZB=gf(Ph/10)*qN,QB=-NN(Ph/10)*qN,eF={draw(t,e){const n=Br(e*XB),r=ZB*n,i=QB*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Ph*a/5,l=NN(o),c=gf(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},Cv=Br(3),tF={draw(t,e){const n=-Br(e/(Cv*3));t.moveTo(0,n*2),t.lineTo(-Cv*n,-n),t.lineTo(Cv*n,-n),t.closePath()}},mr=-.5,gr=Br(3)/2,Dx=1/Br(12),nF=(Dx/2+1)*3,rF={draw(t,e){const n=Br(e/nF),r=n/2,i=n*Dx,a=r,o=n*Dx+n,l=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(mr*r-gr*i,gr*r+mr*i),t.lineTo(mr*a-gr*o,gr*a+mr*o),t.lineTo(mr*l-gr*c,gr*l+mr*c),t.lineTo(mr*r+gr*i,mr*i-gr*r),t.lineTo(mr*a+gr*o,mr*o-gr*a),t.lineTo(mr*l+gr*c,mr*c-gr*l),t.closePath()}};function iF(t,e){let n=null,r=Eb(i);t=typeof t=="function"?t:At(t||Pb),e=typeof e=="function"?e:At(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:At(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:At(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function yf(){}function xf(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function UN(t){this._context=t}UN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aF(t){return new UN(t)}function VN(t){this._context=t}VN.prototype={areaStart:yf,areaEnd:yf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oF(t){return new VN(t)}function zN(t){this._context=t}zN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sF(t){return new zN(t)}function GN(t){this._context=t}GN.prototype={areaStart:yf,areaEnd:yf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function lF(t){return new GN(t)}function HT(t){return t<0?-1:1}function WT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(HT(a)+HT(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function KT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tv(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function _f(t){this._context=t}_f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tv(this,this._t0,KT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tv(this,KT(this,n=WT(this,t,e)),n);break;default:Tv(this,this._t0,n=WT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function HN(t){this._context=new WN(t)}(HN.prototype=Object.create(_f.prototype)).point=function(t,e){_f.prototype.point.call(this,e,t)};function WN(t){this._context=t}WN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function uF(t){return new _f(t)}function cF(t){return new HN(t)}function KN(t){this._context=t}KN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=YT(t),i=YT(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function YT(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function dF(t){return new KN(t)}function Mh(t,e){this._context=t,this._t=e}Mh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function fF(t){return new Mh(t,.5)}function hF(t){return new Mh(t,0)}function pF(t){return new Mh(t,1)}function ws(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,l=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Rx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function mF(t,e){return t[e]}function gF(t){const e=[];return e.key=t,e}function vF(){var t=At([]),e=Rx,n=ws,r=mF;function i(a){var o=Array.from(t.apply(this,arguments),gF),l,c=o.length,d=-1,f;for(const h of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+r(h,o[l].key,d,a)]).data=h;for(l=0,f=Ab(e(o));l<c;++l)o[f[l]].index=l;return n(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:At(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:At(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Rx:typeof a=="function"?a:At(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??ws,i):n},i}function yF(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}ws(t,e)}}function xF(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}ws(t,e)}}function _F(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,d=0;l<o;++l){for(var f=t[e[l]],h=f[r][1]||0,v=f[r-1][1]||0,_=(h-v)/2,w=0;w<l;++w){var S=t[e[w]],b=S[r][1]||0,A=S[r-1][1]||0;_+=b-A}c+=h,d+=_*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,ws(t,e)}}function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}var bF=["type","size","sizeType"];function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function JT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JT(Object(n),!0).forEach(function(r){wF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wF(t,e,n){return e=SF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SF(t){var e=CF(t,"string");return Cu(e)=="symbol"?e:e+""}function CF(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TF(t,e){if(t==null)return{};var n=kF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var YN={symbolCircle:Pb,symbolCross:WB,symbolDiamond:YB,symbolSquare:JB,symbolStar:eF,symbolTriangle:tF,symbolWye:rF},EF=Math.PI/180,AF=function(e){var n="symbol".concat(Ah(e));return YN[n]||Pb},PF=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*EF;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},OF=function(e,n){YN["symbol".concat(Ah(e))]=n},Ob=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=TF(e,bF),d=XT(XT({},c),{},{type:r,size:a,sizeType:l}),f=function(){var b=AF(r),A=iF().type(b).size(PF(a,l,r));return A()},h=d.className,v=d.cx,_=d.cy,w=We(d,!0);return v===+v&&_===+_&&a===+a?K.createElement("path",jx({},w,{className:at("recharts-symbols",h),transform:"translate(".concat(v,", ").concat(_,")"),d:f()})):null};Ob.registerSymbol=OF;function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(this,arguments)}function ZT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(n),!0).forEach(function(r){Tu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XN(r.key),r)}}function DF(t,e,n){return e&&NF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RF(t,e,n){return e=bf(e),jF(t,JN()?Reflect.construct(e,n||[],bf(t).constructor):e.apply(t,n))}function jF(t,e){if(e&&(Ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $F(t)}function $F(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JN=function(){return!!t})()}function bf(t){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bf(t)}function LF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lx(t,e)}function Lx(t,e){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lx(t,e)}function Tu(t,e,n){return e=XN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XN(t){var e=BF(t,"string");return Ss(e)=="symbol"?e:e+""}function BF(t,e){if(Ss(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vr=32,Mb=function(t){function e(){return IF(this,e),RF(this,e,arguments)}return LF(e,t),DF(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=vr/2,o=vr/6,l=vr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:vr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(vr,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(vr/8,"h").concat(vr,"v").concat(vr*3/4,"h").concat(-vr,"z"),className:"recharts-legend-icon"});if(K.isValidElement(r.legendIcon)){var d=MF({},r);return delete d.legendIcon,K.cloneElement(r.legendIcon,d)}return K.createElement(Ob,{fill:c,cx:a,cy:a,size:vr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,f={x:0,y:0,width:vr,height:vr},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(_,w){var S=_.formatter||c,b=at(Tu(Tu({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",_.inactive));if(_.type==="none")return null;var A=Ye(_.value)?null:_.value;$r(!Ye(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=_.inactive?d:_.color;return K.createElement("li",$x({className:b,style:h,key:"legend-item-".concat(w)},io(r.props,_,w)),K.createElement(Ox,{width:o,height:o,viewBox:f,style:v},r.renderIcon(_)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},S?S(A,_,w):A))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}($.PureComponent);Tu(Mb,"displayName","Legend");Tu(Mb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var kv,QT;function FF(){if(QT)return kv;QT=1;var t=Th();function e(){this.__data__=new t,this.size=0}return kv=e,kv}var Ev,ek;function qF(){if(ek)return Ev;ek=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Ev=t,Ev}var Av,tk;function UF(){if(tk)return Av;tk=1;function t(e){return this.__data__.get(e)}return Av=t,Av}var Pv,nk;function VF(){if(nk)return Pv;nk=1;function t(e){return this.__data__.has(e)}return Pv=t,Pv}var Ov,rk;function zF(){if(rk)return Ov;rk=1;var t=Th(),e=bb(),n=wb(),r=200;function i(a,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(a,o),this.size=l.size,this}return Ov=i,Ov}var Mv,ik;function ZN(){if(ik)return Mv;ik=1;var t=Th(),e=FF(),n=qF(),r=UF(),i=VF(),a=zF();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,Mv=o,Mv}var Iv,ak;function GF(){if(ak)return Iv;ak=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Iv=e,Iv}var Nv,ok;function HF(){if(ok)return Nv;ok=1;function t(e){return this.__data__.has(e)}return Nv=t,Nv}var Dv,sk;function QN(){if(sk)return Dv;sk=1;var t=wb(),e=GF(),n=HF();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Dv=r,Dv}var Rv,lk;function eD(){if(lk)return Rv;lk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Rv=t,Rv}var jv,uk;function tD(){if(uk)return jv;uk=1;function t(e,n){return e.has(n)}return jv=t,jv}var $v,ck;function nD(){if(ck)return $v;ck=1;var t=QN(),e=eD(),n=tD(),r=1,i=2;function a(o,l,c,d,f,h){var v=c&r,_=o.length,w=l.length;if(_!=w&&!(v&&w>_))return!1;var S=h.get(o),b=h.get(l);if(S&&b)return S==l&&b==o;var A=-1,O=!0,T=c&i?new t:void 0;for(h.set(o,l),h.set(l,o);++A<_;){var M=o[A],E=l[A];if(d)var P=v?d(E,M,A,l,o,h):d(M,E,A,o,l,h);if(P!==void 0){if(P)continue;O=!1;break}if(T){if(!e(l,function(I,D){if(!n(T,D)&&(M===I||f(M,I,c,d,h)))return T.push(D)})){O=!1;break}}else if(!(M===E||f(M,E,c,d,h))){O=!1;break}}return h.delete(o),h.delete(l),O}return $v=a,$v}var Lv,dk;function WF(){if(dk)return Lv;dk=1;var t=ei(),e=t.Uint8Array;return Lv=e,Lv}var Bv,fk;function KF(){if(fk)return Bv;fk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return Bv=t,Bv}var Fv,hk;function Ib(){if(hk)return Fv;hk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Fv=t,Fv}var qv,pk;function YF(){if(pk)return qv;pk=1;var t=uc(),e=WF(),n=_b(),r=nD(),i=KF(),a=Ib(),o=1,l=2,c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Map]",v="[object Number]",_="[object RegExp]",w="[object Set]",S="[object String]",b="[object Symbol]",A="[object ArrayBuffer]",O="[object DataView]",T=t?t.prototype:void 0,M=T?T.valueOf:void 0;function E(P,I,D,F,q,L,W){switch(D){case O:if(P.byteLength!=I.byteLength||P.byteOffset!=I.byteOffset)return!1;P=P.buffer,I=I.buffer;case A:return!(P.byteLength!=I.byteLength||!L(new e(P),new e(I)));case c:case d:case v:return n(+P,+I);case f:return P.name==I.name&&P.message==I.message;case _:case S:return P==I+"";case h:var J=i;case w:var H=F&o;if(J||(J=a),P.size!=I.size&&!H)return!1;var B=W.get(P);if(B)return B==I;F|=l,W.set(P,I);var Z=r(J(P),J(I),F,q,L,W);return W.delete(P),Z;case b:if(M)return M.call(P)==M.call(I)}return!1}return qv=E,qv}var Uv,mk;function rD(){if(mk)return Uv;mk=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return Uv=t,Uv}var Vv,gk;function JF(){if(gk)return Vv;gk=1;var t=rD(),e=Kn();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return Vv=n,Vv}var zv,vk;function XF(){if(vk)return zv;vk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var l=e[r];n(l,r,e)&&(o[a++]=l)}return o}return zv=t,zv}var Gv,yk;function ZF(){if(yk)return Gv;yk=1;function t(){return[]}return Gv=t,Gv}var Hv,xk;function QF(){if(xk)return Hv;xk=1;var t=XF(),e=ZF(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return r.call(o,l)}))}:e;return Hv=a,Hv}var Wv,_k;function e4(){if(_k)return Wv;_k=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Wv=t,Wv}var Kv,bk;function t4(){if(bk)return Kv;bk=1;var t=Ei(),e=Ai(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Kv=r,Kv}var Yv,wk;function Nb(){if(wk)return Yv;wk=1;var t=t4(),e=Ai(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Yv=a,Yv}var lu={exports:{}},Jv,Sk;function n4(){if(Sk)return Jv;Sk=1;function t(){return!1}return Jv=t,Jv}lu.exports;var Ck;function iD(){return Ck||(Ck=1,function(t,e){var n=ei(),r=n4(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;t.exports=d}(lu,lu.exports)),lu.exports}var Xv,Tk;function Db(){if(Tk)return Xv;Tk=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Xv=n,Xv}var Zv,kk;function Rb(){if(kk)return Zv;kk=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Zv=e,Zv}var Qv,Ek;function r4(){if(Ek)return Qv;Ek=1;var t=Ei(),e=Rb(),n=Ai(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",v="[object RegExp]",_="[object Set]",w="[object String]",S="[object WeakMap]",b="[object ArrayBuffer]",A="[object DataView]",O="[object Float32Array]",T="[object Float64Array]",M="[object Int8Array]",E="[object Int16Array]",P="[object Int32Array]",I="[object Uint8Array]",D="[object Uint8ClampedArray]",F="[object Uint16Array]",q="[object Uint32Array]",L={};L[O]=L[T]=L[M]=L[E]=L[P]=L[I]=L[D]=L[F]=L[q]=!0,L[r]=L[i]=L[b]=L[a]=L[A]=L[o]=L[l]=L[c]=L[d]=L[f]=L[h]=L[v]=L[_]=L[w]=L[S]=!1;function W(J){return n(J)&&e(J.length)&&!!L[t(J)]}return Qv=W,Qv}var ey,Ak;function aD(){if(Ak)return ey;Ak=1;function t(e){return function(n){return e(n)}}return ey=t,ey}var uu={exports:{}};uu.exports;var Pk;function i4(){return Pk||(Pk=1,function(t,e){var n=TN(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(uu,uu.exports)),uu.exports}var ty,Ok;function oD(){if(Ok)return ty;Ok=1;var t=r4(),e=aD(),n=i4(),r=n&&n.isTypedArray,i=r?e(r):t;return ty=i,ty}var ny,Mk;function a4(){if(Mk)return ny;Mk=1;var t=e4(),e=Nb(),n=Kn(),r=iD(),i=Db(),a=oD(),o=Object.prototype,l=o.hasOwnProperty;function c(d,f){var h=n(d),v=!h&&e(d),_=!h&&!v&&r(d),w=!h&&!v&&!_&&a(d),S=h||v||_||w,b=S?t(d.length,String):[],A=b.length;for(var O in d)(f||l.call(d,O))&&!(S&&(O=="length"||_&&(O=="offset"||O=="parent")||w&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||i(O,A)))&&b.push(O);return b}return ny=c,ny}var ry,Ik;function o4(){if(Ik)return ry;Ik=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return ry=e,ry}var iy,Nk;function sD(){if(Nk)return iy;Nk=1;function t(e,n){return function(r){return e(n(r))}}return iy=t,iy}var ay,Dk;function s4(){if(Dk)return ay;Dk=1;var t=sD(),e=t(Object.keys,Object);return ay=e,ay}var oy,Rk;function l4(){if(Rk)return oy;Rk=1;var t=o4(),e=s4(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&o.push(l);return o}return oy=i,oy}var sy,jk;function fc(){if(jk)return sy;jk=1;var t=xb(),e=Rb();function n(r){return r!=null&&e(r.length)&&!t(r)}return sy=n,sy}var ly,$k;function Ih(){if($k)return ly;$k=1;var t=a4(),e=l4(),n=fc();function r(i){return n(i)?t(i):e(i)}return ly=r,ly}var uy,Lk;function u4(){if(Lk)return uy;Lk=1;var t=JF(),e=QF(),n=Ih();function r(i){return t(i,n,e)}return uy=r,uy}var cy,Bk;function c4(){if(Bk)return cy;Bk=1;var t=u4(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,l,c,d,f){var h=l&e,v=t(a),_=v.length,w=t(o),S=w.length;if(_!=S&&!h)return!1;for(var b=_;b--;){var A=v[b];if(!(h?A in o:r.call(o,A)))return!1}var O=f.get(a),T=f.get(o);if(O&&T)return O==o&&T==a;var M=!0;f.set(a,o),f.set(o,a);for(var E=h;++b<_;){A=v[b];var P=a[A],I=o[A];if(c)var D=h?c(I,P,A,o,a,f):c(P,I,A,a,o,f);if(!(D===void 0?P===I||d(P,I,l,c,f):D)){M=!1;break}E||(E=A=="constructor")}if(M&&!E){var F=a.constructor,q=o.constructor;F!=q&&"constructor"in a&&"constructor"in o&&!(typeof F=="function"&&F instanceof F&&typeof q=="function"&&q instanceof q)&&(M=!1)}return f.delete(a),f.delete(o),M}return cy=i,cy}var dy,Fk;function d4(){if(Fk)return dy;Fk=1;var t=po(),e=ei(),n=t(e,"DataView");return dy=n,dy}var fy,qk;function f4(){if(qk)return fy;qk=1;var t=po(),e=ei(),n=t(e,"Promise");return fy=n,fy}var hy,Uk;function lD(){if(Uk)return hy;Uk=1;var t=po(),e=ei(),n=t(e,"Set");return hy=n,hy}var py,Vk;function h4(){if(Vk)return py;Vk=1;var t=po(),e=ei(),n=t(e,"WeakMap");return py=n,py}var my,zk;function p4(){if(zk)return my;zk=1;var t=d4(),e=bb(),n=f4(),r=lD(),i=h4(),a=Ei(),o=kN(),l="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",v="[object DataView]",_=o(t),w=o(e),S=o(n),b=o(r),A=o(i),O=a;return(t&&O(new t(new ArrayBuffer(1)))!=v||e&&O(new e)!=l||n&&O(n.resolve())!=d||r&&O(new r)!=f||i&&O(new i)!=h)&&(O=function(T){var M=a(T),E=M==c?T.constructor:void 0,P=E?o(E):"";if(P)switch(P){case _:return v;case w:return l;case S:return d;case b:return f;case A:return h}return M}),my=O,my}var gy,Gk;function m4(){if(Gk)return gy;Gk=1;var t=ZN(),e=nD(),n=YF(),r=c4(),i=p4(),a=Kn(),o=iD(),l=oD(),c=1,d="[object Arguments]",f="[object Array]",h="[object Object]",v=Object.prototype,_=v.hasOwnProperty;function w(S,b,A,O,T,M){var E=a(S),P=a(b),I=E?f:i(S),D=P?f:i(b);I=I==d?h:I,D=D==d?h:D;var F=I==h,q=D==h,L=I==D;if(L&&o(S)){if(!o(b))return!1;E=!0,F=!1}if(L&&!F)return M||(M=new t),E||l(S)?e(S,b,A,O,T,M):n(S,b,I,A,O,T,M);if(!(A&c)){var W=F&&_.call(S,"__wrapped__"),J=q&&_.call(b,"__wrapped__");if(W||J){var H=W?S.value():S,B=J?b.value():b;return M||(M=new t),T(H,B,A,O,M)}}return L?(M||(M=new t),r(S,b,A,O,T,M)):!1}return gy=w,gy}var vy,Hk;function jb(){if(Hk)return vy;Hk=1;var t=m4(),e=Ai();function n(r,i,a,o,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,l)}return vy=n,vy}var yy,Wk;function g4(){if(Wk)return yy;Wk=1;var t=ZN(),e=jb(),n=1,r=2;function i(a,o,l,c){var d=l.length,f=d,h=!c;if(a==null)return!f;for(a=Object(a);d--;){var v=l[d];if(h&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++d<f;){v=l[d];var _=v[0],w=a[_],S=v[1];if(h&&v[2]){if(w===void 0&&!(_ in a))return!1}else{var b=new t;if(c)var A=c(w,S,_,a,o,b);if(!(A===void 0?e(S,w,n|r,c,b):A))return!1}}return!0}return yy=i,yy}var xy,Kk;function uD(){if(Kk)return xy;Kk=1;var t=ya();function e(n){return n===n&&!t(n)}return xy=e,xy}var _y,Yk;function v4(){if(Yk)return _y;Yk=1;var t=uD(),e=Ih();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],l=r[o];i[a]=[o,l,t(l)]}return i}return _y=n,_y}var by,Jk;function cD(){if(Jk)return by;Jk=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return by=t,by}var wy,Xk;function y4(){if(Xk)return wy;Xk=1;var t=g4(),e=v4(),n=cD();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return wy=r,wy}var Sy,Zk;function x4(){if(Zk)return Sy;Zk=1;function t(e,n){return e!=null&&n in Object(e)}return Sy=t,Sy}var Cy,Qk;function _4(){if(Qk)return Cy;Qk=1;var t=PN(),e=Nb(),n=Kn(),r=Db(),i=Rb(),a=Eh();function o(l,c,d){c=t(c,l);for(var f=-1,h=c.length,v=!1;++f<h;){var _=a(c[f]);if(!(v=l!=null&&d(l,_)))break;l=l[_]}return v||++f!=h?v:(h=l==null?0:l.length,!!h&&i(h)&&r(_,h)&&(n(l)||e(l)))}return Cy=o,Cy}var Ty,eE;function b4(){if(eE)return Ty;eE=1;var t=x4(),e=_4();function n(r,i){return r!=null&&e(r,i,t)}return Ty=n,Ty}var ky,tE;function w4(){if(tE)return ky;tE=1;var t=jb(),e=ON(),n=b4(),r=yb(),i=uD(),a=cD(),o=Eh(),l=1,c=2;function d(f,h){return r(f)&&i(h)?a(o(f),h):function(v){var _=e(v,f);return _===void 0&&_===h?n(v,f):t(h,_,l|c)}}return ky=d,ky}var Ey,nE;function tl(){if(nE)return Ey;nE=1;function t(e){return e}return Ey=t,Ey}var Ay,rE;function S4(){if(rE)return Ay;rE=1;function t(e){return function(n){return n==null?void 0:n[e]}}return Ay=t,Ay}var Py,iE;function C4(){if(iE)return Py;iE=1;var t=Cb();function e(n){return function(r){return t(r,n)}}return Py=e,Py}var Oy,aE;function T4(){if(aE)return Oy;aE=1;var t=S4(),e=C4(),n=yb(),r=Eh();function i(a){return n(a)?t(r(a)):e(a)}return Oy=i,Oy}var My,oE;function ti(){if(oE)return My;oE=1;var t=y4(),e=w4(),n=tl(),r=Kn(),i=T4();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return My=a,My}var Iy,sE;function dD(){if(sE)return Iy;sE=1;function t(e,n,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(e[o],o,e))return o;return-1}return Iy=t,Iy}var Ny,lE;function k4(){if(lE)return Ny;lE=1;function t(e){return e!==e}return Ny=t,Ny}var Dy,uE;function E4(){if(uE)return Dy;uE=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return Dy=t,Dy}var Ry,cE;function A4(){if(cE)return Ry;cE=1;var t=dD(),e=k4(),n=E4();function r(i,a,o){return a===a?n(i,a,o):t(i,e,o)}return Ry=r,Ry}var jy,dE;function P4(){if(dE)return jy;dE=1;var t=A4();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return jy=e,jy}var $y,fE;function O4(){if(fE)return $y;fE=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return $y=t,$y}var Ly,hE;function M4(){if(hE)return Ly;hE=1;function t(){}return Ly=t,Ly}var By,pE;function I4(){if(pE)return By;pE=1;var t=lD(),e=M4(),n=Ib(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return By=i,By}var Fy,mE;function N4(){if(mE)return Fy;mE=1;var t=QN(),e=P4(),n=O4(),r=tD(),i=I4(),a=Ib(),o=200;function l(c,d,f){var h=-1,v=e,_=c.length,w=!0,S=[],b=S;if(f)w=!1,v=n;else if(_>=o){var A=d?null:i(c);if(A)return a(A);w=!1,v=r,b=new t}else b=d?[]:S;e:for(;++h<_;){var O=c[h],T=d?d(O):O;if(O=f||O!==0?O:0,w&&T===T){for(var M=b.length;M--;)if(b[M]===T)continue e;d&&b.push(T),S.push(O)}else v(b,T,f)||(b!==S&&b.push(T),S.push(O))}return S}return Fy=l,Fy}var qy,gE;function D4(){if(gE)return qy;gE=1;var t=ti(),e=N4();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return qy=n,qy}var R4=D4();const vE=mt(R4);function fD(t,e,n){return e===!0?vE(t,n):Ye(e)?vE(t,e):t}function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}var j4=["ref"];function yE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(n),!0).forEach(function(r){Nh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pD(r.key),r)}}function L4(t,e,n){return e&&xE(t.prototype,e),n&&xE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function B4(t,e,n){return e=wf(e),F4(t,hD()?Reflect.construct(e,n||[],wf(t).constructor):e.apply(t,n))}function F4(t,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q4(t)}function q4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hD=function(){return!!t})()}function wf(t){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wf(t)}function U4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bx(t,e)}function Bx(t,e){return Bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bx(t,e)}function Nh(t,e,n){return e=pD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pD(t){var e=V4(t,"string");return Cs(e)=="symbol"?e:e+""}function V4(t,e){if(Cs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function z4(t,e){if(t==null)return{};var n=G4(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G4(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H4(t){return t.value}function W4(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var n=z4(e,j4);return K.createElement(Mb,n)}var _E=1,da=function(t){function e(){var n;$4(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=B4(this,e,[].concat(i)),Nh(n,"lastBoundingBox",{width:-1,height:-1}),n}return U4(e,t),L4(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>_E||Math.abs(i.height-this.lastBoundingBox.height)>_E)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?hi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,f=i.chartHeight,h,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var _=this.getBBoxSnapshot();h={left:((d||0)-_.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();v={top:((f||0)-w.height)/2}}else v=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return hi(hi({},h),v)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,f=i.payload,h=hi(hi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(_){r.wrapperNode=_}},W4(a,hi(hi({},this.props),{},{payload:fD(f,d,H4)})))}}],[{key:"getWithHeight",value:function(r,i){var a=hi(hi({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Ce(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Nh(da,"displayName","Legend");Nh(da,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Uy,bE;function K4(){if(bE)return Uy;bE=1;var t=uc(),e=Nb(),n=Kn(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return Uy=i,Uy}var Vy,wE;function mD(){if(wE)return Vy;wE=1;var t=rD(),e=K4();function n(r,i,a,o,l){var c=-1,d=r.length;for(a||(a=e),l||(l=[]);++c<d;){var f=r[c];i>0&&a(f)?i>1?n(f,i-1,a,o,l):t(l,f):o||(l[l.length]=f)}return l}return Vy=n,Vy}var zy,SE;function Y4(){if(SE)return zy;SE=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),l=i(n),c=l.length;c--;){var d=l[e?c:++a];if(r(o[d],d,o)===!1)break}return n}}return zy=t,zy}var Gy,CE;function J4(){if(CE)return Gy;CE=1;var t=Y4(),e=t();return Gy=e,Gy}var Hy,TE;function gD(){if(TE)return Hy;TE=1;var t=J4(),e=Ih();function n(r,i){return r&&t(r,i,e)}return Hy=n,Hy}var Wy,kE;function X4(){if(kE)return Wy;kE=1;var t=fc();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var o=i.length,l=r?o:-1,c=Object(i);(r?l--:++l<o)&&a(c[l],l,c)!==!1;);return i}}return Wy=e,Wy}var Ky,EE;function $b(){if(EE)return Ky;EE=1;var t=gD(),e=X4(),n=e(t);return Ky=n,Ky}var Yy,AE;function vD(){if(AE)return Yy;AE=1;var t=$b(),e=fc();function n(r,i){var a=-1,o=e(r)?Array(r.length):[];return t(r,function(l,c,d){o[++a]=i(l,c,d)}),o}return Yy=n,Yy}var Jy,PE;function Z4(){if(PE)return Jy;PE=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return Jy=t,Jy}var Xy,OE;function Q4(){if(OE)return Xy;OE=1;var t=Qs();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,l=t(n),c=r!==void 0,d=r===null,f=r===r,h=t(r);if(!d&&!h&&!l&&n>r||l&&c&&f&&!d&&!h||a&&c&&f||!i&&f||!o)return 1;if(!a&&!l&&!h&&n<r||h&&i&&o&&!a&&!l||d&&i&&o||!c&&o||!f)return-1}return 0}return Xy=e,Xy}var Zy,ME;function eq(){if(ME)return Zy;ME=1;var t=Q4();function e(n,r,i){for(var a=-1,o=n.criteria,l=r.criteria,c=o.length,d=i.length;++a<c;){var f=t(o[a],l[a]);if(f){if(a>=d)return f;var h=i[a];return f*(h=="desc"?-1:1)}}return n.index-r.index}return Zy=e,Zy}var Qy,IE;function tq(){if(IE)return Qy;IE=1;var t=Sb(),e=Cb(),n=ti(),r=vD(),i=Z4(),a=aD(),o=eq(),l=tl(),c=Kn();function d(f,h,v){h.length?h=t(h,function(S){return c(S)?function(b){return e(b,S.length===1?S[0]:S)}:S}):h=[l];var _=-1;h=t(h,a(n));var w=r(f,function(S,b,A){var O=t(h,function(T){return T(S)});return{criteria:O,index:++_,value:S}});return i(w,function(S,b){return o(S,b,v)})}return Qy=d,Qy}var e0,NE;function nq(){if(NE)return e0;NE=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return e0=t,e0}var t0,DE;function rq(){if(DE)return t0;DE=1;var t=nq(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),d=Array(c);++l<c;)d[l]=o[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=o[l];return f[i]=a(d),t(r,this,f)}}return t0=n,t0}var n0,RE;function iq(){if(RE)return n0;RE=1;function t(e){return function(){return e}}return n0=t,n0}var r0,jE;function yD(){if(jE)return r0;jE=1;var t=po(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return r0=e,r0}var i0,$E;function aq(){if($E)return i0;$E=1;var t=iq(),e=yD(),n=tl(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return i0=r,i0}var a0,LE;function oq(){if(LE)return a0;LE=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var l=n(),c=e-(l-o);if(o=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return a0=r,a0}var o0,BE;function sq(){if(BE)return o0;BE=1;var t=aq(),e=oq(),n=e(t);return o0=n,o0}var s0,FE;function lq(){if(FE)return s0;FE=1;var t=tl(),e=rq(),n=sq();function r(i,a){return n(e(i,a,t),i+"")}return s0=r,s0}var l0,qE;function Dh(){if(qE)return l0;qE=1;var t=_b(),e=fc(),n=Db(),r=ya();function i(a,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?e(l)&&n(o,l.length):c=="string"&&o in l)?t(l[o],a):!1}return l0=i,l0}var u0,UE;function uq(){if(UE)return u0;UE=1;var t=mD(),e=tq(),n=lq(),r=Dh(),i=n(function(a,o){if(a==null)return[];var l=o.length;return l>1&&r(a,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return u0=i,u0}var cq=uq();const Lb=mt(cq);function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fx.apply(this,arguments)}function dq(t,e){return mq(t)||pq(t,e)||hq(t,e)||fq()}function fq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hq(t,e){if(t){if(typeof t=="string")return VE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VE(t,e)}}function VE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function mq(t){if(Array.isArray(t))return t}function zE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(n),!0).forEach(function(r){gq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gq(t,e,n){return e=vq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vq(t){var e=yq(t,"string");return ku(e)=="symbol"?e:e+""}function yq(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xq(t){return Array.isArray(t)&&en(t[0])&&en(t[1])?t.join(" ~ "):t}var _q=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,f=e.payload,h=e.formatter,v=e.itemSorter,_=e.wrapperClassName,w=e.labelClassName,S=e.label,b=e.labelFormatter,A=e.accessibilityLayer,O=A===void 0?!1:A,T=function(){if(f&&f.length){var W={padding:0,margin:0},J=(v?Lb(f,v):f).map(function(H,B){if(H.type==="none")return null;var Z=c0({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),Y=H.formatter||h||xq,G=H.value,te=H.name,ae=G,R=te;if(Y&&ae!=null&&R!=null){var Q=Y(G,te,H,B,f);if(Array.isArray(Q)){var fe=dq(Q,2);ae=fe[0],R=fe[1]}else ae=Q}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:Z},en(R)?K.createElement("span",{className:"recharts-tooltip-item-name"},R):null,en(R)?K.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,K.createElement("span",{className:"recharts-tooltip-item-value"},ae),K.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:W},J)}return null},M=c0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=c0({margin:0},d),P=!lt(S),I=P?S:"",D=at("recharts-default-tooltip",_),F=at("recharts-tooltip-label",w);P&&b&&f!==void 0&&f!==null&&(I=b(S,f));var q=O?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",Fx({className:D,style:M},q),K.createElement("p",{className:F,style:E},K.isValidElement(I)?I:"".concat(I)),T())};function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function Hd(t,e,n){return e=bq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bq(t){var e=wq(t,"string");return Eu(e)=="symbol"?e:e+""}function wq(t,e){if(Eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xl="recharts-tooltip-wrapper",Sq={visibility:"hidden"};function Cq(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return at(Xl,Hd(Hd(Hd(Hd({},"".concat(Xl,"-right"),Ce(n)&&e&&Ce(e.x)&&n>=e.x),"".concat(Xl,"-left"),Ce(n)&&e&&Ce(e.x)&&n<e.x),"".concat(Xl,"-bottom"),Ce(r)&&e&&Ce(e.y)&&r>=e.y),"".concat(Xl,"-top"),Ce(r)&&e&&Ce(e.y)&&r<e.y))}function GE(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(a&&Ce(a[r]))return a[r];var f=n[r]-l-i,h=n[r]+i;if(e[r])return o[r]?f:h;if(o[r]){var v=f,_=c[r];return v<_?Math.max(h,c[r]):Math.max(f,c[r])}var w=h+l,S=c[r]+d;return w>S?Math.max(f,c[r]):Math.max(h,c[r])}function Tq(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function kq(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,f,h;return o.height>0&&o.width>0&&n?(f=GE({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=GE({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Tq({translateX:f,translateY:h,useTranslate3d:l})):d=Sq,{cssProperties:d,cssClasses:Cq({translateX:f,translateY:h,coordinate:n})}}function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function HE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(n),!0).forEach(function(r){Ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_D(r.key),r)}}function Pq(t,e,n){return e&&Aq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oq(t,e,n){return e=Sf(e),Mq(t,xD()?Reflect.construct(e,n||[],Sf(t).constructor):e.apply(t,n))}function Mq(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iq(t)}function Iq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xD=function(){return!!t})()}function Sf(t){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sf(t)}function Nq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qx(t,e)}function qx(t,e){return qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qx(t,e)}function Ux(t,e,n){return e=_D(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _D(t){var e=Dq(t,"string");return Ts(e)=="symbol"?e:e+""}function Dq(t,e){if(Ts(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KE=1,Rq=function(t){function e(){var n;Eq(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Oq(this,e,[].concat(i)),Ux(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ux(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),n}return Nq(e,t),Pq(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>KE||Math.abs(r.height-this.state.lastBoundingBox.height)>KE)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,f=i.coordinate,h=i.hasPayload,v=i.isAnimationActive,_=i.offset,w=i.position,S=i.reverseDirection,b=i.useTranslate3d,A=i.viewBox,O=i.wrapperStyle,T=kq({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:_,position:w,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:A}),M=T.cssClasses,E=T.cssProperties,P=WE(WE({transition:v&&a?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},O);return K.createElement("div",{tabIndex:-1,className:M,style:P,ref:function(D){r.wrapperNode=D}},d)}}])}($.PureComponent),jq=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nl={isSsr:jq()};function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function YE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(n),!0).forEach(function(r){Bb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wD(r.key),r)}}function Bq(t,e,n){return e&&Lq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fq(t,e,n){return e=Cf(e),qq(t,bD()?Reflect.construct(e,n||[],Cf(t).constructor):e.apply(t,n))}function qq(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uq(t)}function Uq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bD=function(){return!!t})()}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(t)}function Vq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vx(t,e)}function Vx(t,e){return Vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vx(t,e)}function Bb(t,e,n){return e=wD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wD(t){var e=zq(t,"string");return ks(e)=="symbol"?e:e+""}function zq(t,e){if(ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Gq(t){return t.dataKey}function Hq(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(_q,e)}var Dr=function(t){function e(){return $q(this,e),Fq(this,e,arguments)}return Vq(e,t),Bq(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,f=i.coordinate,h=i.filterNull,v=i.isAnimationActive,_=i.offset,w=i.payload,S=i.payloadUniqBy,b=i.position,A=i.reverseDirection,O=i.useTranslate3d,T=i.viewBox,M=i.wrapperStyle,E=w??[];h&&E.length&&(E=fD(w.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),S,Gq));var P=E.length>0;return K.createElement(Rq,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:v,active:a,coordinate:f,hasPayload:P,offset:_,position:b,reverseDirection:A,useTranslate3d:O,viewBox:T,wrapperStyle:M},Hq(d,JE(JE({},this.props),{},{payload:E})))}}])}($.PureComponent);Bb(Dr,"displayName","Tooltip");Bb(Dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!nl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var d0,XE;function Wq(){if(XE)return d0;XE=1;var t=ei(),e=function(){return t.Date.now()};return d0=e,d0}var f0,ZE;function Kq(){if(ZE)return f0;ZE=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return f0=e,f0}var h0,QE;function Yq(){if(QE)return h0;QE=1;var t=Kq(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return h0=n,h0}var p0,eA;function SD(){if(eA)return p0;eA=1;var t=Yq(),e=ya(),n=Qs(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=e(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=a.test(d);return h||o.test(d)?l(d.slice(2),h?2:8):i.test(d)?r:+d}return p0=c,p0}var m0,tA;function Jq(){if(tA)return m0;tA=1;var t=ya(),e=Wq(),n=SD(),r="Expected a function",i=Math.max,a=Math.min;function o(l,c,d){var f,h,v,_,w,S,b=0,A=!1,O=!1,T=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(d)&&(A=!!d.leading,O="maxWait"in d,v=O?i(n(d.maxWait)||0,c):v,T="trailing"in d?!!d.trailing:T);function M(J){var H=f,B=h;return f=h=void 0,b=J,_=l.apply(B,H),_}function E(J){return b=J,w=setTimeout(D,c),A?M(J):_}function P(J){var H=J-S,B=J-b,Z=c-H;return O?a(Z,v-B):Z}function I(J){var H=J-S,B=J-b;return S===void 0||H>=c||H<0||O&&B>=v}function D(){var J=e();if(I(J))return F(J);w=setTimeout(D,P(J))}function F(J){return w=void 0,T&&f?M(J):(f=h=void 0,_)}function q(){w!==void 0&&clearTimeout(w),b=0,f=S=h=w=void 0}function L(){return w===void 0?_:F(e())}function W(){var J=e(),H=I(J);if(f=arguments,h=this,S=J,H){if(w===void 0)return E(S);if(O)return clearTimeout(w),w=setTimeout(D,c),M(S)}return w===void 0&&(w=setTimeout(D,c)),_}return W.cancel=q,W.flush=L,W}return m0=o,m0}var g0,nA;function Xq(){if(nA)return g0;nA=1;var t=Jq(),e=ya(),n="Expected a function";function r(i,a,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return g0=r,g0}var Zq=Xq();const CD=mt(Zq);function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function rA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(n),!0).forEach(function(r){Qq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qq(t,e,n){return e=eU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eU(t){var e=tU(t,"string");return Au(e)=="symbol"?e:e+""}function tU(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nU(t,e){return oU(t)||aU(t,e)||iU(t,e)||rU()}function rU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iU(t,e){if(t){if(typeof t=="string")return iA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iA(t,e)}}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function oU(t){if(Array.isArray(t))return t}var TD=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,f=d===void 0?0:d,h=t.minHeight,v=t.maxHeight,_=t.children,w=t.debounce,S=w===void 0?0:w,b=t.id,A=t.className,O=t.onResize,T=t.style,M=T===void 0?{}:T,E=$.useRef(null),P=$.useRef();P.current=O,$.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var I=$.useState({containerWidth:i.width,containerHeight:i.height}),D=nU(I,2),F=D[0],q=D[1],L=$.useCallback(function(J,H){q(function(B){var Z=Math.round(J),Y=Math.round(H);return B.containerWidth===Z&&B.containerHeight===Y?B:{containerWidth:Z,containerHeight:Y}})},[]);$.useEffect(function(){var J=function(te){var ae,R=te[0].contentRect,Q=R.width,fe=R.height;L(Q,fe),(ae=P.current)===null||ae===void 0||ae.call(P,Q,fe)};S>0&&(J=CD(J,S,{trailing:!0,leading:!1}));var H=new ResizeObserver(J),B=E.current.getBoundingClientRect(),Z=B.width,Y=B.height;return L(Z,Y),H.observe(E.current),function(){H.disconnect()}},[L,S]);var W=$.useMemo(function(){var J=F.containerWidth,H=F.containerHeight;if(J<0||H<0)return null;$r(Xa(o)||Xa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),$r(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Xa(o)?J:o,Z=Xa(c)?H:c;n&&n>0&&(B?Z=B/n:Z&&(B=Z*n),v&&Z>v&&(Z=v)),$r(B>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,Z,o,c,f,h,n);var Y=!Array.isArray(_)&&_i(_.type).endsWith("Chart");return K.Children.map(_,function(G){return K.isValidElement(G)?$.cloneElement(G,Wd({width:B,height:Z},Y?{style:Wd({height:"100%",width:"100%",maxHeight:Z,maxWidth:B},G.props.style)}:{})):G})},[n,_,c,v,h,f,F,o]);return K.createElement("div",{id:b?"".concat(b):void 0,className:at("recharts-responsive-container",A),style:Wd(Wd({},M),{},{width:o,height:c,minWidth:f,minHeight:h,maxHeight:v}),ref:E},W)}),Rh=function(e){return null};Rh.displayName="Cell";function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function aA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(n),!0).forEach(function(r){sU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sU(t,e,n){return e=lU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lU(t){var e=uU(t,"string");return Pu(e)=="symbol"?e:e+""}function uU(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rs={widthCache:{},cacheCount:0},cU=2e3,dU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oA="recharts_measurement_span";function fU(t){var e=zx({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var gu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||nl.isSsr)return{width:0,height:0};var r=fU(n),i=JSON.stringify({text:e,copyStyle:r});if(rs.widthCache[i])return rs.widthCache[i];try{var a=document.getElementById(oA);a||(a=document.createElement("span"),a.setAttribute("id",oA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=zx(zx({},dU),r);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return rs.widthCache[i]=c,++rs.cacheCount>cU&&(rs.cacheCount=0,rs.widthCache={}),c}catch{return{width:0,height:0}}},hU=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function Tf(t,e){return vU(t)||gU(t,e)||mU(t,e)||pU()}function pU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mU(t,e){if(t){if(typeof t=="string")return sA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sA(t,e)}}function sA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function vU(t){if(Array.isArray(t))return t}function yU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_U(r.key),r)}}function xU(t,e,n){return e&&lA(t.prototype,e),n&&lA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _U(t){var e=bU(t,"string");return Ou(e)=="symbol"?e:e+""}function bU(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},CU=Object.keys(kD),us="NaN";function TU(t,e){return t*kD[e]}var Kd=function(){function t(e,n){yU(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!wU.test(n)&&(this.num=NaN,this.unit=""),CU.includes(n)&&(this.num=TU(e,n),this.unit="px")}return xU(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=SU.exec(n))!==null&&r!==void 0?r:[],a=Tf(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function ED(t){if(t.includes(us))return us;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=uA.exec(e))!==null&&n!==void 0?n:[],i=Tf(r,4),a=i[1],o=i[2],l=i[3],c=Kd.parse(a??""),d=Kd.parse(l??""),f=o==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return us;e=e.replace(uA,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,v=(h=cA.exec(e))!==null&&h!==void 0?h:[],_=Tf(v,4),w=_[1],S=_[2],b=_[3],A=Kd.parse(w??""),O=Kd.parse(b??""),T=S==="+"?A.add(O):A.subtract(O);if(T.isNaN())return us;e=e.replace(cA,T.toString())}return e}var dA=/\(([^()]*)\)/;function kU(t){for(var e=t;e.includes("(");){var n=dA.exec(e),r=Tf(n,2),i=r[1];e=e.replace(dA,ED(i))}return e}function EU(t){var e=t.replace(/\s+/g,"");return e=kU(e),e=ED(e),e}function AU(t){try{return EU(t)}catch{return us}}function v0(t){var e=AU(t.slice(5,-1));return e===us?"":e}var PU=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],OU=["dx","dy","angle","className","breakAll"];function Gx(){return Gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gx.apply(this,arguments)}function fA(t,e){if(t==null)return{};var n=MU(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hA(t,e){return RU(t)||DU(t,e)||NU(t,e)||IU()}function IU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NU(t,e){if(t){if(typeof t=="string")return pA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pA(t,e)}}function pA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function RU(t){if(Array.isArray(t))return t}var AD=/[ \f\n\r\t\v\u2028\u2029]+/,PD=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];lt(n)||(r?a=n.toString().split(""):a=n.toString().split(AD));var o=a.map(function(c){return{word:c,width:gu(c,i).width}}),l=r?0:gu(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},jU=function(e,n,r,i,a){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,f=Ce(o),h=l,v=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(Z,Y){var G=Y.word,te=Y.width,ae=Z[Z.length-1];if(ae&&(i==null||a||ae.width+te+r<Number(i)))ae.words.push(G),ae.width+=te+r;else{var R={words:[G],width:te};Z.push(R)}return Z},[])},_=v(n),w=function(B){return B.reduce(function(Z,Y){return Z.width>Y.width?Z:Y})};if(!f)return _;for(var S="…",b=function(B){var Z=h.slice(0,B),Y=PD({breakAll:d,style:c,children:Z+S}).wordsWithComputedWidth,G=v(Y),te=G.length>o||w(G).width>Number(i);return[te,G]},A=0,O=h.length-1,T=0,M;A<=O&&T<=h.length-1;){var E=Math.floor((A+O)/2),P=E-1,I=b(P),D=hA(I,2),F=D[0],q=D[1],L=b(E),W=hA(L,1),J=W[0];if(!F&&!J&&(A=E+1),F&&J&&(O=E-1),!F&&J){M=q;break}T++}return M||_},mA=function(e){var n=lt(e)?[]:e.toString().split(AD);return[{words:n}]},$U=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!nl.isSsr){var c,d,f=PD({breakAll:o,children:i,style:a});if(f){var h=f.wordsWithComputedWidth,v=f.spaceWidth;c=h,d=v}else return mA(i);return jU({breakAll:o,children:i,maxLines:l,style:a},c,d,n,r)}return mA(i)},gA="#808080",ao=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,f=e.scaleToFit,h=f===void 0?!1:f,v=e.textAnchor,_=v===void 0?"start":v,w=e.verticalAnchor,S=w===void 0?"end":w,b=e.fill,A=b===void 0?gA:b,O=fA(e,PU),T=$.useMemo(function(){return $U({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:h,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,h,O.style,O.width]),M=O.dx,E=O.dy,P=O.angle,I=O.className,D=O.breakAll,F=fA(O,OU);if(!en(r)||!en(a))return null;var q=r+(Ce(M)?M:0),L=a+(Ce(E)?E:0),W;switch(S){case"start":W=v0("calc(".concat(d,")"));break;case"middle":W=v0("calc(".concat((T.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:W=v0("calc(".concat(T.length-1," * -").concat(l,")"));break}var J=[];if(h){var H=T[0].width,B=O.width;J.push("scale(".concat((Ce(B)?B/H:1)/H,")"))}return P&&J.push("rotate(".concat(P,", ").concat(q,", ").concat(L,")")),J.length&&(F.transform=J.join(" ")),K.createElement("text",Gx({},We(F,!0),{x:q,y:L,className:at("recharts-text",I),textAnchor:_,fill:A.includes("url")?gA:A}),T.map(function(Z,Y){var G=Z.words.join(D?"":" ");return K.createElement("tspan",{x:q,dy:Y===0?W:l,key:"".concat(G,"-").concat(Y)},G)}))};function fa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LU(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fb(t){let e,n,r;t.length!==2?(e=fa,n=(l,c)=>fa(t(l),c),r=(l,c)=>t(l)-c):(e=t===fa||t===LU?t:BU,n=t,r=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const h=d+f>>>1;n(l[h],c)<0?d=h+1:f=h}while(d<f)}return d}function a(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const h=d+f>>>1;n(l[h],c)<=0?d=h+1:f=h}while(d<f)}return d}function o(l,c,d=0,f=l.length){const h=i(l,c,d,f-1);return h>d&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:i,center:o,right:a}}function BU(){return 0}function OD(t){return t===null?NaN:+t}function*FU(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const qU=Fb(fa),hc=qU.right;Fb(OD).center;class vA extends Map{constructor(e,n=zU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(yA(this,e))}has(e){return super.has(yA(this,e))}set(e,n){return super.set(UU(this,e),n)}delete(e){return super.delete(VU(this,e))}}function yA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function UU({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function VU({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function zU(t){return t!==null&&typeof t=="object"?t.valueOf():t}function GU(t=fa){if(t===fa)return MD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function MD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const HU=Math.sqrt(50),WU=Math.sqrt(10),KU=Math.sqrt(2);function kf(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=HU?10:a>=WU?5:a>=KU?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?kf(t,e,n*2):[l,c,d]}function Hx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?kf(e,t,n):kf(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function Wx(t,e,n){return e=+e,t=+t,n=+n,kf(t,e,n)[2]}function Kx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Wx(e,t,n):Wx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function xA(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _A(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ID(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?MD:GU(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),h=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*h*(c-h)/c)*(d-c/2<0?-1:1),_=Math.max(n,Math.floor(e-d*h/c+v)),w=Math.min(r,Math.floor(e+(c-d)*h/c+v));ID(t,e,_,w,i)}const a=t[e];let o=n,l=r;for(Zl(t,n,e),i(t[r],a)>0&&Zl(t,n,r);o<l;){for(Zl(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?Zl(t,n,l):(++l,Zl(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Zl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function YU(t,e,n){if(t=Float64Array.from(FU(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return _A(t);if(e>=1)return xA(t);var r,i=(r-1)*e,a=Math.floor(i),o=xA(ID(t,a).subarray(0,a+1)),l=_A(t.subarray(a+1));return o+(l-o)*(i-a)}}function JU(t,e,n=OD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function XU(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function wr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Pi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Yx=Symbol("implicit");function qb(){var t=new vA,e=[],n=[],r=Yx;function i(a){let o=t.get(a);if(o===void 0){if(r!==Yx)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new vA;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return qb(e,n).unknown(r)},wr.apply(i,arguments),i}function Mu(){var t=qb().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,l=!1,c=0,d=0,f=.5;delete t.unknown;function h(){var v=e().length,_=i<r,w=_?i:r,S=_?r:i;a=(S-w)/Math.max(1,v-c+d*2),l&&(a=Math.floor(a)),w+=(S-w-a*(v-c))*f,o=a*(1-c),l&&(w=Math.round(w),o=Math.round(o));var b=XU(v).map(function(A){return w+a*A});return n(_?b.reverse():b)}return t.domain=function(v){return arguments.length?(e(v),h()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(l=!!v,h()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,d=+v),h()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),h()):c},t.paddingOuter=function(v){return arguments.length?(d=+v,h()):d},t.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),h()):f},t.copy=function(){return Mu(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},wr.apply(h(),arguments)}function ND(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ND(e())},t}function vu(){return ND(Mu.apply(null,arguments).paddingInner(1))}function Ub(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function DD(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function pc(){}var Iu=.7,Ef=1/Iu,vs="\\s*([+-]?\\d+)\\s*",Nu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZU=/^#([0-9a-f]{3,8})$/,QU=new RegExp(`^rgb\\(${vs},${vs},${vs}\\)$`),e8=new RegExp(`^rgb\\(${Wr},${Wr},${Wr}\\)$`),t8=new RegExp(`^rgba\\(${vs},${vs},${vs},${Nu}\\)$`),n8=new RegExp(`^rgba\\(${Wr},${Wr},${Wr},${Nu}\\)$`),r8=new RegExp(`^hsl\\(${Nu},${Wr},${Wr}\\)$`),i8=new RegExp(`^hsla\\(${Nu},${Wr},${Wr},${Nu}\\)$`),bA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ub(pc,Du,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wA,formatHex:wA,formatHex8:a8,formatHsl:o8,formatRgb:SA,toString:SA});function wA(){return this.rgb().formatHex()}function a8(){return this.rgb().formatHex8()}function o8(){return RD(this).formatHsl()}function SA(){return this.rgb().formatRgb()}function Du(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ZU.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?CA(e):n===3?new Wn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=QU.exec(t))?new Wn(e[1],e[2],e[3],1):(e=e8.exec(t))?new Wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=t8.exec(t))?Yd(e[1],e[2],e[3],e[4]):(e=n8.exec(t))?Yd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=r8.exec(t))?EA(e[1],e[2]/100,e[3]/100,1):(e=i8.exec(t))?EA(e[1],e[2]/100,e[3]/100,e[4]):bA.hasOwnProperty(t)?CA(bA[t]):t==="transparent"?new Wn(NaN,NaN,NaN,0):null}function CA(t){return new Wn(t>>16&255,t>>8&255,t&255,1)}function Yd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wn(t,e,n,r)}function s8(t){return t instanceof pc||(t=Du(t)),t?(t=t.rgb(),new Wn(t.r,t.g,t.b,t.opacity)):new Wn}function Jx(t,e,n,r){return arguments.length===1?s8(t):new Wn(t,e,n,r??1)}function Wn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ub(Wn,Jx,DD(pc,{brighter(t){return t=t==null?Ef:Math.pow(Ef,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Iu:Math.pow(Iu,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wn(to(this.r),to(this.g),to(this.b),Af(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:TA,formatHex:TA,formatHex8:l8,formatRgb:kA,toString:kA}));function TA(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}`}function l8(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}${Za((isNaN(this.opacity)?1:this.opacity)*255)}`}function kA(){const t=Af(this.opacity);return`${t===1?"rgb(":"rgba("}${to(this.r)}, ${to(this.g)}, ${to(this.b)}${t===1?")":`, ${t})`}`}function Af(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function to(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Za(t){return t=to(t),(t<16?"0":"")+t.toString(16)}function EA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jr(t,e,n,r)}function RD(t){if(t instanceof jr)return new jr(t.h,t.s,t.l,t.opacity);if(t instanceof pc||(t=Du(t)),!t)return new jr;if(t instanceof jr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new jr(o,l,c,t.opacity)}function u8(t,e,n,r){return arguments.length===1?RD(t):new jr(t,e,n,r??1)}function jr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ub(jr,u8,DD(pc,{brighter(t){return t=t==null?Ef:Math.pow(Ef,t),new jr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Iu:Math.pow(Iu,t),new jr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wn(y0(t>=240?t-240:t+120,i,r),y0(t,i,r),y0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new jr(AA(this.h),Jd(this.s),Jd(this.l),Af(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Af(this.opacity);return`${t===1?"hsl(":"hsla("}${AA(this.h)}, ${Jd(this.s)*100}%, ${Jd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function AA(t){return t=(t||0)%360,t<0?t+360:t}function Jd(t){return Math.max(0,Math.min(1,t||0))}function y0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Vb=t=>()=>t;function c8(t,e){return function(n){return t+n*e}}function d8(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function f8(t){return(t=+t)==1?jD:function(e,n){return n-e?d8(e,n,t):Vb(isNaN(e)?n:e)}}function jD(t,e){var n=e-t;return n?c8(t,n):Vb(isNaN(t)?e:t)}const PA=function t(e){var n=f8(e);function r(i,a){var o=n((i=Jx(i)).r,(a=Jx(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),d=jD(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r}(1);function h8(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function p8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function m8(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=rl(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function g8(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Pf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function v8(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=rl(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Xx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x0=new RegExp(Xx.source,"g");function y8(t){return function(){return t}}function x8(t){return function(e){return t(e)+""}}function _8(t,e){var n=Xx.lastIndex=x0.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=Xx.exec(t))&&(i=x0.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Pf(r,i)})),n=x0.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?x8(c[0].x):y8(e):(e=c.length,function(d){for(var f=0,h;f<e;++f)l[(h=c[f]).i]=h.x(d);return l.join("")})}function rl(t,e){var n=typeof e,r;return e==null||n==="boolean"?Vb(e):(n==="number"?Pf:n==="string"?(r=Du(e))?(e=r,PA):_8:e instanceof Du?PA:e instanceof Date?g8:p8(e)?h8:Array.isArray(e)?m8:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?v8:Pf)(t,e)}function zb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function b8(t,e){e===void 0&&(e=t,t=rl);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function w8(t){return function(){return t}}function Of(t){return+t}var OA=[0,1];function In(t){return t}function Zx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:w8(isNaN(e)?NaN:.5)}function S8(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function C8(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Zx(i,r),a=n(o,a)):(r=Zx(r,i),a=n(a,o)),function(l){return a(r(l))}}function T8(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Zx(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var c=hc(t,l,1,r)-1;return a[c](i[c](l))}}function mc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jh(){var t=OA,e=OA,n=rl,r,i,a,o=In,l,c,d;function f(){var v=Math.min(t.length,e.length);return o!==In&&(o=S8(t[0],t[v-1])),l=v>2?T8:C8,c=d=null,h}function h(v){return v==null||isNaN(v=+v)?a:(c||(c=l(t.map(r),e,n)))(r(o(v)))}return h.invert=function(v){return o(i((d||(d=l(e,t.map(r),Pf)))(v)))},h.domain=function(v){return arguments.length?(t=Array.from(v,Of),f()):t.slice()},h.range=function(v){return arguments.length?(e=Array.from(v),f()):e.slice()},h.rangeRound=function(v){return e=Array.from(v),n=zb,f()},h.clamp=function(v){return arguments.length?(o=v?!0:In,f()):o!==In},h.interpolate=function(v){return arguments.length?(n=v,f()):n},h.unknown=function(v){return arguments.length?(a=v,h):a},function(v,_){return r=v,i=_,f()}}function Gb(){return jh()(In,In)}function k8(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Mf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Es(t){return t=Mf(Math.abs(t)),t?t[1]:NaN}function E8(t,e){return function(n,r){for(var i=n.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function A8(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var P8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ru(t){if(!(e=P8.exec(t)))throw new Error("invalid format: "+t);var e;return new Hb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ru.prototype=Hb.prototype;function Hb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Hb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function O8(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var $D;function M8(t,e){var n=Mf(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-($D=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Mf(t,Math.max(0,e+a-1))[0]}function MA(t,e){var n=Mf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const IA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:k8,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>MA(t*100,e),r:MA,s:M8,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function NA(t){return t}var DA=Array.prototype.map,RA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function I8(t){var e=t.grouping===void 0||t.thousands===void 0?NA:E8(DA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?NA:A8(DA.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=Ru(h);var v=h.fill,_=h.align,w=h.sign,S=h.symbol,b=h.zero,A=h.width,O=h.comma,T=h.precision,M=h.trim,E=h.type;E==="n"?(O=!0,E="g"):IA[E]||(T===void 0&&(T=12),M=!0,E="g"),(b||v==="0"&&_==="=")&&(b=!0,v="0",_="=");var P=S==="$"?n:S==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",I=S==="$"?r:/[%p]/.test(E)?o:"",D=IA[E],F=/[defgprs%]/.test(E);T=T===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function q(L){var W=P,J=I,H,B,Z;if(E==="c")J=D(L)+J,L="";else{L=+L;var Y=L<0||1/L<0;if(L=isNaN(L)?c:D(Math.abs(L),T),M&&(L=O8(L)),Y&&+L==0&&w!=="+"&&(Y=!1),W=(Y?w==="("?w:l:w==="-"||w==="("?"":w)+W,J=(E==="s"?RA[8+$D/3]:"")+J+(Y&&w==="("?")":""),F){for(H=-1,B=L.length;++H<B;)if(Z=L.charCodeAt(H),48>Z||Z>57){J=(Z===46?i+L.slice(H+1):L.slice(H))+J,L=L.slice(0,H);break}}}O&&!b&&(L=e(L,1/0));var G=W.length+L.length+J.length,te=G<A?new Array(A-G+1).join(v):"";switch(O&&b&&(L=e(te+L,te.length?A-J.length:1/0),te=""),_){case"<":L=W+L+J+te;break;case"=":L=W+te+L+J;break;case"^":L=te.slice(0,G=te.length>>1)+W+L+J+te.slice(G);break;default:L=te+W+L+J;break}return a(L)}return q.toString=function(){return h+""},q}function f(h,v){var _=d((h=Ru(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(Es(v)/3)))*3,S=Math.pow(10,-w),b=RA[8+w/3];return function(A){return _(S*A)+b}}return{format:d,formatPrefix:f}}var Xd,Wb,LD;N8({thousands:",",grouping:[3],currency:["$",""]});function N8(t){return Xd=I8(t),Wb=Xd.format,LD=Xd.formatPrefix,Xd}function D8(t){return Math.max(0,-Es(Math.abs(t)))}function R8(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Es(e)/3)))*3-Es(Math.abs(t)))}function j8(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Es(e)-Es(t))+1}function BD(t,e,n,r){var i=Kx(t,e,n),a;switch(r=Ru(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=R8(i,o))&&(r.precision=a),LD(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=j8(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=D8(i))&&(r.precision=a-(r.type==="%")*2);break}}return Wb(r)}function xa(t){var e=t.domain;return t.ticks=function(n){var r=e();return Hx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return BD(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],l=r[a],c,d,f=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);f-- >0;){if(d=Wx(o,l,n),d===c)return r[i]=o,r[a]=l,e(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function If(){var t=Gb();return t.copy=function(){return mc(t,If())},wr.apply(t,arguments),xa(t)}function FD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Of),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return FD(t).unknown(e)},t=arguments.length?Array.from(t,Of):[0,1],xa(n)}function qD(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function jA(t){return Math.log(t)}function $A(t){return Math.exp(t)}function $8(t){return-Math.log(-t)}function L8(t){return-Math.exp(-t)}function B8(t){return isFinite(t)?+("1e"+t):t<0?0:t}function F8(t){return t===10?B8:t===Math.E?Math.exp:e=>Math.pow(t,e)}function q8(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function LA(t){return(e,n)=>-t(-e,n)}function Kb(t){const e=t(jA,$A),n=e.domain;let r=10,i,a;function o(){return i=q8(r),a=F8(r),n()[0]<0?(i=LA(i),a=LA(a),t($8,L8)):t(jA,$A),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let d=c[0],f=c[c.length-1];const h=f<d;h&&([d,f]=[f,d]);let v=i(d),_=i(f),w,S;const b=l==null?10:+l;let A=[];if(!(r%1)&&_-v<b){if(v=Math.floor(v),_=Math.ceil(_),d>0){for(;v<=_;++v)for(w=1;w<r;++w)if(S=v<0?w/a(-v):w*a(v),!(S<d)){if(S>f)break;A.push(S)}}else for(;v<=_;++v)for(w=r-1;w>=1;--w)if(S=v>0?w/a(-v):w*a(v),!(S<d)){if(S>f)break;A.push(S)}A.length*2<b&&(A=Hx(d,f,b))}else A=Hx(v,_,Math.min(_-v,b)).map(a);return h?A.reverse():A},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ru(c)).precision==null&&(c.trim=!0),c=Wb(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=d?c(f):""}},e.nice=()=>n(qD(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function UD(){const t=Kb(jh()).domain([1,10]);return t.copy=()=>mc(t,UD()).base(t.base()),wr.apply(t,arguments),t}function BA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function FA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Yb(t){var e=1,n=t(BA(e),FA(e));return n.constant=function(r){return arguments.length?t(BA(e=+r),FA(e)):e},xa(n)}function VD(){var t=Yb(jh());return t.copy=function(){return mc(t,VD()).constant(t.constant())},wr.apply(t,arguments)}function qA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function U8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function V8(t){return t<0?-t*t:t*t}function Jb(t){var e=t(In,In),n=1;function r(){return n===1?t(In,In):n===.5?t(U8,V8):t(qA(n),qA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xa(e)}function Xb(){var t=Jb(jh());return t.copy=function(){return mc(t,Xb()).exponent(t.exponent())},wr.apply(t,arguments),t}function z8(){return Xb.apply(null,arguments).exponent(.5)}function UA(t){return Math.sign(t)*t*t}function G8(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function zD(){var t=Gb(),e=[0,1],n=!1,r;function i(a){var o=G8(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(UA(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Of)).map(UA)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return zD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},wr.apply(i,arguments),xa(i)}function GD(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=JU(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:e[hc(n,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(fa),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return GD().domain(t).range(e).unknown(r)},wr.apply(a,arguments)}function HD(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[hc(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return HD().domain([t,e]).range(i).unknown(a)},wr.apply(xa(o),arguments)}function WD(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[hc(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return WD().domain(t).range(e).unknown(n)},wr.apply(i,arguments)}const _0=new Date,b0=new Date;function tn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<o);return c},i.filter=a=>tn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(_0.setTime(+a),b0.setTime(+o),t(_0),t(b0),Math.floor(n(_0,b0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Nf=tn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Nf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?tn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Nf);Nf.range;const vi=1e3,xr=vi*60,yi=xr*60,wi=yi*24,Zb=wi*7,VA=wi*30,w0=wi*365,Qa=tn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCSeconds());Qa.range;const Qb=tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vi)},(t,e)=>{t.setTime(+t+e*xr)},(t,e)=>(e-t)/xr,t=>t.getMinutes());Qb.range;const ew=tn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*xr)},(t,e)=>(e-t)/xr,t=>t.getUTCMinutes());ew.range;const tw=tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vi-t.getMinutes()*xr)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getHours());tw.range;const nw=tn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCHours());nw.range;const gc=tn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xr)/wi,t=>t.getDate()-1);gc.range;const $h=tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wi,t=>t.getUTCDate()-1);$h.range;const KD=tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wi,t=>Math.floor(t/wi));KD.range;function mo(t){return tn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*xr)/Zb)}const Lh=mo(0),Df=mo(1),H8=mo(2),W8=mo(3),As=mo(4),K8=mo(5),Y8=mo(6);Lh.range;Df.range;H8.range;W8.range;As.range;K8.range;Y8.range;function go(t){return tn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Zb)}const Bh=go(0),Rf=go(1),J8=go(2),X8=go(3),Ps=go(4),Z8=go(5),Q8=go(6);Bh.range;Rf.range;J8.range;X8.range;Ps.range;Z8.range;Q8.range;const rw=tn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rw.range;const iw=tn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iw.range;const Si=tn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Si.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Si.range;const Ci=tn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ci.range;function YD(t,e,n,r,i,a){const o=[[Qa,1,vi],[Qa,5,5*vi],[Qa,15,15*vi],[Qa,30,30*vi],[a,1,xr],[a,5,5*xr],[a,15,15*xr],[a,30,30*xr],[i,1,yi],[i,3,3*yi],[i,6,6*yi],[i,12,12*yi],[r,1,wi],[r,2,2*wi],[n,1,Zb],[e,1,VA],[e,3,3*VA],[t,1,w0]];function l(d,f,h){const v=f<d;v&&([d,f]=[f,d]);const _=h&&typeof h.range=="function"?h:c(d,f,h),w=_?_.range(d,+f+1):[];return v?w.reverse():w}function c(d,f,h){const v=Math.abs(f-d)/h,_=Fb(([,,b])=>b).right(o,v);if(_===o.length)return t.every(Kx(d/w0,f/w0,h));if(_===0)return Nf.every(Math.max(Kx(d,f,h),1));const[w,S]=o[v/o[_-1][2]<o[_][2]/v?_-1:_];return w.every(S)}return[l,c]}const[e6,t6]=YD(Ci,iw,Bh,KD,nw,ew),[n6,r6]=YD(Si,rw,Lh,gc,tw,Qb);function S0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function C0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ql(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function i6(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=eu(i),f=tu(i),h=eu(a),v=tu(a),_=eu(o),w=tu(o),S=eu(l),b=tu(l),A=eu(c),O=tu(c),T={a:Y,A:G,b:te,B:ae,c:null,d:YA,e:YA,f:E6,g:$6,G:B6,H:C6,I:T6,j:k6,L:JD,m:A6,M:P6,p:R,q:Q,Q:ZA,s:QA,S:O6,u:M6,U:I6,V:N6,w:D6,W:R6,x:null,X:null,y:j6,Y:L6,Z:F6,"%":XA},M={a:fe,A:_e,b:Ne,B:Fe,c:null,d:JA,e:JA,f:z6,g:eV,G:nV,H:q6,I:U6,j:V6,L:ZD,m:G6,M:H6,p:nt,q:Ge,Q:ZA,s:QA,S:W6,u:K6,U:Y6,V:J6,w:X6,W:Z6,x:null,X:null,y:Q6,Y:tV,Z:rV,"%":XA},E={a:q,A:L,b:W,B:J,c:H,d:WA,e:WA,f:_6,g:HA,G:GA,H:KA,I:KA,j:g6,L:x6,m:m6,M:v6,p:F,q:p6,Q:w6,s:S6,S:y6,u:u6,U:c6,V:d6,w:l6,W:f6,x:B,X:Z,y:HA,Y:GA,Z:h6,"%":b6};T.x=P(n,T),T.X=P(r,T),T.c=P(e,T),M.x=P(n,M),M.X=P(r,M),M.c=P(e,M);function P(me,$e){return function(Ve){var ce=[],xt=-1,Ze=0,Ct=me.length,bt,Ut,$n;for(Ve instanceof Date||(Ve=new Date(+Ve));++xt<Ct;)me.charCodeAt(xt)===37&&(ce.push(me.slice(Ze,xt)),(Ut=zA[bt=me.charAt(++xt)])!=null?bt=me.charAt(++xt):Ut=bt==="e"?" ":"0",($n=$e[bt])&&(bt=$n(Ve,Ut)),ce.push(bt),Ze=xt+1);return ce.push(me.slice(Ze,xt)),ce.join("")}}function I(me,$e){return function(Ve){var ce=Ql(1900,void 0,1),xt=D(ce,me,Ve+="",0),Ze,Ct;if(xt!=Ve.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if($e&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ze=C0(Ql(ce.y,0,1)),Ct=Ze.getUTCDay(),Ze=Ct>4||Ct===0?Rf.ceil(Ze):Rf(Ze),Ze=$h.offset(Ze,(ce.V-1)*7),ce.y=Ze.getUTCFullYear(),ce.m=Ze.getUTCMonth(),ce.d=Ze.getUTCDate()+(ce.w+6)%7):(Ze=S0(Ql(ce.y,0,1)),Ct=Ze.getDay(),Ze=Ct>4||Ct===0?Df.ceil(Ze):Df(Ze),Ze=gc.offset(Ze,(ce.V-1)*7),ce.y=Ze.getFullYear(),ce.m=Ze.getMonth(),ce.d=Ze.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Ct="Z"in ce?C0(Ql(ce.y,0,1)).getUTCDay():S0(Ql(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Ct+5)%7:ce.w+ce.U*7-(Ct+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,C0(ce)):S0(ce)}}function D(me,$e,Ve,ce){for(var xt=0,Ze=$e.length,Ct=Ve.length,bt,Ut;xt<Ze;){if(ce>=Ct)return-1;if(bt=$e.charCodeAt(xt++),bt===37){if(bt=$e.charAt(xt++),Ut=E[bt in zA?$e.charAt(xt++):bt],!Ut||(ce=Ut(me,Ve,ce))<0)return-1}else if(bt!=Ve.charCodeAt(ce++))return-1}return ce}function F(me,$e,Ve){var ce=d.exec($e.slice(Ve));return ce?(me.p=f.get(ce[0].toLowerCase()),Ve+ce[0].length):-1}function q(me,$e,Ve){var ce=_.exec($e.slice(Ve));return ce?(me.w=w.get(ce[0].toLowerCase()),Ve+ce[0].length):-1}function L(me,$e,Ve){var ce=h.exec($e.slice(Ve));return ce?(me.w=v.get(ce[0].toLowerCase()),Ve+ce[0].length):-1}function W(me,$e,Ve){var ce=A.exec($e.slice(Ve));return ce?(me.m=O.get(ce[0].toLowerCase()),Ve+ce[0].length):-1}function J(me,$e,Ve){var ce=S.exec($e.slice(Ve));return ce?(me.m=b.get(ce[0].toLowerCase()),Ve+ce[0].length):-1}function H(me,$e,Ve){return D(me,e,$e,Ve)}function B(me,$e,Ve){return D(me,n,$e,Ve)}function Z(me,$e,Ve){return D(me,r,$e,Ve)}function Y(me){return o[me.getDay()]}function G(me){return a[me.getDay()]}function te(me){return c[me.getMonth()]}function ae(me){return l[me.getMonth()]}function R(me){return i[+(me.getHours()>=12)]}function Q(me){return 1+~~(me.getMonth()/3)}function fe(me){return o[me.getUTCDay()]}function _e(me){return a[me.getUTCDay()]}function Ne(me){return c[me.getUTCMonth()]}function Fe(me){return l[me.getUTCMonth()]}function nt(me){return i[+(me.getUTCHours()>=12)]}function Ge(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var $e=P(me+="",T);return $e.toString=function(){return me},$e},parse:function(me){var $e=I(me+="",!1);return $e.toString=function(){return me},$e},utcFormat:function(me){var $e=P(me+="",M);return $e.toString=function(){return me},$e},utcParse:function(me){var $e=I(me+="",!0);return $e.toString=function(){return me},$e}}}var zA={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,a6=/^%/,o6=/[\\^$*+?|[\]().{}]/g;function pt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function s6(t){return t.replace(o6,"\\$&")}function eu(t){return new RegExp("^(?:"+t.map(s6).join("|")+")","i")}function tu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function l6(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function u6(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function c6(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function d6(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function f6(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function GA(t,e,n){var r=dn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function HA(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function h6(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function p6(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function m6(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function WA(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function g6(t,e,n){var r=dn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function KA(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function v6(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function y6(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function x6(t,e,n){var r=dn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _6(t,e,n){var r=dn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function b6(t,e,n){var r=a6.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function w6(t,e,n){var r=dn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function S6(t,e,n){var r=dn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function YA(t,e){return pt(t.getDate(),e,2)}function C6(t,e){return pt(t.getHours(),e,2)}function T6(t,e){return pt(t.getHours()%12||12,e,2)}function k6(t,e){return pt(1+gc.count(Si(t),t),e,3)}function JD(t,e){return pt(t.getMilliseconds(),e,3)}function E6(t,e){return JD(t,e)+"000"}function A6(t,e){return pt(t.getMonth()+1,e,2)}function P6(t,e){return pt(t.getMinutes(),e,2)}function O6(t,e){return pt(t.getSeconds(),e,2)}function M6(t){var e=t.getDay();return e===0?7:e}function I6(t,e){return pt(Lh.count(Si(t)-1,t),e,2)}function XD(t){var e=t.getDay();return e>=4||e===0?As(t):As.ceil(t)}function N6(t,e){return t=XD(t),pt(As.count(Si(t),t)+(Si(t).getDay()===4),e,2)}function D6(t){return t.getDay()}function R6(t,e){return pt(Df.count(Si(t)-1,t),e,2)}function j6(t,e){return pt(t.getFullYear()%100,e,2)}function $6(t,e){return t=XD(t),pt(t.getFullYear()%100,e,2)}function L6(t,e){return pt(t.getFullYear()%1e4,e,4)}function B6(t,e){var n=t.getDay();return t=n>=4||n===0?As(t):As.ceil(t),pt(t.getFullYear()%1e4,e,4)}function F6(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function JA(t,e){return pt(t.getUTCDate(),e,2)}function q6(t,e){return pt(t.getUTCHours(),e,2)}function U6(t,e){return pt(t.getUTCHours()%12||12,e,2)}function V6(t,e){return pt(1+$h.count(Ci(t),t),e,3)}function ZD(t,e){return pt(t.getUTCMilliseconds(),e,3)}function z6(t,e){return ZD(t,e)+"000"}function G6(t,e){return pt(t.getUTCMonth()+1,e,2)}function H6(t,e){return pt(t.getUTCMinutes(),e,2)}function W6(t,e){return pt(t.getUTCSeconds(),e,2)}function K6(t){var e=t.getUTCDay();return e===0?7:e}function Y6(t,e){return pt(Bh.count(Ci(t)-1,t),e,2)}function QD(t){var e=t.getUTCDay();return e>=4||e===0?Ps(t):Ps.ceil(t)}function J6(t,e){return t=QD(t),pt(Ps.count(Ci(t),t)+(Ci(t).getUTCDay()===4),e,2)}function X6(t){return t.getUTCDay()}function Z6(t,e){return pt(Rf.count(Ci(t)-1,t),e,2)}function Q6(t,e){return pt(t.getUTCFullYear()%100,e,2)}function eV(t,e){return t=QD(t),pt(t.getUTCFullYear()%100,e,2)}function tV(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function nV(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ps(t):Ps.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function rV(){return"+0000"}function XA(){return"%"}function ZA(t){return+t}function QA(t){return Math.floor(+t/1e3)}var is,e2,t2;iV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iV(t){return is=i6(t),e2=is.format,is.parse,t2=is.utcFormat,is.utcParse,is}function aV(t){return new Date(t)}function oV(t){return t instanceof Date?+t:+new Date(+t)}function aw(t,e,n,r,i,a,o,l,c,d){var f=Gb(),h=f.invert,v=f.domain,_=d(".%L"),w=d(":%S"),S=d("%I:%M"),b=d("%I %p"),A=d("%a %d"),O=d("%b %d"),T=d("%B"),M=d("%Y");function E(P){return(c(P)<P?_:l(P)<P?w:o(P)<P?S:a(P)<P?b:r(P)<P?i(P)<P?A:O:n(P)<P?T:M)(P)}return f.invert=function(P){return new Date(h(P))},f.domain=function(P){return arguments.length?v(Array.from(P,oV)):v().map(aV)},f.ticks=function(P){var I=v();return t(I[0],I[I.length-1],P??10)},f.tickFormat=function(P,I){return I==null?E:d(I)},f.nice=function(P){var I=v();return(!P||typeof P.range!="function")&&(P=e(I[0],I[I.length-1],P??10)),P?v(qD(I,P)):f},f.copy=function(){return mc(f,aw(t,e,n,r,i,a,o,l,c,d))},f}function sV(){return wr.apply(aw(n6,r6,Si,rw,Lh,gc,tw,Qb,Qa,e2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lV(){return wr.apply(aw(e6,t6,Ci,iw,Bh,$h,nw,ew,Qa,t2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fh(){var t=0,e=1,n,r,i,a,o=In,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(a(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function f(h){return function(v){var _,w;return arguments.length?([_,w]=v,o=h(_,w),d):[o(0),o(1)]}}return d.range=f(rl),d.rangeRound=f(zb),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),d}}function _a(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function n2(){var t=xa(Fh()(In));return t.copy=function(){return _a(t,n2())},Pi.apply(t,arguments)}function r2(){var t=Kb(Fh()).domain([1,10]);return t.copy=function(){return _a(t,r2()).base(t.base())},Pi.apply(t,arguments)}function i2(){var t=Yb(Fh());return t.copy=function(){return _a(t,i2()).constant(t.constant())},Pi.apply(t,arguments)}function ow(){var t=Jb(Fh());return t.copy=function(){return _a(t,ow()).exponent(t.exponent())},Pi.apply(t,arguments)}function uV(){return ow.apply(null,arguments).exponent(.5)}function a2(){var t=[],e=In;function n(r){if(r!=null&&!isNaN(r=+r))return e((hc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>YU(t,a/r))},n.copy=function(){return a2(e).domain(t)},Pi.apply(n,arguments)}function qh(){var t=0,e=.5,n=1,r=1,i,a,o,l,c,d=In,f,h=!1,v;function _(S){return isNaN(S=+S)?v:(S=.5+((S=+f(S))-a)*(r*S<r*a?l:c),d(h?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,i=f(t=+t),a=f(e=+e),o=f(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(h=!!S,_):h},_.interpolator=function(S){return arguments.length?(d=S,_):d};function w(S){return function(b){var A,O,T;return arguments.length?([A,O,T]=b,d=b8(S,[A,O,T]),_):[d(0),d(.5),d(1)]}}return _.range=w(rl),_.rangeRound=w(zb),_.unknown=function(S){return arguments.length?(v=S,_):v},function(S){return f=S,i=S(t),a=S(e),o=S(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,_}}function o2(){var t=xa(qh()(In));return t.copy=function(){return _a(t,o2())},Pi.apply(t,arguments)}function s2(){var t=Kb(qh()).domain([.1,1,10]);return t.copy=function(){return _a(t,s2()).base(t.base())},Pi.apply(t,arguments)}function l2(){var t=Yb(qh());return t.copy=function(){return _a(t,l2()).constant(t.constant())},Pi.apply(t,arguments)}function sw(){var t=Jb(qh());return t.copy=function(){return _a(t,sw()).exponent(t.exponent())},Pi.apply(t,arguments)}function cV(){return sw.apply(null,arguments).exponent(.5)}const eP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mu,scaleDiverging:o2,scaleDivergingLog:s2,scaleDivergingPow:sw,scaleDivergingSqrt:cV,scaleDivergingSymlog:l2,scaleIdentity:FD,scaleImplicit:Yx,scaleLinear:If,scaleLog:UD,scaleOrdinal:qb,scalePoint:vu,scalePow:Xb,scaleQuantile:GD,scaleQuantize:HD,scaleRadial:zD,scaleSequential:n2,scaleSequentialLog:r2,scaleSequentialPow:ow,scaleSequentialQuantile:a2,scaleSequentialSqrt:uV,scaleSequentialSymlog:i2,scaleSqrt:z8,scaleSymlog:VD,scaleThreshold:WD,scaleTime:sV,scaleUtc:lV,tickFormat:BD},Symbol.toStringTag,{value:"Module"}));var T0,tP;function Uh(){if(tP)return T0;tP=1;var t=Qs();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var l=n[a],c=r(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,f=l}return f}return T0=e,T0}var k0,nP;function u2(){if(nP)return k0;nP=1;function t(e,n){return e>n}return k0=t,k0}var E0,rP;function dV(){if(rP)return E0;rP=1;var t=Uh(),e=u2(),n=tl();function r(i){return i&&i.length?t(i,n,e):void 0}return E0=r,E0}var fV=dV();const Vh=mt(fV);var A0,iP;function c2(){if(iP)return A0;iP=1;function t(e,n){return e<n}return A0=t,A0}var P0,aP;function hV(){if(aP)return P0;aP=1;var t=Uh(),e=c2(),n=tl();function r(i){return i&&i.length?t(i,n,e):void 0}return P0=r,P0}var pV=hV();const zh=mt(pV);var O0,oP;function mV(){if(oP)return O0;oP=1;var t=Sb(),e=ti(),n=vD(),r=Kn();function i(a,o){var l=r(a)?t:n;return l(a,e(o,3))}return O0=i,O0}var M0,sP;function gV(){if(sP)return M0;sP=1;var t=mD(),e=mV();function n(r,i){return t(e(r,i),1)}return M0=n,M0}var vV=gV();const yV=mt(vV);var I0,lP;function xV(){if(lP)return I0;lP=1;var t=jb();function e(n,r){return t(n,r)}return I0=e,I0}var _V=xV();const Gh=mt(_V);var il=1e9,bV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uw,Lt=!0,br="[DecimalError] ",no=br+"Invalid argument: ",lw=br+"Exponent out of range: ",al=Math.floor,Ka=Math.pow,wV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rr,ln=1e7,Rt=7,d2=9007199254740991,jf=al(d2/Rt),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Rt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(t){return bi(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,n=e.constructor;return St(bi(e,new n(t),0,1),n.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return Jt(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(rr))throw Error(br+"NaN");if(n.s<1)throw Error(br+(n.s?"NaN":"-Infinity"));return n.eq(rr)?new r(0):(Lt=!1,e=bi(ju(n,a),ju(t,a),a),Lt=!0,St(e,i))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?p2(e,t):f2(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(br+"NaN");return n.s?(Lt=!1,e=bi(n,t,0,1).times(t),Lt=!0,n.minus(e)):St(new r(n),i)};Oe.naturalExponential=Oe.exp=function(){return h2(this)};Oe.naturalLogarithm=Oe.ln=function(){return ju(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?f2(e,t):p2(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(no+t);if(e=Jt(i)+1,r=i.d.length-1,n=r*Rt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Oe.squareRoot=Oe.sqrt=function(){var t,e,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(br+"NaN")}for(t=Jt(l),Lt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=zr(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=al((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(bi(l,a,o+2)).times(.5),zr(a.d).slice(0,o)===(e=zr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(St(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;o+=4}return Lt=!0,St(r,n)};Oe.times=Oe.mul=function(t){var e,n,r,i,a,o,l,c,d,f=this,h=f.constructor,v=f.d,_=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,c=v.length,d=_.length,c<d&&(a=v,v=_,_=a,o=c,c=d,d=o),a=[],o=c+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+_[r]*v[i-r-1]+e,a[i--]=l%ln|0,e=l/ln|0;a[i]=(a[i]+e)%ln|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Lt?St(t,h.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Jr(t,0,il),e===void 0?e=r.rounding:Jr(e,0,8),St(n,t+Jt(n)+1,e))};Oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=oo(r,!0):(Jr(t,0,il),e===void 0?e=i.rounding:Jr(e,0,8),r=St(new i(r),t+1,e),n=oo(r,!0,t+1)),n};Oe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?oo(i):(Jr(t,0,il),e===void 0?e=a.rounding:Jr(e,0,8),r=St(new a(i),t+Jt(i)+1,e),n=oo(r.abs(),!1,t+Jt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return St(new e(t),Jt(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,n,r,i,a,o,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(rr);if(l=new c(l),!l.s){if(t.s<1)throw Error(br+"Infinity");return l}if(l.eq(rr))return l;if(r=c.precision,t.eq(rr))return St(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=l.s,o){if((n=f<0?-f:f)<=d2){for(i=new c(rr),e=Math.ceil(r/Rt+4),Lt=!1;n%2&&(i=i.times(l),cP(i.d,e)),n=al(n/2),n!==0;)l=l.times(l),cP(l.d,e);return Lt=!0,t.s<0?new c(rr).div(i):St(i,r)}}else if(a<0)throw Error(br+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Lt=!1,i=t.times(ju(l,r+d)),Lt=!0,i=h2(i),i.s=a,i};Oe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Jt(i),r=oo(i,n<=a.toExpNeg||n>=a.toExpPos)):(Jr(t,1,il),e===void 0?e=a.rounding:Jr(e,0,8),i=St(new a(i),t,e),n=Jt(i),r=oo(i,t<=n||n<=a.toExpNeg,t)),r};Oe.toSignificantDigits=Oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Jr(t,1,il),e===void 0?e=r.rounding:Jr(e,0,8)),St(new r(n),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Jt(t),n=t.constructor;return oo(t,e<=n.toExpNeg||e>=n.toExpPos)};function f2(t,e){var n,r,i,a,o,l,c,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Lt?St(e,h):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=d.length):(r=d,i=o,l=c.length),o=Math.ceil(h/Rt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/ln|0,c[a]%=ln;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Lt?St(e,h):e}function Jr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(no+t)}function zr(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Rt-r.length,n&&(a+=oa(n)),a+=r;o=t[e],r=o+"",n=Rt-r.length,n&&(a+=oa(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var bi=function(){function t(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%ln|0,o=a/ln|0;return o&&r.unshift(o),r}function e(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ln+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,d,f,h,v,_,w,S,b,A,O,T,M,E,P,I,D,F=r.constructor,q=r.s==i.s?1:-1,L=r.d,W=i.d;if(!r.s)return new F(r);if(!i.s)throw Error(br+"Division by zero");for(c=r.e-i.e,I=W.length,E=L.length,_=new F(q),w=_.d=[],d=0;W[d]==(L[d]||0);)++d;if(W[d]>(L[d]||0)&&--c,a==null?O=a=F.precision:o?O=a+(Jt(r)-Jt(i))+1:O=a,O<0)return new F(0);if(O=O/Rt+2|0,d=0,I==1)for(f=0,W=W[0],O++;(d<E||f)&&O--;d++)T=f*ln+(L[d]||0),w[d]=T/W|0,f=T%W|0;else{for(f=ln/(W[0]+1)|0,f>1&&(W=t(W,f),L=t(L,f),I=W.length,E=L.length),M=I,S=L.slice(0,I),b=S.length;b<I;)S[b++]=0;D=W.slice(),D.unshift(0),P=W[0],W[1]>=ln/2&&++P;do f=0,l=e(W,S,I,b),l<0?(A=S[0],I!=b&&(A=A*ln+(S[1]||0)),f=A/P|0,f>1?(f>=ln&&(f=ln-1),h=t(W,f),v=h.length,b=S.length,l=e(h,S,v,b),l==1&&(f--,n(h,I<v?D:W,v))):(f==0&&(l=f=1),h=W.slice()),v=h.length,v<b&&h.unshift(0),n(S,h,b),l==-1&&(b=S.length,l=e(W,S,I,b),l<1&&(f++,n(S,I<b?D:W,b))),b=S.length):l===0&&(f++,S=[0]),w[d++]=f,l&&S[0]?S[b++]=L[M]||0:(S=[L[M]],b=1);while((M++<E||S[0]!==void 0)&&O--)}return w[0]||w.shift(),_.e=c,St(_,o?a+Jt(_)+1:a)}}();function h2(t,e){var n,r,i,a,o,l,c=0,d=0,f=t.constructor,h=f.precision;if(Jt(t)>16)throw Error(lw+Jt(t));if(!t.s)return new f(rr);for(Lt=!1,l=h,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(Ka(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new f(rr),f.precision=l;;){if(i=St(i.times(t),l),n=n.times(++c),o=a.plus(bi(i,n,l)),zr(o.d).slice(0,l)===zr(a.d).slice(0,l)){for(;d--;)a=St(a.times(a),l);return f.precision=h,e==null?(Lt=!0,St(a,h)):a}a=o}}function Jt(t){for(var e=t.e*Rt,n=t.d[0];n>=10;n/=10)e++;return e}function N0(t,e,n){if(e>t.LN10.sd())throw Lt=!0,n&&(t.precision=n),Error(br+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function oa(t){for(var e="";t--;)e+="0";return e}function ju(t,e){var n,r,i,a,o,l,c,d,f,h=1,v=10,_=t,w=_.d,S=_.constructor,b=S.precision;if(_.s<1)throw Error(br+(_.s?"NaN":"-Infinity"));if(_.eq(rr))return new S(0);if(e==null?(Lt=!1,d=b):d=e,_.eq(10))return e==null&&(Lt=!0),N0(S,d);if(d+=v,S.precision=d,n=zr(w),r=n.charAt(0),a=Jt(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=zr(_.d),r=n.charAt(0),h++;a=Jt(_),r>1?(_=new S("0."+n),a++):_=new S(r+"."+n.slice(1))}else return c=N0(S,d+2,b).times(a+""),_=ju(new S(r+"."+n.slice(1)),d-v).plus(c),S.precision=b,e==null?(Lt=!0,St(_,b)):_;for(l=o=_=bi(_.minus(rr),_.plus(rr),d),f=St(_.times(_),d),i=3;;){if(o=St(o.times(f),d),c=l.plus(bi(o,new S(i),d)),zr(c.d).slice(0,d)===zr(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(N0(S,d+2,b).times(a+""))),l=bi(l,new S(h),d),S.precision=b,e==null?(Lt=!0,St(l,b)):l;l=c,i+=2}}function uP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=al(n/Rt),t.d=[],r=(n+1)%Rt,n<0&&(r+=Rt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Rt;r<i;)t.d.push(+e.slice(r,r+=Rt));e=e.slice(r),r=Rt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Lt&&(t.e>jf||t.e<-jf))throw Error(lw+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,i,a,o,l,c,d,f,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Rt,i=e,d=h[f=0];else{if(f=Math.ceil((r+1)/Rt),a=h.length,f>=a)return t;for(d=a=h[f],o=1;a>=10;a/=10)o++;r%=Rt,i=r-Rt+o}if(n!==void 0&&(a=Ka(10,o-i-1),l=d/a%10|0,c=e<0||h[f+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/Ka(10,o-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return c?(a=Jt(t),h.length=1,e=e-a-1,h[0]=Ka(10,(Rt-e%Rt)%Rt),t.e=al(-e/Rt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,a=1,f--):(h.length=f+1,a=Ka(10,Rt-r),h[f]=i>0?(d/Ka(10,o-i)%Ka(10,i)|0)*a:0),c)for(;;)if(f==0){(h[0]+=a)==ln&&(h[0]=1,++t.e);break}else{if(h[f]+=a,h[f]!=ln)break;h[f--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(Lt&&(t.e>jf||t.e<-jf))throw Error(lw+Jt(t));return t}function p2(t,e){var n,r,i,a,o,l,c,d,f,h,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Lt?St(e,_):e;if(c=t.d,h=e.d,r=e.e,d=t.e,c=c.slice(),o=d-r,o){for(f=o<0,f?(n=c,o=-o,l=h.length):(n=h,r=d,l=c.length),i=Math.max(Math.ceil(_/Rt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=h.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){f=c[i]<h[i];break}o=0}for(f&&(n=c,c=h,h=n,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=ln-1;--c[a],c[i]+=ln}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Lt?St(e,_):e):new v(0)}function oo(t,e,n){var r,i=Jt(t),a=zr(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+oa(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+oa(-i-1)+a,n&&(r=n-o)>0&&(a+=oa(r))):i>=o?(a+=oa(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+oa(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=oa(r))),t.s<0?"-"+a:a}function cP(t,e){if(t.length>e)return t.length=e,!0}function m2(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(no+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return uP(o,a.toString())}else if(typeof a!="string")throw Error(no+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,wV.test(a))uP(o,a);else throw Error(no+a)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=m2,i.config=i.set=SV,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function SV(t){if(!t||typeof t!="object")throw Error(br+"Object expected");var e,n,r,i=["precision",1,il,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(al(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(no+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(no+n+": "+r);return this}var uw=m2(bV);rr=new uw(1);const wt=uw;function CV(t){return AV(t)||EV(t)||kV(t)||TV()}function TV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kV(t,e){if(t){if(typeof t=="string")return Qx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qx(t,e)}}function EV(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function AV(t){if(Array.isArray(t))return Qx(t)}function Qx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var PV=function(e){return e},g2={},v2=function(e){return e===g2},dP=function(e){return function n(){return arguments.length===0||arguments.length===1&&v2(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},OV=function t(e,n){return e===1?n:dP(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==g2}).length;return o>=e?n.apply(void 0,i):t(e-o,dP(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=i.map(function(h){return v2(h)?c.shift():h});return n.apply(void 0,CV(f).concat(c))}))})},Hh=function(e){return OV(e.length,e)},e_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},MV=Hh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),IV=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return PV;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},t_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},y2=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function NV(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function DV(t,e,n){for(var r=new wt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var RV=Hh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),jV=Hh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),$V=Hh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Wh={rangeStep:DV,getDigitCount:NV,interpolateNumber:RV,uninterpolateNumber:jV,uninterpolateTruncation:$V};function n_(t){return FV(t)||BV(t)||x2(t)||LV()}function LV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BV(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function FV(t){if(Array.isArray(t))return r_(t)}function $u(t,e){return VV(t)||UV(t,e)||x2(t,e)||qV()}function qV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x2(t,e){if(t){if(typeof t=="string")return r_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r_(t,e)}}function r_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UV(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function VV(t){if(Array.isArray(t))return t}function _2(t){var e=$u(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function b2(t,e,n){if(t.lte(0))return new wt(0);var r=Wh.getDigitCount(t.toNumber()),i=new wt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,l=new wt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new wt(Math.ceil(c))}function zV(t,e,n){var r=1,i=new wt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new wt(10).pow(Wh.getDigitCount(t)-1),i=new wt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new wt(Math.floor(t)))}else t===0?i=new wt(Math.floor((e-1)/2)):n||(i=new wt(Math.floor(t)));var o=Math.floor((e-1)/2),l=IV(MV(function(c){return i.add(new wt(c-o).mul(r)).toNumber()}),e_);return l(0,e)}function w2(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var a=b2(new wt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new wt(0):(o=new wt(t).add(e).div(2),o=o.sub(new wt(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new wt(e).sub(o).div(a).toNumber()),d=l+c+1;return d>n?w2(t,e,n,r,i+1):(d<n&&(c=e>0?c+(n-d):c,l=e>0?l:l+(n-d)),{step:a,tickMin:o.sub(new wt(l).mul(a)),tickMax:o.add(new wt(c).mul(a))})}function GV(t){var e=$u(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=_2([n,r]),c=$u(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0){var h=f===1/0?[d].concat(n_(e_(0,i-1).map(function(){return 1/0}))):[].concat(n_(e_(0,i-1).map(function(){return-1/0})),[f]);return n>r?t_(h):h}if(d===f)return zV(d,i,a);var v=w2(d,f,o,a),_=v.step,w=v.tickMin,S=v.tickMax,b=Wh.rangeStep(w,S.add(new wt(.1).mul(_)),_);return n>r?t_(b):b}function HV(t,e){var n=$u(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=_2([r,i]),l=$u(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,i];if(c===d)return[c];var f=Math.max(e,2),h=b2(new wt(d).sub(c).div(f-1),a,0),v=[].concat(n_(Wh.rangeStep(new wt(c),new wt(d).sub(new wt(.99).mul(h)),h)),[d]);return r>i?t_(v):v}var WV=y2(GV),KV=y2(HV),YV="Invariant failed";function so(t,e){throw new Error(YV)}var JV=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function $f(){return $f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$f.apply(this,arguments)}function XV(t,e){return t9(t)||e9(t,e)||QV(t,e)||ZV()}function ZV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QV(t,e){if(t){if(typeof t=="string")return fP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fP(t,e)}}function fP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function t9(t){if(Array.isArray(t))return t}function n9(t,e){if(t==null)return{};var n=r9(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T2(r.key),r)}}function o9(t,e,n){return e&&a9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s9(t,e,n){return e=Lf(e),l9(t,S2()?Reflect.construct(e,n||[],Lf(t).constructor):e.apply(t,n))}function l9(t,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u9(t)}function u9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S2=function(){return!!t})()}function Lf(t){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lf(t)}function c9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i_(t,e)}function C2(t,e,n){return e=T2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T2(t){var e=d9(t,"string");return Os(e)=="symbol"?e:e+""}function d9(t,e){if(Os(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kh=function(t){function e(){return i9(this,e),s9(this,e,arguments)}return c9(e,t),o9(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,f=r.xAxis,h=r.yAxis,v=n9(r,JV),_=We(v,!1);this.props.direction==="x"&&f.type!=="number"&&so();var w=c.map(function(S){var b=d(S,l),A=b.x,O=b.y,T=b.value,M=b.errorVal;if(!M)return null;var E=[],P,I;if(Array.isArray(M)){var D=XV(M,2);P=D[0],I=D[1]}else P=I=M;if(a==="vertical"){var F=f.scale,q=O+i,L=q+o,W=q-o,J=F(T-P),H=F(T+I);E.push({x1:H,y1:L,x2:H,y2:W}),E.push({x1:J,y1:q,x2:H,y2:q}),E.push({x1:J,y1:L,x2:J,y2:W})}else if(a==="horizontal"){var B=h.scale,Z=A+i,Y=Z-o,G=Z+o,te=B(T-P),ae=B(T+I);E.push({x1:Y,y1:ae,x2:G,y2:ae}),E.push({x1:Z,y1:te,x2:Z,y2:ae}),E.push({x1:Y,y1:te,x2:G,y2:te})}return K.createElement(_t,$f({className:"recharts-errorBar",key:"bar-".concat(E.map(function(R){return"".concat(R.x1,"-").concat(R.x2,"-").concat(R.y1,"-").concat(R.y2)}))},_),E.map(function(R){return K.createElement("line",$f({},R,{key:"line-".concat(R.x1,"-").concat(R.x2,"-").concat(R.y1,"-").concat(R.y2)}))}))});return K.createElement(_t,{className:"recharts-errorBars"},w)}}])}(K.Component);C2(Kh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});C2(Kh,"displayName","ErrorBar");function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){f9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f9(t,e,n){return e=h9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h9(t){var e=p9(t,"string");return Lu(e)=="symbol"?e:e+""}function p9(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k2=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=nr(n,da);if(!o)return null;var l=da.defaultProps,c=l!==void 0?Ua(Ua({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(r||[]).reduce(function(f,h){var v=h.item,_=h.props,w=_.sectors||_.data||[];return f.concat(w.map(function(S){return{type:o.props.iconType||v.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):d=(r||[]).map(function(f){var h=f.item,v=h.type.defaultProps,_=v!==void 0?Ua(Ua({},v),h.props):{},w=_.dataKey,S=_.name,b=_.legendType,A=_.hide;return{inactive:A,dataKey:w,type:c.iconType||b||"square",color:cw(h),value:S||w,payload:_}}),Ua(Ua(Ua({},c),da.getWithHeight(o,i)),{},{payload:d,item:o})};function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function pP(t){return y9(t)||v9(t)||g9(t)||m9()}function m9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g9(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function v9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function y9(t){if(Array.isArray(t))return a_(t)}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){ys(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ys(t,e,n){return e=x9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x9(t){var e=_9(t,"string");return Bu(e)=="symbol"?e:e+""}function _9(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sn(t,e,n){return lt(t)||lt(e)?n:en(e)?ar(t,e,n):Ye(e)?e(t):n}function yu(t,e,n,r){var i=yV(t,function(l){return Sn(l,e)});if(n==="number"){var a=i.filter(function(l){return Ce(l)||parseFloat(l)});return a.length?[zh(a),Vh(a)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!lt(l)}):i;return o.map(function(l){return en(l)||l instanceof Date?l:""})}var b9=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var f=d>0?i[d-1].coordinate:i[l-1].coordinate,h=i[d].coordinate,v=d>=l-1?i[0].coordinate:i[d+1].coordinate,_=void 0;if(On(h-f)!==On(v-h)){var w=[];if(On(v-h)===On(c[1]-c[0])){_=v;var S=h+c[1]-c[0];w[0]=Math.min(S,(S+f)/2),w[1]=Math.max(S,(S+f)/2)}else{_=f;var b=v+c[1]-c[0];w[0]=Math.min(h,(b+h)/2),w[1]=Math.max(h,(b+h)/2)}var A=[Math.min(h,(_+h)/2),Math.max(h,(_+h)/2)];if(e>A[0]&&e<=A[1]||e>=w[0]&&e<=w[1]){o=i[d].index;break}}else{var O=Math.min(f,v),T=Math.max(f,v);if(e>(O+h)/2&&e<=(T+h)/2){o=i[d].index;break}}}else for(var M=0;M<l;M++)if(M===0&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M>0&&M<l-1&&e>(r[M].coordinate+r[M-1].coordinate)/2&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M===l-1&&e>(r[M].coordinate+r[M-1].coordinate)/2){o=r[M].index;break}return o},cw=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},w9=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var f=a[l[c]].stackGroups,h=Object.keys(f),v=0,_=h.length;v<_;v++){var w=f[h[v]],S=w.items,b=w.cateAxisId,A=S.filter(function(I){return _i(I.type).indexOf("Bar")>=0});if(A&&A.length){var O=A[0].type.defaultProps,T=O!==void 0?zt(zt({},O),A[0].props):A[0].props,M=T.barSize,E=T[b];o[E]||(o[E]=[]);var P=lt(M)?n:M;o[E].push({item:A[0],stackList:A.slice(1),barSize:lt(P)?void 0:Mn(P,r,0)})}}return o},S9=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=Mn(n,i,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var v=!1,_=i/c,w=o.reduce(function(M,E){return M+E.barSize||0},0);w+=(c-1)*d,w>=i&&(w-=(c-1)*d,d=0),w>=i&&_>0&&(v=!0,_*=.9,w=c*_);var S=(i-w)/2>>0,b={offset:S-d,size:0};f=o.reduce(function(M,E){var P={item:E.item,position:{offset:b.offset+b.size+d,size:v?_:E.barSize}},I=[].concat(pP(M),[P]);return b=I[I.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(D){I.push({item:D,position:b})}),I},h)}else{var A=Mn(r,i,0,!0);i-2*A-(c-1)*d<=0&&(d=0);var O=(i-2*A-(c-1)*d)/c;O>1&&(O>>=0);var T=l===+l?Math.min(O,l):O;f=o.reduce(function(M,E,P){var I=[].concat(pP(M),[{item:E.item,position:{offset:A+(O+d)*P+(O-T)/2,size:T}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(D){I.push({item:D,position:I[I.length-1].position})}),I},h)}return f},C9=function(e,n,r,i){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),d=k2({children:a,legendWidth:c});if(d){var f=i||{},h=f.width,v=f.height,_=d.align,w=d.verticalAlign,S=d.layout;if((S==="vertical"||S==="horizontal"&&w==="middle")&&_!=="center"&&Ce(e[_]))return zt(zt({},e),{},ys({},_,e[_]+(h||0)));if((S==="horizontal"||S==="vertical"&&_==="center")&&w!=="middle"&&Ce(e[w]))return zt(zt({},e),{},ys({},w,e[w]+(v||0)))}return e},T9=function(e,n,r){return lt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},E2=function(e,n,r,i,a){var o=n.props.children,l=_r(o,Kh).filter(function(d){return T9(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,f){var h=Sn(f,r);if(lt(h))return d;var v=Array.isArray(h)?[zh(h),Vh(h)]:[h,h],_=c.reduce(function(w,S){var b=Sn(f,S,0),A=v[0]-Math.abs(Array.isArray(b)?b[0]:b),O=v[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(A,w[0]),Math.max(O,w[1])]},[1/0,-1/0]);return[Math.min(_[0],d[0]),Math.max(_[1],d[1])]},[1/0,-1/0])}return null},k9=function(e,n,r,i,a){var o=n.map(function(l){return E2(e,l,r,a,i)}).filter(function(l){return!lt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},A2=function(e,n,r,i,a){var o=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&E2(e,c,d,i)||yu(e,d,r,a)});if(r==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var f=0,h=d.length;f<h;f++)l[d[f]]||(l[d[f]]=!0,c.push(d[f]));return c},[])},P2=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},O2=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},xi=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?On(l[0]-l[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var v=a?a.indexOf(h):h;return{coordinate:i(v)+d,value:h,offset:d}});return f.filter(function(h){return!cc(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,v){return{coordinate:i(h)+d,value:h,index:v,offset:d}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+d,value:h,offset:d}}):i.domain().map(function(h,v){return{coordinate:i(h)+d,value:a?a[h]:h,index:v,offset:d}})},D0=new WeakMap,Zd=function(e,n){if(typeof n!="function")return e;D0.has(e)||D0.set(e,new WeakMap);var r=D0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},M2=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Mu(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:If(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:vu(),realScaleType:"point"}:a==="category"?{scale:Mu(),realScaleType:"band"}:{scale:If(),realScaleType:"linear"};if(ro(i)){var c="scale".concat(Ah(i));return{scale:(eP[c]||vu)(),realScaleType:eP[c]?c:"point"}}return Ye(i)?{scale:i}:{scale:vu(),realScaleType:"point"}},gP=1e-4,I2=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-gP,o=Math.max(i[0],i[1])+gP,l=e(n[0]),c=e(n[r-1]);(l<a||l>o||c<a||c>o)&&e.domain([n[0],n[r-1]])}},E9=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},A9=function(e,n){if(!n||n.length!==2||!Ce(n[0])||!Ce(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Ce(e[0])||e[0]<r)&&(a[0]=r),(!Ce(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},P9=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,l=0;l<n;++l){var c=cc(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},O9=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var l=cc(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},M9={sign:P9,expand:yF,none:ws,silhouette:xF,wiggle:_F,positive:O9},I9=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=M9[r],o=vF().keys(i).value(function(l,c){return+Sn(l,c,0)}).order(Rx).offset(a);return o(e)},N9=function(e,n,r,i,a,o){if(!e)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(h,v){var _,w=(_=v.type)!==null&&_!==void 0&&_.defaultProps?zt(zt({},v.type.defaultProps),v.props):v.props,S=w.stackId,b=w.hide;if(b)return h;var A=w[r],O=h[A]||{hasStack:!1,stackGroups:{}};if(en(S)){var T=O.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};T.items.push(v),O.hasStack=!0,O.stackGroups[S]=T}else O.stackGroups[dc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return zt(zt({},h),{},ys({},A,O))},c),f={};return Object.keys(d).reduce(function(h,v){var _=d[v];if(_.hasStack){var w={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(S,b){var A=_.stackGroups[b];return zt(zt({},S),{},ys({},b,{numericAxisId:r,cateAxisId:i,items:A.items,stackedData:I9(e,A.items,a)}))},w)}return zt(zt({},h),{},ys({},v,_))},f)},N2=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var f=WV(d,a,l);return e.domain([zh(f),Vh(f)]),{niceTicks:f}}if(a&&i==="number"){var h=e.domain(),v=KV(h,a,l);return{niceTicks:v}}return null},vP=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Sn(o,n.dataKey,n.domain[l]);return lt(c)?null:n.scale(c)-a/2+i},D9=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},R9=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(en(a)){var o=n[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},j9=function(e){return e.reduce(function(n,r){return[zh(r.concat([n[0]]).filter(Ce)),Vh(r.concat([n[1]]).filter(Ce))]},[1/0,-1/0])},D2=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(d,f){var h=j9(f.slice(n,r+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},yP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o_=function(e,n,r){if(Ye(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ce(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(yP.test(e[0])){var a=+yP.exec(e[0])[1];i[0]=n[0]-a}else Ye(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ce(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(xP.test(e[1])){var o=+xP.exec(e[1])[1];i[1]=n[1]+o}else Ye(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Bf=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=Lb(n,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],f=a[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},_P=function(e,n,r){return!e||!e.length||Gh(e,ar(r,"type.defaultProps.domain"))?n:e},R2=function(e,n){var r=e.type.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,f=r.hide;return zt(zt({},We(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:cw(e),value:Sn(n,i),type:c,payload:n,chartType:d,hide:f})};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){j2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j2(t,e,n){return e=$9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $9(t){var e=L9(t,"string");return Fu(e)=="symbol"?e:e+""}function L9(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B9(t,e){return V9(t)||U9(t,e)||q9(t,e)||F9()}function F9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q9(t,e){if(t){if(typeof t=="string")return wP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wP(t,e)}}function wP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function V9(t){if(Array.isArray(t))return t}var Ff=Math.PI/180,z9=function(e){return e*180/Math.PI},Ot=function(e,n,r,i){return{x:e+Math.cos(-Ff*i)*r,y:n+Math.sin(-Ff*i)*r}},$2=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},G9=function(e,n,r,i,a){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,f=Mn(e.cx,o,o/2),h=Mn(e.cy,l,l/2),v=$2(o,l,r),_=Mn(e.innerRadius,v,0),w=Mn(e.outerRadius,v,v*.8),S=Object.keys(n);return S.reduce(function(b,A){var O=n[A],T=O.domain,M=O.reversed,E;if(lt(O.range))i==="angleAxis"?E=[c,d]:i==="radiusAxis"&&(E=[_,w]),M&&(E=[E[1],E[0]]);else{E=O.range;var P=E,I=B9(P,2);c=I[0],d=I[1]}var D=M2(O,a),F=D.realScaleType,q=D.scale;q.domain(T).range(E),I2(q);var L=N2(q,gi(gi({},O),{},{realScaleType:F})),W=gi(gi(gi({},O),L),{},{range:E,radius:w,realScaleType:F,scale:q,cx:f,cy:h,innerRadius:_,outerRadius:w,startAngle:c,endAngle:d});return gi(gi({},b),{},j2({},A,W))},{})},H9=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},W9=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,l=H9({x:r,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:z9(d),angleInRadian:d}},K9=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Y9=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},SP=function(e,n){var r=e.x,i=e.y,a=W9({x:r,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var f=K9(n),h=f.startAngle,v=f.endAngle,_=l,w;if(h<=v){for(;_>v;)_-=360;for(;_<h;)_+=360;w=_>=h&&_<=v}else{for(;_>h;)_-=360;for(;_<v;)_+=360;w=_>=v&&_<=h}return w?gi(gi({},n),{},{radius:o,angle:Y9(_,n)}):null},L2=function(e){return!$.isValidElement(e)&&!Ye(e)&&typeof e!="boolean"?e.className:""};function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}var J9=["offset"];function X9(t){return tz(t)||ez(t)||Q9(t)||Z9()}function Z9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q9(t,e){if(t){if(typeof t=="string")return s_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s_(t,e)}}function ez(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tz(t){if(Array.isArray(t))return s_(t)}function s_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nz(t,e){if(t==null)return{};var n=rz(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){iz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iz(t,e,n){return e=az(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function az(t){var e=oz(t,"string");return qu(e)=="symbol"?e:e+""}function oz(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uu.apply(this,arguments)}var sz=function(e){var n=e.value,r=e.formatter,i=lt(e.children)?n:e.children;return Ye(r)?r(i):i},lz=function(e,n){var r=On(n-e),i=Math.min(Math.abs(n-e),360);return r*i},uz=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,d=c.cx,f=c.cy,h=c.innerRadius,v=c.outerRadius,_=c.startAngle,w=c.endAngle,S=c.clockWise,b=(h+v)/2,A=lz(_,w),O=A>=0?1:-1,T,M;i==="insideStart"?(T=_+O*o,M=S):i==="insideEnd"?(T=w-O*o,M=!S):i==="end"&&(T=w+O*o,M=S),M=A<=0?M:!M;var E=Ot(d,f,b,T),P=Ot(d,f,b,T+(M?1:-1)*359),I="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(M?0:1,`,
    `).concat(P.x,",").concat(P.y),D=lt(e.id)?dc("recharts-radial-line-"):e.id;return K.createElement("text",Uu({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:D,d:I})),K.createElement("textPath",{xlinkHref:"#".concat(D)},n))},cz=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,f=a.startAngle,h=a.endAngle,v=(f+h)/2;if(i==="outside"){var _=Ot(o,l,d+r,v),w=_.x,S=_.y;return{x:w,y:S,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+d)/2,A=Ot(o,l,b,v),O=A.x,T=A.y;return{x:O,y:T,textAnchor:"middle",verticalAnchor:"middle"}},dz=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,l=o.x,c=o.y,d=o.width,f=o.height,h=f>=0?1:-1,v=h*i,_=h>0?"end":"start",w=h>0?"start":"end",S=d>=0?1:-1,b=S*i,A=S>0?"end":"start",O=S>0?"start":"end";if(a==="top"){var T={x:l+d/2,y:c-h*i,textAnchor:"middle",verticalAnchor:_};return Qt(Qt({},T),r?{height:Math.max(c-r.y,0),width:d}:{})}if(a==="bottom"){var M={x:l+d/2,y:c+f+v,textAnchor:"middle",verticalAnchor:w};return Qt(Qt({},M),r?{height:Math.max(r.y+r.height-(c+f),0),width:d}:{})}if(a==="left"){var E={x:l-b,y:c+f/2,textAnchor:A,verticalAnchor:"middle"};return Qt(Qt({},E),r?{width:Math.max(E.x-r.x,0),height:f}:{})}if(a==="right"){var P={x:l+d+b,y:c+f/2,textAnchor:O,verticalAnchor:"middle"};return Qt(Qt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:f}:{})}var I=r?{width:d,height:f}:{};return a==="insideLeft"?Qt({x:l+b,y:c+f/2,textAnchor:O,verticalAnchor:"middle"},I):a==="insideRight"?Qt({x:l+d-b,y:c+f/2,textAnchor:A,verticalAnchor:"middle"},I):a==="insideTop"?Qt({x:l+d/2,y:c+v,textAnchor:"middle",verticalAnchor:w},I):a==="insideBottom"?Qt({x:l+d/2,y:c+f-v,textAnchor:"middle",verticalAnchor:_},I):a==="insideTopLeft"?Qt({x:l+b,y:c+v,textAnchor:O,verticalAnchor:w},I):a==="insideTopRight"?Qt({x:l+d-b,y:c+v,textAnchor:A,verticalAnchor:w},I):a==="insideBottomLeft"?Qt({x:l+b,y:c+f-v,textAnchor:O,verticalAnchor:_},I):a==="insideBottomRight"?Qt({x:l+d-b,y:c+f-v,textAnchor:A,verticalAnchor:_},I):el(a)&&(Ce(a.x)||Xa(a.x))&&(Ce(a.y)||Xa(a.y))?Qt({x:l+Mn(a.x,d),y:c+Mn(a.y,f),textAnchor:"end",verticalAnchor:"end"},I):Qt({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},I)},fz=function(e){return"cx"in e&&Ce(e.cx)};function un(t){var e=t.offset,n=e===void 0?5:e,r=nz(t,J9),i=Qt({offset:n},r),a=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,f=i.className,h=f===void 0?"":f,v=i.textBreakAll;if(!a||lt(l)&&lt(c)&&!$.isValidElement(d)&&!Ye(d))return null;if($.isValidElement(d))return $.cloneElement(d,i);var _;if(Ye(d)){if(_=$.createElement(d,i),$.isValidElement(_))return _}else _=sz(i);var w=fz(a),S=We(i,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return uz(i,_,S);var b=w?cz(i):dz(i);return K.createElement(ao,Uu({className:at("recharts-label",h)},S,b,{breakAll:v}),_)}un.displayName="Label";var B2=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,f=e.outerRadius,h=e.x,v=e.y,_=e.top,w=e.left,S=e.width,b=e.height,A=e.clockWise,O=e.labelViewBox;if(O)return O;if(Ce(S)&&Ce(b)){if(Ce(h)&&Ce(v))return{x:h,y:v,width:S,height:b};if(Ce(_)&&Ce(w))return{x:_,y:w,width:S,height:b}}return Ce(h)&&Ce(v)?{x:h,y:v,width:0,height:0}:Ce(n)&&Ce(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:A}:e.viewBox?e.viewBox:{}},hz=function(e,n){return e?e===!0?K.createElement(un,{key:"label-implicit",viewBox:n}):en(e)?K.createElement(un,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===un?$.cloneElement(e,{key:"label-implicit",viewBox:n}):K.createElement(un,{key:"label-implicit",content:e,viewBox:n}):Ye(e)?K.createElement(un,{key:"label-implicit",content:e,viewBox:n}):el(e)?K.createElement(un,Uu({viewBox:n},e,{key:"label-implicit"})):null:null},pz=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=B2(e),o=_r(i,un).map(function(c,d){return $.cloneElement(c,{viewBox:n||a,key:"label-".concat(d)})});if(!r)return o;var l=hz(e.label,n||a);return[l].concat(X9(o))};un.parseViewBox=B2;un.renderCallByParent=pz;var R0,TP;function mz(){if(TP)return R0;TP=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return R0=t,R0}var gz=mz();const vz=mt(gz);function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}var yz=["valueAccessor"],xz=["data","dataKey","clockWise","id","textBreakAll"];function _z(t){return Cz(t)||Sz(t)||wz(t)||bz()}function bz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wz(t,e){if(t){if(typeof t=="string")return l_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(t,e)}}function Sz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cz(t){if(Array.isArray(t))return l_(t)}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qf(){return qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qf.apply(this,arguments)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){Tz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tz(t,e,n){return e=kz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kz(t){var e=Ez(t,"string");return Vu(e)=="symbol"?e:e+""}function Ez(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AP(t,e){if(t==null)return{};var n=Az(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Az(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Pz=function(e){return Array.isArray(e.value)?vz(e.value):e.value};function ha(t){var e=t.valueAccessor,n=e===void 0?Pz:e,r=AP(t,yz),i=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,d=AP(r,xz);return!i||!i.length?null:K.createElement(_t,{className:"recharts-label-list"},i.map(function(f,h){var v=lt(a)?n(f,h):Sn(f&&f.payload,a),_=lt(l)?{}:{id:"".concat(l,"-").concat(h)};return K.createElement(un,qf({},We(f,!0),d,_,{parentViewBox:f.parentViewBox,value:v,textBreakAll:c,viewBox:un.parseViewBox(lt(o)?f:EP(EP({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}ha.displayName="LabelList";function Oz(t,e){return t?t===!0?K.createElement(ha,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Ye(t)?K.createElement(ha,{key:"labelList-implicit",data:e,content:t}):el(t)?K.createElement(ha,qf({data:e},t,{key:"labelList-implicit"})):null:null}function Mz(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=_r(r,ha).map(function(o,l){return $.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=Oz(t.label,e);return[a].concat(_z(i))}ha.renderCallByParent=Mz;function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){Iz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iz(t,e,n){return e=Nz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nz(t){var e=Dz(t,"string");return zu(e)=="symbol"?e:e+""}function Dz(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rz=function(e,n){var r=On(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Qd=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,f=c*(l?1:-1)+i,h=Math.asin(c/f)/Ff,v=d?a:a+o*h,_=Ot(n,r,f,v),w=Ot(n,r,i,v),S=d?a-o*h:a,b=Ot(n,r,f*Math.cos(h*Ff),S);return{center:_,circleTangency:w,lineTangency:b,theta:h}},F2=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Rz(o,l),d=o+c,f=Ot(n,r,a,o),h=Ot(n,r,a,d),v="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var _=Ot(n,r,i,o),w=Ot(n,r,i,d);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(_.x,",").concat(_.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},jz=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,f=e.endAngle,h=On(f-d),v=Qd({cx:n,cy:r,radius:a,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),_=v.circleTangency,w=v.lineTangency,S=v.theta,b=Qd({cx:n,cy:r,radius:a,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:c}),A=b.circleTangency,O=b.lineTangency,T=b.theta,M=c?Math.abs(d-f):Math.abs(d-f)-S-T;if(M<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):F2({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f});var E="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
  `);if(i>0){var P=Qd({cx:n,cy:r,radius:i,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=P.circleTangency,D=P.lineTangency,F=P.theta,q=Qd({cx:n,cy:r,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=q.circleTangency,W=q.lineTangency,J=q.theta,H=c?Math.abs(d-f):Math.abs(d-f)-F-J;if(H<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(W.x,",").concat(W.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(h>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},$z={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},q2=function(e){var n=OP(OP({},$z),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,v=n.className;if(o<a||f===h)return null;var _=at("recharts-sector",v),w=o-a,S=Mn(l,w,0,!0),b;return S>0&&Math.abs(f-h)<360?b=jz({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(S,w/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}):b=F2({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:h}),K.createElement("path",u_({},We(n,!0),{className:_,d:b,role:"img"}))};function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){Lz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lz(t,e,n){return e=Bz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bz(t){var e=Fz(t,"string");return Gu(e)=="symbol"?e:e+""}function Fz(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NP={curveBasisClosed:oF,curveBasisOpen:sF,curveBasis:aF,curveBumpX:GB,curveBumpY:HB,curveLinearClosed:lF,curveLinear:Oh,curveMonotoneX:uF,curveMonotoneY:cF,curveNatural:dF,curveStep:fF,curveStepAfter:pF,curveStepBefore:hF},ef=function(e){return e.x===+e.x&&e.y===+e.y},nu=function(e){return e.x},ru=function(e){return e.y},qz=function(e,n){if(Ye(e))return e;var r="curve".concat(Ah(e));return(r==="curveMonotone"||r==="curveBump")&&n?NP["".concat(r).concat(n==="vertical"?"Y":"X")]:NP[r]||Oh},Uz=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,f=qz(r,l),h=d?a.filter(function(S){return ef(S)}):a,v;if(Array.isArray(o)){var _=d?o.filter(function(S){return ef(S)}):o,w=h.map(function(S,b){return IP(IP({},S),{},{base:_[b]})});return l==="vertical"?v=Gd().y(ru).x1(nu).x0(function(S){return S.base.x}):v=Gd().x(nu).y1(ru).y0(function(S){return S.base.y}),v.defined(ef).curve(f),v(w)}return l==="vertical"&&Ce(o)?v=Gd().y(ru).x1(nu).x0(o):Ce(o)?v=Gd().x(nu).y1(ru).y0(o):v=LN().x(nu).y(ru),v.defined(ef).curve(f),v(h)},d_=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Uz(e):i;return K.createElement("path",c_({},We(e,!1),mf(e),{className:at("recharts-curve",n),d:o,ref:a}))},j0={exports:{}},$0,DP;function Vz(){if(DP)return $0;DP=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $0=t,$0}var L0,RP;function zz(){if(RP)return L0;RP=1;var t=Vz();function e(){}function n(){}return n.resetWarningCache=e,L0=function(){function r(o,l,c,d,f,h){if(h!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},L0}var jP;function Gz(){return jP||(jP=1,j0.exports=zz()()),j0.exports}var Hz=Gz();const vt=mt(Hz);var Wz=Object.getOwnPropertyNames,Kz=Object.getOwnPropertySymbols,Yz=Object.prototype.hasOwnProperty;function $P(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function tf(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=t(n,r,i);return a.delete(n),a.delete(r),c}}function LP(t){return Wz(t).concat(Kz(t))}var Jz=Object.hasOwn||function(t,e){return Yz.call(t,e)};function vo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Xz="__v",Zz="__o",Qz="_owner",BP=Object.getOwnPropertyDescriptor,FP=Object.keys;function e7(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function t7(t,e){return vo(t.getTime(),e.getTime())}function n7(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function r7(t,e){return t===e}function qP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var d=e.entries(),f=!1,h=0;(l=d.next())&&!l.done;){if(i[h]){h++;continue}var v=o.value,_=l.value;if(n.equals(v[0],_[0],c,h,t,e,n)&&n.equals(v[1],_[1],v[0],_[0],t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1;c++}return!0}var i7=vo;function a7(t,e,n){var r=FP(t),i=r.length;if(FP(e).length!==i)return!1;for(;i-- >0;)if(!U2(t,e,n,r[i]))return!1;return!0}function iu(t,e,n){var r=LP(t),i=r.length;if(LP(e).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=r[i],!U2(t,e,n,a)||(o=BP(t,a),l=BP(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function o7(t,e){return vo(t.valueOf(),e.valueOf())}function s7(t,e){return t.source===e.source&&t.flags===e.flags}function UP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,l;(o=a.next())&&!o.done;){for(var c=e.values(),d=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1}return!0}function l7(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function u7(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function U2(t,e,n,r){return(r===Qz||r===Zz||r===Xz)&&(t.$$typeof||e.$$typeof)?!0:Jz(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var c7="[object Arguments]",d7="[object Boolean]",f7="[object Date]",h7="[object Error]",p7="[object Map]",m7="[object Number]",g7="[object Object]",v7="[object RegExp]",y7="[object Set]",x7="[object String]",_7="[object URL]",b7=Array.isArray,VP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,zP=Object.assign,w7=Object.prototype.toString.call.bind(Object.prototype.toString);function S7(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,f=t.areSetsEqual,h=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(w,S,b){if(w===S)return!0;if(w==null||S==null)return!1;var A=typeof w;if(A!==typeof S)return!1;if(A!=="object")return A==="number"?o(w,S,b):A==="function"?i(w,S,b):!1;var O=w.constructor;if(O!==S.constructor)return!1;if(O===Object)return l(w,S,b);if(b7(w))return e(w,S,b);if(VP!=null&&VP(w))return h(w,S,b);if(O===Date)return n(w,S,b);if(O===RegExp)return d(w,S,b);if(O===Map)return a(w,S,b);if(O===Set)return f(w,S,b);var T=w7(w);return T===f7?n(w,S,b):T===v7?d(w,S,b):T===p7?a(w,S,b):T===y7?f(w,S,b):T===g7?typeof w.then!="function"&&typeof S.then!="function"&&l(w,S,b):T===_7?v(w,S,b):T===h7?r(w,S,b):T===c7?l(w,S,b):T===d7||T===m7||T===x7?c(w,S,b):!1}}function C7(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?iu:e7,areDatesEqual:t7,areErrorsEqual:n7,areFunctionsEqual:r7,areMapsEqual:r?$P(qP,iu):qP,areNumbersEqual:i7,areObjectsEqual:r?iu:a7,arePrimitiveWrappersEqual:o7,areRegExpsEqual:s7,areSetsEqual:r?$P(UP,iu):UP,areTypedArraysEqual:r?iu:l7,areUrlsEqual:u7};if(n&&(i=zP({},i,n(i))),e){var a=tf(i.areArraysEqual),o=tf(i.areMapsEqual),l=tf(i.areObjectsEqual),c=tf(i.areSetsEqual);i=zP({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function T7(t){return function(e,n,r,i,a,o,l){return t(e,n,l)}}function k7(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(c,d){var f=r(),h=f.cache,v=h===void 0?e?new WeakMap:void 0:h,_=f.meta;return n(c,d,{cache:v,equals:i,meta:_,strict:a})};if(e)return function(c,d){return n(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,d){return n(c,d,o)}}var E7=ba();ba({strict:!0});ba({circular:!0});ba({circular:!0,strict:!0});ba({createInternalComparator:function(){return vo}});ba({strict:!0,createInternalComparator:function(){return vo}});ba({circular:!0,createInternalComparator:function(){return vo}});ba({circular:!0,createInternalComparator:function(){return vo},strict:!0});function ba(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,l=C7(t),c=S7(l),d=r?r(c):T7(c);return k7({circular:n,comparator:c,createState:i,equals:d,strict:o})}function A7(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function GP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):A7(i)};requestAnimationFrame(r)}function f_(t){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(t)}function P7(t){return N7(t)||I7(t)||M7(t)||O7()}function O7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M7(t,e){if(t){if(typeof t=="string")return HP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HP(t,e)}}function HP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N7(t){if(Array.isArray(t))return t}function D7(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=P7(o),c=l[0],d=l.slice(1);if(typeof c=="number"){GP(i.bind(null,d),c);return}i(c),GP(i.bind(null,d));return}f_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){V2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V2(t,e,n){return e=R7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R7(t){var e=j7(t,"string");return Hu(e)==="symbol"?e:String(e)}function j7(t,e){if(Hu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $7=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},L7=function(e){return e},B7=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},xu=function(e,n){return Object.keys(n).reduce(function(r,i){return KP(KP({},r),{},V2({},i,e(i,n[i])))},{})},YP=function(e,n,r){return e.map(function(i){return"".concat(B7(i)," ").concat(n,"ms ").concat(r)}).join(",")};function F7(t,e){return V7(t)||U7(t,e)||z2(t,e)||q7()}function q7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function V7(t){if(Array.isArray(t))return t}function z7(t){return W7(t)||H7(t)||z2(t)||G7()}function G7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z2(t,e){if(t){if(typeof t=="string")return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(t,e)}}function H7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W7(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Uf=1e-4,G2=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},H2=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},JP=function(e,n){return function(r){var i=G2(e,n);return H2(i,r)}},K7=function(e,n){return function(r){var i=G2(e,n),a=[].concat(z7(i.map(function(o,l){return o*l}).slice(1)),[0]);return H2(a,r)}},XP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=F7(d,4);i=f[0],a=f[1],o=f[2],l=f[3]}}}var h=JP(i,o),v=JP(a,l),_=K7(i,o),w=function(A){return A>1?1:A<0?0:A},S=function(A){for(var O=A>1?1:A,T=O,M=0;M<8;++M){var E=h(T)-O,P=_(T);if(Math.abs(E-O)<Uf||P<Uf)return v(T);T=w(T-E/P)}return v(T)};return S.isStepper=!1,S},Y7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(f,h,v){var _=-(f-h)*r,w=v*a,S=v+(_-w)*l/1e3,b=v*l/1e3+f;return Math.abs(b-h)<Uf&&Math.abs(S)<Uf?[h,0]:[b,S]};return c.isStepper=!0,c.dt=l,c},J7=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XP(i);case"spring":return Y7();default:if(i.split("(")[0]==="cubic-bezier")return XP(i)}return typeof i=="function"?i:null};function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function ZP(t){return Q7(t)||Z7(t)||W2(t)||X7()}function X7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q7(t){if(Array.isArray(t))return m_(t)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){p_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p_(t,e,n){return e=eG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eG(t){var e=tG(t,"string");return Wu(e)==="symbol"?e:String(e)}function tG(t,e){if(Wu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nG(t,e){return aG(t)||iG(t,e)||W2(t,e)||rG()}function rG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W2(t,e){if(t){if(typeof t=="string")return m_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m_(t,e)}}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function aG(t){if(Array.isArray(t))return t}var Vf=function(e,n,r){return e+(n-e)*r},g_=function(e){var n=e.from,r=e.to;return n!==r},oG=function t(e,n,r){var i=xu(function(a,o){if(g_(o)){var l=e(o.from,o.to,o.velocity),c=nG(l,2),d=c[0],f=c[1];return mn(mn({},o),{},{from:d,velocity:f})}return o},n);return r<1?xu(function(a,o){return g_(o)?mn(mn({},o),{},{velocity:Vf(o.velocity,i[a].velocity,r),from:Vf(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const sG=function(t,e,n,r,i){var a=$7(t,e),o=a.reduce(function(b,A){return mn(mn({},b),{},p_({},A,[t[A],e[A]]))},{}),l=a.reduce(function(b,A){return mn(mn({},b),{},p_({},A,{from:t[A],velocity:0,to:e[A]}))},{}),c=-1,d,f,h=function(){return null},v=function(){return xu(function(A,O){return O.from},l)},_=function(){return!Object.values(l).filter(g_).length},w=function(A){d||(d=A);var O=A-d,T=O/n.dt;l=oG(n,l,T),i(mn(mn(mn({},t),e),v())),d=A,_()||(c=requestAnimationFrame(h))},S=function(A){f||(f=A);var O=(A-f)/r,T=xu(function(E,P){return Vf.apply(void 0,ZP(P).concat([n(O)]))},o);if(i(mn(mn(mn({},t),e),T)),O<1)c=requestAnimationFrame(h);else{var M=xu(function(E,P){return Vf.apply(void 0,ZP(P).concat([n(1)]))},o);i(mn(mn(mn({},t),e),M))}};return h=n.isStepper?w:S,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}var lG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uG(t,e){if(t==null)return{};var n=cG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function B0(t){return pG(t)||hG(t)||fG(t)||dG()}function dG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fG(t,e){if(t){if(typeof t=="string")return v_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(t,e)}}function hG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pG(t){if(Array.isArray(t))return v_(t)}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){cu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cu(t,e,n){return e=K2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K2(r.key),r)}}function vG(t,e,n){return e&&gG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K2(t){var e=yG(t,"string");return Ms(e)==="symbol"?e:String(e)}function yG(t,e){if(Ms(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ms(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y_(t,e)}function y_(t,e){return y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y_(t,e)}function _G(t){var e=bG();return function(){var r=zf(t),i;if(e){var a=zf(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return x_(this,i)}}function x_(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return __(t)}function __(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zf(t){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zf(t)}var Ti=function(t){xG(n,t);var e=_G(n);function n(r,i){var a;mG(this,n),a=e.call(this,r,i);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,f=o.to,h=o.steps,v=o.children,_=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(__(a)),a.changeStyle=a.changeStyle.bind(__(a)),!l||_<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:f}),x_(a);if(h&&h.length)a.state={style:h[0].style};else if(d){if(typeof v=="function")return a.state={style:d},x_(a);a.state={style:c?cu({},c,d):d}}else a.state={style:{}};return a}return vG(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,f=a.to,h=a.from,v=this.state.style;if(l){if(!o){var _={style:c?cu({},c,f):f};this.state&&v&&(c&&v[c]!==f||!c&&v!==f)&&this.setState(_);return}if(!(E7(i.to,f)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=w||d?h:i.to;if(this.state&&v){var b={style:c?cu({},c,S):S};(c&&v[c]!==S||!c&&v!==S)&&this.setState(b)}this.runAnimation(Mr(Mr({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,d=i.easing,f=i.begin,h=i.onAnimationEnd,v=i.onAnimationStart,_=sG(o,l,J7(d),c,this.changeStyle),w=function(){a.stopJSAnimation=_()};this.manager.start([v,f,w,c,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],f=d.style,h=d.duration,v=h===void 0?0:h,_=function(S,b,A){if(A===0)return S;var O=b.duration,T=b.easing,M=T===void 0?"ease":T,E=b.style,P=b.properties,I=b.onAnimationEnd,D=A>0?o[A-1]:b,F=P||Object.keys(E);if(typeof M=="function"||M==="spring")return[].concat(B0(S),[a.runJSAnimation.bind(a,{from:D.style,to:E,duration:O,easing:M}),O]);var q=YP(F,O,M),L=Mr(Mr(Mr({},D.style),E),{},{transition:q});return[].concat(B0(S),[L,O,I]).filter(L7)};return this.manager.start([c].concat(B0(o.reduce(_,[f,Math.max(v,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=D7());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,v=i.steps,_=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof d=="function"||typeof _=="function"||d==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var S=l?cu({},l,c):c,b=YP(Object.keys(S),o,d);w.start([f,a,Mr(Mr({},S),{},{transition:b}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=uG(i,lG),d=$.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!l||d===0||o<=0)return a;var h=function(_){var w=_.props,S=w.style,b=S===void 0?{}:S,A=w.className,O=$.cloneElement(_,Mr(Mr({},c),{},{style:Mr(Mr({},b),f),className:A}));return O};return d===1?h($.Children.only(a)):K.createElement("div",null,$.Children.map(a,function(v){return h(v)}))}}]),n}($.PureComponent);Ti.displayName="Animate";Ti.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ti.propTypes={from:vt.oneOfType([vt.object,vt.string]),to:vt.oneOfType([vt.object,vt.string]),attributeName:vt.string,duration:vt.number,begin:vt.number,easing:vt.oneOfType([vt.string,vt.func]),steps:vt.arrayOf(vt.shape({duration:vt.number.isRequired,style:vt.object.isRequired,easing:vt.oneOfType([vt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vt.func]),properties:vt.arrayOf("string"),onAnimationEnd:vt.func})),children:vt.oneOfType([vt.node,vt.func]),isActive:vt.bool,canBegin:vt.bool,onAnimationEnd:vt.func,shouldReAnimate:vt.bool,onAnimationStart:vt.func,onAnimationReStart:vt.func};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(this,arguments)}function wG(t,e){return kG(t)||TG(t,e)||CG(t,e)||SG()}function SG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CG(t,e){if(t){if(typeof t=="string")return tO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(t,e)}}function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function kG(t){if(Array.isArray(t))return t}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){EG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EG(t,e,n){return e=AG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AG(t){var e=PG(t,"string");return Ku(e)=="symbol"?e:e+""}function PG(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iO=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],v=0,_=4;v<_;v++)h[v]=a[v]>o?o:a[v];f="M".concat(e,",").concat(n+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(n)),f+="L ".concat(e+r-c*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+l*h[1])),f+="L ".concat(e+r,",").concat(n+i-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+r-c*h[2],",").concat(n+i)),f+="L ".concat(e+c*h[3],",").concat(n+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+i-l*h[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var w=Math.min(o,a);f="M ".concat(e,",").concat(n+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+c*w,",").concat(n,`
            L `).concat(e+r-c*w,",").concat(n,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+r,",").concat(n+l*w,`
            L `).concat(e+r,",").concat(n+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+r-c*w,",").concat(n+i,`
            L `).concat(e+c*w,",").concat(n+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e,",").concat(n+i-l*w," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},OG=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),f=Math.max(a,a+l),h=Math.min(o,o+c),v=Math.max(o,o+c);return r>=d&&r<=f&&i>=h&&i<=v}return!1},MG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dw=function(e){var n=rO(rO({},MG),e),r=$.useRef(),i=$.useState(-1),a=wG(i,2),o=a[0],l=a[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&l(M)}catch{}},[]);var c=n.x,d=n.y,f=n.width,h=n.height,v=n.radius,_=n.className,w=n.animationEasing,S=n.animationDuration,b=n.animationBegin,A=n.isAnimationActive,O=n.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||h!==+h||f===0||h===0)return null;var T=at("recharts-rectangle",_);return O?K.createElement(Ti,{canBegin:o>0,from:{width:f,height:h,x:c,y:d},to:{width:f,height:h,x:c,y:d},duration:S,animationEasing:w,isActive:O},function(M){var E=M.width,P=M.height,I=M.x,D=M.y;return K.createElement(Ti,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:S,isActive:A,easing:w},K.createElement("path",Gf({},We(n,!0),{className:T,d:iO(I,D,E,P,v),ref:r})))}):K.createElement("path",Gf({},We(n,!0),{className:T,d:iO(c,d,f,h,v)}))},IG=["points","className","baseLinePoints","connectNulls"];function cs(){return cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cs.apply(this,arguments)}function NG(t,e){if(t==null)return{};var n=DG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aO(t){return LG(t)||$G(t)||jG(t)||RG()}function RG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jG(t,e){if(t){if(typeof t=="string")return b_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(t,e)}}function $G(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LG(t){if(Array.isArray(t))return b_(t)}function b_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oO=function(e){return e&&e.x===+e.x&&e.y===+e.y},BG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){oO(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),oO(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},_u=function(e,n){var r=BG(e);n&&(r=[r.reduce(function(a,o){return[].concat(aO(a),aO(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},FG=function(e,n,r){var i=_u(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(_u(n.reverse(),r).slice(1))},qG=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=NG(e,IG);if(!n||!n.length)return null;var l=at("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=FG(n,i,a);return K.createElement("g",{className:l},K.createElement("path",cs({},We(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?K.createElement("path",cs({},We(o,!0),{fill:"none",d:_u(n,a)})):null,c?K.createElement("path",cs({},We(o,!0),{fill:"none",d:_u(i,a)})):null)}var f=_u(n,a);return K.createElement("path",cs({},We(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}var fw=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=at("recharts-dot",a);return n===+n&&r===+r&&i===+i?K.createElement("circle",w_({},We(e,!1),mf(e),{className:o,cx:n,cy:r,r:i})):null};function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}var UG=["x","y","top","left","width","height","className"];function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(this,arguments)}function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){zG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zG(t,e,n){return e=GG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GG(t){var e=HG(t,"string");return Yu(e)=="symbol"?e:e+""}function HG(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WG(t,e){if(t==null)return{};var n=KG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var YG=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},JG=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,f=e.width,h=f===void 0?0:f,v=e.height,_=v===void 0?0:v,w=e.className,S=WG(e,UG),b=VG({x:r,y:a,top:l,left:d,width:h,height:_},S);return!Ce(r)||!Ce(a)||!Ce(h)||!Ce(_)||!Ce(l)||!Ce(d)?null:K.createElement("path",S_({},We(b,!0),{className:at("recharts-cross",w),d:YG(r,a,h,_,l,d)}))},F0,lO;function XG(){if(lO)return F0;lO=1;var t=Uh(),e=u2(),n=ti();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return F0=r,F0}var ZG=XG();const QG=mt(ZG);var q0,uO;function eH(){if(uO)return q0;uO=1;var t=Uh(),e=ti(),n=c2();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return q0=r,q0}var tH=eH();const nH=mt(tH);var rH=["cx","cy","angle","ticks","axisLine"],iH=["ticks","tick","angle","tickFormatter","stroke"];function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(this,arguments)}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){Yh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dO(t,e){if(t==null)return{};var n=aH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J2(r.key),r)}}function sH(t,e,n){return e&&fO(t.prototype,e),n&&fO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lH(t,e,n){return e=Hf(e),uH(t,Y2()?Reflect.construct(e,n||[],Hf(t).constructor):e.apply(t,n))}function uH(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cH(t)}function cH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y2=function(){return!!t})()}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hf(t)}function dH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function Yh(t,e,n){return e=J2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J2(t){var e=fH(t,"string");return Is(e)=="symbol"?e:e+""}function fH(t,e){if(Is(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jh=function(t){function e(){return oH(this,e),lH(this,e,arguments)}return dH(e,t),sH(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Ot(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=QG(l,function(f){return f.coordinate||0}),d=nH(l,function(f){return f.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,d=dO(r,rH),f=l.reduce(function(w,S){return[Math.min(w[0],S.coordinate),Math.max(w[1],S.coordinate)]},[1/0,-1/0]),h=Ot(i,a,f[0],o),v=Ot(i,a,f[1],o),_=Va(Va(Va({},We(d,!1)),{},{fill:"none"},We(c,!1)),{},{x1:h.x,y1:h.y,x2:v.x,y2:v.y});return K.createElement("line",bu({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,f=dO(i,iH),h=this.getTickTextAnchor(),v=We(f,!1),_=We(o,!1),w=a.map(function(S,b){var A=r.getTickValueCoord(S),O=Va(Va(Va(Va({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(A.x,", ").concat(A.y,")")},v),{},{stroke:"none",fill:d},_),{},{index:b},A),{},{payload:S});return K.createElement(_t,bu({className:at("recharts-polar-radius-axis-tick",L2(o)),key:"tick-".concat(S.coordinate)},io(r.props,S,b)),e.renderTickItem(o,O,c?c(S.value,b):S.value))});return K.createElement(_t,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:K.createElement(_t,{className:at("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),un.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return K.isValidElement(r)?o=K.cloneElement(r,i):Ye(r)?o=r(i):o=K.createElement(ao,bu({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}($.PureComponent);Yh(Jh,"displayName","PolarRadiusAxis");Yh(Jh,"axisType","radiusAxis");Yh(Jh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function Ja(){return Ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ja.apply(this,arguments)}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){Xh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z2(r.key),r)}}function pH(t,e,n){return e&&pO(t.prototype,e),n&&pO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mH(t,e,n){return e=Wf(e),gH(t,X2()?Reflect.construct(e,n||[],Wf(t).constructor):e.apply(t,n))}function gH(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vH(t)}function vH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X2=function(){return!!t})()}function Wf(t){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wf(t)}function yH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}function Xh(t,e,n){return e=Z2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z2(t){var e=xH(t,"string");return Ns(e)=="symbol"?e:e+""}function xH(t,e){if(Ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _H=Math.PI/180,mO=1e-5,Zh=function(t){function e(){return hH(this,e),mH(this,e,arguments)}return yH(e,t),pH(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,f=d||8,h=Ot(a,o,l,r.coordinate),v=Ot(a,o,l+(c==="inner"?-1:1)*f,r.coordinate);return{x1:h.x,y1:h.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*_H),o;return a>mO?o=i==="outer"?"start":"end":a<-mO?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,d=za(za({},We(this.props,!1)),{},{fill:"none"},We(l,!1));if(c==="circle")return K.createElement(fw,Ja({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:o}));var f=this.props.ticks,h=f.map(function(v){return Ot(i,a,o,v.coordinate)});return K.createElement(qG,Ja({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,f=We(this.props,!1),h=We(o,!1),v=za(za({},f),{},{fill:"none"},We(l,!1)),_=a.map(function(w,S){var b=r.getTickLineCoord(w),A=r.getTickTextAnchor(w),O=za(za(za({textAnchor:A},f),{},{stroke:"none",fill:d},h),{},{index:S,payload:w,x:b.x2,y:b.y2});return K.createElement(_t,Ja({className:at("recharts-polar-angle-axis-tick",L2(o)),key:"tick-".concat(w.coordinate)},io(r.props,w,S)),l&&K.createElement("line",Ja({className:"recharts-polar-angle-axis-tick-line"},v,b)),o&&e.renderTickItem(o,O,c?c(w.value,S):w.value))});return K.createElement(_t,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:K.createElement(_t,{className:at("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return K.isValidElement(r)?o=K.cloneElement(r,i):Ye(r)?o=r(i):o=K.createElement(ao,Ja({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}($.PureComponent);Xh(Zh,"displayName","PolarAngleAxis");Xh(Zh,"axisType","angleAxis");Xh(Zh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var U0,gO;function bH(){if(gO)return U0;gO=1;var t=sD(),e=t(Object.getPrototypeOf,Object);return U0=e,U0}var V0,vO;function wH(){if(vO)return V0;vO=1;var t=Ei(),e=bH(),n=Ai(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,c=o.call(Object);function d(f){if(!n(f)||t(f)!=r)return!1;var h=e(f);if(h===null)return!0;var v=l.call(h,"constructor")&&h.constructor;return typeof v=="function"&&v instanceof v&&o.call(v)==c}return V0=d,V0}var SH=wH();const CH=mt(SH);var z0,yO;function TH(){if(yO)return z0;yO=1;var t=Ei(),e=Ai(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return z0=r,z0}var kH=TH();const EH=mt(kH);function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kf.apply(this,arguments)}function AH(t,e){return IH(t)||MH(t,e)||OH(t,e)||PH()}function PH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OH(t,e){if(t){if(typeof t=="string")return xO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xO(t,e)}}function xO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function IH(t){if(Array.isArray(t))return t}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){NH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NH(t,e,n){return e=DH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DH(t){var e=RH(t,"string");return Ju(e)=="symbol"?e:e+""}function RH(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wO=function(e,n,r,i,a){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+a),l+="L ".concat(e+r-o/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},jH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$H=function(e){var n=bO(bO({},jH),e),r=$.useRef(),i=$.useState(-1),a=AH(i,2),o=a[0],l=a[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&l(T)}catch{}},[]);var c=n.x,d=n.y,f=n.upperWidth,h=n.lowerWidth,v=n.height,_=n.className,w=n.animationEasing,S=n.animationDuration,b=n.animationBegin,A=n.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||h!==+h||v!==+v||f===0&&h===0||v===0)return null;var O=at("recharts-trapezoid",_);return A?K.createElement(Ti,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:d},to:{upperWidth:f,lowerWidth:h,height:v,x:c,y:d},duration:S,animationEasing:w,isActive:A},function(T){var M=T.upperWidth,E=T.lowerWidth,P=T.height,I=T.x,D=T.y;return K.createElement(Ti,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:S,easing:w},K.createElement("path",Kf({},We(n,!0),{className:O,d:wO(I,D,M,E,P),ref:r})))}):K.createElement("g",null,K.createElement("path",Kf({},We(n,!0),{className:O,d:wO(c,d,f,h,v)})))},LH=["option","shapeType","propTransformer","activeClassName","isActive"];function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function BH(t,e){if(t==null)return{};var n=FH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){qH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qH(t,e,n){return e=UH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UH(t){var e=VH(t,"string");return Xu(e)=="symbol"?e:e+""}function VH(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zH(t,e){return Yf(Yf({},e),t)}function GH(t,e){return t==="symbols"}function CO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return K.createElement(dw,n);case"trapezoid":return K.createElement($H,n);case"sector":return K.createElement(q2,n);case"symbols":if(GH(e))return K.createElement(Ob,n);break;default:return null}}function HH(t){return $.isValidElement(t)?t.props:t}function Q2(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?zH:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=BH(t,LH),d;if($.isValidElement(e))d=$.cloneElement(e,Yf(Yf({},c),HH(e)));else if(Ye(e))d=e(c);else if(CH(e)&&!EH(e)){var f=i(e,c);d=K.createElement(CO,{shapeType:n,elementProps:f})}else{var h=c;d=K.createElement(CO,{shapeType:n,elementProps:h})}return l?K.createElement(_t,{className:o},d):d}function Qh(t,e){return e!=null&&"trapezoids"in t.props}function ep(t,e){return e!=null&&"sectors"in t.props}function Zu(t,e){return e!=null&&"points"in t.props}function WH(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function KH(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function YH(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function JH(t,e){var n;return Qh(t,e)?n=WH:ep(t,e)?n=KH:Zu(t,e)&&(n=YH),n}function XH(t,e){var n;return Qh(t,e)?n="trapezoids":ep(t,e)?n="sectors":Zu(t,e)&&(n="points"),n}function ZH(t,e){if(Qh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ep(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Zu(t,e)?e.payload:{}}function QH(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=XH(n,e),a=ZH(n,e),o=r.filter(function(c,d){var f=Gh(a,c),h=n.props[i].filter(function(w){var S=JH(n,e);return S(w,e)}),v=n.props[i].indexOf(h[h.length-1]),_=d===v;return f&&_}),l=r.indexOf(o[o.length-1]);return l}var lf;function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function ds(){return ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ds.apply(this,arguments)}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){yr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tR(r.key),r)}}function tW(t,e,n){return e&&kO(t.prototype,e),n&&kO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nW(t,e,n){return e=Jf(e),rW(t,eR()?Reflect.construct(e,n||[],Jf(t).constructor):e.apply(t,n))}function rW(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iW(t)}function iW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eR=function(){return!!t})()}function Jf(t){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jf(t)}function aW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(t,e)}function yr(t,e,n){return e=tR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tR(t){var e=oW(t,"string");return Ds(e)=="symbol"?e:e+""}function oW(t,e){if(Ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oi=function(t){function e(n){var r;return eW(this,e),r=nW(this,e,[n]),yr(r,"pieRef",null),yr(r,"sectorRefs",[]),yr(r,"id",dc("recharts-pie-")),yr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ye(i)&&i()}),yr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ye(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return aW(e,t),tW(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,f=We(this.props,!1),h=We(o,!1),v=We(l,!1),_=o&&o.offsetRadius||20,w=r.map(function(S,b){var A=(S.startAngle+S.endAngle)/2,O=Ot(S.cx,S.cy,S.outerRadius+_,A),T=Et(Et(Et(Et({},f),S),{},{stroke:"none"},h),{},{index:b,textAnchor:e.getTextAnchor(O.x,S.cx)},O),M=Et(Et(Et(Et({},f),S),{},{fill:"none",stroke:S.fill},v),{},{index:b,points:[Ot(S.cx,S.cy,S.outerRadius,A),O]}),E=c;return lt(c)&&lt(d)?E="value":lt(c)&&(E=d),K.createElement(_t,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,M,"line"),e.renderLabelItem(o,T,Sn(S,E)))});return K.createElement(_t,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(d,f){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(f),v=c&&i.hasActiveIndex()?c:null,_=h?o:v,w=Et(Et({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return K.createElement(_t,ds({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},io(i.props,d,f),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(f)}),K.createElement(Q2,ds({option:_,isActive:h,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state,v=h.prevSectors,_=h.prevIsAnimationActive;return K.createElement(Ti,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var S=w.t,b=[],A=a&&a[0],O=A.startAngle;return a.forEach(function(T,M){var E=v&&v[M],P=M>0?ar(T,"paddingAngle",0):0;if(E){var I=aa(E.endAngle-E.startAngle,T.endAngle-T.startAngle),D=Et(Et({},T),{},{startAngle:O+P,endAngle:O+I(S)+P});b.push(D),O=D.endAngle}else{var F=T.endAngle,q=T.startAngle,L=aa(0,F-q),W=L(S),J=Et(Et({},T),{},{startAngle:O+P,endAngle:O+W+P});b.push(J),O=J.endAngle}}),K.createElement(_t,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Gh(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,d=i.cx,f=i.cy,h=i.innerRadius,v=i.outerRadius,_=i.isAnimationActive,w=this.state.isAnimationFinished;if(a||!o||!o.length||!Ce(d)||!Ce(f)||!Ce(h)||!Ce(v))return null;var S=at("recharts-pie",l);return K.createElement(_t,{tabIndex:this.props.rootTabIndex,className:S,ref:function(A){r.pieRef=A}},this.renderSectors(),c&&this.renderLabels(o),un.renderCallByParent(this.props,null,!1),(!_||w)&&ha.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(K.isValidElement(r))return K.cloneElement(r,i);if(Ye(r))return r(i);var o=at("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return K.createElement(d_,ds({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(K.isValidElement(r))return K.cloneElement(r,i);var o=a;if(Ye(r)&&(o=r(i),K.isValidElement(o)))return o;var l=at("recharts-pie-label-text",typeof r!="boolean"&&!Ye(r)?r.className:"");return K.createElement(ao,ds({},i,{alignmentBaseline:"middle",className:l}),o)}}])}($.PureComponent);lf=Oi;yr(Oi,"displayName","Pie");yr(Oi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!nl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});yr(Oi,"parseDeltaAngle",function(t,e){var n=On(e-t),r=Math.min(Math.abs(e-t),360);return n*r});yr(Oi,"getRealPieData",function(t){var e=t.data,n=t.children,r=We(t,!1),i=_r(n,Rh);return e&&e.length?e.map(function(a,o){return Et(Et(Et({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Et(Et({},r),a.props)}):[]});yr(Oi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=$2(i,a),l=r+Mn(t.cx,i,i/2),c=n+Mn(t.cy,a,a/2),d=Mn(t.innerRadius,o,0),f=Mn(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}});yr(Oi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Et(Et({},e.type.defaultProps),e.props):e.props,i=lf.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,d=r.dataKey,f=r.nameKey,h=r.valueKey,v=r.tooltipType,_=Math.abs(r.minAngle),w=lf.parseCoordinateOfPie(r,n),S=lf.parseDeltaAngle(o,l),b=Math.abs(S),A=d;lt(d)&&lt(h)?($r(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):lt(d)&&($r(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=h);var O=i.filter(function(D){return Sn(D,A,0)!==0}).length,T=(b>=360?O:O-1)*c,M=b-O*_-T,E=i.reduce(function(D,F){var q=Sn(F,A,0);return D+(Ce(q)?q:0)},0),P;if(E>0){var I;P=i.map(function(D,F){var q=Sn(D,A,0),L=Sn(D,f,F),W=(Ce(q)?q:0)/E,J;F?J=I.endAngle+On(S)*c*(q!==0?1:0):J=o;var H=J+On(S)*((q!==0?_:0)+W*M),B=(J+H)/2,Z=(w.innerRadius+w.outerRadius)/2,Y=[{name:L,value:q,payload:D,dataKey:A,type:v}],G=Ot(w.cx,w.cy,Z,B);return I=Et(Et(Et({percent:W,cornerRadius:a,name:L,tooltipPayload:Y,midAngle:B,middleRadius:Z,tooltipPosition:G},D),w),{},{value:Sn(D,A),startAngle:J,endAngle:H,payload:D,paddingAngle:On(S)*c}),I})}return Et(Et({},w),{},{sectors:P,data:i})});var G0,EO;function sW(){if(EO)return G0;EO=1;var t=Math.ceil,e=Math.max;function n(r,i,a,o){for(var l=-1,c=e(t((i-r)/(a||1)),0),d=Array(c);c--;)d[o?c:++l]=r,r+=a;return d}return G0=n,G0}var H0,AO;function nR(){if(AO)return H0;AO=1;var t=SD(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return H0=r,H0}var W0,PO;function lW(){if(PO)return W0;PO=1;var t=sW(),e=Dh(),n=nR();function r(i){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),l=l===void 0?a<o?1:-1:n(l),t(a,o,l,i)}}return W0=r,W0}var K0,OO;function uW(){if(OO)return K0;OO=1;var t=lW(),e=t();return K0=e,K0}var cW=uW();const Xf=mt(cW);function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){rR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rR(t,e,n){return e=dW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=fW(t,"string");return Qu(e)=="symbol"?e:e+""}function fW(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hW=["Webkit","Moz","O","ms"],pW=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=hW.reduce(function(a,o){return IO(IO({},a),{},rR({},o+r,n))},{});return i[e]=n,i};function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zf.apply(this,arguments)}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){tr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aR(r.key),r)}}function gW(t,e,n){return e&&DO(t.prototype,e),n&&DO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vW(t,e,n){return e=Qf(e),yW(t,iR()?Reflect.construct(e,n||[],Qf(t).constructor):e.apply(t,n))}function yW(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xW(t)}function xW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iR=function(){return!!t})()}function Qf(t){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qf(t)}function _W(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(t,e)}function tr(t,e,n){return e=aR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aR(t){var e=bW(t,"string");return Rs(e)=="symbol"?e:e+""}function bW(t,e){if(Rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wW=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=vu().domain(Xf(0,c)).range([a,a+o-l]),f=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:f}},RO=function(e){return e.changedTouches&&!!e.changedTouches.length},js=function(t){function e(n){var r;return mW(this,e),r=vW(this,e,[n]),tr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),tr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),tr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),tr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),tr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),tr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),tr(r,"handleSlideDragStart",function(i){var a=RO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return _W(e,t),gW(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,f=d.length-1,h=Math.min(i,a),v=Math.max(i,a),_=e.getIndexInRange(o,h),w=e.getIndexInRange(o,v);return{startIndex:_-_%c,endIndex:w===f?f:w-w%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Sn(a[r],l,r);return Ye(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,f=c.width,h=c.travellerWidth,v=c.startIndex,_=c.endIndex,w=c.onChange,S=r.pageX-a;S>0?S=Math.min(S,d+f-h-l,d+f-h-o):S<0&&(S=Math.max(S,d-o,d-l));var b=this.getIndex({startX:o+S,endX:l+S});(b.startIndex!==v||b.endIndex!==_)&&w&&w(b),this.setState({startX:o+S,endX:l+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=RO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],f=this.props,h=f.x,v=f.width,_=f.travellerWidth,w=f.onChange,S=f.gap,b=f.data,A={startX:this.state.startX,endX:this.state.endX},O=r.pageX-a;O>0?O=Math.min(O,h+v-_-d):O<0&&(O=Math.max(O,h-d)),A[o]=d+O;var T=this.getIndex(A),M=T.startIndex,E=T.endIndex,P=function(){var D=b.length-1;return o==="startX"&&(l>c?M%S===0:E%S===0)||l<c&&E===D||o==="endX"&&(l>c?E%S===0:M%S===0)||l>c&&E===D};this.setState(tr(tr({},o,d+O),"brushMoveStartX",r.pageX),function(){w&&P()&&w(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,f=this.state[i],h=l.indexOf(f);if(h!==-1){var v=h+r;if(!(v===-1||v>=l.length)){var _=l[v];i==="startX"&&_>=d||i==="endX"&&_<=c||this.setState(tr({},i,_),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,d=r.stroke;return K.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.data,d=r.children,f=r.padding,h=$.Children.only(d);return h?K.cloneElement(h,{x:i,y:a,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,l=this,c=this.props,d=c.y,f=c.travellerWidth,h=c.height,v=c.traveller,_=c.ariaLabel,w=c.data,S=c.startIndex,b=c.endIndex,A=Math.max(r,this.props.x),O=Y0(Y0({},We(this.props,!1)),{},{x:A,y:d,width:f,height:h}),T=_||"Min value: ".concat((a=w[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=w[b])===null||o===void 0?void 0:o.name);return K.createElement(_t,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,O))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,f=Math.min(r,i)+d,h=Math.max(Math.abs(i-r)-d,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,f=this.state,h=f.startX,v=f.endX,_=5,w={pointerEvents:"none",fill:d};return K.createElement(_t,{className:"recharts-brush-texts"},K.createElement(ao,Zf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,v)-_,y:o+l/2},w),this.getTextOfTick(i)),K.createElement(ao,Zf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,v)+c+_,y:o+l/2},w),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,l=r.x,c=r.y,d=r.width,f=r.height,h=r.alwaysShowText,v=this.state,_=v.startX,w=v.endX,S=v.isTextActive,b=v.isSlideMoving,A=v.isTravellerMoving,O=v.isTravellerFocused;if(!i||!i.length||!Ce(l)||!Ce(c)||!Ce(d)||!Ce(f)||d<=0||f<=0)return null;var T=at("recharts-brush",a),M=K.Children.count(o)===1,E=pW("userSelect","none");return K.createElement(_t,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(_,w),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(w,"endX"),(S||b||A||O||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,d=Math.floor(a+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),K.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return K.isValidElement(r)?a=K.cloneElement(r,i):Ye(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,f=r.startIndex,h=r.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return Y0({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?wW({data:a,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var v=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}($.PureComponent);tr(js,"displayName","Brush");tr(js,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var J0,jO;function SW(){if(jO)return J0;jO=1;var t=$b();function e(n,r){var i;return t(n,function(a,o,l){return i=r(a,o,l),!i}),!!i}return J0=e,J0}var X0,$O;function CW(){if($O)return X0;$O=1;var t=eD(),e=ti(),n=SW(),r=Kn(),i=Dh();function a(o,l,c){var d=r(o)?t:n;return c&&i(o,l,c)&&(l=void 0),d(o,e(l,3))}return X0=a,X0}var TW=CW();const kW=mt(TW);var Kr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Z0,LO;function EW(){if(LO)return Z0;LO=1;var t=yD();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Z0=e,Z0}var Q0,BO;function AW(){if(BO)return Q0;BO=1;var t=EW(),e=gD(),n=ti();function r(i,a){var o={};return a=n(a,3),e(i,function(l,c,d){t(o,c,a(l,c,d))}),o}return Q0=r,Q0}var PW=AW();const OW=mt(PW);var ex,FO;function MW(){if(FO)return ex;FO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return ex=t,ex}var tx,qO;function IW(){if(qO)return tx;qO=1;var t=$b();function e(n,r){var i=!0;return t(n,function(a,o,l){return i=!!r(a,o,l),i}),i}return tx=e,tx}var nx,UO;function NW(){if(UO)return nx;UO=1;var t=MW(),e=IW(),n=ti(),r=Kn(),i=Dh();function a(o,l,c){var d=r(o)?t:e;return c&&i(o,l,c)&&(l=void 0),d(o,n(l,3))}return nx=a,nx}var DW=NW();const oR=mt(DW);var RW=["x","y"];function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(this,arguments)}function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){jW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jW(t,e,n){return e=$W(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $W(t){var e=LW(t,"string");return ec(e)=="symbol"?e:e+""}function LW(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BW(t,e){if(t==null)return{};var n=FW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qW(t,e){var n=t.x,r=t.y,i=BW(t,RW),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),h="".concat(e.width||i.width),v=parseInt(h,10);return au(au(au(au(au({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:v,name:e.name,radius:e.radius})}function zO(t){return K.createElement(Q2,A_({shapeType:"rectangle",propTransformer:qW,activeClassName:"recharts-active-bar"},t))}var UW=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||so(),n)}},VW=["value","background"],sR;function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function zW(t,e){if(t==null)return{};var n=GW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eh.apply(this,arguments)}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){ca(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uR(r.key),r)}}function WW(t,e,n){return e&&HO(t.prototype,e),n&&HO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KW(t,e,n){return e=th(e),YW(t,lR()?Reflect.construct(e,n||[],th(t).constructor):e.apply(t,n))}function YW(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JW(t)}function JW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lR=function(){return!!t})()}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},th(t)}function XW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function ca(t,e,n){return e=uR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uR(t){var e=ZW(t,"string");return $s(e)=="symbol"?e:e+""}function ZW(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yo=function(t){function e(){var n;HW(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=KW(this,e,[].concat(i)),ca(n,"state",{isAnimationFinished:!1}),ca(n,"id",dc("recharts-bar-")),ca(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ca(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return XW(e,t),WW(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,f=We(this.props,!1);return r&&r.map(function(h,v){var _=v===c,w=_?d:o,S=Kt(Kt(Kt({},f),h),{},{isActive:_,option:w,index:v,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(_t,eh({className:"recharts-bar-rectangle"},io(i.props,h,v),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(v)}),K.createElement(zO,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,h=i.animationId,v=this.state.prevData;return K.createElement(Ti,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t,S=a.map(function(b,A){var O=v&&v[A];if(O){var T=aa(O.x,b.x),M=aa(O.y,b.y),E=aa(O.width,b.width),P=aa(O.height,b.height);return Kt(Kt({},b),{},{x:T(w),y:M(w),width:E(w),height:P(w)})}if(o==="horizontal"){var I=aa(0,b.height),D=I(w);return Kt(Kt({},b),{},{y:b.y+b.height-D,height:D})}var F=aa(0,b.width),q=F(w);return Kt(Kt({},b),{},{width:q})});return K.createElement(_t,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Gh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=We(this.props.background,!1);return a.map(function(d,f){d.value;var h=d.background,v=zW(d,VW);if(!h)return null;var _=Kt(Kt(Kt(Kt(Kt({},v),{},{fill:"#eee"},h),c),io(r.props,d,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return K.createElement(zO,eh({key:"background-bar-".concat(f),option:r.props.background,isActive:f===l},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,f=a.children,h=_r(f,Kh);if(!h)return null;var v=d==="vertical"?o[0].height/2:o[0].width/2,_=function(b,A){var O=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:O,errorVal:Sn(b,A)}},w={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(_t,w,h.map(function(S){return K.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:v,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,d=r.left,f=r.top,h=r.width,v=r.height,_=r.isAnimationActive,w=r.background,S=r.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,A=at("recharts-bar",o),O=l&&l.allowDataOverflow,T=c&&c.allowDataOverflow,M=O||T,E=lt(S)?this.id:S;return K.createElement(_t,{className:A},O||T?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(E)},K.createElement("rect",{x:O?d:d-h/2,y:T?f:f-v/2,width:O?h:h*2,height:T?v:v*2}))):null,K.createElement(_t,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(E,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,E),(!_||b)&&ha.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);sR=yo;ca(yo,"displayName","Bar");ca(yo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!nl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ca(yo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,f=t.dataStartIndex,h=t.displayedData,v=t.offset,_=E9(r,n);if(!_)return null;var w=e.layout,S=n.type.defaultProps,b=S!==void 0?Kt(Kt({},S),n.props):n.props,A=b.dataKey,O=b.children,T=b.minPointSize,M=w==="horizontal"?o:a,E=d?M.scale.domain():null,P=D9({numericAxis:M}),I=_r(O,Rh),D=h.map(function(F,q){var L,W,J,H,B,Z;d?L=A9(d[f+q],E):(L=Sn(F,A),Array.isArray(L)||(L=[P,L]));var Y=UW(T,sR.defaultProps.minPointSize)(L[1],q);if(w==="horizontal"){var G,te=[o.scale(L[0]),o.scale(L[1])],ae=te[0],R=te[1];W=vP({axis:a,ticks:l,bandSize:i,offset:_.offset,entry:F,index:q}),J=(G=R??ae)!==null&&G!==void 0?G:void 0,H=_.size;var Q=ae-R;if(B=Number.isNaN(Q)?0:Q,Z={x:W,y:o.y,width:H,height:o.height},Math.abs(Y)>0&&Math.abs(B)<Math.abs(Y)){var fe=On(B||Y)*(Math.abs(Y)-Math.abs(B));J-=fe,B+=fe}}else{var _e=[a.scale(L[0]),a.scale(L[1])],Ne=_e[0],Fe=_e[1];if(W=Ne,J=vP({axis:o,ticks:c,bandSize:i,offset:_.offset,entry:F,index:q}),H=Fe-Ne,B=_.size,Z={x:a.x,y:J,width:a.width,height:B},Math.abs(Y)>0&&Math.abs(H)<Math.abs(Y)){var nt=On(H||Y)*(Math.abs(Y)-Math.abs(H));H+=nt}}return Kt(Kt(Kt({},F),{},{x:W,y:J,width:H,height:B,value:d?L:L[1],payload:F,background:Z},I&&I[q]&&I[q].props),{},{tooltipPayload:[R2(n,F)],tooltipPosition:{x:W+H/2,y:J+B/2}})});return Kt({data:D,layout:w},v)});function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function QW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cR(r.key),r)}}function eK(t,e,n){return e&&WO(t.prototype,e),n&&WO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){tp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tp(t,e,n){return e=cR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cR(t){var e=tK(t,"string");return tc(e)=="symbol"?e:e+""}function tK(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nK=function(e,n,r,i,a){var o=e.width,l=e.height,c=e.layout,d=e.children,f=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},v=!!nr(d,yo);return f.reduce(function(_,w){var S=n[w],b=S.orientation,A=S.domain,O=S.padding,T=O===void 0?{}:O,M=S.mirror,E=S.reversed,P="".concat(b).concat(M?"Mirror":""),I,D,F,q,L;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var W=A[1]-A[0],J=1/0,H=S.categoricalDomain.sort(gB);if(H.forEach(function(_e,Ne){Ne>0&&(J=Math.min((_e||0)-(H[Ne-1]||0),J))}),Number.isFinite(J)){var B=J/W,Z=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(I=B*Z/2),S.padding==="no-gap"){var Y=Mn(e.barCategoryGap,B*Z),G=B*Z/2;I=G-Y-(G-Y)/Z*Y}}}i==="xAxis"?D=[r.left+(T.left||0)+(I||0),r.left+r.width-(T.right||0)-(I||0)]:i==="yAxis"?D=c==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(I||0),r.top+r.height-(T.bottom||0)-(I||0)]:D=S.range,E&&(D=[D[1],D[0]]);var te=M2(S,a,v),ae=te.scale,R=te.realScaleType;ae.domain(A).range(D),I2(ae);var Q=N2(ae,Rr(Rr({},S),{},{realScaleType:R}));i==="xAxis"?(L=b==="top"&&!M||b==="bottom"&&M,F=r.left,q=h[P]-L*S.height):i==="yAxis"&&(L=b==="left"&&!M||b==="right"&&M,F=h[P]-L*S.width,q=r.top);var fe=Rr(Rr(Rr({},S),Q),{},{realScaleType:R,x:F,y:q,scale:ae,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return fe.bandSize=Bf(fe,Q),!S.hide&&i==="xAxis"?h[P]+=(L?-1:1)*fe.height:S.hide||(h[P]+=(L?-1:1)*fe.width),Rr(Rr({},_),{},tp({},w,fe))},{})},dR=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},rK=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return dR({x:n,y:r},{x:i,y:a})},fR=function(){function t(e){QW(this,t),this.scale=e}return eK(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();tp(fR,"EPS",1e-4);var hw=function(e){var n=Object.keys(e).reduce(function(r,i){return Rr(Rr({},r),{},tp({},i,fR.create(e[i])))},{});return Rr(Rr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return OW(i,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return oR(i,function(a,o){return n[o].isInRange(a)})}})};function iK(t){return(t%180+180)%180}var aK=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=iK(i),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},rx,YO;function oK(){if(YO)return rx;YO=1;var t=ti(),e=fc(),n=Ih();function r(i){return function(a,o,l){var c=Object(a);if(!e(a)){var d=t(o,3);a=n(a),o=function(h){return d(c[h],h,c)}}var f=i(a,o,l);return f>-1?c[d?a[f]:f]:void 0}}return rx=r,rx}var ix,JO;function sK(){if(JO)return ix;JO=1;var t=nR();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return ix=e,ix}var ax,XO;function lK(){if(XO)return ax;XO=1;var t=dD(),e=ti(),n=sK(),r=Math.max;function i(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var d=l==null?0:n(l);return d<0&&(d=r(c+d,0)),t(a,e(o,3),d)}return ax=i,ax}var ox,ZO;function uK(){if(ZO)return ox;ZO=1;var t=oK(),e=lK(),n=t(e);return ox=n,ox}var cK=uK();const dK=mt(cK);var fK=EN();const hK=mt(fK);var pK=hK(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),pw=$.createContext(void 0),mw=$.createContext(void 0),hR=$.createContext(void 0),pR=$.createContext({}),mR=$.createContext(void 0),gR=$.createContext(0),vR=$.createContext(0),QO=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,f=pK(a);return K.createElement(pw.Provider,{value:r},K.createElement(mw.Provider,{value:i},K.createElement(pR.Provider,{value:a},K.createElement(hR.Provider,{value:f},K.createElement(mR.Provider,{value:o},K.createElement(gR.Provider,{value:d},K.createElement(vR.Provider,{value:c},l)))))))},mK=function(){return $.useContext(mR)},yR=function(e){var n=$.useContext(pw);n==null&&so();var r=n[e];return r==null&&so(),r},gK=function(){var e=$.useContext(pw);return ua(e)},vK=function(){var e=$.useContext(mw),n=dK(e,function(r){return oR(r.domain,Number.isFinite)});return n||ua(e)},xR=function(e){var n=$.useContext(mw);n==null&&so();var r=n[e];return r==null&&so(),r},yK=function(){var e=$.useContext(hR);return e},xK=function(){return $.useContext(pR)},gw=function(){return $.useContext(vR)},vw=function(){return $.useContext(gR)};function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function _K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bR(r.key),r)}}function wK(t,e,n){return e&&bK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SK(t,e,n){return e=nh(e),CK(t,_R()?Reflect.construct(e,n||[],nh(t).constructor):e.apply(t,n))}function CK(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TK(t)}function TK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_R=function(){return!!t})()}function nh(t){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nh(t)}function kK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){yw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yw(t,e,n){return e=bR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bR(t){var e=EK(t,"string");return Ls(e)=="symbol"?e:e+""}function EK(t,e){if(Ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AK(t,e){return IK(t)||MK(t,e)||OK(t,e)||PK()}function PK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OK(t,e){if(t){if(typeof t=="string")return nM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nM(t,e)}}function nM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function IK(t){if(Array.isArray(t))return t}function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(this,arguments)}var NK=function(e,n){var r;return K.isValidElement(e)?r=K.cloneElement(e,n):Ye(e)?r=e(n):r=K.createElement("line",M_({},n,{className:"recharts-reference-line-line"})),r},DK=function(e,n,r,i,a,o,l,c,d){var f=a.x,h=a.y,v=a.width,_=a.height;if(r){var w=d.y,S=e.y.apply(w,{position:o});if(Kr(d,"discard")&&!e.y.isInRange(S))return null;var b=[{x:f+v,y:S},{x:f,y:S}];return c==="left"?b.reverse():b}if(n){var A=d.x,O=e.x.apply(A,{position:o});if(Kr(d,"discard")&&!e.x.isInRange(O))return null;var T=[{x:O,y:h+_},{x:O,y:h}];return l==="top"?T.reverse():T}if(i){var M=d.segment,E=M.map(function(P){return e.apply(P,{position:o})});return Kr(d,"discard")&&kW(E,function(P){return!e.isInRange(P)})?null:E}return null};function RK(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=mK(),f=yR(i),h=xR(a),v=yK();if(!d||!v)return null;$r(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=hw({x:f.scale,y:h.scale}),w=en(e),S=en(n),b=r&&r.length===2,A=DK(_,w,S,b,v,t.position,f.orientation,h.orientation,t);if(!A)return null;var O=AK(A,2),T=O[0],M=T.x,E=T.y,P=O[1],I=P.x,D=P.y,F=Kr(t,"hidden")?"url(#".concat(d,")"):void 0,q=tM(tM({clipPath:F},We(t,!0)),{},{x1:M,y1:E,x2:I,y2:D});return K.createElement(_t,{className:at("recharts-reference-line",l)},NK(o,q),un.renderCallByParent(t,rK({x1:M,y1:E,x2:I,y2:D})))}var xw=function(t){function e(){return _K(this,e),SK(this,e,arguments)}return kK(e,t),wK(e,[{key:"render",value:function(){return K.createElement(RK,this.props)}}])}(K.Component);yw(xw,"displayName","ReferenceLine");yw(xw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){np(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SR(r.key),r)}}function LK(t,e,n){return e&&$K(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BK(t,e,n){return e=rh(e),FK(t,wR()?Reflect.construct(e,n||[],rh(t).constructor):e.apply(t,n))}function FK(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qK(t)}function qK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wR=function(){return!!t})()}function rh(t){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rh(t)}function UK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function np(t,e,n){return e=SR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SR(t){var e=VK(t,"string");return Bs(e)=="symbol"?e:e+""}function VK(t,e){if(Bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zK=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=hw({x:i.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Kr(e,"discard")&&!o.isInRange(l)?null:l},rp=function(t){function e(){return jK(this,e),BK(this,e,arguments)}return UK(e,t),LK(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,d=en(i),f=en(a);if($r(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var h=zK(this.props);if(!h)return null;var v=h.x,_=h.y,w=this.props,S=w.shape,b=w.className,A=Kr(this.props,"hidden")?"url(#".concat(c,")"):void 0,O=iM(iM({clipPath:A},We(this.props,!0)),{},{cx:v,cy:_});return K.createElement(_t,{className:at("recharts-reference-dot",b)},e.renderDot(S,O),un.renderCallByParent(this.props,{x:v-o,y:_-o,width:2*o,height:2*o}))}}])}(K.Component);np(rp,"displayName","ReferenceDot");np(rp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});np(rp,"renderDot",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Ye(t)?n=t(e):n=K.createElement(fw,I_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){ip(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TR(r.key),r)}}function WK(t,e,n){return e&&HK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KK(t,e,n){return e=ih(e),YK(t,CR()?Reflect.construct(e,n||[],ih(t).constructor):e.apply(t,n))}function YK(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JK(t)}function JK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CR=function(){return!!t})()}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ih(t)}function XK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function ip(t,e,n){return e=TR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TR(t){var e=ZK(t,"string");return Fs(e)=="symbol"?e:e+""}function ZK(t,e){if(Fs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QK=function(e,n,r,i,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,f=a.xAxis,h=a.yAxis;if(!f||!h)return null;var v=hw({x:f.scale,y:h.scale}),_={x:e?v.x.apply(o,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(c,{position:"start"}):v.y.rangeMin},w={x:n?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(d,{position:"end"}):v.y.rangeMax};return Kr(a,"discard")&&(!v.isInRange(_)||!v.isInRange(w))?null:dR(_,w)},ap=function(t){function e(){return GK(this,e),KK(this,e,arguments)}return XK(e,t),WK(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,f=r.clipPathId;$r(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=en(i),v=en(a),_=en(o),w=en(l),S=this.props.shape;if(!h&&!v&&!_&&!w&&!S)return null;var b=QK(h,v,_,w,this.props);if(!b&&!S)return null;var A=Kr(this.props,"hidden")?"url(#".concat(f,")"):void 0;return K.createElement(_t,{className:at("recharts-reference-area",c)},e.renderRect(S,oM(oM({clipPath:A},We(this.props,!0)),b)),un.renderCallByParent(this.props,b))}}])}(K.Component);ip(ap,"displayName","ReferenceArea");ip(ap,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ip(ap,"renderRect",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Ye(t)?n=t(e):n=K.createElement(dw,D_({},e,{className:"recharts-reference-area-rect"})),n});function kR(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function eY(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return aK(r,n)}function tY(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function ah(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function nY(t,e){return kR(t,e+1)}function rY(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,l=e.end,c=0,d=1,f=o,h=function(){var w=r==null?void 0:r[c];if(w===void 0)return{v:kR(r,d)};var S=c,b,A=function(){return b===void 0&&(b=n(w,S)),b},O=w.coordinate,T=c===0||ah(t,O,A,f,l);T||(c=0,f=o,d+=1),T&&(f=O+t*(A()/2+i),c+=d)},v;d<=a.length;)if(v=h(),v)return v.v;return[]}function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){iY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iY(t,e,n){return e=aY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aY(t){var e=oY(t,"string");return nc(e)=="symbol"?e:e+""}function oY(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sY(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end,d=function(v){var _=a[v],w,S=function(){return w===void 0&&(w=n(_,v)),w};if(v===o-1){var b=t*(_.coordinate+t*S()/2-c);a[v]=_=bn(bn({},_),{},{tickCoord:b>0?_.coordinate-b*t:_.coordinate})}else a[v]=_=bn(bn({},_),{},{tickCoord:_.coordinate});var A=ah(t,_.tickCoord,S,l,c);A&&(c=_.tickCoord-t*(S()/2+i),a[v]=bn(bn({},_),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return a}function lY(t,e,n,r,i,a){var o=(r||[]).slice(),l=o.length,c=e.start,d=e.end;if(a){var f=r[l-1],h=n(f,l-1),v=t*(f.coordinate+t*h/2-d);o[l-1]=f=bn(bn({},f),{},{tickCoord:v>0?f.coordinate-v*t:f.coordinate});var _=ah(t,f.tickCoord,function(){return h},c,d);_&&(d=f.tickCoord-t*(h/2+i),o[l-1]=bn(bn({},f),{},{isShow:!0}))}for(var w=a?l-1:l,S=function(O){var T=o[O],M,E=function(){return M===void 0&&(M=n(T,O)),M};if(O===0){var P=t*(T.coordinate-t*E()/2-c);o[O]=T=bn(bn({},T),{},{tickCoord:P<0?T.coordinate-P*t:T.coordinate})}else o[O]=T=bn(bn({},T),{},{tickCoord:T.coordinate});var I=ah(t,T.tickCoord,E,c,d);I&&(c=T.tickCoord+t*(E()/2+i),o[O]=bn(bn({},T),{},{isShow:!0}))},b=0;b<w;b++)S(b);return o}function _w(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,f=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(Ce(c)||nl.isSsr)return nY(i,typeof c=="number"&&Ce(c)?c:0);var v=[],_=l==="top"||l==="bottom"?"width":"height",w=f&&_==="width"?gu(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(T,M){var E=Ye(d)?d(T.value,M):T.value;return _==="width"?eY(gu(E,{fontSize:e,letterSpacing:n}),w,h):gu(E,{fontSize:e,letterSpacing:n})[_]},b=i.length>=2?On(i[1].coordinate-i[0].coordinate):1,A=tY(a,b,_);return c==="equidistantPreserveStart"?rY(b,A,S,i,o):(c==="preserveStart"||c==="preserveStartEnd"?v=lY(b,A,S,i,o,c==="preserveStartEnd"):v=sY(b,A,S,i,o),v.filter(function(O){return O.isShow}))}var uY=["viewBox"],cY=["viewBox"],dY=["ticks"];function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fs.apply(this,arguments)}function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){bw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sx(t,e){if(t==null)return{};var n=fY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AR(r.key),r)}}function pY(t,e,n){return e&&uM(t.prototype,e),n&&uM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mY(t,e,n){return e=oh(e),gY(t,ER()?Reflect.construct(e,n||[],oh(t).constructor):e.apply(t,n))}function gY(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vY(t)}function vY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ER(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ER=function(){return!!t})()}function oh(t){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oh(t)}function yY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function bw(t,e,n){return e=AR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AR(t){var e=xY(t,"string");return qs(e)=="symbol"?e:e+""}function xY(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ol=function(t){function e(n){var r;return hY(this,e),r=mY(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return yY(e,t),pY(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=sx(r,uY),l=this.props,c=l.viewBox,d=sx(l,cY);return!gs(a,c)||!gs(o,d)||!gs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,f=i.tickSize,h=i.mirror,v=i.tickMargin,_,w,S,b,A,O,T=h?-1:1,M=r.tickSize||f,E=Ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":_=w=r.coordinate,b=o+ +!h*c,S=b-T*M,O=S-T*v,A=E;break;case"left":S=b=r.coordinate,w=a+ +!h*l,_=w-T*M,A=_-T*v,O=E;break;case"right":S=b=r.coordinate,w=a+ +h*l,_=w+T*M,A=_+T*v,O=E;break;default:_=w=r.coordinate,b=o+ +h*c,S=b+T*M,O=S+T*v,A=E;break}return{line:{x1:_,y1:S,x2:w,y2:b},tick:{x:A,y:O}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,d=r.mirror,f=r.axisLine,h=An(An(An({},We(this.props,!1)),We(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!d||c==="bottom"&&d);h=An(An({},h),{},{x1:i,y1:a+v*l,x2:i+o,y2:a+v*l})}else{var _=+(c==="left"&&!d||c==="right"&&d);h=An(An({},h),{},{x1:i+_*o,y1:a,x2:i+_*o,y2:a+l})}return K.createElement("line",fs({},h,{className:at("recharts-cartesian-axis-line",ar(f,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,f=l.tick,h=l.tickFormatter,v=l.unit,_=_w(An(An({},this.props),{},{ticks:r}),i,a),w=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),b=We(this.props,!1),A=We(f,!1),O=An(An({},b),{},{fill:"none"},We(c,!1)),T=_.map(function(M,E){var P=o.getTickLineCoord(M),I=P.line,D=P.tick,F=An(An(An(An({textAnchor:w,verticalAnchor:S},b),{},{stroke:"none",fill:d},A),D),{},{index:E,payload:M,visibleTicksCount:_.length,tickFormatter:h});return K.createElement(_t,fs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},io(o.props,M,E)),c&&K.createElement("line",fs({},O,I,{className:at("recharts-cartesian-axis-tick-line",ar(c,"className"))})),f&&e.renderTickItem(f,F,"".concat(Ye(h)?h(M.value,E):M.value).concat(v||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,f=i.hide;if(f)return null;var h=this.props,v=h.ticks,_=sx(h,dY),w=v;return Ye(c)&&(w=v&&v.length>0?c(this.props):c(_)),o<=0||l<=0||!w||!w.length?null:K.createElement(_t,{className:at("recharts-cartesian-axis",d),ref:function(b){r.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return K.isValidElement(r)?o=K.cloneElement(r,i):Ye(r)?o=r(i):o=K.createElement(ao,fs({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}($.Component);bw(ol,"displayName","CartesianAxis");bw(ol,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _Y=["x1","y1","x2","y2","key"],bY=["offset"];function lo(t){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(t)}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){wY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wY(t,e,n){return e=SY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SY(t){var e=CY(t,"string");return lo(e)=="symbol"?e:e+""}function CY(t,e){if(lo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eo(){return eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eo.apply(this,arguments)}function dM(t,e){if(t==null)return{};var n=TY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kY=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return K.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function PR(t,e){var n;if(K.isValidElement(t))n=K.cloneElement(t,e);else if(Ye(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=dM(e,_Y),d=We(c,!1);d.offset;var f=dM(d,bY);n=K.createElement("line",eo({},f,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function EY(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=wn(wn({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return PR(i,d)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function AY(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=wn(wn({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return PR(i,d)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function PY(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var f=l.map(function(v){return Math.round(v+i-i)}).sort(function(v,_){return v-_});i!==f[0]&&f.unshift(0);var h=f.map(function(v,_){var w=!f[_+1],S=w?i+o-v:f[_+1]-v;if(S<=0)return null;var b=_%e.length;return K.createElement("rect",{key:"react-".concat(_),y:v,x:r,height:S,width:a,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function OY(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var f=d.map(function(v){return Math.round(v+a-a)}).sort(function(v,_){return v-_});a!==f[0]&&f.unshift(0);var h=f.map(function(v,_){var w=!f[_+1],S=w?a+l-v:f[_+1]-v;if(S<=0)return null;var b=_%r.length;return K.createElement("rect",{key:"react-".concat(_),x:v,y:o,width:S,height:c,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var MY=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return O2(_w(wn(wn(wn({},ol.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},IY=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return O2(_w(wn(wn(wn({},ol.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},as={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function OR(t){var e,n,r,i,a,o,l=gw(),c=vw(),d=xK(),f=wn(wn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:as.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:as.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:as.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:as.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:as.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:as.verticalFill,x:Ce(t.x)?t.x:d.left,y:Ce(t.y)?t.y:d.top,width:Ce(t.width)?t.width:d.width,height:Ce(t.height)?t.height:d.height}),h=f.x,v=f.y,_=f.width,w=f.height,S=f.syncWithTicks,b=f.horizontalValues,A=f.verticalValues,O=gK(),T=vK();if(!Ce(_)||_<=0||!Ce(w)||w<=0||!Ce(h)||h!==+h||!Ce(v)||v!==+v)return null;var M=f.verticalCoordinatesGenerator||MY,E=f.horizontalCoordinatesGenerator||IY,P=f.horizontalPoints,I=f.verticalPoints;if((!P||!P.length)&&Ye(E)){var D=b&&b.length,F=E({yAxis:T?wn(wn({},T),{},{ticks:D?b:T.ticks}):void 0,width:l,height:c,offset:d},D?!0:S);$r(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lo(F),"]")),Array.isArray(F)&&(P=F)}if((!I||!I.length)&&Ye(M)){var q=A&&A.length,L=M({xAxis:O?wn(wn({},O),{},{ticks:q?A:O.ticks}):void 0,width:l,height:c,offset:d},q?!0:S);$r(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lo(L),"]")),Array.isArray(L)&&(I=L)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(kY,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),K.createElement(EY,eo({},f,{offset:d,horizontalPoints:P,xAxis:O,yAxis:T})),K.createElement(AY,eo({},f,{offset:d,verticalPoints:I,xAxis:O,yAxis:T})),K.createElement(PY,eo({},f,{horizontalPoints:P})),K.createElement(OY,eo({},f,{verticalPoints:I})))}OR.displayName="CartesianGrid";function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function NY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NR(r.key),r)}}function RY(t,e,n){return e&&DY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jY(t,e,n){return e=sh(e),$Y(t,MR()?Reflect.construct(e,n||[],sh(t).constructor):e.apply(t,n))}function $Y(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LY(t)}function LY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MR=function(){return!!t})()}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sh(t)}function BY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function IR(t,e,n){return e=NR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NR(t){var e=FY(t,"string");return Us(e)=="symbol"?e:e+""}function FY(t,e){if(Us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}function qY(t){var e=t.xAxisId,n=gw(),r=vw(),i=yR(e);return i==null?null:K.createElement(ol,L_({},i,{className:at("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return xi(o,!0)}}))}var op=function(t){function e(){return NY(this,e),jY(this,e,arguments)}return BY(e,t),RY(e,[{key:"render",value:function(){return K.createElement(qY,this.props)}}])}(K.Component);IR(op,"displayName","XAxis");IR(op,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function UY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jR(r.key),r)}}function zY(t,e,n){return e&&VY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GY(t,e,n){return e=lh(e),HY(t,DR()?Reflect.construct(e,n||[],lh(t).constructor):e.apply(t,n))}function HY(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WY(t)}function WY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DR=function(){return!!t})()}function lh(t){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lh(t)}function KY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function RR(t,e,n){return e=jR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jR(t){var e=YY(t,"string");return Vs(e)=="symbol"?e:e+""}function YY(t,e){if(Vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}var JY=function(e){var n=e.yAxisId,r=gw(),i=vw(),a=xR(n);return a==null?null:K.createElement(ol,F_({},a,{className:at("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return xi(l,!0)}}))},sp=function(t){function e(){return UY(this,e),GY(this,e,arguments)}return KY(e,t),zY(e,[{key:"render",value:function(){return K.createElement(JY,this.props)}}])}(K.Component);RR(sp,"displayName","YAxis");RR(sp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fM(t){return eJ(t)||QY(t)||ZY(t)||XY()}function XY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZY(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function QY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eJ(t){if(Array.isArray(t))return q_(t)}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U_=function(e,n,r,i,a){var o=_r(e,xw),l=_r(e,rp),c=[].concat(fM(o),fM(l)),d=_r(e,ap),f="".concat(i,"Id"),h=i[0],v=n;if(c.length&&(v=c.reduce(function(S,b){if(b.props[f]===r&&Kr(b.props,"extendDomain")&&Ce(b.props[h])){var A=b.props[h];return[Math.min(S[0],A),Math.max(S[1],A)]}return S},v)),d.length){var _="".concat(h,"1"),w="".concat(h,"2");v=d.reduce(function(S,b){if(b.props[f]===r&&Kr(b.props,"extendDomain")&&Ce(b.props[_])&&Ce(b.props[w])){var A=b.props[_],O=b.props[w];return[Math.min(S[0],A,O),Math.max(S[1],A,O)]}return S},v)}return a&&a.length&&(v=a.reduce(function(S,b){return Ce(b)?[Math.min(S[0],b),Math.max(S[1],b)]:S},v)),v},lx={exports:{}},hM;function tJ(){return hM||(hM=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function a(c,d,f,h,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var _=new i(f,h||c,v),w=n?n+d:d;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],_]:c._events[w].push(_):(c._events[w]=_,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)e.call(f,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var v=0,_=h.length,w=new Array(_);v<_;v++)w[v]=h[v].fn;return w},l.prototype.listenerCount=function(d){var f=n?n+d:d,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,f,h,v,_,w){var S=n?n+d:d;if(!this._events[S])return!1;var b=this._events[S],A=arguments.length,O,T;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),A){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,v),!0;case 5:return b.fn.call(b.context,f,h,v,_),!0;case 6:return b.fn.call(b.context,f,h,v,_,w),!0}for(T=1,O=new Array(A-1);T<A;T++)O[T-1]=arguments[T];b.fn.apply(b.context,O)}else{var M=b.length,E;for(T=0;T<M;T++)switch(b[T].once&&this.removeListener(d,b[T].fn,void 0,!0),A){case 1:b[T].fn.call(b[T].context);break;case 2:b[T].fn.call(b[T].context,f);break;case 3:b[T].fn.call(b[T].context,f,h);break;case 4:b[T].fn.call(b[T].context,f,h,v);break;default:if(!O)for(E=1,O=new Array(A-1);E<A;E++)O[E-1]=arguments[E];b[T].fn.apply(b[T].context,O)}}return!0},l.prototype.on=function(d,f,h){return a(this,d,f,h,!1)},l.prototype.once=function(d,f,h){return a(this,d,f,h,!0)},l.prototype.removeListener=function(d,f,h,v){var _=n?n+d:d;if(!this._events[_])return this;if(!f)return o(this,_),this;var w=this._events[_];if(w.fn)w.fn===f&&(!v||w.once)&&(!h||w.context===h)&&o(this,_);else{for(var S=0,b=[],A=w.length;S<A;S++)(w[S].fn!==f||v&&!w[S].once||h&&w[S].context!==h)&&b.push(w[S]);b.length?this._events[_]=b.length===1?b[0]:b:o(this,_)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(lx)),lx.exports}var nJ=tJ();const rJ=mt(nJ);var ux=new rJ,cx="recharts.syncMouseEvents";function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function iJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$R(r.key),r)}}function oJ(t,e,n){return e&&aJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dx(t,e,n){return e=$R(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $R(t){var e=sJ(t,"string");return rc(e)=="symbol"?e:e+""}function sJ(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lJ=function(){function t(){iJ(this,t),dx(this,"activeIndex",0),dx(this,"coordinateList",[]),dx(this,"layout","horizontal")}return oJ(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,f=n.offset,h=f===void 0?null:f,v=n.mouseHandlerCallback,_=v===void 0?null:v;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=a+c+d,v=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:h,pageY:v})}}}])}();function uJ(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ce(r)&&Ce(i))return!0}return!1}function cJ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function LR(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Ot(e,n,r,i),l=Ot(e,n,r,a);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function dJ(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,f=e.outerRadius,h=e.angle,v=Ot(l,c,d,h),_=Ot(l,c,f,h);r=v.x,i=v.y,a=_.x,o=_.y}else return LR(e);return[{x:r,y:i},{x:a,y:o}]}function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){fJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fJ(t,e,n){return e=hJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hJ(t){var e=pJ(t,"string");return ic(e)=="symbol"?e:e+""}function pJ(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mJ(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,v=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!a||!o||v!=="ScatterChart"&&i!=="axis")return null;var w,S=d_;if(v==="ScatterChart")w=o,S=JG;else if(v==="BarChart")w=cJ(h,o,c,f),S=dw;else if(h==="radial"){var b=LR(o),A=b.cx,O=b.cy,T=b.radius,M=b.startAngle,E=b.endAngle;w={cx:A,cy:O,startAngle:M,endAngle:E,innerRadius:T,outerRadius:T},S=q2}else w={points:dJ(h,o,c)},S=d_;var P=nf(nf(nf(nf({stroke:"#ccc",pointerEvents:"none"},c),w),We(_,!1)),{},{payload:l,payloadIndex:d,className:at("recharts-tooltip-cursor",_.className)});return $.isValidElement(_)?$.cloneElement(_,P):$.createElement(S,P)}var gJ=["item"],vJ=["children","className","width","height","style","compact","title","desc"];function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hs.apply(this,arguments)}function mM(t,e){return _J(t)||xJ(t,e)||FR(t,e)||yJ()}function yJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function _J(t){if(Array.isArray(t))return t}function gM(t,e){if(t==null)return{};var n=bJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qR(r.key),r)}}function CJ(t,e,n){return e&&SJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TJ(t,e,n){return e=uh(e),kJ(t,BR()?Reflect.construct(e,n||[],uh(t).constructor):e.apply(t,n))}function kJ(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EJ(t)}function EJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BR=function(){return!!t})()}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uh(t)}function AJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function Gs(t){return MJ(t)||OJ(t)||FR(t)||PJ()}function PJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FR(t,e){if(t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function OJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MJ(t){if(Array.isArray(t))return z_(t)}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ze(t,e,n){return e=qR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qR(t){var e=IJ(t,"string");return zs(e)=="symbol"?e:e+""}function IJ(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NJ={xAxis:["bottom","top"],yAxis:["left","right"]},DJ={width:"100%",height:"100%"},UR={x:0,y:0};function rf(t){return t}var RJ=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},jJ=function(e,n,r,i){var a=n.find(function(f){return f&&f.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return le(le(le({},i),Ot(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=i.angle;return le(le(le({},i),Ot(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return UR},lp=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Gs(l),Gs(d)):l},[]);return o.length>0?o:e&&e.length&&Ce(i)&&Ce(a)?e.slice(i,a+1):[]};function VR(t){return t==="number"?[0,"auto"]:void 0}var G_=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,l=lp(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,d){var f,h=(f=d.props.data)!==null&&f!==void 0?f:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(o.dataKey&&!o.allowDuplicatedCategory){var _=h===void 0?l:h;v=kx(_,o.dataKey,i)}else v=h&&h[r]||l[r];return v?[].concat(Gs(c),[R2(d,v)]):c},[])},yM=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=RJ(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,f=b9(o,l,d,c);if(f>=0&&d){var h=d[f]&&d[f].value,v=G_(e,n,f,h),_=jJ(r,l,f,a);return{activeTooltipIndex:f,activeLabel:h,activePayload:v,activeCoordinate:_}}return null},$J=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.layout,h=e.children,v=e.stackOffset,_=P2(f,a);return r.reduce(function(w,S){var b,A=S.type.defaultProps!==void 0?le(le({},S.type.defaultProps),S.props):S.props,O=A.type,T=A.dataKey,M=A.allowDataOverflow,E=A.allowDuplicatedCategory,P=A.scale,I=A.ticks,D=A.includeHidden,F=A[o];if(w[F])return w;var q=lp(e.data,{graphicalItems:i.filter(function(Q){var fe,_e=o in Q.props?Q.props[o]:(fe=Q.type.defaultProps)===null||fe===void 0?void 0:fe[o];return _e===F}),dataStartIndex:c,dataEndIndex:d}),L=q.length,W,J,H;uJ(A.domain,M,O)&&(W=o_(A.domain,null,M),_&&(O==="number"||P!=="auto")&&(H=yu(q,T,"category")));var B=VR(O);if(!W||W.length===0){var Z,Y=(Z=A.domain)!==null&&Z!==void 0?Z:B;if(T){if(W=yu(q,T,O),O==="category"&&_){var G=mB(W);E&&G?(J=W,W=Xf(0,L)):E||(W=_P(Y,W,S).reduce(function(Q,fe){return Q.indexOf(fe)>=0?Q:[].concat(Gs(Q),[fe])},[]))}else if(O==="category")E?W=W.filter(function(Q){return Q!==""&&!lt(Q)}):W=_P(Y,W,S).reduce(function(Q,fe){return Q.indexOf(fe)>=0||fe===""||lt(fe)?Q:[].concat(Gs(Q),[fe])},[]);else if(O==="number"){var te=k9(q,i.filter(function(Q){var fe,_e,Ne=o in Q.props?Q.props[o]:(fe=Q.type.defaultProps)===null||fe===void 0?void 0:fe[o],Fe="hide"in Q.props?Q.props.hide:(_e=Q.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Ne===F&&(D||!Fe)}),T,a,f);te&&(W=te)}_&&(O==="number"||P!=="auto")&&(H=yu(q,T,"category"))}else _?W=Xf(0,L):l&&l[F]&&l[F].hasStack&&O==="number"?W=v==="expand"?[0,1]:D2(l[F].stackGroups,c,d):W=A2(q,i.filter(function(Q){var fe=o in Q.props?Q.props[o]:Q.type.defaultProps[o],_e="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return fe===F&&(D||!_e)}),O,f,!0);if(O==="number")W=U_(h,W,F,a,I),Y&&(W=o_(Y,W,M));else if(O==="category"&&Y){var ae=Y,R=W.every(function(Q){return ae.indexOf(Q)>=0});R&&(W=ae)}}return le(le({},w),{},ze({},F,le(le({},A),{},{axisType:a,domain:W,categoricalDomain:H,duplicateDomain:J,originalDomain:(b=A.domain)!==null&&b!==void 0?b:B,isCategorical:_,layout:f})))},{})},LJ=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.layout,h=e.children,v=lp(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),_=v.length,w=P2(f,a),S=-1;return r.reduce(function(b,A){var O=A.type.defaultProps!==void 0?le(le({},A.type.defaultProps),A.props):A.props,T=O[o],M=VR("number");if(!b[T]){S++;var E;return w?E=Xf(0,_):l&&l[T]&&l[T].hasStack?(E=D2(l[T].stackGroups,c,d),E=U_(h,E,T,a)):(E=o_(M,A2(v,r.filter(function(P){var I,D,F=o in P.props?P.props[o]:(I=P.type.defaultProps)===null||I===void 0?void 0:I[o],q="hide"in P.props?P.props.hide:(D=P.type.defaultProps)===null||D===void 0?void 0:D.hide;return F===T&&!q}),"number",f),i.defaultProps.allowDataOverflow),E=U_(h,E,T,a)),le(le({},b),{},ze({},T,le(le({axisType:a},i.defaultProps),{},{hide:!0,orientation:ar(NJ,"".concat(a,".").concat(S%2),null),domain:E,originalDomain:M,isCategorical:w,layout:f})))}return b},{})},BJ=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.children,h="".concat(i,"Id"),v=_r(f,a),_={};return v&&v.length?_=$J(e,{axes:v,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(_=LJ(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),_},FJ=function(e){var n=ua(e),r=xi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Lb(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Bf(n,r)}},xM=function(e){var n=e.children,r=e.defaultShowTooltip,i=nr(n,js),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},qJ=function(e){return!e||!e.length?!1:e.some(function(n){var r=_i(n&&n.type);return r&&r.indexOf("Bar")>=0})},_M=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},UJ=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,d=r.width,f=r.height,h=r.children,v=r.margin||{},_=nr(h,js),w=nr(h,da),S=Object.keys(c).reduce(function(E,P){var I=c[P],D=I.orientation;return!I.mirror&&!I.hide?le(le({},E),{},ze({},D,E[D]+I.width)):E},{left:v.left||0,right:v.right||0}),b=Object.keys(o).reduce(function(E,P){var I=o[P],D=I.orientation;return!I.mirror&&!I.hide?le(le({},E),{},ze({},D,ar(E,"".concat(D))+I.height)):E},{top:v.top||0,bottom:v.bottom||0}),A=le(le({},b),S),O=A.bottom;_&&(A.bottom+=_.props.height||js.defaultProps.height),w&&n&&(A=C9(A,i,r,n));var T=d-A.left-A.right,M=f-A.top-A.bottom;return le(le({brushBottom:O},A),{},{width:Math.max(T,0),height:Math.max(M,0)})},VJ=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},zR=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,v=function(A,O){var T=O.graphicalItems,M=O.stackGroups,E=O.offset,P=O.updateId,I=O.dataStartIndex,D=O.dataEndIndex,F=A.barSize,q=A.layout,L=A.barGap,W=A.barCategoryGap,J=A.maxBarSize,H=_M(q),B=H.numericAxisName,Z=H.cateAxisName,Y=qJ(T),G=[];return T.forEach(function(te,ae){var R=lp(A.data,{graphicalItems:[te],dataStartIndex:I,dataEndIndex:D}),Q=te.type.defaultProps!==void 0?le(le({},te.type.defaultProps),te.props):te.props,fe=Q.dataKey,_e=Q.maxBarSize,Ne=Q["".concat(B,"Id")],Fe=Q["".concat(Z,"Id")],nt={},Ge=c.reduce(function(gn,Ln){var Ii=O["".concat(Ln.axisType,"Map")],Sa=Q["".concat(Ln.axisType,"Id")];Ii&&Ii[Sa]||Ln.axisType==="zAxis"||so();var Cr=Ii[Sa];return le(le({},gn),{},ze(ze({},Ln.axisType,Cr),"".concat(Ln.axisType,"Ticks"),xi(Cr)))},nt),me=Ge[Z],$e=Ge["".concat(Z,"Ticks")],Ve=M&&M[Ne]&&M[Ne].hasStack&&R9(te,M[Ne].stackGroups),ce=_i(te.type).indexOf("Bar")>=0,xt=Bf(me,$e),Ze=[],Ct=Y&&w9({barSize:F,stackGroups:M,totalSize:VJ(Ge,Z)});if(ce){var bt,Ut,$n=lt(_e)?J:_e,Cn=(bt=(Ut=Bf(me,$e,!0))!==null&&Ut!==void 0?Ut:$n)!==null&&bt!==void 0?bt:0;Ze=S9({barGap:L,barCategoryGap:W,bandSize:Cn!==xt?Cn:xt,sizeList:Ct[Fe],maxBarSize:$n}),Cn!==xt&&(Ze=Ze.map(function(gn){return le(le({},gn),{},{position:le(le({},gn.position),{},{offset:gn.position.offset-Cn/2})})}))}var or=te&&te.type&&te.type.getComposedData;or&&G.push({props:le(le({},or(le(le({},Ge),{},{displayedData:R,props:A,dataKey:fe,item:te,bandSize:xt,barPosition:Ze,offset:E,stackedData:Ve,layout:q,dataStartIndex:I,dataEndIndex:D}))),{},ze(ze(ze({key:te.key||"item-".concat(ae)},B,Ge[B]),Z,Ge[Z]),"animationId",P)),childIndex:EB(te,A.children),item:te})}),G},_=function(A,O){var T=A.props,M=A.dataStartIndex,E=A.dataEndIndex,P=A.updateId;if(!RT({props:T}))return null;var I=T.children,D=T.layout,F=T.stackOffset,q=T.data,L=T.reverseStackOrder,W=_M(D),J=W.numericAxisName,H=W.cateAxisName,B=_r(I,r),Z=N9(q,B,"".concat(J,"Id"),"".concat(H,"Id"),F,L),Y=c.reduce(function(Q,fe){var _e="".concat(fe.axisType,"Map");return le(le({},Q),{},ze({},_e,BJ(T,le(le({},fe),{},{graphicalItems:B,stackGroups:fe.axisType===J&&Z,dataStartIndex:M,dataEndIndex:E}))))},{}),G=UJ(le(le({},Y),{},{props:T,graphicalItems:B}),O==null?void 0:O.legendBBox);Object.keys(Y).forEach(function(Q){Y[Q]=f(T,Y[Q],G,Q.replace("Map",""),n)});var te=Y["".concat(H,"Map")],ae=FJ(te),R=v(T,le(le({},Y),{},{dataStartIndex:M,dataEndIndex:E,updateId:P,graphicalItems:B,stackGroups:Z,offset:G}));return le(le({formattedGraphicalItems:R,graphicalItems:B,offset:G,stackGroups:Z},ae),Y)},w=function(b){function A(O){var T,M,E;return wJ(this,A),E=TJ(this,A,[O]),ze(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(E,"accessibilityManager",new lJ),ze(E,"handleLegendBBoxUpdate",function(P){if(P){var I=E.state,D=I.dataStartIndex,F=I.dataEndIndex,q=I.updateId;E.setState(le({legendBBox:P},_({props:E.props,dataStartIndex:D,dataEndIndex:F,updateId:q},le(le({},E.state),{},{legendBBox:P}))))}}),ze(E,"handleReceiveSyncEvent",function(P,I,D){if(E.props.syncId===P){if(D===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(I)}}),ze(E,"handleBrushChange",function(P){var I=P.startIndex,D=P.endIndex;if(I!==E.state.dataStartIndex||D!==E.state.dataEndIndex){var F=E.state.updateId;E.setState(function(){return le({dataStartIndex:I,dataEndIndex:D},_({props:E.props,dataStartIndex:I,dataEndIndex:D,updateId:F},E.state))}),E.triggerSyncEvent({dataStartIndex:I,dataEndIndex:D})}}),ze(E,"handleMouseEnter",function(P){var I=E.getMouseInfo(P);if(I){var D=le(le({},I),{},{isTooltipActive:!0});E.setState(D),E.triggerSyncEvent(D);var F=E.props.onMouseEnter;Ye(F)&&F(D,P)}}),ze(E,"triggeredAfterMouseMove",function(P){var I=E.getMouseInfo(P),D=I?le(le({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(D),E.triggerSyncEvent(D);var F=E.props.onMouseMove;Ye(F)&&F(D,P)}),ze(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),ze(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ze(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),ze(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};E.setState(I),E.triggerSyncEvent(I);var D=E.props.onMouseLeave;Ye(D)&&D(I,P)}),ze(E,"handleOuterEvent",function(P){var I=kB(P),D=ar(E.props,"".concat(I));if(I&&Ye(D)){var F,q;/.*touch.*/i.test(I)?q=E.getMouseInfo(P.changedTouches[0]):q=E.getMouseInfo(P),D((F=q)!==null&&F!==void 0?F:{},P)}}),ze(E,"handleClick",function(P){var I=E.getMouseInfo(P);if(I){var D=le(le({},I),{},{isTooltipActive:!0});E.setState(D),E.triggerSyncEvent(D);var F=E.props.onClick;Ye(F)&&F(D,P)}}),ze(E,"handleMouseDown",function(P){var I=E.props.onMouseDown;if(Ye(I)){var D=E.getMouseInfo(P);I(D,P)}}),ze(E,"handleMouseUp",function(P){var I=E.props.onMouseUp;if(Ye(I)){var D=E.getMouseInfo(P);I(D,P)}}),ze(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),ze(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),ze(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),ze(E,"handleDoubleClick",function(P){var I=E.props.onDoubleClick;if(Ye(I)){var D=E.getMouseInfo(P);I(D,P)}}),ze(E,"handleContextMenu",function(P){var I=E.props.onContextMenu;if(Ye(I)){var D=E.getMouseInfo(P);I(D,P)}}),ze(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&ux.emit(cx,E.props.syncId,P,E.eventEmitterSymbol)}),ze(E,"applySyncEvent",function(P){var I=E.props,D=I.layout,F=I.syncMethod,q=E.state.updateId,L=P.dataStartIndex,W=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(le({dataStartIndex:L,dataEndIndex:W},_({props:E.props,dataStartIndex:L,dataEndIndex:W,updateId:q},E.state)));else if(P.activeTooltipIndex!==void 0){var J=P.chartX,H=P.chartY,B=P.activeTooltipIndex,Z=E.state,Y=Z.offset,G=Z.tooltipTicks;if(!Y)return;if(typeof F=="function")B=F(G,P);else if(F==="value"){B=-1;for(var te=0;te<G.length;te++)if(G[te].value===P.activeLabel){B=te;break}}var ae=le(le({},Y),{},{x:Y.left,y:Y.top}),R=Math.min(J,ae.x+ae.width),Q=Math.min(H,ae.y+ae.height),fe=G[B]&&G[B].value,_e=G_(E.state,E.props.data,B),Ne=G[B]?{x:D==="horizontal"?G[B].coordinate:R,y:D==="horizontal"?Q:G[B].coordinate}:UR;E.setState(le(le({},P),{},{activeLabel:fe,activeCoordinate:Ne,activePayload:_e,activeTooltipIndex:B}))}else E.setState(P)}),ze(E,"renderCursor",function(P){var I,D=E.state,F=D.isTooltipActive,q=D.activeCoordinate,L=D.activePayload,W=D.offset,J=D.activeTooltipIndex,H=D.tooltipAxisBandSize,B=E.getTooltipEventType(),Z=(I=P.props.active)!==null&&I!==void 0?I:F,Y=E.props.layout,G=P.key||"_recharts-cursor";return K.createElement(mJ,{key:G,activeCoordinate:q,activePayload:L,activeTooltipIndex:J,chartName:n,element:P,isActive:Z,layout:Y,offset:W,tooltipAxisBandSize:H,tooltipEventType:B})}),ze(E,"renderPolarAxis",function(P,I,D){var F=ar(P,"type.axisType"),q=ar(E.state,"".concat(F,"Map")),L=P.type.defaultProps,W=L!==void 0?le(le({},L),P.props):P.props,J=q&&q[W["".concat(F,"Id")]];return $.cloneElement(P,le(le({},J),{},{className:at(F,J.className),key:P.key||"".concat(I,"-").concat(D),ticks:xi(J,!0)}))}),ze(E,"renderPolarGrid",function(P){var I=P.props,D=I.radialLines,F=I.polarAngles,q=I.polarRadius,L=E.state,W=L.radiusAxisMap,J=L.angleAxisMap,H=ua(W),B=ua(J),Z=B.cx,Y=B.cy,G=B.innerRadius,te=B.outerRadius;return $.cloneElement(P,{polarAngles:Array.isArray(F)?F:xi(B,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(q)?q:xi(H,!0).map(function(ae){return ae.coordinate}),cx:Z,cy:Y,innerRadius:G,outerRadius:te,key:P.key||"polar-grid",radialLines:D})}),ze(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,I=E.props,D=I.children,F=I.width,q=I.height,L=E.props.margin||{},W=F-(L.left||0)-(L.right||0),J=k2({children:D,formattedGraphicalItems:P,legendWidth:W,legendContent:d});if(!J)return null;var H=J.item,B=gM(J,gJ);return $.cloneElement(H,le(le({},B),{},{chartWidth:F,chartHeight:q,margin:L,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ze(E,"renderTooltip",function(){var P,I=E.props,D=I.children,F=I.accessibilityLayer,q=nr(D,Dr);if(!q)return null;var L=E.state,W=L.isTooltipActive,J=L.activeCoordinate,H=L.activePayload,B=L.activeLabel,Z=L.offset,Y=(P=q.props.active)!==null&&P!==void 0?P:W;return $.cloneElement(q,{viewBox:le(le({},Z),{},{x:Z.left,y:Z.top}),active:Y,label:B,payload:Y?H:[],coordinate:J,accessibilityLayer:F})}),ze(E,"renderBrush",function(P){var I=E.props,D=I.margin,F=I.data,q=E.state,L=q.offset,W=q.dataStartIndex,J=q.dataEndIndex,H=q.updateId;return $.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Zd(E.handleBrushChange,P.props.onChange),data:F,x:Ce(P.props.x)?P.props.x:L.left,y:Ce(P.props.y)?P.props.y:L.top+L.height+L.brushBottom-(D.bottom||0),width:Ce(P.props.width)?P.props.width:L.width,startIndex:W,endIndex:J,updateId:"brush-".concat(H)})}),ze(E,"renderReferenceElement",function(P,I,D){if(!P)return null;var F=E,q=F.clipPathId,L=E.state,W=L.xAxisMap,J=L.yAxisMap,H=L.offset,B=P.type.defaultProps||{},Z=P.props,Y=Z.xAxisId,G=Y===void 0?B.xAxisId:Y,te=Z.yAxisId,ae=te===void 0?B.yAxisId:te;return $.cloneElement(P,{key:P.key||"".concat(I,"-").concat(D),xAxis:W[G],yAxis:J[ae],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:q})}),ze(E,"renderActivePoints",function(P){var I=P.item,D=P.activePoint,F=P.basePoint,q=P.childIndex,L=P.isRange,W=[],J=I.props.key,H=I.item.type.defaultProps!==void 0?le(le({},I.item.type.defaultProps),I.item.props):I.item.props,B=H.activeDot,Z=H.dataKey,Y=le(le({index:q,dataKey:Z,cx:D.x,cy:D.y,r:4,fill:cw(I.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},We(B,!1)),mf(B));return W.push(A.renderActiveDot(B,Y,"".concat(J,"-activePoint-").concat(q))),F?W.push(A.renderActiveDot(B,le(le({},Y),{},{cx:F.x,cy:F.y}),"".concat(J,"-basePoint-").concat(q))):L&&W.push(null),W}),ze(E,"renderGraphicChild",function(P,I,D){var F=E.filterFormatItem(P,I,D);if(!F)return null;var q=E.getTooltipEventType(),L=E.state,W=L.isTooltipActive,J=L.tooltipAxis,H=L.activeTooltipIndex,B=L.activeLabel,Z=E.props.children,Y=nr(Z,Dr),G=F.props,te=G.points,ae=G.isRange,R=G.baseLine,Q=F.item.type.defaultProps!==void 0?le(le({},F.item.type.defaultProps),F.item.props):F.item.props,fe=Q.activeDot,_e=Q.hide,Ne=Q.activeBar,Fe=Q.activeShape,nt=!!(!_e&&W&&Y&&(fe||Ne||Fe)),Ge={};q!=="axis"&&Y&&Y.props.trigger==="click"?Ge={onClick:Zd(E.handleItemMouseEnter,P.props.onClick)}:q!=="axis"&&(Ge={onMouseLeave:Zd(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Zd(E.handleItemMouseEnter,P.props.onMouseEnter)});var me=$.cloneElement(P,le(le({},F.props),Ge));function $e(Ln){return typeof J.dataKey=="function"?J.dataKey(Ln.payload):null}if(nt)if(H>=0){var Ve,ce;if(J.dataKey&&!J.allowDuplicatedCategory){var xt=typeof J.dataKey=="function"?$e:"payload.".concat(J.dataKey.toString());Ve=kx(te,xt,B),ce=ae&&R&&kx(R,xt,B)}else Ve=te==null?void 0:te[H],ce=ae&&R&&R[H];if(Fe||Ne){var Ze=P.props.activeIndex!==void 0?P.props.activeIndex:H;return[$.cloneElement(P,le(le(le({},F.props),Ge),{},{activeIndex:Ze})),null,null]}if(!lt(Ve))return[me].concat(Gs(E.renderActivePoints({item:F,activePoint:Ve,basePoint:ce,childIndex:H,isRange:ae})))}else{var Ct,bt=(Ct=E.getItemByXY(E.state.activeCoordinate))!==null&&Ct!==void 0?Ct:{graphicalItem:me},Ut=bt.graphicalItem,$n=Ut.item,Cn=$n===void 0?P:$n,or=Ut.childIndex,gn=le(le(le({},F.props),Ge),{},{activeIndex:or});return[$.cloneElement(Cn,gn),null,null]}return ae?[me,null,null]:[me,null]}),ze(E,"renderCustomized",function(P,I,D){return $.cloneElement(P,le(le({key:"recharts-customized-".concat(D)},E.props),E.state))}),ze(E,"renderMap",{CartesianGrid:{handler:rf,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:rf},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:rf},YAxis:{handler:rf},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((T=O.id)!==null&&T!==void 0?T:dc("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=CD(E.triggeredAfterMouseMove,(M=O.throttleDelay)!==null&&M!==void 0?M:1e3/60),E.state={},E}return AJ(A,b),CJ(A,[{key:"componentDidMount",value:function(){var T,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,M=T.children,E=T.data,P=T.height,I=T.layout,D=nr(M,Dr);if(D){var F=D.props.defaultIndex;if(!(typeof F!="number"||F<0||F>this.state.tooltipTicks.length-1)){var q=this.state.tooltipTicks[F]&&this.state.tooltipTicks[F].value,L=G_(this.state,E,F,q),W=this.state.tooltipTicks[F].coordinate,J=(this.state.offset.top+P)/2,H=I==="horizontal",B=H?{x:W,y:J}:{y:W,x:J},Z=this.state.formattedGraphicalItems.find(function(G){var te=G.item;return te.type.name==="Scatter"});Z&&(B=le(le({},B),Z.props.points[F].tooltipPosition),L=Z.props.points[F].tooltipPayload);var Y={activeTooltipIndex:F,isTooltipActive:!0,activeLabel:q,activePayload:L,activeCoordinate:B};this.setState(Y),this.renderCursor(D),this.accessibilityManager.setIndex(F)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(T){Ax([nr(T.children,Dr)],[nr(this.props.children,Dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=nr(this.props.children,Dr);if(T&&typeof T.props.shared=="boolean"){var M=T.props.shared?"axis":"item";return l.indexOf(M)>=0?M:a}return a}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var M=this.container,E=M.getBoundingClientRect(),P=hU(E),I={chartX:Math.round(T.pageX-P.left),chartY:Math.round(T.pageY-P.top)},D=E.width/M.offsetWidth||1,F=this.inRange(I.chartX,I.chartY,D);if(!F)return null;var q=this.state,L=q.xAxisMap,W=q.yAxisMap,J=this.getTooltipEventType(),H=yM(this.state,this.props.data,this.props.layout,F);if(J!=="axis"&&L&&W){var B=ua(L).scale,Z=ua(W).scale,Y=B&&B.invert?B.invert(I.chartX):null,G=Z&&Z.invert?Z.invert(I.chartY):null;return le(le({},I),{},{xValue:Y,yValue:G},H)}return H?le(le({},I),H):null}},{key:"inRange",value:function(T,M){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,I=T/E,D=M/E;if(P==="horizontal"||P==="vertical"){var F=this.state.offset,q=I>=F.left&&I<=F.left+F.width&&D>=F.top&&D<=F.top+F.height;return q?{x:I,y:D}:null}var L=this.state,W=L.angleAxisMap,J=L.radiusAxisMap;if(W&&J){var H=ua(W);return SP({x:I,y:D},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,M=this.getTooltipEventType(),E=nr(T,Dr),P={};E&&M==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=mf(this.props,this.handleOuterEvent);return le(le({},I),P)}},{key:"addListener",value:function(){ux.on(cx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ux.removeListener(cx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,M,E){for(var P=this.state.formattedGraphicalItems,I=0,D=P.length;I<D;I++){var F=P[I];if(F.item===T||F.props.key===T.key||M===_i(F.item.type)&&E===F.childIndex)return F}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,M=this.state.offset,E=M.left,P=M.top,I=M.height,D=M.width;return K.createElement("defs",null,K.createElement("clipPath",{id:T},K.createElement("rect",{x:E,y:P,height:I,width:D})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(M,E){var P=mM(E,2),I=P[0],D=P[1];return le(le({},M),{},ze({},I,D.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(M,E){var P=mM(E,2),I=P[0],D=P[1];return le(le({},M),{},ze({},I,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[T])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(T){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[T])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(T){var M=this.state,E=M.formattedGraphicalItems,P=M.activeItem;if(E&&E.length)for(var I=0,D=E.length;I<D;I++){var F=E[I],q=F.props,L=F.item,W=L.type.defaultProps!==void 0?le(le({},L.type.defaultProps),L.props):L.props,J=_i(L.type);if(J==="Bar"){var H=(q.data||[]).find(function(G){return OG(T,G)});if(H)return{graphicalItem:F,payload:H}}else if(J==="RadialBar"){var B=(q.data||[]).find(function(G){return SP(T,G)});if(B)return{graphicalItem:F,payload:B}}else if(Qh(F,P)||ep(F,P)||Zu(F,P)){var Z=QH({graphicalItem:F,activeTooltipItem:P,itemData:W.data}),Y=W.activeIndex===void 0?Z:W.activeIndex;return{graphicalItem:le(le({},F),{},{childIndex:Y}),payload:Zu(F,P)?W.data[Z]:F.props.data[Z]}}}return null}},{key:"render",value:function(){var T=this;if(!RT(this))return null;var M=this.props,E=M.children,P=M.className,I=M.width,D=M.height,F=M.style,q=M.compact,L=M.title,W=M.desc,J=gM(M,vJ),H=We(J,!1);if(q)return K.createElement(QO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(Ox,hs({},H,{width:I,height:D,title:L,desc:W}),this.renderClipPath(),$T(E,this.renderMap)));if(this.props.accessibilityLayer){var B,Z;H.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,H.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",H.onKeyDown=function(G){T.accessibilityManager.keyboardEvent(G)},H.onFocus=function(){T.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return K.createElement(QO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",hs({className:at("recharts-wrapper",P),style:le({position:"relative",cursor:"default",width:I,height:D},F)},Y,{ref:function(te){T.container=te}}),K.createElement(Ox,hs({},H,{width:I,height:D,title:L,desc:W,style:DJ}),this.renderClipPath(),$T(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);ze(w,"displayName",n),ze(w,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ze(w,"getDerivedStateFromProps",function(b,A){var O=b.dataKey,T=b.data,M=b.children,E=b.width,P=b.height,I=b.layout,D=b.stackOffset,F=b.margin,q=A.dataStartIndex,L=A.dataEndIndex;if(A.updateId===void 0){var W=xM(b);return le(le(le({},W),{},{updateId:0},_(le(le({props:b},W),{},{updateId:0}),A)),{},{prevDataKey:O,prevData:T,prevWidth:E,prevHeight:P,prevLayout:I,prevStackOffset:D,prevMargin:F,prevChildren:M})}if(O!==A.prevDataKey||T!==A.prevData||E!==A.prevWidth||P!==A.prevHeight||I!==A.prevLayout||D!==A.prevStackOffset||!gs(F,A.prevMargin)){var J=xM(b),H={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},B=le(le({},yM(A,T,I)),{},{updateId:A.updateId+1}),Z=le(le(le({},J),H),B);return le(le(le({},Z),_(le({props:b},Z),A)),{},{prevDataKey:O,prevData:T,prevWidth:E,prevHeight:P,prevLayout:I,prevStackOffset:D,prevMargin:F,prevChildren:M})}if(!Ax(M,A.prevChildren)){var Y,G,te,ae,R=nr(M,js),Q=R&&(Y=(G=R.props)===null||G===void 0?void 0:G.startIndex)!==null&&Y!==void 0?Y:q,fe=R&&(te=(ae=R.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&te!==void 0?te:L,_e=Q!==q||fe!==L,Ne=!lt(T),Fe=Ne&&!_e?A.updateId:A.updateId+1;return le(le({updateId:Fe},_(le(le({props:b},A),{},{updateId:Fe,dataStartIndex:Q,dataEndIndex:fe}),A)),{},{prevChildren:M,dataStartIndex:Q,dataEndIndex:fe})}return null}),ze(w,"renderActiveDot",function(b,A,O){var T;return $.isValidElement(b)?T=$.cloneElement(b,A):Ye(b)?T=b(A):T=K.createElement(fw,A),K.createElement(_t,{className:"recharts-active-dot",key:O},T)});var S=$.forwardRef(function(A,O){return K.createElement(w,hs({},A,{ref:O}))});return S.displayName=w.displayName,S},zJ=zR({chartName:"BarChart",GraphicalChild:yo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:op},{axisType:"yAxis",AxisComp:sp}],formatAxisMap:nK}),GJ=zR({chartName:"PieChart",GraphicalChild:Oi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Zh},{axisType:"radiusAxis",AxisComp:Jh}],formatAxisMap:G9,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const bM=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82ca9d","#ffc658","#a4de6c","#d0ed57","#ff7300","#4CAF50","#F44336","#E91E63","#9C27B0","#3F51B5"],HJ=({active:t,payload:e})=>t&&e&&e.length?x.jsx("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:x.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:`${e[0].name} : ${ve(e[0].value)}`})}):null,WJ=({transactions:t,categories:e,type:n,month:r})=>{const i=K.useMemo(()=>{const a=t.filter(l=>l.type===n&&l.date.startsWith(r)&&l.category_id),o={};return a.forEach(l=>{l.category_id&&(o[l.category_id]=(o[l.category_id]||0)+l.amount)}),Object.entries(o).map(([l,c])=>{const d=e.find(f=>f.id===l);return{name:d?d.name:"Desconhecido",value:c}}).sort((l,c)=>c.value-l.value)},[t,e,n,r]);return i.length===0?x.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",n===de.INCOME?"receitas":"despesas"," este mês."]}):x.jsx("div",{className:"w-full h-80 md:h-96",children:x.jsx(TD,{width:"100%",height:"100%",children:x.jsxs(GJ,{children:[x.jsx(Oi,{data:i,cx:"50%",cy:"50%",labelLine:!1,outerRadius:"80%",fill:"#8884d8",dataKey:"value",nameKey:"name",label:({cx:a,cy:o,midAngle:l,innerRadius:c,outerRadius:d,percent:f,index:h})=>{const v=Math.PI/180,_=c+(d-c)*.5,w=a+_*Math.cos(-l*v),S=o+_*Math.sin(-l*v),b=document.documentElement.classList.contains("dark");return f*100<5?null:x.jsx("text",{x:w,y:S,fill:"#FFF",textAnchor:w>a?"start":"end",dominantBaseline:"central",fontSize:"12px",children:`${(f*100).toFixed(0)}%`})},children:i.map((a,o)=>x.jsx(Rh,{fill:bM[o%bM.length]},`cell-${o}`))}),x.jsx(Dr,{content:x.jsx(HJ,{})}),x.jsx(da,{formatter:(a,o)=>x.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:a})})]})})})},KJ=({active:t,payload:e,label:n})=>t&&e&&e.length?x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:[x.jsxs("p",{className:"text-sm font-semibold text-textBase dark:text-textBaseDark",children:["Dia ",n]}),x.jsxs("p",{className:`text-sm ${e[0].fill==="#00C49F"?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:[e[0].name,": ",ve(e[0].value)]})]}):null,YJ=({transactions:t,type:e,month:n})=>{const r=K.useMemo(()=>{const[o,l]=n.split("-").map(Number),c=new Date(o,l,0).getDate(),d=Array.from({length:c},(f,h)=>({name:(h+1).toString().padStart(2,"0"),value:0}));return t.forEach(f=>{if(f.type===e&&f.date.startsWith(n)){const h=parseInt(f.date.split("-")[2],10)-1;h>=0&&h<c&&(d[h].value+=f.amount)}}),d},[t,e,n]);if(r.every(o=>o.value===0))return x.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",e===de.INCOME?"receitas":"despesas"," este mês."]});const i=o=>o>=1e6?`${(o/1e6).toFixed(1)}M`:o>=1e3?`${(o/1e3).toFixed(0)}K`:o.toString(),a=e===de.INCOME?"#00C49F":"#FF8042";return x.jsx("div",{className:"w-full h-80 md:h-96",children:x.jsx(TD,{width:"100%",height:"100%",children:x.jsxs(zJ,{data:r,margin:{top:5,right:0,left:-10,bottom:5},children:[x.jsx(OR,{strokeDasharray:"3 3",strokeOpacity:.2,className:"stroke-neutral dark:stroke-neutralDark"}),x.jsx(op,{dataKey:"name",tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",interval:"preserveStartEnd"}),x.jsx(sp,{tickFormatter:i,tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",width:45}),x.jsx(Dr,{content:x.jsx(KJ,{}),cursor:{fill:"rgba(128, 128, 128, 0.1)"}}),x.jsx(da,{payload:[{value:e===de.INCOME?"Receitas":"Despesas",type:"square",color:a}],formatter:o=>x.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:o})}),x.jsx(yo,{dataKey:"value",name:e===de.INCOME?"Receitas":"Despesas",fill:a,radius:[4,4,0,0]})]})})})},GR=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})]}),JJ=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),XJ=({className:t="w-5 h-5",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 10.5h19.5M4.5 3v2.25M19.5 3v2.25"})]}),H_=({className:t="w-5 h-5",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75h.008v.008H12V6.75Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75h.008v.008H12v-.008Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75h.008v.008H12V18.75Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Z"})]}),wM=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 11.25a.75.75 0 0 1 0-1.5m1.259 5.25a.75.75 0 0 1 0-1.5m15.257 1.5a.75.75 0 0 1 0-1.5M16.5 6.375a.75.75 0 0 1 0-1.5m-9.75 1.5a.75.75 0 0 1 0-1.5M21 9.75A.75.75 0 0 1 20.25 9M12 3.75a.75.75 0 0 1 .75-.75M3.75 9A.75.75 0 0 1 3 9.75m1.5-4.5a.75.75 0 0 1-.75-.75"})}),ZJ=({recurringTransactions:t,accounts:e,categories:n,onViewTransaction:r,isPrivacyModeEnabled:i})=>{const a=yt(new Date),o=yt(new Date(new Date().setDate(new Date().getDate()+7))),l=t.filter(h=>!h.is_paused&&(!h.end_date||h.end_date>=a)&&(h.remaining_occurrences===void 0||h.remaining_occurrences>0)),c=l.filter(h=>h.next_due_date<a).sort((h,v)=>new Date(h.next_due_date).getTime()-new Date(v.next_due_date).getTime()),d=l.filter(h=>h.next_due_date>=a&&h.next_due_date<=o).sort((h,v)=>new Date(h.next_due_date).getTime()-new Date(v.next_due_date).getTime());if(c.length===0&&d.length===0)return x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex items-center mb-3",children:[x.jsx(wM,{className:"w-6 h-6 text-secondary dark:text-secondaryDark mr-2"}),x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),x.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark text-center py-3",children:"Nenhuma conta vencida ou próxima do vencimento. Tudo em dia!"})]});const f=(h,v)=>{const _=e.find(A=>A.id===h.account_id),w=h.category_id?n.find(A=>A.id===h.category_id):null,S=h.type===de.EXPENSE?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark",b=h.type===de.EXPENSE?"-":"+";return x.jsx("li",{className:`p-3 rounded-md border-l-4 ${v?"border-destructive dark:border-destructiveDark bg-destructive/5 dark:bg-destructiveDark/10":"border-amber-500 dark:border-amber-400 bg-amber-500/5 dark:bg-amber-400/10"} hover:shadow-sm transition-shadow`,onClick:()=>r&&r(h.id),role:r?"button":void 0,tabIndex:r?0:void 0,"aria-label":`Ver detalhes de ${h.description}`,children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[v?x.jsx(XJ,{className:"w-5 h-5 text-destructive dark:text-destructiveDark flex-shrink-0"}):x.jsx(H_,{className:"w-5 h-5 text-amber-500 dark:text-amber-400 flex-shrink-0"}),x.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:h.description})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-7",children:["Vence em: ",Dn(h.next_due_date),_&&` (${_.name})`,w&&` - ${w.name}`]})]}),x.jsxs("span",{className:`text-md font-bold ${S}`,children:[b,ve(h.amount,"BRL","pt-BR",i)]})]})},h.id)};return x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex items-center mb-4",children:[x.jsx(wM,{className:"w-6 h-6 text-primary dark:text-primaryDark mr-2"}),x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),x.jsxs("div",{className:"space-y-4",children:[c.length>0&&x.jsxs("div",{children:[x.jsxs("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Vencidas (",c.length,")"]}),x.jsx("ul",{className:"space-y-2",children:c.map(h=>f(h,!0))})]}),d.length>0&&x.jsxs("div",{children:[x.jsxs("h3",{className:`text-md font-semibold text-amber-600 dark:text-amber-500 mb-2 ${c.length>0?"mt-4":""}`,children:["Próximas (7 dias) (",d.length,")"]}),x.jsx("ul",{className:"space-y-2",children:d.map(h=>f(h,!1))})]})]})]})},SM=({transactions:t,accounts:e,categories:n,creditCards:r,installmentPurchases:i,moneyBoxes:a,loans:o,loanRepayments:l,recurringTransactions:c,onAddTransaction:d,calculateAccountBalance:f,calculateMoneyBoxBalance:h,onViewRecurringTransaction:v,isPrivacyModeEnabled:_})=>{const[w,S]=$.useState(de.EXPENSE),[b,A]=$.useState("pie"),O=yt(new Date).substring(0,7),T=$.useMemo(()=>e.reduce((L,W)=>L+f(W.id),0),[e,f]),M=$.useMemo(()=>a.reduce((L,W)=>L+h(W.id),0),[a,h]),E=$.useMemo(()=>i.reduce((L,W)=>{if(W.installments_paid>=W.number_of_installments)return L;const J=W.total_amount/W.number_of_installments,H=W.number_of_installments-W.installments_paid;return L+J*H},0),[i]),P=$.useMemo(()=>o.reduce((L,W)=>{const J=l.filter(H=>H.loan_id===W.id).reduce((H,B)=>H+B.amount_paid,0);return L+(W.total_amount_to_reimburse-J)},0),[o,l]),I=$.useMemo(()=>T+M+P-E,[T,M,P,E]),D=$.useMemo(()=>[...t].sort((L,W)=>new Date(W.date).getTime()-new Date(L.date).getTime()).slice(0,5),[t]),F=$.useMemo(()=>n.filter(L=>L.type===de.EXPENSE&&L.monthly_budget&&L.monthly_budget>0),[n]),q=$.useMemo(()=>{const L=F.reduce((J,H)=>J+(H.monthly_budget||0),0);let W=0;return F.forEach(J=>{const H=t.filter(B=>B.category_id===J.id&&B.date.startsWith(O)&&B.type===de.EXPENSE).reduce((B,Z)=>B+Z.amount,0);W+=H}),{totalBudgeted:L,totalSpentInBudgetedCategories:W}},[F,t,O]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Painel Geral"}),x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Bem-vindo ao seu controle financeiro."})]}),x.jsxs(ye,{onClick:d,variant:"primary",size:"lg",children:[x.jsx(cn,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO TOTAL (CONTAS)"}),x.jsx("p",{className:`text-3xl font-bold ${T>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:ve(T,"BRL","pt-BR",_)})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO CAIXINHAS"}),x.jsx("p",{className:`text-3xl font-bold ${M>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:ve(M,"BRL","pt-BR",_)})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex items-center w-full justify-between",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"A RECEBER (EMPRÉSTIMOS)"}),x.jsx(vb,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),x.jsx("p",{className:"text-3xl font-bold text-primary dark:text-primaryDark",children:ve(P,"BRL","pt-BR",_)})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30 flex flex-col items-start",children:[x.jsxs("div",{className:"flex items-center w-full justify-between",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"PATRIMÔNIO LÍQUIDO"}),x.jsx(E3,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),x.jsx("p",{className:`text-3xl font-bold ${I>=0?"text-primary dark:text-primaryDark":"text-destructive dark:text-destructiveDark"}`,children:ve(I,"BRL","pt-BR",_)}),!_&&x.jsxs("div",{className:"text-xs mt-1 space-y-0.5",children:[E>0&&x.jsxs("p",{className:"text-destructive dark:text-destructiveDark/80",children:["Dívida Cartões: ",ve(E)]}),P>0&&x.jsxs("p",{className:"text-primary dark:text-primaryDark/80",children:["Empréstimos a Receber: ",ve(P)]})]})]})]}),x.jsx(ZJ,{recurringTransactions:c,accounts:e,categories:n,onViewTransaction:v,isPrivacyModeEnabled:_}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[x.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:["Resumo Mensal (",O.split("-")[1],"/",O.split("-")[0],")"]}),x.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[x.jsx(ye,{variant:w===de.EXPENSE?"primary":"ghost",size:"sm",onClick:()=>S(de.EXPENSE),children:"Despesas"}),x.jsx(ye,{variant:w===de.INCOME?"secondary":"ghost",size:"sm",onClick:()=>S(de.INCOME),children:"Receitas"}),x.jsx("div",{className:"h-6 border-l border-borderBase dark:border-borderBaseDark mx-1 sm:mx-2"}),x.jsx(ye,{variant:b==="pie"?"primary":"ghost",size:"sm",onClick:()=>A("pie"),className:"!px-2",title:"Gráfico de Pizza",children:x.jsx(GR,{className:"w-4 h-4"})}),x.jsx(ye,{variant:b==="bar"?"primary":"ghost",size:"sm",onClick:()=>A("bar"),className:"!px-2",title:"Gráfico de Barras",children:x.jsx(JJ,{className:"w-4 h-4"})})]})]}),_?x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Gráficos ocultos em Modo Privacidade."}):b==="pie"?x.jsx(WJ,{transactions:t,categories:n.filter(L=>L.type===w),type:w,month:O}):x.jsx(YJ,{transactions:t,type:w,month:O})]}),F.length>0&&x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:["Orçamento Mensal (",O.split("-")[1],"/",O.split("-")[0],")"]}),x.jsxs("div",{className:"mb-3",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsxs("span",{children:["Total Gasto (Orçado): ",ve(q.totalSpentInBudgetedCategories,"BRL","pt-BR",_)]}),x.jsxs("span",{children:["Total Orçado: ",ve(q.totalBudgeted,"BRL","pt-BR",_)]})]}),!_&&q.totalBudgeted>0&&x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 mt-1 dark:progress-bar-bg",children:x.jsx("div",{className:`h-2.5 rounded-full ${q.totalSpentInBudgetedCategories>q.totalBudgeted?"bg-destructive":"bg-primary dark:bg-primaryDark"}`,style:{width:`${Math.min(q.totalSpentInBudgetedCategories/q.totalBudgeted*100,100)}%`}})}),_&&x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center",children:"Progresso oculto em Modo Privacidade."})]}),x.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto",children:F.map(L=>{const W=t.filter(B=>B.category_id===L.id&&B.date.startsWith(O)&&B.type===de.EXPENSE).reduce((B,Z)=>B+Z.amount,0),J=L.monthly_budget?Math.min(W/L.monthly_budget*100,100):0,H=L.monthly_budget?W>L.monthly_budget:!1;return x.jsxs("li",{className:"text-sm",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:L.name}),x.jsxs("span",{className:H?"text-destructive dark:text-destructiveDark":"",children:[ve(W,"BRL","pt-BR",_)," / ",ve(L.monthly_budget||0,"BRL","pt-BR",_)]})]}),!_&&L.monthly_budget&&L.monthly_budget>0&&x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-1.5 mt-0.5 dark:progress-bar-bg",children:x.jsx("div",{className:`h-1.5 rounded-full ${H?"bg-destructive":"bg-secondary dark:bg-secondaryDark"}`,style:{width:`${J}%`}})})]},L.id)})})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:"Transações Recentes"}),D.length>0?x.jsx("ul",{className:"space-y-3",children:D.map(L=>{const W=e.find(Z=>Z.id===L.account_id),J=n.find(Z=>Z.id===L.category_id);let H="text-textBase dark:text-textBaseDark";L.type===de.INCOME?H="text-secondary dark:text-secondaryDark":L.type===de.EXPENSE&&(H="text-destructive dark:text-destructiveDark");let B=L.description||(L.type===de.TRANSFER?"Transferência":J==null?void 0:J.name)||"Transação";if(L.type===de.TRANSFER){const Z=e.find(Y=>Y.id===L.to_account_id);B+=` para ${(Z==null?void 0:Z.name)||"N/A"}`}return x.jsxs("li",{className:"flex justify-between items-center py-2 border-b border-borderBase/50 dark:border-borderBaseDark/50 last:border-b-0",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-textBase dark:text-textBaseDark",children:B}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[W==null?void 0:W.name," • ",Dn(L.date)]})]}),x.jsx("p",{className:`font-semibold ${H}`,children:ve(L.amount,"BRL","pt-BR",_)})]},L.id)})}):x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Nenhuma transação recente."})]})]})},Xr=({className:t="w-5 h-5",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79M5.25 5.79h13.5"})}),Zr=({className:t="w-5 h-5",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),ac=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})}),QJ=({transaction:t,accounts:e,categories:n,tags:r,installmentPurchases:i,onEdit:a,onDelete:o,isPrivacyModeEnabled:l})=>{const{type:c,amount:d,category_id:f,description:h,date:v,account_id:_,to_account_id:w,tag_ids:S}=t,b=e.find(q=>q.id===_),A=w?e.find(q=>q.id===w):null,O=f?n.find(q=>q.id===f):null,T=S?r.filter(q=>S.includes(q.id)):[];let M="text-textBase dark:text-textBaseDark",E="";c===de.INCOME?(M="text-secondary dark:text-secondaryDark",E="+"):c===de.EXPENSE&&(M="text-destructive dark:text-destructiveDark",E="-");const P=h||(O==null?void 0:O.name)||c,I=[];b&&I.push(b.name),c===de.TRANSFER&&A?I.push(`➔ ${A.name}`):O&&c!==de.TRANSFER&&I.push(O.name);const D=q=>{if(!q)return"text-textBase dark:text-textBaseDark";try{const L=parseInt(q.slice(1,3),16),W=parseInt(q.slice(3,5),16),J=parseInt(q.slice(5,7),16);return(.299*L+.587*W+.114*J)/255>.5?"text-neutral-800":"text-white"}catch{return"text-white"}},F=i.some(q=>q.linked_transaction_id===t.id&&q.number_of_installments===1);return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-2 sm:space-y-0",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsxs("span",{className:`font-semibold text-lg ${M}`,children:[E,ve(d,"BRL","pt-BR",l)]}),x.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:P}),F&&x.jsxs("span",{title:"Débito em fatura de cartão",className:"ml-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300 px-1.5 py-0.5 rounded-full inline-flex items-center",children:[x.jsx(ac,{className:"w-3 h-3 mr-1"})," Cartão"]})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[Dn(v)," ",x.jsx("span",{className:"mx-1",children:"•"})," ",I.join(" ")]}),h&&O&&c!==de.TRANSFER&&x.jsx("p",{className:"text-xs text-neutral/70 dark:text-neutralDark/70 italic mt-1",children:h}),T.length>0&&x.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:T.map(q=>x.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full border
                            ${q.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:q.color?{backgroundColor:q.color,borderColor:q.color}:{},children:x.jsx("span",{className:q.color?D(q.color):"text-textBase dark:text-textBaseDark",children:q.name})},q.id))})]}),x.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>a(t),"aria-label":"Editar",children:x.jsx(Zr,{className:"w-4 h-4"})}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>o(t.id),"aria-label":"Excluir",children:x.jsx(Xr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})},Pt=({label:t,id:e,error:n,className:r,containerClassName:i,options:a,placeholder:o,...l})=>x.jsxs("div",{className:i,children:[t&&x.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),x.jsxs("select",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...l,children:[o&&x.jsx("option",{value:"",children:o}),a.map(f=>x.jsx("option",{value:f.value,children:f.label},f.value))]}),n&&x.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),et=({label:t,id:e,error:n,className:r,containerClassName:i,...a})=>x.jsxs("div",{className:i,children:[t&&x.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),x.jsx("input",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...a}),n&&x.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),eX=({transactions:t,accounts:e,categories:n,tags:r,installmentPurchases:i,onAddTransaction:a,onEditTransaction:o,onDeleteTransaction:l,isLoading:c,isPrivacyModeEnabled:d})=>{const[f,h]=$.useState("all"),[v,_]=$.useState("all"),[w,S]=$.useState("all"),[b,A]=$.useState("all"),[O,T]=$.useState([]),[M,E]=$.useState(""),[P,I]=$.useState("desc"),D=[{value:"all",label:"Todas as Contas"},...e.map(B=>({value:B.id,label:B.name}))],F=[{value:"all",label:"Todas as Categorias"},...n.map(B=>({value:B.id,label:B.name}))],q=[{value:"all",label:"Todos os Tipos"},...wh],L=r.map(B=>({value:B.id,label:B.name})),W=$.useMemo(()=>{let B=[...t];if(f!=="all"){const Z=new Date;let Y=null,G=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate(),23,59,59,999);if(f==="today"?Y=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate()):f==="current_month"?(Y=new Date(Z.getFullYear(),Z.getMonth(),1),G=new Date(Z.getFullYear(),Z.getMonth()+1,0,23,59,59,999)):f==="last_7_days"?(Y=new Date(Z),Y.setDate(Z.getDate()-6),Y.setHours(0,0,0,0)):f==="last_30_days"&&(Y=new Date(Z),Y.setDate(Z.getDate()-29),Y.setHours(0,0,0,0)),Y){const te=yt(Y),ae=yt(G);B=B.filter(R=>R.date>=te&&R.date<=ae)}}if(v!=="all"&&(B=B.filter(Z=>Z.type===v)),w!=="all"&&(B=B.filter(Z=>Z.account_id===w||Z.to_account_id===w)),b!=="all"&&(B=B.filter(Z=>Z.category_id===b)),O.length>0&&(B=B.filter(Z=>Z.tag_ids&&Z.tag_ids.some(Y=>O.includes(Y)))),M.trim()!==""){const Z=M.toLowerCase();B=B.filter(Y=>{var G;return Y.description&&Y.description.toLowerCase().includes(Z)||Y.category_id&&((G=n.find(te=>te.id===Y.category_id))==null?void 0:G.name.toLowerCase().includes(Z))})}return B.sort((Z,Y)=>{const G=new Date(Z.date).getTime(),te=new Date(Y.date).getTime();return P==="desc"?te-G:G-te}),B},[t,f,v,w,b,O,M,n,P]),J=$.useCallback(()=>I(B=>B==="asc"?"desc":"asc"),[]),H=B=>{const Z=B.target.options,Y=[];for(let G=0,te=Z.length;G<te;G++)Z[G].selected&&Y.push(Z[G].value);T(Y)};return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações"}),x.jsxs(ye,{onClick:a,variant:"primary",children:[x.jsx(cn,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-6 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx(Pt,{label:"Período",options:b3,value:f,onChange:B=>h(B.target.value)}),x.jsx(Pt,{label:"Tipo",options:q,value:v,onChange:B=>_(B.target.value)}),x.jsx(Pt,{label:"Conta",options:D,value:w,onChange:B=>S(B.target.value)}),x.jsx(Pt,{label:"Categoria",options:F,value:b,onChange:B=>A(B.target.value),disabled:v===de.TRANSFER.toString()}),r.length>0&&x.jsx(Pt,{label:"Tags",options:L,value:O,onChange:H,multiple:!0,className:"h-24",placeholder:"Todas as Tags"}),x.jsx(et,{label:"Buscar Descrição",type:"text",placeholder:"Ex: Supermercado",value:M,onChange:B=>E(B.target.value),containerClassName:r.length===0?"lg:col-span-2":""})]}),x.jsx("div",{className:"flex justify-end",children:x.jsxs(ye,{variant:"ghost",size:"sm",onClick:J,children:["Ordenar por Data: ",P==="desc"?"Mais Recentes":"Mais Antigas"]})}),c&&x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Carregando transações..."}),!c&&W.length>0?x.jsx("ul",{className:"space-y-3",children:W.map(B=>x.jsx(QJ,{transaction:B,accounts:e,categories:n,tags:r,installmentPurchases:i,onEdit:o,onDelete:l,isPrivacyModeEnabled:d},B.id))}):!c&&x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação encontrada com os filtros aplicados."})]})},tX=({account:t,balance:e,onEdit:n,onDelete:r,transactionCount:i,isPrivacyModeEnabled:a})=>x.jsx("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(ac,{className:"w-6 h-6 text-primary dark:text-primaryDark"}),x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),x.jsx("p",{className:`text-2xl font-bold mt-1 ${e>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:ve(e,"BRL","pt-BR",a)}),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1",children:["Saldo Inicial: ",ve(t.initial_balance,"BRL","pt-BR",a)]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[x.jsxs("div",{className:"flex space-x-2",children:[x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Conta",children:x.jsx(Zr,{className:"w-4 h-4"})}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Conta",disabled:i>0,title:i>0?"Não pode excluir contas com transações associadas":"Excluir conta",children:x.jsx(Xr,{className:`w-4 h-4 ${i>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),i>0&&x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Possui ",i," transaçõe(s)"]})]})]})}),Yn=({isOpen:t,onClose:e,title:n,children:r,size:i="md"})=>{if(!t)return null;let a="max-w-md";return i==="sm"&&(a="max-w-sm"),i==="lg"&&(a="max-w-lg"),i==="xl"&&(a="max-w-xl"),x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 dark:bg-opacity-70 backdrop-blur-sm p-4",children:x.jsxs("div",{className:`bg-surface dark:bg-surfaceDark rounded-lg shadow-xl dark:shadow-neutralDark/50 w-full ${a} transform transition-all flex flex-col max-h-[85vh]`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[x.jsxs("div",{id:"modal-title",className:"flex items-center justify-between px-6 py-4 border-b border-borderBase dark:border-borderBaseDark flex-shrink-0",children:[x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n}),x.jsx("button",{onClick:e,className:"text-textMuted dark:text-textMutedDark hover:text-textBase dark:hover:text-textBaseDark transition-colors","aria-label":"Fechar modal",children:x.jsx(bN,{className:"w-5 h-5"})})]}),x.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:r})]})})},nX=({accounts:t,transactions:e,onAddAccount:n,onUpdateAccount:r,onDeleteAccount:i,calculateAccountBalance:a,isPrivacyModeEnabled:o})=>{const[l,c]=$.useState(!1),[d,f]=$.useState(null),[h,v]=$.useState(""),[_,w]=$.useState("0"),[S,b]=$.useState(""),A=()=>{f(null),v(""),w("0"),b(""),c(!0)},O=P=>{f(P),v(P.name),w(P.initial_balance.toString()),b(""),c(!0)},T=()=>{c(!1),f(null)},M=()=>{if(!h.trim()){b("Nome da conta é obrigatório.");return}const P=parseFloat(_);if(isNaN(P)){b("Saldo inicial inválido.");return}b(""),d?r({...d,name:h,initial_balance:P}):n({name:h,initial_balance:P}),T()},E=P=>e.filter(I=>I.account_id===P||I.to_account_id===P).length;return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Contas"}),x.jsxs(ye,{onClick:A,variant:"primary",children:[x.jsx(cn,{className:"w-5 h-5 mr-2"}),"Nova Conta"]})]}),t.length>0?x.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(P=>x.jsx(tX,{account:P,balance:a(P.id),onEdit:O,onDelete:i,transactionCount:E(P.id),isPrivacyModeEnabled:o},P.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma conta cadastrada. Adicione uma para começar!"}),x.jsx(Yn,{isOpen:l,onClose:T,title:d?"Editar Conta":"Nova Conta",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(et,{label:"Nome da Conta",id:"accountName",type:"text",value:h,onChange:P=>v(P.target.value),placeholder:"Ex: Carteira, Banco X",required:!0}),x.jsx(et,{label:"Saldo Inicial",id:"initialBalance",type:"number",step:"0.01",value:_,onChange:P=>w(P.target.value),placeholder:o?ve(0,"BRL","pt-BR",!0).replace("0,00","Ex: 1000.00"):"Ex: 1000.00",required:!0}),S&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:S}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(ye,{variant:"ghost",onClick:T,children:"Cancelar"}),x.jsx(ye,{variant:"primary",onClick:M,children:"Salvar"})]})]})})]})},HR=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),CM=({category:t,transactions:e,onEdit:n,onDelete:r,transactionCount:i,isPrivacyModeEnabled:a})=>{const o=t.type===de.INCOME?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",l=t.type===de.INCOME?"Receita":"Despesa",c=yt().substring(0,7),d=t.type===de.EXPENSE&&t.monthly_budget?e.filter(v=>v.category_id===t.id&&v.date.startsWith(c)&&v.type===de.EXPENSE).reduce((v,_)=>v+_.amount,0):0,f=t.monthly_budget&&t.monthly_budget>0?Math.min(d/t.monthly_budget*100,100):0,h=t.monthly_budget&&d>t.monthly_budget;return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(HR,{className:`w-5 h-5 ${o}`}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.name}),x.jsx("p",{className:`text-xs font-semibold ${o}`,children:l})]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[x.jsxs("div",{className:"flex space-x-2",children:[x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Categoria",className:"!p-1.5",children:x.jsx(Zr,{className:"w-4 h-4"})}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Categoria",className:"!p-1.5",disabled:i>0,title:i>0?"Não pode excluir categorias com transações associadas":"Excluir categoria",children:x.jsx(Xr,{className:`w-4 h-4 ${i>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),i>0&&x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Usada em ",i," trans."]})]})]}),t.type===de.EXPENSE&&t.monthly_budget&&t.monthly_budget>0&&x.jsxs("div",{className:"mt-3 pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[x.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[x.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Orçamento Mensal: ",ve(t.monthly_budget,"BRL","pt-BR",a)]}),x.jsxs("span",{className:`font-medium ${h?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark"}`,children:["Gasto: ",ve(d,"BRL","pt-BR",a)]})]}),x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:x.jsx("div",{className:`h-2 rounded-full ${h?"bg-destructive dark:bg-destructiveDark":"bg-primary dark:bg-primaryDark"}`,style:{width:`${f}%`}})}),h&&x.jsx("p",{className:"text-xs text-destructive dark:text-destructiveDark mt-1 text-right",children:"Orçamento excedido!"})]})]})},ch=({className:t="w-5 h-5",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.355a12.053 12.053 0 0 1-4.5 0M12 3V1.5M12 16.5h.008v.008H12V16.5Zm-4.508-2.656L6.292 12.64a9.018 9.018 0 0 1-.365-2.074 9.028 9.028 0 0 1 .365-2.073l1.208-1.208m5.832 5.46L17.708 12.36a9.018 9.018 0 0 0 .365-2.074 9.028 9.028 0 0 0-.365-2.073L16.5 6.992M12 1.5a9 9 0 0 0-9 9c0 2.21.81 4.286 2.186 5.885L6.9 17.72A9.03 9.03 0 0 0 12 22.5a9.03 9.03 0 0 0 5.1-4.78l1.714-1.335A8.973 8.973 0 0 0 21 10.5a9 9 0 0 0-9-9Z"})}),rX=({categories:t,transactions:e,aiConfig:n,onAddCategory:r,onUpdateCategory:i,onDeleteCategory:a,onSuggestBudget:o,isPrivacyModeEnabled:l})=>{const[c,d]=$.useState(!1),[f,h]=$.useState(null),[v,_]=$.useState(""),[w,S]=$.useState(de.EXPENSE),[b,A]=$.useState(""),[O,T]=$.useState(""),[M,E]=$.useState(!1),P=()=>{h(null),_(""),S(de.EXPENSE),A(""),T(""),d(!0)},I=H=>{var B;h(H),_(H.name),S(H.type),A(((B=H.monthly_budget)==null?void 0:B.toString())||""),T(""),d(!0)},D=()=>{d(!1),h(null)},F=()=>{if(!v.trim()){T("Nome da categoria é obrigatório.");return}const H=b?parseFloat(b):void 0;if(w===de.EXPENSE&&b&&(isNaN(H)||H<0)){T("Orçamento mensal deve ser um número positivo ou vazio.");return}T(""),f?i({...f,name:v.trim(),type:w,monthly_budget:w===de.EXPENSE?H:void 0}):r({name:v.trim(),type:w,monthly_budget:w===de.EXPENSE?H:void 0}),D()},q=H=>e.filter(B=>B.category_id===H).length,L=async()=>{if(!v.trim()&&!f){T("Por favor, insira um nome para a categoria antes de sugerir um orçamento.");return}T(""),E(!0);const H=t.filter(Z=>Z.type===de.EXPENSE&&Z.id!==(f==null?void 0:f.id)&&Z.monthly_budget).map(Z=>({name:Z.name,budget:Z.monthly_budget})),B=await o((f==null?void 0:f.name)||v,H);B!==null?A(B.toString()):T("Não foi possível sugerir um orçamento no momento."),E(!1)},W=t.filter(H=>H.type===de.INCOME).sort((H,B)=>H.name.localeCompare(B.name)),J=t.filter(H=>H.type===de.EXPENSE).sort((H,B)=>H.name.localeCompare(B.name));return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Categorias"}),x.jsxs(ye,{onClick:P,variant:"primary",children:[x.jsx(cn,{className:"w-5 h-5 mr-2"}),"Nova Categoria"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Receitas (",W.length,")"]}),W.length>0?x.jsx("ul",{className:"space-y-3",children:W.map(H=>x.jsx(CM,{category:H,transactions:e,onEdit:I,onDelete:a,transactionCount:q(H.id),isPrivacyModeEnabled:l},H.id))}):x.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de receita."})]}),x.jsxs("div",{children:[x.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Despesas (",J.length,")"]}),J.length>0?x.jsx("ul",{className:"space-y-3",children:J.map(H=>x.jsx(CM,{category:H,transactions:e,onEdit:I,onDelete:a,transactionCount:q(H.id),isPrivacyModeEnabled:l},H.id))}):x.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de despesa."})]})]}),x.jsx(Yn,{isOpen:c,onClose:D,title:f?"Editar Categoria":"Nova Categoria",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(et,{label:"Nome da Categoria",id:"categoryName",type:"text",value:v,onChange:H=>_(H.target.value),placeholder:"Ex: Alimentação, Salário",required:!0}),x.jsx(Pt,{label:"Tipo de Categoria",id:"categoryType",options:[{value:de.INCOME,label:"Receita"},{value:de.EXPENSE,label:"Despesa"}],value:w,onChange:H=>{S(H.target.value),H.target.value===de.INCOME&&A("")},required:!0}),w===de.EXPENSE&&x.jsxs("div",{className:"space-y-1",children:[x.jsx(et,{label:"Orçamento Mensal (Opcional)",id:"monthlyBudget",type:"number",step:"0.01",value:b,onChange:H=>A(H.target.value),placeholder:l?ve(0,"BRL","pt-BR",!0).replace("0,00","Ex: 500.00"):"Ex: 500.00"}),n.isEnabled&&n.apiKeyStatus==="available"&&n.monthlyIncome&&n.monthlyIncome>0&&x.jsxs(ye,{type:"button",variant:"ghost",size:"sm",onClick:L,disabled:M,className:"text-primary dark:text-primaryDark !mt-1.5",children:[x.jsx(ch,{className:"w-4 h-4 mr-1.5"}),M?"Sugerindo...":"Sugerir com IA"]})]}),O&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:O}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(ye,{variant:"ghost",onClick:D,children:"Cancelar"}),x.jsx(ye,{variant:"primary",onClick:F,children:"Salvar"})]})]})})]})},ww=({className:t="w-5 h-5",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25zM12 2.25L11.187 5.104a4.502 4.502 0 00-3.09 3.09L5.25 9l2.846.813a4.502 4.502 0 003.09 3.09L12 15.75l.813-2.846a4.502 4.502 0 003.09-3.09L18.75 9l-2.846-.813a4.502 4.502 0 00-3.09-3.09L12 2.25z"})]}),iX=({card:t,installmentPurchases:e,onEditCard:n,onDeleteCard:r,onAddInstallmentPurchase:i,onEditInstallmentPurchase:a,onDeleteInstallmentPurchase:o,onMarkInstallmentPaid:l,onGetBestPurchaseDay:c,onPayMonthlyInstallments:d,isAIFeatureEnabled:f,isPrivacyModeEnabled:h})=>{const[v,_]=$.useState(!1),w=e.filter(O=>O.credit_card_id===t.id),S=w.reduce((O,T)=>{if(T.installments_paid>=T.number_of_installments)return O;const M=T.total_amount/T.number_of_installments,E=T.number_of_installments-T.installments_paid;return O+M*E},0),b=t.card_limit-S,A=K.useMemo(()=>_N(w,t,new Date),[w,t]);return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow-lg hover:shadow-xl dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx(ac,{className:"w-7 h-7 text-primary dark:text-primaryDark"}),x.jsx("h3",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Limite Total: ",ve(t.card_limit,"BRL","pt-BR",h)]}),x.jsxs("p",{className:`text-md font-medium ${b>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:["Disponível: ",ve(b,"BRL","pt-BR",h)]}),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Fechamento: Dia ",t.closing_day," | Vencimento: Dia ",t.due_day]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1.5",children:[x.jsxs("div",{className:"flex space-x-1",children:[x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Cartão",className:"!p-1.5",children:x.jsx(Zr,{className:"w-4 h-4"})}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Cartão",className:"!p-1.5",disabled:w.length>0,title:w.length>0?"Exclua as compras parceladas primeiro":"Excluir cartão",children:x.jsx(Xr,{className:`w-4 h-4 ${w.length>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),x.jsxs(ye,{size:"sm",variant:"secondary",onClick:()=>i(t),className:"!text-xs !py-1 !px-2.5",children:[x.jsx(cn,{className:"w-4 h-4 mr-1"})," Novo Parcelamento"]})]})]}),x.jsxs("div",{className:"space-y-2",children:[f&&x.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>c(t.id),className:"text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !text-xs",title:"Ver melhor dia para compra com IA",children:[x.jsx(ww,{className:"w-4 h-4 mr-1.5"})," Melhor Dia para Compra (IA)"]}),A.length>0&&x.jsxs(ye,{variant:"primary",size:"sm",onClick:()=>d(t.id),className:"w-full !text-xs",children:["Pagar Parcelas da Fatura (",A.length,")"]})]}),w.length>0&&x.jsx("div",{className:"mt-2",children:x.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>_(!v),className:"text-sm text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !font-normal",children:[v?"Ocultar":"Mostrar"," ",w.length," Compra(s) Parcelada(s)"]})}),v&&w.length>0&&x.jsxs("div",{className:"mt-2 pt-3 border-t border-borderBase/50 dark:border-borderBaseDark/50 space-y-3",children:[x.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark",children:"Detalhes dos Parcelamentos:"}),x.jsx("ul",{className:"space-y-3 max-h-72 overflow-y-auto pr-1",children:w.map(O=>{const T=O.total_amount/O.number_of_installments,M=O.installments_paid>=O.number_of_installments,E=O.installments_paid+1,P=M?null:xN(O.purchase_date,E,t.due_day),I=A.some(D=>D.id===O.id);return x.jsxs("li",{className:`p-3 rounded-md ${M?"bg-green-500/10 dark:bg-green-500/20 opacity-70":"bg-surface dark:bg-surfaceDark shadow-sm border border-borderBase dark:border-borderBaseDark"}`,children:[x.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[x.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:O.description}),x.jsxs("div",{className:"flex space-x-1",children:[x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>a(O,t),"aria-label":"Editar Compra",className:"!p-1",children:x.jsx(Zr,{className:"w-3.5 h-3.5"})}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>o(O.id),"aria-label":"Excluir Compra",className:"!p-1",children:x.jsx(Xr,{className:"w-3.5 h-3.5 text-destructive dark:text-destructiveDark"})})]})]}),x.jsxs("div",{className:"text-sm space-y-0.5",children:[x.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Parcela: ",x.jsx("span",{className:"font-medium",children:ve(T,"BRL","pt-BR",h)}),x.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:[" (",O.installments_paid,"/",O.number_of_installments," pagas)"]})]}),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Total: ",ve(O.total_amount,"BRL","pt-BR",h)," | Compra: ",Dn(O.purchase_date)]}),P&&!M&&x.jsxs("p",{className:`text-xs font-medium ${I?"text-red-600 dark:text-red-400":"text-textMuted dark:text-textMutedDark"}`,children:["Próx. Venc. Parcela: ",Dn(yt(P))]})]}),!M&&x.jsxs(ye,{size:"sm",variant:I?"primary":"ghost",onClick:()=>l(O.id),className:`text-xs py-1 px-2 mt-2.5 w-full sm:w-auto ${I?"":"border border-borderBase dark:border-borderBaseDark"}`,children:[I?x.jsx(Tx,{className:"w-4 h-4 mr-1"}):null,"Pagar Parcela (",E,")"]}),M&&x.jsxs("p",{className:"text-xs text-secondary dark:text-secondaryDark mt-2 font-medium flex items-center",children:[x.jsx(Tx,{className:"w-4 h-4 mr-1"})," Compra Totalmente Paga"]})]},O.id)})})]}),v&&w.length===0&&x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center py-2",children:"Nenhuma compra parcelada para este cartão."})]})},aX=({isOpen:t,onClose:e,onSave:n,existingCard:r})=>{const[i,a]=$.useState(""),[o,l]=$.useState(""),[c,d]=$.useState(""),[f,h]=$.useState(""),[v,_]=$.useState({});$.useEffect(()=>{r?(a(r.name),l(r.card_limit.toString()),d(r.closing_day.toString()),h(r.due_day.toString())):(a(""),l(""),d(""),h("")),_({})},[r,t]);const w=()=>{const b={};i.trim()||(b.name="Nome do cartão é obrigatório.");const A=parseFloat(o);(isNaN(A)||A<=0)&&(b.limit="Limite deve ser um número positivo.");const O=parseInt(c,10);(isNaN(O)||O<1||O>31)&&(b.closingDay="Dia de fechamento deve ser entre 1 e 31.");const T=parseInt(f,10);return(isNaN(T)||T<1||T>31)&&(b.dueDay="Dia de vencimento deve ser entre 1 e 31."),_(b),Object.keys(b).length===0},S=()=>{if(!w())return;const b={id:(r==null?void 0:r.id)||ut(),name:i.trim(),card_limit:parseFloat(o),closing_day:parseInt(c,10),due_day:parseInt(f,10)};n(b),e()};return x.jsx(Yn,{isOpen:t,onClose:e,title:r?"Editar Cartão de Crédito":"Novo Cartão de Crédito",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(et,{label:"Nome do Cartão",id:"cardName",value:i,onChange:b=>a(b.target.value),error:v.name,placeholder:"Ex: Cartão Principal, Cartão Viagem"}),x.jsx(et,{label:"Limite do Cartão (R$)",id:"cardLimit",type:"number",step:"0.01",value:o,onChange:b=>l(b.target.value),error:v.limit,placeholder:"Ex: 5000.00"}),x.jsx(et,{label:"Dia de Fechamento da Fatura",id:"cardClosingDay",type:"number",min:"1",max:"31",value:c,onChange:b=>d(b.target.value),error:v.closingDay,placeholder:"Ex: 25"}),x.jsx(et,{label:"Dia de Vencimento da Fatura",id:"cardDueDay",type:"number",min:"1",max:"31",value:f,onChange:b=>h(b.target.value),error:v.dueDay,placeholder:"Ex: 10"}),v.form&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:v.form}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(ye,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(ye,{variant:"primary",onClick:S,children:"Salvar Cartão"})]})]})})},oX=({isOpen:t,onClose:e,onSave:n,creditCard:r,existingPurchase:i})=>{const[a,o]=$.useState(""),[l,c]=$.useState(yt()),[d,f]=$.useState(""),[h,v]=$.useState(""),[_,w]=$.useState("0"),[S,b]=$.useState({});$.useEffect(()=>{i?(o(i.description),c(i.purchase_date),f(i.total_amount.toString()),v(i.number_of_installments.toString()),w(i.installments_paid.toString())):(o(""),c(yt()),f(""),v(""),w("0")),b({})},[i,t]);const A=()=>{const T={};a.trim()||(T.description="Descrição é obrigatória."),l||(T.purchaseDate="Data da compra é obrigatória.");const M=parseFloat(d);(isNaN(M)||M<=0)&&(T.totalAmount="Valor total deve ser positivo.");const E=parseInt(h,10);(isNaN(E)||E<=0)&&(T.numberOfInstallments="Número de parcelas deve ser positivo.");const P=parseInt(_,10);return(isNaN(P)||P<0||E>0&&P>E)&&(T.installmentsPaid="Parcelas pagas inválido."),b(T),Object.keys(T).length===0},O=()=>{if(!A())return;const T={id:(i==null?void 0:i.id)||ut(),credit_card_id:r.id,description:a.trim(),purchase_date:l,total_amount:parseFloat(d),number_of_installments:parseInt(h,10),installments_paid:parseInt(_,10)};n(T),e()};return x.jsxs(Yn,{isOpen:t,onClose:e,title:i?"Editar Compra Parcelada":"Nova Compra Parcelada",children:[x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark mb-3",children:["Cartão: ",x.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:r.name})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(et,{label:"Descrição da Compra",id:"purchaseDescription",value:a,onChange:T=>o(T.target.value),error:S.description,placeholder:"Ex: Celular Novo, Geladeira"}),x.jsx(et,{label:"Data da Compra",id:"purchaseDate",type:"date",value:l,onChange:T=>c(T.target.value),error:S.purchaseDate}),x.jsx(et,{label:"Valor Total (R$)",id:"totalAmount",type:"number",step:"0.01",value:d,onChange:T=>f(T.target.value),error:S.totalAmount,placeholder:"Ex: 1200.00"}),x.jsx(et,{label:"Número de Parcelas",id:"numberOfInstallments",type:"number",min:"1",value:h,onChange:T=>v(T.target.value),error:S.numberOfInstallments,placeholder:"Ex: 12"}),i&&x.jsx(et,{label:"Parcelas Pagas",id:"installmentsPaid",type:"number",min:"0",max:h||void 0,value:_,onChange:T=>w(T.target.value),error:S.installmentsPaid}),S.form&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:S.form}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(ye,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(ye,{variant:"primary",onClick:O,children:"Salvar Compra"})]})]})]})},sX=({isOpen:t,onClose:e,advice:n,isLoading:r,cardName:i})=>x.jsxs(Yn,{isOpen:t,onClose:e,title:`Melhor Dia para Compra ${i?`(${i})`:""}`,size:"md",children:[r&&x.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 p-6",children:[x.jsx(ww,{className:"w-12 h-12 text-primary dark:text-primaryDark animate-pulse"}),x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Analisando o melhor dia para sua compra..."}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Aguarde um momento."})]}),!r&&n&&x.jsxs("div",{className:"space-y-4 p-2",children:[n.error?x.jsxs("div",{className:"bg-destructive/10 dark:bg-destructiveDark/20 p-4 rounded-md border-l-4 border-destructive dark:border-destructiveDark",children:[x.jsx("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-1",children:"Erro ao Analisar"}),x.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:n.explanation||"Não foi possível obter a sugestão no momento."})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Melhor dia para sua próxima compra:"}),x.jsx("p",{className:"text-2xl font-bold text-primary dark:text-primaryDark my-1",children:n.bestPurchaseDay||"N/A"})]}),x.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-4 rounded-md",children:[x.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Pagamento estimado para:"}),x.jsx("p",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n.paymentDueDate||"N/A"})]}),x.jsxs("div",{className:"mt-3",children:[x.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"Por quê?"}),x.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark bg-surface p-3 rounded-md shadow-inner dark:bg-surfaceDark/50",children:n.explanation||"Informação não disponível."})]})]}),x.jsx("div",{className:"flex justify-end pt-3",children:x.jsx(ye,{variant:"primary",onClick:e,children:"Entendido"})})]}),!r&&!n&&x.jsxs("div",{className:"text-center p-6",children:[x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Não foi possível carregar a sugestão."}),x.jsx(ye,{variant:"ghost",onClick:e,className:"mt-4",children:"Fechar"})]})]});var ht;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ht||(ht={}));var TM;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(TM||(TM={}));const Ie=ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sa=t=>{switch(typeof t){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return Number.isNaN(t)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(t)?Ie.array:t===null?Ie.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ie.promise:typeof Map<"u"&&t instanceof Map?Ie.map:typeof Set<"u"&&t instanceof Set?Ie.set:typeof Date<"u"&&t instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},we=ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ki extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof ki))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ki.create=t=>new ki(t);const W_=(t,e)=>{let n;switch(t.code){case we.invalid_type:t.received===Ie.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case we.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ht.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:n=`Unrecognized key(s) in object: ${ht.joinValues(t.keys,", ")}`;break;case we.invalid_union:n="Invalid input";break;case we.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ht.joinValues(t.options)}`;break;case we.invalid_enum_value:n=`Invalid enum value. Expected ${ht.joinValues(t.options)}, received '${t.received}'`;break;case we.invalid_arguments:n="Invalid function arguments";break;case we.invalid_return_type:n="Invalid function return type";break;case we.invalid_date:n="Invalid date";break;case we.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ht.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case we.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case we.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case we.custom:n="Invalid input";break;case we.invalid_intersection_types:n="Intersection results could not be merged";break;case we.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case we.not_finite:n="Number must be finite";break;default:n=e.defaultError,ht.assertNever(t)}return{message:n}};let lX=W_;function uX(){return lX}const cX=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}};function Ee(t,e){const n=uX(),r=cX({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===W_?void 0:W_].filter(i=>!!i)});t.common.issues.push(r)}class Rn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Xe;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return Rn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Xe;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const Xe=Object.freeze({status:"aborted"}),du=t=>({status:"dirty",value:t}),Sr=t=>({status:"valid",value:t}),kM=t=>t.status==="aborted",EM=t=>t.status==="dirty",Hs=t=>t.status==="valid",dh=t=>typeof Promise<"u"&&t instanceof Promise;var je;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(je||(je={}));class Qr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const AM=(t,e)=>{if(Hs(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ki(t.common.issues);return this._error=n,this._error}}};function rt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class ct{get description(){return this._def.description}_getType(e){return sa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Rn,ctx:{common:e.parent.common,data:e.data,parsedType:sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(dh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)},i=this._parseSync({data:e,path:r.path,parent:r});return AM(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Hs(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Hs(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(dh(i)?i:Promise.resolve(i));return AM(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:we.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ys({schema:this,typeName:Je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return pa.create(this,this._def)}nullable(){return Js.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yr.create(this)}promise(){return gh.create(this,this._def)}or(e){return hh.create([this,e],this._def)}and(e){return ph.create(this,e,this._def)}transform(e){return new Ys({...rt(this._def),schema:this,typeName:Je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new X_({...rt(this._def),innerType:this,defaultValue:n,typeName:Je.ZodDefault})}brand(){return new NX({typeName:Je.ZodBranded,type:this,...rt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Z_({...rt(this._def),innerType:this,catchValue:n,typeName:Je.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Sw.create(this,e)}readonly(){return Q_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dX=/^c[^\s-]{8,}$/i,fX=/^[0-9a-z]+$/,hX=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mX=/^[a-z0-9_-]{21}$/i,gX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let fx;const _X=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,wX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,SX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,CX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TX=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,WR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kX=new RegExp(`^${WR}$`);function KR(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function EX(t){return new RegExp(`^${KR(t)}$`)}function AX(t){let e=`${WR}T${KR(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function PX(t,e){return!!((e==="v4"||!e)&&_X.test(t)||(e==="v6"||!e)&&wX.test(t))}function OX(t,e){if(!gX.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function MX(t,e){return!!((e==="v4"||!e)&&bX.test(t)||(e==="v6"||!e)&&SX.test(t))}class Gr extends ct{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ie.string){const a=this._getOrReturnCtx(e);return Ee(a,{code:we.invalid_type,expected:Ie.string,received:a.parsedType}),Xe}const r=new Rn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:we.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:we.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Ee(i,{code:we.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Ee(i,{code:we.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")yX.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"email",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")fx||(fx=new RegExp(xX,"u")),fx.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"emoji",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")pX.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"uuid",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")mX.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"nanoid",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")dX.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cuid",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")fX.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cuid2",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")hX.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"ulid",code:we.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ee(i,{validation:"url",code:we.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"regex",code:we.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:we.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:we.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:we.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?AX(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:we.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?kX.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:we.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?EX(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:we.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?vX.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"duration",code:we.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?PX(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"ip",code:we.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?OX(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"jwt",code:we.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?MX(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cidr",code:we.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?CX.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"base64",code:we.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?TX.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"base64url",code:we.invalid_string,message:a.message}),r.dirty()):ht.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:we.invalid_string,...je.errToObj(r)})}_addCheck(e){return new Gr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...je.errToObj(e)})}url(e){return this._addCheck({kind:"url",...je.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...je.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...je.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...je.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...je.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...je.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...je.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...je.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...je.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...je.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...je.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...je.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...je.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...je.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...je.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...je.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...je.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...je.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...je.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...je.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...je.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...je.errToObj(n)})}nonempty(e){return this.min(1,je.errToObj(e))}trim(){return new Gr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Gr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Gr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Gr.create=t=>new Gr({checks:[],typeName:Je.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...rt(t)});function IX(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class uo extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ie.number){const a=this._getOrReturnCtx(e);return Ee(a,{code:we.invalid_type,expected:Ie.number,received:a.parsedType}),Xe}let r;const i=new Rn;for(const a of this._def.checks)a.kind==="int"?ht.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ee(r,{code:we.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:we.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:we.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?IX(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:we.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ee(r,{code:we.not_finite,message:a.message}),i.dirty()):ht.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,je.toString(n))}gt(e,n){return this.setLimit("min",e,!1,je.toString(n))}lte(e,n){return this.setLimit("max",e,!0,je.toString(n))}lt(e,n){return this.setLimit("max",e,!1,je.toString(n))}setLimit(e,n,r,i){return new uo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:je.toString(i)}]})}_addCheck(e){return new uo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:je.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:je.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:je.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:je.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:je.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:je.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ht.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}uo.create=t=>new uo({checks:[],typeName:Je.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...rt(t)});class co extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ie.bigint)return this._getInvalidInput(e);let r;const i=new Rn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:we.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:we.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:we.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ht.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ee(n,{code:we.invalid_type,expected:Ie.bigint,received:n.parsedType}),Xe}gte(e,n){return this.setLimit("min",e,!0,je.toString(n))}gt(e,n){return this.setLimit("min",e,!1,je.toString(n))}lte(e,n){return this.setLimit("max",e,!0,je.toString(n))}lt(e,n){return this.setLimit("max",e,!1,je.toString(n))}setLimit(e,n,r,i){return new co({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:je.toString(i)}]})}_addCheck(e){return new co({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:je.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:je.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}co.create=t=>new co({checks:[],typeName:Je.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...rt(t)});class fh extends ct{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ie.boolean){const r=this._getOrReturnCtx(e);return Ee(r,{code:we.invalid_type,expected:Ie.boolean,received:r.parsedType}),Xe}return Sr(e.data)}}fh.create=t=>new fh({typeName:Je.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...rt(t)});class Ws extends ct{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ie.date){const a=this._getOrReturnCtx(e);return Ee(a,{code:we.invalid_type,expected:Ie.date,received:a.parsedType}),Xe}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Ee(a,{code:we.invalid_date}),Xe}const r=new Rn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:we.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:we.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ht.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ws({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:je.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:je.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ws.create=t=>new Ws({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Je.ZodDate,...rt(t)});class PM extends ct{_parse(e){if(this._getType(e)!==Ie.symbol){const r=this._getOrReturnCtx(e);return Ee(r,{code:we.invalid_type,expected:Ie.symbol,received:r.parsedType}),Xe}return Sr(e.data)}}PM.create=t=>new PM({typeName:Je.ZodSymbol,...rt(t)});class OM extends ct{_parse(e){if(this._getType(e)!==Ie.undefined){const r=this._getOrReturnCtx(e);return Ee(r,{code:we.invalid_type,expected:Ie.undefined,received:r.parsedType}),Xe}return Sr(e.data)}}OM.create=t=>new OM({typeName:Je.ZodUndefined,...rt(t)});class MM extends ct{_parse(e){if(this._getType(e)!==Ie.null){const r=this._getOrReturnCtx(e);return Ee(r,{code:we.invalid_type,expected:Ie.null,received:r.parsedType}),Xe}return Sr(e.data)}}MM.create=t=>new MM({typeName:Je.ZodNull,...rt(t)});class IM extends ct{constructor(){super(...arguments),this._any=!0}_parse(e){return Sr(e.data)}}IM.create=t=>new IM({typeName:Je.ZodAny,...rt(t)});class K_ extends ct{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Sr(e.data)}}K_.create=t=>new K_({typeName:Je.ZodUnknown,...rt(t)});class ma extends ct{_parse(e){const n=this._getOrReturnCtx(e);return Ee(n,{code:we.invalid_type,expected:Ie.never,received:n.parsedType}),Xe}}ma.create=t=>new ma({typeName:Je.ZodNever,...rt(t)});class NM extends ct{_parse(e){if(this._getType(e)!==Ie.undefined){const r=this._getOrReturnCtx(e);return Ee(r,{code:we.invalid_type,expected:Ie.void,received:r.parsedType}),Xe}return Sr(e.data)}}NM.create=t=>new NM({typeName:Je.ZodVoid,...rt(t)});class Yr extends ct{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ie.array)return Ee(n,{code:we.invalid_type,expected:Ie.array,received:n.parsedType}),Xe;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Ee(n,{code:o?we.too_big:we.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Ee(n,{code:we.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Ee(n,{code:we.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Qr(n,o,n.path,l)))).then(o=>Rn.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new Qr(n,o,n.path,l)));return Rn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Yr({...this._def,minLength:{value:e,message:je.toString(n)}})}max(e,n){return new Yr({...this._def,maxLength:{value:e,message:je.toString(n)}})}length(e,n){return new Yr({...this._def,exactLength:{value:e,message:je.toString(n)}})}nonempty(e){return this.min(1,e)}}Yr.create=(t,e)=>new Yr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Je.ZodArray,...rt(e)});function ls(t){if(t instanceof Yt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=pa.create(ls(r))}return new Yt({...t._def,shape:()=>e})}else return t instanceof Yr?new Yr({...t._def,type:ls(t.element)}):t instanceof pa?pa.create(ls(t.unwrap())):t instanceof Js?Js.create(ls(t.unwrap())):t instanceof fo?fo.create(t.items.map(e=>ls(e))):t}class Yt extends ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ht.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ie.object){const d=this._getOrReturnCtx(e);return Ee(d,{code:we.invalid_type,expected:Ie.object,received:d.parsedType}),Xe}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ma&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=a[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Qr(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof ma){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(d==="strict")l.length>0&&(Ee(i,{code:we.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const h=i.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Qr(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const h=await f.key,v=await f.value;d.push({key:h,value:v,alwaysSet:f.alwaysSet})}return d}).then(d=>Rn.mergeObjectSync(r,d)):Rn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return je.errToObj,new Yt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:je.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Yt({...this._def,unknownKeys:"strip"})}passthrough(){return new Yt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Yt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Yt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Je.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Yt({...this._def,catchall:e})}pick(e){const n={};for(const r of ht.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Yt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ht.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Yt({...this._def,shape:()=>n})}deepPartial(){return ls(this)}partial(e){const n={};for(const r of ht.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Yt({...this._def,shape:()=>n})}required(e){const n={};for(const r of ht.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof pa;)a=a._def.innerType;n[r]=a}return new Yt({...this._def,shape:()=>n})}keyof(){return YR(ht.objectKeys(this.shape))}}Yt.create=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strip",catchall:ma.create(),typeName:Je.ZodObject,...rt(e)});Yt.strictCreate=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strict",catchall:ma.create(),typeName:Je.ZodObject,...rt(e)});Yt.lazycreate=(t,e)=>new Yt({shape:t,unknownKeys:"strip",catchall:ma.create(),typeName:Je.ZodObject,...rt(e)});class hh extends ct{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new ki(l.ctx.common.issues));return Ee(n,{code:we.invalid_union,unionErrors:o}),Xe}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new ki(c));return Ee(n,{code:we.invalid_union,unionErrors:l}),Xe}}get options(){return this._def.options}}hh.create=(t,e)=>new hh({options:t,typeName:Je.ZodUnion,...rt(e)});function Y_(t,e){const n=sa(t),r=sa(e);if(t===e)return{valid:!0,data:t};if(n===Ie.object&&r===Ie.object){const i=ht.objectKeys(e),a=ht.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=Y_(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Ie.array&&r===Ie.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=Y_(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Ie.date&&r===Ie.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ph extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(kM(a)||kM(o))return Xe;const l=Y_(a.value,o.value);return l.valid?((EM(a)||EM(o))&&n.dirty(),{status:n.value,value:l.data}):(Ee(r,{code:we.invalid_intersection_types}),Xe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ph.create=(t,e,n)=>new ph({left:t,right:e,typeName:Je.ZodIntersection,...rt(n)});class fo extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.array)return Ee(r,{code:we.invalid_type,expected:Ie.array,received:r.parsedType}),Xe;if(r.data.length<this._def.items.length)return Ee(r,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xe;!this._def.rest&&r.data.length>this._def.items.length&&(Ee(r,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Qr(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>Rn.mergeArray(n,o)):Rn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new fo({...this._def,rest:e})}}fo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fo({items:t,typeName:Je.ZodTuple,rest:null,...rt(e)})};class mh extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.object)return Ee(r,{code:we.invalid_type,expected:Ie.object,received:r.parsedType}),Xe;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new Qr(r,l,r.path,l)),value:o._parse(new Qr(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Rn.mergeObjectAsync(n,i):Rn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ct?new mh({keyType:e,valueType:n,typeName:Je.ZodRecord,...rt(r)}):new mh({keyType:Gr.create(),valueType:e,typeName:Je.ZodRecord,...rt(n)})}}class DM extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.map)return Ee(r,{code:we.invalid_type,expected:Ie.map,received:r.parsedType}),Xe;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Qr(r,l,r.path,[d,"key"])),value:a._parse(new Qr(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return Xe;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return Xe;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}DM.create=(t,e,n)=>new DM({valueType:e,keyType:t,typeName:Je.ZodMap,...rt(n)});class oc extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.set)return Ee(r,{code:we.invalid_type,expected:Ie.set,received:r.parsedType}),Xe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ee(r,{code:we.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ee(r,{code:we.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return Xe;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Qr(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new oc({...this._def,minSize:{value:e,message:je.toString(n)}})}max(e,n){return new oc({...this._def,maxSize:{value:e,message:je.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}oc.create=(t,e)=>new oc({valueType:t,minSize:null,maxSize:null,typeName:Je.ZodSet,...rt(e)});class J_ extends ct{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}J_.create=(t,e)=>new J_({getter:t,typeName:Je.ZodLazy,...rt(e)});class RM extends ct{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ee(n,{received:n.data,code:we.invalid_literal,expected:this._def.value}),Xe}return{status:"valid",value:e.data}}get value(){return this._def.value}}RM.create=(t,e)=>new RM({value:t,typeName:Je.ZodLiteral,...rt(e)});function YR(t,e){return new Ks({values:t,typeName:Je.ZodEnum,...rt(e)})}class Ks extends ct{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ee(n,{expected:ht.joinValues(r),received:n.parsedType,code:we.invalid_type}),Xe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ee(n,{received:n.data,code:we.invalid_enum_value,options:r}),Xe}return Sr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ks.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ks.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ks.create=YR;class jM extends ct{_parse(e){const n=ht.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ie.string&&r.parsedType!==Ie.number){const i=ht.objectValues(n);return Ee(r,{expected:ht.joinValues(i),received:r.parsedType,code:we.invalid_type}),Xe}if(this._cache||(this._cache=new Set(ht.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ht.objectValues(n);return Ee(r,{received:r.data,code:we.invalid_enum_value,options:i}),Xe}return Sr(e.data)}get enum(){return this._def.values}}jM.create=(t,e)=>new jM({values:t,typeName:Je.ZodNativeEnum,...rt(e)});class gh extends ct{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.promise&&n.common.async===!1)return Ee(n,{code:we.invalid_type,expected:Ie.promise,received:n.parsedType}),Xe;const r=n.parsedType===Ie.promise?n.data:Promise.resolve(n.data);return Sr(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}gh.create=(t,e)=>new gh({type:t,typeName:Je.ZodPromise,...rt(e)});class Ys extends ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Ee(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Xe;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Xe:c.status==="dirty"||n.value==="dirty"?du(c.value):c});{if(n.value==="aborted")return Xe;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Xe:l.status==="dirty"||n.value==="dirty"?du(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Xe:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Xe:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Hs(o))return Xe;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Hs(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):Xe);ht.assertNever(i)}}Ys.create=(t,e,n)=>new Ys({schema:t,typeName:Je.ZodEffects,effect:e,...rt(n)});Ys.createWithPreprocess=(t,e,n)=>new Ys({schema:e,effect:{type:"preprocess",transform:t},typeName:Je.ZodEffects,...rt(n)});class pa extends ct{_parse(e){return this._getType(e)===Ie.undefined?Sr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pa.create=(t,e)=>new pa({innerType:t,typeName:Je.ZodOptional,...rt(e)});class Js extends ct{_parse(e){return this._getType(e)===Ie.null?Sr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Js.create=(t,e)=>new Js({innerType:t,typeName:Je.ZodNullable,...rt(e)});class X_ extends ct{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ie.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}X_.create=(t,e)=>new X_({innerType:t,typeName:Je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...rt(e)});class Z_ extends ct{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return dh(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ki(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ki(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Z_.create=(t,e)=>new Z_({innerType:t,typeName:Je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...rt(e)});class $M extends ct{_parse(e){if(this._getType(e)!==Ie.nan){const r=this._getOrReturnCtx(e);return Ee(r,{code:we.invalid_type,expected:Ie.nan,received:r.parsedType}),Xe}return{status:"valid",value:e.data}}}$M.create=t=>new $M({typeName:Je.ZodNaN,...rt(t)});class NX extends ct{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Sw extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Xe:a.status==="dirty"?(n.dirty(),du(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Xe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Sw({in:e,out:n,typeName:Je.ZodPipeline})}}class Q_ extends ct{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Hs(i)&&(i.value=Object.freeze(i.value)),i);return dh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Q_.create=(t,e)=>new Q_({innerType:t,typeName:Je.ZodReadonly,...rt(e)});var Je;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Je||(Je={}));const Ga=Gr.create,LM=uo.create;co.create;const DX=fh.create;Ws.create;const BM=K_.create;ma.create;const fu=Yr.create,RX=Yt.create,jX=hh.create;ph.create;fo.create;const $X=mh.create,LX=J_.create,BX=Ks.create;gh.create;pa.create;Js.create;const os={string:t=>Gr.create({...t,coerce:!0}),number:t=>uo.create({...t,coerce:!0}),boolean:t=>fh.create({...t,coerce:!0}),bigint:t=>co.create({...t,coerce:!0}),date:t=>Ws.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let FX,qX;function UX(){return{geminiUrl:FX,vertexUrl:qX}}function VX(t,e,n){var r,i,a;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const o=UX();return t.vertexai?(i=o.vertexUrl)!==null&&i!==void 0?i:e:(a=o.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sl{}function He(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];g(f,e.slice(a+1),n[d])}else for(const d of c)g(d,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];g(c[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function m(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(o=>m(o,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var FM;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(FM||(FM={}));var qM;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(qM||(qM={}));var Hr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Hr||(Hr={}));var UM;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(UM||(UM={}));var VM;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(VM||(VM={}));var zM;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(zM||(zM={}));var GM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(GM||(GM={}));var HM;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(HM||(HM={}));var WM;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(WM||(WM={}));var KM;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(KM||(KM={}));var YM;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(YM||(YM={}));var JM;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(JM||(JM={}));var XM;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(XM||(XM={}));var vh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(vh||(vh={}));var ZM;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ZM||(ZM={}));var eb;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(eb||(eb={}));var QM;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(QM||(QM={}));var eI;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(eI||(eI={}));var tI;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(tI||(tI={}));var nI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(nI||(nI={}));var rI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(rI||(rI={}));var iI;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(iI||(iI={}));var aI;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(aI||(aI={}));var oI;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(oI||(oI={}));var sI;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(sI||(sI={}));var lI;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(lI||(lI={}));var uI;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(uI||(uI={}));var cI;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(cI||(cI={}));var dI;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dI||(dI={}));var fI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(fI||(fI={}));var hI;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(hI||(hI={}));var pI;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(pI||(pI={}));var mI;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mI||(mI={}));var gI;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gI||(gI={}));var vI;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(vI||(vI={}));var yI;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yI||(yI={}));var xI;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(xI||(xI={}));var _I;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_I||(_I={}));var ps;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ps||(ps={}));class ou{get text(){var e,n,r,i,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const h=[];for(const v of(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[_,w]of Object.entries(v))_!=="text"&&_!=="thought"&&(w!==null||w!==void 0)&&h.push(_);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;f=!0,d+=v.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,r,i,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const h of(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[v,_]of Object.entries(h))v!=="inlineData"&&(_!==null||_!==void 0)&&f.push(v);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,a,o,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,a,o,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class bI{}class wI{}class zX{}class GX{}class SI{}class CI{}class TI{}class HX{}class kI{}class EI{}class AI{}class WX{}class tb{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class KX{}class YX{}class JX{get text(){var e,n,r;let i="",a=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="text"&&c!=="thought"&&d!==null&&o.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="inlineData"&&c!==null&&a.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class XX{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function JR(t,e){const n=Mt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function XR(t,e){return Array.isArray(e)?e.map(n=>yh(t,n)):[yh(t,e)]}function yh(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function ZX(t,e){const n=yh(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function QX(t,e){const n=yh(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function PI(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function ZR(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>PI(t,n)):[PI(t,e)]}function nb(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function OI(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function MI(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Nn(t,e){if(e==null)throw new Error("ContentUnion is required");return nb(e)?e:{role:"user",parts:ZR(t,e)}}function QR(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Nn(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Nn(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Nn(t,n)):[Nn(t,e)]}function Lr(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(OI(e)||MI(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nn(t,e)]}const n=[],r=[],i=nb(e[0]);for(const a of e){const o=nb(a);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)n.push(a);else{if(OI(a)||MI(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(a)}}return i||n.push({role:"user",parts:ZR(t,r)}),n}const eZ=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),II=BX(["string","number","integer","object","array","boolean","null"]),tZ=jX([II,fu(II)]);function nZ(t=!0){const e=LX(()=>{const n=RX({type:tZ.optional(),format:Ga().optional(),title:Ga().optional(),description:Ga().optional(),default:BM().optional(),items:e.optional(),minItems:os.string().optional(),maxItems:os.string().optional(),enum:fu(BM()).optional(),properties:$X(Ga(),e).optional(),required:fu(Ga()).optional(),minProperties:os.string().optional(),maxProperties:os.string().optional(),propertyOrdering:fu(Ga()).optional(),minimum:LM().optional(),maximum:LM().optional(),minLength:os.string().optional(),maxLength:os.string().optional(),pattern:Ga().optional(),anyOf:fu(e).optional(),additionalProperties:DX().optional()});return t?n.strict():n});return e}function rZ(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Hr).includes(n[0].toUpperCase())?n[0].toUpperCase():Hr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Hr).includes(r.toUpperCase())?r.toUpperCase():Hr.TYPE_UNSPECIFIED})}}function xs(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&rZ(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Hr).includes(l.toUpperCase())?l.toUpperCase():Hr.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=xs(l);else if(r.includes(o)){const c=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}c.push(xs(d))}e[o]=c}else if(i.includes(o)){const c={};for(const[d,f]of Object.entries(l))c[d]=xs(f);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=l}return e}function xh(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=nZ().parse(e);return xs(n)}else return xs(e)}function ej(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Cw(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function vc(t,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=xh(t,n.parameters)),n.response&&(n.response=xh(t,n.response));return e}function yc(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of e)n.push(r);return n}function iZ(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function wa(t,e){if(typeof e!="string")throw new Error("name must be a string");return iZ(t,e,"cachedContents")}function tj(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Mi(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function aZ(t){return t!=null&&typeof t=="object"&&"name"in t}function oZ(t){return t!=null&&typeof t=="object"&&"video"in t}function sZ(t){return t!=null&&typeof t=="object"&&"uri"in t}function nj(t,e){var n;let r;if(aZ(e)&&(r=e.name),!(sZ(e)&&(r=e.uri,r===void 0))&&!(oZ(e)&&(r=(n=e.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const a=r.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${r}`);r=a[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function rj(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function ij(t,e){for(const n of["models","tunedModels","publisherModels"])if(lZ(e,n))return e[n];return[]}function lZ(t,e){return t!==null&&typeof t=="object"&&e in t}function uZ(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:xs(up(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function cZ(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=uZ(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function dZ(t){const e=[];for(const n of t)e.push(up(n));return e}function fZ(t){const e={};for(const[n,r]of Object.entries(t)){const i=r;e[n]=up(i)}return e}function up(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),i={};for(const[a,o]of Object.entries(t))if(e.has(a))i[a]=up(o);else if(n.has(a))i[a]=dZ(o);else if(r.has(a))i[a]=fZ(o);else if(a==="type"){const l=o.toUpperCase();i[a]=Object.values(Hr).includes(l)?l:Hr.TYPE_UNSPECIFIED}else eZ.has(a)&&(i[a]=o);return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hZ(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function pZ(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function mZ(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function gZ(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],hZ(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],pZ(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],mZ(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function NI(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>gZ(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function vZ(t,e){const n={},r=m(e,["behavior"]);r!=null&&g(n,["behavior"],r);const i=m(e,["description"]);i!=null&&g(n,["description"],i);const a=m(e,["name"]);a!=null&&g(n,["name"],a);const o=m(e,["parameters"]);o!=null&&g(n,["parameters"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],l),n}function yZ(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function xZ(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],yZ(t,r)),n}function _Z(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function bZ(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],_Z(t,r)),n}function wZ(){return{}}function SZ(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>vZ(t,d))),g(n,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(e,["googleSearch"]);i!=null&&g(n,["googleSearch"],xZ(t,i));const a=m(e,["googleSearchRetrieval"]);if(a!=null&&g(n,["googleSearchRetrieval"],bZ(t,a)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(n,["urlContext"],wZ());const l=m(e,["codeExecution"]);return l!=null&&g(n,["codeExecution"],l),n}function CZ(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function TZ(t,e){const n={},r=m(e,["latitude"]);r!=null&&g(n,["latitude"],r);const i=m(e,["longitude"]);return i!=null&&g(n,["longitude"],i),n}function kZ(t,e){const n={},r=m(e,["latLng"]);r!=null&&g(n,["latLng"],TZ(t,r));const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function EZ(t,e){const n={},r=m(e,["functionCallingConfig"]);r!=null&&g(n,["functionCallingConfig"],CZ(t,r));const i=m(e,["retrievalConfig"]);return i!=null&&g(n,["retrievalConfig"],kZ(t,i)),n}function AZ(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const a=m(e,["expireTime"]);n!==void 0&&a!=null&&g(n,["expireTime"],a);const o=m(e,["displayName"]);n!==void 0&&o!=null&&g(n,["displayName"],o);const l=m(e,["contents"]);if(n!==void 0&&l!=null){let h=Lr(t,l);Array.isArray(h)&&(h=h.map(v=>NI(t,v))),g(n,["contents"],h)}const c=m(e,["systemInstruction"]);n!==void 0&&c!=null&&g(n,["systemInstruction"],NI(t,Nn(t,c)));const d=m(e,["tools"]);if(n!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(v=>SZ(t,v))),g(n,["tools"],h)}const f=m(e,["toolConfig"]);if(n!==void 0&&f!=null&&g(n,["toolConfig"],EZ(t,f)),m(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function PZ(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],JR(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],AZ(t,i,n)),n}function OZ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],wa(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function MZ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],wa(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function IZ(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const a=m(e,["expireTime"]);return n!==void 0&&a!=null&&g(n,["expireTime"],a),r}function NZ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],wa(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],IZ(t,i,n)),n}function DZ(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);return n!==void 0&&a!=null&&g(n,["_query","pageToken"],a),r}function RZ(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],DZ(t,r,n)),n}function jZ(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function $Z(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function LZ(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function BZ(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],jZ(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],$Z(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],LZ(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function DI(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>BZ(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function FZ(t,e){const n={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=m(e,["description"]);r!=null&&g(n,["description"],r);const i=m(e,["name"]);i!=null&&g(n,["name"],i);const a=m(e,["parameters"]);a!=null&&g(n,["parameters"],a);const o=m(e,["response"]);return o!=null&&g(n,["response"],o),n}function qZ(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function UZ(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],qZ(t,r)),n}function VZ(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function zZ(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],VZ(t,r)),n}function GZ(){return{}}function HZ(t,e){const n={},r=m(e,["apiKeyString"]);return r!=null&&g(n,["apiKeyString"],r),n}function WZ(t,e){const n={},r=m(e,["apiKeyConfig"]);r!=null&&g(n,["apiKeyConfig"],HZ(t,r));const i=m(e,["authType"]);i!=null&&g(n,["authType"],i);const a=m(e,["googleServiceAccountConfig"]);a!=null&&g(n,["googleServiceAccountConfig"],a);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(n,["httpBasicAuthConfig"],o);const l=m(e,["oauthConfig"]);l!=null&&g(n,["oauthConfig"],l);const c=m(e,["oidcConfig"]);return c!=null&&g(n,["oidcConfig"],c),n}function KZ(t,e){const n={},r=m(e,["authConfig"]);return r!=null&&g(n,["authConfig"],WZ(t,r)),n}function YZ(){return{}}function JZ(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>FZ(t,v))),g(n,["functionDeclarations"],h)}const i=m(e,["retrieval"]);i!=null&&g(n,["retrieval"],i);const a=m(e,["googleSearch"]);a!=null&&g(n,["googleSearch"],UZ(t,a));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],zZ(t,o)),m(e,["enterpriseWebSearch"])!=null&&g(n,["enterpriseWebSearch"],GZ());const c=m(e,["googleMaps"]);c!=null&&g(n,["googleMaps"],KZ(t,c)),m(e,["urlContext"])!=null&&g(n,["urlContext"],YZ());const f=m(e,["codeExecution"]);return f!=null&&g(n,["codeExecution"],f),n}function XZ(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function ZZ(t,e){const n={},r=m(e,["latitude"]);r!=null&&g(n,["latitude"],r);const i=m(e,["longitude"]);return i!=null&&g(n,["longitude"],i),n}function QZ(t,e){const n={},r=m(e,["latLng"]);r!=null&&g(n,["latLng"],ZZ(t,r));const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function eQ(t,e){const n={},r=m(e,["functionCallingConfig"]);r!=null&&g(n,["functionCallingConfig"],XZ(t,r));const i=m(e,["retrievalConfig"]);return i!=null&&g(n,["retrievalConfig"],QZ(t,i)),n}function tQ(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const a=m(e,["expireTime"]);n!==void 0&&a!=null&&g(n,["expireTime"],a);const o=m(e,["displayName"]);n!==void 0&&o!=null&&g(n,["displayName"],o);const l=m(e,["contents"]);if(n!==void 0&&l!=null){let v=Lr(t,l);Array.isArray(v)&&(v=v.map(_=>DI(t,_))),g(n,["contents"],v)}const c=m(e,["systemInstruction"]);n!==void 0&&c!=null&&g(n,["systemInstruction"],DI(t,Nn(t,c)));const d=m(e,["tools"]);if(n!==void 0&&d!=null){let v=d;Array.isArray(v)&&(v=v.map(_=>JZ(t,_))),g(n,["tools"],v)}const f=m(e,["toolConfig"]);n!==void 0&&f!=null&&g(n,["toolConfig"],eQ(t,f));const h=m(e,["kmsKeyName"]);return n!==void 0&&h!=null&&g(n,["encryption_spec","kmsKeyName"],h),r}function nQ(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],JR(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],tQ(t,i,n)),n}function rQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],wa(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function iQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],wa(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function aQ(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const a=m(e,["expireTime"]);return n!==void 0&&a!=null&&g(n,["expireTime"],a),r}function oQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],wa(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],aQ(t,i,n)),n}function sQ(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);return n!==void 0&&a!=null&&g(n,["_query","pageToken"],a),r}function lQ(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],sQ(t,r,n)),n}function uf(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["model"]);a!=null&&g(n,["model"],a);const o=m(e,["createTime"]);o!=null&&g(n,["createTime"],o);const l=m(e,["updateTime"]);l!=null&&g(n,["updateTime"],l);const c=m(e,["expireTime"]);c!=null&&g(n,["expireTime"],c);const d=m(e,["usageMetadata"]);return d!=null&&g(n,["usageMetadata"],d),n}function uQ(){return{}}function cQ(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>uf(t,o))),g(n,["cachedContents"],a)}return n}function cf(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["model"]);a!=null&&g(n,["model"],a);const o=m(e,["createTime"]);o!=null&&g(n,["createTime"],o);const l=m(e,["updateTime"]);l!=null&&g(n,["updateTime"],l);const c=m(e,["expireTime"]);c!=null&&g(n,["expireTime"],c);const d=m(e,["usageMetadata"]);return d!=null&&g(n,["usageMetadata"],d),n}function dQ(){return{}}function fQ(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>cf(t,o))),g(n,["cachedContents"],a)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xs;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Xs||(Xs={}));class cp{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};r?typeof r=="object"?o=Object.assign({},r):o=r:o={config:{}},o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hQ extends sl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new cp(Xs.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=nQ(this.apiClient,e);return l=He("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>cf(this.apiClient,f))}else{const d=PZ(this.apiClient,e);return l=He("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>uf(this.apiClient,f))}}async get(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=rQ(this.apiClient,e);return l=He("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>cf(this.apiClient,f))}else{const d=OZ(this.apiClient,e);return l=He("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>uf(this.apiClient,f))}}async delete(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=iQ(this.apiClient,e);return l=He("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(()=>{const f=dQ(),h=new EI;return Object.assign(h,f),h})}else{const d=MZ(this.apiClient,e);return l=He("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(()=>{const f=uQ(),h=new EI;return Object.assign(h,f),h})}}async update(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=oQ(this.apiClient,e);return l=He("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>cf(this.apiClient,f))}else{const d=NZ(this.apiClient,e);return l=He("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>uf(this.apiClient,f))}}async listInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=lQ(this.apiClient,e);return l=He("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=fQ(this.apiClient,f),v=new AI;return Object.assign(v,h),v})}else{const d=RZ(this.apiClient,e);return l=He("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=cQ(this.apiClient,f),v=new AI;return Object.assign(v,h),v})}}}function RI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dt(t){return this instanceof Dt?(this.v=t,this):new Dt(t)}function _s(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(_){return function(w){return Promise.resolve(w).then(_,h)}}function l(_,w){r[_]&&(i[_]=function(S){return new Promise(function(b,A){a.push([_,S,b,A])>1||c(_,S)})},w&&(i[_]=w(i[_])))}function c(_,w){try{d(r[_](w))}catch(S){v(a[0][3],S)}}function d(_){_.value instanceof Dt?Promise.resolve(_.value.v).then(f,h):v(a[0][2],_)}function f(_){c("next",_)}function h(_){c("throw",_)}function v(_,w){_(w),a.shift(),a.length&&c(a[0][0],a[0][1])}}function wu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof RI=="function"?RI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(l,c){o=t[a](o),i(l,c,o.done,o.value)})}}function i(a,o,l,c){Promise.resolve(c).then(function(d){a({value:d,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pQ(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:aj(n)}function aj(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function mQ(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function jI(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!aj(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class gQ{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new vQ(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class vQ{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),mQ(a)}async sendMessage(e){var n;await this.sendPromise;const r=Nn(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,l;const c=await i,d=(o=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,f=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let v=[];f!=null&&(v=(l=f.slice(h))!==null&&l!==void 0?l:[]);const _=d?[d]:[];this.recordHistory(r,_,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Nn(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?jI(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return _s(this,arguments,function*(){var o,l,c,d;const f=[];try{for(var h=!0,v=wu(e),_;_=yield Dt(v.next()),o=_.done,!o;h=!0){d=_.value,h=!1;const w=d;if(pQ(w)){const S=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&f.push(S)}yield yield Dt(w)}}catch(w){l={error:w}}finally{try{!h&&!o&&(c=v.return)&&(yield Dt(c.call(v)))}finally{if(l)throw l.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...jI(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yQ(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);return n!==void 0&&a!=null&&g(n,["_query","pageToken"],a),r}function xQ(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],yQ(t,r,n)),n}function _Q(t,e){const n={},r=m(e,["details"]);r!=null&&g(n,["details"],r);const i=m(e,["message"]);i!=null&&g(n,["message"],i);const a=m(e,["code"]);return a!=null&&g(n,["code"],a),n}function bQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["mimeType"]);a!=null&&g(n,["mimeType"],a);const o=m(e,["sizeBytes"]);o!=null&&g(n,["sizeBytes"],o);const l=m(e,["createTime"]);l!=null&&g(n,["createTime"],l);const c=m(e,["expirationTime"]);c!=null&&g(n,["expirationTime"],c);const d=m(e,["updateTime"]);d!=null&&g(n,["updateTime"],d);const f=m(e,["sha256Hash"]);f!=null&&g(n,["sha256Hash"],f);const h=m(e,["uri"]);h!=null&&g(n,["uri"],h);const v=m(e,["downloadUri"]);v!=null&&g(n,["downloadUri"],v);const _=m(e,["state"]);_!=null&&g(n,["state"],_);const w=m(e,["source"]);w!=null&&g(n,["source"],w);const S=m(e,["videoMetadata"]);S!=null&&g(n,["videoMetadata"],S);const b=m(e,["error"]);return b!=null&&g(n,["error"],_Q(t,b)),n}function wQ(t,e){const n={},r=m(e,["file"]);r!=null&&g(n,["file"],bQ(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function SQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","file"],nj(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function CQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","file"],nj(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function TQ(t,e){const n={},r=m(e,["details"]);r!=null&&g(n,["details"],r);const i=m(e,["message"]);i!=null&&g(n,["message"],i);const a=m(e,["code"]);return a!=null&&g(n,["code"],a),n}function rb(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["mimeType"]);a!=null&&g(n,["mimeType"],a);const o=m(e,["sizeBytes"]);o!=null&&g(n,["sizeBytes"],o);const l=m(e,["createTime"]);l!=null&&g(n,["createTime"],l);const c=m(e,["expirationTime"]);c!=null&&g(n,["expirationTime"],c);const d=m(e,["updateTime"]);d!=null&&g(n,["updateTime"],d);const f=m(e,["sha256Hash"]);f!=null&&g(n,["sha256Hash"],f);const h=m(e,["uri"]);h!=null&&g(n,["uri"],h);const v=m(e,["downloadUri"]);v!=null&&g(n,["downloadUri"],v);const _=m(e,["state"]);_!=null&&g(n,["state"],_);const w=m(e,["source"]);w!=null&&g(n,["source"],w);const S=m(e,["videoMetadata"]);S!=null&&g(n,["videoMetadata"],S);const b=m(e,["error"]);return b!=null&&g(n,["error"],TQ(t,b)),n}function kQ(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>rb(t,o))),g(n,["files"],a)}return n}function EQ(){return{}}function AQ(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PQ extends sl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new cp(Xs.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>rb(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=xQ(this.apiClient,e);return a=He("files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=kQ(this.apiClient,c),f=new WX;return Object.assign(f,d),f})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=wQ(this.apiClient,e);return a=He("upload/v1beta/files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(()=>{const c=EQ(),d=new KX;return Object.assign(d,c),d})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=SQ(this.apiClient,e);return a=He("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>rb(this.apiClient,c))}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=CQ(this.apiClient,e);return a=He("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(()=>{const c=AQ(),d=new YX;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OQ(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function MQ(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function oj(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],OQ(t,r)),n}function IQ(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],MQ(t,r)),n}function NQ(t,e){const n={},r=m(e,["speaker"]);r!=null&&g(n,["speaker"],r);const i=m(e,["voiceConfig"]);return i!=null&&g(n,["voiceConfig"],oj(t,i)),n}function DQ(t,e){const n={},r=m(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>NQ(t,a))),g(n,["speakerVoiceConfigs"],i)}return n}function RQ(t,e){const n={},r=m(e,["voiceConfig"]);r!=null&&g(n,["voiceConfig"],oj(t,r));const i=m(e,["multiSpeakerVoiceConfig"]);i!=null&&g(n,["multiSpeakerVoiceConfig"],DQ(t,i));const a=m(e,["languageCode"]);return a!=null&&g(n,["languageCode"],a),n}function jQ(t,e){const n={},r=m(e,["voiceConfig"]);if(r!=null&&g(n,["voiceConfig"],IQ(t,r)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function $Q(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function LQ(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function BQ(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function FQ(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function qQ(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function UQ(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function VQ(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],$Q(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],BQ(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],qQ(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function zQ(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],LQ(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],FQ(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],UQ(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function GQ(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>VQ(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function HQ(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>zQ(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function WQ(t,e){const n={},r=m(e,["behavior"]);r!=null&&g(n,["behavior"],r);const i=m(e,["description"]);i!=null&&g(n,["description"],i);const a=m(e,["name"]);a!=null&&g(n,["name"],a);const o=m(e,["parameters"]);o!=null&&g(n,["parameters"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],l),n}function KQ(t,e){const n={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=m(e,["description"]);r!=null&&g(n,["description"],r);const i=m(e,["name"]);i!=null&&g(n,["name"],i);const a=m(e,["parameters"]);a!=null&&g(n,["parameters"],a);const o=m(e,["response"]);return o!=null&&g(n,["response"],o),n}function YQ(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function JQ(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function XQ(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],YQ(t,r)),n}function ZQ(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],JQ(t,r)),n}function QQ(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function eee(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function tee(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],QQ(t,r)),n}function nee(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],eee(t,r)),n}function ree(){return{}}function iee(t,e){const n={},r=m(e,["apiKeyString"]);return r!=null&&g(n,["apiKeyString"],r),n}function aee(t,e){const n={},r=m(e,["apiKeyConfig"]);r!=null&&g(n,["apiKeyConfig"],iee(t,r));const i=m(e,["authType"]);i!=null&&g(n,["authType"],i);const a=m(e,["googleServiceAccountConfig"]);a!=null&&g(n,["googleServiceAccountConfig"],a);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(n,["httpBasicAuthConfig"],o);const l=m(e,["oauthConfig"]);l!=null&&g(n,["oauthConfig"],l);const c=m(e,["oidcConfig"]);return c!=null&&g(n,["oidcConfig"],c),n}function oee(t,e){const n={},r=m(e,["authConfig"]);return r!=null&&g(n,["authConfig"],aee(t,r)),n}function see(){return{}}function lee(){return{}}function uee(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>WQ(t,d))),g(n,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(e,["googleSearch"]);i!=null&&g(n,["googleSearch"],XQ(t,i));const a=m(e,["googleSearchRetrieval"]);if(a!=null&&g(n,["googleSearchRetrieval"],tee(t,a)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(n,["urlContext"],see());const l=m(e,["codeExecution"]);return l!=null&&g(n,["codeExecution"],l),n}function cee(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>KQ(t,v))),g(n,["functionDeclarations"],h)}const i=m(e,["retrieval"]);i!=null&&g(n,["retrieval"],i);const a=m(e,["googleSearch"]);a!=null&&g(n,["googleSearch"],ZQ(t,a));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],nee(t,o)),m(e,["enterpriseWebSearch"])!=null&&g(n,["enterpriseWebSearch"],ree());const c=m(e,["googleMaps"]);c!=null&&g(n,["googleMaps"],oee(t,c)),m(e,["urlContext"])!=null&&g(n,["urlContext"],lee());const f=m(e,["codeExecution"]);return f!=null&&g(n,["codeExecution"],f),n}function dee(t,e){const n={},r=m(e,["handle"]);if(r!=null&&g(n,["handle"],r),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function fee(t,e){const n={},r=m(e,["handle"]);r!=null&&g(n,["handle"],r);const i=m(e,["transparent"]);return i!=null&&g(n,["transparent"],i),n}function $I(){return{}}function LI(){return{}}function hee(t,e){const n={},r=m(e,["disabled"]);r!=null&&g(n,["disabled"],r);const i=m(e,["startOfSpeechSensitivity"]);i!=null&&g(n,["startOfSpeechSensitivity"],i);const a=m(e,["endOfSpeechSensitivity"]);a!=null&&g(n,["endOfSpeechSensitivity"],a);const o=m(e,["prefixPaddingMs"]);o!=null&&g(n,["prefixPaddingMs"],o);const l=m(e,["silenceDurationMs"]);return l!=null&&g(n,["silenceDurationMs"],l),n}function pee(t,e){const n={},r=m(e,["disabled"]);r!=null&&g(n,["disabled"],r);const i=m(e,["startOfSpeechSensitivity"]);i!=null&&g(n,["startOfSpeechSensitivity"],i);const a=m(e,["endOfSpeechSensitivity"]);a!=null&&g(n,["endOfSpeechSensitivity"],a);const o=m(e,["prefixPaddingMs"]);o!=null&&g(n,["prefixPaddingMs"],o);const l=m(e,["silenceDurationMs"]);return l!=null&&g(n,["silenceDurationMs"],l),n}function mee(t,e){const n={},r=m(e,["automaticActivityDetection"]);r!=null&&g(n,["automaticActivityDetection"],hee(t,r));const i=m(e,["activityHandling"]);i!=null&&g(n,["activityHandling"],i);const a=m(e,["turnCoverage"]);return a!=null&&g(n,["turnCoverage"],a),n}function gee(t,e){const n={},r=m(e,["automaticActivityDetection"]);r!=null&&g(n,["automaticActivityDetection"],pee(t,r));const i=m(e,["activityHandling"]);i!=null&&g(n,["activityHandling"],i);const a=m(e,["turnCoverage"]);return a!=null&&g(n,["turnCoverage"],a),n}function vee(t,e){const n={},r=m(e,["targetTokens"]);return r!=null&&g(n,["targetTokens"],r),n}function yee(t,e){const n={},r=m(e,["targetTokens"]);return r!=null&&g(n,["targetTokens"],r),n}function xee(t,e){const n={},r=m(e,["triggerTokens"]);r!=null&&g(n,["triggerTokens"],r);const i=m(e,["slidingWindow"]);return i!=null&&g(n,["slidingWindow"],vee(t,i)),n}function _ee(t,e){const n={},r=m(e,["triggerTokens"]);r!=null&&g(n,["triggerTokens"],r);const i=m(e,["slidingWindow"]);return i!=null&&g(n,["slidingWindow"],yee(t,i)),n}function bee(t,e){const n={},r=m(e,["proactiveAudio"]);return r!=null&&g(n,["proactiveAudio"],r),n}function wee(t,e){const n={},r=m(e,["proactiveAudio"]);return r!=null&&g(n,["proactiveAudio"],r),n}function See(t,e,n){const r={},i=m(e,["generationConfig"]);n!==void 0&&i!=null&&g(n,["setup","generationConfig"],i);const a=m(e,["responseModalities"]);n!==void 0&&a!=null&&g(n,["setup","generationConfig","responseModalities"],a);const o=m(e,["temperature"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig","temperature"],o);const l=m(e,["topP"]);n!==void 0&&l!=null&&g(n,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);n!==void 0&&c!=null&&g(n,["setup","generationConfig","topK"],c);const d=m(e,["maxOutputTokens"]);n!==void 0&&d!=null&&g(n,["setup","generationConfig","maxOutputTokens"],d);const f=m(e,["mediaResolution"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","mediaResolution"],f);const h=m(e,["seed"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","seed"],h);const v=m(e,["speechConfig"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","speechConfig"],RQ(t,Cw(t,v)));const _=m(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&g(n,["setup","generationConfig","enableAffectiveDialog"],_);const w=m(e,["systemInstruction"]);n!==void 0&&w!=null&&g(n,["setup","systemInstruction"],GQ(t,Nn(t,w)));const S=m(e,["tools"]);if(n!==void 0&&S!=null){let P=yc(t,S);Array.isArray(P)&&(P=P.map(I=>uee(t,vc(t,I)))),g(n,["setup","tools"],P)}const b=m(e,["sessionResumption"]);n!==void 0&&b!=null&&g(n,["setup","sessionResumption"],dee(t,b));const A=m(e,["inputAudioTranscription"]);n!==void 0&&A!=null&&g(n,["setup","inputAudioTranscription"],$I());const O=m(e,["outputAudioTranscription"]);n!==void 0&&O!=null&&g(n,["setup","outputAudioTranscription"],$I());const T=m(e,["realtimeInputConfig"]);n!==void 0&&T!=null&&g(n,["setup","realtimeInputConfig"],mee(t,T));const M=m(e,["contextWindowCompression"]);n!==void 0&&M!=null&&g(n,["setup","contextWindowCompression"],xee(t,M));const E=m(e,["proactivity"]);return n!==void 0&&E!=null&&g(n,["setup","proactivity"],bee(t,E)),r}function Cee(t,e,n){const r={},i=m(e,["generationConfig"]);n!==void 0&&i!=null&&g(n,["setup","generationConfig"],i);const a=m(e,["responseModalities"]);n!==void 0&&a!=null&&g(n,["setup","generationConfig","responseModalities"],a);const o=m(e,["temperature"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig","temperature"],o);const l=m(e,["topP"]);n!==void 0&&l!=null&&g(n,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);n!==void 0&&c!=null&&g(n,["setup","generationConfig","topK"],c);const d=m(e,["maxOutputTokens"]);n!==void 0&&d!=null&&g(n,["setup","generationConfig","maxOutputTokens"],d);const f=m(e,["mediaResolution"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","mediaResolution"],f);const h=m(e,["seed"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","seed"],h);const v=m(e,["speechConfig"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","speechConfig"],jQ(t,Cw(t,v)));const _=m(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&g(n,["setup","generationConfig","enableAffectiveDialog"],_);const w=m(e,["systemInstruction"]);n!==void 0&&w!=null&&g(n,["setup","systemInstruction"],HQ(t,Nn(t,w)));const S=m(e,["tools"]);if(n!==void 0&&S!=null){let P=yc(t,S);Array.isArray(P)&&(P=P.map(I=>cee(t,vc(t,I)))),g(n,["setup","tools"],P)}const b=m(e,["sessionResumption"]);n!==void 0&&b!=null&&g(n,["setup","sessionResumption"],fee(t,b));const A=m(e,["inputAudioTranscription"]);n!==void 0&&A!=null&&g(n,["setup","inputAudioTranscription"],LI());const O=m(e,["outputAudioTranscription"]);n!==void 0&&O!=null&&g(n,["setup","outputAudioTranscription"],LI());const T=m(e,["realtimeInputConfig"]);n!==void 0&&T!=null&&g(n,["setup","realtimeInputConfig"],gee(t,T));const M=m(e,["contextWindowCompression"]);n!==void 0&&M!=null&&g(n,["setup","contextWindowCompression"],_ee(t,M));const E=m(e,["proactivity"]);return n!==void 0&&E!=null&&g(n,["setup","proactivity"],wee(t,E)),r}function Tee(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],Mt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],See(t,i,n)),n}function kee(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],Mt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],Cee(t,i,n)),n}function Eee(){return{}}function Aee(){return{}}function Pee(){return{}}function Oee(){return{}}function Mee(t,e){const n={},r=m(e,["media"]);r!=null&&g(n,["mediaChunks"],XR(t,r));const i=m(e,["audio"]);i!=null&&g(n,["audio"],QX(t,i));const a=m(e,["audioStreamEnd"]);a!=null&&g(n,["audioStreamEnd"],a);const o=m(e,["video"]);o!=null&&g(n,["video"],ZX(t,o));const l=m(e,["text"]);return l!=null&&g(n,["text"],l),m(e,["activityStart"])!=null&&g(n,["activityStart"],Eee()),m(e,["activityEnd"])!=null&&g(n,["activityEnd"],Pee()),n}function Iee(t,e){const n={},r=m(e,["media"]);if(r!=null&&g(n,["mediaChunks"],XR(t,r)),m(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=m(e,["audioStreamEnd"]);if(i!=null&&g(n,["audioStreamEnd"],i),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(m(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return m(e,["activityStart"])!=null&&g(n,["activityStart"],Aee()),m(e,["activityEnd"])!=null&&g(n,["activityEnd"],Oee()),n}function sj(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["weight"]);return i!=null&&g(n,["weight"],i),n}function Nee(t,e){const n={},r=m(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>sj(t,a))),g(n,["weightedPrompts"],i)}return n}function lj(t,e){const n={},r=m(e,["temperature"]);r!=null&&g(n,["temperature"],r);const i=m(e,["topK"]);i!=null&&g(n,["topK"],i);const a=m(e,["seed"]);a!=null&&g(n,["seed"],a);const o=m(e,["guidance"]);o!=null&&g(n,["guidance"],o);const l=m(e,["bpm"]);l!=null&&g(n,["bpm"],l);const c=m(e,["density"]);c!=null&&g(n,["density"],c);const d=m(e,["brightness"]);d!=null&&g(n,["brightness"],d);const f=m(e,["scale"]);f!=null&&g(n,["scale"],f);const h=m(e,["muteBass"]);h!=null&&g(n,["muteBass"],h);const v=m(e,["muteDrums"]);v!=null&&g(n,["muteDrums"],v);const _=m(e,["onlyBassAndDrums"]);return _!=null&&g(n,["onlyBassAndDrums"],_),n}function Dee(t,e){const n={},r=m(e,["musicGenerationConfig"]);return r!=null&&g(n,["musicGenerationConfig"],lj(t,r)),n}function uj(t,e){const n={},r=m(e,["model"]);return r!=null&&g(n,["model"],r),n}function cj(t,e){const n={},r=m(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>sj(t,a))),g(n,["weightedPrompts"],i)}return n}function ib(t,e){const n={},r=m(e,["setup"]);r!=null&&g(n,["setup"],uj(t,r));const i=m(e,["clientContent"]);i!=null&&g(n,["clientContent"],cj(t,i));const a=m(e,["musicGenerationConfig"]);a!=null&&g(n,["musicGenerationConfig"],lj(t,a));const o=m(e,["playbackControl"]);return o!=null&&g(n,["playbackControl"],o),n}function Ree(){return{}}function jee(){return{}}function $ee(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function Lee(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function Bee(t,e){const n={},r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function Fee(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function qee(t,e){const n={},r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function Uee(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Vee(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],$ee(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],Bee(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],qee(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function zee(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],Lee(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],Fee(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],Uee(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function Gee(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Vee(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function Hee(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>zee(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function BI(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["finished"]);return i!=null&&g(n,["finished"],i),n}function FI(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["finished"]);return i!=null&&g(n,["finished"],i),n}function Wee(t,e){const n={},r=m(e,["retrievedUrl"]);r!=null&&g(n,["retrievedUrl"],r);const i=m(e,["urlRetrievalStatus"]);return i!=null&&g(n,["urlRetrievalStatus"],i),n}function Kee(t,e){const n={},r=m(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Wee(t,a))),g(n,["urlMetadata"],i)}return n}function Yee(t,e){const n={},r=m(e,["modelTurn"]);r!=null&&g(n,["modelTurn"],Gee(t,r));const i=m(e,["turnComplete"]);i!=null&&g(n,["turnComplete"],i);const a=m(e,["interrupted"]);a!=null&&g(n,["interrupted"],a);const o=m(e,["groundingMetadata"]);o!=null&&g(n,["groundingMetadata"],o);const l=m(e,["generationComplete"]);l!=null&&g(n,["generationComplete"],l);const c=m(e,["inputTranscription"]);c!=null&&g(n,["inputTranscription"],BI(t,c));const d=m(e,["outputTranscription"]);d!=null&&g(n,["outputTranscription"],BI(t,d));const f=m(e,["urlContextMetadata"]);return f!=null&&g(n,["urlContextMetadata"],Kee(t,f)),n}function Jee(t,e){const n={},r=m(e,["modelTurn"]);r!=null&&g(n,["modelTurn"],Hee(t,r));const i=m(e,["turnComplete"]);i!=null&&g(n,["turnComplete"],i);const a=m(e,["interrupted"]);a!=null&&g(n,["interrupted"],a);const o=m(e,["groundingMetadata"]);o!=null&&g(n,["groundingMetadata"],o);const l=m(e,["generationComplete"]);l!=null&&g(n,["generationComplete"],l);const c=m(e,["inputTranscription"]);c!=null&&g(n,["inputTranscription"],FI(t,c));const d=m(e,["outputTranscription"]);return d!=null&&g(n,["outputTranscription"],FI(t,d)),n}function Xee(t,e){const n={},r=m(e,["id"]);r!=null&&g(n,["id"],r);const i=m(e,["args"]);i!=null&&g(n,["args"],i);const a=m(e,["name"]);return a!=null&&g(n,["name"],a),n}function Zee(t,e){const n={},r=m(e,["args"]);r!=null&&g(n,["args"],r);const i=m(e,["name"]);return i!=null&&g(n,["name"],i),n}function Qee(t,e){const n={},r=m(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Xee(t,a))),g(n,["functionCalls"],i)}return n}function ete(t,e){const n={},r=m(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Zee(t,a))),g(n,["functionCalls"],i)}return n}function tte(t,e){const n={},r=m(e,["ids"]);return r!=null&&g(n,["ids"],r),n}function nte(t,e){const n={},r=m(e,["ids"]);return r!=null&&g(n,["ids"],r),n}function af(t,e){const n={},r=m(e,["modality"]);r!=null&&g(n,["modality"],r);const i=m(e,["tokenCount"]);return i!=null&&g(n,["tokenCount"],i),n}function of(t,e){const n={},r=m(e,["modality"]);r!=null&&g(n,["modality"],r);const i=m(e,["tokenCount"]);return i!=null&&g(n,["tokenCount"],i),n}function rte(t,e){const n={},r=m(e,["promptTokenCount"]);r!=null&&g(n,["promptTokenCount"],r);const i=m(e,["cachedContentTokenCount"]);i!=null&&g(n,["cachedContentTokenCount"],i);const a=m(e,["responseTokenCount"]);a!=null&&g(n,["responseTokenCount"],a);const o=m(e,["toolUsePromptTokenCount"]);o!=null&&g(n,["toolUsePromptTokenCount"],o);const l=m(e,["thoughtsTokenCount"]);l!=null&&g(n,["thoughtsTokenCount"],l);const c=m(e,["totalTokenCount"]);c!=null&&g(n,["totalTokenCount"],c);const d=m(e,["promptTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(w=>af(t,w))),g(n,["promptTokensDetails"],_)}const f=m(e,["cacheTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(w=>af(t,w))),g(n,["cacheTokensDetails"],_)}const h=m(e,["responseTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(w=>af(t,w))),g(n,["responseTokensDetails"],_)}const v=m(e,["toolUsePromptTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(w=>af(t,w))),g(n,["toolUsePromptTokensDetails"],_)}return n}function ite(t,e){const n={},r=m(e,["promptTokenCount"]);r!=null&&g(n,["promptTokenCount"],r);const i=m(e,["cachedContentTokenCount"]);i!=null&&g(n,["cachedContentTokenCount"],i);const a=m(e,["candidatesTokenCount"]);a!=null&&g(n,["responseTokenCount"],a);const o=m(e,["toolUsePromptTokenCount"]);o!=null&&g(n,["toolUsePromptTokenCount"],o);const l=m(e,["thoughtsTokenCount"]);l!=null&&g(n,["thoughtsTokenCount"],l);const c=m(e,["totalTokenCount"]);c!=null&&g(n,["totalTokenCount"],c);const d=m(e,["promptTokensDetails"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(S=>of(t,S))),g(n,["promptTokensDetails"],w)}const f=m(e,["cacheTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(S=>of(t,S))),g(n,["cacheTokensDetails"],w)}const h=m(e,["candidatesTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(S=>of(t,S))),g(n,["responseTokensDetails"],w)}const v=m(e,["toolUsePromptTokensDetails"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(S=>of(t,S))),g(n,["toolUsePromptTokensDetails"],w)}const _=m(e,["trafficType"]);return _!=null&&g(n,["trafficType"],_),n}function ate(t,e){const n={},r=m(e,["timeLeft"]);return r!=null&&g(n,["timeLeft"],r),n}function ote(t,e){const n={},r=m(e,["timeLeft"]);return r!=null&&g(n,["timeLeft"],r),n}function ste(t,e){const n={},r=m(e,["newHandle"]);r!=null&&g(n,["newHandle"],r);const i=m(e,["resumable"]);i!=null&&g(n,["resumable"],i);const a=m(e,["lastConsumedClientMessageIndex"]);return a!=null&&g(n,["lastConsumedClientMessageIndex"],a),n}function lte(t,e){const n={},r=m(e,["newHandle"]);r!=null&&g(n,["newHandle"],r);const i=m(e,["resumable"]);i!=null&&g(n,["resumable"],i);const a=m(e,["lastConsumedClientMessageIndex"]);return a!=null&&g(n,["lastConsumedClientMessageIndex"],a),n}function ute(t,e){const n={};m(e,["setupComplete"])!=null&&g(n,["setupComplete"],Ree());const i=m(e,["serverContent"]);i!=null&&g(n,["serverContent"],Yee(t,i));const a=m(e,["toolCall"]);a!=null&&g(n,["toolCall"],Qee(t,a));const o=m(e,["toolCallCancellation"]);o!=null&&g(n,["toolCallCancellation"],tte(t,o));const l=m(e,["usageMetadata"]);l!=null&&g(n,["usageMetadata"],rte(t,l));const c=m(e,["goAway"]);c!=null&&g(n,["goAway"],ate(t,c));const d=m(e,["sessionResumptionUpdate"]);return d!=null&&g(n,["sessionResumptionUpdate"],ste(t,d)),n}function cte(t,e){const n={};m(e,["setupComplete"])!=null&&g(n,["setupComplete"],jee());const i=m(e,["serverContent"]);i!=null&&g(n,["serverContent"],Jee(t,i));const a=m(e,["toolCall"]);a!=null&&g(n,["toolCall"],ete(t,a));const o=m(e,["toolCallCancellation"]);o!=null&&g(n,["toolCallCancellation"],nte(t,o));const l=m(e,["usageMetadata"]);l!=null&&g(n,["usageMetadata"],ite(t,l));const c=m(e,["goAway"]);c!=null&&g(n,["goAway"],ote(t,c));const d=m(e,["sessionResumptionUpdate"]);return d!=null&&g(n,["sessionResumptionUpdate"],lte(t,d)),n}function dte(){return{}}function fte(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["weight"]);return i!=null&&g(n,["weight"],i),n}function hte(t,e){const n={},r=m(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>fte(t,a))),g(n,["weightedPrompts"],i)}return n}function pte(t,e){const n={},r=m(e,["temperature"]);r!=null&&g(n,["temperature"],r);const i=m(e,["topK"]);i!=null&&g(n,["topK"],i);const a=m(e,["seed"]);a!=null&&g(n,["seed"],a);const o=m(e,["guidance"]);o!=null&&g(n,["guidance"],o);const l=m(e,["bpm"]);l!=null&&g(n,["bpm"],l);const c=m(e,["density"]);c!=null&&g(n,["density"],c);const d=m(e,["brightness"]);d!=null&&g(n,["brightness"],d);const f=m(e,["scale"]);f!=null&&g(n,["scale"],f);const h=m(e,["muteBass"]);h!=null&&g(n,["muteBass"],h);const v=m(e,["muteDrums"]);v!=null&&g(n,["muteDrums"],v);const _=m(e,["onlyBassAndDrums"]);return _!=null&&g(n,["onlyBassAndDrums"],_),n}function mte(t,e){const n={},r=m(e,["clientContent"]);r!=null&&g(n,["clientContent"],hte(t,r));const i=m(e,["musicGenerationConfig"]);return i!=null&&g(n,["musicGenerationConfig"],pte(t,i)),n}function gte(t,e){const n={},r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);i!=null&&g(n,["mimeType"],i);const a=m(e,["sourceMetadata"]);return a!=null&&g(n,["sourceMetadata"],mte(t,a)),n}function vte(t,e){const n={},r=m(e,["audioChunks"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>gte(t,a))),g(n,["audioChunks"],i)}return n}function yte(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["filteredReason"]);return i!=null&&g(n,["filteredReason"],i),n}function xte(t,e){const n={};m(e,["setupComplete"])!=null&&g(n,["setupComplete"],dte());const i=m(e,["serverContent"]);i!=null&&g(n,["serverContent"],vte(t,i));const a=m(e,["filteredPrompt"]);return a!=null&&g(n,["filteredPrompt"],yte(t,a)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _te(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function bte(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function wte(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function Ste(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],_te(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],bte(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],wte(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function dp(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Ste(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function Cte(t,e){const n={},r=m(e,["anyOf"]);r!=null&&g(n,["anyOf"],r);const i=m(e,["default"]);i!=null&&g(n,["default"],i);const a=m(e,["description"]);a!=null&&g(n,["description"],a);const o=m(e,["enum"]);o!=null&&g(n,["enum"],o);const l=m(e,["example"]);l!=null&&g(n,["example"],l);const c=m(e,["format"]);c!=null&&g(n,["format"],c);const d=m(e,["items"]);d!=null&&g(n,["items"],d);const f=m(e,["maxItems"]);f!=null&&g(n,["maxItems"],f);const h=m(e,["maxLength"]);h!=null&&g(n,["maxLength"],h);const v=m(e,["maxProperties"]);v!=null&&g(n,["maxProperties"],v);const _=m(e,["maximum"]);_!=null&&g(n,["maximum"],_);const w=m(e,["minItems"]);w!=null&&g(n,["minItems"],w);const S=m(e,["minLength"]);S!=null&&g(n,["minLength"],S);const b=m(e,["minProperties"]);b!=null&&g(n,["minProperties"],b);const A=m(e,["minimum"]);A!=null&&g(n,["minimum"],A);const O=m(e,["nullable"]);O!=null&&g(n,["nullable"],O);const T=m(e,["pattern"]);T!=null&&g(n,["pattern"],T);const M=m(e,["properties"]);M!=null&&g(n,["properties"],M);const E=m(e,["propertyOrdering"]);E!=null&&g(n,["propertyOrdering"],E);const P=m(e,["required"]);P!=null&&g(n,["required"],P);const I=m(e,["title"]);I!=null&&g(n,["title"],I);const D=m(e,["type"]);return D!=null&&g(n,["type"],D),n}function Tte(t,e){const n={};if(m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(e,["category"]);r!=null&&g(n,["category"],r);const i=m(e,["threshold"]);return i!=null&&g(n,["threshold"],i),n}function kte(t,e){const n={},r=m(e,["behavior"]);r!=null&&g(n,["behavior"],r);const i=m(e,["description"]);i!=null&&g(n,["description"],i);const a=m(e,["name"]);a!=null&&g(n,["name"],a);const o=m(e,["parameters"]);o!=null&&g(n,["parameters"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],l),n}function Ete(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function Ate(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],Ete(t,r)),n}function Pte(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function Ote(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],Pte(t,r)),n}function Mte(){return{}}function Ite(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>kte(t,d))),g(n,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(e,["googleSearch"]);i!=null&&g(n,["googleSearch"],Ate(t,i));const a=m(e,["googleSearchRetrieval"]);if(a!=null&&g(n,["googleSearchRetrieval"],Ote(t,a)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(n,["urlContext"],Mte());const l=m(e,["codeExecution"]);return l!=null&&g(n,["codeExecution"],l),n}function Nte(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function Dte(t,e){const n={},r=m(e,["latitude"]);r!=null&&g(n,["latitude"],r);const i=m(e,["longitude"]);return i!=null&&g(n,["longitude"],i),n}function Rte(t,e){const n={},r=m(e,["latLng"]);r!=null&&g(n,["latLng"],Dte(t,r));const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function jte(t,e){const n={},r=m(e,["functionCallingConfig"]);r!=null&&g(n,["functionCallingConfig"],Nte(t,r));const i=m(e,["retrievalConfig"]);return i!=null&&g(n,["retrievalConfig"],Rte(t,i)),n}function $te(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function dj(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],$te(t,r)),n}function Lte(t,e){const n={},r=m(e,["speaker"]);r!=null&&g(n,["speaker"],r);const i=m(e,["voiceConfig"]);return i!=null&&g(n,["voiceConfig"],dj(t,i)),n}function Bte(t,e){const n={},r=m(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Lte(t,a))),g(n,["speakerVoiceConfigs"],i)}return n}function Fte(t,e){const n={},r=m(e,["voiceConfig"]);r!=null&&g(n,["voiceConfig"],dj(t,r));const i=m(e,["multiSpeakerVoiceConfig"]);i!=null&&g(n,["multiSpeakerVoiceConfig"],Bte(t,i));const a=m(e,["languageCode"]);return a!=null&&g(n,["languageCode"],a),n}function qte(t,e){const n={},r=m(e,["includeThoughts"]);r!=null&&g(n,["includeThoughts"],r);const i=m(e,["thinkingBudget"]);return i!=null&&g(n,["thinkingBudget"],i),n}function Ute(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],dp(t,Nn(t,i)));const a=m(e,["temperature"]);a!=null&&g(r,["temperature"],a);const o=m(e,["topP"]);o!=null&&g(r,["topP"],o);const l=m(e,["topK"]);l!=null&&g(r,["topK"],l);const c=m(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const d=m(e,["maxOutputTokens"]);d!=null&&g(r,["maxOutputTokens"],d);const f=m(e,["stopSequences"]);f!=null&&g(r,["stopSequences"],f);const h=m(e,["responseLogprobs"]);h!=null&&g(r,["responseLogprobs"],h);const v=m(e,["logprobs"]);v!=null&&g(r,["logprobs"],v);const _=m(e,["presencePenalty"]);_!=null&&g(r,["presencePenalty"],_);const w=m(e,["frequencyPenalty"]);w!=null&&g(r,["frequencyPenalty"],w);const S=m(e,["seed"]);S!=null&&g(r,["seed"],S);const b=m(e,["responseMimeType"]);b!=null&&g(r,["responseMimeType"],b);const A=m(e,["responseSchema"]);if(A!=null&&g(r,["responseSchema"],Cte(t,xh(t,A))),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=m(e,["safetySettings"]);if(n!==void 0&&O!=null){let q=O;Array.isArray(q)&&(q=q.map(L=>Tte(t,L))),g(n,["safetySettings"],q)}const T=m(e,["tools"]);if(n!==void 0&&T!=null){let q=yc(t,T);Array.isArray(q)&&(q=q.map(L=>Ite(t,vc(t,L)))),g(n,["tools"],q)}const M=m(e,["toolConfig"]);if(n!==void 0&&M!=null&&g(n,["toolConfig"],jte(t,M)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=m(e,["cachedContent"]);n!==void 0&&E!=null&&g(n,["cachedContent"],wa(t,E));const P=m(e,["responseModalities"]);P!=null&&g(r,["responseModalities"],P);const I=m(e,["mediaResolution"]);I!=null&&g(r,["mediaResolution"],I);const D=m(e,["speechConfig"]);if(D!=null&&g(r,["speechConfig"],Fte(t,ej(t,D))),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=m(e,["thinkingConfig"]);return F!=null&&g(r,["thinkingConfig"],qte(t,F)),r}function qI(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["contents"]);if(i!=null){let o=Lr(t,i);Array.isArray(o)&&(o=o.map(l=>dp(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["generationConfig"],Ute(t,a,n)),n}function Vte(t,e,n){const r={},i=m(e,["taskType"]);n!==void 0&&i!=null&&g(n,["requests[]","taskType"],i);const a=m(e,["title"]);n!==void 0&&a!=null&&g(n,["requests[]","title"],a);const o=m(e,["outputDimensionality"]);if(n!==void 0&&o!=null&&g(n,["requests[]","outputDimensionality"],o),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function zte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["contents"]);i!=null&&g(n,["requests[]","content"],QR(t,i));const a=m(e,["config"]);a!=null&&g(n,["config"],Vte(t,a,n));const o=m(e,["model"]);return o!==void 0&&g(n,["requests[]","model"],Mt(t,o)),n}function Gte(t,e,n){const r={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=m(e,["numberOfImages"]);n!==void 0&&i!=null&&g(n,["parameters","sampleCount"],i);const a=m(e,["aspectRatio"]);n!==void 0&&a!=null&&g(n,["parameters","aspectRatio"],a);const o=m(e,["guidanceScale"]);if(n!==void 0&&o!=null&&g(n,["parameters","guidanceScale"],o),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(e,["safetyFilterLevel"]);n!==void 0&&l!=null&&g(n,["parameters","safetySetting"],l);const c=m(e,["personGeneration"]);n!==void 0&&c!=null&&g(n,["parameters","personGeneration"],c);const d=m(e,["includeSafetyAttributes"]);n!==void 0&&d!=null&&g(n,["parameters","includeSafetyAttributes"],d);const f=m(e,["includeRaiReason"]);n!==void 0&&f!=null&&g(n,["parameters","includeRaiReason"],f);const h=m(e,["language"]);n!==void 0&&h!=null&&g(n,["parameters","language"],h);const v=m(e,["outputMimeType"]);n!==void 0&&v!=null&&g(n,["parameters","outputOptions","mimeType"],v);const _=m(e,["outputCompressionQuality"]);if(n!==void 0&&_!=null&&g(n,["parameters","outputOptions","compressionQuality"],_),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Hte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["config"]);return a!=null&&g(n,["config"],Gte(t,a,n)),n}function Wte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],Mt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function Kte(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=m(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=m(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],rj(t,l)),r}function Yte(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],Kte(t,r,n)),n}function Jte(t,e,n){const r={},i=m(e,["displayName"]);n!==void 0&&i!=null&&g(n,["displayName"],i);const a=m(e,["description"]);n!==void 0&&a!=null&&g(n,["description"],a);const o=m(e,["defaultCheckpointId"]);return n!==void 0&&o!=null&&g(n,["defaultCheckpointId"],o),r}function Xte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],Mt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],Jte(t,i,n)),n}function Zte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],Mt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function Qte(t,e){const n={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function ene(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["contents"]);if(i!=null){let o=Lr(t,i);Array.isArray(o)&&(o=o.map(l=>dp(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["config"],Qte(t,a)),n}function tne(t,e){const n={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(e,["imageBytes"]);r!=null&&g(n,["bytesBase64Encoded"],Mi(t,r));const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function nne(t,e,n){const r={},i=m(e,["numberOfVideos"]);if(n!==void 0&&i!=null&&g(n,["parameters","sampleCount"],i),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=m(e,["durationSeconds"]);if(n!==void 0&&a!=null&&g(n,["parameters","durationSeconds"],a),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(e,["aspectRatio"]);if(n!==void 0&&o!=null&&g(n,["parameters","aspectRatio"],o),m(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const l=m(e,["personGeneration"]);if(n!==void 0&&l!=null&&g(n,["parameters","personGeneration"],l),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=m(e,["negativePrompt"]);n!==void 0&&c!=null&&g(n,["parameters","negativePrompt"],c);const d=m(e,["enhancePrompt"]);if(n!==void 0&&d!=null&&g(n,["parameters","enhancePrompt"],d),m(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(m(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return r}function rne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["image"]);if(a!=null&&g(n,["instances[0]","image"],tne(t,a)),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=m(e,["config"]);return o!=null&&g(n,["config"],nne(t,o,n)),n}function ine(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function ane(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function one(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function sne(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],ine(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],ane(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],one(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function ll(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>sne(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function lne(t,e){const n={},r=m(e,["anyOf"]);r!=null&&g(n,["anyOf"],r);const i=m(e,["default"]);i!=null&&g(n,["default"],i);const a=m(e,["description"]);a!=null&&g(n,["description"],a);const o=m(e,["enum"]);o!=null&&g(n,["enum"],o);const l=m(e,["example"]);l!=null&&g(n,["example"],l);const c=m(e,["format"]);c!=null&&g(n,["format"],c);const d=m(e,["items"]);d!=null&&g(n,["items"],d);const f=m(e,["maxItems"]);f!=null&&g(n,["maxItems"],f);const h=m(e,["maxLength"]);h!=null&&g(n,["maxLength"],h);const v=m(e,["maxProperties"]);v!=null&&g(n,["maxProperties"],v);const _=m(e,["maximum"]);_!=null&&g(n,["maximum"],_);const w=m(e,["minItems"]);w!=null&&g(n,["minItems"],w);const S=m(e,["minLength"]);S!=null&&g(n,["minLength"],S);const b=m(e,["minProperties"]);b!=null&&g(n,["minProperties"],b);const A=m(e,["minimum"]);A!=null&&g(n,["minimum"],A);const O=m(e,["nullable"]);O!=null&&g(n,["nullable"],O);const T=m(e,["pattern"]);T!=null&&g(n,["pattern"],T);const M=m(e,["properties"]);M!=null&&g(n,["properties"],M);const E=m(e,["propertyOrdering"]);E!=null&&g(n,["propertyOrdering"],E);const P=m(e,["required"]);P!=null&&g(n,["required"],P);const I=m(e,["title"]);I!=null&&g(n,["title"],I);const D=m(e,["type"]);return D!=null&&g(n,["type"],D),n}function une(t,e){const n={},r=m(e,["featureSelectionPreference"]);return r!=null&&g(n,["featureSelectionPreference"],r),n}function cne(t,e){const n={},r=m(e,["method"]);r!=null&&g(n,["method"],r);const i=m(e,["category"]);i!=null&&g(n,["category"],i);const a=m(e,["threshold"]);return a!=null&&g(n,["threshold"],a),n}function dne(t,e){const n={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=m(e,["description"]);r!=null&&g(n,["description"],r);const i=m(e,["name"]);i!=null&&g(n,["name"],i);const a=m(e,["parameters"]);a!=null&&g(n,["parameters"],a);const o=m(e,["response"]);return o!=null&&g(n,["response"],o),n}function fne(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function hne(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],fne(t,r)),n}function pne(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function mne(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],pne(t,r)),n}function gne(){return{}}function vne(t,e){const n={},r=m(e,["apiKeyString"]);return r!=null&&g(n,["apiKeyString"],r),n}function yne(t,e){const n={},r=m(e,["apiKeyConfig"]);r!=null&&g(n,["apiKeyConfig"],vne(t,r));const i=m(e,["authType"]);i!=null&&g(n,["authType"],i);const a=m(e,["googleServiceAccountConfig"]);a!=null&&g(n,["googleServiceAccountConfig"],a);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(n,["httpBasicAuthConfig"],o);const l=m(e,["oauthConfig"]);l!=null&&g(n,["oauthConfig"],l);const c=m(e,["oidcConfig"]);return c!=null&&g(n,["oidcConfig"],c),n}function xne(t,e){const n={},r=m(e,["authConfig"]);return r!=null&&g(n,["authConfig"],yne(t,r)),n}function _ne(){return{}}function fj(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>dne(t,v))),g(n,["functionDeclarations"],h)}const i=m(e,["retrieval"]);i!=null&&g(n,["retrieval"],i);const a=m(e,["googleSearch"]);a!=null&&g(n,["googleSearch"],hne(t,a));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],mne(t,o)),m(e,["enterpriseWebSearch"])!=null&&g(n,["enterpriseWebSearch"],gne());const c=m(e,["googleMaps"]);c!=null&&g(n,["googleMaps"],xne(t,c)),m(e,["urlContext"])!=null&&g(n,["urlContext"],_ne());const f=m(e,["codeExecution"]);return f!=null&&g(n,["codeExecution"],f),n}function bne(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function wne(t,e){const n={},r=m(e,["latitude"]);r!=null&&g(n,["latitude"],r);const i=m(e,["longitude"]);return i!=null&&g(n,["longitude"],i),n}function Sne(t,e){const n={},r=m(e,["latLng"]);r!=null&&g(n,["latLng"],wne(t,r));const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function Cne(t,e){const n={},r=m(e,["functionCallingConfig"]);r!=null&&g(n,["functionCallingConfig"],bne(t,r));const i=m(e,["retrievalConfig"]);return i!=null&&g(n,["retrievalConfig"],Sne(t,i)),n}function Tne(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function kne(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],Tne(t,r)),n}function Ene(t,e){const n={},r=m(e,["voiceConfig"]);if(r!=null&&g(n,["voiceConfig"],kne(t,r)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function Ane(t,e){const n={},r=m(e,["includeThoughts"]);r!=null&&g(n,["includeThoughts"],r);const i=m(e,["thinkingBudget"]);return i!=null&&g(n,["thinkingBudget"],i),n}function Pne(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],ll(t,Nn(t,i)));const a=m(e,["temperature"]);a!=null&&g(r,["temperature"],a);const o=m(e,["topP"]);o!=null&&g(r,["topP"],o);const l=m(e,["topK"]);l!=null&&g(r,["topK"],l);const c=m(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const d=m(e,["maxOutputTokens"]);d!=null&&g(r,["maxOutputTokens"],d);const f=m(e,["stopSequences"]);f!=null&&g(r,["stopSequences"],f);const h=m(e,["responseLogprobs"]);h!=null&&g(r,["responseLogprobs"],h);const v=m(e,["logprobs"]);v!=null&&g(r,["logprobs"],v);const _=m(e,["presencePenalty"]);_!=null&&g(r,["presencePenalty"],_);const w=m(e,["frequencyPenalty"]);w!=null&&g(r,["frequencyPenalty"],w);const S=m(e,["seed"]);S!=null&&g(r,["seed"],S);const b=m(e,["responseMimeType"]);b!=null&&g(r,["responseMimeType"],b);const A=m(e,["responseSchema"]);A!=null&&g(r,["responseSchema"],lne(t,xh(t,A)));const O=m(e,["routingConfig"]);O!=null&&g(r,["routingConfig"],O);const T=m(e,["modelSelectionConfig"]);T!=null&&g(r,["modelConfig"],une(t,T));const M=m(e,["safetySettings"]);if(n!==void 0&&M!=null){let H=M;Array.isArray(H)&&(H=H.map(B=>cne(t,B))),g(n,["safetySettings"],H)}const E=m(e,["tools"]);if(n!==void 0&&E!=null){let H=yc(t,E);Array.isArray(H)&&(H=H.map(B=>fj(t,vc(t,B)))),g(n,["tools"],H)}const P=m(e,["toolConfig"]);n!==void 0&&P!=null&&g(n,["toolConfig"],Cne(t,P));const I=m(e,["labels"]);n!==void 0&&I!=null&&g(n,["labels"],I);const D=m(e,["cachedContent"]);n!==void 0&&D!=null&&g(n,["cachedContent"],wa(t,D));const F=m(e,["responseModalities"]);F!=null&&g(r,["responseModalities"],F);const q=m(e,["mediaResolution"]);q!=null&&g(r,["mediaResolution"],q);const L=m(e,["speechConfig"]);L!=null&&g(r,["speechConfig"],Ene(t,ej(t,L)));const W=m(e,["audioTimestamp"]);W!=null&&g(r,["audioTimestamp"],W);const J=m(e,["thinkingConfig"]);return J!=null&&g(r,["thinkingConfig"],Ane(t,J)),r}function UI(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["contents"]);if(i!=null){let o=Lr(t,i);Array.isArray(o)&&(o=o.map(l=>ll(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["generationConfig"],Pne(t,a,n)),n}function One(t,e,n){const r={},i=m(e,["taskType"]);n!==void 0&&i!=null&&g(n,["instances[]","task_type"],i);const a=m(e,["title"]);n!==void 0&&a!=null&&g(n,["instances[]","title"],a);const o=m(e,["outputDimensionality"]);n!==void 0&&o!=null&&g(n,["parameters","outputDimensionality"],o);const l=m(e,["mimeType"]);n!==void 0&&l!=null&&g(n,["instances[]","mimeType"],l);const c=m(e,["autoTruncate"]);return n!==void 0&&c!=null&&g(n,["parameters","autoTruncate"],c),r}function Mne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["contents"]);i!=null&&g(n,["instances[]","content"],QR(t,i));const a=m(e,["config"]);return a!=null&&g(n,["config"],One(t,a,n)),n}function Ine(t,e,n){const r={},i=m(e,["outputGcsUri"]);n!==void 0&&i!=null&&g(n,["parameters","storageUri"],i);const a=m(e,["negativePrompt"]);n!==void 0&&a!=null&&g(n,["parameters","negativePrompt"],a);const o=m(e,["numberOfImages"]);n!==void 0&&o!=null&&g(n,["parameters","sampleCount"],o);const l=m(e,["aspectRatio"]);n!==void 0&&l!=null&&g(n,["parameters","aspectRatio"],l);const c=m(e,["guidanceScale"]);n!==void 0&&c!=null&&g(n,["parameters","guidanceScale"],c);const d=m(e,["seed"]);n!==void 0&&d!=null&&g(n,["parameters","seed"],d);const f=m(e,["safetyFilterLevel"]);n!==void 0&&f!=null&&g(n,["parameters","safetySetting"],f);const h=m(e,["personGeneration"]);n!==void 0&&h!=null&&g(n,["parameters","personGeneration"],h);const v=m(e,["includeSafetyAttributes"]);n!==void 0&&v!=null&&g(n,["parameters","includeSafetyAttributes"],v);const _=m(e,["includeRaiReason"]);n!==void 0&&_!=null&&g(n,["parameters","includeRaiReason"],_);const w=m(e,["language"]);n!==void 0&&w!=null&&g(n,["parameters","language"],w);const S=m(e,["outputMimeType"]);n!==void 0&&S!=null&&g(n,["parameters","outputOptions","mimeType"],S);const b=m(e,["outputCompressionQuality"]);n!==void 0&&b!=null&&g(n,["parameters","outputOptions","compressionQuality"],b);const A=m(e,["addWatermark"]);n!==void 0&&A!=null&&g(n,["parameters","addWatermark"],A);const O=m(e,["enhancePrompt"]);return n!==void 0&&O!=null&&g(n,["parameters","enhancePrompt"],O),r}function Nne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["config"]);return a!=null&&g(n,["config"],Ine(t,a,n)),n}function fp(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const i=m(e,["imageBytes"]);i!=null&&g(n,["bytesBase64Encoded"],Mi(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Dne(t,e){const n={},r=m(e,["maskMode"]);r!=null&&g(n,["maskMode"],r);const i=m(e,["segmentationClasses"]);i!=null&&g(n,["maskClasses"],i);const a=m(e,["maskDilation"]);return a!=null&&g(n,["dilation"],a),n}function Rne(t,e){const n={},r=m(e,["controlType"]);r!=null&&g(n,["controlType"],r);const i=m(e,["enableControlImageComputation"]);return i!=null&&g(n,["computeControl"],i),n}function jne(t,e){const n={},r=m(e,["styleDescription"]);return r!=null&&g(n,["styleDescription"],r),n}function $ne(t,e){const n={},r=m(e,["subjectType"]);r!=null&&g(n,["subjectType"],r);const i=m(e,["subjectDescription"]);return i!=null&&g(n,["subjectDescription"],i),n}function Lne(t,e){const n={},r=m(e,["referenceImage"]);r!=null&&g(n,["referenceImage"],fp(t,r));const i=m(e,["referenceId"]);i!=null&&g(n,["referenceId"],i);const a=m(e,["referenceType"]);a!=null&&g(n,["referenceType"],a);const o=m(e,["maskImageConfig"]);o!=null&&g(n,["maskImageConfig"],Dne(t,o));const l=m(e,["controlImageConfig"]);l!=null&&g(n,["controlImageConfig"],Rne(t,l));const c=m(e,["styleImageConfig"]);c!=null&&g(n,["styleImageConfig"],jne(t,c));const d=m(e,["subjectImageConfig"]);return d!=null&&g(n,["subjectImageConfig"],$ne(t,d)),n}function Bne(t,e,n){const r={},i=m(e,["outputGcsUri"]);n!==void 0&&i!=null&&g(n,["parameters","storageUri"],i);const a=m(e,["negativePrompt"]);n!==void 0&&a!=null&&g(n,["parameters","negativePrompt"],a);const o=m(e,["numberOfImages"]);n!==void 0&&o!=null&&g(n,["parameters","sampleCount"],o);const l=m(e,["aspectRatio"]);n!==void 0&&l!=null&&g(n,["parameters","aspectRatio"],l);const c=m(e,["guidanceScale"]);n!==void 0&&c!=null&&g(n,["parameters","guidanceScale"],c);const d=m(e,["seed"]);n!==void 0&&d!=null&&g(n,["parameters","seed"],d);const f=m(e,["safetyFilterLevel"]);n!==void 0&&f!=null&&g(n,["parameters","safetySetting"],f);const h=m(e,["personGeneration"]);n!==void 0&&h!=null&&g(n,["parameters","personGeneration"],h);const v=m(e,["includeSafetyAttributes"]);n!==void 0&&v!=null&&g(n,["parameters","includeSafetyAttributes"],v);const _=m(e,["includeRaiReason"]);n!==void 0&&_!=null&&g(n,["parameters","includeRaiReason"],_);const w=m(e,["language"]);n!==void 0&&w!=null&&g(n,["parameters","language"],w);const S=m(e,["outputMimeType"]);n!==void 0&&S!=null&&g(n,["parameters","outputOptions","mimeType"],S);const b=m(e,["outputCompressionQuality"]);n!==void 0&&b!=null&&g(n,["parameters","outputOptions","compressionQuality"],b);const A=m(e,["editMode"]);n!==void 0&&A!=null&&g(n,["parameters","editMode"],A);const O=m(e,["baseSteps"]);return n!==void 0&&O!=null&&g(n,["parameters","editConfig","baseSteps"],O),r}function Fne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Lne(t,c))),g(n,["instances[0]","referenceImages"],l)}const o=m(e,["config"]);return o!=null&&g(n,["config"],Bne(t,o,n)),n}function qne(t,e,n){const r={},i=m(e,["includeRaiReason"]);n!==void 0&&i!=null&&g(n,["parameters","includeRaiReason"],i);const a=m(e,["outputMimeType"]);n!==void 0&&a!=null&&g(n,["parameters","outputOptions","mimeType"],a);const o=m(e,["outputCompressionQuality"]);n!==void 0&&o!=null&&g(n,["parameters","outputOptions","compressionQuality"],o);const l=m(e,["numberOfImages"]);n!==void 0&&l!=null&&g(n,["parameters","sampleCount"],l);const c=m(e,["mode"]);return n!==void 0&&c!=null&&g(n,["parameters","mode"],c),r}function Une(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["image"]);i!=null&&g(n,["instances[0]","image"],fp(t,i));const a=m(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=m(e,["config"]);return o!=null&&g(n,["config"],qne(t,o,n)),n}function Vne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],Mt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function zne(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=m(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=m(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],rj(t,l)),r}function Gne(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],zne(t,r,n)),n}function Hne(t,e,n){const r={},i=m(e,["displayName"]);n!==void 0&&i!=null&&g(n,["displayName"],i);const a=m(e,["description"]);n!==void 0&&a!=null&&g(n,["description"],a);const o=m(e,["defaultCheckpointId"]);return n!==void 0&&o!=null&&g(n,["defaultCheckpointId"],o),r}function Wne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],Hne(t,i,n)),n}function Kne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],Mt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function Yne(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],ll(t,Nn(t,i)));const a=m(e,["tools"]);if(n!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>fj(t,c))),g(n,["tools"],l)}const o=m(e,["generationConfig"]);return n!==void 0&&o!=null&&g(n,["generationConfig"],o),r}function Jne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["contents"]);if(i!=null){let o=Lr(t,i);Array.isArray(o)&&(o=o.map(l=>ll(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["config"],Yne(t,a,n)),n}function Xne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["contents"]);if(i!=null){let o=Lr(t,i);Array.isArray(o)&&(o=o.map(l=>ll(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["config"],a),n}function Zne(t,e){const n={},r=m(e,["uri"]);r!=null&&g(n,["gcsUri"],r);const i=m(e,["videoBytes"]);i!=null&&g(n,["bytesBase64Encoded"],Mi(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Qne(t,e,n){const r={},i=m(e,["numberOfVideos"]);n!==void 0&&i!=null&&g(n,["parameters","sampleCount"],i);const a=m(e,["outputGcsUri"]);n!==void 0&&a!=null&&g(n,["parameters","storageUri"],a);const o=m(e,["fps"]);n!==void 0&&o!=null&&g(n,["parameters","fps"],o);const l=m(e,["durationSeconds"]);n!==void 0&&l!=null&&g(n,["parameters","durationSeconds"],l);const c=m(e,["seed"]);n!==void 0&&c!=null&&g(n,["parameters","seed"],c);const d=m(e,["aspectRatio"]);n!==void 0&&d!=null&&g(n,["parameters","aspectRatio"],d);const f=m(e,["resolution"]);n!==void 0&&f!=null&&g(n,["parameters","resolution"],f);const h=m(e,["personGeneration"]);n!==void 0&&h!=null&&g(n,["parameters","personGeneration"],h);const v=m(e,["pubsubTopic"]);n!==void 0&&v!=null&&g(n,["parameters","pubsubTopic"],v);const _=m(e,["negativePrompt"]);n!==void 0&&_!=null&&g(n,["parameters","negativePrompt"],_);const w=m(e,["enhancePrompt"]);n!==void 0&&w!=null&&g(n,["parameters","enhancePrompt"],w);const S=m(e,["generateAudio"]);n!==void 0&&S!=null&&g(n,["parameters","generateAudio"],S);const b=m(e,["lastFrame"]);return n!==void 0&&b!=null&&g(n,["instances[0]","lastFrame"],fp(t,b)),r}function ere(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Mt(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["image"]);a!=null&&g(n,["instances[0]","image"],fp(t,a));const o=m(e,["video"]);o!=null&&g(n,["instances[0]","video"],Zne(t,o));const l=m(e,["config"]);return l!=null&&g(n,["config"],Qne(t,l,n)),n}function tre(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function nre(t,e){const n={},r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function rre(t,e){const n={},r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function ire(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],tre(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],nre(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],rre(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function are(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>ire(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function ore(t,e){const n={},r=m(e,["citationSources"]);return r!=null&&g(n,["citations"],r),n}function sre(t,e){const n={},r=m(e,["retrievedUrl"]);r!=null&&g(n,["retrievedUrl"],r);const i=m(e,["urlRetrievalStatus"]);return i!=null&&g(n,["urlRetrievalStatus"],i),n}function lre(t,e){const n={},r=m(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>sre(t,a))),g(n,["urlMetadata"],i)}return n}function ure(t,e){const n={},r=m(e,["content"]);r!=null&&g(n,["content"],are(t,r));const i=m(e,["citationMetadata"]);i!=null&&g(n,["citationMetadata"],ore(t,i));const a=m(e,["tokenCount"]);a!=null&&g(n,["tokenCount"],a);const o=m(e,["finishReason"]);o!=null&&g(n,["finishReason"],o);const l=m(e,["urlContextMetadata"]);l!=null&&g(n,["urlContextMetadata"],lre(t,l));const c=m(e,["avgLogprobs"]);c!=null&&g(n,["avgLogprobs"],c);const d=m(e,["groundingMetadata"]);d!=null&&g(n,["groundingMetadata"],d);const f=m(e,["index"]);f!=null&&g(n,["index"],f);const h=m(e,["logprobsResult"]);h!=null&&g(n,["logprobsResult"],h);const v=m(e,["safetyRatings"]);return v!=null&&g(n,["safetyRatings"],v),n}function VI(t,e){const n={},r=m(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>ure(t,c))),g(n,["candidates"],l)}const i=m(e,["modelVersion"]);i!=null&&g(n,["modelVersion"],i);const a=m(e,["promptFeedback"]);a!=null&&g(n,["promptFeedback"],a);const o=m(e,["usageMetadata"]);return o!=null&&g(n,["usageMetadata"],o),n}function cre(t,e){const n={},r=m(e,["values"]);return r!=null&&g(n,["values"],r),n}function dre(){return{}}function fre(t,e){const n={},r=m(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>cre(t,o))),g(n,["embeddings"],a)}return m(e,["metadata"])!=null&&g(n,["metadata"],dre()),n}function hre(t,e){const n={},r=m(e,["bytesBase64Encoded"]);r!=null&&g(n,["imageBytes"],Mi(t,r));const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function hj(t,e){const n={},r=m(e,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const i=m(e,["safetyAttributes","scores"]);i!=null&&g(n,["scores"],i);const a=m(e,["contentType"]);return a!=null&&g(n,["contentType"],a),n}function pre(t,e){const n={},r=m(e,["_self"]);r!=null&&g(n,["image"],hre(t,r));const i=m(e,["raiFilteredReason"]);i!=null&&g(n,["raiFilteredReason"],i);const a=m(e,["_self"]);return a!=null&&g(n,["safetyAttributes"],hj(t,a)),n}function mre(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>pre(t,o))),g(n,["generatedImages"],a)}const i=m(e,["positivePromptSafetyAttributes"]);return i!=null&&g(n,["positivePromptSafetyAttributes"],hj(t,i)),n}function gre(t,e){const n={},r=m(e,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(e,["createTime"]);i!=null&&g(n,["createTime"],i);const a=m(e,["updateTime"]);return a!=null&&g(n,["updateTime"],a),n}function ab(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["description"]);a!=null&&g(n,["description"],a);const o=m(e,["version"]);o!=null&&g(n,["version"],o);const l=m(e,["_self"]);l!=null&&g(n,["tunedModelInfo"],gre(t,l));const c=m(e,["inputTokenLimit"]);c!=null&&g(n,["inputTokenLimit"],c);const d=m(e,["outputTokenLimit"]);d!=null&&g(n,["outputTokenLimit"],d);const f=m(e,["supportedGenerationMethods"]);return f!=null&&g(n,["supportedActions"],f),n}function vre(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["_self"]);if(i!=null){let a=ij(t,i);Array.isArray(a)&&(a=a.map(o=>ab(t,o))),g(n,["models"],a)}return n}function yre(){return{}}function xre(t,e){const n={},r=m(e,["totalTokens"]);r!=null&&g(n,["totalTokens"],r);const i=m(e,["cachedContentTokenCount"]);return i!=null&&g(n,["cachedContentTokenCount"],i),n}function _re(t,e){const n={},r=m(e,["video","uri"]);r!=null&&g(n,["uri"],r);const i=m(e,["video","encodedVideo"]);i!=null&&g(n,["videoBytes"],Mi(t,i));const a=m(e,["encoding"]);return a!=null&&g(n,["mimeType"],a),n}function bre(t,e){const n={},r=m(e,["_self"]);return r!=null&&g(n,["video"],_re(t,r)),n}function wre(t,e){const n={},r=m(e,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>bre(t,l))),g(n,["generatedVideos"],o)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&g(n,["raiMediaFilteredReasons"],a),n}function Sre(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);o!=null&&g(n,["error"],o);const l=m(e,["response","generateVideoResponse"]);return l!=null&&g(n,["response"],wre(t,l)),n}function Cre(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function Tre(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function kre(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Ere(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],Cre(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],Tre(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],kre(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function Are(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Ere(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function Pre(t,e){const n={},r=m(e,["citations"]);return r!=null&&g(n,["citations"],r),n}function Ore(t,e){const n={},r=m(e,["retrievedUrl"]);r!=null&&g(n,["retrievedUrl"],r);const i=m(e,["urlRetrievalStatus"]);return i!=null&&g(n,["urlRetrievalStatus"],i),n}function Mre(t,e){const n={},r=m(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Ore(t,a))),g(n,["urlMetadata"],i)}return n}function Ire(t,e){const n={},r=m(e,["content"]);r!=null&&g(n,["content"],Are(t,r));const i=m(e,["citationMetadata"]);i!=null&&g(n,["citationMetadata"],Pre(t,i));const a=m(e,["finishMessage"]);a!=null&&g(n,["finishMessage"],a);const o=m(e,["finishReason"]);o!=null&&g(n,["finishReason"],o);const l=m(e,["urlContextMetadata"]);l!=null&&g(n,["urlContextMetadata"],Mre(t,l));const c=m(e,["avgLogprobs"]);c!=null&&g(n,["avgLogprobs"],c);const d=m(e,["groundingMetadata"]);d!=null&&g(n,["groundingMetadata"],d);const f=m(e,["index"]);f!=null&&g(n,["index"],f);const h=m(e,["logprobsResult"]);h!=null&&g(n,["logprobsResult"],h);const v=m(e,["safetyRatings"]);return v!=null&&g(n,["safetyRatings"],v),n}function zI(t,e){const n={},r=m(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>Ire(t,f))),g(n,["candidates"],d)}const i=m(e,["createTime"]);i!=null&&g(n,["createTime"],i);const a=m(e,["responseId"]);a!=null&&g(n,["responseId"],a);const o=m(e,["modelVersion"]);o!=null&&g(n,["modelVersion"],o);const l=m(e,["promptFeedback"]);l!=null&&g(n,["promptFeedback"],l);const c=m(e,["usageMetadata"]);return c!=null&&g(n,["usageMetadata"],c),n}function Nre(t,e){const n={},r=m(e,["truncated"]);r!=null&&g(n,["truncated"],r);const i=m(e,["token_count"]);return i!=null&&g(n,["tokenCount"],i),n}function Dre(t,e){const n={},r=m(e,["values"]);r!=null&&g(n,["values"],r);const i=m(e,["statistics"]);return i!=null&&g(n,["statistics"],Nre(t,i)),n}function Rre(t,e){const n={},r=m(e,["billableCharacterCount"]);return r!=null&&g(n,["billableCharacterCount"],r),n}function jre(t,e){const n={},r=m(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Dre(t,o))),g(n,["embeddings"],a)}const i=m(e,["metadata"]);return i!=null&&g(n,["metadata"],Rre(t,i)),n}function $re(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const i=m(e,["bytesBase64Encoded"]);i!=null&&g(n,["imageBytes"],Mi(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function pj(t,e){const n={},r=m(e,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const i=m(e,["safetyAttributes","scores"]);i!=null&&g(n,["scores"],i);const a=m(e,["contentType"]);return a!=null&&g(n,["contentType"],a),n}function Tw(t,e){const n={},r=m(e,["_self"]);r!=null&&g(n,["image"],$re(t,r));const i=m(e,["raiFilteredReason"]);i!=null&&g(n,["raiFilteredReason"],i);const a=m(e,["_self"]);a!=null&&g(n,["safetyAttributes"],pj(t,a));const o=m(e,["prompt"]);return o!=null&&g(n,["enhancedPrompt"],o),n}function Lre(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Tw(t,o))),g(n,["generatedImages"],a)}const i=m(e,["positivePromptSafetyAttributes"]);return i!=null&&g(n,["positivePromptSafetyAttributes"],pj(t,i)),n}function Bre(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Tw(t,a))),g(n,["generatedImages"],i)}return n}function Fre(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Tw(t,a))),g(n,["generatedImages"],i)}return n}function qre(t,e){const n={},r=m(e,["endpoint"]);r!=null&&g(n,["name"],r);const i=m(e,["deployedModelId"]);return i!=null&&g(n,["deployedModelId"],i),n}function Ure(t,e){const n={},r=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&g(n,["baseModel"],r);const i=m(e,["createTime"]);i!=null&&g(n,["createTime"],i);const a=m(e,["updateTime"]);return a!=null&&g(n,["updateTime"],a),n}function Vre(t,e){const n={},r=m(e,["checkpointId"]);r!=null&&g(n,["checkpointId"],r);const i=m(e,["epoch"]);i!=null&&g(n,["epoch"],i);const a=m(e,["step"]);return a!=null&&g(n,["step"],a),n}function ob(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["description"]);a!=null&&g(n,["description"],a);const o=m(e,["versionId"]);o!=null&&g(n,["version"],o);const l=m(e,["deployedModels"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>qre(t,_))),g(n,["endpoints"],v)}const c=m(e,["labels"]);c!=null&&g(n,["labels"],c);const d=m(e,["_self"]);d!=null&&g(n,["tunedModelInfo"],Ure(t,d));const f=m(e,["defaultCheckpointId"]);f!=null&&g(n,["defaultCheckpointId"],f);const h=m(e,["checkpoints"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>Vre(t,_))),g(n,["checkpoints"],v)}return n}function zre(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["_self"]);if(i!=null){let a=ij(t,i);Array.isArray(a)&&(a=a.map(o=>ob(t,o))),g(n,["models"],a)}return n}function Gre(){return{}}function Hre(t,e){const n={},r=m(e,["totalTokens"]);return r!=null&&g(n,["totalTokens"],r),n}function Wre(t,e){const n={},r=m(e,["tokensInfo"]);return r!=null&&g(n,["tokensInfo"],r),n}function Kre(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&g(n,["uri"],r);const i=m(e,["bytesBase64Encoded"]);i!=null&&g(n,["videoBytes"],Mi(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Yre(t,e){const n={},r=m(e,["_self"]);return r!=null&&g(n,["video"],Kre(t,r)),n}function Jre(t,e){const n={},r=m(e,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Yre(t,l))),g(n,["generatedVideos"],o)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&g(n,["raiMediaFilteredReasons"],a),n}function Xre(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);o!=null&&g(n,["error"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],Jre(t,l)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zre="Content-Type",Qre="X-Server-Timeout",eie="User-Agent",sb="x-goog-api-client",tie="1.5.1",nie=`google-genai-sdk/${tie}`,rie="v1beta1",iie="v1beta",GI=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class mj extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class lb extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class aie{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:rie,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:iie,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,a=i.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>i.abort(),n.timeout),r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=a}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await HI(i),new tb(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await HI(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return _s(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:c}=yield Dt(i.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(c);try{const h=JSON.parse(d);if("error"in h){const v=JSON.parse(JSON.stringify(h.error)),_=v.status,w=v.code,S=`got status: ${_}. ${JSON.stringify(h)}`;if(w>=400&&w<500)throw new mj(S);if(w>=500&&w<600)throw new lb(S)}}catch(h){const v=h;if(v.name==="ClientError"||v.name==="ServerError")throw h}o+=d;let f=o.match(GI);for(;f;){const h=f[1];try{const v=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Dt(new tb(v)),o=o.slice(f[0].length),f=o.match(GI)}catch(v){throw new Error(`exception parsing stream chunk ${h}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=nie+" "+this.clientOptions.userAgentExtra;return e[eie]=n,e[sb]=n,e[Zre]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(Qre,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c=await this.fetchUploadUrl(i,n);return a.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},o=await this.request({path:He("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function HI(t){var e;if(t===void 0)throw new lb("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=`got status: ${n} ${r}. ${JSON.stringify(i)}`;throw n>=400&&n<500?new mj(a):n>=500&&n<600?new lb(a):new Error(a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oie="mcp_used/unknown";function gj(t){for(const e of t)if(kw(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function vj(t){var e;const n=(e=t[sb])!==null&&e!==void 0?e:"";t[sb]=(n+` ${oie}`).trimStart()}function sie(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>kw(i)))!==null&&r!==void 0?r:!1}function lie(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!kw(i)))!==null&&r!==void 0?r:!1}function kw(t){return t!==null&&typeof t=="object"&&t instanceof Ew}function uie(t,e=100){return _s(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield Dt(t.listTools({cursor:r}));for(const o of a.tools)yield yield Dt(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class Ew{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ew(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const f of this.mcpClients)try{for(var l=!0,c=(n=void 0,wu(uie(f))),d;d=await c.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const h=i;o.push(h);const v=h.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=f}}catch(h){n={error:h}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),cZ(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cie(t,e,n){const r=new XX;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const a=xte(t,i);Object.assign(r,a),e(r)}class die{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=pie(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const f=new Promise(T=>{d=T}),h=e.callbacks,v=function(){d({})},_=this.apiClient,w={onopen:v,onmessage:T=>{cie(_,h.onmessage,T)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(T){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(T){}},S=this.webSocketFactory.create(c,hie(o),w);S.connect(),await f;const b=Mt(this.apiClient,e.model),A=uj(this.apiClient,{model:b}),O=ib(this.apiClient,{setup:A});return S.send(JSON.stringify(O)),new fie(S,this.apiClient)}}class fie{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Nee(this.apiClient,e),r=cj(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Dee(this.apiClient,e),r=ib(this.apiClient,n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=ib(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ps.PLAY)}pause(){this.sendPlaybackControl(ps.PAUSE)}stop(){this.sendPlaybackControl(ps.STOP)}resetContext(){this.sendPlaybackControl(ps.RESET_CONTEXT)}close(){this.conn.close()}}function hie(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function pie(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mie="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function gie(t,e,n){const r=new JX;let i;if(n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),t.isVertexAI()){const a=cte(t,i);Object.assign(r,a)}else{const a=ute(t,i);Object.assign(r,a)}e(r)}class vie{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new die(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,l;const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const h=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&gj(e.config.tools)&&vj(h);const v=bie(h);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v);else{const F=this.apiClient.getApiKey();let q="BidiGenerateContent",L="key";F!=null&&F.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),q="BidiGenerateContentConstrained",L="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${q}?${L}=${F}`}let _=()=>{};const w=new Promise(F=>{_=F}),S=e.callbacks,b=function(){var F;(F=S==null?void 0:S.onopen)===null||F===void 0||F.call(S),_({})},A=this.apiClient,O={onopen:b,onmessage:F=>{gie(A,S.onmessage,F)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(F){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(F){}},T=this.webSocketFactory.create(f,_ie(v),O);T.connect(),await w;let M=Mt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const F=this.apiClient.getProject(),q=this.apiClient.getLocation();M=`projects/${F}/locations/${q}/`+M}let E={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[vh.AUDIO]}:e.config.responseModalities=[vh.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],I=[];for(const F of P)if(this.isCallableTool(F)){const q=F;I.push(await q.tool())}else I.push(F);I.length>0&&(e.config.tools=I);const D={model:M,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?E=kee(this.apiClient,D):E=Tee(this.apiClient,D),delete E.config,T.send(JSON.stringify(E)),new xie(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const yie={turnComplete:!0};class xie{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Lr(e,n.turns),e.isVertexAI()?r=r.map(i=>ll(e,i)):r=r.map(i=>dp(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(mie)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},yie),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Iee(this.apiClient,e)}:n={realtimeInput:Mee(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function _ie(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function bie(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WI=10;function KI(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(df(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function df(t){return"callTool"in t&&typeof t.callTool=="function"}function YI(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wie extends sl{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,l;const c=await this.processParamsForMcpUsage(n);if(!sie(n)||KI(n.config))return await this.generateContentInternal(c);if(lie(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,f;const h=Lr(this.apiClient,c.contents),v=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:WI;let _=0;for(;_<v&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const w=d.candidates[0].content,S=[];for(const b of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(df(b)){const O=await b.callTool(d.functionCalls);S.push(...O)}_++,f={role:"user",parts:S},c.contents=Lr(this.apiClient,c.contents),c.contents.push(w),c.contents.push(f),YI(c.config)&&(h.push(w),h.push(f))}return YI(c.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{if(KI(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:o.push(c);let l;return a?l={generatedImages:o,positivePromptSafetyAttributes:a}:l={generatedImages:o},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new cp(Xs.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async c=>df(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&gj(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),vj(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(df(o)){const l=o,c=await l.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,l)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:WI;let o=!1,l=0;const c=await this.initAfcToolsMap(e);return function(d,f,h){var v,_;return _s(this,arguments,function*(){for(var w,S,b,A;l<a;){o&&(l++,o=!1);const E=yield Dt(d.processParamsForMcpUsage(h)),P=yield Dt(d.generateContentStreamInternal(E)),I=[],D=[];try{for(var O=!0,T=(S=void 0,wu(P)),M;M=yield Dt(T.next()),w=M.done,!w;O=!0){A=M.value,O=!1;const F=A;if(yield yield Dt(F),F.candidates&&(!((v=F.candidates[0])===null||v===void 0)&&v.content)){D.push(F.candidates[0].content);for(const q of(_=F.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(l<a&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(q.functionCall.name)){const L=yield Dt(f.get(q.functionCall.name).callTool([q.functionCall]));I.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(F){S={error:F}}finally{try{!O&&!w&&(b=T.return)&&(yield Dt(b.call(T)))}finally{if(S)throw S.error}}if(I.length>0){o=!0;const F=new ou;F.candidates=[{content:{role:"user",parts:I}}],yield yield Dt(F);const q=[];q.push(...D),q.push({role:"user",parts:I});const L=Lr(d.apiClient,h.contents).concat(q);h.contents=L}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=UI(this.apiClient,e);return l=He("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=zI(this.apiClient,f),v=new ou;return Object.assign(v,h),v})}else{const d=qI(this.apiClient,e);return l=He("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=VI(this.apiClient,f),v=new ou;return Object.assign(v,h),v})}}async generateContentStreamInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=UI(this.apiClient,e);l=He("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const f=this.apiClient;return o=f.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(h){return _s(this,arguments,function*(){var v,_,w,S;try{for(var b=!0,A=wu(h),O;O=yield Dt(A.next()),v=O.done,!v;b=!0){S=O.value,b=!1;const M=zI(f,yield Dt(S.json())),E=new ou;Object.assign(E,M),yield yield Dt(E)}}catch(T){_={error:T}}finally{try{!b&&!v&&(w=A.return)&&(yield Dt(w.call(A)))}finally{if(_)throw _.error}}})})}else{const d=qI(this.apiClient,e);l=He("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const f=this.apiClient;return o=f.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(h){return _s(this,arguments,function*(){var v,_,w,S;try{for(var b=!0,A=wu(h),O;O=yield Dt(A.next()),v=O.done,!v;b=!0){S=O.value,b=!1;const M=VI(f,yield Dt(S.json())),E=new ou;Object.assign(E,M),yield yield Dt(E)}}catch(T){_={error:T}}finally{try{!b&&!v&&(w=A.return)&&(yield Dt(w.call(A)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Mne(this.apiClient,e);return l=He("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=jre(this.apiClient,f),v=new bI;return Object.assign(v,h),v})}else{const d=zte(this.apiClient,e);return l=He("{model}:batchEmbedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=fre(this.apiClient,f),v=new bI;return Object.assign(v,h),v})}}async generateImagesInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Nne(this.apiClient,e);return l=He("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Lre(this.apiClient,f),v=new wI;return Object.assign(v,h),v})}else{const d=Hte(this.apiClient,e);return l=He("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=mre(this.apiClient,f),v=new wI;return Object.assign(v,h),v})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Fne(this.apiClient,e);return a=He("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Bre(this.apiClient,c),f=new zX;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Une(this.apiClient,e);return a=He("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Fre(this.apiClient,c),f=new GX;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Vne(this.apiClient,e);return l=He("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>ob(this.apiClient,f))}else{const d=Wte(this.apiClient,e);return l=He("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>ab(this.apiClient,f))}}async listInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Gne(this.apiClient,e);return l=He("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=zre(this.apiClient,f),v=new SI;return Object.assign(v,h),v})}else{const d=Yte(this.apiClient,e);return l=He("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=vre(this.apiClient,f),v=new SI;return Object.assign(v,h),v})}}async update(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Wne(this.apiClient,e);return l=He("{model}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>ob(this.apiClient,f))}else{const d=Xte(this.apiClient,e);return l=He("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>ab(this.apiClient,f))}}async delete(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Kne(this.apiClient,e);return l=He("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(()=>{const f=Gre(),h=new CI;return Object.assign(h,f),h})}else{const d=Zte(this.apiClient,e);return l=He("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(()=>{const f=yre(),h=new CI;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Jne(this.apiClient,e);return l=He("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Hre(this.apiClient,f),v=new TI;return Object.assign(v,h),v})}else{const d=ene(this.apiClient,e);return l=He("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=xre(this.apiClient,f),v=new TI;return Object.assign(v,h),v})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Xne(this.apiClient,e);return a=He("{model}:computeTokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Wre(this.apiClient,c),f=new HX;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=ere(this.apiClient,e);return l=He("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>Xre(this.apiClient,f))}else{const d=rne(this.apiClient,e);return l=He("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>Sre(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sie(t,e){const n={},r=m(e,["operationName"]);r!=null&&g(n,["_url","operationName"],r);const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function Cie(t,e){const n={},r=m(e,["operationName"]);r!=null&&g(n,["_url","operationName"],r);const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function Tie(t,e){const n={},r=m(e,["operationName"]);r!=null&&g(n,["operationName"],r);const i=m(e,["resourceName"]);i!=null&&g(n,["_url","resourceName"],i);const a=m(e,["config"]);return a!=null&&g(n,["config"],a),n}function kie(t,e){const n={},r=m(e,["video","uri"]);r!=null&&g(n,["uri"],r);const i=m(e,["video","encodedVideo"]);i!=null&&g(n,["videoBytes"],Mi(t,i));const a=m(e,["encoding"]);return a!=null&&g(n,["mimeType"],a),n}function Eie(t,e){const n={},r=m(e,["_self"]);return r!=null&&g(n,["video"],kie(t,r)),n}function Aie(t,e){const n={},r=m(e,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Eie(t,l))),g(n,["generatedVideos"],o)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&g(n,["raiMediaFilteredReasons"],a),n}function Pie(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);o!=null&&g(n,["error"],o);const l=m(e,["response","generateVideoResponse"]);return l!=null&&g(n,["response"],Aie(t,l)),n}function Oie(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&g(n,["uri"],r);const i=m(e,["bytesBase64Encoded"]);i!=null&&g(n,["videoBytes"],Mi(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Mie(t,e){const n={},r=m(e,["_self"]);return r!=null&&g(n,["video"],Oie(t,r)),n}function Iie(t,e){const n={},r=m(e,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Mie(t,l))),g(n,["generatedVideos"],o)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&g(n,["raiMediaFilteredReasons"],a),n}function JI(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);o!=null&&g(n,["error"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],Iie(t,l)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nie extends sl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;return r&&"httpOptions"in r&&(a=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Cie(this.apiClient,e);return l=He("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>JI(this.apiClient,f))}else{const d=Sie(this.apiClient,e);return l=He("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>Pie(this.apiClient,f))}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Tie(this.apiClient,e);return a=He("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>JI(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Die(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function yj(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],Die(t,r)),n}function Rie(t,e){const n={},r=m(e,["speaker"]);r!=null&&g(n,["speaker"],r);const i=m(e,["voiceConfig"]);return i!=null&&g(n,["voiceConfig"],yj(t,i)),n}function jie(t,e){const n={},r=m(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Rie(t,a))),g(n,["speakerVoiceConfigs"],i)}return n}function $ie(t,e){const n={},r=m(e,["voiceConfig"]);r!=null&&g(n,["voiceConfig"],yj(t,r));const i=m(e,["multiSpeakerVoiceConfig"]);i!=null&&g(n,["multiSpeakerVoiceConfig"],jie(t,i));const a=m(e,["languageCode"]);return a!=null&&g(n,["languageCode"],a),n}function Lie(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function Bie(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function Fie(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function qie(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],Lie(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],Bie(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],Fie(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function Uie(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>qie(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function Vie(t,e){const n={},r=m(e,["behavior"]);r!=null&&g(n,["behavior"],r);const i=m(e,["description"]);i!=null&&g(n,["description"],i);const a=m(e,["name"]);a!=null&&g(n,["name"],a);const o=m(e,["parameters"]);o!=null&&g(n,["parameters"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],l),n}function zie(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function Gie(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],zie(t,r)),n}function Hie(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function Wie(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],Hie(t,r)),n}function Kie(){return{}}function Yie(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Vie(t,d))),g(n,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(e,["googleSearch"]);i!=null&&g(n,["googleSearch"],Gie(t,i));const a=m(e,["googleSearchRetrieval"]);if(a!=null&&g(n,["googleSearchRetrieval"],Wie(t,a)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(n,["urlContext"],Kie());const l=m(e,["codeExecution"]);return l!=null&&g(n,["codeExecution"],l),n}function Jie(t,e){const n={},r=m(e,["handle"]);if(r!=null&&g(n,["handle"],r),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function XI(){return{}}function Xie(t,e){const n={},r=m(e,["disabled"]);r!=null&&g(n,["disabled"],r);const i=m(e,["startOfSpeechSensitivity"]);i!=null&&g(n,["startOfSpeechSensitivity"],i);const a=m(e,["endOfSpeechSensitivity"]);a!=null&&g(n,["endOfSpeechSensitivity"],a);const o=m(e,["prefixPaddingMs"]);o!=null&&g(n,["prefixPaddingMs"],o);const l=m(e,["silenceDurationMs"]);return l!=null&&g(n,["silenceDurationMs"],l),n}function Zie(t,e){const n={},r=m(e,["automaticActivityDetection"]);r!=null&&g(n,["automaticActivityDetection"],Xie(t,r));const i=m(e,["activityHandling"]);i!=null&&g(n,["activityHandling"],i);const a=m(e,["turnCoverage"]);return a!=null&&g(n,["turnCoverage"],a),n}function Qie(t,e){const n={},r=m(e,["targetTokens"]);return r!=null&&g(n,["targetTokens"],r),n}function eae(t,e){const n={},r=m(e,["triggerTokens"]);r!=null&&g(n,["triggerTokens"],r);const i=m(e,["slidingWindow"]);return i!=null&&g(n,["slidingWindow"],Qie(t,i)),n}function tae(t,e){const n={},r=m(e,["proactiveAudio"]);return r!=null&&g(n,["proactiveAudio"],r),n}function nae(t,e,n){const r={},i=m(e,["generationConfig"]);n!==void 0&&i!=null&&g(n,["setup","generationConfig"],i);const a=m(e,["responseModalities"]);n!==void 0&&a!=null&&g(n,["setup","generationConfig","responseModalities"],a);const o=m(e,["temperature"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig","temperature"],o);const l=m(e,["topP"]);n!==void 0&&l!=null&&g(n,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);n!==void 0&&c!=null&&g(n,["setup","generationConfig","topK"],c);const d=m(e,["maxOutputTokens"]);n!==void 0&&d!=null&&g(n,["setup","generationConfig","maxOutputTokens"],d);const f=m(e,["mediaResolution"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","mediaResolution"],f);const h=m(e,["seed"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","seed"],h);const v=m(e,["speechConfig"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","speechConfig"],$ie(t,Cw(t,v)));const _=m(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&g(n,["setup","generationConfig","enableAffectiveDialog"],_);const w=m(e,["systemInstruction"]);n!==void 0&&w!=null&&g(n,["setup","systemInstruction"],Uie(t,Nn(t,w)));const S=m(e,["tools"]);if(n!==void 0&&S!=null){let P=yc(t,S);Array.isArray(P)&&(P=P.map(I=>Yie(t,vc(t,I)))),g(n,["setup","tools"],P)}const b=m(e,["sessionResumption"]);n!==void 0&&b!=null&&g(n,["setup","sessionResumption"],Jie(t,b));const A=m(e,["inputAudioTranscription"]);n!==void 0&&A!=null&&g(n,["setup","inputAudioTranscription"],XI());const O=m(e,["outputAudioTranscription"]);n!==void 0&&O!=null&&g(n,["setup","outputAudioTranscription"],XI());const T=m(e,["realtimeInputConfig"]);n!==void 0&&T!=null&&g(n,["setup","realtimeInputConfig"],Zie(t,T));const M=m(e,["contextWindowCompression"]);n!==void 0&&M!=null&&g(n,["setup","contextWindowCompression"],eae(t,M));const E=m(e,["proactivity"]);return n!==void 0&&E!=null&&g(n,["setup","proactivity"],tae(t,E)),r}function rae(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],Mt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],nae(t,i,n)),n}function iae(t,e,n){const r={},i=m(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const a=m(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const o=m(e,["uses"]);n!==void 0&&o!=null&&g(n,["uses"],o);const l=m(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&g(n,["bidiGenerateContentSetup"],rae(t,l));const c=m(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&g(n,["fieldMask"],c),r}function aae(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],iae(t,r,n)),n}function oae(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["name"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sae(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function lae(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=sae(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>o.includes(d)?`generationConfig.${d}`:d));const c=[];a&&c.push(a),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class uae extends sl{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=aae(this.apiClient,e);a=He("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const c=lae(l,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>oae(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cae(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],r);const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function dae(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=m(e,["filter"]);return n!==void 0&&o!=null&&g(n,["_query","filter"],o),r}function fae(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],dae(t,r,n)),n}function hae(t,e){const n={},r=m(e,["textInput"]);r!=null&&g(n,["textInput"],r);const i=m(e,["output"]);return i!=null&&g(n,["output"],i),n}function pae(t,e){const n={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>hae(t,a))),g(n,["examples","examples"],i)}return n}function mae(t,e,n){const r={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=m(e,["tunedModelDisplayName"]);if(n!==void 0&&i!=null&&g(n,["displayName"],i),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=m(e,["epochCount"]);n!==void 0&&a!=null&&g(n,["tuningTask","hyperparameters","epochCount"],a);const o=m(e,["learningRateMultiplier"]);if(o!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),m(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=m(e,["batchSize"]);n!==void 0&&l!=null&&g(n,["tuningTask","hyperparameters","batchSize"],l);const c=m(e,["learningRate"]);return n!==void 0&&c!=null&&g(n,["tuningTask","hyperparameters","learningRate"],c),r}function gae(t,e){const n={},r=m(e,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(e,["trainingDataset"]);i!=null&&g(n,["tuningTask","trainingData"],pae(t,i));const a=m(e,["config"]);return a!=null&&g(n,["config"],mae(t,a,n)),n}function vae(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],r);const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function yae(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=m(e,["filter"]);return n!==void 0&&o!=null&&g(n,["_query","filter"],o),r}function xae(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],yae(t,r,n)),n}function _ae(t,e,n){const r={},i=m(e,["gcsUri"]);if(n!==void 0&&i!=null&&g(n,["supervisedTuningSpec","trainingDatasetUri"],i),m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function bae(t,e){const n={},r=m(e,["gcsUri"]);return r!=null&&g(n,["validationDatasetUri"],r),n}function wae(t,e,n){const r={},i=m(e,["validationDataset"]);n!==void 0&&i!=null&&g(n,["supervisedTuningSpec"],bae(t,i));const a=m(e,["tunedModelDisplayName"]);n!==void 0&&a!=null&&g(n,["tunedModelDisplayName"],a);const o=m(e,["description"]);n!==void 0&&o!=null&&g(n,["description"],o);const l=m(e,["epochCount"]);n!==void 0&&l!=null&&g(n,["supervisedTuningSpec","hyperParameters","epochCount"],l);const c=m(e,["learningRateMultiplier"]);n!==void 0&&c!=null&&g(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const d=m(e,["exportLastCheckpointOnly"]);n!==void 0&&d!=null&&g(n,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const f=m(e,["adapterSize"]);if(n!==void 0&&f!=null&&g(n,["supervisedTuningSpec","hyperParameters","adapterSize"],f),m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function Sae(t,e){const n={},r=m(e,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(e,["trainingDataset"]);i!=null&&g(n,["supervisedTuningSpec","trainingDatasetUri"],_ae(t,i,n));const a=m(e,["config"]);return a!=null&&g(n,["config"],wae(t,a,n)),n}function Cae(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["model"],r);const i=m(e,["name"]);return i!=null&&g(n,["endpoint"],i),n}function xj(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["state"]);i!=null&&g(n,["state"],tj(t,i));const a=m(e,["createTime"]);a!=null&&g(n,["createTime"],a);const o=m(e,["tuningTask","startTime"]);o!=null&&g(n,["startTime"],o);const l=m(e,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const c=m(e,["updateTime"]);c!=null&&g(n,["updateTime"],c);const d=m(e,["description"]);d!=null&&g(n,["description"],d);const f=m(e,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=m(e,["_self"]);h!=null&&g(n,["tunedModel"],Cae(t,h));const v=m(e,["distillationSpec"]);v!=null&&g(n,["distillationSpec"],v);const _=m(e,["experiment"]);_!=null&&g(n,["experiment"],_);const w=m(e,["labels"]);w!=null&&g(n,["labels"],w);const S=m(e,["pipelineJob"]);S!=null&&g(n,["pipelineJob"],S);const b=m(e,["serviceAccount"]);b!=null&&g(n,["serviceAccount"],b);const A=m(e,["tunedModelDisplayName"]);return A!=null&&g(n,["tunedModelDisplayName"],A),n}function Tae(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>xj(t,o))),g(n,["tuningJobs"],a)}return n}function kae(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);return o!=null&&g(n,["error"],o),n}function Eae(t,e){const n={},r=m(e,["checkpointId"]);r!=null&&g(n,["checkpointId"],r);const i=m(e,["epoch"]);i!=null&&g(n,["epoch"],i);const a=m(e,["step"]);a!=null&&g(n,["step"],a);const o=m(e,["endpoint"]);return o!=null&&g(n,["endpoint"],o),n}function Aae(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],r);const i=m(e,["endpoint"]);i!=null&&g(n,["endpoint"],i);const a=m(e,["checkpoints"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>Eae(t,l))),g(n,["checkpoints"],o)}return n}function ub(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["state"]);i!=null&&g(n,["state"],tj(t,i));const a=m(e,["createTime"]);a!=null&&g(n,["createTime"],a);const o=m(e,["startTime"]);o!=null&&g(n,["startTime"],o);const l=m(e,["endTime"]);l!=null&&g(n,["endTime"],l);const c=m(e,["updateTime"]);c!=null&&g(n,["updateTime"],c);const d=m(e,["error"]);d!=null&&g(n,["error"],d);const f=m(e,["description"]);f!=null&&g(n,["description"],f);const h=m(e,["baseModel"]);h!=null&&g(n,["baseModel"],h);const v=m(e,["tunedModel"]);v!=null&&g(n,["tunedModel"],Aae(t,v));const _=m(e,["supervisedTuningSpec"]);_!=null&&g(n,["supervisedTuningSpec"],_);const w=m(e,["tuningDataStats"]);w!=null&&g(n,["tuningDataStats"],w);const S=m(e,["encryptionSpec"]);S!=null&&g(n,["encryptionSpec"],S);const b=m(e,["partnerModelTuningSpec"]);b!=null&&g(n,["partnerModelTuningSpec"],b);const A=m(e,["distillationSpec"]);A!=null&&g(n,["distillationSpec"],A);const O=m(e,["experiment"]);O!=null&&g(n,["experiment"],O);const T=m(e,["labels"]);T!=null&&g(n,["labels"],T);const M=m(e,["pipelineJob"]);M!=null&&g(n,["pipelineJob"],M);const E=m(e,["serviceAccount"]);E!=null&&g(n,["serviceAccount"],E);const P=m(e,["tunedModelDisplayName"]);return P!=null&&g(n,["tunedModelDisplayName"],P),n}function Pae(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>ub(t,o))),g(n,["tuningJobs"],a)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oae extends sl{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new cp(Xs.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:eb.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=vae(this.apiClient,e);return l=He("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>ub(this.apiClient,f))}else{const d=cae(this.apiClient,e);return l=He("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>xj(this.apiClient,f))}}async listInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=xae(this.apiClient,e);return l=He("tuningJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Pae(this.apiClient,f),v=new kI;return Object.assign(v,h),v})}else{const d=fae(this.apiClient,e);return l=He("tunedModels",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Tae(this.apiClient,f),v=new kI;return Object.assign(v,h),v})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Sae(this.apiClient,e);return a=He("tuningJobs",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>ub(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=gae(this.apiClient,e);return a=He("tunedModels",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>kae(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mae{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Iae=1024*1024*8,Nae=3,Dae=1e3,Rae=2,hx="x-goog-upload-status";async function jae(t,e,n){var r,i,a;let o=0,l=0,c=new tb(new Response),d="upload";for(o=t.size;l<o;){const h=Math.min(Iae,o-l),v=t.slice(l,l+h);l+h>=o&&(d+=", finalize");let _=0,w=Dae;for(;_<Nae&&(c=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(h)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[hx]));)_++,await Lae(w),w=w*Rae;if(l+=h,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[hx])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(c==null?void 0:c.json());if(((a=c==null?void 0:c.headers)===null||a===void 0?void 0:a[hx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function $ae(t){return{size:t.size,type:t.type}}function Lae(t){return new Promise(e=>setTimeout(e,t))}class Bae{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jae(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $ae(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fae{create(e,n,r){return new qae(e,n,r)}}class qae{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZI="x-goog-api-key";class Uae{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ZI)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ZI,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vae="gl-node/";class zae{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=VX(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Uae(this.apiKey);this.apiClient=new aie({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Vae+"web",uploader:new Bae,downloader:new Mae}),this.models=new wie(this.apiClient),this.live=new vie(this.apiClient,i,new Fae),this.chats=new gQ(this.models,this.apiClient),this.caches=new hQ(this.apiClient),this.files=new PQ(this.apiClient),this.operations=new Nie(this.apiClient),this.authTokens=new uae(this.apiClient),this.tunings=new Oae(this.apiClient)}}const Gae="AIzaSyCfl6CKDNyhWMrsIl15kp_IVT2rr_38B1E";let jn=null;try{jn=new zae({apiKey:Gae})}catch(t){console.error("Failed to initialize GoogleGenAI:",t),jn=null}const ga=()=>!!jn,Hae=t=>`Você é um assistente financeiro amigável e prestativo para um aplicativo de finanças pessoais.
Data Atual: ${t.currentDate}.
Renda Mensal Informada: ${t.monthlyIncome?`${ve(t.monthlyIncome)} BRL`:"Não informada"}.

Resumo Financeiro do Usuário:
Contas:
${t.accounts.map(n=>{const r=t.accountBalances.find(i=>i.accountId===n.id);return`- ${n.name}: Saldo ${r?ve(r.balance):"N/A"}`}).join(`
`)}

Caixinhas de Dinheiro (Metas):
${t.moneyBoxes&&t.moneyBoxes.length>0?t.moneyBoxes.map(n=>{var i;const r=(i=t.moneyBoxBalances)==null?void 0:i.find(a=>a.moneyBoxId===n.id);return`- ${n.name}: ${ve(r?r.balance:0)} ${n.goal_amount?`(Meta: ${ve(n.goal_amount)})`:""}`}).join(`
`):"Nenhuma caixinha configurada."}

Orçamentos (Despesas):
${t.categories.filter(n=>n.type==="EXPENSE"&&n.monthly_budget).map(n=>`- ${n.name}: Orçamento ${ve(n.monthly_budget||0)}`).join(`
`)||"Nenhum orçamento de despesa configurado."}

Compras Futuras Planejadas:
${t.futurePurchases&&t.futurePurchases.length>0?t.futurePurchases.map(n=>`- ${n.name} (Custo: ${ve(n.estimated_cost)}, Prioridade: ${n.priority}, Status: ${n.status})`).join(`
`):"Nenhuma compra futura planejada."}


Com base neste resumo, forneça uma dica financeira principal, observação ou sugestão para o usuário hoje.
Seja conciso (1-2 frases), prático e encorajador. Não faça perguntas. Não use markdown.
Exemplos de tom: "Lembre-se de verificar seus gastos com Lazer este mês!" ou "Você está indo bem em sua meta de Viagem!".
Dica:`,Wae=(t,e,n,r)=>{var c;const i=e.accountBalances.find(d=>d.accountId===t.account_id),a=i?ve(i.balance):"N/A";let o=`Você é um assistente financeiro. O usuário acabou de registrar uma ${t.type==="INCOME"?"receita":t.type==="EXPENSE"?"despesa":"transferência"}.
Detalhes: Valor ${ve(t.amount)} ${t.description?`descrita como "${t.description}"`:""} na conta "${r||"N/A"}".
${n?`Categoria: "${n}".`:""}
Saldo atual da conta "${r||"N/A"}": ${a}.
`;if(t.type==="EXPENSE"&&n){const d=e.categories.find(f=>f.name===n&&f.type==="EXPENSE");d!=null&&d.monthly_budget&&(o+=`Orçamento para "${n}": ${ve(d.monthly_budget)}. `)}const l=e.moneyBoxes&&e.moneyBoxes.find(d=>t.description&&d.name.toLowerCase().includes(t.description.toLowerCase().substring(0,5))||n&&d.name.toLowerCase().includes(n.toLowerCase().substring(0,5)));if(l){const d=(c=e.moneyBoxBalances)==null?void 0:c.find(f=>f.moneyBoxId===l.id);o+=`Lembre-se da sua caixinha "${l.name}" (Saldo: ${ve(d?d.balance:0)}${l.goal_amount?`, Meta: ${ve(l.goal_amount)}`:""}). `}return o+=`Forneça um breve comentário ou sugestão (máx 1 frase). Não use markdown. Não faça perguntas.
Exemplo: "Ótimo! Continue assim." ou "Fique de olho nos gastos com Comida." ou "Considere guardar uma parte na sua caixinha Viagem."
Comentário:`,o},Kae=(t,e,n,r)=>{var a;return`Você é um assistente financeiro. O usuário tem uma renda mensal de ${ve(e)}.
Ele está pedindo uma sugestão de orçamento para a categoria de despesa: "${t}".

Orçamentos de despesa já definidos pelo usuário:
${n.length>0?n.map(o=>`- ${o.name}: ${ve(o.budget||0)}`).join(`
`):"Nenhum outro orçamento definido."}

Contexto financeiro adicional:
Saldo total em contas: ${ve(r.accountBalances.reduce((o,l)=>o+l.balance,0))}
Total em caixinhas (metas): ${ve(((a=r.moneyBoxBalances)==null?void 0:a.reduce((o,l)=>o+l.balance,0))||0)}

Baseado na renda mensal, nos orçamentos existentes e nos princípios de finanças pessoais (como a regra 50/30/20, mas de forma flexível e adaptada à realidade brasileira), sugira um valor de orçamento mensal para a categoria "${t}".
Responda APENAS com um objeto JSON contendo a chave "suggestedBudget" e o valor numérico sugerido. Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"suggestedBudget": 350}
Sugestão:`},Yae=(t,e)=>{var a,o;const n=e.accountBalances.reduce((l,c)=>l+c.balance,0),r=((a=e.moneyBoxBalances)==null?void 0:a.reduce((l,c)=>l+c.balance,0))||0;return`Você é um assistente financeiro. O usuário deseja comprar "${t.name}", que custa aproximadamente ${ve(t.estimated_cost)}. A prioridade é ${t.priority}.
Data Atual: ${e.currentDate}.
Renda Mensal: ${e.monthlyIncome?ve(e.monthlyIncome):"Não informada"}.
Saldo Total em Contas: ${ve(n)}.
Total Guardado em Caixinhas/Metas: ${ve(r)}.

Orçamentos de Despesa Mensais:
${e.categories.filter(l=>l.type===de.EXPENSE&&l.monthly_budget).map(l=>`- ${l.name}: ${ve(l.monthly_budget||0)}`).join(`
`)||"Nenhum."}

Outras Compras Futuras Planejadas:
${((o=e.futurePurchases)==null?void 0:o.filter(l=>l.id!==t.id).map(l=>`- ${l.name} (Custo: ${ve(l.estimated_cost)}, Prioridade: ${l.priority})`).join(`
`))||"Nenhuma outra."}

Analise a viabilidade desta compra ("${t.name}").
Considere se o usuário tem fundos suficientes, se a compra impactaria significativamente seus orçamentos ou outras metas.
Se a renda não for informada, baseie-se nos saldos e economias.
Forneça uma análise concisa (2-3 frases) e sugira um status. Status possíveis: ACHIEVABLE_SOON (se viável em breve ou agora), NOT_RECOMMENDED_NOW (se deve adiar), PLANNED (manter como planejado se a análise não for conclusiva ou se depender de mais economia).

Responda APENAS com um objeto JSON contendo as chaves "analysisText" (string com sua análise) e "recommendedStatus" (string com um dos status: 'ACHIEVABLE_SOON', 'NOT_RECOMMENDED_NOW', 'PLANNED').
Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"analysisText": "Comprar ${t.name} parece razoável agora, considerando seus saldos. Lembre-se de ajustar seu orçamento de Lazer.", "recommendedStatus": "ACHIEVABLE_SOON"}
Análise:`},Jae=(t,e)=>`Você é um especialista em finanças e cartões de crédito.
O usuário quer saber o melhor dia para fazer uma compra com o cartão de crédito para maximizar o período sem juros e ter o maior prazo para pagar.

Dados do Cartão de Crédito:
- Dia de Fechamento da Fatura: ${t.closing_day} (Ex: 20, significa dia 20 de cada mês)
- Dia de Vencimento da Fatura: ${t.due_day} (Ex: 05, significa dia 05 de cada mês, geralmente no mês seguinte ao fechamento)

Data Atual: ${e} (Formato: YYYY-MM-DD)

Instruções:
1.  Identifique o próximo ciclo de fatura. O melhor dia para comprar é geralmente o dia imediatamente após o fechamento da fatura atual (se a data atual for ANTES ou NO DIA do fechamento do mês corrente) ou o dia após o fechamento da fatura do próximo mês (se a data atual for APÓS o fechamento do mês corrente).
2.  Determine a data exata (DD de MMMM de YYYY) para este "melhor dia para comprar".
3.  Determine a data exata (DD de MMMM de YYYY) em que o pagamento da fatura (contendo essa compra) seria devido.
4.  Forneça uma explicação clara e concisa (1-2 frases) do porquê esta data é vantajosa, mencionando o prazo estendido.

Responda APENAS com um objeto JSON com as seguintes chaves:
- "bestPurchaseDay": "string" (Data formatada como "DD de MMMM de YYYY", ex: "21 de Julho de 2024")
- "paymentDueDate": "string" (Data formatada como "DD de MMMM de YYYY", ex: "05 de Setembro de 2024")
- "explanation": "string" (Explicação concisa)
- "error": "string" (Opcional: preencha apenas se não puder calcular ou se os dados forem inválidos/inconsistentes)

Exemplo de Cálculo (Data Atual: 2024-07-18, Fechamento: dia 20, Vencimento: dia 05):
- A fatura atual fecha em 20 de Julho de 2024.
- O melhor dia para comprar é 21 de Julho de 2024.
- Essa compra entraria na fatura que fecha em 20 de Agosto de 2024.
- O pagamento dessa fatura seria em 05 de Setembro de 2024.

Exemplo de Cálculo (Data Atual: 2024-07-25, Fechamento: dia 20, Vencimento: dia 05):
- A fatura de Julho já fechou (em 20 de Julho).
- O próximo fechamento é 20 de Agosto.
- O melhor dia para comprar é 21 de Agosto de 2024.
- Essa compra entraria na fatura que fecha em 20 de Setembro de 2024.
- O pagamento dessa fatura seria em 05 de Outubro de 2024.`,Xae=(t,e,n,r,i)=>`Você é um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Mês: ${ve(e)}
${r?`Orçamento Mensal para esta Categoria: ${ve(r)}.`:"Orçamento não definido para esta categoria."}
${r&&i?`Hoje é dia ${i.dayOfMonth} de ${i.daysInMonth} do mês. Proporcionalmente, o gasto esperado até agora seria em torno de ${ve(n)}.`:""}

Com base no gasto atual, ele está significativamente acima do esperado para esta altura do mês ou do orçamento proporcional?
Se sim, forneça um alerta CURTO e DIRETO (1-2 frases). Ex: "Atenção: Seus gastos com ${t} (${ve(e)}) já ultrapassaram o esperado para esta data (${ve(n)})." ou "Gastos com ${t} estão X% acima do esperado para hoje."
Se não houver anomalia clara, ou se o gasto estiver dentro do esperado/orçamento, responda APENAS com a palavra "NORMAL".
Não faça perguntas. Não use markdown.
Alerta:`,Zae=(t,e,n,r,i,a)=>`Você é um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Mês: ${ve(e)}
Orçamento Mensal para esta Categoria: ${ve(n)}
${a?`Hoje é dia ${a.dayOfMonth} de ${a.daysInMonth} do mês. Faltam ${r} dias.`:""}
Projeção de Gasto Total no Mês (mantendo o ritmo atual): ${ve(i)}

Com base no ritmo atual de gastos, há uma projeção de que o orçamento para "${t}" será estourado este mês?
Se sim, forneça um alerta CURTO e DIRETO (1-2 frases), mencionando o possível valor do estouro. Ex: "Alerta: Mantendo este ritmo, seus gastos com ${t} podem exceder o orçamento em cerca de ${ve(i-n)} este mês."
Se não houver projeção clara de estouro, ou se a projeção estiver dentro do orçamento, responda APENAS com a palavra "NORMAL".
Não faça perguntas. Não use markdown.
Alerta:`,Qae=(t,e,n)=>{const r=new Date(n.currentDate);r.setDate(r.getDate()-90);const i=t.filter(a=>a.date>=yt(r)&&a.type===de.EXPENSE);return`Você é um assistente financeiro que ajuda a identificar despesas recorrentes não cadastradas.
  Analise o histórico de despesas do usuário dos últimos 90 dias (data atual: ${n.currentDate}).
  Procure por pagamentos que se repetem com valores e descrições similares em intervalos regulares (ex: mensais, semanais).
  
  Despesas Recorrentes já cadastradas (NÃO SUGIRA ESTAS):
  ${e.length>0?e.map(a=>`- "${a.description}" (${ve(a.amount)}, ${a.frequency})`).join(`
`):"Nenhuma."}

  Histórico de Transações de Despesa (Últimos 90 dias):
  ${i.map(a=>{var o;return`- Data: ${a.date}, Descrição: "${a.description||((o=n.categories.find(l=>l.id===a.category_id))==null?void 0:o.name)||"Despesa"}", Valor: ${ve(a.amount)}`}).slice(0,30).join(`
`)} 
  ${i.length>30?`
... (e mais ${i.length-30} transações)`:""}

  Se encontrar UMA despesa que parece ser recorrente mas NÃO ESTÁ na lista de já cadastradas, sugira registrá-la.
  Seja específico: "Notei pagamentos para '{Nome do Serviço/Descrição}' de aproximadamente {Valor} em datas como {Data1}, {Data2}. Gostaria de cadastrar como despesa recorrente?"
  Se encontrar múltiplas, sugira a mais óbvia ou mais frequente.
  Se não encontrar nenhuma candidata clara, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas diretas no final, apenas a sugestão como no exemplo.
  Sugestão:`},eoe=(t,e,n,r)=>{const i=new Date(r.currentDate);i.setMonth(i.getMonth()-1);const a=t.filter(d=>d.type===de.EXPENSE&&d.date>=yt(i));let o=`Você é um coach financeiro que ajuda usuários a encontrar oportunidades de economia.
  Renda Mensal: ${r.monthlyIncome?ve(r.monthlyIncome):"Não informada"}.
  Data Atual: ${r.currentDate}.

  Metas de Economia (Caixinhas):
  ${n.length>0?n.map(d=>`- ${d.name}${d.goal_amount?` (Meta: ${ve(d.goal_amount)})`:""}`).join(`
`):"Nenhuma meta de economia ativa."}

  Gastos do Último Mês (Top 5 categorias por frequência, excluindo essenciais como aluguel, contas fixas de casa):
  `;const l={};a.forEach(d=>{var f;if(d.category_id){const h=((f=e.find(v=>v.id===d.category_id))==null?void 0:f.name)||"Outros";if(["Moradia","Aluguel","Condomínio","Impostos","Luz","Água","Gás","Internet Fixa","Saúde","Educação"].includes(h))return;l[d.category_id]||(l[d.category_id]={total:0,count:0,name:h}),l[d.category_id].total+=d.amount,l[d.category_id].count++}});const c=Object.values(l).sort((d,f)=>f.count-d.count).slice(0,5);return o+=c.map(d=>`- ${d.name}: ${ve(d.total)} em ${d.count} transações`).join(`
`)||"Nenhum gasto relevante encontrado.",o+=`

Identifique UMA categoria onde o usuário parece ter gastos pequenos e frequentes que, somados, são significativos (ex: cafés diários, lanches, delivery, apps de transporte).
  Sugira uma pequena mudança de hábito que poderia gerar economia. Se houver metas (Caixinhas), tente vincular a economia a uma delas.
  Seja prático e positivo. Ex: "Seus gastos com 'Delivery' somaram ${ve(150)} no último mês. Que tal reduzir para uma vez por semana e direcionar ${ve(75)} para sua meta 'Viagem'?"
  Se não houver oportunidade clara ou dados suficientes, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas.
  Sugestão:`,o},toe=(t,e,n,r)=>{const i=n.filter(a=>a.id!==t.id).slice(0,10).map(a=>ve(a.amount));return`Você é um assistente financeiro que detecta transações de valor incomum.
  O usuário registrou uma despesa:
  - Descrição: "${t.description||e}"
  - Categoria: "${e}"
  - Valor: ${ve(t.amount)}
  - Data: ${t.date}

  Valores de despesas recentes nesta categoria ("${e}"): ${i.length>0?i.join(", "):"Nenhuma outra recente."}
  
  O valor desta transação (${ve(t.amount)}) é significativamente mais alto que o normal para esta categoria, baseado nas amostras?
  Se sim, forneça um alerta CURTO. Ex: "Alerta: O valor de ${ve(t.amount)} para ${e} parece mais alto que seus gastos usuais nesta categoria. Está correto?"
  Se o valor parecer normal ou não houver dados suficientes para comparar, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas no final, apenas o alerta como no exemplo.
  Alerta:`},noe=(t,e)=>{var d,f;const n=new Date(t.currentDate);n.setDate(n.getDate()+e);const r=yt(n),i=(d=t.recurringTransactions)==null?void 0:d.filter(h=>h.next_due_date<=r).sort((h,v)=>new Date(h.next_due_date).getTime()-new Date(v.next_due_date).getTime()).map(h=>`- ${h.type===de.INCOME?"Receita":"Despesa"}: ${h.description} (${ve(h.amount)}) em ${Dn(h.next_due_date)}`).join(`
`),a=new Date(t.currentDate);a.setMonth(a.getMonth()-1);const o=(f=t.transactions)==null?void 0:f.filter(h=>{var v;return h.type===de.EXPENSE&&h.date>=yt(a)&&!((v=t.recurringTransactions)!=null&&v.some(_=>{var w;return _.description.toLowerCase().includes(((w=h.description)==null?void 0:w.toLowerCase())||"xxxx")}))}).reduce((h,v)=>{var w;const _=((w=t.categories.find(S=>S.id===v.category_id))==null?void 0:w.name)||"Outras Despesas";return h[_]=(h[_]||0)+v.amount,h},{}),l=o?Object.entries(o).map(([h,v])=>`- ${h}: aprox. ${ve(v)}/mês`).join(`
`):"Nenhum padrão recente de gastos discricionários encontrado.";let c="";if(t.simulatedTransactionData){const h=t.simulatedTransactionData;c=`
Considere também a seguinte transação SIMULADA para esta projeção:
- Tipo: ${h.type===de.INCOME?"Receita":"Despesa"}
- Valor: ${ve(h.amount)}
- Data: ${Dn(h.date)}
- Descrição: ${h.description||(h.type===de.INCOME?"Receita Simulada":"Despesa Simulada")}
Esta simulação NÃO está salva, use-a apenas para esta projeção.`}return`Você é um assistente financeiro. Preveja o fluxo de caixa do usuário para os próximos ${e} dias.
Data Atual: ${t.currentDate}.
Projeção até: ${Dn(r)}.
Renda Mensal Informada: ${t.monthlyIncome?ve(t.monthlyIncome):"Não informada (use apenas recorrências e histórico)"}.
${c}

Saldos Atuais das Contas Principais:
${t.accounts.map(h=>{const v=t.accountBalances.find(_=>_.accountId===h.id);return`- ${h.name}: ${v?ve(v.balance):"N/A"}`}).join(`
`)}
Saldo Total Combinado: ${ve(t.accountBalances.reduce((h,v)=>h+v.balance,0))}

Transações Recorrentes Programadas (Receitas e Despesas) no Período:
${i||"Nenhuma transação recorrente programada no período."}

Padrão de Gastos Discricionários Recentes (último mês, não recorrentes):
${l}

Analise essas informações e forneça uma projeção textual do fluxo de caixa.
Destaque:
1.  Um resumo geral (ex: "Seu saldo deve permanecer positivo", "Prevê-se um aperto financeiro em meados de [Mês]").
2.  Principais entradas e saídas esperadas e suas datas.
3.  Qualquer data onde o saldo possa ficar perigosamente baixo ou negativo, se aplicável.
Se uma simulação foi fornecida, mencione brevemente o impacto dela.
Seja conciso (3-5 frases). Não use markdown. Responda apenas com a projeção. Se não puder projetar confiavelmente, diga "Não foi possível gerar uma projeção de fluxo de caixa detalhada com os dados atuais."
Projeção:`},ul=async(t,e,n)=>{var r;if(!jn||!ga())return console.warn(`Gemini API not available for ${e}.`),null;try{const a=(r=(await jn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:t})).text)==null?void 0:r.trim();return a&&a.toUpperCase()!=="NORMAL"?a:null}catch(i){return console.error(`Error fetching ${e} from Gemini:`,i),null}},roe=async t=>{var n;if(!jn||!ga())return console.warn("Gemini API not available for fetchGeneralAdvice."),{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada.",is_read:!1};const e=Hae(t);try{const i=(n=(await jn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:e})).text)==null?void 0:n.trim();return i?{id:ut(),timestamp:new Date().toISOString(),type:"general_advice",content:i,is_read:!1}:{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter um conselho geral no momento (resposta vazia).",is_read:!1}}catch(r){console.error("Error fetching general advice from Gemini:",r);let i="Desculpe, não consegui buscar um conselho geral no momento.";return r instanceof Error&&(i+=` Detalhe: ${r.message}`),{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:i,is_read:!1}}},ioe=async(t,e,n,r)=>{var a;if(!jn||!ga())return console.warn("Gemini API not available for fetchCommentForTransaction."),{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para comentar transação.",related_transaction_id:t.id,is_read:!1};const i=Wae(t,e,n,r);try{const l=(a=(await jn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:i})).text)==null?void 0:a.trim();return l?{id:ut(),timestamp:new Date().toISOString(),type:"transaction_comment",content:l,related_transaction_id:t.id,is_read:!1}:{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível gerar um comentário para esta transação (resposta vazia).",related_transaction_id:t.id,is_read:!1}}catch(o){console.error("Error fetching transaction comment from Gemini:",o);let l="Desculpe, não consegui gerar um comentário para esta transação.";return o instanceof Error&&(l+=` Detalhe: ${o.message}`),{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:l,related_transaction_id:t.id,is_read:!1}}},aoe=async(t,e,n,r)=>{var a;if(!jn||!ga())return console.warn("Gemini API not available for fetchBudgetSuggestion."),{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para sugerir orçamentos.",is_read:!1};if(!e||e<=0)return{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:"Por favor, informe sua renda mensal na tela do AI Coach para receber sugestões de orçamento.",is_read:!1};const i=Kae(t,e,n,r);try{let l=((a=(await jn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:i,config:{responseMimeType:"application/json"}})).text)==null?void 0:a.trim())||"";const c=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,d=l.match(c);d&&d[2]&&(l=d[2].trim());const f=JSON.parse(l);return f&&typeof f.suggestedBudget=="number"&&f.suggestedBudget>=0?{suggestedBudget:f.suggestedBudget}:{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma sugestão de orçamento válida no momento (resposta inválida da IA).",is_read:!1}}catch(o){console.error("Error fetching budget suggestion from Gemini:",o);let l="Desculpe, não consegui buscar uma sugestão de orçamento.";return o instanceof Error&&(l+=` Detalhe: ${o.message}`),{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:l,is_read:!1}}},ooe=async(t,e)=>{var r;if(!jn||!ga())return{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para analisar compra futura.",related_future_purchase_id:t.id,is_read:!1};const n=Yae(t,e);try{let a=((r=(await jn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const o=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,l=a.match(o);l&&l[2]&&(a=l[2].trim());const c=JSON.parse(a);return c&&typeof c.analysisText=="string"&&typeof c.recommendedStatus=="string"&&["ACHIEVABLE_SOON","NOT_RECOMMENDED_NOW","PLANNED"].includes(c.recommendedStatus)?{analysisText:c.analysisText,recommendedStatus:c.recommendedStatus}:{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma análise válida da IA para esta compra (resposta inválida).",related_future_purchase_id:t.id,is_read:!1}}catch(i){console.error("Error fetching future purchase analysis from Gemini:",i);let a="Desculpe, não consegui analisar esta compra futura no momento.";return i instanceof Error&&(a+=` Detalhe: ${i.message}`),{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:a,related_future_purchase_id:t.id,is_read:!1}}},soe=async(t,e)=>{var r;if(!jn||!ga())return console.warn("Gemini API not available for fetchBestPurchaseDayAdvice."),{bestPurchaseDay:"",paymentDueDate:"",explanation:"AI Coach desativado ou API Key não configurada.",error:"AI Coach desativado ou API Key não configurada."};const n=Jae(t,e);try{let a=((r=(await jn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const o=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,l=a.match(o);l&&l[2]&&(a=l[2].trim());const c=JSON.parse(a);return c.error?(console.warn("Gemini returned an error for best purchase day:",c.error),{...c,explanation:c.error}):c.bestPurchaseDay&&c.paymentDueDate&&c.explanation?c:{bestPurchaseDay:"",paymentDueDate:"",explanation:"Não foi possível determinar o melhor dia para compra (resposta inválida da IA).",error:"Resposta inválida da IA."}}catch(i){console.error("Error fetching best purchase day advice from Gemini:",i);let a="Desculpe, não consegui determinar o melhor dia para compra no momento.";return i instanceof Error&&(a+=` Detalhe: ${i.message}`),{bestPurchaseDay:"",paymentDueDate:"",explanation:a,error:a}}},loe=async(t,e,n,r,i,a)=>{const o=Xae(t,e,n,r,i),l=await ul(o,"spending_anomaly_category");return l?{id:ut(),timestamp:new Date().toISOString(),type:"spending_anomaly_category",content:l,related_category_id:a,is_read:!1}:null},uoe=async(t,e,n,r,i,a,o)=>{const l=Zae(t,e,n,r,i,a),c=await ul(l,"budget_overspend_projection");return c?{id:ut(),timestamp:new Date().toISOString(),type:"budget_overspend_projection",content:c,related_category_id:o,is_read:!1}:null},coe=async(t,e,n)=>{const r=Qae(t,e.map(a=>({description:a.description,amount:a.amount,type:a.type,frequency:a.frequency,category_id:a.category_id})),n),i=await ul(r,"recurring_payment_candidate");return i?{id:ut(),timestamp:new Date().toISOString(),type:"recurring_payment_candidate",content:i,is_read:!1}:null},doe=async(t,e,n,r)=>{const i=eoe(t,e.map(o=>({id:o.id,name:o.name,type:o.type})),n.map(o=>({id:o.id,name:o.name,goal_amount:o.goal_amount})),r),a=await ul(i,"saving_opportunity_suggestion");return a?{id:ut(),timestamp:new Date().toISOString(),type:"saving_opportunity_suggestion",content:a,is_read:!1}:null},foe=async(t,e,n,r)=>{const i=toe(t,e,n),a=await ul(i,"unusual_transaction_value",t.category_id);return a?{id:ut(),timestamp:new Date().toISOString(),type:"unusual_transaction_value",content:a,related_transaction_id:t.id,related_category_id:t.category_id,is_read:!1}:null},hoe=async(t,e)=>{const n=noe(t,e),r=await ul(n,"cash_flow_projection");return r?{id:ut(),timestamp:new Date().toISOString(),type:"cash_flow_projection",content:r,is_read:!1}:{id:ut(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível gerar uma projeção de fluxo de caixa com os dados atuais.",is_read:!1}},poe=(t,e,n)=>{const r=new Date(t+"T00:00:00");switch(e){case"daily":r.setDate(r.getDate()+1);break;case"weekly":r.setDate(r.getDate()+7);break;case"monthly":r.setMonth(r.getMonth()+1);break;case"yearly":r.setFullYear(r.getFullYear()+1);break;case"custom_days":r.setDate(r.getDate()+(n||1));break}return yt(r)},moe=({creditCards:t,installmentPurchases:e,aiConfig:n,onAddCreditCard:r,onUpdateCreditCard:i,onDeleteCreditCard:a,onAddInstallmentPurchase:o,onUpdateInstallmentPurchase:l,onDeleteInstallmentPurchase:c,onMarkInstallmentPaid:d,onPayMonthlyInstallments:f,isPrivacyModeEnabled:h})=>{const{addToast:v}=SN(),[_,w]=$.useState(!1),[S,b]=$.useState(null),[A,O]=$.useState(!1),[T,M]=$.useState(null),[E,P]=$.useState(null),[I,D]=$.useState(!1),[F,q]=$.useState(null),[L,W]=$.useState(!1),[J,H]=$.useState(null),B=()=>{b(null),w(!0)},Z=Q=>{b(Q),w(!0)},Y=Q=>{S?i({...Q,user_id:S.user_id,created_at:S.created_at,updated_at:new Date().toISOString()}):r(Q)},G=Q=>{P(Q),M(null),O(!0)},te=(Q,fe)=>{P(fe),M(Q),O(!0)},ae=Q=>{T?l({...Q,user_id:T.user_id,created_at:T.created_at,updated_at:new Date().toISOString()}):o(Q)},R=$.useCallback(async Q=>{if(!n.isEnabled||n.apiKeyStatus!=="available"){v("AI Coach desativado ou API Key indisponível.","warning");return}const fe=t.find(Ne=>Ne.id===Q);if(!fe)return;H(fe),W(!0),D(!0),q(null);const _e=await soe({name:fe.name,closing_day:fe.closing_day,due_day:fe.due_day},yt());q(_e),W(!1),_e!=null&&_e.error&&v(_e.explanation||"Erro ao buscar sugestão da IA.","error")},[n,t,v]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Cartões de Crédito"}),x.jsxs(ye,{onClick:B,variant:"primary",children:[x.jsx(cn,{className:"w-5 h-5 mr-2"}),"Novo Cartão"]})]}),t.length>0?x.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(Q=>x.jsx(iX,{card:Q,installmentPurchases:e.filter(fe=>fe.credit_card_id===Q.id),onEditCard:Z,onDeleteCard:a,onAddInstallmentPurchase:G,onEditInstallmentPurchase:te,onDeleteInstallmentPurchase:c,onMarkInstallmentPaid:d,onGetBestPurchaseDay:R,onPayMonthlyInstallments:f,isAIFeatureEnabled:n.isEnabled&&n.apiKeyStatus==="available",isPrivacyModeEnabled:h},Q.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhum cartão de crédito cadastrado."}),x.jsx(aX,{isOpen:_,onClose:()=>w(!1),onSave:Y,existingCard:S}),E&&x.jsx(oX,{isOpen:A,onClose:()=>O(!1),onSave:ae,creditCard:E,existingPurchase:T}),x.jsx(sX,{isOpen:I,onClose:()=>D(!1),advice:F,isLoading:L,cardName:J==null?void 0:J.name})]})},_j=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h13.5m-13.5 4.5h13.5m-13.5 4.5h13.5m3-13.5V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v3.75m13.5 0v3.75m-13.5-3.75v3.75m1.5-9V3.75c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125V5.25m-3 0h3m6 0v2.25m0 0v1.5m0 0v1.5m0 0V15m0 0v-1.5m0 0V9.75M7.5 5.25h9M7.5 12h9m-9 4.5h9M5.25 19.5h13.5a2.25 2.25 0 0 0 2.25-2.25V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v12a2.25 2.25 0 0 0 2.25 2.25Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h-3m3 0V12m0 0v-2.25"})]}),goe=({moneyBox:t,balance:e,onEdit:n,onDelete:r,onOpenTransactionModal:i,onOpenHistoryModal:a,isPrivacyModeEnabled:o,hasTransactions:l})=>{const c=t.goal_amount&&t.goal_amount>0?Math.min(e/t.goal_amount*100,100):0,d=t.color?{borderLeftColor:t.color,borderLeftWidth:"4px"}:{},f=t.color?{backgroundColor:t.color}:{backgroundColor:"var(--color-primary)"};return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",style:d,children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx(_j,{className:"w-6 h-6",style:{color:t.color||"currentColor"}}),x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),x.jsx("p",{className:"text-2xl font-bold",style:{color:t.color||"var(--color-primary)"},children:ve(e,"BRL","pt-BR",o)}),t.goal_amount&&t.goal_amount>0&&x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Meta: ",ve(t.goal_amount,"BRL","pt-BR",o)]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[x.jsxs("div",{className:"flex space-x-1",children:[x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Caixinha",className:"!p-1.5",children:x.jsx(Zr,{className:"w-4 h-4"})}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Caixinha",className:"!p-1.5",disabled:l,title:l?"Não pode excluir caixinhas com transações":"Excluir caixinha",children:x.jsx(Xr,{className:`w-4 h-4 ${l?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>a(t),"aria-label":"Ver Histórico",className:"text-xs !px-2 !py-1",children:"Histórico"})]})]}),t.goal_amount&&t.goal_amount>0&&x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:x.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${c}%`,...f}})}),x.jsxs("div",{className:"flex justify-start space-x-2 pt-1",children:[x.jsxs(ye,{size:"sm",variant:"secondary",onClick:()=>i(t,ir.DEPOSIT),className:"!bg-opacity-80 dark:!bg-opacity-80",style:t.color?{backgroundColor:t.color}:{},children:[x.jsx(cn,{className:"w-4 h-4 mr-1"})," Depositar"]}),x.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>i(t,ir.WITHDRAWAL),className:"border border-borderBase dark:border-borderBaseDark",children:"Sacar"})]})]})},sf=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],voe=({isOpen:t,onClose:e,onSave:n,existingMoneyBox:r})=>{const[i,a]=$.useState(""),[o,l]=$.useState(""),[c,d]=$.useState(sf[0]),[f,h]=$.useState({});$.useEffect(()=>{var w;r?(a(r.name),l(((w=r.goal_amount)==null?void 0:w.toString())||""),d(r.color||sf[0])):(a(""),l(""),d(sf[0])),h({})},[r,t]);const v=()=>{const w={};return i.trim()||(w.name="Nome da caixinha é obrigatório."),o&&(isNaN(parseFloat(o))||parseFloat(o)<0)&&(w.goalAmount="Meta deve ser um número positivo ou vazio."),h(w),Object.keys(w).length===0},_=()=>{if(!v())return;const w={id:(r==null?void 0:r.id)||ut(),name:i.trim(),goal_amount:o?parseFloat(o):void 0,icon:"piggy-bank",color:c};n(w),e()};return x.jsx(Yn,{isOpen:t,onClose:e,title:r?"Editar Caixinha":"Nova Caixinha",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(et,{label:"Nome da Caixinha",id:"moneyBoxName",value:i,onChange:w=>a(w.target.value),error:f.name,placeholder:"Ex: Reserva de Emergência, Viagem"}),x.jsx(et,{label:"Meta de Valor (Opcional)",id:"moneyBoxGoal",type:"number",step:"0.01",value:o,onChange:w=>l(w.target.value),error:f.goalAmount,placeholder:"Ex: 1000.00"}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"moneyBoxColor",className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor de Destaque"}),x.jsx("div",{className:"flex space-x-2",children:sf.map(w=>x.jsx("button",{type:"button",onClick:()=>d(w),className:`w-8 h-8 rounded-full border-2 ${c===w?"border-primary dark:border-primaryDark ring-2 ring-primary dark:ring-primaryDark ring-offset-2 dark:ring-offset-surfaceDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:w},"aria-label":`Selecionar cor ${w}`,"aria-pressed":c===w},w))})]}),f.form&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:f.form}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(ye,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(ye,{variant:"primary",onClick:_,children:"Salvar Caixinha"})]})]})})},yoe=({isOpen:t,onClose:e,onSave:n,moneyBox:r,accounts:i,transactionType:a})=>{const[o,l]=$.useState(""),[c,d]=$.useState(yt()),[f,h]=$.useState(""),[v,_]=$.useState(""),[w,S]=$.useState(!1),[b,A]=$.useState({});$.useEffect(()=>{t&&(l(""),d(yt()),h(""),_(i.length>0?i[0].id:""),S(!1),A({}))},[t,i]);const O=()=>{const P={};return(!o||parseFloat(o)<=0)&&(P.amount="Valor deve ser positivo."),c||(P.date="Data é obrigatória."),w&&!v&&(P.linkedAccountId="Conta para vínculo é obrigatória."),A(P),Object.keys(P).length===0},T=()=>{if(!O())return;const P={money_box_id:r.id,type:a,amount:parseFloat(o),date:c,description:f.trim()||void 0};n(P,w,v),e()},M=a===ir.DEPOSIT?"Depositar na Caixinha":"Sacar da Caixinha",E=a===ir.DEPOSIT?"Registrar como despesa na conta:":"Registrar como receita na conta:";return x.jsx(Yn,{isOpen:t,onClose:e,title:`${M}: ${r.name}`,children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(et,{label:"Valor",id:"mbAmount",type:"number",step:"0.01",value:o,onChange:P=>l(P.target.value),error:b.amount,required:!0}),x.jsx(et,{label:"Data",id:"mbDate",type:"date",value:c,onChange:P=>d(P.target.value),error:b.date,required:!0}),x.jsx(et,{label:"Descrição (Opcional)",id:"mbDescription",type:"text",value:f,onChange:P=>h(P.target.value)}),i.length>0&&x.jsxs("div",{className:"pt-2",children:[x.jsxs("label",{className:"flex items-center space-x-2",children:[x.jsx("input",{type:"checkbox",checked:w,onChange:P=>S(P.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark"}),x.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:a===ir.DEPOSIT?"Vincular a uma despesa de conta?":"Vincular a uma receita em conta?"})]}),w&&x.jsx(Pt,{containerClassName:"mt-2",label:E,id:"mbLinkedAccount",options:i.map(P=>({value:P.id,label:P.name})),value:v,onChange:P=>_(P.target.value),error:b.linkedAccountId,placeholder:"Selecione uma conta"})]}),b.form&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:b.form}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(ye,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(ye,{type:"button",variant:"primary",onClick:T,children:a===ir.DEPOSIT?"Depositar":"Sacar"})]})]})})},xoe=({isOpen:t,onClose:e,moneyBox:n,transactions:r,onDeleteTransaction:i,isPrivacyModeEnabled:a})=>{const o=r.filter(l=>l.money_box_id===n.id).sort((l,c)=>new Date(c.date).getTime()-new Date(l.date).getTime());return x.jsx(Yn,{isOpen:t,onClose:e,title:`Histórico: ${n.name}`,size:"lg",children:o.length===0?x.jsx("p",{className:"text-textMuted dark:text-textMutedDark text-center py-4",children:"Nenhuma transação nesta caixinha ainda."}):x.jsx("ul",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:o.map(l=>{const c=l.type===ir.DEPOSIT,d=c?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",f=c?"+":"-";return x.jsx("li",{className:"p-3 bg-surface/50 dark:bg-surfaceDark/50 rounded-md",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("p",{className:`font-semibold ${d}`,children:[f," ",ve(l.amount,"BRL","pt-BR",a)]}),x.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:Dn(l.date)}),l.description&&x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark italic",children:l.description}),l.linked_transaction_id&&x.jsx("p",{className:"text-xs text-neutral dark:text-neutralDark",children:"(Vinculado a uma transação principal)"})]}),x.jsx("button",{onClick:()=>{window.confirm(`Excluir esta transação da caixinha? ${l.linked_transaction_id?"\\nA transação principal vinculada NÃO será excluída automaticamente por esta ação.":""}`)&&i(l.id,l.linked_transaction_id)},className:"text-xs text-destructive dark:text-destructiveDark hover:underline","aria-label":"Excluir transação da caixinha",title:"Excluir transação da caixinha",children:"Excluir"})]})},l.id)})})})},_oe=({moneyBoxes:t,moneyBoxTransactions:e,accounts:n,onAddMoneyBox:r,onUpdateMoneyBox:i,onDeleteMoneyBox:a,onAddMoneyBoxTransaction:o,onDeleteMoneyBoxTransaction:l,calculateMoneyBoxBalance:c,isPrivacyModeEnabled:d})=>{const[f,h]=$.useState(!1),[v,_]=$.useState(null),[w,S]=$.useState(!1),[b,A]=$.useState(null),[O,T]=$.useState(ir.DEPOSIT),[M,E]=$.useState(!1),[P,I]=$.useState(null),D=()=>{_(null),h(!0)},F=H=>{_(H),h(!0)},q=(H,B)=>{A(H),T(B),S(!0)},L=H=>{I(H),E(!0)},W=H=>{a(H)},J=$.useMemo(()=>t.reduce((H,B)=>H+c(B.id),0),[t,c]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Minhas Caixinhas"}),t.length>0&&x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total guardado: ",x.jsx("span",{className:"font-semibold text-secondary dark:text-secondaryDark",children:ve(J,"BRL","pt-BR",d)})]})]}),x.jsxs(ye,{onClick:D,variant:"primary",children:[x.jsx(cn,{className:"w-5 h-5 mr-2"}),"Nova Caixinha"]})]}),t.length>0?x.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(H=>x.jsx(goe,{moneyBox:H,balance:c(H.id),onEdit:F,onDelete:W,onOpenTransactionModal:q,onOpenHistoryModal:L,isPrivacyModeEnabled:d,hasTransactions:e.some(B=>B.money_box_id===H.id)},H.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma caixinha criada. Crie uma para começar a guardar dinheiro!"}),x.jsx(voe,{isOpen:f,onClose:()=>h(!1),onSave:v?i:r,existingMoneyBox:v}),b&&x.jsx(yoe,{isOpen:w,onClose:()=>S(!1),onSave:o,moneyBox:b,accounts:n,transactionType:O}),P&&x.jsx(xoe,{isOpen:M,onClose:()=>E(!1),moneyBox:P,transactions:e,onDeleteTransaction:l,isPrivacyModeEnabled:d})]})},Aw=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})}),boe=t=>{switch(t){case"PLANNED":return{text:"Planejado",colorClasses:"bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300"};case"CONSIDERING":return{text:"Considerando",colorClasses:"bg-gray-100 text-gray-700 dark:bg-gray-700/30 dark:text-gray-300"};case"ACHIEVABLE_SOON":return{text:"Viável em Breve",colorClasses:"bg-green-100 text-green-700 dark:bg-green-700/30 dark:text-green-300"};case"NOT_RECOMMENDED_NOW":return{text:"Adiar Compra",colorClasses:"bg-red-100 text-red-700 dark:bg-red-700/30 dark:text-red-300"};case"AI_ANALYZING":return{text:"Analisando...",colorClasses:"bg-yellow-100 text-yellow-700 dark:bg-yellow-700/30 dark:text-yellow-300 animate-pulse"};default:return{text:"Desconhecido",colorClasses:"bg-gray-200 text-gray-800"}}},woe={low:"Baixa",medium:"Média",high:"Alta"},Soe=({purchase:t,onEdit:e,onDelete:n,onAnalyze:r,isPrivacyModeEnabled:i})=>{const{name:a,estimated_cost:o,priority:l,notes:c,status:d,created_at:f,ai_analysis:h,ai_analyzed_at:v}=t,_=boe(d);return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx(Aw,{className:"w-5 h-5 text-primary dark:text-primaryDark flex-shrink-0"}),x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:a})]}),x.jsx("p",{className:"text-xl font-bold text-primary dark:text-primaryDark",children:ve(o,"BRL","pt-BR",i)}),x.jsxs("div",{className:"flex items-center space-x-2 text-xs text-textMuted dark:text-textMutedDark mt-0.5",children:[x.jsxs("span",{children:["Prioridade: ",woe[l]]}),x.jsx("span",{children:"•"}),x.jsxs("span",{children:["Criado em: ",Dn(f)]})]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[x.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${_.colorClasses}`,children:_.text}),x.jsxs("div",{className:"flex space-x-1 mt-1",children:[x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>e(t),"aria-label":"Editar Compra Futura",className:"!p-1.5",children:x.jsx(Zr,{className:"w-4 h-4"})}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>n(t.id),"aria-label":"Excluir Compra Futura",className:"!p-1.5",children:x.jsx(Xr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})]}),c&&x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark italic border-t border-borderBase/30 dark:border-borderBaseDark/30 pt-2 mt-2",children:["Notas: ",c]}),h&&x.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-3 rounded-md mt-2 border-l-4 border-primary dark:border-primaryDark",children:[x.jsxs("p",{className:"text-sm font-semibold text-primary dark:text-primaryDark mb-1",children:["Análise da IA (",v?Dn(v,"pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Recente","):"]}),x.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:h})]}),x.jsx("div",{className:"pt-2 border-t border-borderBase/30 dark:border-borderBaseDark/30 mt-auto",children:x.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>r(t.id),disabled:d==="AI_ANALYZING",className:"w-full sm:w-auto",children:[x.jsx(ch,{className:"w-4 h-4 mr-1.5"}),d==="AI_ANALYZING"?"Analisando...":"Analisar com IA"]})})]})},hp=({label:t,id:e,error:n,className:r,containerClassName:i,...a})=>x.jsxs("div",{className:i,children:[t&&x.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),x.jsx("textarea",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...a}),n&&x.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),Coe=[{value:"low",label:"Baixa"},{value:"medium",label:"Média"},{value:"high",label:"Alta"}],Toe=({isOpen:t,onClose:e,onSave:n,existingPurchase:r})=>{const[i,a]=$.useState(""),[o,l]=$.useState(""),[c,d]=$.useState("medium"),[f,h]=$.useState(""),[v,_]=$.useState({});$.useEffect(()=>{t&&(r?(a(r.name),l(r.estimated_cost.toString()),d(r.priority),h(r.notes||"")):(a(""),l(""),d("medium"),h("")),_({}))},[r,t]);const w=()=>{const b={};i.trim()||(b.name="Nome do item é obrigatório.");const A=parseFloat(o);return(isNaN(A)||A<=0)&&(b.estimatedCost="Custo estimado deve ser um número positivo."),_(b),Object.keys(b).length===0},S=()=>{if(!w())return;const b={name:i.trim(),estimated_cost:parseFloat(o),priority:c,notes:f.trim()||void 0},A=r?{...b,id:r.id}:{...b,id:ut()};n(A),e()};return x.jsx(Yn,{isOpen:t,onClose:e,title:r?"Editar Compra Futura":"Nova Compra Futura",size:"md",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(et,{label:"Nome do Item/Objetivo",id:"fpName",value:i,onChange:b=>a(b.target.value),error:v.name,placeholder:"Ex: Novo Celular, Viagem para a Praia",required:!0}),x.jsx(et,{label:"Custo Estimado (R$)",id:"fpEstimatedCost",type:"number",step:"0.01",value:o,onChange:b=>l(b.target.value),error:v.estimatedCost,placeholder:"Ex: 2500.00",required:!0}),x.jsx(Pt,{label:"Prioridade",id:"fpPriority",options:Coe,value:c,onChange:b=>d(b.target.value)}),x.jsx(hp,{label:"Notas (Opcional)",id:"fpNotes",value:f,onChange:b=>h(b.target.value),rows:3,placeholder:"Detalhes adicionais, link do produto, etc."}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(ye,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(ye,{type:"button",variant:"primary",onClick:S,children:r?"Salvar Alterações":"Adicionar Compra"})]})]})})},koe=[{value:"all",label:"Todas Prioridades"},{value:"high",label:"Alta"},{value:"medium",label:"Média"},{value:"low",label:"Baixa"}],Eoe=[{value:"all",label:"Todos Status"},{value:"PLANNED",label:"Planejado"},{value:"CONSIDERING",label:"Considerando"},{value:"ACHIEVABLE_SOON",label:"Viável em Breve"},{value:"NOT_RECOMMENDED_NOW",label:"Adiar Compra"},{value:"AI_ANALYZING",label:"Analisando"}],Aoe=({futurePurchases:t,onAddFuturePurchase:e,onUpdateFuturePurchase:n,onDeleteFuturePurchase:r,onAnalyzeFuturePurchase:i,isPrivacyModeEnabled:a})=>{const[o,l]=$.useState(!1),[c,d]=$.useState(null),[f,h]=$.useState("all"),[v,_]=$.useState("all"),[w,S]=$.useState("date_desc"),b=()=>{d(null),l(!0)},A=T=>{d(T),l(!0)},O=$.useMemo(()=>{let T=[...t];return f!=="all"&&(T=T.filter(M=>M.priority===f)),v!=="all"&&(T=T.filter(M=>M.status===v)),T.sort((M,E)=>{switch(w){case"cost_desc":return E.estimated_cost-M.estimated_cost;case"cost_asc":return M.estimated_cost-E.estimated_cost;case"date_asc":return new Date(M.created_at).getTime()-new Date(E.created_at).getTime();case"date_desc":default:return new Date(E.created_at).getTime()-new Date(M.created_at).getTime()}}),T},[t,f,v,w]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(Aw,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Compras Futuras & Objetivos"})]}),x.jsxs(ye,{onClick:b,variant:"primary",children:[x.jsx(cn,{className:"w-5 h-5 mr-2"}),"Adicionar Compra Desejada"]})]}),t.length>0&&x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx(Pt,{label:"Filtrar por Prioridade",options:koe,value:f,onChange:T=>h(T.target.value)}),x.jsx(Pt,{label:"Filtrar por Status",options:Eoe,value:v,onChange:T=>_(T.target.value)}),x.jsx(Pt,{label:"Ordenar Por",options:[{value:"date_desc",label:"Mais Recentes Primeiro"},{value:"date_asc",label:"Mais Antigos Primeiro"},{value:"cost_desc",label:"Maior Custo"},{value:"cost_asc",label:"Menor Custo"}],value:w,onChange:T=>S(T.target.value)})]}),O.length>0?x.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(T=>x.jsx(Soe,{purchase:T,onEdit:A,onDelete:r,onAnalyze:i,isPrivacyModeEnabled:a},T.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:t.length===0?"Nenhuma compra futura planejada. Adicione uma para começar!":"Nenhuma compra encontrada com os filtros aplicados."}),x.jsx(Toe,{isOpen:o,onClose:()=>l(!1),onSave:c?T=>n({...T,id:c.id}):e,existingPurchase:c})]})},Poe=({allData:t,userPreferencesToExport:e,activeProfileName:n,user:r})=>{const i=async()=>{if(!r){alert("Nenhum usuário logado para exportar dados.");return}const a=n?n.replace(/\s+/g,"_"):"usuario_desconhecido",o={profileName:n||"N/A",exportedAt:new Date().toISOString(),supabaseSchemaVersion:"2.0",userPreferences:e,...t},l=JSON.stringify(o,null,2),c=new Blob([l],{type:"application/json"}),d=URL.createObjectURL(c),f=document.createElement("a");f.href=d,f.download=`financeiro_pessoal_${a}_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)};return x.jsxs("div",{className:"space-y-8 p-4 md:p-6",children:[x.jsxs("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:["Gerenciamento de Dados: ",x.jsx("span",{className:"text-primary dark:text-primaryDark",children:n})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Exportar Dados"}),x.jsxs("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:["Faça um backup completo dos seus dados (",n,") em um arquivo JSON."]}),x.jsx(ye,{onClick:i,variant:"secondary",children:"Exportar Todos os Dados (.json)"})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Importar Dados"}),x.jsx("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:"A importação de dados a partir de um arquivo JSON não é suportada nesta versão do aplicativo. Para restaurar dados, considere utilizar ferramentas de gerenciamento de banco de dados diretamente com o Supabase, se aplicável."})]}),e&&x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Backup Automático em Arquivo (Local)"}),x.jsxs("p",{className:"text-textMuted dark:text-textMutedDark",children:[e.ai_auto_backup_enabled?"Backup automático local em arquivo está ATIVADO.":"Backup automático local em arquivo está DESATIVADO.",x.jsx("span",{className:"block text-xs",children:"Isso é um backup extra em arquivo JSON no seu dispositivo, independente da sincronização com o Supabase."})]})]})]})},Ooe=({tag:t,transactionCount:e,onEdit:n,onDelete:r})=>{t.color&&(t.color,t.color),t.color,t.color;const a=(o=>{if(!o)return"text-textBase dark:text-textBaseDark";const l=parseInt(o.slice(1,3),16),c=parseInt(o.slice(3,5),16),d=parseInt(o.slice(5,7),16);return(.299*l+.587*c+.114*d)/255>.5?"text-neutral-800":"text-white"})(t.color);return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-3 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex justify-between items-center",children:[x.jsx("div",{className:"flex items-center",children:x.jsx("span",{className:`text-xs font-semibold mr-3 px-2.5 py-1 rounded-full inline-block border
                        ${t.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:t.color?{backgroundColor:t.color,borderColor:t.color}:{},children:x.jsx("span",{className:t.color?a:"text-textBase dark:text-textBaseDark",children:t.name})})}),x.jsxs("div",{className:"flex items-center space-x-1",children:[e>0&&x.jsxs("span",{className:"text-xs text-textMuted dark:text-textMutedDark mr-2",children:["(",e," trans.)"]}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Tag",className:"!p-1.5",children:x.jsx(Zr,{className:"w-4 h-4"})}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Tag",className:"!p-1.5",disabled:e>0,title:e>0?"Não é possível excluir tags em uso":"Excluir Tag",children:x.jsx(Xr,{className:`w-4 h-4 ${e>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]})},QI=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6","#A3A3A3"],Moe=({isOpen:t,onClose:e,onSave:n,existingTag:r,allTagNames:i=[]})=>{const[a,o]=$.useState(""),[l,c]=$.useState(void 0),[d,f]=$.useState("");$.useEffect(()=>{t&&(r?(o(r.name),c(r.color)):(o(""),c(QI[0])),f(""))},[r,t]);const h=()=>{const v=a.trim();if(!v){f("Nome da tag é obrigatório.");return}if(i.filter(w=>r?w.toLowerCase()!==r.name.toLowerCase():!0).includes(v.toLowerCase())){f("Já existe uma tag com este nome.");return}f(""),n({id:(r==null?void 0:r.id)||ut(),name:v,color:l}),e()};return x.jsx(Yn,{isOpen:t,onClose:e,title:r?"Editar Tag":"Nova Tag",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(et,{label:"Nome da Tag",id:"tagName",value:a,onChange:v=>o(v.target.value),error:d,placeholder:"Ex: Viagem, Pessoal, Urgente"}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor (Opcional)"}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[QI.map(v=>x.jsx("button",{type:"button",onClick:()=>c(v),className:`w-7 h-7 rounded-full border-2 transition-all
                            ${l===v?"ring-2 ring-offset-2 dark:ring-offset-surfaceDark border-primary dark:border-primaryDark ring-primary dark:ring-primaryDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:v},"aria-label":`Selecionar cor ${v}`,"aria-pressed":l===v},v)),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>c(void 0),className:`h-7 px-2 ${l?"":"bg-neutral/20 dark:bg-neutralDark/30"}`,title:"Remover cor",children:"Sem Cor"})]})]}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(ye,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(ye,{variant:"primary",onClick:h,children:"Salvar"})]})]})})},Ioe=({tags:t,transactions:e,onAddTag:n,onUpdateTag:r,onDeleteTag:i})=>{const[a,o]=$.useState(!1),[l,c]=$.useState(null),d=()=>{c(null),o(!0)},f=_=>{c(_),o(!0)},h=_=>e.filter(w=>{var S;return(S=w.tag_ids)==null?void 0:S.includes(_)}).length,v=t.map(_=>_.name);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Tags"}),x.jsxs(ye,{onClick:d,variant:"primary",children:[x.jsx(cn,{className:"w-5 h-5 mr-2"}),"Nova Tag"]})]}),t.length>0?x.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(_=>x.jsx(Ooe,{tag:_,transactionCount:h(_.id),onEdit:f,onDelete:i},_.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma tag cadastrada. Crie tags para organizar melhor suas transações!"}),x.jsx(Moe,{isOpen:a,onClose:()=>o(!1),onSave:l?r:n,existingTag:l,allTagNames:v})]})},_h=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),px=({rt:t,accounts:e,categories:n,onEdit:r,onDelete:i,onTogglePause:a,isPrivacyModeEnabled:o})=>{const l=e.find(v=>v.id===t.account_id),c=t.category_id?n.find(v=>v.id===t.category_id):null;let d="text-textBase dark:text-textBaseDark",f="";t.type===de.INCOME?(d="text-secondary dark:text-secondaryDark",f="+"):t.type===de.EXPENSE&&(d="text-destructive dark:text-destructiveDark",f="-");const h={daily:"Diariamente",weekly:"Semanalmente",monthly:"Mensalmente",yearly:"Anualmente",custom_days:`A cada ${t.custom_interval_days} dias`};return x.jsx("li",{className:`bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 ${t.is_paused?"opacity-60":""}`,children:x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[x.jsx(_h,{className:`w-5 h-5 ${t.is_paused?"text-textMuted dark:text-textMutedDark":"text-primary dark:text-primaryDark"}`}),x.jsxs("span",{className:`font-semibold text-lg ${d}`,children:[f,ve(t.amount,"BRL","pt-BR",o)]}),x.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.description})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-8",children:[h[t.frequency]," • Próximo: ",Dn(t.next_due_date),t.end_date&&` &bull; Termina em: ${Dn(t.end_date)}`,t.remaining_occurrences!==void 0&&t.occurrences&&` &bull; (${t.remaining_occurrences}/${t.occurrences} restantes)`]}),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark ml-8",children:["Conta: ",(l==null?void 0:l.name)||"N/A",c&&` &bull; Categoria: ${c.name}`,t.is_paused&&x.jsx("span",{className:"font-semibold text-amber-600 dark:text-amber-500",children:" (Pausado)"})]}),t.notes&&x.jsxs("p",{className:"text-xs italic text-neutral dark:text-neutralDark ml-8 mt-1",children:["Nota: ",t.notes]})]}),x.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(t),"aria-label":"Editar Recorrência",children:x.jsx(Zr,{className:"w-4 h-4"})}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>i(t.id),"aria-label":"Excluir Recorrência",children:x.jsx(Xr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})})},Noe=[{value:"daily",label:"Diariamente"},{value:"weekly",label:"Semanalmente"},{value:"monthly",label:"Mensalmente"},{value:"yearly",label:"Anualmente"},{value:"custom_days",label:"Dias Personalizados"}],Doe=(t,e,n,r)=>yt(new Date(t+"T00:00:00")),Roe=({isOpen:t,onClose:e,onSave:n,accounts:r,categories:i,existingRT:a})=>{const[o,l]=$.useState(""),[c,d]=$.useState(""),[f,h]=$.useState(de.EXPENSE),[v,_]=$.useState(""),[w,S]=$.useState(""),[b,A]=$.useState(""),[O,T]=$.useState("monthly"),[M,E]=$.useState("30"),[P,I]=$.useState(yt()),[D,F]=$.useState(""),[q,L]=$.useState(""),[W,J]=$.useState(!1),[H,B]=$.useState(""),[Z,Y]=$.useState({});$.useEffect(()=>{var R,Q,fe,_e,Ne,Fe;t&&(a?(l(a.description),d(a.amount.toString()),h(a.type),_(a.category_id||""),S(a.account_id),A(a.to_account_id||""),T(a.frequency),E(((R=a.custom_interval_days)==null?void 0:R.toString())||"30"),I(a.start_date),F(a.end_date||""),L(((Q=a.occurrences)==null?void 0:Q.toString())||""),J(a.is_paused||!1),B(a.notes||"")):(l(""),d(""),h(de.EXPENSE),_(((fe=i.filter(nt=>nt.type===de.EXPENSE)[0])==null?void 0:fe.id)||""),S(((_e=r[0])==null?void 0:_e.id)||""),A(((Ne=r[1])==null?void 0:Ne.id)||((Fe=r[0])==null?void 0:Fe.id)||""),T("monthly"),E("30"),I(yt()),F(""),L(""),J(!1),B("")),Y({}))},[a,t,r,i]);const G=()=>{const R={};return o.trim()||(R.description="Descrição é obrigatória."),(!c||parseFloat(c)<=0)&&(R.amount="Valor deve ser positivo."),f!==de.TRANSFER&&!v&&(R.categoryId="Categoria é obrigatória."),w||(R.accountId="Conta é obrigatória."),f===de.TRANSFER&&!b&&(R.toAccountId="Conta de destino é obrigatória."),f===de.TRANSFER&&w===b&&(R.toAccountId="Contas não podem ser iguais."),P||(R.startDate="Data de início é obrigatória."),D&&P>D&&(R.endDate="Data final deve ser após data inicial."),q&&parseInt(q)<=0&&(R.occurrences="Ocorrências deve ser positivo."),O==="custom_days"&&(!M||parseInt(M)<=0)&&(R.customIntervalDays="Intervalo de dias deve ser positivo."),Y(R),Object.keys(R).length===0},te=()=>{if(!G())return;const R=q?parseInt(q):void 0,Q={id:(a==null?void 0:a.id)||ut(),description:o.trim(),amount:parseFloat(c),type:f,category_id:f===de.TRANSFER?void 0:v,account_id:w,to_account_id:f===de.TRANSFER?b:void 0,frequency:O,custom_interval_days:O==="custom_days"?parseInt(M):void 0,start_date:P,end_date:D||void 0,occurrences:R,remaining_occurrences:a!=null&&a.id?a.remaining_occurrences:R,next_due_date:a!=null&&a.id?a.next_due_date:Doe(P),last_posted_date:a==null?void 0:a.last_posted_date,is_paused:W||!1,notes:H.trim()||void 0};n(Q),e()},ae=i.filter(R=>R.type===f);return x.jsx(Yn,{isOpen:t,onClose:e,title:a?"Editar Transação Recorrente":"Nova Transação Recorrente",size:"lg",children:x.jsxs("form",{onSubmit:R=>{R.preventDefault(),te()},className:"space-y-4",children:[x.jsx(et,{label:"Descrição",id:"rtDescription",value:o,onChange:R=>l(R.target.value),error:Z.description,required:!0}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(et,{label:"Valor",id:"rtAmount",type:"number",step:"0.01",value:c,onChange:R=>d(R.target.value),error:Z.amount,required:!0}),x.jsx(Pt,{label:"Tipo",id:"rtType",options:wh,value:f,onChange:R=>h(R.target.value)})]}),f!==de.TRANSFER&&x.jsx(Pt,{label:"Categoria",id:"rtCategory",options:ae.map(R=>({value:R.id,label:R.name})),value:v,onChange:R=>_(R.target.value),error:Z.categoryId,placeholder:"Selecione uma categoria",disabled:ae.length===0}),x.jsx(Pt,{label:f===de.TRANSFER?"Conta de Origem":"Conta",id:"rtAccountId",options:r.map(R=>({value:R.id,label:R.name})),value:w,onChange:R=>S(R.target.value),error:Z.accountId,placeholder:"Selecione uma conta",disabled:r.length===0}),f===de.TRANSFER&&x.jsx(Pt,{label:"Conta de Destino",id:"rtToAccountId",options:r.map(R=>({value:R.id,label:R.name})),value:b,onChange:R=>A(R.target.value),error:Z.toAccountId,placeholder:"Selecione conta de destino",disabled:r.length===0}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(Pt,{label:"Frequência",id:"rtFrequency",options:Noe,value:O,onChange:R=>T(R.target.value)}),O==="custom_days"&&x.jsx(et,{label:"Intervalo (dias)",id:"rtCustomInterval",type:"number",min:"1",value:M,onChange:R=>E(R.target.value),error:Z.customIntervalDays})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(et,{label:"Data de Início",id:"rtStartDate",type:"date",value:P,onChange:R=>I(R.target.value),error:Z.startDate,required:!0}),x.jsx(et,{label:"Data Final (Opcional)",id:"rtEndDate",type:"date",value:D,onChange:R=>F(R.target.value),error:Z.endDate})]}),x.jsx(et,{label:"Número de Ocorrências (Opcional)",id:"rtOccurrences",type:"number",min:"1",value:q,onChange:R=>L(R.target.value),error:Z.occurrences,placeholder:"Deixe em branco para indefinido (use Data Final)"}),x.jsx(hp,{label:"Notas (Opcional)",id:"rtNotes",value:H,onChange:R=>B(R.target.value),rows:2}),x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",id:"rtIsPaused",checked:W,onChange:R=>J(R.target.checked),className:"h-4 w-4 text-primary rounded border-neutral/50 focus:ring-primary dark:text-primaryDark dark:border-neutralDark/50 dark:focus:ring-primaryDark"}),x.jsx("label",{htmlFor:"rtIsPaused",className:"ml-2 block text-sm text-textMuted dark:text-textMutedDark",children:"Pausar esta recorrência"})]}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(ye,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(ye,{type:"submit",variant:"primary",children:a?"Salvar Alterações":"Criar Recorrência"})]})]})})},joe=({recurringTransactions:t,accounts:e,categories:n,onAddRecurringTransaction:r,onUpdateRecurringTransaction:i,onDeleteRecurringTransaction:a,onProcessRecurringTransactions:o,isPrivacyModeEnabled:l})=>{const[c,d]=$.useState(!1),[f,h]=$.useState(null),[v,_]=$.useState(!1),[w,S]=$.useState(null),b=()=>{h(null),d(!0)},A=D=>{h(D),d(!0)},O=async()=>{_(!0),S("Processando...");try{const D=await o();D.errors.length>0?S(`Processamento concluído. ${D.count} transações lançadas. Erros: ${D.errors.join(", ")}`):D.count>0?S(`${D.count} transações recorrentes foram lançadas com sucesso!`):S("Nenhuma transação recorrente pendente para lançar.")}catch(D){S("Erro ao processar transações recorrentes."),console.error(D)}_(!1),setTimeout(()=>S(null),7e3)},T=$.useMemo(()=>[...t].sort((D,F)=>new Date(D.next_due_date).getTime()-new Date(F.next_due_date).getTime()),[t]),M=yt(),E=T.filter(D=>!D.is_paused&&D.next_due_date>=M),P=T.filter(D=>!D.is_paused&&D.next_due_date<M),I=T.filter(D=>D.is_paused);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações Recorrentes"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(ye,{onClick:O,variant:"secondary",disabled:v,children:v?"Processando...":"Lançar Pendentes"}),x.jsxs(ye,{onClick:b,variant:"primary",children:[x.jsx(cn,{className:"w-5 h-5 mr-2"}),"Nova Recorrência"]})]})]}),w&&x.jsx("div",{className:`p-3 rounded-md text-sm ${w.includes("Erro")||w.includes("Erros:")?"bg-destructive/10 text-destructiveDark":"bg-secondary/10 text-secondaryDark"}`,children:w}),t.length===0?x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação recorrente cadastrada."}):x.jsxs(x.Fragment,{children:[P.length>0&&x.jsxs("div",{children:[x.jsxs("h2",{className:"text-lg font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Pendentes / Atrasadas (",P.length,")"]}),x.jsx("ul",{className:"space-y-3",children:P.map(D=>x.jsx(px,{rt:D,accounts:e,categories:n,onEdit:A,onDelete:a,isPrivacyModeEnabled:l},D.id))})]}),E.length>0&&x.jsxs("div",{children:[x.jsxs("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mt-6 mb-2",children:["Próximas (",E.length,")"]}),x.jsx("ul",{className:"space-y-3",children:E.map(D=>x.jsx(px,{rt:D,accounts:e,categories:n,onEdit:A,onDelete:a,isPrivacyModeEnabled:l},D.id))})]}),I.length>0&&x.jsxs("div",{children:[x.jsxs("h2",{className:"text-lg font-semibold text-textMuted dark:text-textMutedDark mt-6 mb-2",children:["Pausadas (",I.length,")"]}),x.jsx("ul",{className:"space-y-3",children:I.map(D=>x.jsx(px,{rt:D,accounts:e,categories:n,onEdit:A,onDelete:a,isPrivacyModeEnabled:l},D.id))})]})]}),x.jsx(Roe,{isOpen:c,onClose:()=>d(!1),onSave:f?i:r,accounts:e,categories:n,existingRT:f})]})},$oe=({loan:t,repayments:e,accounts:n,creditCards:r,onEdit:i,onDelete:a,onRegisterRepayment:o,isPrivacyModeEnabled:l})=>{var A,O;const c=e.reduce((T,M)=>T+M.amount_paid,0),d=t.total_amount_to_reimburse-c;let f="PENDING",h="text-amber-600 dark:text-amber-500",v="bg-amber-100 dark:bg-amber-500/20",_="bg-amber-500";c>=t.total_amount_to_reimburse?(f="PAID",h="text-secondary dark:text-secondaryDark",v="bg-emerald-100 dark:bg-emerald-500/20",_="bg-secondary"):c>0&&(f="PARTIALLY_PAID",h="text-blue-600 dark:text-blue-500",v="bg-blue-100 dark:bg-blue-500/20",_="bg-blue-500");const w=t.total_amount_to_reimburse>0?Math.min(c/t.total_amount_to_reimburse*100,100):0,S=t.funding_source==="account"&&t.linked_account_id?(A=n.find(T=>T.id===t.linked_account_id))==null?void 0:A.name:null,b=t.funding_source==="creditCard"&&t.linked_credit_card_id?(O=r.find(T=>T.id===t.linked_credit_card_id))==null?void 0:O.name:null;return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx(vb,{className:"w-5 h-5 text-primary dark:text-primaryDark"}),x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.person_name}),x.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${v} ${h}`,children:f==="PENDING"?"Pendente":f==="PARTIALLY_PAID"?"Parcialmente Pago":"Pago"})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Emprestado em: ",Dn(t.loan_date)]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a Reembolsar: ",x.jsx("span",{className:"font-semibold",children:ve(t.total_amount_to_reimburse,"BRL","pt-BR",l)})]}),t.description&&x.jsx("p",{className:"text-xs italic text-neutral dark:text-neutralDark mt-1",children:t.description})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>i(t),"aria-label":"Editar Empréstimo",className:"!p-1.5",children:x.jsx(Zr,{className:"w-4 h-4"})}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>a(t.id),"aria-label":"Excluir Empréstimo",className:"!p-1.5",disabled:c>0&&f!=="PAID",title:c>0&&f!=="PAID"?"Exclua os pagamentos primeiro ou quite o empréstimo":"Excluir Empréstimo",children:x.jsx(Xr,{className:`w-4 h-4 ${c>0&&f!=="PAID"?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Pago: ",ve(c,"BRL","pt-BR",l)]}),x.jsxs("span",{className:`font-semibold ${d<=0?h:"text-destructive dark:text-destructiveDark"}`,children:["Pendente: ",ve(Math.max(0,d),"BRL","pt-BR",l)]})]}),x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:x.jsx("div",{className:`h-2.5 rounded-full ${_}`,style:{width:`${w}%`}})})]}),x.jsxs("div",{className:"text-xs text-textMuted dark:text-textMutedDark pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[x.jsx("p",{children:x.jsx("strong",{children:"Origem do Dinheiro:"})}),t.funding_source==="account"&&x.jsxs(x.Fragment,{children:[x.jsxs("p",{children:["Conta: ",S||"N/A"]}),x.jsxs("p",{children:["Valor Entregue da Conta: ",ve(t.amount_delivered_from_account||0,"BRL","pt-BR",l)]})]}),t.funding_source==="creditCard"&&x.jsxs(x.Fragment,{children:[x.jsxs("p",{children:["Cartão de Crédito: ",b||"N/A"]}),x.jsxs("p",{children:["Valor Líquido Entregue: ",ve(t.amount_delivered_from_credit||0,"BRL","pt-BR",l)]}),x.jsxs("p",{children:["Custo no Cartão (Fatura): ",ve(t.cost_on_credit_card||0,"BRL","pt-BR",l)]})]})]}),f!=="PAID"&&x.jsx("div",{className:"flex justify-start pt-2",children:x.jsxs(ye,{size:"sm",variant:"secondary",onClick:()=>o(t),children:[x.jsx(cn,{className:"w-4 h-4 mr-1"})," Registrar Pagamento Recebido"]})})]})},Loe=({isOpen:t,onClose:e,onSave:n,accounts:r,creditCards:i,existingLoan:a})=>{const[o,l]=$.useState(""),[c,d]=$.useState(yt()),[f,h]=$.useState(""),[v,_]=$.useState(""),[w,S]=$.useState("account"),[b,A]=$.useState(""),[O,T]=$.useState(""),[M,E]=$.useState(""),[P,I]=$.useState(""),[D,F]=$.useState(""),[q,L]=$.useState("1"),[W,J]=$.useState({});$.useEffect(()=>{var Y,G,te;t&&(a?(l(a.person_name),d(a.loan_date),h(a.description||""),_(a.total_amount_to_reimburse.toString()),S(a.funding_source),a.funding_source==="account"?(A(((Y=a.amount_delivered_from_account)==null?void 0:Y.toString())||""),T(a.linked_account_id||"")):(A(""),T("")),a.funding_source==="creditCard"?(E(((G=a.amount_delivered_from_credit)==null?void 0:G.toString())||""),I(((te=a.cost_on_credit_card)==null?void 0:te.toString())||""),F(a.linked_credit_card_id||"")):(E(""),I(""),F(""))):(l(""),d(yt()),h(""),_(""),S("account"),A(""),T(r.length>0?r[0].id:""),E(""),I(""),F(i.length>0?i[0].id:""),L("1")),J({}))},[a,t,r,i]);const H=()=>{const Y={};o.trim()||(Y.personName="Nome da pessoa é obrigatório."),c||(Y.loanDate="Data do empréstimo é obrigatória.");const G=parseFloat(v);if((isNaN(G)||G<=0)&&(Y.totalAmountToReimburse="Valor a ser reembolsado deve ser positivo."),w==="account"){O||(Y.linkedAccountId="Conta de origem é obrigatória.");const te=parseFloat(b);(isNaN(te)||te<=0)&&(Y.amountDeliveredFromAccount="Valor entregue deve ser positivo.")}else if(w==="creditCard"){D||(Y.linkedCreditCardId="Cartão de crédito é obrigatório.");const te=parseFloat(M);(isNaN(te)||te<=0)&&(Y.amountDeliveredFromCredit="Valor entregue (líquido) deve ser positivo.");const ae=parseFloat(P);(isNaN(ae)||ae<=0)&&(Y.costOnCreditCard="Custo no cartão deve ser positivo."),te>ae&&(Y.amountDeliveredFromCredit="Valor entregue não pode ser maior que o custo no cartão.");const R=parseInt(q,10);(isNaN(R)||R<=0)&&(Y.numberOfInstallments="Número de parcelas deve ser positivo.")}return J(Y),Object.keys(Y).length===0},B=()=>{if(!H())return;const Y={person_name:o.trim(),loan_date:c,description:f.trim()||void 0,total_amount_to_reimburse:parseFloat(v),funding_source:w};let G;w==="account"?G={...Y,amount_delivered_from_account:parseFloat(b),linked_account_id:O}:G={...Y,amount_delivered_from_credit:parseFloat(M),cost_on_credit_card:parseFloat(P),linked_credit_card_id:D};const te=a?{...G,id:a.id}:G;n(te,w==="creditCard"?parseInt(q):void 0),e()},Z=[{value:"account",label:"Dinheiro de uma Conta"},{value:"creditCard",label:"Crédito (Convertido em Dinheiro)"}];return x.jsx(Yn,{isOpen:t,onClose:e,title:a?"Editar Empréstimo":"Novo Empréstimo",size:"lg",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(et,{label:"Nome da Pessoa",id:"personName",value:o,onChange:Y=>l(Y.target.value),error:W.personName,required:!0}),x.jsx(et,{label:"Data do Empréstimo",id:"loanDate",type:"date",value:c,onChange:Y=>d(Y.target.value),error:W.loanDate,required:!0}),x.jsx(hp,{label:"Descrição (Opcional)",id:"loanDescription",value:f,onChange:Y=>h(Y.target.value),rows:2}),x.jsx(et,{label:"Valor Total a Ser Reembolsado por Você (R$)",id:"totalAmountToReimburse",type:"number",step:"0.01",value:v,onChange:Y=>_(Y.target.value),error:W.totalAmountToReimburse,placeholder:"Ex: 270.00",required:!0}),x.jsx(Pt,{label:"Origem do Dinheiro",id:"fundingSource",options:Z,value:w,onChange:Y=>S(Y.target.value)}),w==="account"&&x.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[x.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Saída de Conta)"}),x.jsx(Pt,{label:"Conta de Origem",id:"linkedAccountId",options:r.map(Y=>({value:Y.id,label:Y.name})),value:O,onChange:Y=>T(Y.target.value),error:W.linkedAccountId,disabled:r.length===0,required:!0}),x.jsx(et,{label:"Valor Efetivamente Entregue (R$)",id:"amountDeliveredFromAccount",type:"number",step:"0.01",value:b,onChange:Y=>A(Y.target.value),error:W.amountDeliveredFromAccount,placeholder:"Ex: 250.00",required:!0})]}),w==="creditCard"&&x.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[x.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Uso de Crédito)"}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:'Use esta opção se você usou um serviço do cartão para sacar/transferir crédito, incorrendo em taxas. O "Custo Real no Cartão" será lançado como uma compra parcelada.'}),x.jsx(Pt,{label:"Cartão de Crédito Utilizado",id:"linkedCreditCardId",options:i.map(Y=>({value:Y.id,label:Y.name})),value:D,onChange:Y=>F(Y.target.value),error:W.linkedCreditCardId,disabled:i.length===0,required:!0}),x.jsx(et,{label:"Valor Efetivamente Entregue à Pessoa (R$)",id:"amountDeliveredFromCredit",type:"number",step:"0.01",value:M,onChange:Y=>E(Y.target.value),error:W.amountDeliveredFromCredit,placeholder:`Ex: ${ve(250)} (valor líquido recebido pela pessoa)`,required:!0}),x.jsx(et,{label:"Custo Real no Cartão (com taxas) (R$)",id:"costOnCreditCard",type:"number",step:"0.01",value:P,onChange:Y=>{I(Y.target.value),!a&&!v&&_(Y.target.value)},error:W.costOnCreditCard,placeholder:"Ex: 270.00 (valor total que virá na fatura)",required:!0}),x.jsx(et,{label:"Número de Parcelas no Cartão",id:"numberOfInstallments",type:"number",min:"1",value:q,onChange:Y=>L(Y.target.value),error:W.numberOfInstallments,required:!0,disabled:!!a&&!!a.linked_installment_purchase_id,title:a&&a.linked_installment_purchase_id?"Número de parcelas não pode ser alterado após a criação da compra vinculada.":""})]}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(ye,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(ye,{type:"button",variant:"primary",onClick:B,children:"Salvar Empréstimo"})]})]})})},Boe=({isOpen:t,onClose:e,onSave:n,loan:r,accounts:i})=>{const[a,o]=$.useState(""),[l,c]=$.useState(yt()),[d,f]=$.useState(""),[h,v]=$.useState(""),[_,w]=$.useState({});$.useEffect(()=>{t&&(o(""),c(yt()),f(i.length>0?i[0].id:""),v(""),w({}))},[t,i]);const S=()=>{const A={},O=parseFloat(a);return(isNaN(O)||O<=0)&&(A.amountPaid="Valor pago deve ser positivo."),l||(A.repaymentDate="Data do pagamento é obrigatória."),d||(A.creditedAccountId="Conta de crédito é obrigatória."),w(A),Object.keys(A).length===0},b=()=>{if(!S())return;const A={repayment_date:l,amount_paid:parseFloat(a),notes:h.trim()||void 0,credited_account_id:d};n(A,r.id),e()};return x.jsx(Yn,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.person_name}`,children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(et,{label:"Valor Recebido (R$)",id:"repaymentAmount",type:"number",step:"0.01",value:a,onChange:A=>o(A.target.value),error:_.amountPaid,required:!0}),x.jsx(et,{label:"Data do Recebimento",id:"repaymentDate",type:"date",value:l,onChange:A=>c(A.target.value),error:_.repaymentDate,required:!0}),x.jsx(Pt,{label:"Conta Creditada (Onde o dinheiro entrou)",id:"creditedAccountId",options:i.map(A=>({value:A.id,label:A.name})),value:d,onChange:A=>f(A.target.value),error:_.creditedAccountId,disabled:i.length===0,required:!0}),x.jsx(hp,{label:"Notas (Opcional)",id:"repaymentNotes",value:h,onChange:A=>v(A.target.value),rows:2}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(ye,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(ye,{type:"button",variant:"primary",onClick:b,children:"Salvar Pagamento"})]})]})})},Foe=({loans:t,loanRepayments:e,accounts:n,creditCards:r,onAddLoan:i,onUpdateLoan:a,onDeleteLoan:o,onAddLoanRepayment:l,isPrivacyModeEnabled:c})=>{const[d,f]=$.useState(!1),[h,v]=$.useState(null),[_,w]=$.useState(!1),[S,b]=$.useState(null),A=()=>{v(null),f(!0)},O=I=>{v(I),f(!0)},T=(I,D)=>{h&&I.id?a({...h,...I}):i(I,D)},M=I=>{b(I),w(!0)},E=$.useMemo(()=>t.reduce((I,D)=>{const F=e.filter(q=>q.loan_id===D.id).reduce((q,L)=>q+L.amount_paid,0);return I+(D.total_amount_to_reimburse-F)},0),[t,e]),P=$.useMemo(()=>[...t].sort((I,D)=>new Date(D.loan_date).getTime()-new Date(I.loan_date).getTime()),[t]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Empréstimos Concedidos"}),t.length>0&&x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a receber: ",x.jsx("span",{className:"font-semibold text-primary dark:text-primaryDark",children:ve(E,"BRL","pt-BR",c)})]})]}),x.jsxs(ye,{onClick:A,variant:"primary",children:[x.jsx(cn,{className:"w-5 h-5 mr-2"}),"Novo Empréstimo"]})]}),P.length>0?x.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:P.map(I=>x.jsx($oe,{loan:I,repayments:e.filter(D=>D.loan_id===I.id),accounts:n,creditCards:r,onEdit:O,onDelete:o,onRegisterRepayment:M,isPrivacyModeEnabled:c},I.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:'Nenhum empréstimo registrado. Clique em "Novo Empréstimo" para começar.'}),d&&x.jsx(Loe,{isOpen:d,onClose:()=>f(!1),onSave:T,accounts:n,creditCards:r,existingLoan:h}),_&&S&&x.jsx(Boe,{isOpen:_,onClose:()=>w(!1),onSave:l,loan:S,accounts:n})]})},cb=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3.697-3.697c-.022-.021-.041-.044-.06-.067H6.75c-1.136 0-2.097-.847-2.193-1.98a18.75 18.75 0 0 1-.072-1.02c0-.884.284-1.5 2.097-1.5H13.5c.884 0 1.5-.284 2.097-1.5 1.136 0 2.1.847 2.193 1.98.027.34.052.68.072 1.02z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h-.008v.008H3.75V12zm0-3.75h.008v.008H3.75V8.25zm0 7.5h.008v.008H3.75v-.008zM4.5 6H15a2.25 2.25 0 0 1 2.25 2.25v1.5A2.25 2.25 0 0 1 15 12H4.5A2.25 2.25 0 0 1 2.25 9.75v-1.5A2.25 2.25 0 0 1 4.5 6z"})]}),qoe=({aiConfig:t,setAiConfig:e,insights:n,onFetchGeneralAdvice:r,onUpdateInsight:i,isPrivacyModeEnabled:a,onFetchRecurringPaymentCandidates:o,onFetchSavingOpportunities:l,onFetchCashFlowProjection:c})=>{var H;const[d,f]=$.useState(((H=t.monthlyIncome)==null?void 0:H.toString())||""),[h,v]=$.useState(!1),[_,w]=$.useState(""),[S,b]=$.useState(""),[A,O]=$.useState(de.EXPENSE),[T,M]=$.useState(yt(new Date(Date.now()+7*24*60*60*1e3))),[E,P]=$.useState(!1),I=()=>{e({isEnabled:!t.isEnabled})},D=()=>{const B=parseFloat(d);!isNaN(B)&&B>0?(e({monthlyIncome:B}),v(!1)):d===""?(e({monthlyIncome:null}),v(!1)):alert("Por favor, insira um valor de renda válido ou deixe em branco.")};K.useEffect(()=>{var B;f(((B=t.monthlyIncome)==null?void 0:B.toString())||"")},[t.monthlyIncome]);const F=[...n].sort((B,Z)=>new Date(Z.timestamp).getTime()-new Date(B.timestamp).getTime()),q=B=>x.jsx("p",{className:"text-textBase dark:text-textBaseDark whitespace-pre-wrap",children:B.content}),L=B=>{switch(B){case"budget_recommendation":case"saving_opportunity_suggestion":return{icon:x.jsx(ch,{className:"w-5 h-5 mr-2 text-yellow-500 dark:text-yellow-400 flex-shrink-0"}),borderColorClass:"border-yellow-500 dark:border-yellow-400",bgColorClass:"bg-yellow-400/10 dark:bg-yellow-400/15"};case"recurring_payment_candidate":return{icon:x.jsx(_h,{className:"w-5 h-5 mr-2 text-teal-500 dark:text-teal-400 flex-shrink-0"}),borderColorClass:"border-teal-500 dark:border-teal-400",bgColorClass:"bg-teal-500/10 dark:bg-teal-400/15"};case"cash_flow_projection":return{icon:x.jsx(H_,{className:"w-5 h-5 mr-2 text-indigo-500 dark:text-indigo-400 flex-shrink-0"}),borderColorClass:"border-indigo-500 dark:border-indigo-400",bgColorClass:"bg-indigo-500/10 dark:bg-indigo-400/15"};case"spending_anomaly_category":case"budget_overspend_projection":case"unusual_transaction_value":case"budget_warning":return{icon:x.jsx(pf,{className:"w-5 h-5 mr-2 text-amber-600 dark:text-amber-500 flex-shrink-0"}),borderColorClass:"border-amber-600 dark:border-amber-500",bgColorClass:"bg-amber-600/10 dark:bg-amber-500/15"};case"error_message":return{icon:x.jsx(pf,{className:"w-5 h-5 mr-2 text-destructive dark:text-destructiveDark flex-shrink-0"}),borderColorClass:"border-destructive dark:border-destructiveDark",bgColorClass:"bg-destructive/10 dark:bg-destructiveDark/15"};default:return{icon:x.jsx(cb,{className:"w-5 h-5 mr-2 text-primary dark:text-primaryDark flex-shrink-0"}),borderColorClass:"border-primary dark:border-primaryDark",bgColorClass:"bg-primary/5 dark:bg-primaryDark/10"}}},W=B=>{B.is_read||i({...B,is_read:!0})},J=()=>{let B;E&&S&&parseFloat(S)>0&&T&&(B={description:_.trim()||(A===de.EXPENSE?"Despesa Simulada":"Receita Simulada"),amount:parseFloat(S),type:A,date:T}),c(30,B)};return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(cb,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"AI Coach Financeiro"})]}),t.apiKeyStatus!=="unavailable"&&x.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[x.jsx("span",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:t.isEnabled?"Coach Ativado":"Coach Desativado"}),x.jsxs("div",{className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${t.isEnabled?"bg-primary dark:bg-primaryDark":"bg-neutral/30 dark:bg-neutralDark/40"}`,children:[x.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${t.isEnabled?"translate-x-6":"translate-x-1"}`}),x.jsx("input",{type:"checkbox",className:"absolute opacity-0 w-0 h-0",checked:t.isEnabled,onChange:I})]})]})]}),t.apiKeyStatus==="unavailable"&&x.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[x.jsx("strong",{className:"font-bold",children:"API Key Indisponível! "}),x.jsx("span",{className:"block sm:inline",children:"A funcionalidade do AI Coach está desativada. A chave da API Gemini (process.env.GEMINI_API_KEY) não foi configurada no ambiente. Sem ela, o AI Coach não pode operar."})]}),t.apiKeyStatus==="error"&&x.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[x.jsx("strong",{className:"font-bold",children:"Erro na API! "}),x.jsx("span",{className:"block sm:inline",children:"Ocorreu um erro ao tentar inicializar ou usar a API Gemini. Verifique o console para mais detalhes."})]}),t.apiKeyStatus==="available"&&x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Renda Mensal (para Sugestões)"}),t.monthlyIncome&&!h?x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Sua renda mensal salva:",x.jsx("span",{className:"font-bold text-lg text-primary dark:text-primaryDark ml-2",children:ve(t.monthlyIncome,"BRL","pt-BR",a)})]}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>v(!0),children:"Editar Renda"})]}):x.jsxs("div",{className:"space-y-3",children:[x.jsx(et,{label:"Informe sua renda mensal estimada",id:"monthlyIncome",type:"number",placeholder:a?ve(0,"BRL","pt-BR",!0).replace("0,00","Ex: 3500.00"):"Ex: 3500.00",value:d,onChange:B=>f(B.target.value),containerClassName:"max-w-xs"}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx(ye,{variant:"primary",size:"sm",onClick:D,children:"Salvar Renda"}),t.monthlyIncome&&x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>v(!1),children:"Cancelar"})]}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Esta informação ajuda o AI Coach a fornecer sugestões de orçamento mais personalizadas."})]})]}),t.isEnabled&&t.apiKeyStatus==="available"&&x.jsx(x.Fragment,{children:x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Conselhos e Análises"}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsxs(ye,{onClick:r,variant:"ghost",size:"sm",children:[x.jsx(ch,{className:"w-4 h-4 mr-1.5"})," Novo Conselho"]}),x.jsxs(ye,{onClick:o,variant:"ghost",size:"sm",children:[x.jsx(_h,{className:"w-4 h-4 mr-1.5"})," Analisar Recorrências"]}),x.jsxs(ye,{onClick:l,variant:"ghost",size:"sm",children:[x.jsx(ww,{className:"w-4 h-4 mr-1.5"})," Oportunidades de Economia"]})]})]}),x.jsxs("div",{className:"mt-6 pt-4 border-t border-borderBase dark:border-borderBaseDark",children:[x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mb-2",children:"Previsão de Fluxo de Caixa"}),x.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>P(!E),className:"mb-3 text-sm",children:E?"Esconder Simulação":"Adicionar Simulação à Previsão"}),E&&x.jsxs("div",{className:"space-y-3 p-3 mb-4 border border-dashed border-neutral/50 dark:border-neutralDark/50 rounded-md",children:[x.jsx("h4",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Simular Transação Futura (Opcional)"}),x.jsx(et,{label:"Descrição (Opcional)",value:_,onChange:B=>w(B.target.value),placeholder:"Ex: Bônus Inesperado, Compra de Presente"}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[x.jsx(et,{label:"Valor Simulado",type:"number",value:S,onChange:B=>b(B.target.value),placeholder:"Ex: 500"}),x.jsx(Pt,{label:"Tipo",options:wh.filter(B=>B.value!==de.TRANSFER),value:A,onChange:B=>O(B.target.value)}),x.jsx(et,{label:"Data Simulado",type:"date",value:T,onChange:B=>M(B.target.value)})]})]}),x.jsxs(ye,{onClick:J,variant:"secondary",size:"sm",className:"w-full sm:w-auto",children:[x.jsx(H_,{className:"w-4 h-4 mr-1.5"}),"Gerar Previsão de Caixa (30d) ",E&&S?"com Simulação":""]})]}),F.length===0?x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8 mt-4",children:"Nenhum conselho ou comentário do AI Coach ainda. Interaja com o app ou peça uma nova análise!"}):x.jsx("ul",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 mt-4",children:F.map(B=>{const Z=L(B.type);return x.jsx("li",{className:`p-4 rounded-lg shadow-sm border-l-4
                                    ${Z.borderColorClass} ${Z.bgColorClass}
                                    ${B.isLoading?"opacity-60 animate-pulse":""}
                                    ${!B.is_read&&!B.isLoading?"cursor-pointer hover:shadow-md":""}`,onClick:()=>W(B),onKeyDown:Y=>{(Y.key==="Enter"||Y.key===" ")&&W(B)},tabIndex:!B.is_read&&!B.isLoading?0:void 0,role:!B.is_read&&!B.isLoading?"button":void 0,"aria-label":!B.is_read&&!B.isLoading?"Marcar como lido":void 0,children:x.jsxs("div",{className:"flex items-start",children:[Z.icon,x.jsxs("div",{className:"flex-1",children:[q(B),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1.5",children:[Dn(B.timestamp,"pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),B.related_transaction_id&&x.jsx("span",{className:"ml-2",children:" (Ref. Transação)"}),B.related_category_id&&B.type==="budget_recommendation"&&x.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),B.related_category_id&&(B.type==="spending_anomaly_category"||B.type==="budget_overspend_projection"||B.type==="unusual_transaction_value")&&x.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),!B.is_read&&!B.isLoading&&x.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Novo"})]})]})]})},B.id)})})]})}),!t.isEnabled&&t.apiKeyStatus==="available"&&x.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-700/20 border border-yellow-400 dark:border-yellow-600 text-yellow-700 dark:text-yellow-300 px-4 py-3 rounded-lg",role:"alert",children:x.jsx("p",{children:"O AI Coach está atualmente desativado. Ative-o acima para receber dicas e comentários personalizados."})})]})},Uoe=({className:t="w-5 h-5",style:e})=>x.jsxs("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),x.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),x.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),x.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),x.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),bj=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),Voe=({onLoginWithGoogle:t,isLoading:e})=>x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background dark:bg-backgroundDark p-4 text-textBase dark:text-textBaseDark",children:[x.jsxs("div",{className:"w-full max-w-sm bg-surface dark:bg-surfaceDark shadow-2xl rounded-xl p-8 space-y-8 text-center",children:[x.jsx(bj,{className:"w-20 h-20 text-primary dark:text-primaryDark mx-auto mb-4"}),x.jsxs("h1",{className:"text-3xl font-bold text-textBase dark:text-textBaseDark",children:["Bem-vindo ao ",Cx]}),x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Faça login com sua conta Google para acessar suas finanças."}),x.jsxs(ye,{variant:"primary",size:"lg",className:"w-full !py-3 flex items-center justify-center !bg-white !text-neutral-700 hover:!bg-gray-100 border border-gray-300 dark:!bg-slate-700 dark:!text-slate-200 dark:hover:!bg-slate-600 dark:border-slate-500",onClick:t,disabled:e,children:[x.jsx(Uoe,{className:"w-5 h-5 mr-3"}),e?"Conectando...":"Entrar com Google"]}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark pt-4",children:"Ao continuar, você concorda com nossos Termos de Serviço e Política de Privacidade (simulados)."})]}),x.jsx("footer",{className:"mt-8 text-center text-xs text-textMuted dark:text-textMutedDark",children:x.jsxs("p",{children:["© ",new Date().getFullYear()," ",Cx,". Todos os direitos reservados."]})})]}),wj=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6V5.25m0 0A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25v.75m0 0a2.25 2.25 0 0 1-2.25 2.25h-13.5A2.25 2.25 0 0 1 3 6m18 0v12.75A2.25 2.25 0 0 1 18.75 21H5.25A2.25 2.25 0 0 1 3 18.75V6.75m15-3h-15"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 12H18m-2.25 3H18m-2.25-3a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM12 6.75h.008v.008H12V6.75Z"})]}),zoe=({debt:t,onRegisterPayment:e,onEdit:n,onDelete:r,isPrivacyModeEnabled:i})=>{const a=t.initial_balance>0?Math.max(0,Math.min((t.initial_balance-t.current_balance)/t.initial_balance*100,100)):0;return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:t.type==="credit_card_balance"?"Saldo de Cartão":t.type==="personal_loan"?"Empréstimo Pessoal":"Outra Dívida"})]}),x.jsxs("div",{className:"flex space-x-1",children:[x.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Dívida",className:"!p-1.5",children:[x.jsx(cn,{className:"w-3 h-3 transform rotate-45"})," "]}),x.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Dívida",className:"!p-1.5",children:[x.jsx(cn,{className:"w-3 h-3 transform rotate-45"})," "]})]})]}),x.jsxs("div",{children:[x.jsxs("p",{className:"text-xl font-bold text-destructive dark:text-destructiveDark",children:["Saldo Devedor: ",ve(t.current_balance,"BRL","pt-BR",i)]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Taxa de Juros: ",t.interest_rate_annual,"% a.a. | Mínimo: ",ve(t.minimum_payment,"BRL","pt-BR",i)]}),t.due_date_day_of_month&&x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Vencimento usual: Dia ",t.due_date_day_of_month]})]}),t.initial_balance>0&&x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[x.jsx("span",{children:"Progresso"}),x.jsxs("span",{children:[a.toFixed(0),"%"]})]}),x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:x.jsx("div",{className:"h-2 rounded-full bg-secondary dark:bg-secondaryDark",style:{width:`${a}%`}})})]}),x.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>e(t),children:[x.jsx(cn,{className:"w-4 h-4 mr-1"})," Registrar Pagamento"]})]})},Goe=({debts:t,debtPayments:e,accounts:n,onAddDebt:r,onUpdateDebt:i,onDeleteDebt:a,onAddDebtPayment:o,isPrivacyModeEnabled:l})=>{const[c,d]=$.useState(!1),[f,h]=$.useState(null),[v,_]=$.useState(!1),[w,S]=$.useState(null),b=()=>{h(null),d(!0)},A=E=>{h(E),d(!0)},O=E=>{S(E),_(!0)},T=$.useMemo(()=>t.filter(E=>!E.is_archived).reduce((E,P)=>E+P.current_balance,0),[t]),M=$.useMemo(()=>t.filter(E=>!E.is_archived).reduce((E,P)=>E+P.minimum_payment,0),[t]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(wj,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Planejador de Dívidas"})]}),x.jsxs(ye,{onClick:b,variant:"primary",children:[x.jsx(cn,{className:"w-5 h-5 mr-2"}),"Adicionar Dívida"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"TOTAL DE DÍVIDAS ATUAIS"}),x.jsx("p",{className:"text-3xl font-bold text-destructive dark:text-destructiveDark",children:ve(T,"BRL","pt-BR",l)})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SOMA DOS PAGAMENTOS MÍNIMOS"}),x.jsxs("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-500",children:[ve(M,"BRL","pt-BR",l)," / mês"]})]})]}),t.filter(E=>!E.is_archived).length>0?x.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.filter(E=>!E.is_archived).map(E=>x.jsx(zoe,{debt:E,onRegisterPayment:O,onEdit:A,onDelete:a,isPrivacyModeEnabled:l},E.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma dívida cadastrada. Adicione suas dívidas para começar a planejar!"}),x.jsx("p",{className:"text-xs text-center text-textMuted dark:text-textMutedDark py-4",children:"Funcionalidades avançadas como estratégias de pagamento (Bola de Neve, Avalanche) e projeções detalhadas serão adicionadas em breve."})]})},Hoe=({onSubmit:t,onCancel:e,accounts:n,creditCards:r,categories:i,tags:a,initialTransaction:o,isPrivacyModeEnabled:l})=>{var Y;const[c,d]=$.useState((o==null?void 0:o.type)||de.EXPENSE),[f,h]=$.useState((o==null?void 0:o.amount.toString())||""),[v,_]=$.useState((o==null?void 0:o.category_id)||""),[w,S]=$.useState((o==null?void 0:o.description)||""),[b,A]=$.useState((o==null?void 0:o.date)||yt()),[O,T]=$.useState((o==null?void 0:o.account_id)||(n.length>0?n[0].id:"")),[M,E]=$.useState((o==null?void 0:o.to_account_id)||(n.length>1?n[1].id:"")),[P,I]=$.useState((o==null?void 0:o.tag_ids)||[]),[D,F]=$.useState({}),q=$.useMemo(()=>{const G=n.map(ae=>({value:ae.id,label:`Conta: ${ae.name}`,type:"account"})),te=r.map(ae=>({value:ae.id,label:`Cartão: ${ae.name}`,type:"creditCard"}));return[...G,...te]},[n,r]);$.useEffect(()=>{var G,te,ae,R;o?(d(o.type),h(o.amount.toString()),_(o.category_id||""),S(o.description||""),A(o.date),T(o.account_id),E(o.to_account_id||""),I(o.tag_ids||[])):(d(de.EXPENSE),h(""),_(((G=i.filter(Q=>Q.type===de.EXPENSE)[0])==null?void 0:G.id)||""),S(""),A(yt()),T(((te=q[0])==null?void 0:te.value)||""),E(((ae=n[1])==null?void 0:ae.id)||((R=n[0])==null?void 0:R.id)||""),I([]))},[o,n,i,q]),$.useEffect(()=>{var te;if(c!==de.TRANSFER){const ae=i.find(R=>R.id===v);if(!ae||ae.type!==c){const R=i.find(Q=>Q.type===c);_((R==null?void 0:R.id)||"")}}const G=q.find(ae=>ae.value===O);(G==null?void 0:G.type)==="creditCard"&&(c===de.INCOME||c===de.TRANSFER)&&T(((te=n[0])==null?void 0:te.id)||"")},[c,v,i,O,n,q]);const L=()=>{const G={};(!f||parseFloat(f)<=0)&&(G.amount="Valor deve ser maior que zero.");const te=q.find(ae=>ae.value===O);return c!==de.TRANSFER&&!v&&(te==null?void 0:te.type)!=="creditCard"&&(v||(G.categoryId="Categoria é obrigatória.")),O||(G.sourceId="Origem (Conta/Cartão) é obrigatória."),c===de.TRANSFER&&!M&&(G.toAccountId="Conta de destino é obrigatória."),c===de.TRANSFER&&O===M&&(G.toAccountId="Conta de origem e destino não podem ser iguais."),c===de.TRANSFER&&(te==null?void 0:te.type)==="creditCard"&&(G.sourceId="Transferências não podem originar de um cartão de crédito."),b||(G.date="Data é obrigatória."),F(G),Object.keys(G).length===0},W=G=>{if(G.preventDefault(),!L())return;const te={...o?{id:o.id}:{},type:c,amount:parseFloat(f),category_id:c===de.TRANSFER?void 0:v,description:w,date:b,account_id:O,to_account_id:c===de.TRANSFER?M:void 0,tag_ids:P.length>0?P:void 0};t(te)},J=G=>{const te=G.target.options,ae=[];for(let R=0,Q=te.length;R<Q;R++)te[R].selected&&ae.push(te[R].value);I(ae)},H=i.filter(G=>G.type===c),B=a.map(G=>({value:G.id,label:G.name})),Z=((Y=q.find(G=>G.value===O))==null?void 0:Y.type)==="creditCard";return x.jsxs("form",{onSubmit:W,className:"space-y-4",children:[x.jsx(Pt,{label:"Tipo",id:"type",options:wh,value:c,onChange:G=>d(G.target.value)}),x.jsx(et,{label:"Valor",id:"amount",type:"number",step:"0.01",value:f,onChange:G=>h(G.target.value),error:D.amount,placeholder:l?ve(0,"BRL","pt-BR",!0).replace("0,00","Ex: 123.45"):"Ex: 123.45",required:!0}),c!==de.TRANSFER&&x.jsx(Pt,{label:Z&&c===de.EXPENSE?"Categoria (Opcional para Débito Direto no Cartão)":"Categoria",id:"category",options:H.map(G=>({value:G.id,label:G.name})),value:v,onChange:G=>_(G.target.value),error:D.categoryId,placeholder:"Selecione uma categoria",disabled:H.length===0}),x.jsx(et,{label:"Descrição (Opcional)",id:"description",type:"text",value:w,onChange:G=>S(G.target.value),placeholder:Z&&c===de.EXPENSE?"Ex: Academia, Assinatura Spotify (será usado na fatura)":"Ex: Compras no mercado"}),x.jsx(et,{label:"Data",id:"date",type:"date",value:b,onChange:G=>A(G.target.value),error:D.date,required:!0}),x.jsx(Pt,{label:c===de.TRANSFER?"Debitar de (Conta)":"Debitar de (Conta / Cartão)",id:"sourceId",options:c===de.TRANSFER?q.filter(G=>G.type==="account"):q,value:O,onChange:G=>T(G.target.value),error:D.sourceId,placeholder:"Selecione uma origem",disabled:q.length===0}),c===de.TRANSFER&&x.jsx(Pt,{label:"Conta de Destino",id:"toAccountId",options:n.map(G=>({value:G.id,label:G.name})),value:M,onChange:G=>E(G.target.value),error:D.toAccountId,placeholder:"Selecione uma conta de destino",disabled:n.length===0}),a.length>0&&x.jsx(Pt,{label:"Tags (Opcional, segure Ctrl/Cmd para selecionar várias)",id:"tags",multiple:!0,options:B,value:P,onChange:J,containerClassName:"h-auto",className:"h-24"}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(ye,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(ye,{type:"submit",variant:"primary",children:o?"Salvar Alterações":"Adicionar Transação"})]})]})},Woe=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-6.364-.386 1.591-1.591M3 12h2.25m.386-6.364 1.591 1.591M12 12a2.25 2.25 0 0 0-2.25 2.25 2.25 2.25 0 0 0 2.25 2.25A2.25 2.25 0 0 0 14.25 12 2.25 2.25 0 0 0 12 12Z"})}),Koe=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),Yoe=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25Z"})}),Joe=({theme:t,setTheme:e})=>{const n=[{name:"light",label:"Claro",icon:x.jsx(Woe,{className:"w-4 h-4"})},{name:"dark",label:"Escuro",icon:x.jsx(Koe,{className:"w-4 h-4"})},{name:"system",label:"Sistema",icon:x.jsx(Yoe,{className:"w-4 h-4"})}];return x.jsxs("div",{className:"p-2",children:[x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark mb-1 px-1",children:"Tema"}),x.jsx("div",{className:"flex items-center justify-around bg-neutral/10 dark:bg-neutralDark/20 rounded-md p-1",children:n.map(r=>x.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>e(r.name),className:`flex-1 !px-2 !py-1 text-xs transition-all duration-200 ease-in-out
                        ${t===r.name?"!bg-primary/20 dark:!bg-primaryDark/30 !text-primary dark:!text-primaryDark":"hover:!bg-neutral/20 dark:hover:!bg-neutralDark/30 !text-textMuted dark:!text-textMutedDark"}`,title:`Mudar para tema ${r.label.toLowerCase()}`,"aria-pressed":t===r.name,children:[K.cloneElement(r.icon,{className:"w-4 h-4 sm:mr-1"}),x.jsx("span",{className:"hidden sm:inline",children:r.label})]},r.name))})]})},Xoe=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Zoe=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93s.844.179 1.259.038l.821-.393c.55-.263 1.18.055 1.39.606l.548 1.004c.21.55-.056 1.18-.607 1.39l-.82.393c-.415.198-.688.598-.758 1.038s.038.844.179 1.259l.393.821c.263.55.055 1.18-.606 1.39l-1.004.548c-.55.21-1.18-.056-1.39-.607l-.393-.82c-.198-.415-.598-.688-1.038-.758s-.844-.038-1.259.179l-.821.393c-.55.263-1.18-.055-1.39-.606l-.548-1.004c-.21-.55.056-1.18.607-1.39l.82-.393c.415-.198.688.598-.758-1.038s-.038-.844-.179-1.259l-.393-.821c-.263-.55-.055-1.18.606-1.39l1.004-.548c.55-.21 1.18.056 1.39.607l.393.82c.198.415.598.688 1.038.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433l-.002-.003c-.043-.073-.086-.146-.129-.219l-.821-.393c-.415-.198-.688-.598-.758-1.038s.038-.844-.179-1.259l.393-.821A.991.991 0 0 0 12 3c-.55 0-1.02.398-1.11.94l-.149.894c-.07.424-.384.764-.78.93s-.844.179-1.259.038l-.821-.393a.991.991 0 0 0-1.433.287l-.003.002c-.073.043-.146.086-.219.129l-.393.821c-.198-.415-.598-.688-1.038.758s-.844-.038-1.259.179l-.821.393a.991.991 0 0 0-.287 1.433l.002.003c.043.073.086.146.129.219l.821.393c.415.198.688.598.758 1.038s-.038.844-.179-1.259l-.393.821a.991.991 0 0 0 1.433.287l.003-.002c.073-.043.146-.086.219-.129l.393-.821c.198-.415.598-.688 1.038-.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433L10.343 3.94Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})]}),Qoe=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5L12 14.25L7.5 16.5V3.75m9 0H18A2.25 2.25 0 0 1 20.25 6v12A2.25 2.25 0 0 1 18 20.25H6A2.25 2.25 0 0 1 3.75 18V6A2.25 2.25 0 0 1 6 3.75h1.5m9 0h-9"})}),ese=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),tse=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}),nse=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"})}),rse=()=>{var $c;const{addToast:t}=SN(),[e,n]=$.useState(null),[r,i]=$.useState(null),[a,o]=$.useState(!0),[l,c]=$.useState(null),[d,f]=$.useState("system"),[h,v]=$.useState(!1),[_,w]=$.useState({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),[S,b]=$.useState([]),[A,O]=$.useState([]),[T,M]=$.useState([]),[E,P]=$.useState([]),[I,D]=$.useState([]),[F,q]=$.useState([]),[L,W]=$.useState([]),[J,H]=$.useState([]),[B,Z]=$.useState([]),[Y,G]=$.useState([]),[te,ae]=$.useState([]),[R,Q]=$.useState([]),[fe,_e]=$.useState([]),[Ne,Fe]=$.useState([]),[nt,Ge]=$.useState([]),[me,$e]=$.useState(!0),[Ve,ce]=$.useState("DASHBOARD"),[xt,Ze]=$.useState(!1),[Ct,bt]=$.useState(null),Ut=$.useMemo(()=>{var j;return((j=r==null?void 0:r.user_metadata)==null?void 0:j.full_name)||(r==null?void 0:r.email)||"Usuário"},[r]);$.useEffect(()=>{o(!0),ke.auth.getSession().then(({data:{session:z}})=>{n(z),i((z==null?void 0:z.user)??null),o(!1)});const{data:{subscription:j}}=ke.auth.onAuthStateChange((z,U)=>{n(U),i((U==null?void 0:U.user)??null),o(!1),z==="SIGNED_OUT"&&(ce("LOGIN"),b([]),O([]),M([]),P([]),D([]),q([]),W([]),H([]),Z([]),G([]),ae([]),Q([]),_e([]),Fe([]),Ge([]),f("system"),v(!1),w({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),t("Você foi desconectado.","info"))});return()=>j.unsubscribe()},[t]);const $n=$.useCallback(async j=>{var z,U;$e(!0);try{const{data:ne,error:re}=await ke.from("user_preferences").select("*").eq("user_id",j).single();if(re&&re.code!=="PGRST116")throw re;if(ne)f(ne.theme),v(ne.is_privacy_mode_enabled),w({isEnabled:ne.ai_is_enabled,monthlyIncome:ne.ai_monthly_income,autoBackupToFileEnabled:ne.ai_auto_backup_enabled,apiKeyStatus:ga()?"available":"unavailable"});else{const Tn={theme:"system",is_privacy_mode_enabled:!1,ai_is_enabled:!1,ai_monthly_income:null,ai_auto_backup_enabled:!1},{error:fn}=await ke.from("user_preferences").insert({user_id:j,...Tn});if(fn)throw fn;f(Tn.theme),v(Tn.is_privacy_mode_enabled),w({isEnabled:Tn.ai_is_enabled,monthlyIncome:Tn.ai_monthly_income,autoBackupToFileEnabled:Tn.ai_auto_backup_enabled,apiKeyStatus:ga()?"available":"unavailable"})}const[ue,Te,xe,Le,Se,Be,ot,Qe,Fi,wo,Ea,So,Co,To,Aa]=await Promise.all([ke.from("transactions").select("*").eq("user_id",j).order("date",{ascending:!1}),ke.from("accounts").select("*").eq("user_id",j).order("name"),ke.from("categories").select("*").eq("user_id",j).order("name"),ke.from("credit_cards").select("*").eq("user_id",j).order("name"),ke.from("installment_purchases").select("*").eq("user_id",j).order("purchase_date",{ascending:!1}),ke.from("money_boxes").select("*").eq("user_id",j).order("name"),ke.from("money_box_transactions").select("*").eq("user_id",j).order("date",{ascending:!1}),ke.from("future_purchases").select("*").eq("user_id",j).order("created_at",{ascending:!1}),ke.from("tags").select("*").eq("user_id",j).order("name"),ke.from("recurring_transactions").select("*").eq("user_id",j).order("next_due_date"),ke.from("loans").select("*").eq("user_id",j).order("loan_date",{ascending:!1}),ke.from("loan_repayments").select("*").eq("user_id",j).order("repayment_date",{ascending:!1}),ke.from("ai_insights").select("*").eq("user_id",j).order("timestamp",{ascending:!1}),ke.from("debts").select("*").eq("user_id",j).order("created_at",{ascending:!1}),ke.from("debt_payments").select("*").eq("user_id",j).order("payment_date",{ascending:!1})]);if(ue.error)throw ue.error;if(b(ue.data),Te.error)throw Te.error;if(O(Te.data),xe.error)throw xe.error;if(M(xe.data),Le.error)throw Le.error;if(P(Le.data),Se.error)throw Se.error;if(D(Se.data),Be.error)throw Be.error;if(q(Be.data),ot.error)throw ot.error;if(W(ot.data),Qe.error)throw Qe.error;if(H(Qe.data),Fi.error)throw Fi.error;if(Z(Fi.data),wo.error)throw wo.error;if(G(wo.data),Ea.error)throw Ea.error;if(ae(Ea.data),So.error)throw So.error;if(Q(So.data),Co.error)throw Co.error;if(_e(Co.data),To.error)throw To.error;if(Fe(To.data),Aa.error)throw Aa.error;if(Ge(Aa.data),((z=Te.data)==null?void 0:z.length)===0){const Tn=S3(j).map(lr=>({...lr,user_id:j})),{data:fn,error:Bn}=await ke.from("accounts").insert(Tn).select();if(Bn)throw Bn;fn&&O(fn)}if(((U=xe.data)==null?void 0:U.length)===0){const Tn=w3(j).map(lr=>({...lr,user_id:j})),{data:fn,error:Bn}=await ke.from("categories").insert(Tn).select();if(Bn)throw Bn;fn&&M(fn)}ce("DASHBOARD")}catch(ne){console.error("Error fetching user data:",ne),t(`Erro ao carregar dados: ${ne.message}`,"error")}finally{$e(!1)}},[t]);$.useEffect(()=>{r&&!a?$n(r.id):!r&&!a&&(ce("LOGIN"),$e(!1))},[r,a,$n]);const Cn=$.useCallback(async(j,z,U)=>{const{error:ne}=await ke.from("user_preferences").update({[z]:U,updated_at:new Date().toISOString()}).eq("user_id",j);ne&&(console.error(`Error updating user preference ${z}:`,ne),t(`Erro ao salvar preferência (${z}): ${ne.message}`,"error"))},[t]),or=$.useCallback(j=>{f(j),r&&Cn(r.id,"theme",j)},[r,Cn]),gn=$.useCallback(()=>{const j=!h;v(j),r&&Cn(r.id,"is_privacy_mode_enabled",j)},[h,r,Cn]),Ln=$.useCallback(j=>{const z={};j.isEnabled!==void 0&&(z.ai_is_enabled=j.isEnabled),j.monthlyIncome!==void 0&&(z.ai_monthly_income=j.monthlyIncome),j.autoBackupToFileEnabled!==void 0&&(z.ai_auto_backup_enabled=j.autoBackupToFileEnabled),w(U=>({...U,...j})),r&&Object.keys(z).length>0&&ke.from("user_preferences").update({...z,updated_at:new Date().toISOString()}).eq("user_id",r.id).then(({error:U})=>{U&&(console.error("Error updating AI config in preferences:",U),t(`Erro ao salvar configurações da IA: ${U.message}`,"error"))})},[r,t]);$.useEffect(()=>{const j=z=>{z==="dark"||z==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};if(j(d),d==="system"){const z=window.matchMedia("(prefers-color-scheme: dark)"),U=()=>j("system");return z.addEventListener("change",U),()=>z.removeEventListener("change",U)}},[d]);const Ii=async()=>{try{c(null);const{error:j}=await ke.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://thiago3005.github.io/controle-financeiro/"}});if(j)throw j}catch(j){console.error("Error signing in with Google:",j),c(j.message||"Falha ao fazer login com Google."),t(j.message||"Falha ao fazer login com Google.","error")}},Sa=async()=>{try{const{error:j}=await ke.auth.signOut();if(j)throw j}catch(j){console.error("Error signing out:",j),t(j.message||"Falha ao sair.","error")}},Cr=$.useCallback(j=>{if(!r)return 0;const z=A.find(U=>U.id===j);return z?S.reduce((U,ne)=>{if(ne.account_id===j){if(ne.type===de.INCOME)return U+ne.amount;if(ne.type===de.EXPENSE||ne.type===de.TRANSFER)return U-ne.amount}else if(ne.to_account_id===j&&ne.type===de.TRANSFER)return U+ne.amount;return U},z.initial_balance):0},[A,S,r]),Ni=$.useCallback(j=>r?L.reduce((z,U)=>{if(U.money_box_id===j){if(U.type===ir.DEPOSIT)return z+U.amount;if(U.type===ir.WITHDRAWAL)return z-U.amount}return z},0):0,[L,r]),Ht=$.useCallback(j=>{if(!r)return null;const z=new Date,U=yt(z),ne=z.getDate(),re=z.getFullYear(),ue=z.getMonth(),Te=new Date(re,ue+1,0).getDate();let xe=[...S];if(j){const Se={id:`simulated-${ut()}`,user_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),type:j.type,amount:j.amount,date:j.date,description:j.description,account_id:"simulated_account"};xe.push(Se)}const Le=()=>d==="system"?typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":d;return{currentDate:U,dayOfMonth:ne,daysInMonth:Te,accounts:A.map(Se=>({id:Se.id,name:Se.name})),accountBalances:A.map(Se=>({accountId:Se.id,balance:Cr(Se.id)})),categories:T.map(Se=>({id:Se.id,name:Se.name,type:Se.type,monthly_budget:Se.monthly_budget})),transactions:xe,moneyBoxes:F.map(Se=>({id:Se.id,name:Se.name,goal_amount:Se.goal_amount})),moneyBoxBalances:F.map(Se=>({moneyBoxId:Se.id,balance:Ni(Se.id)})),loans:te.map(Se=>({id:Se.id,person_name:Se.person_name,total_amount_to_reimburse:Se.total_amount_to_reimburse})),outstandingLoanBalances:te.map(Se=>{const Be=R.filter(ot=>ot.loan_id===Se.id).reduce((ot,Qe)=>ot+Qe.amount_paid,0);return{loanId:Se.id,outstanding:Se.total_amount_to_reimburse-Be}}),recurringTransactions:Y.map(Se=>({id:Se.id,description:Se.description,amount:Se.amount,type:Se.type,next_due_date:Se.next_due_date,frequency:Se.frequency,category_id:Se.category_id})),futurePurchases:J.map(Se=>({id:Se.id,name:Se.name,estimated_cost:Se.estimated_cost,priority:Se.priority,status:Se.status})),theme:Le(),monthlyIncome:_.monthlyIncome,simulatedTransactionData:j}},[r,A,S,T,F,L,te,R,Y,J,d,_.monthlyIncome,Cr,Ni]),jt=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("ai_insights").insert({...j,user_id:r.id}).select().single();U?t(`Erro ao salvar insight: ${U.message}`,"error"):z&&_e(ne=>[z,...ne].sort((re,ue)=>new Date(ue.timestamp).getTime()-new Date(re.timestamp).getTime()))},xc=$.useCallback(async()=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const j=Ht();if(!j)return;const z={timestamp:new Date().toISOString(),type:"general_advice",content:"Buscando novo conselho...",is_read:!1,isLoading:!0},U=ut();_e(re=>[{...z,id:U,user_id:r.id,created_at:"",updated_at:""},...re]);const ne=await roe(j);_e(re=>re.filter(ue=>ue.id!==U)),ne&&jt(ne)},[r,_.isEnabled,_.apiKeyStatus,Ht,jt]),Di=$.useCallback(async j=>{var xe,Le,Se;if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const z=Ht();if(!z)return;const U={timestamp:new Date().toISOString(),type:"transaction_comment",content:`Analisando transação: ${j.description||j.type}...`,related_transaction_id:j.id,is_read:!1,isLoading:!0},ne=ut();_e(Be=>[{...U,id:ne,user_id:r.id,created_at:"",updated_at:""},...Be]);const re=j.category_id?(xe=T.find(Be=>Be.id===j.category_id))==null?void 0:xe.name:void 0,ue=((Le=A.find(Be=>Be.id===j.account_id))==null?void 0:Le.name)||((Se=E.find(Be=>Be.id===j.account_id))==null?void 0:Se.name),Te=await ioe(j,z,re,ue);_e(Be=>Be.filter(ot=>ot.id!==ne)),Te&&jt(Te)},[r,_.isEnabled,_.apiKeyStatus,T,A,E,Ht,jt]),Ri=$.useCallback(async j=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available"||j.type!==de.EXPENSE||!j.category_id)return;const z=Ht();if(!z)return;const U=T.find(xe=>xe.id===j.category_id);if(!U)return;const ne=j.date.substring(0,7),ue=S.filter(xe=>xe.category_id===U.id&&xe.date.startsWith(ne)&&xe.type===de.EXPENSE).reduce((xe,Le)=>xe+Le.amount,0);if(U.monthly_budget&&U.monthly_budget>0){const xe=U.monthly_budget/z.daysInMonth*z.dayOfMonth;if(ue>xe*1.2){const Le=await loe(U.name,ue,xe,U.monthly_budget,z,U.id);Le&&jt(Le)}}if(U.monthly_budget&&U.monthly_budget>0&&z.dayOfMonth>0){const xe=ue/z.dayOfMonth*z.daysInMonth,Le=z.daysInMonth-z.dayOfMonth;if(xe>U.monthly_budget*1.05){const Se=await uoe(U.name,ue,U.monthly_budget,Le,xe,z,U.id);Se&&jt(Se)}}const Te=S.filter(xe=>xe.category_id===U.id&&xe.id!==j.id).slice(0,20);if(Te.length>5){const xe=await foe(j,U.name,Te);xe&&jt(xe)}},[r,_,T,S,Ht,jt]),pp=$.useCallback(async()=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const j=Ht();if(!j)return;const z={timestamp:new Date().toISOString(),type:"recurring_payment_candidate",content:"Analisando possíveis despesas recorrentes não cadastradas...",is_read:!1,isLoading:!0},U=ut();_e(re=>[{...z,id:U,user_id:r.id,created_at:"",updated_at:""},...re]);const ne=await coe(S,Y,j);_e(re=>re.filter(ue=>ue.id!==U)),ne?jt(ne):t("Nenhuma nova despesa recorrente óbvia encontrada.","info")},[r,_,S,Y,Ht,jt,t]),_c=$.useCallback(async()=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const j=Ht();if(!j)return;const z={timestamp:new Date().toISOString(),type:"saving_opportunity_suggestion",content:"Buscando oportunidades de economia...",is_read:!1,isLoading:!0},U=ut();_e(re=>[{...z,id:U,user_id:r.id,created_at:"",updated_at:""},...re]);const ne=await doe(S,T,F,j);_e(re=>re.filter(ue=>ue.id!==U)),ne?jt(ne):t("Nenhuma oportunidade clara de economia encontrada no momento.","info")},[r,_,S,T,F,Ht,jt,t]),bc=$.useCallback(async(j=30,z)=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const U=Ht(z);if(!U)return;const ne={timestamp:new Date().toISOString(),type:"cash_flow_projection",content:`Gerando projeção de fluxo de caixa para os próximos ${j} dias${z?" (com simulação)":""}...`,is_read:!1,isLoading:!0},re=ut();_e(Te=>[{...ne,id:re,user_id:r.id,created_at:"",updated_at:""},...Te]);const ue=await hoe(U,j);_e(Te=>Te.filter(xe=>xe.id!==re)),ue&&jt(ue)},[r,_,Ht,jt]),mp=$.useCallback(async(j,z)=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available"||!_.monthlyIncome)return t("Renda mensal não informada ou IA desativada.","warning"),null;const U=Ht();if(!U)return null;const ne=T.find(xe=>xe.name===j&&xe.type===de.EXPENSE),re={timestamp:new Date().toISOString(),type:"budget_recommendation",content:`Calculando sugestão de orçamento para ${j}...`,related_category_id:ne==null?void 0:ne.id,is_read:!1,isLoading:!0},ue=ut();_e(xe=>[{...re,id:ue,user_id:r.id,created_at:"",updated_at:""},...xe]);const Te=await aoe(j,_.monthlyIncome,z,U);if(_e(xe=>xe.filter(Le=>Le.id!==ue)),Te&&"suggestedBudget"in Te&&typeof Te.suggestedBudget=="number"){const xe={content:`Sugestão para ${j}: ${ve(Te.suggestedBudget)}`,related_category_id:ne==null?void 0:ne.id,timestamp:new Date().toISOString(),type:"budget_recommendation",is_read:!1};return jt(xe),Te.suggestedBudget}else Te&&"content"in Te&&jt(Te);return null},[r,_,T,Ht,t,jt]),cl=$.useCallback(async j=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available"){t("AI Coach desativado ou API Key indisponível.","warning");return}const z=J.find(re=>re.id===j);if(!z)return;const U=Ht();if(!U)return;H(re=>re.map(ue=>ue.id===j?{...ue,status:"AI_ANALYZING"}:ue));const ne=await ooe(z,U);if(ne&&"analysisText"in ne){const{data:re,error:ue}=await ke.from("future_purchases").update({status:ne.recommendedStatus,ai_analysis:ne.analysisText,ai_analyzed_at:new Date().toISOString()}).eq("id",j).eq("user_id",r.id).select().single();ue||!re?(t(`Erro ao atualizar compra futura: ${(ue==null?void 0:ue.message)||"Falha"}`,"error"),H(Te=>Te.map(xe=>xe.id===j?{...xe,status:z.status}:xe))):(H(Te=>Te.map(xe=>xe.id===j?re:xe)),t(`Análise para "${z.name}" concluída!`,"info"))}else ne&&"content"in ne&&(jt(ne),H(re=>re.map(ue=>ue.id===j?{...ue,status:z.status}:ue)))},[r,_,J,Ht,t,jt]),xo=async j=>{var re;if(!r)return;const z={...j,user_id:r.id},{data:U,error:ne}=await ke.from("transactions").insert(z).select().single();if(ne){t(`Erro: ${ne.message}`,"error");return}if(U&&(b(Te=>[U,...Te].sort((xe,Le)=>new Date(Le.date).getTime()-new Date(xe.date).getTime())),Ze(!1),Di(U),Ri(U),t("Transação adicionada!","success"),E.some(Te=>Te.id===U.account_id)&&U.type===de.EXPENSE)){const Te={credit_card_id:U.account_id,description:`Débito na Fatura: ${U.description||((re=T.find(xe=>xe.id===U.category_id))==null?void 0:re.name)||"Despesa no Cartão"}`,purchase_date:U.date,total_amount:U.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:U.id};await Li(Te,!1)}},dl=async j=>{var re,ue,Te;if(!r||!j.id)return;const z=S.find(xe=>xe.id===j.id);if(!z){t("Erro: Transação original não encontrada.","error");return}const{data:U,error:ne}=await ke.from("transactions").update(j).eq("id",j.id).eq("user_id",r.id).select().single();if(ne){t(`Erro ao atualizar transação: ${ne.message}`,"error");return}if(U){b(Be=>Be.map(ot=>ot.id===U.id?U:ot).sort((ot,Qe)=>new Date(Qe.date).getTime()-new Date(ot.date).getTime())),Ze(!1),bt(null),Di(U),Ri(U),t("Transação atualizada!","success");const xe=E.some(Be=>Be.id===z.account_id)&&z.type===de.EXPENSE,Le=E.some(Be=>Be.id===U.account_id)&&U.type===de.EXPENSE,Se=I.find(Be=>Be.linked_transaction_id===z.id&&Be.number_of_installments===1);if(xe&&!Le&&Se)await Bi(Se.id,!1);else if(!xe&&Le){const Be={credit_card_id:U.account_id,description:`Débito na Fatura: ${U.description||((re=T.find(ot=>ot.id===U.category_id))==null?void 0:re.name)||"Despesa no Cartão"}`,purchase_date:U.date,total_amount:U.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:U.id};await Li(Be,!1)}else if(xe&&Le&&Se){if(z.account_id!==U.account_id&&Se){await Bi(Se.id,!1);const Be={credit_card_id:U.account_id,description:`Débito na Fatura: ${U.description||((ue=T.find(ot=>ot.id===U.category_id))==null?void 0:ue.name)||"Despesa no Cartão"}`,purchase_date:U.date,total_amount:U.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:U.id};await Li(Be,!1)}else if(Se){const Be={...Se,description:`Débito na Fatura: ${U.description||((Te=T.find(ot=>ot.id===U.category_id))==null?void 0:Te.name)||"Despesa no Cartão"}`,purchase_date:U.date,total_amount:U.amount};await ni(Be,!1)}}}},fl=async j=>{if(r&&window.confirm("Excluir esta transação?")){L.find(ne=>ne.linked_transaction_id===j);const z=I.find(ne=>ne.linked_transaction_id===j&&ne.number_of_installments===1);z&&await Bi(z.id,!1);const{error:U}=await ke.from("transactions").delete().eq("id",j).eq("user_id",r.id);U?t(`Erro: ${U.message}`,"error"):(b(ne=>ne.filter(re=>re.id!==j)),t("Transação excluída!","success"))}},hl=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("accounts").insert({...j,user_id:r.id}).select().single();U?t(`Erro: ${U.message}`,"error"):z&&(O(ne=>[...ne,z].sort((re,ue)=>re.name.localeCompare(ue.name))),t("Conta adicionada!","success"))},ji=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("accounts").update(j).eq("id",j.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):z&&(O(ne=>ne.map(re=>re.id===z.id?z:re).sort((re,ue)=>re.name.localeCompare(ue.name))),t("Conta atualizada!","success"))},$i=async j=>{if(r){if(S.some(z=>z.account_id===j||z.to_account_id===j)||Y.some(z=>z.account_id===j||z.to_account_id===j)||te.some(z=>z.linked_account_id===j||R.some(U=>U.loan_id===z.id&&U.credited_account_id===j))||L.some(z=>{var U;return((U=S.find(ne=>ne.id===z.linked_transaction_id))==null?void 0:U.account_id)===j})||nt.some(z=>{var U;return((U=S.find(ne=>ne.id===z.linked_expense_transaction_id))==null?void 0:U.account_id)===j})){t("Conta em uso. Remova/reatribua transações, recorrências, empréstimos ou pagamentos de dívidas primeiro.","error");return}if(window.confirm("Excluir esta conta?")){const{error:z}=await ke.from("accounts").delete().eq("id",j).eq("user_id",r.id);z?t(`Erro: ${z.message}`,"error"):(O(U=>U.filter(ne=>ne.id!==j)),t("Conta excluída!","success"))}}},wc=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("categories").insert({...j,user_id:r.id}).select().single();U?t(`Erro: ${U.message}`,"error"):z&&(M(ne=>[...ne,z].sort((re,ue)=>re.name.localeCompare(ue.name))),t("Categoria adicionada!","success"))},Sc=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("categories").update(j).eq("id",j.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):z&&(M(ne=>ne.map(re=>re.id===z.id?z:re).sort((re,ue)=>re.name.localeCompare(ue.name))),t("Categoria atualizada!","success"))},Cc=async j=>{if(r){if(S.some(z=>z.category_id===j)||Y.some(z=>z.category_id===j)){t("Categoria em uso. Remova/reatribua transações ou recorrências primeiro.","error");return}if(window.confirm("Excluir esta categoria?")){const{error:z}=await ke.from("categories").delete().eq("id",j).eq("user_id",r.id);z?t(`Erro: ${z.message}`,"error"):(M(U=>U.filter(ne=>ne.id!==j)),t("Categoria excluída!","success"))}}},Tc=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("credit_cards").insert({...j,user_id:r.id}).select().single();U?t(`Erro: ${U.message}`,"error"):z&&(P(ne=>[...ne,z].sort((re,ue)=>re.name.localeCompare(ue.name))),t("Cartão adicionado!","success"))},kc=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("credit_cards").update(j).eq("id",j.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):z&&(P(ne=>ne.map(re=>re.id===z.id?z:re).sort((re,ue)=>re.name.localeCompare(ue.name))),t("Cartão atualizado!","success"))},pl=async j=>{if(r){if(I.some(z=>z.credit_card_id===j)||te.some(z=>z.linked_credit_card_id===j)||S.some(z=>z.account_id===j&&z.type===de.EXPENSE)){t("Cartão em uso em compras, empréstimos ou débitos diretos. Remova-os primeiro.","error");return}if(window.confirm("Excluir este cartão?")){const{error:z}=await ke.from("credit_cards").delete().eq("id",j).eq("user_id",r.id);z?t(`Erro: ${z.message}`,"error"):(P(U=>U.filter(ne=>ne.id!==j)),t("Cartão excluído!","success"))}}},Li=async(j,z=!0)=>{if(!r)return;const{data:U,error:ne}=await ke.from("installment_purchases").insert({...j,user_id:r.id}).select().single();ne?t(`Erro: ${ne.message}`,"error"):U&&(D(re=>[...re,U].sort((ue,Te)=>new Date(Te.purchase_date).getTime()-new Date(ue.purchase_date).getTime())),z&&t("Compra parcelada adicionada!","success"))},ni=async(j,z=!0)=>{if(!r)return;const{data:U,error:ne}=await ke.from("installment_purchases").update(j).eq("id",j.id).eq("user_id",r.id).select().single();ne?t(`Erro: ${ne.message}`,"error"):U&&(D(re=>re.map(ue=>ue.id===U.id?U:ue).sort((ue,Te)=>new Date(Te.purchase_date).getTime()-new Date(ue.purchase_date).getTime())),z&&t("Compra parcelada atualizada!","success"))},Bi=async(j,z=!0)=>{if(!r)return;const U=I.find(re=>re.id===j);if(te.some(re=>re.linked_installment_purchase_id===j)){t("Esta compra parcelada está vinculada a um empréstimo. Remova o vínculo no empréstimo primeiro.","error");return}const ne=U!=null&&U.linked_transaction_id&&U.number_of_installments===1&&z?"Excluir esta compra e a transação de despesa original vinculada?":"Excluir esta compra parcelada?";if(window.confirm(ne)){if(U!=null&&U.linked_transaction_id&&U.number_of_installments===1&&z){const{error:ue}=await ke.from("transactions").delete().eq("id",U.linked_transaction_id).eq("user_id",r.id);ue?t(`Erro ao excluir transação vinculada: ${ue.message}`,"error"):b(Te=>Te.filter(xe=>xe.id!==U.linked_transaction_id))}const{error:re}=await ke.from("installment_purchases").delete().eq("id",j).eq("user_id",r.id);re?t(`Erro ao excluir compra: ${re.message}`,"error"):(D(ue=>ue.filter(Te=>Te.id!==j)),t("Compra parcelada excluída!","success"))}},Ca=async j=>{if(!r)return;const z=I.find(U=>U.id===j);if(z&&z.installments_paid<z.number_of_installments){const U={...z,installments_paid:z.installments_paid+1};await ni(U)}},gp=async j=>{if(!r)return;const z=E.find(re=>re.id===j);if(!z){t("Cartão não encontrado.","error");return}const U=_N(I,z,new Date);if(U.length===0){t("Nenhuma parcela elegível para pagamento neste ciclo.","info");return}const ne=U.map(re=>{const ue={...re,installments_paid:re.installments_paid+1};return ke.from("installment_purchases").update({installments_paid:ue.installments_paid,updated_at:new Date().toISOString()}).eq("id",re.id).eq("user_id",r.id).select().single()});try{const re=await Promise.all(ne),ue=[];let Te=0;re.forEach(xe=>{xe.error?(Te++,console.error("Error updating installment:",xe.error)):xe.data&&ue.push(xe.data)}),ue.length>0&&(D(xe=>xe.map(Le=>ue.find(Be=>Be.id===Le.id)||Le).sort((Le,Se)=>new Date(Se.purchase_date).getTime()-new Date(Le.purchase_date).getTime())),t(`${ue.length} parcela(s) da fatura marcada(s) como paga(s)!`,"success")),Te>0&&t(`Falha ao pagar ${Te} parcela(s).`,"error")}catch(re){t(`Erro ao processar pagamento das parcelas: ${re.message}`,"error")}},Ta=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("money_boxes").insert({...j,user_id:r.id}).select().single();U?t(`Erro: ${U.message}`,"error"):z&&(q(ne=>[...ne,z].sort((re,ue)=>re.name.localeCompare(ue.name))),t("Caixinha adicionada!","success"))},_o=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("money_boxes").update(j).eq("id",j.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):z&&(q(ne=>ne.map(re=>re.id===z.id?z:re).sort((re,ue)=>re.name.localeCompare(ue.name))),t("Caixinha atualizada!","success"))},bo=async j=>{if(r){if(L.some(z=>z.money_box_id===j)){t("Caixinha possui transações. Exclua as transações primeiro.","error");return}if(window.confirm("Excluir esta caixinha?")){const{error:z}=await ke.from("money_boxes").delete().eq("id",j).eq("user_id",r.id);z?t(`Erro ao excluir caixinha: ${z.message}`,"error"):(q(U=>U.filter(ne=>ne.id!==j)),t("Caixinha excluída!","success"))}}},ml=async(j,z,U)=>{var Te;if(!r)return;let ne;if(z&&U){const xe=j.type===ir.DEPOSIT?de.EXPENSE:de.INCOME,Le=`${j.type===ir.DEPOSIT?"Depósito para":"Saque de"} Caixinha: ${((Te=F.find(ot=>ot.id===j.money_box_id))==null?void 0:Te.name)||"N/A"}`,{data:Se,error:Be}=await ke.from("transactions").insert({user_id:r.id,type:xe,amount:j.amount,date:j.date,account_id:U,description:Le}).select().single();if(Be||!Se){t(`Erro ao criar transação principal: ${(Be==null?void 0:Be.message)||"Falha"}`,"error");return}ne=Se.id,b(ot=>[Se,...ot].sort((Qe,Fi)=>new Date(Fi.date).getTime()-new Date(Qe.date).getTime()))}const{data:re,error:ue}=await ke.from("money_box_transactions").insert({...j,user_id:r.id,linked_transaction_id:ne}).select().single();ue?t(`Erro ao adicionar transação da caixinha: ${ue.message}`,"error"):re&&(W(xe=>[...xe,re]),t("Transação da caixinha adicionada!","success"))},vp=async(j,z)=>{if(r&&window.confirm(`Excluir esta transação da caixinha? ${z?"\\nA transação principal vinculada NÃO será excluída automaticamente por esta ação.":""}`)){const{error:U}=await ke.from("money_box_transactions").delete().eq("id",j).eq("user_id",r.id);U?t(`Erro: ${U.message}`,"error"):(W(ne=>ne.filter(re=>re.id!==j)),t("Transação da caixinha excluída!","success"))}},yp=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("tags").insert({...j,user_id:r.id}).select().single();U?t(`Erro: ${U.message}`,"error"):z&&(Z(ne=>[...ne,z].sort((re,ue)=>re.name.localeCompare(ue.name))),t("Tag adicionada!","success"))},xp=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("tags").update(j).eq("id",j.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):z&&(Z(ne=>ne.map(re=>re.id===z.id?z:re).sort((re,ue)=>re.name.localeCompare(ue.name))),t("Tag atualizada!","success"))},ri=async j=>{if(r){if(S.some(z=>{var U;return(U=z.tag_ids)==null?void 0:U.includes(j)})){t("Tag em uso. Remova-a das transações primeiro.","error");return}if(window.confirm("Excluir esta tag?")){const{error:z}=await ke.from("tags").delete().eq("id",j).eq("user_id",r.id);z?t(`Erro: ${z.message}`,"error"):(Z(U=>U.filter(ne=>ne.id!==j)),t("Tag excluída!","success"))}}},Ec=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("recurring_transactions").insert({...j,user_id:r.id}).select().single();U?t(`Erro: ${U.message}`,"error"):z&&(G(ne=>[...ne,z].sort((re,ue)=>new Date(re.next_due_date).getTime()-new Date(ue.next_due_date).getTime())),t("Recorrência adicionada!","success"))},Ac=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("recurring_transactions").update(j).eq("id",j.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):z&&(G(ne=>ne.map(re=>re.id===z.id?z:re).sort((re,ue)=>new Date(re.next_due_date).getTime()-new Date(ue.next_due_date).getTime())),t("Recorrência atualizada!","success"))},_p=async j=>{if(r&&window.confirm("Excluir esta recorrência?")){const{error:z}=await ke.from("recurring_transactions").delete().eq("id",j).eq("user_id",r.id);z?t(`Erro: ${z.message}`,"error"):(G(U=>U.filter(ne=>ne.id!==j)),t("Recorrência excluída!","success"))}},Pc=async()=>{if(!r)return{count:0,errors:["Usuário não logado."]};const j=yt(),z=Y.filter(re=>!re.is_paused&&re.next_due_date<=j&&(re.remaining_occurrences===void 0||re.remaining_occurrences>0));let U=0;const ne=[];for(const re of z){const ue={type:re.type,amount:re.amount,category_id:re.category_id,description:`Rec: ${re.description}`,date:re.next_due_date,account_id:re.account_id,to_account_id:re.to_account_id};await xo(ue);const Te=poe(re.next_due_date,re.frequency,re.custom_interval_days),xe={last_posted_date:re.next_due_date,next_due_date:Te,remaining_occurrences:re.remaining_occurrences!==void 0?Math.max(0,re.remaining_occurrences-1):void 0},{error:Le}=await ke.from("recurring_transactions").update(xe).eq("id",re.id).eq("user_id",r.id);Le?ne.push(`Erro ao atualizar ${re.description}: ${Le.message}`):(G(Se=>Se.map(Be=>Be.id===re.id?{...Be,...xe}:Be).sort((Be,ot)=>new Date(Be.next_due_date).getTime()-new Date(ot.next_due_date).getTime())),U++)}return{count:U,errors:ne}},Oc=async(j,z)=>{if(!r)return;let U,ne;if(j.funding_source==="account"&&j.linked_account_id&&j.amount_delivered_from_account){const{data:xe,error:Le}=await ke.from("transactions").insert({user_id:r.id,type:de.EXPENSE,amount:j.amount_delivered_from_account,date:j.loan_date,account_id:j.linked_account_id,description:`Empréstimo para ${j.person_name}`}).select().single();if(Le||!xe){t(`Erro ao criar despesa vinculada: ${(Le==null?void 0:Le.message)||"Falha"}`,"error");return}U=xe.id,b(Se=>[xe,...Se].sort((Be,ot)=>new Date(ot.date).getTime()-new Date(Be.date).getTime()))}else if(j.funding_source==="creditCard"&&j.linked_credit_card_id&&j.cost_on_credit_card&&z){const xe={credit_card_id:j.linked_credit_card_id,description:`Empréstimo (crédito) para ${j.person_name}`,purchase_date:j.loan_date,total_amount:j.cost_on_credit_card,number_of_installments:z,installments_paid:0};await Li(xe,!1);const Le=I.sort((Se,Be)=>new Date(Be.created_at).getTime()-new Date(Se.created_at).getTime())[0];Le!=null&&Le.description.startsWith(`Empréstimo (crédito) para ${j.person_name}`)?ne=Le.id:t("Aviso: Não foi possível vincular automaticamente a compra parcelada ao empréstimo. Verifique manualmente.","warning")}const re={...j,user_id:r.id,linked_expense_transaction_id:U,linked_installment_purchase_id:ne},{data:ue,error:Te}=await ke.from("loans").insert(re).select().single();Te?t(`Erro ao adicionar empréstimo: ${Te.message}`,"error"):ue&&(ae(xe=>[...xe,ue].sort((Le,Se)=>new Date(Se.loan_date).getTime()-new Date(Le.loan_date).getTime())),t("Empréstimo adicionado!","success"))},Mc=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("loans").update(j).eq("id",j.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):z&&(ae(ne=>ne.map(re=>re.id===z.id?z:re).sort((re,ue)=>new Date(ue.loan_date).getTime()-new Date(re.loan_date).getTime())),t("Empréstimo atualizado!","success"))},Ic=async j=>{if(r){if(R.some(z=>z.loan_id===j)){t("Este empréstimo possui pagamentos. Exclua os pagamentos primeiro.","error");return}if(window.confirm("Excluir este empréstimo? Isso também excluirá a despesa/compra parcelada vinculada, se houver.")){const z=te.find(ne=>ne.id===j);z!=null&&z.linked_expense_transaction_id&&(await ke.from("transactions").delete().eq("id",z.linked_expense_transaction_id).eq("user_id",r.id),b(ne=>ne.filter(re=>re.id!==z.linked_expense_transaction_id))),z!=null&&z.linked_installment_purchase_id&&(await ke.from("installment_purchases").delete().eq("id",z.linked_installment_purchase_id).eq("user_id",r.id),D(ne=>ne.filter(re=>re.id!==z.linked_installment_purchase_id)));const{error:U}=await ke.from("loans").delete().eq("id",j).eq("user_id",r.id);U?t(`Erro ao excluir empréstimo: ${U.message}`,"error"):(ae(ne=>ne.filter(re=>re.id!==j)),t("Empréstimo excluído!","success"))}}},bp=async(j,z)=>{if(!r)return;const U=te.find(Le=>Le.id===z);if(!U){t("Empréstimo não encontrado.","error");return}const{data:ne,error:re}=await ke.from("transactions").insert({user_id:r.id,type:de.INCOME,amount:j.amount_paid,date:j.repayment_date,account_id:j.credited_account_id,description:`Recebimento empréstimo de ${U.person_name}`}).select().single();if(re||!ne){t(`Erro ao criar receita vinculada: ${(re==null?void 0:re.message)||"Falha"}`,"error");return}b(Le=>[ne,...Le].sort((Se,Be)=>new Date(Be.date).getTime()-new Date(Se.date).getTime()));const ue={...j,user_id:r.id,loan_id:z,linked_income_transaction_id:ne.id},{data:Te,error:xe}=await ke.from("loan_repayments").insert(ue).select().single();xe?t(`Erro ao adicionar pagamento: ${xe.message}`,"error"):Te&&(Q(Le=>[...Le,Te]),t("Pagamento registrado!","success"))},wp=async j=>{if(!r)return;const z={...j,user_id:r.id,status:"PLANNED"},{data:U,error:ne}=await ke.from("future_purchases").insert(z).select().single();ne?t(`Erro: ${ne.message}`,"error"):U&&(H(re=>[...re,U]),t("Compra futura adicionada!","success"))},Bt=async j=>{if(!r)return;const z=J.find(ue=>ue.id===j.id);if(!z)return;const U={...z,...j},{data:ne,error:re}=await ke.from("future_purchases").update(U).eq("id",U.id).eq("user_id",r.id).select().single();re?t(`Erro: ${re.message}`,"error"):ne&&(H(ue=>ue.map(Te=>Te.id===ne.id?ne:Te)),t("Compra futura atualizada!","success"))},Sp=async j=>{if(r&&window.confirm("Excluir esta compra futura?")){const{error:z}=await ke.from("future_purchases").delete().eq("id",j).eq("user_id",r.id);z?t(`Erro: ${z.message}`,"error"):(H(U=>U.filter(ne=>ne.id!==j)),t("Compra futura excluída!","success"))}},gl=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("ai_insights").update({is_read:j.is_read}).eq("id",j.id).eq("user_id",r.id).select().single();U?t(`Erro ao atualizar insight: ${U.message}`,"error"):z&&_e(ne=>ne.map(re=>re.id===z.id?z:re).sort((re,ue)=>new Date(ue.timestamp).getTime()-new Date(re.timestamp).getTime()))},Nc=async j=>{if(!r)return;const z={...j,user_id:r.id,current_balance:j.initial_balance,is_archived:!1},{data:U,error:ne}=await ke.from("debts").insert(z).select().single();ne?t(`Erro ao adicionar dívida: ${ne.message}`,"error"):U&&(Fe(re=>[...re,U].sort((ue,Te)=>new Date(Te.created_at).getTime()-new Date(ue.created_at).getTime())),t("Dívida adicionada!","success"))},ka=async j=>{if(!r)return;const{data:z,error:U}=await ke.from("debts").update(j).eq("id",j.id).eq("user_id",r.id).select().single();U?t(`Erro ao atualizar dívida: ${U.message}`,"error"):z&&(Fe(ne=>ne.map(re=>re.id===z.id?z:re)),t("Dívida atualizada!","success"))},Cp=async j=>{if(r){if(nt.some(z=>z.debt_id===j)){t("Esta dívida possui pagamentos registrados. Exclua os pagamentos primeiro.","error");return}if(window.confirm("Excluir esta dívida?")){const{error:z}=await ke.from("debts").delete().eq("id",j).eq("user_id",r.id);z?t(`Erro ao excluir dívida: ${z.message}`,"error"):(Fe(U=>U.filter(ne=>ne.id!==j)),t("Dívida excluída!","success"))}}},Dc=async(j,z,U)=>{var Le;if(!r)return;const ne=Ne.find(Se=>Se.id===j.debt_id);if(!ne){t("Dívida não encontrada.","error");return}let re;if(z&&U){const Se={type:de.EXPENSE,amount:j.amount_paid,category_id:(Le=T.find(Qe=>Qe.name.toLowerCase().includes("pagamento de dívida")||Qe.name.toLowerCase().includes("empréstimo")))==null?void 0:Le.id,description:`Pagamento: ${ne.name}`,date:j.payment_date,account_id:U},{data:Be,error:ot}=await ke.from("transactions").insert({...Se,user_id:r.id}).select().single();if(ot||!Be){t(`Erro ao criar despesa vinculada: ${(ot==null?void 0:ot.message)||"Falha"}`,"error");return}re=Be.id,b(Qe=>[Be,...Qe])}const ue={...j,user_id:r.id,linked_expense_transaction_id:re},{data:Te,error:xe}=await ke.from("debt_payments").insert(ue).select().single();if(xe){t(`Erro ao registrar pagamento da dívida: ${xe.message}`,"error");return}if(Te){Ge(Be=>[...Be,Te]);const Se={...ne,current_balance:Math.max(0,ne.current_balance-Te.amount_paid)};await ka(Se),t("Pagamento da dívida registrado!","success")}},ii=()=>{bt(null),Ze(!0)},sr=j=>{bt(j),Ze(!0)},Rc=[{view:"DASHBOARD",label:"Painel Geral",icon:x.jsx(GR,{})},{view:"TRANSACTIONS",label:"Transações",icon:x.jsx(Xoe,{})},{view:"ACCOUNTS",label:"Contas",icon:x.jsx(ac,{})},{view:"CATEGORIES",label:"Categorias",icon:x.jsx(HR,{})},{view:"CREDIT_CARDS",label:"Cartões de Crédito",icon:x.jsx(ac,{})},{view:"MONEY_BOXES",label:"Caixinhas",icon:x.jsx(_j,{})},{view:"FUTURE_PURCHASES",label:"Compras Futuras",icon:x.jsx(Aw,{})},{view:"TAGS",label:"Tags",icon:x.jsx(Qoe,{})},{view:"RECURRING_TRANSACTIONS",label:"Recorrências",icon:x.jsx(_h,{})},{view:"LOANS",label:"Empréstimos",icon:x.jsx(vb,{})},{view:"DEBT_PLANNER",label:"Planejador Dívidas",icon:x.jsx(wj,{})},{view:"AI_COACH",label:"AI Coach",icon:x.jsx(cb,{})},{view:"DATA_MANAGEMENT",label:"Dados",icon:x.jsx(Zoe,{})}],Jn=Rc.filter(j=>["DASHBOARD","TRANSACTIONS","AI_COACH","DEBT_PLANNER","ACCOUNTS"].includes(j.view)).slice(0,5);if(a||r&&me)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background dark:bg-backgroundDark",children:x.jsx("p",{className:"text-lg text-textMuted dark:text-textMutedDark",children:"Carregando..."})});if(!r)return x.jsx(Voe,{onLoginWithGoogle:Ii,isLoading:a});const jc=j=>{Y.find(U=>U.id===j)?ce("RECURRING_TRANSACTIONS"):t("Transação recorrente não encontrada.","warning")},Tp=()=>{switch(Ve){case"DASHBOARD":return x.jsx(SM,{transactions:S,accounts:A,categories:T,creditCards:E,installmentPurchases:I,moneyBoxes:F,loans:te,loanRepayments:R,recurringTransactions:Y,onAddTransaction:ii,calculateAccountBalance:Cr,calculateMoneyBoxBalance:Ni,onViewRecurringTransaction:jc,isPrivacyModeEnabled:h});case"TRANSACTIONS":return x.jsx(eX,{transactions:S,accounts:A,categories:T,tags:B,installmentPurchases:I,onAddTransaction:ii,onEditTransaction:sr,onDeleteTransaction:fl,isLoading:me,isPrivacyModeEnabled:h});case"ACCOUNTS":return x.jsx(nX,{accounts:A,transactions:S,onAddAccount:hl,onUpdateAccount:ji,onDeleteAccount:$i,calculateAccountBalance:Cr,isPrivacyModeEnabled:h});case"CREDIT_CARDS":return x.jsx(moe,{creditCards:E,installmentPurchases:I,aiConfig:_,onAddCreditCard:Tc,onUpdateCreditCard:kc,onDeleteCreditCard:pl,onAddInstallmentPurchase:Li,onUpdateInstallmentPurchase:ni,onDeleteInstallmentPurchase:Bi,onMarkInstallmentPaid:Ca,onPayMonthlyInstallments:gp,isPrivacyModeEnabled:h});case"CATEGORIES":return x.jsx(rX,{categories:T,transactions:S,aiConfig:_,onAddCategory:wc,onUpdateCategory:Sc,onDeleteCategory:Cc,onSuggestBudget:mp,isPrivacyModeEnabled:h});case"MONEY_BOXES":return x.jsx(_oe,{moneyBoxes:F,moneyBoxTransactions:L,accounts:A,onAddMoneyBox:Ta,onUpdateMoneyBox:_o,onDeleteMoneyBox:bo,onAddMoneyBoxTransaction:ml,onDeleteMoneyBoxTransaction:vp,calculateMoneyBoxBalance:Ni,isPrivacyModeEnabled:h});case"FUTURE_PURCHASES":return x.jsx(Aoe,{futurePurchases:J,onAddFuturePurchase:wp,onUpdateFuturePurchase:Bt,onDeleteFuturePurchase:Sp,onAnalyzeFuturePurchase:cl,isPrivacyModeEnabled:h});case"TAGS":return x.jsx(Ioe,{tags:B,transactions:S,onAddTag:yp,onUpdateTag:xp,onDeleteTag:ri});case"RECURRING_TRANSACTIONS":return x.jsx(joe,{recurringTransactions:Y,accounts:A,categories:T,onAddRecurringTransaction:Ec,onUpdateRecurringTransaction:Ac,onDeleteRecurringTransaction:_p,onProcessRecurringTransactions:Pc,isPrivacyModeEnabled:h});case"LOANS":return x.jsx(Foe,{loans:te,loanRepayments:R,accounts:A,creditCards:E,onAddLoan:Oc,onUpdateLoan:Mc,onDeleteLoan:Ic,onAddLoanRepayment:bp,isPrivacyModeEnabled:h});case"DEBT_PLANNER":return x.jsx(Goe,{debts:Ne,debtPayments:nt,accounts:A,onAddDebt:Nc,onUpdateDebt:ka,onDeleteDebt:Cp,onAddDebtPayment:Dc,isPrivacyModeEnabled:h});case"AI_COACH":return x.jsx(qoe,{aiConfig:_,setAiConfig:Ln,insights:fe,onFetchGeneralAdvice:xc,onUpdateInsight:gl,isPrivacyModeEnabled:h,onFetchRecurringPaymentCandidates:pp,onFetchSavingOpportunities:_c,onFetchCashFlowProjection:bc});case"DATA_MANAGEMENT":return x.jsx(Poe,{allData:{transactions:S,accounts:A,categories:T,creditCards:E,installmentPurchases:I,moneyBoxes:F,moneyBoxTransactions:L,futurePurchases:J,tags:B,recurringTransactions:Y,loans:te,loanRepayments:R,aiInsights:fe,debts:Ne,debtPayments:nt},userPreferencesToExport:{theme:d,is_privacy_mode_enabled:h,ai_is_enabled:_.isEnabled,ai_monthly_income:_.monthlyIncome,ai_auto_backup_enabled:_.autoBackupToFileEnabled},activeProfileName:Ut,setAiConfig:Ln,user:r});default:return ce("DASHBOARD"),x.jsx(SM,{transactions:S,accounts:A,categories:T,creditCards:E,installmentPurchases:I,moneyBoxes:F,loans:te,loanRepayments:R,recurringTransactions:Y,onAddTransaction:ii,calculateAccountBalance:Cr,calculateMoneyBoxBalance:Ni,onViewRecurringTransaction:jc,isPrivacyModeEnabled:h})}};return x.jsxs("div",{className:"min-h-screen bg-background text-textBase dark:bg-backgroundDark dark:text-textBaseDark flex flex-col md:flex-row transition-colors duration-300",children:[x.jsxs("nav",{className:"hidden md:flex flex-col w-64 bg-surface dark:bg-surfaceDark border-r border-borderBase dark:border-borderBaseDark p-4 fixed top-0 left-0 h-full shadow-lg dark:shadow-neutralDark/40 overflow-y-auto",children:[x.jsxs("div",{className:"px-2 py-3 mb-1",children:[x.jsx("h1",{className:"text-2xl font-bold text-primary dark:text-primaryDark",children:Cx}),x.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[($c=r==null?void 0:r.user_metadata)!=null&&$c.avatar_url?x.jsx("img",{src:r.user_metadata.avatar_url,alt:"Avatar",className:"w-8 h-8 rounded-full"}):x.jsx(bj,{className:"w-8 h-8 text-textMuted dark:text-textMutedDark"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-textBase dark:text-textBaseDark truncate",title:Ut,children:Ut}),x.jsxs(ye,{variant:"ghost",size:"sm",onClick:gn,className:"!p-1 text-xs text-textMuted dark:text-textMutedDark hover:text-primary dark:hover:text-primaryDark",children:[h?x.jsx(tse,{className:"w-4 h-4 mr-1"}):x.jsx(ese,{className:"w-4 h-4 mr-1"}),h?"Modo Privado":"Normal"]})]})]})]}),x.jsx("div",{className:"flex-grow space-y-1",children:Rc.map(j=>j.view==="AI_COACH"&&_.apiKeyStatus==="unavailable"?null:x.jsxs(ye,{variant:"ghost",onClick:()=>ce(j.view),className:`w-full flex items-center justify-start px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
                                ${Ve===j.view?"!bg-primary/10 !text-primary dark:!bg-primaryDark/20 dark:!text-primaryDark":"!text-textMuted dark:!text-textMutedDark hover:!bg-neutral/5 dark:hover:!bg-neutralDark/10 hover:!text-textBase dark:hover:!text-textBaseDark"}`,"aria-current":Ve===j.view?"page":void 0,children:[K.cloneElement(j.icon,{className:"w-5 h-5 mr-3 flex-shrink-0"}),x.jsx("span",{className:"flex-1 truncate",children:j.label}),j.view==="AI_COACH"&&_.isEnabled&&_.apiKeyStatus==="available"&&x.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full",title:"AI Coach Ativado"})]},j.view))}),x.jsxs("div",{className:"mt-auto pt-2 space-y-2",children:[x.jsxs(ye,{variant:"ghost",onClick:Sa,className:"w-full flex items-center justify-start px-3 py-2.5 rounded-lg text-sm font-medium text-textMuted dark:text-textMutedDark hover:bg-neutral/5 dark:hover:bg-neutralDark/10 hover:!text-destructive dark:hover:!text-destructiveDark",title:"Sair",children:[x.jsx(nse,{className:"w-5 h-5 mr-3 flex-shrink-0"}),x.jsx("span",{className:"flex-1 truncate",children:"Sair"})]}),x.jsx(Joe,{theme:d,setTheme:or})]})]}),x.jsx("main",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:Tp()}),x.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-surface dark:bg-surfaceDark border-t border-borderBase dark:border-borderBaseDark shadow-top p-1 grid grid-cols-5 gap-1 z-20",children:Jn.map(j=>j.view==="AI_COACH"&&_.apiKeyStatus==="unavailable"?x.jsx("div",{className:"flex flex-col items-center justify-center p-1.5 rounded-md opacity-50",children:"..."},j.view):x.jsxs(ye,{variant:"ghost",onClick:()=>ce(j.view),title:j.label,className:`flex flex-col items-center justify-center p-1.5 rounded-md relative
                          ${Ve===j.view?"!text-primary dark:!text-primaryDark !bg-primary/10 dark:!bg-primaryDark/20":"!text-textMuted dark:!text-textMutedDark hover:!text-primary dark:hover:!text-primaryDark"}`,"aria-current":Ve===j.view?"page":void 0,children:[K.cloneElement(j.icon,{className:"w-5 h-5 mb-0.5"}),x.jsx("span",{className:"text-[10px] leading-tight text-center",children:j.label}),j.view==="AI_COACH"&&_.isEnabled&&_.apiKeyStatus==="available"&&x.jsx("span",{className:"absolute top-1 right-1 w-1.5 h-1.5 bg-green-500 rounded-full"})]},j.view))}),x.jsx(ye,{onClick:ii,title:"Nova Transação",variant:"primary",className:"md:hidden fixed bottom-16 right-4 text-white rounded-full p-3 shadow-lg z-30 hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors","aria-label":"Adicionar Nova Transação",children:x.jsx(cn,{className:"w-7 h-7"})}),x.jsx(Yn,{isOpen:xt,onClose:()=>{Ze(!1),bt(null)},title:Ct?"Editar Transação":"Nova Transação",size:"lg",children:x.jsx(Hoe,{onSubmit:Ct?dl:j=>xo(j),onCancel:()=>{Ze(!1),bt(null)},accounts:A,creditCards:E,categories:T,tags:B,initialTransaction:Ct,isPrivacyModeEnabled:h})})]})},ise=()=>x.jsx(k3,{children:x.jsx(rse,{})}),Sj=document.getElementById("root");if(!Sj)throw new Error("Could not find root element to mount to");const ase=fL.createRoot(Sj);ase.render(x.jsx(K.StrictMode,{children:x.jsx(ise,{})}));
