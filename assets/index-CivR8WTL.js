(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function eB(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var Cv={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function tB(){if(wE)return rc;wE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:s,ref:a!==void 0?a:null,props:i}}return rc.Fragment=e,rc.jsx=n,rc.jsxs=n,rc}var TE;function nB(){return TE||(TE=1,Cv.exports=tB()),Cv.exports}var b=nB(),kv={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function rB(){if(AE)return Je;AE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function T(B,K,re){this.props=B,this.context=K,this.refs=A,this.updater=re||_}T.prototype.isReactComponent={},T.prototype.setState=function(B,K){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,K,"setState")},T.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function O(){}O.prototype=T.prototype;function M(B,K,re){this.props=B,this.context=K,this.refs=A,this.updater=re||_}var E=M.prototype=new O;E.constructor=M,S(E,T.prototype),E.isPureReactComponent=!0;var D=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function P(B,K,re,ce,_e,pe){return re=pe.ref,{$$typeof:t,type:B,key:K,ref:re!==void 0?re:null,props:pe}}function R(B,K){return P(B.type,K,void 0,void 0,void 0,B.props)}function U(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function F(B){var K={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(re){return K[re]})}var L=/\/+/g;function G(B,K){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):K.toString(36)}function Q(){}function H(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(Q,Q):(B.status="pending",B.then(function(K){B.status==="pending"&&(B.status="fulfilled",B.value=K)},function(K){B.status==="pending"&&(B.status="rejected",B.reason=K)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function q(B,K,re,ce,_e){var pe=typeof B;(pe==="undefined"||pe==="boolean")&&(B=null);var ke=!1;if(B===null)ke=!0;else switch(pe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(B.$$typeof){case t:case e:ke=!0;break;case h:return ke=B._init,q(ke(B._payload),K,re,ce,_e)}}if(ke)return _e=_e(B),ke=ce===""?"."+G(B,0):ce,D(_e)?(re="",ke!=null&&(re=ke.replace(L,"$&/")+"/"),q(_e,K,re,"",function(Ae){return Ae})):_e!=null&&(U(_e)&&(_e=R(_e,re+(_e.key==null||B&&B.key===_e.key?"":(""+_e.key).replace(L,"$&/")+"/")+ke)),K.push(_e)),1;ke=0;var ut=ce===""?".":ce+":";if(D(B))for(var Ve=0;Ve<B.length;Ve++)ce=B[Ve],pe=ut+G(ce,Ve),ke+=q(ce,K,re,pe,_e);else if(Ve=y(B),typeof Ve=="function")for(B=Ve.call(B),Ve=0;!(ce=B.next()).done;)ce=ce.value,pe=ut+G(ce,Ve++),ke+=q(ce,K,re,pe,_e);else if(pe==="object"){if(typeof B.then=="function")return q(H(B),K,re,ce,_e);throw K=String(B),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ke}function $(B,K,re){if(B==null)return B;var ce=[],_e=0;return q(B,ce,"","",function(pe){return K.call(re,pe,_e++)}),ce}function z(B){if(B._status===-1){var K=B._result;K=K(),K.then(function(re){(B._status===0||B._status===-1)&&(B._status=1,B._result=re)},function(re){(B._status===0||B._status===-1)&&(B._status=2,B._result=re)}),B._status===-1&&(B._status=0,B._result=K)}if(B._status===1)return B._result.default;throw B._result}var Z=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function se(){}return Je.Children={map:$,forEach:function(B,K,re){$(B,function(){K.apply(this,arguments)},re)},count:function(B){var K=0;return $(B,function(){K++}),K},toArray:function(B){return $(B,function(K){return K})||[]},only:function(B){if(!U(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Je.Component=T,Je.Fragment=n,Je.Profiler=a,Je.PureComponent=M,Je.StrictMode=r,Je.Suspense=d,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Je.__COMPILER_RUNTIME={__proto__:null,c:function(B){return C.H.useMemoCache(B)}},Je.cache=function(B){return function(){return B.apply(null,arguments)}},Je.cloneElement=function(B,K,re){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ce=S({},B.props),_e=B.key,pe=void 0;if(K!=null)for(ke in K.ref!==void 0&&(pe=void 0),K.key!==void 0&&(_e=""+K.key),K)!k.call(K,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&K.ref===void 0||(ce[ke]=K[ke]);var ke=arguments.length-2;if(ke===1)ce.children=re;else if(1<ke){for(var ut=Array(ke),Ve=0;Ve<ke;Ve++)ut[Ve]=arguments[Ve+2];ce.children=ut}return P(B.type,_e,void 0,void 0,pe,ce)},Je.createContext=function(B){return B={$$typeof:s,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:i,_context:B},B},Je.createElement=function(B,K,re){var ce,_e={},pe=null;if(K!=null)for(ce in K.key!==void 0&&(pe=""+K.key),K)k.call(K,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=K[ce]);var ke=arguments.length-2;if(ke===1)_e.children=re;else if(1<ke){for(var ut=Array(ke),Ve=0;Ve<ke;Ve++)ut[Ve]=arguments[Ve+2];_e.children=ut}if(B&&B.defaultProps)for(ce in ke=B.defaultProps,ke)_e[ce]===void 0&&(_e[ce]=ke[ce]);return P(B,pe,void 0,void 0,null,_e)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(B){return{$$typeof:u,render:B}},Je.isValidElement=U,Je.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:z}},Je.memo=function(B,K){return{$$typeof:c,type:B,compare:K===void 0?null:K}},Je.startTransition=function(B){var K=C.T,re={};C.T=re;try{var ce=B(),_e=C.S;_e!==null&&_e(re,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(se,Z)}catch(pe){Z(pe)}finally{C.T=K}},Je.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Je.use=function(B){return C.H.use(B)},Je.useActionState=function(B,K,re){return C.H.useActionState(B,K,re)},Je.useCallback=function(B,K){return C.H.useCallback(B,K)},Je.useContext=function(B){return C.H.useContext(B)},Je.useDebugValue=function(){},Je.useDeferredValue=function(B,K){return C.H.useDeferredValue(B,K)},Je.useEffect=function(B,K,re){var ce=C.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(B,K)},Je.useId=function(){return C.H.useId()},Je.useImperativeHandle=function(B,K,re){return C.H.useImperativeHandle(B,K,re)},Je.useInsertionEffect=function(B,K){return C.H.useInsertionEffect(B,K)},Je.useLayoutEffect=function(B,K){return C.H.useLayoutEffect(B,K)},Je.useMemo=function(B,K){return C.H.useMemo(B,K)},Je.useOptimistic=function(B,K){return C.H.useOptimistic(B,K)},Je.useReducer=function(B,K,re){return C.H.useReducer(B,K,re)},Je.useRef=function(B){return C.H.useRef(B)},Je.useState=function(B){return C.H.useState(B)},Je.useSyncExternalStore=function(B,K,re){return C.H.useSyncExternalStore(B,K,re)},Je.useTransition=function(){return C.H.useTransition()},Je.version="19.1.0",Je}var EE;function BS(){return EE||(EE=1,kv.exports=rB()),kv.exports}var j=BS();const J=yt(j);var Ov={exports:{}},ac={},Mv={exports:{}},Dv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function aB(){return CE||(CE=1,function(t){function e($,z){var Z=$.length;$.push(z);e:for(;0<Z;){var se=Z-1>>>1,B=$[se];if(0<a(B,z))$[se]=z,$[Z]=B,Z=se;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var z=$[0],Z=$.pop();if(Z!==z){$[0]=Z;e:for(var se=0,B=$.length,K=B>>>1;se<K;){var re=2*(se+1)-1,ce=$[re],_e=re+1,pe=$[_e];if(0>a(ce,Z))_e<B&&0>a(pe,ce)?($[se]=pe,$[_e]=Z,se=_e):($[se]=ce,$[re]=Z,se=re);else if(_e<B&&0>a(pe,Z))$[se]=pe,$[_e]=Z,se=_e;else break e}}return z}function a($,z){var Z=$.sortIndex-z.sortIndex;return Z!==0?Z:$.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var d=[],c=[],h=1,m=null,y=3,_=!1,S=!1,A=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function D($){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=$)r(c),z.sortIndex=z.expirationTime,e(d,z);else break;z=n(c)}}function C($){if(A=!1,D($),!S)if(n(d)!==null)S=!0,k||(k=!0,G());else{var z=n(c);z!==null&&q(C,z.startTime-$)}}var k=!1,P=-1,R=5,U=-1;function F(){return T?!0:!(t.unstable_now()-U<R)}function L(){if(T=!1,k){var $=t.unstable_now();U=$;var z=!0;try{e:{S=!1,A&&(A=!1,M(P),P=-1),_=!0;var Z=y;try{t:{for(D($),m=n(d);m!==null&&!(m.expirationTime>$&&F());){var se=m.callback;if(typeof se=="function"){m.callback=null,y=m.priorityLevel;var B=se(m.expirationTime<=$);if($=t.unstable_now(),typeof B=="function"){m.callback=B,D($),z=!0;break t}m===n(d)&&r(d),D($)}else r(d);m=n(d)}if(m!==null)z=!0;else{var K=n(c);K!==null&&q(C,K.startTime-$),z=!1}}break e}finally{m=null,y=Z,_=!1}z=void 0}}finally{z?G():k=!1}}}var G;if(typeof E=="function")G=function(){E(L)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,H=Q.port2;Q.port1.onmessage=L,G=function(){H.postMessage(null)}}else G=function(){O(L,0)};function q($,z){P=O(function(){$(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function($){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var Z=y;y=z;try{return $()}finally{y=Z}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=y;y=$;try{return z()}finally{y=Z}},t.unstable_scheduleCallback=function($,z,Z){var se=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?se+Z:se):Z=se,$){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Z+B,$={id:h++,callback:z,priorityLevel:$,startTime:Z,expirationTime:B,sortIndex:-1},Z>se?($.sortIndex=Z,e(c,$),n(d)===null&&$===n(c)&&(A?(M(P),P=-1):A=!0,q(C,Z-se))):($.sortIndex=B,e(d,$),S||_||(S=!0,k||(k=!0,G()))),$},t.unstable_shouldYield=F,t.unstable_wrapCallback=function($){var z=y;return function(){var Z=y;y=z;try{return $.apply(this,arguments)}finally{y=Z}}}}(Dv)),Dv}var kE;function iB(){return kE||(kE=1,Mv.exports=aB()),Mv.exports}var Nv={exports:{}},In={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function oB(){if(OE)return In;OE=1;var t=BS();function e(d){var c="https://react.dev/errors/"+d;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,c,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:d,containerInfo:c,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,c){if(d==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,In.createPortal=function(d,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return i(d,c,null,h)},In.flushSync=function(d){var c=s.T,h=r.p;try{if(s.T=null,r.p=2,d)return d()}finally{s.T=c,r.p=h,r.d.f()}},In.preconnect=function(d,c){typeof d=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(d,c))},In.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},In.preinit=function(d,c){if(typeof d=="string"&&c&&typeof c.as=="string"){var h=c.as,m=u(h,c.crossOrigin),y=typeof c.integrity=="string"?c.integrity:void 0,_=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?r.d.S(d,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:_}):h==="script"&&r.d.X(d,{crossOrigin:m,integrity:y,fetchPriority:_,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},In.preinitModule=function(d,c){if(typeof d=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=u(c.as,c.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(d)},In.preload=function(d,c){if(typeof d=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,m=u(h,c.crossOrigin);r.d.L(d,h,{crossOrigin:m,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},In.preloadModule=function(d,c){if(typeof d=="string")if(c){var h=u(c.as,c.crossOrigin);r.d.m(d,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(d)},In.requestFormReset=function(d){r.d.r(d)},In.unstable_batchedUpdates=function(d,c){return d(c)},In.useFormState=function(d,c,h){return s.H.useFormState(d,c,h)},In.useFormStatus=function(){return s.H.useHostTransitionStatus()},In.version="19.1.0",In}var ME;function sB(){if(ME)return Nv.exports;ME=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nv.exports=oB(),Nv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function lB(){if(DE)return ac;DE=1;var t=iB(),e=BS(),n=sB();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(r(188))}function d(o){var l=o.alternate;if(!l){if(l=i(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,p=l;;){var x=f.return;if(x===null)break;var w=x.alternate;if(w===null){if(p=x.return,p!==null){f=p;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===f)return u(x),o;if(w===p)return u(x),l;w=w.sibling}throw Error(r(188))}if(f.return!==p.return)f=x,p=w;else{for(var N=!1,I=x.child;I;){if(I===f){N=!0,f=x,p=w;break}if(I===p){N=!0,p=x,f=w;break}I=I.sibling}if(!N){for(I=w.child;I;){if(I===f){N=!0,f=w,p=x;break}if(I===p){N=!0,p=w,f=x;break}I=I.sibling}if(!N)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function c(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=c(o),l!==null)return l;o=o.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),E=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=L&&o[L]||o["@@iterator"],typeof o=="function"?o:null)}var Q=Symbol.for("react.client.reference");function H(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case k:return"SuspenseList";case U:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case E:return(o.displayName||"Context")+".Provider";case M:return(o._context.displayName||"Context")+".Consumer";case D:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return l=o.displayName||null,l!==null?l:H(o.type)||"Memo";case R:l=o._payload,o=o._init;try{return H(o(l))}catch{}}return null}var q=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},se=[],B=-1;function K(o){return{current:o}}function re(o){0>B||(o.current=se[B],se[B]=null,B--)}function ce(o,l){B++,se[B]=o.current,o.current=l}var _e=K(null),pe=K(null),ke=K(null),ut=K(null);function Ve(o,l){switch(ce(ke,l),ce(pe,o),ce(_e,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?ZA(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=ZA(l),o=JA(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}re(_e),ce(_e,o)}function Ae(){re(_e),re(pe),re(ke)}function je(o){o.memoizedState!==null&&ce(ut,o);var l=_e.current,f=JA(l,o.type);l!==f&&(ce(pe,o),ce(_e,f))}function qe(o){pe.current===o&&(re(_e),re(pe)),ut.current===o&&(re(ut),Ju._currentValue=Z)}var ve=Object.prototype.hasOwnProperty,pt=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,Xe=t.unstable_shouldYield,Dt=t.unstable_requestPaint,dt=t.unstable_now,or=t.unstable_getCurrentPriorityLevel,Xn=t.unstable_ImmediatePriority,na=t.unstable_UserBlockingPriority,Ht=t.unstable_NormalPriority,qt=t.unstable_LowPriority,Ut=t.unstable_IdlePriority,no=t.log,Zn=t.unstable_setDisableYieldValue,xa=null,Wt=null;function xr(o){if(typeof no=="function"&&Zn(o),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(xa,o)}catch{}}var Nn=Math.clz32?Math.clz32:_p,ns=Math.log,rs=Math.LN2;function _p(o){return o>>>=0,o===0?32:31-(ns(o)/rs|0)|0}var _a=256,as=4194304;function Sa(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function is(o,l,f){var p=o.pendingLanes;if(p===0)return 0;var x=0,w=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var I=p&134217727;return I!==0?(p=I&~w,p!==0?x=Sa(p):(N&=I,N!==0?x=Sa(N):f||(f=I&~o,f!==0&&(x=Sa(f))))):(I=p&~w,I!==0?x=Sa(I):N!==0?x=Sa(N):f||(f=p&~o,f!==0&&(x=Sa(f)))),x===0?0:l!==0&&l!==x&&(l&w)===0&&(w=x&-x,f=l&-l,w>=f||w===32&&(f&4194048)!==0)?l:x}function ro(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function Sp(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ii(){var o=_a;return _a<<=1,(_a&4194048)===0&&(_a=256),o}function oi(){var o=as;return as<<=1,(as&62914560)===0&&(as=4194304),o}function Xt(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function St(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function wp(o,l,f,p,x,w){var N=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var I=o.entanglements,Y=o.expirationTimes,oe=o.hiddenUpdates;for(f=N&~f;0<f;){var he=31-Nn(f),ge=1<<he;I[he]=0,Y[he]=-1;var le=oe[he];if(le!==null)for(oe[he]=null,he=0;he<le.length;he++){var ue=le[he];ue!==null&&(ue.lane&=-536870913)}f&=~ge}p!==0&&tu(o,p,0),w!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=w&~(N&~l))}function tu(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var p=31-Nn(l);o.entangledLanes|=l,o.entanglements[p]=o.entanglements[p]|1073741824|f&4194090}function nu(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var p=31-Nn(f),x=1<<p;x&l|o[p]&l&&(o[p]|=l),f&=~x}}function ru(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function au(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Dd(){var o=z.p;return o!==0?o:(o=window.event,o===void 0?32:vE(o.type))}function Tp(o,l){var f=z.p;try{return z.p=o,l()}finally{z.p=f}}var ra=Math.random().toString(36).slice(2),cn="__reactFiber$"+ra,Pn="__reactProps$"+ra,si="__reactContainer$"+ra,iu="__reactEvents$"+ra,Ap="__reactListeners$"+ra,Ep="__reactHandles$"+ra,Nd="__reactResources$"+ra,ao="__reactMarker$"+ra;function ou(o){delete o[cn],delete o[Pn],delete o[iu],delete o[Ap],delete o[Ep]}function li(o){var l=o[cn];if(l)return l;for(var f=o.parentNode;f;){if(l=f[si]||f[cn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=nE(o);o!==null;){if(f=o[cn])return f;o=nE(o)}return l}o=f,f=o.parentNode}return null}function ui(o){if(o=o[cn]||o[si]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function io(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function wa(o){var l=o[Nd];return l||(l=o[Nd]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function en(o){o[ao]=!0}var Pd=new Set,Rd={};function Ta(o,l){ci(o,l),ci(o+"Capture",l)}function ci(o,l){for(Rd[o]=l,o=0;o<l.length;o++)Pd.add(l[o])}var Cp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Id={},jd={};function kp(o){return ve.call(jd,o)?!0:ve.call(Id,o)?!1:Cp.test(o)?jd[o]=!0:(Id[o]=!0,!1)}function os(o,l,f){if(kp(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function ss(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function Lr(o,l,f,p){if(p===null)o.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+p)}}var su,$d;function di(o){if(su===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);su=l&&l[1]||"",$d=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+su+o+$d}var lu=!1;function uu(o,l){if(!o||lu)return"";lu=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ue){var le=ue}Reflect.construct(o,[],ge)}else{try{ge.call()}catch(ue){le=ue}o.call(ge.prototype)}}else{try{throw Error()}catch(ue){le=ue}(ge=o())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ue){if(ue&&le&&typeof ue.stack=="string")return[ue.stack,le.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),N=w[0],I=w[1];if(N&&I){var Y=N.split(`
`),oe=I.split(`
`);for(x=p=0;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;for(;x<oe.length&&!oe[x].includes("DetermineComponentFrameRoot");)x++;if(p===Y.length||x===oe.length)for(p=Y.length-1,x=oe.length-1;1<=p&&0<=x&&Y[p]!==oe[x];)x--;for(;1<=p&&0<=x;p--,x--)if(Y[p]!==oe[x]){if(p!==1||x!==1)do if(p--,x--,0>x||Y[p]!==oe[x]){var he=`
`+Y[p].replace(" at new "," at ");return o.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",o.displayName)),he}while(1<=p&&0<=x);break}}}finally{lu=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?di(f):""}function Op(o){switch(o.tag){case 26:case 27:case 5:return di(o.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return uu(o.type,!1);case 11:return uu(o.type.render,!1);case 1:return uu(o.type,!0);case 31:return di("Activity");default:return""}}function Ld(o){try{var l="";do l+=Op(o),o=o.return;while(o);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Jn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Bd(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Mp(o){var l=Bd(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,w=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(N){p=""+N,w.call(this,N)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function ls(o){o._valueTracker||(o._valueTracker=Mp(o))}function qd(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),p="";return o&&(p=Bd(o)?o.checked?"true":"false":o.value),o=p,o!==f?(l.setValue(o),!0):!1}function us(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Dp=/[\n"\\]/g;function Qn(o){return o.replace(Dp,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function cu(o,l,f,p,x,w,N,I){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),l!=null?N==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Jn(l)):o.value!==""+Jn(l)&&(o.value=""+Jn(l)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),l!=null?du(o,N,Jn(l)):f!=null?du(o,N,Jn(f)):p!=null&&o.removeAttribute("value"),x==null&&w!=null&&(o.defaultChecked=!!w),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.name=""+Jn(I):o.removeAttribute("name")}function Ud(o,l,f,p,x,w,N,I){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),l!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;f=f!=null?""+Jn(f):"",l=l!=null?""+Jn(l):f,I||l===o.value||(o.value=l),o.defaultValue=l}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=I?o.checked:!!p,o.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N)}function du(o,l,f){l==="number"&&us(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function rn(o,l,f,p){if(o=o.options,l){l={};for(var x=0;x<f.length;x++)l["$"+f[x]]=!0;for(f=0;f<o.length;f++)x=l.hasOwnProperty("$"+o[f].value),o[f].selected!==x&&(o[f].selected=x),x&&p&&(o[f].defaultSelected=!0)}else{for(f=""+Jn(f),l=null,x=0;x<o.length;x++){if(o[x].value===f){o[x].selected=!0,p&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function Fd(o,l,f){if(l!=null&&(l=""+Jn(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+Jn(f):""}function Vd(o,l,f,p){if(l==null){if(p!=null){if(f!=null)throw Error(r(92));if(q(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),l=f}f=Jn(l),o.defaultValue=f,p=o.textContent,p===f&&p!==""&&p!==null&&(o.value=p)}function fi(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function V(o,l,f){var p=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":p?o.setProperty(l,f):typeof f!="number"||f===0||fu.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function X(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var x in l)p=l[x],l.hasOwnProperty(x)&&f[x]!==p&&V(o,x,p)}else for(var w in l)l.hasOwnProperty(w)&&V(o,w,l[w])}function W(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ee=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ae=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function de(o){return ae.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Se=null;function Ce(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Le=null,Te=null;function bt(o){var l=ui(o);if(l&&(o=l.stateNode)){var f=o[Pn]||null;e:switch(o=l.stateNode,l.type){case"input":if(cu(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Qn(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var p=f[l];if(p!==o&&p.form===o.form){var x=p[Pn]||null;if(!x)throw Error(r(90));cu(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<f.length;l++)p=f[l],p.form===o.form&&qd(p)}break e;case"textarea":Fd(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&rn(o,!!f.multiple,l,!1)}}}var gn=!1;function qn(o,l,f){if(gn)return o(l,f);gn=!0;try{var p=o(l);return p}finally{if(gn=!1,(Le!==null||Te!==null)&&(Ef(),Le&&(l=Le,o=Te,Te=Le=null,bt(l),o)))for(l=0;l<o.length;l++)bt(o[l])}}function Aa(o,l){var f=o.stateNode;if(f===null)return null;var p=f[Pn]||null;if(p===null)return null;f=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oo=!1;if(sr)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){oo=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{oo=!1}var _r=null,so=null,hi=null;function cs(){if(hi)return hi;var o,l=so,f=l.length,p,x="value"in _r?_r.value:_r.textContent,w=x.length;for(o=0;o<f&&l[o]===x[o];o++);var N=f-o;for(p=1;p<=N&&l[f-p]===x[w-p];p++);return hi=x.slice(o,1<p?1-p:void 0)}function mi(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function En(){return!0}function Br(){return!1}function Kt(o){function l(f,p,x,w,N){this._reactName=f,this._targetInst=x,this.type=p,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var I in o)o.hasOwnProperty(I)&&(f=o[I],this[I]=f?f(w):w[I]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?En:Br,this.isPropagationStopped=Br,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=En)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=En)},persist:function(){},isPersistent:En}),l}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zd=Kt(qr),hu=h({},qr,{view:0,detail:0}),eL=Kt(hu),Np,Pp,mu,Gd=h({},hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ip,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==mu&&(mu&&o.type==="mousemove"?(Np=o.screenX-mu.screenX,Pp=o.screenY-mu.screenY):Pp=Np=0,mu=o),Np)},movementY:function(o){return"movementY"in o?o.movementY:Pp}}),r1=Kt(Gd),tL=h({},Gd,{dataTransfer:0}),nL=Kt(tL),rL=h({},hu,{relatedTarget:0}),Rp=Kt(rL),aL=h({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),iL=Kt(aL),oL=h({},qr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),sL=Kt(oL),lL=h({},qr,{data:0}),a1=Kt(lL),uL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fL(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=dL[o])?!!l[o]:!1}function Ip(){return fL}var hL=h({},hu,{key:function(o){if(o.key){var l=uL[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=mi(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?cL[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ip,charCode:function(o){return o.type==="keypress"?mi(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?mi(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),mL=Kt(hL),pL=h({},Gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i1=Kt(pL),gL=h({},hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ip}),vL=Kt(gL),yL=h({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bL=Kt(yL),xL=h({},Gd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),_L=Kt(xL),SL=h({},qr,{newState:0,oldState:0}),wL=Kt(SL),TL=[9,13,27,32],jp=sr&&"CompositionEvent"in window,pu=null;sr&&"documentMode"in document&&(pu=document.documentMode);var AL=sr&&"TextEvent"in window&&!pu,o1=sr&&(!jp||pu&&8<pu&&11>=pu),s1=" ",l1=!1;function u1(o,l){switch(o){case"keyup":return TL.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ds=!1;function EL(o,l){switch(o){case"compositionend":return c1(l);case"keypress":return l.which!==32?null:(l1=!0,s1);case"textInput":return o=l.data,o===s1&&l1?null:o;default:return null}}function CL(o,l){if(ds)return o==="compositionend"||!jp&&u1(o,l)?(o=cs(),hi=so=_r=null,ds=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return o1&&l.locale!=="ko"?null:l.data;default:return null}}var kL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!kL[o.type]:l==="textarea"}function f1(o,l,f,p){Le?Te?Te.push(p):Te=[p]:Le=p,l=Nf(l,"onChange"),0<l.length&&(f=new zd("onChange","change",null,f,p),o.push({event:f,listeners:l}))}var gu=null,vu=null;function OL(o){HA(o,0)}function Hd(o){var l=io(o);if(qd(l))return o}function h1(o,l){if(o==="change")return l}var m1=!1;if(sr){var $p;if(sr){var Lp="oninput"in document;if(!Lp){var p1=document.createElement("div");p1.setAttribute("oninput","return;"),Lp=typeof p1.oninput=="function"}$p=Lp}else $p=!1;m1=$p&&(!document.documentMode||9<document.documentMode)}function g1(){gu&&(gu.detachEvent("onpropertychange",v1),vu=gu=null)}function v1(o){if(o.propertyName==="value"&&Hd(vu)){var l=[];f1(l,vu,o,Ce(o)),qn(OL,l)}}function ML(o,l,f){o==="focusin"?(g1(),gu=l,vu=f,gu.attachEvent("onpropertychange",v1)):o==="focusout"&&g1()}function DL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Hd(vu)}function NL(o,l){if(o==="click")return Hd(l)}function PL(o,l){if(o==="input"||o==="change")return Hd(l)}function RL(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var lr=typeof Object.is=="function"?Object.is:RL;function yu(o,l){if(lr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),p=Object.keys(l);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var x=f[p];if(!ve.call(l,x)||!lr(o[x],l[x]))return!1}return!0}function y1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function b1(o,l){var f=y1(o);o=0;for(var p;f;){if(f.nodeType===3){if(p=o+f.textContent.length,o<=l&&p>=l)return{node:f,offset:l-o};o=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=y1(f)}}function x1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?x1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function _1(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=us(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=us(o.document)}return l}function Bp(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var IL=sr&&"documentMode"in document&&11>=document.documentMode,fs=null,qp=null,bu=null,Up=!1;function S1(o,l,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Up||fs==null||fs!==us(p)||(p=fs,"selectionStart"in p&&Bp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),bu&&yu(bu,p)||(bu=p,p=Nf(qp,"onSelect"),0<p.length&&(l=new zd("onSelect","select",null,l,f),o.push({event:l,listeners:p}),l.target=fs)))}function lo(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var hs={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},Fp={},w1={};sr&&(w1=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function uo(o){if(Fp[o])return Fp[o];if(!hs[o])return o;var l=hs[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in w1)return Fp[o]=l[f];return o}var T1=uo("animationend"),A1=uo("animationiteration"),E1=uo("animationstart"),jL=uo("transitionrun"),$L=uo("transitionstart"),LL=uo("transitioncancel"),C1=uo("transitionend"),k1=new Map,Vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vp.push("scrollEnd");function Ur(o,l){k1.set(o,l),Ta(l,[o])}var O1=new WeakMap;function Sr(o,l){if(typeof o=="object"&&o!==null){var f=O1.get(o);return f!==void 0?f:(l={value:o,source:l,stack:Ld(l)},O1.set(o,l),l)}return{value:o,source:l,stack:Ld(l)}}var wr=[],ms=0,zp=0;function Kd(){for(var o=ms,l=zp=ms=0;l<o;){var f=wr[l];wr[l++]=null;var p=wr[l];wr[l++]=null;var x=wr[l];wr[l++]=null;var w=wr[l];if(wr[l++]=null,p!==null&&x!==null){var N=p.pending;N===null?x.next=x:(x.next=N.next,N.next=x),p.pending=x}w!==0&&M1(f,x,w)}}function Yd(o,l,f,p){wr[ms++]=o,wr[ms++]=l,wr[ms++]=f,wr[ms++]=p,zp|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function Gp(o,l,f,p){return Yd(o,l,f,p),Wd(o)}function ps(o,l){return Yd(o,null,null,l),Wd(o)}function M1(o,l,f){o.lanes|=f;var p=o.alternate;p!==null&&(p.lanes|=f);for(var x=!1,w=o.return;w!==null;)w.childLanes|=f,p=w.alternate,p!==null&&(p.childLanes|=f),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(x=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,x&&l!==null&&(x=31-Nn(f),o=w.hiddenUpdates,p=o[x],p===null?o[x]=[l]:p.push(l),l.lane=f|536870912),w):null}function Wd(o){if(50<zu)throw zu=0,Zg=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var gs={};function BL(o,l,f,p){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(o,l,f,p){return new BL(o,l,f,p)}function Hp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ca(o,l){var f=o.alternate;return f===null?(f=ur(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function D1(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Xd(o,l,f,p,x,w){var N=0;if(p=o,typeof o=="function")Hp(o)&&(N=1);else if(typeof o=="string")N=U3(o,f,_e.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case U:return o=ur(31,f,l,x),o.elementType=U,o.lanes=w,o;case S:return co(f.children,x,w,l);case A:N=8,x|=24;break;case T:return o=ur(12,f,l,x|2),o.elementType=T,o.lanes=w,o;case C:return o=ur(13,f,l,x),o.elementType=C,o.lanes=w,o;case k:return o=ur(19,f,l,x),o.elementType=k,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:case E:N=10;break e;case M:N=9;break e;case D:N=11;break e;case P:N=14;break e;case R:N=16,p=null;break e}N=29,f=Error(r(130,o===null?"null":typeof o,"")),p=null}return l=ur(N,f,l,x),l.elementType=o,l.type=p,l.lanes=w,l}function co(o,l,f,p){return o=ur(7,o,p,l),o.lanes=f,o}function Kp(o,l,f){return o=ur(6,o,null,l),o.lanes=f,o}function Yp(o,l,f){return l=ur(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var vs=[],ys=0,Zd=null,Jd=0,Tr=[],Ar=0,fo=null,ka=1,Oa="";function ho(o,l){vs[ys++]=Jd,vs[ys++]=Zd,Zd=o,Jd=l}function N1(o,l,f){Tr[Ar++]=ka,Tr[Ar++]=Oa,Tr[Ar++]=fo,fo=o;var p=ka;o=Oa;var x=32-Nn(p)-1;p&=~(1<<x),f+=1;var w=32-Nn(l)+x;if(30<w){var N=x-x%5;w=(p&(1<<N)-1).toString(32),p>>=N,x-=N,ka=1<<32-Nn(l)+x|f<<x|p,Oa=w+o}else ka=1<<w|f<<x|p,Oa=o}function Wp(o){o.return!==null&&(ho(o,1),N1(o,1,0))}function Xp(o){for(;o===Zd;)Zd=vs[--ys],vs[ys]=null,Jd=vs[--ys],vs[ys]=null;for(;o===fo;)fo=Tr[--Ar],Tr[Ar]=null,Oa=Tr[--Ar],Tr[Ar]=null,ka=Tr[--Ar],Tr[Ar]=null}var Un=null,Zt=null,gt=!1,mo=null,aa=!1,Zp=Error(r(519));function po(o){var l=Error(r(418,""));throw Su(Sr(l,o)),Zp}function P1(o){var l=o.stateNode,f=o.type,p=o.memoizedProps;switch(l[cn]=o,l[Pn]=p,f){case"dialog":it("cancel",l),it("close",l);break;case"iframe":case"object":case"embed":it("load",l);break;case"video":case"audio":for(f=0;f<Hu.length;f++)it(Hu[f],l);break;case"source":it("error",l);break;case"img":case"image":case"link":it("error",l),it("load",l);break;case"details":it("toggle",l);break;case"input":it("invalid",l),Ud(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),ls(l);break;case"select":it("invalid",l);break;case"textarea":it("invalid",l),Vd(l,p.value,p.defaultValue,p.children),ls(l)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||p.suppressHydrationWarning===!0||XA(l.textContent,f)?(p.popover!=null&&(it("beforetoggle",l),it("toggle",l)),p.onScroll!=null&&it("scroll",l),p.onScrollEnd!=null&&it("scrollend",l),p.onClick!=null&&(l.onclick=Pf),l=!0):l=!1,l||po(o)}function R1(o){for(Un=o.return;Un;)switch(Un.tag){case 5:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:Un=Un.return}}function xu(o){if(o!==Un)return!1;if(!gt)return R1(o),gt=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||hv(o.type,o.memoizedProps)),f=!f),f&&Zt&&po(o),R1(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(l===0){Zt=Vr(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;o=o.nextSibling}Zt=null}}else l===27?(l=Zt,Mi(o.type)?(o=vv,vv=null,Zt=o):Zt=l):Zt=Un?Vr(o.stateNode.nextSibling):null;return!0}function _u(){Zt=Un=null,gt=!1}function I1(){var o=mo;return o!==null&&(nr===null?nr=o:nr.push.apply(nr,o),mo=null),o}function Su(o){mo===null?mo=[o]:mo.push(o)}var Jp=K(null),go=null,Ma=null;function pi(o,l,f){ce(Jp,l._currentValue),l._currentValue=f}function Da(o){o._currentValue=Jp.current,re(Jp)}function Qp(o,l,f){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===f)break;o=o.return}}function eg(o,l,f,p){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var w=x.dependencies;if(w!==null){var N=x.child;w=w.firstContext;e:for(;w!==null;){var I=w;w=x;for(var Y=0;Y<l.length;Y++)if(I.context===l[Y]){w.lanes|=f,I=w.alternate,I!==null&&(I.lanes|=f),Qp(w.return,f,o),p||(N=null);break e}w=I.next}}else if(x.tag===18){if(N=x.return,N===null)throw Error(r(341));N.lanes|=f,w=N.alternate,w!==null&&(w.lanes|=f),Qp(N,f,o),N=null}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===o){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}}function wu(o,l,f,p){o=null;for(var x=l,w=!1;x!==null;){if(!w){if((x.flags&524288)!==0)w=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var N=x.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var I=x.type;lr(x.pendingProps.value,N.value)||(o!==null?o.push(I):o=[I])}}else if(x===ut.current){if(N=x.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(Ju):o=[Ju])}x=x.return}o!==null&&eg(l,o,f,p),l.flags|=262144}function Qd(o){for(o=o.firstContext;o!==null;){if(!lr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function vo(o){go=o,Ma=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Rn(o){return j1(go,o)}function ef(o,l){return go===null&&vo(o),j1(o,l)}function j1(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},Ma===null){if(o===null)throw Error(r(308));Ma=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Ma=Ma.next=l;return f}var qL=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,p){o.push(p)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},UL=t.unstable_scheduleCallback,FL=t.unstable_NormalPriority,dn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tg(){return{controller:new qL,data:new Map,refCount:0}}function Tu(o){o.refCount--,o.refCount===0&&UL(FL,function(){o.controller.abort()})}var Au=null,ng=0,bs=0,xs=null;function VL(o,l){if(Au===null){var f=Au=[];ng=0,bs=av(),xs={status:"pending",value:void 0,then:function(p){f.push(p)}}}return ng++,l.then($1,$1),l}function $1(){if(--ng===0&&Au!==null){xs!==null&&(xs.status="fulfilled");var o=Au;Au=null,bs=0,xs=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function zL(o,l){var f=[],p={status:"pending",value:null,reason:null,then:function(x){f.push(x)}};return o.then(function(){p.status="fulfilled",p.value=l;for(var x=0;x<f.length;x++)(0,f[x])(l)},function(x){for(p.status="rejected",p.reason=x,x=0;x<f.length;x++)(0,f[x])(void 0)}),p}var L1=$.S;$.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&VL(o,l),L1!==null&&L1(o,l)};var yo=K(null);function rg(){var o=yo.current;return o!==null?o:Rt.pooledCache}function tf(o,l){l===null?ce(yo,yo.current):ce(yo,l.pool)}function B1(){var o=rg();return o===null?null:{parent:dn._currentValue,pool:o}}var Eu=Error(r(460)),q1=Error(r(474)),nf=Error(r(542)),ag={then:function(){}};function U1(o){return o=o.status,o==="fulfilled"||o==="rejected"}function rf(){}function F1(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(rf,rf),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,z1(o),o;default:if(typeof l.status=="string")l.then(rf,rf);else{if(o=Rt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(p){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=p}},function(p){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,z1(o),o}throw Cu=l,Eu}}var Cu=null;function V1(){if(Cu===null)throw Error(r(459));var o=Cu;return Cu=null,o}function z1(o){if(o===Eu||o===nf)throw Error(r(483))}var gi=!1;function ig(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function og(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function vi(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function yi(o,l,f){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(wt&2)!==0){var x=p.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),p.pending=l,l=Wd(o),M1(o,null,f),l}return Yd(o,p,l,f),Wd(o)}function ku(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var p=l.lanes;p&=o.pendingLanes,f|=p,l.lanes=f,nu(o,f)}}function sg(o,l){var f=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var x=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var N={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?x=w=N:w=w.next=N,f=f.next}while(f!==null);w===null?x=w=l:w=w.next=l}else x=w=l;f={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var lg=!1;function Ou(){if(lg){var o=xs;if(o!==null)throw o}}function Mu(o,l,f,p){lg=!1;var x=o.updateQueue;gi=!1;var w=x.firstBaseUpdate,N=x.lastBaseUpdate,I=x.shared.pending;if(I!==null){x.shared.pending=null;var Y=I,oe=Y.next;Y.next=null,N===null?w=oe:N.next=oe,N=Y;var he=o.alternate;he!==null&&(he=he.updateQueue,I=he.lastBaseUpdate,I!==N&&(I===null?he.firstBaseUpdate=oe:I.next=oe,he.lastBaseUpdate=Y))}if(w!==null){var ge=x.baseState;N=0,he=oe=Y=null,I=w;do{var le=I.lane&-536870913,ue=le!==I.lane;if(ue?(ct&le)===le:(p&le)===le){le!==0&&le===bs&&(lg=!0),he!==null&&(he=he.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ze=o,Be=I;le=l;var Ot=f;switch(Be.tag){case 1:if(ze=Be.payload,typeof ze=="function"){ge=ze.call(Ot,ge,le);break e}ge=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Be.payload,le=typeof ze=="function"?ze.call(Ot,ge,le):ze,le==null)break e;ge=h({},ge,le);break e;case 2:gi=!0}}le=I.callback,le!==null&&(o.flags|=64,ue&&(o.flags|=8192),ue=x.callbacks,ue===null?x.callbacks=[le]:ue.push(le))}else ue={lane:le,tag:I.tag,payload:I.payload,callback:I.callback,next:null},he===null?(oe=he=ue,Y=ge):he=he.next=ue,N|=le;if(I=I.next,I===null){if(I=x.shared.pending,I===null)break;ue=I,I=ue.next,ue.next=null,x.lastBaseUpdate=ue,x.shared.pending=null}}while(!0);he===null&&(Y=ge),x.baseState=Y,x.firstBaseUpdate=oe,x.lastBaseUpdate=he,w===null&&(x.shared.lanes=0),Ei|=N,o.lanes=N,o.memoizedState=ge}}function G1(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function H1(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)G1(f[o],l)}var _s=K(null),af=K(0);function K1(o,l){o=La,ce(af,o),ce(_s,l),La=o|l.baseLanes}function ug(){ce(af,La),ce(_s,_s.current)}function cg(){La=af.current,re(_s),re(af)}var bi=0,tt=null,Ct=null,an=null,of=!1,Ss=!1,bo=!1,sf=0,Du=0,ws=null,GL=0;function tn(){throw Error(r(321))}function dg(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!lr(o[f],l[f]))return!1;return!0}function fg(o,l,f,p,x,w){return bi=w,tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$.H=o===null||o.memoizedState===null?MT:DT,bo=!1,w=f(p,x),bo=!1,Ss&&(w=W1(l,f,p,x)),Y1(o),w}function Y1(o){$.H=hf;var l=Ct!==null&&Ct.next!==null;if(bi=0,an=Ct=tt=null,of=!1,Du=0,ws=null,l)throw Error(r(300));o===null||vn||(o=o.dependencies,o!==null&&Qd(o)&&(vn=!0))}function W1(o,l,f,p){tt=o;var x=0;do{if(Ss&&(ws=null),Du=0,Ss=!1,25<=x)throw Error(r(301));if(x+=1,an=Ct=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}$.H=JL,w=l(f,p)}while(Ss);return w}function HL(){var o=$.H,l=o.useState()[0];return l=typeof l.then=="function"?Nu(l):l,o=o.useState()[0],(Ct!==null?Ct.memoizedState:null)!==o&&(tt.flags|=1024),l}function hg(){var o=sf!==0;return sf=0,o}function mg(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function pg(o){if(of){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}of=!1}bi=0,an=Ct=tt=null,Ss=!1,Du=sf=0,ws=null}function er(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?tt.memoizedState=an=o:an=an.next=o,an}function on(){if(Ct===null){var o=tt.alternate;o=o!==null?o.memoizedState:null}else o=Ct.next;var l=an===null?tt.memoizedState:an.next;if(l!==null)an=l,Ct=o;else{if(o===null)throw tt.alternate===null?Error(r(467)):Error(r(310));Ct=o,o={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},an===null?tt.memoizedState=an=o:an=an.next=o}return an}function gg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(o){var l=Du;return Du+=1,ws===null&&(ws=[]),o=F1(ws,o,l),l=tt,(an===null?l.memoizedState:an.next)===null&&(l=l.alternate,$.H=l===null||l.memoizedState===null?MT:DT),o}function lf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Nu(o);if(o.$$typeof===E)return Rn(o)}throw Error(r(438,String(o)))}function vg(o){var l=null,f=tt.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var p=tt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=gg(),tt.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),p=0;p<o;p++)f[p]=F;return l.index++,f}function Na(o,l){return typeof l=="function"?l(o):l}function uf(o){var l=on();return yg(l,Ct,o)}function yg(o,l,f){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var x=o.baseQueue,w=p.pending;if(w!==null){if(x!==null){var N=x.next;x.next=w.next,w.next=N}l.baseQueue=x=w,p.pending=null}if(w=o.baseState,x===null)o.memoizedState=w;else{l=x.next;var I=N=null,Y=null,oe=l,he=!1;do{var ge=oe.lane&-536870913;if(ge!==oe.lane?(ct&ge)===ge:(bi&ge)===ge){var le=oe.revertLane;if(le===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ge===bs&&(he=!0);else if((bi&le)===le){oe=oe.next,le===bs&&(he=!0);continue}else ge={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Y===null?(I=Y=ge,N=w):Y=Y.next=ge,tt.lanes|=le,Ei|=le;ge=oe.action,bo&&f(w,ge),w=oe.hasEagerState?oe.eagerState:f(w,ge)}else le={lane:ge,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Y===null?(I=Y=le,N=w):Y=Y.next=le,tt.lanes|=ge,Ei|=ge;oe=oe.next}while(oe!==null&&oe!==l);if(Y===null?N=w:Y.next=I,!lr(w,o.memoizedState)&&(vn=!0,he&&(f=xs,f!==null)))throw f;o.memoizedState=w,o.baseState=N,o.baseQueue=Y,p.lastRenderedState=w}return x===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function bg(o){var l=on(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var p=f.dispatch,x=f.pending,w=l.memoizedState;if(x!==null){f.pending=null;var N=x=x.next;do w=o(w,N.action),N=N.next;while(N!==x);lr(w,l.memoizedState)||(vn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),f.lastRenderedState=w}return[w,p]}function X1(o,l,f){var p=tt,x=on(),w=gt;if(w){if(f===void 0)throw Error(r(407));f=f()}else f=l();var N=!lr((Ct||x).memoizedState,f);N&&(x.memoizedState=f,vn=!0),x=x.queue;var I=Q1.bind(null,p,x,o);if(Pu(2048,8,I,[o]),x.getSnapshot!==l||N||an!==null&&an.memoizedState.tag&1){if(p.flags|=2048,Ts(9,cf(),J1.bind(null,p,x,f,l),null),Rt===null)throw Error(r(349));w||(bi&124)!==0||Z1(p,l,f)}return f}function Z1(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=tt.updateQueue,l===null?(l=gg(),tt.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function J1(o,l,f,p){l.value=f,l.getSnapshot=p,eT(l)&&tT(o)}function Q1(o,l,f){return f(function(){eT(l)&&tT(o)})}function eT(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!lr(o,f)}catch{return!0}}function tT(o){var l=ps(o,2);l!==null&&mr(l,o,2)}function xg(o){var l=er();if(typeof o=="function"){var f=o;if(o=f(),bo){xr(!0);try{f()}finally{xr(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:o},l}function nT(o,l,f,p){return o.baseState=f,yg(o,Ct,typeof p=="function"?p:Na)}function KL(o,l,f,p,x){if(ff(o))throw Error(r(485));if(o=l.action,o!==null){var w={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};$.T!==null?f(!0):w.isTransition=!1,p(w),f=l.pending,f===null?(w.next=l.pending=w,rT(l,w)):(w.next=f.next,l.pending=f.next=w)}}function rT(o,l){var f=l.action,p=l.payload,x=o.state;if(l.isTransition){var w=$.T,N={};$.T=N;try{var I=f(x,p),Y=$.S;Y!==null&&Y(N,I),aT(o,l,I)}catch(oe){_g(o,l,oe)}finally{$.T=w}}else try{w=f(x,p),aT(o,l,w)}catch(oe){_g(o,l,oe)}}function aT(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){iT(o,l,p)},function(p){return _g(o,l,p)}):iT(o,l,f)}function iT(o,l,f){l.status="fulfilled",l.value=f,oT(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,rT(o,f)))}function _g(o,l,f){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=f,oT(l),l=l.next;while(l!==p)}o.action=null}function oT(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function sT(o,l){return l}function lT(o,l){if(gt){var f=Rt.formState;if(f!==null){e:{var p=tt;if(gt){if(Zt){t:{for(var x=Zt,w=aa;x.nodeType!==8;){if(!w){x=null;break t}if(x=Vr(x.nextSibling),x===null){x=null;break t}}w=x.data,x=w==="F!"||w==="F"?x:null}if(x){Zt=Vr(x.nextSibling),p=x.data==="F!";break e}}po(p)}p=!1}p&&(l=f[0])}}return f=er(),f.memoizedState=f.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sT,lastRenderedState:l},f.queue=p,f=CT.bind(null,tt,p),p.dispatch=f,p=xg(!1),w=Eg.bind(null,tt,!1,p.queue),p=er(),x={state:l,dispatch:null,action:o,pending:null},p.queue=x,f=KL.bind(null,tt,x,w,f),x.dispatch=f,p.memoizedState=o,[l,f,!1]}function uT(o){var l=on();return cT(l,Ct,o)}function cT(o,l,f){if(l=yg(o,l,sT)[0],o=uf(Na)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Nu(l)}catch(N){throw N===Eu?nf:N}else p=l;l=on();var x=l.queue,w=x.dispatch;return f!==l.memoizedState&&(tt.flags|=2048,Ts(9,cf(),YL.bind(null,x,f),null)),[p,w,o]}function YL(o,l){o.action=l}function dT(o){var l=on(),f=Ct;if(f!==null)return cT(l,f,o);on(),l=l.memoizedState,f=on();var p=f.queue.dispatch;return f.memoizedState=o,[l,p,!1]}function Ts(o,l,f,p){return o={tag:o,create:f,deps:p,inst:l,next:null},l=tt.updateQueue,l===null&&(l=gg(),tt.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(p=f.next,f.next=o,o.next=p,l.lastEffect=o),o}function cf(){return{destroy:void 0,resource:void 0}}function fT(){return on().memoizedState}function df(o,l,f,p){var x=er();p=p===void 0?null:p,tt.flags|=o,x.memoizedState=Ts(1|l,cf(),f,p)}function Pu(o,l,f,p){var x=on();p=p===void 0?null:p;var w=x.memoizedState.inst;Ct!==null&&p!==null&&dg(p,Ct.memoizedState.deps)?x.memoizedState=Ts(l,w,f,p):(tt.flags|=o,x.memoizedState=Ts(1|l,w,f,p))}function hT(o,l){df(8390656,8,o,l)}function mT(o,l){Pu(2048,8,o,l)}function pT(o,l){return Pu(4,2,o,l)}function gT(o,l){return Pu(4,4,o,l)}function vT(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function yT(o,l,f){f=f!=null?f.concat([o]):null,Pu(4,4,vT.bind(null,l,o),f)}function Sg(){}function bT(o,l){var f=on();l=l===void 0?null:l;var p=f.memoizedState;return l!==null&&dg(l,p[1])?p[0]:(f.memoizedState=[o,l],o)}function xT(o,l){var f=on();l=l===void 0?null:l;var p=f.memoizedState;if(l!==null&&dg(l,p[1]))return p[0];if(p=o(),bo){xr(!0);try{o()}finally{xr(!1)}}return f.memoizedState=[p,l],p}function wg(o,l,f){return f===void 0||(bi&1073741824)!==0?o.memoizedState=l:(o.memoizedState=f,o=wA(),tt.lanes|=o,Ei|=o,f)}function _T(o,l,f,p){return lr(f,l)?f:_s.current!==null?(o=wg(o,f,p),lr(o,l)||(vn=!0),o):(bi&42)===0?(vn=!0,o.memoizedState=f):(o=wA(),tt.lanes|=o,Ei|=o,l)}function ST(o,l,f,p,x){var w=z.p;z.p=w!==0&&8>w?w:8;var N=$.T,I={};$.T=I,Eg(o,!1,l,f);try{var Y=x(),oe=$.S;if(oe!==null&&oe(I,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var he=zL(Y,p);Ru(o,l,he,hr(o))}else Ru(o,l,p,hr(o))}catch(ge){Ru(o,l,{then:function(){},status:"rejected",reason:ge},hr())}finally{z.p=w,$.T=N}}function WL(){}function Tg(o,l,f,p){if(o.tag!==5)throw Error(r(476));var x=wT(o).queue;ST(o,x,l,Z,f===null?WL:function(){return TT(o),f(p)})}function wT(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:Z},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function TT(o){var l=wT(o).next.queue;Ru(o,l,{},hr())}function Ag(){return Rn(Ju)}function AT(){return on().memoizedState}function ET(){return on().memoizedState}function XL(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=hr();o=vi(f);var p=yi(l,o,f);p!==null&&(mr(p,l,f),ku(p,l,f)),l={cache:tg()},o.payload=l;return}l=l.return}}function ZL(o,l,f){var p=hr();f={lane:p,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},ff(o)?kT(l,f):(f=Gp(o,l,f,p),f!==null&&(mr(f,o,p),OT(f,l,p)))}function CT(o,l,f){var p=hr();Ru(o,l,f,p)}function Ru(o,l,f,p){var x={lane:p,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(ff(o))kT(l,x);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var N=l.lastRenderedState,I=w(N,f);if(x.hasEagerState=!0,x.eagerState=I,lr(I,N))return Yd(o,l,x,0),Rt===null&&Kd(),!1}catch{}finally{}if(f=Gp(o,l,x,p),f!==null)return mr(f,o,p),OT(f,l,p),!0}return!1}function Eg(o,l,f,p){if(p={lane:2,revertLane:av(),action:p,hasEagerState:!1,eagerState:null,next:null},ff(o)){if(l)throw Error(r(479))}else l=Gp(o,f,p,2),l!==null&&mr(l,o,2)}function ff(o){var l=o.alternate;return o===tt||l!==null&&l===tt}function kT(o,l){Ss=of=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function OT(o,l,f){if((f&4194048)!==0){var p=l.lanes;p&=o.pendingLanes,f|=p,l.lanes=f,nu(o,f)}}var hf={readContext:Rn,use:lf,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},MT={readContext:Rn,use:lf,useCallback:function(o,l){return er().memoizedState=[o,l===void 0?null:l],o},useContext:Rn,useEffect:hT,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,df(4194308,4,vT.bind(null,l,o),f)},useLayoutEffect:function(o,l){return df(4194308,4,o,l)},useInsertionEffect:function(o,l){df(4,2,o,l)},useMemo:function(o,l){var f=er();l=l===void 0?null:l;var p=o();if(bo){xr(!0);try{o()}finally{xr(!1)}}return f.memoizedState=[p,l],p},useReducer:function(o,l,f){var p=er();if(f!==void 0){var x=f(l);if(bo){xr(!0);try{f(l)}finally{xr(!1)}}}else x=l;return p.memoizedState=p.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},p.queue=o,o=o.dispatch=ZL.bind(null,tt,o),[p.memoizedState,o]},useRef:function(o){var l=er();return o={current:o},l.memoizedState=o},useState:function(o){o=xg(o);var l=o.queue,f=CT.bind(null,tt,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:Sg,useDeferredValue:function(o,l){var f=er();return wg(f,o,l)},useTransition:function(){var o=xg(!1);return o=ST.bind(null,tt,o.queue,!0,!1),er().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var p=tt,x=er();if(gt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Rt===null)throw Error(r(349));(ct&124)!==0||Z1(p,l,f)}x.memoizedState=f;var w={value:f,getSnapshot:l};return x.queue=w,hT(Q1.bind(null,p,w,o),[o]),p.flags|=2048,Ts(9,cf(),J1.bind(null,p,w,f,l),null),f},useId:function(){var o=er(),l=Rt.identifierPrefix;if(gt){var f=Oa,p=ka;f=(p&~(1<<32-Nn(p)-1)).toString(32)+f,l=""+l+"R"+f,f=sf++,0<f&&(l+="H"+f.toString(32)),l+=""}else f=GL++,l=""+l+"r"+f.toString(32)+"";return o.memoizedState=l},useHostTransitionStatus:Ag,useFormState:lT,useActionState:lT,useOptimistic:function(o){var l=er();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Eg.bind(null,tt,!0,f),f.dispatch=l,[o,l]},useMemoCache:vg,useCacheRefresh:function(){return er().memoizedState=XL.bind(null,tt)}},DT={readContext:Rn,use:lf,useCallback:bT,useContext:Rn,useEffect:mT,useImperativeHandle:yT,useInsertionEffect:pT,useLayoutEffect:gT,useMemo:xT,useReducer:uf,useRef:fT,useState:function(){return uf(Na)},useDebugValue:Sg,useDeferredValue:function(o,l){var f=on();return _T(f,Ct.memoizedState,o,l)},useTransition:function(){var o=uf(Na)[0],l=on().memoizedState;return[typeof o=="boolean"?o:Nu(o),l]},useSyncExternalStore:X1,useId:AT,useHostTransitionStatus:Ag,useFormState:uT,useActionState:uT,useOptimistic:function(o,l){var f=on();return nT(f,Ct,o,l)},useMemoCache:vg,useCacheRefresh:ET},JL={readContext:Rn,use:lf,useCallback:bT,useContext:Rn,useEffect:mT,useImperativeHandle:yT,useInsertionEffect:pT,useLayoutEffect:gT,useMemo:xT,useReducer:bg,useRef:fT,useState:function(){return bg(Na)},useDebugValue:Sg,useDeferredValue:function(o,l){var f=on();return Ct===null?wg(f,o,l):_T(f,Ct.memoizedState,o,l)},useTransition:function(){var o=bg(Na)[0],l=on().memoizedState;return[typeof o=="boolean"?o:Nu(o),l]},useSyncExternalStore:X1,useId:AT,useHostTransitionStatus:Ag,useFormState:dT,useActionState:dT,useOptimistic:function(o,l){var f=on();return Ct!==null?nT(f,Ct,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:vg,useCacheRefresh:ET},As=null,Iu=0;function mf(o){var l=Iu;return Iu+=1,As===null&&(As=[]),F1(As,o,l)}function ju(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function pf(o,l){throw l.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function NT(o){var l=o._init;return l(o._payload)}function PT(o){function l(ne,te){if(o){var ie=ne.deletions;ie===null?(ne.deletions=[te],ne.flags|=16):ie.push(te)}}function f(ne,te){if(!o)return null;for(;te!==null;)l(ne,te),te=te.sibling;return null}function p(ne){for(var te=new Map;ne!==null;)ne.key!==null?te.set(ne.key,ne):te.set(ne.index,ne),ne=ne.sibling;return te}function x(ne,te){return ne=Ca(ne,te),ne.index=0,ne.sibling=null,ne}function w(ne,te,ie){return ne.index=ie,o?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<te?(ne.flags|=67108866,te):ie):(ne.flags|=67108866,te)):(ne.flags|=1048576,te)}function N(ne){return o&&ne.alternate===null&&(ne.flags|=67108866),ne}function I(ne,te,ie,me){return te===null||te.tag!==6?(te=Kp(ie,ne.mode,me),te.return=ne,te):(te=x(te,ie),te.return=ne,te)}function Y(ne,te,ie,me){var Ne=ie.type;return Ne===S?he(ne,te,ie.props.children,me,ie.key):te!==null&&(te.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===R&&NT(Ne)===te.type)?(te=x(te,ie.props),ju(te,ie),te.return=ne,te):(te=Xd(ie.type,ie.key,ie.props,null,ne.mode,me),ju(te,ie),te.return=ne,te)}function oe(ne,te,ie,me){return te===null||te.tag!==4||te.stateNode.containerInfo!==ie.containerInfo||te.stateNode.implementation!==ie.implementation?(te=Yp(ie,ne.mode,me),te.return=ne,te):(te=x(te,ie.children||[]),te.return=ne,te)}function he(ne,te,ie,me,Ne){return te===null||te.tag!==7?(te=co(ie,ne.mode,me,Ne),te.return=ne,te):(te=x(te,ie),te.return=ne,te)}function ge(ne,te,ie){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Kp(""+te,ne.mode,ie),te.return=ne,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case y:return ie=Xd(te.type,te.key,te.props,null,ne.mode,ie),ju(ie,te),ie.return=ne,ie;case _:return te=Yp(te,ne.mode,ie),te.return=ne,te;case R:var me=te._init;return te=me(te._payload),ge(ne,te,ie)}if(q(te)||G(te))return te=co(te,ne.mode,ie,null),te.return=ne,te;if(typeof te.then=="function")return ge(ne,mf(te),ie);if(te.$$typeof===E)return ge(ne,ef(ne,te),ie);pf(ne,te)}return null}function le(ne,te,ie,me){var Ne=te!==null?te.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ne!==null?null:I(ne,te,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case y:return ie.key===Ne?Y(ne,te,ie,me):null;case _:return ie.key===Ne?oe(ne,te,ie,me):null;case R:return Ne=ie._init,ie=Ne(ie._payload),le(ne,te,ie,me)}if(q(ie)||G(ie))return Ne!==null?null:he(ne,te,ie,me,null);if(typeof ie.then=="function")return le(ne,te,mf(ie),me);if(ie.$$typeof===E)return le(ne,te,ef(ne,ie),me);pf(ne,ie)}return null}function ue(ne,te,ie,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return ne=ne.get(ie)||null,I(te,ne,""+me,Ne);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case y:return ne=ne.get(me.key===null?ie:me.key)||null,Y(te,ne,me,Ne);case _:return ne=ne.get(me.key===null?ie:me.key)||null,oe(te,ne,me,Ne);case R:var nt=me._init;return me=nt(me._payload),ue(ne,te,ie,me,Ne)}if(q(me)||G(me))return ne=ne.get(ie)||null,he(te,ne,me,Ne,null);if(typeof me.then=="function")return ue(ne,te,ie,mf(me),Ne);if(me.$$typeof===E)return ue(ne,te,ie,ef(te,me),Ne);pf(te,me)}return null}function ze(ne,te,ie,me){for(var Ne=null,nt=null,Ie=te,Ue=te=0,bn=null;Ie!==null&&Ue<ie.length;Ue++){Ie.index>Ue?(bn=Ie,Ie=null):bn=Ie.sibling;var ft=le(ne,Ie,ie[Ue],me);if(ft===null){Ie===null&&(Ie=bn);break}o&&Ie&&ft.alternate===null&&l(ne,Ie),te=w(ft,te,Ue),nt===null?Ne=ft:nt.sibling=ft,nt=ft,Ie=bn}if(Ue===ie.length)return f(ne,Ie),gt&&ho(ne,Ue),Ne;if(Ie===null){for(;Ue<ie.length;Ue++)Ie=ge(ne,ie[Ue],me),Ie!==null&&(te=w(Ie,te,Ue),nt===null?Ne=Ie:nt.sibling=Ie,nt=Ie);return gt&&ho(ne,Ue),Ne}for(Ie=p(Ie);Ue<ie.length;Ue++)bn=ue(Ie,ne,Ue,ie[Ue],me),bn!==null&&(o&&bn.alternate!==null&&Ie.delete(bn.key===null?Ue:bn.key),te=w(bn,te,Ue),nt===null?Ne=bn:nt.sibling=bn,nt=bn);return o&&Ie.forEach(function(Ii){return l(ne,Ii)}),gt&&ho(ne,Ue),Ne}function Be(ne,te,ie,me){if(ie==null)throw Error(r(151));for(var Ne=null,nt=null,Ie=te,Ue=te=0,bn=null,ft=ie.next();Ie!==null&&!ft.done;Ue++,ft=ie.next()){Ie.index>Ue?(bn=Ie,Ie=null):bn=Ie.sibling;var Ii=le(ne,Ie,ft.value,me);if(Ii===null){Ie===null&&(Ie=bn);break}o&&Ie&&Ii.alternate===null&&l(ne,Ie),te=w(Ii,te,Ue),nt===null?Ne=Ii:nt.sibling=Ii,nt=Ii,Ie=bn}if(ft.done)return f(ne,Ie),gt&&ho(ne,Ue),Ne;if(Ie===null){for(;!ft.done;Ue++,ft=ie.next())ft=ge(ne,ft.value,me),ft!==null&&(te=w(ft,te,Ue),nt===null?Ne=ft:nt.sibling=ft,nt=ft);return gt&&ho(ne,Ue),Ne}for(Ie=p(Ie);!ft.done;Ue++,ft=ie.next())ft=ue(Ie,ne,Ue,ft.value,me),ft!==null&&(o&&ft.alternate!==null&&Ie.delete(ft.key===null?Ue:ft.key),te=w(ft,te,Ue),nt===null?Ne=ft:nt.sibling=ft,nt=ft);return o&&Ie.forEach(function(Q3){return l(ne,Q3)}),gt&&ho(ne,Ue),Ne}function Ot(ne,te,ie,me){if(typeof ie=="object"&&ie!==null&&ie.type===S&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case y:e:{for(var Ne=ie.key;te!==null;){if(te.key===Ne){if(Ne=ie.type,Ne===S){if(te.tag===7){f(ne,te.sibling),me=x(te,ie.props.children),me.return=ne,ne=me;break e}}else if(te.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===R&&NT(Ne)===te.type){f(ne,te.sibling),me=x(te,ie.props),ju(me,ie),me.return=ne,ne=me;break e}f(ne,te);break}else l(ne,te);te=te.sibling}ie.type===S?(me=co(ie.props.children,ne.mode,me,ie.key),me.return=ne,ne=me):(me=Xd(ie.type,ie.key,ie.props,null,ne.mode,me),ju(me,ie),me.return=ne,ne=me)}return N(ne);case _:e:{for(Ne=ie.key;te!==null;){if(te.key===Ne)if(te.tag===4&&te.stateNode.containerInfo===ie.containerInfo&&te.stateNode.implementation===ie.implementation){f(ne,te.sibling),me=x(te,ie.children||[]),me.return=ne,ne=me;break e}else{f(ne,te);break}else l(ne,te);te=te.sibling}me=Yp(ie,ne.mode,me),me.return=ne,ne=me}return N(ne);case R:return Ne=ie._init,ie=Ne(ie._payload),Ot(ne,te,ie,me)}if(q(ie))return ze(ne,te,ie,me);if(G(ie)){if(Ne=G(ie),typeof Ne!="function")throw Error(r(150));return ie=Ne.call(ie),Be(ne,te,ie,me)}if(typeof ie.then=="function")return Ot(ne,te,mf(ie),me);if(ie.$$typeof===E)return Ot(ne,te,ef(ne,ie),me);pf(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,te!==null&&te.tag===6?(f(ne,te.sibling),me=x(te,ie),me.return=ne,ne=me):(f(ne,te),me=Kp(ie,ne.mode,me),me.return=ne,ne=me),N(ne)):f(ne,te)}return function(ne,te,ie,me){try{Iu=0;var Ne=Ot(ne,te,ie,me);return As=null,Ne}catch(Ie){if(Ie===Eu||Ie===nf)throw Ie;var nt=ur(29,Ie,null,ne.mode);return nt.lanes=me,nt.return=ne,nt}finally{}}}var Es=PT(!0),RT=PT(!1),Er=K(null),ia=null;function xi(o){var l=o.alternate;ce(fn,fn.current&1),ce(Er,o),ia===null&&(l===null||_s.current!==null||l.memoizedState!==null)&&(ia=o)}function IT(o){if(o.tag===22){if(ce(fn,fn.current),ce(Er,o),ia===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(ia=o)}}else _i()}function _i(){ce(fn,fn.current),ce(Er,Er.current)}function Pa(o){re(Er),ia===o&&(ia=null),re(fn)}var fn=K(0);function gf(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||gv(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Cg(o,l,f,p){l=o.memoizedState,f=f(p,l),f=f==null?l:h({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var kg={enqueueSetState:function(o,l,f){o=o._reactInternals;var p=hr(),x=vi(p);x.payload=l,f!=null&&(x.callback=f),l=yi(o,x,p),l!==null&&(mr(l,o,p),ku(l,o,p))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var p=hr(),x=vi(p);x.tag=1,x.payload=l,f!=null&&(x.callback=f),l=yi(o,x,p),l!==null&&(mr(l,o,p),ku(l,o,p))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=hr(),p=vi(f);p.tag=2,l!=null&&(p.callback=l),l=yi(o,p,f),l!==null&&(mr(l,o,f),ku(l,o,f))}};function jT(o,l,f,p,x,w,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,N):l.prototype&&l.prototype.isPureReactComponent?!yu(f,p)||!yu(x,w):!0}function $T(o,l,f,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,p),l.state!==o&&kg.enqueueReplaceState(l,l.state,null)}function xo(o,l){var f=l;if("ref"in l){f={};for(var p in l)p!=="ref"&&(f[p]=l[p])}if(o=o.defaultProps){f===l&&(f=h({},f));for(var x in o)f[x]===void 0&&(f[x]=o[x])}return f}var vf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function LT(o){vf(o)}function BT(o){console.error(o)}function qT(o){vf(o)}function yf(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function UT(o,l,f){try{var p=o.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Og(o,l,f){return f=vi(f),f.tag=3,f.payload={element:null},f.callback=function(){yf(o,l)},f}function FT(o){return o=vi(o),o.tag=3,o}function VT(o,l,f,p){var x=f.type.getDerivedStateFromError;if(typeof x=="function"){var w=p.value;o.payload=function(){return x(w)},o.callback=function(){UT(l,f,p)}}var N=f.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){UT(l,f,p),typeof x!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function QL(o,l,f,p,x){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=f.alternate,l!==null&&wu(l,f,x,!0),f=Er.current,f!==null){switch(f.tag){case 13:return ia===null?Qg():f.alternate===null&&Jt===0&&(Jt=3),f.flags&=-257,f.flags|=65536,f.lanes=x,p===ag?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([p]):l.add(p),tv(o,p,x)),!1;case 22:return f.flags|=65536,p===ag?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([p]):f.add(p)),tv(o,p,x)),!1}throw Error(r(435,f.tag))}return tv(o,p,x),Qg(),!1}if(gt)return l=Er.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,p!==Zp&&(o=Error(r(422),{cause:p}),Su(Sr(o,f)))):(p!==Zp&&(l=Error(r(423),{cause:p}),Su(Sr(l,f))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,p=Sr(p,f),x=Og(o.stateNode,p,x),sg(o,x),Jt!==4&&(Jt=2)),!1;var w=Error(r(520),{cause:p});if(w=Sr(w,f),Vu===null?Vu=[w]:Vu.push(w),Jt!==4&&(Jt=2),l===null)return!0;p=Sr(p,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=x&-x,f.lanes|=o,o=Og(f.stateNode,p,o),sg(f,o),!1;case 1:if(l=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ci===null||!Ci.has(w))))return f.flags|=65536,x&=-x,f.lanes|=x,x=FT(x),VT(x,o,f,p),sg(f,x),!1}f=f.return}while(f!==null);return!1}var zT=Error(r(461)),vn=!1;function Cn(o,l,f,p){l.child=o===null?RT(l,null,f,p):Es(l,o.child,f,p)}function GT(o,l,f,p,x){f=f.render;var w=l.ref;if("ref"in p){var N={};for(var I in p)I!=="ref"&&(N[I]=p[I])}else N=p;return vo(l),p=fg(o,l,f,N,w,x),I=hg(),o!==null&&!vn?(mg(o,l,x),Ra(o,l,x)):(gt&&I&&Wp(l),l.flags|=1,Cn(o,l,p,x),l.child)}function HT(o,l,f,p,x){if(o===null){var w=f.type;return typeof w=="function"&&!Hp(w)&&w.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=w,KT(o,l,w,p,x)):(o=Xd(f.type,null,p,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,!$g(o,x)){var N=w.memoizedProps;if(f=f.compare,f=f!==null?f:yu,f(N,p)&&o.ref===l.ref)return Ra(o,l,x)}return l.flags|=1,o=Ca(w,p),o.ref=l.ref,o.return=l,l.child=o}function KT(o,l,f,p,x){if(o!==null){var w=o.memoizedProps;if(yu(w,p)&&o.ref===l.ref)if(vn=!1,l.pendingProps=p=w,$g(o,x))(o.flags&131072)!==0&&(vn=!0);else return l.lanes=o.lanes,Ra(o,l,x)}return Mg(o,l,f,p,x)}function YT(o,l,f){var p=l.pendingProps,x=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=w!==null?w.baseLanes|f:f,o!==null){for(x=l.child=o.child,w=0;x!==null;)w=w|x.lanes|x.childLanes,x=x.sibling;l.childLanes=w&~p}else l.childLanes=0,l.child=null;return WT(o,l,p,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&tf(l,w!==null?w.cachePool:null),w!==null?K1(l,w):ug(),IT(l);else return l.lanes=l.childLanes=536870912,WT(o,l,w!==null?w.baseLanes|f:f,f)}else w!==null?(tf(l,w.cachePool),K1(l,w),_i(),l.memoizedState=null):(o!==null&&tf(l,null),ug(),_i());return Cn(o,l,x,f),l.child}function WT(o,l,f,p){var x=rg();return x=x===null?null:{parent:dn._currentValue,pool:x},l.memoizedState={baseLanes:f,cachePool:x},o!==null&&tf(l,null),ug(),IT(l),o!==null&&wu(o,l,p,!0),null}function bf(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function Mg(o,l,f,p,x){return vo(l),f=fg(o,l,f,p,void 0,x),p=hg(),o!==null&&!vn?(mg(o,l,x),Ra(o,l,x)):(gt&&p&&Wp(l),l.flags|=1,Cn(o,l,f,x),l.child)}function XT(o,l,f,p,x,w){return vo(l),l.updateQueue=null,f=W1(l,p,f,x),Y1(o),p=hg(),o!==null&&!vn?(mg(o,l,w),Ra(o,l,w)):(gt&&p&&Wp(l),l.flags|=1,Cn(o,l,f,w),l.child)}function ZT(o,l,f,p,x){if(vo(l),l.stateNode===null){var w=gs,N=f.contextType;typeof N=="object"&&N!==null&&(w=Rn(N)),w=new f(p,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=kg,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=p,w.state=l.memoizedState,w.refs={},ig(l),N=f.contextType,w.context=typeof N=="object"&&N!==null?Rn(N):gs,w.state=l.memoizedState,N=f.getDerivedStateFromProps,typeof N=="function"&&(Cg(l,f,N,p),w.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&kg.enqueueReplaceState(w,w.state,null),Mu(l,p,w,x),Ou(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(o===null){w=l.stateNode;var I=l.memoizedProps,Y=xo(f,I);w.props=Y;var oe=w.context,he=f.contextType;N=gs,typeof he=="object"&&he!==null&&(N=Rn(he));var ge=f.getDerivedStateFromProps;he=typeof ge=="function"||typeof w.getSnapshotBeforeUpdate=="function",I=l.pendingProps!==I,he||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I||oe!==N)&&$T(l,w,p,N),gi=!1;var le=l.memoizedState;w.state=le,Mu(l,p,w,x),Ou(),oe=l.memoizedState,I||le!==oe||gi?(typeof ge=="function"&&(Cg(l,f,ge,p),oe=l.memoizedState),(Y=gi||jT(l,f,Y,p,le,oe,N))?(he||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=oe),w.props=p,w.state=oe,w.context=N,p=Y):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{w=l.stateNode,og(o,l),N=l.memoizedProps,he=xo(f,N),w.props=he,ge=l.pendingProps,le=w.context,oe=f.contextType,Y=gs,typeof oe=="object"&&oe!==null&&(Y=Rn(oe)),I=f.getDerivedStateFromProps,(oe=typeof I=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==ge||le!==Y)&&$T(l,w,p,Y),gi=!1,le=l.memoizedState,w.state=le,Mu(l,p,w,x),Ou();var ue=l.memoizedState;N!==ge||le!==ue||gi||o!==null&&o.dependencies!==null&&Qd(o.dependencies)?(typeof I=="function"&&(Cg(l,f,I,p),ue=l.memoizedState),(he=gi||jT(l,f,he,p,le,ue,Y)||o!==null&&o.dependencies!==null&&Qd(o.dependencies))?(oe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,ue,Y),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,ue,Y)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===o.memoizedProps&&le===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&le===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ue),w.props=p,w.state=ue,w.context=Y,p=he):(typeof w.componentDidUpdate!="function"||N===o.memoizedProps&&le===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&le===o.memoizedState||(l.flags|=1024),p=!1)}return w=p,bf(o,l),p=(l.flags&128)!==0,w||p?(w=l.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,o!==null&&p?(l.child=Es(l,o.child,null,x),l.child=Es(l,null,f,x)):Cn(o,l,f,x),l.memoizedState=w.state,o=l.child):o=Ra(o,l,x),o}function JT(o,l,f,p){return _u(),l.flags|=256,Cn(o,l,f,p),l.child}var Dg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ng(o){return{baseLanes:o,cachePool:B1()}}function Pg(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=Cr),o}function QT(o,l,f){var p=l.pendingProps,x=!1,w=(l.flags&128)!==0,N;if((N=w)||(N=o!==null&&o.memoizedState===null?!1:(fn.current&2)!==0),N&&(x=!0,l.flags&=-129),N=(l.flags&32)!==0,l.flags&=-33,o===null){if(gt){if(x?xi(l):_i(),gt){var I=Zt,Y;if(Y=I){e:{for(Y=I,I=aa;Y.nodeType!==8;){if(!I){I=null;break e}if(Y=Vr(Y.nextSibling),Y===null){I=null;break e}}I=Y}I!==null?(l.memoizedState={dehydrated:I,treeContext:fo!==null?{id:ka,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},Y=ur(18,null,null,0),Y.stateNode=I,Y.return=l,l.child=Y,Un=l,Zt=null,Y=!0):Y=!1}Y||po(l)}if(I=l.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return gv(I)?l.lanes=32:l.lanes=536870912,null;Pa(l)}return I=p.children,p=p.fallback,x?(_i(),x=l.mode,I=xf({mode:"hidden",children:I},x),p=co(p,x,f,null),I.return=l,p.return=l,I.sibling=p,l.child=I,x=l.child,x.memoizedState=Ng(f),x.childLanes=Pg(o,N,f),l.memoizedState=Dg,p):(xi(l),Rg(l,I))}if(Y=o.memoizedState,Y!==null&&(I=Y.dehydrated,I!==null)){if(w)l.flags&256?(xi(l),l.flags&=-257,l=Ig(o,l,f)):l.memoizedState!==null?(_i(),l.child=o.child,l.flags|=128,l=null):(_i(),x=p.fallback,I=l.mode,p=xf({mode:"visible",children:p.children},I),x=co(x,I,f,null),x.flags|=2,p.return=l,x.return=l,p.sibling=x,l.child=p,Es(l,o.child,null,f),p=l.child,p.memoizedState=Ng(f),p.childLanes=Pg(o,N,f),l.memoizedState=Dg,l=x);else if(xi(l),gv(I)){if(N=I.nextSibling&&I.nextSibling.dataset,N)var oe=N.dgst;N=oe,p=Error(r(419)),p.stack="",p.digest=N,Su({value:p,source:null,stack:null}),l=Ig(o,l,f)}else if(vn||wu(o,l,f,!1),N=(f&o.childLanes)!==0,vn||N){if(N=Rt,N!==null&&(p=f&-f,p=(p&42)!==0?1:ru(p),p=(p&(N.suspendedLanes|f))!==0?0:p,p!==0&&p!==Y.retryLane))throw Y.retryLane=p,ps(o,p),mr(N,o,p),zT;I.data==="$?"||Qg(),l=Ig(o,l,f)}else I.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=Y.treeContext,Zt=Vr(I.nextSibling),Un=l,gt=!0,mo=null,aa=!1,o!==null&&(Tr[Ar++]=ka,Tr[Ar++]=Oa,Tr[Ar++]=fo,ka=o.id,Oa=o.overflow,fo=l),l=Rg(l,p.children),l.flags|=4096);return l}return x?(_i(),x=p.fallback,I=l.mode,Y=o.child,oe=Y.sibling,p=Ca(Y,{mode:"hidden",children:p.children}),p.subtreeFlags=Y.subtreeFlags&65011712,oe!==null?x=Ca(oe,x):(x=co(x,I,f,null),x.flags|=2),x.return=l,p.return=l,p.sibling=x,l.child=p,p=x,x=l.child,I=o.child.memoizedState,I===null?I=Ng(f):(Y=I.cachePool,Y!==null?(oe=dn._currentValue,Y=Y.parent!==oe?{parent:oe,pool:oe}:Y):Y=B1(),I={baseLanes:I.baseLanes|f,cachePool:Y}),x.memoizedState=I,x.childLanes=Pg(o,N,f),l.memoizedState=Dg,p):(xi(l),f=o.child,o=f.sibling,f=Ca(f,{mode:"visible",children:p.children}),f.return=l,f.sibling=null,o!==null&&(N=l.deletions,N===null?(l.deletions=[o],l.flags|=16):N.push(o)),l.child=f,l.memoizedState=null,f)}function Rg(o,l){return l=xf({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function xf(o,l){return o=ur(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Ig(o,l,f){return Es(l,o.child,null,f),o=Rg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function eA(o,l,f){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),Qp(o.return,l,f)}function jg(o,l,f,p,x){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:x}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=f,w.tailMode=x)}function tA(o,l,f){var p=l.pendingProps,x=p.revealOrder,w=p.tail;if(Cn(o,l,p.children,f),p=fn.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&eA(o,f,l);else if(o.tag===19)eA(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}switch(ce(fn,p),x){case"forwards":for(f=l.child,x=null;f!==null;)o=f.alternate,o!==null&&gf(o)===null&&(x=f),f=f.sibling;f=x,f===null?(x=l.child,l.child=null):(x=f.sibling,f.sibling=null),jg(l,!1,x,f,w);break;case"backwards":for(f=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&gf(o)===null){l.child=x;break}o=x.sibling,x.sibling=f,f=x,x=o}jg(l,!0,f,null,w);break;case"together":jg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ra(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Ei|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(wu(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=Ca(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=Ca(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function $g(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Qd(o)))}function e3(o,l,f){switch(l.tag){case 3:Ve(l,l.stateNode.containerInfo),pi(l,dn,o.memoizedState.cache),_u();break;case 27:case 5:je(l);break;case 4:Ve(l,l.stateNode.containerInfo);break;case 10:pi(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(xi(l),l.flags|=128,null):(f&l.child.childLanes)!==0?QT(o,l,f):(xi(l),o=Ra(o,l,f),o!==null?o.sibling:null);xi(l);break;case 19:var x=(o.flags&128)!==0;if(p=(f&l.childLanes)!==0,p||(wu(o,l,f,!1),p=(f&l.childLanes)!==0),x){if(p)return tA(o,l,f);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ce(fn,fn.current),p)break;return null;case 22:case 23:return l.lanes=0,YT(o,l,f);case 24:pi(l,dn,o.memoizedState.cache)}return Ra(o,l,f)}function nA(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)vn=!0;else{if(!$g(o,f)&&(l.flags&128)===0)return vn=!1,e3(o,l,f);vn=(o.flags&131072)!==0}else vn=!1,gt&&(l.flags&1048576)!==0&&N1(l,Jd,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var p=l.elementType,x=p._init;if(p=x(p._payload),l.type=p,typeof p=="function")Hp(p)?(o=xo(p,o),l.tag=1,l=ZT(null,l,p,o,f)):(l.tag=0,l=Mg(null,l,p,o,f));else{if(p!=null){if(x=p.$$typeof,x===D){l.tag=11,l=GT(null,l,p,o,f);break e}else if(x===P){l.tag=14,l=HT(null,l,p,o,f);break e}}throw l=H(p)||p,Error(r(306,l,""))}}return l;case 0:return Mg(o,l,l.type,l.pendingProps,f);case 1:return p=l.type,x=xo(p,l.pendingProps),ZT(o,l,p,x,f);case 3:e:{if(Ve(l,l.stateNode.containerInfo),o===null)throw Error(r(387));p=l.pendingProps;var w=l.memoizedState;x=w.element,og(o,l),Mu(l,p,null,f);var N=l.memoizedState;if(p=N.cache,pi(l,dn,p),p!==w.cache&&eg(l,[dn],f,!0),Ou(),p=N.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:N.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=JT(o,l,p,f);break e}else if(p!==x){x=Sr(Error(r(424)),l),Su(x),l=JT(o,l,p,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Zt=Vr(o.firstChild),Un=l,gt=!0,mo=null,aa=!0,f=RT(l,null,p,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(_u(),p===x){l=Ra(o,l,f);break e}Cn(o,l,p,f)}l=l.child}return l;case 26:return bf(o,l),o===null?(f=oE(l.type,null,l.pendingProps,null))?l.memoizedState=f:gt||(f=l.type,o=l.pendingProps,p=Rf(ke.current).createElement(f),p[cn]=l,p[Pn]=o,On(p,f,o),en(p),l.stateNode=p):l.memoizedState=oE(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return je(l),o===null&&gt&&(p=l.stateNode=rE(l.type,l.pendingProps,ke.current),Un=l,aa=!0,x=Zt,Mi(l.type)?(vv=x,Zt=Vr(p.firstChild)):Zt=x),Cn(o,l,l.pendingProps.children,f),bf(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&gt&&((x=p=Zt)&&(p=k3(p,l.type,l.pendingProps,aa),p!==null?(l.stateNode=p,Un=l,Zt=Vr(p.firstChild),aa=!1,x=!0):x=!1),x||po(l)),je(l),x=l.type,w=l.pendingProps,N=o!==null?o.memoizedProps:null,p=w.children,hv(x,w)?p=null:N!==null&&hv(x,N)&&(l.flags|=32),l.memoizedState!==null&&(x=fg(o,l,HL,null,null,f),Ju._currentValue=x),bf(o,l),Cn(o,l,p,f),l.child;case 6:return o===null&&gt&&((o=f=Zt)&&(f=O3(f,l.pendingProps,aa),f!==null?(l.stateNode=f,Un=l,Zt=null,o=!0):o=!1),o||po(l)),null;case 13:return QT(o,l,f);case 4:return Ve(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=Es(l,null,p,f):Cn(o,l,p,f),l.child;case 11:return GT(o,l,l.type,l.pendingProps,f);case 7:return Cn(o,l,l.pendingProps,f),l.child;case 8:return Cn(o,l,l.pendingProps.children,f),l.child;case 12:return Cn(o,l,l.pendingProps.children,f),l.child;case 10:return p=l.pendingProps,pi(l,l.type,p.value),Cn(o,l,p.children,f),l.child;case 9:return x=l.type._context,p=l.pendingProps.children,vo(l),x=Rn(x),p=p(x),l.flags|=1,Cn(o,l,p,f),l.child;case 14:return HT(o,l,l.type,l.pendingProps,f);case 15:return KT(o,l,l.type,l.pendingProps,f);case 19:return tA(o,l,f);case 31:return p=l.pendingProps,f=l.mode,p={mode:p.mode,children:p.children},o===null?(f=xf(p,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=Ca(o.child,p),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return YT(o,l,f);case 24:return vo(l),p=Rn(dn),o===null?(x=rg(),x===null&&(x=Rt,w=tg(),x.pooledCache=w,w.refCount++,w!==null&&(x.pooledCacheLanes|=f),x=w),l.memoizedState={parent:p,cache:x},ig(l),pi(l,dn,x)):((o.lanes&f)!==0&&(og(o,l),Mu(l,null,null,f),Ou()),x=o.memoizedState,w=l.memoizedState,x.parent!==p?(x={parent:p,cache:p},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),pi(l,dn,p)):(p=w.cache,pi(l,dn,p),p!==x.cache&&eg(l,[dn],f,!0))),Cn(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ia(o){o.flags|=4}function rA(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!dE(l)){if(l=Er.current,l!==null&&((ct&4194048)===ct?ia!==null:(ct&62914560)!==ct&&(ct&536870912)===0||l!==ia))throw Cu=ag,q1;o.flags|=8192}}function _f(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?oi():536870912,o.lanes|=l,Ms|=l)}function $u(o,l){if(!gt)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Yt(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,p=0;if(l)for(var x=o.child;x!==null;)f|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)f|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=p,o.childLanes=f,l}function t3(o,l,f){var p=l.pendingProps;switch(Xp(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(l),null;case 1:return Yt(l),null;case 3:return f=l.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Da(dn),Ae(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(xu(l)?Ia(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,I1())),Yt(l),null;case 26:return f=l.memoizedState,o===null?(Ia(l),f!==null?(Yt(l),rA(l,f)):(Yt(l),l.flags&=-16777217)):f?f!==o.memoizedState?(Ia(l),Yt(l),rA(l,f)):(Yt(l),l.flags&=-16777217):(o.memoizedProps!==p&&Ia(l),Yt(l),l.flags&=-16777217),null;case 27:qe(l),f=ke.current;var x=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==p&&Ia(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Yt(l),null}o=_e.current,xu(l)?P1(l):(o=rE(x,p,f),l.stateNode=o,Ia(l))}return Yt(l),null;case 5:if(qe(l),f=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&Ia(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Yt(l),null}if(o=_e.current,xu(l))P1(l);else{switch(x=Rf(ke.current),o){case 1:o=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof p.is=="string"?x.createElement("select",{is:p.is}):x.createElement("select"),p.multiple?o.multiple=!0:p.size&&(o.size=p.size);break;default:o=typeof p.is=="string"?x.createElement(f,{is:p.is}):x.createElement(f)}}o[cn]=l,o[Pn]=p;e:for(x=l.child;x!==null;){if(x.tag===5||x.tag===6)o.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===l)break e;for(;x.sibling===null;){if(x.return===null||x.return===l)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}l.stateNode=o;e:switch(On(o,f,p),f){case"button":case"input":case"select":case"textarea":o=!!p.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ia(l)}}return Yt(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==p&&Ia(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(o=ke.current,xu(l)){if(o=l.stateNode,f=l.memoizedProps,p=null,x=Un,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}o[cn]=l,o=!!(o.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||XA(o.nodeValue,f)),o||po(l)}else o=Rf(o).createTextNode(p),o[cn]=l,l.stateNode=o}return Yt(l),null;case 13:if(p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=xu(l),p!==null&&p.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[cn]=l}else _u(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Yt(l),x=!1}else x=I1(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(Pa(l),l):(Pa(l),null)}if(Pa(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=p!==null,o=o!==null&&o.memoizedState!==null,f){p=l.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool);var w=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==x&&(p.flags|=2048)}return f!==o&&f&&(l.child.flags|=8192),_f(l,l.updateQueue),Yt(l),null;case 4:return Ae(),o===null&&lv(l.stateNode.containerInfo),Yt(l),null;case 10:return Da(l.type),Yt(l),null;case 19:if(re(fn),x=l.memoizedState,x===null)return Yt(l),null;if(p=(l.flags&128)!==0,w=x.rendering,w===null)if(p)$u(x,!1);else{if(Jt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(w=gf(o),w!==null){for(l.flags|=128,$u(x,!1),o=w.updateQueue,l.updateQueue=o,_f(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)D1(f,o),f=f.sibling;return ce(fn,fn.current&1|2),l.child}o=o.sibling}x.tail!==null&&dt()>Tf&&(l.flags|=128,p=!0,$u(x,!1),l.lanes=4194304)}else{if(!p)if(o=gf(w),o!==null){if(l.flags|=128,p=!0,o=o.updateQueue,l.updateQueue=o,_f(l,o),$u(x,!0),x.tail===null&&x.tailMode==="hidden"&&!w.alternate&&!gt)return Yt(l),null}else 2*dt()-x.renderingStartTime>Tf&&f!==536870912&&(l.flags|=128,p=!0,$u(x,!1),l.lanes=4194304);x.isBackwards?(w.sibling=l.child,l.child=w):(o=x.last,o!==null?o.sibling=w:l.child=w,x.last=w)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=dt(),l.sibling=null,o=fn.current,ce(fn,p?o&1|2:o&1),l):(Yt(l),null);case 22:case 23:return Pa(l),cg(),p=l.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(f&536870912)!==0&&(l.flags&128)===0&&(Yt(l),l.subtreeFlags&6&&(l.flags|=8192)):Yt(l),f=l.updateQueue,f!==null&&_f(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048),o!==null&&re(yo),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Da(dn),Yt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function n3(o,l){switch(Xp(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Da(dn),Ae(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return qe(l),null;case 13:if(Pa(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));_u()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return re(fn),null;case 4:return Ae(),null;case 10:return Da(l.type),null;case 22:case 23:return Pa(l),cg(),o!==null&&re(yo),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Da(dn),null;case 25:return null;default:return null}}function aA(o,l){switch(Xp(l),l.tag){case 3:Da(dn),Ae();break;case 26:case 27:case 5:qe(l);break;case 4:Ae();break;case 13:Pa(l);break;case 19:re(fn);break;case 10:Da(l.type);break;case 22:case 23:Pa(l),cg(),o!==null&&re(yo);break;case 24:Da(dn)}}function Lu(o,l){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var x=p.next;f=x;do{if((f.tag&o)===o){p=void 0;var w=f.create,N=f.inst;p=w(),N.destroy=p}f=f.next}while(f!==x)}}catch(I){Nt(l,l.return,I)}}function Si(o,l,f){try{var p=l.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var w=x.next;p=w;do{if((p.tag&o)===o){var N=p.inst,I=N.destroy;if(I!==void 0){N.destroy=void 0,x=l;var Y=f,oe=I;try{oe()}catch(he){Nt(x,Y,he)}}}p=p.next}while(p!==w)}}catch(he){Nt(l,l.return,he)}}function iA(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{H1(l,f)}catch(p){Nt(o,o.return,p)}}}function oA(o,l,f){f.props=xo(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(p){Nt(o,l,p)}}function Bu(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof f=="function"?o.refCleanup=f(p):f.current=p}}catch(x){Nt(o,l,x)}}function oa(o,l){var f=o.ref,p=o.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(x){Nt(o,l,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(x){Nt(o,l,x)}else f.current=null}function sA(o){var l=o.type,f=o.memoizedProps,p=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(x){Nt(o,o.return,x)}}function Lg(o,l,f){try{var p=o.stateNode;w3(p,o.type,f,l),p[Pn]=l}catch(x){Nt(o,o.return,x)}}function lA(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Mi(o.type)||o.tag===4}function Bg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||lA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Mi(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function qg(o,l,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Pf));else if(p!==4&&(p===27&&Mi(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(qg(o,l,f),o=o.sibling;o!==null;)qg(o,l,f),o=o.sibling}function Sf(o,l,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(p!==4&&(p===27&&Mi(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Sf(o,l,f),o=o.sibling;o!==null;)Sf(o,l,f),o=o.sibling}function uA(o){var l=o.stateNode,f=o.memoizedProps;try{for(var p=o.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);On(l,p,f),l[cn]=o,l[Pn]=f}catch(w){Nt(o,o.return,w)}}var ja=!1,nn=!1,Ug=!1,cA=typeof WeakSet=="function"?WeakSet:Set,yn=null;function r3(o,l){if(o=o.containerInfo,dv=qf,o=_1(o),Bp(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var x=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var N=0,I=-1,Y=-1,oe=0,he=0,ge=o,le=null;t:for(;;){for(var ue;ge!==f||x!==0&&ge.nodeType!==3||(I=N+x),ge!==w||p!==0&&ge.nodeType!==3||(Y=N+p),ge.nodeType===3&&(N+=ge.nodeValue.length),(ue=ge.firstChild)!==null;)le=ge,ge=ue;for(;;){if(ge===o)break t;if(le===f&&++oe===x&&(I=N),le===w&&++he===p&&(Y=N),(ue=ge.nextSibling)!==null)break;ge=le,le=ge.parentNode}ge=ue}f=I===-1||Y===-1?null:{start:I,end:Y}}else f=null}f=f||{start:0,end:0}}else f=null;for(fv={focusedElem:o,selectionRange:f},qf=!1,yn=l;yn!==null;)if(l=yn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,yn=o;else for(;yn!==null;){switch(l=yn,w=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,f=l,x=w.memoizedProps,w=w.memoizedState,p=f.stateNode;try{var ze=xo(f.type,x,f.elementType===f.type);o=p.getSnapshotBeforeUpdate(ze,w),p.__reactInternalSnapshotBeforeUpdate=o}catch(Be){Nt(f,f.return,Be)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)pv(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":pv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,yn=o;break}yn=l.return}}function dA(o,l,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:wi(o,f),p&4&&Lu(5,f);break;case 1:if(wi(o,f),p&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(N){Nt(f,f.return,N)}else{var x=xo(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(x,l,o.__reactInternalSnapshotBeforeUpdate)}catch(N){Nt(f,f.return,N)}}p&64&&iA(f),p&512&&Bu(f,f.return);break;case 3:if(wi(o,f),p&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{H1(o,l)}catch(N){Nt(f,f.return,N)}}break;case 27:l===null&&p&4&&uA(f);case 26:case 5:wi(o,f),l===null&&p&4&&sA(f),p&512&&Bu(f,f.return);break;case 12:wi(o,f);break;case 13:wi(o,f),p&4&&mA(o,f),p&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=f3.bind(null,f),M3(o,f))));break;case 22:if(p=f.memoizedState!==null||ja,!p){l=l!==null&&l.memoizedState!==null||nn,x=ja;var w=nn;ja=p,(nn=l)&&!w?Ti(o,f,(f.subtreeFlags&8772)!==0):wi(o,f),ja=x,nn=w}break;case 30:break;default:wi(o,f)}}function fA(o){var l=o.alternate;l!==null&&(o.alternate=null,fA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&ou(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var zt=null,tr=!1;function $a(o,l,f){for(f=f.child;f!==null;)hA(o,l,f),f=f.sibling}function hA(o,l,f){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(xa,f)}catch{}switch(f.tag){case 26:nn||oa(f,l),$a(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:nn||oa(f,l);var p=zt,x=tr;Mi(f.type)&&(zt=f.stateNode,tr=!1),$a(o,l,f),Yu(f.stateNode),zt=p,tr=x;break;case 5:nn||oa(f,l);case 6:if(p=zt,x=tr,zt=null,$a(o,l,f),zt=p,tr=x,zt!==null)if(tr)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(f.stateNode)}catch(w){Nt(f,l,w)}else try{zt.removeChild(f.stateNode)}catch(w){Nt(f,l,w)}break;case 18:zt!==null&&(tr?(o=zt,tE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),nc(o)):tE(zt,f.stateNode));break;case 4:p=zt,x=tr,zt=f.stateNode.containerInfo,tr=!0,$a(o,l,f),zt=p,tr=x;break;case 0:case 11:case 14:case 15:nn||Si(2,f,l),nn||Si(4,f,l),$a(o,l,f);break;case 1:nn||(oa(f,l),p=f.stateNode,typeof p.componentWillUnmount=="function"&&oA(f,l,p)),$a(o,l,f);break;case 21:$a(o,l,f);break;case 22:nn=(p=nn)||f.memoizedState!==null,$a(o,l,f),nn=p;break;default:$a(o,l,f)}}function mA(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{nc(o)}catch(f){Nt(l,l.return,f)}}function a3(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new cA),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new cA),l;default:throw Error(r(435,o.tag))}}function Fg(o,l){var f=a3(o);l.forEach(function(p){var x=h3.bind(null,o,p);f.has(p)||(f.add(p),p.then(x,x))})}function cr(o,l){var f=l.deletions;if(f!==null)for(var p=0;p<f.length;p++){var x=f[p],w=o,N=l,I=N;e:for(;I!==null;){switch(I.tag){case 27:if(Mi(I.type)){zt=I.stateNode,tr=!1;break e}break;case 5:zt=I.stateNode,tr=!1;break e;case 3:case 4:zt=I.stateNode.containerInfo,tr=!0;break e}I=I.return}if(zt===null)throw Error(r(160));hA(w,N,x),zt=null,tr=!1,w=x.alternate,w!==null&&(w.return=null),x.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)pA(l,o),l=l.sibling}var Fr=null;function pA(o,l){var f=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:cr(l,o),dr(o),p&4&&(Si(3,o,o.return),Lu(3,o),Si(5,o,o.return));break;case 1:cr(l,o),dr(o),p&512&&(nn||f===null||oa(f,f.return)),p&64&&ja&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var x=Fr;if(cr(l,o),dr(o),p&512&&(nn||f===null||oa(f,f.return)),p&4){var w=f!==null?f.memoizedState:null;if(p=o.memoizedState,f===null)if(p===null)if(o.stateNode===null){e:{p=o.type,f=o.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":w=x.getElementsByTagName("title")[0],(!w||w[ao]||w[cn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=x.createElement(p),x.head.insertBefore(w,x.querySelector("head > title"))),On(w,p,f),w[cn]=o,en(w),p=w;break e;case"link":var N=uE("link","href",x).get(p+(f.href||""));if(N){for(var I=0;I<N.length;I++)if(w=N[I],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){N.splice(I,1);break t}}w=x.createElement(p),On(w,p,f),x.head.appendChild(w);break;case"meta":if(N=uE("meta","content",x).get(p+(f.content||""))){for(I=0;I<N.length;I++)if(w=N[I],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){N.splice(I,1);break t}}w=x.createElement(p),On(w,p,f),x.head.appendChild(w);break;default:throw Error(r(468,p))}w[cn]=o,en(w),p=w}o.stateNode=p}else cE(x,o.type,o.stateNode);else o.stateNode=lE(x,p,o.memoizedProps);else w!==p?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,p===null?cE(x,o.type,o.stateNode):lE(x,p,o.memoizedProps)):p===null&&o.stateNode!==null&&Lg(o,o.memoizedProps,f.memoizedProps)}break;case 27:cr(l,o),dr(o),p&512&&(nn||f===null||oa(f,f.return)),f!==null&&p&4&&Lg(o,o.memoizedProps,f.memoizedProps);break;case 5:if(cr(l,o),dr(o),p&512&&(nn||f===null||oa(f,f.return)),o.flags&32){x=o.stateNode;try{fi(x,"")}catch(ue){Nt(o,o.return,ue)}}p&4&&o.stateNode!=null&&(x=o.memoizedProps,Lg(o,x,f!==null?f.memoizedProps:x)),p&1024&&(Ug=!0);break;case 6:if(cr(l,o),dr(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,f=o.stateNode;try{f.nodeValue=p}catch(ue){Nt(o,o.return,ue)}}break;case 3:if($f=null,x=Fr,Fr=If(l.containerInfo),cr(l,o),Fr=x,dr(o),p&4&&f!==null&&f.memoizedState.isDehydrated)try{nc(l.containerInfo)}catch(ue){Nt(o,o.return,ue)}Ug&&(Ug=!1,gA(o));break;case 4:p=Fr,Fr=If(o.stateNode.containerInfo),cr(l,o),dr(o),Fr=p;break;case 12:cr(l,o),dr(o);break;case 13:cr(l,o),dr(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Yg=dt()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Fg(o,p)));break;case 22:x=o.memoizedState!==null;var Y=f!==null&&f.memoizedState!==null,oe=ja,he=nn;if(ja=oe||x,nn=he||Y,cr(l,o),nn=he,ja=oe,dr(o),p&8192)e:for(l=o.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(f===null||Y||ja||nn||_o(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){Y=f=l;try{if(w=Y.stateNode,x)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{I=Y.stateNode;var ge=Y.memoizedProps.style,le=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;I.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ue){Nt(Y,Y.return,ue)}}}else if(l.tag===6){if(f===null){Y=l;try{Y.stateNode.nodeValue=x?"":Y.memoizedProps}catch(ue){Nt(Y,Y.return,ue)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=o.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,Fg(o,f))));break;case 19:cr(l,o),dr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Fg(o,p)));break;case 30:break;case 21:break;default:cr(l,o),dr(o)}}function dr(o){var l=o.flags;if(l&2){try{for(var f,p=o.return;p!==null;){if(lA(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var x=f.stateNode,w=Bg(o);Sf(o,w,x);break;case 5:var N=f.stateNode;f.flags&32&&(fi(N,""),f.flags&=-33);var I=Bg(o);Sf(o,I,N);break;case 3:case 4:var Y=f.stateNode.containerInfo,oe=Bg(o);qg(o,oe,Y);break;default:throw Error(r(161))}}catch(he){Nt(o,o.return,he)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function gA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;gA(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function wi(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)dA(o,l.alternate,l),l=l.sibling}function _o(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Si(4,l,l.return),_o(l);break;case 1:oa(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&oA(l,l.return,f),_o(l);break;case 27:Yu(l.stateNode);case 26:case 5:oa(l,l.return),_o(l);break;case 22:l.memoizedState===null&&_o(l);break;case 30:_o(l);break;default:_o(l)}o=o.sibling}}function Ti(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,x=o,w=l,N=w.flags;switch(w.tag){case 0:case 11:case 15:Ti(x,w,f),Lu(4,w);break;case 1:if(Ti(x,w,f),p=w,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(oe){Nt(p,p.return,oe)}if(p=w,x=p.updateQueue,x!==null){var I=p.stateNode;try{var Y=x.shared.hiddenCallbacks;if(Y!==null)for(x.shared.hiddenCallbacks=null,x=0;x<Y.length;x++)G1(Y[x],I)}catch(oe){Nt(p,p.return,oe)}}f&&N&64&&iA(w),Bu(w,w.return);break;case 27:uA(w);case 26:case 5:Ti(x,w,f),f&&p===null&&N&4&&sA(w),Bu(w,w.return);break;case 12:Ti(x,w,f);break;case 13:Ti(x,w,f),f&&N&4&&mA(x,w);break;case 22:w.memoizedState===null&&Ti(x,w,f),Bu(w,w.return);break;case 30:break;default:Ti(x,w,f)}l=l.sibling}}function Vg(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Tu(f))}function zg(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Tu(o))}function sa(o,l,f,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)vA(o,l,f,p),l=l.sibling}function vA(o,l,f,p){var x=l.flags;switch(l.tag){case 0:case 11:case 15:sa(o,l,f,p),x&2048&&Lu(9,l);break;case 1:sa(o,l,f,p);break;case 3:sa(o,l,f,p),x&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Tu(o)));break;case 12:if(x&2048){sa(o,l,f,p),o=l.stateNode;try{var w=l.memoizedProps,N=w.id,I=w.onPostCommit;typeof I=="function"&&I(N,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Y){Nt(l,l.return,Y)}}else sa(o,l,f,p);break;case 13:sa(o,l,f,p);break;case 23:break;case 22:w=l.stateNode,N=l.alternate,l.memoizedState!==null?w._visibility&2?sa(o,l,f,p):qu(o,l):w._visibility&2?sa(o,l,f,p):(w._visibility|=2,Cs(o,l,f,p,(l.subtreeFlags&10256)!==0)),x&2048&&Vg(N,l);break;case 24:sa(o,l,f,p),x&2048&&zg(l.alternate,l);break;default:sa(o,l,f,p)}}function Cs(o,l,f,p,x){for(x=x&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=o,N=l,I=f,Y=p,oe=N.flags;switch(N.tag){case 0:case 11:case 15:Cs(w,N,I,Y,x),Lu(8,N);break;case 23:break;case 22:var he=N.stateNode;N.memoizedState!==null?he._visibility&2?Cs(w,N,I,Y,x):qu(w,N):(he._visibility|=2,Cs(w,N,I,Y,x)),x&&oe&2048&&Vg(N.alternate,N);break;case 24:Cs(w,N,I,Y,x),x&&oe&2048&&zg(N.alternate,N);break;default:Cs(w,N,I,Y,x)}l=l.sibling}}function qu(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,p=l,x=p.flags;switch(p.tag){case 22:qu(f,p),x&2048&&Vg(p.alternate,p);break;case 24:qu(f,p),x&2048&&zg(p.alternate,p);break;default:qu(f,p)}l=l.sibling}}var Uu=8192;function ks(o){if(o.subtreeFlags&Uu)for(o=o.child;o!==null;)yA(o),o=o.sibling}function yA(o){switch(o.tag){case 26:ks(o),o.flags&Uu&&o.memoizedState!==null&&V3(Fr,o.memoizedState,o.memoizedProps);break;case 5:ks(o);break;case 3:case 4:var l=Fr;Fr=If(o.stateNode.containerInfo),ks(o),Fr=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=Uu,Uu=16777216,ks(o),Uu=l):ks(o));break;default:ks(o)}}function bA(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Fu(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];yn=p,_A(p,o)}bA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)xA(o),o=o.sibling}function xA(o){switch(o.tag){case 0:case 11:case 15:Fu(o),o.flags&2048&&Si(9,o,o.return);break;case 3:Fu(o);break;case 12:Fu(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,wf(o)):Fu(o);break;default:Fu(o)}}function wf(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];yn=p,_A(p,o)}bA(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Si(8,l,l.return),wf(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,wf(l));break;default:wf(l)}o=o.sibling}}function _A(o,l){for(;yn!==null;){var f=yn;switch(f.tag){case 0:case 11:case 15:Si(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Tu(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,yn=p;else e:for(f=o;yn!==null;){p=yn;var x=p.sibling,w=p.return;if(fA(p),p===f){yn=null;break e}if(x!==null){x.return=w,yn=x;break e}yn=w}}}var i3={getCacheForType:function(o){var l=Rn(dn),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f}},o3=typeof WeakMap=="function"?WeakMap:Map,wt=0,Rt=null,at=null,ct=0,Tt=0,fr=null,Ai=!1,Os=!1,Gg=!1,La=0,Jt=0,Ei=0,So=0,Hg=0,Cr=0,Ms=0,Vu=null,nr=null,Kg=!1,Yg=0,Tf=1/0,Af=null,Ci=null,kn=0,ki=null,Ds=null,Ns=0,Wg=0,Xg=null,SA=null,zu=0,Zg=null;function hr(){if((wt&2)!==0&&ct!==0)return ct&-ct;if($.T!==null){var o=bs;return o!==0?o:av()}return Dd()}function wA(){Cr===0&&(Cr=(ct&536870912)===0||gt?ii():536870912);var o=Er.current;return o!==null&&(o.flags|=32),Cr}function mr(o,l,f){(o===Rt&&(Tt===2||Tt===9)||o.cancelPendingCommit!==null)&&(Ps(o,0),Oi(o,ct,Cr,!1)),St(o,f),((wt&2)===0||o!==Rt)&&(o===Rt&&((wt&2)===0&&(So|=f),Jt===4&&Oi(o,ct,Cr,!1)),la(o))}function TA(o,l,f){if((wt&6)!==0)throw Error(r(327));var p=!f&&(l&124)===0&&(l&o.expiredLanes)===0||ro(o,l),x=p?u3(o,l):ev(o,l,!0),w=p;do{if(x===0){Os&&!p&&Oi(o,l,0,!1);break}else{if(f=o.current.alternate,w&&!s3(f)){x=ev(o,l,!1),w=!1;continue}if(x===2){if(w=l,o.errorRecoveryDisabledLanes&w)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){l=N;e:{var I=o;x=Vu;var Y=I.current.memoizedState.isDehydrated;if(Y&&(Ps(I,N).flags|=256),N=ev(I,N,!1),N!==2){if(Gg&&!Y){I.errorRecoveryDisabledLanes|=w,So|=w,x=4;break e}w=nr,nr=x,w!==null&&(nr===null?nr=w:nr.push.apply(nr,w))}x=N}if(w=!1,x!==2)continue}}if(x===1){Ps(o,0),Oi(o,l,0,!0);break}e:{switch(p=o,w=x,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Oi(p,l,Cr,!Ai);break e;case 2:nr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(x=Yg+300-dt(),10<x)){if(Oi(p,l,Cr,!Ai),is(p,0,!0)!==0)break e;p.timeoutHandle=QA(AA.bind(null,p,f,nr,Af,Kg,l,Cr,So,Ms,Ai,w,2,-0,0),x);break e}AA(p,f,nr,Af,Kg,l,Cr,So,Ms,Ai,w,0,-0,0)}}break}while(!0);la(o)}function AA(o,l,f,p,x,w,N,I,Y,oe,he,ge,le,ue){if(o.timeoutHandle=-1,ge=l.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(Zu={stylesheets:null,count:0,unsuspend:F3},yA(l),ge=z3(),ge!==null)){o.cancelPendingCommit=ge(NA.bind(null,o,l,w,f,p,x,N,I,Y,he,1,le,ue)),Oi(o,w,N,!oe);return}NA(o,l,w,f,p,x,N,I,Y)}function s3(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var x=f[p],w=x.getSnapshot;x=x.value;try{if(!lr(w(),x))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Oi(o,l,f,p){l&=~Hg,l&=~So,o.suspendedLanes|=l,o.pingedLanes&=~l,p&&(o.warmLanes|=l),p=o.expirationTimes;for(var x=l;0<x;){var w=31-Nn(x),N=1<<w;p[w]=-1,x&=~N}f!==0&&tu(o,f,l)}function Ef(){return(wt&6)===0?(Gu(0),!1):!0}function Jg(){if(at!==null){if(Tt===0)var o=at.return;else o=at,Ma=go=null,pg(o),As=null,Iu=0,o=at;for(;o!==null;)aA(o.alternate,o),o=o.return;at=null}}function Ps(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,A3(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Jg(),Rt=o,at=f=Ca(o.current,null),ct=l,Tt=0,fr=null,Ai=!1,Os=ro(o,l),Gg=!1,Ms=Cr=Hg=So=Ei=Jt=0,nr=Vu=null,Kg=!1,(l&8)!==0&&(l|=l&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=l;0<p;){var x=31-Nn(p),w=1<<x;l|=o[x],p&=~w}return La=l,Kd(),f}function EA(o,l){tt=null,$.H=hf,l===Eu||l===nf?(l=V1(),Tt=3):l===q1?(l=V1(),Tt=4):Tt=l===zT?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,fr=l,at===null&&(Jt=1,yf(o,Sr(l,o.current)))}function CA(){var o=$.H;return $.H=hf,o===null?hf:o}function kA(){var o=$.A;return $.A=i3,o}function Qg(){Jt=4,Ai||(ct&4194048)!==ct&&Er.current!==null||(Os=!0),(Ei&134217727)===0&&(So&134217727)===0||Rt===null||Oi(Rt,ct,Cr,!1)}function ev(o,l,f){var p=wt;wt|=2;var x=CA(),w=kA();(Rt!==o||ct!==l)&&(Af=null,Ps(o,l)),l=!1;var N=Jt;e:do try{if(Tt!==0&&at!==null){var I=at,Y=fr;switch(Tt){case 8:Jg(),N=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(l=!0);var oe=Tt;if(Tt=0,fr=null,Rs(o,I,Y,oe),f&&Os){N=0;break e}break;default:oe=Tt,Tt=0,fr=null,Rs(o,I,Y,oe)}}l3(),N=Jt;break}catch(he){EA(o,he)}while(!0);return l&&o.shellSuspendCounter++,Ma=go=null,wt=p,$.H=x,$.A=w,at===null&&(Rt=null,ct=0,Kd()),N}function l3(){for(;at!==null;)OA(at)}function u3(o,l){var f=wt;wt|=2;var p=CA(),x=kA();Rt!==o||ct!==l?(Af=null,Tf=dt()+500,Ps(o,l)):Os=ro(o,l);e:do try{if(Tt!==0&&at!==null){l=at;var w=fr;t:switch(Tt){case 1:Tt=0,fr=null,Rs(o,l,w,1);break;case 2:case 9:if(U1(w)){Tt=0,fr=null,MA(l);break}l=function(){Tt!==2&&Tt!==9||Rt!==o||(Tt=7),la(o)},w.then(l,l);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:U1(w)?(Tt=0,fr=null,MA(l)):(Tt=0,fr=null,Rs(o,l,w,7));break;case 5:var N=null;switch(at.tag){case 26:N=at.memoizedState;case 5:case 27:var I=at;if(!N||dE(N)){Tt=0,fr=null;var Y=I.sibling;if(Y!==null)at=Y;else{var oe=I.return;oe!==null?(at=oe,Cf(oe)):at=null}break t}}Tt=0,fr=null,Rs(o,l,w,5);break;case 6:Tt=0,fr=null,Rs(o,l,w,6);break;case 8:Jg(),Jt=6;break e;default:throw Error(r(462))}}c3();break}catch(he){EA(o,he)}while(!0);return Ma=go=null,$.H=p,$.A=x,wt=f,at!==null?0:(Rt=null,ct=0,Kd(),Jt)}function c3(){for(;at!==null&&!Xe();)OA(at)}function OA(o){var l=nA(o.alternate,o,La);o.memoizedProps=o.pendingProps,l===null?Cf(o):at=l}function MA(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=XT(f,l,l.pendingProps,l.type,void 0,ct);break;case 11:l=XT(f,l,l.pendingProps,l.type.render,l.ref,ct);break;case 5:pg(l);default:aA(f,l),l=at=D1(l,La),l=nA(f,l,La)}o.memoizedProps=o.pendingProps,l===null?Cf(o):at=l}function Rs(o,l,f,p){Ma=go=null,pg(l),As=null,Iu=0;var x=l.return;try{if(QL(o,x,l,f,ct)){Jt=1,yf(o,Sr(f,o.current)),at=null;return}}catch(w){if(x!==null)throw at=x,w;Jt=1,yf(o,Sr(f,o.current)),at=null;return}l.flags&32768?(gt||p===1?o=!0:Os||(ct&536870912)!==0?o=!1:(Ai=o=!0,(p===2||p===9||p===3||p===6)&&(p=Er.current,p!==null&&p.tag===13&&(p.flags|=16384))),DA(l,o)):Cf(l)}function Cf(o){var l=o;do{if((l.flags&32768)!==0){DA(l,Ai);return}o=l.return;var f=t3(l.alternate,l,La);if(f!==null){at=f;return}if(l=l.sibling,l!==null){at=l;return}at=l=o}while(l!==null);Jt===0&&(Jt=5)}function DA(o,l){do{var f=n3(o.alternate,o);if(f!==null){f.flags&=32767,at=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){at=o;return}at=o=f}while(o!==null);Jt=6,at=null}function NA(o,l,f,p,x,w,N,I,Y){o.cancelPendingCommit=null;do kf();while(kn!==0);if((wt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=zp,wp(o,f,w,N,I,Y),o===Rt&&(at=Rt=null,ct=0),Ds=l,ki=o,Ns=f,Wg=w,Xg=x,SA=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,m3(Ht,function(){return $A(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=$.T,$.T=null,x=z.p,z.p=2,N=wt,wt|=4;try{r3(o,l,f)}finally{wt=N,z.p=x,$.T=p}}kn=1,PA(),RA(),IA()}}function PA(){if(kn===1){kn=0;var o=ki,l=Ds,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=$.T,$.T=null;var p=z.p;z.p=2;var x=wt;wt|=4;try{pA(l,o);var w=fv,N=_1(o.containerInfo),I=w.focusedElem,Y=w.selectionRange;if(N!==I&&I&&I.ownerDocument&&x1(I.ownerDocument.documentElement,I)){if(Y!==null&&Bp(I)){var oe=Y.start,he=Y.end;if(he===void 0&&(he=oe),"selectionStart"in I)I.selectionStart=oe,I.selectionEnd=Math.min(he,I.value.length);else{var ge=I.ownerDocument||document,le=ge&&ge.defaultView||window;if(le.getSelection){var ue=le.getSelection(),ze=I.textContent.length,Be=Math.min(Y.start,ze),Ot=Y.end===void 0?Be:Math.min(Y.end,ze);!ue.extend&&Be>Ot&&(N=Ot,Ot=Be,Be=N);var ne=b1(I,Be),te=b1(I,Ot);if(ne&&te&&(ue.rangeCount!==1||ue.anchorNode!==ne.node||ue.anchorOffset!==ne.offset||ue.focusNode!==te.node||ue.focusOffset!==te.offset)){var ie=ge.createRange();ie.setStart(ne.node,ne.offset),ue.removeAllRanges(),Be>Ot?(ue.addRange(ie),ue.extend(te.node,te.offset)):(ie.setEnd(te.node,te.offset),ue.addRange(ie))}}}}for(ge=[],ue=I;ue=ue.parentNode;)ue.nodeType===1&&ge.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ge.length;I++){var me=ge[I];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}qf=!!dv,fv=dv=null}finally{wt=x,z.p=p,$.T=f}}o.current=l,kn=2}}function RA(){if(kn===2){kn=0;var o=ki,l=Ds,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=$.T,$.T=null;var p=z.p;z.p=2;var x=wt;wt|=4;try{dA(o,l.alternate,l)}finally{wt=x,z.p=p,$.T=f}}kn=3}}function IA(){if(kn===4||kn===3){kn=0,Dt();var o=ki,l=Ds,f=Ns,p=SA;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?kn=5:(kn=0,Ds=ki=null,jA(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(Ci=null),au(f),l=l.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(xa,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=$.T,x=z.p,z.p=2,$.T=null;try{for(var w=o.onRecoverableError,N=0;N<p.length;N++){var I=p[N];w(I.value,{componentStack:I.stack})}}finally{$.T=l,z.p=x}}(Ns&3)!==0&&kf(),la(o),x=o.pendingLanes,(f&4194090)!==0&&(x&42)!==0?o===Zg?zu++:(zu=0,Zg=o):zu=0,Gu(0)}}function jA(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Tu(l)))}function kf(o){return PA(),RA(),IA(),$A()}function $A(){if(kn!==5)return!1;var o=ki,l=Wg;Wg=0;var f=au(Ns),p=$.T,x=z.p;try{z.p=32>f?32:f,$.T=null,f=Xg,Xg=null;var w=ki,N=Ns;if(kn=0,Ds=ki=null,Ns=0,(wt&6)!==0)throw Error(r(331));var I=wt;if(wt|=4,xA(w.current),vA(w,w.current,N,f),wt=I,Gu(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(xa,w)}catch{}return!0}finally{z.p=x,$.T=p,jA(o,l)}}function LA(o,l,f){l=Sr(f,l),l=Og(o.stateNode,l,2),o=yi(o,l,2),o!==null&&(St(o,2),la(o))}function Nt(o,l,f){if(o.tag===3)LA(o,o,f);else for(;l!==null;){if(l.tag===3){LA(l,o,f);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ci===null||!Ci.has(p))){o=Sr(f,o),f=FT(2),p=yi(l,f,2),p!==null&&(VT(f,p,l,o),St(p,2),la(p));break}}l=l.return}}function tv(o,l,f){var p=o.pingCache;if(p===null){p=o.pingCache=new o3;var x=new Set;p.set(l,x)}else x=p.get(l),x===void 0&&(x=new Set,p.set(l,x));x.has(f)||(Gg=!0,x.add(f),o=d3.bind(null,o,l,f),l.then(o,o))}function d3(o,l,f){var p=o.pingCache;p!==null&&p.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Rt===o&&(ct&f)===f&&(Jt===4||Jt===3&&(ct&62914560)===ct&&300>dt()-Yg?(wt&2)===0&&Ps(o,0):Hg|=f,Ms===ct&&(Ms=0)),la(o)}function BA(o,l){l===0&&(l=oi()),o=ps(o,l),o!==null&&(St(o,l),la(o))}function f3(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),BA(o,f)}function h3(o,l){var f=0;switch(o.tag){case 13:var p=o.stateNode,x=o.memoizedState;x!==null&&(f=x.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),BA(o,f)}function m3(o,l){return pt(o,l)}var Of=null,Is=null,nv=!1,Mf=!1,rv=!1,wo=0;function la(o){o!==Is&&o.next===null&&(Is===null?Of=Is=o:Is=Is.next=o),Mf=!0,nv||(nv=!0,g3())}function Gu(o,l){if(!rv&&Mf){rv=!0;do for(var f=!1,p=Of;p!==null;){if(o!==0){var x=p.pendingLanes;if(x===0)var w=0;else{var N=p.suspendedLanes,I=p.pingedLanes;w=(1<<31-Nn(42|o)+1)-1,w&=x&~(N&~I),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,VA(p,w))}else w=ct,w=is(p,p===Rt?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||ro(p,w)||(f=!0,VA(p,w));p=p.next}while(f);rv=!1}}function p3(){qA()}function qA(){Mf=nv=!1;var o=0;wo!==0&&(T3()&&(o=wo),wo=0);for(var l=dt(),f=null,p=Of;p!==null;){var x=p.next,w=UA(p,l);w===0?(p.next=null,f===null?Of=x:f.next=x,x===null&&(Is=f)):(f=p,(o!==0||(w&3)!==0)&&(Mf=!0)),p=x}Gu(o)}function UA(o,l){for(var f=o.suspendedLanes,p=o.pingedLanes,x=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var N=31-Nn(w),I=1<<N,Y=x[N];Y===-1?((I&f)===0||(I&p)!==0)&&(x[N]=Sp(I,l)):Y<=l&&(o.expiredLanes|=I),w&=~I}if(l=Rt,f=ct,f=is(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,f===0||o===l&&(Tt===2||Tt===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Qe(p),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||ro(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(p!==null&&Qe(p),au(f)){case 2:case 8:f=na;break;case 32:f=Ht;break;case 268435456:f=Ut;break;default:f=Ht}return p=FA.bind(null,o),f=pt(f,p),o.callbackPriority=l,o.callbackNode=f,l}return p!==null&&p!==null&&Qe(p),o.callbackPriority=2,o.callbackNode=null,2}function FA(o,l){if(kn!==0&&kn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(kf()&&o.callbackNode!==f)return null;var p=ct;return p=is(o,o===Rt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(TA(o,p,l),UA(o,dt()),o.callbackNode!=null&&o.callbackNode===f?FA.bind(null,o):null)}function VA(o,l){if(kf())return null;TA(o,l,!0)}function g3(){E3(function(){(wt&6)!==0?pt(Xn,p3):qA()})}function av(){return wo===0&&(wo=ii()),wo}function zA(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:de(""+o)}function GA(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function v3(o,l,f,p,x){if(l==="submit"&&f&&f.stateNode===x){var w=zA((x[Pn]||null).action),N=p.submitter;N&&(l=(l=N[Pn]||null)?zA(l.formAction):N.getAttribute("formAction"),l!==null&&(w=l,N=null));var I=new zd("action","action",null,p,x);o.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(wo!==0){var Y=N?GA(x,N):new FormData(x);Tg(f,{pending:!0,data:Y,method:x.method,action:w},null,Y)}}else typeof w=="function"&&(I.preventDefault(),Y=N?GA(x,N):new FormData(x),Tg(f,{pending:!0,data:Y,method:x.method,action:w},w,Y))},currentTarget:x}]})}}for(var iv=0;iv<Vp.length;iv++){var ov=Vp[iv],y3=ov.toLowerCase(),b3=ov[0].toUpperCase()+ov.slice(1);Ur(y3,"on"+b3)}Ur(T1,"onAnimationEnd"),Ur(A1,"onAnimationIteration"),Ur(E1,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(jL,"onTransitionRun"),Ur($L,"onTransitionStart"),Ur(LL,"onTransitionCancel"),Ur(C1,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hu));function HA(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var p=o[f],x=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var N=p.length-1;0<=N;N--){var I=p[N],Y=I.instance,oe=I.currentTarget;if(I=I.listener,Y!==w&&x.isPropagationStopped())break e;w=I,x.currentTarget=oe;try{w(x)}catch(he){vf(he)}x.currentTarget=null,w=Y}else for(N=0;N<p.length;N++){if(I=p[N],Y=I.instance,oe=I.currentTarget,I=I.listener,Y!==w&&x.isPropagationStopped())break e;w=I,x.currentTarget=oe;try{w(x)}catch(he){vf(he)}x.currentTarget=null,w=Y}}}}function it(o,l){var f=l[iu];f===void 0&&(f=l[iu]=new Set);var p=o+"__bubble";f.has(p)||(KA(l,o,2,!1),f.add(p))}function sv(o,l,f){var p=0;l&&(p|=4),KA(f,o,p,l)}var Df="_reactListening"+Math.random().toString(36).slice(2);function lv(o){if(!o[Df]){o[Df]=!0,Pd.forEach(function(f){f!=="selectionchange"&&(x3.has(f)||sv(f,!1,o),sv(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Df]||(l[Df]=!0,sv("selectionchange",!1,l))}}function KA(o,l,f,p){switch(vE(l)){case 2:var x=K3;break;case 8:x=Y3;break;default:x=Sv}f=x.bind(null,l,f,o),x=void 0,!oo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),p?x!==void 0?o.addEventListener(l,f,{capture:!0,passive:x}):o.addEventListener(l,f,!0):x!==void 0?o.addEventListener(l,f,{passive:x}):o.addEventListener(l,f,!1)}function uv(o,l,f,p,x){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var I=p.stateNode.containerInfo;if(I===x)break;if(N===4)for(N=p.return;N!==null;){var Y=N.tag;if((Y===3||Y===4)&&N.stateNode.containerInfo===x)return;N=N.return}for(;I!==null;){if(N=li(I),N===null)return;if(Y=N.tag,Y===5||Y===6||Y===26||Y===27){p=w=N;continue e}I=I.parentNode}}p=p.return}qn(function(){var oe=w,he=Ce(f),ge=[];e:{var le=k1.get(o);if(le!==void 0){var ue=zd,ze=o;switch(o){case"keypress":if(mi(f)===0)break e;case"keydown":case"keyup":ue=mL;break;case"focusin":ze="focus",ue=Rp;break;case"focusout":ze="blur",ue=Rp;break;case"beforeblur":case"afterblur":ue=Rp;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=r1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=nL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=vL;break;case T1:case A1:case E1:ue=iL;break;case C1:ue=bL;break;case"scroll":case"scrollend":ue=eL;break;case"wheel":ue=_L;break;case"copy":case"cut":case"paste":ue=sL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=i1;break;case"toggle":case"beforetoggle":ue=wL}var Be=(l&4)!==0,Ot=!Be&&(o==="scroll"||o==="scrollend"),ne=Be?le!==null?le+"Capture":null:le;Be=[];for(var te=oe,ie;te!==null;){var me=te;if(ie=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ie===null||ne===null||(me=Aa(te,ne),me!=null&&Be.push(Ku(te,me,ie))),Ot)break;te=te.return}0<Be.length&&(le=new ue(le,ze,null,f,he),ge.push({event:le,listeners:Be}))}}if((l&7)===0){e:{if(le=o==="mouseover"||o==="pointerover",ue=o==="mouseout"||o==="pointerout",le&&f!==Se&&(ze=f.relatedTarget||f.fromElement)&&(li(ze)||ze[si]))break e;if((ue||le)&&(le=he.window===he?he:(le=he.ownerDocument)?le.defaultView||le.parentWindow:window,ue?(ze=f.relatedTarget||f.toElement,ue=oe,ze=ze?li(ze):null,ze!==null&&(Ot=i(ze),Be=ze.tag,ze!==Ot||Be!==5&&Be!==27&&Be!==6)&&(ze=null)):(ue=null,ze=oe),ue!==ze)){if(Be=r1,me="onMouseLeave",ne="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&(Be=i1,me="onPointerLeave",ne="onPointerEnter",te="pointer"),Ot=ue==null?le:io(ue),ie=ze==null?le:io(ze),le=new Be(me,te+"leave",ue,f,he),le.target=Ot,le.relatedTarget=ie,me=null,li(he)===oe&&(Be=new Be(ne,te+"enter",ze,f,he),Be.target=ie,Be.relatedTarget=Ot,me=Be),Ot=me,ue&&ze)t:{for(Be=ue,ne=ze,te=0,ie=Be;ie;ie=js(ie))te++;for(ie=0,me=ne;me;me=js(me))ie++;for(;0<te-ie;)Be=js(Be),te--;for(;0<ie-te;)ne=js(ne),ie--;for(;te--;){if(Be===ne||ne!==null&&Be===ne.alternate)break t;Be=js(Be),ne=js(ne)}Be=null}else Be=null;ue!==null&&YA(ge,le,ue,Be,!1),ze!==null&&Ot!==null&&YA(ge,Ot,ze,Be,!0)}}e:{if(le=oe?io(oe):window,ue=le.nodeName&&le.nodeName.toLowerCase(),ue==="select"||ue==="input"&&le.type==="file")var Ne=h1;else if(d1(le))if(m1)Ne=PL;else{Ne=DL;var nt=ML}else ue=le.nodeName,!ue||ue.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?oe&&W(oe.elementType)&&(Ne=h1):Ne=NL;if(Ne&&(Ne=Ne(o,oe))){f1(ge,Ne,f,he);break e}nt&&nt(o,le,oe),o==="focusout"&&oe&&le.type==="number"&&oe.memoizedProps.value!=null&&du(le,"number",le.value)}switch(nt=oe?io(oe):window,o){case"focusin":(d1(nt)||nt.contentEditable==="true")&&(fs=nt,qp=oe,bu=null);break;case"focusout":bu=qp=fs=null;break;case"mousedown":Up=!0;break;case"contextmenu":case"mouseup":case"dragend":Up=!1,S1(ge,f,he);break;case"selectionchange":if(IL)break;case"keydown":case"keyup":S1(ge,f,he)}var Ie;if(jp)e:{switch(o){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else ds?u1(o,f)&&(Ue="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Ue="onCompositionStart");Ue&&(o1&&f.locale!=="ko"&&(ds||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&ds&&(Ie=cs()):(_r=he,so="value"in _r?_r.value:_r.textContent,ds=!0)),nt=Nf(oe,Ue),0<nt.length&&(Ue=new a1(Ue,o,null,f,he),ge.push({event:Ue,listeners:nt}),Ie?Ue.data=Ie:(Ie=c1(f),Ie!==null&&(Ue.data=Ie)))),(Ie=AL?EL(o,f):CL(o,f))&&(Ue=Nf(oe,"onBeforeInput"),0<Ue.length&&(nt=new a1("onBeforeInput","beforeinput",null,f,he),ge.push({event:nt,listeners:Ue}),nt.data=Ie)),v3(ge,o,oe,f,he)}HA(ge,l)})}function Ku(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Nf(o,l){for(var f=l+"Capture",p=[];o!==null;){var x=o,w=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||w===null||(x=Aa(o,f),x!=null&&p.unshift(Ku(o,x,w)),x=Aa(o,l),x!=null&&p.push(Ku(o,x,w))),o.tag===3)return p;o=o.return}return[]}function js(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function YA(o,l,f,p,x){for(var w=l._reactName,N=[];f!==null&&f!==p;){var I=f,Y=I.alternate,oe=I.stateNode;if(I=I.tag,Y!==null&&Y===p)break;I!==5&&I!==26&&I!==27||oe===null||(Y=oe,x?(oe=Aa(f,w),oe!=null&&N.unshift(Ku(f,oe,Y))):x||(oe=Aa(f,w),oe!=null&&N.push(Ku(f,oe,Y)))),f=f.return}N.length!==0&&o.push({event:l,listeners:N})}var _3=/\r\n?/g,S3=/\u0000|\uFFFD/g;function WA(o){return(typeof o=="string"?o:""+o).replace(_3,`
`).replace(S3,"")}function XA(o,l){return l=WA(l),WA(o)===l}function Pf(){}function kt(o,l,f,p,x,w){switch(f){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||fi(o,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&fi(o,""+p);break;case"className":ss(o,"class",p);break;case"tabIndex":ss(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":ss(o,f,p);break;case"style":X(o,p,w);break;case"data":if(l!=="object"){ss(o,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=de(""+p),o.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(l!=="input"&&kt(o,l,"name",x.name,x,null),kt(o,l,"formEncType",x.formEncType,x,null),kt(o,l,"formMethod",x.formMethod,x,null),kt(o,l,"formTarget",x.formTarget,x,null)):(kt(o,l,"encType",x.encType,x,null),kt(o,l,"method",x.method,x,null),kt(o,l,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=de(""+p),o.setAttribute(f,p);break;case"onClick":p!=null&&(o.onclick=Pf);break;case"onScroll":p!=null&&it("scroll",o);break;case"onScrollEnd":p!=null&&it("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}f=de(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""+p):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":p===!0?o.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,p):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(f,p):o.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(f):o.setAttribute(f,p);break;case"popover":it("beforetoggle",o),it("toggle",o),os(o,"popover",p);break;case"xlinkActuate":Lr(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Lr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Lr(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Lr(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Lr(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Lr(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Lr(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Lr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Lr(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":os(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=ee.get(f)||f,os(o,f,p))}}function cv(o,l,f,p,x,w){switch(f){case"style":X(o,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof p=="string"?fi(o,p):(typeof p=="number"||typeof p=="bigint")&&fi(o,""+p);break;case"onScroll":p!=null&&it("scroll",o);break;case"onScrollEnd":p!=null&&it("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Pf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rd.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(x=f.endsWith("Capture"),l=f.slice(2,x?f.length-7:void 0),w=o[Pn]||null,w=w!=null?w[f]:null,typeof w=="function"&&o.removeEventListener(l,w,x),typeof p=="function")){typeof w!="function"&&w!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,p,x);break e}f in o?o[f]=p:p===!0?o.setAttribute(f,""):os(o,f,p)}}}function On(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",o),it("load",o);var p=!1,x=!1,w;for(w in f)if(f.hasOwnProperty(w)){var N=f[w];if(N!=null)switch(w){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:kt(o,l,w,N,f,null)}}x&&kt(o,l,"srcSet",f.srcSet,f,null),p&&kt(o,l,"src",f.src,f,null);return;case"input":it("invalid",o);var I=w=N=x=null,Y=null,oe=null;for(p in f)if(f.hasOwnProperty(p)){var he=f[p];if(he!=null)switch(p){case"name":x=he;break;case"type":N=he;break;case"checked":Y=he;break;case"defaultChecked":oe=he;break;case"value":w=he;break;case"defaultValue":I=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,l));break;default:kt(o,l,p,he,f,null)}}Ud(o,w,I,Y,oe,N,x,!1),ls(o);return;case"select":it("invalid",o),p=N=w=null;for(x in f)if(f.hasOwnProperty(x)&&(I=f[x],I!=null))switch(x){case"value":w=I;break;case"defaultValue":N=I;break;case"multiple":p=I;default:kt(o,l,x,I,f,null)}l=w,f=N,o.multiple=!!p,l!=null?rn(o,!!p,l,!1):f!=null&&rn(o,!!p,f,!0);return;case"textarea":it("invalid",o),w=x=p=null;for(N in f)if(f.hasOwnProperty(N)&&(I=f[N],I!=null))switch(N){case"value":p=I;break;case"defaultValue":x=I;break;case"children":w=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:kt(o,l,N,I,f,null)}Vd(o,p,x,w),ls(o);return;case"option":for(Y in f)if(f.hasOwnProperty(Y)&&(p=f[Y],p!=null))switch(Y){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:kt(o,l,Y,p,f,null)}return;case"dialog":it("beforetoggle",o),it("toggle",o),it("cancel",o),it("close",o);break;case"iframe":case"object":it("load",o);break;case"video":case"audio":for(p=0;p<Hu.length;p++)it(Hu[p],o);break;case"image":it("error",o),it("load",o);break;case"details":it("toggle",o);break;case"embed":case"source":case"link":it("error",o),it("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in f)if(f.hasOwnProperty(oe)&&(p=f[oe],p!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:kt(o,l,oe,p,f,null)}return;default:if(W(l)){for(he in f)f.hasOwnProperty(he)&&(p=f[he],p!==void 0&&cv(o,l,he,p,f,void 0));return}}for(I in f)f.hasOwnProperty(I)&&(p=f[I],p!=null&&kt(o,l,I,p,f,null))}function w3(o,l,f,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,w=null,N=null,I=null,Y=null,oe=null,he=null;for(ue in f){var ge=f[ue];if(f.hasOwnProperty(ue)&&ge!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":Y=ge;default:p.hasOwnProperty(ue)||kt(o,l,ue,null,p,ge)}}for(var le in p){var ue=p[le];if(ge=f[le],p.hasOwnProperty(le)&&(ue!=null||ge!=null))switch(le){case"type":w=ue;break;case"name":x=ue;break;case"checked":oe=ue;break;case"defaultChecked":he=ue;break;case"value":N=ue;break;case"defaultValue":I=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:ue!==ge&&kt(o,l,le,ue,p,ge)}}cu(o,N,I,Y,oe,he,w,x);return;case"select":ue=N=I=le=null;for(w in f)if(Y=f[w],f.hasOwnProperty(w)&&Y!=null)switch(w){case"value":break;case"multiple":ue=Y;default:p.hasOwnProperty(w)||kt(o,l,w,null,p,Y)}for(x in p)if(w=p[x],Y=f[x],p.hasOwnProperty(x)&&(w!=null||Y!=null))switch(x){case"value":le=w;break;case"defaultValue":I=w;break;case"multiple":N=w;default:w!==Y&&kt(o,l,x,w,p,Y)}l=I,f=N,p=ue,le!=null?rn(o,!!f,le,!1):!!p!=!!f&&(l!=null?rn(o,!!f,l,!0):rn(o,!!f,f?[]:"",!1));return;case"textarea":ue=le=null;for(I in f)if(x=f[I],f.hasOwnProperty(I)&&x!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:kt(o,l,I,null,p,x)}for(N in p)if(x=p[N],w=f[N],p.hasOwnProperty(N)&&(x!=null||w!=null))switch(N){case"value":le=x;break;case"defaultValue":ue=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==w&&kt(o,l,N,x,p,w)}Fd(o,le,ue);return;case"option":for(var ze in f)if(le=f[ze],f.hasOwnProperty(ze)&&le!=null&&!p.hasOwnProperty(ze))switch(ze){case"selected":o.selected=!1;break;default:kt(o,l,ze,null,p,le)}for(Y in p)if(le=p[Y],ue=f[Y],p.hasOwnProperty(Y)&&le!==ue&&(le!=null||ue!=null))switch(Y){case"selected":o.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:kt(o,l,Y,le,p,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in f)le=f[Be],f.hasOwnProperty(Be)&&le!=null&&!p.hasOwnProperty(Be)&&kt(o,l,Be,null,p,le);for(oe in p)if(le=p[oe],ue=f[oe],p.hasOwnProperty(oe)&&le!==ue&&(le!=null||ue!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:kt(o,l,oe,le,p,ue)}return;default:if(W(l)){for(var Ot in f)le=f[Ot],f.hasOwnProperty(Ot)&&le!==void 0&&!p.hasOwnProperty(Ot)&&cv(o,l,Ot,void 0,p,le);for(he in p)le=p[he],ue=f[he],!p.hasOwnProperty(he)||le===ue||le===void 0&&ue===void 0||cv(o,l,he,le,p,ue);return}}for(var ne in f)le=f[ne],f.hasOwnProperty(ne)&&le!=null&&!p.hasOwnProperty(ne)&&kt(o,l,ne,null,p,le);for(ge in p)le=p[ge],ue=f[ge],!p.hasOwnProperty(ge)||le===ue||le==null&&ue==null||kt(o,l,ge,le,p,ue)}var dv=null,fv=null;function Rf(o){return o.nodeType===9?o:o.ownerDocument}function ZA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JA(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function hv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var mv=null;function T3(){var o=window.event;return o&&o.type==="popstate"?o===mv?!1:(mv=o,!0):(mv=null,!1)}var QA=typeof setTimeout=="function"?setTimeout:void 0,A3=typeof clearTimeout=="function"?clearTimeout:void 0,eE=typeof Promise=="function"?Promise:void 0,E3=typeof queueMicrotask=="function"?queueMicrotask:typeof eE<"u"?function(o){return eE.resolve(null).then(o).catch(C3)}:QA;function C3(o){setTimeout(function(){throw o})}function Mi(o){return o==="head"}function tE(o,l){var f=l,p=0,x=0;do{var w=f.nextSibling;if(o.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(0<p&&8>p){f=p;var N=o.ownerDocument;if(f&1&&Yu(N.documentElement),f&2&&Yu(N.body),f&4)for(f=N.head,Yu(f),N=f.firstChild;N;){var I=N.nextSibling,Y=N.nodeName;N[ao]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=I}}if(x===0){o.removeChild(w),nc(l);return}x--}else f==="$"||f==="$?"||f==="$!"?x++:p=f.charCodeAt(0)-48;else p=0;f=w}while(f);nc(l)}function pv(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":pv(f),ou(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function k3(o,l,f,p){for(;o.nodeType===1;){var x=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[ao])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var w=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=Vr(o.nextSibling),o===null)break}return null}function O3(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Vr(o.nextSibling),o===null))return null;return o}function gv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function M3(o,l){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")l();else{var p=function(){l(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function Vr(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var vv=null;function nE(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}function rE(o,l,f){switch(l=Rf(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Yu(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);ou(o)}var kr=new Map,aE=new Set;function If(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ba=z.d;z.d={f:D3,r:N3,D:P3,C:R3,L:I3,m:j3,X:L3,S:$3,M:B3};function D3(){var o=Ba.f(),l=Ef();return o||l}function N3(o){var l=ui(o);l!==null&&l.tag===5&&l.type==="form"?TT(l):Ba.r(o)}var $s=typeof document>"u"?null:document;function iE(o,l,f){var p=$s;if(p&&typeof l=="string"&&l){var x=Qn(l);x='link[rel="'+o+'"][href="'+x+'"]',typeof f=="string"&&(x+='[crossorigin="'+f+'"]'),aE.has(x)||(aE.add(x),o={rel:o,crossOrigin:f,href:l},p.querySelector(x)===null&&(l=p.createElement("link"),On(l,"link",o),en(l),p.head.appendChild(l)))}}function P3(o){Ba.D(o),iE("dns-prefetch",o,null)}function R3(o,l){Ba.C(o,l),iE("preconnect",o,l)}function I3(o,l,f){Ba.L(o,l,f);var p=$s;if(p&&o&&l){var x='link[rel="preload"][as="'+Qn(l)+'"]';l==="image"&&f&&f.imageSrcSet?(x+='[imagesrcset="'+Qn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(x+='[imagesizes="'+Qn(f.imageSizes)+'"]')):x+='[href="'+Qn(o)+'"]';var w=x;switch(l){case"style":w=Ls(o);break;case"script":w=Bs(o)}kr.has(w)||(o=h({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),kr.set(w,o),p.querySelector(x)!==null||l==="style"&&p.querySelector(Wu(w))||l==="script"&&p.querySelector(Xu(w))||(l=p.createElement("link"),On(l,"link",o),en(l),p.head.appendChild(l)))}}function j3(o,l){Ba.m(o,l);var f=$s;if(f&&o){var p=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+Qn(p)+'"][href="'+Qn(o)+'"]',w=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Bs(o)}if(!kr.has(w)&&(o=h({rel:"modulepreload",href:o},l),kr.set(w,o),f.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Xu(w)))return}p=f.createElement("link"),On(p,"link",o),en(p),f.head.appendChild(p)}}}function $3(o,l,f){Ba.S(o,l,f);var p=$s;if(p&&o){var x=wa(p).hoistableStyles,w=Ls(o);l=l||"default";var N=x.get(w);if(!N){var I={loading:0,preload:null};if(N=p.querySelector(Wu(w)))I.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":l},f),(f=kr.get(w))&&yv(o,f);var Y=N=p.createElement("link");en(Y),On(Y,"link",o),Y._p=new Promise(function(oe,he){Y.onload=oe,Y.onerror=he}),Y.addEventListener("load",function(){I.loading|=1}),Y.addEventListener("error",function(){I.loading|=2}),I.loading|=4,jf(N,l,p)}N={type:"stylesheet",instance:N,count:1,state:I},x.set(w,N)}}}function L3(o,l){Ba.X(o,l);var f=$s;if(f&&o){var p=wa(f).hoistableScripts,x=Bs(o),w=p.get(x);w||(w=f.querySelector(Xu(x)),w||(o=h({src:o,async:!0},l),(l=kr.get(x))&&bv(o,l),w=f.createElement("script"),en(w),On(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(x,w))}}function B3(o,l){Ba.M(o,l);var f=$s;if(f&&o){var p=wa(f).hoistableScripts,x=Bs(o),w=p.get(x);w||(w=f.querySelector(Xu(x)),w||(o=h({src:o,async:!0,type:"module"},l),(l=kr.get(x))&&bv(o,l),w=f.createElement("script"),en(w),On(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(x,w))}}function oE(o,l,f,p){var x=(x=ke.current)?If(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Ls(f.href),f=wa(x).hoistableStyles,p=f.get(l),p||(p={type:"style",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Ls(f.href);var w=wa(x).hoistableStyles,N=w.get(o);if(N||(x=x.ownerDocument||x,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,N),(w=x.querySelector(Wu(o)))&&!w._p&&(N.instance=w,N.state.loading=5),kr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},kr.set(o,f),w||q3(x,o,f,N.state))),l&&p===null)throw Error(r(528,""));return N}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Bs(f),f=wa(x).hoistableScripts,p=f.get(l),p||(p={type:"script",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Ls(o){return'href="'+Qn(o)+'"'}function Wu(o){return'link[rel="stylesheet"]['+o+"]"}function sE(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function q3(o,l,f,p){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=o.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),On(l,"link",f),en(l),o.head.appendChild(l))}function Bs(o){return'[src="'+Qn(o)+'"]'}function Xu(o){return"script[async]"+o}function lE(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var p=o.querySelector('style[data-href~="'+Qn(f.href)+'"]');if(p)return l.instance=p,en(p),p;var x=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),en(p),On(p,"style",x),jf(p,f.precedence,o),l.instance=p;case"stylesheet":x=Ls(f.href);var w=o.querySelector(Wu(x));if(w)return l.state.loading|=4,l.instance=w,en(w),w;p=sE(f),(x=kr.get(x))&&yv(p,x),w=(o.ownerDocument||o).createElement("link"),en(w);var N=w;return N._p=new Promise(function(I,Y){N.onload=I,N.onerror=Y}),On(w,"link",p),l.state.loading|=4,jf(w,f.precedence,o),l.instance=w;case"script":return w=Bs(f.src),(x=o.querySelector(Xu(w)))?(l.instance=x,en(x),x):(p=f,(x=kr.get(w))&&(p=h({},f),bv(p,x)),o=o.ownerDocument||o,x=o.createElement("script"),en(x),On(x,"link",p),o.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,jf(p,f.precedence,o));return l.instance}function jf(o,l,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,w=x,N=0;N<p.length;N++){var I=p[N];if(I.dataset.precedence===l)w=I;else if(w!==x)break}w?w.parentNode.insertBefore(o,w.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function yv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function bv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var $f=null;function uE(o,l,f){if($f===null){var p=new Map,x=$f=new Map;x.set(f,p)}else x=$f,p=x.get(f),p||(p=new Map,x.set(f,p));if(p.has(o))return p;for(p.set(o,null),f=f.getElementsByTagName(o),x=0;x<f.length;x++){var w=f[x];if(!(w[ao]||w[cn]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(l)||"";N=o+N;var I=p.get(N);I?I.push(w):p.set(N,[w])}}return p}function cE(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function U3(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function dE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Zu=null;function F3(){}function V3(o,l,f){if(Zu===null)throw Error(r(475));var p=Zu;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var x=Ls(f.href),w=o.querySelector(Wu(x));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(p.count++,p=Lf.bind(p),o.then(p,p)),l.state.loading|=4,l.instance=w,en(w);return}w=o.ownerDocument||o,f=sE(f),(x=kr.get(x))&&yv(f,x),w=w.createElement("link"),en(w);var N=w;N._p=new Promise(function(I,Y){N.onload=I,N.onerror=Y}),On(w,"link",f),l.instance=w}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=Lf.bind(p),o.addEventListener("load",l),o.addEventListener("error",l))}}function z3(){if(Zu===null)throw Error(r(475));var o=Zu;return o.stylesheets&&o.count===0&&xv(o,o.stylesheets),0<o.count?function(l){var f=setTimeout(function(){if(o.stylesheets&&xv(o,o.stylesheets),o.unsuspend){var p=o.unsuspend;o.unsuspend=null,p()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f)}}:null}function Lf(){if(this.count--,this.count===0){if(this.stylesheets)xv(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Bf=null;function xv(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Bf=new Map,l.forEach(G3,o),Bf=null,Lf.call(o))}function G3(o,l){if(!(l.state.loading&4)){var f=Bf.get(o);if(f)var p=f.get(null);else{f=new Map,Bf.set(o,f);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<x.length;w++){var N=x[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(f.set(N.dataset.precedence,N),p=N)}p&&f.set(null,p)}x=l.instance,N=x.getAttribute("data-precedence"),w=f.get(N)||p,w===p&&f.set(null,x),f.set(N,x),this.count++,p=Lf.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),w?w.parentNode.insertBefore(x,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),l.state.loading|=4}}var Ju={$$typeof:E,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function H3(o,l,f,p,x,w,N,I){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.hiddenUpdates=Xt(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function fE(o,l,f,p,x,w,N,I,Y,oe,he,ge){return o=new H3(o,l,f,N,I,Y,oe,ge),l=1,w===!0&&(l|=24),w=ur(3,null,null,l),o.current=w,w.stateNode=o,l=tg(),l.refCount++,o.pooledCache=l,l.refCount++,w.memoizedState={element:p,isDehydrated:f,cache:l},ig(w),o}function hE(o){return o?(o=gs,o):gs}function mE(o,l,f,p,x,w){x=hE(x),p.context===null?p.context=x:p.pendingContext=x,p=vi(l),p.payload={element:f},w=w===void 0?null:w,w!==null&&(p.callback=w),f=yi(o,p,l),f!==null&&(mr(f,o,l),ku(f,o,l))}function pE(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function _v(o,l){pE(o,l),(o=o.alternate)&&pE(o,l)}function gE(o){if(o.tag===13){var l=ps(o,67108864);l!==null&&mr(l,o,67108864),_v(o,67108864)}}var qf=!0;function K3(o,l,f,p){var x=$.T;$.T=null;var w=z.p;try{z.p=2,Sv(o,l,f,p)}finally{z.p=w,$.T=x}}function Y3(o,l,f,p){var x=$.T;$.T=null;var w=z.p;try{z.p=8,Sv(o,l,f,p)}finally{z.p=w,$.T=x}}function Sv(o,l,f,p){if(qf){var x=wv(p);if(x===null)uv(o,l,p,Uf,f),yE(o,p);else if(X3(x,o,l,f,p))p.stopPropagation();else if(yE(o,p),l&4&&-1<W3.indexOf(o)){for(;x!==null;){var w=ui(x);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=Sa(w.pendingLanes);if(N!==0){var I=w;for(I.pendingLanes|=2,I.entangledLanes|=2;N;){var Y=1<<31-Nn(N);I.entanglements[1]|=Y,N&=~Y}la(w),(wt&6)===0&&(Tf=dt()+500,Gu(0))}}break;case 13:I=ps(w,2),I!==null&&mr(I,w,2),Ef(),_v(w,2)}if(w=wv(p),w===null&&uv(o,l,p,Uf,f),w===x)break;x=w}x!==null&&p.stopPropagation()}else uv(o,l,p,null,f)}}function wv(o){return o=Ce(o),Tv(o)}var Uf=null;function Tv(o){if(Uf=null,o=li(o),o!==null){var l=i(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=s(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Uf=o,null}function vE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case Xn:return 2;case na:return 8;case Ht:case qt:return 32;case Ut:return 268435456;default:return 32}default:return 32}}var Av=!1,Di=null,Ni=null,Pi=null,Qu=new Map,ec=new Map,Ri=[],W3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yE(o,l){switch(o){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Qu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(l.pointerId)}}function tc(o,l,f,p,x,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:f,eventSystemFlags:p,nativeEvent:w,targetContainers:[x]},l!==null&&(l=ui(l),l!==null&&gE(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function X3(o,l,f,p,x){switch(l){case"focusin":return Di=tc(Di,o,l,f,p,x),!0;case"dragenter":return Ni=tc(Ni,o,l,f,p,x),!0;case"mouseover":return Pi=tc(Pi,o,l,f,p,x),!0;case"pointerover":var w=x.pointerId;return Qu.set(w,tc(Qu.get(w)||null,o,l,f,p,x)),!0;case"gotpointercapture":return w=x.pointerId,ec.set(w,tc(ec.get(w)||null,o,l,f,p,x)),!0}return!1}function bE(o){var l=li(o.target);if(l!==null){var f=i(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){o.blockedOn=l,Tp(o.priority,function(){if(f.tag===13){var p=hr();p=ru(p);var x=ps(f,p);x!==null&&mr(x,f,p),_v(f,p)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ff(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=wv(o.nativeEvent);if(f===null){f=o.nativeEvent;var p=new f.constructor(f.type,f);Se=p,f.target.dispatchEvent(p),Se=null}else return l=ui(f),l!==null&&gE(l),o.blockedOn=f,!1;l.shift()}return!0}function xE(o,l,f){Ff(o)&&f.delete(l)}function Z3(){Av=!1,Di!==null&&Ff(Di)&&(Di=null),Ni!==null&&Ff(Ni)&&(Ni=null),Pi!==null&&Ff(Pi)&&(Pi=null),Qu.forEach(xE),ec.forEach(xE)}function Vf(o,l){o.blockedOn===l&&(o.blockedOn=null,Av||(Av=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Z3)))}var zf=null;function _E(o){zf!==o&&(zf=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zf===o&&(zf=null);for(var l=0;l<o.length;l+=3){var f=o[l],p=o[l+1],x=o[l+2];if(typeof p!="function"){if(Tv(p||f)===null)continue;break}var w=ui(f);w!==null&&(o.splice(l,3),l-=3,Tg(w,{pending:!0,data:x,method:f.method,action:p},p,x))}}))}function nc(o){function l(Y){return Vf(Y,o)}Di!==null&&Vf(Di,o),Ni!==null&&Vf(Ni,o),Pi!==null&&Vf(Pi,o),Qu.forEach(l),ec.forEach(l);for(var f=0;f<Ri.length;f++){var p=Ri[f];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Ri.length&&(f=Ri[0],f.blockedOn===null);)bE(f),f.blockedOn===null&&Ri.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var x=f[p],w=f[p+1],N=x[Pn]||null;if(typeof w=="function")N||_E(f);else if(N){var I=null;if(w&&w.hasAttribute("formAction")){if(x=w,N=w[Pn]||null)I=N.formAction;else if(Tv(x)!==null)continue}else I=N.action;typeof I=="function"?f[p+1]=I:(f.splice(p,3),p-=3),_E(f)}}}function Ev(o){this._internalRoot=o}Gf.prototype.render=Ev.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,p=hr();mE(f,p,o,l,null,null)},Gf.prototype.unmount=Ev.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;mE(o.current,2,null,o,null,null),Ef(),l[si]=null}};function Gf(o){this._internalRoot=o}Gf.prototype.unstable_scheduleHydration=function(o){if(o){var l=Dd();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Ri.length&&l!==0&&l<Ri[f].priority;f++);Ri.splice(f,0,o),f===0&&bE(o)}};var SE=e.version;if(SE!=="19.1.0")throw Error(r(527,SE,"19.1.0"));z.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(l),o=o!==null?c(o):null,o=o===null?null:o.stateNode,o};var J3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hf.isDisabled&&Hf.supportsFiber)try{xa=Hf.inject(J3),Wt=Hf}catch{}}return ac.createRoot=function(o,l){if(!a(o))throw Error(r(299));var f=!1,p="",x=LT,w=BT,N=qT,I=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(I=l.unstable_transitionCallbacks)),l=fE(o,1,!1,null,null,f,p,x,w,N,I,null),o[si]=l.current,lv(o),new Ev(l)},ac.hydrateRoot=function(o,l,f){if(!a(o))throw Error(r(299));var p=!1,x="",w=LT,N=BT,I=qT,Y=null,oe=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(N=f.onCaughtError),f.onRecoverableError!==void 0&&(I=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Y=f.unstable_transitionCallbacks),f.formState!==void 0&&(oe=f.formState)),l=fE(o,1,!0,l,f??null,p,x,w,N,I,Y,oe),l.context=hE(null),f=l.current,p=hr(),p=ru(p),x=vi(p),x.callback=null,yi(f,x,p),f=p,l.current.lanes=f,St(l,f),la(l),o[si]=l.current,lv(o),new Gf(l)},ac.version="19.1.0",ac}var NE;function uB(){if(NE)return Ov.exports;NE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ov.exports=lB(),Ov.exports}var cB=uB();const dB=yt(cB),fB="modulepreload",hB=function(t){return"/controle-financeiro/"+t},PE={},yd=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let s=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=s(n.map(c=>{if(c=hB(c),c in PE)return;PE[c]=!0;const h=c.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":fB,h||(y.as="script"),y.crossOrigin="",y.href=c,d&&y.setAttribute("nonce",d),document.head.appendChild(y),h)return new Promise((_,S)=>{y.addEventListener("load",_),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return a.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},mB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yd(async()=>{const{default:r}=await Promise.resolve().then(()=>zl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class qS extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class pB extends qS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gB extends qS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vB extends qS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Vx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Vx||(Vx={}));var yB=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};class bB{constructor(e,{headers:n={},customFetch:r,region:a=Vx.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=mB(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return yB(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=n;let u={},{region:d}=n;d||(d=this.region),d&&d!=="any"&&(u["x-region"]=d);let c;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(u["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(u["Content-Type"]="application/json",c=JSON.stringify(s)));const h=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:c}).catch(S=>{throw new pB(S)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new gB(h);if(!h.ok)throw new vB(h);let y=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield h.json():y==="application/octet-stream"?_=yield h.blob():y==="text/event-stream"?_=h:y==="multipart/form-data"?_=yield h.formData():_=yield h.text(),{data:_,error:null}}catch(a){return{data:null,error:a}}})}}var xn={},qs={},Us={},Fs={},Vs={},zs={},xB=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hl=xB();const _B=hl.fetch,NR=hl.fetch.bind(hl),PR=hl.Headers,SB=hl.Request,wB=hl.Response,zl=Object.freeze(Object.defineProperty({__proto__:null,Headers:PR,Request:SB,Response:wB,default:NR,fetch:_B},Symbol.toStringTag,{value:"Module"})),TB=eB(zl);var Yf={},RE;function RR(){if(RE)return Yf;RE=1,Object.defineProperty(Yf,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Yf.default=t,Yf}var IE;function IR(){if(IE)return zs;IE=1;var t=zs&&zs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(zs,"__esModule",{value:!0});const e=t(TB),n=t(RR());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=Object.assign({},this.headers),this.headers[i]=s,this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var h,m,y;let _=null,S=null,A=null,T=c.status,O=c.statusText;if(c.ok){if(this.method!=="HEAD"){const C=await c.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=C:S=JSON.parse(C))}const E=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),D=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");E&&D&&D.length>1&&(A=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(_={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,A=null,T=406,O="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const E=await c.text();try{_=JSON.parse(E),Array.isArray(_)&&c.status===404&&(S=[],_=null,T=200,O="OK")}catch{c.status===404&&E===""?(T=204,O="No Content"):_={message:E}}if(_&&this.isMaybeSingle&&(!((y=_==null?void 0:_.details)===null||y===void 0)&&y.includes("0 rows"))&&(_=null,T=200,O="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:S,count:A,status:T,statusText:O}});return this.shouldThrowOnError||(d=d.catch(c=>{var h,m,y;return{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(m=c==null?void 0:c.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(y=c==null?void 0:c.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,s)}returns(){return this}overrideTypes(){return this}}return zs.default=r,zs}var jE;function jR(){if(jE)return Vs;jE=1;var t=Vs&&Vs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vs,"__esModule",{value:!0});const e=t(IR());class n extends e.default{select(a){let i=!1;const s=(a??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:u,referencedTable:d=u}={}){const c=d?`${d}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:u=s}={}){const d=typeof u>"u"?"offset":`${u}.offset`,c=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(c,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:u=!1,wal:d=!1,format:c="text"}={}){var h;const m=[a?"analyze":null,i?"verbose":null,s?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${y}"; options=${m};`,c==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Vs.default=n,Vs}var $E;function US(){if($E)return Fs;$E=1;var t=Fs&&Fs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fs,"__esModule",{value:!0});const e=t(jR());class n extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${d}fts${c}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const u=s?`${s}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return Fs.default=n,Fs}var LE;function $R(){if(LE)return Us;LE=1;var t=Us&&Us.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Us,"__esModule",{value:!0});const e=t(US());class n{constructor(a,{headers:i={},schema:s,fetch:u}){this.url=a,this.headers=i,this.schema=s,this.fetch=u}select(a,{head:i=!1,count:s}={}){const u=i?"HEAD":"GET";let d=!1;const c=(a??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",c),s&&(this.headers.Prefer=`count=${s}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:s=!0}={}){const u="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),i&&d.push(`count=${i}`),s||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(a)){const c=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(c.length>0){const h=[...new Set(c)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:u,defaultToNull:d=!0}={}){const c="POST",h=[`resolution=${s?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),d||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(a)){const m=a.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(m.length>0){const y=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const s="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),this.headers.Prefer=u.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",s=[];return a&&s.push(`count=${a}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Us.default=n,Us}var ic={},oc={},BE;function AB(){return BE||(BE=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.version=void 0,oc.version="0.0.0-automated"),oc}var qE;function EB(){if(qE)return ic;qE=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.DEFAULT_HEADERS=void 0;const t=AB();return ic.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},ic}var UE;function CB(){if(UE)return qs;UE=1;var t=qs&&qs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(qs,"__esModule",{value:!0});const e=t($R()),n=t(US()),r=EB();class a{constructor(s,{headers:u={},schema:d,fetch:c}={}){this.url=s,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=d,this.fetch=c}from(s){const u=new URL(`${this.url}/${s}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,u={},{head:d=!1,get:c=!1,count:h}={}){let m;const y=new URL(`${this.url}/rpc/${s}`);let _;d||c?(m=d?"HEAD":"GET",Object.entries(u).filter(([A,T])=>T!==void 0).map(([A,T])=>[A,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([A,T])=>{y.searchParams.append(A,T)})):(m="POST",_=u);const S=Object.assign({},this.headers);return h&&(S.Prefer=`count=${h}`),new n.default({method:m,url:y,headers:S,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return qs.default=a,qs}var FE;function kB(){if(FE)return xn;FE=1;var t=xn&&xn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(xn,"__esModule",{value:!0}),xn.PostgrestError=xn.PostgrestBuilder=xn.PostgrestTransformBuilder=xn.PostgrestFilterBuilder=xn.PostgrestQueryBuilder=xn.PostgrestClient=void 0;const e=t(CB());xn.PostgrestClient=e.default;const n=t($R());xn.PostgrestQueryBuilder=n.default;const r=t(US());xn.PostgrestFilterBuilder=r.default;const a=t(jR());xn.PostgrestTransformBuilder=a.default;const i=t(IR());xn.PostgrestBuilder=i.default;const s=t(RR());return xn.PostgrestError=s.default,xn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},xn}var OB=kB();const MB=yt(OB),{PostgrestClient:DB,PostgrestQueryBuilder:mce,PostgrestFilterBuilder:pce,PostgrestTransformBuilder:gce,PostgrestBuilder:vce,PostgrestError:yce}=MB;let zx;typeof window>"u"?zx=require("ws"):zx=window.WebSocket;const NB="2.11.10",PB={"X-Client-Info":`realtime-js/${NB}`},RB="1.0.0",LR=1e4,IB=1e3;var sl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(sl||(sl={}));var Vn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Vn||(Vn={}));var Kr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Kr||(Kr={}));var Gx;(function(t){t.websocket="websocket"})(Gx||(Gx={}));var No;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(No||(No={}));class jB{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const a=n.getUint8(1),i=n.getUint8(2);let s=this.HEADER_LENGTH+2;const u=r.decode(e.slice(s,s+a));s=s+a;const d=r.decode(e.slice(s,s+i));s=s+i;const c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:u,event:d,payload:c}}}class BR{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var It;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(It||(It={}));const VE=(t,e,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,s)=>(i[s]=$B(s,t,e,a),i),{})},$B=(t,e,n,r)=>{const a=e.find(u=>u.name===t),i=a==null?void 0:a.type,s=n[t];return i&&!r.includes(i)?qR(i,s):Hx(s)},qR=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return UB(e,n)}switch(t){case It.bool:return LB(e);case It.float4:case It.float8:case It.int2:case It.int4:case It.int8:case It.numeric:case It.oid:return BB(e);case It.json:case It.jsonb:return qB(e);case It.timestamp:return FB(e);case It.abstime:case It.date:case It.daterange:case It.int4range:case It.int8range:case It.money:case It.reltime:case It.text:case It.time:case It.timestamptz:case It.timetz:case It.tsrange:case It.tstzrange:return Hx(e);default:return Hx(e)}},Hx=t=>t,LB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},BB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},UB=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(u=>qR(e,u))}return t},FB=t=>typeof t=="string"?t.replace(" ","T"):t,UR=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Pv{constructor(e,n,r={},a=LR){this.channel=e,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zE||(zE={}));class wc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(d=>{this.state=wc.syncDiff(this.state,d,i,s)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=wc.syncDiff(this.state,a,i,s),u())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,a){const i=this.cloneDeep(e),s=this.transformState(n),u={},d={};return this.map(i,(c,h)=>{s[c]||(d[c]=h)}),this.map(s,(c,h)=>{const m=i[c];if(m){const y=h.map(T=>T.presence_ref),_=m.map(T=>T.presence_ref),S=h.filter(T=>_.indexOf(T.presence_ref)<0),A=m.filter(T=>y.indexOf(T.presence_ref)<0);S.length>0&&(u[c]=S),A.length>0&&(d[c]=A)}else u[c]=h}),this.syncDiff(i,{joins:u,leaves:d},r,a)}static syncDiff(e,n,r,a){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(u,d)=>{var c;const h=(c=e[u])!==null&&c!==void 0?c:[];if(e[u]=this.cloneDeep(d),h.length>0){const m=e[u].map(_=>_.presence_ref),y=h.filter(_=>m.indexOf(_.presence_ref)<0);e[u].unshift(...y)}r(u,h,d)}),this.map(s,(u,d)=>{let c=e[u];if(!c)return;const h=d.map(m=>m.presence_ref);c=c.filter(m=>h.indexOf(m.presence_ref)<0),e[u]=c,a(u,c,d),c.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const a=e[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var GE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(GE||(GE={}));var HE;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(HE||(HE={}));var Fa;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fa||(Fa={}));class FS{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Vn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Pv(this,Kr.join,this.params,this.timeout),this.rejoinTimer=new BR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new wc(this),this.broadcastEndpointURL=UR(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:u}}=this.params;this._onError(h=>e==null?void 0:e(Fa.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Fa.CLOSED));const d={},c={broadcast:i,presence:s,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&a!==void 0?a:[],private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){e==null||e(Fa.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,S=[];for(let A=0;A<_;A++){const T=y[A],{filter:{event:O,schema:M,table:E,filter:D}}=T,C=h&&h[A];if(C&&C.event===O&&C.schema===M&&C.table===E&&C.filter===D)S.push(Object.assign(Object.assign({},T),{id:C.id}));else{this.unsubscribe(),this.state=Vn.errored,e==null||e(Fa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Fa.SUBSCRIBED);return}}).receive("error",h=>{this.state=Vn.errored,e==null||e(Fa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Fa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,u,d;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Vn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const a=new Pv(this,Kr.leave,{},e);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Pv(this,e,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var a,i;const s=e.toLocaleLowerCase(),{close:u,error:d,leave:c,join:h}=Kr;if(r&&[u,d,c,h].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var S,A,T;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(A=_.filter)===null||A===void 0?void 0:A.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===s}).map(_=>_.callback(y,r)):(i=this.bindings[s])===null||i===void 0||i.filter(_=>{var S,A,T,O,M,E;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in _){const D=_.id,C=(S=_.filter)===null||S===void 0?void 0:S.event;return D&&((A=n.ids)===null||A===void 0?void 0:A.includes(D))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const D=(M=(O=_==null?void 0:_.filter)===null||O===void 0?void 0:O.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return D==="*"||D===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===s}).map(_=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:A,table:T,commit_timestamp:O,type:M,errors:E}=S;y=Object.assign(Object.assign({},{schema:A,table:T,commit_timestamp:O,eventType:M,new:{},old:{},errors:E}),this._getPayloadRecords(S))}_.callback(y,r)})}_isClosed(){return this.state===Vn.closed}_isJoined(){return this.state===Vn.joined}_isJoining(){return this.state===Vn.joining}_isLeaving(){return this.state===Vn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const a=e.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&FS.isEqual(a.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Kr.close,{},e)}_onError(e){this._on(Kr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=VE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=VE(e.columns,e.old_record)),n}}const KE=()=>{},VB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zB{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=PB,this.params={},this.timeout=LR,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=KE,this.ref=0,this.logger=KE,this.conn=null,this.sendBuffer=[],this.serializer=new jB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...u)=>yd(async()=>{const{default:d}=await Promise.resolve().then(()=>zl);return{default:d}},void 0).then(({default:d})=>d(...u)):s=fetch,(...u)=>s(...u)},this.endPoint=`${e}/${Gx.websocket}`,this.httpEndpoint=UR(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new BR(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=zx),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new GB(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RB}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case sl.connecting:return No.Connecting;case sl.open:return No.Open;case sl.closing:return No.Closing;default:return No.Closed}}isConnected(){return this.connectionState()===No.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new FS(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:a,ref:i}=e,s=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Kr.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(IB,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:a,payload:i,ref:s}=n;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${a} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Kr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${r}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([VB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class GB{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=sl.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class VS extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _n(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class HB extends VS{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Kx extends VS{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var KB=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};const FR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yd(async()=>{const{default:r}=await Promise.resolve().then(()=>zl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},YB=()=>KB(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yd(()=>Promise.resolve().then(()=>zl),void 0)).Response:Response}),Yx=t=>{if(Array.isArray(t))return t.map(n=>Yx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=Yx(r)}),e};var Xo=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};const Rv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),WB=(t,e,n)=>Xo(void 0,void 0,void 0,function*(){const r=yield YB();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(a=>{e(new HB(Rv(a),t.status||500))}).catch(a=>{e(new Kx(Rv(a),a))}):e(new Kx(Rv(t),t))}),XB=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function bd(t,e,n,r,a,i){return Xo(this,void 0,void 0,function*(){return new Promise((s,u)=>{t(n,XB(e,r,a,i)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>WB(d,u,r))})})}function xh(t,e,n,r){return Xo(this,void 0,void 0,function*(){return bd(t,"GET",e,n,r)})}function $i(t,e,n,r,a){return Xo(this,void 0,void 0,function*(){return bd(t,"POST",e,r,a,n)})}function ZB(t,e,n,r,a){return Xo(this,void 0,void 0,function*(){return bd(t,"PUT",e,r,a,n)})}function JB(t,e,n,r){return Xo(this,void 0,void 0,function*(){return bd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function VR(t,e,n,r,a){return Xo(this,void 0,void 0,function*(){return bd(t,"DELETE",e,r,a,n)})}var rr=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};const QB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},YE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class e4{constructor(e,n={},r,a){this.url=e,this.headers=n,this.bucketId=r,this.fetch=FR(a)}uploadOrUpdate(e,n,r,a){return rr(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},YE),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const d=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=r,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),a!=null&&a.headers&&(u=Object.assign(Object.assign({},u),a.headers));const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),m=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:i,headers:u},s!=null&&s.duplex?{duplex:s.duplex}:{})),y=yield m.json();return m.ok?{data:{path:c,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(i){if(_n(i))return{data:null,error:i};throw i}})}upload(e,n,r){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,a){return rr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${s}`);u.searchParams.set("token",n);try{let d;const c=Object.assign({upsert:YE.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",c.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",c.cacheControl)):(d=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const m=yield this.fetch(u.toString(),{method:"PUT",body:d,headers:h}),y=yield m.json();return m.ok?{data:{path:i,fullPath:y.Key},error:null}:{data:null,error:y}}catch(d){if(_n(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return rr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield $i(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),s=new URL(this.url+i.url),u=s.searchParams.get("token");if(!u)throw new VS("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:u},error:null}}catch(r){if(_n(r))return{data:null,error:r};throw r}})}update(e,n,r){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return rr(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(_n(a))return{data:null,error:a};throw a}})}copy(e,n,r){return rr(this,void 0,void 0,function*(){try{return{data:{path:(yield $i(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(_n(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,r){return rr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield $i(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(_n(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,r){return rr(this,void 0,void 0,function*(){try{const a=yield $i(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(_n(a))return{data:null,error:a};throw a}})}download(e,n){return rr(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=i?`?${i}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield xh(this.fetch,`${this.url}/${a}/${u}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(_n(u))return{data:null,error:u};throw u}})}info(e){return rr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield xh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Yx(r),error:null}}catch(r){if(_n(r))return{data:null,error:r};throw r}})}exists(e){return rr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield JB(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(_n(r)&&r instanceof Kx){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&a.push(d);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${c}`)}}}remove(e){return rr(this,void 0,void 0,function*(){try{return{data:yield VR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(_n(n))return{data:null,error:n};throw n}})}list(e,n,r){return rr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},QB),n),{prefix:e||""});return{data:yield $i(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(_n(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const t4="2.7.1",n4={"X-Client-Info":`storage-js/${t4}`};var Gs=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};class r4{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},n4),n),this.fetch=FR(r)}listBuckets(){return Gs(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(_n(e))return{data:null,error:e};throw e}})}getBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(_n(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Gs(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_n(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Gs(this,void 0,void 0,function*(){try{return{data:yield ZB(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_n(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(_n(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield VR(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(_n(n))return{data:null,error:n};throw n}})}}class a4 extends r4{constructor(e,n={},r){super(e,n,r)}from(e){return new e4(this.url,this.headers,e,this.fetch)}}const i4="2.50.0";let vc="";typeof Deno<"u"?vc="deno":typeof document<"u"?vc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vc="react-native":vc="node";const o4={"X-Client-Info":`supabase-js-${vc}/${i4}`},s4={headers:o4},l4={schema:"public"},u4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c4={};var d4=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};const f4=t=>{let e;return t?e=t:typeof fetch>"u"?e=NR:e=fetch,(...n)=>e(...n)},h4=()=>typeof Headers>"u"?PR:Headers,m4=(t,e,n)=>{const r=f4(n),a=h4();return(i,s)=>d4(void 0,void 0,void 0,function*(){var u;const d=(u=yield e())!==null&&u!==void 0?u:t;let c=new a(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${d}`),r(i,Object.assign(Object.assign({},s),{headers:c}))})};var p4=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};function g4(t){return t.endsWith("/")?t:t+"/"}function v4(t,e){var n,r;const{db:a,auth:i,realtime:s,global:u}=t,{db:d,auth:c,realtime:h,global:m}=e,y={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},h),s),global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>p4(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const zR="2.70.0",Qs=30*1e3,Wx=3,Iv=Wx*Qs,y4="http://localhost:9999",b4="supabase.auth.token",x4={"X-Client-Info":`gotrue-js/${zR}`},Xx="X-Supabase-Api-Version",GR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,S4=6e5;class zS extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ze(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class w4 extends zS{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function T4(t){return Ze(t)&&t.name==="AuthApiError"}class HR extends zS{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Wi extends zS{constructor(e,n,r,a){super(e,r,a),this.name=n,this.status=r}}class ji extends Wi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A4(t){return Ze(t)&&t.name==="AuthSessionMissingError"}class Wf extends Wi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xf extends Wi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zf extends Wi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function E4(t){return Ze(t)&&t.name==="AuthImplicitGrantRedirectError"}class WE extends Wi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zx extends Wi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function jv(t){return Ze(t)&&t.name==="AuthRetryableFetchError"}class XE extends Wi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Tc extends Wi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ZE=` 	
\r=`.split(""),C4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ZE.length;e+=1)t[ZE[e].charCodeAt(0)]=-2;for(let e=0;e<_h.length;e+=1)t[_h[e].charCodeAt(0)]=e;return t})();function JE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(_h[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(_h[r]),e.queuedBits-=6}}function KR(t,e,n){const r=C4[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function QE(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{M4(s,r,n)};for(let s=0;s<t.length;s+=1)KR(t.charCodeAt(s),a,i);return e.join("")}function k4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function O4(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}k4(r,e)}}function M4(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function D4(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)KR(t.charCodeAt(a),n,r);return new Uint8Array(e)}function N4(t){const e=[];return O4(t,n=>e.push(n)),new Uint8Array(e)}function P4(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};return t.forEach(a=>JE(a,n,r)),JE(null,n,r),e.join("")}function R4(t){return Math.round(Date.now()/1e3)+t}function I4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Gr=()=>typeof window<"u"&&typeof document<"u",To={tested:!1,writable:!1},Ac=()=>{if(!Gr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(To.tested)return To.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),To.tested=!0,To.writable=!0}catch{To.tested=!0,To.writable=!1}return To.writable};function j4(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{e[a]=r}),e}const YR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yd(async()=>{const{default:r}=await Promise.resolve().then(()=>zl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},$4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",WR=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Jf=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Qf=async(t,e)=>{await t.removeItem(e)};class km{constructor(){this.promise=new km.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}km.promiseConstructor=Promise;function $v(t){const e=t.split(".");if(e.length!==3)throw new Tc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!_4.test(e[r]))throw new Tc("JWT not in base64url format");return{header:JSON.parse(QE(e[0])),payload:JSON.parse(QE(e[1])),signature:D4(e[2]),raw:{header:e[0],payload:e[1]}}}async function L4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function B4(t,e){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function q4(t){return("0"+t.toString(16)).substr(-2)}function U4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,q4).join("")}async function F4(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function V4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await F4(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hs(t,e,n=!1){const r=U4();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await WR(t,`${e}-code-verifier`,a);const i=await V4(r);return[i,r===i?"plain":"s256"]}const z4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function G4(t){const e=t.headers.get(Xx);if(!e||!e.match(z4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function H4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function K4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Y4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ks(t){if(!Y4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var W4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),X4=[502,503,504];async function eC(t){var e;if(!$4(t))throw new Zx(Oo(t),0);if(X4.includes(t.status))throw new Zx(Oo(t),t.status);let n;try{n=await t.json()}catch(i){throw new HR(Oo(i),i)}let r;const a=G4(t);if(a&&a.getTime()>=GR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new XE(Oo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ji}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new XE(Oo(n),t.status,n.weak_password.reasons);throw new w4(Oo(n),t.status||500,r)}const Z4=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function ot(t,e,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[Xx]||(i[Xx]=GR["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const s=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await J4(t,e,n+u,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function J4(t,e,n,r,a,i){const s=Z4(e,r,a,i);let u;try{u=await t(n,Object.assign({},s))}catch(d){throw console.error(d),new Zx(Oo(d),0)}if(u.ok||await eC(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await eC(d)}}function Ua(t){var e;let n=null;nq(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=R4(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function tC(t){const e=Ua(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ui(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Q4(t){return{data:t,error:null}}function eq(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=t,s=W4(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},d=Object.assign({},s);return{data:{properties:u,user:d},error:null}}function tq(t){return t}function nq(t){return t.access_token&&t.refresh_token&&t.expires_in}const Lv=["global","local","others"];var rq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};class aq{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=YR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Lv[0]){if(Lv.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lv.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ui})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=rq(e,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:eq,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ui})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,a,i,s,u,d;try{const c={nextPage:null,lastPage:0,total:0},h=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:tq});if(h.error)throw h.error;const m=await h.json(),y=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(S=>{const A=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);c[`${T}Page`]=A}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(Ze(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Ks(e);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ui})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ks(e);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ui})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ks(e);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ui})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ks(e.userId);try{const{data:n,error:r}=await ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ks(e.userId),Ks(e.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}}const iq={getItem:t=>Ac()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ac()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ac()&&globalThis.localStorage.removeItem(t)}};function nC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function oq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ys={debug:!!(globalThis&&Ac()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class XR extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sq extends XR{}async function lq(t,e,n){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sq(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ys.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}oq();const uq={url:y4,storageKey:b4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rC(t,e,n){return await n()}class Pc{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pc.nextInstanceID,Pc.nextInstanceID+=1,this.instanceID>0&&Gr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},uq),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new aq({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=YR(a.fetch),this.lock=a.lock||rC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Gr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lq:this.lock=rC,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Ac()?this.storage=iq:(this.memoryStorage={},this.storage=nC(this.memoryStorage)):(this.memoryStorage={},this.storage=nC(this.memoryStorage)),Gr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zR}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=j4(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Gr()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),E4(i)){const d=(e=i.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ze(n)?{error:n}:{error:new HR("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,a;try{const i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ua}),{data:s,error:u}=i;if(u||!s)return{data:{user:null,session:null},error:u};const d=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:c,session:d},error:null}}catch(i){if(Ze(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,a;try{let i;if("email"in e){const{email:h,password:m,options:y}=e;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await Hs(this.storage,this.storageKey)),i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:h,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:_,code_challenge_method:S},xform:Ua})}else if("phone"in e){const{phone:h,password:m,options:y}=e;i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Ua})}else throw new Xf("You must provide either an email or phone number and a password");const{data:s,error:u}=i;if(u||!s)return{data:{user:null,session:null},error:u};const d=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:c,session:d},error:null}}catch(i){if(Ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:s,options:u}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:tC})}else if("phone"in e){const{phone:i,password:s,options:u}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:tC})}else throw new Xf("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Wf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,a,i,s,u,d,c,h,m,y,_;let S,A;if("message"in e)S=e.message,A=e.signature;else{const{chain:T,wallet:O,statement:M,options:E}=e;let D;if(Gr())if(typeof O=="object")D=O;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))D=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=O}const C=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const k=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),M?{statement:M}:null));let P;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")P=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)P=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)S=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),A=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${C.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((s=E==null?void 0:E.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E==null?void 0:E.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((m=(h=E==null?void 0:E.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...E.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const k=await D.signMessage(new TextEncoder().encode(S),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=k}}try{const{data:T,error:O}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:P4(A)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ua});if(O)throw O;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Wf}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:O})}catch(T){if(Ze(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const n=await Jf(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:s}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ua});if(await Qf(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Wf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(Ze(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:a,access_token:i,nonce:s}=e,u=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ua}),{data:d,error:c}=u;return c?{data:{user:null,session:null},error:c}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Wf}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:c})}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,a,i,s;try{if("email"in e){const{email:u,options:d}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Hs(this.storage,this.storageKey));const{error:m}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:u,options:d}=e,{data:c,error:h}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Xf("You must provide either an email or phone number.")}catch(u){if(Ze(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let a,i;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:u}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ua});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const d=s.session,c=s.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:c,session:d},error:null}}catch(a){if(Ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var n,r,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Hs(this.storage,this.storageKey)),await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:Q4})}catch(i){if(Ze(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ji;const{error:a}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Ze(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:i}=e,{error:s}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:a,options:i}=e,{data:s,error:u}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:u}}throw new Xf("You must provide either an email or phone number and a type")}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Jf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Iv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,c,h)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,c,h))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ui}):await this._useSession(async n=>{var r,a,i;const{data:s,error:u}=n;if(u)throw u;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ji}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ui})})}catch(n){if(Ze(n))return A4(n)&&(await this._removeSession(),await Qf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new ji;const s=a.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await Hs(this.storage,this.storageKey));const{data:c,error:h}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:s.access_token,xform:Ui});if(h)throw h;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ji;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:s}=$v(e.access_token);if(s.exp&&(r=s.exp,a=r<=n),a){const{session:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:u}=n;if(u)throw u;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ji;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Gr())throw new Zf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new WE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new WE("No code detected.");const{data:M,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:u,expires_at:d,token_type:c}=e;if(!i||!u||!s||!c)throw new Zf("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let y=h+m;d&&(y=parseInt(d));const _=y-h;_*1e3<=Qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const S=y-m;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,h);const{data:A,error:T}=await this._getUser(i);if(T)throw T;const O={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:y,refresh_token:s,token_type:c,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(r){if(Ze(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Jf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const s=(r=a.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:u}=await this.admin.signOut(s,e);if(u&&!(T4(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Qf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=I4(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Hs(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ze(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var s,u,d,c,h;const{data:m,error:y}=i;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",_,{headers:this.headers,jwt:(h=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return Gr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ze(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,a;const{data:i,error:s}=n;if(s)throw s;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await B4(async a=>(a>0&&await L4(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ua})),(a,i)=>{const s=200*Math.pow(2,a);return i&&jv(i)&&Date.now()+s-r<Qs})}catch(r){if(this._debug(n,"error",r),Ze(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Gr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Jf(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Iv;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Iv}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),jv(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new km;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new ji;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={session:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),Ze(i)){const s={session:null,error:i};return jv(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(d){i.push(d)}});if(await Promise.all(s),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await WR(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Qf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Gr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/Qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Qs}ms, refresh threshold is ${Wx} ticks`),a<=Wx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof XR)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,s]=await Hs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(u.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:c}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:s,error:u}=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:u})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],a=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=$v(a.access_token);let u=null;s.aal&&(u=s.aal);let d=u;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const h=s.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r||(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+S4>Date.now()))return r;const{data:a,error:i}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new Tc("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),r=a.keys.find(s=>s.kid===e),!r)throw new Tc("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:_,error:S}=await this.getSession();if(S||!_.session)return{data:null,error:S};r=_.session.access_token}const{header:a,payload:i,signature:s,raw:{header:u,payload:d}}=$v(r);if(H4(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:a,signature:s},error:null}}const c=K4(a.alg),h=await this.fetchJwk(a.kid,n),m=await crypto.subtle.importKey("jwk",h,c,!0,["verify"]);if(!await crypto.subtle.verify(c,m,s,N4(`${u}.${d}`)))throw new Tc("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}}Pc.nextInstanceID=0;const cq=Pc;class dq extends cq{constructor(e){super(e)}}var fq=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};class hq{constructor(e,n,r){var a,i,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=g4(e),d=new URL(u);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const c=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:l4,realtime:c4,auth:Object.assign(Object.assign({},u4),{storageKey:c}),global:s4},m=v4(r??{},h);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=m.auth)!==null&&s!==void 0?s:{},this.headers,m.global.fetch),this.fetch=m4(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new DB(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new bB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new a4(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return fq(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:i,flowType:s,lock:u,debug:d},c,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dq({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,flowType:s,lock:u,debug:d,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new zB(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mq=(t,e,n)=>new hq(t,e,n),pq="https://kezqwaibstyhvxpdhdts.supabase.co",gq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtlenF3YWlic3R5aHZ4cGRoZHRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2ODU0NTEsImV4cCI6MjA1OTI2MTQ1MX0.f8lcr89hUJLsQYdHWE6tFlijL7PtHKI3w7KtG-PGgb8",Oe=mq(pq,gq);var xe=(t=>(t.INCOME="INCOME",t.EXPENSE="EXPENSE",t.TRANSFER="TRANSFER",t))(xe||{}),yr=(t=>(t.DEPOSIT="DEPOSIT",t.WITHDRAWAL="WITHDRAWAL",t))(yr||{});const vq=[{name:"Salrio"},{name:"Vendas"},{name:"Investimentos"},{name:"Presente"},{name:"Outras Receitas"}],yq=[{name:"Alimentao"},{name:"Transporte"},{name:"Moradia"},{name:"Lazer"},{name:"Sade"},{name:"Educao"},{name:"Compras"},{name:"Impostos"},{name:"gua"},{name:"Luz"},{name:"Outras Despesas"}],bq=[{name:"Carteira",initial_balance:0},{name:"Banco Principal",initial_balance:1e3}],Rc="Meu Financeiro",Om=[{value:xe.INCOME,label:"Receita"},{value:xe.EXPENSE,label:"Despesa"},{value:xe.TRANSFER,label:"Transferncia"}],xq=[{value:"all",label:"Todo o Perodo"},{value:"today",label:"Hoje"},{value:"current_month",label:"Este Ms"},{value:"last_7_days",label:"ltimos 7 Dias"},{value:"last_30_days",label:"ltimos 30 Dias"}],_q=(t,e)=>{const n=vq.map(a=>({...a,user_id:t,profile_id:e,type:xe.INCOME})),r=yq.map(a=>({...a,user_id:t,profile_id:e,type:xe.EXPENSE}));return[...n,...r]},Sq=(t,e)=>bq.map(n=>({...n,user_id:t,profile_id:e})),Hr=()=>crypto.randomUUID(),Yn=(t,e="pt-BR",n)=>{const r=new Date(t.includes("T")?t:t+"T00:00:00"),a={year:"numeric",month:"short",day:"numeric"},i=n?{...a,...n}:a;return r.toLocaleDateString(e,i)},ye=(t,e="BRL",n="pt-BR",r=!1)=>{var a;return r?`${((a=new Intl.NumberFormat(n,{style:"currency",currency:e}).formatToParts(0).find(s=>s.type==="currency"))==null?void 0:a.value)||"$"} ****,**`:new Intl.NumberFormat(n,{style:"currency",currency:e}).format(t)},vt=(t=new Date)=>(typeof t=="string"?new Date(t.includes("T")?t:t+"T00:00:00"):t).toISOString().split("T")[0],ZR=(t,e,n)=>{const r=new Date(t+"T00:00:00");let a=r.getMonth()+e,i=r.getFullYear();a>11&&(i+=Math.floor(a/12),a=a%12);const u=r.getMonth()+1+(e-1);i=r.getFullYear(),a=u,a>11&&(i+=Math.floor(a/12),a=a%12);const d=new Date(i,a,1),c=new Date(i,a+1,0).getDate(),h=Math.min(n,c);return d.setDate(h),d},JR=(t,e,n)=>{if(!t||!e)return[];const r=[],a=n.getFullYear(),i=n.getMonth();let s=new Date(a,i,e.closing_day);n.getDate()>e.closing_day&&s.setMonth(i+1);let u=new Date(s.getFullYear(),s.getMonth(),e.due_day);e.due_day<e.closing_day&&u.setMonth(s.getMonth()+1);for(const d of t)if(d.installments_paid<d.number_of_installments){const c=d.installments_paid+1,h=ZR(d.purchase_date,c,e.due_day);if(h<=u){let m=new Date(u);m.setMonth(m.getMonth()-1),(h>m||h.getFullYear()===u.getFullYear()&&h.getMonth()===u.getMonth())&&r.push(d)}}return r.filter((d,c,h)=>h.findIndex(m=>m.id===d.id)===c)},QR=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),aC=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),Jx=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15L15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Sh=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"})}),wq=({id:t,message:e,type:n,onDismiss:r})=>{let a="bg-primary dark:bg-primaryDark",i="text-white",s=aC;switch(n){case"success":a="bg-secondary dark:bg-secondaryDark",s=Jx;break;case"warning":a="bg-amber-500 dark:bg-amber-600",s=Sh;break;case"error":a="bg-destructive dark:bg-destructiveDark",s=Sh;break;case"info":default:a="bg-blue-500 dark:bg-blue-600",s=aC;break}return b.jsxs("div",{role:"alert","aria-live":"assertive","aria-atomic":"true",className:`relative flex items-start w-full max-w-sm p-4 rounded-lg shadow-2xl ${a} ${i} transform transition-all duration-300 ease-in-out animate-fadeIn`,children:[b.jsx("div",{className:"flex-shrink-0 mr-3",children:b.jsx(s,{className:"w-6 h-6"})}),b.jsx("div",{className:"flex-grow text-sm font-medium",children:e}),b.jsx("button",{onClick:()=>r(t),"aria-label":"Fechar notificao",className:"ml-3 -mr-1 -my-1 p-1 rounded-md hover:bg-black/20 focus:outline-none focus:ring-2 focus:ring-white/50 transition-colors",children:b.jsx(QR,{className:"w-5 h-5"})}),b.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},Tq=({toasts:t,removeToast:e})=>t.length?b.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"fixed top-4 right-4 z-[100] space-y-3 w-full max-w-sm pointer-events-none",children:t.map(n=>b.jsx("div",{className:"pointer-events-auto",children:b.jsx(wq,{...n,onDismiss:e})},n.id))}):null,eI=j.createContext(void 0),tI=()=>{const t=j.useContext(eI);if(!t)throw new Error("useToasts must be used within a ToastProvider");return t},Aq=({children:t})=>{const[e,n]=j.useState([]),r=j.useCallback((i,s,u=5e3)=>{const d=Hr();n(c=>[{id:d,message:i,type:s,duration:u},...c.slice(0,4)]),u&&setTimeout(()=>{a(d)},u)},[]),a=j.useCallback(i=>{n(s=>s.filter(u=>u.id!==i))},[]);return b.jsxs(eI.Provider,{value:{addToast:r},children:[t,b.jsx(Tq,{toasts:e,removeToast:a})]})},Bn=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Eq=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52M6.25 4.97A48.416 48.416 0 0 1 12 4.5c2.291 0 4.545.16 6.75.47m-13.5 0C4.146 5.116 3.146 5.29 2.25 5.5m3.75-.48a25.293 25.293 0 0 0-3.75.48M12 12.75h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0-9h.008v.008H12V9.75Z"})}),GS=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-3.741-5.602M12 12.75a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 0H7.5M12 12.75V15m0 0H7.5M12 15A6.75 6.75 0 0 0 5.25 9.75M12 15A6.75 6.75 0 0 1 18.75 9.75M12 2.25A6.75 6.75 0 0 0 5.25 9m6.75-6.75v1.5m0 1.5V9m0-3a2.25 2.25 0 0 0-2.25-2.25H7.5A2.25 2.25 0 0 0 5.25 6m13.5 6.75a2.25 2.25 0 0 0-2.25-2.25H15a2.25 2.25 0 0 0-2.25 2.25m3.75 0v1.5m0 1.5V18m0-3a2.25 2.25 0 0 0-2.25-2.25H15A2.25 2.25 0 0 0 12.75 15m3.75 0h-3.75M3.375 19.5a2.25 2.25 0 0 1 2.25-2.25H10.5a2.25 2.25 0 0 1 2.25 2.25"})}),be=({variant:t="primary",size:e="md",children:n,className:r,...a})=>{const i="font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-backgroundDark transition-colors duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center";let s="";switch(t){case"primary":s="bg-primary text-white hover:bg-blue-700 dark:bg-primaryDark dark:hover:bg-blue-600 focus:ring-primary dark:focus:ring-primaryDark";break;case"secondary":s="bg-secondary text-white hover:bg-emerald-700 dark:bg-secondaryDark dark:hover:bg-emerald-600 focus:ring-secondary dark:focus:ring-secondaryDark";break;case"danger":s="bg-destructive text-white hover:bg-red-700 dark:bg-destructiveDark dark:hover:bg-red-600 focus:ring-destructive dark:focus:ring-destructiveDark";break;case"ghost":s="bg-transparent text-textBase dark:text-textBaseDark hover:bg-neutral/10 dark:hover:bg-neutralDark/20 focus:ring-neutral dark:focus:ring-neutralDark";break}let u="";switch(e){case"sm":u="px-3 py-1.5 text-sm";break;case"md":u="px-4 py-2 text-base";break;case"lg":u="px-6 py-3 text-lg";break}return b.jsx("button",{className:`${i} ${s} ${u} ${r||""}`,...a,children:n})};function nI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=nI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=nI(t))&&(r&&(r+=" "),r+=e);return r}var Bv,iC;function ir(){if(iC)return Bv;iC=1;var t=Array.isArray;return Bv=t,Bv}var qv,oC;function rI(){if(oC)return qv;oC=1;var t=typeof Kf=="object"&&Kf&&Kf.Object===Object&&Kf;return qv=t,qv}var Uv,sC;function ya(){if(sC)return Uv;sC=1;var t=rI(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Uv=n,Uv}var Fv,lC;function xd(){if(lC)return Fv;lC=1;var t=ya(),e=t.Symbol;return Fv=e,Fv}var Vv,uC;function Cq(){if(uC)return Vv;uC=1;var t=xd(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function i(s){var u=n.call(s,a),d=s[a];try{s[a]=void 0;var c=!0}catch{}var h=r.call(s);return c&&(u?s[a]=d:delete s[a]),h}return Vv=i,Vv}var zv,cC;function kq(){if(cC)return zv;cC=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return zv=n,zv}var Gv,dC;function ei(){if(dC)return Gv;dC=1;var t=xd(),e=Cq(),n=kq(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?a:r:i&&i in Object(u)?e(u):n(u)}return Gv=s,Gv}var Hv,fC;function ti(){if(fC)return Hv;fC=1;function t(e){return e!=null&&typeof e=="object"}return Hv=t,Hv}var Kv,hC;function Gl(){if(hC)return Kv;hC=1;var t=ei(),e=ti(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return Kv=r,Kv}var Yv,mC;function HS(){if(mC)return Yv;mC=1;var t=ir(),e=Gl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,s){if(t(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||s!=null&&i in Object(s)}return Yv=a,Yv}var Wv,pC;function Xi(){if(pC)return Wv;pC=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Wv=t,Wv}var Xv,gC;function KS(){if(gC)return Xv;gC=1;var t=ei(),e=Xi(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(u){if(!e(u))return!1;var d=t(u);return d==r||d==a||d==n||d==i}return Xv=s,Xv}var Zv,vC;function Oq(){if(vC)return Zv;vC=1;var t=ya(),e=t["__core-js_shared__"];return Zv=e,Zv}var Jv,yC;function Mq(){if(yC)return Jv;yC=1;var t=Oq(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Jv=n,Jv}var Qv,bC;function aI(){if(bC)return Qv;bC=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Qv=n,Qv}var ey,xC;function Dq(){if(xC)return ey;xC=1;var t=KS(),e=Mq(),n=Xi(),r=aI(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,d=s.toString,c=u.hasOwnProperty,h=RegExp("^"+d.call(c).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!n(y)||e(y))return!1;var _=t(y)?h:i;return _.test(r(y))}return ey=m,ey}var ty,_C;function Nq(){if(_C)return ty;_C=1;function t(e,n){return e==null?void 0:e[n]}return ty=t,ty}var ny,SC;function Zo(){if(SC)return ny;SC=1;var t=Dq(),e=Nq();function n(r,a){var i=e(r,a);return t(i)?i:void 0}return ny=n,ny}var ry,wC;function Mm(){if(wC)return ry;wC=1;var t=Zo(),e=t(Object,"create");return ry=e,ry}var ay,TC;function Pq(){if(TC)return ay;TC=1;var t=Mm();function e(){this.__data__=t?t(null):{},this.size=0}return ay=e,ay}var iy,AC;function Rq(){if(AC)return iy;AC=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return iy=t,iy}var oy,EC;function Iq(){if(EC)return oy;EC=1;var t=Mm(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var s=this.__data__;if(t){var u=s[i];return u===e?void 0:u}return r.call(s,i)?s[i]:void 0}return oy=a,oy}var sy,CC;function jq(){if(CC)return sy;CC=1;var t=Mm(),e=Object.prototype,n=e.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return sy=r,sy}var ly,kC;function $q(){if(kC)return ly;kC=1;var t=Mm(),e="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?e:a,this}return ly=n,ly}var uy,OC;function Lq(){if(OC)return uy;OC=1;var t=Pq(),e=Rq(),n=Iq(),r=jq(),a=$q();function i(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,uy=i,uy}var cy,MC;function Bq(){if(MC)return cy;MC=1;function t(){this.__data__=[],this.size=0}return cy=t,cy}var dy,DC;function YS(){if(DC)return dy;DC=1;function t(e,n){return e===n||e!==e&&n!==n}return dy=t,dy}var fy,NC;function Dm(){if(NC)return fy;NC=1;var t=YS();function e(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return fy=e,fy}var hy,PC;function qq(){if(PC)return hy;PC=1;var t=Dm(),e=Array.prototype,n=e.splice;function r(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var u=i.length-1;return s==u?i.pop():n.call(i,s,1),--this.size,!0}return hy=r,hy}var my,RC;function Uq(){if(RC)return my;RC=1;var t=Dm();function e(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return my=e,my}var py,IC;function Fq(){if(IC)return py;IC=1;var t=Dm();function e(n){return t(this.__data__,n)>-1}return py=e,py}var gy,jC;function Vq(){if(jC)return gy;jC=1;var t=Dm();function e(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return gy=e,gy}var vy,$C;function Nm(){if($C)return vy;$C=1;var t=Bq(),e=qq(),n=Uq(),r=Fq(),a=Vq();function i(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,vy=i,vy}var yy,LC;function WS(){if(LC)return yy;LC=1;var t=Zo(),e=ya(),n=t(e,"Map");return yy=n,yy}var by,BC;function zq(){if(BC)return by;BC=1;var t=Lq(),e=Nm(),n=WS();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return by=r,by}var xy,qC;function Gq(){if(qC)return xy;qC=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return xy=t,xy}var _y,UC;function Pm(){if(UC)return _y;UC=1;var t=Gq();function e(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return _y=e,_y}var Sy,FC;function Hq(){if(FC)return Sy;FC=1;var t=Pm();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Sy=e,Sy}var wy,VC;function Kq(){if(VC)return wy;VC=1;var t=Pm();function e(n){return t(this,n).get(n)}return wy=e,wy}var Ty,zC;function Yq(){if(zC)return Ty;zC=1;var t=Pm();function e(n){return t(this,n).has(n)}return Ty=e,Ty}var Ay,GC;function Wq(){if(GC)return Ay;GC=1;var t=Pm();function e(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return Ay=e,Ay}var Ey,HC;function XS(){if(HC)return Ey;HC=1;var t=zq(),e=Hq(),n=Kq(),r=Yq(),a=Wq();function i(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Ey=i,Ey}var Cy,KC;function iI(){if(KC)return Cy;KC=1;var t=XS(),e="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,u=a?a.apply(this,s):s[0],d=i.cache;if(d.has(u))return d.get(u);var c=r.apply(this,s);return i.cache=d.set(u,c)||d,c};return i.cache=new(n.Cache||t),i}return n.Cache=t,Cy=n,Cy}var ky,YC;function Xq(){if(YC)return ky;YC=1;var t=iI(),e=500;function n(r){var a=t(r,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return ky=n,ky}var Oy,WC;function Zq(){if(WC)return Oy;WC=1;var t=Xq(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,u,d,c){i.push(d?c.replace(n,"$1"):u||s)}),i});return Oy=r,Oy}var My,XC;function ZS(){if(XC)return My;XC=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=n(e[r],r,e);return i}return My=t,My}var Dy,ZC;function Jq(){if(ZC)return Dy;ZC=1;var t=xd(),e=ZS(),n=ir(),r=Gl(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return e(u,s)+"";if(r(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Dy=s,Dy}var Ny,JC;function oI(){if(JC)return Ny;JC=1;var t=Jq();function e(n){return n==null?"":t(n)}return Ny=e,Ny}var Py,QC;function sI(){if(QC)return Py;QC=1;var t=ir(),e=HS(),n=Zq(),r=oI();function a(i,s){return t(i)?i:e(i,s)?[i]:n(r(i))}return Py=a,Py}var Ry,ek;function Rm(){if(ek)return Ry;ek=1;var t=Gl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Ry=e,Ry}var Iy,tk;function JS(){if(tk)return Iy;tk=1;var t=sI(),e=Rm();function n(r,a){a=t(a,r);for(var i=0,s=a.length;r!=null&&i<s;)r=r[e(a[i++])];return i&&i==s?r:void 0}return Iy=n,Iy}var jy,nk;function lI(){if(nk)return jy;nk=1;var t=JS();function e(n,r,a){var i=n==null?void 0:t(n,r);return i===void 0?a:i}return jy=e,jy}var Qq=lI();const br=yt(Qq);var $y,rk;function eU(){if(rk)return $y;rk=1;function t(e){return e==null}return $y=t,$y}var tU=eU();const st=yt(tU);var Ly,ak;function nU(){if(ak)return Ly;ak=1;var t=ei(),e=ir(),n=ti(),r="[object String]";function a(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return Ly=a,Ly}var rU=nU();const Uo=yt(rU);var aU=KS();const Ke=yt(aU);var iU=Xi();const Hl=yt(iU);var By={exports:{}},xt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik;function oU(){if(ik)return xt;ik=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function A(T){if(typeof T=="object"&&T!==null){var O=T.$$typeof;switch(O){case t:switch(T=T.type,T){case n:case a:case r:case c:case h:return T;default:switch(T=T&&T.$$typeof,T){case u:case s:case d:case y:case m:case i:return T;default:return O}}case e:return O}}}return xt.ContextConsumer=s,xt.ContextProvider=i,xt.Element=t,xt.ForwardRef=d,xt.Fragment=n,xt.Lazy=y,xt.Memo=m,xt.Portal=e,xt.Profiler=a,xt.StrictMode=r,xt.Suspense=c,xt.SuspenseList=h,xt.isAsyncMode=function(){return!1},xt.isConcurrentMode=function(){return!1},xt.isContextConsumer=function(T){return A(T)===s},xt.isContextProvider=function(T){return A(T)===i},xt.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},xt.isForwardRef=function(T){return A(T)===d},xt.isFragment=function(T){return A(T)===n},xt.isLazy=function(T){return A(T)===y},xt.isMemo=function(T){return A(T)===m},xt.isPortal=function(T){return A(T)===e},xt.isProfiler=function(T){return A(T)===a},xt.isStrictMode=function(T){return A(T)===r},xt.isSuspense=function(T){return A(T)===c},xt.isSuspenseList=function(T){return A(T)===h},xt.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===a||T===r||T===c||T===h||T===_||typeof T=="object"&&T!==null&&(T.$$typeof===y||T.$$typeof===m||T.$$typeof===i||T.$$typeof===s||T.$$typeof===d||T.$$typeof===S||T.getModuleId!==void 0)},xt.typeOf=A,xt}var ok;function sU(){return ok||(ok=1,By.exports=oU()),By.exports}var lU=sU(),qy,sk;function uI(){if(sk)return qy;sk=1;var t=ei(),e=ti(),n="[object Number]";function r(a){return typeof a=="number"||e(a)&&t(a)==n}return qy=r,qy}var Uy,lk;function uU(){if(lk)return Uy;lk=1;var t=uI();function e(n){return t(n)&&n!=+n}return Uy=e,Uy}var cU=uU();const _d=yt(cU);var dU=uI();const fU=yt(dU);var zn=function(e){return e===0?0:e>0?1:-1},Ro=function(e){return Uo(e)&&e.indexOf("%")===e.length-1},Ee=function(e){return fU(e)&&!_d(e)},mn=function(e){return Ee(e)||Uo(e)},hU=0,Sd=function(e){var n=++hU;return"".concat(e||"").concat(n)},Gn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&!Uo(e))return r;var i;if(Ro(e)){var s=e.indexOf("%");i=n*parseFloat(e.slice(0,s))/100}else i=+e;return _d(i)&&(i=r),a&&i>n&&(i=n),i},Fi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},mU=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},a=0;a<n;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1},Li=function(e,n){return Ee(e)&&Ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function Qx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):br(r,e))===n})}var pU=function(e,n){return Ee(e)&&Ee(n)?e-n:Uo(e)&&Uo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ll(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function e_(t){"@babel/helpers - typeof";return e_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e_(t)}var gU=["viewBox","children"],vU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uk=["points","pathLength"],Fy={svg:gU,polygon:uk,polyline:uk},QS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],wh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!Hl(r))return null;var a={};return Object.keys(r).forEach(function(i){QS.includes(i)&&(a[i]=n||function(s){return r[i](r,s)})}),a},yU=function(e,n,r){return function(a){return e(n,r,a),null}},Fo=function(e,n,r){if(!Hl(e)||e_(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];QS.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=yU(s,n,r))}),a},bU=["children"],xU=["children"];function ck(t,e){if(t==null)return{};var n=_U(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _U(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ka=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},fk=null,Vy=null,ew=function t(e){if(e===fk&&Array.isArray(Vy))return Vy;var n=[];return j.Children.forEach(e,function(r){st(r)||(lU.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Vy=n,fk=e,n};function Rr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(a){return Ka(a)}):r=[Ka(e)],ew(t).forEach(function(a){var i=br(a,"type.displayName")||br(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function gr(t,e){var n=Rr(t,e);return n&&n[0]}var hk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,a=n.height;return!(!Ee(r)||r<=0||!Ee(a)||a<=0)},SU=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wU=function(e){return e&&e.type&&Uo(e.type)&&SU.indexOf(e.type)>=0},TU=function(e,n,r,a){var i,s=(i=Fy==null?void 0:Fy[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Ke(e)&&(a&&s.includes(n)||vU.includes(n))||r&&QS.includes(n)},He=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(j.isValidElement(e)&&(a=e.props),!Hl(a))return null;var i={};return Object.keys(a).forEach(function(s){var u;TU((u=a)===null||u===void 0?void 0:u[s],s,n,r)&&(i[s]=a[s])}),i},t_=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return mk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=e[a],s=n[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!mk(i,s))return!1}return!0},mk=function(e,n){if(st(e)&&st(n))return!0;if(!st(e)&&!st(n)){var r=e.props||{},a=r.children,i=ck(r,bU),s=n.props||{},u=s.children,d=ck(s,xU);return a&&u?ll(i,d)&&t_(a,u):!a&&!u?ll(i,d):!1}return!1},pk=function(e,n){var r=[],a={};return ew(e).forEach(function(i,s){if(wU(i))r.push(i);else if(i){var u=Ka(i.type),d=n[u]||{},c=d.handler,h=d.once;if(c&&(!h||!a[u])){var m=c(i,u,s);r.push(m),a[u]=!0}}}),r},AU=function(e){var n=e&&e.type;return n&&dk[n]?dk[n]:null},EU=function(e,n){return ew(n).indexOf(e)},CU=["children","width","height","viewBox","className","style","title","desc"];function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n_.apply(this,arguments)}function kU(t,e){if(t==null)return{};var n=OU(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function r_(t){var e=t.children,n=t.width,r=t.height,a=t.viewBox,i=t.className,s=t.style,u=t.title,d=t.desc,c=kU(t,CU),h=a||{width:n,height:r,x:0,y:0},m=rt("recharts-surface",i);return J.createElement("svg",n_({},He(c,!0,"svg"),{className:m,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),J.createElement("title",null,u),J.createElement("desc",null,d),e)}var MU=["children","className"];function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a_.apply(this,arguments)}function DU(t,e){if(t==null)return{};var n=NU(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var At=J.forwardRef(function(t,e){var n=t.children,r=t.className,a=DU(t,MU),i=rt("recharts-layer",r);return J.createElement("g",a_({className:i},He(a,!0),{ref:e}),n)}),Zr=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]},zy,gk;function PU(){if(gk)return zy;gk=1;function t(e,n,r){var a=-1,i=e.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+n];return s}return zy=t,zy}var Gy,vk;function RU(){if(vk)return Gy;vk=1;var t=PU();function e(n,r,a){var i=n.length;return a=a===void 0?i:a,!r&&a>=i?n:t(n,r,a)}return Gy=e,Gy}var Hy,yk;function cI(){if(yk)return Hy;yk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+a+i+"]");function d(c){return u.test(c)}return Hy=d,Hy}var Ky,bk;function IU(){if(bk)return Ky;bk=1;function t(e){return e.split("")}return Ky=t,Ky}var Yy,xk;function jU(){if(xk)return Yy;xk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="["+t+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",c="(?:"+u+"|"+d+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",S=c+"?",A="["+i+"]?",T="(?:"+_+"(?:"+[h,m,y].join("|")+")"+A+S+")*",O=A+S+T,M="(?:"+[h+u+"?",u,m,y,s].join("|")+")",E=RegExp(d+"(?="+d+")|"+M+O,"g");function D(C){return C.match(E)||[]}return Yy=D,Yy}var Wy,_k;function $U(){if(_k)return Wy;_k=1;var t=IU(),e=cI(),n=jU();function r(a){return e(a)?n(a):t(a)}return Wy=r,Wy}var Xy,Sk;function LU(){if(Sk)return Xy;Sk=1;var t=RU(),e=cI(),n=$U(),r=oI();function a(i){return function(s){s=r(s);var u=e(s)?n(s):void 0,d=u?u[0]:s.charAt(0),c=u?t(u,1).join(""):s.slice(1);return d[i]()+c}}return Xy=a,Xy}var Zy,wk;function BU(){if(wk)return Zy;wk=1;var t=LU(),e=t("toUpperCase");return Zy=e,Zy}var qU=BU();const Im=yt(qU);function $t(t){return function(){return t}}const dI=Math.cos,Th=Math.sin,ta=Math.sqrt,Ah=Math.PI,jm=2*Ah,i_=Math.PI,o_=2*i_,Mo=1e-6,UU=o_-Mo;function fI(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function FU(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fI;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class VU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fI:FU(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,s){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,u=this._y1,d=r-e,c=a-n,h=s-e,m=u-n,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Mo)if(!(Math.abs(m*d-c*h)>Mo)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-s,S=a-u,A=d*d+c*c,T=_*_+S*S,O=Math.sqrt(A),M=Math.sqrt(y),E=i*Math.tan((i_-Math.acos((A+y-T)/(2*O*M)))/2),D=E/M,C=E/O;Math.abs(D-1)>Mo&&this._append`L${e+D*h},${n+D*m}`,this._append`A${i},${i},0,0,${+(m*_>h*S)},${this._x1=e+C*d},${this._y1=n+C*c}`}}arc(e,n,r,a,i,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),d=r*Math.sin(a),c=e+u,h=n+d,m=1^s,y=s?a-i:i-a;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Mo||Math.abs(this._y1-h)>Mo)&&this._append`L${c},${h}`,r&&(y<0&&(y=y%o_+o_),y>UU?this._append`A${r},${r},0,1,${m},${e-u},${n-d}A${r},${r},0,1,${m},${this._x1=c},${this._y1=h}`:y>Mo&&this._append`A${r},${r},0,${+(y>=i_)},${m},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function tw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new VU(e)}function nw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hI(t){this._context=t}hI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $m(t){return new hI(t)}function mI(t){return t[0]}function pI(t){return t[1]}function gI(t,e){var n=$t(!0),r=null,a=$m,i=null,s=tw(u);t=typeof t=="function"?t:t===void 0?mI:$t(t),e=typeof e=="function"?e:e===void 0?pI:$t(e);function u(d){var c,h=(d=nw(d)).length,m,y=!1,_;for(r==null&&(i=a(_=s())),c=0;c<=h;++c)!(c<h&&n(m=d[c],c,d))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+t(m,c,d),+e(m,c,d));if(_)return i=null,_+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:$t(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:$t(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:$t(!!d),u):n},u.curve=function(d){return arguments.length?(a=d,r!=null&&(i=a(r)),u):a},u.context=function(d){return arguments.length?(d==null?r=i=null:i=a(r=d),u):r},u}function eh(t,e,n){var r=null,a=$t(!0),i=null,s=$m,u=null,d=tw(c);t=typeof t=="function"?t:t===void 0?mI:$t(+t),e=typeof e=="function"?e:$t(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?pI:$t(+n);function c(m){var y,_,S,A=(m=nw(m)).length,T,O=!1,M,E=new Array(A),D=new Array(A);for(i==null&&(u=s(M=d())),y=0;y<=A;++y){if(!(y<A&&a(T=m[y],y,m))===O)if(O=!O)_=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=_;--S)u.point(E[S],D[S]);u.lineEnd(),u.areaEnd()}O&&(E[y]=+t(T,y,m),D[y]=+e(T,y,m),u.point(r?+r(T,y,m):E[y],n?+n(T,y,m):D[y]))}if(M)return u=null,M+""||null}function h(){return gI().defined(a).curve(s).context(i)}return c.x=function(m){return arguments.length?(t=typeof m=="function"?m:$t(+m),r=null,c):t},c.x0=function(m){return arguments.length?(t=typeof m=="function"?m:$t(+m),c):t},c.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:$t(+m),c):r},c.y=function(m){return arguments.length?(e=typeof m=="function"?m:$t(+m),n=null,c):e},c.y0=function(m){return arguments.length?(e=typeof m=="function"?m:$t(+m),c):e},c.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:$t(+m),c):n},c.lineX0=c.lineY0=function(){return h().x(t).y(e)},c.lineY1=function(){return h().x(t).y(n)},c.lineX1=function(){return h().x(r).y(e)},c.defined=function(m){return arguments.length?(a=typeof m=="function"?m:$t(!!m),c):a},c.curve=function(m){return arguments.length?(s=m,i!=null&&(u=s(i)),c):s},c.context=function(m){return arguments.length?(m==null?i=u=null:u=s(i=m),c):i},c}class vI{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zU(t){return new vI(t,!0)}function GU(t){return new vI(t,!1)}const rw={draw(t,e){const n=ta(e/Ah);t.moveTo(n,0),t.arc(0,0,n,0,jm)}},HU={draw(t,e){const n=ta(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},yI=ta(1/3),KU=yI*2,YU={draw(t,e){const n=ta(e/KU),r=n*yI;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},WU={draw(t,e){const n=ta(e),r=-n/2;t.rect(r,r,n,n)}},XU=.8908130915292852,bI=Th(Ah/10)/Th(7*Ah/10),ZU=Th(jm/10)*bI,JU=-dI(jm/10)*bI,QU={draw(t,e){const n=ta(e*XU),r=ZU*n,a=JU*n;t.moveTo(0,-n),t.lineTo(r,a);for(let i=1;i<5;++i){const s=jm*i/5,u=dI(s),d=Th(s);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*a,d*r+u*a)}t.closePath()}},Jy=ta(3),e6={draw(t,e){const n=-ta(e/(Jy*3));t.moveTo(0,n*2),t.lineTo(-Jy*n,-n),t.lineTo(Jy*n,-n),t.closePath()}},Or=-.5,Mr=ta(3)/2,s_=1/ta(12),t6=(s_/2+1)*3,n6={draw(t,e){const n=ta(e/t6),r=n/2,a=n*s_,i=r,s=n*s_+n,u=-i,d=s;t.moveTo(r,a),t.lineTo(i,s),t.lineTo(u,d),t.lineTo(Or*r-Mr*a,Mr*r+Or*a),t.lineTo(Or*i-Mr*s,Mr*i+Or*s),t.lineTo(Or*u-Mr*d,Mr*u+Or*d),t.lineTo(Or*r+Mr*a,Or*a-Mr*r),t.lineTo(Or*i+Mr*s,Or*s-Mr*i),t.lineTo(Or*u+Mr*d,Or*d-Mr*u),t.closePath()}};function r6(t,e){let n=null,r=tw(a);t=typeof t=="function"?t:$t(t||rw),e=typeof e=="function"?e:$t(e===void 0?64:+e);function a(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:$t(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:$t(+i),a):e},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Eh(){}function Ch(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function xI(t){this._context=t}xI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ch(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ch(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function a6(t){return new xI(t)}function _I(t){this._context=t}_I.prototype={areaStart:Eh,areaEnd:Eh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ch(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function i6(t){return new _I(t)}function SI(t){this._context=t}SI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ch(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function o6(t){return new SI(t)}function wI(t){this._context=t}wI.prototype={areaStart:Eh,areaEnd:Eh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function s6(t){return new wI(t)}function Tk(t){return t<0?-1:1}function Ak(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),s=(n-t._y1)/(a||r<0&&-0),u=(i*a+s*r)/(r+a);return(Tk(i)+Tk(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(u))||0}function Ek(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Qy(t,e,n){var r=t._x0,a=t._y0,i=t._x1,s=t._y1,u=(i-r)/3;t._context.bezierCurveTo(r+u,a+u*e,i-u,s-u*n,i,s)}function kh(t){this._context=t}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qy(this,this._t0,Ek(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Qy(this,Ek(this,n=Ak(this,t,e)),n);break;default:Qy(this,this._t0,n=Ak(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function TI(t){this._context=new AI(t)}(TI.prototype=Object.create(kh.prototype)).point=function(t,e){kh.prototype.point.call(this,e,t)};function AI(t){this._context=t}AI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};function l6(t){return new kh(t)}function u6(t){return new TI(t)}function EI(t){this._context=t}EI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Ck(t),a=Ck(e),i=0,s=1;s<n;++i,++s)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ck(t){var e,n=t.length-1,r,a=new Array(n),i=new Array(n),s=new Array(n);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,i[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/i[e-1],i[e]-=r,s[e]-=r*s[e-1];for(a[n-1]=s[n-1]/i[n-1],e=n-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function c6(t){return new EI(t)}function Lm(t,e){this._context=t,this._t=e}Lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function d6(t){return new Lm(t,.5)}function f6(t){return new Lm(t,0)}function h6(t){return new Lm(t,1)}function ml(t,e){if((s=t.length)>1)for(var n=1,r,a,i=t[e[0]],s,u=i.length;n<s;++n)for(a=i,i=t[e[n]],r=0;r<u;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function l_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function m6(t,e){return t[e]}function p6(t){const e=[];return e.key=t,e}function g6(){var t=$t([]),e=l_,n=ml,r=m6;function a(i){var s=Array.from(t.apply(this,arguments),p6),u,d=s.length,c=-1,h;for(const m of i)for(u=0,++c;u<d;++u)(s[u][c]=[0,+r(m,s[u].key,c,i)]).data=m;for(u=0,h=nw(e(s));u<d;++u)s[h[u]].index=u;return n(s,h),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:$t(Array.from(i)),a):t},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:$t(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?l_:typeof i=="function"?i:$t(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(n=i??ml,a):n},a}function v6(t,e){if((r=t.length)>0){for(var n,r,a=0,i=t[0].length,s;a<i;++a){for(s=n=0;n<r;++n)s+=t[n][a][1]||0;if(s)for(n=0;n<r;++n)t[n][a][1]/=s}ml(t,e)}}function y6(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,i=r.length;n<i;++n){for(var s=0,u=0;s<a;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}ml(t,e)}}function b6(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,i,s;r<i;++r){for(var u=0,d=0,c=0;u<s;++u){for(var h=t[e[u]],m=h[r][1]||0,y=h[r-1][1]||0,_=(m-y)/2,S=0;S<u;++S){var A=t[e[S]],T=A[r][1]||0,O=A[r-1][1]||0;_+=T-O}d+=m,c+=_*m}a[r-1][1]+=a[r-1][0]=n,d&&(n-=c/d)}a[r-1][1]+=a[r-1][0]=n,ml(t,e)}}function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}var x6=["type","size","sizeType"];function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ok(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){_6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _6(t,e,n){return e=S6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S6(t){var e=w6(t,"string");return Ic(e)=="symbol"?e:e+""}function w6(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T6(t,e){if(t==null)return{};var n=A6(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var CI={symbolCircle:rw,symbolCross:HU,symbolDiamond:YU,symbolSquare:WU,symbolStar:QU,symbolTriangle:e6,symbolWye:n6},E6=Math.PI/180,C6=function(e){var n="symbol".concat(Im(e));return CI[n]||rw},k6=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*E6;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},O6=function(e,n){CI["symbol".concat(Im(e))]=n},aw=function(e){var n=e.type,r=n===void 0?"circle":n,a=e.size,i=a===void 0?64:a,s=e.sizeType,u=s===void 0?"area":s,d=T6(e,x6),c=Ok(Ok({},d),{},{type:r,size:i,sizeType:u}),h=function(){var T=C6(r),O=r6().type(T).size(k6(i,u,r));return O()},m=c.className,y=c.cx,_=c.cy,S=He(c,!0);return y===+y&&_===+_&&i===+i?J.createElement("path",u_({},S,{className:rt("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(_,")"),d:h()})):null};aw.registerSymbol=O6;function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function M6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){jc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OI(r.key),r)}}function P6(t,e,n){return e&&N6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R6(t,e,n){return e=Oh(e),I6(t,kI()?Reflect.construct(e,n||[],Oh(t).constructor):e.apply(t,n))}function I6(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j6(t)}function j6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kI=function(){return!!t})()}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oh(t)}function $6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},d_(t,e)}function jc(t,e,n){return e=OI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OI(t){var e=L6(t,"string");return pl(e)=="symbol"?e:e+""}function L6(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dr=32,iw=function(t){function e(){return D6(this,e),R6(this,e,arguments)}return $6(e,t),P6(e,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=Dr/2,s=Dr/6,u=Dr/3,d=r.inactive?a:r.color;if(r.type==="plainline")return J.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:Dr,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return J.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(Dr,"M").concat(2*u,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return J.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Dr/8,"h").concat(Dr,"v").concat(Dr*3/4,"h").concat(-Dr,"z"),className:"recharts-legend-icon"});if(J.isValidElement(r.legendIcon)){var c=M6({},r);return delete c.legendIcon,J.cloneElement(r.legendIcon,c)}return J.createElement(aw,{fill:d,cx:i,cy:i,size:Dr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,s=a.iconSize,u=a.layout,d=a.formatter,c=a.inactiveColor,h={x:0,y:0,width:Dr,height:Dr},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(_,S){var A=_.formatter||d,T=rt(jc(jc({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",_.inactive));if(_.type==="none")return null;var O=Ke(_.value)?null:_.value;Zr(!Ke(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var M=_.inactive?c:_.color;return J.createElement("li",c_({className:T,style:m,key:"legend-item-".concat(S)},Fo(r.props,_,S)),J.createElement(r_,{width:s,height:s,viewBox:h,style:y},r.renderIcon(_)),J.createElement("span",{className:"recharts-legend-item-text",style:{color:M}},A?A(O,_,S):O))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,s=r.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return J.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(j.PureComponent);jc(iw,"displayName","Legend");jc(iw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var e0,Dk;function B6(){if(Dk)return e0;Dk=1;var t=Nm();function e(){this.__data__=new t,this.size=0}return e0=e,e0}var t0,Nk;function q6(){if(Nk)return t0;Nk=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return t0=t,t0}var n0,Pk;function U6(){if(Pk)return n0;Pk=1;function t(e){return this.__data__.get(e)}return n0=t,n0}var r0,Rk;function F6(){if(Rk)return r0;Rk=1;function t(e){return this.__data__.has(e)}return r0=t,r0}var a0,Ik;function V6(){if(Ik)return a0;Ik=1;var t=Nm(),e=WS(),n=XS(),r=200;function a(i,s){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<r-1)return d.push([i,s]),this.size=++u.size,this;u=this.__data__=new n(d)}return u.set(i,s),this.size=u.size,this}return a0=a,a0}var i0,jk;function MI(){if(jk)return i0;jk=1;var t=Nm(),e=B6(),n=q6(),r=U6(),a=F6(),i=V6();function s(u){var d=this.__data__=new t(u);this.size=d.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,i0=s,i0}var o0,$k;function z6(){if($k)return o0;$k=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return o0=e,o0}var s0,Lk;function G6(){if(Lk)return s0;Lk=1;function t(e){return this.__data__.has(e)}return s0=t,s0}var l0,Bk;function DI(){if(Bk)return l0;Bk=1;var t=XS(),e=z6(),n=G6();function r(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,l0=r,l0}var u0,qk;function NI(){if(qk)return u0;qk=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(e[r],r,e))return!0;return!1}return u0=t,u0}var c0,Uk;function PI(){if(Uk)return c0;Uk=1;function t(e,n){return e.has(n)}return c0=t,c0}var d0,Fk;function RI(){if(Fk)return d0;Fk=1;var t=DI(),e=NI(),n=PI(),r=1,a=2;function i(s,u,d,c,h,m){var y=d&r,_=s.length,S=u.length;if(_!=S&&!(y&&S>_))return!1;var A=m.get(s),T=m.get(u);if(A&&T)return A==u&&T==s;var O=-1,M=!0,E=d&a?new t:void 0;for(m.set(s,u),m.set(u,s);++O<_;){var D=s[O],C=u[O];if(c)var k=y?c(C,D,O,u,s,m):c(D,C,O,s,u,m);if(k!==void 0){if(k)continue;M=!1;break}if(E){if(!e(u,function(P,R){if(!n(E,R)&&(D===P||h(D,P,d,c,m)))return E.push(R)})){M=!1;break}}else if(!(D===C||h(D,C,d,c,m))){M=!1;break}}return m.delete(s),m.delete(u),M}return d0=i,d0}var f0,Vk;function H6(){if(Vk)return f0;Vk=1;var t=ya(),e=t.Uint8Array;return f0=e,f0}var h0,zk;function K6(){if(zk)return h0;zk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a,i){r[++n]=[i,a]}),r}return h0=t,h0}var m0,Gk;function ow(){if(Gk)return m0;Gk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a){r[++n]=a}),r}return m0=t,m0}var p0,Hk;function Y6(){if(Hk)return p0;Hk=1;var t=xd(),e=H6(),n=YS(),r=RI(),a=K6(),i=ow(),s=1,u=2,d="[object Boolean]",c="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",_="[object RegExp]",S="[object Set]",A="[object String]",T="[object Symbol]",O="[object ArrayBuffer]",M="[object DataView]",E=t?t.prototype:void 0,D=E?E.valueOf:void 0;function C(k,P,R,U,F,L,G){switch(R){case M:if(k.byteLength!=P.byteLength||k.byteOffset!=P.byteOffset)return!1;k=k.buffer,P=P.buffer;case O:return!(k.byteLength!=P.byteLength||!L(new e(k),new e(P)));case d:case c:case y:return n(+k,+P);case h:return k.name==P.name&&k.message==P.message;case _:case A:return k==P+"";case m:var Q=a;case S:var H=U&s;if(Q||(Q=i),k.size!=P.size&&!H)return!1;var q=G.get(k);if(q)return q==P;U|=u,G.set(k,P);var $=r(Q(k),Q(P),U,F,L,G);return G.delete(k),$;case T:if(D)return D.call(k)==D.call(P)}return!1}return p0=C,p0}var g0,Kk;function II(){if(Kk)return g0;Kk=1;function t(e,n){for(var r=-1,a=n.length,i=e.length;++r<a;)e[i+r]=n[r];return e}return g0=t,g0}var v0,Yk;function W6(){if(Yk)return v0;Yk=1;var t=II(),e=ir();function n(r,a,i){var s=a(r);return e(r)?s:t(s,i(r))}return v0=n,v0}var y0,Wk;function X6(){if(Wk)return y0;Wk=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=0,s=[];++r<a;){var u=e[r];n(u,r,e)&&(s[i++]=u)}return s}return y0=t,y0}var b0,Xk;function Z6(){if(Xk)return b0;Xk=1;function t(){return[]}return b0=t,b0}var x0,Zk;function J6(){if(Zk)return x0;Zk=1;var t=X6(),e=Z6(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(u){return r.call(s,u)}))}:e;return x0=i,x0}var _0,Jk;function Q6(){if(Jk)return _0;Jk=1;function t(e,n){for(var r=-1,a=Array(e);++r<e;)a[r]=n(r);return a}return _0=t,_0}var S0,Qk;function e8(){if(Qk)return S0;Qk=1;var t=ei(),e=ti(),n="[object Arguments]";function r(a){return e(a)&&t(a)==n}return S0=r,S0}var w0,eO;function sw(){if(eO)return w0;eO=1;var t=e8(),e=ti(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!a.call(s,"callee")};return w0=i,w0}var yc={exports:{}},T0,tO;function t8(){if(tO)return T0;tO=1;function t(){return!1}return T0=t,T0}yc.exports;var nO;function jI(){return nO||(nO=1,function(t,e){var n=ya(),r=t8(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,u=s?n.Buffer:void 0,d=u?u.isBuffer:void 0,c=d||r;t.exports=c}(yc,yc.exports)),yc.exports}var A0,rO;function lw(){if(rO)return A0;rO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<a}return A0=n,A0}var E0,aO;function uw(){if(aO)return E0;aO=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return E0=e,E0}var C0,iO;function n8(){if(iO)return C0;iO=1;var t=ei(),e=uw(),n=ti(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",u="[object Error]",d="[object Function]",c="[object Map]",h="[object Number]",m="[object Object]",y="[object RegExp]",_="[object Set]",S="[object String]",A="[object WeakMap]",T="[object ArrayBuffer]",O="[object DataView]",M="[object Float32Array]",E="[object Float64Array]",D="[object Int8Array]",C="[object Int16Array]",k="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",U="[object Uint16Array]",F="[object Uint32Array]",L={};L[M]=L[E]=L[D]=L[C]=L[k]=L[P]=L[R]=L[U]=L[F]=!0,L[r]=L[a]=L[T]=L[i]=L[O]=L[s]=L[u]=L[d]=L[c]=L[h]=L[m]=L[y]=L[_]=L[S]=L[A]=!1;function G(Q){return n(Q)&&e(Q.length)&&!!L[t(Q)]}return C0=G,C0}var k0,oO;function $I(){if(oO)return k0;oO=1;function t(e){return function(n){return e(n)}}return k0=t,k0}var bc={exports:{}};bc.exports;var sO;function r8(){return sO||(sO=1,function(t,e){var n=rI(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,s=i&&n.process,u=function(){try{var d=a&&a.require&&a.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}}();t.exports=u}(bc,bc.exports)),bc.exports}var O0,lO;function LI(){if(lO)return O0;lO=1;var t=n8(),e=$I(),n=r8(),r=n&&n.isTypedArray,a=r?e(r):t;return O0=a,O0}var M0,uO;function a8(){if(uO)return M0;uO=1;var t=Q6(),e=sw(),n=ir(),r=jI(),a=lw(),i=LI(),s=Object.prototype,u=s.hasOwnProperty;function d(c,h){var m=n(c),y=!m&&e(c),_=!m&&!y&&r(c),S=!m&&!y&&!_&&i(c),A=m||y||_||S,T=A?t(c.length,String):[],O=T.length;for(var M in c)(h||u.call(c,M))&&!(A&&(M=="length"||_&&(M=="offset"||M=="parent")||S&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||a(M,O)))&&T.push(M);return T}return M0=d,M0}var D0,cO;function i8(){if(cO)return D0;cO=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return D0=e,D0}var N0,dO;function BI(){if(dO)return N0;dO=1;function t(e,n){return function(r){return e(n(r))}}return N0=t,N0}var P0,fO;function o8(){if(fO)return P0;fO=1;var t=BI(),e=t(Object.keys,Object);return P0=e,P0}var R0,hO;function s8(){if(hO)return R0;hO=1;var t=i8(),e=o8(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var u in Object(i))r.call(i,u)&&u!="constructor"&&s.push(u);return s}return R0=a,R0}var I0,mO;function wd(){if(mO)return I0;mO=1;var t=KS(),e=uw();function n(r){return r!=null&&e(r.length)&&!t(r)}return I0=n,I0}var j0,pO;function Bm(){if(pO)return j0;pO=1;var t=a8(),e=s8(),n=wd();function r(a){return n(a)?t(a):e(a)}return j0=r,j0}var $0,gO;function l8(){if(gO)return $0;gO=1;var t=W6(),e=J6(),n=Bm();function r(a){return t(a,n,e)}return $0=r,$0}var L0,vO;function u8(){if(vO)return L0;vO=1;var t=l8(),e=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,s,u,d,c,h){var m=u&e,y=t(i),_=y.length,S=t(s),A=S.length;if(_!=A&&!m)return!1;for(var T=_;T--;){var O=y[T];if(!(m?O in s:r.call(s,O)))return!1}var M=h.get(i),E=h.get(s);if(M&&E)return M==s&&E==i;var D=!0;h.set(i,s),h.set(s,i);for(var C=m;++T<_;){O=y[T];var k=i[O],P=s[O];if(d)var R=m?d(P,k,O,s,i,h):d(k,P,O,i,s,h);if(!(R===void 0?k===P||c(k,P,u,d,h):R)){D=!1;break}C||(C=O=="constructor")}if(D&&!C){var U=i.constructor,F=s.constructor;U!=F&&"constructor"in i&&"constructor"in s&&!(typeof U=="function"&&U instanceof U&&typeof F=="function"&&F instanceof F)&&(D=!1)}return h.delete(i),h.delete(s),D}return L0=a,L0}var B0,yO;function c8(){if(yO)return B0;yO=1;var t=Zo(),e=ya(),n=t(e,"DataView");return B0=n,B0}var q0,bO;function d8(){if(bO)return q0;bO=1;var t=Zo(),e=ya(),n=t(e,"Promise");return q0=n,q0}var U0,xO;function qI(){if(xO)return U0;xO=1;var t=Zo(),e=ya(),n=t(e,"Set");return U0=n,U0}var F0,_O;function f8(){if(_O)return F0;_O=1;var t=Zo(),e=ya(),n=t(e,"WeakMap");return F0=n,F0}var V0,SO;function h8(){if(SO)return V0;SO=1;var t=c8(),e=WS(),n=d8(),r=qI(),a=f8(),i=ei(),s=aI(),u="[object Map]",d="[object Object]",c="[object Promise]",h="[object Set]",m="[object WeakMap]",y="[object DataView]",_=s(t),S=s(e),A=s(n),T=s(r),O=s(a),M=i;return(t&&M(new t(new ArrayBuffer(1)))!=y||e&&M(new e)!=u||n&&M(n.resolve())!=c||r&&M(new r)!=h||a&&M(new a)!=m)&&(M=function(E){var D=i(E),C=D==d?E.constructor:void 0,k=C?s(C):"";if(k)switch(k){case _:return y;case S:return u;case A:return c;case T:return h;case O:return m}return D}),V0=M,V0}var z0,wO;function m8(){if(wO)return z0;wO=1;var t=MI(),e=RI(),n=Y6(),r=u8(),a=h8(),i=ir(),s=jI(),u=LI(),d=1,c="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,_=y.hasOwnProperty;function S(A,T,O,M,E,D){var C=i(A),k=i(T),P=C?h:a(A),R=k?h:a(T);P=P==c?m:P,R=R==c?m:R;var U=P==m,F=R==m,L=P==R;if(L&&s(A)){if(!s(T))return!1;C=!0,U=!1}if(L&&!U)return D||(D=new t),C||u(A)?e(A,T,O,M,E,D):n(A,T,P,O,M,E,D);if(!(O&d)){var G=U&&_.call(A,"__wrapped__"),Q=F&&_.call(T,"__wrapped__");if(G||Q){var H=G?A.value():A,q=Q?T.value():T;return D||(D=new t),E(H,q,O,M,D)}}return L?(D||(D=new t),r(A,T,O,M,E,D)):!1}return z0=S,z0}var G0,TO;function cw(){if(TO)return G0;TO=1;var t=m8(),e=ti();function n(r,a,i,s,u){return r===a?!0:r==null||a==null||!e(r)&&!e(a)?r!==r&&a!==a:t(r,a,i,s,n,u)}return G0=n,G0}var H0,AO;function p8(){if(AO)return H0;AO=1;var t=MI(),e=cw(),n=1,r=2;function a(i,s,u,d){var c=u.length,h=c,m=!d;if(i==null)return!h;for(i=Object(i);c--;){var y=u[c];if(m&&y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++c<h;){y=u[c];var _=y[0],S=i[_],A=y[1];if(m&&y[2]){if(S===void 0&&!(_ in i))return!1}else{var T=new t;if(d)var O=d(S,A,_,i,s,T);if(!(O===void 0?e(A,S,n|r,d,T):O))return!1}}return!0}return H0=a,H0}var K0,EO;function UI(){if(EO)return K0;EO=1;var t=Xi();function e(n){return n===n&&!t(n)}return K0=e,K0}var Y0,CO;function g8(){if(CO)return Y0;CO=1;var t=UI(),e=Bm();function n(r){for(var a=e(r),i=a.length;i--;){var s=a[i],u=r[s];a[i]=[s,u,t(u)]}return a}return Y0=n,Y0}var W0,kO;function FI(){if(kO)return W0;kO=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return W0=t,W0}var X0,OO;function v8(){if(OO)return X0;OO=1;var t=p8(),e=g8(),n=FI();function r(a){var i=e(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return X0=r,X0}var Z0,MO;function y8(){if(MO)return Z0;MO=1;function t(e,n){return e!=null&&n in Object(e)}return Z0=t,Z0}var J0,DO;function b8(){if(DO)return J0;DO=1;var t=sI(),e=sw(),n=ir(),r=lw(),a=uw(),i=Rm();function s(u,d,c){d=t(d,u);for(var h=-1,m=d.length,y=!1;++h<m;){var _=i(d[h]);if(!(y=u!=null&&c(u,_)))break;u=u[_]}return y||++h!=m?y:(m=u==null?0:u.length,!!m&&a(m)&&r(_,m)&&(n(u)||e(u)))}return J0=s,J0}var Q0,NO;function x8(){if(NO)return Q0;NO=1;var t=y8(),e=b8();function n(r,a){return r!=null&&e(r,a,t)}return Q0=n,Q0}var eb,PO;function _8(){if(PO)return eb;PO=1;var t=cw(),e=lI(),n=x8(),r=HS(),a=UI(),i=FI(),s=Rm(),u=1,d=2;function c(h,m){return r(h)&&a(m)?i(s(h),m):function(y){var _=e(y,h);return _===void 0&&_===m?n(y,h):t(m,_,u|d)}}return eb=c,eb}var tb,RO;function Kl(){if(RO)return tb;RO=1;function t(e){return e}return tb=t,tb}var nb,IO;function S8(){if(IO)return nb;IO=1;function t(e){return function(n){return n==null?void 0:n[e]}}return nb=t,nb}var rb,jO;function w8(){if(jO)return rb;jO=1;var t=JS();function e(n){return function(r){return t(r,n)}}return rb=e,rb}var ab,$O;function T8(){if($O)return ab;$O=1;var t=S8(),e=w8(),n=HS(),r=Rm();function a(i){return n(i)?t(r(i)):e(i)}return ab=a,ab}var ib,LO;function ba(){if(LO)return ib;LO=1;var t=v8(),e=_8(),n=Kl(),r=ir(),a=T8();function i(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):a(s)}return ib=i,ib}var ob,BO;function VI(){if(BO)return ob;BO=1;function t(e,n,r,a){for(var i=e.length,s=r+(a?1:-1);a?s--:++s<i;)if(n(e[s],s,e))return s;return-1}return ob=t,ob}var sb,qO;function A8(){if(qO)return sb;qO=1;function t(e){return e!==e}return sb=t,sb}var lb,UO;function E8(){if(UO)return lb;UO=1;function t(e,n,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}return lb=t,lb}var ub,FO;function C8(){if(FO)return ub;FO=1;var t=VI(),e=A8(),n=E8();function r(a,i,s){return i===i?n(a,i,s):t(a,e,s)}return ub=r,ub}var cb,VO;function k8(){if(VO)return cb;VO=1;var t=C8();function e(n,r){var a=n==null?0:n.length;return!!a&&t(n,r,0)>-1}return cb=e,cb}var db,zO;function O8(){if(zO)return db;zO=1;function t(e,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(n,e[a]))return!0;return!1}return db=t,db}var fb,GO;function M8(){if(GO)return fb;GO=1;function t(){}return fb=t,fb}var hb,HO;function D8(){if(HO)return hb;HO=1;var t=qI(),e=M8(),n=ow(),r=1/0,a=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return hb=a,hb}var mb,KO;function N8(){if(KO)return mb;KO=1;var t=DI(),e=k8(),n=O8(),r=PI(),a=D8(),i=ow(),s=200;function u(d,c,h){var m=-1,y=e,_=d.length,S=!0,A=[],T=A;if(h)S=!1,y=n;else if(_>=s){var O=c?null:a(d);if(O)return i(O);S=!1,y=r,T=new t}else T=c?[]:A;e:for(;++m<_;){var M=d[m],E=c?c(M):M;if(M=h||M!==0?M:0,S&&E===E){for(var D=T.length;D--;)if(T[D]===E)continue e;c&&T.push(E),A.push(M)}else y(T,E,h)||(T!==A&&T.push(E),A.push(M))}return A}return mb=u,mb}var pb,YO;function P8(){if(YO)return pb;YO=1;var t=ba(),e=N8();function n(r,a){return r&&r.length?e(r,t(a,2)):[]}return pb=n,pb}var R8=P8();const WO=yt(R8);function zI(t,e,n){return e===!0?WO(t,n):Ke(e)?WO(t,e):t}function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}var I8=["ref"];function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){qm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HI(r.key),r)}}function $8(t,e,n){return e&&ZO(t.prototype,e),n&&ZO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function L8(t,e,n){return e=Mh(e),B8(t,GI()?Reflect.construct(e,n||[],Mh(t).constructor):e.apply(t,n))}function B8(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q8(t)}function q8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GI=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(t)}function U8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f_(t,e)}function f_(t,e){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},f_(t,e)}function qm(t,e,n){return e=HI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HI(t){var e=F8(t,"string");return gl(e)=="symbol"?e:e+""}function F8(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function V8(t,e){if(t==null)return{};var n=z8(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G8(t){return t.value}function H8(t,e){if(J.isValidElement(t))return J.cloneElement(t,e);if(typeof t=="function")return J.createElement(t,e);e.ref;var n=V8(e,I8);return J.createElement(iw,n)}var JO=1,zi=function(t){function e(){var n;j8(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=L8(this,e,[].concat(a)),qm(n,"lastBoundingBox",{width:-1,height:-1}),n}return U8(e,t),$8(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>JO||Math.abs(a.height-this.lastBoundingBox.height)>JO)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?qa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,s=a.align,u=a.verticalAlign,d=a.margin,c=a.chartWidth,h=a.chartHeight,m,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&i==="vertical"){var _=this.getBBoxSnapshot();m={left:((c||0)-_.width)/2}}else m=s==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();y={top:((h||0)-S.height)/2}}else y=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return qa(qa({},m),y)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,s=a.width,u=a.height,d=a.wrapperStyle,c=a.payloadUniqBy,h=a.payload,m=qa(qa({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return J.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(_){r.wrapperNode=_}},H8(i,qa(qa({},this.props),{},{payload:zI(h,c,G8)})))}}],[{key:"getWithHeight",value:function(r,a){var i=qa(qa({},this.defaultProps),r.props),s=i.layout;return s==="vertical"&&Ee(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||a}:null}}])}(j.PureComponent);qm(zi,"displayName","Legend");qm(zi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gb,QO;function K8(){if(QO)return gb;QO=1;var t=xd(),e=sw(),n=ir(),r=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||e(i)||!!(r&&i&&i[r])}return gb=a,gb}var vb,eM;function KI(){if(eM)return vb;eM=1;var t=II(),e=K8();function n(r,a,i,s,u){var d=-1,c=r.length;for(i||(i=e),u||(u=[]);++d<c;){var h=r[d];a>0&&i(h)?a>1?n(h,a-1,i,s,u):t(u,h):s||(u[u.length]=h)}return u}return vb=n,vb}var yb,tM;function Y8(){if(tM)return yb;tM=1;function t(e){return function(n,r,a){for(var i=-1,s=Object(n),u=a(n),d=u.length;d--;){var c=u[e?d:++i];if(r(s[c],c,s)===!1)break}return n}}return yb=t,yb}var bb,nM;function W8(){if(nM)return bb;nM=1;var t=Y8(),e=t();return bb=e,bb}var xb,rM;function YI(){if(rM)return xb;rM=1;var t=W8(),e=Bm();function n(r,a){return r&&t(r,a,e)}return xb=n,xb}var _b,aM;function X8(){if(aM)return _b;aM=1;var t=wd();function e(n,r){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var s=a.length,u=r?s:-1,d=Object(a);(r?u--:++u<s)&&i(d[u],u,d)!==!1;);return a}}return _b=e,_b}var Sb,iM;function dw(){if(iM)return Sb;iM=1;var t=YI(),e=X8(),n=e(t);return Sb=n,Sb}var wb,oM;function WI(){if(oM)return wb;oM=1;var t=dw(),e=wd();function n(r,a){var i=-1,s=e(r)?Array(r.length):[];return t(r,function(u,d,c){s[++i]=a(u,d,c)}),s}return wb=n,wb}var Tb,sM;function Z8(){if(sM)return Tb;sM=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return Tb=t,Tb}var Ab,lM;function J8(){if(lM)return Ab;lM=1;var t=Gl();function e(n,r){if(n!==r){var a=n!==void 0,i=n===null,s=n===n,u=t(n),d=r!==void 0,c=r===null,h=r===r,m=t(r);if(!c&&!m&&!u&&n>r||u&&d&&h&&!c&&!m||i&&d&&h||!a&&h||!s)return 1;if(!i&&!u&&!m&&n<r||m&&a&&s&&!i&&!u||c&&a&&s||!d&&s||!h)return-1}return 0}return Ab=e,Ab}var Eb,uM;function Q8(){if(uM)return Eb;uM=1;var t=J8();function e(n,r,a){for(var i=-1,s=n.criteria,u=r.criteria,d=s.length,c=a.length;++i<d;){var h=t(s[i],u[i]);if(h){if(i>=c)return h;var m=a[i];return h*(m=="desc"?-1:1)}}return n.index-r.index}return Eb=e,Eb}var Cb,cM;function eF(){if(cM)return Cb;cM=1;var t=ZS(),e=JS(),n=ba(),r=WI(),a=Z8(),i=$I(),s=Q8(),u=Kl(),d=ir();function c(h,m,y){m.length?m=t(m,function(A){return d(A)?function(T){return e(T,A.length===1?A[0]:A)}:A}):m=[u];var _=-1;m=t(m,i(n));var S=r(h,function(A,T,O){var M=t(m,function(E){return E(A)});return{criteria:M,index:++_,value:A}});return a(S,function(A,T){return s(A,T,y)})}return Cb=c,Cb}var kb,dM;function tF(){if(dM)return kb;dM=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return kb=t,kb}var Ob,fM;function nF(){if(fM)return Ob;fM=1;var t=tF(),e=Math.max;function n(r,a,i){return a=e(a===void 0?r.length-1:a,0),function(){for(var s=arguments,u=-1,d=e(s.length-a,0),c=Array(d);++u<d;)c[u]=s[a+u];u=-1;for(var h=Array(a+1);++u<a;)h[u]=s[u];return h[a]=i(c),t(r,this,h)}}return Ob=n,Ob}var Mb,hM;function rF(){if(hM)return Mb;hM=1;function t(e){return function(){return e}}return Mb=t,Mb}var Db,mM;function XI(){if(mM)return Db;mM=1;var t=Zo(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Db=e,Db}var Nb,pM;function aF(){if(pM)return Nb;pM=1;var t=rF(),e=XI(),n=Kl(),r=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return Nb=r,Nb}var Pb,gM;function iF(){if(gM)return Pb;gM=1;var t=800,e=16,n=Date.now;function r(a){var i=0,s=0;return function(){var u=n(),d=e-(u-s);if(s=u,d>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Pb=r,Pb}var Rb,vM;function oF(){if(vM)return Rb;vM=1;var t=aF(),e=iF(),n=e(t);return Rb=n,Rb}var Ib,yM;function sF(){if(yM)return Ib;yM=1;var t=Kl(),e=nF(),n=oF();function r(a,i){return n(e(a,i,t),a+"")}return Ib=r,Ib}var jb,bM;function Um(){if(bM)return jb;bM=1;var t=YS(),e=wd(),n=lw(),r=Xi();function a(i,s,u){if(!r(u))return!1;var d=typeof s;return(d=="number"?e(u)&&n(s,u.length):d=="string"&&s in u)?t(u[s],i):!1}return jb=a,jb}var $b,xM;function lF(){if(xM)return $b;xM=1;var t=KI(),e=eF(),n=sF(),r=Um(),a=n(function(i,s){if(i==null)return[];var u=s.length;return u>1&&r(i,s[0],s[1])?s=[]:u>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return $b=a,$b}var uF=lF();const fw=yt(uF);function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}function cF(t,e){return mF(t)||hF(t,e)||fF(t,e)||dF()}function dF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fF(t,e){if(t){if(typeof t=="string")return _M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _M(t,e)}}function _M(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hF(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function mF(t){if(Array.isArray(t))return t}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){pF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pF(t,e,n){return e=gF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gF(t){var e=vF(t,"string");return $c(e)=="symbol"?e:e+""}function vF(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yF(t){return Array.isArray(t)&&mn(t[0])&&mn(t[1])?t.join(" ~ "):t}var bF=function(e){var n=e.separator,r=n===void 0?" : ":n,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,u=s===void 0?{}:s,d=e.labelStyle,c=d===void 0?{}:d,h=e.payload,m=e.formatter,y=e.itemSorter,_=e.wrapperClassName,S=e.labelClassName,A=e.label,T=e.labelFormatter,O=e.accessibilityLayer,M=O===void 0?!1:O,E=function(){if(h&&h.length){var G={padding:0,margin:0},Q=(y?fw(h,y):h).map(function(H,q){if(H.type==="none")return null;var $=Lb({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},u),z=H.formatter||m||yF,Z=H.value,se=H.name,B=Z,K=se;if(z&&B!=null&&K!=null){var re=z(Z,se,H,q,h);if(Array.isArray(re)){var ce=cF(re,2);B=ce[0],K=ce[1]}else B=re}return J.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:$},mn(K)?J.createElement("span",{className:"recharts-tooltip-item-name"},K):null,mn(K)?J.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,J.createElement("span",{className:"recharts-tooltip-item-value"},B),J.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return J.createElement("ul",{className:"recharts-tooltip-item-list",style:G},Q)}return null},D=Lb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=Lb({margin:0},c),k=!st(A),P=k?A:"",R=rt("recharts-default-tooltip",_),U=rt("recharts-tooltip-label",S);k&&T&&h!==void 0&&h!==null&&(P=T(A,h));var F=M?{role:"status","aria-live":"assertive"}:{};return J.createElement("div",h_({className:R,style:D},F),J.createElement("p",{className:U,style:C},J.isValidElement(P)?P:"".concat(P)),E())};function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function th(t,e,n){return e=xF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xF(t){var e=_F(t,"string");return Lc(e)=="symbol"?e:e+""}function _F(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sc="recharts-tooltip-wrapper",SF={visibility:"hidden"};function wF(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return rt(sc,th(th(th(th({},"".concat(sc,"-right"),Ee(n)&&e&&Ee(e.x)&&n>=e.x),"".concat(sc,"-left"),Ee(n)&&e&&Ee(e.x)&&n<e.x),"".concat(sc,"-bottom"),Ee(r)&&e&&Ee(e.y)&&r>=e.y),"".concat(sc,"-top"),Ee(r)&&e&&Ee(e.y)&&r<e.y))}function wM(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,c=t.viewBoxDimension;if(i&&Ee(i[r]))return i[r];var h=n[r]-u-a,m=n[r]+a;if(e[r])return s[r]?h:m;if(s[r]){var y=h,_=d[r];return y<_?Math.max(m,d[r]):Math.max(h,d[r])}var S=m+u,A=d[r]+c;return S>A?Math.max(h,d[r]):Math.max(m,d[r])}function TF(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function AF(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,c,h,m;return s.height>0&&s.width>0&&n?(h=wM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),m=wM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),c=TF({translateX:h,translateY:m,useTranslate3d:u})):c=SF,{cssProperties:c,cssClasses:wF({translateX:h,translateY:m,coordinate:n})}}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){p_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JI(r.key),r)}}function kF(t,e,n){return e&&CF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OF(t,e,n){return e=Dh(e),MF(t,ZI()?Reflect.construct(e,n||[],Dh(t).constructor):e.apply(t,n))}function MF(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DF(t)}function DF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZI=function(){return!!t})()}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dh(t)}function NF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},m_(t,e)}function p_(t,e,n){return e=JI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JI(t){var e=PF(t,"string");return vl(e)=="symbol"?e:e+""}function PF(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EM=1,RF=function(t){function e(){var n;EF(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=OF(this,e,[].concat(a)),p_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),p_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var u,d,c,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(c=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&c!==void 0?c:0}})}}),n}return NF(e,t),kF(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>EM||Math.abs(r.height-this.state.lastBoundingBox.height)>EM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,c=a.children,h=a.coordinate,m=a.hasPayload,y=a.isAnimationActive,_=a.offset,S=a.position,A=a.reverseDirection,T=a.useTranslate3d,O=a.viewBox,M=a.wrapperStyle,E=AF({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:_,position:S,reverseDirection:A,tooltipBox:this.state.lastBoundingBox,useTranslate3d:T,viewBox:O}),D=E.cssClasses,C=E.cssProperties,k=AM(AM({transition:y&&i?"transform ".concat(u,"ms ").concat(d):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},M);return J.createElement("div",{tabIndex:-1,className:D,style:k,ref:function(R){r.wrapperNode=R}},c)}}])}(j.PureComponent),IF=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Yl={isSsr:IF()};function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){hw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ej(r.key),r)}}function LF(t,e,n){return e&&$F(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BF(t,e,n){return e=Nh(e),qF(t,QI()?Reflect.construct(e,n||[],Nh(t).constructor):e.apply(t,n))}function qF(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UF(t)}function UF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QI=function(){return!!t})()}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nh(t)}function FF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g_(t,e)}function g_(t,e){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},g_(t,e)}function hw(t,e,n){return e=ej(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ej(t){var e=VF(t,"string");return yl(e)=="symbol"?e:e+""}function VF(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zF(t){return t.dataKey}function GF(t,e){return J.isValidElement(t)?J.cloneElement(t,e):typeof t=="function"?J.createElement(t,e):J.createElement(bF,e)}var Yr=function(t){function e(){return jF(this,e),BF(this,e,arguments)}return FF(e,t),LF(e,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,c=a.content,h=a.coordinate,m=a.filterNull,y=a.isAnimationActive,_=a.offset,S=a.payload,A=a.payloadUniqBy,T=a.position,O=a.reverseDirection,M=a.useTranslate3d,E=a.viewBox,D=a.wrapperStyle,C=S??[];m&&C.length&&(C=zI(S.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),A,zF));var k=C.length>0;return J.createElement(RF,{allowEscapeViewBox:s,animationDuration:u,animationEasing:d,isAnimationActive:y,active:i,coordinate:h,hasPayload:k,offset:_,position:T,reverseDirection:O,useTranslate3d:M,viewBox:E,wrapperStyle:D},GF(c,kM(kM({},this.props),{},{payload:C})))}}])}(j.PureComponent);hw(Yr,"displayName","Tooltip");hw(Yr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Yl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Bb,OM;function HF(){if(OM)return Bb;OM=1;var t=ya(),e=function(){return t.Date.now()};return Bb=e,Bb}var qb,MM;function KF(){if(MM)return qb;MM=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return qb=e,qb}var Ub,DM;function YF(){if(DM)return Ub;DM=1;var t=KF(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Ub=n,Ub}var Fb,NM;function tj(){if(NM)return Fb;NM=1;var t=YF(),e=Xi(),n=Gl(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function d(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=e(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=t(c);var m=i.test(c);return m||s.test(c)?u(c.slice(2),m?2:8):a.test(c)?r:+c}return Fb=d,Fb}var Vb,PM;function WF(){if(PM)return Vb;PM=1;var t=Xi(),e=HF(),n=tj(),r="Expected a function",a=Math.max,i=Math.min;function s(u,d,c){var h,m,y,_,S,A,T=0,O=!1,M=!1,E=!0;if(typeof u!="function")throw new TypeError(r);d=n(d)||0,t(c)&&(O=!!c.leading,M="maxWait"in c,y=M?a(n(c.maxWait)||0,d):y,E="trailing"in c?!!c.trailing:E);function D(Q){var H=h,q=m;return h=m=void 0,T=Q,_=u.apply(q,H),_}function C(Q){return T=Q,S=setTimeout(R,d),O?D(Q):_}function k(Q){var H=Q-A,q=Q-T,$=d-H;return M?i($,y-q):$}function P(Q){var H=Q-A,q=Q-T;return A===void 0||H>=d||H<0||M&&q>=y}function R(){var Q=e();if(P(Q))return U(Q);S=setTimeout(R,k(Q))}function U(Q){return S=void 0,E&&h?D(Q):(h=m=void 0,_)}function F(){S!==void 0&&clearTimeout(S),T=0,h=A=m=S=void 0}function L(){return S===void 0?_:U(e())}function G(){var Q=e(),H=P(Q);if(h=arguments,m=this,A=Q,H){if(S===void 0)return C(A);if(M)return clearTimeout(S),S=setTimeout(R,d),D(A)}return S===void 0&&(S=setTimeout(R,d)),_}return G.cancel=F,G.flush=L,G}return Vb=s,Vb}var zb,RM;function XF(){if(RM)return zb;RM=1;var t=WF(),e=Xi(),n="Expected a function";function r(a,i,s){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(n);return e(s)&&(u="leading"in s?!!s.leading:u,d="trailing"in s?!!s.trailing:d),t(a,i,{leading:u,maxWait:i,trailing:d})}return zb=r,zb}var ZF=XF();const nj=yt(ZF);function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){JF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JF(t,e,n){return e=QF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QF(t){var e=e9(t,"string");return Bc(e)=="symbol"?e:e+""}function e9(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t9(t,e){return i9(t)||a9(t,e)||r9(t,e)||n9()}function n9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9(t,e){if(t){if(typeof t=="string")return jM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jM(t,e)}}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function i9(t){if(Array.isArray(t))return t}var rj=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=t.width,s=i===void 0?"100%":i,u=t.height,d=u===void 0?"100%":u,c=t.minWidth,h=c===void 0?0:c,m=t.minHeight,y=t.maxHeight,_=t.children,S=t.debounce,A=S===void 0?0:S,T=t.id,O=t.className,M=t.onResize,E=t.style,D=E===void 0?{}:E,C=j.useRef(null),k=j.useRef();k.current=M,j.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=j.useState({containerWidth:a.width,containerHeight:a.height}),R=t9(P,2),U=R[0],F=R[1],L=j.useCallback(function(Q,H){F(function(q){var $=Math.round(Q),z=Math.round(H);return q.containerWidth===$&&q.containerHeight===z?q:{containerWidth:$,containerHeight:z}})},[]);j.useEffect(function(){var Q=function(se){var B,K=se[0].contentRect,re=K.width,ce=K.height;L(re,ce),(B=k.current)===null||B===void 0||B.call(k,re,ce)};A>0&&(Q=nj(Q,A,{trailing:!0,leading:!1}));var H=new ResizeObserver(Q),q=C.current.getBoundingClientRect(),$=q.width,z=q.height;return L($,z),H.observe(C.current),function(){H.disconnect()}},[L,A]);var G=j.useMemo(function(){var Q=U.containerWidth,H=U.containerHeight;if(Q<0||H<0)return null;Zr(Ro(s)||Ro(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,d),Zr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=Ro(s)?Q:s,$=Ro(d)?H:d;n&&n>0&&(q?$=q/n:$&&(q=$*n),y&&$>y&&($=y)),Zr(q>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,$,s,d,h,m,n);var z=!Array.isArray(_)&&Ka(_.type).endsWith("Chart");return J.Children.map(_,function(Z){return J.isValidElement(Z)?j.cloneElement(Z,nh({width:q,height:$},z?{style:nh({height:"100%",width:"100%",maxHeight:$,maxWidth:q},Z.props.style)}:{})):Z})},[n,_,d,y,m,h,U,s]);return J.createElement("div",{id:T?"".concat(T):void 0,className:rt("recharts-responsive-container",O),style:nh(nh({},D),{},{width:s,height:d,minWidth:h,minHeight:m,maxHeight:y}),ref:C},G)}),Fm=function(e){return null};Fm.displayName="Cell";function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function v_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){o9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o9(t,e,n){return e=s9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t){var e=l9(t,"string");return qc(e)=="symbol"?e:e+""}function l9(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ws={widthCache:{},cacheCount:0},u9=2e3,c9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LM="recharts_measurement_span";function d9(t){var e=v_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ec=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Yl.isSsr)return{width:0,height:0};var r=d9(n),a=JSON.stringify({text:e,copyStyle:r});if(Ws.widthCache[a])return Ws.widthCache[a];try{var i=document.getElementById(LM);i||(i=document.createElement("span"),i.setAttribute("id",LM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=v_(v_({},c9),r);Object.assign(i.style,s),i.textContent="".concat(e);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return Ws.widthCache[a]=d,++Ws.cacheCount>u9&&(Ws.cacheCount=0,Ws.widthCache={}),d}catch{return{width:0,height:0}}},f9=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function Ph(t,e){return g9(t)||p9(t,e)||m9(t,e)||h9()}function h9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m9(t,e){if(t){if(typeof t=="string")return BM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BM(t,e)}}function BM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function g9(t){if(Array.isArray(t))return t}function v9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b9(r.key),r)}}function y9(t,e,n){return e&&qM(t.prototype,e),n&&qM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b9(t){var e=x9(t,"string");return Uc(e)=="symbol"?e:e+""}function x9(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,S9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},w9=Object.keys(aj),tl="NaN";function T9(t,e){return t*aj[e]}var rh=function(){function t(e,n){v9(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!_9.test(n)&&(this.num=NaN,this.unit=""),w9.includes(n)&&(this.num=T9(e,n),this.unit="px")}return y9(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=S9.exec(n))!==null&&r!==void 0?r:[],i=Ph(a,3),s=i[1],u=i[2];return new t(parseFloat(s),u??"")}}])}();function ij(t){if(t.includes(tl))return tl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=UM.exec(e))!==null&&n!==void 0?n:[],a=Ph(r,4),i=a[1],s=a[2],u=a[3],d=rh.parse(i??""),c=rh.parse(u??""),h=s==="*"?d.multiply(c):d.divide(c);if(h.isNaN())return tl;e=e.replace(UM,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=FM.exec(e))!==null&&m!==void 0?m:[],_=Ph(y,4),S=_[1],A=_[2],T=_[3],O=rh.parse(S??""),M=rh.parse(T??""),E=A==="+"?O.add(M):O.subtract(M);if(E.isNaN())return tl;e=e.replace(FM,E.toString())}return e}var VM=/\(([^()]*)\)/;function A9(t){for(var e=t;e.includes("(");){var n=VM.exec(e),r=Ph(n,2),a=r[1];e=e.replace(VM,ij(a))}return e}function E9(t){var e=t.replace(/\s+/g,"");return e=A9(e),e=ij(e),e}function C9(t){try{return E9(t)}catch{return tl}}function Gb(t){var e=C9(t.slice(5,-1));return e===tl?"":e}var k9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],O9=["dx","dy","angle","className","breakAll"];function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y_.apply(this,arguments)}function zM(t,e){if(t==null)return{};var n=M9(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GM(t,e){return R9(t)||P9(t,e)||N9(t,e)||D9()}function D9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N9(t,e){if(t){if(typeof t=="string")return HM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HM(t,e)}}function HM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function R9(t){if(Array.isArray(t))return t}var oj=/[ \f\n\r\t\v\u2028\u2029]+/,sj=function(e){var n=e.children,r=e.breakAll,a=e.style;try{var i=[];st(n)||(r?i=n.toString().split(""):i=n.toString().split(oj));var s=i.map(function(d){return{word:d,width:Ec(d,a).width}}),u=r?0:Ec("",a).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},I9=function(e,n,r,a,i){var s=e.maxLines,u=e.children,d=e.style,c=e.breakAll,h=Ee(s),m=u,y=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function($,z){var Z=z.word,se=z.width,B=$[$.length-1];if(B&&(a==null||i||B.width+se+r<Number(a)))B.words.push(Z),B.width+=se+r;else{var K={words:[Z],width:se};$.push(K)}return $},[])},_=y(n),S=function(q){return q.reduce(function($,z){return $.width>z.width?$:z})};if(!h)return _;for(var A="",T=function(q){var $=m.slice(0,q),z=sj({breakAll:c,style:d,children:$+A}).wordsWithComputedWidth,Z=y(z),se=Z.length>s||S(Z).width>Number(a);return[se,Z]},O=0,M=m.length-1,E=0,D;O<=M&&E<=m.length-1;){var C=Math.floor((O+M)/2),k=C-1,P=T(k),R=GM(P,2),U=R[0],F=R[1],L=T(C),G=GM(L,1),Q=G[0];if(!U&&!Q&&(O=C+1),U&&Q&&(M=C-1),!U&&Q){D=F;break}E++}return D||_},KM=function(e){var n=st(e)?[]:e.toString().split(oj);return[{words:n}]},j9=function(e){var n=e.width,r=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,u=e.maxLines;if((n||r)&&!Yl.isSsr){var d,c,h=sj({breakAll:s,children:a,style:i});if(h){var m=h.wordsWithComputedWidth,y=h.spaceWidth;d=m,c=y}else return KM(a);return I9({breakAll:s,children:a,maxLines:u,style:i},d,c,n,r)}return KM(a)},YM="#808080",Vo=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,s=e.lineHeight,u=s===void 0?"1em":s,d=e.capHeight,c=d===void 0?"0.71em":d,h=e.scaleToFit,m=h===void 0?!1:h,y=e.textAnchor,_=y===void 0?"start":y,S=e.verticalAnchor,A=S===void 0?"end":S,T=e.fill,O=T===void 0?YM:T,M=zM(e,k9),E=j.useMemo(function(){return j9({breakAll:M.breakAll,children:M.children,maxLines:M.maxLines,scaleToFit:m,style:M.style,width:M.width})},[M.breakAll,M.children,M.maxLines,m,M.style,M.width]),D=M.dx,C=M.dy,k=M.angle,P=M.className,R=M.breakAll,U=zM(M,O9);if(!mn(r)||!mn(i))return null;var F=r+(Ee(D)?D:0),L=i+(Ee(C)?C:0),G;switch(A){case"start":G=Gb("calc(".concat(c,")"));break;case"middle":G=Gb("calc(".concat((E.length-1)/2," * -").concat(u," + (").concat(c," / 2))"));break;default:G=Gb("calc(".concat(E.length-1," * -").concat(u,")"));break}var Q=[];if(m){var H=E[0].width,q=M.width;Q.push("scale(".concat((Ee(q)?q/H:1)/H,")"))}return k&&Q.push("rotate(".concat(k,", ").concat(F,", ").concat(L,")")),Q.length&&(U.transform=Q.join(" ")),J.createElement("text",y_({},He(U,!0),{x:F,y:L,className:rt("recharts-text",P),textAnchor:_,fill:O.includes("url")?YM:O}),E.map(function($,z){var Z=$.words.join(R?"":" ");return J.createElement("tspan",{x:F,dy:z===0?G:u,key:"".concat(Z,"-").concat(z)},Z)}))};function Gi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $9(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mw(t){let e,n,r;t.length!==2?(e=Gi,n=(u,d)=>Gi(t(u),d),r=(u,d)=>t(u)-d):(e=t===Gi||t===$9?t:L9,n=t,r=t);function a(u,d,c=0,h=u.length){if(c<h){if(e(d,d)!==0)return h;do{const m=c+h>>>1;n(u[m],d)<0?c=m+1:h=m}while(c<h)}return c}function i(u,d,c=0,h=u.length){if(c<h){if(e(d,d)!==0)return h;do{const m=c+h>>>1;n(u[m],d)<=0?c=m+1:h=m}while(c<h)}return c}function s(u,d,c=0,h=u.length){const m=a(u,d,c,h-1);return m>c&&r(u[m-1],d)>-r(u[m],d)?m-1:m}return{left:a,center:s,right:i}}function L9(){return 0}function lj(t){return t===null?NaN:+t}function*B9(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const q9=mw(Gi),Td=q9.right;mw(lj).center;class WM extends Map{constructor(e,n=V9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(XM(this,e))}has(e){return super.has(XM(this,e))}set(e,n){return super.set(U9(this,e),n)}delete(e){return super.delete(F9(this,e))}}function XM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function U9({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function F9({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function V9(t){return t!==null&&typeof t=="object"?t.valueOf():t}function z9(t=Gi){if(t===Gi)return uj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function uj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const G9=Math.sqrt(50),H9=Math.sqrt(10),K9=Math.sqrt(2);function Rh(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=G9?10:i>=H9?5:i>=K9?2:1;let u,d,c;return a<0?(c=Math.pow(10,-a)/s,u=Math.round(t*c),d=Math.round(e*c),u/c<t&&++u,d/c>e&&--d,c=-c):(c=Math.pow(10,a)*s,u=Math.round(t/c),d=Math.round(e/c),u*c<t&&++u,d*c>e&&--d),d<u&&.5<=n&&n<2?Rh(t,e,n*2):[u,d,c]}function b_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,s]=r?Rh(e,t,n):Rh(t,e,n);if(!(i>=a))return[];const u=i-a+1,d=new Array(u);if(r)if(s<0)for(let c=0;c<u;++c)d[c]=(i-c)/-s;else for(let c=0;c<u;++c)d[c]=(i-c)*s;else if(s<0)for(let c=0;c<u;++c)d[c]=(a+c)/-s;else for(let c=0;c<u;++c)d[c]=(a+c)*s;return d}function x_(t,e,n){return e=+e,t=+t,n=+n,Rh(t,e,n)[2]}function __(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?x_(e,t,n):x_(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function ZM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function cj(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?uj:z9(a);r>n;){if(r-n>600){const d=r-n+1,c=e-n+1,h=Math.log(d),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(d-m)/d)*(c-d/2<0?-1:1),_=Math.max(n,Math.floor(e-c*m/d+y)),S=Math.min(r,Math.floor(e+(d-c)*m/d+y));cj(t,e,_,S,a)}const i=t[e];let s=n,u=r;for(lc(t,n,e),a(t[r],i)>0&&lc(t,n,r);s<u;){for(lc(t,s,u),++s,--u;a(t[s],i)<0;)++s;for(;a(t[u],i)>0;)--u}a(t[n],i)===0?lc(t,n,u):(++u,lc(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function lc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Y9(t,e,n){if(t=Float64Array.from(B9(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return JM(t);if(e>=1)return ZM(t);var r,a=(r-1)*e,i=Math.floor(a),s=ZM(cj(t,i).subarray(0,i+1)),u=JM(t.subarray(i+1));return s+(u-s)*(a-i)}}function W9(t,e,n=lj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),s=+n(t[i],i,t),u=+n(t[i+1],i+1,t);return s+(u-s)*(a-i)}}function X9(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function jr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ni(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const S_=Symbol("implicit");function pw(){var t=new WM,e=[],n=[],r=S_;function a(i){let s=t.get(i);if(s===void 0){if(r!==S_)return r;t.set(i,s=e.push(i)-1)}return n[s%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new WM;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return pw(e,n).unknown(r)},jr.apply(a,arguments),a}function Fc(){var t=pw().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,s,u=!1,d=0,c=0,h=.5;delete t.unknown;function m(){var y=e().length,_=a<r,S=_?a:r,A=_?r:a;i=(A-S)/Math.max(1,y-d+c*2),u&&(i=Math.floor(i)),S+=(A-S-i*(y-d))*h,s=i*(1-d),u&&(S=Math.round(S),s=Math.round(s));var T=X9(y).map(function(O){return S+i*O});return n(_?T.reverse():T)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([r,a]=y,r=+r,a=+a,m()):[r,a]},t.rangeRound=function(y){return[r,a]=y,r=+r,a=+a,u=!0,m()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(y){return arguments.length?(u=!!y,m()):u},t.padding=function(y){return arguments.length?(d=Math.min(1,c=+y),m()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},t.paddingOuter=function(y){return arguments.length?(c=+y,m()):c},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},t.copy=function(){return Fc(e(),[r,a]).round(u).paddingInner(d).paddingOuter(c).align(h)},jr.apply(m(),arguments)}function dj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dj(e())},t}function Cc(){return dj(Fc.apply(null,arguments).paddingInner(1))}function gw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ad(){}var Vc=.7,Ih=1/Vc,ul="\\s*([+-]?\\d+)\\s*",zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z9=/^#([0-9a-f]{3,8})$/,J9=new RegExp(`^rgb\\(${ul},${ul},${ul}\\)$`),Q9=new RegExp(`^rgb\\(${fa},${fa},${fa}\\)$`),eV=new RegExp(`^rgba\\(${ul},${ul},${ul},${zc}\\)$`),tV=new RegExp(`^rgba\\(${fa},${fa},${fa},${zc}\\)$`),nV=new RegExp(`^hsl\\(${zc},${fa},${fa}\\)$`),rV=new RegExp(`^hsla\\(${zc},${fa},${fa},${zc}\\)$`),QM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gw(Ad,Gc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eD,formatHex:eD,formatHex8:aV,formatHsl:iV,formatRgb:tD,toString:tD});function eD(){return this.rgb().formatHex()}function aV(){return this.rgb().formatHex8()}function iV(){return hj(this).formatHsl()}function tD(){return this.rgb().formatRgb()}function Gc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Z9.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?nD(e):n===3?new ar(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ah(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ah(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=J9.exec(t))?new ar(e[1],e[2],e[3],1):(e=Q9.exec(t))?new ar(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eV.exec(t))?ah(e[1],e[2],e[3],e[4]):(e=tV.exec(t))?ah(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nV.exec(t))?iD(e[1],e[2]/100,e[3]/100,1):(e=rV.exec(t))?iD(e[1],e[2]/100,e[3]/100,e[4]):QM.hasOwnProperty(t)?nD(QM[t]):t==="transparent"?new ar(NaN,NaN,NaN,0):null}function nD(t){return new ar(t>>16&255,t>>8&255,t&255,1)}function ah(t,e,n,r){return r<=0&&(t=e=n=NaN),new ar(t,e,n,r)}function oV(t){return t instanceof Ad||(t=Gc(t)),t?(t=t.rgb(),new ar(t.r,t.g,t.b,t.opacity)):new ar}function w_(t,e,n,r){return arguments.length===1?oV(t):new ar(t,e,n,r??1)}function ar(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}gw(ar,w_,fj(Ad,{brighter(t){return t=t==null?Ih:Math.pow(Ih,t),new ar(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vc:Math.pow(Vc,t),new ar(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ar(Lo(this.r),Lo(this.g),Lo(this.b),jh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rD,formatHex:rD,formatHex8:sV,formatRgb:aD,toString:aD}));function rD(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}`}function sV(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}${Io((isNaN(this.opacity)?1:this.opacity)*255)}`}function aD(){const t=jh(this.opacity);return`${t===1?"rgb(":"rgba("}${Lo(this.r)}, ${Lo(this.g)}, ${Lo(this.b)}${t===1?")":`, ${t})`}`}function jh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Lo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Io(t){return t=Lo(t),(t<16?"0":"")+t.toString(16)}function iD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xr(t,e,n,r)}function hj(t){if(t instanceof Xr)return new Xr(t.h,t.s,t.l,t.opacity);if(t instanceof Ad||(t=Gc(t)),!t)return new Xr;if(t instanceof Xr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,u=i-a,d=(i+a)/2;return u?(e===i?s=(n-r)/u+(n<r)*6:n===i?s=(r-e)/u+2:s=(e-n)/u+4,u/=d<.5?i+a:2-i-a,s*=60):u=d>0&&d<1?0:s,new Xr(s,u,d,t.opacity)}function lV(t,e,n,r){return arguments.length===1?hj(t):new Xr(t,e,n,r??1)}function Xr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}gw(Xr,lV,fj(Ad,{brighter(t){return t=t==null?Ih:Math.pow(Ih,t),new Xr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vc:Math.pow(Vc,t),new Xr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new ar(Hb(t>=240?t-240:t+120,a,r),Hb(t,a,r),Hb(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Xr(oD(this.h),ih(this.s),ih(this.l),jh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jh(this.opacity);return`${t===1?"hsl(":"hsla("}${oD(this.h)}, ${ih(this.s)*100}%, ${ih(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oD(t){return t=(t||0)%360,t<0?t+360:t}function ih(t){return Math.max(0,Math.min(1,t||0))}function Hb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const vw=t=>()=>t;function uV(t,e){return function(n){return t+n*e}}function cV(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function dV(t){return(t=+t)==1?mj:function(e,n){return n-e?cV(e,n,t):vw(isNaN(e)?n:e)}}function mj(t,e){var n=e-t;return n?uV(t,n):vw(isNaN(t)?e:t)}const sD=function t(e){var n=dV(e);function r(a,i){var s=n((a=w_(a)).r,(i=w_(i)).r),u=n(a.g,i.g),d=n(a.b,i.b),c=mj(a.opacity,i.opacity);return function(h){return a.r=s(h),a.g=u(h),a.b=d(h),a.opacity=c(h),a+""}}return r.gamma=t,r}(1);function fV(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function hV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mV(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)a[s]=Wl(t[s],e[s]);for(;s<n;++s)i[s]=e[s];return function(u){for(s=0;s<r;++s)i[s]=a[s](u);return i}}function pV(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $h(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gV(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Wl(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var T_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kb=new RegExp(T_.source,"g");function vV(t){return function(){return t}}function yV(t){return function(e){return t(e)+""}}function bV(t,e){var n=T_.lastIndex=Kb.lastIndex=0,r,a,i,s=-1,u=[],d=[];for(t=t+"",e=e+"";(r=T_.exec(t))&&(a=Kb.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),u[s]?u[s]+=i:u[++s]=i),(r=r[0])===(a=a[0])?u[s]?u[s]+=a:u[++s]=a:(u[++s]=null,d.push({i:s,x:$h(r,a)})),n=Kb.lastIndex;return n<e.length&&(i=e.slice(n),u[s]?u[s]+=i:u[++s]=i),u.length<2?d[0]?yV(d[0].x):vV(e):(e=d.length,function(c){for(var h=0,m;h<e;++h)u[(m=d[h]).i]=m.x(c);return u.join("")})}function Wl(t,e){var n=typeof e,r;return e==null||n==="boolean"?vw(e):(n==="number"?$h:n==="string"?(r=Gc(e))?(e=r,sD):bV:e instanceof Gc?sD:e instanceof Date?pV:hV(e)?fV:Array.isArray(e)?mV:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gV:$h)(t,e)}function yw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function xV(t,e){e===void 0&&(e=t,t=Wl);for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return i[u](s-u)}}function _V(t){return function(){return t}}function Lh(t){return+t}var lD=[0,1];function Hn(t){return t}function A_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_V(isNaN(e)?NaN:.5)}function SV(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function wV(t,e,n){var r=t[0],a=t[1],i=e[0],s=e[1];return a<r?(r=A_(a,r),i=n(s,i)):(r=A_(r,a),i=n(i,s)),function(u){return i(r(u))}}function TV(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=A_(t[s],t[s+1]),i[s]=n(e[s],e[s+1]);return function(u){var d=Td(t,u,1,r)-1;return i[d](a[d](u))}}function Ed(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vm(){var t=lD,e=lD,n=Wl,r,a,i,s=Hn,u,d,c;function h(){var y=Math.min(t.length,e.length);return s!==Hn&&(s=SV(t[0],t[y-1])),u=y>2?TV:wV,d=c=null,m}function m(y){return y==null||isNaN(y=+y)?i:(d||(d=u(t.map(r),e,n)))(r(s(y)))}return m.invert=function(y){return s(a((c||(c=u(e,t.map(r),$h)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,Lh),h()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),n=yw,h()},m.clamp=function(y){return arguments.length?(s=y?!0:Hn,h()):s!==Hn},m.interpolate=function(y){return arguments.length?(n=y,h()):n},m.unknown=function(y){return arguments.length?(i=y,m):i},function(y,_){return r=y,a=_,h()}}function bw(){return Vm()(Hn,Hn)}function AV(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function bl(t){return t=Bh(Math.abs(t)),t?t[1]:NaN}function EV(t,e){return function(n,r){for(var a=n.length,i=[],s=0,u=t[0],d=0;a>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),i.push(n.substring(a-=u,a+u)),!((d+=u+1)>r));)u=t[s=(s+1)%t.length];return i.reverse().join(e)}}function CV(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var kV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hc(t){if(!(e=kV.exec(t)))throw new Error("invalid format: "+t);var e;return new xw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Hc.prototype=xw.prototype;function xw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OV(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var pj;function MV(t,e){var n=Bh(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(pj=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Bh(t,Math.max(0,e+i-1))[0]}function uD(t,e){var n=Bh(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const cD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:AV,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uD(t*100,e),r:uD,s:MV,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dD(t){return t}var fD=Array.prototype.map,hD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function DV(t){var e=t.grouping===void 0||t.thousands===void 0?dD:EV(fD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?dD:CV(fD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function c(m){m=Hc(m);var y=m.fill,_=m.align,S=m.sign,A=m.symbol,T=m.zero,O=m.width,M=m.comma,E=m.precision,D=m.trim,C=m.type;C==="n"?(M=!0,C="g"):cD[C]||(E===void 0&&(E=12),D=!0,C="g"),(T||y==="0"&&_==="=")&&(T=!0,y="0",_="=");var k=A==="$"?n:A==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=A==="$"?r:/[%p]/.test(C)?s:"",R=cD[C],U=/[defgprs%]/.test(C);E=E===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function F(L){var G=k,Q=P,H,q,$;if(C==="c")Q=R(L)+Q,L="";else{L=+L;var z=L<0||1/L<0;if(L=isNaN(L)?d:R(Math.abs(L),E),D&&(L=OV(L)),z&&+L==0&&S!=="+"&&(z=!1),G=(z?S==="("?S:u:S==="-"||S==="("?"":S)+G,Q=(C==="s"?hD[8+pj/3]:"")+Q+(z&&S==="("?")":""),U){for(H=-1,q=L.length;++H<q;)if($=L.charCodeAt(H),48>$||$>57){Q=($===46?a+L.slice(H+1):L.slice(H))+Q,L=L.slice(0,H);break}}}M&&!T&&(L=e(L,1/0));var Z=G.length+L.length+Q.length,se=Z<O?new Array(O-Z+1).join(y):"";switch(M&&T&&(L=e(se+L,se.length?O-Q.length:1/0),se=""),_){case"<":L=G+L+Q+se;break;case"=":L=G+se+L+Q;break;case"^":L=se.slice(0,Z=se.length>>1)+G+L+Q+se.slice(Z);break;default:L=se+G+L+Q;break}return i(L)}return F.toString=function(){return m+""},F}function h(m,y){var _=c((m=Hc(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(bl(y)/3)))*3,A=Math.pow(10,-S),T=hD[8+S/3];return function(O){return _(A*O)+T}}return{format:c,formatPrefix:h}}var oh,_w,gj;NV({thousands:",",grouping:[3],currency:["$",""]});function NV(t){return oh=DV(t),_w=oh.format,gj=oh.formatPrefix,oh}function PV(t){return Math.max(0,-bl(Math.abs(t)))}function RV(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bl(e)/3)))*3-bl(Math.abs(t)))}function IV(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bl(e)-bl(t))+1}function vj(t,e,n,r){var a=__(t,e,n),i;switch(r=Hc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=RV(a,s))&&(r.precision=i),gj(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=IV(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=PV(a))&&(r.precision=i-(r.type==="%")*2);break}}return _w(r)}function Zi(t){var e=t.domain;return t.ticks=function(n){var r=e();return b_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return vj(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,s=r[a],u=r[i],d,c,h=10;for(u<s&&(c=s,s=u,u=c,c=a,a=i,i=c);h-- >0;){if(c=x_(s,u,n),c===d)return r[a]=s,r[i]=u,e(r);if(c>0)s=Math.floor(s/c)*c,u=Math.ceil(u/c)*c;else if(c<0)s=Math.ceil(s*c)/c,u=Math.floor(u*c)/c;else break;d=c}return t},t}function qh(){var t=bw();return t.copy=function(){return Ed(t,qh())},jr.apply(t,arguments),Zi(t)}function yj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Lh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return yj(t).unknown(e)},t=arguments.length?Array.from(t,Lh):[0,1],Zi(n)}function bj(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],s;return i<a&&(s=n,n=r,r=s,s=a,a=i,i=s),t[n]=e.floor(a),t[r]=e.ceil(i),t}function mD(t){return Math.log(t)}function pD(t){return Math.exp(t)}function jV(t){return-Math.log(-t)}function $V(t){return-Math.exp(-t)}function LV(t){return isFinite(t)?+("1e"+t):t<0?0:t}function BV(t){return t===10?LV:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qV(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gD(t){return(e,n)=>-t(-e,n)}function Sw(t){const e=t(mD,pD),n=e.domain;let r=10,a,i;function s(){return a=qV(r),i=BV(r),n()[0]<0?(a=gD(a),i=gD(i),t(jV,$V)):t(mD,pD),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const d=n();let c=d[0],h=d[d.length-1];const m=h<c;m&&([c,h]=[h,c]);let y=a(c),_=a(h),S,A;const T=u==null?10:+u;let O=[];if(!(r%1)&&_-y<T){if(y=Math.floor(y),_=Math.ceil(_),c>0){for(;y<=_;++y)for(S=1;S<r;++S)if(A=y<0?S/i(-y):S*i(y),!(A<c)){if(A>h)break;O.push(A)}}else for(;y<=_;++y)for(S=r-1;S>=1;--S)if(A=y>0?S/i(-y):S*i(y),!(A<c)){if(A>h)break;O.push(A)}O.length*2<T&&(O=b_(c,h,T))}else O=b_(y,_,Math.min(_-y,T)).map(i);return m?O.reverse():O},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Hc(d)).precision==null&&(d.trim=!0),d=_w(d)),u===1/0)return d;const c=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/i(Math.round(a(h)));return m*r<r-.5&&(m*=r),m<=c?d(h):""}},e.nice=()=>n(bj(n(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),e}function xj(){const t=Sw(Vm()).domain([1,10]);return t.copy=()=>Ed(t,xj()).base(t.base()),jr.apply(t,arguments),t}function vD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ww(t){var e=1,n=t(vD(e),yD(e));return n.constant=function(r){return arguments.length?t(vD(e=+r),yD(e)):e},Zi(n)}function _j(){var t=ww(Vm());return t.copy=function(){return Ed(t,_j()).constant(t.constant())},jr.apply(t,arguments)}function bD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function UV(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function FV(t){return t<0?-t*t:t*t}function Tw(t){var e=t(Hn,Hn),n=1;function r(){return n===1?t(Hn,Hn):n===.5?t(UV,FV):t(bD(n),bD(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Zi(e)}function Aw(){var t=Tw(Vm());return t.copy=function(){return Ed(t,Aw()).exponent(t.exponent())},jr.apply(t,arguments),t}function VV(){return Aw.apply(null,arguments).exponent(.5)}function xD(t){return Math.sign(t)*t*t}function zV(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Sj(){var t=bw(),e=[0,1],n=!1,r;function a(i){var s=zV(t(i));return isNaN(s)?r:n?Math.round(s):s}return a.invert=function(i){return t.invert(xD(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Lh)).map(xD)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Sj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},jr.apply(a,arguments),Zi(a)}function wj(){var t=[],e=[],n=[],r;function a(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=W9(t,s/u);return i}function i(s){return s==null||isNaN(s=+s)?r:e[Td(n,s)]}return i.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Gi),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return wj().domain(t).range(e).unknown(r)},jr.apply(i,arguments)}function Tj(){var t=0,e=1,n=1,r=[.5],a=[0,1],i;function s(d){return d!=null&&d<=d?a[Td(r,d,0,n)]:i}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return s}return s.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},s.range=function(d){return arguments.length?(n=(a=Array.from(d)).length-1,u()):a.slice()},s.invertExtent=function(d){var c=a.indexOf(d);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(d){return arguments.length&&(i=d),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Tj().domain([t,e]).range(a).unknown(i)},jr.apply(Zi(s),arguments)}function Aj(){var t=[.5],e=[0,1],n,r=1;function a(i){return i!=null&&i<=i?e[Td(t,i,0,r)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Aj().domain(t).range(e).unknown(n)},jr.apply(a,arguments)}const Yb=new Date,Wb=new Date;function pn(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),u=a.ceil(i);return i-s<u-i?s:u},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,u)=>{const d=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<s)||!(u>0))return d;let c;do d.push(c=new Date(+i)),e(i,u),t(i);while(c<i&&i<s);return d},a.filter=i=>pn(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!i(s););else for(;--u>=0;)for(;e(s,1),!i(s););}),n&&(a.count=(i,s)=>(Yb.setTime(+i),Wb.setTime(+s),t(Yb),t(Wb),Math.floor(n(Yb,Wb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?s=>r(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Uh=pn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Uh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?pn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Uh);Uh.range;const za=1e3,Pr=za*60,Ga=Pr*60,Wa=Ga*24,Ew=Wa*7,_D=Wa*30,Xb=Wa*365,jo=pn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*za)},(t,e)=>(e-t)/za,t=>t.getUTCSeconds());jo.range;const Cw=pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*za)},(t,e)=>{t.setTime(+t+e*Pr)},(t,e)=>(e-t)/Pr,t=>t.getMinutes());Cw.range;const kw=pn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Pr)},(t,e)=>(e-t)/Pr,t=>t.getUTCMinutes());kw.range;const Ow=pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*za-t.getMinutes()*Pr)},(t,e)=>{t.setTime(+t+e*Ga)},(t,e)=>(e-t)/Ga,t=>t.getHours());Ow.range;const Mw=pn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ga)},(t,e)=>(e-t)/Ga,t=>t.getUTCHours());Mw.range;const Cd=pn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pr)/Wa,t=>t.getDate()-1);Cd.range;const zm=pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wa,t=>t.getUTCDate()-1);zm.range;const Ej=pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wa,t=>Math.floor(t/Wa));Ej.range;function Jo(t){return pn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Pr)/Ew)}const Gm=Jo(0),Fh=Jo(1),GV=Jo(2),HV=Jo(3),xl=Jo(4),KV=Jo(5),YV=Jo(6);Gm.range;Fh.range;GV.range;HV.range;xl.range;KV.range;YV.range;function Qo(t){return pn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ew)}const Hm=Qo(0),Vh=Qo(1),WV=Qo(2),XV=Qo(3),_l=Qo(4),ZV=Qo(5),JV=Qo(6);Hm.range;Vh.range;WV.range;XV.range;_l.range;ZV.range;JV.range;const Dw=pn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Dw.range;const Nw=pn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Nw.range;const Xa=pn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Xa.range;const Za=pn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Za.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Za.range;function Cj(t,e,n,r,a,i){const s=[[jo,1,za],[jo,5,5*za],[jo,15,15*za],[jo,30,30*za],[i,1,Pr],[i,5,5*Pr],[i,15,15*Pr],[i,30,30*Pr],[a,1,Ga],[a,3,3*Ga],[a,6,6*Ga],[a,12,12*Ga],[r,1,Wa],[r,2,2*Wa],[n,1,Ew],[e,1,_D],[e,3,3*_D],[t,1,Xb]];function u(c,h,m){const y=h<c;y&&([c,h]=[h,c]);const _=m&&typeof m.range=="function"?m:d(c,h,m),S=_?_.range(c,+h+1):[];return y?S.reverse():S}function d(c,h,m){const y=Math.abs(h-c)/m,_=mw(([,,T])=>T).right(s,y);if(_===s.length)return t.every(__(c/Xb,h/Xb,m));if(_===0)return Uh.every(Math.max(__(c,h,m),1));const[S,A]=s[y/s[_-1][2]<s[_][2]/y?_-1:_];return S.every(A)}return[u,d]}const[QV,e7]=Cj(Za,Nw,Hm,Ej,Mw,kw),[t7,n7]=Cj(Xa,Dw,Gm,Cd,Ow,Cw);function Zb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Jb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function uc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function r7(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,s=t.shortDays,u=t.months,d=t.shortMonths,c=cc(a),h=dc(a),m=cc(i),y=dc(i),_=cc(s),S=dc(s),A=cc(u),T=dc(u),O=cc(d),M=dc(d),E={a:z,A:Z,b:se,B,c:null,d:CD,e:CD,f:E7,g:j7,G:L7,H:w7,I:T7,j:A7,L:kj,m:C7,M:k7,p:K,q:re,Q:MD,s:DD,S:O7,u:M7,U:D7,V:N7,w:P7,W:R7,x:null,X:null,y:I7,Y:$7,Z:B7,"%":OD},D={a:ce,A:_e,b:pe,B:ke,c:null,d:kD,e:kD,f:V7,g:Q7,G:tz,H:q7,I:U7,j:F7,L:Mj,m:z7,M:G7,p:ut,q:Ve,Q:MD,s:DD,S:H7,u:K7,U:Y7,V:W7,w:X7,W:Z7,x:null,X:null,y:J7,Y:ez,Z:nz,"%":OD},C={a:F,A:L,b:G,B:Q,c:H,d:AD,e:AD,f:b7,g:TD,G:wD,H:ED,I:ED,j:p7,L:y7,m:m7,M:g7,p:U,q:h7,Q:_7,s:S7,S:v7,u:l7,U:u7,V:c7,w:s7,W:d7,x:q,X:$,y:TD,Y:wD,Z:f7,"%":x7};E.x=k(n,E),E.X=k(r,E),E.c=k(e,E),D.x=k(n,D),D.X=k(r,D),D.c=k(e,D);function k(Ae,je){return function(qe){var ve=[],pt=-1,Qe=0,Xe=Ae.length,Dt,dt,or;for(qe instanceof Date||(qe=new Date(+qe));++pt<Xe;)Ae.charCodeAt(pt)===37&&(ve.push(Ae.slice(Qe,pt)),(dt=SD[Dt=Ae.charAt(++pt)])!=null?Dt=Ae.charAt(++pt):dt=Dt==="e"?" ":"0",(or=je[Dt])&&(Dt=or(qe,dt)),ve.push(Dt),Qe=pt+1);return ve.push(Ae.slice(Qe,pt)),ve.join("")}}function P(Ae,je){return function(qe){var ve=uc(1900,void 0,1),pt=R(ve,Ae,qe+="",0),Qe,Xe;if(pt!=qe.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(je&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Qe=Jb(uc(ve.y,0,1)),Xe=Qe.getUTCDay(),Qe=Xe>4||Xe===0?Vh.ceil(Qe):Vh(Qe),Qe=zm.offset(Qe,(ve.V-1)*7),ve.y=Qe.getUTCFullYear(),ve.m=Qe.getUTCMonth(),ve.d=Qe.getUTCDate()+(ve.w+6)%7):(Qe=Zb(uc(ve.y,0,1)),Xe=Qe.getDay(),Qe=Xe>4||Xe===0?Fh.ceil(Qe):Fh(Qe),Qe=Cd.offset(Qe,(ve.V-1)*7),ve.y=Qe.getFullYear(),ve.m=Qe.getMonth(),ve.d=Qe.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),Xe="Z"in ve?Jb(uc(ve.y,0,1)).getUTCDay():Zb(uc(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(Xe+5)%7:ve.w+ve.U*7-(Xe+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,Jb(ve)):Zb(ve)}}function R(Ae,je,qe,ve){for(var pt=0,Qe=je.length,Xe=qe.length,Dt,dt;pt<Qe;){if(ve>=Xe)return-1;if(Dt=je.charCodeAt(pt++),Dt===37){if(Dt=je.charAt(pt++),dt=C[Dt in SD?je.charAt(pt++):Dt],!dt||(ve=dt(Ae,qe,ve))<0)return-1}else if(Dt!=qe.charCodeAt(ve++))return-1}return ve}function U(Ae,je,qe){var ve=c.exec(je.slice(qe));return ve?(Ae.p=h.get(ve[0].toLowerCase()),qe+ve[0].length):-1}function F(Ae,je,qe){var ve=_.exec(je.slice(qe));return ve?(Ae.w=S.get(ve[0].toLowerCase()),qe+ve[0].length):-1}function L(Ae,je,qe){var ve=m.exec(je.slice(qe));return ve?(Ae.w=y.get(ve[0].toLowerCase()),qe+ve[0].length):-1}function G(Ae,je,qe){var ve=O.exec(je.slice(qe));return ve?(Ae.m=M.get(ve[0].toLowerCase()),qe+ve[0].length):-1}function Q(Ae,je,qe){var ve=A.exec(je.slice(qe));return ve?(Ae.m=T.get(ve[0].toLowerCase()),qe+ve[0].length):-1}function H(Ae,je,qe){return R(Ae,e,je,qe)}function q(Ae,je,qe){return R(Ae,n,je,qe)}function $(Ae,je,qe){return R(Ae,r,je,qe)}function z(Ae){return s[Ae.getDay()]}function Z(Ae){return i[Ae.getDay()]}function se(Ae){return d[Ae.getMonth()]}function B(Ae){return u[Ae.getMonth()]}function K(Ae){return a[+(Ae.getHours()>=12)]}function re(Ae){return 1+~~(Ae.getMonth()/3)}function ce(Ae){return s[Ae.getUTCDay()]}function _e(Ae){return i[Ae.getUTCDay()]}function pe(Ae){return d[Ae.getUTCMonth()]}function ke(Ae){return u[Ae.getUTCMonth()]}function ut(Ae){return a[+(Ae.getUTCHours()>=12)]}function Ve(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var je=k(Ae+="",E);return je.toString=function(){return Ae},je},parse:function(Ae){var je=P(Ae+="",!1);return je.toString=function(){return Ae},je},utcFormat:function(Ae){var je=k(Ae+="",D);return je.toString=function(){return Ae},je},utcParse:function(Ae){var je=P(Ae+="",!0);return je.toString=function(){return Ae},je}}}var SD={"-":"",_:" ",0:"0"},An=/^\s*\d+/,a7=/^%/,i7=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function o7(t){return t.replace(i7,"\\$&")}function cc(t){return new RegExp("^(?:"+t.map(o7).join("|")+")","i")}function dc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function s7(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function l7(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function u7(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function c7(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function d7(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function wD(t,e,n){var r=An.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function TD(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function f7(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function h7(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function m7(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function AD(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function p7(t,e,n){var r=An.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ED(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function g7(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function v7(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function y7(t,e,n){var r=An.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function b7(t,e,n){var r=An.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function x7(t,e,n){var r=a7.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _7(t,e,n){var r=An.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function S7(t,e,n){var r=An.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function CD(t,e){return mt(t.getDate(),e,2)}function w7(t,e){return mt(t.getHours(),e,2)}function T7(t,e){return mt(t.getHours()%12||12,e,2)}function A7(t,e){return mt(1+Cd.count(Xa(t),t),e,3)}function kj(t,e){return mt(t.getMilliseconds(),e,3)}function E7(t,e){return kj(t,e)+"000"}function C7(t,e){return mt(t.getMonth()+1,e,2)}function k7(t,e){return mt(t.getMinutes(),e,2)}function O7(t,e){return mt(t.getSeconds(),e,2)}function M7(t){var e=t.getDay();return e===0?7:e}function D7(t,e){return mt(Gm.count(Xa(t)-1,t),e,2)}function Oj(t){var e=t.getDay();return e>=4||e===0?xl(t):xl.ceil(t)}function N7(t,e){return t=Oj(t),mt(xl.count(Xa(t),t)+(Xa(t).getDay()===4),e,2)}function P7(t){return t.getDay()}function R7(t,e){return mt(Fh.count(Xa(t)-1,t),e,2)}function I7(t,e){return mt(t.getFullYear()%100,e,2)}function j7(t,e){return t=Oj(t),mt(t.getFullYear()%100,e,2)}function $7(t,e){return mt(t.getFullYear()%1e4,e,4)}function L7(t,e){var n=t.getDay();return t=n>=4||n===0?xl(t):xl.ceil(t),mt(t.getFullYear()%1e4,e,4)}function B7(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function kD(t,e){return mt(t.getUTCDate(),e,2)}function q7(t,e){return mt(t.getUTCHours(),e,2)}function U7(t,e){return mt(t.getUTCHours()%12||12,e,2)}function F7(t,e){return mt(1+zm.count(Za(t),t),e,3)}function Mj(t,e){return mt(t.getUTCMilliseconds(),e,3)}function V7(t,e){return Mj(t,e)+"000"}function z7(t,e){return mt(t.getUTCMonth()+1,e,2)}function G7(t,e){return mt(t.getUTCMinutes(),e,2)}function H7(t,e){return mt(t.getUTCSeconds(),e,2)}function K7(t){var e=t.getUTCDay();return e===0?7:e}function Y7(t,e){return mt(Hm.count(Za(t)-1,t),e,2)}function Dj(t){var e=t.getUTCDay();return e>=4||e===0?_l(t):_l.ceil(t)}function W7(t,e){return t=Dj(t),mt(_l.count(Za(t),t)+(Za(t).getUTCDay()===4),e,2)}function X7(t){return t.getUTCDay()}function Z7(t,e){return mt(Vh.count(Za(t)-1,t),e,2)}function J7(t,e){return mt(t.getUTCFullYear()%100,e,2)}function Q7(t,e){return t=Dj(t),mt(t.getUTCFullYear()%100,e,2)}function ez(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function tz(t,e){var n=t.getUTCDay();return t=n>=4||n===0?_l(t):_l.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function nz(){return"+0000"}function OD(){return"%"}function MD(t){return+t}function DD(t){return Math.floor(+t/1e3)}var Xs,Nj,Pj;rz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rz(t){return Xs=r7(t),Nj=Xs.format,Xs.parse,Pj=Xs.utcFormat,Xs.utcParse,Xs}function az(t){return new Date(t)}function iz(t){return t instanceof Date?+t:+new Date(+t)}function Pw(t,e,n,r,a,i,s,u,d,c){var h=bw(),m=h.invert,y=h.domain,_=c(".%L"),S=c(":%S"),A=c("%I:%M"),T=c("%I %p"),O=c("%a %d"),M=c("%b %d"),E=c("%B"),D=c("%Y");function C(k){return(d(k)<k?_:u(k)<k?S:s(k)<k?A:i(k)<k?T:r(k)<k?a(k)<k?O:M:n(k)<k?E:D)(k)}return h.invert=function(k){return new Date(m(k))},h.domain=function(k){return arguments.length?y(Array.from(k,iz)):y().map(az)},h.ticks=function(k){var P=y();return t(P[0],P[P.length-1],k??10)},h.tickFormat=function(k,P){return P==null?C:c(P)},h.nice=function(k){var P=y();return(!k||typeof k.range!="function")&&(k=e(P[0],P[P.length-1],k??10)),k?y(bj(P,k)):h},h.copy=function(){return Ed(h,Pw(t,e,n,r,a,i,s,u,d,c))},h}function oz(){return jr.apply(Pw(t7,n7,Xa,Dw,Gm,Cd,Ow,Cw,jo,Nj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sz(){return jr.apply(Pw(QV,e7,Za,Nw,Hm,zm,Mw,kw,jo,Pj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Km(){var t=0,e=1,n,r,a,i,s=Hn,u=!1,d;function c(m){return m==null||isNaN(m=+m)?d:s(a===0?.5:(m=(i(m)-n)*a,u?Math.max(0,Math.min(1,m)):m))}c.domain=function(m){return arguments.length?([t,e]=m,n=i(t=+t),r=i(e=+e),a=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(m){return arguments.length?(u=!!m,c):u},c.interpolator=function(m){return arguments.length?(s=m,c):s};function h(m){return function(y){var _,S;return arguments.length?([_,S]=y,s=m(_,S),c):[s(0),s(1)]}}return c.range=h(Wl),c.rangeRound=h(yw),c.unknown=function(m){return arguments.length?(d=m,c):d},function(m){return i=m,n=m(t),r=m(e),a=n===r?0:1/(r-n),c}}function Ji(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Rj(){var t=Zi(Km()(Hn));return t.copy=function(){return Ji(t,Rj())},ni.apply(t,arguments)}function Ij(){var t=Sw(Km()).domain([1,10]);return t.copy=function(){return Ji(t,Ij()).base(t.base())},ni.apply(t,arguments)}function jj(){var t=ww(Km());return t.copy=function(){return Ji(t,jj()).constant(t.constant())},ni.apply(t,arguments)}function Rw(){var t=Tw(Km());return t.copy=function(){return Ji(t,Rw()).exponent(t.exponent())},ni.apply(t,arguments)}function lz(){return Rw.apply(null,arguments).exponent(.5)}function $j(){var t=[],e=Hn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Td(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Gi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>Y9(t,i/r))},n.copy=function(){return $j(e).domain(t)},ni.apply(n,arguments)}function Ym(){var t=0,e=.5,n=1,r=1,a,i,s,u,d,c=Hn,h,m=!1,y;function _(A){return isNaN(A=+A)?y:(A=.5+((A=+h(A))-i)*(r*A<r*i?u:d),c(m?Math.max(0,Math.min(1,A)):A))}_.domain=function(A){return arguments.length?([t,e,n]=A,a=h(t=+t),i=h(e=+e),s=h(n=+n),u=a===i?0:.5/(i-a),d=i===s?0:.5/(s-i),r=i<a?-1:1,_):[t,e,n]},_.clamp=function(A){return arguments.length?(m=!!A,_):m},_.interpolator=function(A){return arguments.length?(c=A,_):c};function S(A){return function(T){var O,M,E;return arguments.length?([O,M,E]=T,c=xV(A,[O,M,E]),_):[c(0),c(.5),c(1)]}}return _.range=S(Wl),_.rangeRound=S(yw),_.unknown=function(A){return arguments.length?(y=A,_):y},function(A){return h=A,a=A(t),i=A(e),s=A(n),u=a===i?0:.5/(i-a),d=i===s?0:.5/(s-i),r=i<a?-1:1,_}}function Lj(){var t=Zi(Ym()(Hn));return t.copy=function(){return Ji(t,Lj())},ni.apply(t,arguments)}function Bj(){var t=Sw(Ym()).domain([.1,1,10]);return t.copy=function(){return Ji(t,Bj()).base(t.base())},ni.apply(t,arguments)}function qj(){var t=ww(Ym());return t.copy=function(){return Ji(t,qj()).constant(t.constant())},ni.apply(t,arguments)}function Iw(){var t=Tw(Ym());return t.copy=function(){return Ji(t,Iw()).exponent(t.exponent())},ni.apply(t,arguments)}function uz(){return Iw.apply(null,arguments).exponent(.5)}const ND=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fc,scaleDiverging:Lj,scaleDivergingLog:Bj,scaleDivergingPow:Iw,scaleDivergingSqrt:uz,scaleDivergingSymlog:qj,scaleIdentity:yj,scaleImplicit:S_,scaleLinear:qh,scaleLog:xj,scaleOrdinal:pw,scalePoint:Cc,scalePow:Aw,scaleQuantile:wj,scaleQuantize:Tj,scaleRadial:Sj,scaleSequential:Rj,scaleSequentialLog:Ij,scaleSequentialPow:Rw,scaleSequentialQuantile:$j,scaleSequentialSqrt:lz,scaleSequentialSymlog:jj,scaleSqrt:VV,scaleSymlog:_j,scaleThreshold:Aj,scaleTime:oz,scaleUtc:sz,tickFormat:vj},Symbol.toStringTag,{value:"Module"}));var Qb,PD;function Wm(){if(PD)return Qb;PD=1;var t=Gl();function e(n,r,a){for(var i=-1,s=n.length;++i<s;){var u=n[i],d=r(u);if(d!=null&&(c===void 0?d===d&&!t(d):a(d,c)))var c=d,h=u}return h}return Qb=e,Qb}var ex,RD;function Uj(){if(RD)return ex;RD=1;function t(e,n){return e>n}return ex=t,ex}var tx,ID;function cz(){if(ID)return tx;ID=1;var t=Wm(),e=Uj(),n=Kl();function r(a){return a&&a.length?t(a,n,e):void 0}return tx=r,tx}var dz=cz();const Xm=yt(dz);var nx,jD;function Fj(){if(jD)return nx;jD=1;function t(e,n){return e<n}return nx=t,nx}var rx,$D;function fz(){if($D)return rx;$D=1;var t=Wm(),e=Fj(),n=Kl();function r(a){return a&&a.length?t(a,n,e):void 0}return rx=r,rx}var hz=fz();const Zm=yt(hz);var ax,LD;function mz(){if(LD)return ax;LD=1;var t=ZS(),e=ba(),n=WI(),r=ir();function a(i,s){var u=r(i)?t:n;return u(i,e(s,3))}return ax=a,ax}var ix,BD;function pz(){if(BD)return ix;BD=1;var t=KI(),e=mz();function n(r,a){return t(e(r,a),1)}return ix=n,ix}var gz=pz();const vz=yt(gz);var ox,qD;function yz(){if(qD)return ox;qD=1;var t=cw();function e(n,r){return t(n,r)}return ox=e,ox}var bz=yz();const Jm=yt(bz);var Xl=1e9,xz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$w,Gt=!0,Ir="[DecimalError] ",Bo=Ir+"Invalid argument: ",jw=Ir+"Exponent out of range: ",Zl=Math.floor,Do=Math.pow,_z=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vr,Sn=1e7,Vt=7,Vj=9007199254740991,zh=Zl(Vj/Vt),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,n,r,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Vt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};De.dividedBy=De.div=function(t){return Ya(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,n=e.constructor;return Pt(Ya(e,new n(t),0,1),n.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return un(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,n=this,r=n.constructor,a=r.precision,i=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(vr))throw Error(Ir+"NaN");if(n.s<1)throw Error(Ir+(n.s?"NaN":"-Infinity"));return n.eq(vr)?new r(0):(Gt=!1,e=Ya(Kc(n,i),Kc(t,i),i),Gt=!0,Pt(e,a))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Hj(e,t):zj(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Ir+"NaN");return n.s?(Gt=!1,e=Ya(n,t,0,1).times(t),Gt=!0,n.minus(e)):Pt(new r(n),a)};De.naturalExponential=De.exp=function(){return Gj(this)};De.naturalLogarithm=De.ln=function(){return Kc(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zj(e,t):Hj(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bo+t);if(e=un(a)+1,r=a.d.length-1,n=r*Vt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};De.squareRoot=De.sqrt=function(){var t,e,n,r,a,i,s,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Ir+"NaN")}for(t=un(u),Gt=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=ua(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Zl((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(a.toString()),n=d.precision,a=s=n+3;;)if(i=r,r=i.plus(Ya(u,i,s+2)).times(.5),ua(i.d).slice(0,s)===(e=ua(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(Pt(i,n+1,0),i.times(i).eq(u)){r=i;break}}else if(e!="9999")break;s+=4}return Gt=!0,Pt(r,n)};De.times=De.mul=function(t){var e,n,r,a,i,s,u,d,c,h=this,m=h.constructor,y=h.d,_=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,d=y.length,c=_.length,d<c&&(i=y,y=_,_=i,s=d,d=c,c=s),i=[],s=d+c,r=s;r--;)i.push(0);for(r=c;--r>=0;){for(e=0,a=d+r;a>r;)u=i[a]+_[r]*y[a-r-1]+e,i[a--]=u%Sn|0,e=u/Sn|0;i[a]=(i[a]+e)%Sn|0}for(;!i[--s];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,Gt?Pt(t,m.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(pa(t,0,Xl),e===void 0?e=r.rounding:pa(e,0,8),Pt(n,t+un(n)+1,e))};De.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=zo(r,!0):(pa(t,0,Xl),e===void 0?e=a.rounding:pa(e,0,8),r=Pt(new a(r),t+1,e),n=zo(r,!0,t+1)),n};De.toFixed=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?zo(a):(pa(t,0,Xl),e===void 0?e=i.rounding:pa(e,0,8),r=Pt(new i(a),t+un(a)+1,e),n=zo(r.abs(),!1,t+un(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return Pt(new e(t),un(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,n,r,a,i,s,u=this,d=u.constructor,c=12,h=+(t=new d(t));if(!t.s)return new d(vr);if(u=new d(u),!u.s){if(t.s<1)throw Error(Ir+"Infinity");return u}if(u.eq(vr))return u;if(r=d.precision,t.eq(vr))return Pt(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,i=u.s,s){if((n=h<0?-h:h)<=Vj){for(a=new d(vr),e=Math.ceil(r/Vt+4),Gt=!1;n%2&&(a=a.times(u),FD(a.d,e)),n=Zl(n/2),n!==0;)u=u.times(u),FD(u.d,e);return Gt=!0,t.s<0?new d(vr).div(a):Pt(a,r)}}else if(i<0)throw Error(Ir+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Gt=!1,a=t.times(Kc(u,r+c)),Gt=!0,a=Gj(a),a.s=i,a};De.toPrecision=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?(n=un(a),r=zo(a,n<=i.toExpNeg||n>=i.toExpPos)):(pa(t,1,Xl),e===void 0?e=i.rounding:pa(e,0,8),a=Pt(new i(a),t,e),n=un(a),r=zo(a,t<=n||n<=i.toExpNeg,t)),r};De.toSignificantDigits=De.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(pa(t,1,Xl),e===void 0?e=r.rounding:pa(e,0,8)),Pt(new r(n),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=un(t),n=t.constructor;return zo(t,e<=n.toExpNeg||e>=n.toExpPos)};function zj(t,e){var n,r,a,i,s,u,d,c,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Gt?Pt(e,m):e;if(d=t.d,c=e.d,s=t.e,a=e.e,d=d.slice(),i=s-a,i){for(i<0?(r=d,i=-i,u=c.length):(r=c,a=s,u=d.length),s=Math.ceil(m/Vt),u=s>u?s+1:u+1,i>u&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(u=d.length,i=c.length,u-i<0&&(i=u,r=c,c=d,d=r),n=0;i;)n=(d[--i]=d[i]+c[i]+n)/Sn|0,d[i]%=Sn;for(n&&(d.unshift(n),++a),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=a,Gt?Pt(e,m):e}function pa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Bo+t)}function ua(t){var e,n,r,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)r=t[e]+"",n=Vt-r.length,n&&(i+=Bi(n)),i+=r;s=t[e],r=s+"",n=Vt-r.length,n&&(i+=Bi(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ya=function(){function t(r,a){var i,s=0,u=r.length;for(r=r.slice();u--;)i=r[u]*a+s,r[u]=i%Sn|0,s=i/Sn|0;return s&&r.unshift(s),r}function e(r,a,i,s){var u,d;if(i!=s)d=i>s?1:-1;else for(u=d=0;u<i;u++)if(r[u]!=a[u]){d=r[u]>a[u]?1:-1;break}return d}function n(r,a,i){for(var s=0;i--;)r[i]-=s,s=r[i]<a[i]?1:0,r[i]=s*Sn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,s){var u,d,c,h,m,y,_,S,A,T,O,M,E,D,C,k,P,R,U=r.constructor,F=r.s==a.s?1:-1,L=r.d,G=a.d;if(!r.s)return new U(r);if(!a.s)throw Error(Ir+"Division by zero");for(d=r.e-a.e,P=G.length,C=L.length,_=new U(F),S=_.d=[],c=0;G[c]==(L[c]||0);)++c;if(G[c]>(L[c]||0)&&--d,i==null?M=i=U.precision:s?M=i+(un(r)-un(a))+1:M=i,M<0)return new U(0);if(M=M/Vt+2|0,c=0,P==1)for(h=0,G=G[0],M++;(c<C||h)&&M--;c++)E=h*Sn+(L[c]||0),S[c]=E/G|0,h=E%G|0;else{for(h=Sn/(G[0]+1)|0,h>1&&(G=t(G,h),L=t(L,h),P=G.length,C=L.length),D=P,A=L.slice(0,P),T=A.length;T<P;)A[T++]=0;R=G.slice(),R.unshift(0),k=G[0],G[1]>=Sn/2&&++k;do h=0,u=e(G,A,P,T),u<0?(O=A[0],P!=T&&(O=O*Sn+(A[1]||0)),h=O/k|0,h>1?(h>=Sn&&(h=Sn-1),m=t(G,h),y=m.length,T=A.length,u=e(m,A,y,T),u==1&&(h--,n(m,P<y?R:G,y))):(h==0&&(u=h=1),m=G.slice()),y=m.length,y<T&&m.unshift(0),n(A,m,T),u==-1&&(T=A.length,u=e(G,A,P,T),u<1&&(h++,n(A,P<T?R:G,T))),T=A.length):u===0&&(h++,A=[0]),S[c++]=h,u&&A[0]?A[T++]=L[D]||0:(A=[L[D]],T=1);while((D++<C||A[0]!==void 0)&&M--)}return S[0]||S.shift(),_.e=d,Pt(_,s?i+un(_)+1:i)}}();function Gj(t,e){var n,r,a,i,s,u,d=0,c=0,h=t.constructor,m=h.precision;if(un(t)>16)throw Error(jw+un(t));if(!t.s)return new h(vr);for(Gt=!1,u=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Do(2,c))/Math.LN10*2+5|0,u+=r,n=a=i=new h(vr),h.precision=u;;){if(a=Pt(a.times(t),u),n=n.times(++d),s=i.plus(Ya(a,n,u)),ua(s.d).slice(0,u)===ua(i.d).slice(0,u)){for(;c--;)i=Pt(i.times(i),u);return h.precision=m,e==null?(Gt=!0,Pt(i,m)):i}i=s}}function un(t){for(var e=t.e*Vt,n=t.d[0];n>=10;n/=10)e++;return e}function sx(t,e,n){if(e>t.LN10.sd())throw Gt=!0,n&&(t.precision=n),Error(Ir+"LN10 precision limit exceeded");return Pt(new t(t.LN10),e)}function Bi(t){for(var e="";t--;)e+="0";return e}function Kc(t,e){var n,r,a,i,s,u,d,c,h,m=1,y=10,_=t,S=_.d,A=_.constructor,T=A.precision;if(_.s<1)throw Error(Ir+(_.s?"NaN":"-Infinity"));if(_.eq(vr))return new A(0);if(e==null?(Gt=!1,c=T):c=e,_.eq(10))return e==null&&(Gt=!0),sx(A,c);if(c+=y,A.precision=c,n=ua(S),r=n.charAt(0),i=un(_),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=ua(_.d),r=n.charAt(0),m++;i=un(_),r>1?(_=new A("0."+n),i++):_=new A(r+"."+n.slice(1))}else return d=sx(A,c+2,T).times(i+""),_=Kc(new A(r+"."+n.slice(1)),c-y).plus(d),A.precision=T,e==null?(Gt=!0,Pt(_,T)):_;for(u=s=_=Ya(_.minus(vr),_.plus(vr),c),h=Pt(_.times(_),c),a=3;;){if(s=Pt(s.times(h),c),d=u.plus(Ya(s,new A(a),c)),ua(d.d).slice(0,c)===ua(u.d).slice(0,c))return u=u.times(2),i!==0&&(u=u.plus(sx(A,c+2,T).times(i+""))),u=Ya(u,new A(m),c),A.precision=T,e==null?(Gt=!0,Pt(u,T)):u;u=d,a+=2}}function UD(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Zl(n/Vt),t.d=[],r=(n+1)%Vt,n<0&&(r+=Vt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Vt;r<a;)t.d.push(+e.slice(r,r+=Vt));e=e.slice(r),r=Vt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Gt&&(t.e>zh||t.e<-zh))throw Error(jw+n)}else t.s=0,t.e=0,t.d=[0];return t}function Pt(t,e,n){var r,a,i,s,u,d,c,h,m=t.d;for(s=1,i=m[0];i>=10;i/=10)s++;if(r=e-s,r<0)r+=Vt,a=e,c=m[h=0];else{if(h=Math.ceil((r+1)/Vt),i=m.length,h>=i)return t;for(c=i=m[h],s=1;i>=10;i/=10)s++;r%=Vt,a=r-Vt+s}if(n!==void 0&&(i=Do(10,s-a-1),u=c/i%10|0,d=e<0||m[h+1]!==void 0||c%i,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?a>0?c/Do(10,s-a):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return d?(i=un(t),m.length=1,e=e-i-1,m[0]=Do(10,(Vt-e%Vt)%Vt),t.e=Zl(-e/Vt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,i=1,h--):(m.length=h+1,i=Do(10,Vt-r),m[h]=a>0?(c/Do(10,s-a)%Do(10,a)|0)*i:0),d)for(;;)if(h==0){(m[0]+=i)==Sn&&(m[0]=1,++t.e);break}else{if(m[h]+=i,m[h]!=Sn)break;m[h--]=0,i=1}for(r=m.length;m[--r]===0;)m.pop();if(Gt&&(t.e>zh||t.e<-zh))throw Error(jw+un(t));return t}function Hj(t,e){var n,r,a,i,s,u,d,c,h,m,y=t.constructor,_=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Gt?Pt(e,_):e;if(d=t.d,m=e.d,r=e.e,c=t.e,d=d.slice(),s=c-r,s){for(h=s<0,h?(n=d,s=-s,u=m.length):(n=m,r=c,u=d.length),a=Math.max(Math.ceil(_/Vt),u)+2,s>a&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for(a=d.length,u=m.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(d[a]!=m[a]){h=d[a]<m[a];break}s=0}for(h&&(n=d,d=m,m=n,e.s=-e.s),u=d.length,a=m.length-u;a>0;--a)d[u++]=0;for(a=m.length;a>s;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=Sn-1;--d[i],d[a]+=Sn}d[a]-=m[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Gt?Pt(e,_):e):new y(0)}function zo(t,e,n){var r,a=un(t),i=ua(t.d),s=i.length;return e?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+Bi(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Bi(-a-1)+i,n&&(r=n-s)>0&&(i+=Bi(r))):a>=s?(i+=Bi(a+1-s),n&&(r=n-a-1)>0&&(i=i+"."+Bi(r))):((r=a+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(a+1===s&&(i+="."),i+=Bi(r))),t.s<0?"-"+i:i}function FD(t,e){if(t.length>e)return t.length=e,!0}function Kj(t){var e,n,r;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bo+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return UD(s,i.toString())}else if(typeof i!="string")throw Error(Bo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,_z.test(i))UD(s,i);else throw Error(Bo+i)}if(a.prototype=De,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Kj,a.config=a.set=Sz,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function Sz(t){if(!t||typeof t!="object")throw Error(Ir+"Object expected");var e,n,r,a=["precision",1,Xl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Zl(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(Bo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bo+n+": "+r);return this}var $w=Kj(xz);vr=new $w(1);const Mt=$w;function wz(t){return Cz(t)||Ez(t)||Az(t)||Tz()}function Tz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Az(t,e){if(t){if(typeof t=="string")return E_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(t,e)}}function Ez(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Cz(t){if(Array.isArray(t))return E_(t)}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kz=function(e){return e},Yj={},Wj=function(e){return e===Yj},VD=function(e){return function n(){return arguments.length===0||arguments.length===1&&Wj(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Oz=function t(e,n){return e===1?n:VD(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var s=a.filter(function(u){return u!==Yj}).length;return s>=e?n.apply(void 0,a):t(e-s,VD(function(){for(var u=arguments.length,d=new Array(u),c=0;c<u;c++)d[c]=arguments[c];var h=a.map(function(m){return Wj(m)?d.shift():m});return n.apply(void 0,wz(h).concat(d))}))})},Qm=function(e){return Oz(e.length,e)},C_=function(e,n){for(var r=[],a=e;a<n;++a)r[a-e]=a;return r},Mz=Qm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Dz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return kz;var a=n.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},k_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Xj=function(e){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n&&i.every(function(u,d){return u===n[d]})||(n=i,r=e.apply(void 0,i)),r}};function Nz(t){var e;return t===0?e=1:e=Math.floor(new Mt(t).abs().log(10).toNumber())+1,e}function Pz(t,e,n){for(var r=new Mt(t),a=0,i=[];r.lt(e)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var Rz=Qm(function(t,e,n){var r=+t,a=+e;return r+n*(a-r)}),Iz=Qm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),jz=Qm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ep={rangeStep:Pz,getDigitCount:Nz,interpolateNumber:Rz,uninterpolateNumber:Iz,uninterpolateTruncation:jz};function O_(t){return Bz(t)||Lz(t)||Zj(t)||$z()}function $z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lz(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Bz(t){if(Array.isArray(t))return M_(t)}function Yc(t,e){return Fz(t)||Uz(t,e)||Zj(t,e)||qz()}function qz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zj(t,e){if(t){if(typeof t=="string")return M_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M_(t,e)}}function M_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uz(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),u;!(r=(u=s.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(d){a=!0,i=d}finally{try{!r&&s.return!=null&&s.return()}finally{if(a)throw i}}return n}}function Fz(t){if(Array.isArray(t))return t}function Jj(t){var e=Yc(t,2),n=e[0],r=e[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function Qj(t,e,n){if(t.lte(0))return new Mt(0);var r=ep.getDigitCount(t.toNumber()),a=new Mt(10).pow(r),i=t.div(a),s=r!==1?.05:.1,u=new Mt(Math.ceil(i.div(s).toNumber())).add(n).mul(s),d=u.mul(a);return e?d:new Mt(Math.ceil(d))}function Vz(t,e,n){var r=1,a=new Mt(t);if(!a.isint()&&n){var i=Math.abs(t);i<1?(r=new Mt(10).pow(ep.getDigitCount(t)-1),a=new Mt(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Mt(Math.floor(t)))}else t===0?a=new Mt(Math.floor((e-1)/2)):n||(a=new Mt(Math.floor(t)));var s=Math.floor((e-1)/2),u=Dz(Mz(function(d){return a.add(new Mt(d-s).mul(r)).toNumber()}),C_);return u(0,e)}function e5(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var i=Qj(new Mt(e).sub(t).div(n-1),r,a),s;t<=0&&e>=0?s=new Mt(0):(s=new Mt(t).add(e).div(2),s=s.sub(new Mt(s).mod(i)));var u=Math.ceil(s.sub(t).div(i).toNumber()),d=Math.ceil(new Mt(e).sub(s).div(i).toNumber()),c=u+d+1;return c>n?e5(t,e,n,r,a+1):(c<n&&(d=e>0?d+(n-c):d,u=e>0?u:u+(n-c)),{step:i,tickMin:s.sub(new Mt(u).mul(i)),tickMax:s.add(new Mt(d).mul(i))})}function zz(t){var e=Yc(t,2),n=e[0],r=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),u=Jj([n,r]),d=Yc(u,2),c=d[0],h=d[1];if(c===-1/0||h===1/0){var m=h===1/0?[c].concat(O_(C_(0,a-1).map(function(){return 1/0}))):[].concat(O_(C_(0,a-1).map(function(){return-1/0})),[h]);return n>r?k_(m):m}if(c===h)return Vz(c,a,i);var y=e5(c,h,s,i),_=y.step,S=y.tickMin,A=y.tickMax,T=ep.rangeStep(S,A.add(new Mt(.1).mul(_)),_);return n>r?k_(T):T}function Gz(t,e){var n=Yc(t,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Jj([r,a]),u=Yc(s,2),d=u[0],c=u[1];if(d===-1/0||c===1/0)return[r,a];if(d===c)return[d];var h=Math.max(e,2),m=Qj(new Mt(c).sub(d).div(h-1),i,0),y=[].concat(O_(ep.rangeStep(new Mt(d),new Mt(c).sub(new Mt(.99).mul(m)),m)),[c]);return r>a?k_(y):y}var Hz=Xj(zz),Kz=Xj(Gz),Yz="Invariant failed";function Go(t,e){throw new Error(Yz)}var Wz=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}function Xz(t,e){return eG(t)||Qz(t,e)||Jz(t,e)||Zz()}function Zz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jz(t,e){if(t){if(typeof t=="string")return zD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zD(t,e)}}function zD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function eG(t){if(Array.isArray(t))return t}function tG(t,e){if(t==null)return{};var n=nG(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r5(r.key),r)}}function iG(t,e,n){return e&&aG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oG(t,e,n){return e=Hh(e),sG(t,t5()?Reflect.construct(e,n||[],Hh(t).constructor):e.apply(t,n))}function sG(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lG(t)}function lG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t5=function(){return!!t})()}function Hh(t){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hh(t)}function uG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},D_(t,e)}function n5(t,e,n){return e=r5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r5(t){var e=cG(t,"string");return Sl(e)=="symbol"?e:e+""}function cG(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tp=function(t){function e(){return rG(this,e),oG(this,e,arguments)}return uG(e,t),iG(e,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,s=r.width,u=r.dataKey,d=r.data,c=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,y=tG(r,Wz),_=He(y,!1);this.props.direction==="x"&&h.type!=="number"&&Go();var S=d.map(function(A){var T=c(A,u),O=T.x,M=T.y,E=T.value,D=T.errorVal;if(!D)return null;var C=[],k,P;if(Array.isArray(D)){var R=Xz(D,2);k=R[0],P=R[1]}else k=P=D;if(i==="vertical"){var U=h.scale,F=M+a,L=F+s,G=F-s,Q=U(E-k),H=U(E+P);C.push({x1:H,y1:L,x2:H,y2:G}),C.push({x1:Q,y1:F,x2:H,y2:F}),C.push({x1:Q,y1:L,x2:Q,y2:G})}else if(i==="horizontal"){var q=m.scale,$=O+a,z=$-s,Z=$+s,se=q(E-k),B=q(E+P);C.push({x1:z,y1:B,x2:Z,y2:B}),C.push({x1:$,y1:se,x2:$,y2:B}),C.push({x1:z,y1:se,x2:Z,y2:se})}return J.createElement(At,Gh({className:"recharts-errorBar",key:"bar-".concat(C.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},_),C.map(function(K){return J.createElement("line",Gh({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return J.createElement(At,{className:"recharts-errorBars"},S)}}])}(J.Component);n5(tp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});n5(tp,"displayName","ErrorBar");function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){dG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dG(t,e,n){return e=fG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fG(t){var e=hG(t,"string");return Wc(e)=="symbol"?e:e+""}function hG(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a5=function(e){var n=e.children,r=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=gr(n,zi);if(!s)return null;var u=zi.defaultProps,d=u!==void 0?Ao(Ao({},u),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(r||[]).reduce(function(h,m){var y=m.item,_=m.props,S=_.sectors||_.data||[];return h.concat(S.map(function(A){return{type:s.props.iconType||y.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):c=(r||[]).map(function(h){var m=h.item,y=m.type.defaultProps,_=y!==void 0?Ao(Ao({},y),m.props):{},S=_.dataKey,A=_.name,T=_.legendType,O=_.hide;return{inactive:O,dataKey:S,type:d.iconType||T||"square",color:Lw(m),value:A||S,payload:_}}),Ao(Ao(Ao({},d),zi.getWithHeight(s,a)),{},{payload:c,item:s})};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function HD(t){return vG(t)||gG(t)||pG(t)||mG()}function mG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pG(t,e){if(t){if(typeof t=="string")return N_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N_(t,e)}}function gG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vG(t){if(Array.isArray(t))return N_(t)}function N_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){cl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cl(t,e,n){return e=yG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yG(t){var e=bG(t,"string");return Xc(e)=="symbol"?e:e+""}function bG(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ln(t,e,n){return st(t)||st(e)?n:mn(e)?br(t,e,n):Ke(e)?e(t):n}function kc(t,e,n,r){var a=vz(t,function(u){return Ln(u,e)});if(n==="number"){var i=a.filter(function(u){return Ee(u)||parseFloat(u)});return i.length?[Zm(i),Xm(i)]:[1/0,-1/0]}var s=r?a.filter(function(u){return!st(u)}):a;return s.map(function(u){return mn(u)||u instanceof Date?u:""})}var xG=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,c=0;c<u;c++){var h=c>0?a[c-1].coordinate:a[u-1].coordinate,m=a[c].coordinate,y=c>=u-1?a[0].coordinate:a[c+1].coordinate,_=void 0;if(zn(m-h)!==zn(y-m)){var S=[];if(zn(y-m)===zn(d[1]-d[0])){_=y;var A=m+d[1]-d[0];S[0]=Math.min(A,(A+h)/2),S[1]=Math.max(A,(A+h)/2)}else{_=h;var T=y+d[1]-d[0];S[0]=Math.min(m,(T+m)/2),S[1]=Math.max(m,(T+m)/2)}var O=[Math.min(m,(_+m)/2),Math.max(m,(_+m)/2)];if(e>O[0]&&e<=O[1]||e>=S[0]&&e<=S[1]){s=a[c].index;break}}else{var M=Math.min(h,y),E=Math.max(h,y);if(e>(M+m)/2&&e<=(E+m)/2){s=a[c].index;break}}}else for(var D=0;D<u;D++)if(D===0&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D>0&&D<u-1&&e>(r[D].coordinate+r[D-1].coordinate)/2&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D===u-1&&e>(r[D].coordinate+r[D-1].coordinate)/2){s=r[D].index;break}return s},Lw=function(e){var n,r=e,a=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,s=i.stroke,u=i.fill,d;switch(a){case"Line":d=s;break;case"Area":case"Radar":d=s&&s!=="none"?s:u;break;default:d=u;break}return d},_G=function(e){var n=e.barSize,r=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},u=Object.keys(i),d=0,c=u.length;d<c;d++)for(var h=i[u[d]].stackGroups,m=Object.keys(h),y=0,_=m.length;y<_;y++){var S=h[m[y]],A=S.items,T=S.cateAxisId,O=A.filter(function(P){return Ka(P.type).indexOf("Bar")>=0});if(O&&O.length){var M=O[0].type.defaultProps,E=M!==void 0?Qt(Qt({},M),O[0].props):O[0].props,D=E.barSize,C=E[T];s[C]||(s[C]=[]);var k=st(D)?n:D;s[C].push({item:O[0],stackList:O.slice(1),barSize:st(k)?void 0:Gn(k,r,0)})}}return s},SG=function(e){var n=e.barGap,r=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,u=e.maxBarSize,d=s.length;if(d<1)return null;var c=Gn(n,a,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var y=!1,_=a/d,S=s.reduce(function(D,C){return D+C.barSize||0},0);S+=(d-1)*c,S>=a&&(S-=(d-1)*c,c=0),S>=a&&_>0&&(y=!0,_*=.9,S=d*_);var A=(a-S)/2>>0,T={offset:A-c,size:0};h=s.reduce(function(D,C){var k={item:C.item,position:{offset:T.offset+T.size+c,size:y?_:C.barSize}},P=[].concat(HD(D),[k]);return T=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){P.push({item:R,position:T})}),P},m)}else{var O=Gn(r,a,0,!0);a-2*O-(d-1)*c<=0&&(c=0);var M=(a-2*O-(d-1)*c)/d;M>1&&(M>>=0);var E=u===+u?Math.min(M,u):M;h=s.reduce(function(D,C,k){var P=[].concat(HD(D),[{item:C.item,position:{offset:O+(M+c)*k+(M-E)/2,size:E}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){P.push({item:R,position:P[P.length-1].position})}),P},m)}return h},wG=function(e,n,r,a){var i=r.children,s=r.width,u=r.margin,d=s-(u.left||0)-(u.right||0),c=a5({children:i,legendWidth:d});if(c){var h=a||{},m=h.width,y=h.height,_=c.align,S=c.verticalAlign,A=c.layout;if((A==="vertical"||A==="horizontal"&&S==="middle")&&_!=="center"&&Ee(e[_]))return Qt(Qt({},e),{},cl({},_,e[_]+(m||0)));if((A==="horizontal"||A==="vertical"&&_==="center")&&S!=="middle"&&Ee(e[S]))return Qt(Qt({},e),{},cl({},S,e[S]+(y||0)))}return e},TG=function(e,n,r){return st(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},i5=function(e,n,r,a,i){var s=n.props.children,u=Rr(s,tp).filter(function(c){return TG(a,i,c.props.direction)});if(u&&u.length){var d=u.map(function(c){return c.props.dataKey});return e.reduce(function(c,h){var m=Ln(h,r);if(st(m))return c;var y=Array.isArray(m)?[Zm(m),Xm(m)]:[m,m],_=d.reduce(function(S,A){var T=Ln(h,A,0),O=y[0]-Math.abs(Array.isArray(T)?T[0]:T),M=y[1]+Math.abs(Array.isArray(T)?T[1]:T);return[Math.min(O,S[0]),Math.max(M,S[1])]},[1/0,-1/0]);return[Math.min(_[0],c[0]),Math.max(_[1],c[1])]},[1/0,-1/0])}return null},AG=function(e,n,r,a,i){var s=n.map(function(u){return i5(e,u,r,i,a)}).filter(function(u){return!st(u)});return s&&s.length?s.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},o5=function(e,n,r,a,i){var s=n.map(function(d){var c=d.props.dataKey;return r==="number"&&c&&i5(e,d,c,a)||kc(e,c,r,i)});if(r==="number")return s.reduce(function(d,c){return[Math.min(d[0],c[0]),Math.max(d[1],c[1])]},[1/0,-1/0]);var u={};return s.reduce(function(d,c){for(var h=0,m=c.length;h<m;h++)u[c[h]]||(u[c[h]]=!0,d.push(c[h]));return d},[])},s5=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},l5=function(e,n,r,a){if(a)return e.map(function(d){return d.coordinate});var i,s,u=e.map(function(d){return d.coordinate===n&&(i=!0),d.coordinate===r&&(s=!0),d.coordinate});return i||u.push(n),s||u.push(r),u},Ha=function(e,n,r){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,u=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(n||r)&&s==="category"&&a.bandwidth?a.bandwidth()/d:0;if(c=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?zn(u[0]-u[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var y=i?i.indexOf(m):m;return{coordinate:a(y)+c,value:m,offset:c}});return h.filter(function(m){return!_d(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:a(m)+c,value:m,index:y,offset:c}}):a.ticks&&!r?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+c,value:m,offset:c}}):a.domain().map(function(m,y){return{coordinate:a(m)+c,value:i?i[m]:m,index:y,offset:c}})},lx=new WeakMap,sh=function(e,n){if(typeof n!="function")return e;lx.has(e)||lx.set(e,new WeakMap);var r=lx.get(e);if(r.has(n))return r.get(n);var a=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},u5=function(e,n,r){var a=e.scale,i=e.type,s=e.layout,u=e.axisType;if(a==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Fc(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:qh(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Cc(),realScaleType:"point"}:i==="category"?{scale:Fc(),realScaleType:"band"}:{scale:qh(),realScaleType:"linear"};if(Uo(a)){var d="scale".concat(Im(a));return{scale:(ND[d]||Cc)(),realScaleType:ND[d]?d:"point"}}return Ke(a)?{scale:a}:{scale:Cc(),realScaleType:"point"}},YD=1e-4,c5=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,a=e.range(),i=Math.min(a[0],a[1])-YD,s=Math.max(a[0],a[1])+YD,u=e(n[0]),d=e(n[r-1]);(u<i||u>s||d<i||d>s)&&e.domain([n[0],n[r-1]])}},EG=function(e,n){if(!e)return null;for(var r=0,a=e.length;r<a;r++)if(e[r].item===n)return e[r].position;return null},CG=function(e,n){if(!n||n.length!==2||!Ee(n[0])||!Ee(n[1]))return e;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!Ee(e[0])||e[0]<r)&&(i[0]=r),(!Ee(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},kG=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,s=0,u=0;u<n;++u){var d=_d(e[u][r][1])?e[u][r][0]:e[u][r][1];d>=0?(e[u][r][0]=i,e[u][r][1]=i+d,i=e[u][r][1]):(e[u][r][0]=s,e[u][r][1]=s+d,s=e[u][r][1])}},OG=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,s=0;s<n;++s){var u=_d(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=i,e[s][r][1]=i+u,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},MG={sign:kG,expand:v6,none:ml,silhouette:y6,wiggle:b6,positive:OG},DG=function(e,n,r){var a=n.map(function(u){return u.props.dataKey}),i=MG[r],s=g6().keys(a).value(function(u,d){return+Ln(u,d,0)}).order(l_).offset(i);return s(e)},NG=function(e,n,r,a,i,s){if(!e)return null;var u=s?n.reverse():n,d={},c=u.reduce(function(m,y){var _,S=(_=y.type)!==null&&_!==void 0&&_.defaultProps?Qt(Qt({},y.type.defaultProps),y.props):y.props,A=S.stackId,T=S.hide;if(T)return m;var O=S[r],M=m[O]||{hasStack:!1,stackGroups:{}};if(mn(A)){var E=M.stackGroups[A]||{numericAxisId:r,cateAxisId:a,items:[]};E.items.push(y),M.hasStack=!0,M.stackGroups[A]=E}else M.stackGroups[Sd("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[y]};return Qt(Qt({},m),{},cl({},O,M))},d),h={};return Object.keys(c).reduce(function(m,y){var _=c[y];if(_.hasStack){var S={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(A,T){var O=_.stackGroups[T];return Qt(Qt({},A),{},cl({},T,{numericAxisId:r,cateAxisId:a,items:O.items,stackedData:DG(e,O.items,i)}))},S)}return Qt(Qt({},m),{},cl({},y,_))},h)},d5=function(e,n){var r=n.realScaleType,a=n.type,i=n.tickCount,s=n.originalDomain,u=n.allowDecimals,d=r||n.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var h=Hz(c,i,u);return e.domain([Zm(h),Xm(h)]),{niceTicks:h}}if(i&&a==="number"){var m=e.domain(),y=Kz(m,i,u);return{niceTicks:y}}return null},WD=function(e){var n=e.axis,r=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+a:null;var d=Ln(s,n.dataKey,n.domain[u]);return st(d)?null:n.scale(d)-i/2+a},PG=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},RG=function(e,n){var r,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(mn(i)){var s=n[i];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},IG=function(e){return e.reduce(function(n,r){return[Zm(r.concat([n[0]]).filter(Ee)),Xm(r.concat([n[1]]).filter(Ee))]},[1/0,-1/0])},f5=function(e,n,r){return Object.keys(e).reduce(function(a,i){var s=e[i],u=s.stackedData,d=u.reduce(function(c,h){var m=IG(h.slice(n,r+1));return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},XD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,P_=function(e,n,r){if(Ke(e))return e(n,r);if(!Array.isArray(e))return n;var a=[];if(Ee(e[0]))a[0]=r?e[0]:Math.min(e[0],n[0]);else if(XD.test(e[0])){var i=+XD.exec(e[0])[1];a[0]=n[0]-i}else Ke(e[0])?a[0]=e[0](n[0]):a[0]=n[0];if(Ee(e[1]))a[1]=r?e[1]:Math.max(e[1],n[1]);else if(ZD.test(e[1])){var s=+ZD.exec(e[1])[1];a[1]=n[1]+s}else Ke(e[1])?a[1]=e[1](n[1]):a[1]=n[1];return a},Kh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&n&&n.length>=2){for(var i=fw(n,function(m){return m.coordinate}),s=1/0,u=1,d=i.length;u<d;u++){var c=i[u],h=i[u-1];s=Math.min((c.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},JD=function(e,n,r){return!e||!e.length||Jm(e,br(r,"type.defaultProps.domain"))?n:e},h5=function(e,n){var r=e.type.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,a=r.dataKey,i=r.name,s=r.unit,u=r.formatter,d=r.tooltipType,c=r.chartType,h=r.hide;return Qt(Qt({},He(e,!1)),{},{dataKey:a,unit:s,formatter:u,name:i||a,color:Lw(e),value:Ln(n,a),type:d,payload:n,chartType:c,hide:h})};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){m5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m5(t,e,n){return e=jG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jG(t){var e=$G(t,"string");return Zc(e)=="symbol"?e:e+""}function $G(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LG(t,e){return FG(t)||UG(t,e)||qG(t,e)||BG()}function BG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qG(t,e){if(t){if(typeof t=="string")return eN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eN(t,e)}}function eN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function FG(t){if(Array.isArray(t))return t}var Yh=Math.PI/180,VG=function(e){return e*180/Math.PI},Lt=function(e,n,r,a){return{x:e+Math.cos(-Yh*a)*r,y:n+Math.sin(-Yh*a)*r}},p5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},zG=function(e,n,r,a,i){var s=e.width,u=e.height,d=e.startAngle,c=e.endAngle,h=Gn(e.cx,s,s/2),m=Gn(e.cy,u,u/2),y=p5(s,u,r),_=Gn(e.innerRadius,y,0),S=Gn(e.outerRadius,y,y*.8),A=Object.keys(n);return A.reduce(function(T,O){var M=n[O],E=M.domain,D=M.reversed,C;if(st(M.range))a==="angleAxis"?C=[d,c]:a==="radiusAxis"&&(C=[_,S]),D&&(C=[C[1],C[0]]);else{C=M.range;var k=C,P=LG(k,2);d=P[0],c=P[1]}var R=u5(M,i),U=R.realScaleType,F=R.scale;F.domain(E).range(C),c5(F);var L=d5(F,Va(Va({},M),{},{realScaleType:U})),G=Va(Va(Va({},M),L),{},{range:C,radius:S,realScaleType:U,scale:F,cx:h,cy:m,innerRadius:_,outerRadius:S,startAngle:d,endAngle:c});return Va(Va({},T),{},m5({},O,G))},{})},GG=function(e,n){var r=e.x,a=e.y,i=n.x,s=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-s,2))},HG=function(e,n){var r=e.x,a=e.y,i=n.cx,s=n.cy,u=GG({x:r,y:a},{x:i,y:s});if(u<=0)return{radius:u};var d=(r-i)/u,c=Math.acos(d);return a>s&&(c=2*Math.PI-c),{radius:u,angle:VG(c),angleInRadian:c}},KG=function(e){var n=e.startAngle,r=e.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),s=Math.min(a,i);return{startAngle:n-s*360,endAngle:r-s*360}},YG=function(e,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),s=Math.floor(a/360),u=Math.min(i,s);return e+u*360},tN=function(e,n){var r=e.x,a=e.y,i=HG({x:r,y:a},n),s=i.radius,u=i.angle,d=n.innerRadius,c=n.outerRadius;if(s<d||s>c)return!1;if(s===0)return!0;var h=KG(n),m=h.startAngle,y=h.endAngle,_=u,S;if(m<=y){for(;_>y;)_-=360;for(;_<m;)_+=360;S=_>=m&&_<=y}else{for(;_>m;)_-=360;for(;_<y;)_+=360;S=_>=y&&_<=m}return S?Va(Va({},n),{},{radius:s,angle:YG(_,n)}):null},g5=function(e){return!j.isValidElement(e)&&!Ke(e)&&typeof e!="boolean"?e.className:""};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}var WG=["offset"];function XG(t){return eH(t)||QG(t)||JG(t)||ZG()}function ZG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JG(t,e){if(t){if(typeof t=="string")return R_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R_(t,e)}}function QG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eH(t){if(Array.isArray(t))return R_(t)}function R_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tH(t,e){if(t==null)return{};var n=nH(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){rH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rH(t,e,n){return e=aH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aH(t){var e=iH(t,"string");return Jc(e)=="symbol"?e:e+""}function iH(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}var oH=function(e){var n=e.value,r=e.formatter,a=st(e.children)?n:e.children;return Ke(r)?r(a):a},sH=function(e,n){var r=zn(n-e),a=Math.min(Math.abs(n-e),360);return r*a},lH=function(e,n,r){var a=e.position,i=e.viewBox,s=e.offset,u=e.className,d=i,c=d.cx,h=d.cy,m=d.innerRadius,y=d.outerRadius,_=d.startAngle,S=d.endAngle,A=d.clockWise,T=(m+y)/2,O=sH(_,S),M=O>=0?1:-1,E,D;a==="insideStart"?(E=_+M*s,D=A):a==="insideEnd"?(E=S-M*s,D=!A):a==="end"&&(E=S+M*s,D=A),D=O<=0?D:!D;var C=Lt(c,h,T,E),k=Lt(c,h,T,E+(D?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(D?0:1,`,
    `).concat(k.x,",").concat(k.y),R=st(e.id)?Sd("recharts-radial-line-"):e.id;return J.createElement("text",Qc({},r,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",u)}),J.createElement("defs",null,J.createElement("path",{id:R,d:P})),J.createElement("textPath",{xlinkHref:"#".concat(R)},n))},uH=function(e){var n=e.viewBox,r=e.offset,a=e.position,i=n,s=i.cx,u=i.cy,d=i.innerRadius,c=i.outerRadius,h=i.startAngle,m=i.endAngle,y=(h+m)/2;if(a==="outside"){var _=Lt(s,u,c+r,y),S=_.x,A=_.y;return{x:S,y:A,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var T=(d+c)/2,O=Lt(s,u,T,y),M=O.x,E=O.y;return{x:M,y:E,textAnchor:"middle",verticalAnchor:"middle"}},cH=function(e){var n=e.viewBox,r=e.parentViewBox,a=e.offset,i=e.position,s=n,u=s.x,d=s.y,c=s.width,h=s.height,m=h>=0?1:-1,y=m*a,_=m>0?"end":"start",S=m>0?"start":"end",A=c>=0?1:-1,T=A*a,O=A>0?"end":"start",M=A>0?"start":"end";if(i==="top"){var E={x:u+c/2,y:d-m*a,textAnchor:"middle",verticalAnchor:_};return hn(hn({},E),r?{height:Math.max(d-r.y,0),width:c}:{})}if(i==="bottom"){var D={x:u+c/2,y:d+h+y,textAnchor:"middle",verticalAnchor:S};return hn(hn({},D),r?{height:Math.max(r.y+r.height-(d+h),0),width:c}:{})}if(i==="left"){var C={x:u-T,y:d+h/2,textAnchor:O,verticalAnchor:"middle"};return hn(hn({},C),r?{width:Math.max(C.x-r.x,0),height:h}:{})}if(i==="right"){var k={x:u+c+T,y:d+h/2,textAnchor:M,verticalAnchor:"middle"};return hn(hn({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:h}:{})}var P=r?{width:c,height:h}:{};return i==="insideLeft"?hn({x:u+T,y:d+h/2,textAnchor:M,verticalAnchor:"middle"},P):i==="insideRight"?hn({x:u+c-T,y:d+h/2,textAnchor:O,verticalAnchor:"middle"},P):i==="insideTop"?hn({x:u+c/2,y:d+y,textAnchor:"middle",verticalAnchor:S},P):i==="insideBottom"?hn({x:u+c/2,y:d+h-y,textAnchor:"middle",verticalAnchor:_},P):i==="insideTopLeft"?hn({x:u+T,y:d+y,textAnchor:M,verticalAnchor:S},P):i==="insideTopRight"?hn({x:u+c-T,y:d+y,textAnchor:O,verticalAnchor:S},P):i==="insideBottomLeft"?hn({x:u+T,y:d+h-y,textAnchor:M,verticalAnchor:_},P):i==="insideBottomRight"?hn({x:u+c-T,y:d+h-y,textAnchor:O,verticalAnchor:_},P):Hl(i)&&(Ee(i.x)||Ro(i.x))&&(Ee(i.y)||Ro(i.y))?hn({x:u+Gn(i.x,c),y:d+Gn(i.y,h),textAnchor:"end",verticalAnchor:"end"},P):hn({x:u+c/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},dH=function(e){return"cx"in e&&Ee(e.cx)};function wn(t){var e=t.offset,n=e===void 0?5:e,r=tH(t,WG),a=hn({offset:n},r),i=a.viewBox,s=a.position,u=a.value,d=a.children,c=a.content,h=a.className,m=h===void 0?"":h,y=a.textBreakAll;if(!i||st(u)&&st(d)&&!j.isValidElement(c)&&!Ke(c))return null;if(j.isValidElement(c))return j.cloneElement(c,a);var _;if(Ke(c)){if(_=j.createElement(c,a),j.isValidElement(_))return _}else _=oH(a);var S=dH(i),A=He(a,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return lH(a,_,A);var T=S?uH(a):cH(a);return J.createElement(Vo,Qc({className:rt("recharts-label",m)},A,T,{breakAll:y}),_)}wn.displayName="Label";var v5=function(e){var n=e.cx,r=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,u=e.r,d=e.radius,c=e.innerRadius,h=e.outerRadius,m=e.x,y=e.y,_=e.top,S=e.left,A=e.width,T=e.height,O=e.clockWise,M=e.labelViewBox;if(M)return M;if(Ee(A)&&Ee(T)){if(Ee(m)&&Ee(y))return{x:m,y,width:A,height:T};if(Ee(_)&&Ee(S))return{x:_,y:S,width:A,height:T}}return Ee(m)&&Ee(y)?{x:m,y,width:0,height:0}:Ee(n)&&Ee(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:h||d||u||0,clockWise:O}:e.viewBox?e.viewBox:{}},fH=function(e,n){return e?e===!0?J.createElement(wn,{key:"label-implicit",viewBox:n}):mn(e)?J.createElement(wn,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===wn?j.cloneElement(e,{key:"label-implicit",viewBox:n}):J.createElement(wn,{key:"label-implicit",content:e,viewBox:n}):Ke(e)?J.createElement(wn,{key:"label-implicit",content:e,viewBox:n}):Hl(e)?J.createElement(wn,Qc({viewBox:n},e,{key:"label-implicit"})):null:null},hH=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=v5(e),s=Rr(a,wn).map(function(d,c){return j.cloneElement(d,{viewBox:n||i,key:"label-".concat(c)})});if(!r)return s;var u=fH(e.label,n||i);return[u].concat(XG(s))};wn.parseViewBox=v5;wn.renderCallByParent=hH;var ux,rN;function mH(){if(rN)return ux;rN=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return ux=t,ux}var pH=mH();const gH=yt(pH);function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}var vH=["valueAccessor"],yH=["data","dataKey","clockWise","id","textBreakAll"];function bH(t){return wH(t)||SH(t)||_H(t)||xH()}function xH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _H(t,e){if(t){if(typeof t=="string")return I_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(t,e)}}function SH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wH(t){if(Array.isArray(t))return I_(t)}function I_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wh.apply(this,arguments)}function aN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function iN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(n),!0).forEach(function(r){TH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TH(t,e,n){return e=AH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AH(t){var e=EH(t,"string");return ed(e)=="symbol"?e:e+""}function EH(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oN(t,e){if(t==null)return{};var n=CH(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kH=function(e){return Array.isArray(e.value)?gH(e.value):e.value};function Hi(t){var e=t.valueAccessor,n=e===void 0?kH:e,r=oN(t,vH),a=r.data,i=r.dataKey,s=r.clockWise,u=r.id,d=r.textBreakAll,c=oN(r,yH);return!a||!a.length?null:J.createElement(At,{className:"recharts-label-list"},a.map(function(h,m){var y=st(i)?n(h,m):Ln(h&&h.payload,i),_=st(u)?{}:{id:"".concat(u,"-").concat(m)};return J.createElement(wn,Wh({},He(h,!0),c,_,{parentViewBox:h.parentViewBox,value:y,textBreakAll:d,viewBox:wn.parseViewBox(st(s)?h:iN(iN({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}Hi.displayName="LabelList";function OH(t,e){return t?t===!0?J.createElement(Hi,{key:"labelList-implicit",data:e}):J.isValidElement(t)||Ke(t)?J.createElement(Hi,{key:"labelList-implicit",data:e,content:t}):Hl(t)?J.createElement(Hi,Wh({data:e},t,{key:"labelList-implicit"})):null:null}function MH(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,a=Rr(r,Hi).map(function(s,u){return j.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!n)return a;var i=OH(t.label,e);return[i].concat(bH(a))}Hi.renderCallByParent=MH;function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){DH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DH(t,e,n){return e=NH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NH(t){var e=PH(t,"string");return td(e)=="symbol"?e:e+""}function PH(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RH=function(e,n){var r=zn(n-e),a=Math.min(Math.abs(n-e),359.999);return r*a},lh=function(e){var n=e.cx,r=e.cy,a=e.radius,i=e.angle,s=e.sign,u=e.isExternal,d=e.cornerRadius,c=e.cornerIsExternal,h=d*(u?1:-1)+a,m=Math.asin(d/h)/Yh,y=c?i:i+s*m,_=Lt(n,r,h,y),S=Lt(n,r,a,y),A=c?i-s*m:i,T=Lt(n,r,h*Math.cos(m*Yh),A);return{center:_,circleTangency:S,lineTangency:T,theta:m}},y5=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,u=e.endAngle,d=RH(s,u),c=s+d,h=Lt(n,r,i,s),m=Lt(n,r,i,c),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>c),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var _=Lt(n,r,a,s),S=Lt(n,r,a,c);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=c),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},IH=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,c=e.startAngle,h=e.endAngle,m=zn(h-c),y=lh({cx:n,cy:r,radius:i,angle:c,sign:m,cornerRadius:s,cornerIsExternal:d}),_=y.circleTangency,S=y.lineTangency,A=y.theta,T=lh({cx:n,cy:r,radius:i,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:d}),O=T.circleTangency,M=T.lineTangency,E=T.theta,D=d?Math.abs(c-h):Math.abs(c-h)-A-E;if(D<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):y5({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:h});var C="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
  `);if(a>0){var k=lh({cx:n,cy:r,radius:a,angle:c,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),P=k.circleTangency,R=k.lineTangency,U=k.theta,F=lh({cx:n,cy:r,radius:a,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),L=F.circleTangency,G=F.lineTangency,Q=F.theta,H=d?Math.abs(c-h):Math.abs(c-h)-U-Q;if(H<0&&s===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(G.x,",").concat(G.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},jH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},b5=function(e){var n=lN(lN({},jH),e),r=n.cx,a=n.cy,i=n.innerRadius,s=n.outerRadius,u=n.cornerRadius,d=n.forceCornerRadius,c=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,y=n.className;if(s<i||h===m)return null;var _=rt("recharts-sector",y),S=s-i,A=Gn(u,S,0,!0),T;return A>0&&Math.abs(h-m)<360?T=IH({cx:r,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(A,S/2),forceCornerRadius:d,cornerIsExternal:c,startAngle:h,endAngle:m}):T=y5({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:h,endAngle:m}),J.createElement("path",j_({},He(n,!0),{className:_,d:T,role:"img"}))};function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){$H(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $H(t,e,n){return e=LH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LH(t){var e=BH(t,"string");return nd(e)=="symbol"?e:e+""}function BH(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dN={curveBasisClosed:i6,curveBasisOpen:o6,curveBasis:a6,curveBumpX:zU,curveBumpY:GU,curveLinearClosed:s6,curveLinear:$m,curveMonotoneX:l6,curveMonotoneY:u6,curveNatural:c6,curveStep:d6,curveStepAfter:h6,curveStepBefore:f6},uh=function(e){return e.x===+e.x&&e.y===+e.y},fc=function(e){return e.x},hc=function(e){return e.y},qH=function(e,n){if(Ke(e))return e;var r="curve".concat(Im(e));return(r==="curveMonotone"||r==="curveBump")&&n?dN["".concat(r).concat(n==="vertical"?"Y":"X")]:dN[r]||$m},UH=function(e){var n=e.type,r=n===void 0?"linear":n,a=e.points,i=a===void 0?[]:a,s=e.baseLine,u=e.layout,d=e.connectNulls,c=d===void 0?!1:d,h=qH(r,u),m=c?i.filter(function(A){return uh(A)}):i,y;if(Array.isArray(s)){var _=c?s.filter(function(A){return uh(A)}):s,S=m.map(function(A,T){return cN(cN({},A),{},{base:_[T]})});return u==="vertical"?y=eh().y(hc).x1(fc).x0(function(A){return A.base.x}):y=eh().x(fc).y1(hc).y0(function(A){return A.base.y}),y.defined(uh).curve(h),y(S)}return u==="vertical"&&Ee(s)?y=eh().y(hc).x1(fc).x0(s):Ee(s)?y=eh().x(fc).y1(hc).y0(s):y=gI().x(fc).y(hc),y.defined(uh).curve(h),y(m)},L_=function(e){var n=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var s=r&&r.length?UH(e):a;return J.createElement("path",$_({},He(e,!1),wh(e),{className:rt("recharts-curve",n),d:s,ref:i}))},cx={exports:{}},dx,fN;function FH(){if(fN)return dx;fN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dx=t,dx}var fx,hN;function VH(){if(hN)return fx;hN=1;var t=FH();function e(){}function n(){}return n.resetWarningCache=e,fx=function(){function r(s,u,d,c,h,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},fx}var mN;function zH(){return mN||(mN=1,cx.exports=VH()()),cx.exports}var GH=zH();const _t=yt(GH);var HH=Object.getOwnPropertyNames,KH=Object.getOwnPropertySymbols,YH=Object.prototype.hasOwnProperty;function pN(t,e){return function(r,a,i){return t(r,a,i)&&e(r,a,i)}}function ch(t){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,a);var i=a.cache,s=i.get(n),u=i.get(r);if(s&&u)return s===r&&u===n;i.set(n,r),i.set(r,n);var d=t(n,r,a);return i.delete(n),i.delete(r),d}}function gN(t){return HH(t).concat(KH(t))}var WH=Object.hasOwn||function(t,e){return YH.call(t,e)};function es(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var XH="__v",ZH="__o",JH="_owner",vN=Object.getOwnPropertyDescriptor,yN=Object.keys;function QH(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function eK(t,e){return es(t.getTime(),e.getTime())}function tK(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function nK(t,e){return t===e}function bN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.entries(),s,u,d=0;(s=i.next())&&!s.done;){for(var c=e.entries(),h=!1,m=0;(u=c.next())&&!u.done;){if(a[m]){m++;continue}var y=s.value,_=u.value;if(n.equals(y[0],_[0],d,m,t,e,n)&&n.equals(y[1],_[1],y[0],_[0],t,e,n)){h=a[m]=!0;break}m++}if(!h)return!1;d++}return!0}var rK=es;function aK(t,e,n){var r=yN(t),a=r.length;if(yN(e).length!==a)return!1;for(;a-- >0;)if(!x5(t,e,n,r[a]))return!1;return!0}function mc(t,e,n){var r=gN(t),a=r.length;if(gN(e).length!==a)return!1;for(var i,s,u;a-- >0;)if(i=r[a],!x5(t,e,n,i)||(s=vN(t,i),u=vN(e,i),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function iK(t,e){return es(t.valueOf(),e.valueOf())}function oK(t,e){return t.source===e.source&&t.flags===e.flags}function xN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.values(),s,u;(s=i.next())&&!s.done;){for(var d=e.values(),c=!1,h=0;(u=d.next())&&!u.done;){if(!a[h]&&n.equals(s.value,u.value,s.value,u.value,t,e,n)){c=a[h]=!0;break}h++}if(!c)return!1}return!0}function sK(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function lK(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function x5(t,e,n,r){return(r===JH||r===ZH||r===XH)&&(t.$$typeof||e.$$typeof)?!0:WH(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var uK="[object Arguments]",cK="[object Boolean]",dK="[object Date]",fK="[object Error]",hK="[object Map]",mK="[object Number]",pK="[object Object]",gK="[object RegExp]",vK="[object Set]",yK="[object String]",bK="[object URL]",xK=Array.isArray,_N=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,SN=Object.assign,_K=Object.prototype.toString.call.bind(Object.prototype.toString);function SK(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,u=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(S,A,T){if(S===A)return!0;if(S==null||A==null)return!1;var O=typeof S;if(O!==typeof A)return!1;if(O!=="object")return O==="number"?s(S,A,T):O==="function"?a(S,A,T):!1;var M=S.constructor;if(M!==A.constructor)return!1;if(M===Object)return u(S,A,T);if(xK(S))return e(S,A,T);if(_N!=null&&_N(S))return m(S,A,T);if(M===Date)return n(S,A,T);if(M===RegExp)return c(S,A,T);if(M===Map)return i(S,A,T);if(M===Set)return h(S,A,T);var E=_K(S);return E===dK?n(S,A,T):E===gK?c(S,A,T):E===hK?i(S,A,T):E===vK?h(S,A,T):E===pK?typeof S.then!="function"&&typeof A.then!="function"&&u(S,A,T):E===bK?y(S,A,T):E===fK?r(S,A,T):E===uK?u(S,A,T):E===cK||E===mK||E===yK?d(S,A,T):!1}}function wK(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,a={areArraysEqual:r?mc:QH,areDatesEqual:eK,areErrorsEqual:tK,areFunctionsEqual:nK,areMapsEqual:r?pN(bN,mc):bN,areNumbersEqual:rK,areObjectsEqual:r?mc:aK,arePrimitiveWrappersEqual:iK,areRegExpsEqual:oK,areSetsEqual:r?pN(xN,mc):xN,areTypedArraysEqual:r?mc:sK,areUrlsEqual:lK};if(n&&(a=SN({},a,n(a))),e){var i=ch(a.areArraysEqual),s=ch(a.areMapsEqual),u=ch(a.areObjectsEqual),d=ch(a.areSetsEqual);a=SN({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:u,areSetsEqual:d})}return a}function TK(t){return function(e,n,r,a,i,s,u){return t(e,n,u)}}function AK(t){var e=t.circular,n=t.comparator,r=t.createState,a=t.equals,i=t.strict;if(r)return function(d,c){var h=r(),m=h.cache,y=m===void 0?e?new WeakMap:void 0:m,_=h.meta;return n(d,c,{cache:y,equals:a,meta:_,strict:i})};if(e)return function(d,c){return n(d,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(d,c){return n(d,c,s)}}var EK=Qi();Qi({strict:!0});Qi({circular:!0});Qi({circular:!0,strict:!0});Qi({createInternalComparator:function(){return es}});Qi({strict:!0,createInternalComparator:function(){return es}});Qi({circular:!0,createInternalComparator:function(){return es}});Qi({circular:!0,createInternalComparator:function(){return es},strict:!0});function Qi(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,u=wK(t),d=SK(u),c=r?r(d):TK(d);return AK({circular:n,comparator:d,createState:a,equals:c,strict:s})}function CK(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function wN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>e?(t(i),n=-1):CK(a)};requestAnimationFrame(r)}function B_(t){"@babel/helpers - typeof";return B_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B_(t)}function kK(t){return NK(t)||DK(t)||MK(t)||OK()}function OK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(t,e){if(t){if(typeof t=="string")return TN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TN(t,e)}}function TN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NK(t){if(Array.isArray(t))return t}function PK(){var t={},e=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var s=i,u=kK(s),d=u[0],c=u.slice(1);if(typeof d=="number"){wN(a.bind(null,c),d);return}a(d),wN(a.bind(null,c));return}B_(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function EN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){_5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _5(t,e,n){return e=RK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RK(t){var e=IK(t,"string");return rd(e)==="symbol"?e:String(e)}function IK(t,e){if(rd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jK=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},$K=function(e){return e},LK=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Oc=function(e,n){return Object.keys(n).reduce(function(r,a){return EN(EN({},r),{},_5({},a,e(a,n[a])))},{})},CN=function(e,n,r){return e.map(function(a){return"".concat(LK(a)," ").concat(n,"ms ").concat(r)}).join(",")};function BK(t,e){return FK(t)||UK(t,e)||S5(t,e)||qK()}function qK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function FK(t){if(Array.isArray(t))return t}function VK(t){return HK(t)||GK(t)||S5(t)||zK()}function zK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S5(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function GK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HK(t){if(Array.isArray(t))return q_(t)}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xh=1e-4,w5=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},T5=function(e,n){return e.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},kN=function(e,n){return function(r){var a=w5(e,n);return T5(a,r)}},KK=function(e,n){return function(r){var a=w5(e,n),i=[].concat(VK(a.map(function(s,u){return s*u}).slice(1)),[0]);return T5(i,r)}},ON=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0],i=n[1],s=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,s=1,u=1;break;case"ease":a=.25,i=.1,s=.25,u=1;break;case"ease-in":a=.42,i=0,s=1,u=1;break;case"ease-out":a=.42,i=0,s=.58,u=1;break;case"ease-in-out":a=0,i=0,s=.58,u=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var c=d[1].split(")")[0].split(",").map(function(T){return parseFloat(T)}),h=BK(c,4);a=h[0],i=h[1],s=h[2],u=h[3]}}}var m=kN(a,s),y=kN(i,u),_=KK(a,s),S=function(O){return O>1?1:O<0?0:O},A=function(O){for(var M=O>1?1:O,E=M,D=0;D<8;++D){var C=m(E)-M,k=_(E);if(Math.abs(C-M)<Xh||k<Xh)return y(E);E=S(E-C/k)}return y(E)};return A.isStepper=!1,A},YK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,a=e.damping,i=a===void 0?8:a,s=e.dt,u=s===void 0?17:s,d=function(h,m,y){var _=-(h-m)*r,S=y*i,A=y+(_-S)*u/1e3,T=y*u/1e3+h;return Math.abs(T-m)<Xh&&Math.abs(A)<Xh?[m,0]:[T,A]};return d.isStepper=!0,d.dt=u,d},WK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ON(a);case"spring":return YK();default:if(a.split("(")[0]==="cubic-bezier")return ON(a)}return typeof a=="function"?a:null};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function MN(t){return JK(t)||ZK(t)||A5(t)||XK()}function XK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JK(t){if(Array.isArray(t))return F_(t)}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){U_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U_(t,e,n){return e=QK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QK(t){var e=eY(t,"string");return ad(e)==="symbol"?e:String(e)}function eY(t,e){if(ad(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tY(t,e){return aY(t)||rY(t,e)||A5(t,e)||nY()}function nY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A5(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function aY(t){if(Array.isArray(t))return t}var Zh=function(e,n,r){return e+(n-e)*r},V_=function(e){var n=e.from,r=e.to;return n!==r},iY=function t(e,n,r){var a=Oc(function(i,s){if(V_(s)){var u=e(s.from,s.to,s.velocity),d=tY(u,2),c=d[0],h=d[1];return Mn(Mn({},s),{},{from:c,velocity:h})}return s},n);return r<1?Oc(function(i,s){return V_(s)?Mn(Mn({},s),{},{velocity:Zh(s.velocity,a[i].velocity,r),from:Zh(s.from,a[i].from,r)}):s},n):t(e,a,r-1)};const oY=function(t,e,n,r,a){var i=jK(t,e),s=i.reduce(function(T,O){return Mn(Mn({},T),{},U_({},O,[t[O],e[O]]))},{}),u=i.reduce(function(T,O){return Mn(Mn({},T),{},U_({},O,{from:t[O],velocity:0,to:e[O]}))},{}),d=-1,c,h,m=function(){return null},y=function(){return Oc(function(O,M){return M.from},u)},_=function(){return!Object.values(u).filter(V_).length},S=function(O){c||(c=O);var M=O-c,E=M/n.dt;u=iY(n,u,E),a(Mn(Mn(Mn({},t),e),y())),c=O,_()||(d=requestAnimationFrame(m))},A=function(O){h||(h=O);var M=(O-h)/r,E=Oc(function(C,k){return Zh.apply(void 0,MN(k).concat([n(M)]))},s);if(a(Mn(Mn(Mn({},t),e),E)),M<1)d=requestAnimationFrame(m);else{var D=Oc(function(C,k){return Zh.apply(void 0,MN(k).concat([n(1)]))},s);a(Mn(Mn(Mn({},t),e),D))}};return m=n.isStepper?S:A,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}var sY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lY(t,e){if(t==null)return{};var n=uY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uY(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function hx(t){return hY(t)||fY(t)||dY(t)||cY()}function cY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dY(t,e){if(t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function fY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hY(t){if(Array.isArray(t))return z_(t)}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){xc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xc(t,e,n){return e=E5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E5(r.key),r)}}function gY(t,e,n){return e&&pY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function E5(t){var e=vY(t,"string");return wl(e)==="symbol"?e:String(e)}function vY(t,e){if(wl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G_(t,e)}function G_(t,e){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},G_(t,e)}function bY(t){var e=xY();return function(){var r=Jh(t),a;if(e){var i=Jh(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return H_(this,a)}}function H_(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K_(t)}function K_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jh(t)}var Ja=function(t){yY(n,t);var e=bY(n);function n(r,a){var i;mY(this,n),i=e.call(this,r,a);var s=i.props,u=s.isActive,d=s.attributeName,c=s.from,h=s.to,m=s.steps,y=s.children,_=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(K_(i)),i.changeStyle=i.changeStyle.bind(K_(i)),!u||_<=0)return i.state={style:{}},typeof y=="function"&&(i.state={style:h}),H_(i);if(m&&m.length)i.state={style:m[0].style};else if(c){if(typeof y=="function")return i.state={style:c},H_(i);i.state={style:d?xc({},d,c):c}}else i.state={style:{}};return i}return gY(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,u=i.canBegin,d=i.attributeName,c=i.shouldReAnimate,h=i.to,m=i.from,y=this.state.style;if(u){if(!s){var _={style:d?xc({},d,h):h};this.state&&y&&(d&&y[d]!==h||!d&&y!==h)&&this.setState(_);return}if(!(EK(a.to,h)&&a.canBegin&&a.isActive)){var S=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=S||c?m:a.to;if(this.state&&y){var T={style:d?xc({},d,A):A};(d&&y[d]!==A||!d&&y!==A)&&this.setState(T)}this.runAnimation(zr(zr({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,u=a.to,d=a.duration,c=a.easing,h=a.begin,m=a.onAnimationEnd,y=a.onAnimationStart,_=oY(s,u,WK(c),d,this.changeStyle),S=function(){i.stopJSAnimation=_()};this.manager.start([y,h,S,d,m])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,u=a.begin,d=a.onAnimationStart,c=s[0],h=c.style,m=c.duration,y=m===void 0?0:m,_=function(A,T,O){if(O===0)return A;var M=T.duration,E=T.easing,D=E===void 0?"ease":E,C=T.style,k=T.properties,P=T.onAnimationEnd,R=O>0?s[O-1]:T,U=k||Object.keys(C);if(typeof D=="function"||D==="spring")return[].concat(hx(A),[i.runJSAnimation.bind(i,{from:R.style,to:C,duration:M,easing:D}),M]);var F=CN(U,M,D),L=zr(zr(zr({},R.style),C),{},{transition:F});return[].concat(hx(A),[L,M,P]).filter($K)};return this.manager.start([d].concat(hx(s.reduce(_,[h,Math.max(y,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=PK());var i=a.begin,s=a.duration,u=a.attributeName,d=a.to,c=a.easing,h=a.onAnimationStart,m=a.onAnimationEnd,y=a.steps,_=a.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof c=="function"||typeof _=="function"||c==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var A=u?xc({},u,d):d,T=CN(Object.keys(A),s,c);S.start([h,i,zr(zr({},A),{},{transition:T}),s,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=lY(a,sY),c=j.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!u||c===0||s<=0)return i;var m=function(_){var S=_.props,A=S.style,T=A===void 0?{}:A,O=S.className,M=j.cloneElement(_,zr(zr({},d),{},{style:zr(zr({},T),h),className:O}));return M};return c===1?m(j.Children.only(i)):J.createElement("div",null,j.Children.map(i,function(y){return m(y)}))}}]),n}(j.PureComponent);Ja.displayName="Animate";Ja.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ja.propTypes={from:_t.oneOfType([_t.object,_t.string]),to:_t.oneOfType([_t.object,_t.string]),attributeName:_t.string,duration:_t.number,begin:_t.number,easing:_t.oneOfType([_t.string,_t.func]),steps:_t.arrayOf(_t.shape({duration:_t.number.isRequired,style:_t.object.isRequired,easing:_t.oneOfType([_t.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_t.func]),properties:_t.arrayOf("string"),onAnimationEnd:_t.func})),children:_t.oneOfType([_t.node,_t.func]),isActive:_t.bool,canBegin:_t.bool,onAnimationEnd:_t.func,shouldReAnimate:_t.bool,onAnimationStart:_t.func,onAnimationReStart:_t.func};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qh.apply(this,arguments)}function _Y(t,e){return AY(t)||TY(t,e)||wY(t,e)||SY()}function SY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wY(t,e){if(t){if(typeof t=="string")return PN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PN(t,e)}}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function AY(t){if(Array.isArray(t))return t}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function IN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){EY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EY(t,e,n){return e=CY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CY(t){var e=kY(t,"string");return id(e)=="symbol"?e:e+""}function kY(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jN=function(e,n,r,a,i){var s=Math.min(Math.abs(r)/2,Math.abs(a)/2),u=a>=0?1:-1,d=r>=0?1:-1,c=a>=0&&r>=0||a<0&&r<0?1:0,h;if(s>0&&i instanceof Array){for(var m=[0,0,0,0],y=0,_=4;y<_;y++)m[y]=i[y]>s?s:i[y];h="M".concat(e,",").concat(n+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(c,",").concat(e+d*m[0],",").concat(n)),h+="L ".concat(e+r-d*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+u*m[1])),h+="L ".concat(e+r,",").concat(n+a-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(c,`,
        `).concat(e+r-d*m[2],",").concat(n+a)),h+="L ".concat(e+d*m[3],",").concat(n+a),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+a-u*m[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var S=Math.min(s,i);h="M ".concat(e,",").concat(n+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(c,",").concat(e+d*S,",").concat(n,`
            L `).concat(e+r-d*S,",").concat(n,`
            A `).concat(S,",").concat(S,",0,0,").concat(c,",").concat(e+r,",").concat(n+u*S,`
            L `).concat(e+r,",").concat(n+a-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(c,",").concat(e+r-d*S,",").concat(n+a,`
            L `).concat(e+d*S,",").concat(n+a,`
            A `).concat(S,",").concat(S,",0,0,").concat(c,",").concat(e,",").concat(n+a-u*S," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return h},OY=function(e,n){if(!e||!n)return!1;var r=e.x,a=e.y,i=n.x,s=n.y,u=n.width,d=n.height;if(Math.abs(u)>0&&Math.abs(d)>0){var c=Math.min(i,i+u),h=Math.max(i,i+u),m=Math.min(s,s+d),y=Math.max(s,s+d);return r>=c&&r<=h&&a>=m&&a<=y}return!1},MY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bw=function(e){var n=IN(IN({},MY),e),r=j.useRef(),a=j.useState(-1),i=_Y(a,2),s=i[0],u=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&u(D)}catch{}},[]);var d=n.x,c=n.y,h=n.width,m=n.height,y=n.radius,_=n.className,S=n.animationEasing,A=n.animationDuration,T=n.animationBegin,O=n.isAnimationActive,M=n.isUpdateAnimationActive;if(d!==+d||c!==+c||h!==+h||m!==+m||h===0||m===0)return null;var E=rt("recharts-rectangle",_);return M?J.createElement(Ja,{canBegin:s>0,from:{width:h,height:m,x:d,y:c},to:{width:h,height:m,x:d,y:c},duration:A,animationEasing:S,isActive:M},function(D){var C=D.width,k=D.height,P=D.x,R=D.y;return J.createElement(Ja,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:A,isActive:O,easing:S},J.createElement("path",Qh({},He(n,!0),{className:E,d:jN(P,R,C,k,y),ref:r})))}):J.createElement("path",Qh({},He(n,!0),{className:E,d:jN(d,c,h,m,y)}))},DY=["points","className","baseLinePoints","connectNulls"];function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(this,arguments)}function NY(t,e){if(t==null)return{};var n=PY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $N(t){return $Y(t)||jY(t)||IY(t)||RY()}function RY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IY(t,e){if(t){if(typeof t=="string")return Y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y_(t,e)}}function jY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Y(t){if(Array.isArray(t))return Y_(t)}function Y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var LN=function(e){return e&&e.x===+e.x&&e.y===+e.y},LY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){LN(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),LN(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Mc=function(e,n){var r=LY(e);n&&(r=[r.reduce(function(i,s){return[].concat($N(i),$N(s))},[])]);var a=r.map(function(i){return i.reduce(function(s,u,d){return"".concat(s).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},BY=function(e,n,r){var a=Mc(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Mc(n.reverse(),r).slice(1))},qY=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,s=NY(e,DY);if(!n||!n.length)return null;var u=rt("recharts-polygon",r);if(a&&a.length){var d=s.stroke&&s.stroke!=="none",c=BY(n,a,i);return J.createElement("g",{className:u},J.createElement("path",nl({},He(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),d?J.createElement("path",nl({},He(s,!0),{fill:"none",d:Mc(n,i)})):null,d?J.createElement("path",nl({},He(s,!0),{fill:"none",d:Mc(a,i)})):null)}var h=Mc(n,i);return J.createElement("path",nl({},He(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}var qw=function(e){var n=e.cx,r=e.cy,a=e.r,i=e.className,s=rt("recharts-dot",i);return n===+n&&r===+r&&a===+a?J.createElement("circle",W_({},He(e,!1),wh(e),{className:s,cx:n,cy:r,r:a})):null};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}var UY=["x","y","top","left","width","height","className"];function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(this,arguments)}function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function FY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){VY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VY(t,e,n){return e=zY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zY(t){var e=GY(t,"string");return od(e)=="symbol"?e:e+""}function GY(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HY(t,e){if(t==null)return{};var n=KY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var YY=function(e,n,r,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(n,"h").concat(r)},WY=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,s=e.top,u=s===void 0?0:s,d=e.left,c=d===void 0?0:d,h=e.width,m=h===void 0?0:h,y=e.height,_=y===void 0?0:y,S=e.className,A=HY(e,UY),T=FY({x:r,y:i,top:u,left:c,width:m,height:_},A);return!Ee(r)||!Ee(i)||!Ee(m)||!Ee(_)||!Ee(u)||!Ee(c)?null:J.createElement("path",X_({},He(T,!0),{className:rt("recharts-cross",S),d:YY(r,i,m,_,u,c)}))},mx,qN;function XY(){if(qN)return mx;qN=1;var t=Wm(),e=Uj(),n=ba();function r(a,i){return a&&a.length?t(a,n(i,2),e):void 0}return mx=r,mx}var ZY=XY();const JY=yt(ZY);var px,UN;function QY(){if(UN)return px;UN=1;var t=Wm(),e=ba(),n=Fj();function r(a,i){return a&&a.length?t(a,e(i,2),n):void 0}return px=r,px}var eW=QY();const tW=yt(eW);var nW=["cx","cy","angle","ticks","axisLine"],rW=["ticks","tick","angle","tickFormatter","stroke"];function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){np(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VN(t,e){if(t==null)return{};var n=aW(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k5(r.key),r)}}function oW(t,e,n){return e&&zN(t.prototype,e),n&&zN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sW(t,e,n){return e=em(e),lW(t,C5()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function lW(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uW(t)}function uW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C5=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function cW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Z_(t,e)}function np(t,e,n){return e=k5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k5(t){var e=dW(t,"string");return Tl(e)=="symbol"?e:e+""}function dW(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rp=function(t){function e(){return iW(this,e),sW(this,e,arguments)}return cW(e,t),oW(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,s=i.angle,u=i.cx,d=i.cy;return Lt(u,d,a,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,u=r.ticks,d=JY(u,function(h){return h.coordinate||0}),c=tW(u,function(h){return h.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,u=r.ticks,d=r.axisLine,c=VN(r,nW),h=u.reduce(function(S,A){return[Math.min(S[0],A.coordinate),Math.max(S[1],A.coordinate)]},[1/0,-1/0]),m=Lt(a,i,h[0],s),y=Lt(a,i,h[1],s),_=Eo(Eo(Eo({},He(c,!1)),{},{fill:"none"},He(d,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return J.createElement("line",Dc({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,u=a.angle,d=a.tickFormatter,c=a.stroke,h=VN(a,rW),m=this.getTickTextAnchor(),y=He(h,!1),_=He(s,!1),S=i.map(function(A,T){var O=r.getTickValueCoord(A),M=Eo(Eo(Eo(Eo({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(O.x,", ").concat(O.y,")")},y),{},{stroke:"none",fill:c},_),{},{index:T},O),{},{payload:A});return J.createElement(At,Dc({className:rt("recharts-polar-radius-axis-tick",g5(s)),key:"tick-".concat(A.coordinate)},Fo(r.props,A,T)),e.renderTickItem(s,M,d?d(A.value,T):A.value))});return J.createElement(At,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,s=r.tick;return!a||!a.length?null:J.createElement(At,{className:rt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),wn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var s;return J.isValidElement(r)?s=J.cloneElement(r,a):Ke(r)?s=r(a):s=J.createElement(Vo,Dc({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(j.PureComponent);np(rp,"displayName","PolarRadiusAxis");np(rp,"axisType","radiusAxis");np(rp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function Po(){return Po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Po.apply(this,arguments)}function GN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(n),!0).forEach(function(r){ap(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M5(r.key),r)}}function hW(t,e,n){return e&&HN(t.prototype,e),n&&HN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mW(t,e,n){return e=tm(e),pW(t,O5()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function pW(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gW(t)}function gW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O5=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function vW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},J_(t,e)}function ap(t,e,n){return e=M5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M5(t){var e=yW(t,"string");return Al(e)=="symbol"?e:e+""}function yW(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bW=Math.PI/180,KN=1e-5,ip=function(t){function e(){return fW(this,e),mW(this,e,arguments)}return vW(e,t),hW(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,s=a.cy,u=a.radius,d=a.orientation,c=a.tickSize,h=c||8,m=Lt(i,s,u,r.coordinate),y=Lt(i,s,u+(d==="inner"?-1:1)*h,r.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*bW),s;return i>KN?s=a==="outer"?"start":"end":i<-KN?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.radius,u=r.axisLine,d=r.axisLineType,c=Co(Co({},He(this.props,!1)),{},{fill:"none"},He(u,!1));if(d==="circle")return J.createElement(qw,Po({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:i,r:s}));var h=this.props.ticks,m=h.map(function(y){return Lt(a,i,s,y.coordinate)});return J.createElement(qY,Po({className:"recharts-polar-angle-axis-line"},c,{points:m}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,u=a.tickLine,d=a.tickFormatter,c=a.stroke,h=He(this.props,!1),m=He(s,!1),y=Co(Co({},h),{},{fill:"none"},He(u,!1)),_=i.map(function(S,A){var T=r.getTickLineCoord(S),O=r.getTickTextAnchor(S),M=Co(Co(Co({textAnchor:O},h),{},{stroke:"none",fill:c},m),{},{index:A,payload:S,x:T.x2,y:T.y2});return J.createElement(At,Po({className:rt("recharts-polar-angle-axis-tick",g5(s)),key:"tick-".concat(S.coordinate)},Fo(r.props,S,A)),u&&J.createElement("line",Po({className:"recharts-polar-angle-axis-tick-line"},y,T)),s&&e.renderTickItem(s,M,d?d(S.value,A):S.value))});return J.createElement(At,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,s=r.axisLine;return i<=0||!a||!a.length?null:J.createElement(At,{className:rt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var s;return J.isValidElement(r)?s=J.cloneElement(r,a):Ke(r)?s=r(a):s=J.createElement(Vo,Po({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(j.PureComponent);ap(ip,"displayName","PolarAngleAxis");ap(ip,"axisType","angleAxis");ap(ip,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var gx,YN;function xW(){if(YN)return gx;YN=1;var t=BI(),e=t(Object.getPrototypeOf,Object);return gx=e,gx}var vx,WN;function _W(){if(WN)return vx;WN=1;var t=ei(),e=xW(),n=ti(),r="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,u=i.hasOwnProperty,d=s.call(Object);function c(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var y=u.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==d}return vx=c,vx}var SW=_W();const wW=yt(SW);var yx,XN;function TW(){if(XN)return yx;XN=1;var t=ei(),e=ti(),n="[object Boolean]";function r(a){return a===!0||a===!1||e(a)&&t(a)==n}return yx=r,yx}var AW=TW();const EW=yt(AW);function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nm.apply(this,arguments)}function CW(t,e){return DW(t)||MW(t,e)||OW(t,e)||kW()}function kW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OW(t,e){if(t){if(typeof t=="string")return ZN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZN(t,e)}}function ZN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function DW(t){if(Array.isArray(t))return t}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function QN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){NW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NW(t,e,n){return e=PW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PW(t){var e=RW(t,"string");return sd(e)=="symbol"?e:e+""}function RW(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e2=function(e,n,r,a,i){var s=r-a,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-s/2,",").concat(n+i),u+="L ".concat(e+r-s/2-a,",").concat(n+i),u+="L ".concat(e,",").concat(n," Z"),u},IW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jW=function(e){var n=QN(QN({},IW),e),r=j.useRef(),a=j.useState(-1),i=CW(a,2),s=i[0],u=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&u(E)}catch{}},[]);var d=n.x,c=n.y,h=n.upperWidth,m=n.lowerWidth,y=n.height,_=n.className,S=n.animationEasing,A=n.animationDuration,T=n.animationBegin,O=n.isUpdateAnimationActive;if(d!==+d||c!==+c||h!==+h||m!==+m||y!==+y||h===0&&m===0||y===0)return null;var M=rt("recharts-trapezoid",_);return O?J.createElement(Ja,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:c},to:{upperWidth:h,lowerWidth:m,height:y,x:d,y:c},duration:A,animationEasing:S,isActive:O},function(E){var D=E.upperWidth,C=E.lowerWidth,k=E.height,P=E.x,R=E.y;return J.createElement(Ja,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:A,easing:S},J.createElement("path",nm({},He(n,!0),{className:M,d:e2(P,R,D,C,k),ref:r})))}):J.createElement("g",null,J.createElement("path",nm({},He(n,!0),{className:M,d:e2(d,c,h,m,y)})))},$W=["option","shapeType","propTransformer","activeClassName","isActive"];function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function LW(t,e){if(t==null)return{};var n=BW(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){qW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qW(t,e,n){return e=UW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UW(t){var e=FW(t,"string");return ld(e)=="symbol"?e:e+""}function FW(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VW(t,e){return rm(rm({},e),t)}function zW(t,e){return t==="symbols"}function n2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return J.createElement(Bw,n);case"trapezoid":return J.createElement(jW,n);case"sector":return J.createElement(b5,n);case"symbols":if(zW(e))return J.createElement(aw,n);break;default:return null}}function GW(t){return j.isValidElement(t)?t.props:t}function D5(t){var e=t.option,n=t.shapeType,r=t.propTransformer,a=r===void 0?VW:r,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,u=t.isActive,d=LW(t,$W),c;if(j.isValidElement(e))c=j.cloneElement(e,rm(rm({},d),GW(e)));else if(Ke(e))c=e(d);else if(wW(e)&&!EW(e)){var h=a(e,d);c=J.createElement(n2,{shapeType:n,elementProps:h})}else{var m=d;c=J.createElement(n2,{shapeType:n,elementProps:m})}return u?J.createElement(At,{className:s},c):c}function op(t,e){return e!=null&&"trapezoids"in t.props}function sp(t,e){return e!=null&&"sectors"in t.props}function ud(t,e){return e!=null&&"points"in t.props}function HW(t,e){var n,r,a=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return a&&i}function KW(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function YW(t,e){var n=t.x===e.x,r=t.y===e.y,a=t.z===e.z;return n&&r&&a}function WW(t,e){var n;return op(t,e)?n=HW:sp(t,e)?n=KW:ud(t,e)&&(n=YW),n}function XW(t,e){var n;return op(t,e)?n="trapezoids":sp(t,e)?n="sectors":ud(t,e)&&(n="points"),n}function ZW(t,e){if(op(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(sp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ud(t,e)?e.payload:{}}function JW(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,a=XW(n,e),i=ZW(n,e),s=r.filter(function(d,c){var h=Jm(i,d),m=n.props[a].filter(function(S){var A=WW(n,e);return A(S,e)}),y=n.props[a].indexOf(m[m.length-1]),_=c===y;return h&&_}),u=r.indexOf(s[s.length-1]);return u}var gh;function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(this,arguments)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){Nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P5(r.key),r)}}function eX(t,e,n){return e&&a2(t.prototype,e),n&&a2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tX(t,e,n){return e=am(e),nX(t,N5()?Reflect.construct(e,n||[],am(t).constructor):e.apply(t,n))}function nX(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rX(t)}function rX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N5=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},am(t)}function aX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q_(t,e)}function Q_(t,e){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Q_(t,e)}function Nr(t,e,n){return e=P5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P5(t){var e=iX(t,"string");return El(e)=="symbol"?e:e+""}function iX(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ri=function(t){function e(n){var r;return QW(this,e),r=tX(this,e,[n]),Nr(r,"pieRef",null),Nr(r,"sectorRefs",[]),Nr(r,"id",Sd("recharts-pie-")),Nr(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ke(a)&&a()}),Nr(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ke(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return aX(e,t),eX(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,u=i.labelLine,d=i.dataKey,c=i.valueKey,h=He(this.props,!1),m=He(s,!1),y=He(u,!1),_=s&&s.offsetRadius||20,S=r.map(function(A,T){var O=(A.startAngle+A.endAngle)/2,M=Lt(A.cx,A.cy,A.outerRadius+_,O),E=jt(jt(jt(jt({},h),A),{},{stroke:"none"},m),{},{index:T,textAnchor:e.getTextAnchor(M.x,A.cx)},M),D=jt(jt(jt(jt({},h),A),{},{fill:"none",stroke:A.fill},y),{},{index:T,points:[Lt(A.cx,A.cy,A.outerRadius,O),M]}),C=d;return st(d)&&st(c)?C="value":st(d)&&(C=c),J.createElement(At,{key:"label-".concat(A.startAngle,"-").concat(A.endAngle,"-").concat(A.midAngle,"-").concat(T)},u&&e.renderLabelLineItem(u,D,"line"),e.renderLabelItem(s,E,Ln(A,C)))});return J.createElement(At,{className:"recharts-pie-labels"},S)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,s=i.activeShape,u=i.blendStroke,d=i.inactiveShape;return r.map(function(c,h){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var m=a.isActiveIndex(h),y=d&&a.hasActiveIndex()?d:null,_=m?s:y,S=jt(jt({},c),{},{stroke:u?c.fill:c.stroke,tabIndex:-1});return J.createElement(At,rl({ref:function(T){T&&!a.sectorRefs.includes(T)&&a.sectorRefs.push(T)},tabIndex:-1,className:"recharts-pie-sector"},Fo(a.props,c,h),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(h)}),J.createElement(D5,rl({option:_,isActive:m,shapeType:"sector"},S)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,s=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,c=a.animationEasing,h=a.animationId,m=this.state,y=m.prevSectors,_=m.prevIsAnimationActive;return J.createElement(Ja,{begin:u,duration:d,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(S){var A=S.t,T=[],O=i&&i[0],M=O.startAngle;return i.forEach(function(E,D){var C=y&&y[D],k=D>0?br(E,"paddingAngle",0):0;if(C){var P=Li(C.endAngle-C.startAngle,E.endAngle-E.startAngle),R=jt(jt({},E),{},{startAngle:M+k,endAngle:M+P(A)+k});T.push(R),M=R.endAngle}else{var U=E.endAngle,F=E.startAngle,L=Li(0,U-F),G=L(A),Q=jt(jt({},E),{},{startAngle:M+k,endAngle:M+G+k});T.push(Q),M=Q.endAngle}}),J.createElement(At,null,r.renderSectorsStatically(T))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Jm(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,s=a.sectors,u=a.className,d=a.label,c=a.cx,h=a.cy,m=a.innerRadius,y=a.outerRadius,_=a.isAnimationActive,S=this.state.isAnimationFinished;if(i||!s||!s.length||!Ee(c)||!Ee(h)||!Ee(m)||!Ee(y))return null;var A=rt("recharts-pie",u);return J.createElement(At,{tabIndex:this.props.rootTabIndex,className:A,ref:function(O){r.pieRef=O}},this.renderSectors(),d&&this.renderLabels(s),wn.renderCallByParent(this.props,null,!1),(!_||S)&&Hi.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(J.isValidElement(r))return J.cloneElement(r,a);if(Ke(r))return r(a);var s=rt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return J.createElement(L_,rl({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,a,i){if(J.isValidElement(r))return J.cloneElement(r,a);var s=i;if(Ke(r)&&(s=r(a),J.isValidElement(s)))return s;var u=rt("recharts-pie-label-text",typeof r!="boolean"&&!Ke(r)?r.className:"");return J.createElement(Vo,rl({},a,{alignmentBaseline:"middle",className:u}),s)}}])}(j.PureComponent);gh=ri;Nr(ri,"displayName","Pie");Nr(ri,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Yl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Nr(ri,"parseDeltaAngle",function(t,e){var n=zn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Nr(ri,"getRealPieData",function(t){var e=t.data,n=t.children,r=He(t,!1),a=Rr(n,Fm);return e&&e.length?e.map(function(i,s){return jt(jt(jt({payload:i},r),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return jt(jt({},r),i.props)}):[]});Nr(ri,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,a=e.width,i=e.height,s=p5(a,i),u=r+Gn(t.cx,a,a/2),d=n+Gn(t.cy,i,i/2),c=Gn(t.innerRadius,s,0),h=Gn(t.outerRadius,s,s*.8),m=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:u,cy:d,innerRadius:c,outerRadius:h,maxRadius:m}});Nr(ri,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?jt(jt({},e.type.defaultProps),e.props):e.props,a=gh.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,s=r.startAngle,u=r.endAngle,d=r.paddingAngle,c=r.dataKey,h=r.nameKey,m=r.valueKey,y=r.tooltipType,_=Math.abs(r.minAngle),S=gh.parseCoordinateOfPie(r,n),A=gh.parseDeltaAngle(s,u),T=Math.abs(A),O=c;st(c)&&st(m)?(Zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O="value"):st(c)&&(Zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O=m);var M=a.filter(function(R){return Ln(R,O,0)!==0}).length,E=(T>=360?M:M-1)*d,D=T-M*_-E,C=a.reduce(function(R,U){var F=Ln(U,O,0);return R+(Ee(F)?F:0)},0),k;if(C>0){var P;k=a.map(function(R,U){var F=Ln(R,O,0),L=Ln(R,h,U),G=(Ee(F)?F:0)/C,Q;U?Q=P.endAngle+zn(A)*d*(F!==0?1:0):Q=s;var H=Q+zn(A)*((F!==0?_:0)+G*D),q=(Q+H)/2,$=(S.innerRadius+S.outerRadius)/2,z=[{name:L,value:F,payload:R,dataKey:O,type:y}],Z=Lt(S.cx,S.cy,$,q);return P=jt(jt(jt({percent:G,cornerRadius:i,name:L,tooltipPayload:z,midAngle:q,middleRadius:$,tooltipPosition:Z},R),S),{},{value:Ln(R,O),startAngle:Q,endAngle:H,payload:R,paddingAngle:zn(A)*d}),P})}return jt(jt({},S),{},{sectors:k,data:a})});var bx,i2;function oX(){if(i2)return bx;i2=1;var t=Math.ceil,e=Math.max;function n(r,a,i,s){for(var u=-1,d=e(t((a-r)/(i||1)),0),c=Array(d);d--;)c[s?d:++u]=r,r+=i;return c}return bx=n,bx}var xx,o2;function R5(){if(o2)return xx;o2=1;var t=tj(),e=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*n}return a===a?a:0}return xx=r,xx}var _x,s2;function sX(){if(s2)return _x;s2=1;var t=oX(),e=Um(),n=R5();function r(a){return function(i,s,u){return u&&typeof u!="number"&&e(i,s,u)&&(s=u=void 0),i=n(i),s===void 0?(s=i,i=0):s=n(s),u=u===void 0?i<s?1:-1:n(u),t(i,s,u,a)}}return _x=r,_x}var Sx,l2;function lX(){if(l2)return Sx;l2=1;var t=sX(),e=t();return Sx=e,Sx}var uX=lX();const im=yt(uX);function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function u2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function c2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(n),!0).forEach(function(r){I5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I5(t,e,n){return e=cX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cX(t){var e=dX(t,"string");return cd(e)=="symbol"?e:e+""}function dX(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fX=["Webkit","Moz","O","ms"],hX=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=fX.reduce(function(i,s){return c2(c2({},i),{},I5({},s+r,n))},{});return a[e]=n,a};function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},om.apply(this,arguments)}function d2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d2(Object(n),!0).forEach(function(r){pr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$5(r.key),r)}}function pX(t,e,n){return e&&f2(t.prototype,e),n&&f2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gX(t,e,n){return e=sm(e),vX(t,j5()?Reflect.construct(e,n||[],sm(t).constructor):e.apply(t,n))}function vX(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yX(t)}function yX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j5=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sm(t)}function bX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eS(t,e)}function eS(t,e){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},eS(t,e)}function pr(t,e,n){return e=$5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $5(t){var e=xX(t,"string");return Cl(e)=="symbol"?e:e+""}function xX(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _X=function(e){var n=e.data,r=e.startIndex,a=e.endIndex,i=e.x,s=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var d=n.length,c=Cc().domain(im(0,d)).range([i,i+s-u]),h=c.domain().map(function(m){return c(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(a),scale:c,scaleValues:h}},h2=function(e){return e.changedTouches&&!!e.changedTouches.length},kl=function(t){function e(n){var r;return mX(this,e),r=gX(this,e,[n]),pr(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),pr(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),pr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,s=a.onDragEnd,u=a.startIndex;s==null||s({endIndex:i,startIndex:u})}),r.detachDragEndListener()}),pr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),pr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),pr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),pr(r,"handleSlideDragStart",function(a){var i=h2(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return bX(e,t),pX(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,s=this.state.scaleValues,u=this.props,d=u.gap,c=u.data,h=c.length-1,m=Math.min(a,i),y=Math.max(a,i),_=e.getIndexInRange(s,m),S=e.getIndexInRange(s,y);return{startIndex:_-_%d,endIndex:S===h?h:S-S%d}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,s=a.tickFormatter,u=a.dataKey,d=Ln(i[r],u,r);return Ke(s)?s(d,r):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,s=a.startX,u=a.endX,d=this.props,c=d.x,h=d.width,m=d.travellerWidth,y=d.startIndex,_=d.endIndex,S=d.onChange,A=r.pageX-i;A>0?A=Math.min(A,c+h-m-u,c+h-m-s):A<0&&(A=Math.max(A,c-s,c-u));var T=this.getIndex({startX:s+A,endX:u+A});(T.startIndex!==y||T.endIndex!==_)&&S&&S(T),this.setState({startX:s+A,endX:u+A,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=h2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,u=a.endX,d=a.startX,c=this.state[s],h=this.props,m=h.x,y=h.width,_=h.travellerWidth,S=h.onChange,A=h.gap,T=h.data,O={startX:this.state.startX,endX:this.state.endX},M=r.pageX-i;M>0?M=Math.min(M,m+y-_-c):M<0&&(M=Math.max(M,m-c)),O[s]=c+M;var E=this.getIndex(O),D=E.startIndex,C=E.endIndex,k=function(){var R=T.length-1;return s==="startX"&&(u>d?D%A===0:C%A===0)||u<d&&C===R||s==="endX"&&(u>d?C%A===0:D%A===0)||u>d&&C===R};this.setState(pr(pr({},s,c+M),"brushMoveStartX",r.pageX),function(){S&&k()&&S(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,s=this.state,u=s.scaleValues,d=s.startX,c=s.endX,h=this.state[a],m=u.indexOf(h);if(m!==-1){var y=m+r;if(!(y===-1||y>=u.length)){var _=u[y];a==="startX"&&_>=c||a==="endX"&&_<=d||this.setState(pr({},a,_),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,d=r.fill,c=r.stroke;return J.createElement("rect",{stroke:c,fill:d,x:a,y:i,width:s,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,d=r.data,c=r.children,h=r.padding,m=j.Children.only(c);return m?J.cloneElement(m,{x:a,y:i,width:s,height:u,margin:h,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,s,u=this,d=this.props,c=d.y,h=d.travellerWidth,m=d.height,y=d.traveller,_=d.ariaLabel,S=d.data,A=d.startIndex,T=d.endIndex,O=Math.max(r,this.props.x),M=wx(wx({},He(this.props,!1)),{},{x:O,y:c,width:h,height:m}),E=_||"Min value: ".concat((i=S[A])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=S[T])===null||s===void 0?void 0:s.name);return J.createElement(At,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),u.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,M))}},{key:"renderSlide",value:function(r,a){var i=this.props,s=i.y,u=i.height,d=i.stroke,c=i.travellerWidth,h=Math.min(r,a)+c,m=Math.max(Math.abs(a-r)-c,0);return J.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:h,y:s,width:m,height:u})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,s=r.y,u=r.height,d=r.travellerWidth,c=r.stroke,h=this.state,m=h.startX,y=h.endX,_=5,S={pointerEvents:"none",fill:c};return J.createElement(At,{className:"recharts-brush-texts"},J.createElement(Vo,om({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-_,y:s+u/2},S),this.getTextOfTick(a)),J.createElement(Vo,om({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+d+_,y:s+u/2},S),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,s=r.children,u=r.x,d=r.y,c=r.width,h=r.height,m=r.alwaysShowText,y=this.state,_=y.startX,S=y.endX,A=y.isTextActive,T=y.isSlideMoving,O=y.isTravellerMoving,M=y.isTravellerFocused;if(!a||!a.length||!Ee(u)||!Ee(d)||!Ee(c)||!Ee(h)||c<=0||h<=0)return null;var E=rt("recharts-brush",i),D=J.Children.count(s)===1,C=hX("userSelect","none");return J.createElement(At,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(_,S),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(S,"endX"),(A||T||O||M||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,s=r.width,u=r.height,d=r.stroke,c=Math.floor(i+u/2)-1;return J.createElement(J.Fragment,null,J.createElement("rect",{x:a,y:i,width:s,height:u,fill:d,stroke:"none"}),J.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),J.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return J.isValidElement(r)?i=J.cloneElement(r,a):Ke(r)?i=r(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,s=r.width,u=r.x,d=r.travellerWidth,c=r.updateId,h=r.startIndex,m=r.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return wx({prevData:i,prevTravellerWidth:d,prevUpdateId:c,prevX:u,prevWidth:s},i&&i.length?_X({data:i,width:s,x:u,travellerWidth:d,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+s-d]);var y=a.scale.domain().map(function(_){return a.scale(_)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:c,prevX:u,prevWidth:s,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,s=0,u=i-1;u-s>1;){var d=Math.floor((s+u)/2);r[d]>a?u=d:s=d}return a>=r[u]?u:s}}])}(j.PureComponent);pr(kl,"displayName","Brush");pr(kl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Tx,m2;function SX(){if(m2)return Tx;m2=1;var t=dw();function e(n,r){var a;return t(n,function(i,s,u){return a=r(i,s,u),!a}),!!a}return Tx=e,Tx}var Ax,p2;function wX(){if(p2)return Ax;p2=1;var t=NI(),e=ba(),n=SX(),r=ir(),a=Um();function i(s,u,d){var c=r(s)?t:n;return d&&a(s,u,d)&&(u=void 0),c(s,e(u,3))}return Ax=i,Ax}var TX=wX();const AX=yt(TX);var ha=function(e,n){var r=e.alwaysShow,a=e.ifOverflow;return r&&(a="extendDomain"),a===n},Ex,g2;function EX(){if(g2)return Ex;g2=1;var t=XI();function e(n,r,a){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return Ex=e,Ex}var Cx,v2;function CX(){if(v2)return Cx;v2=1;var t=EX(),e=YI(),n=ba();function r(a,i){var s={};return i=n(i,3),e(a,function(u,d,c){t(s,d,i(u,d,c))}),s}return Cx=r,Cx}var kX=CX();const OX=yt(kX);var kx,y2;function MX(){if(y2)return kx;y2=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!n(e[r],r,e))return!1;return!0}return kx=t,kx}var Ox,b2;function DX(){if(b2)return Ox;b2=1;var t=dw();function e(n,r){var a=!0;return t(n,function(i,s,u){return a=!!r(i,s,u),a}),a}return Ox=e,Ox}var Mx,x2;function NX(){if(x2)return Mx;x2=1;var t=MX(),e=DX(),n=ba(),r=ir(),a=Um();function i(s,u,d){var c=r(s)?t:e;return d&&a(s,u,d)&&(u=void 0),c(s,n(u,3))}return Mx=i,Mx}var PX=NX();const L5=yt(PX);var RX=["x","y"];function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(this,arguments)}function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){IX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IX(t,e,n){return e=jX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jX(t){var e=$X(t,"string");return dd(e)=="symbol"?e:e+""}function $X(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LX(t,e){if(t==null)return{};var n=BX(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qX(t,e){var n=t.x,r=t.y,a=LX(t,RX),i="".concat(n),s=parseInt(i,10),u="".concat(r),d=parseInt(u,10),c="".concat(e.height||a.height),h=parseInt(c,10),m="".concat(e.width||a.width),y=parseInt(m,10);return pc(pc(pc(pc(pc({},e),a),s?{x:s}:{}),d?{y:d}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function S2(t){return J.createElement(D5,tS({shapeType:"rectangle",propTransformer:qX,activeClassName:"recharts-active-bar"},t))}var UX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof e=="number")return e;var i=typeof r=="number";return i?e(r,a):(i||Go(),n)}},FX=["value","background"],B5;function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function VX(t,e){if(t==null)return{};var n=zX(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(this,arguments)}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){Vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U5(r.key),r)}}function HX(t,e,n){return e&&T2(t.prototype,e),n&&T2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KX(t,e,n){return e=um(e),YX(t,q5()?Reflect.construct(e,n||[],um(t).constructor):e.apply(t,n))}function YX(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WX(t)}function WX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q5=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},um(t)}function XX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nS(t,e)}function nS(t,e){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},nS(t,e)}function Vi(t,e,n){return e=U5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U5(t){var e=ZX(t,"string");return Ol(e)=="symbol"?e:e+""}function ZX(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ts=function(t){function e(){var n;GX(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=KX(this,e,[].concat(a)),Vi(n,"state",{isAnimationFinished:!1}),Vi(n,"id",Sd("recharts-bar-")),Vi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Vi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return XX(e,t),HX(e,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,s=i.shape,u=i.dataKey,d=i.activeIndex,c=i.activeBar,h=He(this.props,!1);return r&&r.map(function(m,y){var _=y===d,S=_?c:s,A=sn(sn(sn({},h),m),{},{isActive:_,option:S,index:y,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return J.createElement(At,lm({className:"recharts-bar-rectangle"},Fo(a.props,m,y),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y)}),J.createElement(S2,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,s=a.layout,u=a.isAnimationActive,d=a.animationBegin,c=a.animationDuration,h=a.animationEasing,m=a.animationId,y=this.state.prevData;return J.createElement(Ja,{begin:d,duration:c,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t,A=i.map(function(T,O){var M=y&&y[O];if(M){var E=Li(M.x,T.x),D=Li(M.y,T.y),C=Li(M.width,T.width),k=Li(M.height,T.height);return sn(sn({},T),{},{x:E(S),y:D(S),width:C(S),height:k(S)})}if(s==="horizontal"){var P=Li(0,T.height),R=P(S);return sn(sn({},T),{},{y:T.y+T.height-R,height:R})}var U=Li(0,T.width),F=U(S);return sn(sn({},T),{},{width:F})});return J.createElement(At,null,r.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Jm(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,s=a.dataKey,u=a.activeIndex,d=He(this.props.background,!1);return i.map(function(c,h){c.value;var m=c.background,y=VX(c,FX);if(!m)return null;var _=sn(sn(sn(sn(sn({},y),{},{fill:"#eee"},m),d),Fo(r.props,c,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return J.createElement(S2,lm({key:"background-bar-".concat(h),option:r.props.background,isActive:h===u},_))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,u=i.xAxis,d=i.yAxis,c=i.layout,h=i.children,m=Rr(h,tp);if(!m)return null;var y=c==="vertical"?s[0].height/2:s[0].width/2,_=function(T,O){var M=Array.isArray(T.value)?T.value[1]:T.value;return{x:T.x,y:T.y,value:M,errorVal:Ln(T,O)}},S={clipPath:r?"url(#clipPath-".concat(a,")"):null};return J.createElement(At,S,m.map(function(A){return J.cloneElement(A,{key:"error-bar-".concat(a,"-").concat(A.props.dataKey),data:s,xAxis:u,yAxis:d,layout:c,offset:y,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,s=r.className,u=r.xAxis,d=r.yAxis,c=r.left,h=r.top,m=r.width,y=r.height,_=r.isAnimationActive,S=r.background,A=r.id;if(a||!i||!i.length)return null;var T=this.state.isAnimationFinished,O=rt("recharts-bar",s),M=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,D=M||E,C=st(A)?this.id:A;return J.createElement(At,{className:O},M||E?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(C)},J.createElement("rect",{x:M?c:c-m/2,y:E?h:h-y/2,width:M?m:m*2,height:E?y:y*2}))):null,J.createElement(At,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(C,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,C),(!_||T)&&Hi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(j.PureComponent);B5=ts;Vi(ts,"displayName","Bar");Vi(ts,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Yl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vi(ts,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,c=t.stackedData,h=t.dataStartIndex,m=t.displayedData,y=t.offset,_=EG(r,n);if(!_)return null;var S=e.layout,A=n.type.defaultProps,T=A!==void 0?sn(sn({},A),n.props):n.props,O=T.dataKey,M=T.children,E=T.minPointSize,D=S==="horizontal"?s:i,C=c?D.scale.domain():null,k=PG({numericAxis:D}),P=Rr(M,Fm),R=m.map(function(U,F){var L,G,Q,H,q,$;c?L=CG(c[h+F],C):(L=Ln(U,O),Array.isArray(L)||(L=[k,L]));var z=UX(E,B5.defaultProps.minPointSize)(L[1],F);if(S==="horizontal"){var Z,se=[s.scale(L[0]),s.scale(L[1])],B=se[0],K=se[1];G=WD({axis:i,ticks:u,bandSize:a,offset:_.offset,entry:U,index:F}),Q=(Z=K??B)!==null&&Z!==void 0?Z:void 0,H=_.size;var re=B-K;if(q=Number.isNaN(re)?0:re,$={x:G,y:s.y,width:H,height:s.height},Math.abs(z)>0&&Math.abs(q)<Math.abs(z)){var ce=zn(q||z)*(Math.abs(z)-Math.abs(q));Q-=ce,q+=ce}}else{var _e=[i.scale(L[0]),i.scale(L[1])],pe=_e[0],ke=_e[1];if(G=pe,Q=WD({axis:s,ticks:d,bandSize:a,offset:_.offset,entry:U,index:F}),H=ke-pe,q=_.size,$={x:i.x,y:Q,width:i.width,height:q},Math.abs(z)>0&&Math.abs(H)<Math.abs(z)){var ut=zn(H||z)*(Math.abs(z)-Math.abs(H));H+=ut}}return sn(sn(sn({},U),{},{x:G,y:Q,width:H,height:q,value:c?L:L[1],payload:U,background:$},P&&P[F]&&P[F].props),{},{tooltipPayload:[h5(n,U)],tooltipPosition:{x:G+H/2,y:Q+q/2}})});return sn({data:R,layout:S},y)});function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function JX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F5(r.key),r)}}function QX(t,e,n){return e&&A2(t.prototype,e),n&&A2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){lp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lp(t,e,n){return e=F5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F5(t){var e=eZ(t,"string");return fd(e)=="symbol"?e:e+""}function eZ(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tZ=function(e,n,r,a,i){var s=e.width,u=e.height,d=e.layout,c=e.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},y=!!gr(c,ts);return h.reduce(function(_,S){var A=n[S],T=A.orientation,O=A.domain,M=A.padding,E=M===void 0?{}:M,D=A.mirror,C=A.reversed,k="".concat(T).concat(D?"Mirror":""),P,R,U,F,L;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var G=O[1]-O[0],Q=1/0,H=A.categoricalDomain.sort(pU);if(H.forEach(function(_e,pe){pe>0&&(Q=Math.min((_e||0)-(H[pe-1]||0),Q))}),Number.isFinite(Q)){var q=Q/G,$=A.layout==="vertical"?r.height:r.width;if(A.padding==="gap"&&(P=q*$/2),A.padding==="no-gap"){var z=Gn(e.barCategoryGap,q*$),Z=q*$/2;P=Z-z-(Z-z)/$*z}}}a==="xAxis"?R=[r.left+(E.left||0)+(P||0),r.left+r.width-(E.right||0)-(P||0)]:a==="yAxis"?R=d==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(P||0),r.top+r.height-(E.bottom||0)-(P||0)]:R=A.range,C&&(R=[R[1],R[0]]);var se=u5(A,i,y),B=se.scale,K=se.realScaleType;B.domain(O).range(R),c5(B);var re=d5(B,Wr(Wr({},A),{},{realScaleType:K}));a==="xAxis"?(L=T==="top"&&!D||T==="bottom"&&D,U=r.left,F=m[k]-L*A.height):a==="yAxis"&&(L=T==="left"&&!D||T==="right"&&D,U=m[k]-L*A.width,F=r.top);var ce=Wr(Wr(Wr({},A),re),{},{realScaleType:K,x:U,y:F,scale:B,width:a==="xAxis"?r.width:A.width,height:a==="yAxis"?r.height:A.height});return ce.bandSize=Kh(ce,re),!A.hide&&a==="xAxis"?m[k]+=(L?-1:1)*ce.height:A.hide||(m[k]+=(L?-1:1)*ce.width),Wr(Wr({},_),{},lp({},S,ce))},{})},V5=function(e,n){var r=e.x,a=e.y,i=n.x,s=n.y;return{x:Math.min(r,i),y:Math.min(a,s),width:Math.abs(i-r),height:Math.abs(s-a)}},nZ=function(e){var n=e.x1,r=e.y1,a=e.x2,i=e.y2;return V5({x:n,y:r},{x:a,y:i})},z5=function(){function t(e){JX(this,t),this.scale=e}return QX(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new t(n)}}])}();lp(z5,"EPS",1e-4);var Uw=function(e){var n=Object.keys(e).reduce(function(r,a){return Wr(Wr({},r),{},lp({},a,z5.create(e[a])))},{});return Wr(Wr({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,u=i.position;return OX(a,function(d,c){return n[c].apply(d,{bandAware:s,position:u})})},isInRange:function(a){return L5(a,function(i,s){return n[s].isInRange(i)})}})};function rZ(t){return(t%180+180)%180}var aZ=function(e){var n=e.width,r=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=rZ(a),s=i*Math.PI/180,u=Math.atan(r/n),d=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(d)},Dx,C2;function iZ(){if(C2)return Dx;C2=1;var t=ba(),e=wd(),n=Bm();function r(a){return function(i,s,u){var d=Object(i);if(!e(i)){var c=t(s,3);i=n(i),s=function(m){return c(d[m],m,d)}}var h=a(i,s,u);return h>-1?d[c?i[h]:h]:void 0}}return Dx=r,Dx}var Nx,k2;function oZ(){if(k2)return Nx;k2=1;var t=R5();function e(n){var r=t(n),a=r%1;return r===r?a?r-a:r:0}return Nx=e,Nx}var Px,O2;function sZ(){if(O2)return Px;O2=1;var t=VI(),e=ba(),n=oZ(),r=Math.max;function a(i,s,u){var d=i==null?0:i.length;if(!d)return-1;var c=u==null?0:n(u);return c<0&&(c=r(d+c,0)),t(i,e(s,3),c)}return Px=a,Px}var Rx,M2;function lZ(){if(M2)return Rx;M2=1;var t=iZ(),e=sZ(),n=t(e);return Rx=n,Rx}var uZ=lZ();const cZ=yt(uZ);var dZ=iI();const fZ=yt(dZ);var hZ=fZ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Fw=j.createContext(void 0),Vw=j.createContext(void 0),G5=j.createContext(void 0),H5=j.createContext({}),K5=j.createContext(void 0),Y5=j.createContext(0),W5=j.createContext(0),D2=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,s=e.clipPathId,u=e.children,d=e.width,c=e.height,h=hZ(i);return J.createElement(Fw.Provider,{value:r},J.createElement(Vw.Provider,{value:a},J.createElement(H5.Provider,{value:i},J.createElement(G5.Provider,{value:h},J.createElement(K5.Provider,{value:s},J.createElement(Y5.Provider,{value:c},J.createElement(W5.Provider,{value:d},u)))))))},mZ=function(){return j.useContext(K5)},X5=function(e){var n=j.useContext(Fw);n==null&&Go();var r=n[e];return r==null&&Go(),r},pZ=function(){var e=j.useContext(Fw);return Fi(e)},gZ=function(){var e=j.useContext(Vw),n=cZ(e,function(r){return L5(r.domain,Number.isFinite)});return n||Fi(e)},Z5=function(e){var n=j.useContext(Vw);n==null&&Go();var r=n[e];return r==null&&Go(),r},vZ=function(){var e=j.useContext(G5);return e},yZ=function(){return j.useContext(H5)},zw=function(){return j.useContext(W5)},Gw=function(){return j.useContext(Y5)};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function bZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q5(r.key),r)}}function _Z(t,e,n){return e&&xZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SZ(t,e,n){return e=cm(e),wZ(t,J5()?Reflect.construct(e,n||[],cm(t).constructor):e.apply(t,n))}function wZ(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TZ(t)}function TZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J5=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cm(t)}function AZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rS(t,e)}function rS(t,e){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},rS(t,e)}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function P2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){Hw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hw(t,e,n){return e=Q5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q5(t){var e=EZ(t,"string");return Ml(e)=="symbol"?e:e+""}function EZ(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CZ(t,e){return DZ(t)||MZ(t,e)||OZ(t,e)||kZ()}function kZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OZ(t,e){if(t){if(typeof t=="string")return R2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R2(t,e)}}function R2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function DZ(t){if(Array.isArray(t))return t}function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(this,arguments)}var NZ=function(e,n){var r;return J.isValidElement(e)?r=J.cloneElement(e,n):Ke(e)?r=e(n):r=J.createElement("line",aS({},n,{className:"recharts-reference-line-line"})),r},PZ=function(e,n,r,a,i,s,u,d,c){var h=i.x,m=i.y,y=i.width,_=i.height;if(r){var S=c.y,A=e.y.apply(S,{position:s});if(ha(c,"discard")&&!e.y.isInRange(A))return null;var T=[{x:h+y,y:A},{x:h,y:A}];return d==="left"?T.reverse():T}if(n){var O=c.x,M=e.x.apply(O,{position:s});if(ha(c,"discard")&&!e.x.isInRange(M))return null;var E=[{x:M,y:m+_},{x:M,y:m}];return u==="top"?E.reverse():E}if(a){var D=c.segment,C=D.map(function(k){return e.apply(k,{position:s})});return ha(c,"discard")&&AX(C,function(k){return!e.isInRange(k)})?null:C}return null};function RZ(t){var e=t.x,n=t.y,r=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,u=t.className,d=t.alwaysShow,c=mZ(),h=X5(a),m=Z5(i),y=vZ();if(!c||!y)return null;Zr(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=Uw({x:h.scale,y:m.scale}),S=mn(e),A=mn(n),T=r&&r.length===2,O=PZ(_,S,A,T,y,t.position,h.orientation,m.orientation,t);if(!O)return null;var M=CZ(O,2),E=M[0],D=E.x,C=E.y,k=M[1],P=k.x,R=k.y,U=ha(t,"hidden")?"url(#".concat(c,")"):void 0,F=P2(P2({clipPath:U},He(t,!0)),{},{x1:D,y1:C,x2:P,y2:R});return J.createElement(At,{className:rt("recharts-reference-line",u)},NZ(s,F),wn.renderCallByParent(t,nZ({x1:D,y1:C,x2:P,y2:R})))}var Kw=function(t){function e(){return bZ(this,e),SZ(this,e,arguments)}return AZ(e,t),_Z(e,[{key:"render",value:function(){return J.createElement(RZ,this.props)}}])}(J.Component);Hw(Kw,"displayName","ReferenceLine");Hw(Kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iS.apply(this,arguments)}function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function j2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){up(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t$(r.key),r)}}function $Z(t,e,n){return e&&jZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LZ(t,e,n){return e=dm(e),BZ(t,e$()?Reflect.construct(e,n||[],dm(t).constructor):e.apply(t,n))}function BZ(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qZ(t)}function qZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dm(t)}function UZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oS(t,e)}function oS(t,e){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},oS(t,e)}function up(t,e,n){return e=t$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t$(t){var e=FZ(t,"string");return Dl(e)=="symbol"?e:e+""}function FZ(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VZ=function(e){var n=e.x,r=e.y,a=e.xAxis,i=e.yAxis,s=Uw({x:a.scale,y:i.scale}),u=s.apply({x:n,y:r},{bandAware:!0});return ha(e,"discard")&&!s.isInRange(u)?null:u},cp=function(t){function e(){return IZ(this,e),LZ(this,e,arguments)}return UZ(e,t),$Z(e,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,s=r.r,u=r.alwaysShow,d=r.clipPathId,c=mn(a),h=mn(i);if(Zr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!h)return null;var m=VZ(this.props);if(!m)return null;var y=m.x,_=m.y,S=this.props,A=S.shape,T=S.className,O=ha(this.props,"hidden")?"url(#".concat(d,")"):void 0,M=j2(j2({clipPath:O},He(this.props,!0)),{},{cx:y,cy:_});return J.createElement(At,{className:rt("recharts-reference-dot",T)},e.renderDot(A,M),wn.renderCallByParent(this.props,{x:y-s,y:_-s,width:2*s,height:2*s}))}}])}(J.Component);up(cp,"displayName","ReferenceDot");up(cp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});up(cp,"renderDot",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):Ke(t)?n=t(e):n=J.createElement(qw,iS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(this,arguments)}function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){dp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r$(r.key),r)}}function HZ(t,e,n){return e&&GZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KZ(t,e,n){return e=fm(e),YZ(t,n$()?Reflect.construct(e,n||[],fm(t).constructor):e.apply(t,n))}function YZ(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WZ(t)}function WZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n$=function(){return!!t})()}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fm(t)}function XZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lS(t,e)}function lS(t,e){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},lS(t,e)}function dp(t,e,n){return e=r$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r$(t){var e=ZZ(t,"string");return Nl(e)=="symbol"?e:e+""}function ZZ(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JZ=function(e,n,r,a,i){var s=i.x1,u=i.x2,d=i.y1,c=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var y=Uw({x:h.scale,y:m.scale}),_={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(d,{position:"start"}):y.y.rangeMin},S={x:n?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(c,{position:"end"}):y.y.rangeMax};return ha(i,"discard")&&(!y.isInRange(_)||!y.isInRange(S))?null:V5(_,S)},fp=function(t){function e(){return zZ(this,e),KZ(this,e,arguments)}return XZ(e,t),HZ(e,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,s=r.y1,u=r.y2,d=r.className,c=r.alwaysShow,h=r.clipPathId;Zr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=mn(a),y=mn(i),_=mn(s),S=mn(u),A=this.props.shape;if(!m&&!y&&!_&&!S&&!A)return null;var T=JZ(m,y,_,S,this.props);if(!T&&!A)return null;var O=ha(this.props,"hidden")?"url(#".concat(h,")"):void 0;return J.createElement(At,{className:rt("recharts-reference-area",d)},e.renderRect(A,L2(L2({clipPath:O},He(this.props,!0)),T)),wn.renderCallByParent(this.props,T))}}])}(J.Component);dp(fp,"displayName","ReferenceArea");dp(fp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});dp(fp,"renderRect",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):Ke(t)?n=t(e):n=J.createElement(Bw,sS({},e,{className:"recharts-reference-area-rect"})),n});function a$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function QZ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return aZ(r,n)}function eJ(t,e,n){var r=n==="width",a=t.x,i=t.y,s=t.width,u=t.height;return e===1?{start:r?a:i,end:r?a+s:i+u}:{start:r?a+s:i+u,end:r?a:i}}function hm(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-a)<=0}function tJ(t,e){return a$(t,e+1)}function nJ(t,e,n,r,a){for(var i=(r||[]).slice(),s=e.start,u=e.end,d=0,c=1,h=s,m=function(){var S=r==null?void 0:r[d];if(S===void 0)return{v:a$(r,c)};var A=d,T,O=function(){return T===void 0&&(T=n(S,A)),T},M=S.coordinate,E=d===0||hm(t,M,O,h,u);E||(d=0,h=s,c+=1),E&&(h=M+t*(O()/2+a),d+=c)},y;c<=i.length;)if(y=m(),y)return y.v;return[]}function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){rJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rJ(t,e,n){return e=aJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aJ(t){var e=iJ(t,"string");return hd(e)=="symbol"?e:e+""}function iJ(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oJ(t,e,n,r,a){for(var i=(r||[]).slice(),s=i.length,u=e.start,d=e.end,c=function(y){var _=i[y],S,A=function(){return S===void 0&&(S=n(_,y)),S};if(y===s-1){var T=t*(_.coordinate+t*A()/2-d);i[y]=_=jn(jn({},_),{},{tickCoord:T>0?_.coordinate-T*t:_.coordinate})}else i[y]=_=jn(jn({},_),{},{tickCoord:_.coordinate});var O=hm(t,_.tickCoord,A,u,d);O&&(d=_.tickCoord-t*(A()/2+a),i[y]=jn(jn({},_),{},{isShow:!0}))},h=s-1;h>=0;h--)c(h);return i}function sJ(t,e,n,r,a,i){var s=(r||[]).slice(),u=s.length,d=e.start,c=e.end;if(i){var h=r[u-1],m=n(h,u-1),y=t*(h.coordinate+t*m/2-c);s[u-1]=h=jn(jn({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var _=hm(t,h.tickCoord,function(){return m},d,c);_&&(c=h.tickCoord-t*(m/2+a),s[u-1]=jn(jn({},h),{},{isShow:!0}))}for(var S=i?u-1:u,A=function(M){var E=s[M],D,C=function(){return D===void 0&&(D=n(E,M)),D};if(M===0){var k=t*(E.coordinate-t*C()/2-d);s[M]=E=jn(jn({},E),{},{tickCoord:k<0?E.coordinate-k*t:E.coordinate})}else s[M]=E=jn(jn({},E),{},{tickCoord:E.coordinate});var P=hm(t,E.tickCoord,C,d,c);P&&(d=E.tickCoord+t*(C()/2+a),s[M]=jn(jn({},E),{},{isShow:!0}))},T=0;T<S;T++)A(T);return s}function Yw(t,e,n){var r=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,u=t.orientation,d=t.interval,c=t.tickFormatter,h=t.unit,m=t.angle;if(!a||!a.length||!r)return[];if(Ee(d)||Yl.isSsr)return tJ(a,typeof d=="number"&&Ee(d)?d:0);var y=[],_=u==="top"||u==="bottom"?"width":"height",S=h&&_==="width"?Ec(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(E,D){var C=Ke(c)?c(E.value,D):E.value;return _==="width"?QZ(Ec(C,{fontSize:e,letterSpacing:n}),S,m):Ec(C,{fontSize:e,letterSpacing:n})[_]},T=a.length>=2?zn(a[1].coordinate-a[0].coordinate):1,O=eJ(i,T,_);return d==="equidistantPreserveStart"?nJ(T,O,A,a,s):(d==="preserveStart"||d==="preserveStartEnd"?y=sJ(T,O,A,a,s,d==="preserveStartEnd"):y=oJ(T,O,A,a,s),y.filter(function(M){return M.isShow}))}var lJ=["viewBox"],uJ=["viewBox"],cJ=["ticks"];function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(this,arguments)}function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){Ww(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ix(t,e){if(t==null)return{};var n=dJ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o$(r.key),r)}}function hJ(t,e,n){return e&&U2(t.prototype,e),n&&U2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mJ(t,e,n){return e=mm(e),pJ(t,i$()?Reflect.construct(e,n||[],mm(t).constructor):e.apply(t,n))}function pJ(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gJ(t)}function gJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mm(t)}function vJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}function uS(t,e){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},uS(t,e)}function Ww(t,e,n){return e=o$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o$(t){var e=yJ(t,"string");return Pl(e)=="symbol"?e:e+""}function yJ(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jl=function(t){function e(n){var r;return fJ(this,e),r=mJ(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return vJ(e,t),hJ(e,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,s=Ix(r,lJ),u=this.props,d=u.viewBox,c=Ix(u,uJ);return!ll(i,d)||!ll(s,c)||!ll(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,s=a.y,u=a.width,d=a.height,c=a.orientation,h=a.tickSize,m=a.mirror,y=a.tickMargin,_,S,A,T,O,M,E=m?-1:1,D=r.tickSize||h,C=Ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":_=S=r.coordinate,T=s+ +!m*d,A=T-E*D,M=A-E*y,O=C;break;case"left":A=T=r.coordinate,S=i+ +!m*u,_=S-E*D,O=_-E*y,M=C;break;case"right":A=T=r.coordinate,S=i+ +m*u,_=S+E*D,O=_+E*y,M=C;break;default:_=S=r.coordinate,T=s+ +m*d,A=T+E*D,M=A+E*y,O=C;break}return{line:{x1:_,y1:A,x2:S,y2:T},tick:{x:O,y:M}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,d=r.orientation,c=r.mirror,h=r.axisLine,m=Fn(Fn(Fn({},He(this.props,!1)),He(h,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!c||d==="bottom"&&c);m=Fn(Fn({},m),{},{x1:a,y1:i+y*u,x2:a+s,y2:i+y*u})}else{var _=+(d==="left"&&!c||d==="right"&&c);m=Fn(Fn({},m),{},{x1:a+_*s,y1:i,x2:a+_*s,y2:i+u})}return J.createElement("line",al({},m,{className:rt("recharts-cartesian-axis-line",br(h,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var s=this,u=this.props,d=u.tickLine,c=u.stroke,h=u.tick,m=u.tickFormatter,y=u.unit,_=Yw(Fn(Fn({},this.props),{},{ticks:r}),a,i),S=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),T=He(this.props,!1),O=He(h,!1),M=Fn(Fn({},T),{},{fill:"none"},He(d,!1)),E=_.map(function(D,C){var k=s.getTickLineCoord(D),P=k.line,R=k.tick,U=Fn(Fn(Fn(Fn({textAnchor:S,verticalAnchor:A},T),{},{stroke:"none",fill:c},O),R),{},{index:C,payload:D,visibleTicksCount:_.length,tickFormatter:m});return J.createElement(At,al({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Fo(s.props,D,C)),d&&J.createElement("line",al({},M,P,{className:rt("recharts-cartesian-axis-tick-line",br(d,"className"))})),h&&e.renderTickItem(h,U,"".concat(Ke(m)?m(D.value,C):D.value).concat(y||"")))});return J.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,s=a.width,u=a.height,d=a.ticksGenerator,c=a.className,h=a.hide;if(h)return null;var m=this.props,y=m.ticks,_=Ix(m,cJ),S=y;return Ke(d)&&(S=y&&y.length>0?d(this.props):d(_)),s<=0||u<=0||!S||!S.length?null:J.createElement(At,{className:rt("recharts-cartesian-axis",c),ref:function(T){r.layerReference=T}},i&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),wn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var s;return J.isValidElement(r)?s=J.cloneElement(r,a):Ke(r)?s=r(a):s=J.createElement(Vo,al({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(j.Component);Ww(Jl,"displayName","CartesianAxis");Ww(Jl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bJ=["x1","y1","x2","y2","key"],xJ=["offset"];function Ho(t){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){_J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _J(t,e,n){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=wJ(t,"string");return Ho(e)=="symbol"?e:e+""}function wJ(t,e){if(Ho(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ho(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$o.apply(this,arguments)}function V2(t,e){if(t==null)return{};var n=TJ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var AJ=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,a=e.x,i=e.y,s=e.width,u=e.height,d=e.ry;return J.createElement("rect",{x:a,y:i,ry:d,width:s,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function s$(t,e){var n;if(J.isValidElement(t))n=J.cloneElement(t,e);else if(Ke(t))n=t(e);else{var r=e.x1,a=e.y1,i=e.x2,s=e.y2,u=e.key,d=V2(e,bJ),c=He(d,!1);c.offset;var h=V2(c,xJ);n=J.createElement("line",$o({},h,{x1:r,y1:a,x2:i,y2:s,fill:"none",key:u}))}return n}function EJ(t){var e=t.x,n=t.width,r=t.horizontal,a=r===void 0?!0:r,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(u,d){var c=$n($n({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(d),index:d});return s$(a,c)});return J.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function CJ(t){var e=t.y,n=t.height,r=t.vertical,a=r===void 0?!0:r,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(u,d){var c=$n($n({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(d),index:d});return s$(a,c)});return J.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function kJ(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,a=t.y,i=t.width,s=t.height,u=t.horizontalPoints,d=t.horizontal,c=d===void 0?!0:d;if(!c||!e||!e.length)return null;var h=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,_){return y-_});a!==h[0]&&h.unshift(0);var m=h.map(function(y,_){var S=!h[_+1],A=S?a+s-y:h[_+1]-y;if(A<=0)return null;var T=_%e.length;return J.createElement("rect",{key:"react-".concat(_),y,x:r,height:A,width:i,stroke:"none",fill:e[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function OJ(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,u=t.width,d=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var h=c.map(function(y){return Math.round(y+i-i)}).sort(function(y,_){return y-_});i!==h[0]&&h.unshift(0);var m=h.map(function(y,_){var S=!h[_+1],A=S?i+u-y:h[_+1]-y;if(A<=0)return null;var T=_%r.length;return J.createElement("rect",{key:"react-".concat(_),x:y,y:s,width:A,height:d,stroke:"none",fill:r[T],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var MJ=function(e,n){var r=e.xAxis,a=e.width,i=e.height,s=e.offset;return l5(Yw($n($n($n({},Jl.defaultProps),r),{},{ticks:Ha(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,n)},DJ=function(e,n){var r=e.yAxis,a=e.width,i=e.height,s=e.offset;return l5(Yw($n($n($n({},Jl.defaultProps),r),{},{ticks:Ha(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,n)},Zs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function l$(t){var e,n,r,a,i,s,u=zw(),d=Gw(),c=yZ(),h=$n($n({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Zs.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Zs.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Zs.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Zs.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Zs.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Zs.verticalFill,x:Ee(t.x)?t.x:c.left,y:Ee(t.y)?t.y:c.top,width:Ee(t.width)?t.width:c.width,height:Ee(t.height)?t.height:c.height}),m=h.x,y=h.y,_=h.width,S=h.height,A=h.syncWithTicks,T=h.horizontalValues,O=h.verticalValues,M=pZ(),E=gZ();if(!Ee(_)||_<=0||!Ee(S)||S<=0||!Ee(m)||m!==+m||!Ee(y)||y!==+y)return null;var D=h.verticalCoordinatesGenerator||MJ,C=h.horizontalCoordinatesGenerator||DJ,k=h.horizontalPoints,P=h.verticalPoints;if((!k||!k.length)&&Ke(C)){var R=T&&T.length,U=C({yAxis:E?$n($n({},E),{},{ticks:R?T:E.ticks}):void 0,width:u,height:d,offset:c},R?!0:A);Zr(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ho(U),"]")),Array.isArray(U)&&(k=U)}if((!P||!P.length)&&Ke(D)){var F=O&&O.length,L=D({xAxis:M?$n($n({},M),{},{ticks:F?O:M.ticks}):void 0,width:u,height:d,offset:c},F?!0:A);Zr(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ho(L),"]")),Array.isArray(L)&&(P=L)}return J.createElement("g",{className:"recharts-cartesian-grid"},J.createElement(AJ,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),J.createElement(EJ,$o({},h,{offset:c,horizontalPoints:k,xAxis:M,yAxis:E})),J.createElement(CJ,$o({},h,{offset:c,verticalPoints:P,xAxis:M,yAxis:E})),J.createElement(kJ,$o({},h,{horizontalPoints:k})),J.createElement(OJ,$o({},h,{verticalPoints:P})))}l$.displayName="CartesianGrid";function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function NJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d$(r.key),r)}}function RJ(t,e,n){return e&&PJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IJ(t,e,n){return e=pm(e),jJ(t,u$()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function jJ(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $J(t)}function $J(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u$=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function LJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cS(t,e)}function cS(t,e){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},cS(t,e)}function c$(t,e,n){return e=d$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d$(t){var e=BJ(t,"string");return Rl(e)=="symbol"?e:e+""}function BJ(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(this,arguments)}function qJ(t){var e=t.xAxisId,n=zw(),r=Gw(),a=X5(e);return a==null?null:J.createElement(Jl,dS({},a,{className:rt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ha(s,!0)}}))}var hp=function(t){function e(){return NJ(this,e),IJ(this,e,arguments)}return LJ(e,t),RJ(e,[{key:"render",value:function(){return J.createElement(qJ,this.props)}}])}(J.Component);c$(hp,"displayName","XAxis");c$(hp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function UJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m$(r.key),r)}}function VJ(t,e,n){return e&&FJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zJ(t,e,n){return e=gm(e),GJ(t,f$()?Reflect.construct(e,n||[],gm(t).constructor):e.apply(t,n))}function GJ(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HJ(t)}function HJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f$=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gm(t)}function KJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fS(t,e)}function fS(t,e){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},fS(t,e)}function h$(t,e,n){return e=m$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m$(t){var e=YJ(t,"string");return Il(e)=="symbol"?e:e+""}function YJ(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hS.apply(this,arguments)}var WJ=function(e){var n=e.yAxisId,r=zw(),a=Gw(),i=Z5(n);return i==null?null:J.createElement(Jl,hS({},i,{className:rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(u){return Ha(u,!0)}}))},mp=function(t){function e(){return UJ(this,e),zJ(this,e,arguments)}return KJ(e,t),VJ(e,[{key:"render",value:function(){return J.createElement(WJ,this.props)}}])}(J.Component);h$(mp,"displayName","YAxis");h$(mp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function z2(t){return QJ(t)||JJ(t)||ZJ(t)||XJ()}function XJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJ(t,e){if(t){if(typeof t=="string")return mS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mS(t,e)}}function JJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QJ(t){if(Array.isArray(t))return mS(t)}function mS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pS=function(e,n,r,a,i){var s=Rr(e,Kw),u=Rr(e,cp),d=[].concat(z2(s),z2(u)),c=Rr(e,fp),h="".concat(a,"Id"),m=a[0],y=n;if(d.length&&(y=d.reduce(function(A,T){if(T.props[h]===r&&ha(T.props,"extendDomain")&&Ee(T.props[m])){var O=T.props[m];return[Math.min(A[0],O),Math.max(A[1],O)]}return A},y)),c.length){var _="".concat(m,"1"),S="".concat(m,"2");y=c.reduce(function(A,T){if(T.props[h]===r&&ha(T.props,"extendDomain")&&Ee(T.props[_])&&Ee(T.props[S])){var O=T.props[_],M=T.props[S];return[Math.min(A[0],O,M),Math.max(A[1],O,M)]}return A},y)}return i&&i.length&&(y=i.reduce(function(A,T){return Ee(T)?[Math.min(A[0],T),Math.max(A[1],T)]:A},y)),y},jx={exports:{}},G2;function eQ(){return G2||(G2=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(d,c,h){this.fn=d,this.context=c,this.once=h||!1}function i(d,c,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new a(h,m||d,y),S=n?n+c:c;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],_]:d._events[S].push(_):(d._events[S]=_,d._eventsCount++),d}function s(d,c){--d._eventsCount===0?d._events=new r:delete d._events[c]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],h,m;if(this._eventsCount===0)return c;for(m in h=this._events)e.call(h,m)&&c.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},u.prototype.listeners=function(c){var h=n?n+c:c,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,_=m.length,S=new Array(_);y<_;y++)S[y]=m[y].fn;return S},u.prototype.listenerCount=function(c){var h=n?n+c:c,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(c,h,m,y,_,S){var A=n?n+c:c;if(!this._events[A])return!1;var T=this._events[A],O=arguments.length,M,E;if(T.fn){switch(T.once&&this.removeListener(c,T.fn,void 0,!0),O){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,m),!0;case 4:return T.fn.call(T.context,h,m,y),!0;case 5:return T.fn.call(T.context,h,m,y,_),!0;case 6:return T.fn.call(T.context,h,m,y,_,S),!0}for(E=1,M=new Array(O-1);E<O;E++)M[E-1]=arguments[E];T.fn.apply(T.context,M)}else{var D=T.length,C;for(E=0;E<D;E++)switch(T[E].once&&this.removeListener(c,T[E].fn,void 0,!0),O){case 1:T[E].fn.call(T[E].context);break;case 2:T[E].fn.call(T[E].context,h);break;case 3:T[E].fn.call(T[E].context,h,m);break;case 4:T[E].fn.call(T[E].context,h,m,y);break;default:if(!M)for(C=1,M=new Array(O-1);C<O;C++)M[C-1]=arguments[C];T[E].fn.apply(T[E].context,M)}}return!0},u.prototype.on=function(c,h,m){return i(this,c,h,m,!1)},u.prototype.once=function(c,h,m){return i(this,c,h,m,!0)},u.prototype.removeListener=function(c,h,m,y){var _=n?n+c:c;if(!this._events[_])return this;if(!h)return s(this,_),this;var S=this._events[_];if(S.fn)S.fn===h&&(!y||S.once)&&(!m||S.context===m)&&s(this,_);else{for(var A=0,T=[],O=S.length;A<O;A++)(S[A].fn!==h||y&&!S[A].once||m&&S[A].context!==m)&&T.push(S[A]);T.length?this._events[_]=T.length===1?T[0]:T:s(this,_)}return this},u.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(jx)),jx.exports}var tQ=eQ();const nQ=yt(tQ);var $x=new nQ,Lx="recharts.syncMouseEvents";function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function rQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p$(r.key),r)}}function iQ(t,e,n){return e&&aQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bx(t,e,n){return e=p$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p$(t){var e=oQ(t,"string");return md(e)=="symbol"?e:e+""}function oQ(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sQ=function(){function t(){rQ(this,t),Bx(this,"activeIndex",0),Bx(this,"coordinateList",[]),Bx(this,"layout","horizontal")}return iQ(t,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,s=n.container,u=s===void 0?null:s,d=n.layout,c=d===void 0?null:d,h=n.offset,m=h===void 0?null:h,y=n.mouseHandlerCallback,_=y===void 0?null:y;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=c??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=i+d+c,y=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])}();function lQ(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],a=t==null?void 0:t[1];if(r&&a&&Ee(r)&&Ee(a))return!0}return!1}function uQ(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function g$(t){var e=t.cx,n=t.cy,r=t.radius,a=t.startAngle,i=t.endAngle,s=Lt(e,n,r,a),u=Lt(e,n,r,i);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:a,endAngle:i}}function cQ(t,e,n){var r,a,i,s;if(t==="horizontal")r=e.x,i=r,a=n.top,s=n.top+n.height;else if(t==="vertical")a=e.y,s=a,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,c=e.innerRadius,h=e.outerRadius,m=e.angle,y=Lt(u,d,c,m),_=Lt(u,d,h,m);r=y.x,a=y.y,i=_.x,s=_.y}else return g$(e);return[{x:r,y:a},{x:i,y:s}]}function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){dQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dQ(t,e,n){return e=fQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fQ(t){var e=hQ(t,"string");return pd(e)=="symbol"?e:e+""}function hQ(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mQ(t){var e,n,r=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,u=t.activePayload,d=t.offset,c=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!i||!s||y!=="ScatterChart"&&a!=="axis")return null;var S,A=L_;if(y==="ScatterChart")S=s,A=WY;else if(y==="BarChart")S=uQ(m,s,d,h),A=Bw;else if(m==="radial"){var T=g$(s),O=T.cx,M=T.cy,E=T.radius,D=T.startAngle,C=T.endAngle;S={cx:O,cy:M,startAngle:D,endAngle:C,innerRadius:E,outerRadius:E},A=b5}else S={points:cQ(m,s,d)},A=L_;var k=dh(dh(dh(dh({stroke:"#ccc",pointerEvents:"none"},d),S),He(_,!1)),{},{payload:u,payloadIndex:c,className:rt("recharts-tooltip-cursor",_.className)});return j.isValidElement(_)?j.cloneElement(_,k):j.createElement(A,k)}var pQ=["item"],gQ=["children","className","width","height","style","compact","title","desc"];function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(this,arguments)}function K2(t,e){return bQ(t)||yQ(t,e)||y$(t,e)||vQ()}function vQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function bQ(t){if(Array.isArray(t))return t}function Y2(t,e){if(t==null)return{};var n=xQ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b$(r.key),r)}}function wQ(t,e,n){return e&&SQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TQ(t,e,n){return e=vm(e),AQ(t,v$()?Reflect.construct(e,n||[],vm(t).constructor):e.apply(t,n))}function AQ(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EQ(t)}function EQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vm(t)}function CQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}function gS(t,e){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},gS(t,e)}function $l(t){return MQ(t)||OQ(t)||y$(t)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y$(t,e){if(t){if(typeof t=="string")return vS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vS(t,e)}}function OQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MQ(t){if(Array.isArray(t))return vS(t)}function vS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){Fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fe(t,e,n){return e=b$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b$(t){var e=DQ(t,"string");return jl(e)=="symbol"?e:e+""}function DQ(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NQ={xAxis:["bottom","top"],yAxis:["left","right"]},PQ={width:"100%",height:"100%"},x$={x:0,y:0};function fh(t){return t}var RQ=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},IQ=function(e,n,r,a){var i=n.find(function(h){return h&&h.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,u=a.radius;return fe(fe(fe({},a),Lt(a.cx,a.cy,u,s)),{},{angle:s,radius:u})}var d=i.coordinate,c=a.angle;return fe(fe(fe({},a),Lt(a.cx,a.cy,d,c)),{},{angle:c,radius:d})}return x$},pp=function(e,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,s=(r??[]).reduce(function(u,d){var c=d.props.data;return c&&c.length?[].concat($l(u),$l(c)):u},[]);return s.length>0?s:e&&e.length&&Ee(a)&&Ee(i)?e.slice(a,i+1):[]};function _$(t){return t==="number"?[0,"auto"]:void 0}var yS=function(e,n,r,a){var i=e.graphicalItems,s=e.tooltipAxis,u=pp(n,e);return r<0||!i||!i.length||r>=u.length?null:i.reduce(function(d,c){var h,m=(h=c.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var _=m===void 0?u:m;y=Qx(_,s.dataKey,a)}else y=m&&m[r]||u[r];return y?[].concat($l(d),[h5(c,y)]):d},[])},X2=function(e,n,r,a){var i=a||{x:e.chartX,y:e.chartY},s=RQ(i,r),u=e.orderedTooltipTicks,d=e.tooltipAxis,c=e.tooltipTicks,h=xG(s,u,c,d);if(h>=0&&c){var m=c[h]&&c[h].value,y=yS(e,n,h,m),_=IQ(r,u,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:y,activeCoordinate:_}}return null},jQ=function(e,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,s=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,m=e.children,y=e.stackOffset,_=s5(h,i);return r.reduce(function(S,A){var T,O=A.type.defaultProps!==void 0?fe(fe({},A.type.defaultProps),A.props):A.props,M=O.type,E=O.dataKey,D=O.allowDataOverflow,C=O.allowDuplicatedCategory,k=O.scale,P=O.ticks,R=O.includeHidden,U=O[s];if(S[U])return S;var F=pp(e.data,{graphicalItems:a.filter(function(re){var ce,_e=s in re.props?re.props[s]:(ce=re.type.defaultProps)===null||ce===void 0?void 0:ce[s];return _e===U}),dataStartIndex:d,dataEndIndex:c}),L=F.length,G,Q,H;lQ(O.domain,D,M)&&(G=P_(O.domain,null,D),_&&(M==="number"||k!=="auto")&&(H=kc(F,E,"category")));var q=_$(M);if(!G||G.length===0){var $,z=($=O.domain)!==null&&$!==void 0?$:q;if(E){if(G=kc(F,E,M),M==="category"&&_){var Z=mU(G);C&&Z?(Q=G,G=im(0,L)):C||(G=JD(z,G,A).reduce(function(re,ce){return re.indexOf(ce)>=0?re:[].concat($l(re),[ce])},[]))}else if(M==="category")C?G=G.filter(function(re){return re!==""&&!st(re)}):G=JD(z,G,A).reduce(function(re,ce){return re.indexOf(ce)>=0||ce===""||st(ce)?re:[].concat($l(re),[ce])},[]);else if(M==="number"){var se=AG(F,a.filter(function(re){var ce,_e,pe=s in re.props?re.props[s]:(ce=re.type.defaultProps)===null||ce===void 0?void 0:ce[s],ke="hide"in re.props?re.props.hide:(_e=re.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return pe===U&&(R||!ke)}),E,i,h);se&&(G=se)}_&&(M==="number"||k!=="auto")&&(H=kc(F,E,"category"))}else _?G=im(0,L):u&&u[U]&&u[U].hasStack&&M==="number"?G=y==="expand"?[0,1]:f5(u[U].stackGroups,d,c):G=o5(F,a.filter(function(re){var ce=s in re.props?re.props[s]:re.type.defaultProps[s],_e="hide"in re.props?re.props.hide:re.type.defaultProps.hide;return ce===U&&(R||!_e)}),M,h,!0);if(M==="number")G=pS(m,G,U,i,P),z&&(G=P_(z,G,D));else if(M==="category"&&z){var B=z,K=G.every(function(re){return B.indexOf(re)>=0});K&&(G=B)}}return fe(fe({},S),{},Fe({},U,fe(fe({},O),{},{axisType:i,domain:G,categoricalDomain:H,duplicateDomain:Q,originalDomain:(T=O.domain)!==null&&T!==void 0?T:q,isCategorical:_,layout:h})))},{})},$Q=function(e,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,s=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,m=e.children,y=pp(e.data,{graphicalItems:r,dataStartIndex:d,dataEndIndex:c}),_=y.length,S=s5(h,i),A=-1;return r.reduce(function(T,O){var M=O.type.defaultProps!==void 0?fe(fe({},O.type.defaultProps),O.props):O.props,E=M[s],D=_$("number");if(!T[E]){A++;var C;return S?C=im(0,_):u&&u[E]&&u[E].hasStack?(C=f5(u[E].stackGroups,d,c),C=pS(m,C,E,i)):(C=P_(D,o5(y,r.filter(function(k){var P,R,U=s in k.props?k.props[s]:(P=k.type.defaultProps)===null||P===void 0?void 0:P[s],F="hide"in k.props?k.props.hide:(R=k.type.defaultProps)===null||R===void 0?void 0:R.hide;return U===E&&!F}),"number",h),a.defaultProps.allowDataOverflow),C=pS(m,C,E,i)),fe(fe({},T),{},Fe({},E,fe(fe({axisType:i},a.defaultProps),{},{hide:!0,orientation:br(NQ,"".concat(i,".").concat(A%2),null),domain:C,originalDomain:D,isCategorical:S,layout:h})))}return T},{})},LQ=function(e,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,s=n.graphicalItems,u=n.stackGroups,d=n.dataStartIndex,c=n.dataEndIndex,h=e.children,m="".concat(a,"Id"),y=Rr(h,i),_={};return y&&y.length?_=jQ(e,{axes:y,graphicalItems:s,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:c}):s&&s.length&&(_=$Q(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:c})),_},BQ=function(e){var n=Fi(e),r=Ha(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:fw(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Kh(n,r)}},Z2=function(e){var n=e.children,r=e.defaultShowTooltip,a=gr(n,kl),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},qQ=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ka(n&&n.type);return r&&r.indexOf("Bar")>=0})},J2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},UQ=function(e,n){var r=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,u=e.yAxisMap,d=u===void 0?{}:u,c=r.width,h=r.height,m=r.children,y=r.margin||{},_=gr(m,kl),S=gr(m,zi),A=Object.keys(d).reduce(function(C,k){var P=d[k],R=P.orientation;return!P.mirror&&!P.hide?fe(fe({},C),{},Fe({},R,C[R]+P.width)):C},{left:y.left||0,right:y.right||0}),T=Object.keys(s).reduce(function(C,k){var P=s[k],R=P.orientation;return!P.mirror&&!P.hide?fe(fe({},C),{},Fe({},R,br(C,"".concat(R))+P.height)):C},{top:y.top||0,bottom:y.bottom||0}),O=fe(fe({},T),A),M=O.bottom;_&&(O.bottom+=_.props.height||kl.defaultProps.height),S&&n&&(O=wG(O,a,r,n));var E=c-O.left-O.right,D=h-O.top-O.bottom;return fe(fe({brushBottom:M},O),{},{width:Math.max(E,0),height:Math.max(D,0)})},FQ=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},S$=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,d=e.axisComponents,c=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,y=function(O,M){var E=M.graphicalItems,D=M.stackGroups,C=M.offset,k=M.updateId,P=M.dataStartIndex,R=M.dataEndIndex,U=O.barSize,F=O.layout,L=O.barGap,G=O.barCategoryGap,Q=O.maxBarSize,H=J2(F),q=H.numericAxisName,$=H.cateAxisName,z=qQ(E),Z=[];return E.forEach(function(se,B){var K=pp(O.data,{graphicalItems:[se],dataStartIndex:P,dataEndIndex:R}),re=se.type.defaultProps!==void 0?fe(fe({},se.type.defaultProps),se.props):se.props,ce=re.dataKey,_e=re.maxBarSize,pe=re["".concat(q,"Id")],ke=re["".concat($,"Id")],ut={},Ve=d.reduce(function(Ht,qt){var Ut=M["".concat(qt.axisType,"Map")],no=re["".concat(qt.axisType,"Id")];Ut&&Ut[no]||qt.axisType==="zAxis"||Go();var Zn=Ut[no];return fe(fe({},Ht),{},Fe(Fe({},qt.axisType,Zn),"".concat(qt.axisType,"Ticks"),Ha(Zn)))},ut),Ae=Ve[$],je=Ve["".concat($,"Ticks")],qe=D&&D[pe]&&D[pe].hasStack&&RG(se,D[pe].stackGroups),ve=Ka(se.type).indexOf("Bar")>=0,pt=Kh(Ae,je),Qe=[],Xe=z&&_G({barSize:U,stackGroups:D,totalSize:FQ(Ve,$)});if(ve){var Dt,dt,or=st(_e)?Q:_e,Xn=(Dt=(dt=Kh(Ae,je,!0))!==null&&dt!==void 0?dt:or)!==null&&Dt!==void 0?Dt:0;Qe=SG({barGap:L,barCategoryGap:G,bandSize:Xn!==pt?Xn:pt,sizeList:Xe[ke],maxBarSize:or}),Xn!==pt&&(Qe=Qe.map(function(Ht){return fe(fe({},Ht),{},{position:fe(fe({},Ht.position),{},{offset:Ht.position.offset-Xn/2})})}))}var na=se&&se.type&&se.type.getComposedData;na&&Z.push({props:fe(fe({},na(fe(fe({},Ve),{},{displayedData:K,props:O,dataKey:ce,item:se,bandSize:pt,barPosition:Qe,offset:C,stackedData:qe,layout:F,dataStartIndex:P,dataEndIndex:R}))),{},Fe(Fe(Fe({key:se.key||"item-".concat(B)},q,Ve[q]),$,Ve[$]),"animationId",k)),childIndex:EU(se,O.children),item:se})}),Z},_=function(O,M){var E=O.props,D=O.dataStartIndex,C=O.dataEndIndex,k=O.updateId;if(!hk({props:E}))return null;var P=E.children,R=E.layout,U=E.stackOffset,F=E.data,L=E.reverseStackOrder,G=J2(R),Q=G.numericAxisName,H=G.cateAxisName,q=Rr(P,r),$=NG(F,q,"".concat(Q,"Id"),"".concat(H,"Id"),U,L),z=d.reduce(function(re,ce){var _e="".concat(ce.axisType,"Map");return fe(fe({},re),{},Fe({},_e,LQ(E,fe(fe({},ce),{},{graphicalItems:q,stackGroups:ce.axisType===Q&&$,dataStartIndex:D,dataEndIndex:C}))))},{}),Z=UQ(fe(fe({},z),{},{props:E,graphicalItems:q}),M==null?void 0:M.legendBBox);Object.keys(z).forEach(function(re){z[re]=h(E,z[re],Z,re.replace("Map",""),n)});var se=z["".concat(H,"Map")],B=BQ(se),K=y(E,fe(fe({},z),{},{dataStartIndex:D,dataEndIndex:C,updateId:k,graphicalItems:q,stackGroups:$,offset:Z}));return fe(fe({formattedGraphicalItems:K,graphicalItems:q,offset:Z,stackGroups:$},B),z)},S=function(T){function O(M){var E,D,C;return _Q(this,O),C=TQ(this,O,[M]),Fe(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(C,"accessibilityManager",new sQ),Fe(C,"handleLegendBBoxUpdate",function(k){if(k){var P=C.state,R=P.dataStartIndex,U=P.dataEndIndex,F=P.updateId;C.setState(fe({legendBBox:k},_({props:C.props,dataStartIndex:R,dataEndIndex:U,updateId:F},fe(fe({},C.state),{},{legendBBox:k}))))}}),Fe(C,"handleReceiveSyncEvent",function(k,P,R){if(C.props.syncId===k){if(R===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(P)}}),Fe(C,"handleBrushChange",function(k){var P=k.startIndex,R=k.endIndex;if(P!==C.state.dataStartIndex||R!==C.state.dataEndIndex){var U=C.state.updateId;C.setState(function(){return fe({dataStartIndex:P,dataEndIndex:R},_({props:C.props,dataStartIndex:P,dataEndIndex:R,updateId:U},C.state))}),C.triggerSyncEvent({dataStartIndex:P,dataEndIndex:R})}}),Fe(C,"handleMouseEnter",function(k){var P=C.getMouseInfo(k);if(P){var R=fe(fe({},P),{},{isTooltipActive:!0});C.setState(R),C.triggerSyncEvent(R);var U=C.props.onMouseEnter;Ke(U)&&U(R,k)}}),Fe(C,"triggeredAfterMouseMove",function(k){var P=C.getMouseInfo(k),R=P?fe(fe({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(R),C.triggerSyncEvent(R);var U=C.props.onMouseMove;Ke(U)&&U(R,k)}),Fe(C,"handleItemMouseEnter",function(k){C.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Fe(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Fe(C,"handleMouseMove",function(k){k.persist(),C.throttleTriggeredAfterMouseMove(k)}),Fe(C,"handleMouseLeave",function(k){C.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var R=C.props.onMouseLeave;Ke(R)&&R(P,k)}),Fe(C,"handleOuterEvent",function(k){var P=AU(k),R=br(C.props,"".concat(P));if(P&&Ke(R)){var U,F;/.*touch.*/i.test(P)?F=C.getMouseInfo(k.changedTouches[0]):F=C.getMouseInfo(k),R((U=F)!==null&&U!==void 0?U:{},k)}}),Fe(C,"handleClick",function(k){var P=C.getMouseInfo(k);if(P){var R=fe(fe({},P),{},{isTooltipActive:!0});C.setState(R),C.triggerSyncEvent(R);var U=C.props.onClick;Ke(U)&&U(R,k)}}),Fe(C,"handleMouseDown",function(k){var P=C.props.onMouseDown;if(Ke(P)){var R=C.getMouseInfo(k);P(R,k)}}),Fe(C,"handleMouseUp",function(k){var P=C.props.onMouseUp;if(Ke(P)){var R=C.getMouseInfo(k);P(R,k)}}),Fe(C,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Fe(C,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseDown(k.changedTouches[0])}),Fe(C,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseUp(k.changedTouches[0])}),Fe(C,"handleDoubleClick",function(k){var P=C.props.onDoubleClick;if(Ke(P)){var R=C.getMouseInfo(k);P(R,k)}}),Fe(C,"handleContextMenu",function(k){var P=C.props.onContextMenu;if(Ke(P)){var R=C.getMouseInfo(k);P(R,k)}}),Fe(C,"triggerSyncEvent",function(k){C.props.syncId!==void 0&&$x.emit(Lx,C.props.syncId,k,C.eventEmitterSymbol)}),Fe(C,"applySyncEvent",function(k){var P=C.props,R=P.layout,U=P.syncMethod,F=C.state.updateId,L=k.dataStartIndex,G=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)C.setState(fe({dataStartIndex:L,dataEndIndex:G},_({props:C.props,dataStartIndex:L,dataEndIndex:G,updateId:F},C.state)));else if(k.activeTooltipIndex!==void 0){var Q=k.chartX,H=k.chartY,q=k.activeTooltipIndex,$=C.state,z=$.offset,Z=$.tooltipTicks;if(!z)return;if(typeof U=="function")q=U(Z,k);else if(U==="value"){q=-1;for(var se=0;se<Z.length;se++)if(Z[se].value===k.activeLabel){q=se;break}}var B=fe(fe({},z),{},{x:z.left,y:z.top}),K=Math.min(Q,B.x+B.width),re=Math.min(H,B.y+B.height),ce=Z[q]&&Z[q].value,_e=yS(C.state,C.props.data,q),pe=Z[q]?{x:R==="horizontal"?Z[q].coordinate:K,y:R==="horizontal"?re:Z[q].coordinate}:x$;C.setState(fe(fe({},k),{},{activeLabel:ce,activeCoordinate:pe,activePayload:_e,activeTooltipIndex:q}))}else C.setState(k)}),Fe(C,"renderCursor",function(k){var P,R=C.state,U=R.isTooltipActive,F=R.activeCoordinate,L=R.activePayload,G=R.offset,Q=R.activeTooltipIndex,H=R.tooltipAxisBandSize,q=C.getTooltipEventType(),$=(P=k.props.active)!==null&&P!==void 0?P:U,z=C.props.layout,Z=k.key||"_recharts-cursor";return J.createElement(mQ,{key:Z,activeCoordinate:F,activePayload:L,activeTooltipIndex:Q,chartName:n,element:k,isActive:$,layout:z,offset:G,tooltipAxisBandSize:H,tooltipEventType:q})}),Fe(C,"renderPolarAxis",function(k,P,R){var U=br(k,"type.axisType"),F=br(C.state,"".concat(U,"Map")),L=k.type.defaultProps,G=L!==void 0?fe(fe({},L),k.props):k.props,Q=F&&F[G["".concat(U,"Id")]];return j.cloneElement(k,fe(fe({},Q),{},{className:rt(U,Q.className),key:k.key||"".concat(P,"-").concat(R),ticks:Ha(Q,!0)}))}),Fe(C,"renderPolarGrid",function(k){var P=k.props,R=P.radialLines,U=P.polarAngles,F=P.polarRadius,L=C.state,G=L.radiusAxisMap,Q=L.angleAxisMap,H=Fi(G),q=Fi(Q),$=q.cx,z=q.cy,Z=q.innerRadius,se=q.outerRadius;return j.cloneElement(k,{polarAngles:Array.isArray(U)?U:Ha(q,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(F)?F:Ha(H,!0).map(function(B){return B.coordinate}),cx:$,cy:z,innerRadius:Z,outerRadius:se,key:k.key||"polar-grid",radialLines:R})}),Fe(C,"renderLegend",function(){var k=C.state.formattedGraphicalItems,P=C.props,R=P.children,U=P.width,F=P.height,L=C.props.margin||{},G=U-(L.left||0)-(L.right||0),Q=a5({children:R,formattedGraphicalItems:k,legendWidth:G,legendContent:c});if(!Q)return null;var H=Q.item,q=Y2(Q,pQ);return j.cloneElement(H,fe(fe({},q),{},{chartWidth:U,chartHeight:F,margin:L,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Fe(C,"renderTooltip",function(){var k,P=C.props,R=P.children,U=P.accessibilityLayer,F=gr(R,Yr);if(!F)return null;var L=C.state,G=L.isTooltipActive,Q=L.activeCoordinate,H=L.activePayload,q=L.activeLabel,$=L.offset,z=(k=F.props.active)!==null&&k!==void 0?k:G;return j.cloneElement(F,{viewBox:fe(fe({},$),{},{x:$.left,y:$.top}),active:z,label:q,payload:z?H:[],coordinate:Q,accessibilityLayer:U})}),Fe(C,"renderBrush",function(k){var P=C.props,R=P.margin,U=P.data,F=C.state,L=F.offset,G=F.dataStartIndex,Q=F.dataEndIndex,H=F.updateId;return j.cloneElement(k,{key:k.key||"_recharts-brush",onChange:sh(C.handleBrushChange,k.props.onChange),data:U,x:Ee(k.props.x)?k.props.x:L.left,y:Ee(k.props.y)?k.props.y:L.top+L.height+L.brushBottom-(R.bottom||0),width:Ee(k.props.width)?k.props.width:L.width,startIndex:G,endIndex:Q,updateId:"brush-".concat(H)})}),Fe(C,"renderReferenceElement",function(k,P,R){if(!k)return null;var U=C,F=U.clipPathId,L=C.state,G=L.xAxisMap,Q=L.yAxisMap,H=L.offset,q=k.type.defaultProps||{},$=k.props,z=$.xAxisId,Z=z===void 0?q.xAxisId:z,se=$.yAxisId,B=se===void 0?q.yAxisId:se;return j.cloneElement(k,{key:k.key||"".concat(P,"-").concat(R),xAxis:G[Z],yAxis:Q[B],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:F})}),Fe(C,"renderActivePoints",function(k){var P=k.item,R=k.activePoint,U=k.basePoint,F=k.childIndex,L=k.isRange,G=[],Q=P.props.key,H=P.item.type.defaultProps!==void 0?fe(fe({},P.item.type.defaultProps),P.item.props):P.item.props,q=H.activeDot,$=H.dataKey,z=fe(fe({index:F,dataKey:$,cx:R.x,cy:R.y,r:4,fill:Lw(P.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},He(q,!1)),wh(q));return G.push(O.renderActiveDot(q,z,"".concat(Q,"-activePoint-").concat(F))),U?G.push(O.renderActiveDot(q,fe(fe({},z),{},{cx:U.x,cy:U.y}),"".concat(Q,"-basePoint-").concat(F))):L&&G.push(null),G}),Fe(C,"renderGraphicChild",function(k,P,R){var U=C.filterFormatItem(k,P,R);if(!U)return null;var F=C.getTooltipEventType(),L=C.state,G=L.isTooltipActive,Q=L.tooltipAxis,H=L.activeTooltipIndex,q=L.activeLabel,$=C.props.children,z=gr($,Yr),Z=U.props,se=Z.points,B=Z.isRange,K=Z.baseLine,re=U.item.type.defaultProps!==void 0?fe(fe({},U.item.type.defaultProps),U.item.props):U.item.props,ce=re.activeDot,_e=re.hide,pe=re.activeBar,ke=re.activeShape,ut=!!(!_e&&G&&z&&(ce||pe||ke)),Ve={};F!=="axis"&&z&&z.props.trigger==="click"?Ve={onClick:sh(C.handleItemMouseEnter,k.props.onClick)}:F!=="axis"&&(Ve={onMouseLeave:sh(C.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:sh(C.handleItemMouseEnter,k.props.onMouseEnter)});var Ae=j.cloneElement(k,fe(fe({},U.props),Ve));function je(qt){return typeof Q.dataKey=="function"?Q.dataKey(qt.payload):null}if(ut)if(H>=0){var qe,ve;if(Q.dataKey&&!Q.allowDuplicatedCategory){var pt=typeof Q.dataKey=="function"?je:"payload.".concat(Q.dataKey.toString());qe=Qx(se,pt,q),ve=B&&K&&Qx(K,pt,q)}else qe=se==null?void 0:se[H],ve=B&&K&&K[H];if(ke||pe){var Qe=k.props.activeIndex!==void 0?k.props.activeIndex:H;return[j.cloneElement(k,fe(fe(fe({},U.props),Ve),{},{activeIndex:Qe})),null,null]}if(!st(qe))return[Ae].concat($l(C.renderActivePoints({item:U,activePoint:qe,basePoint:ve,childIndex:H,isRange:B})))}else{var Xe,Dt=(Xe=C.getItemByXY(C.state.activeCoordinate))!==null&&Xe!==void 0?Xe:{graphicalItem:Ae},dt=Dt.graphicalItem,or=dt.item,Xn=or===void 0?k:or,na=dt.childIndex,Ht=fe(fe(fe({},U.props),Ve),{},{activeIndex:na});return[j.cloneElement(Xn,Ht),null,null]}return B?[Ae,null,null]:[Ae,null]}),Fe(C,"renderCustomized",function(k,P,R){return j.cloneElement(k,fe(fe({key:"recharts-customized-".concat(R)},C.props),C.state))}),Fe(C,"renderMap",{CartesianGrid:{handler:fh,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:fh},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:fh},YAxis:{handler:fh},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((E=M.id)!==null&&E!==void 0?E:Sd("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=nj(C.triggeredAfterMouseMove,(D=M.throttleDelay)!==null&&D!==void 0?D:1e3/60),C.state={},C}return CQ(O,T),wQ(O,[{key:"componentDidMount",value:function(){var E,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,D=E.children,C=E.data,k=E.height,P=E.layout,R=gr(D,Yr);if(R){var U=R.props.defaultIndex;if(!(typeof U!="number"||U<0||U>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[U]&&this.state.tooltipTicks[U].value,L=yS(this.state,C,U,F),G=this.state.tooltipTicks[U].coordinate,Q=(this.state.offset.top+k)/2,H=P==="horizontal",q=H?{x:G,y:Q}:{y:G,x:Q},$=this.state.formattedGraphicalItems.find(function(Z){var se=Z.item;return se.type.name==="Scatter"});$&&(q=fe(fe({},q),$.props.points[U].tooltipPosition),L=$.props.points[U].tooltipPayload);var z={activeTooltipIndex:U,isTooltipActive:!0,activeLabel:F,activePayload:L,activeCoordinate:q};this.setState(z),this.renderCursor(R),this.accessibilityManager.setIndex(U)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var C,k;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(E){t_([gr(E.children,Yr)],[gr(this.props.children,Yr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=gr(this.props.children,Yr);if(E&&typeof E.props.shared=="boolean"){var D=E.props.shared?"axis":"item";return u.indexOf(D)>=0?D:i}return i}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var D=this.container,C=D.getBoundingClientRect(),k=f9(C),P={chartX:Math.round(E.pageX-k.left),chartY:Math.round(E.pageY-k.top)},R=C.width/D.offsetWidth||1,U=this.inRange(P.chartX,P.chartY,R);if(!U)return null;var F=this.state,L=F.xAxisMap,G=F.yAxisMap,Q=this.getTooltipEventType(),H=X2(this.state,this.props.data,this.props.layout,U);if(Q!=="axis"&&L&&G){var q=Fi(L).scale,$=Fi(G).scale,z=q&&q.invert?q.invert(P.chartX):null,Z=$&&$.invert?$.invert(P.chartY):null;return fe(fe({},P),{},{xValue:z,yValue:Z},H)}return H?fe(fe({},P),H):null}},{key:"inRange",value:function(E,D){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,P=E/C,R=D/C;if(k==="horizontal"||k==="vertical"){var U=this.state.offset,F=P>=U.left&&P<=U.left+U.width&&R>=U.top&&R<=U.top+U.height;return F?{x:P,y:R}:null}var L=this.state,G=L.angleAxisMap,Q=L.radiusAxisMap;if(G&&Q){var H=Fi(G);return tN({x:P,y:R},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,D=this.getTooltipEventType(),C=gr(E,Yr),k={};C&&D==="axis"&&(C.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=wh(this.props,this.handleOuterEvent);return fe(fe({},P),k)}},{key:"addListener",value:function(){$x.on(Lx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$x.removeListener(Lx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,D,C){for(var k=this.state.formattedGraphicalItems,P=0,R=k.length;P<R;P++){var U=k[P];if(U.item===E||U.props.key===E.key||D===Ka(U.item.type)&&C===U.childIndex)return U}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,D=this.state.offset,C=D.left,k=D.top,P=D.height,R=D.width;return J.createElement("defs",null,J.createElement("clipPath",{id:E},J.createElement("rect",{x:C,y:k,height:P,width:R})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(D,C){var k=K2(C,2),P=k[0],R=k[1];return fe(fe({},D),{},Fe({},P,R.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(D,C){var k=K2(C,2),P=k[0],R=k[1];return fe(fe({},D),{},Fe({},P,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[E])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(E){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[E])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(E){var D=this.state,C=D.formattedGraphicalItems,k=D.activeItem;if(C&&C.length)for(var P=0,R=C.length;P<R;P++){var U=C[P],F=U.props,L=U.item,G=L.type.defaultProps!==void 0?fe(fe({},L.type.defaultProps),L.props):L.props,Q=Ka(L.type);if(Q==="Bar"){var H=(F.data||[]).find(function(Z){return OY(E,Z)});if(H)return{graphicalItem:U,payload:H}}else if(Q==="RadialBar"){var q=(F.data||[]).find(function(Z){return tN(E,Z)});if(q)return{graphicalItem:U,payload:q}}else if(op(U,k)||sp(U,k)||ud(U,k)){var $=JW({graphicalItem:U,activeTooltipItem:k,itemData:G.data}),z=G.activeIndex===void 0?$:G.activeIndex;return{graphicalItem:fe(fe({},U),{},{childIndex:z}),payload:ud(U,k)?G.data[$]:U.props.data[$]}}}return null}},{key:"render",value:function(){var E=this;if(!hk(this))return null;var D=this.props,C=D.children,k=D.className,P=D.width,R=D.height,U=D.style,F=D.compact,L=D.title,G=D.desc,Q=Y2(D,gQ),H=He(Q,!1);if(F)return J.createElement(D2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement(r_,il({},H,{width:P,height:R,title:L,desc:G}),this.renderClipPath(),pk(C,this.renderMap)));if(this.props.accessibilityLayer){var q,$;H.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,H.role=($=this.props.role)!==null&&$!==void 0?$:"application",H.onKeyDown=function(Z){E.accessibilityManager.keyboardEvent(Z)},H.onFocus=function(){E.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return J.createElement(D2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement("div",il({className:rt("recharts-wrapper",k),style:fe({position:"relative",cursor:"default",width:P,height:R},U)},z,{ref:function(se){E.container=se}}),J.createElement(r_,il({},H,{width:P,height:R,title:L,desc:G,style:PQ}),this.renderClipPath(),pk(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Fe(S,"displayName",n),Fe(S,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Fe(S,"getDerivedStateFromProps",function(T,O){var M=T.dataKey,E=T.data,D=T.children,C=T.width,k=T.height,P=T.layout,R=T.stackOffset,U=T.margin,F=O.dataStartIndex,L=O.dataEndIndex;if(O.updateId===void 0){var G=Z2(T);return fe(fe(fe({},G),{},{updateId:0},_(fe(fe({props:T},G),{},{updateId:0}),O)),{},{prevDataKey:M,prevData:E,prevWidth:C,prevHeight:k,prevLayout:P,prevStackOffset:R,prevMargin:U,prevChildren:D})}if(M!==O.prevDataKey||E!==O.prevData||C!==O.prevWidth||k!==O.prevHeight||P!==O.prevLayout||R!==O.prevStackOffset||!ll(U,O.prevMargin)){var Q=Z2(T),H={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},q=fe(fe({},X2(O,E,P)),{},{updateId:O.updateId+1}),$=fe(fe(fe({},Q),H),q);return fe(fe(fe({},$),_(fe({props:T},$),O)),{},{prevDataKey:M,prevData:E,prevWidth:C,prevHeight:k,prevLayout:P,prevStackOffset:R,prevMargin:U,prevChildren:D})}if(!t_(D,O.prevChildren)){var z,Z,se,B,K=gr(D,kl),re=K&&(z=(Z=K.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&z!==void 0?z:F,ce=K&&(se=(B=K.props)===null||B===void 0?void 0:B.endIndex)!==null&&se!==void 0?se:L,_e=re!==F||ce!==L,pe=!st(E),ke=pe&&!_e?O.updateId:O.updateId+1;return fe(fe({updateId:ke},_(fe(fe({props:T},O),{},{updateId:ke,dataStartIndex:re,dataEndIndex:ce}),O)),{},{prevChildren:D,dataStartIndex:re,dataEndIndex:ce})}return null}),Fe(S,"renderActiveDot",function(T,O,M){var E;return j.isValidElement(T)?E=j.cloneElement(T,O):Ke(T)?E=T(O):E=J.createElement(qw,O),J.createElement(At,{className:"recharts-active-dot",key:M},E)});var A=j.forwardRef(function(O,M){return J.createElement(S,il({},O,{ref:M}))});return A.displayName=S.displayName,A},VQ=S$({chartName:"BarChart",GraphicalChild:ts,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hp},{axisType:"yAxis",AxisComp:mp}],formatAxisMap:tZ}),zQ=S$({chartName:"PieChart",GraphicalChild:ri,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ip},{axisType:"radiusAxis",AxisComp:rp}],formatAxisMap:zG,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Q2=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82ca9d","#ffc658","#a4de6c","#d0ed57","#ff7300","#4CAF50","#F44336","#E91E63","#9C27B0","#3F51B5"],GQ=({active:t,payload:e})=>t&&e&&e.length?b.jsx("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:b.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:`${e[0].name} : ${ye(e[0].value)}`})}):null,HQ=({transactions:t,categories:e,type:n,month:r})=>{const a=J.useMemo(()=>{const i=t.filter(u=>u.type===n&&u.date.startsWith(r)&&u.category_id),s={};return i.forEach(u=>{u.category_id&&(s[u.category_id]=(s[u.category_id]||0)+u.amount)}),Object.entries(s).map(([u,d])=>{const c=e.find(h=>h.id===u);return{name:c?c.name:"Desconhecido",value:d}}).sort((u,d)=>d.value-u.value)},[t,e,n,r]);return a.length===0?b.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no grfico para ",n===xe.INCOME?"receitas":"despesas"," este ms."]}):b.jsx("div",{className:"w-full h-80 md:h-96",children:b.jsx(rj,{width:"100%",height:"100%",children:b.jsxs(zQ,{children:[b.jsx(ri,{data:a,cx:"50%",cy:"50%",labelLine:!1,outerRadius:"80%",fill:"#8884d8",dataKey:"value",nameKey:"name",label:({cx:i,cy:s,midAngle:u,innerRadius:d,outerRadius:c,percent:h,index:m})=>{const y=Math.PI/180,_=d+(c-d)*.5,S=i+_*Math.cos(-u*y),A=s+_*Math.sin(-u*y),T=document.documentElement.classList.contains("dark");return h*100<5?null:b.jsx("text",{x:S,y:A,fill:"#FFF",textAnchor:S>i?"start":"end",dominantBaseline:"central",fontSize:"12px",children:`${(h*100).toFixed(0)}%`})},children:a.map((i,s)=>b.jsx(Fm,{fill:Q2[s%Q2.length]},`cell-${s}`))}),b.jsx(Yr,{content:b.jsx(GQ,{})}),b.jsx(zi,{formatter:(i,s)=>b.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:i})})]})})})},KQ=({active:t,payload:e,label:n})=>t&&e&&e.length?b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:[b.jsxs("p",{className:"text-sm font-semibold text-textBase dark:text-textBaseDark",children:["Dia ",n]}),b.jsxs("p",{className:`text-sm ${e[0].fill==="#00C49F"?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:[e[0].name,": ",ye(e[0].value)]})]}):null,YQ=({transactions:t,type:e,month:n})=>{const r=J.useMemo(()=>{const[s,u]=n.split("-").map(Number),d=new Date(s,u,0).getDate(),c=Array.from({length:d},(h,m)=>({name:(m+1).toString().padStart(2,"0"),value:0}));return t.forEach(h=>{if(h.type===e&&h.date.startsWith(n)){const m=parseInt(h.date.split("-")[2],10)-1;m>=0&&m<d&&(c[m].value+=h.amount)}}),c},[t,e,n]);if(r.every(s=>s.value===0))return b.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no grfico para ",e===xe.INCOME?"receitas":"despesas"," este ms."]});const a=s=>s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(0)}K`:s.toString(),i=e===xe.INCOME?"#00C49F":"#FF8042";return b.jsx("div",{className:"w-full h-80 md:h-96",children:b.jsx(rj,{width:"100%",height:"100%",children:b.jsxs(VQ,{data:r,margin:{top:5,right:0,left:-10,bottom:5},children:[b.jsx(l$,{strokeDasharray:"3 3",strokeOpacity:.2,className:"stroke-neutral dark:stroke-neutralDark"}),b.jsx(hp,{dataKey:"name",tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",interval:"preserveStartEnd"}),b.jsx(mp,{tickFormatter:a,tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",width:45}),b.jsx(Yr,{content:b.jsx(KQ,{}),cursor:{fill:"rgba(128, 128, 128, 0.1)"}}),b.jsx(zi,{payload:[{value:e===xe.INCOME?"Receitas":"Despesas",type:"square",color:i}],formatter:s=>b.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:s})}),b.jsx(ts,{dataKey:"value",name:e===xe.INCOME?"Receitas":"Despesas",fill:i,radius:[4,4,0,0]})]})})})},w$=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})]}),WQ=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),XQ=({className:t="w-5 h-5",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 10.5h19.5M4.5 3v2.25M19.5 3v2.25"})]}),bS=({className:t="w-5 h-5",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75h.008v.008H12V6.75Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75h.008v.008H12v-.008Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75h.008v.008H12V18.75Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Z"})]}),eP=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 11.25a.75.75 0 0 1 0-1.5m1.259 5.25a.75.75 0 0 1 0-1.5m15.257 1.5a.75.75 0 0 1 0-1.5M16.5 6.375a.75.75 0 0 1 0-1.5m-9.75 1.5a.75.75 0 0 1 0-1.5M21 9.75A.75.75 0 0 1 20.25 9M12 3.75a.75.75 0 0 1 .75-.75M3.75 9A.75.75 0 0 1 3 9.75m1.5-4.5a.75.75 0 0 1-.75-.75"})}),ZQ=({recurringTransactions:t,accounts:e,categories:n,onViewTransaction:r,isPrivacyModeEnabled:a})=>{const i=vt(new Date),s=vt(new Date(new Date().setDate(new Date().getDate()+7))),u=t.filter(m=>!m.is_paused&&(!m.end_date||m.end_date>=i)&&(m.remaining_occurrences===void 0||m.remaining_occurrences>0)),d=u.filter(m=>m.next_due_date<i).sort((m,y)=>new Date(m.next_due_date).getTime()-new Date(y.next_due_date).getTime()),c=u.filter(m=>m.next_due_date>=i&&m.next_due_date<=s).sort((m,y)=>new Date(m.next_due_date).getTime()-new Date(y.next_due_date).getTime());if(d.length===0&&c.length===0)return b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex items-center mb-3",children:[b.jsx(eP,{className:"w-6 h-6 text-secondary dark:text-secondaryDark mr-2"}),b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),b.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark text-center py-3",children:"Nenhuma conta vencida ou prxima do vencimento. Tudo em dia!"})]});const h=(m,y)=>{const _=e.find(O=>O.id===m.account_id),S=m.category_id?n.find(O=>O.id===m.category_id):null,A=m.type===xe.EXPENSE?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark",T=m.type===xe.EXPENSE?"-":"+";return b.jsx("li",{className:`p-3 rounded-md border-l-4 ${y?"border-destructive dark:border-destructiveDark bg-destructive/5 dark:bg-destructiveDark/10":"border-amber-500 dark:border-amber-400 bg-amber-500/5 dark:bg-amber-400/10"} hover:shadow-sm transition-shadow`,onClick:()=>r&&r(m.id),role:r?"button":void 0,tabIndex:r?0:void 0,"aria-label":`Ver detalhes de ${m.description}`,children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[y?b.jsx(XQ,{className:"w-5 h-5 text-destructive dark:text-destructiveDark flex-shrink-0"}):b.jsx(bS,{className:"w-5 h-5 text-amber-500 dark:text-amber-400 flex-shrink-0"}),b.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:m.description})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-7",children:["Vence em: ",Yn(m.next_due_date),_&&` (${_.name})`,S&&` - ${S.name}`]})]}),b.jsxs("span",{className:`text-md font-bold ${A}`,children:[T,ye(m.amount,"BRL","pt-BR",a)]})]})},m.id)};return b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex items-center mb-4",children:[b.jsx(eP,{className:"w-6 h-6 text-primary dark:text-primaryDark mr-2"}),b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),b.jsxs("div",{className:"space-y-4",children:[d.length>0&&b.jsxs("div",{children:[b.jsxs("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Vencidas (",d.length,")"]}),b.jsx("ul",{className:"space-y-2",children:d.map(m=>h(m,!0))})]}),c.length>0&&b.jsxs("div",{children:[b.jsxs("h3",{className:`text-md font-semibold text-amber-600 dark:text-amber-500 mb-2 ${d.length>0?"mt-4":""}`,children:["Prximas (7 dias) (",c.length,")"]}),b.jsx("ul",{className:"space-y-2",children:c.map(m=>h(m,!1))})]})]})]})},tP=({transactions:t,accounts:e,categories:n,creditCards:r,installmentPurchases:a,moneyBoxes:i,loans:s,loanRepayments:u,recurringTransactions:d,onAddTransaction:c,calculateAccountBalance:h,calculateMoneyBoxBalance:m,onViewRecurringTransaction:y,isPrivacyModeEnabled:_})=>{const[S,A]=j.useState(xe.EXPENSE),[T,O]=j.useState("pie"),M=vt(new Date).substring(0,7),E=j.useMemo(()=>e.reduce((L,G)=>L+h(G.id),0),[e,h]),D=j.useMemo(()=>i.reduce((L,G)=>L+m(G.id),0),[i,m]),C=j.useMemo(()=>a.reduce((L,G)=>{if(G.installments_paid>=G.number_of_installments)return L;const Q=G.total_amount/G.number_of_installments,H=G.number_of_installments-G.installments_paid;return L+Q*H},0),[a]),k=j.useMemo(()=>s.reduce((L,G)=>{const Q=u.filter(H=>H.loan_id===G.id).reduce((H,q)=>H+q.amount_paid,0);return L+(G.total_amount_to_reimburse-Q)},0),[s,u]),P=j.useMemo(()=>E+D+k-C,[E,D,k,C]),R=j.useMemo(()=>[...t].sort((L,G)=>new Date(G.date).getTime()-new Date(L.date).getTime()).slice(0,5),[t]),U=j.useMemo(()=>n.filter(L=>L.type===xe.EXPENSE&&L.monthly_budget&&L.monthly_budget>0),[n]),F=j.useMemo(()=>{const L=U.reduce((Q,H)=>Q+(H.monthly_budget||0),0);let G=0;return U.forEach(Q=>{const H=t.filter(q=>q.category_id===Q.id&&q.date.startsWith(M)&&q.type===xe.EXPENSE).reduce((q,$)=>q+$.amount,0);G+=H}),{totalBudgeted:L,totalSpentInBudgetedCategories:G}},[U,t,M]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Painel Geral"}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Bem-vindo ao seu controle financeiro."})]}),b.jsxs(be,{onClick:c,variant:"primary",size:"lg",children:[b.jsx(Bn,{className:"w-5 h-5 mr-2"}),"Nova Transao"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO TOTAL (CONTAS)"}),b.jsx("p",{className:`text-3xl font-bold ${E>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:ye(E,"BRL","pt-BR",_)})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO CAIXINHAS"}),b.jsx("p",{className:`text-3xl font-bold ${D>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:ye(D,"BRL","pt-BR",_)})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex items-center w-full justify-between",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"A RECEBER (EMPRSTIMOS)"}),b.jsx(GS,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),b.jsx("p",{className:"text-3xl font-bold text-primary dark:text-primaryDark",children:ye(k,"BRL","pt-BR",_)})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30 flex flex-col items-start",children:[b.jsxs("div",{className:"flex items-center w-full justify-between",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"PATRIMNIO LQUIDO"}),b.jsx(Eq,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),b.jsx("p",{className:`text-3xl font-bold ${P>=0?"text-primary dark:text-primaryDark":"text-destructive dark:text-destructiveDark"}`,children:ye(P,"BRL","pt-BR",_)}),!_&&b.jsxs("div",{className:"text-xs mt-1 space-y-0.5",children:[C>0&&b.jsxs("p",{className:"text-destructive dark:text-destructiveDark/80",children:["Dvida Cartes: ",ye(C)]}),k>0&&b.jsxs("p",{className:"text-primary dark:text-primaryDark/80",children:["Emprstimos a Receber: ",ye(k)]})]})]})]}),b.jsx(ZQ,{recurringTransactions:d,accounts:e,categories:n,onViewTransaction:y,isPrivacyModeEnabled:_}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[b.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:["Resumo Mensal (",M.split("-")[1],"/",M.split("-")[0],")"]}),b.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[b.jsx(be,{variant:S===xe.EXPENSE?"primary":"ghost",size:"sm",onClick:()=>A(xe.EXPENSE),children:"Despesas"}),b.jsx(be,{variant:S===xe.INCOME?"secondary":"ghost",size:"sm",onClick:()=>A(xe.INCOME),children:"Receitas"}),b.jsx("div",{className:"h-6 border-l border-borderBase dark:border-borderBaseDark mx-1 sm:mx-2"}),b.jsx(be,{variant:T==="pie"?"primary":"ghost",size:"sm",onClick:()=>O("pie"),className:"!px-2",title:"Grfico de Pizza",children:b.jsx(w$,{className:"w-4 h-4"})}),b.jsx(be,{variant:T==="bar"?"primary":"ghost",size:"sm",onClick:()=>O("bar"),className:"!px-2",title:"Grfico de Barras",children:b.jsx(WQ,{className:"w-4 h-4"})})]})]}),_?b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Grficos ocultos em Modo Privacidade."}):T==="pie"?b.jsx(HQ,{transactions:t,categories:n.filter(L=>L.type===S),type:S,month:M}):b.jsx(YQ,{transactions:t,type:S,month:M})]}),U.length>0&&b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:["Oramento Mensal (",M.split("-")[1],"/",M.split("-")[0],")"]}),b.jsxs("div",{className:"mb-3",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsxs("span",{children:["Total Gasto (Orado): ",ye(F.totalSpentInBudgetedCategories,"BRL","pt-BR",_)]}),b.jsxs("span",{children:["Total Orado: ",ye(F.totalBudgeted,"BRL","pt-BR",_)]})]}),!_&&F.totalBudgeted>0&&b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 mt-1 dark:progress-bar-bg",children:b.jsx("div",{className:`h-2.5 rounded-full ${F.totalSpentInBudgetedCategories>F.totalBudgeted?"bg-destructive":"bg-primary dark:bg-primaryDark"}`,style:{width:`${Math.min(F.totalSpentInBudgetedCategories/F.totalBudgeted*100,100)}%`}})}),_&&b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center",children:"Progresso oculto em Modo Privacidade."})]}),b.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto",children:U.map(L=>{const G=t.filter(q=>q.category_id===L.id&&q.date.startsWith(M)&&q.type===xe.EXPENSE).reduce((q,$)=>q+$.amount,0),Q=L.monthly_budget?Math.min(G/L.monthly_budget*100,100):0,H=L.monthly_budget?G>L.monthly_budget:!1;return b.jsxs("li",{className:"text-sm",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:L.name}),b.jsxs("span",{className:H?"text-destructive dark:text-destructiveDark":"",children:[ye(G,"BRL","pt-BR",_)," / ",ye(L.monthly_budget||0,"BRL","pt-BR",_)]})]}),!_&&L.monthly_budget&&L.monthly_budget>0&&b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-1.5 mt-0.5 dark:progress-bar-bg",children:b.jsx("div",{className:`h-1.5 rounded-full ${H?"bg-destructive":"bg-secondary dark:bg-secondaryDark"}`,style:{width:`${Q}%`}})})]},L.id)})})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:"Transaes Recentes"}),R.length>0?b.jsx("ul",{className:"space-y-3",children:R.map(L=>{const G=e.find($=>$.id===L.account_id),Q=n.find($=>$.id===L.category_id);let H="text-textBase dark:text-textBaseDark";L.type===xe.INCOME?H="text-secondary dark:text-secondaryDark":L.type===xe.EXPENSE&&(H="text-destructive dark:text-destructiveDark");let q=L.description||(L.type===xe.TRANSFER?"Transferncia":Q==null?void 0:Q.name)||"Transao";if(L.type===xe.TRANSFER){const $=e.find(z=>z.id===L.to_account_id);q+=` para ${($==null?void 0:$.name)||"N/A"}`}return b.jsxs("li",{className:"flex justify-between items-center py-2 border-b border-borderBase/50 dark:border-borderBaseDark/50 last:border-b-0",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-textBase dark:text-textBaseDark",children:q}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[G==null?void 0:G.name,"  ",Yn(L.date)]})]}),b.jsx("p",{className:`font-semibold ${H}`,children:ye(L.amount,"BRL","pt-BR",_)})]},L.id)})}):b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Nenhuma transao recente."})]})]})},Qr=({className:t="w-5 h-5",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79M5.25 5.79h13.5"})}),ea=({className:t="w-5 h-5",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),gp=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})}),JQ=({transaction:t,accounts:e,categories:n,tags:r,installmentPurchases:a,onEdit:i,onDelete:s,isPrivacyModeEnabled:u})=>{const{type:d,amount:c,category_id:h,description:m,date:y,account_id:_,to_account_id:S,tag_ids:A}=t,T=e.find(F=>F.id===_),O=S?e.find(F=>F.id===S):null,M=h?n.find(F=>F.id===h):null,E=A?r.filter(F=>A.includes(F.id)):[];let D="text-textBase dark:text-textBaseDark",C="";d===xe.INCOME?(D="text-secondary dark:text-secondaryDark",C="+"):d===xe.EXPENSE&&(D="text-destructive dark:text-destructiveDark",C="-");const k=m||(M==null?void 0:M.name)||d,P=[];T&&P.push(T.name),d===xe.TRANSFER&&O?P.push(` ${O.name}`):M&&d!==xe.TRANSFER&&P.push(M.name);const R=F=>{if(!F)return"text-textBase dark:text-textBaseDark";try{const L=parseInt(F.slice(1,3),16),G=parseInt(F.slice(3,5),16),Q=parseInt(F.slice(5,7),16);return(.299*L+.587*G+.114*Q)/255>.5?"text-neutral-800":"text-white"}catch{return"text-white"}},U=a.some(F=>F.linked_transaction_id===t.id&&F.number_of_installments===1);return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-2 sm:space-y-0",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsxs("span",{className:`font-semibold text-lg ${D}`,children:[C,ye(c,"BRL","pt-BR",u)]}),b.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:k}),U&&b.jsxs("span",{title:"Dbito em fatura de carto",className:"ml-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300 px-1.5 py-0.5 rounded-full inline-flex items-center",children:[b.jsx(gp,{className:"w-3 h-3 mr-1"})," Carto"]})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[Yn(y)," ",b.jsx("span",{className:"mx-1",children:""})," ",P.join(" ")]}),m&&M&&d!==xe.TRANSFER&&b.jsx("p",{className:"text-xs text-neutral/70 dark:text-neutralDark/70 italic mt-1",children:m}),E.length>0&&b.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:E.map(F=>b.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full border
                            ${F.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:F.color?{backgroundColor:F.color,borderColor:F.color}:{},children:b.jsx("span",{className:F.color?R(F.color):"text-textBase dark:text-textBaseDark",children:F.name})},F.id))})]}),b.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>i(t),"aria-label":"Editar",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>s(t.id),"aria-label":"Excluir",children:b.jsx(Qr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})},Et=({label:t,id:e,error:n,className:r,containerClassName:a,options:i,placeholder:s,...u})=>b.jsxs("div",{className:a,children:[t&&b.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),b.jsxs("select",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...u,children:[s&&b.jsx("option",{value:"",children:s}),i.map(h=>b.jsx("option",{value:h.value,children:h.label},h.value))]}),n&&b.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),$e=({label:t,id:e,error:n,className:r,containerClassName:a,...i})=>b.jsxs("div",{className:a,children:[t&&b.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),b.jsx("input",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...i}),n&&b.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),QQ=({transactions:t,accounts:e,categories:n,tags:r,installmentPurchases:a,onAddTransaction:i,onEditTransaction:s,onDeleteTransaction:u,isLoading:d,isPrivacyModeEnabled:c})=>{const[h,m]=j.useState("all"),[y,_]=j.useState("all"),[S,A]=j.useState("all"),[T,O]=j.useState("all"),[M,E]=j.useState([]),[D,C]=j.useState(""),[k,P]=j.useState("desc"),R=[{value:"all",label:"Todas as Contas"},...e.map(q=>({value:q.id,label:q.name}))],U=[{value:"all",label:"Todas as Categorias"},...n.map(q=>({value:q.id,label:q.name}))],F=[{value:"all",label:"Todos os Tipos"},...Om],L=r.map(q=>({value:q.id,label:q.name})),G=j.useMemo(()=>{let q=[...t];if(h!=="all"){const $=new Date;let z=null,Z=new Date($.getFullYear(),$.getMonth(),$.getDate(),23,59,59,999);if(h==="today"?z=new Date($.getFullYear(),$.getMonth(),$.getDate()):h==="current_month"?(z=new Date($.getFullYear(),$.getMonth(),1),Z=new Date($.getFullYear(),$.getMonth()+1,0,23,59,59,999)):h==="last_7_days"?(z=new Date($),z.setDate($.getDate()-6),z.setHours(0,0,0,0)):h==="last_30_days"&&(z=new Date($),z.setDate($.getDate()-29),z.setHours(0,0,0,0)),z){const se=vt(z),B=vt(Z);q=q.filter(K=>K.date>=se&&K.date<=B)}}if(y!=="all"&&(q=q.filter($=>$.type===y)),S!=="all"&&(q=q.filter($=>$.account_id===S||$.to_account_id===S)),T!=="all"&&(q=q.filter($=>$.category_id===T)),M.length>0&&(q=q.filter($=>$.tag_ids&&$.tag_ids.some(z=>M.includes(z)))),D.trim()!==""){const $=D.toLowerCase();q=q.filter(z=>{var Z;return z.description&&z.description.toLowerCase().includes($)||z.category_id&&((Z=n.find(se=>se.id===z.category_id))==null?void 0:Z.name.toLowerCase().includes($))})}return q.sort(($,z)=>{const Z=new Date($.date).getTime(),se=new Date(z.date).getTime();return k==="desc"?se-Z:Z-se}),q},[t,h,y,S,T,M,D,n,k]),Q=j.useCallback(()=>P(q=>q==="asc"?"desc":"asc"),[]),H=q=>{const $=q.target.options,z=[];for(let Z=0,se=$.length;Z<se;Z++)$[Z].selected&&z.push($[Z].value);E(z)};return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transaes"}),b.jsxs(be,{onClick:i,variant:"primary",children:[b.jsx(Bn,{className:"w-5 h-5 mr-2"}),"Nova Transao"]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-6 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx(Et,{label:"Perodo",options:xq,value:h,onChange:q=>m(q.target.value)}),b.jsx(Et,{label:"Tipo",options:F,value:y,onChange:q=>_(q.target.value)}),b.jsx(Et,{label:"Conta",options:R,value:S,onChange:q=>A(q.target.value)}),b.jsx(Et,{label:"Categoria",options:U,value:T,onChange:q=>O(q.target.value),disabled:y===xe.TRANSFER.toString()}),r.length>0&&b.jsx(Et,{label:"Tags",options:L,value:M,onChange:H,multiple:!0,className:"h-24",placeholder:"Todas as Tags"}),b.jsx($e,{label:"Buscar Descrio",type:"text",placeholder:"Ex: Supermercado",value:D,onChange:q=>C(q.target.value),containerClassName:r.length===0?"lg:col-span-2":""})]}),b.jsx("div",{className:"flex justify-end",children:b.jsxs(be,{variant:"ghost",size:"sm",onClick:Q,children:["Ordenar por Data: ",k==="desc"?"Mais Recentes":"Mais Antigas"]})}),d&&b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Carregando transaes..."}),!d&&G.length>0?b.jsx("ul",{className:"space-y-3",children:G.map(q=>b.jsx(JQ,{transaction:q,accounts:e,categories:n,tags:r,installmentPurchases:a,onEdit:s,onDelete:u,isPrivacyModeEnabled:c},q.id))}):!d&&b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transao encontrada com os filtros aplicados."})]})},eee=({account:t,balance:e,onEdit:n,onDelete:r,transactionCount:a,isPrivacyModeEnabled:i})=>b.jsx("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(gp,{className:"w-6 h-6 text-primary dark:text-primaryDark"}),b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),b.jsx("p",{className:`text-2xl font-bold mt-1 ${e>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:ye(e,"BRL","pt-BR",i)}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1",children:["Saldo Inicial: ",ye(t.initial_balance,"BRL","pt-BR",i)]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[b.jsxs("div",{className:"flex space-x-2",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Conta",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Conta",disabled:a>0,title:a>0?"No pode excluir contas com transaes associadas":"Excluir conta",children:b.jsx(Qr,{className:`w-4 h-4 ${a>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),a>0&&b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Possui ",a," transae(s)"]})]})]})}),Tn=({isOpen:t,onClose:e,title:n,children:r,size:a="md"})=>{if(!t)return null;let i="max-w-md";return a==="sm"&&(i="max-w-sm"),a==="lg"&&(i="max-w-lg"),a==="xl"&&(i="max-w-xl"),b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 dark:bg-opacity-70 backdrop-blur-sm p-4",children:b.jsxs("div",{className:`bg-surface dark:bg-surfaceDark rounded-lg shadow-xl dark:shadow-neutralDark/50 w-full ${i} transform transition-all flex flex-col max-h-[85vh]`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[b.jsxs("div",{id:"modal-title",className:"flex items-center justify-between px-6 py-4 border-b border-borderBase dark:border-borderBaseDark flex-shrink-0",children:[b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n}),b.jsx("button",{onClick:e,className:"text-textMuted dark:text-textMutedDark hover:text-textBase dark:hover:text-textBaseDark transition-colors","aria-label":"Fechar modal",children:b.jsx(QR,{className:"w-5 h-5"})})]}),b.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:r})]})})},tee=({accounts:t,transactions:e,onAddAccount:n,onUpdateAccount:r,onDeleteAccount:a,calculateAccountBalance:i,isPrivacyModeEnabled:s})=>{const[u,d]=j.useState(!1),[c,h]=j.useState(null),[m,y]=j.useState(""),[_,S]=j.useState("0"),[A,T]=j.useState(""),O=()=>{h(null),y(""),S("0"),T(""),d(!0)},M=k=>{h(k),y(k.name),S(k.initial_balance.toString()),T(""),d(!0)},E=()=>{d(!1),h(null)},D=()=>{if(!m.trim()){T("Nome da conta  obrigatrio.");return}const k=parseFloat(_);if(isNaN(k)){T("Saldo inicial invlido.");return}T(""),c?r({...c,name:m,initial_balance:k}):n({name:m,initial_balance:k}),E()},C=k=>e.filter(P=>P.account_id===k||P.to_account_id===k).length;return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Contas"}),b.jsxs(be,{onClick:O,variant:"primary",children:[b.jsx(Bn,{className:"w-5 h-5 mr-2"}),"Nova Conta"]})]}),t.length>0?b.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(k=>b.jsx(eee,{account:k,balance:i(k.id),onEdit:M,onDelete:a,transactionCount:C(k.id),isPrivacyModeEnabled:s},k.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma conta cadastrada. Adicione uma para comear!"}),b.jsx(Tn,{isOpen:u,onClose:E,title:c?"Editar Conta":"Nova Conta",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx($e,{label:"Nome da Conta",id:"accountName",type:"text",value:m,onChange:k=>y(k.target.value),placeholder:"Ex: Carteira, Banco X",required:!0}),b.jsx($e,{label:"Saldo Inicial",id:"initialBalance",type:"number",step:"0.01",value:_,onChange:k=>S(k.target.value),placeholder:s?ye(0,"BRL","pt-BR",!0).replace("0,00","Ex: 1000.00"):"Ex: 1000.00",required:!0}),A&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:A}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:E,children:"Cancelar"}),b.jsx(be,{variant:"primary",onClick:D,children:"Salvar"})]})]})})]})},T$=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),nP=({category:t,transactions:e,onEdit:n,onDelete:r,transactionCount:a,isPrivacyModeEnabled:i})=>{const s=t.type===xe.INCOME?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",u=t.type===xe.INCOME?"Receita":"Despesa",d=vt().substring(0,7),c=t.type===xe.EXPENSE&&t.monthly_budget?e.filter(y=>y.category_id===t.id&&y.date.startsWith(d)&&y.type===xe.EXPENSE).reduce((y,_)=>y+_.amount,0):0,h=t.monthly_budget&&t.monthly_budget>0?Math.min(c/t.monthly_budget*100,100):0,m=t.monthly_budget&&c>t.monthly_budget;return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(T$,{className:`w-5 h-5 ${s}`}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.name}),b.jsx("p",{className:`text-xs font-semibold ${s}`,children:u})]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[b.jsxs("div",{className:"flex space-x-2",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Categoria",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Categoria",className:"!p-1.5",disabled:a>0,title:a>0?"No pode excluir categorias com transaes associadas":"Excluir categoria",children:b.jsx(Qr,{className:`w-4 h-4 ${a>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),a>0&&b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Usada em ",a," trans."]})]})]}),t.type===xe.EXPENSE&&t.monthly_budget&&t.monthly_budget>0&&b.jsxs("div",{className:"mt-3 pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[b.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[b.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Oramento Mensal: ",ye(t.monthly_budget,"BRL","pt-BR",i)]}),b.jsxs("span",{className:`font-medium ${m?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark"}`,children:["Gasto: ",ye(c,"BRL","pt-BR",i)]})]}),b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:b.jsx("div",{className:`h-2 rounded-full ${m?"bg-destructive dark:bg-destructiveDark":"bg-primary dark:bg-primaryDark"}`,style:{width:`${h}%`}})}),m&&b.jsx("p",{className:"text-xs text-destructive dark:text-destructiveDark mt-1 text-right",children:"Oramento excedido!"})]})]})},qo=({className:t="w-5 h-5",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.355a12.053 12.053 0 0 1-4.5 0M12 3V1.5M12 16.5h.008v.008H12V16.5Zm-4.508-2.656L6.292 12.64a9.018 9.018 0 0 1-.365-2.074 9.028 9.028 0 0 1 .365-2.073l1.208-1.208m5.832 5.46L17.708 12.36a9.018 9.018 0 0 0 .365-2.074 9.028 9.028 0 0 0-.365-2.073L16.5 6.992M12 1.5a9 9 0 0 0-9 9c0 2.21.81 4.286 2.186 5.885L6.9 17.72A9.03 9.03 0 0 0 12 22.5a9.03 9.03 0 0 0 5.1-4.78l1.714-1.335A8.973 8.973 0 0 0 21 10.5a9 9 0 0 0-9-9Z"})}),nee=({categories:t,transactions:e,aiConfig:n,onAddCategory:r,onUpdateCategory:a,onDeleteCategory:i,onSuggestBudget:s,isPrivacyModeEnabled:u})=>{const[d,c]=j.useState(!1),[h,m]=j.useState(null),[y,_]=j.useState(""),[S,A]=j.useState(xe.EXPENSE),[T,O]=j.useState(""),[M,E]=j.useState(""),[D,C]=j.useState(!1),k=()=>{m(null),_(""),A(xe.EXPENSE),O(""),E(""),c(!0)},P=H=>{var q;m(H),_(H.name),A(H.type),O(((q=H.monthly_budget)==null?void 0:q.toString())||""),E(""),c(!0)},R=()=>{c(!1),m(null)},U=()=>{if(!y.trim()){E("Nome da categoria  obrigatrio.");return}const H=T?parseFloat(T):void 0;if(S===xe.EXPENSE&&T&&(isNaN(H)||H<0)){E("Oramento mensal deve ser um nmero positivo ou vazio.");return}E(""),h?a({...h,name:y.trim(),type:S,monthly_budget:S===xe.EXPENSE?H:void 0}):r({name:y.trim(),type:S,monthly_budget:S===xe.EXPENSE?H:void 0}),R()},F=H=>e.filter(q=>q.category_id===H).length,L=async()=>{if(!y.trim()&&!h){E("Por favor, insira um nome para a categoria antes de sugerir um oramento.");return}E(""),C(!0);const H=t.filter($=>$.type===xe.EXPENSE&&$.id!==(h==null?void 0:h.id)&&$.monthly_budget).map($=>({name:$.name,budget:$.monthly_budget})),q=await s((h==null?void 0:h.name)||y,H);q!==null?O(q.toString()):E("No foi possvel sugerir um oramento no momento."),C(!1)},G=t.filter(H=>H.type===xe.INCOME).sort((H,q)=>H.name.localeCompare(q.name)),Q=t.filter(H=>H.type===xe.EXPENSE).sort((H,q)=>H.name.localeCompare(q.name));return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Categorias"}),b.jsxs(be,{onClick:k,variant:"primary",children:[b.jsx(Bn,{className:"w-5 h-5 mr-2"}),"Nova Categoria"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Receitas (",G.length,")"]}),G.length>0?b.jsx("ul",{className:"space-y-3",children:G.map(H=>b.jsx(nP,{category:H,transactions:e,onEdit:P,onDelete:i,transactionCount:F(H.id),isPrivacyModeEnabled:u},H.id))}):b.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de receita."})]}),b.jsxs("div",{children:[b.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Despesas (",Q.length,")"]}),Q.length>0?b.jsx("ul",{className:"space-y-3",children:Q.map(H=>b.jsx(nP,{category:H,transactions:e,onEdit:P,onDelete:i,transactionCount:F(H.id),isPrivacyModeEnabled:u},H.id))}):b.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de despesa."})]})]}),b.jsx(Tn,{isOpen:d,onClose:R,title:h?"Editar Categoria":"Nova Categoria",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx($e,{label:"Nome da Categoria",id:"categoryName",type:"text",value:y,onChange:H=>_(H.target.value),placeholder:"Ex: Alimentao, Salrio",required:!0}),b.jsx(Et,{label:"Tipo de Categoria",id:"categoryType",options:[{value:xe.INCOME,label:"Receita"},{value:xe.EXPENSE,label:"Despesa"}],value:S,onChange:H=>{A(H.target.value),H.target.value===xe.INCOME&&O("")},required:!0}),S===xe.EXPENSE&&b.jsxs("div",{className:"space-y-1",children:[b.jsx($e,{label:"Oramento Mensal (Opcional)",id:"monthlyBudget",type:"number",step:"0.01",value:T,onChange:H=>O(H.target.value),placeholder:u?ye(0,"BRL","pt-BR",!0).replace("0,00","Ex: 500.00"):"Ex: 500.00"}),n.isEnabled&&n.apiKeyStatus==="available"&&n.monthlyIncome&&n.monthlyIncome>0&&b.jsxs(be,{type:"button",variant:"ghost",size:"sm",onClick:L,disabled:D,className:"text-primary dark:text-primaryDark !mt-1.5",children:[b.jsx(qo,{className:"w-4 h-4 mr-1.5"}),D?"Sugerindo...":"Sugerir com IA"]})]}),M&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:M}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:R,children:"Cancelar"}),b.jsx(be,{variant:"primary",onClick:U,children:"Salvar"})]})]})})]})},Xw=({className:t="w-5 h-5",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25zM12 2.25L11.187 5.104a4.502 4.502 0 00-3.09 3.09L5.25 9l2.846.813a4.502 4.502 0 003.09 3.09L12 15.75l.813-2.846a4.502 4.502 0 003.09-3.09L18.75 9l-2.846-.813a4.502 4.502 0 00-3.09-3.09L12 2.25z"})]}),ree=({card:t,installmentPurchases:e,onEditCard:n,onDeleteCard:r,onAddInstallmentPurchase:a,onEditInstallmentPurchase:i,onDeleteInstallmentPurchase:s,onMarkInstallmentPaid:u,onGetBestPurchaseDay:d,onPayMonthlyInstallments:c,isAIFeatureEnabled:h,isPrivacyModeEnabled:m})=>{const[y,_]=j.useState(!1),S=e.filter(M=>M.credit_card_id===t.id),A=S.reduce((M,E)=>{if(E.installments_paid>=E.number_of_installments)return M;const D=E.total_amount/E.number_of_installments,C=E.number_of_installments-E.installments_paid;return M+D*C},0),T=t.card_limit-A,O=J.useMemo(()=>JR(S,t,new Date),[S,t]);return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow-lg hover:shadow-xl dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[b.jsx(gp,{className:"w-7 h-7 text-primary dark:text-primaryDark"}),b.jsx("h3",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Limite Total: ",ye(t.card_limit,"BRL","pt-BR",m)]}),b.jsxs("p",{className:`text-md font-medium ${T>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:["Disponvel: ",ye(T,"BRL","pt-BR",m)]}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Fechamento: Dia ",t.closing_day," | Vencimento: Dia ",t.due_day]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1.5",children:[b.jsxs("div",{className:"flex space-x-1",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Carto",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Carto",className:"!p-1.5",disabled:S.length>0,title:S.length>0?"Exclua as compras parceladas primeiro":"Excluir carto",children:b.jsx(Qr,{className:`w-4 h-4 ${S.length>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),b.jsxs(be,{size:"sm",variant:"secondary",onClick:()=>a(t),className:"!text-xs !py-1 !px-2.5",children:[b.jsx(Bn,{className:"w-4 h-4 mr-1"})," Novo Parcelamento"]})]})]}),b.jsxs("div",{className:"space-y-2",children:[h&&b.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>d(t.id),className:"text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !text-xs",title:"Ver melhor dia para compra com IA",children:[b.jsx(Xw,{className:"w-4 h-4 mr-1.5"})," Melhor Dia para Compra (IA)"]}),O.length>0&&b.jsxs(be,{variant:"primary",size:"sm",onClick:()=>c(t.id),className:"w-full !text-xs",children:["Pagar Parcelas da Fatura (",O.length,")"]})]}),S.length>0&&b.jsx("div",{className:"mt-2",children:b.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>_(!y),className:"text-sm text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !font-normal",children:[y?"Ocultar":"Mostrar"," ",S.length," Compra(s) Parcelada(s)"]})}),y&&S.length>0&&b.jsxs("div",{className:"mt-2 pt-3 border-t border-borderBase/50 dark:border-borderBaseDark/50 space-y-3",children:[b.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark",children:"Detalhes dos Parcelamentos:"}),b.jsx("ul",{className:"space-y-3 max-h-72 overflow-y-auto pr-1",children:S.map(M=>{const E=M.total_amount/M.number_of_installments,D=M.installments_paid>=M.number_of_installments,C=M.installments_paid+1,k=D?null:ZR(M.purchase_date,C,t.due_day),P=O.some(R=>R.id===M.id);return b.jsxs("li",{className:`p-3 rounded-md ${D?"bg-green-500/10 dark:bg-green-500/20 opacity-70":"bg-surface dark:bg-surfaceDark shadow-sm border border-borderBase dark:border-borderBaseDark"}`,children:[b.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[b.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:M.description}),b.jsxs("div",{className:"flex space-x-1",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>i(M,t),"aria-label":"Editar Compra",className:"!p-1",children:b.jsx(ea,{className:"w-3.5 h-3.5"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>s(M.id),"aria-label":"Excluir Compra",className:"!p-1",children:b.jsx(Qr,{className:"w-3.5 h-3.5 text-destructive dark:text-destructiveDark"})})]})]}),b.jsxs("div",{className:"text-sm space-y-0.5",children:[b.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Parcela: ",b.jsx("span",{className:"font-medium",children:ye(E,"BRL","pt-BR",m)}),b.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:[" (",M.installments_paid,"/",M.number_of_installments," pagas)"]})]}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Total: ",ye(M.total_amount,"BRL","pt-BR",m)," | Compra: ",Yn(M.purchase_date)]}),k&&!D&&b.jsxs("p",{className:`text-xs font-medium ${P?"text-red-600 dark:text-red-400":"text-textMuted dark:text-textMutedDark"}`,children:["Prx. Venc. Parcela: ",Yn(vt(k))]})]}),!D&&b.jsxs(be,{size:"sm",variant:P?"primary":"ghost",onClick:()=>u(M.id),className:`text-xs py-1 px-2 mt-2.5 w-full sm:w-auto ${P?"":"border border-borderBase dark:border-borderBaseDark"}`,children:[P?b.jsx(Jx,{className:"w-4 h-4 mr-1"}):null,"Pagar Parcela (",C,")"]}),D&&b.jsxs("p",{className:"text-xs text-secondary dark:text-secondaryDark mt-2 font-medium flex items-center",children:[b.jsx(Jx,{className:"w-4 h-4 mr-1"})," Compra Totalmente Paga"]})]},M.id)})})]}),y&&S.length===0&&b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center py-2",children:"Nenhuma compra parcelada para este carto."})]})},aee=({isOpen:t,onClose:e,onSave:n,existingCard:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState(""),[d,c]=j.useState(""),[h,m]=j.useState(""),[y,_]=j.useState({});j.useEffect(()=>{r?(i(r.name),u(r.card_limit.toString()),c(r.closing_day.toString()),m(r.due_day.toString())):(i(""),u(""),c(""),m("")),_({})},[r,t]);const S=()=>{const T={};a.trim()||(T.name="Nome do carto  obrigatrio.");const O=parseFloat(s);(isNaN(O)||O<=0)&&(T.limit="Limite deve ser um nmero positivo.");const M=parseInt(d,10);(isNaN(M)||M<1||M>31)&&(T.closingDay="Dia de fechamento deve ser entre 1 e 31.");const E=parseInt(h,10);return(isNaN(E)||E<1||E>31)&&(T.dueDay="Dia de vencimento deve ser entre 1 e 31."),_(T),Object.keys(T).length===0},A=()=>{if(!S())return;const T={name:a.trim(),card_limit:parseFloat(s),closing_day:parseInt(d,10),due_day:parseInt(h,10)},O=r?{...T,id:r.id}:T;n(O),e()};return b.jsx(Tn,{isOpen:t,onClose:e,title:r?"Editar Carto de Crdito":"Novo Carto de Crdito",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx($e,{label:"Nome do Carto",id:"cardName",value:a,onChange:T=>i(T.target.value),error:y.name,placeholder:"Ex: Carto Principal, Carto Viagem"}),b.jsx($e,{label:"Limite do Carto (R$)",id:"cardLimit",type:"number",step:"0.01",value:s,onChange:T=>u(T.target.value),error:y.limit,placeholder:"Ex: 5000.00"}),b.jsx($e,{label:"Dia de Fechamento da Fatura",id:"cardClosingDay",type:"number",min:"1",max:"31",value:d,onChange:T=>c(T.target.value),error:y.closingDay,placeholder:"Ex: 25"}),b.jsx($e,{label:"Dia de Vencimento da Fatura",id:"cardDueDay",type:"number",min:"1",max:"31",value:h,onChange:T=>m(T.target.value),error:y.dueDay,placeholder:"Ex: 10"}),y.form&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:y.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{variant:"primary",onClick:A,children:"Salvar Carto"})]})]})})},iee=({isOpen:t,onClose:e,onSave:n,creditCard:r,existingPurchase:a})=>{const[i,s]=j.useState(""),[u,d]=j.useState(vt()),[c,h]=j.useState(""),[m,y]=j.useState(""),[_,S]=j.useState("0"),[A,T]=j.useState({});j.useEffect(()=>{a?(s(a.description),d(a.purchase_date),h(a.total_amount.toString()),y(a.number_of_installments.toString()),S(a.installments_paid.toString())):(s(""),d(vt()),h(""),y(""),S("0")),T({})},[a,t]);const O=()=>{const E={};i.trim()||(E.description="Descrio  obrigatria."),u||(E.purchaseDate="Data da compra  obrigatria.");const D=parseFloat(c);(isNaN(D)||D<=0)&&(E.totalAmount="Valor total deve ser positivo.");const C=parseInt(m,10);(isNaN(C)||C<=0)&&(E.numberOfInstallments="Nmero de parcelas deve ser positivo.");const k=parseInt(_,10);return(isNaN(k)||k<0||C>0&&k>C)&&(E.installmentsPaid="Parcelas pagas invlido."),T(E),Object.keys(E).length===0},M=()=>{if(!O())return;const E={credit_card_id:r.id,description:i.trim(),purchase_date:u,total_amount:parseFloat(c),number_of_installments:parseInt(m,10),installments_paid:parseInt(_,10)},D=a?{...E,id:a.id}:E;n(D),e()};return b.jsxs(Tn,{isOpen:t,onClose:e,title:a?"Editar Compra Parcelada":"Nova Compra Parcelada",children:[b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark mb-3",children:["Carto: ",b.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:r.name})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx($e,{label:"Descrio da Compra",id:"purchaseDescription",value:i,onChange:E=>s(E.target.value),error:A.description,placeholder:"Ex: Celular Novo, Geladeira"}),b.jsx($e,{label:"Data da Compra",id:"purchaseDate",type:"date",value:u,onChange:E=>d(E.target.value),error:A.purchaseDate}),b.jsx($e,{label:"Valor Total (R$)",id:"totalAmount",type:"number",step:"0.01",value:c,onChange:E=>h(E.target.value),error:A.totalAmount,placeholder:"Ex: 1200.00"}),b.jsx($e,{label:"Nmero de Parcelas",id:"numberOfInstallments",type:"number",min:"1",value:m,onChange:E=>y(E.target.value),error:A.numberOfInstallments,placeholder:"Ex: 12"}),a&&b.jsx($e,{label:"Parcelas Pagas",id:"installmentsPaid",type:"number",min:"0",max:m||void 0,value:_,onChange:E=>S(E.target.value),error:A.installmentsPaid}),A.form&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:A.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{variant:"primary",onClick:M,children:"Salvar Compra"})]})]})]})},oee=({isOpen:t,onClose:e,advice:n,isLoading:r,cardName:a})=>b.jsxs(Tn,{isOpen:t,onClose:e,title:`Melhor Dia para Compra ${a?`(${a})`:""}`,size:"md",children:[r&&b.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 p-6",children:[b.jsx(Xw,{className:"w-12 h-12 text-primary dark:text-primaryDark animate-pulse"}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Analisando o melhor dia para sua compra..."}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Aguarde um momento."})]}),!r&&n&&b.jsxs("div",{className:"space-y-4 p-2",children:[n.error?b.jsxs("div",{className:"bg-destructive/10 dark:bg-destructiveDark/20 p-4 rounded-md border-l-4 border-destructive dark:border-destructiveDark",children:[b.jsx("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-1",children:"Erro ao Analisar"}),b.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:n.explanation||"No foi possvel obter a sugesto no momento."})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Melhor dia para sua prxima compra:"}),b.jsx("p",{className:"text-2xl font-bold text-primary dark:text-primaryDark my-1",children:n.bestPurchaseDay||"N/A"})]}),b.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-4 rounded-md",children:[b.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Pagamento estimado para:"}),b.jsx("p",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n.paymentDueDate||"N/A"})]}),b.jsxs("div",{className:"mt-3",children:[b.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"Por qu?"}),b.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark bg-surface p-3 rounded-md shadow-inner dark:bg-surfaceDark/50",children:n.explanation||"Informao no disponvel."})]})]}),b.jsx("div",{className:"flex justify-end pt-3",children:b.jsx(be,{variant:"primary",onClick:e,children:"Entendido"})})]}),!r&&!n&&b.jsxs("div",{className:"text-center p-6",children:[b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"No foi possvel carregar a sugesto."}),b.jsx(be,{variant:"ghost",onClick:e,className:"mt-4",children:"Fechar"})]})]});var ht;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),s={};for(const u of i)s[u]=a[u];return t.objectValues(s)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},t.find=(a,i)=>{for(const s of a)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ht||(ht={}));var rP;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(rP||(rP={}));const Pe=ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qi=t=>{switch(typeof t){case"undefined":return Pe.undefined;case"string":return Pe.string;case"number":return Number.isNaN(t)?Pe.nan:Pe.number;case"boolean":return Pe.boolean;case"function":return Pe.function;case"bigint":return Pe.bigint;case"symbol":return Pe.symbol;case"object":return Array.isArray(t)?Pe.array:t===null?Pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Pe.promise:typeof Map<"u"&&t instanceof Map?Pe.map:typeof Set<"u"&&t instanceof Set?Pe.set:typeof Date<"u"&&t instanceof Date?Pe.date:Pe.object;default:return Pe.unknown}},we=ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qa extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let u=r,d=0;for(;d<s.path.length;){const c=s.path[d];d===s.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(n(s))):u[c]=u[c]||{_errors:[]},u=u[c],d++}}};return a(this),r}static assert(e){if(!(e instanceof Qa))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Qa.create=t=>new Qa(t);const xS=(t,e)=>{let n;switch(t.code){case we.invalid_type:t.received===Pe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case we.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ht.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:n=`Unrecognized key(s) in object: ${ht.joinValues(t.keys,", ")}`;break;case we.invalid_union:n="Invalid input";break;case we.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ht.joinValues(t.options)}`;break;case we.invalid_enum_value:n=`Invalid enum value. Expected ${ht.joinValues(t.options)}, received '${t.received}'`;break;case we.invalid_arguments:n="Invalid function arguments";break;case we.invalid_return_type:n="Invalid function return type";break;case we.invalid_date:n="Invalid date";break;case we.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ht.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case we.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case we.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case we.custom:n="Invalid input";break;case we.invalid_intersection_types:n="Intersection results could not be merged";break;case we.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case we.not_finite:n="Number must be finite";break;default:n=e.defaultError,ht.assertNever(t)}return{message:n}};let see=xS;function lee(){return see}const uee=t=>{const{data:e,path:n,errorMaps:r,issueData:a}=t,i=[...n,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let u="";const d=r.filter(c=>!!c).slice().reverse();for(const c of d)u=c(s,{data:e,defaultError:u}).message;return{...a,path:i,message:u}};function Me(t,e){const n=lee(),r=uee({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===xS?void 0:xS].filter(a=>!!a)});t.common.issues.push(r)}class Wn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const a of n){if(a.status==="aborted")return We;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const a of n){const i=await a.key,s=await a.value;r.push({key:i,value:s})}return Wn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const a of n){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return We;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(r[i.value]=s.value)}return{status:e.value,value:r}}}const We=Object.freeze({status:"aborted"}),_c=t=>({status:"dirty",value:t}),$r=t=>({status:"valid",value:t}),aP=t=>t.status==="aborted",iP=t=>t.status==="dirty",Ll=t=>t.status==="valid",ym=t=>typeof Promise<"u"&&t instanceof Promise;var Re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Re||(Re={}));class ga{constructor(e,n,r,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const oP=(t,e)=>{if(Ll(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Qa(t.common.issues);return this._error=n,this._error}}};function et(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:a}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(s,u)=>{const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:d??r??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:d??n??u.defaultError}},description:a}}class lt{get description(){return this._def.description}_getType(e){return qi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:qi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Wn,ctx:{common:e.parent.common,data:e.data,parsedType:qi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ym(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qi(e)},a=this._parseSync({data:e,path:r.path,parent:r});return oP(r,a)}"~validate"(e){var r,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qi(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Ll(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(a=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Ll(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qi(e)},a=this._parse({data:e,path:r.path,parent:r}),i=await(ym(a)?a:Promise.resolve(a));return oP(r,i)}refine(e,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const s=e(a),u=()=>i.addIssue({code:we.custom,...r(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(d=>d?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(e){return new Ul({schema:this,typeName:Ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ki.create(this,this._def)}nullable(){return Fl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ma.create(this)}promise(){return wm.create(this,this._def)}or(e){return xm.create([this,e],this._def)}and(e){return _m.create(this,e,this._def)}transform(e){return new Ul({...et(this._def),schema:this,typeName:Ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new TS({...et(this._def),innerType:this,defaultValue:n,typeName:Ye.ZodDefault})}brand(){return new Nee({typeName:Ye.ZodBranded,type:this,...et(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new AS({...et(this._def),innerType:this,catchValue:n,typeName:Ye.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Zw.create(this,e)}readonly(){return ES.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cee=/^c[^\s-]{8,}$/i,dee=/^[0-9a-z]+$/,fee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mee=/^[a-z0-9_-]{21}$/i,pee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,gee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qx;const bee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_ee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,See=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,wee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Tee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,A$="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Aee=new RegExp(`^${A$}$`);function E$(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Eee(t){return new RegExp(`^${E$(t)}$`)}function Cee(t){let e=`${A$}T${E$(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function kee(t,e){return!!((e==="v4"||!e)&&bee.test(t)||(e==="v6"||!e)&&_ee.test(t))}function Oee(t,e){if(!pee.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function Mee(t,e){return!!((e==="v4"||!e)&&xee.test(t)||(e==="v6"||!e)&&See.test(t))}class ca extends lt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Pe.string){const i=this._getOrReturnCtx(e);return Me(i,{code:we.invalid_type,expected:Pe.string,received:i.parsedType}),We}const r=new Wn;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),Me(a,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),Me(a,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,u=e.data.length<i.value;(s||u)&&(a=this._getOrReturnCtx(e,a),s?Me(a,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&Me(a,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")vee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"email",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")qx||(qx=new RegExp(yee,"u")),qx.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"emoji",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")hee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"uuid",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")mee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"nanoid",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")cee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"cuid",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")dee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"cuid2",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")fee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"ulid",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Me(a,{validation:"url",code:we.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"regex",code:we.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),Me(a,{code:we.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),Me(a,{code:we.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),Me(a,{code:we.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Cee(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{code:we.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Aee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{code:we.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Eee(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{code:we.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?gee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"duration",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?kee(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"ip",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Oee(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"jwt",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Mee(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"cidr",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?wee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"base64",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Tee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"base64url",code:we.invalid_string,message:i.message}),r.dirty()):ht.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(a=>e.test(a),{validation:n,code:we.invalid_string,...Re.errToObj(r)})}_addCheck(e){return new ca({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Re.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Re.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Re.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Re.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Re.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Re.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Re.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Re.errToObj(n)})}nonempty(e){return this.min(1,Re.errToObj(e))}trim(){return new ca({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ca({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ca({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ca.create=t=>new ca({checks:[],typeName:Ye.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...et(t)});function Dee(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=n>r?n:r,i=Number.parseInt(t.toFixed(a).replace(".","")),s=Number.parseInt(e.toFixed(a).replace(".",""));return i%s/10**a}class Ko extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Pe.number){const i=this._getOrReturnCtx(e);return Me(i,{code:we.invalid_type,expected:Pe.number,received:i.parsedType}),We}let r;const a=new Wn;for(const i of this._def.checks)i.kind==="int"?ht.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:we.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Dee(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:we.not_finite,message:i.message}),a.dirty()):ht.assertNever(i);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Re.toString(n))}setLimit(e,n,r,a){return new Ko({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Re.toString(a)}]})}_addCheck(e){return new Ko({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ht.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ko.create=t=>new Ko({checks:[],typeName:Ye.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...et(t)});class Yo extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Pe.bigint)return this._getInvalidInput(e);let r;const a=new Wn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ht.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Me(n,{code:we.invalid_type,expected:Pe.bigint,received:n.parsedType}),We}gte(e,n){return this.setLimit("min",e,!0,Re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Re.toString(n))}setLimit(e,n,r,a){return new Yo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Re.toString(a)}]})}_addCheck(e){return new Yo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Yo.create=t=>new Yo({checks:[],typeName:Ye.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...et(t)});class bm extends lt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Pe.boolean){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Pe.boolean,received:r.parsedType}),We}return $r(e.data)}}bm.create=t=>new bm({typeName:Ye.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...et(t)});class Bl extends lt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Pe.date){const i=this._getOrReturnCtx(e);return Me(i,{code:we.invalid_type,expected:Pe.date,received:i.parsedType}),We}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Me(i,{code:we.invalid_date}),We}const r=new Wn;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),Me(a,{code:we.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),Me(a,{code:we.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ht.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Re.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Re.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Bl.create=t=>new Bl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ye.ZodDate,...et(t)});class sP extends lt{_parse(e){if(this._getType(e)!==Pe.symbol){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Pe.symbol,received:r.parsedType}),We}return $r(e.data)}}sP.create=t=>new sP({typeName:Ye.ZodSymbol,...et(t)});class lP extends lt{_parse(e){if(this._getType(e)!==Pe.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Pe.undefined,received:r.parsedType}),We}return $r(e.data)}}lP.create=t=>new lP({typeName:Ye.ZodUndefined,...et(t)});class uP extends lt{_parse(e){if(this._getType(e)!==Pe.null){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Pe.null,received:r.parsedType}),We}return $r(e.data)}}uP.create=t=>new uP({typeName:Ye.ZodNull,...et(t)});class cP extends lt{constructor(){super(...arguments),this._any=!0}_parse(e){return $r(e.data)}}cP.create=t=>new cP({typeName:Ye.ZodAny,...et(t)});class _S extends lt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return $r(e.data)}}_S.create=t=>new _S({typeName:Ye.ZodUnknown,...et(t)});class Yi extends lt{_parse(e){const n=this._getOrReturnCtx(e);return Me(n,{code:we.invalid_type,expected:Pe.never,received:n.parsedType}),We}}Yi.create=t=>new Yi({typeName:Ye.ZodNever,...et(t)});class dP extends lt{_parse(e){if(this._getType(e)!==Pe.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Pe.void,received:r.parsedType}),We}return $r(e.data)}}dP.create=t=>new dP({typeName:Ye.ZodVoid,...et(t)});class ma extends lt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),a=this._def;if(n.parsedType!==Pe.array)return Me(n,{code:we.invalid_type,expected:Pe.array,received:n.parsedType}),We;if(a.exactLength!==null){const s=n.data.length>a.exactLength.value,u=n.data.length<a.exactLength.value;(s||u)&&(Me(n,{code:s?we.too_big:we.too_small,minimum:u?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Me(n,{code:we.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Me(n,{code:we.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,u)=>a.type._parseAsync(new ga(n,s,n.path,u)))).then(s=>Wn.mergeArray(r,s));const i=[...n.data].map((s,u)=>a.type._parseSync(new ga(n,s,n.path,u)));return Wn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ma({...this._def,minLength:{value:e,message:Re.toString(n)}})}max(e,n){return new ma({...this._def,maxLength:{value:e,message:Re.toString(n)}})}length(e,n){return new ma({...this._def,exactLength:{value:e,message:Re.toString(n)}})}nonempty(e){return this.min(1,e)}}ma.create=(t,e)=>new ma({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ye.ZodArray,...et(e)});function el(t){if(t instanceof ln){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ki.create(el(r))}return new ln({...t._def,shape:()=>e})}else return t instanceof ma?new ma({...t._def,type:el(t.element)}):t instanceof Ki?Ki.create(el(t.unwrap())):t instanceof Fl?Fl.create(el(t.unwrap())):t instanceof Wo?Wo.create(t.items.map(e=>el(e))):t}class ln extends lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ht.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Pe.object){const c=this._getOrReturnCtx(e);return Me(c,{code:we.invalid_type,expected:Pe.object,received:c.parsedType}),We}const{status:r,ctx:a}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof Yi&&this._def.unknownKeys==="strip"))for(const c in a.data)s.includes(c)||u.push(c);const d=[];for(const c of s){const h=i[c],m=a.data[c];d.push({key:{status:"valid",value:c},value:h._parse(new ga(a,m,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof Yi){const c=this._def.unknownKeys;if(c==="passthrough")for(const h of u)d.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(c==="strict")u.length>0&&(Me(a,{code:we.unrecognized_keys,keys:u}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const h of u){const m=a.data[h];d.push({key:{status:"valid",value:h},value:c._parse(new ga(a,m,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const h of d){const m=await h.key,y=await h.value;c.push({key:m,value:y,alwaysSet:h.alwaysSet})}return c}).then(c=>Wn.mergeObjectSync(r,c)):Wn.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return Re.errToObj,new ln({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s;const a=((s=(i=this._def).errorMap)==null?void 0:s.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Re.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new ln({...this._def,unknownKeys:"strip"})}passthrough(){return new ln({...this._def,unknownKeys:"passthrough"})}extend(e){return new ln({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ln({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ye.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ln({...this._def,catchall:e})}pick(e){const n={};for(const r of ht.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ln({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ht.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new ln({...this._def,shape:()=>n})}deepPartial(){return el(this)}partial(e){const n={};for(const r of ht.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?n[r]=a:n[r]=a.optional()}return new ln({...this._def,shape:()=>n})}required(e){const n={};for(const r of ht.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ki;)i=i._def.innerType;n[r]=i}return new ln({...this._def,shape:()=>n})}keyof(){return C$(ht.objectKeys(this.shape))}}ln.create=(t,e)=>new ln({shape:()=>t,unknownKeys:"strip",catchall:Yi.create(),typeName:Ye.ZodObject,...et(e)});ln.strictCreate=(t,e)=>new ln({shape:()=>t,unknownKeys:"strict",catchall:Yi.create(),typeName:Ye.ZodObject,...et(e)});ln.lazycreate=(t,e)=>new ln({shape:t,unknownKeys:"strip",catchall:Yi.create(),typeName:Ye.ZodObject,...et(e)});class xm extends lt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function a(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const s=i.map(u=>new Qa(u.ctx.common.issues));return Me(n,{code:we.invalid_union,unionErrors:s}),We}if(n.common.async)return Promise.all(r.map(async i=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const d of r){const c={...n,common:{...n.common,issues:[]},parent:null},h=d._parseSync({data:n.data,path:n.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const u=s.map(d=>new Qa(d));return Me(n,{code:we.invalid_union,unionErrors:u}),We}}get options(){return this._def.options}}xm.create=(t,e)=>new xm({options:t,typeName:Ye.ZodUnion,...et(e)});function SS(t,e){const n=qi(t),r=qi(e);if(t===e)return{valid:!0,data:t};if(n===Pe.object&&r===Pe.object){const a=ht.objectKeys(e),i=ht.objectKeys(t).filter(u=>a.indexOf(u)!==-1),s={...t,...e};for(const u of i){const d=SS(t[u],e[u]);if(!d.valid)return{valid:!1};s[u]=d.data}return{valid:!0,data:s}}else if(n===Pe.array&&r===Pe.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const s=t[i],u=e[i],d=SS(s,u);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return n===Pe.date&&r===Pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _m extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=(i,s)=>{if(aP(i)||aP(s))return We;const u=SS(i.value,s.value);return u.valid?((iP(i)||iP(s))&&n.dirty(),{status:n.value,value:u.data}):(Me(r,{code:we.invalid_intersection_types}),We)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_m.create=(t,e,n)=>new _m({left:t,right:e,typeName:Ye.ZodIntersection,...et(n)});class Wo extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.array)return Me(r,{code:we.invalid_type,expected:Pe.array,received:r.parsedType}),We;if(r.data.length<this._def.items.length)return Me(r,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),We;!this._def.rest&&r.data.length>this._def.items.length&&(Me(r,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((s,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new ga(r,s,r.path,u)):null}).filter(s=>!!s);return r.common.async?Promise.all(i).then(s=>Wn.mergeArray(n,s)):Wn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Wo({...this._def,rest:e})}}Wo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wo({items:t,typeName:Ye.ZodTuple,rest:null,...et(e)})};class Sm extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.object)return Me(r,{code:we.invalid_type,expected:Pe.object,received:r.parsedType}),We;const a=[],i=this._def.keyType,s=this._def.valueType;for(const u in r.data)a.push({key:i._parse(new ga(r,u,r.path,u)),value:s._parse(new ga(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?Wn.mergeObjectAsync(n,a):Wn.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof lt?new Sm({keyType:e,valueType:n,typeName:Ye.ZodRecord,...et(r)}):new Sm({keyType:ca.create(),valueType:e,typeName:Ye.ZodRecord,...et(n)})}}class fP extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.map)return Me(r,{code:we.invalid_type,expected:Pe.map,received:r.parsedType}),We;const a=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([u,d],c)=>({key:a._parse(new ga(r,u,r.path,[c,"key"])),value:i._parse(new ga(r,d,r.path,[c,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of s){const c=await d.key,h=await d.value;if(c.status==="aborted"||h.status==="aborted")return We;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(c.value,h.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of s){const c=d.key,h=d.value;if(c.status==="aborted"||h.status==="aborted")return We;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(c.value,h.value)}return{status:n.value,value:u}}}}fP.create=(t,e,n)=>new fP({valueType:e,keyType:t,typeName:Ye.ZodMap,...et(n)});class gd extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.set)return Me(r,{code:we.invalid_type,expected:Pe.set,received:r.parsedType}),We;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(Me(r,{code:we.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(Me(r,{code:we.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function s(d){const c=new Set;for(const h of d){if(h.status==="aborted")return We;h.status==="dirty"&&n.dirty(),c.add(h.value)}return{status:n.value,value:c}}const u=[...r.data.values()].map((d,c)=>i._parse(new ga(r,d,r.path,c)));return r.common.async?Promise.all(u).then(d=>s(d)):s(u)}min(e,n){return new gd({...this._def,minSize:{value:e,message:Re.toString(n)}})}max(e,n){return new gd({...this._def,maxSize:{value:e,message:Re.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}gd.create=(t,e)=>new gd({valueType:t,minSize:null,maxSize:null,typeName:Ye.ZodSet,...et(e)});class wS extends lt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}wS.create=(t,e)=>new wS({getter:t,typeName:Ye.ZodLazy,...et(e)});class hP extends lt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Me(n,{received:n.data,code:we.invalid_literal,expected:this._def.value}),We}return{status:"valid",value:e.data}}get value(){return this._def.value}}hP.create=(t,e)=>new hP({value:t,typeName:Ye.ZodLiteral,...et(e)});function C$(t,e){return new ql({values:t,typeName:Ye.ZodEnum,...et(e)})}class ql extends lt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Me(n,{expected:ht.joinValues(r),received:n.parsedType,code:we.invalid_type}),We}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Me(n,{received:n.data,code:we.invalid_enum_value,options:r}),We}return $r(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ql.create(e,{...this._def,...n})}exclude(e,n=this._def){return ql.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ql.create=C$;class mP extends lt{_parse(e){const n=ht.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Pe.string&&r.parsedType!==Pe.number){const a=ht.objectValues(n);return Me(r,{expected:ht.joinValues(a),received:r.parsedType,code:we.invalid_type}),We}if(this._cache||(this._cache=new Set(ht.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=ht.objectValues(n);return Me(r,{received:r.data,code:we.invalid_enum_value,options:a}),We}return $r(e.data)}get enum(){return this._def.values}}mP.create=(t,e)=>new mP({values:t,typeName:Ye.ZodNativeEnum,...et(e)});class wm extends lt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Pe.promise&&n.common.async===!1)return Me(n,{code:we.invalid_type,expected:Pe.promise,received:n.parsedType}),We;const r=n.parsedType===Pe.promise?n.data:Promise.resolve(n.data);return $r(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}wm.create=(t,e)=>new wm({type:t,typeName:Ye.ZodPromise,...et(e)});class Ul extends lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:s=>{Me(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(r.data,i);if(r.common.async)return Promise.resolve(s).then(async u=>{if(n.value==="aborted")return We;const d=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return d.status==="aborted"?We:d.status==="dirty"||n.value==="dirty"?_c(d.value):d});{if(n.value==="aborted")return We;const u=this._def.schema._parseSync({data:s,path:r.path,parent:r});return u.status==="aborted"?We:u.status==="dirty"||n.value==="dirty"?_c(u.value):u}}if(a.type==="refinement"){const s=u=>{const d=a.refinement(u,i);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?We:(u.status==="dirty"&&n.dirty(),s(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?We:(u.status==="dirty"&&n.dirty(),s(u.value).then(()=>({status:n.value,value:u.value}))))}if(a.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ll(s))return We;const u=a.transform(s.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Ll(s)?Promise.resolve(a.transform(s.value,i)).then(u=>({status:n.value,value:u})):We);ht.assertNever(a)}}Ul.create=(t,e,n)=>new Ul({schema:t,typeName:Ye.ZodEffects,effect:e,...et(n)});Ul.createWithPreprocess=(t,e,n)=>new Ul({schema:e,effect:{type:"preprocess",transform:t},typeName:Ye.ZodEffects,...et(n)});class Ki extends lt{_parse(e){return this._getType(e)===Pe.undefined?$r(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ki.create=(t,e)=>new Ki({innerType:t,typeName:Ye.ZodOptional,...et(e)});class Fl extends lt{_parse(e){return this._getType(e)===Pe.null?$r(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fl.create=(t,e)=>new Fl({innerType:t,typeName:Ye.ZodNullable,...et(e)});class TS extends lt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Pe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}TS.create=(t,e)=>new TS({innerType:t,typeName:Ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...et(e)});class AS extends lt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ym(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Qa(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Qa(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}AS.create=(t,e)=>new AS({innerType:t,typeName:Ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...et(e)});class pP extends lt{_parse(e){if(this._getType(e)!==Pe.nan){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Pe.nan,received:r.parsedType}),We}return{status:"valid",value:e.data}}}pP.create=t=>new pP({typeName:Ye.ZodNaN,...et(t)});class Nee extends lt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Zw extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?We:i.status==="dirty"?(n.dirty(),_c(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?We:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,n){return new Zw({in:e,out:n,typeName:Ye.ZodPipeline})}}class ES extends lt{_parse(e){const n=this._def.innerType._parse(e),r=a=>(Ll(a)&&(a.value=Object.freeze(a.value)),a);return ym(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}ES.create=(t,e)=>new ES({innerType:t,typeName:Ye.ZodReadonly,...et(e)});var Ye;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ye||(Ye={}));const ko=ca.create,gP=Ko.create;Yo.create;const Pee=bm.create;Bl.create;const vP=_S.create;Yi.create;const Sc=ma.create,Ree=ln.create,Iee=xm.create;_m.create;Wo.create;const jee=Sm.create,$ee=wS.create,Lee=ql.create;wm.create;Ki.create;Fl.create;const Js={string:t=>ca.create({...t,coerce:!0}),number:t=>Ko.create({...t,coerce:!0}),boolean:t=>bm.create({...t,coerce:!0}),bigint:t=>Yo.create({...t,coerce:!0}),date:t=>Bl.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Bee,qee;function Uee(){return{geminiUrl:Bee,vertexUrl:qee}}function Fee(t,e,n){var r,a,i;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=Uee();return t.vertexai?(a=s.vertexUrl)!==null&&a!==void 0?a:e:(i=s.geminiUrl)!==null&&i!==void 0?i:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ql{}function Ge(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const i=e[a];return i!=null?String(i):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function v(t,e,n){for(let i=0;i<e.length-1;i++){const s=e[i];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const d=t[u];if(Array.isArray(n))for(let c=0;c<d.length;c++){const h=d[c];v(h,e.slice(i+1),n[c])}else for(const c of d)v(c,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const d=t[u];v(d[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],a=t[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function g(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const i=t[a];return Array.isArray(i)?i.map(s=>g(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yP;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yP||(yP={}));var bP;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(bP||(bP={}));var da;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(da||(da={}));var xP;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(xP||(xP={}));var _P;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(_P||(_P={}));var SP;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(SP||(SP={}));var wP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(wP||(wP={}));var TP;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(TP||(TP={}));var AP;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(AP||(AP={}));var EP;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(EP||(EP={}));var CP;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(CP||(CP={}));var kP;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(kP||(kP={}));var OP;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(OP||(OP={}));var Tm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Tm||(Tm={}));var MP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(MP||(MP={}));var CS;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(CS||(CS={}));var DP;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(DP||(DP={}));var NP;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(NP||(NP={}));var PP;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(PP||(PP={}));var RP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(RP||(RP={}));var IP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(IP||(IP={}));var jP;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(jP||(jP={}));var $P;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})($P||($P={}));var LP;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(LP||(LP={}));var BP;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(BP||(BP={}));var qP;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(qP||(qP={}));var UP;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(UP||(UP={}));var FP;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(FP||(FP={}));var VP;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(VP||(VP={}));var zP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(zP||(zP={}));var GP;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(GP||(GP={}));var HP;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(HP||(HP={}));var KP;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(KP||(KP={}));var YP;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(YP||(YP={}));var WP;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(WP||(WP={}));var XP;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(XP||(XP={}));var ZP;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ZP||(ZP={}));var JP;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(JP||(JP={}));var ol;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ol||(ol={}));class gc{get text(){var e,n,r,a,i,s,u,d;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",h=!1;const m=[];for(const y of(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[_,S]of Object.entries(y))_!=="text"&&_!=="thought"&&(S!==null||S!==void 0)&&m.push(_);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,c+=y.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?c:void 0}get data(){var e,n,r,a,i,s,u,d;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const h=[];for(const m of(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[y,_]of Object.entries(m))y!=="inlineData"&&(_!==null||_!==void 0)&&h.push(y);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,a,i,s,u,d;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,a,i,s,u,d,c;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,a,i,s,u,d,c;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.output}}class QP{}class eR{}class Vee{}class zee{}class tR{}class nR{}class rR{}class Gee{}class aR{}class iR{}class oR{}class Hee{}class kS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Kee{}class Yee{}class Wee{get text(){var e,n,r;let a="",i=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&s.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,a+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?a:void 0}get data(){var e,n,r;let a="";const i=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(s))u!=="inlineData"&&d!==null&&i.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(a+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Xee{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function k$(t,e){const n=Bt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function O$(t,e){return Array.isArray(e)?e.map(n=>Am(t,n)):[Am(t,e)]}function Am(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Zee(t,e){const n=Am(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Jee(t,e){const n=Am(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function sR(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function M$(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>sR(t,n)):[sR(t,e)]}function OS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function lR(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function uR(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Kn(t,e){if(e==null)throw new Error("ContentUnion is required");return OS(e)?e:{role:"user",parts:M$(t,e)}}function D$(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Kn(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Kn(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Kn(t,n)):[Kn(t,e)]}function Jr(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(lR(e)||uR(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Kn(t,e)]}const n=[],r=[],a=OS(e[0]);for(const i of e){const s=OS(i);if(s!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)n.push(i);else{if(lR(i)||uR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return a||n.push({role:"user",parts:M$(t,r)}),n}const Qee=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),cR=Lee(["string","number","integer","object","array","boolean","null"]),ete=Iee([cR,Sc(cR)]);function tte(t=!0){const e=$ee(()=>{const n=Ree({type:ete.optional(),format:ko().optional(),title:ko().optional(),description:ko().optional(),default:vP().optional(),items:e.optional(),minItems:Js.string().optional(),maxItems:Js.string().optional(),enum:Sc(vP()).optional(),properties:jee(ko(),e).optional(),required:Sc(ko()).optional(),minProperties:Js.string().optional(),maxProperties:Js.string().optional(),propertyOrdering:Sc(ko()).optional(),minimum:gP().optional(),maximum:gP().optional(),minLength:Js.string().optional(),maxLength:Js.string().optional(),pattern:ko().optional(),anyOf:Sc(e).optional(),additionalProperties:Pee().optional()});return t?n.strict():n});return e}function nte(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(da).includes(n[0].toUpperCase())?n[0].toUpperCase():da.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(da).includes(r.toUpperCase())?r.toUpperCase():da.TYPE_UNSPECIFIED})}}function dl(t){const e={},n=["items"],r=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&nte(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(da).includes(u.toUpperCase())?u.toUpperCase():da.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=dl(u);else if(r.includes(s)){const d=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}d.push(dl(c))}e[s]=d}else if(a.includes(s)){const d={};for(const[c,h]of Object.entries(u))d[c]=dl(h);e[s]=d}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Em(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=tte().parse(e);return dl(n)}else return dl(e)}function N$(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Jw(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function kd(t,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=Em(t,n.parameters)),n.response&&(n.response=Em(t,n.response));return e}function Od(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of e)n.push(r);return n}function rte(t,e,n,r=1){const a=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:a?`${n}/${e}`:e}function eo(t,e){if(typeof e!="string")throw new Error("name must be a string");return rte(t,e,"cachedContents")}function P$(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ai(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function ate(t){return t!=null&&typeof t=="object"&&"name"in t}function ite(t){return t!=null&&typeof t=="object"&&"video"in t}function ote(t){return t!=null&&typeof t=="object"&&"uri"in t}function R$(t,e){var n;let r;if(ate(e)&&(r=e.name),!(ote(e)&&(r=e.uri,r===void 0))&&!(ite(e)&&(r=(n=e.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function I$(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function j$(t,e){for(const n of["models","tunedModels","publisherModels"])if(ste(e,n))return e[n];return[]}function ste(t,e){return t!==null&&typeof t=="object"&&e in t}function lte(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:dl(vp(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ute(t,e={}){const n=[],r=new Set;for(const a of t){const i=a.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const s=lte(a,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function cte(t){const e=[];for(const n of t)e.push(vp(n));return e}function dte(t){const e={};for(const[n,r]of Object.entries(t)){const a=r;e[n]=vp(a)}return e}function vp(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),a={};for(const[i,s]of Object.entries(t))if(e.has(i))a[i]=vp(s);else if(n.has(i))a[i]=cte(s);else if(r.has(i))a[i]=dte(s);else if(i==="type"){const u=s.toUpperCase();a[i]=Object.values(da).includes(u)?u:da.TYPE_UNSPECIFIED}else Qee.has(i)&&(a[i]=s);return a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fte(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function hte(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function mte(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function pte(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],fte(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],hte(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],mte(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function dR(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>pte(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function gte(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function vte(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function yte(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],vte(t,r)),n}function bte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function xte(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],bte(t,r)),n}function _te(){return{}}function Ste(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>gte(t,c))),v(n,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],yte(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],xte(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],_te());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function wte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Tte(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Ate(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Tte(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Ete(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],wte(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Ate(t,a)),n}function Cte(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const s=g(e,["displayName"]);n!==void 0&&s!=null&&v(n,["displayName"],s);const u=g(e,["contents"]);if(n!==void 0&&u!=null){let m=Jr(t,u);Array.isArray(m)&&(m=m.map(y=>dR(t,y))),v(n,["contents"],m)}const d=g(e,["systemInstruction"]);n!==void 0&&d!=null&&v(n,["systemInstruction"],dR(t,Kn(t,d)));const c=g(e,["tools"]);if(n!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>Ste(t,y))),v(n,["tools"],m)}const h=g(e,["toolConfig"]);if(n!==void 0&&h!=null&&v(n,["toolConfig"],Ete(t,h)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function kte(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],k$(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Cte(t,a,n)),n}function Ote(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],eo(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Mte(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],eo(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Dte(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);return n!==void 0&&i!=null&&v(n,["expireTime"],i),r}function Nte(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],eo(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Dte(t,a,n)),n}function Pte(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function Rte(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Pte(t,r,n)),n}function Ite(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function jte(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function $te(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Lte(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Ite(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],jte(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],$te(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function fR(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Lte(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Bte(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function qte(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Ute(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],qte(t,r)),n}function Fte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Vte(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Fte(t,r)),n}function zte(){return{}}function Gte(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function Hte(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],Gte(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const d=g(e,["oidcConfig"]);return d!=null&&v(n,["oidcConfig"],d),n}function Kte(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],Hte(t,r)),n}function Yte(){return{}}function Wte(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(y=>Bte(t,y))),v(n,["functionDeclarations"],m)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],Ute(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],Vte(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],zte());const d=g(e,["googleMaps"]);d!=null&&v(n,["googleMaps"],Kte(t,d)),g(e,["urlContext"])!=null&&v(n,["urlContext"],Yte());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function Xte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Zte(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Jte(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Zte(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Qte(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],Xte(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Jte(t,a)),n}function ene(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const s=g(e,["displayName"]);n!==void 0&&s!=null&&v(n,["displayName"],s);const u=g(e,["contents"]);if(n!==void 0&&u!=null){let y=Jr(t,u);Array.isArray(y)&&(y=y.map(_=>fR(t,_))),v(n,["contents"],y)}const d=g(e,["systemInstruction"]);n!==void 0&&d!=null&&v(n,["systemInstruction"],fR(t,Kn(t,d)));const c=g(e,["tools"]);if(n!==void 0&&c!=null){let y=c;Array.isArray(y)&&(y=y.map(_=>Wte(t,_))),v(n,["tools"],y)}const h=g(e,["toolConfig"]);n!==void 0&&h!=null&&v(n,["toolConfig"],Qte(t,h));const m=g(e,["kmsKeyName"]);return n!==void 0&&m!=null&&v(n,["encryption_spec","kmsKeyName"],m),r}function tne(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],k$(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],ene(t,a,n)),n}function nne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],eo(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function rne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],eo(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function ane(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);return n!==void 0&&i!=null&&v(n,["expireTime"],i),r}function ine(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],eo(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],ane(t,a,n)),n}function one(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function sne(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],one(t,r,n)),n}function vh(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["model"]);i!=null&&v(n,["model"],i);const s=g(e,["createTime"]);s!=null&&v(n,["createTime"],s);const u=g(e,["updateTime"]);u!=null&&v(n,["updateTime"],u);const d=g(e,["expireTime"]);d!=null&&v(n,["expireTime"],d);const c=g(e,["usageMetadata"]);return c!=null&&v(n,["usageMetadata"],c),n}function lne(){return{}}function une(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>vh(t,s))),v(n,["cachedContents"],i)}return n}function yh(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["model"]);i!=null&&v(n,["model"],i);const s=g(e,["createTime"]);s!=null&&v(n,["createTime"],s);const u=g(e,["updateTime"]);u!=null&&v(n,["updateTime"],u);const d=g(e,["expireTime"]);d!=null&&v(n,["expireTime"],d);const c=g(e,["usageMetadata"]);return c!=null&&v(n,["usageMetadata"],c),n}function cne(){return{}}function dne(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>yh(t,s))),v(n,["cachedContents"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Vl||(Vl={}));class yp{constructor(e,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,a)}init(e,n,r){var a,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(a=s.config)===null||a===void 0?void 0:a.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fne extends Ql{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new yp(Vl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=tne(this.apiClient,e);return u=Ge("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>yh(this.apiClient,h))}else{const c=kte(this.apiClient,e);return u=Ge("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>vh(this.apiClient,h))}}async get(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=nne(this.apiClient,e);return u=Ge("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>yh(this.apiClient,h))}else{const c=Ote(this.apiClient,e);return u=Ge("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>vh(this.apiClient,h))}}async delete(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=rne(this.apiClient,e);return u=Ge("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(()=>{const h=cne(),m=new iR;return Object.assign(m,h),m})}else{const c=Mte(this.apiClient,e);return u=Ge("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=lne(),m=new iR;return Object.assign(m,h),m})}}async update(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=ine(this.apiClient,e);return u=Ge("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>yh(this.apiClient,h))}else{const c=Nte(this.apiClient,e);return u=Ge("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>vh(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=sne(this.apiClient,e);return u=Ge("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=dne(this.apiClient,h),y=new oR;return Object.assign(y,m),y})}else{const c=Rte(this.apiClient,e);return u=Ge("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=une(this.apiClient,h),y=new oR;return Object.assign(y,m),y})}}}function hR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ft(t){return this instanceof Ft?(this.v=t,this):new Ft(t)}function fl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(_){return function(S){return Promise.resolve(S).then(_,m)}}function u(_,S){r[_]&&(a[_]=function(A){return new Promise(function(T,O){i.push([_,A,T,O])>1||d(_,A)})},S&&(a[_]=S(a[_])))}function d(_,S){try{c(r[_](S))}catch(A){y(i[0][3],A)}}function c(_){_.value instanceof Ft?Promise.resolve(_.value.v).then(h,m):y(i[0][2],_)}function h(_){d("next",_)}function m(_){d("throw",_)}function y(_,S){_(S),i.shift(),i.length&&d(i[0][0],i[0][1])}}function Nc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof hR=="function"?hR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(u,d){s=t[i](s),a(u,d,s.done,s.value)})}}function a(i,s,u,d){Promise.resolve(d).then(function(c){i({value:c,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hne(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:$$(n)}function $$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function mne(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function mR(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const a=[];let i=!0;for(;r<n&&t[r].role==="model";)a.push(t[r]),i&&!$$(t[r])&&(i=!1),r++;i?e.push(...a):e.pop()}return e}class pne{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new gne(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class gne{constructor(e,n,r,a={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=a,this.history=i,this.sendPromise=Promise.resolve(),mne(i)}async sendMessage(e){var n;await this.sendPromise;const r=Kn(this.apiClient,e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,u;const d=await a,c=(s=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,h=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let y=[];h!=null&&(y=(u=h.slice(m))!==null&&u!==void 0?u:[]);const _=c?[c]:[];this.recordHistory(r,_,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var n;await this.sendPromise;const r=Kn(this.apiClient,e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const i=await a;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?mR(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,a;return fl(this,arguments,function*(){var s,u,d,c;const h=[];try{for(var m=!0,y=Nc(e),_;_=yield Ft(y.next()),s=_.done,!s;m=!0){c=_.value,m=!1;const S=c;if(hne(S)){const A=(a=(r=S.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;A!==void 0&&h.push(A)}yield yield Ft(S)}}catch(S){u={error:S}}finally{try{!m&&!s&&(d=y.return)&&(yield Ft(d.call(y)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let a=[];n.length>0&&n.every(i=>i.role!==void 0)?a=n:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...mR(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vne(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function yne(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],vne(t,r,n)),n}function bne(t,e){const n={},r=g(e,["details"]);r!=null&&v(n,["details"],r);const a=g(e,["message"]);a!=null&&v(n,["message"],a);const i=g(e,["code"]);return i!=null&&v(n,["code"],i),n}function xne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["mimeType"]);i!=null&&v(n,["mimeType"],i);const s=g(e,["sizeBytes"]);s!=null&&v(n,["sizeBytes"],s);const u=g(e,["createTime"]);u!=null&&v(n,["createTime"],u);const d=g(e,["expirationTime"]);d!=null&&v(n,["expirationTime"],d);const c=g(e,["updateTime"]);c!=null&&v(n,["updateTime"],c);const h=g(e,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const m=g(e,["uri"]);m!=null&&v(n,["uri"],m);const y=g(e,["downloadUri"]);y!=null&&v(n,["downloadUri"],y);const _=g(e,["state"]);_!=null&&v(n,["state"],_);const S=g(e,["source"]);S!=null&&v(n,["source"],S);const A=g(e,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const T=g(e,["error"]);return T!=null&&v(n,["error"],bne(t,T)),n}function _ne(t,e){const n={},r=g(e,["file"]);r!=null&&v(n,["file"],xne(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Sne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","file"],R$(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function wne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","file"],R$(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Tne(t,e){const n={},r=g(e,["details"]);r!=null&&v(n,["details"],r);const a=g(e,["message"]);a!=null&&v(n,["message"],a);const i=g(e,["code"]);return i!=null&&v(n,["code"],i),n}function MS(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["mimeType"]);i!=null&&v(n,["mimeType"],i);const s=g(e,["sizeBytes"]);s!=null&&v(n,["sizeBytes"],s);const u=g(e,["createTime"]);u!=null&&v(n,["createTime"],u);const d=g(e,["expirationTime"]);d!=null&&v(n,["expirationTime"],d);const c=g(e,["updateTime"]);c!=null&&v(n,["updateTime"],c);const h=g(e,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const m=g(e,["uri"]);m!=null&&v(n,["uri"],m);const y=g(e,["downloadUri"]);y!=null&&v(n,["downloadUri"],y);const _=g(e,["state"]);_!=null&&v(n,["state"],_);const S=g(e,["source"]);S!=null&&v(n,["source"],S);const A=g(e,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const T=g(e,["error"]);return T!=null&&v(n,["error"],Tne(t,T)),n}function Ane(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["files"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>MS(t,s))),v(n,["files"],i)}return n}function Ene(){return{}}function Cne(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kne extends Ql{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new yp(Vl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>MS(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yne(this.apiClient,e);return i=Ge("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const c=Ane(this.apiClient,d),h=new Hee;return Object.assign(h,c),h})}}async createInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_ne(this.apiClient,e);return i=Ge("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(()=>{const d=Ene(),c=new Kee;return Object.assign(c,d),c})}}async get(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sne(this.apiClient,e);return i=Ge("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>MS(this.apiClient,d))}}async delete(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wne(this.apiClient,e);return i=Ge("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(()=>{const d=Cne(),c=new Yee;return Object.assign(c,d),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function One(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function Mne(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function L$(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],One(t,r)),n}function Dne(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Mne(t,r)),n}function Nne(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],L$(t,a)),n}function Pne(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Nne(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function Rne(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],L$(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],Pne(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function Ine(t,e){const n={},r=g(e,["voiceConfig"]);if(r!=null&&v(n,["voiceConfig"],Dne(t,r)),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function jne(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function $ne(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Lne(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Bne(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function qne(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Une(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Fne(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],jne(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Lne(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],qne(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Vne(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],$ne(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Bne(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Une(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function zne(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Fne(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Gne(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Vne(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Hne(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function Kne(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function Yne(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Wne(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Xne(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Yne(t,r)),n}function Zne(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Wne(t,r)),n}function Jne(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Qne(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function ere(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Jne(t,r)),n}function tre(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Qne(t,r)),n}function nre(){return{}}function rre(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function are(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],rre(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const d=g(e,["oidcConfig"]);return d!=null&&v(n,["oidcConfig"],d),n}function ire(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],are(t,r)),n}function ore(){return{}}function sre(){return{}}function lre(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>Hne(t,c))),v(n,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],Xne(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],ere(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],ore());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function ure(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(y=>Kne(t,y))),v(n,["functionDeclarations"],m)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],Zne(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],tre(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],nre());const d=g(e,["googleMaps"]);d!=null&&v(n,["googleMaps"],ire(t,d)),g(e,["urlContext"])!=null&&v(n,["urlContext"],sre());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function cre(t,e){const n={},r=g(e,["handle"]);if(r!=null&&v(n,["handle"],r),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function dre(t,e){const n={},r=g(e,["handle"]);r!=null&&v(n,["handle"],r);const a=g(e,["transparent"]);return a!=null&&v(n,["transparent"],a),n}function pR(){return{}}function gR(){return{}}function fre(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function hre(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function mre(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],fre(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function pre(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],hre(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function gre(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function vre(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function yre(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],gre(t,a)),n}function bre(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],vre(t,a)),n}function xre(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function _re(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function Sre(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const d=g(e,["topK"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","topK"],d);const c=g(e,["maxOutputTokens"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","maxOutputTokens"],c);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const m=g(e,["seed"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","seed"],m);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],Rne(t,Jw(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],zne(t,Kn(t,S)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let k=Od(t,A);Array.isArray(k)&&(k=k.map(P=>lre(t,kd(t,P)))),v(n,["setup","tools"],k)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],cre(t,T));const O=g(e,["inputAudioTranscription"]);n!==void 0&&O!=null&&v(n,["setup","inputAudioTranscription"],pR());const M=g(e,["outputAudioTranscription"]);n!==void 0&&M!=null&&v(n,["setup","outputAudioTranscription"],pR());const E=g(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&v(n,["setup","realtimeInputConfig"],mre(t,E));const D=g(e,["contextWindowCompression"]);n!==void 0&&D!=null&&v(n,["setup","contextWindowCompression"],yre(t,D));const C=g(e,["proactivity"]);return n!==void 0&&C!=null&&v(n,["setup","proactivity"],xre(t,C)),r}function wre(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const d=g(e,["topK"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","topK"],d);const c=g(e,["maxOutputTokens"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","maxOutputTokens"],c);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const m=g(e,["seed"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","seed"],m);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],Ine(t,Jw(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],Gne(t,Kn(t,S)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let k=Od(t,A);Array.isArray(k)&&(k=k.map(P=>ure(t,kd(t,P)))),v(n,["setup","tools"],k)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],dre(t,T));const O=g(e,["inputAudioTranscription"]);n!==void 0&&O!=null&&v(n,["setup","inputAudioTranscription"],gR());const M=g(e,["outputAudioTranscription"]);n!==void 0&&M!=null&&v(n,["setup","outputAudioTranscription"],gR());const E=g(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&v(n,["setup","realtimeInputConfig"],pre(t,E));const D=g(e,["contextWindowCompression"]);n!==void 0&&D!=null&&v(n,["setup","contextWindowCompression"],bre(t,D));const C=g(e,["proactivity"]);return n!==void 0&&C!=null&&v(n,["setup","proactivity"],_re(t,C)),r}function Tre(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Sre(t,a,n)),n}function Are(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],wre(t,a,n)),n}function Ere(){return{}}function Cre(){return{}}function kre(){return{}}function Ore(){return{}}function Mre(t,e){const n={},r=g(e,["media"]);r!=null&&v(n,["mediaChunks"],O$(t,r));const a=g(e,["audio"]);a!=null&&v(n,["audio"],Jee(t,a));const i=g(e,["audioStreamEnd"]);i!=null&&v(n,["audioStreamEnd"],i);const s=g(e,["video"]);s!=null&&v(n,["video"],Zee(t,s));const u=g(e,["text"]);return u!=null&&v(n,["text"],u),g(e,["activityStart"])!=null&&v(n,["activityStart"],Ere()),g(e,["activityEnd"])!=null&&v(n,["activityEnd"],kre()),n}function Dre(t,e){const n={},r=g(e,["media"]);if(r!=null&&v(n,["mediaChunks"],O$(t,r)),g(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const a=g(e,["audioStreamEnd"]);if(a!=null&&v(n,["audioStreamEnd"],a),g(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(g(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return g(e,["activityStart"])!=null&&v(n,["activityStart"],Cre()),g(e,["activityEnd"])!=null&&v(n,["activityEnd"],Ore()),n}function B$(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["weight"]);return a!=null&&v(n,["weight"],a),n}function Nre(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>B$(t,i))),v(n,["weightedPrompts"],a)}return n}function q$(t,e){const n={},r=g(e,["temperature"]);r!=null&&v(n,["temperature"],r);const a=g(e,["topK"]);a!=null&&v(n,["topK"],a);const i=g(e,["seed"]);i!=null&&v(n,["seed"],i);const s=g(e,["guidance"]);s!=null&&v(n,["guidance"],s);const u=g(e,["bpm"]);u!=null&&v(n,["bpm"],u);const d=g(e,["density"]);d!=null&&v(n,["density"],d);const c=g(e,["brightness"]);c!=null&&v(n,["brightness"],c);const h=g(e,["scale"]);h!=null&&v(n,["scale"],h);const m=g(e,["muteBass"]);m!=null&&v(n,["muteBass"],m);const y=g(e,["muteDrums"]);y!=null&&v(n,["muteDrums"],y);const _=g(e,["onlyBassAndDrums"]);return _!=null&&v(n,["onlyBassAndDrums"],_),n}function Pre(t,e){const n={},r=g(e,["musicGenerationConfig"]);return r!=null&&v(n,["musicGenerationConfig"],q$(t,r)),n}function U$(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["model"],r),n}function F$(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>B$(t,i))),v(n,["weightedPrompts"],a)}return n}function DS(t,e){const n={},r=g(e,["setup"]);r!=null&&v(n,["setup"],U$(t,r));const a=g(e,["clientContent"]);a!=null&&v(n,["clientContent"],F$(t,a));const i=g(e,["musicGenerationConfig"]);i!=null&&v(n,["musicGenerationConfig"],q$(t,i));const s=g(e,["playbackControl"]);return s!=null&&v(n,["playbackControl"],s),n}function Rre(){return{}}function Ire(){return{}}function jre(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function $re(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Lre(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Bre(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function qre(t,e){const n={},r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Ure(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Fre(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],jre(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Lre(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],qre(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Vre(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],$re(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Bre(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Ure(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function zre(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Fre(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Gre(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Vre(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function vR(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["finished"]);return a!=null&&v(n,["finished"],a),n}function yR(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["finished"]);return a!=null&&v(n,["finished"],a),n}function Hre(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function Kre(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Hre(t,i))),v(n,["urlMetadata"],a)}return n}function Yre(t,e){const n={},r=g(e,["modelTurn"]);r!=null&&v(n,["modelTurn"],zre(t,r));const a=g(e,["turnComplete"]);a!=null&&v(n,["turnComplete"],a);const i=g(e,["interrupted"]);i!=null&&v(n,["interrupted"],i);const s=g(e,["groundingMetadata"]);s!=null&&v(n,["groundingMetadata"],s);const u=g(e,["generationComplete"]);u!=null&&v(n,["generationComplete"],u);const d=g(e,["inputTranscription"]);d!=null&&v(n,["inputTranscription"],vR(t,d));const c=g(e,["outputTranscription"]);c!=null&&v(n,["outputTranscription"],vR(t,c));const h=g(e,["urlContextMetadata"]);return h!=null&&v(n,["urlContextMetadata"],Kre(t,h)),n}function Wre(t,e){const n={},r=g(e,["modelTurn"]);r!=null&&v(n,["modelTurn"],Gre(t,r));const a=g(e,["turnComplete"]);a!=null&&v(n,["turnComplete"],a);const i=g(e,["interrupted"]);i!=null&&v(n,["interrupted"],i);const s=g(e,["groundingMetadata"]);s!=null&&v(n,["groundingMetadata"],s);const u=g(e,["generationComplete"]);u!=null&&v(n,["generationComplete"],u);const d=g(e,["inputTranscription"]);d!=null&&v(n,["inputTranscription"],yR(t,d));const c=g(e,["outputTranscription"]);return c!=null&&v(n,["outputTranscription"],yR(t,c)),n}function Xre(t,e){const n={},r=g(e,["id"]);r!=null&&v(n,["id"],r);const a=g(e,["args"]);a!=null&&v(n,["args"],a);const i=g(e,["name"]);return i!=null&&v(n,["name"],i),n}function Zre(t,e){const n={},r=g(e,["args"]);r!=null&&v(n,["args"],r);const a=g(e,["name"]);return a!=null&&v(n,["name"],a),n}function Jre(t,e){const n={},r=g(e,["functionCalls"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Xre(t,i))),v(n,["functionCalls"],a)}return n}function Qre(t,e){const n={},r=g(e,["functionCalls"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Zre(t,i))),v(n,["functionCalls"],a)}return n}function eae(t,e){const n={},r=g(e,["ids"]);return r!=null&&v(n,["ids"],r),n}function tae(t,e){const n={},r=g(e,["ids"]);return r!=null&&v(n,["ids"],r),n}function hh(t,e){const n={},r=g(e,["modality"]);r!=null&&v(n,["modality"],r);const a=g(e,["tokenCount"]);return a!=null&&v(n,["tokenCount"],a),n}function mh(t,e){const n={},r=g(e,["modality"]);r!=null&&v(n,["modality"],r);const a=g(e,["tokenCount"]);return a!=null&&v(n,["tokenCount"],a),n}function nae(t,e){const n={},r=g(e,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const a=g(e,["cachedContentTokenCount"]);a!=null&&v(n,["cachedContentTokenCount"],a);const i=g(e,["responseTokenCount"]);i!=null&&v(n,["responseTokenCount"],i);const s=g(e,["toolUsePromptTokenCount"]);s!=null&&v(n,["toolUsePromptTokenCount"],s);const u=g(e,["thoughtsTokenCount"]);u!=null&&v(n,["thoughtsTokenCount"],u);const d=g(e,["totalTokenCount"]);d!=null&&v(n,["totalTokenCount"],d);const c=g(e,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>hh(t,S))),v(n,["promptTokensDetails"],_)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>hh(t,S))),v(n,["cacheTokensDetails"],_)}const m=g(e,["responseTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(S=>hh(t,S))),v(n,["responseTokensDetails"],_)}const y=g(e,["toolUsePromptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>hh(t,S))),v(n,["toolUsePromptTokensDetails"],_)}return n}function rae(t,e){const n={},r=g(e,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const a=g(e,["cachedContentTokenCount"]);a!=null&&v(n,["cachedContentTokenCount"],a);const i=g(e,["candidatesTokenCount"]);i!=null&&v(n,["responseTokenCount"],i);const s=g(e,["toolUsePromptTokenCount"]);s!=null&&v(n,["toolUsePromptTokenCount"],s);const u=g(e,["thoughtsTokenCount"]);u!=null&&v(n,["thoughtsTokenCount"],u);const d=g(e,["totalTokenCount"]);d!=null&&v(n,["totalTokenCount"],d);const c=g(e,["promptTokensDetails"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(A=>mh(t,A))),v(n,["promptTokensDetails"],S)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(A=>mh(t,A))),v(n,["cacheTokensDetails"],S)}const m=g(e,["candidatesTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(A=>mh(t,A))),v(n,["responseTokensDetails"],S)}const y=g(e,["toolUsePromptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(A=>mh(t,A))),v(n,["toolUsePromptTokensDetails"],S)}const _=g(e,["trafficType"]);return _!=null&&v(n,["trafficType"],_),n}function aae(t,e){const n={},r=g(e,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function iae(t,e){const n={},r=g(e,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function oae(t,e){const n={},r=g(e,["newHandle"]);r!=null&&v(n,["newHandle"],r);const a=g(e,["resumable"]);a!=null&&v(n,["resumable"],a);const i=g(e,["lastConsumedClientMessageIndex"]);return i!=null&&v(n,["lastConsumedClientMessageIndex"],i),n}function sae(t,e){const n={},r=g(e,["newHandle"]);r!=null&&v(n,["newHandle"],r);const a=g(e,["resumable"]);a!=null&&v(n,["resumable"],a);const i=g(e,["lastConsumedClientMessageIndex"]);return i!=null&&v(n,["lastConsumedClientMessageIndex"],i),n}function lae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],Rre());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],Yre(t,a));const i=g(e,["toolCall"]);i!=null&&v(n,["toolCall"],Jre(t,i));const s=g(e,["toolCallCancellation"]);s!=null&&v(n,["toolCallCancellation"],eae(t,s));const u=g(e,["usageMetadata"]);u!=null&&v(n,["usageMetadata"],nae(t,u));const d=g(e,["goAway"]);d!=null&&v(n,["goAway"],aae(t,d));const c=g(e,["sessionResumptionUpdate"]);return c!=null&&v(n,["sessionResumptionUpdate"],oae(t,c)),n}function uae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],Ire());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],Wre(t,a));const i=g(e,["toolCall"]);i!=null&&v(n,["toolCall"],Qre(t,i));const s=g(e,["toolCallCancellation"]);s!=null&&v(n,["toolCallCancellation"],tae(t,s));const u=g(e,["usageMetadata"]);u!=null&&v(n,["usageMetadata"],rae(t,u));const d=g(e,["goAway"]);d!=null&&v(n,["goAway"],iae(t,d));const c=g(e,["sessionResumptionUpdate"]);return c!=null&&v(n,["sessionResumptionUpdate"],sae(t,c)),n}function cae(){return{}}function dae(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["weight"]);return a!=null&&v(n,["weight"],a),n}function fae(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>dae(t,i))),v(n,["weightedPrompts"],a)}return n}function hae(t,e){const n={},r=g(e,["temperature"]);r!=null&&v(n,["temperature"],r);const a=g(e,["topK"]);a!=null&&v(n,["topK"],a);const i=g(e,["seed"]);i!=null&&v(n,["seed"],i);const s=g(e,["guidance"]);s!=null&&v(n,["guidance"],s);const u=g(e,["bpm"]);u!=null&&v(n,["bpm"],u);const d=g(e,["density"]);d!=null&&v(n,["density"],d);const c=g(e,["brightness"]);c!=null&&v(n,["brightness"],c);const h=g(e,["scale"]);h!=null&&v(n,["scale"],h);const m=g(e,["muteBass"]);m!=null&&v(n,["muteBass"],m);const y=g(e,["muteDrums"]);y!=null&&v(n,["muteDrums"],y);const _=g(e,["onlyBassAndDrums"]);return _!=null&&v(n,["onlyBassAndDrums"],_),n}function mae(t,e){const n={},r=g(e,["clientContent"]);r!=null&&v(n,["clientContent"],fae(t,r));const a=g(e,["musicGenerationConfig"]);return a!=null&&v(n,["musicGenerationConfig"],hae(t,a)),n}function pae(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);a!=null&&v(n,["mimeType"],a);const i=g(e,["sourceMetadata"]);return i!=null&&v(n,["sourceMetadata"],mae(t,i)),n}function gae(t,e){const n={},r=g(e,["audioChunks"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>pae(t,i))),v(n,["audioChunks"],a)}return n}function vae(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["filteredReason"]);return a!=null&&v(n,["filteredReason"],a),n}function yae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],cae());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],gae(t,a));const i=g(e,["filteredPrompt"]);return i!=null&&v(n,["filteredPrompt"],vae(t,i)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bae(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function xae(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function _ae(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Sae(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],bae(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],xae(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],_ae(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function bp(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Sae(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function wae(t,e){const n={},r=g(e,["anyOf"]);r!=null&&v(n,["anyOf"],r);const a=g(e,["default"]);a!=null&&v(n,["default"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["enum"]);s!=null&&v(n,["enum"],s);const u=g(e,["example"]);u!=null&&v(n,["example"],u);const d=g(e,["format"]);d!=null&&v(n,["format"],d);const c=g(e,["items"]);c!=null&&v(n,["items"],c);const h=g(e,["maxItems"]);h!=null&&v(n,["maxItems"],h);const m=g(e,["maxLength"]);m!=null&&v(n,["maxLength"],m);const y=g(e,["maxProperties"]);y!=null&&v(n,["maxProperties"],y);const _=g(e,["maximum"]);_!=null&&v(n,["maximum"],_);const S=g(e,["minItems"]);S!=null&&v(n,["minItems"],S);const A=g(e,["minLength"]);A!=null&&v(n,["minLength"],A);const T=g(e,["minProperties"]);T!=null&&v(n,["minProperties"],T);const O=g(e,["minimum"]);O!=null&&v(n,["minimum"],O);const M=g(e,["nullable"]);M!=null&&v(n,["nullable"],M);const E=g(e,["pattern"]);E!=null&&v(n,["pattern"],E);const D=g(e,["properties"]);D!=null&&v(n,["properties"],D);const C=g(e,["propertyOrdering"]);C!=null&&v(n,["propertyOrdering"],C);const k=g(e,["required"]);k!=null&&v(n,["required"],k);const P=g(e,["title"]);P!=null&&v(n,["title"],P);const R=g(e,["type"]);return R!=null&&v(n,["type"],R),n}function Tae(t,e){const n={};if(g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["category"]);r!=null&&v(n,["category"],r);const a=g(e,["threshold"]);return a!=null&&v(n,["threshold"],a),n}function Aae(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function Eae(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Cae(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Eae(t,r)),n}function kae(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Oae(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],kae(t,r)),n}function Mae(){return{}}function Dae(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>Aae(t,c))),v(n,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],Cae(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],Oae(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],Mae());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function Nae(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Pae(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Rae(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Pae(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Iae(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],Nae(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Rae(t,a)),n}function jae(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function V$(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],jae(t,r)),n}function $ae(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],V$(t,a)),n}function Lae(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>$ae(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function Bae(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],V$(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],Lae(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function qae(t,e){const n={},r=g(e,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const a=g(e,["thinkingBudget"]);return a!=null&&v(n,["thinkingBudget"],a),n}function Uae(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],bp(t,Kn(t,a)));const i=g(e,["temperature"]);i!=null&&v(r,["temperature"],i);const s=g(e,["topP"]);s!=null&&v(r,["topP"],s);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const d=g(e,["candidateCount"]);d!=null&&v(r,["candidateCount"],d);const c=g(e,["maxOutputTokens"]);c!=null&&v(r,["maxOutputTokens"],c);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const _=g(e,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const S=g(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const A=g(e,["seed"]);A!=null&&v(r,["seed"],A);const T=g(e,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const O=g(e,["responseSchema"]);if(O!=null&&v(r,["responseSchema"],wae(t,Em(t,O))),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=g(e,["safetySettings"]);if(n!==void 0&&M!=null){let F=M;Array.isArray(F)&&(F=F.map(L=>Tae(t,L))),v(n,["safetySettings"],F)}const E=g(e,["tools"]);if(n!==void 0&&E!=null){let F=Od(t,E);Array.isArray(F)&&(F=F.map(L=>Dae(t,kd(t,L)))),v(n,["tools"],F)}const D=g(e,["toolConfig"]);if(n!==void 0&&D!=null&&v(n,["toolConfig"],Iae(t,D)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=g(e,["cachedContent"]);n!==void 0&&C!=null&&v(n,["cachedContent"],eo(t,C));const k=g(e,["responseModalities"]);k!=null&&v(r,["responseModalities"],k);const P=g(e,["mediaResolution"]);P!=null&&v(r,["mediaResolution"],P);const R=g(e,["speechConfig"]);if(R!=null&&v(r,["speechConfig"],Bae(t,N$(t,R))),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=g(e,["thinkingConfig"]);return U!=null&&v(r,["thinkingConfig"],qae(t,U)),r}function bR(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);if(a!=null){let s=Jr(t,a);Array.isArray(s)&&(s=s.map(u=>bp(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["generationConfig"],Uae(t,i,n)),n}function Fae(t,e,n){const r={},a=g(e,["taskType"]);n!==void 0&&a!=null&&v(n,["requests[]","taskType"],a);const i=g(e,["title"]);n!==void 0&&i!=null&&v(n,["requests[]","title"],i);const s=g(e,["outputDimensionality"]);if(n!==void 0&&s!=null&&v(n,["requests[]","outputDimensionality"],s),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Vae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);a!=null&&v(n,["requests[]","content"],D$(t,a));const i=g(e,["config"]);i!=null&&v(n,["config"],Fae(t,i,n));const s=g(e,["model"]);return s!==void 0&&v(n,["requests[]","model"],Bt(t,s)),n}function zae(t,e,n){const r={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=g(e,["numberOfImages"]);n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a);const i=g(e,["aspectRatio"]);n!==void 0&&i!=null&&v(n,["parameters","aspectRatio"],i);const s=g(e,["guidanceScale"]);if(n!==void 0&&s!=null&&v(n,["parameters","guidanceScale"],s),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=g(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&v(n,["parameters","safetySetting"],u);const d=g(e,["personGeneration"]);n!==void 0&&d!=null&&v(n,["parameters","personGeneration"],d);const c=g(e,["includeSafetyAttributes"]);n!==void 0&&c!=null&&v(n,["parameters","includeSafetyAttributes"],c);const h=g(e,["includeRaiReason"]);n!==void 0&&h!=null&&v(n,["parameters","includeRaiReason"],h);const m=g(e,["language"]);n!==void 0&&m!=null&&v(n,["parameters","language"],m);const y=g(e,["outputMimeType"]);n!==void 0&&y!=null&&v(n,["parameters","outputOptions","mimeType"],y);const _=g(e,["outputCompressionQuality"]);if(n!==void 0&&_!=null&&v(n,["parameters","outputOptions","compressionQuality"],_),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Gae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],zae(t,i,n)),n}function Hae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Kae(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],I$(t,u)),r}function Yae(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Kae(t,r,n)),n}function Wae(t,e,n){const r={},a=g(e,["displayName"]);n!==void 0&&a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);n!==void 0&&i!=null&&v(n,["description"],i);const s=g(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&v(n,["defaultCheckpointId"],s),r}function Xae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Wae(t,a,n)),n}function Zae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Jae(t,e){const n={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Qae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);if(a!=null){let s=Jr(t,a);Array.isArray(s)&&(s=s.map(u=>bp(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],Jae(t,i)),n}function eie(t,e){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=g(e,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],ai(t,r));const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function tie(t,e,n){const r={},a=g(e,["numberOfVideos"]);if(n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(e,["durationSeconds"]);if(n!==void 0&&i!=null&&v(n,["parameters","durationSeconds"],i),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=g(e,["aspectRatio"]);if(n!==void 0&&s!=null&&v(n,["parameters","aspectRatio"],s),g(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=g(e,["personGeneration"]);if(n!==void 0&&u!=null&&v(n,["parameters","personGeneration"],u),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=g(e,["negativePrompt"]);n!==void 0&&d!=null&&v(n,["parameters","negativePrompt"],d);const c=g(e,["enhancePrompt"]);if(n!==void 0&&c!=null&&v(n,["parameters","enhancePrompt"],c),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(g(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return r}function nie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["image"]);if(i!=null&&v(n,["instances[0]","image"],eie(t,i)),g(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=g(e,["config"]);return s!=null&&v(n,["config"],tie(t,s,n)),n}function rie(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function aie(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function iie(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function oie(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],rie(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],aie(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],iie(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function eu(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>oie(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function sie(t,e){const n={},r=g(e,["anyOf"]);r!=null&&v(n,["anyOf"],r);const a=g(e,["default"]);a!=null&&v(n,["default"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["enum"]);s!=null&&v(n,["enum"],s);const u=g(e,["example"]);u!=null&&v(n,["example"],u);const d=g(e,["format"]);d!=null&&v(n,["format"],d);const c=g(e,["items"]);c!=null&&v(n,["items"],c);const h=g(e,["maxItems"]);h!=null&&v(n,["maxItems"],h);const m=g(e,["maxLength"]);m!=null&&v(n,["maxLength"],m);const y=g(e,["maxProperties"]);y!=null&&v(n,["maxProperties"],y);const _=g(e,["maximum"]);_!=null&&v(n,["maximum"],_);const S=g(e,["minItems"]);S!=null&&v(n,["minItems"],S);const A=g(e,["minLength"]);A!=null&&v(n,["minLength"],A);const T=g(e,["minProperties"]);T!=null&&v(n,["minProperties"],T);const O=g(e,["minimum"]);O!=null&&v(n,["minimum"],O);const M=g(e,["nullable"]);M!=null&&v(n,["nullable"],M);const E=g(e,["pattern"]);E!=null&&v(n,["pattern"],E);const D=g(e,["properties"]);D!=null&&v(n,["properties"],D);const C=g(e,["propertyOrdering"]);C!=null&&v(n,["propertyOrdering"],C);const k=g(e,["required"]);k!=null&&v(n,["required"],k);const P=g(e,["title"]);P!=null&&v(n,["title"],P);const R=g(e,["type"]);return R!=null&&v(n,["type"],R),n}function lie(t,e){const n={},r=g(e,["featureSelectionPreference"]);return r!=null&&v(n,["featureSelectionPreference"],r),n}function uie(t,e){const n={},r=g(e,["method"]);r!=null&&v(n,["method"],r);const a=g(e,["category"]);a!=null&&v(n,["category"],a);const i=g(e,["threshold"]);return i!=null&&v(n,["threshold"],i),n}function cie(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function die(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function fie(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],die(t,r)),n}function hie(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function mie(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],hie(t,r)),n}function pie(){return{}}function gie(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function vie(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],gie(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const d=g(e,["oidcConfig"]);return d!=null&&v(n,["oidcConfig"],d),n}function yie(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],vie(t,r)),n}function bie(){return{}}function z$(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(y=>cie(t,y))),v(n,["functionDeclarations"],m)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],fie(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],mie(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],pie());const d=g(e,["googleMaps"]);d!=null&&v(n,["googleMaps"],yie(t,d)),g(e,["urlContext"])!=null&&v(n,["urlContext"],bie());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function xie(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function _ie(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Sie(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],_ie(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function wie(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],xie(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Sie(t,a)),n}function Tie(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function Aie(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Tie(t,r)),n}function Eie(t,e){const n={},r=g(e,["voiceConfig"]);if(r!=null&&v(n,["voiceConfig"],Aie(t,r)),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Cie(t,e){const n={},r=g(e,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const a=g(e,["thinkingBudget"]);return a!=null&&v(n,["thinkingBudget"],a),n}function kie(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],eu(t,Kn(t,a)));const i=g(e,["temperature"]);i!=null&&v(r,["temperature"],i);const s=g(e,["topP"]);s!=null&&v(r,["topP"],s);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const d=g(e,["candidateCount"]);d!=null&&v(r,["candidateCount"],d);const c=g(e,["maxOutputTokens"]);c!=null&&v(r,["maxOutputTokens"],c);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const _=g(e,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const S=g(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const A=g(e,["seed"]);A!=null&&v(r,["seed"],A);const T=g(e,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const O=g(e,["responseSchema"]);O!=null&&v(r,["responseSchema"],sie(t,Em(t,O)));const M=g(e,["routingConfig"]);M!=null&&v(r,["routingConfig"],M);const E=g(e,["modelSelectionConfig"]);E!=null&&v(r,["modelConfig"],lie(t,E));const D=g(e,["safetySettings"]);if(n!==void 0&&D!=null){let H=D;Array.isArray(H)&&(H=H.map(q=>uie(t,q))),v(n,["safetySettings"],H)}const C=g(e,["tools"]);if(n!==void 0&&C!=null){let H=Od(t,C);Array.isArray(H)&&(H=H.map(q=>z$(t,kd(t,q)))),v(n,["tools"],H)}const k=g(e,["toolConfig"]);n!==void 0&&k!=null&&v(n,["toolConfig"],wie(t,k));const P=g(e,["labels"]);n!==void 0&&P!=null&&v(n,["labels"],P);const R=g(e,["cachedContent"]);n!==void 0&&R!=null&&v(n,["cachedContent"],eo(t,R));const U=g(e,["responseModalities"]);U!=null&&v(r,["responseModalities"],U);const F=g(e,["mediaResolution"]);F!=null&&v(r,["mediaResolution"],F);const L=g(e,["speechConfig"]);L!=null&&v(r,["speechConfig"],Eie(t,N$(t,L)));const G=g(e,["audioTimestamp"]);G!=null&&v(r,["audioTimestamp"],G);const Q=g(e,["thinkingConfig"]);return Q!=null&&v(r,["thinkingConfig"],Cie(t,Q)),r}function xR(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);if(a!=null){let s=Jr(t,a);Array.isArray(s)&&(s=s.map(u=>eu(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["generationConfig"],kie(t,i,n)),n}function Oie(t,e,n){const r={},a=g(e,["taskType"]);n!==void 0&&a!=null&&v(n,["instances[]","task_type"],a);const i=g(e,["title"]);n!==void 0&&i!=null&&v(n,["instances[]","title"],i);const s=g(e,["outputDimensionality"]);n!==void 0&&s!=null&&v(n,["parameters","outputDimensionality"],s);const u=g(e,["mimeType"]);n!==void 0&&u!=null&&v(n,["instances[]","mimeType"],u);const d=g(e,["autoTruncate"]);return n!==void 0&&d!=null&&v(n,["parameters","autoTruncate"],d),r}function Mie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);a!=null&&v(n,["instances[]","content"],D$(t,a));const i=g(e,["config"]);return i!=null&&v(n,["config"],Oie(t,i,n)),n}function Die(t,e,n){const r={},a=g(e,["outputGcsUri"]);n!==void 0&&a!=null&&v(n,["parameters","storageUri"],a);const i=g(e,["negativePrompt"]);n!==void 0&&i!=null&&v(n,["parameters","negativePrompt"],i);const s=g(e,["numberOfImages"]);n!==void 0&&s!=null&&v(n,["parameters","sampleCount"],s);const u=g(e,["aspectRatio"]);n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u);const d=g(e,["guidanceScale"]);n!==void 0&&d!=null&&v(n,["parameters","guidanceScale"],d);const c=g(e,["seed"]);n!==void 0&&c!=null&&v(n,["parameters","seed"],c);const h=g(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const m=g(e,["personGeneration"]);n!==void 0&&m!=null&&v(n,["parameters","personGeneration"],m);const y=g(e,["includeSafetyAttributes"]);n!==void 0&&y!=null&&v(n,["parameters","includeSafetyAttributes"],y);const _=g(e,["includeRaiReason"]);n!==void 0&&_!=null&&v(n,["parameters","includeRaiReason"],_);const S=g(e,["language"]);n!==void 0&&S!=null&&v(n,["parameters","language"],S);const A=g(e,["outputMimeType"]);n!==void 0&&A!=null&&v(n,["parameters","outputOptions","mimeType"],A);const T=g(e,["outputCompressionQuality"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","compressionQuality"],T);const O=g(e,["addWatermark"]);n!==void 0&&O!=null&&v(n,["parameters","addWatermark"],O);const M=g(e,["enhancePrompt"]);return n!==void 0&&M!=null&&v(n,["parameters","enhancePrompt"],M),r}function Nie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],Die(t,i,n)),n}function xp(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["imageBytes"]);a!=null&&v(n,["bytesBase64Encoded"],ai(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Pie(t,e){const n={},r=g(e,["maskMode"]);r!=null&&v(n,["maskMode"],r);const a=g(e,["segmentationClasses"]);a!=null&&v(n,["maskClasses"],a);const i=g(e,["maskDilation"]);return i!=null&&v(n,["dilation"],i),n}function Rie(t,e){const n={},r=g(e,["controlType"]);r!=null&&v(n,["controlType"],r);const a=g(e,["enableControlImageComputation"]);return a!=null&&v(n,["computeControl"],a),n}function Iie(t,e){const n={},r=g(e,["styleDescription"]);return r!=null&&v(n,["styleDescription"],r),n}function jie(t,e){const n={},r=g(e,["subjectType"]);r!=null&&v(n,["subjectType"],r);const a=g(e,["subjectDescription"]);return a!=null&&v(n,["subjectDescription"],a),n}function $ie(t,e){const n={},r=g(e,["referenceImage"]);r!=null&&v(n,["referenceImage"],xp(t,r));const a=g(e,["referenceId"]);a!=null&&v(n,["referenceId"],a);const i=g(e,["referenceType"]);i!=null&&v(n,["referenceType"],i);const s=g(e,["maskImageConfig"]);s!=null&&v(n,["maskImageConfig"],Pie(t,s));const u=g(e,["controlImageConfig"]);u!=null&&v(n,["controlImageConfig"],Rie(t,u));const d=g(e,["styleImageConfig"]);d!=null&&v(n,["styleImageConfig"],Iie(t,d));const c=g(e,["subjectImageConfig"]);return c!=null&&v(n,["subjectImageConfig"],jie(t,c)),n}function Lie(t,e,n){const r={},a=g(e,["outputGcsUri"]);n!==void 0&&a!=null&&v(n,["parameters","storageUri"],a);const i=g(e,["negativePrompt"]);n!==void 0&&i!=null&&v(n,["parameters","negativePrompt"],i);const s=g(e,["numberOfImages"]);n!==void 0&&s!=null&&v(n,["parameters","sampleCount"],s);const u=g(e,["aspectRatio"]);n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u);const d=g(e,["guidanceScale"]);n!==void 0&&d!=null&&v(n,["parameters","guidanceScale"],d);const c=g(e,["seed"]);n!==void 0&&c!=null&&v(n,["parameters","seed"],c);const h=g(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const m=g(e,["personGeneration"]);n!==void 0&&m!=null&&v(n,["parameters","personGeneration"],m);const y=g(e,["includeSafetyAttributes"]);n!==void 0&&y!=null&&v(n,["parameters","includeSafetyAttributes"],y);const _=g(e,["includeRaiReason"]);n!==void 0&&_!=null&&v(n,["parameters","includeRaiReason"],_);const S=g(e,["language"]);n!==void 0&&S!=null&&v(n,["parameters","language"],S);const A=g(e,["outputMimeType"]);n!==void 0&&A!=null&&v(n,["parameters","outputOptions","mimeType"],A);const T=g(e,["outputCompressionQuality"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","compressionQuality"],T);const O=g(e,["editMode"]);n!==void 0&&O!=null&&v(n,["parameters","editMode"],O);const M=g(e,["baseSteps"]);return n!==void 0&&M!=null&&v(n,["parameters","editConfig","baseSteps"],M),r}function Bie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>$ie(t,d))),v(n,["instances[0]","referenceImages"],u)}const s=g(e,["config"]);return s!=null&&v(n,["config"],Lie(t,s,n)),n}function qie(t,e,n){const r={},a=g(e,["includeRaiReason"]);n!==void 0&&a!=null&&v(n,["parameters","includeRaiReason"],a);const i=g(e,["outputMimeType"]);n!==void 0&&i!=null&&v(n,["parameters","outputOptions","mimeType"],i);const s=g(e,["outputCompressionQuality"]);n!==void 0&&s!=null&&v(n,["parameters","outputOptions","compressionQuality"],s);const u=g(e,["numberOfImages"]);n!==void 0&&u!=null&&v(n,["parameters","sampleCount"],u);const d=g(e,["mode"]);return n!==void 0&&d!=null&&v(n,["parameters","mode"],d),r}function Uie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["image"]);a!=null&&v(n,["instances[0]","image"],xp(t,a));const i=g(e,["upscaleFactor"]);i!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=g(e,["config"]);return s!=null&&v(n,["config"],qie(t,s,n)),n}function Fie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Vie(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],I$(t,u)),r}function zie(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Vie(t,r,n)),n}function Gie(t,e,n){const r={},a=g(e,["displayName"]);n!==void 0&&a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);n!==void 0&&i!=null&&v(n,["description"],i);const s=g(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&v(n,["defaultCheckpointId"],s),r}function Hie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Gie(t,a,n)),n}function Kie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Yie(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],eu(t,Kn(t,a)));const i=g(e,["tools"]);if(n!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>z$(t,d))),v(n,["tools"],u)}const s=g(e,["generationConfig"]);return n!==void 0&&s!=null&&v(n,["generationConfig"],s),r}function Wie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);if(a!=null){let s=Jr(t,a);Array.isArray(s)&&(s=s.map(u=>eu(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],Yie(t,i,n)),n}function Xie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);if(a!=null){let s=Jr(t,a);Array.isArray(s)&&(s=s.map(u=>eu(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],i),n}function Zie(t,e){const n={},r=g(e,["uri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["videoBytes"]);a!=null&&v(n,["bytesBase64Encoded"],ai(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Jie(t,e,n){const r={},a=g(e,["numberOfVideos"]);n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a);const i=g(e,["outputGcsUri"]);n!==void 0&&i!=null&&v(n,["parameters","storageUri"],i);const s=g(e,["fps"]);n!==void 0&&s!=null&&v(n,["parameters","fps"],s);const u=g(e,["durationSeconds"]);n!==void 0&&u!=null&&v(n,["parameters","durationSeconds"],u);const d=g(e,["seed"]);n!==void 0&&d!=null&&v(n,["parameters","seed"],d);const c=g(e,["aspectRatio"]);n!==void 0&&c!=null&&v(n,["parameters","aspectRatio"],c);const h=g(e,["resolution"]);n!==void 0&&h!=null&&v(n,["parameters","resolution"],h);const m=g(e,["personGeneration"]);n!==void 0&&m!=null&&v(n,["parameters","personGeneration"],m);const y=g(e,["pubsubTopic"]);n!==void 0&&y!=null&&v(n,["parameters","pubsubTopic"],y);const _=g(e,["negativePrompt"]);n!==void 0&&_!=null&&v(n,["parameters","negativePrompt"],_);const S=g(e,["enhancePrompt"]);n!==void 0&&S!=null&&v(n,["parameters","enhancePrompt"],S);const A=g(e,["generateAudio"]);n!==void 0&&A!=null&&v(n,["parameters","generateAudio"],A);const T=g(e,["lastFrame"]);return n!==void 0&&T!=null&&v(n,["instances[0]","lastFrame"],xp(t,T)),r}function Qie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["image"]);i!=null&&v(n,["instances[0]","image"],xp(t,i));const s=g(e,["video"]);s!=null&&v(n,["instances[0]","video"],Zie(t,s));const u=g(e,["config"]);return u!=null&&v(n,["config"],Jie(t,u,n)),n}function eoe(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function toe(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function noe(t,e){const n={},r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function roe(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],eoe(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],toe(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],noe(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function aoe(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>roe(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function ioe(t,e){const n={},r=g(e,["citationSources"]);return r!=null&&v(n,["citations"],r),n}function ooe(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function soe(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>ooe(t,i))),v(n,["urlMetadata"],a)}return n}function loe(t,e){const n={},r=g(e,["content"]);r!=null&&v(n,["content"],aoe(t,r));const a=g(e,["citationMetadata"]);a!=null&&v(n,["citationMetadata"],ioe(t,a));const i=g(e,["tokenCount"]);i!=null&&v(n,["tokenCount"],i);const s=g(e,["finishReason"]);s!=null&&v(n,["finishReason"],s);const u=g(e,["urlContextMetadata"]);u!=null&&v(n,["urlContextMetadata"],soe(t,u));const d=g(e,["avgLogprobs"]);d!=null&&v(n,["avgLogprobs"],d);const c=g(e,["groundingMetadata"]);c!=null&&v(n,["groundingMetadata"],c);const h=g(e,["index"]);h!=null&&v(n,["index"],h);const m=g(e,["logprobsResult"]);m!=null&&v(n,["logprobsResult"],m);const y=g(e,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function _R(t,e){const n={},r=g(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>loe(t,d))),v(n,["candidates"],u)}const a=g(e,["modelVersion"]);a!=null&&v(n,["modelVersion"],a);const i=g(e,["promptFeedback"]);i!=null&&v(n,["promptFeedback"],i);const s=g(e,["usageMetadata"]);return s!=null&&v(n,["usageMetadata"],s),n}function uoe(t,e){const n={},r=g(e,["values"]);return r!=null&&v(n,["values"],r),n}function coe(){return{}}function doe(t,e){const n={},r=g(e,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>uoe(t,s))),v(n,["embeddings"],i)}return g(e,["metadata"])!=null&&v(n,["metadata"],coe()),n}function foe(t,e){const n={},r=g(e,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],ai(t,r));const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function G$(t,e){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const a=g(e,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const i=g(e,["contentType"]);return i!=null&&v(n,["contentType"],i),n}function hoe(t,e){const n={},r=g(e,["_self"]);r!=null&&v(n,["image"],foe(t,r));const a=g(e,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const i=g(e,["_self"]);return i!=null&&v(n,["safetyAttributes"],G$(t,i)),n}function moe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>hoe(t,s))),v(n,["generatedImages"],i)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],G$(t,a)),n}function poe(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["updateTime"]);return i!=null&&v(n,["updateTime"],i),n}function NS(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["version"]);s!=null&&v(n,["version"],s);const u=g(e,["_self"]);u!=null&&v(n,["tunedModelInfo"],poe(t,u));const d=g(e,["inputTokenLimit"]);d!=null&&v(n,["inputTokenLimit"],d);const c=g(e,["outputTokenLimit"]);c!=null&&v(n,["outputTokenLimit"],c);const h=g(e,["supportedGenerationMethods"]);return h!=null&&v(n,["supportedActions"],h),n}function goe(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["_self"]);if(a!=null){let i=j$(t,a);Array.isArray(i)&&(i=i.map(s=>NS(t,s))),v(n,["models"],i)}return n}function voe(){return{}}function yoe(t,e){const n={},r=g(e,["totalTokens"]);r!=null&&v(n,["totalTokens"],r);const a=g(e,["cachedContentTokenCount"]);return a!=null&&v(n,["cachedContentTokenCount"],a),n}function boe(t,e){const n={},r=g(e,["video","uri"]);r!=null&&v(n,["uri"],r);const a=g(e,["video","encodedVideo"]);a!=null&&v(n,["videoBytes"],ai(t,a));const i=g(e,["encoding"]);return i!=null&&v(n,["mimeType"],i),n}function xoe(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],boe(t,r)),n}function _oe(t,e){const n={},r=g(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>xoe(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function Soe(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response","generateVideoResponse"]);return u!=null&&v(n,["response"],_oe(t,u)),n}function woe(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Toe(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Aoe(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Eoe(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],woe(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Toe(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Aoe(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Coe(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Eoe(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function koe(t,e){const n={},r=g(e,["citations"]);return r!=null&&v(n,["citations"],r),n}function Ooe(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function Moe(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Ooe(t,i))),v(n,["urlMetadata"],a)}return n}function Doe(t,e){const n={},r=g(e,["content"]);r!=null&&v(n,["content"],Coe(t,r));const a=g(e,["citationMetadata"]);a!=null&&v(n,["citationMetadata"],koe(t,a));const i=g(e,["finishMessage"]);i!=null&&v(n,["finishMessage"],i);const s=g(e,["finishReason"]);s!=null&&v(n,["finishReason"],s);const u=g(e,["urlContextMetadata"]);u!=null&&v(n,["urlContextMetadata"],Moe(t,u));const d=g(e,["avgLogprobs"]);d!=null&&v(n,["avgLogprobs"],d);const c=g(e,["groundingMetadata"]);c!=null&&v(n,["groundingMetadata"],c);const h=g(e,["index"]);h!=null&&v(n,["index"],h);const m=g(e,["logprobsResult"]);m!=null&&v(n,["logprobsResult"],m);const y=g(e,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function SR(t,e){const n={},r=g(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>Doe(t,h))),v(n,["candidates"],c)}const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["responseId"]);i!=null&&v(n,["responseId"],i);const s=g(e,["modelVersion"]);s!=null&&v(n,["modelVersion"],s);const u=g(e,["promptFeedback"]);u!=null&&v(n,["promptFeedback"],u);const d=g(e,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function Noe(t,e){const n={},r=g(e,["truncated"]);r!=null&&v(n,["truncated"],r);const a=g(e,["token_count"]);return a!=null&&v(n,["tokenCount"],a),n}function Poe(t,e){const n={},r=g(e,["values"]);r!=null&&v(n,["values"],r);const a=g(e,["statistics"]);return a!=null&&v(n,["statistics"],Noe(t,a)),n}function Roe(t,e){const n={},r=g(e,["billableCharacterCount"]);return r!=null&&v(n,["billableCharacterCount"],r),n}function Ioe(t,e){const n={},r=g(e,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Poe(t,s))),v(n,["embeddings"],i)}const a=g(e,["metadata"]);return a!=null&&v(n,["metadata"],Roe(t,a)),n}function joe(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["imageBytes"],ai(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function H$(t,e){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const a=g(e,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const i=g(e,["contentType"]);return i!=null&&v(n,["contentType"],i),n}function Qw(t,e){const n={},r=g(e,["_self"]);r!=null&&v(n,["image"],joe(t,r));const a=g(e,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const i=g(e,["_self"]);i!=null&&v(n,["safetyAttributes"],H$(t,i));const s=g(e,["prompt"]);return s!=null&&v(n,["enhancedPrompt"],s),n}function $oe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Qw(t,s))),v(n,["generatedImages"],i)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],H$(t,a)),n}function Loe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Qw(t,i))),v(n,["generatedImages"],a)}return n}function Boe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Qw(t,i))),v(n,["generatedImages"],a)}return n}function qoe(t,e){const n={},r=g(e,["endpoint"]);r!=null&&v(n,["name"],r);const a=g(e,["deployedModelId"]);return a!=null&&v(n,["deployedModelId"],a),n}function Uoe(t,e){const n={},r=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["updateTime"]);return i!=null&&v(n,["updateTime"],i),n}function Foe(t,e){const n={},r=g(e,["checkpointId"]);r!=null&&v(n,["checkpointId"],r);const a=g(e,["epoch"]);a!=null&&v(n,["epoch"],a);const i=g(e,["step"]);return i!=null&&v(n,["step"],i),n}function PS(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["versionId"]);s!=null&&v(n,["version"],s);const u=g(e,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(_=>qoe(t,_))),v(n,["endpoints"],y)}const d=g(e,["labels"]);d!=null&&v(n,["labels"],d);const c=g(e,["_self"]);c!=null&&v(n,["tunedModelInfo"],Uoe(t,c));const h=g(e,["defaultCheckpointId"]);h!=null&&v(n,["defaultCheckpointId"],h);const m=g(e,["checkpoints"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(_=>Foe(t,_))),v(n,["checkpoints"],y)}return n}function Voe(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["_self"]);if(a!=null){let i=j$(t,a);Array.isArray(i)&&(i=i.map(s=>PS(t,s))),v(n,["models"],i)}return n}function zoe(){return{}}function Goe(t,e){const n={},r=g(e,["totalTokens"]);return r!=null&&v(n,["totalTokens"],r),n}function Hoe(t,e){const n={},r=g(e,["tokensInfo"]);return r!=null&&v(n,["tokensInfo"],r),n}function Koe(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["uri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["videoBytes"],ai(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Yoe(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Koe(t,r)),n}function Woe(t,e){const n={},r=g(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Yoe(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function Xoe(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],Woe(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zoe="Content-Type",Joe="X-Server-Timeout",Qoe="User-Agent",RS="x-goog-api-client",ese="1.5.1",tse=`google-genai-sdk/${ese}`,nse="v1beta1",rse="v1beta",wR=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class K$ extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class IS extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class ase{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:nse,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:rse,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))a.searchParams.append(s,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.unaryApiCall(a,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[a,i]of Object.entries(n))typeof i=="object"?r[a]=Object.assign(Object.assign({},r[a]),i):i!==void 0&&(r[a]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.streamApiCall(a,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const a=new AbortController,i=a.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>a.abort(),n.timeout),r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=i}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await TR(a),new kS(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await TR(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var n;return fl(this,arguments,function*(){const a=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:d}=yield Ft(a.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(d);try{const m=JSON.parse(c);if("error"in m){const y=JSON.parse(JSON.stringify(m.error)),_=y.status,S=y.code,A=`got status: ${_}. ${JSON.stringify(m)}`;if(S>=400&&S<500)throw new K$(A);if(S>=500&&S<600)throw new IS(A)}}catch(m){const y=m;if(y.name==="ClientError"||y.name==="ServerError")throw m}s+=c;let h=s.match(wR);for(;h;){const m=h[1];try{const y=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ft(new kS(y)),s=s.slice(h[0].length),h=s.match(wR)}catch(y){throw new Error(`exception parsing stream chunk ${m}. ${y}`)}}}}finally{a.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=tse+" "+this.clientOptions.userAgentExtra;return e[Qoe]=n,e[RS]=n,e[Zoe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))n.append(r,a);e.timeout&&e.timeout>0&&n.append(Joe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const i=this.clientOptions.uploader,s=await i.stat(e);a.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=u;const d=await this.fetchUploadUrl(a,n);return i.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let a={};n!=null&&n.httpOptions?a=n.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},s=await this.request({path:Ge("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:a});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function TR(t){var e;if(t===void 0)throw new IS("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let a;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await t.json():a={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=`got status: ${n} ${r}. ${JSON.stringify(a)}`;throw n>=400&&n<500?new K$(i):n>=500&&n<600?new IS(i):new Error(i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ise="mcp_used/unknown";function Y$(t){for(const e of t)if(e1(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function W$(t){var e;const n=(e=t[RS])!==null&&e!==void 0?e:"";t[RS]=(n+` ${ise}`).trimStart()}function ose(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>e1(a)))!==null&&r!==void 0?r:!1}function sse(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>!e1(a)))!==null&&r!==void 0?r:!1}function e1(t){return t!==null&&typeof t=="object"&&t instanceof t1}function lse(t,e=100){return fl(this,arguments,function*(){let r,a=0;for(;a<e;){const i=yield Ft(t.listTools({cursor:r}));for(const s of i.tools)yield yield Ft(s),a++;if(!i.nextCursor)break;r=i.nextCursor}})}class t1{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new t1(e,n)}async initialize(){var e,n,r,a;if(this.mcpTools.length>0)return;const i={},s=[];for(const h of this.mcpClients)try{for(var u=!0,d=(n=void 0,Nc(lse(h))),c;c=await d.next(),e=c.done,!e;u=!0){a=c.value,u=!1;const m=a;s.push(m);const y=m.name;if(i[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);i[y]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),ute(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const s=await a.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function use(t,e,n){const r=new Xee;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data);const i=yae(t,a);Object.assign(r,i),e(r)}class cse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=hse(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const h=new Promise(E=>{c=E}),m=e.callbacks,y=function(){c({})},_=this.apiClient,S={onopen:y,onmessage:E=>{use(_,m.onmessage,E)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(E){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(E){}},A=this.webSocketFactory.create(d,fse(s),S);A.connect(),await h;const T=Bt(this.apiClient,e.model),O=U$(this.apiClient,{model:T}),M=DS(this.apiClient,{setup:O});return A.send(JSON.stringify(M)),new dse(A,this.apiClient)}}class dse{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Nre(this.apiClient,e),r=F$(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Pre(this.apiClient,e),r=DS(this.apiClient,n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=DS(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ol.PLAY)}pause(){this.sendPlaybackControl(ol.PAUSE)}stop(){this.sendPlaybackControl(ol.STOP)}resetContext(){this.sendPlaybackControl(ol.RESET_CONTEXT)}close(){this.conn.close()}}function fse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function hse(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mse="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pse(t,e,n){const r=new Wee;let a;if(n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),t.isVertexAI()){const i=uae(t,a);Object.assign(r,i)}else{const i=lae(t,a);Object.assign(r,i)}e(r)}class gse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new cse(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,a,i,s,u;const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let h;const m=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Y$(e.config.tools)&&W$(m);const y=xse(m);if(this.apiClient.isVertexAI())h=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y);else{const U=this.apiClient.getApiKey();let F="BidiGenerateContent",L="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),F="BidiGenerateContentConstrained",L="access_token"),h=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${F}?${L}=${U}`}let _=()=>{};const S=new Promise(U=>{_=U}),A=e.callbacks,T=function(){var U;(U=A==null?void 0:A.onopen)===null||U===void 0||U.call(A),_({})},O=this.apiClient,M={onopen:T,onmessage:U=>{pse(O,A.onmessage,U)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(U){}},E=this.webSocketFactory.create(h,bse(y),M);E.connect(),await S;let D=Bt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const U=this.apiClient.getProject(),F=this.apiClient.getLocation();D=`projects/${U}/locations/${F}/`+D}let C={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Tm.AUDIO]}:e.config.responseModalities=[Tm.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],P=[];for(const U of k)if(this.isCallableTool(U)){const F=U;P.push(await F.tool())}else P.push(U);P.length>0&&(e.config.tools=P);const R={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=Are(this.apiClient,R):C=Tre(this.apiClient,R),delete C.config,E.send(JSON.stringify(C)),new yse(E,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const vse={turnComplete:!0};class yse{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Jr(e,n.turns),e.isVertexAI()?r=r.map(a=>eu(e,a)):r=r.map(a=>bp(e,a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(mse)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},vse),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Dre(this.apiClient,e)}:n={realtimeInput:Mre(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function bse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function xse(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AR=10;function ER(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(bh(s)){a=!0;break}if(!a)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function bh(t){return"callTool"in t&&typeof t.callTool=="function"}function CR(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _se extends Ql{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,a,i,s,u;const d=await this.processParamsForMcpUsage(n);if(!ose(n)||ER(n.config))return await this.generateContentInternal(d);if(sse(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,h;const m=Jr(this.apiClient,d.contents),y=(i=(a=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&i!==void 0?i:AR;let _=0;for(;_<y&&(c=await this.generateContentInternal(d),!(!c.functionCalls||c.functionCalls.length===0));){const S=c.candidates[0].content,A=[];for(const T of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(bh(T)){const M=await T.callTool(c.functionCalls);A.push(...M)}_++,h={role:"user",parts:A},d.contents=Jr(this.apiClient,d.contents),d.contents.push(S),d.contents.push(h),CR(d.config)&&(m.push(S),m.push(h))}return CR(d.config)&&(c.automaticFunctionCallingHistory=m),c},this.generateContentStream=async n=>{if(ER(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let i;const s=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((a=d==null?void 0:d.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:s.push(d);let u;return i?u={generatedImages:s,positivePromptSafetyAttributes:i}:u={generatedImages:s},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new yp(Vl.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(a)}}async processParamsForMcpUsage(e){var n,r,a;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const s=await Promise.all(i.map(async d=>bh(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&Y$(e.config.tools)){const d=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),W$(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,r,a;const i=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(bh(s)){const u=s,d=await u.tool();for(const c of(a=d.functionDeclarations)!==null&&a!==void 0?a:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,u)}}return i}async processAfcStream(e){var n,r,a;const i=(a=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:AR;let s=!1,u=0;const d=await this.initAfcToolsMap(e);return function(c,h,m){var y,_;return fl(this,arguments,function*(){for(var S,A,T,O;u<i;){s&&(u++,s=!1);const C=yield Ft(c.processParamsForMcpUsage(m)),k=yield Ft(c.generateContentStreamInternal(C)),P=[],R=[];try{for(var M=!0,E=(A=void 0,Nc(k)),D;D=yield Ft(E.next()),S=D.done,!S;M=!0){O=D.value,M=!1;const U=O;if(yield yield Ft(U),U.candidates&&(!((y=U.candidates[0])===null||y===void 0)&&y.content)){R.push(U.candidates[0].content);for(const F of(_=U.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(u<i&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(F.functionCall.name)){const L=yield Ft(h.get(F.functionCall.name).callTool([F.functionCall]));P.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(U){A={error:U}}finally{try{!M&&!S&&(T=E.return)&&(yield Ft(T.call(E)))}finally{if(A)throw A.error}}if(P.length>0){s=!0;const U=new gc;U.candidates=[{content:{role:"user",parts:P}}],yield yield Ft(U);const F=[];F.push(...R),F.push({role:"user",parts:P});const L=Jr(c.apiClient,m.contents).concat(F);m.contents=L}else break}})}(this,d,e)}async generateContentInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=xR(this.apiClient,e);return u=Ge("{model}:generateContent",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=SR(this.apiClient,h),y=new gc;return Object.assign(y,m),y})}else{const c=bR(this.apiClient,e);return u=Ge("{model}:generateContent",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=_R(this.apiClient,h),y=new gc;return Object.assign(y,m),y})}}async generateContentStreamInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=xR(this.apiClient,e);u=Ge("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c.config,delete c._url,delete c._query;const h=this.apiClient;return s=h.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return fl(this,arguments,function*(){var y,_,S,A;try{for(var T=!0,O=Nc(m),M;M=yield Ft(O.next()),y=M.done,!y;T=!0){A=M.value,T=!1;const D=SR(h,yield Ft(A.json())),C=new gc;Object.assign(C,D),yield yield Ft(C)}}catch(E){_={error:E}}finally{try{!T&&!y&&(S=O.return)&&(yield Ft(S.call(O)))}finally{if(_)throw _.error}}})})}else{const c=bR(this.apiClient,e);u=Ge("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c.config,delete c._url,delete c._query;const h=this.apiClient;return s=h.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(m){return fl(this,arguments,function*(){var y,_,S,A;try{for(var T=!0,O=Nc(m),M;M=yield Ft(O.next()),y=M.done,!y;T=!0){A=M.value,T=!1;const D=_R(h,yield Ft(A.json())),C=new gc;Object.assign(C,D),yield yield Ft(C)}}catch(E){_={error:E}}finally{try{!T&&!y&&(S=O.return)&&(yield Ft(S.call(O)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Mie(this.apiClient,e);return u=Ge("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Ioe(this.apiClient,h),y=new QP;return Object.assign(y,m),y})}else{const c=Vae(this.apiClient,e);return u=Ge("{model}:batchEmbedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=doe(this.apiClient,h),y=new QP;return Object.assign(y,m),y})}}async generateImagesInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Nie(this.apiClient,e);return u=Ge("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=$oe(this.apiClient,h),y=new eR;return Object.assign(y,m),y})}else{const c=Gae(this.apiClient,e);return u=Ge("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=moe(this.apiClient,h),y=new eR;return Object.assign(y,m),y})}}async editImageInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Bie(this.apiClient,e);return i=Ge("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const c=Loe(this.apiClient,d),h=new Vee;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Uie(this.apiClient,e);return i=Ge("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const c=Boe(this.apiClient,d),h=new zee;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Fie(this.apiClient,e);return u=Ge("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>PS(this.apiClient,h))}else{const c=Hae(this.apiClient,e);return u=Ge("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>NS(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=zie(this.apiClient,e);return u=Ge("{models_url}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Voe(this.apiClient,h),y=new tR;return Object.assign(y,m),y})}else{const c=Yae(this.apiClient,e);return u=Ge("{models_url}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=goe(this.apiClient,h),y=new tR;return Object.assign(y,m),y})}}async update(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Hie(this.apiClient,e);return u=Ge("{model}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>PS(this.apiClient,h))}else{const c=Xae(this.apiClient,e);return u=Ge("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>NS(this.apiClient,h))}}async delete(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Kie(this.apiClient,e);return u=Ge("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(()=>{const h=zoe(),m=new nR;return Object.assign(m,h),m})}else{const c=Zae(this.apiClient,e);return u=Ge("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=voe(),m=new nR;return Object.assign(m,h),m})}}async countTokens(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Wie(this.apiClient,e);return u=Ge("{model}:countTokens",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Goe(this.apiClient,h),y=new rR;return Object.assign(y,m),y})}else{const c=Qae(this.apiClient,e);return u=Ge("{model}:countTokens",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=yoe(this.apiClient,h),y=new rR;return Object.assign(y,m),y})}}async computeTokens(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Xie(this.apiClient,e);return i=Ge("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const c=Hoe(this.apiClient,d),h=new Gee;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Qie(this.apiClient,e);return u=Ge("{model}:predictLongRunning",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Xoe(this.apiClient,h))}else{const c=nie(this.apiClient,e);return u=Ge("{model}:predictLongRunning",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Soe(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sse(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function wse(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Tse(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["operationName"],r);const a=g(e,["resourceName"]);a!=null&&v(n,["_url","resourceName"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],i),n}function Ase(t,e){const n={},r=g(e,["video","uri"]);r!=null&&v(n,["uri"],r);const a=g(e,["video","encodedVideo"]);a!=null&&v(n,["videoBytes"],ai(t,a));const i=g(e,["encoding"]);return i!=null&&v(n,["mimeType"],i),n}function Ese(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Ase(t,r)),n}function Cse(t,e){const n={},r=g(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Ese(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function kse(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response","generateVideoResponse"]);return u!=null&&v(n,["response"],Cse(t,u)),n}function Ose(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["uri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["videoBytes"],ai(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Mse(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Ose(t,r)),n}function Dse(t,e){const n={},r=g(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Mse(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function kR(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],Dse(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nse extends Ql{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let i;return r&&"httpOptions"in r&&(i=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:i}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=wse(this.apiClient,e);return u=Ge("{operationName}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>kR(this.apiClient,h))}else{const c=Sse(this.apiClient,e);return u=Ge("{operationName}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>kse(this.apiClient,h))}}async fetchPredictVideosOperationInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Tse(this.apiClient,e);return i=Ge("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>kR(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pse(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function X$(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Pse(t,r)),n}function Rse(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],X$(t,a)),n}function Ise(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Rse(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function jse(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],X$(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],Ise(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function $se(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Lse(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Bse(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function qse(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],$se(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Lse(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Bse(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Use(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>qse(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Fse(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function Vse(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function zse(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Vse(t,r)),n}function Gse(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Hse(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Gse(t,r)),n}function Kse(){return{}}function Yse(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>Fse(t,c))),v(n,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],zse(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],Hse(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],Kse());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function Wse(t,e){const n={},r=g(e,["handle"]);if(r!=null&&v(n,["handle"],r),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function OR(){return{}}function Xse(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function Zse(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],Xse(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function Jse(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function Qse(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],Jse(t,a)),n}function ele(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function tle(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const d=g(e,["topK"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","topK"],d);const c=g(e,["maxOutputTokens"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","maxOutputTokens"],c);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const m=g(e,["seed"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","seed"],m);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],jse(t,Jw(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],Use(t,Kn(t,S)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let k=Od(t,A);Array.isArray(k)&&(k=k.map(P=>Yse(t,kd(t,P)))),v(n,["setup","tools"],k)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],Wse(t,T));const O=g(e,["inputAudioTranscription"]);n!==void 0&&O!=null&&v(n,["setup","inputAudioTranscription"],OR());const M=g(e,["outputAudioTranscription"]);n!==void 0&&M!=null&&v(n,["setup","outputAudioTranscription"],OR());const E=g(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&v(n,["setup","realtimeInputConfig"],Zse(t,E));const D=g(e,["contextWindowCompression"]);n!==void 0&&D!=null&&v(n,["setup","contextWindowCompression"],Qse(t,D));const C=g(e,["proactivity"]);return n!==void 0&&C!=null&&v(n,["setup","proactivity"],ele(t,C)),r}function nle(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],tle(t,a,n)),n}function rle(t,e,n){const r={},a=g(e,["expireTime"]);n!==void 0&&a!=null&&v(n,["expireTime"],a);const i=g(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&v(n,["newSessionExpireTime"],i);const s=g(e,["uses"]);n!==void 0&&s!=null&&v(n,["uses"],s);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],nle(t,u));const d=g(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&v(n,["fieldMask"],d),r}function ale(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],rle(t,r,n)),n}function ile(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["name"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ole(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(i=>`${n}.${i}`);e.push(...a)}else e.push(n)}return e.join(",")}function sle(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(n){const i=ole(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];a.length>0&&(u=a.map(c=>s.includes(c)?`generationConfig.${c}`:c));const d=[];i&&d.push(i),u.length>0&&d.push(...u),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class lle extends Ql{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=ale(this.apiClient,e);i=Ge("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const d=sle(u,e.config);return a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>ile(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ule(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function cle(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);return n!==void 0&&s!=null&&v(n,["_query","filter"],s),r}function dle(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],cle(t,r,n)),n}function fle(t,e){const n={},r=g(e,["textInput"]);r!=null&&v(n,["textInput"],r);const a=g(e,["output"]);return a!=null&&v(n,["output"],a),n}function hle(t,e){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>fle(t,i))),v(n,["examples","examples"],a)}return n}function mle(t,e,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=g(e,["tunedModelDisplayName"]);if(n!==void 0&&a!=null&&v(n,["displayName"],a),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=g(e,["epochCount"]);n!==void 0&&i!=null&&v(n,["tuningTask","hyperparameters","epochCount"],i);const s=g(e,["learningRateMultiplier"]);if(s!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);n!==void 0&&u!=null&&v(n,["tuningTask","hyperparameters","batchSize"],u);const d=g(e,["learningRate"]);return n!==void 0&&d!=null&&v(n,["tuningTask","hyperparameters","learningRate"],d),r}function ple(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["trainingDataset"]);a!=null&&v(n,["tuningTask","trainingData"],hle(t,a));const i=g(e,["config"]);return i!=null&&v(n,["config"],mle(t,i,n)),n}function gle(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function vle(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);return n!==void 0&&s!=null&&v(n,["_query","filter"],s),r}function yle(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],vle(t,r,n)),n}function ble(t,e,n){const r={},a=g(e,["gcsUri"]);if(n!==void 0&&a!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],a),g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function xle(t,e){const n={},r=g(e,["gcsUri"]);return r!=null&&v(n,["validationDatasetUri"],r),n}function _le(t,e,n){const r={},a=g(e,["validationDataset"]);n!==void 0&&a!=null&&v(n,["supervisedTuningSpec"],xle(t,a));const i=g(e,["tunedModelDisplayName"]);n!==void 0&&i!=null&&v(n,["tunedModelDisplayName"],i);const s=g(e,["description"]);n!==void 0&&s!=null&&v(n,["description"],s);const u=g(e,["epochCount"]);n!==void 0&&u!=null&&v(n,["supervisedTuningSpec","hyperParameters","epochCount"],u);const d=g(e,["learningRateMultiplier"]);n!==void 0&&d!=null&&v(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const c=g(e,["exportLastCheckpointOnly"]);n!==void 0&&c!=null&&v(n,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const h=g(e,["adapterSize"]);if(n!==void 0&&h!=null&&v(n,["supervisedTuningSpec","hyperParameters","adapterSize"],h),g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function Sle(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["trainingDataset"]);a!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],ble(t,a,n));const i=g(e,["config"]);return i!=null&&v(n,["config"],_le(t,i,n)),n}function wle(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["model"],r);const a=g(e,["name"]);return a!=null&&v(n,["endpoint"],a),n}function Z$(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["state"]);a!=null&&v(n,["state"],P$(t,a));const i=g(e,["createTime"]);i!=null&&v(n,["createTime"],i);const s=g(e,["tuningTask","startTime"]);s!=null&&v(n,["startTime"],s);const u=g(e,["tuningTask","completeTime"]);u!=null&&v(n,["endTime"],u);const d=g(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const c=g(e,["description"]);c!=null&&v(n,["description"],c);const h=g(e,["baseModel"]);h!=null&&v(n,["baseModel"],h);const m=g(e,["_self"]);m!=null&&v(n,["tunedModel"],wle(t,m));const y=g(e,["distillationSpec"]);y!=null&&v(n,["distillationSpec"],y);const _=g(e,["experiment"]);_!=null&&v(n,["experiment"],_);const S=g(e,["labels"]);S!=null&&v(n,["labels"],S);const A=g(e,["pipelineJob"]);A!=null&&v(n,["pipelineJob"],A);const T=g(e,["serviceAccount"]);T!=null&&v(n,["serviceAccount"],T);const O=g(e,["tunedModelDisplayName"]);return O!=null&&v(n,["tunedModelDisplayName"],O),n}function Tle(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["tunedModels"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>Z$(t,s))),v(n,["tuningJobs"],i)}return n}function Ale(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);return s!=null&&v(n,["error"],s),n}function Ele(t,e){const n={},r=g(e,["checkpointId"]);r!=null&&v(n,["checkpointId"],r);const a=g(e,["epoch"]);a!=null&&v(n,["epoch"],a);const i=g(e,["step"]);i!=null&&v(n,["step"],i);const s=g(e,["endpoint"]);return s!=null&&v(n,["endpoint"],s),n}function Cle(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],r);const a=g(e,["endpoint"]);a!=null&&v(n,["endpoint"],a);const i=g(e,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Ele(t,u))),v(n,["checkpoints"],s)}return n}function jS(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["state"]);a!=null&&v(n,["state"],P$(t,a));const i=g(e,["createTime"]);i!=null&&v(n,["createTime"],i);const s=g(e,["startTime"]);s!=null&&v(n,["startTime"],s);const u=g(e,["endTime"]);u!=null&&v(n,["endTime"],u);const d=g(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const c=g(e,["error"]);c!=null&&v(n,["error"],c);const h=g(e,["description"]);h!=null&&v(n,["description"],h);const m=g(e,["baseModel"]);m!=null&&v(n,["baseModel"],m);const y=g(e,["tunedModel"]);y!=null&&v(n,["tunedModel"],Cle(t,y));const _=g(e,["supervisedTuningSpec"]);_!=null&&v(n,["supervisedTuningSpec"],_);const S=g(e,["tuningDataStats"]);S!=null&&v(n,["tuningDataStats"],S);const A=g(e,["encryptionSpec"]);A!=null&&v(n,["encryptionSpec"],A);const T=g(e,["partnerModelTuningSpec"]);T!=null&&v(n,["partnerModelTuningSpec"],T);const O=g(e,["distillationSpec"]);O!=null&&v(n,["distillationSpec"],O);const M=g(e,["experiment"]);M!=null&&v(n,["experiment"],M);const E=g(e,["labels"]);E!=null&&v(n,["labels"],E);const D=g(e,["pipelineJob"]);D!=null&&v(n,["pipelineJob"],D);const C=g(e,["serviceAccount"]);C!=null&&v(n,["serviceAccount"],C);const k=g(e,["tunedModelDisplayName"]);return k!=null&&v(n,["tunedModelDisplayName"],k),n}function kle(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["tuningJobs"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>jS(t,s))),v(n,["tuningJobs"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ole extends Ql{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new yp(Vl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let a="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?a=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(a=r.name.split("/operations/")[0]),{name:a,state:CS.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=gle(this.apiClient,e);return u=Ge("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>jS(this.apiClient,h))}else{const c=ule(this.apiClient,e);return u=Ge("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Z$(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=yle(this.apiClient,e);return u=Ge("tuningJobs",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=kle(this.apiClient,h),y=new aR;return Object.assign(y,m),y})}else{const c=dle(this.apiClient,e);return u=Ge("tunedModels",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Tle(this.apiClient,h),y=new aR;return Object.assign(y,m),y})}}async tuneInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Sle(this.apiClient,e);return i=Ge("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>jS(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ple(this.apiClient,e);return i=Ge("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Ale(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mle{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Dle=1024*1024*8,Nle=3,Ple=1e3,Rle=2,Ux="x-goog-upload-status";async function Ile(t,e,n){var r,a,i;let s=0,u=0,d=new kS(new Response),c="upload";for(s=t.size;u<s;){const m=Math.min(Dle,s-u),y=t.slice(u,u+m);u+m>=s&&(c+=", finalize");let _=0,S=Ple;for(;_<Nle&&(d=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[Ux]));)_++,await $le(S),S=S*Rle;if(u+=m,((a=d==null?void 0:d.headers)===null||a===void 0?void 0:a[Ux])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(d==null?void 0:d.json());if(((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i[Ux])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function jle(t){return{size:t.size,type:t.type}}function $le(t){return new Promise(e=>setTimeout(e,t))}class Lle{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ile(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jle(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ble{create(e,n,r){return new qle(e,n,r)}}class qle{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MR="x-goog-api-key";class Ule{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(MR)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(MR,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fle="gl-node/";class Vle{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Fee(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new Ule(this.apiKey);this.apiClient=new ase({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Fle+"web",uploader:new Lle,downloader:new Mle}),this.models=new _se(this.apiClient),this.live=new gse(this.apiClient,a,new Ble),this.chats=new pne(this.models,this.apiClient),this.caches=new fne(this.apiClient),this.files=new kne(this.apiClient),this.operations=new Nse(this.apiClient),this.authTokens=new lle(this.apiClient),this.tunings=new Ole(this.apiClient)}}const zle="PLACEHOLDER_API_KEY";let Dn=null;try{Dn=new Vle({apiKey:zle})}catch(t){console.error("Failed to initialize GoogleGenAI:",t),Dn=null}const va=()=>!!Dn,Gle=t=>`Voc  um assistente financeiro amigvel e prestativo para um aplicativo de finanas pessoais.
Data Atual: ${t.currentDate}.
Renda Mensal Informada: ${t.monthlyIncome?`${ye(t.monthlyIncome)} BRL`:"No informada"}.

Resumo Financeiro do Usurio:
Contas:
${t.accounts.map(n=>{const r=t.accountBalances.find(a=>a.accountId===n.id);return`- ${n.name}: Saldo ${r?ye(r.balance):"N/A"}`}).join(`
`)}

Caixinhas de Dinheiro (Metas):
${t.moneyBoxes&&t.moneyBoxes.length>0?t.moneyBoxes.map(n=>{var a;const r=(a=t.moneyBoxBalances)==null?void 0:a.find(i=>i.moneyBoxId===n.id);return`- ${n.name}: ${ye(r?r.balance:0)} ${n.goal_amount?`(Meta: ${ye(n.goal_amount)})`:""}`}).join(`
`):"Nenhuma caixinha configurada."}

Oramentos (Despesas):
${t.categories.filter(n=>n.type==="EXPENSE"&&n.monthly_budget).map(n=>`- ${n.name}: Oramento ${ye(n.monthly_budget||0)}`).join(`
`)||"Nenhum oramento de despesa configurado."}

Compras Futuras Planejadas:
${t.futurePurchases&&t.futurePurchases.length>0?t.futurePurchases.map(n=>`- ${n.name} (Custo: ${ye(n.estimated_cost)}, Prioridade: ${n.priority}, Status: ${n.status})`).join(`
`):"Nenhuma compra futura planejada."}


Com base neste resumo, fornea uma dica financeira principal, observao ou sugesto para o usurio hoje.
Seja conciso (1-2 frases), prtico e encorajador. No faa perguntas. No use markdown.
Exemplos de tom: "Lembre-se de verificar seus gastos com Lazer este ms!" ou "Voc est indo bem em sua meta de Viagem!".
Dica:`,Hle=(t,e,n,r)=>{var d;const a=e.accountBalances.find(c=>c.accountId===t.account_id),i=a?ye(a.balance):"N/A";let s=`Voc  um assistente financeiro. O usurio acabou de registrar uma ${t.type==="INCOME"?"receita":t.type==="EXPENSE"?"despesa":"transferncia"}.
Detalhes: Valor ${ye(t.amount)} ${t.description?`descrita como "${t.description}"`:""} na conta "${r||"N/A"}".
${n?`Categoria: "${n}".`:""}
Saldo atual da conta "${r||"N/A"}": ${i}.
`;if(t.type==="EXPENSE"&&n){const c=e.categories.find(h=>h.name===n&&h.type==="EXPENSE");c!=null&&c.monthly_budget&&(s+=`Oramento para "${n}": ${ye(c.monthly_budget)}. `)}const u=e.moneyBoxes&&e.moneyBoxes.find(c=>t.description&&c.name.toLowerCase().includes(t.description.toLowerCase().substring(0,5))||n&&c.name.toLowerCase().includes(n.toLowerCase().substring(0,5)));if(u){const c=(d=e.moneyBoxBalances)==null?void 0:d.find(h=>h.moneyBoxId===u.id);s+=`Lembre-se da sua caixinha "${u.name}" (Saldo: ${ye(c?c.balance:0)}${u.goal_amount?`, Meta: ${ye(u.goal_amount)}`:""}). `}return s+=`Fornea um breve comentrio ou sugesto (mx 1 frase). No use markdown. No faa perguntas.
Exemplo: "timo! Continue assim." ou "Fique de olho nos gastos com Comida." ou "Considere guardar uma parte na sua caixinha Viagem."
Comentrio:`,s},Kle=(t,e,n,r)=>{var i;return`Voc  um assistente financeiro. O usurio tem uma renda mensal de ${ye(e)}.
Ele est pedindo uma sugesto de oramento para a categoria de despesa: "${t}".

Oramentos de despesa j definidos pelo usurio:
${n.length>0?n.map(s=>`- ${s.name}: ${ye(s.budget||0)}`).join(`
`):"Nenhum outro oramento definido."}

Contexto financeiro adicional:
Saldo total em contas: ${ye(r.accountBalances.reduce((s,u)=>s+u.balance,0))}
Total em caixinhas (metas): ${ye(((i=r.moneyBoxBalances)==null?void 0:i.reduce((s,u)=>s+u.balance,0))||0)}

Baseado na renda mensal, nos oramentos existentes e nos princpios de finanas pessoais (como a regra 50/30/20, mas de forma flexvel e adaptada  realidade brasileira), sugira um valor de oramento mensal para a categoria "${t}".
Responda APENAS com um objeto JSON contendo a chave "suggestedBudget" e o valor numrico sugerido. No adicione nenhum outro texto, explicao ou markdown.
Exemplo de resposta: {"suggestedBudget": 350}
Sugesto:`},Yle=(t,e)=>{var i,s;const n=e.accountBalances.reduce((u,d)=>u+d.balance,0),r=((i=e.moneyBoxBalances)==null?void 0:i.reduce((u,d)=>u+d.balance,0))||0;return`Voc  um assistente financeiro. O usurio deseja comprar "${t.name}", que custa aproximadamente ${ye(t.estimated_cost)}. A prioridade  ${t.priority}.
Data Atual: ${e.currentDate}.
Renda Mensal: ${e.monthlyIncome?ye(e.monthlyIncome):"No informada"}.
Saldo Total em Contas: ${ye(n)}.
Total Guardado em Caixinhas/Metas: ${ye(r)}.

Oramentos de Despesa Mensais:
${e.categories.filter(u=>u.type===xe.EXPENSE&&u.monthly_budget).map(u=>`- ${u.name}: ${ye(u.monthly_budget||0)}`).join(`
`)||"Nenhum."}

Outras Compras Futuras Planejadas:
${((s=e.futurePurchases)==null?void 0:s.filter(u=>u.id!==t.id).map(u=>`- ${u.name} (Custo: ${ye(u.estimated_cost)}, Prioridade: ${u.priority})`).join(`
`))||"Nenhuma outra."}

Analise a viabilidade desta compra ("${t.name}").
Considere se o usurio tem fundos suficientes, se a compra impactaria significativamente seus oramentos ou outras metas.
Se a renda no for informada, baseie-se nos saldos e economias.
Fornea uma anlise concisa (2-3 frases) e sugira um status. Status possveis: ACHIEVABLE_SOON (se vivel em breve ou agora), NOT_RECOMMENDED_NOW (se deve adiar), PLANNED (manter como planejado se a anlise no for conclusiva ou se depender de mais economia).

Responda APENAS com um objeto JSON contendo as chaves "analysisText" (string com sua anlise) e "recommendedStatus" (string com um dos status: 'ACHIEVABLE_SOON', 'NOT_RECOMMENDED_NOW', 'PLANNED').
No adicione nenhum outro texto, explicao ou markdown.
Exemplo de resposta: {"analysisText": "Comprar ${t.name} parece razovel agora, considerando seus saldos. Lembre-se de ajustar seu oramento de Lazer.", "recommendedStatus": "ACHIEVABLE_SOON"}
Anlise:`},Wle=(t,e)=>`Voc  um especialista em finanas e cartes de crdito.
O usurio quer saber o melhor dia para fazer uma compra com o carto de crdito para maximizar o perodo sem juros e ter o maior prazo para pagar.

Dados do Carto de Crdito:
- Dia de Fechamento da Fatura: ${t.closing_day} (Ex: 20, significa dia 20 de cada ms)
- Dia de Vencimento da Fatura: ${t.due_day} (Ex: 05, significa dia 05 de cada ms, geralmente no ms seguinte ao fechamento)

Data Atual: ${e} (Formato: YYYY-MM-DD)

Instrues:
1.  Identifique o prximo ciclo de fatura. O melhor dia para comprar  geralmente o dia imediatamente aps o fechamento da fatura atual (se a data atual for ANTES ou NO DIA do fechamento do ms corrente) ou o dia aps o fechamento da fatura do prximo ms (se a data atual for APS o fechamento do ms corrente).
2.  Determine a data exata (DD de MMMM de YYYY) para este "melhor dia para comprar".
3.  Determine a data exata (DD de MMMM de YYYY) em que o pagamento da fatura (contendo essa compra) seria devido.
4.  Fornea uma explicao clara e concisa (1-2 frases) do porqu esta data  vantajosa, mencionando o prazo estendido.

Responda APENAS com um objeto JSON com as seguintes chaves:
- "bestPurchaseDay": "string" (Data formatada como "DD de MMMM de YYYY", ex: "21 de Julho de 2024")
- "paymentDueDate": "string" (Data formatada como "DD de MMMM de YYYY", ex: "05 de Setembro de 2024")
- "explanation": "string" (Explicao concisa)
- "error": "string" (Opcional: preencha apenas se no puder calcular ou se os dados forem invlidos/inconsistentes)

Exemplo de Clculo (Data Atual: 2024-07-18, Fechamento: dia 20, Vencimento: dia 05):
- A fatura atual fecha em 20 de Julho de 2024.
- O melhor dia para comprar  21 de Julho de 2024.
- Essa compra entraria na fatura que fecha em 20 de Agosto de 2024.
- O pagamento dessa fatura seria em 05 de Setembro de 2024.

Exemplo de Clculo (Data Atual: 2024-07-25, Fechamento: dia 20, Vencimento: dia 05):
- A fatura de Julho j fechou (em 20 de Julho).
- O prximo fechamento  20 de Agosto.
- O melhor dia para comprar  21 de Agosto de 2024.
- Essa compra entraria na fatura que fecha em 20 de Setembro de 2024.
- O pagamento dessa fatura seria em 05 de Outubro de 2024.`,Xle=(t,e,n,r,a)=>`Voc  um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Ms: ${ye(e)}
${r?`Oramento Mensal para esta Categoria: ${ye(r)}.`:"Oramento no definido para esta categoria."}
${r&&a?`Hoje  dia ${a.dayOfMonth} de ${a.daysInMonth} do ms. Proporcionalmente, o gasto esperado at agora seria em torno de ${ye(n)}.`:""}

Com base no gasto atual, ele est significativamente acima do esperado para esta altura do ms ou do oramento proporcional?
Se sim, fornea um alerta CURTO e DIRETO (1-2 frases). Ex: "Ateno: Seus gastos com ${t} (${ye(e)}) j ultrapassaram o esperado para esta data (${ye(n)})." ou "Gastos com ${t} esto X% acima do esperado para hoje."
Se no houver anomalia clara, ou se o gasto estiver dentro do esperado/oramento, responda APENAS com a palavra "NORMAL".
No faa perguntas. No use markdown.
Alerta:`,Zle=(t,e,n,r,a,i)=>`Voc  um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Ms: ${ye(e)}
Oramento Mensal para esta Categoria: ${ye(n)}
${i?`Hoje  dia ${i.dayOfMonth} de ${i.daysInMonth} do ms. Faltam ${r} dias.`:""}
Projeo de Gasto Total no Ms (mantendo o ritmo atual): ${ye(a)}

Com base no ritmo atual de gastos, h uma projeo de que o oramento para "${t}" ser estourado este ms?
Se sim, fornea um alerta CURTO e DIRETO (1-2 frases), mencionando o possvel valor do estouro. Ex: "Alerta: Mantendo este ritmo, seus gastos com ${t} podem exceder o oramento em cerca de ${ye(a-n)} este ms."
Se no houver projeo clara de estouro, ou se a projeo estiver dentro do oramento, responda APENAS com a palavra "NORMAL".
No faa perguntas. No use markdown.
Alerta:`,Jle=(t,e,n)=>{const r=new Date(n.currentDate);r.setDate(r.getDate()-90);const a=t.filter(i=>i.date>=vt(r)&&i.type===xe.EXPENSE);return`Voc  um assistente financeiro que ajuda a identificar despesas recorrentes no cadastradas.
  Analise o histrico de despesas do usurio dos ltimos 90 dias (data atual: ${n.currentDate}).
  Procure por pagamentos que se repetem com valores e descries similares em intervalos regulares (ex: mensais, semanais).
  
  Despesas Recorrentes j cadastradas (NO SUGIRA ESTAS):
  ${e.length>0?e.map(i=>`- "${i.description}" (${ye(i.amount)}, ${i.frequency})`).join(`
`):"Nenhuma."}

  Histrico de Transaes de Despesa (ltimos 90 dias):
  ${a.map(i=>{var s;return`- Data: ${i.date}, Descrio: "${i.description||((s=n.categories.find(u=>u.id===i.category_id))==null?void 0:s.name)||"Despesa"}", Valor: ${ye(i.amount)}`}).slice(0,30).join(`
`)} 
  ${a.length>30?`
... (e mais ${a.length-30} transaes)`:""}

  Se encontrar UMA despesa que parece ser recorrente mas NO EST na lista de j cadastradas, sugira registr-la.
  Seja especfico: "Notei pagamentos para '{Nome do Servio/Descrio}' de aproximadamente {Valor} em datas como {Data1}, {Data2}. Gostaria de cadastrar como despesa recorrente?"
  Se encontrar mltiplas, sugira a mais bvia ou mais frequente.
  Se no encontrar nenhuma candidata clara, responda APENAS com a palavra "NORMAL".
  No use markdown. No faa perguntas diretas no final, apenas a sugesto como no exemplo.
  Sugesto:`},Qle=(t,e,n,r)=>{const a=new Date(r.currentDate);a.setMonth(a.getMonth()-1);const i=t.filter(c=>c.type===xe.EXPENSE&&c.date>=vt(a));let s=`Voc  um coach financeiro que ajuda usurios a encontrar oportunidades de economia.
  Renda Mensal: ${r.monthlyIncome?ye(r.monthlyIncome):"No informada"}.
  Data Atual: ${r.currentDate}.

  Metas de Economia (Caixinhas):
  ${n.length>0?n.map(c=>`- ${c.name}${c.goal_amount?` (Meta: ${ye(c.goal_amount)})`:""}`).join(`
`):"Nenhuma meta de economia ativa."}

  Gastos do ltimo Ms (Top 5 categorias por frequncia, excluindo essenciais como aluguel, contas fixas de casa):
  `;const u={};i.forEach(c=>{var h;if(c.category_id){const m=((h=e.find(y=>y.id===c.category_id))==null?void 0:h.name)||"Outros";if(["Moradia","Aluguel","Condomnio","Impostos","Luz","gua","Gs","Internet Fixa","Sade","Educao"].includes(m))return;u[c.category_id]||(u[c.category_id]={total:0,count:0,name:m}),u[c.category_id].total+=c.amount,u[c.category_id].count++}});const d=Object.values(u).sort((c,h)=>h.count-c.count).slice(0,5);return s+=d.map(c=>`- ${c.name}: ${ye(c.total)} em ${c.count} transaes`).join(`
`)||"Nenhum gasto relevante encontrado.",s+=`

Identifique UMA categoria onde o usurio parece ter gastos pequenos e frequentes que, somados, so significativos (ex: cafs dirios, lanches, delivery, apps de transporte).
  Sugira uma pequena mudana de hbito que poderia gerar economia. Se houver metas (Caixinhas), tente vincular a economia a uma delas.
  Seja prtico e positivo. Ex: "Seus gastos com 'Delivery' somaram ${ye(150)} no ltimo ms. Que tal reduzir para uma vez por semana e direcionar ${ye(75)} para sua meta 'Viagem'?"
  Se no houver oportunidade clara ou dados suficientes, responda APENAS com a palavra "NORMAL".
  No use markdown. No faa perguntas.
  Sugesto:`,s},eue=(t,e,n,r)=>{const a=n.filter(i=>i.id!==t.id).slice(0,10).map(i=>ye(i.amount));return`Voc  um assistente financeiro que detecta transaes de valor incomum.
  O usurio registrou uma despesa:
  - Descrio: "${t.description||e}"
  - Categoria: "${e}"
  - Valor: ${ye(t.amount)}
  - Data: ${t.date}

  Valores de despesas recentes nesta categoria ("${e}"): ${a.length>0?a.join(", "):"Nenhuma outra recente."}
  
  O valor desta transao (${ye(t.amount)})  significativamente mais alto que o normal para esta categoria, baseado nas amostras?
  Se sim, fornea um alerta CURTO. Ex: "Alerta: O valor de ${ye(t.amount)} para ${e} parece mais alto que seus gastos usuais nesta categoria. Est correto?"
  Se o valor parecer normal ou no houver dados suficientes para comparar, responda APENAS com a palavra "NORMAL".
  No use markdown. No faa perguntas no final, apenas o alerta como no exemplo.
  Alerta:`},tue=(t,e)=>{var c,h;const n=new Date(t.currentDate);n.setDate(n.getDate()+e);const r=vt(n),a=(c=t.recurringTransactions)==null?void 0:c.filter(m=>m.next_due_date<=r).sort((m,y)=>new Date(m.next_due_date).getTime()-new Date(y.next_due_date).getTime()).map(m=>`- ${m.type===xe.INCOME?"Receita":"Despesa"}: ${m.description} (${ye(m.amount)}) em ${Yn(m.next_due_date)}`).join(`
`),i=new Date(t.currentDate);i.setMonth(i.getMonth()-1);const s=(h=t.transactions)==null?void 0:h.filter(m=>{var y;return m.type===xe.EXPENSE&&m.date>=vt(i)&&!((y=t.recurringTransactions)!=null&&y.some(_=>{var S;return _.description.toLowerCase().includes(((S=m.description)==null?void 0:S.toLowerCase())||"xxxx")}))}).reduce((m,y)=>{var S;const _=((S=t.categories.find(A=>A.id===y.category_id))==null?void 0:S.name)||"Outras Despesas";return m[_]=(m[_]||0)+y.amount,m},{}),u=s?Object.entries(s).map(([m,y])=>`- ${m}: aprox. ${ye(y)}/ms`).join(`
`):"Nenhum padro recente de gastos discricionrios encontrado.";let d="";if(t.simulatedTransactionData){const m=t.simulatedTransactionData;d=`
Considere tambm a seguinte transao SIMULADA para esta projeo:
- Tipo: ${m.type===xe.INCOME?"Receita":"Despesa"}
- Valor: ${ye(m.amount)}
- Data: ${Yn(m.date)}
- Descrio: ${m.description||(m.type===xe.INCOME?"Receita Simulada":"Despesa Simulada")}
Esta simulao NO est salva, use-a apenas para esta projeo.`}return`Voc  um assistente financeiro. Preveja o fluxo de caixa do usurio para os prximos ${e} dias.
Data Atual: ${t.currentDate}.
Projeo at: ${Yn(r)}.
Renda Mensal Informada: ${t.monthlyIncome?ye(t.monthlyIncome):"No informada (use apenas recorrncias e histrico)"}.
${d}

Saldos Atuais das Contas Principais:
${t.accounts.map(m=>{const y=t.accountBalances.find(_=>_.accountId===m.id);return`- ${m.name}: ${y?ye(y.balance):"N/A"}`}).join(`
`)}
Saldo Total Combinado: ${ye(t.accountBalances.reduce((m,y)=>m+y.balance,0))}

Transaes Recorrentes Programadas (Receitas e Despesas) no Perodo:
${a||"Nenhuma transao recorrente programada no perodo."}

Padro de Gastos Discricionrios Recentes (ltimo ms, no recorrentes):
${u}

Analise essas informaes e fornea uma projeo textual do fluxo de caixa.
Destaque:
1.  Um resumo geral (ex: "Seu saldo deve permanecer positivo", "Prev-se um aperto financeiro em meados de [Ms]").
2.  Principais entradas e sadas esperadas e suas datas.
3.  Qualquer data onde o saldo possa ficar perigosamente baixo ou negativo, se aplicvel.
Se uma simulao foi fornecida, mencione brevemente o impacto dela.
Seja conciso (3-5 frases). No use markdown. Responda apenas com a projeo. Se no puder projetar confiavelmente, diga "No foi possvel gerar uma projeo de fluxo de caixa detalhada com os dados atuais."
Projeo:`},nue=t=>{let e="",n="";switch(t){case"snowball":e="Bola de Neve (Snowball)",n="prioriza quitar as dvidas com os menores saldos primeiro, independentemente das taxas de juros, para obter vitrias rpidas e motivao.";break;case"avalanche":e="Avalanche",n="prioriza quitar as dvidas com as maiores taxas de juros primeiro, o que geralmente economiza mais dinheiro em juros a longo prazo.";break;case"minimums":e="Pagamentos Mnimos",n="consiste em pagar apenas o valor mnimo exigido em todas as dvidas. Geralmente  a forma mais lenta e cara de quitar dvidas devido ao acmulo de juros.";break;default:return"Estratgia desconhecida."}return`Voc  um educador financeiro. Explique a estratgia de quitao de dvidas "${e}" em termos simples.
O conceito principal desta estratgia  que ${n}.
Fornea uma breve explicao (2-3 frases) sobre como funciona, suas principais vantagens e desvantagens.
No use markdown. Responda apenas com a explicao.
Explicao:`},rue=(t,e,n)=>{var i,s,u;const r=t.strategy==="snowball"?"Bola de Neve":t.strategy==="avalanche"?"Avalanche":"Pagamentos Mnimos";let a=e.map(d=>`- ${d.name}: Saldo ${ye(d.current_balance)}, Juros ${d.interest_rate_annual}% a.a.`).join(`
`);return`Voc  um consultor financeiro. O usurio calculou um plano de quitao de dvidas.
Estratgia Utilizada: ${r}.
Tempo Estimado para Quitar Todas as Dvidas: ${t.monthsToPayoff} meses (${(t.monthsToPayoff/12).toFixed(1)} anos).
Total de Juros Pagos Estimado: ${ye(t.totalInterestPaid)}.
Total Principal Pago Estimado: ${ye(t.totalPrincipalPaid)}.
Pagamento Extra Mensal Adicionado aos Mnimos: ${ye(((s=(i=t.payoffDetails[0])==null?void 0:i.monthlyPayments[0])==null?void 0:s.payment)-((u=e.find(d=>{var c;return d.id===((c=t.payoffDetails[0])==null?void 0:c.debtId)}))==null?void 0:u.minimum_payment)||0)} (se houver um extra aplicado  primeira dvida do plano).

Dvidas Includas no Plano:
${a}

Renda Mensal Informada: ${n.monthlyIncome?ye(n.monthlyIncome):"No informada"}.
Saldo Total em Contas: ${ye(n.accountBalances.reduce((d,c)=>d+c.balance,0))}

Com base no resultado da projeo e no contexto financeiro do usurio, fornea um resumo e insights (2-4 frases).
Comente se o plano parece realista, se o tempo de quitao  bom, e talvez uma sugesto baseada no impacto dos juros ou no pagamento extra.
Exemplo de tom: "Este plano ${r} parece eficaz, quitando suas dvidas em ${t.monthsToPayoff} meses. O total de juros de ${ye(t.totalInterestPaid)}  significativo; considere aumentar o pagamento extra, se possvel, para acelerar."
No use markdown. Responda apenas com o resumo.
Resumo:`},to=async(t,e,n)=>{var r;if(!Dn||!va())return console.warn(`Gemini API not available for ${e}.`),null;try{const i=(r=(await Dn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:t})).text)==null?void 0:r.trim();return i&&i.toUpperCase()!=="NORMAL"?i:null}catch(a){return console.error(`Error fetching ${e} from Gemini:`,a),null}},aue=async t=>{var n;if(!Dn||!va())return console.warn("Gemini API not available for fetchGeneralAdvice."),{timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) no configurada.",is_read:!1};const e=Gle(t);try{const a=(n=(await Dn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:e})).text)==null?void 0:n.trim();return a?{timestamp:new Date().toISOString(),type:"general_advice",content:a,is_read:!1}:{timestamp:new Date().toISOString(),type:"error_message",content:"No foi possvel obter um conselho geral no momento (resposta vazia).",is_read:!1}}catch(r){console.error("Error fetching general advice from Gemini:",r);let a="Desculpe, no consegui buscar um conselho geral no momento.";return r instanceof Error&&(a+=` Detalhe: ${r.message}`),{timestamp:new Date().toISOString(),type:"error_message",content:a,is_read:!1}}},iue=async(t,e,n,r)=>{var i;if(!Dn||!va())return console.warn("Gemini API not available for fetchCommentForTransaction."),{timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) no configurada para comentar transao.",related_transaction_id:t.id,is_read:!1};const a=Hle(t,e,n,r);try{const u=(i=(await Dn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:a})).text)==null?void 0:i.trim();return u?{timestamp:new Date().toISOString(),type:"transaction_comment",content:u,related_transaction_id:t.id,is_read:!1}:{timestamp:new Date().toISOString(),type:"error_message",content:"No foi possvel gerar um comentrio para esta transao (resposta vazia).",related_transaction_id:t.id,is_read:!1}}catch(s){console.error("Error fetching transaction comment from Gemini:",s);let u="Desculpe, no consegui gerar um comentrio para esta transao.";return s instanceof Error&&(u+=` Detalhe: ${s.message}`),{timestamp:new Date().toISOString(),type:"error_message",content:u,related_transaction_id:t.id,is_read:!1}}},oue=async(t,e,n,r)=>{var i;if(!Dn||!va())return console.warn("Gemini API not available for fetchBudgetSuggestion."),{timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) no configurada para sugerir oramentos.",is_read:!1};if(!e||e<=0)return{timestamp:new Date().toISOString(),type:"error_message",content:"Por favor, informe sua renda mensal na tela do AI Coach para receber sugestes de oramento.",is_read:!1};const a=Kle(t,e,n,r);try{let u=((i=(await Dn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:a,config:{responseMimeType:"application/json"}})).text)==null?void 0:i.trim())||"";const d=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,c=u.match(d);c&&c[2]&&(u=c[2].trim());const h=JSON.parse(u);return h&&typeof h.suggestedBudget=="number"&&h.suggestedBudget>=0?{suggestedBudget:h.suggestedBudget}:{timestamp:new Date().toISOString(),type:"error_message",content:"No foi possvel obter uma sugesto de oramento vlida no momento (resposta invlida da IA).",is_read:!1}}catch(s){console.error("Error fetching budget suggestion from Gemini:",s);let u="Desculpe, no consegui buscar uma sugesto de oramento.";return s instanceof Error&&(u+=` Detalhe: ${s.message}`),{timestamp:new Date().toISOString(),type:"error_message",content:u,is_read:!1}}},sue=async(t,e)=>{var r;if(!Dn||!va())return{timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key no configurada para analisar compra futura.",related_future_purchase_id:t.id,is_read:!1};const n=Yle(t,e);try{let i=((r=(await Dn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const s=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,u=i.match(s);u&&u[2]&&(i=u[2].trim());const d=JSON.parse(i);return d&&typeof d.analysisText=="string"&&typeof d.recommendedStatus=="string"&&["ACHIEVABLE_SOON","NOT_RECOMMENDED_NOW","PLANNED"].includes(d.recommendedStatus)?{analysisText:d.analysisText,recommendedStatus:d.recommendedStatus}:{timestamp:new Date().toISOString(),type:"error_message",content:"No foi possvel obter uma anlise vlida da IA para esta compra (resposta invlida).",related_future_purchase_id:t.id,is_read:!1}}catch(a){console.error("Error fetching future purchase analysis from Gemini:",a);let i="Desculpe, no consegui analisar esta compra futura no momento.";return a instanceof Error&&(i+=` Detalhe: ${a.message}`),{timestamp:new Date().toISOString(),type:"error_message",content:i,related_future_purchase_id:t.id,is_read:!1}}},lue=async(t,e)=>{var r;if(!Dn||!va())return console.warn("Gemini API not available for fetchBestPurchaseDayAdvice."),{bestPurchaseDay:"",paymentDueDate:"",explanation:"AI Coach desativado ou API Key no configurada.",error:"AI Coach desativado ou API Key no configurada."};const n=Wle(t,e);try{let i=((r=(await Dn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const s=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,u=i.match(s);u&&u[2]&&(i=u[2].trim());const d=JSON.parse(i);return d.error?(console.warn("Gemini returned an error for best purchase day:",d.error),{...d,explanation:d.error}):d.bestPurchaseDay&&d.paymentDueDate&&d.explanation?d:{bestPurchaseDay:"",paymentDueDate:"",explanation:"No foi possvel determinar o melhor dia para compra (resposta invlida da IA).",error:"Resposta invlida da IA."}}catch(a){console.error("Error fetching best purchase day advice from Gemini:",a);let i="Desculpe, no consegui determinar o melhor dia para compra no momento.";return a instanceof Error&&(i+=` Detalhe: ${a.message}`),{bestPurchaseDay:"",paymentDueDate:"",explanation:i,error:i}}},uue=async(t,e,n,r,a,i)=>{const s=Xle(t,e,n,r,a),u=await to(s,"spending_anomaly_category");return u?{timestamp:new Date().toISOString(),type:"spending_anomaly_category",content:u,related_category_id:i,is_read:!1}:null},cue=async(t,e,n,r,a,i,s)=>{const u=Zle(t,e,n,r,a,i),d=await to(u,"budget_overspend_projection");return d?{timestamp:new Date().toISOString(),type:"budget_overspend_projection",content:d,related_category_id:s,is_read:!1}:null},due=async(t,e,n)=>{const r=Jle(t,e.map(i=>({description:i.description,amount:i.amount,type:i.type,frequency:i.frequency,category_id:i.category_id})),n),a=await to(r,"recurring_payment_candidate");return a?{timestamp:new Date().toISOString(),type:"recurring_payment_candidate",content:a,is_read:!1}:null},fue=async(t,e,n,r)=>{const a=Qle(t,e.map(s=>({id:s.id,name:s.name,type:s.type})),n.map(s=>({id:s.id,name:s.name,goal_amount:s.goal_amount})),r),i=await to(a,"saving_opportunity_suggestion");return i?{timestamp:new Date().toISOString(),type:"saving_opportunity_suggestion",content:i,is_read:!1}:null},hue=async(t,e,n,r)=>{const a=eue(t,e,n),i=await to(a,"unusual_transaction_value",t.category_id);return i?{timestamp:new Date().toISOString(),type:"unusual_transaction_value",content:i,related_transaction_id:t.id,related_category_id:t.category_id,is_read:!1}:null},mue=async(t,e)=>{const n=tue(t,e),r=await to(n,"cash_flow_projection");return r?{timestamp:new Date().toISOString(),type:"cash_flow_projection",content:r,is_read:!1}:{timestamp:new Date().toISOString(),type:"error_message",content:"No foi possvel gerar uma projeo de fluxo de caixa com os dados atuais.",is_read:!1}},pue=async t=>{if(!Dn||!va())return{timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key no configurada para explicar estratgia de dvida.",related_debt_strategy:t,is_read:!1};const e=nue(t),n=await to(e,"debt_strategy_explanation");return n?{timestamp:new Date().toISOString(),type:"debt_strategy_explanation",content:n,related_debt_strategy:t,is_read:!1}:{timestamp:new Date().toISOString(),type:"error_message",content:`No foi possvel obter uma explicao para a estratgia ${t} no momento.`,related_debt_strategy:t,is_read:!1}},gue=async(t,e,n)=>{if(!Dn||!va())return{timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key no configurada para resumir projeo de dvida.",is_read:!1};const r={...n},a=rue(t,e,r),i=await to(a,"debt_projection_summary");return i?{timestamp:new Date().toISOString(),type:"debt_projection_summary",content:i,related_debt_strategy:t.strategy,is_read:!1}:{timestamp:new Date().toISOString(),type:"error_message",content:"No foi possvel obter um resumo da projeo de dvida no momento.",is_read:!1}},vue=(t,e,n)=>{const r=new Date(t+"T00:00:00");switch(e){case"daily":r.setDate(r.getDate()+1);break;case"weekly":r.setDate(r.getDate()+7);break;case"monthly":r.setMonth(r.getMonth()+1);break;case"yearly":r.setFullYear(r.getFullYear()+1);break;case"custom_days":r.setDate(r.getDate()+(n||1));break}return vt(r)},yue=({creditCards:t,installmentPurchases:e,aiConfig:n,onAddCreditCard:r,onUpdateCreditCard:a,onDeleteCreditCard:i,onAddInstallmentPurchase:s,onUpdateInstallmentPurchase:u,onDeleteInstallmentPurchase:d,onMarkInstallmentPaid:c,onPayMonthlyInstallments:h,isPrivacyModeEnabled:m})=>{const{addToast:y}=tI(),[_,S]=j.useState(!1),[A,T]=j.useState(null),[O,M]=j.useState(!1),[E,D]=j.useState(null),[C,k]=j.useState(null),[P,R]=j.useState(!1),[U,F]=j.useState(null),[L,G]=j.useState(!1),[Q,H]=j.useState(null),q=()=>{T(null),S(!0)},$=re=>{T(re),S(!0)},z=re=>{A?a({...re,user_id:A.user_id,created_at:A.created_at,updated_at:new Date().toISOString()}):r(re)},Z=re=>{k(re),D(null),M(!0)},se=(re,ce)=>{k(ce),D(re),M(!0)},B=re=>{E?u({...re,user_id:E.user_id,created_at:E.created_at,updated_at:new Date().toISOString()}):s(re)},K=j.useCallback(async re=>{if(!n.isEnabled||n.apiKeyStatus!=="available"){y("AI Coach desativado ou API Key indisponvel.","warning");return}const ce=t.find(pe=>pe.id===re);if(!ce)return;H(ce),G(!0),R(!0),F(null);const _e=await lue({name:ce.name,closing_day:ce.closing_day,due_day:ce.due_day},vt());F(_e),G(!1),_e!=null&&_e.error&&y(_e.explanation||"Erro ao buscar sugesto da IA.","error")},[n,t,y]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Cartes de Crdito"}),b.jsxs(be,{onClick:q,variant:"primary",children:[b.jsx(Bn,{className:"w-5 h-5 mr-2"}),"Novo Carto"]})]}),t.length>0?b.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(re=>b.jsx(ree,{card:re,installmentPurchases:e.filter(ce=>ce.credit_card_id===re.id),onEditCard:$,onDeleteCard:i,onAddInstallmentPurchase:Z,onEditInstallmentPurchase:se,onDeleteInstallmentPurchase:d,onMarkInstallmentPaid:c,onGetBestPurchaseDay:K,onPayMonthlyInstallments:h,isAIFeatureEnabled:n.isEnabled&&n.apiKeyStatus==="available",isPrivacyModeEnabled:m},re.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhum carto de crdito cadastrado."}),b.jsx(aee,{isOpen:_,onClose:()=>S(!1),onSave:z,existingCard:A}),C&&b.jsx(iee,{isOpen:O,onClose:()=>M(!1),onSave:B,creditCard:C,existingPurchase:E}),b.jsx(oee,{isOpen:P,onClose:()=>R(!1),advice:U,isLoading:L,cardName:Q==null?void 0:Q.name})]})},J$=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h13.5m-13.5 4.5h13.5m-13.5 4.5h13.5m3-13.5V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v3.75m13.5 0v3.75m-13.5-3.75v3.75m1.5-9V3.75c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125V5.25m-3 0h3m6 0v2.25m0 0v1.5m0 0v1.5m0 0V15m0 0v-1.5m0 0V9.75M7.5 5.25h9M7.5 12h9m-9 4.5h9M5.25 19.5h13.5a2.25 2.25 0 0 0 2.25-2.25V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v12a2.25 2.25 0 0 0 2.25 2.25Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h-3m3 0V12m0 0v-2.25"})]}),bue=({moneyBox:t,balance:e,onEdit:n,onDelete:r,onOpenTransactionModal:a,onOpenHistoryModal:i,isPrivacyModeEnabled:s,hasTransactions:u})=>{const d=t.goal_amount&&t.goal_amount>0?Math.min(e/t.goal_amount*100,100):0,c=t.color?{borderLeftColor:t.color,borderLeftWidth:"4px"}:{},h=t.color?{backgroundColor:t.color}:{backgroundColor:"var(--color-primary)"};return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",style:c,children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[b.jsx(J$,{className:"w-6 h-6",style:{color:t.color||"currentColor"}}),b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),b.jsx("p",{className:"text-2xl font-bold",style:{color:t.color||"var(--color-primary)"},children:ye(e,"BRL","pt-BR",s)}),t.goal_amount&&t.goal_amount>0&&b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Meta: ",ye(t.goal_amount,"BRL","pt-BR",s)]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[b.jsxs("div",{className:"flex space-x-1",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Caixinha",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Caixinha",className:"!p-1.5",disabled:u,title:u?"No pode excluir caixinhas com transaes":"Excluir caixinha",children:b.jsx(Qr,{className:`w-4 h-4 ${u?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>i(t),"aria-label":"Ver Histrico",className:"text-xs !px-2 !py-1",children:"Histrico"})]})]}),t.goal_amount&&t.goal_amount>0&&b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:b.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${d}%`,...h}})}),b.jsxs("div",{className:"flex justify-start space-x-2 pt-1",children:[b.jsxs(be,{size:"sm",variant:"secondary",onClick:()=>a(t,yr.DEPOSIT),className:"!bg-opacity-80 dark:!bg-opacity-80",style:t.color?{backgroundColor:t.color}:{},children:[b.jsx(Bn,{className:"w-4 h-4 mr-1"})," Depositar"]}),b.jsx(be,{size:"sm",variant:"ghost",onClick:()=>a(t,yr.WITHDRAWAL),className:"border border-borderBase dark:border-borderBaseDark",children:"Sacar"})]})]})},ph=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],xue=({isOpen:t,onClose:e,onSave:n,existingMoneyBox:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState(""),[d,c]=j.useState(ph[0]),[h,m]=j.useState({});j.useEffect(()=>{var S;r?(i(r.name),u(((S=r.goal_amount)==null?void 0:S.toString())||""),c(r.color||ph[0])):(i(""),u(""),c(ph[0])),m({})},[r,t]);const y=()=>{const S={};return a.trim()||(S.name="Nome da caixinha  obrigatrio."),s&&(isNaN(parseFloat(s))||parseFloat(s)<0)&&(S.goalAmount="Meta deve ser um nmero positivo ou vazio."),m(S),Object.keys(S).length===0},_=()=>{if(!y())return;const S={name:a.trim(),goal_amount:s?parseFloat(s):void 0,icon:"piggy-bank",color:d},A=r?{...S,id:r.id}:S;n(A),e()};return b.jsx(Tn,{isOpen:t,onClose:e,title:r?"Editar Caixinha":"Nova Caixinha",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx($e,{label:"Nome da Caixinha",id:"moneyBoxName",value:a,onChange:S=>i(S.target.value),error:h.name,placeholder:"Ex: Reserva de Emergncia, Viagem"}),b.jsx($e,{label:"Meta de Valor (Opcional)",id:"moneyBoxGoal",type:"number",step:"0.01",value:s,onChange:S=>u(S.target.value),error:h.goalAmount,placeholder:"Ex: 1000.00"}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"moneyBoxColor",className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor de Destaque"}),b.jsx("div",{className:"flex space-x-2",children:ph.map(S=>b.jsx("button",{type:"button",onClick:()=>c(S),className:`w-8 h-8 rounded-full border-2 ${d===S?"border-primary dark:border-primaryDark ring-2 ring-primary dark:ring-primaryDark ring-offset-2 dark:ring-offset-surfaceDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:S},"aria-label":`Selecionar cor ${S}`,"aria-pressed":d===S},S))})]}),h.form&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:h.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{variant:"primary",onClick:_,children:"Salvar Caixinha"})]})]})})},_ue=({isOpen:t,onClose:e,onSave:n,moneyBox:r,accounts:a,transactionType:i})=>{const[s,u]=j.useState(""),[d,c]=j.useState(vt()),[h,m]=j.useState(""),[y,_]=j.useState(""),[S,A]=j.useState(!1),[T,O]=j.useState({});j.useEffect(()=>{t&&(u(""),c(vt()),m(""),_(a.length>0?a[0].id:""),A(!1),O({}))},[t,a]);const M=()=>{const k={};return(!s||parseFloat(s)<=0)&&(k.amount="Valor deve ser positivo."),d||(k.date="Data  obrigatria."),S&&!y&&(k.linkedAccountId="Conta para vnculo  obrigatria."),O(k),Object.keys(k).length===0},E=()=>{if(!M())return;const k={money_box_id:r.id,type:i,amount:parseFloat(s),date:d,description:h.trim()||void 0};n(k,S,y),e()},D=i===yr.DEPOSIT?"Depositar na Caixinha":"Sacar da Caixinha",C=i===yr.DEPOSIT?"Registrar como despesa na conta:":"Registrar como receita na conta:";return b.jsx(Tn,{isOpen:t,onClose:e,title:`${D}: ${r.name}`,children:b.jsxs("div",{className:"space-y-4",children:[b.jsx($e,{label:"Valor",id:"mbAmount",type:"number",step:"0.01",value:s,onChange:k=>u(k.target.value),error:T.amount,required:!0}),b.jsx($e,{label:"Data",id:"mbDate",type:"date",value:d,onChange:k=>c(k.target.value),error:T.date,required:!0}),b.jsx($e,{label:"Descrio (Opcional)",id:"mbDescription",type:"text",value:h,onChange:k=>m(k.target.value)}),a.length>0&&b.jsxs("div",{className:"pt-2",children:[b.jsxs("label",{className:"flex items-center space-x-2",children:[b.jsx("input",{type:"checkbox",checked:S,onChange:k=>A(k.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark"}),b.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:i===yr.DEPOSIT?"Vincular a uma despesa de conta?":"Vincular a uma receita em conta?"})]}),S&&b.jsx(Et,{containerClassName:"mt-2",label:C,id:"mbLinkedAccount",options:a.map(k=>({value:k.id,label:k.name})),value:y,onChange:k=>_(k.target.value),error:T.linkedAccountId,placeholder:"Selecione uma conta"})]}),T.form&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:T.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"button",variant:"primary",onClick:E,children:i===yr.DEPOSIT?"Depositar":"Sacar"})]})]})})},Sue=({isOpen:t,onClose:e,moneyBox:n,transactions:r,onDeleteTransaction:a,isPrivacyModeEnabled:i})=>{const s=r.filter(u=>u.money_box_id===n.id).sort((u,d)=>new Date(d.date).getTime()-new Date(u.date).getTime());return b.jsx(Tn,{isOpen:t,onClose:e,title:`Histrico: ${n.name}`,size:"lg",children:s.length===0?b.jsx("p",{className:"text-textMuted dark:text-textMutedDark text-center py-4",children:"Nenhuma transao nesta caixinha ainda."}):b.jsx("ul",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:s.map(u=>{const d=u.type===yr.DEPOSIT,c=d?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",h=d?"+":"-";return b.jsx("li",{className:"p-3 bg-surface/50 dark:bg-surfaceDark/50 rounded-md",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsxs("p",{className:`font-semibold ${c}`,children:[h," ",ye(u.amount,"BRL","pt-BR",i)]}),b.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:Yn(u.date)}),u.description&&b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark italic",children:u.description}),u.linked_transaction_id&&b.jsx("p",{className:"text-xs text-neutral dark:text-neutralDark",children:"(Vinculado a uma transao principal)"})]}),b.jsx("button",{onClick:()=>{window.confirm(`Excluir esta transao da caixinha? ${u.linked_transaction_id?"\\nA transao principal vinculada NO ser excluda automaticamente por esta ao.":""}`)&&a(u.id,u.linked_transaction_id)},className:"text-xs text-destructive dark:text-destructiveDark hover:underline","aria-label":"Excluir transao da caixinha",title:"Excluir transao da caixinha",children:"Excluir"})]})},u.id)})})})},wue=({moneyBoxes:t,moneyBoxTransactions:e,accounts:n,onAddMoneyBox:r,onUpdateMoneyBox:a,onDeleteMoneyBox:i,onAddMoneyBoxTransaction:s,onDeleteMoneyBoxTransaction:u,calculateMoneyBoxBalance:d,isPrivacyModeEnabled:c})=>{const[h,m]=j.useState(!1),[y,_]=j.useState(null),[S,A]=j.useState(!1),[T,O]=j.useState(null),[M,E]=j.useState(yr.DEPOSIT),[D,C]=j.useState(!1),[k,P]=j.useState(null),R=()=>{_(null),m(!0)},U=H=>{_(H),m(!0)},F=(H,q)=>{O(H),E(q),A(!0)},L=H=>{P(H),C(!0)},G=H=>{i(H)},Q=j.useMemo(()=>t.reduce((H,q)=>H+d(q.id),0),[t,d]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Minhas Caixinhas"}),t.length>0&&b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total guardado: ",b.jsx("span",{className:"font-semibold text-secondary dark:text-secondaryDark",children:ye(Q,"BRL","pt-BR",c)})]})]}),b.jsxs(be,{onClick:R,variant:"primary",children:[b.jsx(Bn,{className:"w-5 h-5 mr-2"}),"Nova Caixinha"]})]}),t.length>0?b.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(H=>b.jsx(bue,{moneyBox:H,balance:d(H.id),onEdit:U,onDelete:G,onOpenTransactionModal:F,onOpenHistoryModal:L,isPrivacyModeEnabled:c,hasTransactions:e.some(q=>q.money_box_id===H.id)},H.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma caixinha criada. Crie uma para comear a guardar dinheiro!"}),b.jsx(xue,{isOpen:h,onClose:()=>m(!1),onSave:y?a:r,existingMoneyBox:y}),T&&b.jsx(_ue,{isOpen:S,onClose:()=>A(!1),onSave:s,moneyBox:T,accounts:n,transactionType:M}),k&&b.jsx(Sue,{isOpen:D,onClose:()=>C(!1),moneyBox:k,transactions:e,onDeleteTransaction:u,isPrivacyModeEnabled:c})]})},n1=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})}),Tue=t=>{switch(t){case"PLANNED":return{text:"Planejado",colorClasses:"bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300"};case"CONSIDERING":return{text:"Considerando",colorClasses:"bg-gray-100 text-gray-700 dark:bg-gray-700/30 dark:text-gray-300"};case"ACHIEVABLE_SOON":return{text:"Vivel em Breve",colorClasses:"bg-green-100 text-green-700 dark:bg-green-700/30 dark:text-green-300"};case"NOT_RECOMMENDED_NOW":return{text:"Adiar Compra",colorClasses:"bg-red-100 text-red-700 dark:bg-red-700/30 dark:text-red-300"};case"AI_ANALYZING":return{text:"Analisando...",colorClasses:"bg-yellow-100 text-yellow-700 dark:bg-yellow-700/30 dark:text-yellow-300 animate-pulse"};default:return{text:"Desconhecido",colorClasses:"bg-gray-200 text-gray-800"}}},Aue={low:"Baixa",medium:"Mdia",high:"Alta"},Eue=({purchase:t,onEdit:e,onDelete:n,onAnalyze:r,isPrivacyModeEnabled:a})=>{const{name:i,estimated_cost:s,priority:u,notes:d,status:c,created_at:h,ai_analysis:m,ai_analyzed_at:y}=t,_=Tue(c);return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[b.jsx(n1,{className:"w-5 h-5 text-primary dark:text-primaryDark flex-shrink-0"}),b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:i})]}),b.jsx("p",{className:"text-xl font-bold text-primary dark:text-primaryDark",children:ye(s,"BRL","pt-BR",a)}),b.jsxs("div",{className:"flex items-center space-x-2 text-xs text-textMuted dark:text-textMutedDark mt-0.5",children:[b.jsxs("span",{children:["Prioridade: ",Aue[u]]}),b.jsx("span",{children:""}),b.jsxs("span",{children:["Criado em: ",Yn(h)]})]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[b.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${_.colorClasses}`,children:_.text}),b.jsxs("div",{className:"flex space-x-1 mt-1",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>e(t),"aria-label":"Editar Compra Futura",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t.id),"aria-label":"Excluir Compra Futura",className:"!p-1.5",children:b.jsx(Qr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})]}),d&&b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark italic border-t border-borderBase/30 dark:border-borderBaseDark/30 pt-2 mt-2",children:["Notas: ",d]}),m&&b.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-3 rounded-md mt-2 border-l-4 border-primary dark:border-primaryDark",children:[b.jsxs("p",{className:"text-sm font-semibold text-primary dark:text-primaryDark mb-1",children:["Anlise da IA (",y?Yn(y,"pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Recente","):"]}),b.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:m})]}),b.jsx("div",{className:"pt-2 border-t border-borderBase/30 dark:border-borderBaseDark/30 mt-auto",children:b.jsxs(be,{variant:"secondary",size:"sm",onClick:()=>r(t.id),disabled:c==="AI_ANALYZING",className:"w-full sm:w-auto",children:[b.jsx(qo,{className:"w-4 h-4 mr-1.5"}),c==="AI_ANALYZING"?"Analisando...":"Analisar com IA"]})})]})},Md=({label:t,id:e,error:n,className:r,containerClassName:a,...i})=>b.jsxs("div",{className:a,children:[t&&b.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),b.jsx("textarea",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...i}),n&&b.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),Cue=[{value:"low",label:"Baixa"},{value:"medium",label:"Mdia"},{value:"high",label:"Alta"}],kue=({isOpen:t,onClose:e,onSave:n,existingPurchase:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState(""),[d,c]=j.useState("medium"),[h,m]=j.useState(""),[y,_]=j.useState({});j.useEffect(()=>{t&&(r?(i(r.name),u(r.estimated_cost.toString()),c(r.priority),m(r.notes||"")):(i(""),u(""),c("medium"),m("")),_({}))},[r,t]);const S=()=>{const T={};a.trim()||(T.name="Nome do item  obrigatrio.");const O=parseFloat(s);return(isNaN(O)||O<=0)&&(T.estimatedCost="Custo estimado deve ser um nmero positivo."),_(T),Object.keys(T).length===0},A=()=>{if(!S())return;const T={name:a.trim(),estimated_cost:parseFloat(s),priority:d,notes:h.trim()||void 0},O=r?{...T,id:r.id}:T;n(O),e()};return b.jsx(Tn,{isOpen:t,onClose:e,title:r?"Editar Compra Futura":"Nova Compra Futura",size:"md",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx($e,{label:"Nome do Item/Objetivo",id:"fpName",value:a,onChange:T=>i(T.target.value),error:y.name,placeholder:"Ex: Novo Celular, Viagem para a Praia",required:!0}),b.jsx($e,{label:"Custo Estimado (R$)",id:"fpEstimatedCost",type:"number",step:"0.01",value:s,onChange:T=>u(T.target.value),error:y.estimatedCost,placeholder:"Ex: 2500.00",required:!0}),b.jsx(Et,{label:"Prioridade",id:"fpPriority",options:Cue,value:d,onChange:T=>c(T.target.value)}),b.jsx(Md,{label:"Notas (Opcional)",id:"fpNotes",value:h,onChange:T=>m(T.target.value),rows:3,placeholder:"Detalhes adicionais, link do produto, etc."}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"button",variant:"primary",onClick:A,children:r?"Salvar Alteraes":"Adicionar Compra"})]})]})})},Oue=[{value:"all",label:"Todas Prioridades"},{value:"high",label:"Alta"},{value:"medium",label:"Mdia"},{value:"low",label:"Baixa"}],Mue=[{value:"all",label:"Todos Status"},{value:"PLANNED",label:"Planejado"},{value:"CONSIDERING",label:"Considerando"},{value:"ACHIEVABLE_SOON",label:"Vivel em Breve"},{value:"NOT_RECOMMENDED_NOW",label:"Adiar Compra"},{value:"AI_ANALYZING",label:"Analisando"}],Due=({futurePurchases:t,onAddFuturePurchase:e,onUpdateFuturePurchase:n,onDeleteFuturePurchase:r,onAnalyzeFuturePurchase:a,isPrivacyModeEnabled:i})=>{const[s,u]=j.useState(!1),[d,c]=j.useState(null),[h,m]=j.useState("all"),[y,_]=j.useState("all"),[S,A]=j.useState("date_desc"),T=()=>{c(null),u(!0)},O=E=>{c(E),u(!0)},M=j.useMemo(()=>{let E=[...t];return h!=="all"&&(E=E.filter(D=>D.priority===h)),y!=="all"&&(E=E.filter(D=>D.status===y)),E.sort((D,C)=>{switch(S){case"cost_desc":return C.estimated_cost-D.estimated_cost;case"cost_asc":return D.estimated_cost-C.estimated_cost;case"date_asc":return new Date(D.created_at).getTime()-new Date(C.created_at).getTime();case"date_desc":default:return new Date(C.created_at).getTime()-new Date(D.created_at).getTime()}}),E},[t,h,y,S]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(n1,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Compras Futuras & Objetivos"})]}),b.jsxs(be,{onClick:T,variant:"primary",children:[b.jsx(Bn,{className:"w-5 h-5 mr-2"}),"Adicionar Compra Desejada"]})]}),t.length>0&&b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx(Et,{label:"Filtrar por Prioridade",options:Oue,value:h,onChange:E=>m(E.target.value)}),b.jsx(Et,{label:"Filtrar por Status",options:Mue,value:y,onChange:E=>_(E.target.value)}),b.jsx(Et,{label:"Ordenar Por",options:[{value:"date_desc",label:"Mais Recentes Primeiro"},{value:"date_asc",label:"Mais Antigos Primeiro"},{value:"cost_desc",label:"Maior Custo"},{value:"cost_asc",label:"Menor Custo"}],value:S,onChange:E=>A(E.target.value)})]}),M.length>0?b.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(E=>b.jsx(Eue,{purchase:E,onEdit:O,onDelete:r,onAnalyze:a,isPrivacyModeEnabled:i},E.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:t.length===0?"Nenhuma compra futura planejada. Adicione uma para comear!":"Nenhuma compra encontrada com os filtros aplicados."}),b.jsx(kue,{isOpen:s,onClose:()=>u(!1),onSave:d?E=>n({...E,id:d.id}):e,existingPurchase:d})]})},Nue=({allData:t,userPreferencesToExport:e,activeProfileName:n,user:r})=>{const a=async()=>{if(!r){alert("Nenhum usurio logado para exportar dados.");return}const i=n?n.replace(/\s+/g,"_"):"usuario_desconhecido",s={profileName:n||"N/A",exportedAt:new Date().toISOString(),supabaseSchemaVersion:"2.0",userPreferences:e,...t},u=JSON.stringify(s,null,2),d=new Blob([u],{type:"application/json"}),c=URL.createObjectURL(d),h=document.createElement("a");h.href=c,h.download=`financeiro_pessoal_${i}_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(c)};return b.jsxs("div",{className:"space-y-8 p-4 md:p-6",children:[b.jsxs("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:["Gerenciamento de Dados: ",b.jsx("span",{className:"text-primary dark:text-primaryDark",children:n})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Exportar Dados"}),b.jsxs("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:["Faa um backup completo dos seus dados (",n,") em um arquivo JSON."]}),b.jsx(be,{onClick:a,variant:"secondary",children:"Exportar Todos os Dados (.json)"})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Importar Dados"}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:"A importao de dados a partir de um arquivo JSON no  suportada nesta verso do aplicativo. Para restaurar dados, considere utilizar ferramentas de gerenciamento de banco de dados diretamente com o Supabase, se aplicvel."})]}),e&&b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Backup Automtico em Arquivo (Local)"}),b.jsxs("p",{className:"text-textMuted dark:text-textMutedDark",children:[e.ai_auto_backup_enabled?"Backup automtico local em arquivo est ATIVADO.":"Backup automtico local em arquivo est DESATIVADO.",b.jsx("span",{className:"block text-xs",children:"Isso  um backup extra em arquivo JSON no seu dispositivo, independente da sincronizao com o Supabase."})]})]})]})},Pue=({tag:t,transactionCount:e,onEdit:n,onDelete:r})=>{t.color&&(t.color,t.color),t.color,t.color;const i=(s=>{if(!s)return"text-textBase dark:text-textBaseDark";const u=parseInt(s.slice(1,3),16),d=parseInt(s.slice(3,5),16),c=parseInt(s.slice(5,7),16);return(.299*u+.587*d+.114*c)/255>.5?"text-neutral-800":"text-white"})(t.color);return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-3 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex justify-between items-center",children:[b.jsx("div",{className:"flex items-center",children:b.jsx("span",{className:`text-xs font-semibold mr-3 px-2.5 py-1 rounded-full inline-block border
                        ${t.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:t.color?{backgroundColor:t.color,borderColor:t.color}:{},children:b.jsx("span",{className:t.color?i:"text-textBase dark:text-textBaseDark",children:t.name})})}),b.jsxs("div",{className:"flex items-center space-x-1",children:[e>0&&b.jsxs("span",{className:"text-xs text-textMuted dark:text-textMutedDark mr-2",children:["(",e," trans.)"]}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Tag",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Tag",className:"!p-1.5",disabled:e>0,title:e>0?"No  possvel excluir tags em uso":"Excluir Tag",children:b.jsx(Qr,{className:`w-4 h-4 ${e>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]})},DR=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6","#A3A3A3"],Rue=({isOpen:t,onClose:e,onSave:n,existingTag:r,allTagNames:a=[]})=>{const[i,s]=j.useState(""),[u,d]=j.useState(void 0),[c,h]=j.useState("");j.useEffect(()=>{t&&(r?(s(r.name),d(r.color)):(s(""),d(DR[0])),h(""))},[r,t]);const m=()=>{const y=i.trim();if(!y){h("Nome da tag  obrigatrio.");return}if(a.filter(T=>r?T.toLowerCase()!==r.name.toLowerCase():!0).includes(y.toLowerCase())){h("J existe uma tag com este nome.");return}h("");const S={name:y,color:u},A=r?{...S,id:r.id}:S;n(A),e()};return b.jsx(Tn,{isOpen:t,onClose:e,title:r?"Editar Tag":"Nova Tag",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx($e,{label:"Nome da Tag",id:"tagName",value:i,onChange:y=>s(y.target.value),error:c,placeholder:"Ex: Viagem, Pessoal, Urgente"}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor (Opcional)"}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[DR.map(y=>b.jsx("button",{type:"button",onClick:()=>d(y),className:`w-7 h-7 rounded-full border-2 transition-all
                            ${u===y?"ring-2 ring-offset-2 dark:ring-offset-surfaceDark border-primary dark:border-primaryDark ring-primary dark:ring-primaryDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:y},"aria-label":`Selecionar cor ${y}`,"aria-pressed":u===y},y)),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>d(void 0),className:`h-7 px-2 ${u?"":"bg-neutral/20 dark:bg-neutralDark/30"}`,title:"Remover cor",children:"Sem Cor"})]})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{variant:"primary",onClick:m,children:"Salvar"})]})]})})},Iue=({tags:t,transactions:e,onAddTag:n,onUpdateTag:r,onDeleteTag:a})=>{const[i,s]=j.useState(!1),[u,d]=j.useState(null),c=()=>{d(null),s(!0)},h=_=>{d(_),s(!0)},m=_=>e.filter(S=>{var A;return(A=S.tag_ids)==null?void 0:A.includes(_)}).length,y=t.map(_=>_.name);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Tags"}),b.jsxs(be,{onClick:c,variant:"primary",children:[b.jsx(Bn,{className:"w-5 h-5 mr-2"}),"Nova Tag"]})]}),t.length>0?b.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(_=>b.jsx(Pue,{tag:_,transactionCount:m(_.id),onEdit:h,onDelete:a},_.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma tag cadastrada. Crie tags para organizar melhor suas transaes!"}),b.jsx(Rue,{isOpen:i,onClose:()=>s(!1),onSave:u?r:n,existingTag:u,allTagNames:y})]})},vd=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),Fx=({rt:t,accounts:e,categories:n,onEdit:r,onDelete:a,onTogglePause:i,isPrivacyModeEnabled:s})=>{const u=e.find(y=>y.id===t.account_id),d=t.category_id?n.find(y=>y.id===t.category_id):null;let c="text-textBase dark:text-textBaseDark",h="";t.type===xe.INCOME?(c="text-secondary dark:text-secondaryDark",h="+"):t.type===xe.EXPENSE&&(c="text-destructive dark:text-destructiveDark",h="-");const m={daily:"Diariamente",weekly:"Semanalmente",monthly:"Mensalmente",yearly:"Anualmente",custom_days:`A cada ${t.custom_interval_days} dias`};return b.jsx("li",{className:`bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 ${t.is_paused?"opacity-60":""}`,children:b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[b.jsx(vd,{className:`w-5 h-5 ${t.is_paused?"text-textMuted dark:text-textMutedDark":"text-primary dark:text-primaryDark"}`}),b.jsxs("span",{className:`font-semibold text-lg ${c}`,children:[h,ye(t.amount,"BRL","pt-BR",s)]}),b.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.description})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-8",children:[m[t.frequency],"  Prximo: ",Yn(t.next_due_date),t.end_date&&` &bull; Termina em: ${Yn(t.end_date)}`,t.remaining_occurrences!==void 0&&t.occurrences&&` &bull; (${t.remaining_occurrences}/${t.occurrences} restantes)`]}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark ml-8",children:["Conta: ",(u==null?void 0:u.name)||"N/A",d&&` &bull; Categoria: ${d.name}`,t.is_paused&&b.jsx("span",{className:"font-semibold text-amber-600 dark:text-amber-500",children:" (Pausado)"})]}),t.notes&&b.jsxs("p",{className:"text-xs italic text-neutral dark:text-neutralDark ml-8 mt-1",children:["Nota: ",t.notes]})]}),b.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t),"aria-label":"Editar Recorrncia",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>a(t.id),"aria-label":"Excluir Recorrncia",children:b.jsx(Qr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})})},jue=[{value:"daily",label:"Diariamente"},{value:"weekly",label:"Semanalmente"},{value:"monthly",label:"Mensalmente"},{value:"yearly",label:"Anualmente"},{value:"custom_days",label:"Dias Personalizados"}],$ue=(t,e,n,r)=>vt(new Date(t+"T00:00:00")),Lue=({isOpen:t,onClose:e,onSave:n,accounts:r,categories:a,existingRT:i})=>{const[s,u]=j.useState(""),[d,c]=j.useState(""),[h,m]=j.useState(xe.EXPENSE),[y,_]=j.useState(""),[S,A]=j.useState(""),[T,O]=j.useState(""),[M,E]=j.useState("monthly"),[D,C]=j.useState("30"),[k,P]=j.useState(vt()),[R,U]=j.useState(""),[F,L]=j.useState(""),[G,Q]=j.useState(!1),[H,q]=j.useState(""),[$,z]=j.useState({});j.useEffect(()=>{var K,re,ce,_e,pe,ke;t&&(i?(u(i.description),c(i.amount.toString()),m(i.type),_(i.category_id||""),A(i.account_id),O(i.to_account_id||""),E(i.frequency),C(((K=i.custom_interval_days)==null?void 0:K.toString())||"30"),P(i.start_date),U(i.end_date||""),L(((re=i.occurrences)==null?void 0:re.toString())||""),Q(i.is_paused||!1),q(i.notes||"")):(u(""),c(""),m(xe.EXPENSE),_(((ce=a.filter(ut=>ut.type===xe.EXPENSE)[0])==null?void 0:ce.id)||""),A(((_e=r[0])==null?void 0:_e.id)||""),O(((pe=r[1])==null?void 0:pe.id)||((ke=r[0])==null?void 0:ke.id)||""),E("monthly"),C("30"),P(vt()),U(""),L(""),Q(!1),q("")),z({}))},[i,t,r,a]);const Z=()=>{const K={};return s.trim()||(K.description="Descrio  obrigatria."),(!d||parseFloat(d)<=0)&&(K.amount="Valor deve ser positivo."),h!==xe.TRANSFER&&!y&&(K.categoryId="Categoria  obrigatria."),S||(K.accountId="Conta  obrigatria."),h===xe.TRANSFER&&!T&&(K.toAccountId="Conta de destino  obrigatria."),h===xe.TRANSFER&&S===T&&(K.toAccountId="Contas no podem ser iguais."),k||(K.startDate="Data de incio  obrigatria."),R&&k>R&&(K.endDate="Data final deve ser aps data inicial."),F&&parseInt(F)<=0&&(K.occurrences="Ocorrncias deve ser positivo."),M==="custom_days"&&(!D||parseInt(D)<=0)&&(K.customIntervalDays="Intervalo de dias deve ser positivo."),z(K),Object.keys(K).length===0},se=()=>{if(!Z())return;const K=F?parseInt(F):void 0,re={description:s.trim(),amount:parseFloat(d),type:h,category_id:h===xe.TRANSFER?void 0:y,account_id:S,to_account_id:h===xe.TRANSFER?T:void 0,frequency:M,custom_interval_days:M==="custom_days"?parseInt(D):void 0,start_date:k,end_date:R||void 0,occurrences:K,remaining_occurrences:i!=null&&i.id?i.remaining_occurrences:K,next_due_date:i!=null&&i.id?i.next_due_date:$ue(k),last_posted_date:i==null?void 0:i.last_posted_date,is_paused:G||!1,notes:H.trim()||void 0},ce=i?{...re,id:i.id}:re;n(ce),e()},B=a.filter(K=>K.type===h);return b.jsx(Tn,{isOpen:t,onClose:e,title:i?"Editar Transao Recorrente":"Nova Transao Recorrente",size:"lg",children:b.jsxs("form",{onSubmit:K=>{K.preventDefault(),se()},className:"space-y-4",children:[b.jsx($e,{label:"Descrio",id:"rtDescription",value:s,onChange:K=>u(K.target.value),error:$.description,required:!0}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx($e,{label:"Valor",id:"rtAmount",type:"number",step:"0.01",value:d,onChange:K=>c(K.target.value),error:$.amount,required:!0}),b.jsx(Et,{label:"Tipo",id:"rtType",options:Om,value:h,onChange:K=>m(K.target.value)})]}),h!==xe.TRANSFER&&b.jsx(Et,{label:"Categoria",id:"rtCategory",options:B.map(K=>({value:K.id,label:K.name})),value:y,onChange:K=>_(K.target.value),error:$.categoryId,placeholder:"Selecione uma categoria",disabled:B.length===0}),b.jsx(Et,{label:h===xe.TRANSFER?"Conta de Origem":"Conta",id:"rtAccountId",options:r.map(K=>({value:K.id,label:K.name})),value:S,onChange:K=>A(K.target.value),error:$.accountId,placeholder:"Selecione uma conta",disabled:r.length===0}),h===xe.TRANSFER&&b.jsx(Et,{label:"Conta de Destino",id:"rtToAccountId",options:r.map(K=>({value:K.id,label:K.name})),value:T,onChange:K=>O(K.target.value),error:$.toAccountId,placeholder:"Selecione conta de destino",disabled:r.length===0}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx(Et,{label:"Frequncia",id:"rtFrequency",options:jue,value:M,onChange:K=>E(K.target.value)}),M==="custom_days"&&b.jsx($e,{label:"Intervalo (dias)",id:"rtCustomInterval",type:"number",min:"1",value:D,onChange:K=>C(K.target.value),error:$.customIntervalDays})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx($e,{label:"Data de Incio",id:"rtStartDate",type:"date",value:k,onChange:K=>P(K.target.value),error:$.startDate,required:!0}),b.jsx($e,{label:"Data Final (Opcional)",id:"rtEndDate",type:"date",value:R,onChange:K=>U(K.target.value),error:$.endDate})]}),b.jsx($e,{label:"Nmero de Ocorrncias (Opcional)",id:"rtOccurrences",type:"number",min:"1",value:F,onChange:K=>L(K.target.value),error:$.occurrences,placeholder:"Deixe em branco para indefinido (use Data Final)"}),b.jsx(Md,{label:"Notas (Opcional)",id:"rtNotes",value:H,onChange:K=>q(K.target.value),rows:2}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"rtIsPaused",checked:G,onChange:K=>Q(K.target.checked),className:"h-4 w-4 text-primary rounded border-neutral/50 focus:ring-primary dark:text-primaryDark dark:border-neutralDark/50 dark:focus:ring-primaryDark"}),b.jsx("label",{htmlFor:"rtIsPaused",className:"ml-2 block text-sm text-textMuted dark:text-textMutedDark",children:"Pausar esta recorrncia"})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"submit",variant:"primary",children:i?"Salvar Alteraes":"Criar Recorrncia"})]})]})})},Bue=({recurringTransactions:t,accounts:e,categories:n,onAddRecurringTransaction:r,onUpdateRecurringTransaction:a,onDeleteRecurringTransaction:i,onProcessRecurringTransactions:s,isPrivacyModeEnabled:u})=>{const[d,c]=j.useState(!1),[h,m]=j.useState(null),[y,_]=j.useState(!1),[S,A]=j.useState(null),T=()=>{m(null),c(!0)},O=R=>{m(R),c(!0)},M=async()=>{_(!0),A("Processando...");try{const R=await s();R.errors.length>0?A(`Processamento concludo. ${R.count} transaes lanadas. Erros: ${R.errors.join(", ")}`):R.count>0?A(`${R.count} transaes recorrentes foram lanadas com sucesso!`):A("Nenhuma transao recorrente pendente para lanar.")}catch(R){A("Erro ao processar transaes recorrentes."),console.error(R)}_(!1),setTimeout(()=>A(null),7e3)},E=j.useMemo(()=>[...t].sort((R,U)=>new Date(R.next_due_date).getTime()-new Date(U.next_due_date).getTime()),[t]),D=vt(),C=E.filter(R=>!R.is_paused&&R.next_due_date>=D),k=E.filter(R=>!R.is_paused&&R.next_due_date<D),P=E.filter(R=>R.is_paused);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transaes Recorrentes"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(be,{onClick:M,variant:"secondary",disabled:y,children:y?"Processando...":"Lanar Pendentes"}),b.jsxs(be,{onClick:T,variant:"primary",children:[b.jsx(Bn,{className:"w-5 h-5 mr-2"}),"Nova Recorrncia"]})]})]}),S&&b.jsx("div",{className:`p-3 rounded-md text-sm ${S.includes("Erro")||S.includes("Erros:")?"bg-destructive/10 text-destructiveDark":"bg-secondary/10 text-secondaryDark"}`,children:S}),t.length===0?b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transao recorrente cadastrada."}):b.jsxs(b.Fragment,{children:[k.length>0&&b.jsxs("div",{children:[b.jsxs("h2",{className:"text-lg font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Pendentes / Atrasadas (",k.length,")"]}),b.jsx("ul",{className:"space-y-3",children:k.map(R=>b.jsx(Fx,{rt:R,accounts:e,categories:n,onEdit:O,onDelete:i,isPrivacyModeEnabled:u},R.id))})]}),C.length>0&&b.jsxs("div",{children:[b.jsxs("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mt-6 mb-2",children:["Prximas (",C.length,")"]}),b.jsx("ul",{className:"space-y-3",children:C.map(R=>b.jsx(Fx,{rt:R,accounts:e,categories:n,onEdit:O,onDelete:i,isPrivacyModeEnabled:u},R.id))})]}),P.length>0&&b.jsxs("div",{children:[b.jsxs("h2",{className:"text-lg font-semibold text-textMuted dark:text-textMutedDark mt-6 mb-2",children:["Pausadas (",P.length,")"]}),b.jsx("ul",{className:"space-y-3",children:P.map(R=>b.jsx(Fx,{rt:R,accounts:e,categories:n,onEdit:O,onDelete:i,isPrivacyModeEnabled:u},R.id))})]})]}),b.jsx(Lue,{isOpen:d,onClose:()=>c(!1),onSave:h?a:r,accounts:e,categories:n,existingRT:h})]})},que=({loan:t,repayments:e,accounts:n,creditCards:r,onEdit:a,onDelete:i,onRegisterRepayment:s,isPrivacyModeEnabled:u})=>{var O,M;const d=e.reduce((E,D)=>E+D.amount_paid,0),c=t.total_amount_to_reimburse-d;let h="PENDING",m="text-amber-600 dark:text-amber-500",y="bg-amber-100 dark:bg-amber-500/20",_="bg-amber-500";d>=t.total_amount_to_reimburse?(h="PAID",m="text-secondary dark:text-secondaryDark",y="bg-emerald-100 dark:bg-emerald-500/20",_="bg-secondary"):d>0&&(h="PARTIALLY_PAID",m="text-blue-600 dark:text-blue-500",y="bg-blue-100 dark:bg-blue-500/20",_="bg-blue-500");const S=t.total_amount_to_reimburse>0?Math.min(d/t.total_amount_to_reimburse*100,100):0,A=t.funding_source==="account"&&t.linked_account_id?(O=n.find(E=>E.id===t.linked_account_id))==null?void 0:O.name:null,T=t.funding_source==="creditCard"&&t.linked_credit_card_id?(M=r.find(E=>E.id===t.linked_credit_card_id))==null?void 0:M.name:null;return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[b.jsx(GS,{className:"w-5 h-5 text-primary dark:text-primaryDark"}),b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.person_name}),b.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${y} ${m}`,children:h==="PENDING"?"Pendente":h==="PARTIALLY_PAID"?"Parcialmente Pago":"Pago"})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Emprestado em: ",Yn(t.loan_date)]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a Reembolsar: ",b.jsx("span",{className:"font-semibold",children:ye(t.total_amount_to_reimburse,"BRL","pt-BR",u)})]}),t.description&&b.jsx("p",{className:"text-xs italic text-neutral dark:text-neutralDark mt-1",children:t.description})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>a(t),"aria-label":"Editar Emprstimo",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>i(t.id),"aria-label":"Excluir Emprstimo",className:"!p-1.5",disabled:d>0&&h!=="PAID",title:d>0&&h!=="PAID"?"Exclua os pagamentos primeiro ou quite o emprstimo":"Excluir Emprstimo",children:b.jsx(Qr,{className:`w-4 h-4 ${d>0&&h!=="PAID"?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Pago: ",ye(d,"BRL","pt-BR",u)]}),b.jsxs("span",{className:`font-semibold ${c<=0?m:"text-destructive dark:text-destructiveDark"}`,children:["Pendente: ",ye(Math.max(0,c),"BRL","pt-BR",u)]})]}),b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:b.jsx("div",{className:`h-2.5 rounded-full ${_}`,style:{width:`${S}%`}})})]}),b.jsxs("div",{className:"text-xs text-textMuted dark:text-textMutedDark pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[b.jsx("p",{children:b.jsx("strong",{children:"Origem do Dinheiro:"})}),t.funding_source==="account"&&b.jsxs(b.Fragment,{children:[b.jsxs("p",{children:["Conta: ",A||"N/A"]}),b.jsxs("p",{children:["Valor Entregue da Conta: ",ye(t.amount_delivered_from_account||0,"BRL","pt-BR",u)]})]}),t.funding_source==="creditCard"&&b.jsxs(b.Fragment,{children:[b.jsxs("p",{children:["Carto de Crdito: ",T||"N/A"]}),b.jsxs("p",{children:["Valor Lquido Entregue: ",ye(t.amount_delivered_from_credit||0,"BRL","pt-BR",u)]}),b.jsxs("p",{children:["Custo no Carto (Fatura): ",ye(t.cost_on_credit_card||0,"BRL","pt-BR",u)]})]})]}),h!=="PAID"&&b.jsx("div",{className:"flex justify-start pt-2",children:b.jsxs(be,{size:"sm",variant:"secondary",onClick:()=>s(t),children:[b.jsx(Bn,{className:"w-4 h-4 mr-1"})," Registrar Pagamento Recebido"]})})]})},Uue=({isOpen:t,onClose:e,onSave:n,accounts:r,creditCards:a,existingLoan:i})=>{const[s,u]=j.useState(""),[d,c]=j.useState(vt()),[h,m]=j.useState(""),[y,_]=j.useState(""),[S,A]=j.useState("account"),[T,O]=j.useState(""),[M,E]=j.useState(""),[D,C]=j.useState(""),[k,P]=j.useState(""),[R,U]=j.useState(""),[F,L]=j.useState("1"),[G,Q]=j.useState({});j.useEffect(()=>{var z,Z,se;t&&(i?(u(i.person_name),c(i.loan_date),m(i.description||""),_(i.total_amount_to_reimburse.toString()),A(i.funding_source),i.funding_source==="account"?(O(((z=i.amount_delivered_from_account)==null?void 0:z.toString())||""),E(i.linked_account_id||"")):(O(""),E("")),i.funding_source==="creditCard"?(C(((Z=i.amount_delivered_from_credit)==null?void 0:Z.toString())||""),P(((se=i.cost_on_credit_card)==null?void 0:se.toString())||""),U(i.linked_credit_card_id||"")):(C(""),P(""),U(""))):(u(""),c(vt()),m(""),_(""),A("account"),O(""),E(r.length>0?r[0].id:""),C(""),P(""),U(a.length>0?a[0].id:""),L("1")),Q({}))},[i,t,r,a]);const H=()=>{const z={};s.trim()||(z.personName="Nome da pessoa  obrigatrio."),d||(z.loanDate="Data do emprstimo  obrigatria.");const Z=parseFloat(y);if((isNaN(Z)||Z<=0)&&(z.totalAmountToReimburse="Valor a ser reembolsado deve ser positivo."),S==="account"){M||(z.linkedAccountId="Conta de origem  obrigatria.");const se=parseFloat(T);(isNaN(se)||se<=0)&&(z.amountDeliveredFromAccount="Valor entregue deve ser positivo.")}else if(S==="creditCard"){R||(z.linkedCreditCardId="Carto de crdito  obrigatrio.");const se=parseFloat(D);(isNaN(se)||se<=0)&&(z.amountDeliveredFromCredit="Valor entregue (lquido) deve ser positivo.");const B=parseFloat(k);(isNaN(B)||B<=0)&&(z.costOnCreditCard="Custo no carto deve ser positivo."),se>B&&(z.amountDeliveredFromCredit="Valor entregue no pode ser maior que o custo no carto.");const K=parseInt(F,10);(isNaN(K)||K<=0)&&(z.numberOfInstallments="Nmero de parcelas deve ser positivo.")}return Q(z),Object.keys(z).length===0},q=()=>{if(!H())return;const z={person_name:s.trim(),loan_date:d,description:h.trim()||void 0,total_amount_to_reimburse:parseFloat(y),funding_source:S};let Z;S==="account"?Z={...z,amount_delivered_from_account:parseFloat(T),linked_account_id:M}:Z={...z,amount_delivered_from_credit:parseFloat(D),cost_on_credit_card:parseFloat(k),linked_credit_card_id:R};const se=i?{...Z,id:i.id}:Z;n(se,S==="creditCard"?parseInt(F):void 0),e()},$=[{value:"account",label:"Dinheiro de uma Conta"},{value:"creditCard",label:"Crdito (Convertido em Dinheiro)"}];return b.jsx(Tn,{isOpen:t,onClose:e,title:i?"Editar Emprstimo":"Novo Emprstimo",size:"lg",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx($e,{label:"Nome da Pessoa",id:"personName",value:s,onChange:z=>u(z.target.value),error:G.personName,required:!0}),b.jsx($e,{label:"Data do Emprstimo",id:"loanDate",type:"date",value:d,onChange:z=>c(z.target.value),error:G.loanDate,required:!0}),b.jsx(Md,{label:"Descrio (Opcional)",id:"loanDescription",value:h,onChange:z=>m(z.target.value),rows:2}),b.jsx($e,{label:"Valor Total a Ser Reembolsado por Voc (R$)",id:"totalAmountToReimburse",type:"number",step:"0.01",value:y,onChange:z=>_(z.target.value),error:G.totalAmountToReimburse,placeholder:"Ex: 270.00",required:!0}),b.jsx(Et,{label:"Origem do Dinheiro",id:"fundingSource",options:$,value:S,onChange:z=>A(z.target.value)}),S==="account"&&b.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[b.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Sada de Conta)"}),b.jsx(Et,{label:"Conta de Origem",id:"linkedAccountId",options:r.map(z=>({value:z.id,label:z.name})),value:M,onChange:z=>E(z.target.value),error:G.linkedAccountId,disabled:r.length===0,required:!0}),b.jsx($e,{label:"Valor Efetivamente Entregue (R$)",id:"amountDeliveredFromAccount",type:"number",step:"0.01",value:T,onChange:z=>O(z.target.value),error:G.amountDeliveredFromAccount,placeholder:"Ex: 250.00",required:!0})]}),S==="creditCard"&&b.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[b.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Uso de Crdito)"}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:'Use esta opo se voc usou um servio do carto para sacar/transferir crdito, incorrendo em taxas. O "Custo Real no Carto" ser lanado como uma compra parcelada.'}),b.jsx(Et,{label:"Carto de Crdito Utilizado",id:"linkedCreditCardId",options:a.map(z=>({value:z.id,label:z.name})),value:R,onChange:z=>U(z.target.value),error:G.linkedCreditCardId,disabled:a.length===0,required:!0}),b.jsx($e,{label:"Valor Efetivamente Entregue  Pessoa (R$)",id:"amountDeliveredFromCredit",type:"number",step:"0.01",value:D,onChange:z=>C(z.target.value),error:G.amountDeliveredFromCredit,placeholder:`Ex: ${ye(250)} (valor lquido recebido pela pessoa)`,required:!0}),b.jsx($e,{label:"Custo Real no Carto (com taxas) (R$)",id:"costOnCreditCard",type:"number",step:"0.01",value:k,onChange:z=>{P(z.target.value),!i&&!y&&_(z.target.value)},error:G.costOnCreditCard,placeholder:"Ex: 270.00 (valor total que vir na fatura)",required:!0}),b.jsx($e,{label:"Nmero de Parcelas no Carto",id:"numberOfInstallments",type:"number",min:"1",value:F,onChange:z=>L(z.target.value),error:G.numberOfInstallments,required:!0,disabled:!!i&&!!i.linked_installment_purchase_id,title:i&&i.linked_installment_purchase_id?"Nmero de parcelas no pode ser alterado aps a criao da compra vinculada.":""})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"button",variant:"primary",onClick:q,children:"Salvar Emprstimo"})]})]})})},Fue=({isOpen:t,onClose:e,onSave:n,loan:r,accounts:a})=>{const[i,s]=j.useState(""),[u,d]=j.useState(vt()),[c,h]=j.useState(""),[m,y]=j.useState(""),[_,S]=j.useState({});j.useEffect(()=>{t&&(s(""),d(vt()),h(a.length>0?a[0].id:""),y(""),S({}))},[t,a]);const A=()=>{const O={},M=parseFloat(i);return(isNaN(M)||M<=0)&&(O.amountPaid="Valor pago deve ser positivo."),u||(O.repaymentDate="Data do pagamento  obrigatria."),c||(O.creditedAccountId="Conta de crdito  obrigatria."),S(O),Object.keys(O).length===0},T=()=>{if(!A())return;const O={repayment_date:u,amount_paid:parseFloat(i),notes:m.trim()||void 0,credited_account_id:c};n(O,r.id),e()};return b.jsx(Tn,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.person_name}`,children:b.jsxs("div",{className:"space-y-4",children:[b.jsx($e,{label:"Valor Recebido (R$)",id:"repaymentAmount",type:"number",step:"0.01",value:i,onChange:O=>s(O.target.value),error:_.amountPaid,required:!0}),b.jsx($e,{label:"Data do Recebimento",id:"repaymentDate",type:"date",value:u,onChange:O=>d(O.target.value),error:_.repaymentDate,required:!0}),b.jsx(Et,{label:"Conta Creditada (Onde o dinheiro entrou)",id:"creditedAccountId",options:a.map(O=>({value:O.id,label:O.name})),value:c,onChange:O=>h(O.target.value),error:_.creditedAccountId,disabled:a.length===0,required:!0}),b.jsx(Md,{label:"Notas (Opcional)",id:"repaymentNotes",value:m,onChange:O=>y(O.target.value),rows:2}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"button",variant:"primary",onClick:T,children:"Salvar Pagamento"})]})]})})},Vue=({loans:t,loanRepayments:e,accounts:n,creditCards:r,onAddLoan:a,onUpdateLoan:i,onDeleteLoan:s,onAddLoanRepayment:u,isPrivacyModeEnabled:d})=>{const[c,h]=j.useState(!1),[m,y]=j.useState(null),[_,S]=j.useState(!1),[A,T]=j.useState(null),O=()=>{y(null),h(!0)},M=P=>{y(P),h(!0)},E=(P,R)=>{m&&P.id?i({...m,...P}):a(P,R)},D=P=>{T(P),S(!0)},C=j.useMemo(()=>t.reduce((P,R)=>{const U=e.filter(F=>F.loan_id===R.id).reduce((F,L)=>F+L.amount_paid,0);return P+(R.total_amount_to_reimburse-U)},0),[t,e]),k=j.useMemo(()=>[...t].sort((P,R)=>new Date(R.loan_date).getTime()-new Date(P.loan_date).getTime()),[t]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Emprstimos Concedidos"}),t.length>0&&b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a receber: ",b.jsx("span",{className:"font-semibold text-primary dark:text-primaryDark",children:ye(C,"BRL","pt-BR",d)})]})]}),b.jsxs(be,{onClick:O,variant:"primary",children:[b.jsx(Bn,{className:"w-5 h-5 mr-2"}),"Novo Emprstimo"]})]}),k.length>0?b.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:k.map(P=>b.jsx(que,{loan:P,repayments:e.filter(R=>R.loan_id===P.id),accounts:n,creditCards:r,onEdit:M,onDelete:s,onRegisterRepayment:D,isPrivacyModeEnabled:d},P.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:'Nenhum emprstimo registrado. Clique em "Novo Emprstimo" para comear.'}),c&&b.jsx(Uue,{isOpen:c,onClose:()=>h(!1),onSave:E,accounts:n,creditCards:r,existingLoan:m}),_&&A&&b.jsx(Fue,{isOpen:_,onClose:()=>S(!1),onSave:u,loan:A,accounts:n})]})},$S=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3.697-3.697c-.022-.021-.041-.044-.06-.067H6.75c-1.136 0-2.097-.847-2.193-1.98a18.75 18.75 0 0 1-.072-1.02c0-.884.284-1.5 2.097-1.5H13.5c.884 0 1.5-.284 2.097-1.5 1.136 0 2.1.847 2.193 1.98.027.34.052.68.072 1.02z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h-.008v.008H3.75V12zm0-3.75h.008v.008H3.75V8.25zm0 7.5h.008v.008H3.75v-.008zM4.5 6H15a2.25 2.25 0 0 1 2.25 2.25v1.5A2.25 2.25 0 0 1 15 12H4.5A2.25 2.25 0 0 1 2.25 9.75v-1.5A2.25 2.25 0 0 1 4.5 6z"})]}),zue=({aiConfig:t,setAiConfig:e,insights:n,onFetchGeneralAdvice:r,onUpdateInsight:a,isPrivacyModeEnabled:i,onFetchRecurringPaymentCandidates:s,onFetchSavingOpportunities:u,onFetchCashFlowProjection:d})=>{var H;const[c,h]=j.useState(((H=t.monthlyIncome)==null?void 0:H.toString())||""),[m,y]=j.useState(!1),[_,S]=j.useState(""),[A,T]=j.useState(""),[O,M]=j.useState(xe.EXPENSE),[E,D]=j.useState(vt(new Date(Date.now()+7*24*60*60*1e3))),[C,k]=j.useState(!1),P=()=>{e({isEnabled:!t.isEnabled})},R=()=>{const q=parseFloat(c);!isNaN(q)&&q>0?(e({monthlyIncome:q}),y(!1)):c===""?(e({monthlyIncome:null}),y(!1)):alert("Por favor, insira um valor de renda vlido ou deixe em branco.")};J.useEffect(()=>{var q;h(((q=t.monthlyIncome)==null?void 0:q.toString())||"")},[t.monthlyIncome]);const U=[...n].sort((q,$)=>new Date($.timestamp).getTime()-new Date(q.timestamp).getTime()),F=q=>b.jsx("p",{className:"text-textBase dark:text-textBaseDark whitespace-pre-wrap",children:q.content}),L=q=>{switch(q){case"budget_recommendation":case"saving_opportunity_suggestion":return{icon:b.jsx(qo,{className:"w-5 h-5 mr-2 text-yellow-500 dark:text-yellow-400 flex-shrink-0"}),borderColorClass:"border-yellow-500 dark:border-yellow-400",bgColorClass:"bg-yellow-400/10 dark:bg-yellow-400/15"};case"recurring_payment_candidate":return{icon:b.jsx(vd,{className:"w-5 h-5 mr-2 text-teal-500 dark:text-teal-400 flex-shrink-0"}),borderColorClass:"border-teal-500 dark:border-teal-400",bgColorClass:"bg-teal-500/10 dark:bg-teal-400/15"};case"cash_flow_projection":return{icon:b.jsx(bS,{className:"w-5 h-5 mr-2 text-indigo-500 dark:text-indigo-400 flex-shrink-0"}),borderColorClass:"border-indigo-500 dark:border-indigo-400",bgColorClass:"bg-indigo-500/10 dark:bg-indigo-400/15"};case"spending_anomaly_category":case"budget_overspend_projection":case"unusual_transaction_value":case"budget_warning":return{icon:b.jsx(Sh,{className:"w-5 h-5 mr-2 text-amber-600 dark:text-amber-500 flex-shrink-0"}),borderColorClass:"border-amber-600 dark:border-amber-500",bgColorClass:"bg-amber-600/10 dark:bg-amber-500/15"};case"error_message":return{icon:b.jsx(Sh,{className:"w-5 h-5 mr-2 text-destructive dark:text-destructiveDark flex-shrink-0"}),borderColorClass:"border-destructive dark:border-destructiveDark",bgColorClass:"bg-destructive/10 dark:bg-destructiveDark/15"};default:return{icon:b.jsx($S,{className:"w-5 h-5 mr-2 text-primary dark:text-primaryDark flex-shrink-0"}),borderColorClass:"border-primary dark:border-primaryDark",bgColorClass:"bg-primary/5 dark:bg-primaryDark/10"}}},G=q=>{q.is_read||a({...q,is_read:!0})},Q=()=>{let q;C&&A&&parseFloat(A)>0&&E&&(q={description:_.trim()||(O===xe.EXPENSE?"Despesa Simulada":"Receita Simulada"),amount:parseFloat(A),type:O,date:E}),d(30,q)};return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx($S,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"AI Coach Financeiro"})]}),t.apiKeyStatus!=="unavailable"&&b.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[b.jsx("span",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:t.isEnabled?"Coach Ativado":"Coach Desativado"}),b.jsxs("div",{className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${t.isEnabled?"bg-primary dark:bg-primaryDark":"bg-neutral/30 dark:bg-neutralDark/40"}`,children:[b.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${t.isEnabled?"translate-x-6":"translate-x-1"}`}),b.jsx("input",{type:"checkbox",className:"absolute opacity-0 w-0 h-0",checked:t.isEnabled,onChange:P})]})]})]}),t.apiKeyStatus==="unavailable"&&b.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[b.jsx("strong",{className:"font-bold",children:"API Key Indisponvel! "}),b.jsx("span",{className:"block sm:inline",children:"A funcionalidade do AI Coach est desativada. A chave da API Gemini (process.env.GEMINI_API_KEY) no foi configurada no ambiente. Sem ela, o AI Coach no pode operar."})]}),t.apiKeyStatus==="error"&&b.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[b.jsx("strong",{className:"font-bold",children:"Erro na API! "}),b.jsx("span",{className:"block sm:inline",children:"Ocorreu um erro ao tentar inicializar ou usar a API Gemini. Verifique o console para mais detalhes."})]}),t.apiKeyStatus==="available"&&b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Renda Mensal (para Sugestes)"}),t.monthlyIncome&&!m?b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Sua renda mensal salva:",b.jsx("span",{className:"font-bold text-lg text-primary dark:text-primaryDark ml-2",children:ye(t.monthlyIncome,"BRL","pt-BR",i)})]}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>y(!0),children:"Editar Renda"})]}):b.jsxs("div",{className:"space-y-3",children:[b.jsx($e,{label:"Informe sua renda mensal estimada",id:"monthlyIncome",type:"number",placeholder:i?ye(0,"BRL","pt-BR",!0).replace("0,00","Ex: 3500.00"):"Ex: 3500.00",value:c,onChange:q=>h(q.target.value),containerClassName:"max-w-xs"}),b.jsxs("div",{className:"flex space-x-2",children:[b.jsx(be,{variant:"primary",size:"sm",onClick:R,children:"Salvar Renda"}),t.monthlyIncome&&b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>y(!1),children:"Cancelar"})]}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Esta informao ajuda o AI Coach a fornecer sugestes de oramento mais personalizadas."})]})]}),t.isEnabled&&t.apiKeyStatus==="available"&&b.jsx(b.Fragment,{children:b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Conselhos e Anlises"}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.jsxs(be,{onClick:r,variant:"ghost",size:"sm",children:[b.jsx(qo,{className:"w-4 h-4 mr-1.5"})," Novo Conselho"]}),b.jsxs(be,{onClick:s,variant:"ghost",size:"sm",children:[b.jsx(vd,{className:"w-4 h-4 mr-1.5"})," Analisar Recorrncias"]}),b.jsxs(be,{onClick:u,variant:"ghost",size:"sm",children:[b.jsx(Xw,{className:"w-4 h-4 mr-1.5"})," Oportunidades de Economia"]})]})]}),b.jsxs("div",{className:"mt-6 pt-4 border-t border-borderBase dark:border-borderBaseDark",children:[b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mb-2",children:"Previso de Fluxo de Caixa"}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>k(!C),className:"mb-3 text-sm",children:C?"Esconder Simulao":"Adicionar Simulao  Previso"}),C&&b.jsxs("div",{className:"space-y-3 p-3 mb-4 border border-dashed border-neutral/50 dark:border-neutralDark/50 rounded-md",children:[b.jsx("h4",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Simular Transao Futura (Opcional)"}),b.jsx($e,{label:"Descrio (Opcional)",value:_,onChange:q=>S(q.target.value),placeholder:"Ex: Bnus Inesperado, Compra de Presente"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[b.jsx($e,{label:"Valor Simulado",type:"number",value:A,onChange:q=>T(q.target.value),placeholder:"Ex: 500"}),b.jsx(Et,{label:"Tipo",options:Om.filter(q=>q.value!==xe.TRANSFER),value:O,onChange:q=>M(q.target.value)}),b.jsx($e,{label:"Data Simulado",type:"date",value:E,onChange:q=>D(q.target.value)})]})]}),b.jsxs(be,{onClick:Q,variant:"secondary",size:"sm",className:"w-full sm:w-auto",children:[b.jsx(bS,{className:"w-4 h-4 mr-1.5"}),"Gerar Previso de Caixa (30d) ",C&&A?"com Simulao":""]})]}),U.length===0?b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8 mt-4",children:"Nenhum conselho ou comentrio do AI Coach ainda. Interaja com o app ou pea uma nova anlise!"}):b.jsx("ul",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 mt-4",children:U.map(q=>{const $=L(q.type);return b.jsx("li",{className:`p-4 rounded-lg shadow-sm border-l-4
                                    ${$.borderColorClass} ${$.bgColorClass}
                                    ${q.isLoading?"opacity-60 animate-pulse":""}
                                    ${!q.is_read&&!q.isLoading?"cursor-pointer hover:shadow-md":""}`,onClick:()=>G(q),onKeyDown:z=>{(z.key==="Enter"||z.key===" ")&&G(q)},tabIndex:!q.is_read&&!q.isLoading?0:void 0,role:!q.is_read&&!q.isLoading?"button":void 0,"aria-label":!q.is_read&&!q.isLoading?"Marcar como lido":void 0,children:b.jsxs("div",{className:"flex items-start",children:[$.icon,b.jsxs("div",{className:"flex-1",children:[F(q),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1.5",children:[Yn(q.timestamp,"pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),q.related_transaction_id&&b.jsx("span",{className:"ml-2",children:" (Ref. Transao)"}),q.related_category_id&&q.type==="budget_recommendation"&&b.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),q.related_category_id&&(q.type==="spending_anomaly_category"||q.type==="budget_overspend_projection"||q.type==="unusual_transaction_value")&&b.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),!q.is_read&&!q.isLoading&&b.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Novo"})]})]})]})},q.id)})})]})}),!t.isEnabled&&t.apiKeyStatus==="available"&&b.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-700/20 border border-yellow-400 dark:border-yellow-600 text-yellow-700 dark:text-yellow-300 px-4 py-3 rounded-lg",role:"alert",children:b.jsx("p",{children:"O AI Coach est atualmente desativado. Ative-o acima para receber dicas e comentrios personalizados."})})]})},Gue=({className:t="w-5 h-5",style:e})=>b.jsxs("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),b.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),b.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),b.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),b.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),Cm=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),Hue=({onLoginWithGoogle:t,isLoading:e})=>b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background dark:bg-backgroundDark p-4 text-textBase dark:text-textBaseDark",children:[b.jsxs("div",{className:"w-full max-w-sm bg-surface dark:bg-surfaceDark shadow-2xl rounded-xl p-8 space-y-8 text-center",children:[b.jsx(Cm,{className:"w-20 h-20 text-primary dark:text-primaryDark mx-auto mb-4"}),b.jsxs("h1",{className:"text-3xl font-bold text-textBase dark:text-textBaseDark",children:["Bem-vindo ao ",Rc]}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Faa login com sua conta Google para acessar suas finanas."}),b.jsxs(be,{variant:"primary",size:"lg",className:"w-full !py-3 flex items-center justify-center !bg-white !text-neutral-700 hover:!bg-gray-100 border border-gray-300 dark:!bg-slate-700 dark:!text-slate-200 dark:hover:!bg-slate-600 dark:border-slate-500",onClick:t,disabled:e,children:[b.jsx(Gue,{className:"w-5 h-5 mr-3"}),e?"Conectando...":"Entrar com Google"]}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark pt-4",children:"Ao continuar, voc concorda com nossos Termos de Servio e Poltica de Privacidade (simulados)."})]}),b.jsx("footer",{className:"mt-8 text-center text-xs text-textMuted dark:text-textMutedDark",children:b.jsxs("p",{children:[" ",new Date().getFullYear()," ",Rc,". Todos os direitos reservados."]})})]}),LS=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6V5.25m0 0A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25v.75m0 0a2.25 2.25 0 0 1-2.25 2.25h-13.5A2.25 2.25 0 0 1 3 6m18 0v12.75A2.25 2.25 0 0 1 18.75 21H5.25A2.25 2.25 0 0 1 3 18.75V6.75m15-3h-15"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 12H18m-2.25 3H18m-2.25-3a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM12 6.75h.008v.008H12V6.75Z"})]}),Kue=[{value:"credit_card_balance",label:"Saldo de Carto de Crdito"},{value:"personal_loan",label:"Emprstimo Pessoal"},{value:"student_loan",label:"Emprstimo Estudantil"},{value:"mortgage",label:"Hipoteca / Financiamento Imob."},{value:"car_loan",label:"Financiamento de Veculo"},{value:"other",label:"Outra Dvida"}],Yue=({isOpen:t,onClose:e,onSave:n,existingDebt:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState("other"),[d,c]=j.useState(""),[h,m]=j.useState(""),[y,_]=j.useState(""),[S,A]=j.useState(""),[T,O]=j.useState({});j.useEffect(()=>{var D;t&&(r?(i(r.name),u(r.type),c(r.initial_balance.toString()),m(r.interest_rate_annual.toString()),_(r.minimum_payment.toString()),A(((D=r.due_date_day_of_month)==null?void 0:D.toString())||"")):(i(""),u("other"),c(""),m(""),_(""),A("")),O({}))},[r,t]);const M=()=>{const D={};a.trim()||(D.name="Nome da dvida  obrigatrio.");const C=parseFloat(d);(isNaN(C)||C<=0)&&(D.initialBalance="Saldo inicial deve ser positivo.");const k=parseFloat(h);(isNaN(k)||k<0)&&(D.interestRateAnnual="Taxa de juros deve ser um nmero no negativo.");const P=parseFloat(y);if((isNaN(P)||P<=0)&&(D.minimumPayment="Pagamento mnimo deve ser positivo."),S){const R=parseInt(S,10);(isNaN(R)||R<1||R>31)&&(D.dueDateDayOfMonth="Dia de vencimento deve ser entre 1 e 31.")}return O(D),Object.keys(D).length===0},E=()=>{if(!M())return;const D={name:a.trim(),type:s,initial_balance:parseFloat(d),interest_rate_annual:parseFloat(h),minimum_payment:parseFloat(y),due_date_day_of_month:S?parseInt(S,10):void 0},C=r?{...D,id:r.id}:D;n(C),e()};return b.jsx(Tn,{isOpen:t,onClose:e,title:r?"Editar Dvida":"Nova Dvida",size:"lg",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx($e,{label:"Nome da Dvida",id:"debtName",value:a,onChange:D=>i(D.target.value),error:T.name,placeholder:"Ex: Carto XP Fatura, Financiamento Carro",required:!0}),b.jsx(Et,{label:"Tipo de Dvida",id:"debtType",options:Kue,value:s,onChange:D=>u(D.target.value),required:!0}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx($e,{label:"Saldo Devedor Inicial (R$)",id:"initialBalance",type:"number",step:"0.01",value:d,onChange:D=>c(D.target.value),error:T.initialBalance,required:!0}),b.jsx($e,{label:"Taxa de Juros Anual (%)",id:"interestRateAnnual",type:"number",step:"0.01",value:h,onChange:D=>m(D.target.value),error:T.interestRateAnnual,placeholder:"Ex: 19.9 para 19.9%",required:!0})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx($e,{label:"Pagamento Mnimo Mensal (R$)",id:"minimumPayment",type:"number",step:"0.01",value:y,onChange:D=>_(D.target.value),error:T.minimumPayment,required:!0}),b.jsx($e,{label:"Dia de Vencimento (Opcional)",id:"dueDateDayOfMonth",type:"number",min:"1",max:"31",value:S,onChange:D=>A(D.target.value),error:T.dueDateDayOfMonth,placeholder:"Ex: 15"})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"button",variant:"primary",onClick:E,children:r?"Salvar Alteraes":"Adicionar Dvida"})]})]})})},Wue=({isOpen:t,onClose:e,onSave:n,debt:r,accounts:a})=>{const[i,s]=j.useState(""),[u,d]=j.useState(vt()),[c,h]=j.useState(""),[m,y]=j.useState(!1),[_,S]=j.useState(""),[A,T]=j.useState({});j.useEffect(()=>{t&&(s(""),d(vt()),h(""),y(!1),S(a.length>0?a[0].id:""),T({}))},[t,a]);const O=()=>{const E={},D=parseFloat(i);return(isNaN(D)||D<=0)&&(E.amountPaid="Valor pago deve ser positivo."),u||(E.paymentDate="Data do pagamento  obrigatria."),m&&!_&&(E.linkedAccountId="Conta de origem da despesa  obrigatria."),T(E),Object.keys(E).length===0},M=()=>{if(!O())return;const E={debt_id:r.id,amount_paid:parseFloat(i),payment_date:u,notes:c.trim()||void 0};n(E,m,_),e()};return b.jsx(Tn,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.name}`,children:b.jsxs("div",{className:"space-y-4",children:[b.jsx($e,{label:"Valor Pago (R$)",id:"debtPaymentAmount",type:"number",step:"0.01",value:i,onChange:E=>s(E.target.value),error:A.amountPaid,required:!0}),b.jsx($e,{label:"Data do Pagamento",id:"debtPaymentDate",type:"date",value:u,onChange:E=>d(E.target.value),error:A.paymentDate,required:!0}),b.jsx(Md,{label:"Notas (Opcional)",id:"debtPaymentNotes",value:c,onChange:E=>h(E.target.value),rows:2,placeholder:"Ex: Pagamento parcial, acordo..."}),a.length>0&&b.jsxs("div",{className:"pt-2",children:[b.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:m,onChange:E=>y(E.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark shadow-sm"}),b.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Registrar como despesa em uma conta?"})]}),m&&b.jsx(Et,{containerClassName:"mt-2",label:"Conta de Origem da Despesa",id:"debtPaymentLinkedAccount",options:a.map(E=>({value:E.id,label:E.name})),value:_,onChange:E=>S(E.target.value),error:A.linkedAccountId,placeholder:"Selecione uma conta"})]}),A.form&&b.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:A.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-3",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"button",variant:"primary",onClick:M,children:"Salvar Pagamento"})]})]})})},Xue=(t,e,n)=>{let r=JSON.parse(JSON.stringify(t)).filter(c=>c.current_balance>0&&!c.is_archived).map(c=>({...c,workingBalance:c.current_balance,interestPaidThisDebt:0,monthsToPayoffThisDebt:0,monthlyPaymentsLog:[]})),a=0,i=0;const s=720,u=[];for(;r.some(c=>c.workingBalance>0)&&a<s;){a++;let c=e;for(const m of r){if(m.workingBalance<=0)continue;const y=m.interest_rate_annual/100/12,_=m.workingBalance*y;m.workingBalance+=_,m.interestPaidThisDebt+=_,i+=_}for(const m of r){if(m.workingBalance<=0)continue;const y=Math.min(m.workingBalance,m.minimum_payment),_=Math.min(m.workingBalance*(m.interest_rate_annual/100/12),y),S=y-_;m.workingBalance-=y,m.monthlyPaymentsLog.push({month:a,payment:y,interest:_,principal:S,remainingBalance:m.workingBalance}),m.workingBalance<=0&&(c+=m.minimum_payment)}let h=r.filter(m=>m.workingBalance>0);if(c>0&&h.length>0){n==="snowball"?h.sort((m,y)=>m.workingBalance-y.workingBalance):n==="avalanche"?h.sort((m,y)=>y.interest_rate_annual-m.interest_rate_annual):n==="minimums"&&h.length>0&&h.sort((m,y)=>m.workingBalance-y.workingBalance);for(const m of h){if(c<=0)break;if(m.workingBalance<=0)continue;const y=Math.min(m.workingBalance,c);m.workingBalance-=y,c-=y;const _=m.monthlyPaymentsLog.findIndex(S=>S.month===a);_>-1?(m.monthlyPaymentsLog[_].payment+=y,m.monthlyPaymentsLog[_].principal+=y,m.monthlyPaymentsLog[_].remainingBalance=m.workingBalance):m.monthlyPaymentsLog.push({month:a,payment:y,interest:0,principal:y,remainingBalance:m.workingBalance}),m.workingBalance<=0&&(c+=m.minimum_payment)}}r.forEach(m=>{m.workingBalance<=0&&!u.find(y=>y.debtId===m.id)&&(m.monthsToPayoffThisDebt=a,u.push({debtId:m.id,monthsToPayoffThisDebt:m.monthsToPayoffThisDebt,interestPaidThisDebt:m.interestPaidThisDebt,principalPaidThisDebt:m.initial_balance,monthlyPayments:m.monthlyPaymentsLog}))}),r=r.filter(m=>m.workingBalance>0)}t.filter(c=>c.current_balance>0&&!c.is_archived).forEach(c=>{if(!u.find(h=>h.debtId===c.id)){const h=r.find(m=>m.id===c.id)||t.find(m=>m.id===c.id);u.push({debtId:c.id,monthsToPayoffThisDebt:(h==null?void 0:h.workingBalance)>0&&a>=s?s:(h==null?void 0:h.monthsToPayoffThisDebt)||a,interestPaidThisDebt:(h==null?void 0:h.interestPaidThisDebt)||0,principalPaidThisDebt:c.initial_balance-((h==null?void 0:h.workingBalance)>0?h.workingBalance:0),monthlyPayments:(h==null?void 0:h.monthlyPaymentsLog)||[]})}});const d=u.reduce((c,h)=>c+h.principalPaidThisDebt,0);return{strategy:n,monthsToPayoff:a>=s&&t.filter(c=>!c.is_archived).some(c=>{const h=u.find(m=>m.debtId===c.id);return h?c.initial_balance-h.principalPaidThisDebt>.01:c.current_balance>.01})?-1:a,totalInterestPaid:i,totalPrincipalPaid:d,totalPaid:i+d,payoffDetails:u.sort((c,h)=>{var m,y;if(c.monthsToPayoffThisDebt===h.monthsToPayoffThisDebt){const _=((m=t.find(A=>A.id===c.debtId))==null?void 0:m.initial_balance)||0,S=((y=t.find(A=>A.id===h.debtId))==null?void 0:y.initial_balance)||0;return _-S}return c.monthsToPayoffThisDebt-h.monthsToPayoffThisDebt})}},Zue=({debt:t,onRegisterPayment:e,onEdit:n,onDelete:r,hasPayments:a,isPrivacyModeEnabled:i})=>{const s=t.initial_balance>0?Math.max(0,Math.min((t.initial_balance-t.current_balance)/t.initial_balance*100,100)):0;return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:t.type==="credit_card_balance"?"Saldo de Carto":t.type==="personal_loan"?"Emprstimo Pessoal":"Outra Dvida"})]}),b.jsxs("div",{className:"flex space-x-1",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Dvida",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Dvida",className:"!p-1.5",disabled:a,title:a?"Exclua os pagamentos desta dvida primeiro":"Excluir Dvida",children:b.jsx(Qr,{className:`w-4 h-4 ${a?"text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),b.jsxs("div",{children:[b.jsxs("p",{className:"text-xl font-bold text-destructive dark:text-destructiveDark",children:["Saldo Devedor: ",ye(t.current_balance,"BRL","pt-BR",i)]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Taxa de Juros: ",t.interest_rate_annual,"% a.a. | Mnimo: ",ye(t.minimum_payment,"BRL","pt-BR",i)]}),t.due_date_day_of_month&&b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Vencimento usual: Dia ",t.due_date_day_of_month]})]}),t.initial_balance>0&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[b.jsx("span",{children:"Progresso"}),b.jsxs("span",{children:[s.toFixed(0),"%"]})]}),b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:b.jsx("div",{className:"h-2 rounded-full bg-secondary dark:bg-secondaryDark",style:{width:`${s}%`}})})]}),t.current_balance>0&&b.jsxs(be,{variant:"secondary",size:"sm",onClick:()=>e(t),children:[b.jsx(Bn,{className:"w-4 h-4 mr-1"})," Registrar Pagamento"]}),t.current_balance<=0&&b.jsx("p",{className:"text-sm font-semibold text-secondary dark:text-secondaryDark",children:"Dvida Quitada!"})]})},Jue=({debts:t,debtPayments:e,accounts:n,onAddDebt:r,onUpdateDebt:a,onDeleteDebt:i,onAddDebtPayment:s,onFetchDebtStrategyExplanation:u,onFetchDebtProjectionSummary:d,isPrivacyModeEnabled:c})=>{var _e;const[h,m]=j.useState(!1),[y,_]=j.useState(null),[S,A]=j.useState(!1),[T,O]=j.useState(null),[M,E]=j.useState("0"),[D,C]=j.useState("snowball"),[k,P]=j.useState(null),[R,U]=j.useState(!1),[F,L]=j.useState(!1),[G,Q]=j.useState(!1),H=()=>{_(null),m(!0)},q=pe=>{_(pe),m(!0)},$=pe=>{O(pe),A(!0)},z=j.useMemo(()=>t.filter(pe=>!pe.is_archived).reduce((pe,ke)=>pe+ke.current_balance,0),[t]),Z=j.useMemo(()=>t.filter(pe=>!pe.is_archived&&pe.current_balance>0).reduce((pe,ke)=>pe+ke.minimum_payment,0),[t]),se=pe=>e.some(ke=>ke.debt_id===pe),B=()=>{U(!0),P(null);const pe=t.filter(ut=>!ut.is_archived&&ut.current_balance>0);if(pe.length===0){alert("Nenhuma dvida ativa para calcular o plano."),U(!1);return}const ke=Xue(pe,parseFloat(M)||0,D);P(ke),U(!1)},K=async pe=>{L(!0),await u(pe)},re=async()=>{k&&(Q(!0),await d(k,t.filter(pe=>!pe.is_archived&&pe.current_balance>0),D))},ce=[{value:"minimums",label:"Apenas Pagamentos Mnimos"},{value:"snowball",label:"Bola de Neve (Menor Saldo Primeiro)"},{value:"avalanche",label:"Avalanche (Maior Juros Primeiro)"}];return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(LS,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Planejador de Dvidas"})]}),b.jsxs(be,{onClick:H,variant:"primary",children:[b.jsx(Bn,{className:"w-5 h-5 mr-2"}),"Adicionar Dvida"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"TOTAL DE DVIDAS ATUAIS"}),b.jsx("p",{className:"text-3xl font-bold text-destructive dark:text-destructiveDark",children:ye(z,"BRL","pt-BR",c)})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SOMA DOS PAGAMENTOS MNIMOS"}),b.jsxs("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-500",children:[ye(Z,"BRL","pt-BR",c)," / ms"]})]})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30 space-y-4",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Estratgia de Quitao"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[b.jsx($e,{label:"Pagamento Extra Mensal (R$)",id:"extraPayment",type:"number",step:"0.01",min:"0",value:M,onChange:pe=>E(pe.target.value),placeholder:"Ex: 100.00"}),b.jsx(Et,{label:"Escolha a Estratgia",id:"debtStrategy",options:ce,value:D,onChange:pe=>C(pe.target.value)})]}),b.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[b.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>K("snowball"),className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline",children:[b.jsx(qo,{className:"w-3.5 h-3.5 mr-1"})," Entenda: Bola de Neve"]}),b.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>K("avalanche"),className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline",children:[b.jsx(qo,{className:"w-3.5 h-3.5 mr-1"})," Entenda: Avalanche"]})]}),b.jsx(be,{onClick:B,variant:"primary",disabled:R,className:"w-full sm:w-auto",children:R?"Calculando...":"Calcular Plano de Quitao"}),k&&b.jsxs("div",{className:"mt-4 pt-4 border-t border-borderBase dark:border-borderBaseDark space-y-3",children:[b.jsxs("h3",{className:"text-lg font-semibold",children:["Resultado da Projeo (",(_e=ce.find(pe=>pe.value===D))==null?void 0:_e.label,"):"]}),b.jsxs("p",{children:["Tempo para quitar todas as dvidas: ",b.jsxs("span",{className:"font-bold",children:[(k.monthsToPayoff/12).toFixed(1)," anos"]})," (",k.monthsToPayoff," meses)"]}),b.jsxs("p",{children:["Total de Juros Pagos: ",b.jsx("span",{className:"font-bold",children:ye(k.totalInterestPaid,"BRL","pt-BR",c)})]}),b.jsxs("p",{children:["Total Principal Pago: ",b.jsx("span",{className:"font-bold",children:ye(k.totalPrincipalPaid,"BRL","pt-BR",c)})]}),b.jsx("h4",{className:"text-md font-semibold mt-2",children:"Ordem de Quitao:"}),b.jsx("ul",{className:"list-decimal list-inside text-sm space-y-1",children:k.payoffDetails.map(pe=>{const ke=t.find(ut=>ut.id===pe.debtId);return b.jsxs("li",{children:[b.jsx("strong",{children:(ke==null?void 0:ke.name)||"Dvida Desconhecida"}),": Quitada em ",pe.monthsToPayoffThisDebt," meses. Juros pagos nesta dvida: ",ye(pe.interestPaidThisDebt,"BRL","pt-BR",c),"."]},pe.debtId)})}),b.jsxs(be,{variant:"ghost",size:"sm",onClick:re,className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline mt-2",children:[b.jsx(qo,{className:"w-3.5 h-3.5 mr-1"})," Obter Resumo da IA sobre este plano"]})]})]}),t.filter(pe=>!pe.is_archived).length>0?b.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.filter(pe=>!pe.is_archived).sort((pe,ke)=>pe.name.localeCompare(ke.name)).map(pe=>b.jsx(Zue,{debt:pe,onRegisterPayment:$,onEdit:q,onDelete:i,hasPayments:se(pe.id),isPrivacyModeEnabled:c},pe.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma dvida cadastrada. Adicione suas dvidas para comear a planejar!"}),h&&b.jsx(Yue,{isOpen:h,onClose:()=>m(!1),onSave:y?pe=>a({...pe,id:y.id}):r,existingDebt:y}),S&&T&&b.jsx(Wue,{isOpen:S,onClose:()=>A(!1),onSave:s,debt:T,accounts:n}),b.jsx(Tn,{isOpen:F,onClose:()=>L(!1),title:"Explicao da Estratgia (IA)",children:b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Buscando explicao da IA... Verifique o AI Coach para a resposta completa."})}),b.jsx(Tn,{isOpen:G,onClose:()=>Q(!1),title:"Resumo do Plano (IA)",children:b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Buscando resumo da IA... Verifique o AI Coach para a resposta completa."})})]})},Que=({profiles:t,onSelectProfile:e,onCreateProfile:n})=>{const[r,a]=j.useState(""),[i,s]=j.useState(""),u=()=>{if(!r.trim()){s("O nome do perfil no pode ser vazio.");return}if(t.some(d=>d.name.toLowerCase()===r.trim().toLowerCase())){s("J existe um perfil com este nome.");return}s(""),n(r.trim()),a("")};return b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background dark:bg-backgroundDark p-4 text-textBase dark:text-textBaseDark",children:[b.jsxs("div",{className:"w-full max-w-md bg-surface dark:bg-surfaceDark shadow-2xl rounded-xl p-8 space-y-8",children:[b.jsxs("div",{className:"text-center",children:[b.jsx(Cm,{className:"w-16 h-16 text-primary dark:text-primaryDark mx-auto mb-4"}),b.jsxs("h1",{className:"text-3xl font-bold text-textBase dark:text-textBaseDark",children:["Bem-vindo ao ",Rc]}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark mt-2",children:"Selecione um perfil ou crie um novo para comear."})]}),t.length>0&&b.jsxs("div",{className:"space-y-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark border-b border-borderBase dark:border-borderBaseDark pb-2",children:"Selecionar Perfil Existente"}),b.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.map(d=>b.jsx("li",{children:b.jsxs(be,{variant:"ghost",className:"w-full !justify-start text-left !py-3 !px-4 hover:!bg-primary/10 dark:hover:!bg-primaryDark/10",onClick:()=>e(d.id),children:[b.jsx(Cm,{className:"w-5 h-5 mr-3 flex-shrink-0"}),d.name]})},d.id))})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark border-b border-borderBase dark:border-borderBaseDark pb-2",children:t.length>0?"Ou Crie um Novo Perfil":"Crie seu Primeiro Perfil"}),b.jsx($e,{id:"newProfileName",label:"Nome do Novo Perfil",value:r,onChange:d=>a(d.target.value),placeholder:"Ex: Finanas Pessoais, Meu Negcio",error:i}),b.jsx(be,{variant:"primary",onClick:u,className:"w-full !py-3",children:"Criar e Usar Perfil"})]})]}),b.jsx("footer",{className:"mt-8 text-center text-xs text-textMuted dark:text-textMutedDark",children:b.jsxs("p",{children:[" ",new Date().getFullYear()," ",Rc,". Todos os direitos reservados."]})})]})},ece=({onSubmit:t,onCancel:e,accounts:n,creditCards:r,categories:a,tags:i,initialTransaction:s,isPrivacyModeEnabled:u})=>{var z;const[d,c]=j.useState((s==null?void 0:s.type)||xe.EXPENSE),[h,m]=j.useState((s==null?void 0:s.amount.toString())||""),[y,_]=j.useState((s==null?void 0:s.category_id)||""),[S,A]=j.useState((s==null?void 0:s.description)||""),[T,O]=j.useState((s==null?void 0:s.date)||vt()),[M,E]=j.useState((s==null?void 0:s.account_id)||(n.length>0?n[0].id:"")),[D,C]=j.useState((s==null?void 0:s.to_account_id)||(n.length>1?n[1].id:"")),[k,P]=j.useState((s==null?void 0:s.tag_ids)||[]),[R,U]=j.useState({}),F=j.useMemo(()=>{const Z=n.map(B=>({value:B.id,label:`Conta: ${B.name}`,type:"account"})),se=r.map(B=>({value:B.id,label:`Carto: ${B.name}`,type:"creditCard"}));return[...Z,...se]},[n,r]);j.useEffect(()=>{var Z,se,B,K;s?(c(s.type),m(s.amount.toString()),_(s.category_id||""),A(s.description||""),O(s.date),E(s.account_id),C(s.to_account_id||""),P(s.tag_ids||[])):(c(xe.EXPENSE),m(""),_(((Z=a.filter(re=>re.type===xe.EXPENSE)[0])==null?void 0:Z.id)||""),A(""),O(vt()),E(((se=F[0])==null?void 0:se.value)||""),C(((B=n[1])==null?void 0:B.id)||((K=n[0])==null?void 0:K.id)||""),P([]))},[s,n,a,F]),j.useEffect(()=>{var se;if(d!==xe.TRANSFER){const B=a.find(K=>K.id===y);if(!B||B.type!==d){const K=a.find(re=>re.type===d);_((K==null?void 0:K.id)||"")}}const Z=F.find(B=>B.value===M);(Z==null?void 0:Z.type)==="creditCard"&&(d===xe.INCOME||d===xe.TRANSFER)&&E(((se=n[0])==null?void 0:se.id)||"")},[d,y,a,M,n,F]);const L=()=>{const Z={};(!h||parseFloat(h)<=0)&&(Z.amount="Valor deve ser maior que zero.");const se=F.find(B=>B.value===M);return d!==xe.TRANSFER&&!y&&(se==null?void 0:se.type)!=="creditCard"&&(y||(Z.categoryId="Categoria  obrigatria.")),M||(Z.sourceId="Origem (Conta/Carto)  obrigatria."),d===xe.TRANSFER&&!D&&(Z.toAccountId="Conta de destino  obrigatria."),d===xe.TRANSFER&&M===D&&(Z.toAccountId="Conta de origem e destino no podem ser iguais."),d===xe.TRANSFER&&(se==null?void 0:se.type)==="creditCard"&&(Z.sourceId="Transferncias no podem originar de um carto de crdito."),T||(Z.date="Data  obrigatria."),U(Z),Object.keys(Z).length===0},G=Z=>{if(Z.preventDefault(),!L())return;const se={...s?{id:s.id}:{},type:d,amount:parseFloat(h),category_id:d===xe.TRANSFER?void 0:y,description:S,date:T,account_id:M,to_account_id:d===xe.TRANSFER?D:void 0,tag_ids:k.length>0?k:void 0};t(se)},Q=Z=>{const se=Z.target.options,B=[];for(let K=0,re=se.length;K<re;K++)se[K].selected&&B.push(se[K].value);P(B)},H=a.filter(Z=>Z.type===d),q=i.map(Z=>({value:Z.id,label:Z.name})),$=((z=F.find(Z=>Z.value===M))==null?void 0:z.type)==="creditCard";return b.jsxs("form",{onSubmit:G,className:"space-y-4",children:[b.jsx(Et,{label:"Tipo",id:"type",options:Om,value:d,onChange:Z=>c(Z.target.value)}),b.jsx($e,{label:"Valor",id:"amount",type:"number",step:"0.01",value:h,onChange:Z=>m(Z.target.value),error:R.amount,placeholder:u?ye(0,"BRL","pt-BR",!0).replace("0,00","Ex: 123.45"):"Ex: 123.45",required:!0}),d!==xe.TRANSFER&&b.jsx(Et,{label:$&&d===xe.EXPENSE?"Categoria (Opcional para Dbito Direto no Carto)":"Categoria",id:"category",options:H.map(Z=>({value:Z.id,label:Z.name})),value:y,onChange:Z=>_(Z.target.value),error:R.categoryId,placeholder:"Selecione uma categoria",disabled:H.length===0}),b.jsx($e,{label:"Descrio (Opcional)",id:"description",type:"text",value:S,onChange:Z=>A(Z.target.value),placeholder:$&&d===xe.EXPENSE?"Ex: Academia, Assinatura Spotify (ser usado na fatura)":"Ex: Compras no mercado"}),b.jsx($e,{label:"Data",id:"date",type:"date",value:T,onChange:Z=>O(Z.target.value),error:R.date,required:!0}),b.jsx(Et,{label:d===xe.TRANSFER?"Debitar de (Conta)":"Debitar de (Conta / Carto)",id:"sourceId",options:d===xe.TRANSFER?F.filter(Z=>Z.type==="account"):F,value:M,onChange:Z=>E(Z.target.value),error:R.sourceId,placeholder:"Selecione uma origem",disabled:F.length===0}),d===xe.TRANSFER&&b.jsx(Et,{label:"Conta de Destino",id:"toAccountId",options:n.map(Z=>({value:Z.id,label:Z.name})),value:D,onChange:Z=>C(Z.target.value),error:R.toAccountId,placeholder:"Selecione uma conta de destino",disabled:n.length===0}),i.length>0&&b.jsx(Et,{label:"Tags (Opcional, segure Ctrl/Cmd para selecionar vrias)",id:"tags",multiple:!0,options:q,value:k,onChange:Q,containerClassName:"h-auto",className:"h-24"}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"submit",variant:"primary",children:s?"Salvar Alteraes":"Adicionar Transao"})]})]})},tce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-6.364-.386 1.591-1.591M3 12h2.25m.386-6.364 1.591 1.591M12 12a2.25 2.25 0 0 0-2.25 2.25 2.25 2.25 0 0 0 2.25 2.25A2.25 2.25 0 0 0 14.25 12 2.25 2.25 0 0 0 12 12Z"})}),nce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),rce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25Z"})}),ace=({theme:t,setTheme:e})=>{const n=[{name:"light",label:"Claro",icon:b.jsx(tce,{className:"w-4 h-4"})},{name:"dark",label:"Escuro",icon:b.jsx(nce,{className:"w-4 h-4"})},{name:"system",label:"Sistema",icon:b.jsx(rce,{className:"w-4 h-4"})}];return b.jsxs("div",{className:"p-2",children:[b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark mb-1 px-1",children:"Tema"}),b.jsx("div",{className:"flex items-center justify-around bg-neutral/10 dark:bg-neutralDark/20 rounded-md p-1",children:n.map(r=>b.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>e(r.name),className:`flex-1 !px-2 !py-1 text-xs transition-all duration-200 ease-in-out
                        ${t===r.name?"!bg-primary/20 dark:!bg-primaryDark/30 !text-primary dark:!text-primaryDark":"hover:!bg-neutral/20 dark:hover:!bg-neutralDark/30 !text-textMuted dark:!text-textMutedDark"}`,title:`Mudar para tema ${r.label.toLowerCase()}`,"aria-pressed":t===r.name,children:[J.cloneElement(r.icon,{className:"w-4 h-4 sm:mr-1"}),b.jsx("span",{className:"hidden sm:inline",children:r.label})]},r.name))})]})},ice=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),oce=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93s.844.179 1.259.038l.821-.393c.55-.263 1.18.055 1.39.606l.548 1.004c.21.55-.056 1.18-.607 1.39l-.82.393c-.415.198-.688.598-.758 1.038s.038.844.179 1.259l.393.821c.263.55.055 1.18-.606 1.39l-1.004.548c-.55.21-1.18-.056-1.39-.607l-.393-.82c-.198-.415-.598-.688-1.038-.758s-.844-.038-1.259.179l-.821.393c-.55.263-1.18-.055-1.39-.606l-.548-1.004c-.21-.55.056-1.18.607-1.39l.82-.393c.415-.198.688.598-.758-1.038s-.038-.844-.179-1.259l-.393-.821c-.263-.55-.055-1.18.606-1.39l1.004-.548c.55-.21 1.18.056 1.39.607l.393.82c.198.415.598.688 1.038.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433l-.002-.003c-.043-.073-.086-.146-.129-.219l-.821-.393c-.415-.198-.688-.598-.758-1.038s.038-.844-.179-1.259l.393-.821A.991.991 0 0 0 12 3c-.55 0-1.02.398-1.11.94l-.149.894c-.07.424-.384.764-.78.93s-.844.179-1.259.038l-.821-.393a.991.991 0 0 0-1.433.287l-.003.002c-.073.043-.146.086-.219.129l-.393.821c-.198-.415-.598-.688-1.038.758s-.844-.038-1.259.179l-.821.393a.991.991 0 0 0-.287 1.433l.002.003c.043.073.086.146.129.219l.821.393c.415.198.688.598.758 1.038s-.038.844-.179-1.259l-.393.821a.991.991 0 0 0 1.433.287l.003-.002c.073-.043.146-.086.219-.129l.393-.821c.198-.415.598-.688 1.038-.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433L10.343 3.94Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})]}),sce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5L12 14.25L7.5 16.5V3.75m9 0H18A2.25 2.25 0 0 1 20.25 6v12A2.25 2.25 0 0 1 18 20.25H6A2.25 2.25 0 0 1 3.75 18V6A2.25 2.25 0 0 1 6 3.75h1.5m9 0h-9"})}),lce=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),uce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}),cce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"})}),dce=()=>{const{addToast:t}=tI(),[e,n]=j.useState(null),[r,a]=j.useState(null),[i,s]=j.useState(!0),[u,d]=j.useState(null),[c,h]=j.useState([]),[m,y]=j.useState(null),[_,S]=j.useState(!0),[A,T]=j.useState(!1),O=j.useRef(!1),[M,E]=j.useState(null),[D,C]=j.useState("system"),[k,P]=j.useState(!1),[R,U]=j.useState({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),[F,L]=j.useState([]),[G,Q]=j.useState([]),[H,q]=j.useState([]),[$,z]=j.useState([]),[Z,se]=j.useState([]),[B,K]=j.useState([]),[re,ce]=j.useState([]),[_e,pe]=j.useState([]),[ke,ut]=j.useState([]),[Ve,Ae]=j.useState([]),[je,qe]=j.useState([]),[ve,pt]=j.useState([]),[Qe,Xe]=j.useState([]),[Dt,dt]=j.useState([]),[or,Xn]=j.useState([]),[na,Ht]=j.useState(!0),[qt,Ut]=j.useState("DASHBOARD"),[no,Zn]=j.useState(!1),[xa,Wt]=j.useState(null),xr=j.useMemo(()=>{var V;return(m==null?void 0:m.name)||((V=r==null?void 0:r.user_metadata)==null?void 0:V.full_name)||(r==null?void 0:r.email)||"Usurio"},[r,m]),Nn=j.useCallback(async(V,X)=>{var W,ee;if(!X||!V){Ht(!1);return}Ht(!0);try{const{data:ae,error:de}=await Oe.from("user_preferences").select("*").eq("user_id",V).eq("profile_id",X).single();if(de&&de.code!=="PGRST116")throw de;if(ae)E(ae),C(ae.theme),P(ae.is_privacy_mode_enabled),U({isEnabled:ae.ai_is_enabled,monthlyIncome:ae.ai_monthly_income,autoBackupToFileEnabled:ae.ai_auto_backup_enabled,apiKeyStatus:va()?"available":"unavailable"});else{const En={id:Hr(),user_id:V,profile_id:X,theme:"system",is_privacy_mode_enabled:!1,ai_is_enabled:!1,ai_monthly_income:null,ai_auto_backup_enabled:!1},{data:Br,error:Kt}=await Oe.from("user_preferences").insert(En).select().single();if(Kt)throw Kt;Br&&E(Br),C(En.theme),P(En.is_privacy_mode_enabled),U({isEnabled:En.ai_is_enabled,monthlyIncome:En.ai_monthly_income,autoBackupToFileEnabled:En.ai_auto_backup_enabled,apiKeyStatus:va()?"available":"unavailable"})}const Se=En=>En.eq("user_id",V).eq("profile_id",X),[Ce,Le,Te,bt,gn,qn,Aa,sr,oo,Ea,_r,so,hi,cs,mi]=await Promise.all([Se(Oe.from("transactions").select("*")).order("date",{ascending:!1}),Se(Oe.from("accounts").select("*")).order("name"),Se(Oe.from("categories").select("*")).order("name"),Se(Oe.from("credit_cards").select("*")).order("name"),Se(Oe.from("installment_purchases").select("*")).order("purchase_date",{ascending:!1}),Se(Oe.from("money_boxes").select("*")).order("name"),Se(Oe.from("money_box_transactions").select("*")).order("date",{ascending:!1}),Se(Oe.from("future_purchases").select("*")).order("created_at",{ascending:!1}),Se(Oe.from("tags").select("*")).order("name"),Se(Oe.from("recurring_transactions").select("*")).order("next_due_date"),Se(Oe.from("loans").select("*")).order("loan_date",{ascending:!1}),Se(Oe.from("loan_repayments").select("*")).order("repayment_date",{ascending:!1}),Se(Oe.from("ai_insights").select("*")).order("timestamp",{ascending:!1}),Se(Oe.from("debts").select("*")).order("created_at",{ascending:!1}),Se(Oe.from("debt_payments").select("*")).order("payment_date",{ascending:!1})]);if(Ce.error)throw Ce.error;if(L(Ce.data),Le.error)throw Le.error;if(Q(Le.data),Te.error)throw Te.error;if(q(Te.data),bt.error)throw bt.error;if(z(bt.data),gn.error)throw gn.error;if(se(gn.data),qn.error)throw qn.error;if(K(qn.data),Aa.error)throw Aa.error;if(ce(Aa.data),sr.error)throw sr.error;if(pe(sr.data),oo.error)throw oo.error;if(ut(oo.data),Ea.error)throw Ea.error;if(Ae(Ea.data),_r.error)throw _r.error;if(qe(_r.data),so.error)throw so.error;if(pt(so.data),hi.error)throw hi.error;if(Xe(hi.data),cs.error)throw cs.error;if(dt(cs.data),mi.error)throw mi.error;if(Xn(mi.data),((W=Le.data)==null?void 0:W.length)===0){const En=Sq(V,X).map(qr=>({...qr,user_id:V,profile_id:X})),{data:Br,error:Kt}=await Oe.from("accounts").insert(En).select();if(Kt)throw Kt;Br&&Q(Br)}if(((ee=Te.data)==null?void 0:ee.length)===0){const En=_q(V,X).map(qr=>({...qr,user_id:V,profile_id:X})),{data:Br,error:Kt}=await Oe.from("categories").insert(En).select();if(Kt)throw Kt;Br&&q(Br)}Ut("DASHBOARD")}catch(ae){console.error("Error fetching user data:",ae),t(`Erro ao carregar dados do perfil: ${ae.message}`,"error")}finally{Ht(!1)}},[t]),ns=j.useCallback((V,X)=>{const W=X.find(ee=>ee.id===V);W&&r&&(y(W),localStorage.setItem(`lastActiveProfile_${r.id}`,V),Nn(r.id,V))},[r,Nn]),rs=j.useCallback(async V=>{if(!O.current){O.current=!0,S(!0),T(!1);try{const{data:X,error:W}=await Oe.from("user_profiles").select("*").eq("user_id",V);if(W)throw W;const ee=X||[];if(h(ee),ee.length>0){const ae=localStorage.getItem(`lastActiveProfile_${V}`),de=ee.find(Se=>Se.id===ae);de?ns(de.id,ee):(y(null),Ht(!1))}else y(null),Ht(!1)}catch(X){console.error("Error fetching profiles in fetchUserProfiles:",X),t(`Erro ao carregar perfis: ${X.message}`,"error"),h([]),y(null),Ht(!1)}finally{S(!1),T(!0),O.current=!1}}},[t,ns]);j.useEffect(()=>{s(!0),Oe.auth.getSession().then(({data:{session:X}})=>{n(X);const W=(X==null?void 0:X.user)??null;a(W),s(!1),W?rs(W.id):(T(!0),S(!1),Ht(!1),Ut("LOGIN"))});const{data:{subscription:V}}=Oe.auth.onAuthStateChange((X,W)=>{const ee=r;n(W);const ae=(W==null?void 0:W.user)??null;a(ae),(ae==null?void 0:ae.id)!==(ee==null?void 0:ee.id)?(y(null),h([]),L([]),Q([]),q([]),z([]),se([]),K([]),ce([]),pe([]),ut([]),Ae([]),qe([]),pt([]),Xe([]),dt([]),Xn([]),E(null),C("system"),P(!1),U({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),O.current=!1,ae?(s(!1),Ht(!0),rs(ae.id)):(s(!1),S(!1),T(!0),Ht(!1),Ut("LOGIN"),X==="SIGNED_OUT"&&t("Voc foi desconectado.","info"))):ae&&(X==="TOKEN_REFRESHED"||X==="USER_UPDATED")?(s(!1),!m&&!A&&!O.current&&rs(ae.id)):!ae&&!W&&(s(!1),S(!1),T(!0),Ht(!1),Ut("LOGIN"))});return()=>V.unsubscribe()},[]);const _p=async V=>{if(r)try{const{data:X,error:W}=await Oe.from("user_profiles").insert({user_id:r.id,name:V}).select().single();if(W)throw W;if(X){const ee=X,ae=[...c,ee];h(ae),ns(ee.id,ae),t(`Perfil "${V}" criado com sucesso!`,"success")}}catch(X){t(`Erro ao criar perfil: ${X.message}`,"error")}},_a=j.useCallback(async(V,X,W,ee)=>{if(!X||!V)return;const{error:ae}=await Oe.from("user_preferences").update({[W]:ee,updated_at:new Date().toISOString()}).eq("user_id",V).eq("profile_id",X);ae?(console.error(`Error updating user preference ${W}:`,ae),t(`Erro ao salvar preferncia (${W}): ${ae.message}`,"error")):E(de=>de?{...de,[W]:ee,updated_at:new Date().toISOString()}:null)},[t]),as=j.useCallback(V=>{C(V),r&&m&&_a(r.id,m.id,"theme",V)},[r,m,_a]),Sa=j.useCallback(()=>{const V=!k;P(V),r&&m&&_a(r.id,m.id,"is_privacy_mode_enabled",V)},[k,r,m,_a]),is=j.useCallback(V=>{if(!r||!m)return;const X={};V.isEnabled!==void 0&&(X.ai_is_enabled=V.isEnabled),V.monthlyIncome!==void 0&&(X.ai_monthly_income=V.monthlyIncome),V.autoBackupToFileEnabled!==void 0&&(X.ai_auto_backup_enabled=V.autoBackupToFileEnabled),U(W=>({...W,...V})),Object.keys(X).length>0&&Oe.from("user_preferences").update({...X,updated_at:new Date().toISOString()}).eq("user_id",r.id).eq("profile_id",m.id).then(({error:W})=>{W?(console.error("Error updating AI config in preferences:",W),t(`Erro ao salvar configuraes da IA: ${W.message}`,"error")):E(ee=>ee?{...ee,...X,updated_at:new Date().toISOString()}:null)})},[r,m,t]);j.useEffect(()=>{const V=X=>{X==="dark"||X==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};if(V(D),D==="system"){const X=window.matchMedia("(prefers-color-scheme: dark)"),W=()=>V("system");return X.addEventListener("change",W),()=>X.removeEventListener("change",W)}},[D]);const ro=async()=>{try{d(null);const{error:V}=await Oe.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/controle-financeiro/`}});if(V)throw V}catch(V){console.error("Error signing in with Google:",V),d(V.message||"Falha ao fazer login com Google."),t(V.message||"Falha ao fazer login com Google.","error")}},Sp=async()=>{try{const{error:V}=await Oe.auth.signOut();if(V)throw V}catch(V){console.error("Error signing out:",V),t(V.message||"Falha ao sair.","error")}},ii=j.useCallback(V=>{if(!r||!m)return 0;const X=G.find(W=>W.id===V);return X?F.reduce((W,ee)=>{if(ee.account_id===V){if(ee.type===xe.INCOME)return W+ee.amount;if(ee.type===xe.EXPENSE||ee.type===xe.TRANSFER)return W-ee.amount}else if(ee.to_account_id===V&&ee.type===xe.TRANSFER)return W+ee.amount;return W},X.initial_balance):0},[G,F,r,m]),oi=j.useCallback(V=>!r||!m?0:re.reduce((X,W)=>{if(W.money_box_id===V){if(W.type===yr.DEPOSIT)return X+W.amount;if(W.type===yr.WITHDRAWAL)return X-W.amount}return X},0),[re,r,m]),Xt=j.useCallback(V=>{if(!r||!m)return null;const X=new Date,W=vt(X),ee=X.getDate(),ae=X.getFullYear(),de=X.getMonth(),Se=new Date(ae,de+1,0).getDate();let Ce=[...F];if(V){const Te={id:`simulated-${Hr()}`,user_id:r.id,profile_id:m.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),type:V.type,amount:V.amount,date:V.date,description:V.description,account_id:"simulated_account"};Ce.push(Te)}const Le=()=>D==="system"?typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":D;return{currentDate:W,dayOfMonth:ee,daysInMonth:Se,accounts:G.map(Te=>({id:Te.id,name:Te.name})),accountBalances:G.map(Te=>({accountId:Te.id,balance:ii(Te.id)})),categories:H.map(Te=>({id:Te.id,name:Te.name,type:Te.type,monthly_budget:Te.monthly_budget})),transactions:Ce,moneyBoxes:B.map(Te=>({id:Te.id,name:Te.name,goal_amount:Te.goal_amount})),moneyBoxBalances:B.map(Te=>({moneyBoxId:Te.id,balance:oi(Te.id)})),loans:je.map(Te=>({id:Te.id,person_name:Te.person_name,total_amount_to_reimburse:Te.total_amount_to_reimburse})),outstandingLoanBalances:je.map(Te=>{const bt=ve.filter(gn=>gn.loan_id===Te.id).reduce((gn,qn)=>gn+qn.amount_paid,0);return{loanId:Te.id,outstanding:Te.total_amount_to_reimburse-bt}}),recurringTransactions:Ve.map(Te=>({id:Te.id,description:Te.description,amount:Te.amount,type:Te.type,next_due_date:Te.next_due_date,frequency:Te.frequency,category_id:Te.category_id})),futurePurchases:_e.map(Te=>({id:Te.id,name:Te.name,estimated_cost:Te.estimated_cost,priority:Te.priority,status:Te.status})),theme:Le(),monthlyIncome:R.monthlyIncome,simulatedTransactionData:V,debts:Dt}},[r,m,G,F,H,B,re,je,ve,Ve,_e,D,R.monthlyIncome,Dt,ii,oi]),St=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("ai_insights").insert({...V,user_id:r.id,profile_id:m.id}).select().single();W?t(`Erro ao salvar insight: ${W.message}`,"error"):X&&Xe(ee=>[X,...ee].sort((ae,de)=>new Date(de.timestamp).getTime()-new Date(ae.timestamp).getTime()))},wp=j.useCallback(async()=>{if(!r||!m||!R.isEnabled||R.apiKeyStatus!=="available")return;const V=Xt();if(!V)return;const X={timestamp:new Date().toISOString(),type:"general_advice",content:"Buscando novo conselho...",is_read:!1,isLoading:!0},W=Hr();Xe(ae=>[{...X,id:W,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...ae]);const ee=await aue(V);Xe(ae=>ae.filter(de=>de.id!==W)),ee&&St(ee)},[r,m,R.isEnabled,R.apiKeyStatus,Xt,St]),tu=j.useCallback(async V=>{var Ce,Le,Te;if(!r||!m||!R.isEnabled||R.apiKeyStatus!=="available")return;const X=Xt();if(!X)return;const W={timestamp:new Date().toISOString(),type:"transaction_comment",content:`Analisando transao: ${V.description||V.type}...`,related_transaction_id:V.id,is_read:!1,isLoading:!0},ee=Hr();Xe(bt=>[{...W,id:ee,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...bt]);const ae=V.category_id?(Ce=H.find(bt=>bt.id===V.category_id))==null?void 0:Ce.name:void 0,de=((Le=G.find(bt=>bt.id===V.account_id))==null?void 0:Le.name)||((Te=$.find(bt=>bt.id===V.account_id))==null?void 0:Te.name),Se=await iue(V,X,ae,de);Xe(bt=>bt.filter(gn=>gn.id!==ee)),Se&&St(Se)},[r,m,R.isEnabled,R.apiKeyStatus,H,G,$,Xt,St]),nu=j.useCallback(async V=>{if(!r||!m||!R.isEnabled||R.apiKeyStatus!=="available"||V.type!==xe.EXPENSE||!V.category_id)return;const X=Xt();if(!X)return;const W=H.find(Ce=>Ce.id===V.category_id);if(!W)return;const ee=V.date.substring(0,7),de=F.filter(Ce=>Ce.category_id===W.id&&Ce.date.startsWith(ee)&&Ce.type===xe.EXPENSE).reduce((Ce,Le)=>Ce+Le.amount,0);if(W.monthly_budget&&W.monthly_budget>0){const Ce=W.monthly_budget/X.daysInMonth*X.dayOfMonth;if(de>Ce*1.2){const Le=await uue(W.name,de,Ce,W.monthly_budget,X,W.id);Le&&St(Le)}}if(W.monthly_budget&&W.monthly_budget>0&&X.dayOfMonth>0){const Ce=de/X.dayOfMonth*X.daysInMonth,Le=X.daysInMonth-X.dayOfMonth;if(Ce>W.monthly_budget*1.05){const Te=await cue(W.name,de,W.monthly_budget,Le,Ce,X,W.id);Te&&St(Te)}}const Se=F.filter(Ce=>Ce.category_id===W.id&&Ce.id!==V.id).slice(0,20);if(Se.length>5){const Ce=await hue(V,W.name,Se);Ce&&St(Ce)}},[r,m,R,H,F,Xt,St]),ru=j.useCallback(async()=>{if(!r||!m||!R.isEnabled||R.apiKeyStatus!=="available")return;const V=Xt();if(!V)return;const X={timestamp:new Date().toISOString(),type:"recurring_payment_candidate",content:"Analisando possveis despesas recorrentes no cadastradas...",is_read:!1,isLoading:!0},W=Hr();Xe(ae=>[{...X,id:W,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...ae]);const ee=await due(F,Ve,V);Xe(ae=>ae.filter(de=>de.id!==W)),ee?St(ee):t("Nenhuma nova despesa recorrente bvia encontrada.","info")},[r,m,R,F,Ve,Xt,St,t]),au=j.useCallback(async()=>{if(!r||!m||!R.isEnabled||R.apiKeyStatus!=="available")return;const V=Xt();if(!V)return;const X={timestamp:new Date().toISOString(),type:"saving_opportunity_suggestion",content:"Buscando oportunidades de economia...",is_read:!1,isLoading:!0},W=Hr();Xe(ae=>[{...X,id:W,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...ae]);const ee=await fue(F,H,B,V);Xe(ae=>ae.filter(de=>de.id!==W)),ee?St(ee):t("Nenhuma oportunidade clara de economia encontrada no momento.","info")},[r,m,R,F,H,B,Xt,St,t]),Dd=j.useCallback(async(V=30,X)=>{if(!r||!m||!R.isEnabled||R.apiKeyStatus!=="available")return;const W=Xt(X);if(!W)return;const ee={timestamp:new Date().toISOString(),type:"cash_flow_projection",content:`Gerando projeo de fluxo de caixa para os prximos ${V} dias${X?" (com simulao)":""}...`,is_read:!1,isLoading:!0},ae=Hr();Xe(Se=>[{...ee,id:ae,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...Se]);const de=await mue(W,V);Xe(Se=>Se.filter(Ce=>Ce.id!==ae)),de&&St(de)},[r,m,R,Xt,St]),Tp=j.useCallback(async(V,X)=>{if(!r||!m||!R.isEnabled||R.apiKeyStatus!=="available"||!R.monthlyIncome)return t("Renda mensal no informada ou IA desativada.","warning"),null;const W=Xt();if(!W)return null;const ee=H.find(Ce=>Ce.name===V&&Ce.type===xe.EXPENSE),ae={timestamp:new Date().toISOString(),type:"budget_recommendation",content:`Calculando sugesto de oramento para ${V}...`,related_category_id:ee==null?void 0:ee.id,is_read:!1,isLoading:!0},de=Hr();Xe(Ce=>[{...ae,id:de,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...Ce]);const Se=await oue(V,R.monthlyIncome,X,W);if(Xe(Ce=>Ce.filter(Le=>Le.id!==de)),Se&&"suggestedBudget"in Se&&typeof Se.suggestedBudget=="number"){const Ce={content:`Sugesto para ${V}: ${ye(Se.suggestedBudget)}`,related_category_id:ee==null?void 0:ee.id,timestamp:new Date().toISOString(),type:"budget_recommendation",is_read:!1};return St(Ce),Se.suggestedBudget}else Se&&"content"in Se&&St(Se);return null},[r,m,R,H,Xt,t,St]),ra=j.useCallback(async V=>{if(!r||!m||!R.isEnabled||R.apiKeyStatus!=="available"){t("AI Coach desativado ou API Key indisponvel.","warning");return}const X=_e.find(ae=>ae.id===V);if(!X)return;const W=Xt();if(!W)return;pe(ae=>ae.map(de=>de.id===V?{...de,status:"AI_ANALYZING"}:de));const ee=await sue(X,W);if(ee&&"analysisText"in ee){const{data:ae,error:de}=await Oe.from("future_purchases").update({status:ee.recommendedStatus,ai_analysis:ee.analysisText,ai_analyzed_at:new Date().toISOString()}).eq("id",V).eq("user_id",r.id).eq("profile_id",m.id).select().single();de||!ae?(t(`Erro ao atualizar compra futura: ${(de==null?void 0:de.message)||"Falha"}`,"error"),pe(Se=>Se.map(Ce=>Ce.id===V?{...Ce,status:X.status}:Ce))):(pe(Se=>Se.map(Ce=>Ce.id===V?ae:Ce)),t(`Anlise para "${X.name}" concluda!`,"info"))}else ee&&"content"in ee&&(St(ee),pe(ae=>ae.map(de=>de.id===V?{...de,status:X.status}:de)))},[r,m,R,_e,Xt,t,St]),cn=async V=>{var ae;if(!r||!m)return;const X={...V,user_id:r.id,profile_id:m.id},{data:W,error:ee}=await Oe.from("transactions").insert(X).select().single();if(ee){t(`Erro: ${ee.message}`,"error");return}if(W&&(L(Se=>[W,...Se].sort((Ce,Le)=>new Date(Le.date).getTime()-new Date(Ce.date).getTime())),Zn(!1),tu(W),nu(W),t("Transao adicionada!","success"),$.some(Se=>Se.id===W.account_id)&&W.type===xe.EXPENSE)){const Se={credit_card_id:W.account_id,description:`Dbito na Fatura: ${W.description||((ae=H.find(Ce=>Ce.id===W.category_id))==null?void 0:ae.name)||"Despesa no Carto"}`,purchase_date:W.date,total_amount:W.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:W.id};await wa(Se,!1)}},Pn=async V=>{if(!r||!m||!V.id)return;if(!F.find(de=>de.id===V.id)){t("Erro: Transao original no encontrada.","error");return}const W={...V,profile_id:m.id},{data:ee,error:ae}=await Oe.from("transactions").update(W).eq("id",V.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();if(ae){t(`Erro ao atualizar transao: ${ae.message}`,"error");return}ee&&(L(de=>de.map(Se=>Se.id===ee.id?ee:Se).sort((Se,Ce)=>new Date(Ce.date).getTime()-new Date(Se.date).getTime())),Zn(!1),Wt(null),tu(ee),nu(ee),t("Transao atualizada!","success"))},si=async V=>{if(!r||!m)return;const{error:X}=await Oe.from("transactions").delete().eq("id",V).eq("user_id",r.id).eq("profile_id",m.id);X?t(`Erro: ${X.message}`,"error"):(L(W=>W.filter(ee=>ee.id!==V)),t("Transao excluda!","success"))},iu=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("accounts").insert({...V,user_id:r.id,profile_id:m.id}).select().single();W?t(`Erro: ${W.message}`,"error"):X&&(Q(ee=>[...ee,X].sort((ae,de)=>ae.name.localeCompare(de.name))),t("Conta adicionada!","success"))},Ap=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("accounts").update({...V,profile_id:m.id}).eq("id",V.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();W?t(`Erro: ${W.message}`,"error"):X&&(Q(ee=>ee.map(ae=>ae.id===X.id?X:ae).sort((ae,de)=>ae.name.localeCompare(de.name))),t("Conta atualizada!","success"))},Ep=async V=>{if(!(!r||!m)&&window.confirm("Excluir esta conta?")){const{error:X}=await Oe.from("accounts").delete().eq("id",V).eq("user_id",r.id).eq("profile_id",m.id);X?t(`Erro: ${X.message}`,"error"):(Q(W=>W.filter(ee=>ee.id!==V)),t("Conta excluda!","success"))}},Nd=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("categories").insert({...V,user_id:r.id,profile_id:m.id}).select().single();W?t(`Erro: ${W.message}`,"error"):X&&(q(ee=>[...ee,X].sort((ae,de)=>ae.name.localeCompare(de.name))),t("Categoria adicionada!","success"))},ao=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("categories").update({...V,profile_id:m.id}).eq("id",V.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();W?t(`Erro: ${W.message}`,"error"):X&&(q(ee=>ee.map(ae=>ae.id===X.id?X:ae).sort((ae,de)=>ae.name.localeCompare(de.name))),t("Categoria atualizada!","success"))},ou=async V=>{if(!(!r||!m)&&window.confirm("Excluir esta categoria?")){const{error:X}=await Oe.from("categories").delete().eq("id",V).eq("user_id",r.id).eq("profile_id",m.id);X?t(`Erro: ${X.message}`,"error"):(q(W=>W.filter(ee=>ee.id!==V)),t("Categoria excluda!","success"))}},li=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("credit_cards").insert({...V,user_id:r.id,profile_id:m.id}).select().single();W?t(`Erro: ${W.message}`,"error"):X&&(z(ee=>[...ee,X].sort((ae,de)=>ae.name.localeCompare(de.name))),t("Carto adicionado!","success"))},ui=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("credit_cards").update({...V,profile_id:m.id}).eq("id",V.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();W?t(`Erro: ${W.message}`,"error"):X&&(z(ee=>ee.map(ae=>ae.id===X.id?X:ae).sort((ae,de)=>ae.name.localeCompare(de.name))),t("Carto atualizado!","success"))},io=async V=>{if(!(!r||!m)&&window.confirm("Excluir este carto?")){const{error:X}=await Oe.from("credit_cards").delete().eq("id",V).eq("user_id",r.id).eq("profile_id",m.id);X?t(`Erro: ${X.message}`,"error"):(z(W=>W.filter(ee=>ee.id!==V)),t("Carto excludo!","success"))}},wa=async(V,X=!0)=>{if(!r||!m)return;const{data:W,error:ee}=await Oe.from("installment_purchases").insert({...V,user_id:r.id,profile_id:m.id}).select().single();ee?t(`Erro: ${ee.message}`,"error"):W&&(se(ae=>[...ae,W].sort((de,Se)=>new Date(Se.purchase_date).getTime()-new Date(de.purchase_date).getTime())),X&&t("Compra parcelada adicionada!","success"))},en=async(V,X=!0)=>{if(!r||!m)return;const{data:W,error:ee}=await Oe.from("installment_purchases").update({...V,profile_id:m.id}).eq("id",V.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();ee?t(`Erro: ${ee.message}`,"error"):W&&(se(ae=>ae.map(de=>de.id===W.id?W:de).sort((de,Se)=>new Date(Se.purchase_date).getTime()-new Date(de.purchase_date).getTime())),X&&t("Compra parcelada atualizada!","success"))},Pd=async(V,X=!0)=>{if(!r||!m)return;const W=Z.find(ae=>ae.id===V);W!=null&&W.linked_transaction_id&&W.number_of_installments===1&&X&&await Oe.from("transactions").delete().eq("id",W.linked_transaction_id).eq("user_id",r.id).eq("profile_id",m.id);const{error:ee}=await Oe.from("installment_purchases").delete().eq("id",V).eq("user_id",r.id).eq("profile_id",m.id);ee?t(`Erro: ${ee.message}`,"error"):(se(ae=>ae.filter(de=>de.id!==V)),t("Compra parcelada excluda!","success"))},Rd=async V=>{if(!r||!m)return;const X=Z.find(W=>W.id===V);if(X&&X.installments_paid<X.number_of_installments){const W={...X,installments_paid:X.installments_paid+1};await en(W)}},Ta=async V=>{if(!r||!m)return;const W=JR(Z.filter(de=>de.credit_card_id===V),$.find(de=>de.id===V),new Date).map(de=>{const Se={...de,installments_paid:de.installments_paid+1,updated_at:new Date().toISOString()};return Oe.from("installment_purchases").update({installments_paid:Se.installments_paid,updated_at:Se.updated_at}).eq("id",de.id).eq("user_id",r.id).eq("profile_id",m.id).select().single()}),ee=await Promise.all(W),ae=ee.filter(de=>de.data).map(de=>de.data);ae.length>0&&(se(de=>de.map(Se=>ae.find(Ce=>Ce.id===Se.id)||Se).sort((Se,Ce)=>new Date(Ce.purchase_date).getTime()-new Date(Se.purchase_date).getTime())),t(`${ae.length} parcela(s) da fatura marcada(s) como paga(s)!`,"success")),ee.filter(de=>de.error).forEach(de=>{var Se;return t(`Erro ao pagar parcela: ${(Se=de.error)==null?void 0:Se.message}`,"error")})},ci=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("money_boxes").insert({...V,user_id:r.id,profile_id:m.id}).select().single();W?t(`Erro: ${W.message}`,"error"):X&&(K(ee=>[...ee,X].sort((ae,de)=>ae.name.localeCompare(de.name))),t("Caixinha adicionada!","success"))},Cp=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("money_boxes").update({...V,profile_id:m.id}).eq("id",V.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();W?t(`Erro: ${W.message}`,"error"):X&&(K(ee=>ee.map(ae=>ae.id===X.id?X:ae).sort((ae,de)=>ae.name.localeCompare(de.name))),t("Caixinha atualizada!","success"))},Id=async V=>{if(!(!r||!m)&&window.confirm("Excluir esta caixinha?")){const{error:X}=await Oe.from("money_boxes").delete().eq("id",V).eq("user_id",r.id).eq("profile_id",m.id);X?t(`Erro ao excluir caixinha: ${X.message}`,"error"):(K(W=>W.filter(ee=>ee.id!==V)),t("Caixinha excluda!","success"))}},jd=async(V,X,W)=>{var Se;if(!r||!m)return;let ee;if(X&&W){const Ce={type:V.type===yr.DEPOSIT?xe.EXPENSE:xe.INCOME,amount:V.amount,date:V.date,description:`${V.type===yr.DEPOSIT?"Depsito":"Saque"} Caixinha: ${((Se=B.find(bt=>bt.id===V.money_box_id))==null?void 0:Se.name)||"N/A"} ${V.description?`- ${V.description}`:""}`,account_id:W},{data:Le,error:Te}=await Oe.from("transactions").insert({...Ce,user_id:r.id,profile_id:m.id}).select().single();if(Te||!Le){t(`Erro ao criar transao principal: ${Te==null?void 0:Te.message}`,"error");return}ee=Le.id,L(bt=>[Le,...bt])}const{data:ae,error:de}=await Oe.from("money_box_transactions").insert({...V,user_id:r.id,profile_id:m.id,linked_transaction_id:ee}).select().single();de?t(`Erro: ${de.message}`,"error"):ae&&(ce(Ce=>[ae,...Ce]),t("Transao da caixinha adicionada!","success"))},kp=async(V,X)=>{if(!r||!m)return;const{error:W}=await Oe.from("money_box_transactions").delete().eq("id",V).eq("user_id",r.id).eq("profile_id",m.id);W?t(`Erro ao excluir: ${W.message}`,"error"):(ce(ee=>ee.filter(ae=>ae.id!==V)),t("Transao da caixinha excluda!","success"))},os=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("tags").insert({...V,user_id:r.id,profile_id:m.id}).select().single();W?t(`Erro: ${W.message}`,"error"):X&&(ut(ee=>[...ee,X].sort((ae,de)=>ae.name.localeCompare(de.name))),t("Tag adicionada!","success"))},ss=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("tags").update({...V,profile_id:m.id}).eq("id",V.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();W?t(`Erro: ${W.message}`,"error"):X&&(ut(ee=>ee.map(ae=>ae.id===X.id?X:ae).sort((ae,de)=>ae.name.localeCompare(de.name))),t("Tag atualizada!","success"))},Lr=async V=>{if(!(!r||!m)&&window.confirm("Excluir esta tag?")){const{error:X}=await Oe.from("tags").delete().eq("id",V).eq("user_id",r.id).eq("profile_id",m.id);X?t(`Erro: ${X.message}`,"error"):(ut(W=>W.filter(ee=>ee.id!==V)),t("Tag excluda!","success"))}},su=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("recurring_transactions").insert({...V,user_id:r.id,profile_id:m.id}).select().single();W?t(`Erro: ${W.message}`,"error"):X&&(Ae(ee=>[...ee,X].sort((ae,de)=>new Date(ae.next_due_date).getTime()-new Date(de.next_due_date).getTime())),t("Recorrncia adicionada!","success"))},$d=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("recurring_transactions").update({...V,profile_id:m.id}).eq("id",V.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();W?t(`Erro: ${W.message}`,"error"):X&&(Ae(ee=>ee.map(ae=>ae.id===X.id?X:ae).sort((ae,de)=>new Date(ae.next_due_date).getTime()-new Date(de.next_due_date).getTime())),t("Recorrncia atualizada!","success"))},di=async V=>{if(!(!r||!m)&&window.confirm("Excluir esta recorrncia?")){const{error:X}=await Oe.from("recurring_transactions").delete().eq("id",V).eq("user_id",r.id).eq("profile_id",m.id);X?t(`Erro: ${X.message}`,"error"):(Ae(W=>W.filter(ee=>ee.id!==V)),t("Recorrncia excluda!","success"))}},lu=async()=>{if(!r||!m)return{count:0,errors:["Usurio ou perfil no ativo."]};const V=Ve.filter(ee=>!ee.is_paused&&new Date(ee.next_due_date)<=new Date&&(ee.remaining_occurrences===void 0||ee.remaining_occurrences>0));let X=0;const W=[];for(const ee of V){const ae={type:ee.type,amount:ee.amount,category_id:ee.category_id,description:`Recorrncia: ${ee.description}`,date:ee.next_due_date,account_id:ee.account_id,to_account_id:ee.to_account_id};await cn(ae);const de={last_posted_date:ee.next_due_date,next_due_date:vue(ee.next_due_date,ee.frequency,ee.custom_interval_days),remaining_occurrences:ee.remaining_occurrences!==void 0?ee.remaining_occurrences-1:void 0},{error:Se}=await Oe.from("recurring_transactions").update(de).eq("id",ee.id).eq("user_id",r.id).eq("profile_id",m.id);Se?W.push(`Erro ao atualizar ${ee.description}: ${Se.message}`):X++}if(r&&m){const{data:ee,error:ae}=await Oe.from("recurring_transactions").select("*").eq("user_id",r.id).eq("profile_id",m.id).order("next_due_date");ae?t("Erro ao recarregar recorrncias.","error"):ee&&Ae(ee)}return{count:X,errors:W}},uu=async(V,X)=>{if(!r||!m)return;let W;if(V.funding_source==="account"&&V.amount_delivered_from_account&&V.linked_account_id){const Ce={type:xe.EXPENSE,amount:V.amount_delivered_from_account,date:V.loan_date,description:`Emprstimo para ${V.person_name}`,account_id:V.linked_account_id},{data:Le,error:Te}=await Oe.from("transactions").insert({...Ce,user_id:r.id,profile_id:m.id}).select().single();if(Te||!Le){t(`Erro ao criar transao de despesa: ${Te==null?void 0:Te.message}`,"error");return}W=Le.id,L(bt=>[Le,...bt])}let ee;if(V.funding_source==="creditCard"&&V.cost_on_credit_card&&V.linked_credit_card_id&&X){const Ce={credit_card_id:V.linked_credit_card_id,description:`Emprstimo (crdito) para ${V.person_name}`,purchase_date:V.loan_date,total_amount:V.cost_on_credit_card,number_of_installments:X,installments_paid:0},{data:Le,error:Te}=await Oe.from("installment_purchases").insert({...Ce,user_id:r.id,profile_id:m.id}).select().single();if(Te||!Le){t(`Erro ao criar compra parcelada: ${Te==null?void 0:Te.message}`,"error");return}ee=Le.id,se(bt=>[Le,...bt])}const ae={...V,user_id:r.id,profile_id:m.id,linked_expense_transaction_id:W,linked_installment_purchase_id:ee},{data:de,error:Se}=await Oe.from("loans").insert(ae).select().single();Se?t(`Erro ao adicionar emprstimo: ${Se.message}`,"error"):de&&(qe(Ce=>[de,...Ce]),t("Emprstimo adicionado!","success"))},Op=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("loans").update({...V,profile_id:m.id}).eq("id",V.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();W?t(`Erro ao atualizar emprstimo: ${W.message}`,"error"):X&&(qe(ee=>ee.map(ae=>ae.id===X.id?X:ae)),t("Emprstimo atualizado!","success"))},Ld=async V=>{if(!r||!m)return;const X=je.find(ee=>ee.id===V);X&&(X.linked_expense_transaction_id&&await Oe.from("transactions").delete().eq("id",X.linked_expense_transaction_id).eq("user_id",r.id).eq("profile_id",m.id),X.linked_installment_purchase_id&&await Oe.from("installment_purchases").delete().eq("id",X.linked_installment_purchase_id).eq("user_id",r.id).eq("profile_id",m.id));const{error:W}=await Oe.from("loans").delete().eq("id",V).eq("user_id",r.id).eq("profile_id",m.id);W?t(`Erro ao excluir emprstimo: ${W.message}`,"error"):(qe(ee=>ee.filter(ae=>ae.id!==V)),pt(ee=>ee.filter(ae=>ae.loan_id!==V)),t("Emprstimo excludo!","success"))},Jn=async(V,X)=>{var Le;if(!r||!m)return;const W={type:xe.INCOME,amount:V.amount_paid,date:V.repayment_date,description:`Recebimento emprstimo de ${(Le=je.find(Te=>Te.id===X))==null?void 0:Le.person_name}`,account_id:V.credited_account_id},{data:ee,error:ae}=await Oe.from("transactions").insert({...W,user_id:r.id,profile_id:m.id}).select().single();if(ae||!ee){t(`Erro ao criar transao de receita: ${ae==null?void 0:ae.message}`,"error");return}L(Te=>[ee,...Te]);const de={...V,user_id:r.id,profile_id:m.id,loan_id:X,linked_income_transaction_id:ee.id},{data:Se,error:Ce}=await Oe.from("loan_repayments").insert(de).select().single();Ce?t(`Erro ao adicionar pagamento: ${Ce.message}`,"error"):Se&&(pt(Te=>[Se,...Te]),t("Pagamento recebido registrado!","success"))},Bd=async V=>{if(!r||!m)return;const X={...V,user_id:r.id,profile_id:m.id,status:"PLANNED"},{data:W,error:ee}=await Oe.from("future_purchases").insert(X).select().single();ee?t(`Erro: ${ee.message}`,"error"):W&&(pe(ae=>[W,...ae]),t("Compra futura adicionada!","success"))},Mp=async V=>{if(!r||!m)return;const X={...V,profile_id:m.id},{data:W,error:ee}=await Oe.from("future_purchases").update(X).eq("id",X.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();ee?t(`Erro: ${ee.message}`,"error"):W&&(pe(ae=>ae.map(de=>de.id===W.id?W:de)),t("Compra futura atualizada!","success"))},ls=async V=>{if(!(!r||!m)&&window.confirm("Excluir esta compra futura?")){const{error:X}=await Oe.from("future_purchases").delete().eq("id",V).eq("user_id",r.id).eq("profile_id",m.id);X?t(`Erro: ${X.message}`,"error"):(pe(W=>W.filter(ee=>ee.id!==V)),t("Compra futura excluda!","success"))}},qd=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("ai_insights").update({is_read:V.is_read,profile_id:m.id}).eq("id",V.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();W?t(`Erro ao atualizar insight: ${W.message}`,"error"):X&&Xe(ee=>ee.map(ae=>ae.id===X.id?X:ae).sort((ae,de)=>new Date(de.timestamp).getTime()-new Date(ae.timestamp).getTime()))},us=async V=>{if(!r||!m)return;const X={...V,user_id:r.id,profile_id:m.id,current_balance:V.initial_balance,is_archived:!1},{data:W,error:ee}=await Oe.from("debts").insert(X).select().single();ee?t(`Erro: ${ee.message}`,"error"):W&&(dt(ae=>[W,...ae].sort((de,Se)=>de.name.localeCompare(Se.name))),t("Dvida adicionada!","success"))},Dp=async V=>{if(!r||!m)return;const{data:X,error:W}=await Oe.from("debts").update({...V,profile_id:m.id}).eq("id",V.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();W?t(`Erro: ${W.message}`,"error"):X&&(dt(ee=>ee.map(ae=>ae.id===X.id?X:ae).sort((ae,de)=>ae.name.localeCompare(de.name))),t("Dvida atualizada!","success"))},Qn=async V=>{if(!(!r||!m)&&window.confirm("Excluir esta dvida?")){const{error:X}=await Oe.from("debts").delete().eq("id",V).eq("user_id",r.id).eq("profile_id",m.id);X?t(`Erro: ${X.message}`,"error"):(dt(W=>W.filter(ee=>ee.id!==V)),Xn(W=>W.filter(ee=>ee.debt_id!==V)),t("Dvida excluda!","success"))}},cu=async(V,X,W)=>{var Ce;if(!r||!m)return;let ee;if(X&&W){const Le=Dt.find(qn=>qn.id===V.debt_id),Te={type:xe.EXPENSE,amount:V.amount_paid,date:V.payment_date,description:`Pagamento Dvida: ${(Le==null?void 0:Le.name)||"Dvida"}`,account_id:W,category_id:(Ce=H.find(qn=>qn.name.toLowerCase().includes("pagamento de dvida")||qn.name.toLowerCase().includes("emprstimo")))==null?void 0:Ce.id},{data:bt,error:gn}=await Oe.from("transactions").insert({...Te,user_id:r.id,profile_id:m.id}).select().single();if(gn||!bt){t(`Erro ao criar despesa vinculada: ${gn==null?void 0:gn.message}`,"error");return}ee=bt.id,L(qn=>[bt,...qn])}const ae={...V,user_id:r.id,profile_id:m.id,linked_expense_transaction_id:ee},{data:de,error:Se}=await Oe.from("debt_payments").insert(ae).select().single();Se?t(`Erro: ${Se.message}`,"error"):de&&(Xn(Le=>[de,...Le]),dt(Le=>Le.map(Te=>Te.id===de.debt_id?{...Te,current_balance:Te.current_balance-de.amount_paid}:Te)),t("Pagamento de dvida registrado!","success"))},Ud=j.useCallback(async V=>{if(!r||!m||!R.isEnabled||R.apiKeyStatus!=="available")return;const X={timestamp:new Date().toISOString(),type:"debt_strategy_explanation",content:`Buscando explicao para a estratgia: ${V}...`,related_debt_strategy:V,is_read:!1,isLoading:!0},W=Hr();Xe(ae=>[{...X,id:W,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...ae]);const ee=await pue(V);Xe(ae=>ae.filter(de=>de.id!==W)),ee?St(ee):t(`No foi possvel buscar explicao para a estratgia ${V}`,"warning")},[r,m,R.isEnabled,R.apiKeyStatus,St,t]),du=j.useCallback(async(V,X,W)=>{if(!r||!m||!R.isEnabled||R.apiKeyStatus!=="available")return;const ee=Xt();if(!ee)return;const ae={timestamp:new Date().toISOString(),type:"debt_projection_summary",content:"Gerando resumo da projeo de dvidas...",related_debt_strategy:W,is_read:!1,isLoading:!0},de=Hr();Xe(Ce=>[{...ae,id:de,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...Ce]);const Se=await gue(V,X,ee);Xe(Ce=>Ce.filter(Le=>Le.id!==de)),Se?St(Se):t("No foi possvel gerar resumo da projeo.","warning")},[r,m,R.isEnabled,R.apiKeyStatus,Xt,St,t]),rn=({label:V,currentView:X,targetView:W,icon:ee,action:ae})=>b.jsx("li",{children:b.jsxs("button",{onClick:()=>ae(W),className:`flex items-center w-full px-3 py-2.5 rounded-lg transition-colors duration-150
                    ${X===W?"bg-primary/10 dark:bg-primaryDark/20 text-primary dark:text-primaryDark font-semibold shadow-sm":"text-textMuted dark:text-textMutedDark hover:bg-neutral/10 dark:hover:bg-neutralDark/20 hover:text-textBase dark:hover:text-textBaseDark"}`,"aria-current":X===W?"page":void 0,children:[J.cloneElement(ee,{className:"w-5 h-5 mr-3 flex-shrink-0"}),V]})}),Fd=()=>b.jsxs("aside",{className:"w-64 bg-surface dark:bg-surfaceDark p-4 border-r border-borderBase dark:border-borderBaseDark flex flex-col justify-between shadow-md print:hidden",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"px-3 mb-6",children:[b.jsx("h2",{className:"text-xl font-bold text-primary dark:text-primaryDark tracking-tight",children:Rc}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Perfil: ",xr]})]}),b.jsx("nav",{children:b.jsxs("ul",{className:"space-y-1.5",children:[b.jsx(rn,{label:"Painel Geral",currentView:qt,targetView:"DASHBOARD",icon:b.jsx(w$,{}),action:Ut}),b.jsx(rn,{label:"Transaes",currentView:qt,targetView:"TRANSACTIONS",icon:b.jsx(ice,{}),action:Ut}),b.jsx(rn,{label:"Contas",currentView:qt,targetView:"ACCOUNTS",icon:b.jsx(LS,{}),action:Ut}),b.jsx(rn,{label:"Cartes",currentView:qt,targetView:"CREDIT_CARDS",icon:b.jsx(gp,{}),action:Ut}),b.jsx(rn,{label:"Categorias",currentView:qt,targetView:"CATEGORIES",icon:b.jsx(T$,{}),action:Ut}),b.jsx(rn,{label:"Caixinhas",currentView:qt,targetView:"MONEY_BOXES",icon:b.jsx(J$,{}),action:Ut}),b.jsx(rn,{label:"Recorrncias",currentView:qt,targetView:"RECURRING_TRANSACTIONS",icon:b.jsx(vd,{}),action:Ut}),b.jsx(rn,{label:"Emprstimos",currentView:qt,targetView:"LOANS",icon:b.jsx(GS,{}),action:Ut}),b.jsx(rn,{label:"Compras Futuras",currentView:qt,targetView:"FUTURE_PURCHASES",icon:b.jsx(n1,{}),action:Ut}),b.jsx(rn,{label:"Planejar Dvidas",currentView:qt,targetView:"DEBT_PLANNER",icon:b.jsx(LS,{}),action:Ut}),b.jsx(rn,{label:"Tags",currentView:qt,targetView:"TAGS",icon:b.jsx(sce,{}),action:Ut}),b.jsx(rn,{label:"AI Coach",currentView:qt,targetView:"AI_COACH",icon:b.jsx($S,{}),action:Ut}),b.jsx(rn,{label:"Dados",currentView:qt,targetView:"DATA_MANAGEMENT",icon:b.jsx(oce,{}),action:Ut})]})})]}),b.jsxs("div",{className:"mt-auto space-y-3 pt-4 border-t border-borderBase dark:border-borderBaseDark",children:[b.jsx(ace,{theme:D,setTheme:as}),b.jsxs(be,{variant:"ghost",onClick:Sa,className:"w-full !justify-start text-textMuted dark:text-textMutedDark",children:[k?b.jsx(uce,{className:"w-5 h-5 mr-2"}):b.jsx(lce,{className:"w-5 h-5 mr-2"}),"Modo Privacidade ",k?"Ativado":"Desativado"]}),b.jsxs(be,{variant:"ghost",onClick:()=>{y(null),T(!1),S(!0),r&&rs(r.id)},className:"w-full !justify-start text-textMuted dark:text-textMutedDark",children:[b.jsx(Cm,{className:"w-5 h-5 mr-2"})," Trocar Perfil"]}),b.jsxs(be,{variant:"ghost",onClick:Sp,className:"w-full !justify-start text-destructive dark:text-destructiveDark",children:[b.jsx(cce,{className:"w-5 h-5 mr-2"})," Sair"]})]})]}),Vd=()=>b.jsxs("header",{className:"bg-surface dark:bg-surfaceDark p-4 border-b border-borderBase dark:border-borderBaseDark flex justify-between items-center print:hidden",children:[b.jsx("h1",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:qt.replace(/_/g," ")}),b.jsxs(be,{onClick:()=>{Wt(null),Zn(!0)},variant:"primary",children:[b.jsx(Bn,{className:"w-5 h-5 mr-2"})," Nova Transao"]})]}),fi=()=>{switch(qt){case"DASHBOARD":return b.jsx(tP,{transactions:F,accounts:G,categories:H,creditCards:$,installmentPurchases:Z,moneyBoxes:B,loans:je,loanRepayments:ve,recurringTransactions:Ve,onAddTransaction:()=>{Wt(null),Zn(!0)},calculateAccountBalance:ii,calculateMoneyBoxBalance:oi,isPrivacyModeEnabled:k});case"TRANSACTIONS":return b.jsx(QQ,{transactions:F,accounts:G,categories:H,tags:ke,installmentPurchases:Z,onAddTransaction:()=>{Wt(null),Zn(!0)},onEditTransaction:X=>{Wt(X),Zn(!0)},onDeleteTransaction:si,isLoading:na&&!m,isPrivacyModeEnabled:k});case"ACCOUNTS":return b.jsx(tee,{accounts:G,transactions:F,onAddAccount:iu,onUpdateAccount:Ap,onDeleteAccount:Ep,calculateAccountBalance:ii,isPrivacyModeEnabled:k});case"CATEGORIES":return b.jsx(nee,{categories:H,transactions:F,aiConfig:R,onAddCategory:Nd,onUpdateCategory:ao,onDeleteCategory:ou,onSuggestBudget:Tp,isPrivacyModeEnabled:k});case"CREDIT_CARDS":return b.jsx(yue,{creditCards:$,installmentPurchases:Z,aiConfig:R,onAddCreditCard:li,onUpdateCreditCard:ui,onDeleteCreditCard:io,onAddInstallmentPurchase:wa,onUpdateInstallmentPurchase:en,onDeleteInstallmentPurchase:Pd,onMarkInstallmentPaid:Rd,onPayMonthlyInstallments:Ta,isPrivacyModeEnabled:k});case"MONEY_BOXES":return b.jsx(wue,{moneyBoxes:B,moneyBoxTransactions:re,accounts:G,onAddMoneyBox:ci,onUpdateMoneyBox:Cp,onDeleteMoneyBox:Id,onAddMoneyBoxTransaction:jd,onDeleteMoneyBoxTransaction:kp,calculateMoneyBoxBalance:oi,isPrivacyModeEnabled:k});case"FUTURE_PURCHASES":return b.jsx(Due,{futurePurchases:_e,onAddFuturePurchase:Bd,onUpdateFuturePurchase:Mp,onDeleteFuturePurchase:ls,onAnalyzeFuturePurchase:ra,isPrivacyModeEnabled:k});case"TAGS":return b.jsx(Iue,{tags:ke,transactions:F,onAddTag:os,onUpdateTag:ss,onDeleteTag:Lr});case"RECURRING_TRANSACTIONS":return b.jsx(Bue,{recurringTransactions:Ve,accounts:G,categories:H,onAddRecurringTransaction:su,onUpdateRecurringTransaction:$d,onDeleteRecurringTransaction:di,onProcessRecurringTransactions:lu,isPrivacyModeEnabled:k});case"LOANS":return b.jsx(Vue,{loans:je,loanRepayments:ve,accounts:G,creditCards:$,onAddLoan:uu,onUpdateLoan:Op,onDeleteLoan:Ld,onAddLoanRepayment:Jn,isPrivacyModeEnabled:k});case"DEBT_PLANNER":return b.jsx(Jue,{debts:Dt,debtPayments:or,accounts:G,onAddDebt:us,onUpdateDebt:Dp,onDeleteDebt:Qn,onAddDebtPayment:cu,onFetchDebtStrategyExplanation:Ud,onFetchDebtProjectionSummary:du,isPrivacyModeEnabled:k});case"AI_COACH":return b.jsx(zue,{aiConfig:R,setAiConfig:is,insights:Qe,onFetchGeneralAdvice:wp,onUpdateInsight:qd,isPrivacyModeEnabled:k,onFetchRecurringPaymentCandidates:ru,onFetchSavingOpportunities:au,onFetchCashFlowProjection:Dd});case"DATA_MANAGEMENT":const V={id:(M==null?void 0:M.id)||"",profile_id:m.id,theme:D,is_privacy_mode_enabled:k,ai_is_enabled:R.isEnabled,ai_monthly_income:R.monthlyIncome,ai_auto_backup_enabled:R.autoBackupToFileEnabled};return b.jsx(Nue,{allData:{transactions:F,accounts:G,categories:H,creditCards:$,installmentPurchases:Z,moneyBoxes:B,moneyBoxTransactions:re,futurePurchases:_e,tags:ke,recurringTransactions:Ve,loans:je,loanRepayments:ve,aiInsights:Qe,debts:Dt,debtPayments:or},userPreferencesToExport:V,activeProfileName:xr,user:r});default:return t("Visualizao no encontrada, redirecionando para o Painel.","warning"),Ut("DASHBOARD"),b.jsx(tP,{transactions:F,accounts:G,categories:H,creditCards:$,installmentPurchases:Z,moneyBoxes:B,loans:je,loanRepayments:ve,recurringTransactions:Ve,onAddTransaction:()=>{Wt(null),Zn(!0)},calculateAccountBalance:ii,calculateMoneyBoxBalance:oi,isPrivacyModeEnabled:k})}},fu=({message:V="Carregando..."})=>b.jsx("div",{className:"flex items-center justify-center h-screen bg-background dark:bg-backgroundDark",children:b.jsxs("div",{className:"p-6 bg-surface dark:bg-surfaceDark rounded-lg shadow-xl text-center",children:[b.jsx(vd,{className:"w-10 h-10 text-primary dark:text-primaryDark mx-auto animate-spin mb-3"}),b.jsx("p",{className:"text-lg text-textMuted dark:text-textMutedDark",children:V})]})});return i?b.jsx(fu,{message:"Carregando sesso..."}):r?_||!A?b.jsx(fu,{message:"Carregando perfis..."}):m?na?b.jsx(fu,{message:`Carregando dados para ${xr}...`}):b.jsxs("div",{className:"flex h-screen bg-background dark:bg-backgroundDark text-textBase dark:text-textBaseDark print:block",children:[b.jsx(Fd,{}),b.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[b.jsx(Vd,{}),b.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-0 bg-background dark:bg-backgroundDark print:overflow-visible",children:fi()})]}),no&&m&&b.jsx(Tn,{isOpen:no,onClose:()=>{Zn(!1),Wt(null)},title:xa?"Editar Transao":"Nova Transao",size:"lg",children:b.jsx(ece,{onSubmit:xa?Pn:cn,onCancel:()=>{Zn(!1),Wt(null)},accounts:G,creditCards:$,categories:H,tags:ke,initialTransaction:xa,isPrivacyModeEnabled:k})})]}):b.jsx(Que,{profiles:c,onSelectProfile:V=>ns(V,c),onCreateProfile:_p}):b.jsx(Hue,{onLoginWithGoogle:ro,isLoading:i||O.current})},fce=()=>b.jsx(Aq,{children:b.jsx(dce,{})}),Q$=document.getElementById("root");if(!Q$)throw new Error("Could not find root element to mount to");const hce=dB.createRoot(Q$);hce.render(b.jsx(J.StrictMode,{children:b.jsx(fce,{})}));
