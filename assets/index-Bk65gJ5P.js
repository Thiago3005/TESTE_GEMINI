(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tB(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var Ev={exports:{}},nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function nB(){if(wE)return nc;wE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:s,ref:a!==void 0?a:null,props:i}}return nc.Fragment=e,nc.jsx=n,nc.jsxs=n,nc}var TE;function rB(){return TE||(TE=1,Ev.exports=nB()),Ev.exports}var b=rB(),Cv={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function aB(){if(AE)return Qe;AE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function y(U){return U===null||typeof U!="object"?null:(U=m&&U[m]||U["@@iterator"],typeof U=="function"?U:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function T(U,G,re){this.props=U,this.context=G,this.refs=A,this.updater=re||_}T.prototype.isReactComponent={},T.prototype.setState=function(U,G){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,G,"setState")},T.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function k(){}k.prototype=T.prototype;function M(U,G,re){this.props=U,this.context=G,this.refs=A,this.updater=re||_}var E=M.prototype=new k;E.constructor=M,w(E,T.prototype),E.isPureReactComponent=!0;var D=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function P(U,G,re,ce,_e,ge){return re=ge.ref,{$$typeof:t,type:U,key:G,ref:re!==void 0?re:null,props:ge}}function I(U,G){return P(U.type,G,void 0,void 0,void 0,U.props)}function q(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function z(U){var G={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(re){return G[re]})}var L=/\/+/g;function H(U,G){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):G.toString(36)}function Q(){}function Y(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(Q,Q):(U.status="pending",U.then(function(G){U.status==="pending"&&(U.status="fulfilled",U.value=G)},function(G){U.status==="pending"&&(U.status="rejected",U.reason=G)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function B(U,G,re,ce,_e){var ge=typeof U;(ge==="undefined"||ge==="boolean")&&(U=null);var Ce=!1;if(U===null)Ce=!0;else switch(ge){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(U.$$typeof){case t:case e:Ce=!0;break;case h:return Ce=U._init,B(Ce(U._payload),G,re,ce,_e)}}if(Ce)return _e=_e(U),Ce=ce===""?"."+H(U,0):ce,D(_e)?(re="",Ce!=null&&(re=Ce.replace(L,"$&/")+"/"),B(_e,G,re,"",function(Te){return Te})):_e!=null&&(q(_e)&&(_e=I(_e,re+(_e.key==null||U&&U.key===_e.key?"":(""+_e.key).replace(L,"$&/")+"/")+Ce)),G.push(_e)),1;Ce=0;var nt=ce===""?".":ce+":";if(D(U))for(var Ye=0;Ye<U.length;Ye++)ce=U[Ye],ge=nt+H(ce,Ye),Ce+=B(ce,G,re,ge,_e);else if(Ye=y(U),typeof Ye=="function")for(U=Ye.call(U),Ye=0;!(ce=U.next()).done;)ce=ce.value,ge=nt+H(ce,Ye++),Ce+=B(ce,G,re,ge,_e);else if(ge==="object"){if(typeof U.then=="function")return B(Y(U),G,re,ce,_e);throw G=String(U),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function $(U,G,re){if(U==null)return U;var ce=[],_e=0;return B(U,ce,"","",function(ge){return G.call(re,ge,_e++)}),ce}function V(U){if(U._status===-1){var G=U._result;G=G(),G.then(function(re){(U._status===0||U._status===-1)&&(U._status=1,U._result=re)},function(re){(U._status===0||U._status===-1)&&(U._status=2,U._result=re)}),U._status===-1&&(U._status=0,U._result=G)}if(U._status===1)return U._result.default;throw U._result}var Z=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function se(){}return Qe.Children={map:$,forEach:function(U,G,re){$(U,function(){G.apply(this,arguments)},re)},count:function(U){var G=0;return $(U,function(){G++}),G},toArray:function(U){return $(U,function(G){return G})||[]},only:function(U){if(!q(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Qe.Component=T,Qe.Fragment=n,Qe.Profiler=a,Qe.PureComponent=M,Qe.StrictMode=r,Qe.Suspense=d,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return C.H.useMemoCache(U)}},Qe.cache=function(U){return function(){return U.apply(null,arguments)}},Qe.cloneElement=function(U,G,re){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=w({},U.props),_e=U.key,ge=void 0;if(G!=null)for(Ce in G.ref!==void 0&&(ge=void 0),G.key!==void 0&&(_e=""+G.key),G)!O.call(G,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&G.ref===void 0||(ce[Ce]=G[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=re;else if(1<Ce){for(var nt=Array(Ce),Ye=0;Ye<Ce;Ye++)nt[Ye]=arguments[Ye+2];ce.children=nt}return P(U.type,_e,void 0,void 0,ge,ce)},Qe.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:i,_context:U},U},Qe.createElement=function(U,G,re){var ce,_e={},ge=null;if(G!=null)for(ce in G.key!==void 0&&(ge=""+G.key),G)O.call(G,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=G[ce]);var Ce=arguments.length-2;if(Ce===1)_e.children=re;else if(1<Ce){for(var nt=Array(Ce),Ye=0;Ye<Ce;Ye++)nt[Ye]=arguments[Ye+2];_e.children=nt}if(U&&U.defaultProps)for(ce in Ce=U.defaultProps,Ce)_e[ce]===void 0&&(_e[ce]=Ce[ce]);return P(U,ge,void 0,void 0,null,_e)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(U){return{$$typeof:u,render:U}},Qe.isValidElement=q,Qe.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:V}},Qe.memo=function(U,G){return{$$typeof:c,type:U,compare:G===void 0?null:G}},Qe.startTransition=function(U){var G=C.T,re={};C.T=re;try{var ce=U(),_e=C.S;_e!==null&&_e(re,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(se,Z)}catch(ge){Z(ge)}finally{C.T=G}},Qe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Qe.use=function(U){return C.H.use(U)},Qe.useActionState=function(U,G,re){return C.H.useActionState(U,G,re)},Qe.useCallback=function(U,G){return C.H.useCallback(U,G)},Qe.useContext=function(U){return C.H.useContext(U)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(U,G){return C.H.useDeferredValue(U,G)},Qe.useEffect=function(U,G,re){var ce=C.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(U,G)},Qe.useId=function(){return C.H.useId()},Qe.useImperativeHandle=function(U,G,re){return C.H.useImperativeHandle(U,G,re)},Qe.useInsertionEffect=function(U,G){return C.H.useInsertionEffect(U,G)},Qe.useLayoutEffect=function(U,G){return C.H.useLayoutEffect(U,G)},Qe.useMemo=function(U,G){return C.H.useMemo(U,G)},Qe.useOptimistic=function(U,G){return C.H.useOptimistic(U,G)},Qe.useReducer=function(U,G,re){return C.H.useReducer(U,G,re)},Qe.useRef=function(U){return C.H.useRef(U)},Qe.useState=function(U){return C.H.useState(U)},Qe.useSyncExternalStore=function(U,G,re){return C.H.useSyncExternalStore(U,G,re)},Qe.useTransition=function(){return C.H.useTransition()},Qe.version="19.1.0",Qe}var EE;function LS(){return EE||(EE=1,Cv.exports=aB()),Cv.exports}var j=LS();const J=yt(j);var kv={exports:{}},rc={},Ov={exports:{}},Mv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function iB(){return CE||(CE=1,function(t){function e($,V){var Z=$.length;$.push(V);e:for(;0<Z;){var se=Z-1>>>1,U=$[se];if(0<a(U,V))$[se]=V,$[Z]=U,Z=se;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var V=$[0],Z=$.pop();if(Z!==V){$[0]=Z;e:for(var se=0,U=$.length,G=U>>>1;se<G;){var re=2*(se+1)-1,ce=$[re],_e=re+1,ge=$[_e];if(0>a(ce,Z))_e<U&&0>a(ge,ce)?($[se]=ge,$[_e]=Z,se=_e):($[se]=ce,$[re]=Z,se=re);else if(_e<U&&0>a(ge,Z))$[se]=ge,$[_e]=Z,se=_e;else break e}}return V}function a($,V){var Z=$.sortIndex-V.sortIndex;return Z!==0?Z:$.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var d=[],c=[],h=1,m=null,y=3,_=!1,w=!1,A=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function D($){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=$)r(c),V.sortIndex=V.expirationTime,e(d,V);else break;V=n(c)}}function C($){if(A=!1,D($),!w)if(n(d)!==null)w=!0,O||(O=!0,H());else{var V=n(c);V!==null&&B(C,V.startTime-$)}}var O=!1,P=-1,I=5,q=-1;function z(){return T?!0:!(t.unstable_now()-q<I)}function L(){if(T=!1,O){var $=t.unstable_now();q=$;var V=!0;try{e:{w=!1,A&&(A=!1,M(P),P=-1),_=!0;var Z=y;try{t:{for(D($),m=n(d);m!==null&&!(m.expirationTime>$&&z());){var se=m.callback;if(typeof se=="function"){m.callback=null,y=m.priorityLevel;var U=se(m.expirationTime<=$);if($=t.unstable_now(),typeof U=="function"){m.callback=U,D($),V=!0;break t}m===n(d)&&r(d),D($)}else r(d);m=n(d)}if(m!==null)V=!0;else{var G=n(c);G!==null&&B(C,G.startTime-$),V=!1}}break e}finally{m=null,y=Z,_=!1}V=void 0}}finally{V?H():O=!1}}}var H;if(typeof E=="function")H=function(){E(L)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=L,H=function(){Y.postMessage(null)}}else H=function(){k(L,0)};function B($,V){P=k(function(){$(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function($){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var Z=y;y=V;try{return $()}finally{y=Z}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function($,V){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=y;y=$;try{return V()}finally{y=Z}},t.unstable_scheduleCallback=function($,V,Z){var se=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?se+Z:se):Z=se,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Z+U,$={id:h++,callback:V,priorityLevel:$,startTime:Z,expirationTime:U,sortIndex:-1},Z>se?($.sortIndex=Z,e(c,$),n(d)===null&&$===n(c)&&(A?(M(P),P=-1):A=!0,B(C,Z-se))):($.sortIndex=U,e(d,$),w||_||(w=!0,O||(O=!0,H()))),$},t.unstable_shouldYield=z,t.unstable_wrapCallback=function($){var V=y;return function(){var Z=y;y=V;try{return $.apply(this,arguments)}finally{y=Z}}}}(Mv)),Mv}var kE;function oB(){return kE||(kE=1,Ov.exports=iB()),Ov.exports}var Dv={exports:{}},$n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function sB(){if(OE)return $n;OE=1;var t=LS();function e(d){var c="https://react.dev/errors/"+d;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,c,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:d,containerInfo:c,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,c){if(d==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return $n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$n.createPortal=function(d,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return i(d,c,null,h)},$n.flushSync=function(d){var c=s.T,h=r.p;try{if(s.T=null,r.p=2,d)return d()}finally{s.T=c,r.p=h,r.d.f()}},$n.preconnect=function(d,c){typeof d=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(d,c))},$n.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},$n.preinit=function(d,c){if(typeof d=="string"&&c&&typeof c.as=="string"){var h=c.as,m=u(h,c.crossOrigin),y=typeof c.integrity=="string"?c.integrity:void 0,_=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?r.d.S(d,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:_}):h==="script"&&r.d.X(d,{crossOrigin:m,integrity:y,fetchPriority:_,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},$n.preinitModule=function(d,c){if(typeof d=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=u(c.as,c.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(d)},$n.preload=function(d,c){if(typeof d=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,m=u(h,c.crossOrigin);r.d.L(d,h,{crossOrigin:m,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},$n.preloadModule=function(d,c){if(typeof d=="string")if(c){var h=u(c.as,c.crossOrigin);r.d.m(d,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(d)},$n.requestFormReset=function(d){r.d.r(d)},$n.unstable_batchedUpdates=function(d,c){return d(c)},$n.useFormState=function(d,c,h){return s.H.useFormState(d,c,h)},$n.useFormStatus=function(){return s.H.useHostTransitionStatus()},$n.version="19.1.0",$n}var ME;function lB(){if(ME)return Dv.exports;ME=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dv.exports=sB(),Dv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function uB(){if(DE)return rc;DE=1;var t=oB(),e=LS(),n=lB();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(r(188))}function d(o){var l=o.alternate;if(!l){if(l=i(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,p=l;;){var x=f.return;if(x===null)break;var S=x.alternate;if(S===null){if(p=x.return,p!==null){f=p;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===f)return u(x),o;if(S===p)return u(x),l;S=S.sibling}throw Error(r(188))}if(f.return!==p.return)f=x,p=S;else{for(var N=!1,R=x.child;R;){if(R===f){N=!0,f=x,p=S;break}if(R===p){N=!0,p=x,f=S;break}R=R.sibling}if(!N){for(R=S.child;R;){if(R===f){N=!0,f=S,p=x;break}if(R===p){N=!0,p=S,f=x;break}R=R.sibling}if(!N)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function c(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=c(o),l!==null)return l;o=o.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),E=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=L&&o[L]||o["@@iterator"],typeof o=="function"?o:null)}var Q=Symbol.for("react.client.reference");function Y(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case O:return"SuspenseList";case q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case E:return(o.displayName||"Context")+".Provider";case M:return(o._context.displayName||"Context")+".Consumer";case D:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return l=o.displayName||null,l!==null?l:Y(o.type)||"Memo";case I:l=o._payload,o=o._init;try{return Y(o(l))}catch{}}return null}var B=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},se=[],U=-1;function G(o){return{current:o}}function re(o){0>U||(o.current=se[U],se[U]=null,U--)}function ce(o,l){U++,se[U]=o.current,o.current=l}var _e=G(null),ge=G(null),Ce=G(null),nt=G(null);function Ye(o,l){switch(ce(Ce,l),ce(ge,o),ce(_e,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?ZA(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=ZA(l),o=JA(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}re(_e),ce(_e,o)}function Te(){re(_e),re(ge),re(Ce)}function Le(o){o.memoizedState!==null&&ce(nt,o);var l=_e.current,f=JA(l,o.type);l!==f&&(ce(ge,o),ce(_e,f))}function Ge(o){ge.current===o&&(re(_e),re(ge)),nt.current===o&&(re(nt),Zu._currentValue=Z)}var me=Object.prototype.hasOwnProperty,dt=t.unstable_scheduleCallback,Ze=t.unstable_cancelCallback,Vt=t.unstable_shouldYield,Nt=t.unstable_requestPaint,At=t.unstable_now,Yt=t.unstable_getCurrentPriorityLevel,qt=t.unstable_ImmediatePriority,zt=t.unstable_UserBlockingPriority,Fn=t.unstable_NormalPriority,un=t.unstable_LowPriority,na=t.unstable_IdlePriority,sr=t.log,oi=t.unstable_setDisableYieldValue,si=null,cn=null;function lr(o){if(typeof sr=="function"&&oi(o),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(si,o)}catch{}}var Rn=Math.clz32?Math.clz32:_p,ns=Math.log,xp=Math.LN2;function _p(o){return o>>>=0,o===0?32:31-(ns(o)/xp|0)|0}var rs=256,as=4194304;function Sa(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ra(o,l,f){var p=o.pendingLanes;if(p===0)return 0;var x=0,S=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var R=p&134217727;return R!==0?(p=R&~S,p!==0?x=Sa(p):(N&=R,N!==0?x=Sa(N):f||(f=R&~o,f!==0&&(x=Sa(f))))):(R=p&~S,R!==0?x=Sa(R):N!==0?x=Sa(N):f||(f=p&~o,f!==0&&(x=Sa(f)))),x===0?0:l!==0&&l!==x&&(l&S)===0&&(S=x&-x,f=l&-l,S>=f||S===32&&(f&4194048)!==0)?l:x}function Br(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function tn(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pt(){var o=rs;return rs<<=1,(rs&4194048)===0&&(rs=256),o}function Md(){var o=as;return as<<=1,(as&62914560)===0&&(as=4194304),o}function is(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function li(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Sp(o,l,f,p,x,S){var N=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var R=o.entanglements,K=o.expirationTimes,oe=o.hiddenUpdates;for(f=N&~f;0<f;){var he=31-Rn(f),ve=1<<he;R[he]=0,K[he]=-1;var le=oe[he];if(le!==null)for(oe[he]=null,he=0;he<le.length;he++){var ue=le[he];ue!==null&&(ue.lane&=-536870913)}f&=~ve}p!==0&&Dd(o,p,0),S!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=S&~(N&~l))}function Dd(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var p=31-Rn(l);o.entangledLanes|=l,o.entanglements[p]=o.entanglements[p]|1073741824|f&4194090}function Nd(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var p=31-Rn(f),x=1<<p;x&l|o[p]&l&&(o[p]|=l),f&=~x}}function ru(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function au(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function iu(){var o=V.p;return o!==0?o:(o=window.event,o===void 0?32:vE(o.type))}function wp(o,l){var f=V.p;try{return V.p=o,l()}finally{V.p=f}}var aa=Math.random().toString(36).slice(2),vn="__reactFiber$"+aa,In="__reactProps$"+aa,ui="__reactContainer$"+aa,ou="__reactEvents$"+aa,Tp="__reactListeners$"+aa,Ap="__reactHandles$"+aa,Pd="__reactResources$"+aa,no="__reactMarker$"+aa;function su(o){delete o[vn],delete o[In],delete o[ou],delete o[Tp],delete o[Ap]}function wa(o){var l=o[vn];if(l)return l;for(var f=o.parentNode;f;){if(l=f[ui]||f[vn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=nE(o);o!==null;){if(f=o[vn])return f;o=nE(o)}return l}o=f,f=o.parentNode}return null}function Ta(o){if(o=o[vn]||o[ui]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function ro(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function ci(o){var l=o[Pd];return l||(l=o[Pd]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function nn(o){o[no]=!0}var Rd=new Set,Id={};function Aa(o,l){di(o,l),di(o+"Capture",l)}function di(o,l){for(Id[o]=l,o=0;o<l.length;o++)Rd.add(l[o])}var Ep=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jd={},$d={};function Cp(o){return me.call($d,o)?!0:me.call(jd,o)?!1:Ep.test(o)?$d[o]=!0:(jd[o]=!0,!1)}function os(o,l,f){if(Cp(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function ss(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function qr(o,l,f,p){if(p===null)o.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+p)}}var lu,Ld;function fi(o){if(lu===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);lu=l&&l[1]||"",Ld=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lu+o+Ld}var uu=!1;function cu(o,l){if(!o||uu)return"";uu=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(ue){var le=ue}Reflect.construct(o,[],ve)}else{try{ve.call()}catch(ue){le=ue}o.call(ve.prototype)}}else{try{throw Error()}catch(ue){le=ue}(ve=o())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(ue){if(ue&&le&&typeof ue.stack=="string")return[ue.stack,le.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),N=S[0],R=S[1];if(N&&R){var K=N.split(`
`),oe=R.split(`
`);for(x=p=0;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;for(;x<oe.length&&!oe[x].includes("DetermineComponentFrameRoot");)x++;if(p===K.length||x===oe.length)for(p=K.length-1,x=oe.length-1;1<=p&&0<=x&&K[p]!==oe[x];)x--;for(;1<=p&&0<=x;p--,x--)if(K[p]!==oe[x]){if(p!==1||x!==1)do if(p--,x--,0>x||K[p]!==oe[x]){var he=`
`+K[p].replace(" at new "," at ");return o.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",o.displayName)),he}while(1<=p&&0<=x);break}}}finally{uu=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?fi(f):""}function kp(o){switch(o.tag){case 26:case 27:case 5:return fi(o.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return cu(o.type,!1);case 11:return cu(o.type.render,!1);case 1:return cu(o.type,!0);case 31:return fi("Activity");default:return""}}function Bd(o){try{var l="";do l+=kp(o),o=o.return;while(o);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Jn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function qd(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Op(o){var l=qd(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,S=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(N){p=""+N,S.call(this,N)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function ls(o){o._valueTracker||(o._valueTracker=Op(o))}function Ud(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),p="";return o&&(p=qd(o)?o.checked?"true":"false":o.value),o=p,o!==f?(l.setValue(o),!0):!1}function us(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Mp=/[\n"\\]/g;function Qn(o){return o.replace(Mp,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Cn(o,l,f,p,x,S,N,R){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),l!=null?N==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Jn(l)):o.value!==""+Jn(l)&&(o.value=""+Jn(l)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),l!=null?du(o,N,Jn(l)):f!=null?du(o,N,Jn(f)):p!=null&&o.removeAttribute("value"),x==null&&S!=null&&(o.defaultChecked=!!S),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.name=""+Jn(R):o.removeAttribute("name")}function Fd(o,l,f,p,x,S,N,R){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),l!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||l!=null))return;f=f!=null?""+Jn(f):"",l=l!=null?""+Jn(l):f,R||l===o.value||(o.value=l),o.defaultValue=l}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=R?o.checked:!!p,o.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N)}function du(o,l,f){l==="number"&&us(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function hi(o,l,f,p){if(o=o.options,l){l={};for(var x=0;x<f.length;x++)l["$"+f[x]]=!0;for(f=0;f<o.length;f++)x=l.hasOwnProperty("$"+o[f].value),o[f].selected!==x&&(o[f].selected=x),x&&p&&(o[f].defaultSelected=!0)}else{for(f=""+Jn(f),l=null,x=0;x<o.length;x++){if(o[x].value===f){o[x].selected=!0,p&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function cs(o,l,f){if(l!=null&&(l=""+Jn(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+Jn(f):""}function F(o,l,f,p){if(l==null){if(p!=null){if(f!=null)throw Error(r(92));if(B(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),l=f}f=Jn(l),o.defaultValue=f,p=o.textContent,p===f&&p!==""&&p!==null&&(o.value=p)}function W(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var X=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ee(o,l,f){var p=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":p?o.setProperty(l,f):typeof f!="number"||f===0||X.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function ie(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var x in l)p=l[x],l.hasOwnProperty(x)&&f[x]!==p&&ee(o,x,p)}else for(var S in l)l.hasOwnProperty(S)&&ee(o,S,l[S])}function de(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ke=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Be(o){return ke.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Ee=null;function pt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Jt=null,dn=null;function ds(o){var l=Ta(o);if(l&&(o=l.stateNode)){var f=o[In]||null;e:switch(o=l.stateNode,l.type){case"input":if(Cn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Qn(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var p=f[l];if(p!==o&&p.form===o.form){var x=p[In]||null;if(!x)throw Error(r(90));Cn(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<f.length;l++)p=f[l],p.form===o.form&&Ud(p)}break e;case"textarea":cs(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&hi(o,!!f.multiple,l,!1)}}}var ao=!1;function fs(o,l,f){if(ao)return o(l,f);ao=!0;try{var p=o(l);return p}finally{if(ao=!1,(Jt!==null||dn!==null)&&(Af(),Jt&&(l=Jt,o=dn,dn=Jt=null,ds(l),o)))for(l=0;l<o.length;l++)ds(o[l])}}function Ea(o,l){var f=o.stateNode;if(f===null)return null;var p=f[In]||null;if(p===null)return null;f=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=!1;if(ur)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){io=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{io=!1}var Sr=null,oo=null,kn=null;function Ur(){if(kn)return kn;var o,l=oo,f=l.length,p,x="value"in Sr?Sr.value:Sr.textContent,S=x.length;for(o=0;o<f&&l[o]===x[o];o++);var N=f-o;for(p=1;p<=N&&l[f-p]===x[S-p];p++);return kn=x.slice(o,1<p?1-p:void 0)}function ia(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function mi(){return!0}function n1(){return!1}function er(o){function l(f,p,x,S,N){this._reactName=f,this._targetInst=x,this.type=p,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var R in o)o.hasOwnProperty(R)&&(f=o[R],this[R]=f?f(S):S[R]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?mi:n1,this.isPropagationStopped=n1,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),l}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vd=er(so),fu=h({},so,{view:0,detail:0}),tL=er(fu),Dp,Np,hu,zd=h({},fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==hu&&(hu&&o.type==="mousemove"?(Dp=o.screenX-hu.screenX,Np=o.screenY-hu.screenY):Np=Dp=0,hu=o),Dp)},movementY:function(o){return"movementY"in o?o.movementY:Np}}),r1=er(zd),nL=h({},zd,{dataTransfer:0}),rL=er(nL),aL=h({},fu,{relatedTarget:0}),Pp=er(aL),iL=h({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),oL=er(iL),sL=h({},so,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),lL=er(sL),uL=h({},so,{data:0}),a1=er(uL),cL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hL(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=fL[o])?!!l[o]:!1}function Rp(){return hL}var mL=h({},fu,{key:function(o){if(o.key){var l=cL[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=ia(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?dL[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rp,charCode:function(o){return o.type==="keypress"?ia(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ia(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),pL=er(mL),gL=h({},zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i1=er(gL),vL=h({},fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rp}),yL=er(vL),bL=h({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),xL=er(bL),_L=h({},zd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),SL=er(_L),wL=h({},so,{newState:0,oldState:0}),TL=er(wL),AL=[9,13,27,32],Ip=ur&&"CompositionEvent"in window,mu=null;ur&&"documentMode"in document&&(mu=document.documentMode);var EL=ur&&"TextEvent"in window&&!mu,o1=ur&&(!Ip||mu&&8<mu&&11>=mu),s1=" ",l1=!1;function u1(o,l){switch(o){case"keyup":return AL.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var hs=!1;function CL(o,l){switch(o){case"compositionend":return c1(l);case"keypress":return l.which!==32?null:(l1=!0,s1);case"textInput":return o=l.data,o===s1&&l1?null:o;default:return null}}function kL(o,l){if(hs)return o==="compositionend"||!Ip&&u1(o,l)?(o=Ur(),kn=oo=Sr=null,hs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return o1&&l.locale!=="ko"?null:l.data;default:return null}}var OL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!OL[o.type]:l==="textarea"}function f1(o,l,f,p){Jt?dn?dn.push(p):dn=[p]:Jt=p,l=Df(l,"onChange"),0<l.length&&(f=new Vd("onChange","change",null,f,p),o.push({event:f,listeners:l}))}var pu=null,gu=null;function ML(o){HA(o,0)}function Gd(o){var l=ro(o);if(Ud(l))return o}function h1(o,l){if(o==="change")return l}var m1=!1;if(ur){var jp;if(ur){var $p="oninput"in document;if(!$p){var p1=document.createElement("div");p1.setAttribute("oninput","return;"),$p=typeof p1.oninput=="function"}jp=$p}else jp=!1;m1=jp&&(!document.documentMode||9<document.documentMode)}function g1(){pu&&(pu.detachEvent("onpropertychange",v1),gu=pu=null)}function v1(o){if(o.propertyName==="value"&&Gd(gu)){var l=[];f1(l,gu,o,pt(o)),fs(ML,l)}}function DL(o,l,f){o==="focusin"?(g1(),pu=l,gu=f,pu.attachEvent("onpropertychange",v1)):o==="focusout"&&g1()}function NL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Gd(gu)}function PL(o,l){if(o==="click")return Gd(l)}function RL(o,l){if(o==="input"||o==="change")return Gd(l)}function IL(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var cr=typeof Object.is=="function"?Object.is:IL;function vu(o,l){if(cr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),p=Object.keys(l);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var x=f[p];if(!me.call(l,x)||!cr(o[x],l[x]))return!1}return!0}function y1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function b1(o,l){var f=y1(o);o=0;for(var p;f;){if(f.nodeType===3){if(p=o+f.textContent.length,o<=l&&p>=l)return{node:f,offset:l-o};o=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=y1(f)}}function x1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?x1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function _1(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=us(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=us(o.document)}return l}function Lp(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var jL=ur&&"documentMode"in document&&11>=document.documentMode,ms=null,Bp=null,yu=null,qp=!1;function S1(o,l,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;qp||ms==null||ms!==us(p)||(p=ms,"selectionStart"in p&&Lp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),yu&&vu(yu,p)||(yu=p,p=Df(Bp,"onSelect"),0<p.length&&(l=new Vd("onSelect","select",null,l,f),o.push({event:l,listeners:p}),l.target=ms)))}function lo(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var ps={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},Up={},w1={};ur&&(w1=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function uo(o){if(Up[o])return Up[o];if(!ps[o])return o;var l=ps[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in w1)return Up[o]=l[f];return o}var T1=uo("animationend"),A1=uo("animationiteration"),E1=uo("animationstart"),$L=uo("transitionrun"),LL=uo("transitionstart"),BL=uo("transitioncancel"),C1=uo("transitionend"),k1=new Map,Fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fp.push("scrollEnd");function Fr(o,l){k1.set(o,l),Aa(l,[o])}var O1=new WeakMap;function wr(o,l){if(typeof o=="object"&&o!==null){var f=O1.get(o);return f!==void 0?f:(l={value:o,source:l,stack:Bd(l)},O1.set(o,l),l)}return{value:o,source:l,stack:Bd(l)}}var Tr=[],gs=0,Vp=0;function Hd(){for(var o=gs,l=Vp=gs=0;l<o;){var f=Tr[l];Tr[l++]=null;var p=Tr[l];Tr[l++]=null;var x=Tr[l];Tr[l++]=null;var S=Tr[l];if(Tr[l++]=null,p!==null&&x!==null){var N=p.pending;N===null?x.next=x:(x.next=N.next,N.next=x),p.pending=x}S!==0&&M1(f,x,S)}}function Kd(o,l,f,p){Tr[gs++]=o,Tr[gs++]=l,Tr[gs++]=f,Tr[gs++]=p,Vp|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function zp(o,l,f,p){return Kd(o,l,f,p),Yd(o)}function vs(o,l){return Kd(o,null,null,l),Yd(o)}function M1(o,l,f){o.lanes|=f;var p=o.alternate;p!==null&&(p.lanes|=f);for(var x=!1,S=o.return;S!==null;)S.childLanes|=f,p=S.alternate,p!==null&&(p.childLanes|=f),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(x=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,x&&l!==null&&(x=31-Rn(f),o=S.hiddenUpdates,p=o[x],p===null?o[x]=[l]:p.push(l),l.lane=f|536870912),S):null}function Yd(o){if(50<Vu)throw Vu=0,Xg=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var ys={};function qL(o,l,f,p){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(o,l,f,p){return new qL(o,l,f,p)}function Gp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ka(o,l){var f=o.alternate;return f===null?(f=dr(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function D1(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Wd(o,l,f,p,x,S){var N=0;if(p=o,typeof o=="function")Gp(o)&&(N=1);else if(typeof o=="string")N=F3(o,f,_e.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case q:return o=dr(31,f,l,x),o.elementType=q,o.lanes=S,o;case w:return co(f.children,x,S,l);case A:N=8,x|=24;break;case T:return o=dr(12,f,l,x|2),o.elementType=T,o.lanes=S,o;case C:return o=dr(13,f,l,x),o.elementType=C,o.lanes=S,o;case O:return o=dr(19,f,l,x),o.elementType=O,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:case E:N=10;break e;case M:N=9;break e;case D:N=11;break e;case P:N=14;break e;case I:N=16,p=null;break e}N=29,f=Error(r(130,o===null?"null":typeof o,"")),p=null}return l=dr(N,f,l,x),l.elementType=o,l.type=p,l.lanes=S,l}function co(o,l,f,p){return o=dr(7,o,p,l),o.lanes=f,o}function Hp(o,l,f){return o=dr(6,o,null,l),o.lanes=f,o}function Kp(o,l,f){return l=dr(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var bs=[],xs=0,Xd=null,Zd=0,Ar=[],Er=0,fo=null,Oa=1,Ma="";function ho(o,l){bs[xs++]=Zd,bs[xs++]=Xd,Xd=o,Zd=l}function N1(o,l,f){Ar[Er++]=Oa,Ar[Er++]=Ma,Ar[Er++]=fo,fo=o;var p=Oa;o=Ma;var x=32-Rn(p)-1;p&=~(1<<x),f+=1;var S=32-Rn(l)+x;if(30<S){var N=x-x%5;S=(p&(1<<N)-1).toString(32),p>>=N,x-=N,Oa=1<<32-Rn(l)+x|f<<x|p,Ma=S+o}else Oa=1<<S|f<<x|p,Ma=o}function Yp(o){o.return!==null&&(ho(o,1),N1(o,1,0))}function Wp(o){for(;o===Xd;)Xd=bs[--xs],bs[xs]=null,Zd=bs[--xs],bs[xs]=null;for(;o===fo;)fo=Ar[--Er],Ar[Er]=null,Ma=Ar[--Er],Ar[Er]=null,Oa=Ar[--Er],Ar[Er]=null}var Vn=null,Wt=null,gt=!1,mo=null,oa=!1,Xp=Error(r(519));function po(o){var l=Error(r(418,""));throw _u(wr(l,o)),Xp}function P1(o){var l=o.stateNode,f=o.type,p=o.memoizedProps;switch(l[vn]=o,l[In]=p,f){case"dialog":ot("cancel",l),ot("close",l);break;case"iframe":case"object":case"embed":ot("load",l);break;case"video":case"audio":for(f=0;f<Gu.length;f++)ot(Gu[f],l);break;case"source":ot("error",l);break;case"img":case"image":case"link":ot("error",l),ot("load",l);break;case"details":ot("toggle",l);break;case"input":ot("invalid",l),Fd(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),ls(l);break;case"select":ot("invalid",l);break;case"textarea":ot("invalid",l),F(l,p.value,p.defaultValue,p.children),ls(l)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||p.suppressHydrationWarning===!0||XA(l.textContent,f)?(p.popover!=null&&(ot("beforetoggle",l),ot("toggle",l)),p.onScroll!=null&&ot("scroll",l),p.onScrollEnd!=null&&ot("scrollend",l),p.onClick!=null&&(l.onclick=Nf),l=!0):l=!1,l||po(o)}function R1(o){for(Vn=o.return;Vn;)switch(Vn.tag){case 5:case 13:oa=!1;return;case 27:case 3:oa=!0;return;default:Vn=Vn.return}}function bu(o){if(o!==Vn)return!1;if(!gt)return R1(o),gt=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||fv(o.type,o.memoizedProps)),f=!f),f&&Wt&&po(o),R1(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(l===0){Wt=zr(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;o=o.nextSibling}Wt=null}}else l===27?(l=Wt,Mi(o.type)?(o=gv,gv=null,Wt=o):Wt=l):Wt=Vn?zr(o.stateNode.nextSibling):null;return!0}function xu(){Wt=Vn=null,gt=!1}function I1(){var o=mo;return o!==null&&(rr===null?rr=o:rr.push.apply(rr,o),mo=null),o}function _u(o){mo===null?mo=[o]:mo.push(o)}var Zp=G(null),go=null,Da=null;function pi(o,l,f){ce(Zp,l._currentValue),l._currentValue=f}function Na(o){o._currentValue=Zp.current,re(Zp)}function Jp(o,l,f){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===f)break;o=o.return}}function Qp(o,l,f,p){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var S=x.dependencies;if(S!==null){var N=x.child;S=S.firstContext;e:for(;S!==null;){var R=S;S=x;for(var K=0;K<l.length;K++)if(R.context===l[K]){S.lanes|=f,R=S.alternate,R!==null&&(R.lanes|=f),Jp(S.return,f,o),p||(N=null);break e}S=R.next}}else if(x.tag===18){if(N=x.return,N===null)throw Error(r(341));N.lanes|=f,S=N.alternate,S!==null&&(S.lanes|=f),Jp(N,f,o),N=null}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===o){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}}function Su(o,l,f,p){o=null;for(var x=l,S=!1;x!==null;){if(!S){if((x.flags&524288)!==0)S=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var N=x.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var R=x.type;cr(x.pendingProps.value,N.value)||(o!==null?o.push(R):o=[R])}}else if(x===nt.current){if(N=x.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(Zu):o=[Zu])}x=x.return}o!==null&&Qp(l,o,f,p),l.flags|=262144}function Jd(o){for(o=o.firstContext;o!==null;){if(!cr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function vo(o){go=o,Da=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function jn(o){return j1(go,o)}function Qd(o,l){return go===null&&vo(o),j1(o,l)}function j1(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},Da===null){if(o===null)throw Error(r(308));Da=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Da=Da.next=l;return f}var UL=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,p){o.push(p)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},FL=t.unstable_scheduleCallback,VL=t.unstable_NormalPriority,fn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eg(){return{controller:new UL,data:new Map,refCount:0}}function wu(o){o.refCount--,o.refCount===0&&FL(VL,function(){o.controller.abort()})}var Tu=null,tg=0,_s=0,Ss=null;function zL(o,l){if(Tu===null){var f=Tu=[];tg=0,_s=rv(),Ss={status:"pending",value:void 0,then:function(p){f.push(p)}}}return tg++,l.then($1,$1),l}function $1(){if(--tg===0&&Tu!==null){Ss!==null&&(Ss.status="fulfilled");var o=Tu;Tu=null,_s=0,Ss=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function GL(o,l){var f=[],p={status:"pending",value:null,reason:null,then:function(x){f.push(x)}};return o.then(function(){p.status="fulfilled",p.value=l;for(var x=0;x<f.length;x++)(0,f[x])(l)},function(x){for(p.status="rejected",p.reason=x,x=0;x<f.length;x++)(0,f[x])(void 0)}),p}var L1=$.S;$.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&zL(o,l),L1!==null&&L1(o,l)};var yo=G(null);function ng(){var o=yo.current;return o!==null?o:Rt.pooledCache}function ef(o,l){l===null?ce(yo,yo.current):ce(yo,l.pool)}function B1(){var o=ng();return o===null?null:{parent:fn._currentValue,pool:o}}var Au=Error(r(460)),q1=Error(r(474)),tf=Error(r(542)),rg={then:function(){}};function U1(o){return o=o.status,o==="fulfilled"||o==="rejected"}function nf(){}function F1(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(nf,nf),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,z1(o),o;default:if(typeof l.status=="string")l.then(nf,nf);else{if(o=Rt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(p){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=p}},function(p){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,z1(o),o}throw Eu=l,Au}}var Eu=null;function V1(){if(Eu===null)throw Error(r(459));var o=Eu;return Eu=null,o}function z1(o){if(o===Au||o===tf)throw Error(r(483))}var gi=!1;function ag(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ig(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function vi(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function yi(o,l,f){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(_t&2)!==0){var x=p.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),p.pending=l,l=Yd(o),M1(o,null,f),l}return Kd(o,p,l,f),Yd(o)}function Cu(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var p=l.lanes;p&=o.pendingLanes,f|=p,l.lanes=f,Nd(o,f)}}function og(o,l){var f=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var x=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var N={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?x=S=N:S=S.next=N,f=f.next}while(f!==null);S===null?x=S=l:S=S.next=l}else x=S=l;f={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var sg=!1;function ku(){if(sg){var o=Ss;if(o!==null)throw o}}function Ou(o,l,f,p){sg=!1;var x=o.updateQueue;gi=!1;var S=x.firstBaseUpdate,N=x.lastBaseUpdate,R=x.shared.pending;if(R!==null){x.shared.pending=null;var K=R,oe=K.next;K.next=null,N===null?S=oe:N.next=oe,N=K;var he=o.alternate;he!==null&&(he=he.updateQueue,R=he.lastBaseUpdate,R!==N&&(R===null?he.firstBaseUpdate=oe:R.next=oe,he.lastBaseUpdate=K))}if(S!==null){var ve=x.baseState;N=0,he=oe=K=null,R=S;do{var le=R.lane&-536870913,ue=le!==R.lane;if(ue?(ct&le)===le:(p&le)===le){le!==0&&le===_s&&(sg=!0),he!==null&&(he=he.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Fe=o,$e=R;le=l;var kt=f;switch($e.tag){case 1:if(Fe=$e.payload,typeof Fe=="function"){ve=Fe.call(kt,ve,le);break e}ve=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=$e.payload,le=typeof Fe=="function"?Fe.call(kt,ve,le):Fe,le==null)break e;ve=h({},ve,le);break e;case 2:gi=!0}}le=R.callback,le!==null&&(o.flags|=64,ue&&(o.flags|=8192),ue=x.callbacks,ue===null?x.callbacks=[le]:ue.push(le))}else ue={lane:le,tag:R.tag,payload:R.payload,callback:R.callback,next:null},he===null?(oe=he=ue,K=ve):he=he.next=ue,N|=le;if(R=R.next,R===null){if(R=x.shared.pending,R===null)break;ue=R,R=ue.next,ue.next=null,x.lastBaseUpdate=ue,x.shared.pending=null}}while(!0);he===null&&(K=ve),x.baseState=K,x.firstBaseUpdate=oe,x.lastBaseUpdate=he,S===null&&(x.shared.lanes=0),Ei|=N,o.lanes=N,o.memoizedState=ve}}function G1(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function H1(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)G1(f[o],l)}var ws=G(null),rf=G(0);function K1(o,l){o=Ba,ce(rf,o),ce(ws,l),Ba=o|l.baseLanes}function lg(){ce(rf,Ba),ce(ws,ws.current)}function ug(){Ba=rf.current,re(ws),re(rf)}var bi=0,tt=null,Et=null,rn=null,af=!1,Ts=!1,bo=!1,of=0,Mu=0,As=null,HL=0;function Qt(){throw Error(r(321))}function cg(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!cr(o[f],l[f]))return!1;return!0}function dg(o,l,f,p,x,S){return bi=S,tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$.H=o===null||o.memoizedState===null?MT:DT,bo=!1,S=f(p,x),bo=!1,Ts&&(S=W1(l,f,p,x)),Y1(o),S}function Y1(o){$.H=ff;var l=Et!==null&&Et.next!==null;if(bi=0,rn=Et=tt=null,af=!1,Mu=0,As=null,l)throw Error(r(300));o===null||yn||(o=o.dependencies,o!==null&&Jd(o)&&(yn=!0))}function W1(o,l,f,p){tt=o;var x=0;do{if(Ts&&(As=null),Mu=0,Ts=!1,25<=x)throw Error(r(301));if(x+=1,rn=Et=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}$.H=QL,S=l(f,p)}while(Ts);return S}function KL(){var o=$.H,l=o.useState()[0];return l=typeof l.then=="function"?Du(l):l,o=o.useState()[0],(Et!==null?Et.memoizedState:null)!==o&&(tt.flags|=1024),l}function fg(){var o=of!==0;return of=0,o}function hg(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function mg(o){if(af){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}af=!1}bi=0,rn=Et=tt=null,Ts=!1,Mu=of=0,As=null}function tr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?tt.memoizedState=rn=o:rn=rn.next=o,rn}function an(){if(Et===null){var o=tt.alternate;o=o!==null?o.memoizedState:null}else o=Et.next;var l=rn===null?tt.memoizedState:rn.next;if(l!==null)rn=l,Et=o;else{if(o===null)throw tt.alternate===null?Error(r(467)):Error(r(310));Et=o,o={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},rn===null?tt.memoizedState=rn=o:rn=rn.next=o}return rn}function pg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Du(o){var l=Mu;return Mu+=1,As===null&&(As=[]),o=F1(As,o,l),l=tt,(rn===null?l.memoizedState:rn.next)===null&&(l=l.alternate,$.H=l===null||l.memoizedState===null?MT:DT),o}function sf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Du(o);if(o.$$typeof===E)return jn(o)}throw Error(r(438,String(o)))}function gg(o){var l=null,f=tt.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var p=tt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=pg(),tt.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),p=0;p<o;p++)f[p]=z;return l.index++,f}function Pa(o,l){return typeof l=="function"?l(o):l}function lf(o){var l=an();return vg(l,Et,o)}function vg(o,l,f){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var x=o.baseQueue,S=p.pending;if(S!==null){if(x!==null){var N=x.next;x.next=S.next,S.next=N}l.baseQueue=x=S,p.pending=null}if(S=o.baseState,x===null)o.memoizedState=S;else{l=x.next;var R=N=null,K=null,oe=l,he=!1;do{var ve=oe.lane&-536870913;if(ve!==oe.lane?(ct&ve)===ve:(bi&ve)===ve){var le=oe.revertLane;if(le===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ve===_s&&(he=!0);else if((bi&le)===le){oe=oe.next,le===_s&&(he=!0);continue}else ve={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(R=K=ve,N=S):K=K.next=ve,tt.lanes|=le,Ei|=le;ve=oe.action,bo&&f(S,ve),S=oe.hasEagerState?oe.eagerState:f(S,ve)}else le={lane:ve,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(R=K=le,N=S):K=K.next=le,tt.lanes|=ve,Ei|=ve;oe=oe.next}while(oe!==null&&oe!==l);if(K===null?N=S:K.next=R,!cr(S,o.memoizedState)&&(yn=!0,he&&(f=Ss,f!==null)))throw f;o.memoizedState=S,o.baseState=N,o.baseQueue=K,p.lastRenderedState=S}return x===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function yg(o){var l=an(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var p=f.dispatch,x=f.pending,S=l.memoizedState;if(x!==null){f.pending=null;var N=x=x.next;do S=o(S,N.action),N=N.next;while(N!==x);cr(S,l.memoizedState)||(yn=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),f.lastRenderedState=S}return[S,p]}function X1(o,l,f){var p=tt,x=an(),S=gt;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=l();var N=!cr((Et||x).memoizedState,f);N&&(x.memoizedState=f,yn=!0),x=x.queue;var R=Q1.bind(null,p,x,o);if(Nu(2048,8,R,[o]),x.getSnapshot!==l||N||rn!==null&&rn.memoizedState.tag&1){if(p.flags|=2048,Es(9,uf(),J1.bind(null,p,x,f,l),null),Rt===null)throw Error(r(349));S||(bi&124)!==0||Z1(p,l,f)}return f}function Z1(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=tt.updateQueue,l===null?(l=pg(),tt.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function J1(o,l,f,p){l.value=f,l.getSnapshot=p,eT(l)&&tT(o)}function Q1(o,l,f){return f(function(){eT(l)&&tT(o)})}function eT(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!cr(o,f)}catch{return!0}}function tT(o){var l=vs(o,2);l!==null&&gr(l,o,2)}function bg(o){var l=tr();if(typeof o=="function"){var f=o;if(o=f(),bo){lr(!0);try{f()}finally{lr(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:o},l}function nT(o,l,f,p){return o.baseState=f,vg(o,Et,typeof p=="function"?p:Pa)}function YL(o,l,f,p,x){if(df(o))throw Error(r(485));if(o=l.action,o!==null){var S={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};$.T!==null?f(!0):S.isTransition=!1,p(S),f=l.pending,f===null?(S.next=l.pending=S,rT(l,S)):(S.next=f.next,l.pending=f.next=S)}}function rT(o,l){var f=l.action,p=l.payload,x=o.state;if(l.isTransition){var S=$.T,N={};$.T=N;try{var R=f(x,p),K=$.S;K!==null&&K(N,R),aT(o,l,R)}catch(oe){xg(o,l,oe)}finally{$.T=S}}else try{S=f(x,p),aT(o,l,S)}catch(oe){xg(o,l,oe)}}function aT(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){iT(o,l,p)},function(p){return xg(o,l,p)}):iT(o,l,f)}function iT(o,l,f){l.status="fulfilled",l.value=f,oT(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,rT(o,f)))}function xg(o,l,f){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=f,oT(l),l=l.next;while(l!==p)}o.action=null}function oT(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function sT(o,l){return l}function lT(o,l){if(gt){var f=Rt.formState;if(f!==null){e:{var p=tt;if(gt){if(Wt){t:{for(var x=Wt,S=oa;x.nodeType!==8;){if(!S){x=null;break t}if(x=zr(x.nextSibling),x===null){x=null;break t}}S=x.data,x=S==="F!"||S==="F"?x:null}if(x){Wt=zr(x.nextSibling),p=x.data==="F!";break e}}po(p)}p=!1}p&&(l=f[0])}}return f=tr(),f.memoizedState=f.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sT,lastRenderedState:l},f.queue=p,f=CT.bind(null,tt,p),p.dispatch=f,p=bg(!1),S=Ag.bind(null,tt,!1,p.queue),p=tr(),x={state:l,dispatch:null,action:o,pending:null},p.queue=x,f=YL.bind(null,tt,x,S,f),x.dispatch=f,p.memoizedState=o,[l,f,!1]}function uT(o){var l=an();return cT(l,Et,o)}function cT(o,l,f){if(l=vg(o,l,sT)[0],o=lf(Pa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Du(l)}catch(N){throw N===Au?tf:N}else p=l;l=an();var x=l.queue,S=x.dispatch;return f!==l.memoizedState&&(tt.flags|=2048,Es(9,uf(),WL.bind(null,x,f),null)),[p,S,o]}function WL(o,l){o.action=l}function dT(o){var l=an(),f=Et;if(f!==null)return cT(l,f,o);an(),l=l.memoizedState,f=an();var p=f.queue.dispatch;return f.memoizedState=o,[l,p,!1]}function Es(o,l,f,p){return o={tag:o,create:f,deps:p,inst:l,next:null},l=tt.updateQueue,l===null&&(l=pg(),tt.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(p=f.next,f.next=o,o.next=p,l.lastEffect=o),o}function uf(){return{destroy:void 0,resource:void 0}}function fT(){return an().memoizedState}function cf(o,l,f,p){var x=tr();p=p===void 0?null:p,tt.flags|=o,x.memoizedState=Es(1|l,uf(),f,p)}function Nu(o,l,f,p){var x=an();p=p===void 0?null:p;var S=x.memoizedState.inst;Et!==null&&p!==null&&cg(p,Et.memoizedState.deps)?x.memoizedState=Es(l,S,f,p):(tt.flags|=o,x.memoizedState=Es(1|l,S,f,p))}function hT(o,l){cf(8390656,8,o,l)}function mT(o,l){Nu(2048,8,o,l)}function pT(o,l){return Nu(4,2,o,l)}function gT(o,l){return Nu(4,4,o,l)}function vT(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function yT(o,l,f){f=f!=null?f.concat([o]):null,Nu(4,4,vT.bind(null,l,o),f)}function _g(){}function bT(o,l){var f=an();l=l===void 0?null:l;var p=f.memoizedState;return l!==null&&cg(l,p[1])?p[0]:(f.memoizedState=[o,l],o)}function xT(o,l){var f=an();l=l===void 0?null:l;var p=f.memoizedState;if(l!==null&&cg(l,p[1]))return p[0];if(p=o(),bo){lr(!0);try{o()}finally{lr(!1)}}return f.memoizedState=[p,l],p}function Sg(o,l,f){return f===void 0||(bi&1073741824)!==0?o.memoizedState=l:(o.memoizedState=f,o=wA(),tt.lanes|=o,Ei|=o,f)}function _T(o,l,f,p){return cr(f,l)?f:ws.current!==null?(o=Sg(o,f,p),cr(o,l)||(yn=!0),o):(bi&42)===0?(yn=!0,o.memoizedState=f):(o=wA(),tt.lanes|=o,Ei|=o,l)}function ST(o,l,f,p,x){var S=V.p;V.p=S!==0&&8>S?S:8;var N=$.T,R={};$.T=R,Ag(o,!1,l,f);try{var K=x(),oe=$.S;if(oe!==null&&oe(R,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var he=GL(K,p);Pu(o,l,he,pr(o))}else Pu(o,l,p,pr(o))}catch(ve){Pu(o,l,{then:function(){},status:"rejected",reason:ve},pr())}finally{V.p=S,$.T=N}}function XL(){}function wg(o,l,f,p){if(o.tag!==5)throw Error(r(476));var x=wT(o).queue;ST(o,x,l,Z,f===null?XL:function(){return TT(o),f(p)})}function wT(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:Z},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function TT(o){var l=wT(o).next.queue;Pu(o,l,{},pr())}function Tg(){return jn(Zu)}function AT(){return an().memoizedState}function ET(){return an().memoizedState}function ZL(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=pr();o=vi(f);var p=yi(l,o,f);p!==null&&(gr(p,l,f),Cu(p,l,f)),l={cache:eg()},o.payload=l;return}l=l.return}}function JL(o,l,f){var p=pr();f={lane:p,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},df(o)?kT(l,f):(f=zp(o,l,f,p),f!==null&&(gr(f,o,p),OT(f,l,p)))}function CT(o,l,f){var p=pr();Pu(o,l,f,p)}function Pu(o,l,f,p){var x={lane:p,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(df(o))kT(l,x);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var N=l.lastRenderedState,R=S(N,f);if(x.hasEagerState=!0,x.eagerState=R,cr(R,N))return Kd(o,l,x,0),Rt===null&&Hd(),!1}catch{}finally{}if(f=zp(o,l,x,p),f!==null)return gr(f,o,p),OT(f,l,p),!0}return!1}function Ag(o,l,f,p){if(p={lane:2,revertLane:rv(),action:p,hasEagerState:!1,eagerState:null,next:null},df(o)){if(l)throw Error(r(479))}else l=zp(o,f,p,2),l!==null&&gr(l,o,2)}function df(o){var l=o.alternate;return o===tt||l!==null&&l===tt}function kT(o,l){Ts=af=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function OT(o,l,f){if((f&4194048)!==0){var p=l.lanes;p&=o.pendingLanes,f|=p,l.lanes=f,Nd(o,f)}}var ff={readContext:jn,use:sf,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},MT={readContext:jn,use:sf,useCallback:function(o,l){return tr().memoizedState=[o,l===void 0?null:l],o},useContext:jn,useEffect:hT,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,cf(4194308,4,vT.bind(null,l,o),f)},useLayoutEffect:function(o,l){return cf(4194308,4,o,l)},useInsertionEffect:function(o,l){cf(4,2,o,l)},useMemo:function(o,l){var f=tr();l=l===void 0?null:l;var p=o();if(bo){lr(!0);try{o()}finally{lr(!1)}}return f.memoizedState=[p,l],p},useReducer:function(o,l,f){var p=tr();if(f!==void 0){var x=f(l);if(bo){lr(!0);try{f(l)}finally{lr(!1)}}}else x=l;return p.memoizedState=p.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},p.queue=o,o=o.dispatch=JL.bind(null,tt,o),[p.memoizedState,o]},useRef:function(o){var l=tr();return o={current:o},l.memoizedState=o},useState:function(o){o=bg(o);var l=o.queue,f=CT.bind(null,tt,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:_g,useDeferredValue:function(o,l){var f=tr();return Sg(f,o,l)},useTransition:function(){var o=bg(!1);return o=ST.bind(null,tt,o.queue,!0,!1),tr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var p=tt,x=tr();if(gt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Rt===null)throw Error(r(349));(ct&124)!==0||Z1(p,l,f)}x.memoizedState=f;var S={value:f,getSnapshot:l};return x.queue=S,hT(Q1.bind(null,p,S,o),[o]),p.flags|=2048,Es(9,uf(),J1.bind(null,p,S,f,l),null),f},useId:function(){var o=tr(),l=Rt.identifierPrefix;if(gt){var f=Ma,p=Oa;f=(p&~(1<<32-Rn(p)-1)).toString(32)+f,l="«"+l+"R"+f,f=of++,0<f&&(l+="H"+f.toString(32)),l+="»"}else f=HL++,l="«"+l+"r"+f.toString(32)+"»";return o.memoizedState=l},useHostTransitionStatus:Tg,useFormState:lT,useActionState:lT,useOptimistic:function(o){var l=tr();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Ag.bind(null,tt,!0,f),f.dispatch=l,[o,l]},useMemoCache:gg,useCacheRefresh:function(){return tr().memoizedState=ZL.bind(null,tt)}},DT={readContext:jn,use:sf,useCallback:bT,useContext:jn,useEffect:mT,useImperativeHandle:yT,useInsertionEffect:pT,useLayoutEffect:gT,useMemo:xT,useReducer:lf,useRef:fT,useState:function(){return lf(Pa)},useDebugValue:_g,useDeferredValue:function(o,l){var f=an();return _T(f,Et.memoizedState,o,l)},useTransition:function(){var o=lf(Pa)[0],l=an().memoizedState;return[typeof o=="boolean"?o:Du(o),l]},useSyncExternalStore:X1,useId:AT,useHostTransitionStatus:Tg,useFormState:uT,useActionState:uT,useOptimistic:function(o,l){var f=an();return nT(f,Et,o,l)},useMemoCache:gg,useCacheRefresh:ET},QL={readContext:jn,use:sf,useCallback:bT,useContext:jn,useEffect:mT,useImperativeHandle:yT,useInsertionEffect:pT,useLayoutEffect:gT,useMemo:xT,useReducer:yg,useRef:fT,useState:function(){return yg(Pa)},useDebugValue:_g,useDeferredValue:function(o,l){var f=an();return Et===null?Sg(f,o,l):_T(f,Et.memoizedState,o,l)},useTransition:function(){var o=yg(Pa)[0],l=an().memoizedState;return[typeof o=="boolean"?o:Du(o),l]},useSyncExternalStore:X1,useId:AT,useHostTransitionStatus:Tg,useFormState:dT,useActionState:dT,useOptimistic:function(o,l){var f=an();return Et!==null?nT(f,Et,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:gg,useCacheRefresh:ET},Cs=null,Ru=0;function hf(o){var l=Ru;return Ru+=1,Cs===null&&(Cs=[]),F1(Cs,o,l)}function Iu(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function mf(o,l){throw l.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function NT(o){var l=o._init;return l(o._payload)}function PT(o){function l(ne,te){if(o){var ae=ne.deletions;ae===null?(ne.deletions=[te],ne.flags|=16):ae.push(te)}}function f(ne,te){if(!o)return null;for(;te!==null;)l(ne,te),te=te.sibling;return null}function p(ne){for(var te=new Map;ne!==null;)ne.key!==null?te.set(ne.key,ne):te.set(ne.index,ne),ne=ne.sibling;return te}function x(ne,te){return ne=ka(ne,te),ne.index=0,ne.sibling=null,ne}function S(ne,te,ae){return ne.index=ae,o?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<te?(ne.flags|=67108866,te):ae):(ne.flags|=67108866,te)):(ne.flags|=1048576,te)}function N(ne){return o&&ne.alternate===null&&(ne.flags|=67108866),ne}function R(ne,te,ae,pe){return te===null||te.tag!==6?(te=Hp(ae,ne.mode,pe),te.return=ne,te):(te=x(te,ae),te.return=ne,te)}function K(ne,te,ae,pe){var Ne=ae.type;return Ne===w?he(ne,te,ae.props.children,pe,ae.key):te!==null&&(te.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===I&&NT(Ne)===te.type)?(te=x(te,ae.props),Iu(te,ae),te.return=ne,te):(te=Wd(ae.type,ae.key,ae.props,null,ne.mode,pe),Iu(te,ae),te.return=ne,te)}function oe(ne,te,ae,pe){return te===null||te.tag!==4||te.stateNode.containerInfo!==ae.containerInfo||te.stateNode.implementation!==ae.implementation?(te=Kp(ae,ne.mode,pe),te.return=ne,te):(te=x(te,ae.children||[]),te.return=ne,te)}function he(ne,te,ae,pe,Ne){return te===null||te.tag!==7?(te=co(ae,ne.mode,pe,Ne),te.return=ne,te):(te=x(te,ae),te.return=ne,te)}function ve(ne,te,ae){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Hp(""+te,ne.mode,ae),te.return=ne,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case y:return ae=Wd(te.type,te.key,te.props,null,ne.mode,ae),Iu(ae,te),ae.return=ne,ae;case _:return te=Kp(te,ne.mode,ae),te.return=ne,te;case I:var pe=te._init;return te=pe(te._payload),ve(ne,te,ae)}if(B(te)||H(te))return te=co(te,ne.mode,ae,null),te.return=ne,te;if(typeof te.then=="function")return ve(ne,hf(te),ae);if(te.$$typeof===E)return ve(ne,Qd(ne,te),ae);mf(ne,te)}return null}function le(ne,te,ae,pe){var Ne=te!==null?te.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ne!==null?null:R(ne,te,""+ae,pe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:return ae.key===Ne?K(ne,te,ae,pe):null;case _:return ae.key===Ne?oe(ne,te,ae,pe):null;case I:return Ne=ae._init,ae=Ne(ae._payload),le(ne,te,ae,pe)}if(B(ae)||H(ae))return Ne!==null?null:he(ne,te,ae,pe,null);if(typeof ae.then=="function")return le(ne,te,hf(ae),pe);if(ae.$$typeof===E)return le(ne,te,Qd(ne,ae),pe);mf(ne,ae)}return null}function ue(ne,te,ae,pe,Ne){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return ne=ne.get(ae)||null,R(te,ne,""+pe,Ne);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case y:return ne=ne.get(pe.key===null?ae:pe.key)||null,K(te,ne,pe,Ne);case _:return ne=ne.get(pe.key===null?ae:pe.key)||null,oe(te,ne,pe,Ne);case I:var rt=pe._init;return pe=rt(pe._payload),ue(ne,te,ae,pe,Ne)}if(B(pe)||H(pe))return ne=ne.get(ae)||null,he(te,ne,pe,Ne,null);if(typeof pe.then=="function")return ue(ne,te,ae,hf(pe),Ne);if(pe.$$typeof===E)return ue(ne,te,ae,Qd(te,pe),Ne);mf(te,pe)}return null}function Fe(ne,te,ae,pe){for(var Ne=null,rt=null,Ie=te,qe=te=0,xn=null;Ie!==null&&qe<ae.length;qe++){Ie.index>qe?(xn=Ie,Ie=null):xn=Ie.sibling;var ft=le(ne,Ie,ae[qe],pe);if(ft===null){Ie===null&&(Ie=xn);break}o&&Ie&&ft.alternate===null&&l(ne,Ie),te=S(ft,te,qe),rt===null?Ne=ft:rt.sibling=ft,rt=ft,Ie=xn}if(qe===ae.length)return f(ne,Ie),gt&&ho(ne,qe),Ne;if(Ie===null){for(;qe<ae.length;qe++)Ie=ve(ne,ae[qe],pe),Ie!==null&&(te=S(Ie,te,qe),rt===null?Ne=Ie:rt.sibling=Ie,rt=Ie);return gt&&ho(ne,qe),Ne}for(Ie=p(Ie);qe<ae.length;qe++)xn=ue(Ie,ne,qe,ae[qe],pe),xn!==null&&(o&&xn.alternate!==null&&Ie.delete(xn.key===null?qe:xn.key),te=S(xn,te,qe),rt===null?Ne=xn:rt.sibling=xn,rt=xn);return o&&Ie.forEach(function(Ii){return l(ne,Ii)}),gt&&ho(ne,qe),Ne}function $e(ne,te,ae,pe){if(ae==null)throw Error(r(151));for(var Ne=null,rt=null,Ie=te,qe=te=0,xn=null,ft=ae.next();Ie!==null&&!ft.done;qe++,ft=ae.next()){Ie.index>qe?(xn=Ie,Ie=null):xn=Ie.sibling;var Ii=le(ne,Ie,ft.value,pe);if(Ii===null){Ie===null&&(Ie=xn);break}o&&Ie&&Ii.alternate===null&&l(ne,Ie),te=S(Ii,te,qe),rt===null?Ne=Ii:rt.sibling=Ii,rt=Ii,Ie=xn}if(ft.done)return f(ne,Ie),gt&&ho(ne,qe),Ne;if(Ie===null){for(;!ft.done;qe++,ft=ae.next())ft=ve(ne,ft.value,pe),ft!==null&&(te=S(ft,te,qe),rt===null?Ne=ft:rt.sibling=ft,rt=ft);return gt&&ho(ne,qe),Ne}for(Ie=p(Ie);!ft.done;qe++,ft=ae.next())ft=ue(Ie,ne,qe,ft.value,pe),ft!==null&&(o&&ft.alternate!==null&&Ie.delete(ft.key===null?qe:ft.key),te=S(ft,te,qe),rt===null?Ne=ft:rt.sibling=ft,rt=ft);return o&&Ie.forEach(function(eB){return l(ne,eB)}),gt&&ho(ne,qe),Ne}function kt(ne,te,ae,pe){if(typeof ae=="object"&&ae!==null&&ae.type===w&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:e:{for(var Ne=ae.key;te!==null;){if(te.key===Ne){if(Ne=ae.type,Ne===w){if(te.tag===7){f(ne,te.sibling),pe=x(te,ae.props.children),pe.return=ne,ne=pe;break e}}else if(te.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===I&&NT(Ne)===te.type){f(ne,te.sibling),pe=x(te,ae.props),Iu(pe,ae),pe.return=ne,ne=pe;break e}f(ne,te);break}else l(ne,te);te=te.sibling}ae.type===w?(pe=co(ae.props.children,ne.mode,pe,ae.key),pe.return=ne,ne=pe):(pe=Wd(ae.type,ae.key,ae.props,null,ne.mode,pe),Iu(pe,ae),pe.return=ne,ne=pe)}return N(ne);case _:e:{for(Ne=ae.key;te!==null;){if(te.key===Ne)if(te.tag===4&&te.stateNode.containerInfo===ae.containerInfo&&te.stateNode.implementation===ae.implementation){f(ne,te.sibling),pe=x(te,ae.children||[]),pe.return=ne,ne=pe;break e}else{f(ne,te);break}else l(ne,te);te=te.sibling}pe=Kp(ae,ne.mode,pe),pe.return=ne,ne=pe}return N(ne);case I:return Ne=ae._init,ae=Ne(ae._payload),kt(ne,te,ae,pe)}if(B(ae))return Fe(ne,te,ae,pe);if(H(ae)){if(Ne=H(ae),typeof Ne!="function")throw Error(r(150));return ae=Ne.call(ae),$e(ne,te,ae,pe)}if(typeof ae.then=="function")return kt(ne,te,hf(ae),pe);if(ae.$$typeof===E)return kt(ne,te,Qd(ne,ae),pe);mf(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,te!==null&&te.tag===6?(f(ne,te.sibling),pe=x(te,ae),pe.return=ne,ne=pe):(f(ne,te),pe=Hp(ae,ne.mode,pe),pe.return=ne,ne=pe),N(ne)):f(ne,te)}return function(ne,te,ae,pe){try{Ru=0;var Ne=kt(ne,te,ae,pe);return Cs=null,Ne}catch(Ie){if(Ie===Au||Ie===tf)throw Ie;var rt=dr(29,Ie,null,ne.mode);return rt.lanes=pe,rt.return=ne,rt}finally{}}}var ks=PT(!0),RT=PT(!1),Cr=G(null),sa=null;function xi(o){var l=o.alternate;ce(hn,hn.current&1),ce(Cr,o),sa===null&&(l===null||ws.current!==null||l.memoizedState!==null)&&(sa=o)}function IT(o){if(o.tag===22){if(ce(hn,hn.current),ce(Cr,o),sa===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(sa=o)}}else _i()}function _i(){ce(hn,hn.current),ce(Cr,Cr.current)}function Ra(o){re(Cr),sa===o&&(sa=null),re(hn)}var hn=G(0);function pf(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||pv(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Eg(o,l,f,p){l=o.memoizedState,f=f(p,l),f=f==null?l:h({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Cg={enqueueSetState:function(o,l,f){o=o._reactInternals;var p=pr(),x=vi(p);x.payload=l,f!=null&&(x.callback=f),l=yi(o,x,p),l!==null&&(gr(l,o,p),Cu(l,o,p))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var p=pr(),x=vi(p);x.tag=1,x.payload=l,f!=null&&(x.callback=f),l=yi(o,x,p),l!==null&&(gr(l,o,p),Cu(l,o,p))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=pr(),p=vi(f);p.tag=2,l!=null&&(p.callback=l),l=yi(o,p,f),l!==null&&(gr(l,o,f),Cu(l,o,f))}};function jT(o,l,f,p,x,S,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,S,N):l.prototype&&l.prototype.isPureReactComponent?!vu(f,p)||!vu(x,S):!0}function $T(o,l,f,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,p),l.state!==o&&Cg.enqueueReplaceState(l,l.state,null)}function xo(o,l){var f=l;if("ref"in l){f={};for(var p in l)p!=="ref"&&(f[p]=l[p])}if(o=o.defaultProps){f===l&&(f=h({},f));for(var x in o)f[x]===void 0&&(f[x]=o[x])}return f}var gf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function LT(o){gf(o)}function BT(o){console.error(o)}function qT(o){gf(o)}function vf(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function UT(o,l,f){try{var p=o.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function kg(o,l,f){return f=vi(f),f.tag=3,f.payload={element:null},f.callback=function(){vf(o,l)},f}function FT(o){return o=vi(o),o.tag=3,o}function VT(o,l,f,p){var x=f.type.getDerivedStateFromError;if(typeof x=="function"){var S=p.value;o.payload=function(){return x(S)},o.callback=function(){UT(l,f,p)}}var N=f.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){UT(l,f,p),typeof x!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var R=p.stack;this.componentDidCatch(p.value,{componentStack:R!==null?R:""})})}function e3(o,l,f,p,x){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=f.alternate,l!==null&&Su(l,f,x,!0),f=Cr.current,f!==null){switch(f.tag){case 13:return sa===null?Jg():f.alternate===null&&Xt===0&&(Xt=3),f.flags&=-257,f.flags|=65536,f.lanes=x,p===rg?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([p]):l.add(p),ev(o,p,x)),!1;case 22:return f.flags|=65536,p===rg?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([p]):f.add(p)),ev(o,p,x)),!1}throw Error(r(435,f.tag))}return ev(o,p,x),Jg(),!1}if(gt)return l=Cr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,p!==Xp&&(o=Error(r(422),{cause:p}),_u(wr(o,f)))):(p!==Xp&&(l=Error(r(423),{cause:p}),_u(wr(l,f))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,p=wr(p,f),x=kg(o.stateNode,p,x),og(o,x),Xt!==4&&(Xt=2)),!1;var S=Error(r(520),{cause:p});if(S=wr(S,f),Fu===null?Fu=[S]:Fu.push(S),Xt!==4&&(Xt=2),l===null)return!0;p=wr(p,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=x&-x,f.lanes|=o,o=kg(f.stateNode,p,o),og(f,o),!1;case 1:if(l=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ci===null||!Ci.has(S))))return f.flags|=65536,x&=-x,f.lanes|=x,x=FT(x),VT(x,o,f,p),og(f,x),!1}f=f.return}while(f!==null);return!1}var zT=Error(r(461)),yn=!1;function On(o,l,f,p){l.child=o===null?RT(l,null,f,p):ks(l,o.child,f,p)}function GT(o,l,f,p,x){f=f.render;var S=l.ref;if("ref"in p){var N={};for(var R in p)R!=="ref"&&(N[R]=p[R])}else N=p;return vo(l),p=dg(o,l,f,N,S,x),R=fg(),o!==null&&!yn?(hg(o,l,x),Ia(o,l,x)):(gt&&R&&Yp(l),l.flags|=1,On(o,l,p,x),l.child)}function HT(o,l,f,p,x){if(o===null){var S=f.type;return typeof S=="function"&&!Gp(S)&&S.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=S,KT(o,l,S,p,x)):(o=Wd(f.type,null,p,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(S=o.child,!jg(o,x)){var N=S.memoizedProps;if(f=f.compare,f=f!==null?f:vu,f(N,p)&&o.ref===l.ref)return Ia(o,l,x)}return l.flags|=1,o=ka(S,p),o.ref=l.ref,o.return=l,l.child=o}function KT(o,l,f,p,x){if(o!==null){var S=o.memoizedProps;if(vu(S,p)&&o.ref===l.ref)if(yn=!1,l.pendingProps=p=S,jg(o,x))(o.flags&131072)!==0&&(yn=!0);else return l.lanes=o.lanes,Ia(o,l,x)}return Og(o,l,f,p,x)}function YT(o,l,f){var p=l.pendingProps,x=p.children,S=o!==null?o.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=S!==null?S.baseLanes|f:f,o!==null){for(x=l.child=o.child,S=0;x!==null;)S=S|x.lanes|x.childLanes,x=x.sibling;l.childLanes=S&~p}else l.childLanes=0,l.child=null;return WT(o,l,p,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&ef(l,S!==null?S.cachePool:null),S!==null?K1(l,S):lg(),IT(l);else return l.lanes=l.childLanes=536870912,WT(o,l,S!==null?S.baseLanes|f:f,f)}else S!==null?(ef(l,S.cachePool),K1(l,S),_i(),l.memoizedState=null):(o!==null&&ef(l,null),lg(),_i());return On(o,l,x,f),l.child}function WT(o,l,f,p){var x=ng();return x=x===null?null:{parent:fn._currentValue,pool:x},l.memoizedState={baseLanes:f,cachePool:x},o!==null&&ef(l,null),lg(),IT(l),o!==null&&Su(o,l,p,!0),null}function yf(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function Og(o,l,f,p,x){return vo(l),f=dg(o,l,f,p,void 0,x),p=fg(),o!==null&&!yn?(hg(o,l,x),Ia(o,l,x)):(gt&&p&&Yp(l),l.flags|=1,On(o,l,f,x),l.child)}function XT(o,l,f,p,x,S){return vo(l),l.updateQueue=null,f=W1(l,p,f,x),Y1(o),p=fg(),o!==null&&!yn?(hg(o,l,S),Ia(o,l,S)):(gt&&p&&Yp(l),l.flags|=1,On(o,l,f,S),l.child)}function ZT(o,l,f,p,x){if(vo(l),l.stateNode===null){var S=ys,N=f.contextType;typeof N=="object"&&N!==null&&(S=jn(N)),S=new f(p,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Cg,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=p,S.state=l.memoizedState,S.refs={},ag(l),N=f.contextType,S.context=typeof N=="object"&&N!==null?jn(N):ys,S.state=l.memoizedState,N=f.getDerivedStateFromProps,typeof N=="function"&&(Eg(l,f,N,p),S.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&Cg.enqueueReplaceState(S,S.state,null),Ou(l,p,S,x),ku(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(o===null){S=l.stateNode;var R=l.memoizedProps,K=xo(f,R);S.props=K;var oe=S.context,he=f.contextType;N=ys,typeof he=="object"&&he!==null&&(N=jn(he));var ve=f.getDerivedStateFromProps;he=typeof ve=="function"||typeof S.getSnapshotBeforeUpdate=="function",R=l.pendingProps!==R,he||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R||oe!==N)&&$T(l,S,p,N),gi=!1;var le=l.memoizedState;S.state=le,Ou(l,p,S,x),ku(),oe=l.memoizedState,R||le!==oe||gi?(typeof ve=="function"&&(Eg(l,f,ve,p),oe=l.memoizedState),(K=gi||jT(l,f,K,p,le,oe,N))?(he||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=oe),S.props=p,S.state=oe,S.context=N,p=K):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{S=l.stateNode,ig(o,l),N=l.memoizedProps,he=xo(f,N),S.props=he,ve=l.pendingProps,le=S.context,oe=f.contextType,K=ys,typeof oe=="object"&&oe!==null&&(K=jn(oe)),R=f.getDerivedStateFromProps,(oe=typeof R=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==ve||le!==K)&&$T(l,S,p,K),gi=!1,le=l.memoizedState,S.state=le,Ou(l,p,S,x),ku();var ue=l.memoizedState;N!==ve||le!==ue||gi||o!==null&&o.dependencies!==null&&Jd(o.dependencies)?(typeof R=="function"&&(Eg(l,f,R,p),ue=l.memoizedState),(he=gi||jT(l,f,he,p,le,ue,K)||o!==null&&o.dependencies!==null&&Jd(o.dependencies))?(oe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,ue,K),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,ue,K)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===o.memoizedProps&&le===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&le===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ue),S.props=p,S.state=ue,S.context=K,p=he):(typeof S.componentDidUpdate!="function"||N===o.memoizedProps&&le===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&le===o.memoizedState||(l.flags|=1024),p=!1)}return S=p,yf(o,l),p=(l.flags&128)!==0,S||p?(S=l.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,o!==null&&p?(l.child=ks(l,o.child,null,x),l.child=ks(l,null,f,x)):On(o,l,f,x),l.memoizedState=S.state,o=l.child):o=Ia(o,l,x),o}function JT(o,l,f,p){return xu(),l.flags|=256,On(o,l,f,p),l.child}var Mg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dg(o){return{baseLanes:o,cachePool:B1()}}function Ng(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=kr),o}function QT(o,l,f){var p=l.pendingProps,x=!1,S=(l.flags&128)!==0,N;if((N=S)||(N=o!==null&&o.memoizedState===null?!1:(hn.current&2)!==0),N&&(x=!0,l.flags&=-129),N=(l.flags&32)!==0,l.flags&=-33,o===null){if(gt){if(x?xi(l):_i(),gt){var R=Wt,K;if(K=R){e:{for(K=R,R=oa;K.nodeType!==8;){if(!R){R=null;break e}if(K=zr(K.nextSibling),K===null){R=null;break e}}R=K}R!==null?(l.memoizedState={dehydrated:R,treeContext:fo!==null?{id:Oa,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},K=dr(18,null,null,0),K.stateNode=R,K.return=l,l.child=K,Vn=l,Wt=null,K=!0):K=!1}K||po(l)}if(R=l.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return pv(R)?l.lanes=32:l.lanes=536870912,null;Ra(l)}return R=p.children,p=p.fallback,x?(_i(),x=l.mode,R=bf({mode:"hidden",children:R},x),p=co(p,x,f,null),R.return=l,p.return=l,R.sibling=p,l.child=R,x=l.child,x.memoizedState=Dg(f),x.childLanes=Ng(o,N,f),l.memoizedState=Mg,p):(xi(l),Pg(l,R))}if(K=o.memoizedState,K!==null&&(R=K.dehydrated,R!==null)){if(S)l.flags&256?(xi(l),l.flags&=-257,l=Rg(o,l,f)):l.memoizedState!==null?(_i(),l.child=o.child,l.flags|=128,l=null):(_i(),x=p.fallback,R=l.mode,p=bf({mode:"visible",children:p.children},R),x=co(x,R,f,null),x.flags|=2,p.return=l,x.return=l,p.sibling=x,l.child=p,ks(l,o.child,null,f),p=l.child,p.memoizedState=Dg(f),p.childLanes=Ng(o,N,f),l.memoizedState=Mg,l=x);else if(xi(l),pv(R)){if(N=R.nextSibling&&R.nextSibling.dataset,N)var oe=N.dgst;N=oe,p=Error(r(419)),p.stack="",p.digest=N,_u({value:p,source:null,stack:null}),l=Rg(o,l,f)}else if(yn||Su(o,l,f,!1),N=(f&o.childLanes)!==0,yn||N){if(N=Rt,N!==null&&(p=f&-f,p=(p&42)!==0?1:ru(p),p=(p&(N.suspendedLanes|f))!==0?0:p,p!==0&&p!==K.retryLane))throw K.retryLane=p,vs(o,p),gr(N,o,p),zT;R.data==="$?"||Jg(),l=Rg(o,l,f)}else R.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=K.treeContext,Wt=zr(R.nextSibling),Vn=l,gt=!0,mo=null,oa=!1,o!==null&&(Ar[Er++]=Oa,Ar[Er++]=Ma,Ar[Er++]=fo,Oa=o.id,Ma=o.overflow,fo=l),l=Pg(l,p.children),l.flags|=4096);return l}return x?(_i(),x=p.fallback,R=l.mode,K=o.child,oe=K.sibling,p=ka(K,{mode:"hidden",children:p.children}),p.subtreeFlags=K.subtreeFlags&65011712,oe!==null?x=ka(oe,x):(x=co(x,R,f,null),x.flags|=2),x.return=l,p.return=l,p.sibling=x,l.child=p,p=x,x=l.child,R=o.child.memoizedState,R===null?R=Dg(f):(K=R.cachePool,K!==null?(oe=fn._currentValue,K=K.parent!==oe?{parent:oe,pool:oe}:K):K=B1(),R={baseLanes:R.baseLanes|f,cachePool:K}),x.memoizedState=R,x.childLanes=Ng(o,N,f),l.memoizedState=Mg,p):(xi(l),f=o.child,o=f.sibling,f=ka(f,{mode:"visible",children:p.children}),f.return=l,f.sibling=null,o!==null&&(N=l.deletions,N===null?(l.deletions=[o],l.flags|=16):N.push(o)),l.child=f,l.memoizedState=null,f)}function Pg(o,l){return l=bf({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function bf(o,l){return o=dr(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Rg(o,l,f){return ks(l,o.child,null,f),o=Pg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function eA(o,l,f){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),Jp(o.return,l,f)}function Ig(o,l,f,p,x){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:x}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=f,S.tailMode=x)}function tA(o,l,f){var p=l.pendingProps,x=p.revealOrder,S=p.tail;if(On(o,l,p.children,f),p=hn.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&eA(o,f,l);else if(o.tag===19)eA(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}switch(ce(hn,p),x){case"forwards":for(f=l.child,x=null;f!==null;)o=f.alternate,o!==null&&pf(o)===null&&(x=f),f=f.sibling;f=x,f===null?(x=l.child,l.child=null):(x=f.sibling,f.sibling=null),Ig(l,!1,x,f,S);break;case"backwards":for(f=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&pf(o)===null){l.child=x;break}o=x.sibling,x.sibling=f,f=x,x=o}Ig(l,!0,f,null,S);break;case"together":Ig(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ia(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Ei|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(Su(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=ka(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=ka(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function jg(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Jd(o)))}function t3(o,l,f){switch(l.tag){case 3:Ye(l,l.stateNode.containerInfo),pi(l,fn,o.memoizedState.cache),xu();break;case 27:case 5:Le(l);break;case 4:Ye(l,l.stateNode.containerInfo);break;case 10:pi(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(xi(l),l.flags|=128,null):(f&l.child.childLanes)!==0?QT(o,l,f):(xi(l),o=Ia(o,l,f),o!==null?o.sibling:null);xi(l);break;case 19:var x=(o.flags&128)!==0;if(p=(f&l.childLanes)!==0,p||(Su(o,l,f,!1),p=(f&l.childLanes)!==0),x){if(p)return tA(o,l,f);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ce(hn,hn.current),p)break;return null;case 22:case 23:return l.lanes=0,YT(o,l,f);case 24:pi(l,fn,o.memoizedState.cache)}return Ia(o,l,f)}function nA(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)yn=!0;else{if(!jg(o,f)&&(l.flags&128)===0)return yn=!1,t3(o,l,f);yn=(o.flags&131072)!==0}else yn=!1,gt&&(l.flags&1048576)!==0&&N1(l,Zd,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var p=l.elementType,x=p._init;if(p=x(p._payload),l.type=p,typeof p=="function")Gp(p)?(o=xo(p,o),l.tag=1,l=ZT(null,l,p,o,f)):(l.tag=0,l=Og(null,l,p,o,f));else{if(p!=null){if(x=p.$$typeof,x===D){l.tag=11,l=GT(null,l,p,o,f);break e}else if(x===P){l.tag=14,l=HT(null,l,p,o,f);break e}}throw l=Y(p)||p,Error(r(306,l,""))}}return l;case 0:return Og(o,l,l.type,l.pendingProps,f);case 1:return p=l.type,x=xo(p,l.pendingProps),ZT(o,l,p,x,f);case 3:e:{if(Ye(l,l.stateNode.containerInfo),o===null)throw Error(r(387));p=l.pendingProps;var S=l.memoizedState;x=S.element,ig(o,l),Ou(l,p,null,f);var N=l.memoizedState;if(p=N.cache,pi(l,fn,p),p!==S.cache&&Qp(l,[fn],f,!0),ku(),p=N.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:N.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=JT(o,l,p,f);break e}else if(p!==x){x=wr(Error(r(424)),l),_u(x),l=JT(o,l,p,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Wt=zr(o.firstChild),Vn=l,gt=!0,mo=null,oa=!0,f=RT(l,null,p,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(xu(),p===x){l=Ia(o,l,f);break e}On(o,l,p,f)}l=l.child}return l;case 26:return yf(o,l),o===null?(f=oE(l.type,null,l.pendingProps,null))?l.memoizedState=f:gt||(f=l.type,o=l.pendingProps,p=Pf(Ce.current).createElement(f),p[vn]=l,p[In]=o,Dn(p,f,o),nn(p),l.stateNode=p):l.memoizedState=oE(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Le(l),o===null&&gt&&(p=l.stateNode=rE(l.type,l.pendingProps,Ce.current),Vn=l,oa=!0,x=Wt,Mi(l.type)?(gv=x,Wt=zr(p.firstChild)):Wt=x),On(o,l,l.pendingProps.children,f),yf(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&gt&&((x=p=Wt)&&(p=O3(p,l.type,l.pendingProps,oa),p!==null?(l.stateNode=p,Vn=l,Wt=zr(p.firstChild),oa=!1,x=!0):x=!1),x||po(l)),Le(l),x=l.type,S=l.pendingProps,N=o!==null?o.memoizedProps:null,p=S.children,fv(x,S)?p=null:N!==null&&fv(x,N)&&(l.flags|=32),l.memoizedState!==null&&(x=dg(o,l,KL,null,null,f),Zu._currentValue=x),yf(o,l),On(o,l,p,f),l.child;case 6:return o===null&&gt&&((o=f=Wt)&&(f=M3(f,l.pendingProps,oa),f!==null?(l.stateNode=f,Vn=l,Wt=null,o=!0):o=!1),o||po(l)),null;case 13:return QT(o,l,f);case 4:return Ye(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=ks(l,null,p,f):On(o,l,p,f),l.child;case 11:return GT(o,l,l.type,l.pendingProps,f);case 7:return On(o,l,l.pendingProps,f),l.child;case 8:return On(o,l,l.pendingProps.children,f),l.child;case 12:return On(o,l,l.pendingProps.children,f),l.child;case 10:return p=l.pendingProps,pi(l,l.type,p.value),On(o,l,p.children,f),l.child;case 9:return x=l.type._context,p=l.pendingProps.children,vo(l),x=jn(x),p=p(x),l.flags|=1,On(o,l,p,f),l.child;case 14:return HT(o,l,l.type,l.pendingProps,f);case 15:return KT(o,l,l.type,l.pendingProps,f);case 19:return tA(o,l,f);case 31:return p=l.pendingProps,f=l.mode,p={mode:p.mode,children:p.children},o===null?(f=bf(p,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=ka(o.child,p),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return YT(o,l,f);case 24:return vo(l),p=jn(fn),o===null?(x=ng(),x===null&&(x=Rt,S=eg(),x.pooledCache=S,S.refCount++,S!==null&&(x.pooledCacheLanes|=f),x=S),l.memoizedState={parent:p,cache:x},ag(l),pi(l,fn,x)):((o.lanes&f)!==0&&(ig(o,l),Ou(l,null,null,f),ku()),x=o.memoizedState,S=l.memoizedState,x.parent!==p?(x={parent:p,cache:p},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),pi(l,fn,p)):(p=S.cache,pi(l,fn,p),p!==x.cache&&Qp(l,[fn],f,!0))),On(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ja(o){o.flags|=4}function rA(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!dE(l)){if(l=Cr.current,l!==null&&((ct&4194048)===ct?sa!==null:(ct&62914560)!==ct&&(ct&536870912)===0||l!==sa))throw Eu=rg,q1;o.flags|=8192}}function xf(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Md():536870912,o.lanes|=l,Ns|=l)}function ju(o,l){if(!gt)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Kt(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,p=0;if(l)for(var x=o.child;x!==null;)f|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)f|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=p,o.childLanes=f,l}function n3(o,l,f){var p=l.pendingProps;switch(Wp(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(l),null;case 1:return Kt(l),null;case 3:return f=l.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Na(fn),Te(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(bu(l)?ja(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,I1())),Kt(l),null;case 26:return f=l.memoizedState,o===null?(ja(l),f!==null?(Kt(l),rA(l,f)):(Kt(l),l.flags&=-16777217)):f?f!==o.memoizedState?(ja(l),Kt(l),rA(l,f)):(Kt(l),l.flags&=-16777217):(o.memoizedProps!==p&&ja(l),Kt(l),l.flags&=-16777217),null;case 27:Ge(l),f=Ce.current;var x=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==p&&ja(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Kt(l),null}o=_e.current,bu(l)?P1(l):(o=rE(x,p,f),l.stateNode=o,ja(l))}return Kt(l),null;case 5:if(Ge(l),f=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&ja(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Kt(l),null}if(o=_e.current,bu(l))P1(l);else{switch(x=Pf(Ce.current),o){case 1:o=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof p.is=="string"?x.createElement("select",{is:p.is}):x.createElement("select"),p.multiple?o.multiple=!0:p.size&&(o.size=p.size);break;default:o=typeof p.is=="string"?x.createElement(f,{is:p.is}):x.createElement(f)}}o[vn]=l,o[In]=p;e:for(x=l.child;x!==null;){if(x.tag===5||x.tag===6)o.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===l)break e;for(;x.sibling===null;){if(x.return===null||x.return===l)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}l.stateNode=o;e:switch(Dn(o,f,p),f){case"button":case"input":case"select":case"textarea":o=!!p.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ja(l)}}return Kt(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==p&&ja(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(o=Ce.current,bu(l)){if(o=l.stateNode,f=l.memoizedProps,p=null,x=Vn,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}o[vn]=l,o=!!(o.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||XA(o.nodeValue,f)),o||po(l)}else o=Pf(o).createTextNode(p),o[vn]=l,l.stateNode=o}return Kt(l),null;case 13:if(p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=bu(l),p!==null&&p.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[vn]=l}else xu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Kt(l),x=!1}else x=I1(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(Ra(l),l):(Ra(l),null)}if(Ra(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=p!==null,o=o!==null&&o.memoizedState!==null,f){p=l.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool);var S=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==x&&(p.flags|=2048)}return f!==o&&f&&(l.child.flags|=8192),xf(l,l.updateQueue),Kt(l),null;case 4:return Te(),o===null&&sv(l.stateNode.containerInfo),Kt(l),null;case 10:return Na(l.type),Kt(l),null;case 19:if(re(hn),x=l.memoizedState,x===null)return Kt(l),null;if(p=(l.flags&128)!==0,S=x.rendering,S===null)if(p)ju(x,!1);else{if(Xt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(S=pf(o),S!==null){for(l.flags|=128,ju(x,!1),o=S.updateQueue,l.updateQueue=o,xf(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)D1(f,o),f=f.sibling;return ce(hn,hn.current&1|2),l.child}o=o.sibling}x.tail!==null&&At()>wf&&(l.flags|=128,p=!0,ju(x,!1),l.lanes=4194304)}else{if(!p)if(o=pf(S),o!==null){if(l.flags|=128,p=!0,o=o.updateQueue,l.updateQueue=o,xf(l,o),ju(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!gt)return Kt(l),null}else 2*At()-x.renderingStartTime>wf&&f!==536870912&&(l.flags|=128,p=!0,ju(x,!1),l.lanes=4194304);x.isBackwards?(S.sibling=l.child,l.child=S):(o=x.last,o!==null?o.sibling=S:l.child=S,x.last=S)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=At(),l.sibling=null,o=hn.current,ce(hn,p?o&1|2:o&1),l):(Kt(l),null);case 22:case 23:return Ra(l),ug(),p=l.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(f&536870912)!==0&&(l.flags&128)===0&&(Kt(l),l.subtreeFlags&6&&(l.flags|=8192)):Kt(l),f=l.updateQueue,f!==null&&xf(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048),o!==null&&re(yo),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Na(fn),Kt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function r3(o,l){switch(Wp(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Na(fn),Te(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Ge(l),null;case 13:if(Ra(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));xu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return re(hn),null;case 4:return Te(),null;case 10:return Na(l.type),null;case 22:case 23:return Ra(l),ug(),o!==null&&re(yo),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Na(fn),null;case 25:return null;default:return null}}function aA(o,l){switch(Wp(l),l.tag){case 3:Na(fn),Te();break;case 26:case 27:case 5:Ge(l);break;case 4:Te();break;case 13:Ra(l);break;case 19:re(hn);break;case 10:Na(l.type);break;case 22:case 23:Ra(l),ug(),o!==null&&re(yo);break;case 24:Na(fn)}}function $u(o,l){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var x=p.next;f=x;do{if((f.tag&o)===o){p=void 0;var S=f.create,N=f.inst;p=S(),N.destroy=p}f=f.next}while(f!==x)}}catch(R){Mt(l,l.return,R)}}function Si(o,l,f){try{var p=l.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var S=x.next;p=S;do{if((p.tag&o)===o){var N=p.inst,R=N.destroy;if(R!==void 0){N.destroy=void 0,x=l;var K=f,oe=R;try{oe()}catch(he){Mt(x,K,he)}}}p=p.next}while(p!==S)}}catch(he){Mt(l,l.return,he)}}function iA(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{H1(l,f)}catch(p){Mt(o,o.return,p)}}}function oA(o,l,f){f.props=xo(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(p){Mt(o,l,p)}}function Lu(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof f=="function"?o.refCleanup=f(p):f.current=p}}catch(x){Mt(o,l,x)}}function la(o,l){var f=o.ref,p=o.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(x){Mt(o,l,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(x){Mt(o,l,x)}else f.current=null}function sA(o){var l=o.type,f=o.memoizedProps,p=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(x){Mt(o,o.return,x)}}function $g(o,l,f){try{var p=o.stateNode;T3(p,o.type,f,l),p[In]=l}catch(x){Mt(o,o.return,x)}}function lA(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Mi(o.type)||o.tag===4}function Lg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||lA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Mi(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Bg(o,l,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Nf));else if(p!==4&&(p===27&&Mi(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(Bg(o,l,f),o=o.sibling;o!==null;)Bg(o,l,f),o=o.sibling}function _f(o,l,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(p!==4&&(p===27&&Mi(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(_f(o,l,f),o=o.sibling;o!==null;)_f(o,l,f),o=o.sibling}function uA(o){var l=o.stateNode,f=o.memoizedProps;try{for(var p=o.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);Dn(l,p,f),l[vn]=o,l[In]=f}catch(S){Mt(o,o.return,S)}}var $a=!1,en=!1,qg=!1,cA=typeof WeakSet=="function"?WeakSet:Set,bn=null;function a3(o,l){if(o=o.containerInfo,cv=Bf,o=_1(o),Lp(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var x=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var N=0,R=-1,K=-1,oe=0,he=0,ve=o,le=null;t:for(;;){for(var ue;ve!==f||x!==0&&ve.nodeType!==3||(R=N+x),ve!==S||p!==0&&ve.nodeType!==3||(K=N+p),ve.nodeType===3&&(N+=ve.nodeValue.length),(ue=ve.firstChild)!==null;)le=ve,ve=ue;for(;;){if(ve===o)break t;if(le===f&&++oe===x&&(R=N),le===S&&++he===p&&(K=N),(ue=ve.nextSibling)!==null)break;ve=le,le=ve.parentNode}ve=ue}f=R===-1||K===-1?null:{start:R,end:K}}else f=null}f=f||{start:0,end:0}}else f=null;for(dv={focusedElem:o,selectionRange:f},Bf=!1,bn=l;bn!==null;)if(l=bn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,bn=o;else for(;bn!==null;){switch(l=bn,S=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,f=l,x=S.memoizedProps,S=S.memoizedState,p=f.stateNode;try{var Fe=xo(f.type,x,f.elementType===f.type);o=p.getSnapshotBeforeUpdate(Fe,S),p.__reactInternalSnapshotBeforeUpdate=o}catch($e){Mt(f,f.return,$e)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)mv(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":mv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,bn=o;break}bn=l.return}}function dA(o,l,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:wi(o,f),p&4&&$u(5,f);break;case 1:if(wi(o,f),p&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(N){Mt(f,f.return,N)}else{var x=xo(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(x,l,o.__reactInternalSnapshotBeforeUpdate)}catch(N){Mt(f,f.return,N)}}p&64&&iA(f),p&512&&Lu(f,f.return);break;case 3:if(wi(o,f),p&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{H1(o,l)}catch(N){Mt(f,f.return,N)}}break;case 27:l===null&&p&4&&uA(f);case 26:case 5:wi(o,f),l===null&&p&4&&sA(f),p&512&&Lu(f,f.return);break;case 12:wi(o,f);break;case 13:wi(o,f),p&4&&mA(o,f),p&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=h3.bind(null,f),D3(o,f))));break;case 22:if(p=f.memoizedState!==null||$a,!p){l=l!==null&&l.memoizedState!==null||en,x=$a;var S=en;$a=p,(en=l)&&!S?Ti(o,f,(f.subtreeFlags&8772)!==0):wi(o,f),$a=x,en=S}break;case 30:break;default:wi(o,f)}}function fA(o){var l=o.alternate;l!==null&&(o.alternate=null,fA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&su(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Gt=null,nr=!1;function La(o,l,f){for(f=f.child;f!==null;)hA(o,l,f),f=f.sibling}function hA(o,l,f){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(si,f)}catch{}switch(f.tag){case 26:en||la(f,l),La(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:en||la(f,l);var p=Gt,x=nr;Mi(f.type)&&(Gt=f.stateNode,nr=!1),La(o,l,f),Ku(f.stateNode),Gt=p,nr=x;break;case 5:en||la(f,l);case 6:if(p=Gt,x=nr,Gt=null,La(o,l,f),Gt=p,nr=x,Gt!==null)if(nr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(f.stateNode)}catch(S){Mt(f,l,S)}else try{Gt.removeChild(f.stateNode)}catch(S){Mt(f,l,S)}break;case 18:Gt!==null&&(nr?(o=Gt,tE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),tc(o)):tE(Gt,f.stateNode));break;case 4:p=Gt,x=nr,Gt=f.stateNode.containerInfo,nr=!0,La(o,l,f),Gt=p,nr=x;break;case 0:case 11:case 14:case 15:en||Si(2,f,l),en||Si(4,f,l),La(o,l,f);break;case 1:en||(la(f,l),p=f.stateNode,typeof p.componentWillUnmount=="function"&&oA(f,l,p)),La(o,l,f);break;case 21:La(o,l,f);break;case 22:en=(p=en)||f.memoizedState!==null,La(o,l,f),en=p;break;default:La(o,l,f)}}function mA(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{tc(o)}catch(f){Mt(l,l.return,f)}}function i3(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new cA),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new cA),l;default:throw Error(r(435,o.tag))}}function Ug(o,l){var f=i3(o);l.forEach(function(p){var x=m3.bind(null,o,p);f.has(p)||(f.add(p),p.then(x,x))})}function fr(o,l){var f=l.deletions;if(f!==null)for(var p=0;p<f.length;p++){var x=f[p],S=o,N=l,R=N;e:for(;R!==null;){switch(R.tag){case 27:if(Mi(R.type)){Gt=R.stateNode,nr=!1;break e}break;case 5:Gt=R.stateNode,nr=!1;break e;case 3:case 4:Gt=R.stateNode.containerInfo,nr=!0;break e}R=R.return}if(Gt===null)throw Error(r(160));hA(S,N,x),Gt=null,nr=!1,S=x.alternate,S!==null&&(S.return=null),x.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)pA(l,o),l=l.sibling}var Vr=null;function pA(o,l){var f=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:fr(l,o),hr(o),p&4&&(Si(3,o,o.return),$u(3,o),Si(5,o,o.return));break;case 1:fr(l,o),hr(o),p&512&&(en||f===null||la(f,f.return)),p&64&&$a&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var x=Vr;if(fr(l,o),hr(o),p&512&&(en||f===null||la(f,f.return)),p&4){var S=f!==null?f.memoizedState:null;if(p=o.memoizedState,f===null)if(p===null)if(o.stateNode===null){e:{p=o.type,f=o.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":S=x.getElementsByTagName("title")[0],(!S||S[no]||S[vn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=x.createElement(p),x.head.insertBefore(S,x.querySelector("head > title"))),Dn(S,p,f),S[vn]=o,nn(S),p=S;break e;case"link":var N=uE("link","href",x).get(p+(f.href||""));if(N){for(var R=0;R<N.length;R++)if(S=N[R],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){N.splice(R,1);break t}}S=x.createElement(p),Dn(S,p,f),x.head.appendChild(S);break;case"meta":if(N=uE("meta","content",x).get(p+(f.content||""))){for(R=0;R<N.length;R++)if(S=N[R],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){N.splice(R,1);break t}}S=x.createElement(p),Dn(S,p,f),x.head.appendChild(S);break;default:throw Error(r(468,p))}S[vn]=o,nn(S),p=S}o.stateNode=p}else cE(x,o.type,o.stateNode);else o.stateNode=lE(x,p,o.memoizedProps);else S!==p?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,p===null?cE(x,o.type,o.stateNode):lE(x,p,o.memoizedProps)):p===null&&o.stateNode!==null&&$g(o,o.memoizedProps,f.memoizedProps)}break;case 27:fr(l,o),hr(o),p&512&&(en||f===null||la(f,f.return)),f!==null&&p&4&&$g(o,o.memoizedProps,f.memoizedProps);break;case 5:if(fr(l,o),hr(o),p&512&&(en||f===null||la(f,f.return)),o.flags&32){x=o.stateNode;try{W(x,"")}catch(ue){Mt(o,o.return,ue)}}p&4&&o.stateNode!=null&&(x=o.memoizedProps,$g(o,x,f!==null?f.memoizedProps:x)),p&1024&&(qg=!0);break;case 6:if(fr(l,o),hr(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,f=o.stateNode;try{f.nodeValue=p}catch(ue){Mt(o,o.return,ue)}}break;case 3:if(jf=null,x=Vr,Vr=Rf(l.containerInfo),fr(l,o),Vr=x,hr(o),p&4&&f!==null&&f.memoizedState.isDehydrated)try{tc(l.containerInfo)}catch(ue){Mt(o,o.return,ue)}qg&&(qg=!1,gA(o));break;case 4:p=Vr,Vr=Rf(o.stateNode.containerInfo),fr(l,o),hr(o),Vr=p;break;case 12:fr(l,o),hr(o);break;case 13:fr(l,o),hr(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Kg=At()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Ug(o,p)));break;case 22:x=o.memoizedState!==null;var K=f!==null&&f.memoizedState!==null,oe=$a,he=en;if($a=oe||x,en=he||K,fr(l,o),en=he,$a=oe,hr(o),p&8192)e:for(l=o.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(f===null||K||$a||en||_o(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){K=f=l;try{if(S=K.stateNode,x)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{R=K.stateNode;var ve=K.memoizedProps.style,le=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;R.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ue){Mt(K,K.return,ue)}}}else if(l.tag===6){if(f===null){K=l;try{K.stateNode.nodeValue=x?"":K.memoizedProps}catch(ue){Mt(K,K.return,ue)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=o.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,Ug(o,f))));break;case 19:fr(l,o),hr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Ug(o,p)));break;case 30:break;case 21:break;default:fr(l,o),hr(o)}}function hr(o){var l=o.flags;if(l&2){try{for(var f,p=o.return;p!==null;){if(lA(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var x=f.stateNode,S=Lg(o);_f(o,S,x);break;case 5:var N=f.stateNode;f.flags&32&&(W(N,""),f.flags&=-33);var R=Lg(o);_f(o,R,N);break;case 3:case 4:var K=f.stateNode.containerInfo,oe=Lg(o);Bg(o,oe,K);break;default:throw Error(r(161))}}catch(he){Mt(o,o.return,he)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function gA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;gA(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function wi(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)dA(o,l.alternate,l),l=l.sibling}function _o(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Si(4,l,l.return),_o(l);break;case 1:la(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&oA(l,l.return,f),_o(l);break;case 27:Ku(l.stateNode);case 26:case 5:la(l,l.return),_o(l);break;case 22:l.memoizedState===null&&_o(l);break;case 30:_o(l);break;default:_o(l)}o=o.sibling}}function Ti(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,x=o,S=l,N=S.flags;switch(S.tag){case 0:case 11:case 15:Ti(x,S,f),$u(4,S);break;case 1:if(Ti(x,S,f),p=S,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(oe){Mt(p,p.return,oe)}if(p=S,x=p.updateQueue,x!==null){var R=p.stateNode;try{var K=x.shared.hiddenCallbacks;if(K!==null)for(x.shared.hiddenCallbacks=null,x=0;x<K.length;x++)G1(K[x],R)}catch(oe){Mt(p,p.return,oe)}}f&&N&64&&iA(S),Lu(S,S.return);break;case 27:uA(S);case 26:case 5:Ti(x,S,f),f&&p===null&&N&4&&sA(S),Lu(S,S.return);break;case 12:Ti(x,S,f);break;case 13:Ti(x,S,f),f&&N&4&&mA(x,S);break;case 22:S.memoizedState===null&&Ti(x,S,f),Lu(S,S.return);break;case 30:break;default:Ti(x,S,f)}l=l.sibling}}function Fg(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&wu(f))}function Vg(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&wu(o))}function ua(o,l,f,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)vA(o,l,f,p),l=l.sibling}function vA(o,l,f,p){var x=l.flags;switch(l.tag){case 0:case 11:case 15:ua(o,l,f,p),x&2048&&$u(9,l);break;case 1:ua(o,l,f,p);break;case 3:ua(o,l,f,p),x&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&wu(o)));break;case 12:if(x&2048){ua(o,l,f,p),o=l.stateNode;try{var S=l.memoizedProps,N=S.id,R=S.onPostCommit;typeof R=="function"&&R(N,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(K){Mt(l,l.return,K)}}else ua(o,l,f,p);break;case 13:ua(o,l,f,p);break;case 23:break;case 22:S=l.stateNode,N=l.alternate,l.memoizedState!==null?S._visibility&2?ua(o,l,f,p):Bu(o,l):S._visibility&2?ua(o,l,f,p):(S._visibility|=2,Os(o,l,f,p,(l.subtreeFlags&10256)!==0)),x&2048&&Fg(N,l);break;case 24:ua(o,l,f,p),x&2048&&Vg(l.alternate,l);break;default:ua(o,l,f,p)}}function Os(o,l,f,p,x){for(x=x&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var S=o,N=l,R=f,K=p,oe=N.flags;switch(N.tag){case 0:case 11:case 15:Os(S,N,R,K,x),$u(8,N);break;case 23:break;case 22:var he=N.stateNode;N.memoizedState!==null?he._visibility&2?Os(S,N,R,K,x):Bu(S,N):(he._visibility|=2,Os(S,N,R,K,x)),x&&oe&2048&&Fg(N.alternate,N);break;case 24:Os(S,N,R,K,x),x&&oe&2048&&Vg(N.alternate,N);break;default:Os(S,N,R,K,x)}l=l.sibling}}function Bu(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,p=l,x=p.flags;switch(p.tag){case 22:Bu(f,p),x&2048&&Fg(p.alternate,p);break;case 24:Bu(f,p),x&2048&&Vg(p.alternate,p);break;default:Bu(f,p)}l=l.sibling}}var qu=8192;function Ms(o){if(o.subtreeFlags&qu)for(o=o.child;o!==null;)yA(o),o=o.sibling}function yA(o){switch(o.tag){case 26:Ms(o),o.flags&qu&&o.memoizedState!==null&&z3(Vr,o.memoizedState,o.memoizedProps);break;case 5:Ms(o);break;case 3:case 4:var l=Vr;Vr=Rf(o.stateNode.containerInfo),Ms(o),Vr=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=qu,qu=16777216,Ms(o),qu=l):Ms(o));break;default:Ms(o)}}function bA(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Uu(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];bn=p,_A(p,o)}bA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)xA(o),o=o.sibling}function xA(o){switch(o.tag){case 0:case 11:case 15:Uu(o),o.flags&2048&&Si(9,o,o.return);break;case 3:Uu(o);break;case 12:Uu(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Sf(o)):Uu(o);break;default:Uu(o)}}function Sf(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];bn=p,_A(p,o)}bA(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Si(8,l,l.return),Sf(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Sf(l));break;default:Sf(l)}o=o.sibling}}function _A(o,l){for(;bn!==null;){var f=bn;switch(f.tag){case 0:case 11:case 15:Si(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:wu(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,bn=p;else e:for(f=o;bn!==null;){p=bn;var x=p.sibling,S=p.return;if(fA(p),p===f){bn=null;break e}if(x!==null){x.return=S,bn=x;break e}bn=S}}}var o3={getCacheForType:function(o){var l=jn(fn),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f}},s3=typeof WeakMap=="function"?WeakMap:Map,_t=0,Rt=null,it=null,ct=0,St=0,mr=null,Ai=!1,Ds=!1,zg=!1,Ba=0,Xt=0,Ei=0,So=0,Gg=0,kr=0,Ns=0,Fu=null,rr=null,Hg=!1,Kg=0,wf=1/0,Tf=null,Ci=null,Mn=0,ki=null,Ps=null,Rs=0,Yg=0,Wg=null,SA=null,Vu=0,Xg=null;function pr(){if((_t&2)!==0&&ct!==0)return ct&-ct;if($.T!==null){var o=_s;return o!==0?o:rv()}return iu()}function wA(){kr===0&&(kr=(ct&536870912)===0||gt?Pt():536870912);var o=Cr.current;return o!==null&&(o.flags|=32),kr}function gr(o,l,f){(o===Rt&&(St===2||St===9)||o.cancelPendingCommit!==null)&&(Is(o,0),Oi(o,ct,kr,!1)),li(o,f),((_t&2)===0||o!==Rt)&&(o===Rt&&((_t&2)===0&&(So|=f),Xt===4&&Oi(o,ct,kr,!1)),ca(o))}function TA(o,l,f){if((_t&6)!==0)throw Error(r(327));var p=!f&&(l&124)===0&&(l&o.expiredLanes)===0||Br(o,l),x=p?c3(o,l):Qg(o,l,!0),S=p;do{if(x===0){Ds&&!p&&Oi(o,l,0,!1);break}else{if(f=o.current.alternate,S&&!l3(f)){x=Qg(o,l,!1),S=!1;continue}if(x===2){if(S=l,o.errorRecoveryDisabledLanes&S)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){l=N;e:{var R=o;x=Fu;var K=R.current.memoizedState.isDehydrated;if(K&&(Is(R,N).flags|=256),N=Qg(R,N,!1),N!==2){if(zg&&!K){R.errorRecoveryDisabledLanes|=S,So|=S,x=4;break e}S=rr,rr=x,S!==null&&(rr===null?rr=S:rr.push.apply(rr,S))}x=N}if(S=!1,x!==2)continue}}if(x===1){Is(o,0),Oi(o,l,0,!0);break}e:{switch(p=o,S=x,S){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Oi(p,l,kr,!Ai);break e;case 2:rr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(x=Kg+300-At(),10<x)){if(Oi(p,l,kr,!Ai),ra(p,0,!0)!==0)break e;p.timeoutHandle=QA(AA.bind(null,p,f,rr,Tf,Hg,l,kr,So,Ns,Ai,S,2,-0,0),x);break e}AA(p,f,rr,Tf,Hg,l,kr,So,Ns,Ai,S,0,-0,0)}}break}while(!0);ca(o)}function AA(o,l,f,p,x,S,N,R,K,oe,he,ve,le,ue){if(o.timeoutHandle=-1,ve=l.subtreeFlags,(ve&8192||(ve&16785408)===16785408)&&(Xu={stylesheets:null,count:0,unsuspend:V3},yA(l),ve=G3(),ve!==null)){o.cancelPendingCommit=ve(NA.bind(null,o,l,S,f,p,x,N,R,K,he,1,le,ue)),Oi(o,S,N,!oe);return}NA(o,l,S,f,p,x,N,R,K)}function l3(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var x=f[p],S=x.getSnapshot;x=x.value;try{if(!cr(S(),x))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Oi(o,l,f,p){l&=~Gg,l&=~So,o.suspendedLanes|=l,o.pingedLanes&=~l,p&&(o.warmLanes|=l),p=o.expirationTimes;for(var x=l;0<x;){var S=31-Rn(x),N=1<<S;p[S]=-1,x&=~N}f!==0&&Dd(o,f,l)}function Af(){return(_t&6)===0?(zu(0),!1):!0}function Zg(){if(it!==null){if(St===0)var o=it.return;else o=it,Da=go=null,mg(o),Cs=null,Ru=0,o=it;for(;o!==null;)aA(o.alternate,o),o=o.return;it=null}}function Is(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,E3(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Zg(),Rt=o,it=f=ka(o.current,null),ct=l,St=0,mr=null,Ai=!1,Ds=Br(o,l),zg=!1,Ns=kr=Gg=So=Ei=Xt=0,rr=Fu=null,Hg=!1,(l&8)!==0&&(l|=l&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=l;0<p;){var x=31-Rn(p),S=1<<x;l|=o[x],p&=~S}return Ba=l,Hd(),f}function EA(o,l){tt=null,$.H=ff,l===Au||l===tf?(l=V1(),St=3):l===q1?(l=V1(),St=4):St=l===zT?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,mr=l,it===null&&(Xt=1,vf(o,wr(l,o.current)))}function CA(){var o=$.H;return $.H=ff,o===null?ff:o}function kA(){var o=$.A;return $.A=o3,o}function Jg(){Xt=4,Ai||(ct&4194048)!==ct&&Cr.current!==null||(Ds=!0),(Ei&134217727)===0&&(So&134217727)===0||Rt===null||Oi(Rt,ct,kr,!1)}function Qg(o,l,f){var p=_t;_t|=2;var x=CA(),S=kA();(Rt!==o||ct!==l)&&(Tf=null,Is(o,l)),l=!1;var N=Xt;e:do try{if(St!==0&&it!==null){var R=it,K=mr;switch(St){case 8:Zg(),N=6;break e;case 3:case 2:case 9:case 6:Cr.current===null&&(l=!0);var oe=St;if(St=0,mr=null,js(o,R,K,oe),f&&Ds){N=0;break e}break;default:oe=St,St=0,mr=null,js(o,R,K,oe)}}u3(),N=Xt;break}catch(he){EA(o,he)}while(!0);return l&&o.shellSuspendCounter++,Da=go=null,_t=p,$.H=x,$.A=S,it===null&&(Rt=null,ct=0,Hd()),N}function u3(){for(;it!==null;)OA(it)}function c3(o,l){var f=_t;_t|=2;var p=CA(),x=kA();Rt!==o||ct!==l?(Tf=null,wf=At()+500,Is(o,l)):Ds=Br(o,l);e:do try{if(St!==0&&it!==null){l=it;var S=mr;t:switch(St){case 1:St=0,mr=null,js(o,l,S,1);break;case 2:case 9:if(U1(S)){St=0,mr=null,MA(l);break}l=function(){St!==2&&St!==9||Rt!==o||(St=7),ca(o)},S.then(l,l);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:U1(S)?(St=0,mr=null,MA(l)):(St=0,mr=null,js(o,l,S,7));break;case 5:var N=null;switch(it.tag){case 26:N=it.memoizedState;case 5:case 27:var R=it;if(!N||dE(N)){St=0,mr=null;var K=R.sibling;if(K!==null)it=K;else{var oe=R.return;oe!==null?(it=oe,Ef(oe)):it=null}break t}}St=0,mr=null,js(o,l,S,5);break;case 6:St=0,mr=null,js(o,l,S,6);break;case 8:Zg(),Xt=6;break e;default:throw Error(r(462))}}d3();break}catch(he){EA(o,he)}while(!0);return Da=go=null,$.H=p,$.A=x,_t=f,it!==null?0:(Rt=null,ct=0,Hd(),Xt)}function d3(){for(;it!==null&&!Vt();)OA(it)}function OA(o){var l=nA(o.alternate,o,Ba);o.memoizedProps=o.pendingProps,l===null?Ef(o):it=l}function MA(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=XT(f,l,l.pendingProps,l.type,void 0,ct);break;case 11:l=XT(f,l,l.pendingProps,l.type.render,l.ref,ct);break;case 5:mg(l);default:aA(f,l),l=it=D1(l,Ba),l=nA(f,l,Ba)}o.memoizedProps=o.pendingProps,l===null?Ef(o):it=l}function js(o,l,f,p){Da=go=null,mg(l),Cs=null,Ru=0;var x=l.return;try{if(e3(o,x,l,f,ct)){Xt=1,vf(o,wr(f,o.current)),it=null;return}}catch(S){if(x!==null)throw it=x,S;Xt=1,vf(o,wr(f,o.current)),it=null;return}l.flags&32768?(gt||p===1?o=!0:Ds||(ct&536870912)!==0?o=!1:(Ai=o=!0,(p===2||p===9||p===3||p===6)&&(p=Cr.current,p!==null&&p.tag===13&&(p.flags|=16384))),DA(l,o)):Ef(l)}function Ef(o){var l=o;do{if((l.flags&32768)!==0){DA(l,Ai);return}o=l.return;var f=n3(l.alternate,l,Ba);if(f!==null){it=f;return}if(l=l.sibling,l!==null){it=l;return}it=l=o}while(l!==null);Xt===0&&(Xt=5)}function DA(o,l){do{var f=r3(o.alternate,o);if(f!==null){f.flags&=32767,it=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){it=o;return}it=o=f}while(o!==null);Xt=6,it=null}function NA(o,l,f,p,x,S,N,R,K){o.cancelPendingCommit=null;do Cf();while(Mn!==0);if((_t&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(S=l.lanes|l.childLanes,S|=Vp,Sp(o,f,S,N,R,K),o===Rt&&(it=Rt=null,ct=0),Ps=l,ki=o,Rs=f,Yg=S,Wg=x,SA=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,p3(Fn,function(){return $A(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=$.T,$.T=null,x=V.p,V.p=2,N=_t,_t|=4;try{a3(o,l,f)}finally{_t=N,V.p=x,$.T=p}}Mn=1,PA(),RA(),IA()}}function PA(){if(Mn===1){Mn=0;var o=ki,l=Ps,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=$.T,$.T=null;var p=V.p;V.p=2;var x=_t;_t|=4;try{pA(l,o);var S=dv,N=_1(o.containerInfo),R=S.focusedElem,K=S.selectionRange;if(N!==R&&R&&R.ownerDocument&&x1(R.ownerDocument.documentElement,R)){if(K!==null&&Lp(R)){var oe=K.start,he=K.end;if(he===void 0&&(he=oe),"selectionStart"in R)R.selectionStart=oe,R.selectionEnd=Math.min(he,R.value.length);else{var ve=R.ownerDocument||document,le=ve&&ve.defaultView||window;if(le.getSelection){var ue=le.getSelection(),Fe=R.textContent.length,$e=Math.min(K.start,Fe),kt=K.end===void 0?$e:Math.min(K.end,Fe);!ue.extend&&$e>kt&&(N=kt,kt=$e,$e=N);var ne=b1(R,$e),te=b1(R,kt);if(ne&&te&&(ue.rangeCount!==1||ue.anchorNode!==ne.node||ue.anchorOffset!==ne.offset||ue.focusNode!==te.node||ue.focusOffset!==te.offset)){var ae=ve.createRange();ae.setStart(ne.node,ne.offset),ue.removeAllRanges(),$e>kt?(ue.addRange(ae),ue.extend(te.node,te.offset)):(ae.setEnd(te.node,te.offset),ue.addRange(ae))}}}}for(ve=[],ue=R;ue=ue.parentNode;)ue.nodeType===1&&ve.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ve.length;R++){var pe=ve[R];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Bf=!!cv,dv=cv=null}finally{_t=x,V.p=p,$.T=f}}o.current=l,Mn=2}}function RA(){if(Mn===2){Mn=0;var o=ki,l=Ps,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=$.T,$.T=null;var p=V.p;V.p=2;var x=_t;_t|=4;try{dA(o,l.alternate,l)}finally{_t=x,V.p=p,$.T=f}}Mn=3}}function IA(){if(Mn===4||Mn===3){Mn=0,Nt();var o=ki,l=Ps,f=Rs,p=SA;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Mn=5:(Mn=0,Ps=ki=null,jA(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(Ci=null),au(f),l=l.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(si,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=$.T,x=V.p,V.p=2,$.T=null;try{for(var S=o.onRecoverableError,N=0;N<p.length;N++){var R=p[N];S(R.value,{componentStack:R.stack})}}finally{$.T=l,V.p=x}}(Rs&3)!==0&&Cf(),ca(o),x=o.pendingLanes,(f&4194090)!==0&&(x&42)!==0?o===Xg?Vu++:(Vu=0,Xg=o):Vu=0,zu(0)}}function jA(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,wu(l)))}function Cf(o){return PA(),RA(),IA(),$A()}function $A(){if(Mn!==5)return!1;var o=ki,l=Yg;Yg=0;var f=au(Rs),p=$.T,x=V.p;try{V.p=32>f?32:f,$.T=null,f=Wg,Wg=null;var S=ki,N=Rs;if(Mn=0,Ps=ki=null,Rs=0,(_t&6)!==0)throw Error(r(331));var R=_t;if(_t|=4,xA(S.current),vA(S,S.current,N,f),_t=R,zu(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(si,S)}catch{}return!0}finally{V.p=x,$.T=p,jA(o,l)}}function LA(o,l,f){l=wr(f,l),l=kg(o.stateNode,l,2),o=yi(o,l,2),o!==null&&(li(o,2),ca(o))}function Mt(o,l,f){if(o.tag===3)LA(o,o,f);else for(;l!==null;){if(l.tag===3){LA(l,o,f);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ci===null||!Ci.has(p))){o=wr(f,o),f=FT(2),p=yi(l,f,2),p!==null&&(VT(f,p,l,o),li(p,2),ca(p));break}}l=l.return}}function ev(o,l,f){var p=o.pingCache;if(p===null){p=o.pingCache=new s3;var x=new Set;p.set(l,x)}else x=p.get(l),x===void 0&&(x=new Set,p.set(l,x));x.has(f)||(zg=!0,x.add(f),o=f3.bind(null,o,l,f),l.then(o,o))}function f3(o,l,f){var p=o.pingCache;p!==null&&p.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Rt===o&&(ct&f)===f&&(Xt===4||Xt===3&&(ct&62914560)===ct&&300>At()-Kg?(_t&2)===0&&Is(o,0):Gg|=f,Ns===ct&&(Ns=0)),ca(o)}function BA(o,l){l===0&&(l=Md()),o=vs(o,l),o!==null&&(li(o,l),ca(o))}function h3(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),BA(o,f)}function m3(o,l){var f=0;switch(o.tag){case 13:var p=o.stateNode,x=o.memoizedState;x!==null&&(f=x.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),BA(o,f)}function p3(o,l){return dt(o,l)}var kf=null,$s=null,tv=!1,Of=!1,nv=!1,wo=0;function ca(o){o!==$s&&o.next===null&&($s===null?kf=$s=o:$s=$s.next=o),Of=!0,tv||(tv=!0,v3())}function zu(o,l){if(!nv&&Of){nv=!0;do for(var f=!1,p=kf;p!==null;){if(o!==0){var x=p.pendingLanes;if(x===0)var S=0;else{var N=p.suspendedLanes,R=p.pingedLanes;S=(1<<31-Rn(42|o)+1)-1,S&=x&~(N&~R),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,VA(p,S))}else S=ct,S=ra(p,p===Rt?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||Br(p,S)||(f=!0,VA(p,S));p=p.next}while(f);nv=!1}}function g3(){qA()}function qA(){Of=tv=!1;var o=0;wo!==0&&(A3()&&(o=wo),wo=0);for(var l=At(),f=null,p=kf;p!==null;){var x=p.next,S=UA(p,l);S===0?(p.next=null,f===null?kf=x:f.next=x,x===null&&($s=f)):(f=p,(o!==0||(S&3)!==0)&&(Of=!0)),p=x}zu(o)}function UA(o,l){for(var f=o.suspendedLanes,p=o.pingedLanes,x=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var N=31-Rn(S),R=1<<N,K=x[N];K===-1?((R&f)===0||(R&p)!==0)&&(x[N]=tn(R,l)):K<=l&&(o.expiredLanes|=R),S&=~R}if(l=Rt,f=ct,f=ra(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,f===0||o===l&&(St===2||St===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Ze(p),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Br(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(p!==null&&Ze(p),au(f)){case 2:case 8:f=zt;break;case 32:f=Fn;break;case 268435456:f=na;break;default:f=Fn}return p=FA.bind(null,o),f=dt(f,p),o.callbackPriority=l,o.callbackNode=f,l}return p!==null&&p!==null&&Ze(p),o.callbackPriority=2,o.callbackNode=null,2}function FA(o,l){if(Mn!==0&&Mn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Cf()&&o.callbackNode!==f)return null;var p=ct;return p=ra(o,o===Rt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(TA(o,p,l),UA(o,At()),o.callbackNode!=null&&o.callbackNode===f?FA.bind(null,o):null)}function VA(o,l){if(Cf())return null;TA(o,l,!0)}function v3(){C3(function(){(_t&6)!==0?dt(qt,g3):qA()})}function rv(){return wo===0&&(wo=Pt()),wo}function zA(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Be(""+o)}function GA(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function y3(o,l,f,p,x){if(l==="submit"&&f&&f.stateNode===x){var S=zA((x[In]||null).action),N=p.submitter;N&&(l=(l=N[In]||null)?zA(l.formAction):N.getAttribute("formAction"),l!==null&&(S=l,N=null));var R=new Vd("action","action",null,p,x);o.push({event:R,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(wo!==0){var K=N?GA(x,N):new FormData(x);wg(f,{pending:!0,data:K,method:x.method,action:S},null,K)}}else typeof S=="function"&&(R.preventDefault(),K=N?GA(x,N):new FormData(x),wg(f,{pending:!0,data:K,method:x.method,action:S},S,K))},currentTarget:x}]})}}for(var av=0;av<Fp.length;av++){var iv=Fp[av],b3=iv.toLowerCase(),x3=iv[0].toUpperCase()+iv.slice(1);Fr(b3,"on"+x3)}Fr(T1,"onAnimationEnd"),Fr(A1,"onAnimationIteration"),Fr(E1,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr($L,"onTransitionRun"),Fr(LL,"onTransitionStart"),Fr(BL,"onTransitionCancel"),Fr(C1,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function HA(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var p=o[f],x=p.event;p=p.listeners;e:{var S=void 0;if(l)for(var N=p.length-1;0<=N;N--){var R=p[N],K=R.instance,oe=R.currentTarget;if(R=R.listener,K!==S&&x.isPropagationStopped())break e;S=R,x.currentTarget=oe;try{S(x)}catch(he){gf(he)}x.currentTarget=null,S=K}else for(N=0;N<p.length;N++){if(R=p[N],K=R.instance,oe=R.currentTarget,R=R.listener,K!==S&&x.isPropagationStopped())break e;S=R,x.currentTarget=oe;try{S(x)}catch(he){gf(he)}x.currentTarget=null,S=K}}}}function ot(o,l){var f=l[ou];f===void 0&&(f=l[ou]=new Set);var p=o+"__bubble";f.has(p)||(KA(l,o,2,!1),f.add(p))}function ov(o,l,f){var p=0;l&&(p|=4),KA(f,o,p,l)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function sv(o){if(!o[Mf]){o[Mf]=!0,Rd.forEach(function(f){f!=="selectionchange"&&(_3.has(f)||ov(f,!1,o),ov(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Mf]||(l[Mf]=!0,ov("selectionchange",!1,l))}}function KA(o,l,f,p){switch(vE(l)){case 2:var x=Y3;break;case 8:x=W3;break;default:x=_v}f=x.bind(null,l,f,o),x=void 0,!io||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),p?x!==void 0?o.addEventListener(l,f,{capture:!0,passive:x}):o.addEventListener(l,f,!0):x!==void 0?o.addEventListener(l,f,{passive:x}):o.addEventListener(l,f,!1)}function lv(o,l,f,p,x){var S=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var R=p.stateNode.containerInfo;if(R===x)break;if(N===4)for(N=p.return;N!==null;){var K=N.tag;if((K===3||K===4)&&N.stateNode.containerInfo===x)return;N=N.return}for(;R!==null;){if(N=wa(R),N===null)return;if(K=N.tag,K===5||K===6||K===26||K===27){p=S=N;continue e}R=R.parentNode}}p=p.return}fs(function(){var oe=S,he=pt(f),ve=[];e:{var le=k1.get(o);if(le!==void 0){var ue=Vd,Fe=o;switch(o){case"keypress":if(ia(f)===0)break e;case"keydown":case"keyup":ue=pL;break;case"focusin":Fe="focus",ue=Pp;break;case"focusout":Fe="blur",ue=Pp;break;case"beforeblur":case"afterblur":ue=Pp;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=r1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=rL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=yL;break;case T1:case A1:case E1:ue=oL;break;case C1:ue=xL;break;case"scroll":case"scrollend":ue=tL;break;case"wheel":ue=SL;break;case"copy":case"cut":case"paste":ue=lL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=i1;break;case"toggle":case"beforetoggle":ue=TL}var $e=(l&4)!==0,kt=!$e&&(o==="scroll"||o==="scrollend"),ne=$e?le!==null?le+"Capture":null:le;$e=[];for(var te=oe,ae;te!==null;){var pe=te;if(ae=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ae===null||ne===null||(pe=Ea(te,ne),pe!=null&&$e.push(Hu(te,pe,ae))),kt)break;te=te.return}0<$e.length&&(le=new ue(le,Fe,null,f,he),ve.push({event:le,listeners:$e}))}}if((l&7)===0){e:{if(le=o==="mouseover"||o==="pointerover",ue=o==="mouseout"||o==="pointerout",le&&f!==Ee&&(Fe=f.relatedTarget||f.fromElement)&&(wa(Fe)||Fe[ui]))break e;if((ue||le)&&(le=he.window===he?he:(le=he.ownerDocument)?le.defaultView||le.parentWindow:window,ue?(Fe=f.relatedTarget||f.toElement,ue=oe,Fe=Fe?wa(Fe):null,Fe!==null&&(kt=i(Fe),$e=Fe.tag,Fe!==kt||$e!==5&&$e!==27&&$e!==6)&&(Fe=null)):(ue=null,Fe=oe),ue!==Fe)){if($e=r1,pe="onMouseLeave",ne="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&($e=i1,pe="onPointerLeave",ne="onPointerEnter",te="pointer"),kt=ue==null?le:ro(ue),ae=Fe==null?le:ro(Fe),le=new $e(pe,te+"leave",ue,f,he),le.target=kt,le.relatedTarget=ae,pe=null,wa(he)===oe&&($e=new $e(ne,te+"enter",Fe,f,he),$e.target=ae,$e.relatedTarget=kt,pe=$e),kt=pe,ue&&Fe)t:{for($e=ue,ne=Fe,te=0,ae=$e;ae;ae=Ls(ae))te++;for(ae=0,pe=ne;pe;pe=Ls(pe))ae++;for(;0<te-ae;)$e=Ls($e),te--;for(;0<ae-te;)ne=Ls(ne),ae--;for(;te--;){if($e===ne||ne!==null&&$e===ne.alternate)break t;$e=Ls($e),ne=Ls(ne)}$e=null}else $e=null;ue!==null&&YA(ve,le,ue,$e,!1),Fe!==null&&kt!==null&&YA(ve,kt,Fe,$e,!0)}}e:{if(le=oe?ro(oe):window,ue=le.nodeName&&le.nodeName.toLowerCase(),ue==="select"||ue==="input"&&le.type==="file")var Ne=h1;else if(d1(le))if(m1)Ne=RL;else{Ne=NL;var rt=DL}else ue=le.nodeName,!ue||ue.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?oe&&de(oe.elementType)&&(Ne=h1):Ne=PL;if(Ne&&(Ne=Ne(o,oe))){f1(ve,Ne,f,he);break e}rt&&rt(o,le,oe),o==="focusout"&&oe&&le.type==="number"&&oe.memoizedProps.value!=null&&du(le,"number",le.value)}switch(rt=oe?ro(oe):window,o){case"focusin":(d1(rt)||rt.contentEditable==="true")&&(ms=rt,Bp=oe,yu=null);break;case"focusout":yu=Bp=ms=null;break;case"mousedown":qp=!0;break;case"contextmenu":case"mouseup":case"dragend":qp=!1,S1(ve,f,he);break;case"selectionchange":if(jL)break;case"keydown":case"keyup":S1(ve,f,he)}var Ie;if(Ip)e:{switch(o){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else hs?u1(o,f)&&(qe="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(qe="onCompositionStart");qe&&(o1&&f.locale!=="ko"&&(hs||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&hs&&(Ie=Ur()):(Sr=he,oo="value"in Sr?Sr.value:Sr.textContent,hs=!0)),rt=Df(oe,qe),0<rt.length&&(qe=new a1(qe,o,null,f,he),ve.push({event:qe,listeners:rt}),Ie?qe.data=Ie:(Ie=c1(f),Ie!==null&&(qe.data=Ie)))),(Ie=EL?CL(o,f):kL(o,f))&&(qe=Df(oe,"onBeforeInput"),0<qe.length&&(rt=new a1("onBeforeInput","beforeinput",null,f,he),ve.push({event:rt,listeners:qe}),rt.data=Ie)),y3(ve,o,oe,f,he)}HA(ve,l)})}function Hu(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Df(o,l){for(var f=l+"Capture",p=[];o!==null;){var x=o,S=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||S===null||(x=Ea(o,f),x!=null&&p.unshift(Hu(o,x,S)),x=Ea(o,l),x!=null&&p.push(Hu(o,x,S))),o.tag===3)return p;o=o.return}return[]}function Ls(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function YA(o,l,f,p,x){for(var S=l._reactName,N=[];f!==null&&f!==p;){var R=f,K=R.alternate,oe=R.stateNode;if(R=R.tag,K!==null&&K===p)break;R!==5&&R!==26&&R!==27||oe===null||(K=oe,x?(oe=Ea(f,S),oe!=null&&N.unshift(Hu(f,oe,K))):x||(oe=Ea(f,S),oe!=null&&N.push(Hu(f,oe,K)))),f=f.return}N.length!==0&&o.push({event:l,listeners:N})}var S3=/\r\n?/g,w3=/\u0000|\uFFFD/g;function WA(o){return(typeof o=="string"?o:""+o).replace(S3,`
`).replace(w3,"")}function XA(o,l){return l=WA(l),WA(o)===l}function Nf(){}function Ct(o,l,f,p,x,S){switch(f){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||W(o,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&W(o,""+p);break;case"className":ss(o,"class",p);break;case"tabIndex":ss(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":ss(o,f,p);break;case"style":ie(o,p,S);break;case"data":if(l!=="object"){ss(o,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=Be(""+p),o.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(l!=="input"&&Ct(o,l,"name",x.name,x,null),Ct(o,l,"formEncType",x.formEncType,x,null),Ct(o,l,"formMethod",x.formMethod,x,null),Ct(o,l,"formTarget",x.formTarget,x,null)):(Ct(o,l,"encType",x.encType,x,null),Ct(o,l,"method",x.method,x,null),Ct(o,l,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=Be(""+p),o.setAttribute(f,p);break;case"onClick":p!=null&&(o.onclick=Nf);break;case"onScroll":p!=null&&ot("scroll",o);break;case"onScrollEnd":p!=null&&ot("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}f=Be(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""+p):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":p===!0?o.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,p):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(f,p):o.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(f):o.setAttribute(f,p);break;case"popover":ot("beforetoggle",o),ot("toggle",o),os(o,"popover",p);break;case"xlinkActuate":qr(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":qr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":qr(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":qr(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":qr(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":qr(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":qr(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":qr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":qr(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":os(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Se.get(f)||f,os(o,f,p))}}function uv(o,l,f,p,x,S){switch(f){case"style":ie(o,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof p=="string"?W(o,p):(typeof p=="number"||typeof p=="bigint")&&W(o,""+p);break;case"onScroll":p!=null&&ot("scroll",o);break;case"onScrollEnd":p!=null&&ot("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Nf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Id.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(x=f.endsWith("Capture"),l=f.slice(2,x?f.length-7:void 0),S=o[In]||null,S=S!=null?S[f]:null,typeof S=="function"&&o.removeEventListener(l,S,x),typeof p=="function")){typeof S!="function"&&S!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,p,x);break e}f in o?o[f]=p:p===!0?o.setAttribute(f,""):os(o,f,p)}}}function Dn(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",o),ot("load",o);var p=!1,x=!1,S;for(S in f)if(f.hasOwnProperty(S)){var N=f[S];if(N!=null)switch(S){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ct(o,l,S,N,f,null)}}x&&Ct(o,l,"srcSet",f.srcSet,f,null),p&&Ct(o,l,"src",f.src,f,null);return;case"input":ot("invalid",o);var R=S=N=x=null,K=null,oe=null;for(p in f)if(f.hasOwnProperty(p)){var he=f[p];if(he!=null)switch(p){case"name":x=he;break;case"type":N=he;break;case"checked":K=he;break;case"defaultChecked":oe=he;break;case"value":S=he;break;case"defaultValue":R=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,l));break;default:Ct(o,l,p,he,f,null)}}Fd(o,S,R,K,oe,N,x,!1),ls(o);return;case"select":ot("invalid",o),p=N=S=null;for(x in f)if(f.hasOwnProperty(x)&&(R=f[x],R!=null))switch(x){case"value":S=R;break;case"defaultValue":N=R;break;case"multiple":p=R;default:Ct(o,l,x,R,f,null)}l=S,f=N,o.multiple=!!p,l!=null?hi(o,!!p,l,!1):f!=null&&hi(o,!!p,f,!0);return;case"textarea":ot("invalid",o),S=x=p=null;for(N in f)if(f.hasOwnProperty(N)&&(R=f[N],R!=null))switch(N){case"value":p=R;break;case"defaultValue":x=R;break;case"children":S=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:Ct(o,l,N,R,f,null)}F(o,p,x,S),ls(o);return;case"option":for(K in f)if(f.hasOwnProperty(K)&&(p=f[K],p!=null))switch(K){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ct(o,l,K,p,f,null)}return;case"dialog":ot("beforetoggle",o),ot("toggle",o),ot("cancel",o),ot("close",o);break;case"iframe":case"object":ot("load",o);break;case"video":case"audio":for(p=0;p<Gu.length;p++)ot(Gu[p],o);break;case"image":ot("error",o),ot("load",o);break;case"details":ot("toggle",o);break;case"embed":case"source":case"link":ot("error",o),ot("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in f)if(f.hasOwnProperty(oe)&&(p=f[oe],p!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ct(o,l,oe,p,f,null)}return;default:if(de(l)){for(he in f)f.hasOwnProperty(he)&&(p=f[he],p!==void 0&&uv(o,l,he,p,f,void 0));return}}for(R in f)f.hasOwnProperty(R)&&(p=f[R],p!=null&&Ct(o,l,R,p,f,null))}function T3(o,l,f,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,S=null,N=null,R=null,K=null,oe=null,he=null;for(ue in f){var ve=f[ue];if(f.hasOwnProperty(ue)&&ve!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":K=ve;default:p.hasOwnProperty(ue)||Ct(o,l,ue,null,p,ve)}}for(var le in p){var ue=p[le];if(ve=f[le],p.hasOwnProperty(le)&&(ue!=null||ve!=null))switch(le){case"type":S=ue;break;case"name":x=ue;break;case"checked":oe=ue;break;case"defaultChecked":he=ue;break;case"value":N=ue;break;case"defaultValue":R=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:ue!==ve&&Ct(o,l,le,ue,p,ve)}}Cn(o,N,R,K,oe,he,S,x);return;case"select":ue=N=R=le=null;for(S in f)if(K=f[S],f.hasOwnProperty(S)&&K!=null)switch(S){case"value":break;case"multiple":ue=K;default:p.hasOwnProperty(S)||Ct(o,l,S,null,p,K)}for(x in p)if(S=p[x],K=f[x],p.hasOwnProperty(x)&&(S!=null||K!=null))switch(x){case"value":le=S;break;case"defaultValue":R=S;break;case"multiple":N=S;default:S!==K&&Ct(o,l,x,S,p,K)}l=R,f=N,p=ue,le!=null?hi(o,!!f,le,!1):!!p!=!!f&&(l!=null?hi(o,!!f,l,!0):hi(o,!!f,f?[]:"",!1));return;case"textarea":ue=le=null;for(R in f)if(x=f[R],f.hasOwnProperty(R)&&x!=null&&!p.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ct(o,l,R,null,p,x)}for(N in p)if(x=p[N],S=f[N],p.hasOwnProperty(N)&&(x!=null||S!=null))switch(N){case"value":le=x;break;case"defaultValue":ue=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==S&&Ct(o,l,N,x,p,S)}cs(o,le,ue);return;case"option":for(var Fe in f)if(le=f[Fe],f.hasOwnProperty(Fe)&&le!=null&&!p.hasOwnProperty(Fe))switch(Fe){case"selected":o.selected=!1;break;default:Ct(o,l,Fe,null,p,le)}for(K in p)if(le=p[K],ue=f[K],p.hasOwnProperty(K)&&le!==ue&&(le!=null||ue!=null))switch(K){case"selected":o.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Ct(o,l,K,le,p,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in f)le=f[$e],f.hasOwnProperty($e)&&le!=null&&!p.hasOwnProperty($e)&&Ct(o,l,$e,null,p,le);for(oe in p)if(le=p[oe],ue=f[oe],p.hasOwnProperty(oe)&&le!==ue&&(le!=null||ue!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:Ct(o,l,oe,le,p,ue)}return;default:if(de(l)){for(var kt in f)le=f[kt],f.hasOwnProperty(kt)&&le!==void 0&&!p.hasOwnProperty(kt)&&uv(o,l,kt,void 0,p,le);for(he in p)le=p[he],ue=f[he],!p.hasOwnProperty(he)||le===ue||le===void 0&&ue===void 0||uv(o,l,he,le,p,ue);return}}for(var ne in f)le=f[ne],f.hasOwnProperty(ne)&&le!=null&&!p.hasOwnProperty(ne)&&Ct(o,l,ne,null,p,le);for(ve in p)le=p[ve],ue=f[ve],!p.hasOwnProperty(ve)||le===ue||le==null&&ue==null||Ct(o,l,ve,le,p,ue)}var cv=null,dv=null;function Pf(o){return o.nodeType===9?o:o.ownerDocument}function ZA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JA(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function fv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var hv=null;function A3(){var o=window.event;return o&&o.type==="popstate"?o===hv?!1:(hv=o,!0):(hv=null,!1)}var QA=typeof setTimeout=="function"?setTimeout:void 0,E3=typeof clearTimeout=="function"?clearTimeout:void 0,eE=typeof Promise=="function"?Promise:void 0,C3=typeof queueMicrotask=="function"?queueMicrotask:typeof eE<"u"?function(o){return eE.resolve(null).then(o).catch(k3)}:QA;function k3(o){setTimeout(function(){throw o})}function Mi(o){return o==="head"}function tE(o,l){var f=l,p=0,x=0;do{var S=f.nextSibling;if(o.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(0<p&&8>p){f=p;var N=o.ownerDocument;if(f&1&&Ku(N.documentElement),f&2&&Ku(N.body),f&4)for(f=N.head,Ku(f),N=f.firstChild;N;){var R=N.nextSibling,K=N.nodeName;N[no]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=R}}if(x===0){o.removeChild(S),tc(l);return}x--}else f==="$"||f==="$?"||f==="$!"?x++:p=f.charCodeAt(0)-48;else p=0;f=S}while(f);tc(l)}function mv(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":mv(f),su(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function O3(o,l,f,p){for(;o.nodeType===1;){var x=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[no])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var S=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=zr(o.nextSibling),o===null)break}return null}function M3(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=zr(o.nextSibling),o===null))return null;return o}function pv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function D3(o,l){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")l();else{var p=function(){l(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function zr(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var gv=null;function nE(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}function rE(o,l,f){switch(l=Pf(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Ku(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);su(o)}var Or=new Map,aE=new Set;function Rf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var qa=V.d;V.d={f:N3,r:P3,D:R3,C:I3,L:j3,m:$3,X:B3,S:L3,M:q3};function N3(){var o=qa.f(),l=Af();return o||l}function P3(o){var l=Ta(o);l!==null&&l.tag===5&&l.type==="form"?TT(l):qa.r(o)}var Bs=typeof document>"u"?null:document;function iE(o,l,f){var p=Bs;if(p&&typeof l=="string"&&l){var x=Qn(l);x='link[rel="'+o+'"][href="'+x+'"]',typeof f=="string"&&(x+='[crossorigin="'+f+'"]'),aE.has(x)||(aE.add(x),o={rel:o,crossOrigin:f,href:l},p.querySelector(x)===null&&(l=p.createElement("link"),Dn(l,"link",o),nn(l),p.head.appendChild(l)))}}function R3(o){qa.D(o),iE("dns-prefetch",o,null)}function I3(o,l){qa.C(o,l),iE("preconnect",o,l)}function j3(o,l,f){qa.L(o,l,f);var p=Bs;if(p&&o&&l){var x='link[rel="preload"][as="'+Qn(l)+'"]';l==="image"&&f&&f.imageSrcSet?(x+='[imagesrcset="'+Qn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(x+='[imagesizes="'+Qn(f.imageSizes)+'"]')):x+='[href="'+Qn(o)+'"]';var S=x;switch(l){case"style":S=qs(o);break;case"script":S=Us(o)}Or.has(S)||(o=h({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),Or.set(S,o),p.querySelector(x)!==null||l==="style"&&p.querySelector(Yu(S))||l==="script"&&p.querySelector(Wu(S))||(l=p.createElement("link"),Dn(l,"link",o),nn(l),p.head.appendChild(l)))}}function $3(o,l){qa.m(o,l);var f=Bs;if(f&&o){var p=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+Qn(p)+'"][href="'+Qn(o)+'"]',S=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Us(o)}if(!Or.has(S)&&(o=h({rel:"modulepreload",href:o},l),Or.set(S,o),f.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Wu(S)))return}p=f.createElement("link"),Dn(p,"link",o),nn(p),f.head.appendChild(p)}}}function L3(o,l,f){qa.S(o,l,f);var p=Bs;if(p&&o){var x=ci(p).hoistableStyles,S=qs(o);l=l||"default";var N=x.get(S);if(!N){var R={loading:0,preload:null};if(N=p.querySelector(Yu(S)))R.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":l},f),(f=Or.get(S))&&vv(o,f);var K=N=p.createElement("link");nn(K),Dn(K,"link",o),K._p=new Promise(function(oe,he){K.onload=oe,K.onerror=he}),K.addEventListener("load",function(){R.loading|=1}),K.addEventListener("error",function(){R.loading|=2}),R.loading|=4,If(N,l,p)}N={type:"stylesheet",instance:N,count:1,state:R},x.set(S,N)}}}function B3(o,l){qa.X(o,l);var f=Bs;if(f&&o){var p=ci(f).hoistableScripts,x=Us(o),S=p.get(x);S||(S=f.querySelector(Wu(x)),S||(o=h({src:o,async:!0},l),(l=Or.get(x))&&yv(o,l),S=f.createElement("script"),nn(S),Dn(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(x,S))}}function q3(o,l){qa.M(o,l);var f=Bs;if(f&&o){var p=ci(f).hoistableScripts,x=Us(o),S=p.get(x);S||(S=f.querySelector(Wu(x)),S||(o=h({src:o,async:!0,type:"module"},l),(l=Or.get(x))&&yv(o,l),S=f.createElement("script"),nn(S),Dn(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(x,S))}}function oE(o,l,f,p){var x=(x=Ce.current)?Rf(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=qs(f.href),f=ci(x).hoistableStyles,p=f.get(l),p||(p={type:"style",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=qs(f.href);var S=ci(x).hoistableStyles,N=S.get(o);if(N||(x=x.ownerDocument||x,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,N),(S=x.querySelector(Yu(o)))&&!S._p&&(N.instance=S,N.state.loading=5),Or.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Or.set(o,f),S||U3(x,o,f,N.state))),l&&p===null)throw Error(r(528,""));return N}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Us(f),f=ci(x).hoistableScripts,p=f.get(l),p||(p={type:"script",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function qs(o){return'href="'+Qn(o)+'"'}function Yu(o){return'link[rel="stylesheet"]['+o+"]"}function sE(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function U3(o,l,f,p){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=o.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Dn(l,"link",f),nn(l),o.head.appendChild(l))}function Us(o){return'[src="'+Qn(o)+'"]'}function Wu(o){return"script[async]"+o}function lE(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var p=o.querySelector('style[data-href~="'+Qn(f.href)+'"]');if(p)return l.instance=p,nn(p),p;var x=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),nn(p),Dn(p,"style",x),If(p,f.precedence,o),l.instance=p;case"stylesheet":x=qs(f.href);var S=o.querySelector(Yu(x));if(S)return l.state.loading|=4,l.instance=S,nn(S),S;p=sE(f),(x=Or.get(x))&&vv(p,x),S=(o.ownerDocument||o).createElement("link"),nn(S);var N=S;return N._p=new Promise(function(R,K){N.onload=R,N.onerror=K}),Dn(S,"link",p),l.state.loading|=4,If(S,f.precedence,o),l.instance=S;case"script":return S=Us(f.src),(x=o.querySelector(Wu(S)))?(l.instance=x,nn(x),x):(p=f,(x=Or.get(S))&&(p=h({},f),yv(p,x)),o=o.ownerDocument||o,x=o.createElement("script"),nn(x),Dn(x,"link",p),o.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,If(p,f.precedence,o));return l.instance}function If(o,l,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,S=x,N=0;N<p.length;N++){var R=p[N];if(R.dataset.precedence===l)S=R;else if(S!==x)break}S?S.parentNode.insertBefore(o,S.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function vv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function yv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var jf=null;function uE(o,l,f){if(jf===null){var p=new Map,x=jf=new Map;x.set(f,p)}else x=jf,p=x.get(f),p||(p=new Map,x.set(f,p));if(p.has(o))return p;for(p.set(o,null),f=f.getElementsByTagName(o),x=0;x<f.length;x++){var S=f[x];if(!(S[no]||S[vn]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(l)||"";N=o+N;var R=p.get(N);R?R.push(S):p.set(N,[S])}}return p}function cE(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function F3(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function dE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Xu=null;function V3(){}function z3(o,l,f){if(Xu===null)throw Error(r(475));var p=Xu;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var x=qs(f.href),S=o.querySelector(Yu(x));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(p.count++,p=$f.bind(p),o.then(p,p)),l.state.loading|=4,l.instance=S,nn(S);return}S=o.ownerDocument||o,f=sE(f),(x=Or.get(x))&&vv(f,x),S=S.createElement("link"),nn(S);var N=S;N._p=new Promise(function(R,K){N.onload=R,N.onerror=K}),Dn(S,"link",f),l.instance=S}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=$f.bind(p),o.addEventListener("load",l),o.addEventListener("error",l))}}function G3(){if(Xu===null)throw Error(r(475));var o=Xu;return o.stylesheets&&o.count===0&&bv(o,o.stylesheets),0<o.count?function(l){var f=setTimeout(function(){if(o.stylesheets&&bv(o,o.stylesheets),o.unsuspend){var p=o.unsuspend;o.unsuspend=null,p()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f)}}:null}function $f(){if(this.count--,this.count===0){if(this.stylesheets)bv(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Lf=null;function bv(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Lf=new Map,l.forEach(H3,o),Lf=null,$f.call(o))}function H3(o,l){if(!(l.state.loading&4)){var f=Lf.get(o);if(f)var p=f.get(null);else{f=new Map,Lf.set(o,f);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<x.length;S++){var N=x[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(f.set(N.dataset.precedence,N),p=N)}p&&f.set(null,p)}x=l.instance,N=x.getAttribute("data-precedence"),S=f.get(N)||p,S===p&&f.set(null,x),f.set(N,x),this.count++,p=$f.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),S?S.parentNode.insertBefore(x,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),l.state.loading|=4}}var Zu={$$typeof:E,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function K3(o,l,f,p,x,S,N,R){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function fE(o,l,f,p,x,S,N,R,K,oe,he,ve){return o=new K3(o,l,f,N,R,K,oe,ve),l=1,S===!0&&(l|=24),S=dr(3,null,null,l),o.current=S,S.stateNode=o,l=eg(),l.refCount++,o.pooledCache=l,l.refCount++,S.memoizedState={element:p,isDehydrated:f,cache:l},ag(S),o}function hE(o){return o?(o=ys,o):ys}function mE(o,l,f,p,x,S){x=hE(x),p.context===null?p.context=x:p.pendingContext=x,p=vi(l),p.payload={element:f},S=S===void 0?null:S,S!==null&&(p.callback=S),f=yi(o,p,l),f!==null&&(gr(f,o,l),Cu(f,o,l))}function pE(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function xv(o,l){pE(o,l),(o=o.alternate)&&pE(o,l)}function gE(o){if(o.tag===13){var l=vs(o,67108864);l!==null&&gr(l,o,67108864),xv(o,67108864)}}var Bf=!0;function Y3(o,l,f,p){var x=$.T;$.T=null;var S=V.p;try{V.p=2,_v(o,l,f,p)}finally{V.p=S,$.T=x}}function W3(o,l,f,p){var x=$.T;$.T=null;var S=V.p;try{V.p=8,_v(o,l,f,p)}finally{V.p=S,$.T=x}}function _v(o,l,f,p){if(Bf){var x=Sv(p);if(x===null)lv(o,l,p,qf,f),yE(o,p);else if(Z3(x,o,l,f,p))p.stopPropagation();else if(yE(o,p),l&4&&-1<X3.indexOf(o)){for(;x!==null;){var S=Ta(x);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=Sa(S.pendingLanes);if(N!==0){var R=S;for(R.pendingLanes|=2,R.entangledLanes|=2;N;){var K=1<<31-Rn(N);R.entanglements[1]|=K,N&=~K}ca(S),(_t&6)===0&&(wf=At()+500,zu(0))}}break;case 13:R=vs(S,2),R!==null&&gr(R,S,2),Af(),xv(S,2)}if(S=Sv(p),S===null&&lv(o,l,p,qf,f),S===x)break;x=S}x!==null&&p.stopPropagation()}else lv(o,l,p,null,f)}}function Sv(o){return o=pt(o),wv(o)}var qf=null;function wv(o){if(qf=null,o=wa(o),o!==null){var l=i(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=s(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return qf=o,null}function vE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yt()){case qt:return 2;case zt:return 8;case Fn:case un:return 32;case na:return 268435456;default:return 32}default:return 32}}var Tv=!1,Di=null,Ni=null,Pi=null,Ju=new Map,Qu=new Map,Ri=[],X3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yE(o,l){switch(o){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Ju.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(l.pointerId)}}function ec(o,l,f,p,x,S){return o===null||o.nativeEvent!==S?(o={blockedOn:l,domEventName:f,eventSystemFlags:p,nativeEvent:S,targetContainers:[x]},l!==null&&(l=Ta(l),l!==null&&gE(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function Z3(o,l,f,p,x){switch(l){case"focusin":return Di=ec(Di,o,l,f,p,x),!0;case"dragenter":return Ni=ec(Ni,o,l,f,p,x),!0;case"mouseover":return Pi=ec(Pi,o,l,f,p,x),!0;case"pointerover":var S=x.pointerId;return Ju.set(S,ec(Ju.get(S)||null,o,l,f,p,x)),!0;case"gotpointercapture":return S=x.pointerId,Qu.set(S,ec(Qu.get(S)||null,o,l,f,p,x)),!0}return!1}function bE(o){var l=wa(o.target);if(l!==null){var f=i(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){o.blockedOn=l,wp(o.priority,function(){if(f.tag===13){var p=pr();p=ru(p);var x=vs(f,p);x!==null&&gr(x,f,p),xv(f,p)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Uf(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Sv(o.nativeEvent);if(f===null){f=o.nativeEvent;var p=new f.constructor(f.type,f);Ee=p,f.target.dispatchEvent(p),Ee=null}else return l=Ta(f),l!==null&&gE(l),o.blockedOn=f,!1;l.shift()}return!0}function xE(o,l,f){Uf(o)&&f.delete(l)}function J3(){Tv=!1,Di!==null&&Uf(Di)&&(Di=null),Ni!==null&&Uf(Ni)&&(Ni=null),Pi!==null&&Uf(Pi)&&(Pi=null),Ju.forEach(xE),Qu.forEach(xE)}function Ff(o,l){o.blockedOn===l&&(o.blockedOn=null,Tv||(Tv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,J3)))}var Vf=null;function _E(o){Vf!==o&&(Vf=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vf===o&&(Vf=null);for(var l=0;l<o.length;l+=3){var f=o[l],p=o[l+1],x=o[l+2];if(typeof p!="function"){if(wv(p||f)===null)continue;break}var S=Ta(f);S!==null&&(o.splice(l,3),l-=3,wg(S,{pending:!0,data:x,method:f.method,action:p},p,x))}}))}function tc(o){function l(K){return Ff(K,o)}Di!==null&&Ff(Di,o),Ni!==null&&Ff(Ni,o),Pi!==null&&Ff(Pi,o),Ju.forEach(l),Qu.forEach(l);for(var f=0;f<Ri.length;f++){var p=Ri[f];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Ri.length&&(f=Ri[0],f.blockedOn===null);)bE(f),f.blockedOn===null&&Ri.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var x=f[p],S=f[p+1],N=x[In]||null;if(typeof S=="function")N||_E(f);else if(N){var R=null;if(S&&S.hasAttribute("formAction")){if(x=S,N=S[In]||null)R=N.formAction;else if(wv(x)!==null)continue}else R=N.action;typeof R=="function"?f[p+1]=R:(f.splice(p,3),p-=3),_E(f)}}}function Av(o){this._internalRoot=o}zf.prototype.render=Av.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,p=pr();mE(f,p,o,l,null,null)},zf.prototype.unmount=Av.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;mE(o.current,2,null,o,null,null),Af(),l[ui]=null}};function zf(o){this._internalRoot=o}zf.prototype.unstable_scheduleHydration=function(o){if(o){var l=iu();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Ri.length&&l!==0&&l<Ri[f].priority;f++);Ri.splice(f,0,o),f===0&&bE(o)}};var SE=e.version;if(SE!=="19.1.0")throw Error(r(527,SE,"19.1.0"));V.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(l),o=o!==null?c(o):null,o=o===null?null:o.stateNode,o};var Q3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{si=Gf.inject(Q3),cn=Gf}catch{}}return rc.createRoot=function(o,l){if(!a(o))throw Error(r(299));var f=!1,p="",x=LT,S=BT,N=qT,R=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(R=l.unstable_transitionCallbacks)),l=fE(o,1,!1,null,null,f,p,x,S,N,R,null),o[ui]=l.current,sv(o),new Av(l)},rc.hydrateRoot=function(o,l,f){if(!a(o))throw Error(r(299));var p=!1,x="",S=LT,N=BT,R=qT,K=null,oe=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(N=f.onCaughtError),f.onRecoverableError!==void 0&&(R=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(K=f.unstable_transitionCallbacks),f.formState!==void 0&&(oe=f.formState)),l=fE(o,1,!0,l,f??null,p,x,S,N,R,K,oe),l.context=hE(null),f=l.current,p=pr(),p=ru(p),x=vi(p),x.callback=null,yi(f,x,p),f=p,l.current.lanes=f,li(l,f),ca(l),o[ui]=l.current,sv(o),new zf(l)},rc.version="19.1.0",rc}var NE;function cB(){if(NE)return kv.exports;NE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kv.exports=uB(),kv.exports}var dB=cB();const fB=yt(dB),hB="modulepreload",mB=function(t){return"/controle-financeiro/"+t},PE={},vd=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let s=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=s(n.map(c=>{if(c=mB(c),c in PE)return;PE[c]=!0;const h=c.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":hB,h||(y.as="script"),y.crossOrigin="",y.href=c,d&&y.setAttribute("nonce",d),document.head.appendChild(y),h)return new Promise((_,w)=>{y.addEventListener("load",_),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return a.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},pB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vd(async()=>{const{default:r}=await Promise.resolve().then(()=>Hl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class BS extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class gB extends BS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vB extends BS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yB extends BS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Fx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Fx||(Fx={}));var bB=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};class xB{constructor(e,{headers:n={},customFetch:r,region:a=Fx.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=pB(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return bB(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=n;let u={},{region:d}=n;d||(d=this.region),d&&d!=="any"&&(u["x-region"]=d);let c;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(u["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(u["Content-Type"]="application/json",c=JSON.stringify(s)));const h=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:c}).catch(w=>{throw new gB(w)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new vB(h);if(!h.ok)throw new yB(h);let y=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield h.json():y==="application/octet-stream"?_=yield h.blob():y==="text/event-stream"?_=h:y==="multipart/form-data"?_=yield h.formData():_=yield h.text(),{data:_,error:null}}catch(a){return{data:null,error:a}}})}}var _n={},Fs={},Vs={},zs={},Gs={},Hs={},_B=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},pl=_B();const SB=pl.fetch,PR=pl.fetch.bind(pl),RR=pl.Headers,wB=pl.Request,TB=pl.Response,Hl=Object.freeze(Object.defineProperty({__proto__:null,Headers:RR,Request:wB,Response:TB,default:PR,fetch:SB},Symbol.toStringTag,{value:"Module"})),AB=tB(Hl);var Kf={},RE;function IR(){if(RE)return Kf;RE=1,Object.defineProperty(Kf,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Kf.default=t,Kf}var IE;function jR(){if(IE)return Hs;IE=1;var t=Hs&&Hs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Hs,"__esModule",{value:!0});const e=t(AB),n=t(IR());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=Object.assign({},this.headers),this.headers[i]=s,this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var h,m,y;let _=null,w=null,A=null,T=c.status,k=c.statusText;if(c.ok){if(this.method!=="HEAD"){const C=await c.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=C:w=JSON.parse(C))}const E=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),D=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");E&&D&&D.length>1&&(A=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(_={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,A=null,T=406,k="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const E=await c.text();try{_=JSON.parse(E),Array.isArray(_)&&c.status===404&&(w=[],_=null,T=200,k="OK")}catch{c.status===404&&E===""?(T=204,k="No Content"):_={message:E}}if(_&&this.isMaybeSingle&&(!((y=_==null?void 0:_.details)===null||y===void 0)&&y.includes("0 rows"))&&(_=null,T=200,k="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:w,count:A,status:T,statusText:k}});return this.shouldThrowOnError||(d=d.catch(c=>{var h,m,y;return{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(m=c==null?void 0:c.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(y=c==null?void 0:c.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,s)}returns(){return this}overrideTypes(){return this}}return Hs.default=r,Hs}var jE;function $R(){if(jE)return Gs;jE=1;var t=Gs&&Gs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gs,"__esModule",{value:!0});const e=t(jR());class n extends e.default{select(a){let i=!1;const s=(a??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:u,referencedTable:d=u}={}){const c=d?`${d}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:u=s}={}){const d=typeof u>"u"?"offset":`${u}.offset`,c=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(c,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:u=!1,wal:d=!1,format:c="text"}={}){var h;const m=[a?"analyze":null,i?"verbose":null,s?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${y}"; options=${m};`,c==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Gs.default=n,Gs}var $E;function qS(){if($E)return zs;$E=1;var t=zs&&zs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zs,"__esModule",{value:!0});const e=t($R());class n extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${d}fts${c}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const u=s?`${s}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return zs.default=n,zs}var LE;function LR(){if(LE)return Vs;LE=1;var t=Vs&&Vs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vs,"__esModule",{value:!0});const e=t(qS());class n{constructor(a,{headers:i={},schema:s,fetch:u}){this.url=a,this.headers=i,this.schema=s,this.fetch=u}select(a,{head:i=!1,count:s}={}){const u=i?"HEAD":"GET";let d=!1;const c=(a??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",c),s&&(this.headers.Prefer=`count=${s}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:s=!0}={}){const u="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),i&&d.push(`count=${i}`),s||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(a)){const c=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(c.length>0){const h=[...new Set(c)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:u,defaultToNull:d=!0}={}){const c="POST",h=[`resolution=${s?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),d||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(a)){const m=a.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(m.length>0){const y=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const s="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),this.headers.Prefer=u.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",s=[];return a&&s.push(`count=${a}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Vs.default=n,Vs}var ac={},ic={},BE;function EB(){return BE||(BE=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.version=void 0,ic.version="0.0.0-automated"),ic}var qE;function CB(){if(qE)return ac;qE=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.DEFAULT_HEADERS=void 0;const t=EB();return ac.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},ac}var UE;function kB(){if(UE)return Fs;UE=1;var t=Fs&&Fs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Fs,"__esModule",{value:!0});const e=t(LR()),n=t(qS()),r=CB();class a{constructor(s,{headers:u={},schema:d,fetch:c}={}){this.url=s,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=d,this.fetch=c}from(s){const u=new URL(`${this.url}/${s}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,u={},{head:d=!1,get:c=!1,count:h}={}){let m;const y=new URL(`${this.url}/rpc/${s}`);let _;d||c?(m=d?"HEAD":"GET",Object.entries(u).filter(([A,T])=>T!==void 0).map(([A,T])=>[A,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([A,T])=>{y.searchParams.append(A,T)})):(m="POST",_=u);const w=Object.assign({},this.headers);return h&&(w.Prefer=`count=${h}`),new n.default({method:m,url:y,headers:w,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return Fs.default=a,Fs}var FE;function OB(){if(FE)return _n;FE=1;var t=_n&&_n.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(_n,"__esModule",{value:!0}),_n.PostgrestError=_n.PostgrestBuilder=_n.PostgrestTransformBuilder=_n.PostgrestFilterBuilder=_n.PostgrestQueryBuilder=_n.PostgrestClient=void 0;const e=t(kB());_n.PostgrestClient=e.default;const n=t(LR());_n.PostgrestQueryBuilder=n.default;const r=t(qS());_n.PostgrestFilterBuilder=r.default;const a=t($R());_n.PostgrestTransformBuilder=a.default;const i=t(jR());_n.PostgrestBuilder=i.default;const s=t(IR());return _n.PostgrestError=s.default,_n.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},_n}var MB=OB();const DB=yt(MB),{PostgrestClient:NB,PostgrestQueryBuilder:mce,PostgrestFilterBuilder:pce,PostgrestTransformBuilder:gce,PostgrestBuilder:vce,PostgrestError:yce}=DB;let Vx;typeof window>"u"?Vx=require("ws"):Vx=window.WebSocket;const PB="2.11.10",RB={"X-Client-Info":`realtime-js/${PB}`},IB="1.0.0",BR=1e4,jB=1e3;var ul;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ul||(ul={}));var Gn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Gn||(Gn={}));var Kr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Kr||(Kr={}));var zx;(function(t){t.websocket="websocket"})(zx||(zx={}));var No;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(No||(No={}));class $B{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const a=n.getUint8(1),i=n.getUint8(2);let s=this.HEADER_LENGTH+2;const u=r.decode(e.slice(s,s+a));s=s+a;const d=r.decode(e.slice(s,s+i));s=s+i;const c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:u,event:d,payload:c}}}class qR{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var It;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(It||(It={}));const VE=(t,e,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,s)=>(i[s]=LB(s,t,e,a),i),{})},LB=(t,e,n,r)=>{const a=e.find(u=>u.name===t),i=a==null?void 0:a.type,s=n[t];return i&&!r.includes(i)?UR(i,s):Gx(s)},UR=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return FB(e,n)}switch(t){case It.bool:return BB(e);case It.float4:case It.float8:case It.int2:case It.int4:case It.int8:case It.numeric:case It.oid:return qB(e);case It.json:case It.jsonb:return UB(e);case It.timestamp:return VB(e);case It.abstime:case It.date:case It.daterange:case It.int4range:case It.int8range:case It.money:case It.reltime:case It.text:case It.time:case It.timestamptz:case It.timetz:case It.tsrange:case It.tstzrange:return Gx(e);default:return Gx(e)}},Gx=t=>t,BB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},UB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},FB=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(u=>UR(e,u))}return t},VB=t=>typeof t=="string"?t.replace(" ","T"):t,FR=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Nv{constructor(e,n,r={},a=BR){this.channel=e,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zE||(zE={}));class Sc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(d=>{this.state=Sc.syncDiff(this.state,d,i,s)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Sc.syncDiff(this.state,a,i,s),u())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,a){const i=this.cloneDeep(e),s=this.transformState(n),u={},d={};return this.map(i,(c,h)=>{s[c]||(d[c]=h)}),this.map(s,(c,h)=>{const m=i[c];if(m){const y=h.map(T=>T.presence_ref),_=m.map(T=>T.presence_ref),w=h.filter(T=>_.indexOf(T.presence_ref)<0),A=m.filter(T=>y.indexOf(T.presence_ref)<0);w.length>0&&(u[c]=w),A.length>0&&(d[c]=A)}else u[c]=h}),this.syncDiff(i,{joins:u,leaves:d},r,a)}static syncDiff(e,n,r,a){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(u,d)=>{var c;const h=(c=e[u])!==null&&c!==void 0?c:[];if(e[u]=this.cloneDeep(d),h.length>0){const m=e[u].map(_=>_.presence_ref),y=h.filter(_=>m.indexOf(_.presence_ref)<0);e[u].unshift(...y)}r(u,h,d)}),this.map(s,(u,d)=>{let c=e[u];if(!c)return;const h=d.map(m=>m.presence_ref);c=c.filter(m=>h.indexOf(m.presence_ref)<0),e[u]=c,a(u,c,d),c.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const a=e[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var GE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(GE||(GE={}));var HE;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(HE||(HE={}));var Va;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Va||(Va={}));class US{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Gn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Nv(this,Kr.join,this.params,this.timeout),this.rejoinTimer=new qR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Sc(this),this.broadcastEndpointURL=FR(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:u}}=this.params;this._onError(h=>e==null?void 0:e(Va.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Va.CLOSED));const d={},c={broadcast:i,presence:s,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&a!==void 0?a:[],private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){e==null||e(Va.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,w=[];for(let A=0;A<_;A++){const T=y[A],{filter:{event:k,schema:M,table:E,filter:D}}=T,C=h&&h[A];if(C&&C.event===k&&C.schema===M&&C.table===E&&C.filter===D)w.push(Object.assign(Object.assign({},T),{id:C.id}));else{this.unsubscribe(),this.state=Gn.errored,e==null||e(Va.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Va.SUBSCRIBED);return}}).receive("error",h=>{this.state=Gn.errored,e==null||e(Va.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Va.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,u,d;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Gn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const a=new Nv(this,Kr.leave,{},e);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Nv(this,e,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var a,i;const s=e.toLocaleLowerCase(),{close:u,error:d,leave:c,join:h}=Kr;if(r&&[u,d,c,h].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var w,A,T;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((T=(A=_.filter)===null||A===void 0?void 0:A.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===s}).map(_=>_.callback(y,r)):(i=this.bindings[s])===null||i===void 0||i.filter(_=>{var w,A,T,k,M,E;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in _){const D=_.id,C=(w=_.filter)===null||w===void 0?void 0:w.event;return D&&((A=n.ids)===null||A===void 0?void 0:A.includes(D))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const D=(M=(k=_==null?void 0:_.filter)===null||k===void 0?void 0:k.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return D==="*"||D===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===s}).map(_=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:A,table:T,commit_timestamp:k,type:M,errors:E}=w;y=Object.assign(Object.assign({},{schema:A,table:T,commit_timestamp:k,eventType:M,new:{},old:{},errors:E}),this._getPayloadRecords(w))}_.callback(y,r)})}_isClosed(){return this.state===Gn.closed}_isJoined(){return this.state===Gn.joined}_isJoining(){return this.state===Gn.joining}_isLeaving(){return this.state===Gn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const a=e.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&US.isEqual(a.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Kr.close,{},e)}_onError(e){this._on(Kr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=VE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=VE(e.columns,e.old_record)),n}}const KE=()=>{},zB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class GB{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=RB,this.params={},this.timeout=BR,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=KE,this.ref=0,this.logger=KE,this.conn=null,this.sendBuffer=[],this.serializer=new $B,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...u)=>vd(async()=>{const{default:d}=await Promise.resolve().then(()=>Hl);return{default:d}},void 0).then(({default:d})=>d(...u)):s=fetch,(...u)=>s(...u)},this.endPoint=`${e}/${zx.websocket}`,this.httpEndpoint=FR(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new qR(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Vx),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new HB(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:IB}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ul.connecting:return No.Connecting;case ul.open:return No.Open;case ul.closing:return No.Closing;default:return No.Closed}}isConnected(){return this.connectionState()===No.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new US(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:a,ref:i}=e,s=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Kr.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(jB,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:a,payload:i,ref:s}=n;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${a} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Kr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${r}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([zB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class HB{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ul.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class FS extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Sn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class KB extends FS{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Hx extends FS{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var YB=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};const VR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vd(async()=>{const{default:r}=await Promise.resolve().then(()=>Hl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},WB=()=>YB(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vd(()=>Promise.resolve().then(()=>Hl),void 0)).Response:Response}),Kx=t=>{if(Array.isArray(t))return t.map(n=>Kx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=Kx(r)}),e};var Xo=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};const Pv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),XB=(t,e,n)=>Xo(void 0,void 0,void 0,function*(){const r=yield WB();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(a=>{e(new KB(Pv(a),t.status||500))}).catch(a=>{e(new Hx(Pv(a),a))}):e(new Hx(Pv(t),t))}),ZB=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function yd(t,e,n,r,a,i){return Xo(this,void 0,void 0,function*(){return new Promise((s,u)=>{t(n,ZB(e,r,a,i)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>XB(d,u,r))})})}function bh(t,e,n,r){return Xo(this,void 0,void 0,function*(){return yd(t,"GET",e,n,r)})}function $i(t,e,n,r,a){return Xo(this,void 0,void 0,function*(){return yd(t,"POST",e,r,a,n)})}function JB(t,e,n,r,a){return Xo(this,void 0,void 0,function*(){return yd(t,"PUT",e,r,a,n)})}function QB(t,e,n,r){return Xo(this,void 0,void 0,function*(){return yd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function zR(t,e,n,r,a){return Xo(this,void 0,void 0,function*(){return yd(t,"DELETE",e,r,a,n)})}var ar=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};const e4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},YE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class t4{constructor(e,n={},r,a){this.url=e,this.headers=n,this.bucketId=r,this.fetch=VR(a)}uploadOrUpdate(e,n,r,a){return ar(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},YE),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const d=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=r,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),a!=null&&a.headers&&(u=Object.assign(Object.assign({},u),a.headers));const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),m=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:i,headers:u},s!=null&&s.duplex?{duplex:s.duplex}:{})),y=yield m.json();return m.ok?{data:{path:c,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(i){if(Sn(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ar(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,a){return ar(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${s}`);u.searchParams.set("token",n);try{let d;const c=Object.assign({upsert:YE.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",c.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",c.cacheControl)):(d=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const m=yield this.fetch(u.toString(),{method:"PUT",body:d,headers:h}),y=yield m.json();return m.ok?{data:{path:i,fullPath:y.Key},error:null}:{data:null,error:y}}catch(d){if(Sn(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return ar(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield $i(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),s=new URL(this.url+i.url),u=s.searchParams.get("token");if(!u)throw new FS("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:u},error:null}}catch(r){if(Sn(r))return{data:null,error:r};throw r}})}update(e,n,r){return ar(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ar(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Sn(a))return{data:null,error:a};throw a}})}copy(e,n,r){return ar(this,void 0,void 0,function*(){try{return{data:{path:(yield $i(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Sn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,r){return ar(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield $i(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(Sn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,r){return ar(this,void 0,void 0,function*(){try{const a=yield $i(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(Sn(a))return{data:null,error:a};throw a}})}download(e,n){return ar(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=i?`?${i}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield bh(this.fetch,`${this.url}/${a}/${u}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Sn(u))return{data:null,error:u};throw u}})}info(e){return ar(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield bh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Kx(r),error:null}}catch(r){if(Sn(r))return{data:null,error:r};throw r}})}exists(e){return ar(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield QB(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Sn(r)&&r instanceof Hx){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&a.push(d);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${c}`)}}}remove(e){return ar(this,void 0,void 0,function*(){try{return{data:yield zR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Sn(n))return{data:null,error:n};throw n}})}list(e,n,r){return ar(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},e4),n),{prefix:e||""});return{data:yield $i(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(Sn(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const n4="2.7.1",r4={"X-Client-Info":`storage-js/${n4}`};var Ks=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};class a4{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},r4),n),this.fetch=VR(r)}listBuckets(){return Ks(this,void 0,void 0,function*(){try{return{data:yield bh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Sn(e))return{data:null,error:e};throw e}})}getBucket(e){return Ks(this,void 0,void 0,function*(){try{return{data:yield bh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Sn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ks(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Sn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ks(this,void 0,void 0,function*(){try{return{data:yield JB(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Sn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ks(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Sn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ks(this,void 0,void 0,function*(){try{return{data:yield zR(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Sn(n))return{data:null,error:n};throw n}})}}class i4 extends a4{constructor(e,n={},r){super(e,n,r)}from(e){return new t4(this.url,this.headers,e,this.fetch)}}const o4="2.50.0";let gc="";typeof Deno<"u"?gc="deno":typeof document<"u"?gc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gc="react-native":gc="node";const s4={"X-Client-Info":`supabase-js-${gc}/${o4}`},l4={headers:s4},u4={schema:"public"},c4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d4={};var f4=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};const h4=t=>{let e;return t?e=t:typeof fetch>"u"?e=PR:e=fetch,(...n)=>e(...n)},m4=()=>typeof Headers>"u"?RR:Headers,p4=(t,e,n)=>{const r=h4(n),a=m4();return(i,s)=>f4(void 0,void 0,void 0,function*(){var u;const d=(u=yield e())!==null&&u!==void 0?u:t;let c=new a(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${d}`),r(i,Object.assign(Object.assign({},s),{headers:c}))})};var g4=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};function v4(t){return t.endsWith("/")?t:t+"/"}function y4(t,e){var n,r;const{db:a,auth:i,realtime:s,global:u}=t,{db:d,auth:c,realtime:h,global:m}=e,y={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},h),s),global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>g4(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const GR="2.70.0",tl=30*1e3,Yx=3,Rv=Yx*tl,b4="http://localhost:9999",x4="supabase.auth.token",_4={"X-Client-Info":`gotrue-js/${GR}`},Wx="X-Supabase-Api-Version",HR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},S4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,w4=6e5;class VS extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class T4 extends VS{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function A4(t){return Je(t)&&t.name==="AuthApiError"}class KR extends VS{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Wi extends VS{constructor(e,n,r,a){super(e,r,a),this.name=n,this.status=r}}class ji extends Wi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function E4(t){return Je(t)&&t.name==="AuthSessionMissingError"}class Yf extends Wi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wf extends Wi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xf extends Wi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function C4(t){return Je(t)&&t.name==="AuthImplicitGrantRedirectError"}class WE extends Wi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xx extends Wi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Iv(t){return Je(t)&&t.name==="AuthRetryableFetchError"}class XE extends Wi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wc extends Wi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const xh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ZE=` 	
\r=`.split(""),k4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ZE.length;e+=1)t[ZE[e].charCodeAt(0)]=-2;for(let e=0;e<xh.length;e+=1)t[xh[e].charCodeAt(0)]=e;return t})();function JE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(xh[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(xh[r]),e.queuedBits-=6}}function YR(t,e,n){const r=k4[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function QE(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{D4(s,r,n)};for(let s=0;s<t.length;s+=1)YR(t.charCodeAt(s),a,i);return e.join("")}function O4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function M4(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}O4(r,e)}}function D4(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function N4(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)YR(t.charCodeAt(a),n,r);return new Uint8Array(e)}function P4(t){const e=[];return M4(t,n=>e.push(n)),new Uint8Array(e)}function R4(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};return t.forEach(a=>JE(a,n,r)),JE(null,n,r),e.join("")}function I4(t){return Math.round(Date.now()/1e3)+t}function j4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Hr=()=>typeof window<"u"&&typeof document<"u",To={tested:!1,writable:!1},Tc=()=>{if(!Hr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(To.tested)return To.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),To.tested=!0,To.writable=!0}catch{To.tested=!0,To.writable=!1}return To.writable};function $4(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{e[a]=r}),e}const WR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vd(async()=>{const{default:r}=await Promise.resolve().then(()=>Hl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},L4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",XR=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zf=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Jf=async(t,e)=>{await t.removeItem(e)};class Cm{constructor(){this.promise=new Cm.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Cm.promiseConstructor=Promise;function jv(t){const e=t.split(".");if(e.length!==3)throw new wc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!S4.test(e[r]))throw new wc("JWT not in base64url format");return{header:JSON.parse(QE(e[0])),payload:JSON.parse(QE(e[1])),signature:N4(e[2]),raw:{header:e[0],payload:e[1]}}}async function B4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function q4(t,e){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function U4(t){return("0"+t.toString(16)).substr(-2)}function F4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,U4).join("")}async function V4(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function z4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await V4(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ys(t,e,n=!1){const r=F4();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await XR(t,`${e}-code-verifier`,a);const i=await z4(r);return[i,r===i?"plain":"s256"]}const G4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H4(t){const e=t.headers.get(Wx);if(!e||!e.match(G4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function K4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Y4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const W4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ws(t){if(!W4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var X4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Z4=[502,503,504];async function eC(t){var e;if(!L4(t))throw new Xx(Oo(t),0);if(Z4.includes(t.status))throw new Xx(Oo(t),t.status);let n;try{n=await t.json()}catch(i){throw new KR(Oo(i),i)}let r;const a=H4(t);if(a&&a.getTime()>=HR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new XE(Oo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ji}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new XE(Oo(n),t.status,n.weak_password.reasons);throw new T4(Oo(n),t.status||500,r)}const J4=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function st(t,e,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[Wx]||(i[Wx]=HR["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const s=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await Q4(t,e,n+u,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function Q4(t,e,n,r,a,i){const s=J4(e,r,a,i);let u;try{u=await t(n,Object.assign({},s))}catch(d){throw console.error(d),new Xx(Oo(d),0)}if(u.ok||await eC(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await eC(d)}}function Fa(t){var e;let n=null;rq(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=I4(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function tC(t){const e=Fa(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ui(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function eq(t){return{data:t,error:null}}function tq(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=t,s=X4(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},d=Object.assign({},s);return{data:{properties:u,user:d},error:null}}function nq(t){return t}function rq(t){return t.access_token&&t.refresh_token&&t.expires_in}const $v=["global","local","others"];var aq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};class iq{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=WR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=$v[0]){if($v.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$v.join(", ")}`);try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ui})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=aq(e,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:tq,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Je(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ui})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,a,i,s,u,d;try{const c={nextPage:null,lastPage:0,total:0},h=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:nq});if(h.error)throw h.error;const m=await h.json(),y=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(w=>{const A=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(w.split(";")[1].split("=")[1]);c[`${T}Page`]=A}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(Je(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Ws(e);try{return await st(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ui})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ws(e);try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ui})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ws(e);try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ui})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ws(e.userId);try{const{data:n,error:r}=await st(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ws(e.userId),Ws(e.id);try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}}const oq={getItem:t=>Tc()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Tc()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Tc()&&globalThis.localStorage.removeItem(t)}};function nC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function sq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Xs={debug:!!(globalThis&&Tc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ZR extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lq extends ZR{}async function uq(t,e,n){Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lq(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Xs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}sq();const cq={url:b4,storageKey:x4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rC(t,e,n){return await n()}class Nc{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nc.nextInstanceID,Nc.nextInstanceID+=1,this.instanceID>0&&Hr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},cq),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new iq({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=WR(a.fetch),this.lock=a.lock||rC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Hr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=uq:this.lock=rC,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Tc()?this.storage=oq:(this.memoryStorage={},this.storage=nC(this.memoryStorage)):(this.memoryStorage={},this.storage=nC(this.memoryStorage)),Hr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${GR}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=$4(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Hr()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),C4(i)){const d=(e=i.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Je(n)?{error:n}:{error:new KR("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,a;try{const i=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Fa}),{data:s,error:u}=i;if(u||!s)return{data:{user:null,session:null},error:u};const d=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:c,session:d},error:null}}catch(i){if(Je(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,a;try{let i;if("email"in e){const{email:h,password:m,options:y}=e;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await Ys(this.storage,this.storageKey)),i=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:h,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:_,code_challenge_method:w},xform:Fa})}else if("phone"in e){const{phone:h,password:m,options:y}=e;i=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Fa})}else throw new Wf("You must provide either an email or phone number and a password");const{data:s,error:u}=i;if(u||!s)return{data:{user:null,session:null},error:u};const d=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:c,session:d},error:null}}catch(i){if(Je(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:s,options:u}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:tC})}else if("phone"in e){const{phone:i,password:s,options:u}=e;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:tC})}else throw new Wf("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Yf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,a,i,s,u,d,c,h,m,y,_;let w,A;if("message"in e)w=e.message,A=e.signature;else{const{chain:T,wallet:k,statement:M,options:E}=e;let D;if(Hr())if(typeof k=="object")D=k;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))D=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=k}const C=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const O=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),M?{statement:M}:null));let P;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")P=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)P=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)w=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),A=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${C.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((s=E==null?void 0:E.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E==null?void 0:E.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((m=(h=E==null?void 0:E.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...E.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const O=await D.signMessage(new TextEncoder().encode(w),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=O}}try{const{data:T,error:k}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:R4(A)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Fa});if(k)throw k;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Yf}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:k})}catch(T){if(Je(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const n=await Zf(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:s}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Fa});if(await Jf(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Yf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(Je(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:a,access_token:i,nonce:s}=e,u=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Fa}),{data:d,error:c}=u;return c?{data:{user:null,session:null},error:c}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Yf}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:c})}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,a,i,s;try{if("email"in e){const{email:u,options:d}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Ys(this.storage,this.storageKey));const{error:m}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:u,options:d}=e,{data:c,error:h}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Wf("You must provide either an email or phone number.")}catch(u){if(Je(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let a,i;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:u}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Fa});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const d=s.session,c=s.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:c,session:d},error:null}}catch(a){if(Je(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var n,r,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Ys(this.storage,this.storageKey)),await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:eq})}catch(i){if(Je(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ji;const{error:a}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Je(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:i}=e,{error:s}=await st(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:a,options:i}=e,{data:s,error:u}=await st(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:u}}throw new Wf("You must provide either an email or phone number and a type")}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Rv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,c,h)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,c,h))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ui}):await this._useSession(async n=>{var r,a,i;const{data:s,error:u}=n;if(u)throw u;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ji}:await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ui})})}catch(n){if(Je(n))return E4(n)&&(await this._removeSession(),await Jf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new ji;const s=a.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await Ys(this.storage,this.storageKey));const{data:c,error:h}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:s.access_token,xform:Ui});if(h)throw h;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ji;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:s}=jv(e.access_token);if(s.exp&&(r=s.exp,a=r<=n),a){const{session:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Je(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:u}=n;if(u)throw u;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ji;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Hr())throw new Xf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new WE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new WE("No code detected.");const{data:M,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:u,expires_at:d,token_type:c}=e;if(!i||!u||!s||!c)throw new Xf("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let y=h+m;d&&(y=parseInt(d));const _=y-h;_*1e3<=tl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const w=y-m;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,h);const{data:A,error:T}=await this._getUser(i);if(T)throw T;const k={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:y,refresh_token:s,token_type:c,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(r){if(Je(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const s=(r=a.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:u}=await this.admin.signOut(s,e);if(u&&!(A4(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Jf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=j4(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Ys(this.storage,this.storageKey,!0));try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Je(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var s,u,d,c,h;const{data:m,error:y}=i;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",_,{headers:this.headers,jwt:(h=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return Hr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Je(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,a;const{data:i,error:s}=n;if(s)throw s;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await q4(async a=>(a>0&&await B4(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Fa})),(a,i)=>{const s=200*Math.pow(2,a);return i&&Iv(i)&&Date.now()+s-r<tl})}catch(r){if(this._debug(n,"error",r),Je(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Hr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Zf(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Rv;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Rv}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Iv(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Cm;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new ji;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={session:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),Je(i)){const s={session:null,error:i};return Iv(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(d){i.push(d)}});if(await Promise.all(s),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await XR(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Jf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Hr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),tl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/tl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${tl}ms, refresh threshold is ${Yx} ticks`),a<=Yx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ZR)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Hr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,s]=await Ys(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(u.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await st(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:c}=await st(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:s,error:u}=await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:u})})}catch(n){if(Je(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await st(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Je(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],a=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=jv(a.access_token);let u=null;s.aal&&(u=s.aal);let d=u;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const h=s.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r||(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+w4>Date.now()))return r;const{data:a,error:i}=await st(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new wc("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),r=a.keys.find(s=>s.kid===e),!r)throw new wc("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:_,error:w}=await this.getSession();if(w||!_.session)return{data:null,error:w};r=_.session.access_token}const{header:a,payload:i,signature:s,raw:{header:u,payload:d}}=jv(r);if(K4(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:a,signature:s},error:null}}const c=Y4(a.alg),h=await this.fetchJwk(a.kid,n),m=await crypto.subtle.importKey("jwk",h,c,!0,["verify"]);if(!await crypto.subtle.verify(c,m,s,P4(`${u}.${d}`)))throw new wc("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}}Nc.nextInstanceID=0;const dq=Nc;class fq extends dq{constructor(e){super(e)}}var hq=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(m){s(m)}}function d(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?i(h.value):a(h.value).then(u,d)}c((r=r.apply(t,e||[])).next())})};class mq{constructor(e,n,r){var a,i,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=v4(e),d=new URL(u);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const c=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:u4,realtime:d4,auth:Object.assign(Object.assign({},c4),{storageKey:c}),global:l4},m=y4(r??{},h);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=m.auth)!==null&&s!==void 0?s:{},this.headers,m.global.fetch),this.fetch=p4(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new NB(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new xB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new i4(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return hq(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:i,flowType:s,lock:u,debug:d},c,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fq({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,flowType:s,lock:u,debug:d,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new GB(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pq=(t,e,n)=>new mq(t,e,n),gq="https://kezqwaibstyhvxpdhdts.supabase.co",vq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtlenF3YWlic3R5aHZ4cGRoZHRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2ODU0NTEsImV4cCI6MjA1OTI2MTQ1MX0.f8lcr89hUJLsQYdHWE6tFlijL7PtHKI3w7KtG-PGgb8",Oe=pq(gq,vq);var xe=(t=>(t.INCOME="INCOME",t.EXPENSE="EXPENSE",t.TRANSFER="TRANSFER",t))(xe||{}),xr=(t=>(t.DEPOSIT="DEPOSIT",t.WITHDRAWAL="WITHDRAWAL",t))(xr||{});const yq=[{name:"Salário"},{name:"Vendas"},{name:"Investimentos"},{name:"Presente"},{name:"Outras Receitas"}],bq=[{name:"Alimentação"},{name:"Transporte"},{name:"Moradia"},{name:"Lazer"},{name:"Saúde"},{name:"Educação"},{name:"Compras"},{name:"Impostos"},{name:"Água"},{name:"Luz"},{name:"Outras Despesas"}],xq=[{name:"Carteira",initial_balance:0},{name:"Banco Principal",initial_balance:1e3}],Pc="Meu Financeiro",km=[{value:xe.INCOME,label:"Receita"},{value:xe.EXPENSE,label:"Despesa"},{value:xe.TRANSFER,label:"Transferência"}],_q=[{value:"all",label:"Todo o Período"},{value:"today",label:"Hoje"},{value:"current_month",label:"Este Mês"},{value:"last_7_days",label:"Últimos 7 Dias"},{value:"last_30_days",label:"Últimos 30 Dias"}],Sq=t=>{const e=yq.map(r=>({...r,user_id:t,type:xe.INCOME})),n=bq.map(r=>({...r,user_id:t,type:xe.EXPENSE}));return[...e,...n]},wq=t=>xq.map(e=>({...e,user_id:t})),We=()=>crypto.randomUUID(),Xn=(t,e="pt-BR",n)=>{const r=new Date(t.includes("T")?t:t+"T00:00:00"),a={year:"numeric",month:"short",day:"numeric"},i=n?{...a,...n}:a;return r.toLocaleDateString(e,i)},ye=(t,e="BRL",n="pt-BR",r=!1)=>{var a;return r?`${((a=new Intl.NumberFormat(n,{style:"currency",currency:e}).formatToParts(0).find(s=>s.type==="currency"))==null?void 0:a.value)||"$"} ****,**`:new Intl.NumberFormat(n,{style:"currency",currency:e}).format(t)},vt=(t=new Date)=>(typeof t=="string"?new Date(t.includes("T")?t:t+"T00:00:00"):t).toISOString().split("T")[0],JR=(t,e,n)=>{const r=new Date(t+"T00:00:00");let a=r.getMonth()+e,i=r.getFullYear();a>11&&(i+=Math.floor(a/12),a=a%12);const u=r.getMonth()+1+(e-1);i=r.getFullYear(),a=u,a>11&&(i+=Math.floor(a/12),a=a%12);const d=new Date(i,a,1),c=new Date(i,a+1,0).getDate(),h=Math.min(n,c);return d.setDate(h),d},QR=(t,e,n)=>{if(!t||!e)return[];const r=[],a=n.getFullYear(),i=n.getMonth();let s=new Date(a,i,e.closing_day);n.getDate()>e.closing_day&&s.setMonth(i+1);let u=new Date(s.getFullYear(),s.getMonth(),e.due_day);e.due_day<e.closing_day&&u.setMonth(s.getMonth()+1);for(const d of t)if(d.installments_paid<d.number_of_installments){const c=d.installments_paid+1,h=JR(d.purchase_date,c,e.due_day);if(h<=u){let m=new Date(u);m.setMonth(m.getMonth()-1),(h>m||h.getFullYear()===u.getFullYear()&&h.getMonth()===u.getMonth())&&r.push(d)}}return r.filter((d,c,h)=>h.findIndex(m=>m.id===d.id)===c)},eI=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),aC=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),Zx=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15L15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),_h=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"})}),Tq=({id:t,message:e,type:n,onDismiss:r})=>{let a="bg-primary dark:bg-primaryDark",i="text-white",s=aC;switch(n){case"success":a="bg-secondary dark:bg-secondaryDark",s=Zx;break;case"warning":a="bg-amber-500 dark:bg-amber-600",s=_h;break;case"error":a="bg-destructive dark:bg-destructiveDark",s=_h;break;case"info":default:a="bg-blue-500 dark:bg-blue-600",s=aC;break}return b.jsxs("div",{role:"alert","aria-live":"assertive","aria-atomic":"true",className:`relative flex items-start w-full max-w-sm p-4 rounded-lg shadow-2xl ${a} ${i} transform transition-all duration-300 ease-in-out animate-fadeIn`,children:[b.jsx("div",{className:"flex-shrink-0 mr-3",children:b.jsx(s,{className:"w-6 h-6"})}),b.jsx("div",{className:"flex-grow text-sm font-medium",children:e}),b.jsx("button",{onClick:()=>r(t),"aria-label":"Fechar notificação",className:"ml-3 -mr-1 -my-1 p-1 rounded-md hover:bg-black/20 focus:outline-none focus:ring-2 focus:ring-white/50 transition-colors",children:b.jsx(eI,{className:"w-5 h-5"})}),b.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},Aq=({toasts:t,removeToast:e})=>t.length?b.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"fixed top-4 right-4 z-[100] space-y-3 w-full max-w-sm pointer-events-none",children:t.map(n=>b.jsx("div",{className:"pointer-events-auto",children:b.jsx(Tq,{...n,onDismiss:e})},n.id))}):null,tI=j.createContext(void 0),nI=()=>{const t=j.useContext(tI);if(!t)throw new Error("useToasts must be used within a ToastProvider");return t},Eq=({children:t})=>{const[e,n]=j.useState([]),r=j.useCallback((i,s,u=5e3)=>{const d=We();n(c=>[{id:d,message:i,type:s,duration:u},...c.slice(0,4)]),u&&setTimeout(()=>{a(d)},u)},[]),a=j.useCallback(i=>{n(s=>s.filter(u=>u.id!==i))},[]);return b.jsxs(tI.Provider,{value:{addToast:r},children:[t,b.jsx(Aq,{toasts:e,removeToast:a})]})},Un=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Cq=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52M6.25 4.97A48.416 48.416 0 0 1 12 4.5c2.291 0 4.545.16 6.75.47m-13.5 0C4.146 5.116 3.146 5.29 2.25 5.5m3.75-.48a25.293 25.293 0 0 0-3.75.48M12 12.75h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0-9h.008v.008H12V9.75Z"})}),zS=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-3.741-5.602M12 12.75a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 0H7.5M12 12.75V15m0 0H7.5M12 15A6.75 6.75 0 0 0 5.25 9.75M12 15A6.75 6.75 0 0 1 18.75 9.75M12 2.25A6.75 6.75 0 0 0 5.25 9m6.75-6.75v1.5m0 1.5V9m0-3a2.25 2.25 0 0 0-2.25-2.25H7.5A2.25 2.25 0 0 0 5.25 6m13.5 6.75a2.25 2.25 0 0 0-2.25-2.25H15a2.25 2.25 0 0 0-2.25 2.25m3.75 0v1.5m0 1.5V18m0-3a2.25 2.25 0 0 0-2.25-2.25H15A2.25 2.25 0 0 0 12.75 15m3.75 0h-3.75M3.375 19.5a2.25 2.25 0 0 1 2.25-2.25H10.5a2.25 2.25 0 0 1 2.25 2.25"})}),be=({variant:t="primary",size:e="md",children:n,className:r,...a})=>{const i="font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-backgroundDark transition-colors duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center";let s="";switch(t){case"primary":s="bg-primary text-white hover:bg-blue-700 dark:bg-primaryDark dark:hover:bg-blue-600 focus:ring-primary dark:focus:ring-primaryDark";break;case"secondary":s="bg-secondary text-white hover:bg-emerald-700 dark:bg-secondaryDark dark:hover:bg-emerald-600 focus:ring-secondary dark:focus:ring-secondaryDark";break;case"danger":s="bg-destructive text-white hover:bg-red-700 dark:bg-destructiveDark dark:hover:bg-red-600 focus:ring-destructive dark:focus:ring-destructiveDark";break;case"ghost":s="bg-transparent text-textBase dark:text-textBaseDark hover:bg-neutral/10 dark:hover:bg-neutralDark/20 focus:ring-neutral dark:focus:ring-neutralDark";break}let u="";switch(e){case"sm":u="px-3 py-1.5 text-sm";break;case"md":u="px-4 py-2 text-base";break;case"lg":u="px-6 py-3 text-lg";break}return b.jsx("button",{className:`${i} ${s} ${u} ${r||""}`,...a,children:n})};function rI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=rI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=rI(t))&&(r&&(r+=" "),r+=e);return r}var Lv,iC;function or(){if(iC)return Lv;iC=1;var t=Array.isArray;return Lv=t,Lv}var Bv,oC;function aI(){if(oC)return Bv;oC=1;var t=typeof Hf=="object"&&Hf&&Hf.Object===Object&&Hf;return Bv=t,Bv}var qv,sC;function xa(){if(sC)return qv;sC=1;var t=aI(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return qv=n,qv}var Uv,lC;function bd(){if(lC)return Uv;lC=1;var t=xa(),e=t.Symbol;return Uv=e,Uv}var Fv,uC;function kq(){if(uC)return Fv;uC=1;var t=bd(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function i(s){var u=n.call(s,a),d=s[a];try{s[a]=void 0;var c=!0}catch{}var h=r.call(s);return c&&(u?s[a]=d:delete s[a]),h}return Fv=i,Fv}var Vv,cC;function Oq(){if(cC)return Vv;cC=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Vv=n,Vv}var zv,dC;function ti(){if(dC)return zv;dC=1;var t=bd(),e=kq(),n=Oq(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?a:r:i&&i in Object(u)?e(u):n(u)}return zv=s,zv}var Gv,fC;function ni(){if(fC)return Gv;fC=1;function t(e){return e!=null&&typeof e=="object"}return Gv=t,Gv}var Hv,hC;function Kl(){if(hC)return Hv;hC=1;var t=ti(),e=ni(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return Hv=r,Hv}var Kv,mC;function GS(){if(mC)return Kv;mC=1;var t=or(),e=Kl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,s){if(t(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||s!=null&&i in Object(s)}return Kv=a,Kv}var Yv,pC;function Xi(){if(pC)return Yv;pC=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Yv=t,Yv}var Wv,gC;function HS(){if(gC)return Wv;gC=1;var t=ti(),e=Xi(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(u){if(!e(u))return!1;var d=t(u);return d==r||d==a||d==n||d==i}return Wv=s,Wv}var Xv,vC;function Mq(){if(vC)return Xv;vC=1;var t=xa(),e=t["__core-js_shared__"];return Xv=e,Xv}var Zv,yC;function Dq(){if(yC)return Zv;yC=1;var t=Mq(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Zv=n,Zv}var Jv,bC;function iI(){if(bC)return Jv;bC=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Jv=n,Jv}var Qv,xC;function Nq(){if(xC)return Qv;xC=1;var t=HS(),e=Dq(),n=Xi(),r=iI(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,d=s.toString,c=u.hasOwnProperty,h=RegExp("^"+d.call(c).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!n(y)||e(y))return!1;var _=t(y)?h:i;return _.test(r(y))}return Qv=m,Qv}var ey,_C;function Pq(){if(_C)return ey;_C=1;function t(e,n){return e==null?void 0:e[n]}return ey=t,ey}var ty,SC;function Zo(){if(SC)return ty;SC=1;var t=Nq(),e=Pq();function n(r,a){var i=e(r,a);return t(i)?i:void 0}return ty=n,ty}var ny,wC;function Om(){if(wC)return ny;wC=1;var t=Zo(),e=t(Object,"create");return ny=e,ny}var ry,TC;function Rq(){if(TC)return ry;TC=1;var t=Om();function e(){this.__data__=t?t(null):{},this.size=0}return ry=e,ry}var ay,AC;function Iq(){if(AC)return ay;AC=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return ay=t,ay}var iy,EC;function jq(){if(EC)return iy;EC=1;var t=Om(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var s=this.__data__;if(t){var u=s[i];return u===e?void 0:u}return r.call(s,i)?s[i]:void 0}return iy=a,iy}var oy,CC;function $q(){if(CC)return oy;CC=1;var t=Om(),e=Object.prototype,n=e.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return oy=r,oy}var sy,kC;function Lq(){if(kC)return sy;kC=1;var t=Om(),e="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?e:a,this}return sy=n,sy}var ly,OC;function Bq(){if(OC)return ly;OC=1;var t=Rq(),e=Iq(),n=jq(),r=$q(),a=Lq();function i(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,ly=i,ly}var uy,MC;function qq(){if(MC)return uy;MC=1;function t(){this.__data__=[],this.size=0}return uy=t,uy}var cy,DC;function KS(){if(DC)return cy;DC=1;function t(e,n){return e===n||e!==e&&n!==n}return cy=t,cy}var dy,NC;function Mm(){if(NC)return dy;NC=1;var t=KS();function e(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return dy=e,dy}var fy,PC;function Uq(){if(PC)return fy;PC=1;var t=Mm(),e=Array.prototype,n=e.splice;function r(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var u=i.length-1;return s==u?i.pop():n.call(i,s,1),--this.size,!0}return fy=r,fy}var hy,RC;function Fq(){if(RC)return hy;RC=1;var t=Mm();function e(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return hy=e,hy}var my,IC;function Vq(){if(IC)return my;IC=1;var t=Mm();function e(n){return t(this.__data__,n)>-1}return my=e,my}var py,jC;function zq(){if(jC)return py;jC=1;var t=Mm();function e(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return py=e,py}var gy,$C;function Dm(){if($C)return gy;$C=1;var t=qq(),e=Uq(),n=Fq(),r=Vq(),a=zq();function i(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,gy=i,gy}var vy,LC;function YS(){if(LC)return vy;LC=1;var t=Zo(),e=xa(),n=t(e,"Map");return vy=n,vy}var yy,BC;function Gq(){if(BC)return yy;BC=1;var t=Bq(),e=Dm(),n=YS();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return yy=r,yy}var by,qC;function Hq(){if(qC)return by;qC=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return by=t,by}var xy,UC;function Nm(){if(UC)return xy;UC=1;var t=Hq();function e(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return xy=e,xy}var _y,FC;function Kq(){if(FC)return _y;FC=1;var t=Nm();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return _y=e,_y}var Sy,VC;function Yq(){if(VC)return Sy;VC=1;var t=Nm();function e(n){return t(this,n).get(n)}return Sy=e,Sy}var wy,zC;function Wq(){if(zC)return wy;zC=1;var t=Nm();function e(n){return t(this,n).has(n)}return wy=e,wy}var Ty,GC;function Xq(){if(GC)return Ty;GC=1;var t=Nm();function e(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return Ty=e,Ty}var Ay,HC;function WS(){if(HC)return Ay;HC=1;var t=Gq(),e=Kq(),n=Yq(),r=Wq(),a=Xq();function i(s){var u=-1,d=s==null?0:s.length;for(this.clear();++u<d;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Ay=i,Ay}var Ey,KC;function oI(){if(KC)return Ey;KC=1;var t=WS(),e="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,u=a?a.apply(this,s):s[0],d=i.cache;if(d.has(u))return d.get(u);var c=r.apply(this,s);return i.cache=d.set(u,c)||d,c};return i.cache=new(n.Cache||t),i}return n.Cache=t,Ey=n,Ey}var Cy,YC;function Zq(){if(YC)return Cy;YC=1;var t=oI(),e=500;function n(r){var a=t(r,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return Cy=n,Cy}var ky,WC;function Jq(){if(WC)return ky;WC=1;var t=Zq(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,u,d,c){i.push(d?c.replace(n,"$1"):u||s)}),i});return ky=r,ky}var Oy,XC;function XS(){if(XC)return Oy;XC=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=n(e[r],r,e);return i}return Oy=t,Oy}var My,ZC;function Qq(){if(ZC)return My;ZC=1;var t=bd(),e=XS(),n=or(),r=Kl(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return e(u,s)+"";if(r(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return My=s,My}var Dy,JC;function sI(){if(JC)return Dy;JC=1;var t=Qq();function e(n){return n==null?"":t(n)}return Dy=e,Dy}var Ny,QC;function lI(){if(QC)return Ny;QC=1;var t=or(),e=GS(),n=Jq(),r=sI();function a(i,s){return t(i)?i:e(i,s)?[i]:n(r(i))}return Ny=a,Ny}var Py,ek;function Pm(){if(ek)return Py;ek=1;var t=Kl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Py=e,Py}var Ry,tk;function ZS(){if(tk)return Ry;tk=1;var t=lI(),e=Pm();function n(r,a){a=t(a,r);for(var i=0,s=a.length;r!=null&&i<s;)r=r[e(a[i++])];return i&&i==s?r:void 0}return Ry=n,Ry}var Iy,nk;function uI(){if(nk)return Iy;nk=1;var t=ZS();function e(n,r,a){var i=n==null?void 0:t(n,r);return i===void 0?a:i}return Iy=e,Iy}var eU=uI();const _r=yt(eU);var jy,rk;function tU(){if(rk)return jy;rk=1;function t(e){return e==null}return jy=t,jy}var nU=tU();const lt=yt(nU);var $y,ak;function rU(){if(ak)return $y;ak=1;var t=ti(),e=or(),n=ni(),r="[object String]";function a(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return $y=a,$y}var aU=rU();const Uo=yt(aU);var iU=HS();const He=yt(iU);var oU=Xi();const Yl=yt(oU);var Ly={exports:{}},bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik;function sU(){if(ik)return bt;ik=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function A(T){if(typeof T=="object"&&T!==null){var k=T.$$typeof;switch(k){case t:switch(T=T.type,T){case n:case a:case r:case c:case h:return T;default:switch(T=T&&T.$$typeof,T){case u:case s:case d:case y:case m:case i:return T;default:return k}}case e:return k}}}return bt.ContextConsumer=s,bt.ContextProvider=i,bt.Element=t,bt.ForwardRef=d,bt.Fragment=n,bt.Lazy=y,bt.Memo=m,bt.Portal=e,bt.Profiler=a,bt.StrictMode=r,bt.Suspense=c,bt.SuspenseList=h,bt.isAsyncMode=function(){return!1},bt.isConcurrentMode=function(){return!1},bt.isContextConsumer=function(T){return A(T)===s},bt.isContextProvider=function(T){return A(T)===i},bt.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},bt.isForwardRef=function(T){return A(T)===d},bt.isFragment=function(T){return A(T)===n},bt.isLazy=function(T){return A(T)===y},bt.isMemo=function(T){return A(T)===m},bt.isPortal=function(T){return A(T)===e},bt.isProfiler=function(T){return A(T)===a},bt.isStrictMode=function(T){return A(T)===r},bt.isSuspense=function(T){return A(T)===c},bt.isSuspenseList=function(T){return A(T)===h},bt.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===a||T===r||T===c||T===h||T===_||typeof T=="object"&&T!==null&&(T.$$typeof===y||T.$$typeof===m||T.$$typeof===i||T.$$typeof===s||T.$$typeof===d||T.$$typeof===w||T.getModuleId!==void 0)},bt.typeOf=A,bt}var ok;function lU(){return ok||(ok=1,Ly.exports=sU()),Ly.exports}var uU=lU(),By,sk;function cI(){if(sk)return By;sk=1;var t=ti(),e=ni(),n="[object Number]";function r(a){return typeof a=="number"||e(a)&&t(a)==n}return By=r,By}var qy,lk;function cU(){if(lk)return qy;lk=1;var t=cI();function e(n){return t(n)&&n!=+n}return qy=e,qy}var dU=cU();const xd=yt(dU);var fU=cI();const hU=yt(fU);var Hn=function(e){return e===0?0:e>0?1:-1},Ro=function(e){return Uo(e)&&e.indexOf("%")===e.length-1},Ae=function(e){return hU(e)&&!xd(e)},pn=function(e){return Ae(e)||Uo(e)},mU=0,_d=function(e){var n=++mU;return"".concat(e||"").concat(n)},Kn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(e)&&!Uo(e))return r;var i;if(Ro(e)){var s=e.indexOf("%");i=n*parseFloat(e.slice(0,s))/100}else i=+e;return xd(i)&&(i=r),a&&i>n&&(i=n),i},Fi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},pU=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},a=0;a<n;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1},Li=function(e,n){return Ae(e)&&Ae(n)?function(r){return e+r*(n-e)}:function(){return n}};function Jx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):_r(r,e))===n})}var gU=function(e,n){return Ae(e)&&Ae(n)?e-n:Uo(e)&&Uo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function cl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Qx(t){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qx(t)}var vU=["viewBox","children"],yU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uk=["points","pathLength"],Uy={svg:vU,polygon:uk,polyline:uk},JS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Sh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!Yl(r))return null;var a={};return Object.keys(r).forEach(function(i){JS.includes(i)&&(a[i]=n||function(s){return r[i](r,s)})}),a},bU=function(e,n,r){return function(a){return e(n,r,a),null}},Fo=function(e,n,r){if(!Yl(e)||Qx(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];JS.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=bU(s,n,r))}),a},xU=["children"],_U=["children"];function ck(t,e){if(t==null)return{};var n=SU(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ya=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},fk=null,Fy=null,QS=function t(e){if(e===fk&&Array.isArray(Fy))return Fy;var n=[];return j.Children.forEach(e,function(r){lt(r)||(uU.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Fy=n,fk=e,n};function Ir(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(a){return Ya(a)}):r=[Ya(e)],QS(t).forEach(function(a){var i=_r(a,"type.displayName")||_r(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function yr(t,e){var n=Ir(t,e);return n&&n[0]}var hk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,a=n.height;return!(!Ae(r)||r<=0||!Ae(a)||a<=0)},wU=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],TU=function(e){return e&&e.type&&Uo(e.type)&&wU.indexOf(e.type)>=0},AU=function(e,n,r,a){var i,s=(i=Uy==null?void 0:Uy[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!He(e)&&(a&&s.includes(n)||yU.includes(n))||r&&JS.includes(n)},ze=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(j.isValidElement(e)&&(a=e.props),!Yl(a))return null;var i={};return Object.keys(a).forEach(function(s){var u;AU((u=a)===null||u===void 0?void 0:u[s],s,n,r)&&(i[s]=a[s])}),i},e_=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return mk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=e[a],s=n[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!mk(i,s))return!1}return!0},mk=function(e,n){if(lt(e)&&lt(n))return!0;if(!lt(e)&&!lt(n)){var r=e.props||{},a=r.children,i=ck(r,xU),s=n.props||{},u=s.children,d=ck(s,_U);return a&&u?cl(i,d)&&e_(a,u):!a&&!u?cl(i,d):!1}return!1},pk=function(e,n){var r=[],a={};return QS(e).forEach(function(i,s){if(TU(i))r.push(i);else if(i){var u=Ya(i.type),d=n[u]||{},c=d.handler,h=d.once;if(c&&(!h||!a[u])){var m=c(i,u,s);r.push(m),a[u]=!0}}}),r},EU=function(e){var n=e&&e.type;return n&&dk[n]?dk[n]:null},CU=function(e,n){return QS(n).indexOf(e)},kU=["children","width","height","viewBox","className","style","title","desc"];function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(this,arguments)}function OU(t,e){if(t==null)return{};var n=MU(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function n_(t){var e=t.children,n=t.width,r=t.height,a=t.viewBox,i=t.className,s=t.style,u=t.title,d=t.desc,c=OU(t,kU),h=a||{width:n,height:r,x:0,y:0},m=at("recharts-surface",i);return J.createElement("svg",t_({},ze(c,!0,"svg"),{className:m,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),J.createElement("title",null,u),J.createElement("desc",null,d),e)}var DU=["children","className"];function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(this,arguments)}function NU(t,e){if(t==null)return{};var n=PU(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wt=J.forwardRef(function(t,e){var n=t.children,r=t.className,a=NU(t,DU),i=at("recharts-layer",r);return J.createElement("g",r_({className:i},ze(a,!0),{ref:e}),n)}),Zr=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]},Vy,gk;function RU(){if(gk)return Vy;gk=1;function t(e,n,r){var a=-1,i=e.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+n];return s}return Vy=t,Vy}var zy,vk;function IU(){if(vk)return zy;vk=1;var t=RU();function e(n,r,a){var i=n.length;return a=a===void 0?i:a,!r&&a>=i?n:t(n,r,a)}return zy=e,zy}var Gy,yk;function dI(){if(yk)return Gy;yk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+a+i+"]");function d(c){return u.test(c)}return Gy=d,Gy}var Hy,bk;function jU(){if(bk)return Hy;bk=1;function t(e){return e.split("")}return Hy=t,Hy}var Ky,xk;function $U(){if(xk)return Ky;xk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="["+t+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",c="(?:"+u+"|"+d+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",w=c+"?",A="["+i+"]?",T="(?:"+_+"(?:"+[h,m,y].join("|")+")"+A+w+")*",k=A+w+T,M="(?:"+[h+u+"?",u,m,y,s].join("|")+")",E=RegExp(d+"(?="+d+")|"+M+k,"g");function D(C){return C.match(E)||[]}return Ky=D,Ky}var Yy,_k;function LU(){if(_k)return Yy;_k=1;var t=jU(),e=dI(),n=$U();function r(a){return e(a)?n(a):t(a)}return Yy=r,Yy}var Wy,Sk;function BU(){if(Sk)return Wy;Sk=1;var t=IU(),e=dI(),n=LU(),r=sI();function a(i){return function(s){s=r(s);var u=e(s)?n(s):void 0,d=u?u[0]:s.charAt(0),c=u?t(u,1).join(""):s.slice(1);return d[i]()+c}}return Wy=a,Wy}var Xy,wk;function qU(){if(wk)return Xy;wk=1;var t=BU(),e=t("toUpperCase");return Xy=e,Xy}var UU=qU();const Rm=yt(UU);function $t(t){return function(){return t}}const fI=Math.cos,wh=Math.sin,ta=Math.sqrt,Th=Math.PI,Im=2*Th,a_=Math.PI,i_=2*a_,Mo=1e-6,FU=i_-Mo;function hI(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function VU(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hI;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class zU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hI:VU(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,s){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,u=this._y1,d=r-e,c=a-n,h=s-e,m=u-n,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Mo)if(!(Math.abs(m*d-c*h)>Mo)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-s,w=a-u,A=d*d+c*c,T=_*_+w*w,k=Math.sqrt(A),M=Math.sqrt(y),E=i*Math.tan((a_-Math.acos((A+y-T)/(2*k*M)))/2),D=E/M,C=E/k;Math.abs(D-1)>Mo&&this._append`L${e+D*h},${n+D*m}`,this._append`A${i},${i},0,0,${+(m*_>h*w)},${this._x1=e+C*d},${this._y1=n+C*c}`}}arc(e,n,r,a,i,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),d=r*Math.sin(a),c=e+u,h=n+d,m=1^s,y=s?a-i:i-a;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Mo||Math.abs(this._y1-h)>Mo)&&this._append`L${c},${h}`,r&&(y<0&&(y=y%i_+i_),y>FU?this._append`A${r},${r},0,1,${m},${e-u},${n-d}A${r},${r},0,1,${m},${this._x1=c},${this._y1=h}`:y>Mo&&this._append`A${r},${r},0,${+(y>=a_)},${m},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function ew(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new zU(e)}function tw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mI(t){this._context=t}mI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function jm(t){return new mI(t)}function pI(t){return t[0]}function gI(t){return t[1]}function vI(t,e){var n=$t(!0),r=null,a=jm,i=null,s=ew(u);t=typeof t=="function"?t:t===void 0?pI:$t(t),e=typeof e=="function"?e:e===void 0?gI:$t(e);function u(d){var c,h=(d=tw(d)).length,m,y=!1,_;for(r==null&&(i=a(_=s())),c=0;c<=h;++c)!(c<h&&n(m=d[c],c,d))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+t(m,c,d),+e(m,c,d));if(_)return i=null,_+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:$t(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:$t(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:$t(!!d),u):n},u.curve=function(d){return arguments.length?(a=d,r!=null&&(i=a(r)),u):a},u.context=function(d){return arguments.length?(d==null?r=i=null:i=a(r=d),u):r},u}function Qf(t,e,n){var r=null,a=$t(!0),i=null,s=jm,u=null,d=ew(c);t=typeof t=="function"?t:t===void 0?pI:$t(+t),e=typeof e=="function"?e:$t(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?gI:$t(+n);function c(m){var y,_,w,A=(m=tw(m)).length,T,k=!1,M,E=new Array(A),D=new Array(A);for(i==null&&(u=s(M=d())),y=0;y<=A;++y){if(!(y<A&&a(T=m[y],y,m))===k)if(k=!k)_=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=y-1;w>=_;--w)u.point(E[w],D[w]);u.lineEnd(),u.areaEnd()}k&&(E[y]=+t(T,y,m),D[y]=+e(T,y,m),u.point(r?+r(T,y,m):E[y],n?+n(T,y,m):D[y]))}if(M)return u=null,M+""||null}function h(){return vI().defined(a).curve(s).context(i)}return c.x=function(m){return arguments.length?(t=typeof m=="function"?m:$t(+m),r=null,c):t},c.x0=function(m){return arguments.length?(t=typeof m=="function"?m:$t(+m),c):t},c.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:$t(+m),c):r},c.y=function(m){return arguments.length?(e=typeof m=="function"?m:$t(+m),n=null,c):e},c.y0=function(m){return arguments.length?(e=typeof m=="function"?m:$t(+m),c):e},c.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:$t(+m),c):n},c.lineX0=c.lineY0=function(){return h().x(t).y(e)},c.lineY1=function(){return h().x(t).y(n)},c.lineX1=function(){return h().x(r).y(e)},c.defined=function(m){return arguments.length?(a=typeof m=="function"?m:$t(!!m),c):a},c.curve=function(m){return arguments.length?(s=m,i!=null&&(u=s(i)),c):s},c.context=function(m){return arguments.length?(m==null?i=u=null:u=s(i=m),c):i},c}class yI{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function GU(t){return new yI(t,!0)}function HU(t){return new yI(t,!1)}const nw={draw(t,e){const n=ta(e/Th);t.moveTo(n,0),t.arc(0,0,n,0,Im)}},KU={draw(t,e){const n=ta(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},bI=ta(1/3),YU=bI*2,WU={draw(t,e){const n=ta(e/YU),r=n*bI;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},XU={draw(t,e){const n=ta(e),r=-n/2;t.rect(r,r,n,n)}},ZU=.8908130915292852,xI=wh(Th/10)/wh(7*Th/10),JU=wh(Im/10)*xI,QU=-fI(Im/10)*xI,e6={draw(t,e){const n=ta(e*ZU),r=JU*n,a=QU*n;t.moveTo(0,-n),t.lineTo(r,a);for(let i=1;i<5;++i){const s=Im*i/5,u=fI(s),d=wh(s);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*a,d*r+u*a)}t.closePath()}},Zy=ta(3),t6={draw(t,e){const n=-ta(e/(Zy*3));t.moveTo(0,n*2),t.lineTo(-Zy*n,-n),t.lineTo(Zy*n,-n),t.closePath()}},Mr=-.5,Dr=ta(3)/2,o_=1/ta(12),n6=(o_/2+1)*3,r6={draw(t,e){const n=ta(e/n6),r=n/2,a=n*o_,i=r,s=n*o_+n,u=-i,d=s;t.moveTo(r,a),t.lineTo(i,s),t.lineTo(u,d),t.lineTo(Mr*r-Dr*a,Dr*r+Mr*a),t.lineTo(Mr*i-Dr*s,Dr*i+Mr*s),t.lineTo(Mr*u-Dr*d,Dr*u+Mr*d),t.lineTo(Mr*r+Dr*a,Mr*a-Dr*r),t.lineTo(Mr*i+Dr*s,Mr*s-Dr*i),t.lineTo(Mr*u+Dr*d,Mr*d-Dr*u),t.closePath()}};function a6(t,e){let n=null,r=ew(a);t=typeof t=="function"?t:$t(t||nw),e=typeof e=="function"?e:$t(e===void 0?64:+e);function a(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:$t(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:$t(+i),a):e},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Ah(){}function Eh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function _I(t){this._context=t}_I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Eh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Eh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function i6(t){return new _I(t)}function SI(t){this._context=t}SI.prototype={areaStart:Ah,areaEnd:Ah,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Eh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function o6(t){return new SI(t)}function wI(t){this._context=t}wI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Eh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function s6(t){return new wI(t)}function TI(t){this._context=t}TI.prototype={areaStart:Ah,areaEnd:Ah,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function l6(t){return new TI(t)}function Tk(t){return t<0?-1:1}function Ak(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),s=(n-t._y1)/(a||r<0&&-0),u=(i*a+s*r)/(r+a);return(Tk(i)+Tk(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(u))||0}function Ek(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Jy(t,e,n){var r=t._x0,a=t._y0,i=t._x1,s=t._y1,u=(i-r)/3;t._context.bezierCurveTo(r+u,a+u*e,i-u,s-u*n,i,s)}function Ch(t){this._context=t}Ch.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jy(this,this._t0,Ek(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Jy(this,Ek(this,n=Ak(this,t,e)),n);break;default:Jy(this,this._t0,n=Ak(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function AI(t){this._context=new EI(t)}(AI.prototype=Object.create(Ch.prototype)).point=function(t,e){Ch.prototype.point.call(this,e,t)};function EI(t){this._context=t}EI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};function u6(t){return new Ch(t)}function c6(t){return new AI(t)}function CI(t){this._context=t}CI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Ck(t),a=Ck(e),i=0,s=1;s<n;++i,++s)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ck(t){var e,n=t.length-1,r,a=new Array(n),i=new Array(n),s=new Array(n);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,i[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/i[e-1],i[e]-=r,s[e]-=r*s[e-1];for(a[n-1]=s[n-1]/i[n-1],e=n-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function d6(t){return new CI(t)}function $m(t,e){this._context=t,this._t=e}$m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function f6(t){return new $m(t,.5)}function h6(t){return new $m(t,0)}function m6(t){return new $m(t,1)}function gl(t,e){if((s=t.length)>1)for(var n=1,r,a,i=t[e[0]],s,u=i.length;n<s;++n)for(a=i,i=t[e[n]],r=0;r<u;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function s_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function p6(t,e){return t[e]}function g6(t){const e=[];return e.key=t,e}function v6(){var t=$t([]),e=s_,n=gl,r=p6;function a(i){var s=Array.from(t.apply(this,arguments),g6),u,d=s.length,c=-1,h;for(const m of i)for(u=0,++c;u<d;++u)(s[u][c]=[0,+r(m,s[u].key,c,i)]).data=m;for(u=0,h=tw(e(s));u<d;++u)s[h[u]].index=u;return n(s,h),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:$t(Array.from(i)),a):t},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:$t(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?s_:typeof i=="function"?i:$t(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(n=i??gl,a):n},a}function y6(t,e){if((r=t.length)>0){for(var n,r,a=0,i=t[0].length,s;a<i;++a){for(s=n=0;n<r;++n)s+=t[n][a][1]||0;if(s)for(n=0;n<r;++n)t[n][a][1]/=s}gl(t,e)}}function b6(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,i=r.length;n<i;++n){for(var s=0,u=0;s<a;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}gl(t,e)}}function x6(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,i,s;r<i;++r){for(var u=0,d=0,c=0;u<s;++u){for(var h=t[e[u]],m=h[r][1]||0,y=h[r-1][1]||0,_=(m-y)/2,w=0;w<u;++w){var A=t[e[w]],T=A[r][1]||0,k=A[r-1][1]||0;_+=T-k}d+=m,c+=_*m}a[r-1][1]+=a[r-1][0]=n,d&&(n-=c/d)}a[r-1][1]+=a[r-1][0]=n,gl(t,e)}}function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}var _6=["type","size","sizeType"];function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l_.apply(this,arguments)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ok(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){S6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S6(t,e,n){return e=w6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w6(t){var e=T6(t,"string");return Rc(e)=="symbol"?e:e+""}function T6(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A6(t,e){if(t==null)return{};var n=E6(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kI={symbolCircle:nw,symbolCross:KU,symbolDiamond:WU,symbolSquare:XU,symbolStar:e6,symbolTriangle:t6,symbolWye:r6},C6=Math.PI/180,k6=function(e){var n="symbol".concat(Rm(e));return kI[n]||nw},O6=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*C6;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},M6=function(e,n){kI["symbol".concat(Rm(e))]=n},rw=function(e){var n=e.type,r=n===void 0?"circle":n,a=e.size,i=a===void 0?64:a,s=e.sizeType,u=s===void 0?"area":s,d=A6(e,_6),c=Ok(Ok({},d),{},{type:r,size:i,sizeType:u}),h=function(){var T=k6(r),k=a6().type(T).size(O6(i,u,r));return k()},m=c.className,y=c.cx,_=c.cy,w=ze(c,!0);return y===+y&&_===+_&&i===+i?J.createElement("path",l_({},w,{className:at("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(_,")"),d:h()})):null};rw.registerSymbol=M6;function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function D6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){Ic(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MI(r.key),r)}}function R6(t,e,n){return e&&P6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I6(t,e,n){return e=kh(e),j6(t,OI()?Reflect.construct(e,n||[],kh(t).constructor):e.apply(t,n))}function j6(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $6(t)}function $6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OI=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kh(t)}function L6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},c_(t,e)}function Ic(t,e,n){return e=MI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MI(t){var e=B6(t,"string");return vl(e)=="symbol"?e:e+""}function B6(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nr=32,aw=function(t){function e(){return N6(this,e),I6(this,e,arguments)}return L6(e,t),R6(e,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=Nr/2,s=Nr/6,u=Nr/3,d=r.inactive?a:r.color;if(r.type==="plainline")return J.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:Nr,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return J.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(Nr,"M").concat(2*u,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return J.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Nr/8,"h").concat(Nr,"v").concat(Nr*3/4,"h").concat(-Nr,"z"),className:"recharts-legend-icon"});if(J.isValidElement(r.legendIcon)){var c=D6({},r);return delete c.legendIcon,J.cloneElement(r.legendIcon,c)}return J.createElement(rw,{fill:d,cx:i,cy:i,size:Nr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,s=a.iconSize,u=a.layout,d=a.formatter,c=a.inactiveColor,h={x:0,y:0,width:Nr,height:Nr},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(_,w){var A=_.formatter||d,T=at(Ic(Ic({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",_.inactive));if(_.type==="none")return null;var k=He(_.value)?null:_.value;Zr(!He(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var M=_.inactive?c:_.color;return J.createElement("li",u_({className:T,style:m,key:"legend-item-".concat(w)},Fo(r.props,_,w)),J.createElement(n_,{width:s,height:s,viewBox:h,style:y},r.renderIcon(_)),J.createElement("span",{className:"recharts-legend-item-text",style:{color:M}},A?A(k,_,w):k))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,s=r.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return J.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(j.PureComponent);Ic(aw,"displayName","Legend");Ic(aw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Qy,Dk;function q6(){if(Dk)return Qy;Dk=1;var t=Dm();function e(){this.__data__=new t,this.size=0}return Qy=e,Qy}var e0,Nk;function U6(){if(Nk)return e0;Nk=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return e0=t,e0}var t0,Pk;function F6(){if(Pk)return t0;Pk=1;function t(e){return this.__data__.get(e)}return t0=t,t0}var n0,Rk;function V6(){if(Rk)return n0;Rk=1;function t(e){return this.__data__.has(e)}return n0=t,n0}var r0,Ik;function z6(){if(Ik)return r0;Ik=1;var t=Dm(),e=YS(),n=WS(),r=200;function a(i,s){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<r-1)return d.push([i,s]),this.size=++u.size,this;u=this.__data__=new n(d)}return u.set(i,s),this.size=u.size,this}return r0=a,r0}var a0,jk;function DI(){if(jk)return a0;jk=1;var t=Dm(),e=q6(),n=U6(),r=F6(),a=V6(),i=z6();function s(u){var d=this.__data__=new t(u);this.size=d.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,a0=s,a0}var i0,$k;function G6(){if($k)return i0;$k=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return i0=e,i0}var o0,Lk;function H6(){if(Lk)return o0;Lk=1;function t(e){return this.__data__.has(e)}return o0=t,o0}var s0,Bk;function NI(){if(Bk)return s0;Bk=1;var t=WS(),e=G6(),n=H6();function r(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,s0=r,s0}var l0,qk;function PI(){if(qk)return l0;qk=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(e[r],r,e))return!0;return!1}return l0=t,l0}var u0,Uk;function RI(){if(Uk)return u0;Uk=1;function t(e,n){return e.has(n)}return u0=t,u0}var c0,Fk;function II(){if(Fk)return c0;Fk=1;var t=NI(),e=PI(),n=RI(),r=1,a=2;function i(s,u,d,c,h,m){var y=d&r,_=s.length,w=u.length;if(_!=w&&!(y&&w>_))return!1;var A=m.get(s),T=m.get(u);if(A&&T)return A==u&&T==s;var k=-1,M=!0,E=d&a?new t:void 0;for(m.set(s,u),m.set(u,s);++k<_;){var D=s[k],C=u[k];if(c)var O=y?c(C,D,k,u,s,m):c(D,C,k,s,u,m);if(O!==void 0){if(O)continue;M=!1;break}if(E){if(!e(u,function(P,I){if(!n(E,I)&&(D===P||h(D,P,d,c,m)))return E.push(I)})){M=!1;break}}else if(!(D===C||h(D,C,d,c,m))){M=!1;break}}return m.delete(s),m.delete(u),M}return c0=i,c0}var d0,Vk;function K6(){if(Vk)return d0;Vk=1;var t=xa(),e=t.Uint8Array;return d0=e,d0}var f0,zk;function Y6(){if(zk)return f0;zk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a,i){r[++n]=[i,a]}),r}return f0=t,f0}var h0,Gk;function iw(){if(Gk)return h0;Gk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a){r[++n]=a}),r}return h0=t,h0}var m0,Hk;function W6(){if(Hk)return m0;Hk=1;var t=bd(),e=K6(),n=KS(),r=II(),a=Y6(),i=iw(),s=1,u=2,d="[object Boolean]",c="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",_="[object RegExp]",w="[object Set]",A="[object String]",T="[object Symbol]",k="[object ArrayBuffer]",M="[object DataView]",E=t?t.prototype:void 0,D=E?E.valueOf:void 0;function C(O,P,I,q,z,L,H){switch(I){case M:if(O.byteLength!=P.byteLength||O.byteOffset!=P.byteOffset)return!1;O=O.buffer,P=P.buffer;case k:return!(O.byteLength!=P.byteLength||!L(new e(O),new e(P)));case d:case c:case y:return n(+O,+P);case h:return O.name==P.name&&O.message==P.message;case _:case A:return O==P+"";case m:var Q=a;case w:var Y=q&s;if(Q||(Q=i),O.size!=P.size&&!Y)return!1;var B=H.get(O);if(B)return B==P;q|=u,H.set(O,P);var $=r(Q(O),Q(P),q,z,L,H);return H.delete(O),$;case T:if(D)return D.call(O)==D.call(P)}return!1}return m0=C,m0}var p0,Kk;function jI(){if(Kk)return p0;Kk=1;function t(e,n){for(var r=-1,a=n.length,i=e.length;++r<a;)e[i+r]=n[r];return e}return p0=t,p0}var g0,Yk;function X6(){if(Yk)return g0;Yk=1;var t=jI(),e=or();function n(r,a,i){var s=a(r);return e(r)?s:t(s,i(r))}return g0=n,g0}var v0,Wk;function Z6(){if(Wk)return v0;Wk=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=0,s=[];++r<a;){var u=e[r];n(u,r,e)&&(s[i++]=u)}return s}return v0=t,v0}var y0,Xk;function J6(){if(Xk)return y0;Xk=1;function t(){return[]}return y0=t,y0}var b0,Zk;function Q6(){if(Zk)return b0;Zk=1;var t=Z6(),e=J6(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(u){return r.call(s,u)}))}:e;return b0=i,b0}var x0,Jk;function e8(){if(Jk)return x0;Jk=1;function t(e,n){for(var r=-1,a=Array(e);++r<e;)a[r]=n(r);return a}return x0=t,x0}var _0,Qk;function t8(){if(Qk)return _0;Qk=1;var t=ti(),e=ni(),n="[object Arguments]";function r(a){return e(a)&&t(a)==n}return _0=r,_0}var S0,eO;function ow(){if(eO)return S0;eO=1;var t=t8(),e=ni(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!a.call(s,"callee")};return S0=i,S0}var vc={exports:{}},w0,tO;function n8(){if(tO)return w0;tO=1;function t(){return!1}return w0=t,w0}vc.exports;var nO;function $I(){return nO||(nO=1,function(t,e){var n=xa(),r=n8(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,u=s?n.Buffer:void 0,d=u?u.isBuffer:void 0,c=d||r;t.exports=c}(vc,vc.exports)),vc.exports}var T0,rO;function sw(){if(rO)return T0;rO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<a}return T0=n,T0}var A0,aO;function lw(){if(aO)return A0;aO=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return A0=e,A0}var E0,iO;function r8(){if(iO)return E0;iO=1;var t=ti(),e=lw(),n=ni(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",u="[object Error]",d="[object Function]",c="[object Map]",h="[object Number]",m="[object Object]",y="[object RegExp]",_="[object Set]",w="[object String]",A="[object WeakMap]",T="[object ArrayBuffer]",k="[object DataView]",M="[object Float32Array]",E="[object Float64Array]",D="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",I="[object Uint8ClampedArray]",q="[object Uint16Array]",z="[object Uint32Array]",L={};L[M]=L[E]=L[D]=L[C]=L[O]=L[P]=L[I]=L[q]=L[z]=!0,L[r]=L[a]=L[T]=L[i]=L[k]=L[s]=L[u]=L[d]=L[c]=L[h]=L[m]=L[y]=L[_]=L[w]=L[A]=!1;function H(Q){return n(Q)&&e(Q.length)&&!!L[t(Q)]}return E0=H,E0}var C0,oO;function LI(){if(oO)return C0;oO=1;function t(e){return function(n){return e(n)}}return C0=t,C0}var yc={exports:{}};yc.exports;var sO;function a8(){return sO||(sO=1,function(t,e){var n=aI(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,s=i&&n.process,u=function(){try{var d=a&&a.require&&a.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}}();t.exports=u}(yc,yc.exports)),yc.exports}var k0,lO;function BI(){if(lO)return k0;lO=1;var t=r8(),e=LI(),n=a8(),r=n&&n.isTypedArray,a=r?e(r):t;return k0=a,k0}var O0,uO;function i8(){if(uO)return O0;uO=1;var t=e8(),e=ow(),n=or(),r=$I(),a=sw(),i=BI(),s=Object.prototype,u=s.hasOwnProperty;function d(c,h){var m=n(c),y=!m&&e(c),_=!m&&!y&&r(c),w=!m&&!y&&!_&&i(c),A=m||y||_||w,T=A?t(c.length,String):[],k=T.length;for(var M in c)(h||u.call(c,M))&&!(A&&(M=="length"||_&&(M=="offset"||M=="parent")||w&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||a(M,k)))&&T.push(M);return T}return O0=d,O0}var M0,cO;function o8(){if(cO)return M0;cO=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return M0=e,M0}var D0,dO;function qI(){if(dO)return D0;dO=1;function t(e,n){return function(r){return e(n(r))}}return D0=t,D0}var N0,fO;function s8(){if(fO)return N0;fO=1;var t=qI(),e=t(Object.keys,Object);return N0=e,N0}var P0,hO;function l8(){if(hO)return P0;hO=1;var t=o8(),e=s8(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var u in Object(i))r.call(i,u)&&u!="constructor"&&s.push(u);return s}return P0=a,P0}var R0,mO;function Sd(){if(mO)return R0;mO=1;var t=HS(),e=lw();function n(r){return r!=null&&e(r.length)&&!t(r)}return R0=n,R0}var I0,pO;function Lm(){if(pO)return I0;pO=1;var t=i8(),e=l8(),n=Sd();function r(a){return n(a)?t(a):e(a)}return I0=r,I0}var j0,gO;function u8(){if(gO)return j0;gO=1;var t=X6(),e=Q6(),n=Lm();function r(a){return t(a,n,e)}return j0=r,j0}var $0,vO;function c8(){if(vO)return $0;vO=1;var t=u8(),e=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,s,u,d,c,h){var m=u&e,y=t(i),_=y.length,w=t(s),A=w.length;if(_!=A&&!m)return!1;for(var T=_;T--;){var k=y[T];if(!(m?k in s:r.call(s,k)))return!1}var M=h.get(i),E=h.get(s);if(M&&E)return M==s&&E==i;var D=!0;h.set(i,s),h.set(s,i);for(var C=m;++T<_;){k=y[T];var O=i[k],P=s[k];if(d)var I=m?d(P,O,k,s,i,h):d(O,P,k,i,s,h);if(!(I===void 0?O===P||c(O,P,u,d,h):I)){D=!1;break}C||(C=k=="constructor")}if(D&&!C){var q=i.constructor,z=s.constructor;q!=z&&"constructor"in i&&"constructor"in s&&!(typeof q=="function"&&q instanceof q&&typeof z=="function"&&z instanceof z)&&(D=!1)}return h.delete(i),h.delete(s),D}return $0=a,$0}var L0,yO;function d8(){if(yO)return L0;yO=1;var t=Zo(),e=xa(),n=t(e,"DataView");return L0=n,L0}var B0,bO;function f8(){if(bO)return B0;bO=1;var t=Zo(),e=xa(),n=t(e,"Promise");return B0=n,B0}var q0,xO;function UI(){if(xO)return q0;xO=1;var t=Zo(),e=xa(),n=t(e,"Set");return q0=n,q0}var U0,_O;function h8(){if(_O)return U0;_O=1;var t=Zo(),e=xa(),n=t(e,"WeakMap");return U0=n,U0}var F0,SO;function m8(){if(SO)return F0;SO=1;var t=d8(),e=YS(),n=f8(),r=UI(),a=h8(),i=ti(),s=iI(),u="[object Map]",d="[object Object]",c="[object Promise]",h="[object Set]",m="[object WeakMap]",y="[object DataView]",_=s(t),w=s(e),A=s(n),T=s(r),k=s(a),M=i;return(t&&M(new t(new ArrayBuffer(1)))!=y||e&&M(new e)!=u||n&&M(n.resolve())!=c||r&&M(new r)!=h||a&&M(new a)!=m)&&(M=function(E){var D=i(E),C=D==d?E.constructor:void 0,O=C?s(C):"";if(O)switch(O){case _:return y;case w:return u;case A:return c;case T:return h;case k:return m}return D}),F0=M,F0}var V0,wO;function p8(){if(wO)return V0;wO=1;var t=DI(),e=II(),n=W6(),r=c8(),a=m8(),i=or(),s=$I(),u=BI(),d=1,c="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,_=y.hasOwnProperty;function w(A,T,k,M,E,D){var C=i(A),O=i(T),P=C?h:a(A),I=O?h:a(T);P=P==c?m:P,I=I==c?m:I;var q=P==m,z=I==m,L=P==I;if(L&&s(A)){if(!s(T))return!1;C=!0,q=!1}if(L&&!q)return D||(D=new t),C||u(A)?e(A,T,k,M,E,D):n(A,T,P,k,M,E,D);if(!(k&d)){var H=q&&_.call(A,"__wrapped__"),Q=z&&_.call(T,"__wrapped__");if(H||Q){var Y=H?A.value():A,B=Q?T.value():T;return D||(D=new t),E(Y,B,k,M,D)}}return L?(D||(D=new t),r(A,T,k,M,E,D)):!1}return V0=w,V0}var z0,TO;function uw(){if(TO)return z0;TO=1;var t=p8(),e=ni();function n(r,a,i,s,u){return r===a?!0:r==null||a==null||!e(r)&&!e(a)?r!==r&&a!==a:t(r,a,i,s,n,u)}return z0=n,z0}var G0,AO;function g8(){if(AO)return G0;AO=1;var t=DI(),e=uw(),n=1,r=2;function a(i,s,u,d){var c=u.length,h=c,m=!d;if(i==null)return!h;for(i=Object(i);c--;){var y=u[c];if(m&&y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++c<h;){y=u[c];var _=y[0],w=i[_],A=y[1];if(m&&y[2]){if(w===void 0&&!(_ in i))return!1}else{var T=new t;if(d)var k=d(w,A,_,i,s,T);if(!(k===void 0?e(A,w,n|r,d,T):k))return!1}}return!0}return G0=a,G0}var H0,EO;function FI(){if(EO)return H0;EO=1;var t=Xi();function e(n){return n===n&&!t(n)}return H0=e,H0}var K0,CO;function v8(){if(CO)return K0;CO=1;var t=FI(),e=Lm();function n(r){for(var a=e(r),i=a.length;i--;){var s=a[i],u=r[s];a[i]=[s,u,t(u)]}return a}return K0=n,K0}var Y0,kO;function VI(){if(kO)return Y0;kO=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Y0=t,Y0}var W0,OO;function y8(){if(OO)return W0;OO=1;var t=g8(),e=v8(),n=VI();function r(a){var i=e(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return W0=r,W0}var X0,MO;function b8(){if(MO)return X0;MO=1;function t(e,n){return e!=null&&n in Object(e)}return X0=t,X0}var Z0,DO;function x8(){if(DO)return Z0;DO=1;var t=lI(),e=ow(),n=or(),r=sw(),a=lw(),i=Pm();function s(u,d,c){d=t(d,u);for(var h=-1,m=d.length,y=!1;++h<m;){var _=i(d[h]);if(!(y=u!=null&&c(u,_)))break;u=u[_]}return y||++h!=m?y:(m=u==null?0:u.length,!!m&&a(m)&&r(_,m)&&(n(u)||e(u)))}return Z0=s,Z0}var J0,NO;function _8(){if(NO)return J0;NO=1;var t=b8(),e=x8();function n(r,a){return r!=null&&e(r,a,t)}return J0=n,J0}var Q0,PO;function S8(){if(PO)return Q0;PO=1;var t=uw(),e=uI(),n=_8(),r=GS(),a=FI(),i=VI(),s=Pm(),u=1,d=2;function c(h,m){return r(h)&&a(m)?i(s(h),m):function(y){var _=e(y,h);return _===void 0&&_===m?n(y,h):t(m,_,u|d)}}return Q0=c,Q0}var eb,RO;function Wl(){if(RO)return eb;RO=1;function t(e){return e}return eb=t,eb}var tb,IO;function w8(){if(IO)return tb;IO=1;function t(e){return function(n){return n==null?void 0:n[e]}}return tb=t,tb}var nb,jO;function T8(){if(jO)return nb;jO=1;var t=ZS();function e(n){return function(r){return t(r,n)}}return nb=e,nb}var rb,$O;function A8(){if($O)return rb;$O=1;var t=w8(),e=T8(),n=GS(),r=Pm();function a(i){return n(i)?t(r(i)):e(i)}return rb=a,rb}var ab,LO;function _a(){if(LO)return ab;LO=1;var t=y8(),e=S8(),n=Wl(),r=or(),a=A8();function i(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):a(s)}return ab=i,ab}var ib,BO;function zI(){if(BO)return ib;BO=1;function t(e,n,r,a){for(var i=e.length,s=r+(a?1:-1);a?s--:++s<i;)if(n(e[s],s,e))return s;return-1}return ib=t,ib}var ob,qO;function E8(){if(qO)return ob;qO=1;function t(e){return e!==e}return ob=t,ob}var sb,UO;function C8(){if(UO)return sb;UO=1;function t(e,n,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}return sb=t,sb}var lb,FO;function k8(){if(FO)return lb;FO=1;var t=zI(),e=E8(),n=C8();function r(a,i,s){return i===i?n(a,i,s):t(a,e,s)}return lb=r,lb}var ub,VO;function O8(){if(VO)return ub;VO=1;var t=k8();function e(n,r){var a=n==null?0:n.length;return!!a&&t(n,r,0)>-1}return ub=e,ub}var cb,zO;function M8(){if(zO)return cb;zO=1;function t(e,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(n,e[a]))return!0;return!1}return cb=t,cb}var db,GO;function D8(){if(GO)return db;GO=1;function t(){}return db=t,db}var fb,HO;function N8(){if(HO)return fb;HO=1;var t=UI(),e=D8(),n=iw(),r=1/0,a=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return fb=a,fb}var hb,KO;function P8(){if(KO)return hb;KO=1;var t=NI(),e=O8(),n=M8(),r=RI(),a=N8(),i=iw(),s=200;function u(d,c,h){var m=-1,y=e,_=d.length,w=!0,A=[],T=A;if(h)w=!1,y=n;else if(_>=s){var k=c?null:a(d);if(k)return i(k);w=!1,y=r,T=new t}else T=c?[]:A;e:for(;++m<_;){var M=d[m],E=c?c(M):M;if(M=h||M!==0?M:0,w&&E===E){for(var D=T.length;D--;)if(T[D]===E)continue e;c&&T.push(E),A.push(M)}else y(T,E,h)||(T!==A&&T.push(E),A.push(M))}return A}return hb=u,hb}var mb,YO;function R8(){if(YO)return mb;YO=1;var t=_a(),e=P8();function n(r,a){return r&&r.length?e(r,t(a,2)):[]}return mb=n,mb}var I8=R8();const WO=yt(I8);function GI(t,e,n){return e===!0?WO(t,n):He(e)?WO(t,e):t}function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}var j8=["ref"];function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){Bm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KI(r.key),r)}}function L8(t,e,n){return e&&ZO(t.prototype,e),n&&ZO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function B8(t,e,n){return e=Oh(e),q8(t,HI()?Reflect.construct(e,n||[],Oh(t).constructor):e.apply(t,n))}function q8(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U8(t)}function U8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HI=function(){return!!t})()}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oh(t)}function F8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},d_(t,e)}function Bm(t,e,n){return e=KI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KI(t){var e=V8(t,"string");return yl(e)=="symbol"?e:e+""}function V8(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function z8(t,e){if(t==null)return{};var n=G8(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H8(t){return t.value}function K8(t,e){if(J.isValidElement(t))return J.cloneElement(t,e);if(typeof t=="function")return J.createElement(t,e);e.ref;var n=z8(e,j8);return J.createElement(aw,n)}var JO=1,zi=function(t){function e(){var n;$8(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=B8(this,e,[].concat(a)),Bm(n,"lastBoundingBox",{width:-1,height:-1}),n}return F8(e,t),L8(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>JO||Math.abs(a.height-this.lastBoundingBox.height)>JO)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ua({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,s=a.align,u=a.verticalAlign,d=a.margin,c=a.chartWidth,h=a.chartHeight,m,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&i==="vertical"){var _=this.getBBoxSnapshot();m={left:((c||0)-_.width)/2}}else m=s==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();y={top:((h||0)-w.height)/2}}else y=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Ua(Ua({},m),y)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,s=a.width,u=a.height,d=a.wrapperStyle,c=a.payloadUniqBy,h=a.payload,m=Ua(Ua({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return J.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(_){r.wrapperNode=_}},K8(i,Ua(Ua({},this.props),{},{payload:GI(h,c,H8)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Ua(Ua({},this.defaultProps),r.props),s=i.layout;return s==="vertical"&&Ae(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||a}:null}}])}(j.PureComponent);Bm(zi,"displayName","Legend");Bm(zi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pb,QO;function Y8(){if(QO)return pb;QO=1;var t=bd(),e=ow(),n=or(),r=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||e(i)||!!(r&&i&&i[r])}return pb=a,pb}var gb,eM;function YI(){if(eM)return gb;eM=1;var t=jI(),e=Y8();function n(r,a,i,s,u){var d=-1,c=r.length;for(i||(i=e),u||(u=[]);++d<c;){var h=r[d];a>0&&i(h)?a>1?n(h,a-1,i,s,u):t(u,h):s||(u[u.length]=h)}return u}return gb=n,gb}var vb,tM;function W8(){if(tM)return vb;tM=1;function t(e){return function(n,r,a){for(var i=-1,s=Object(n),u=a(n),d=u.length;d--;){var c=u[e?d:++i];if(r(s[c],c,s)===!1)break}return n}}return vb=t,vb}var yb,nM;function X8(){if(nM)return yb;nM=1;var t=W8(),e=t();return yb=e,yb}var bb,rM;function WI(){if(rM)return bb;rM=1;var t=X8(),e=Lm();function n(r,a){return r&&t(r,a,e)}return bb=n,bb}var xb,aM;function Z8(){if(aM)return xb;aM=1;var t=Sd();function e(n,r){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var s=a.length,u=r?s:-1,d=Object(a);(r?u--:++u<s)&&i(d[u],u,d)!==!1;);return a}}return xb=e,xb}var _b,iM;function cw(){if(iM)return _b;iM=1;var t=WI(),e=Z8(),n=e(t);return _b=n,_b}var Sb,oM;function XI(){if(oM)return Sb;oM=1;var t=cw(),e=Sd();function n(r,a){var i=-1,s=e(r)?Array(r.length):[];return t(r,function(u,d,c){s[++i]=a(u,d,c)}),s}return Sb=n,Sb}var wb,sM;function J8(){if(sM)return wb;sM=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return wb=t,wb}var Tb,lM;function Q8(){if(lM)return Tb;lM=1;var t=Kl();function e(n,r){if(n!==r){var a=n!==void 0,i=n===null,s=n===n,u=t(n),d=r!==void 0,c=r===null,h=r===r,m=t(r);if(!c&&!m&&!u&&n>r||u&&d&&h&&!c&&!m||i&&d&&h||!a&&h||!s)return 1;if(!i&&!u&&!m&&n<r||m&&a&&s&&!i&&!u||c&&a&&s||!d&&s||!h)return-1}return 0}return Tb=e,Tb}var Ab,uM;function eF(){if(uM)return Ab;uM=1;var t=Q8();function e(n,r,a){for(var i=-1,s=n.criteria,u=r.criteria,d=s.length,c=a.length;++i<d;){var h=t(s[i],u[i]);if(h){if(i>=c)return h;var m=a[i];return h*(m=="desc"?-1:1)}}return n.index-r.index}return Ab=e,Ab}var Eb,cM;function tF(){if(cM)return Eb;cM=1;var t=XS(),e=ZS(),n=_a(),r=XI(),a=J8(),i=LI(),s=eF(),u=Wl(),d=or();function c(h,m,y){m.length?m=t(m,function(A){return d(A)?function(T){return e(T,A.length===1?A[0]:A)}:A}):m=[u];var _=-1;m=t(m,i(n));var w=r(h,function(A,T,k){var M=t(m,function(E){return E(A)});return{criteria:M,index:++_,value:A}});return a(w,function(A,T){return s(A,T,y)})}return Eb=c,Eb}var Cb,dM;function nF(){if(dM)return Cb;dM=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return Cb=t,Cb}var kb,fM;function rF(){if(fM)return kb;fM=1;var t=nF(),e=Math.max;function n(r,a,i){return a=e(a===void 0?r.length-1:a,0),function(){for(var s=arguments,u=-1,d=e(s.length-a,0),c=Array(d);++u<d;)c[u]=s[a+u];u=-1;for(var h=Array(a+1);++u<a;)h[u]=s[u];return h[a]=i(c),t(r,this,h)}}return kb=n,kb}var Ob,hM;function aF(){if(hM)return Ob;hM=1;function t(e){return function(){return e}}return Ob=t,Ob}var Mb,mM;function ZI(){if(mM)return Mb;mM=1;var t=Zo(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Mb=e,Mb}var Db,pM;function iF(){if(pM)return Db;pM=1;var t=aF(),e=ZI(),n=Wl(),r=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return Db=r,Db}var Nb,gM;function oF(){if(gM)return Nb;gM=1;var t=800,e=16,n=Date.now;function r(a){var i=0,s=0;return function(){var u=n(),d=e-(u-s);if(s=u,d>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Nb=r,Nb}var Pb,vM;function sF(){if(vM)return Pb;vM=1;var t=iF(),e=oF(),n=e(t);return Pb=n,Pb}var Rb,yM;function lF(){if(yM)return Rb;yM=1;var t=Wl(),e=rF(),n=sF();function r(a,i){return n(e(a,i,t),a+"")}return Rb=r,Rb}var Ib,bM;function qm(){if(bM)return Ib;bM=1;var t=KS(),e=Sd(),n=sw(),r=Xi();function a(i,s,u){if(!r(u))return!1;var d=typeof s;return(d=="number"?e(u)&&n(s,u.length):d=="string"&&s in u)?t(u[s],i):!1}return Ib=a,Ib}var jb,xM;function uF(){if(xM)return jb;xM=1;var t=YI(),e=tF(),n=lF(),r=qm(),a=n(function(i,s){if(i==null)return[];var u=s.length;return u>1&&r(i,s[0],s[1])?s=[]:u>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return jb=a,jb}var cF=uF();const dw=yt(cF);function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(this,arguments)}function dF(t,e){return pF(t)||mF(t,e)||hF(t,e)||fF()}function fF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hF(t,e){if(t){if(typeof t=="string")return _M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _M(t,e)}}function _M(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mF(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function pF(t){if(Array.isArray(t))return t}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){gF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gF(t,e,n){return e=vF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vF(t){var e=yF(t,"string");return jc(e)=="symbol"?e:e+""}function yF(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bF(t){return Array.isArray(t)&&pn(t[0])&&pn(t[1])?t.join(" ~ "):t}var xF=function(e){var n=e.separator,r=n===void 0?" : ":n,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,u=s===void 0?{}:s,d=e.labelStyle,c=d===void 0?{}:d,h=e.payload,m=e.formatter,y=e.itemSorter,_=e.wrapperClassName,w=e.labelClassName,A=e.label,T=e.labelFormatter,k=e.accessibilityLayer,M=k===void 0?!1:k,E=function(){if(h&&h.length){var H={padding:0,margin:0},Q=(y?dw(h,y):h).map(function(Y,B){if(Y.type==="none")return null;var $=$b({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},u),V=Y.formatter||m||bF,Z=Y.value,se=Y.name,U=Z,G=se;if(V&&U!=null&&G!=null){var re=V(Z,se,Y,B,h);if(Array.isArray(re)){var ce=dF(re,2);U=ce[0],G=ce[1]}else U=re}return J.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:$},pn(G)?J.createElement("span",{className:"recharts-tooltip-item-name"},G):null,pn(G)?J.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,J.createElement("span",{className:"recharts-tooltip-item-value"},U),J.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return J.createElement("ul",{className:"recharts-tooltip-item-list",style:H},Q)}return null},D=$b({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=$b({margin:0},c),O=!lt(A),P=O?A:"",I=at("recharts-default-tooltip",_),q=at("recharts-tooltip-label",w);O&&T&&h!==void 0&&h!==null&&(P=T(A,h));var z=M?{role:"status","aria-live":"assertive"}:{};return J.createElement("div",f_({className:I,style:D},z),J.createElement("p",{className:q,style:C},J.isValidElement(P)?P:"".concat(P)),E())};function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function eh(t,e,n){return e=_F(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _F(t){var e=SF(t,"string");return $c(e)=="symbol"?e:e+""}function SF(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oc="recharts-tooltip-wrapper",wF={visibility:"hidden"};function TF(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return at(oc,eh(eh(eh(eh({},"".concat(oc,"-right"),Ae(n)&&e&&Ae(e.x)&&n>=e.x),"".concat(oc,"-left"),Ae(n)&&e&&Ae(e.x)&&n<e.x),"".concat(oc,"-bottom"),Ae(r)&&e&&Ae(e.y)&&r>=e.y),"".concat(oc,"-top"),Ae(r)&&e&&Ae(e.y)&&r<e.y))}function wM(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,c=t.viewBoxDimension;if(i&&Ae(i[r]))return i[r];var h=n[r]-u-a,m=n[r]+a;if(e[r])return s[r]?h:m;if(s[r]){var y=h,_=d[r];return y<_?Math.max(m,d[r]):Math.max(h,d[r])}var w=m+u,A=d[r]+c;return w>A?Math.max(h,d[r]):Math.max(m,d[r])}function AF(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function EF(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,c,h,m;return s.height>0&&s.width>0&&n?(h=wM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),m=wM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),c=AF({translateX:h,translateY:m,useTranslate3d:u})):c=wF,{cssProperties:c,cssClasses:TF({translateX:h,translateY:m,coordinate:n})}}function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){m_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QI(r.key),r)}}function OF(t,e,n){return e&&kF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MF(t,e,n){return e=Mh(e),DF(t,JI()?Reflect.construct(e,n||[],Mh(t).constructor):e.apply(t,n))}function DF(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NF(t)}function NF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JI=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(t)}function PF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h_(t,e)}function h_(t,e){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},h_(t,e)}function m_(t,e,n){return e=QI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QI(t){var e=RF(t,"string");return bl(e)=="symbol"?e:e+""}function RF(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EM=1,IF=function(t){function e(){var n;CF(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=MF(this,e,[].concat(a)),m_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),m_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var u,d,c,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(c=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&c!==void 0?c:0}})}}),n}return PF(e,t),OF(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>EM||Math.abs(r.height-this.state.lastBoundingBox.height)>EM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,c=a.children,h=a.coordinate,m=a.hasPayload,y=a.isAnimationActive,_=a.offset,w=a.position,A=a.reverseDirection,T=a.useTranslate3d,k=a.viewBox,M=a.wrapperStyle,E=EF({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:_,position:w,reverseDirection:A,tooltipBox:this.state.lastBoundingBox,useTranslate3d:T,viewBox:k}),D=E.cssClasses,C=E.cssProperties,O=AM(AM({transition:y&&i?"transform ".concat(u,"ms ").concat(d):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},M);return J.createElement("div",{tabIndex:-1,className:D,style:O,ref:function(I){r.wrapperNode=I}},c)}}])}(j.PureComponent),jF=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xl={isSsr:jF()};function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){fw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tj(r.key),r)}}function BF(t,e,n){return e&&LF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qF(t,e,n){return e=Dh(e),UF(t,ej()?Reflect.construct(e,n||[],Dh(t).constructor):e.apply(t,n))}function UF(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FF(t)}function FF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ej(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ej=function(){return!!t})()}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dh(t)}function VF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p_(t,e)}function p_(t,e){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},p_(t,e)}function fw(t,e,n){return e=tj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tj(t){var e=zF(t,"string");return xl(e)=="symbol"?e:e+""}function zF(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GF(t){return t.dataKey}function HF(t,e){return J.isValidElement(t)?J.cloneElement(t,e):typeof t=="function"?J.createElement(t,e):J.createElement(xF,e)}var Yr=function(t){function e(){return $F(this,e),qF(this,e,arguments)}return VF(e,t),BF(e,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,c=a.content,h=a.coordinate,m=a.filterNull,y=a.isAnimationActive,_=a.offset,w=a.payload,A=a.payloadUniqBy,T=a.position,k=a.reverseDirection,M=a.useTranslate3d,E=a.viewBox,D=a.wrapperStyle,C=w??[];m&&C.length&&(C=GI(w.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),A,GF));var O=C.length>0;return J.createElement(IF,{allowEscapeViewBox:s,animationDuration:u,animationEasing:d,isAnimationActive:y,active:i,coordinate:h,hasPayload:O,offset:_,position:T,reverseDirection:k,useTranslate3d:M,viewBox:E,wrapperStyle:D},HF(c,kM(kM({},this.props),{},{payload:C})))}}])}(j.PureComponent);fw(Yr,"displayName","Tooltip");fw(Yr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Lb,OM;function KF(){if(OM)return Lb;OM=1;var t=xa(),e=function(){return t.Date.now()};return Lb=e,Lb}var Bb,MM;function YF(){if(MM)return Bb;MM=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Bb=e,Bb}var qb,DM;function WF(){if(DM)return qb;DM=1;var t=YF(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return qb=n,qb}var Ub,NM;function nj(){if(NM)return Ub;NM=1;var t=WF(),e=Xi(),n=Kl(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function d(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=e(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=t(c);var m=i.test(c);return m||s.test(c)?u(c.slice(2),m?2:8):a.test(c)?r:+c}return Ub=d,Ub}var Fb,PM;function XF(){if(PM)return Fb;PM=1;var t=Xi(),e=KF(),n=nj(),r="Expected a function",a=Math.max,i=Math.min;function s(u,d,c){var h,m,y,_,w,A,T=0,k=!1,M=!1,E=!0;if(typeof u!="function")throw new TypeError(r);d=n(d)||0,t(c)&&(k=!!c.leading,M="maxWait"in c,y=M?a(n(c.maxWait)||0,d):y,E="trailing"in c?!!c.trailing:E);function D(Q){var Y=h,B=m;return h=m=void 0,T=Q,_=u.apply(B,Y),_}function C(Q){return T=Q,w=setTimeout(I,d),k?D(Q):_}function O(Q){var Y=Q-A,B=Q-T,$=d-Y;return M?i($,y-B):$}function P(Q){var Y=Q-A,B=Q-T;return A===void 0||Y>=d||Y<0||M&&B>=y}function I(){var Q=e();if(P(Q))return q(Q);w=setTimeout(I,O(Q))}function q(Q){return w=void 0,E&&h?D(Q):(h=m=void 0,_)}function z(){w!==void 0&&clearTimeout(w),T=0,h=A=m=w=void 0}function L(){return w===void 0?_:q(e())}function H(){var Q=e(),Y=P(Q);if(h=arguments,m=this,A=Q,Y){if(w===void 0)return C(A);if(M)return clearTimeout(w),w=setTimeout(I,d),D(A)}return w===void 0&&(w=setTimeout(I,d)),_}return H.cancel=z,H.flush=L,H}return Fb=s,Fb}var Vb,RM;function ZF(){if(RM)return Vb;RM=1;var t=XF(),e=Xi(),n="Expected a function";function r(a,i,s){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(n);return e(s)&&(u="leading"in s?!!s.leading:u,d="trailing"in s?!!s.trailing:d),t(a,i,{leading:u,maxWait:i,trailing:d})}return Vb=r,Vb}var JF=ZF();const rj=yt(JF);function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){QF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QF(t,e,n){return e=e9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e9(t){var e=t9(t,"string");return Lc(e)=="symbol"?e:e+""}function t9(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n9(t,e){return o9(t)||i9(t,e)||a9(t,e)||r9()}function r9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a9(t,e){if(t){if(typeof t=="string")return jM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jM(t,e)}}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function o9(t){if(Array.isArray(t))return t}var aj=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=t.width,s=i===void 0?"100%":i,u=t.height,d=u===void 0?"100%":u,c=t.minWidth,h=c===void 0?0:c,m=t.minHeight,y=t.maxHeight,_=t.children,w=t.debounce,A=w===void 0?0:w,T=t.id,k=t.className,M=t.onResize,E=t.style,D=E===void 0?{}:E,C=j.useRef(null),O=j.useRef();O.current=M,j.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=j.useState({containerWidth:a.width,containerHeight:a.height}),I=n9(P,2),q=I[0],z=I[1],L=j.useCallback(function(Q,Y){z(function(B){var $=Math.round(Q),V=Math.round(Y);return B.containerWidth===$&&B.containerHeight===V?B:{containerWidth:$,containerHeight:V}})},[]);j.useEffect(function(){var Q=function(se){var U,G=se[0].contentRect,re=G.width,ce=G.height;L(re,ce),(U=O.current)===null||U===void 0||U.call(O,re,ce)};A>0&&(Q=rj(Q,A,{trailing:!0,leading:!1}));var Y=new ResizeObserver(Q),B=C.current.getBoundingClientRect(),$=B.width,V=B.height;return L($,V),Y.observe(C.current),function(){Y.disconnect()}},[L,A]);var H=j.useMemo(function(){var Q=q.containerWidth,Y=q.containerHeight;if(Q<0||Y<0)return null;Zr(Ro(s)||Ro(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,d),Zr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Ro(s)?Q:s,$=Ro(d)?Y:d;n&&n>0&&(B?$=B/n:$&&(B=$*n),y&&$>y&&($=y)),Zr(B>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,$,s,d,h,m,n);var V=!Array.isArray(_)&&Ya(_.type).endsWith("Chart");return J.Children.map(_,function(Z){return J.isValidElement(Z)?j.cloneElement(Z,th({width:B,height:$},V?{style:th({height:"100%",width:"100%",maxHeight:$,maxWidth:B},Z.props.style)}:{})):Z})},[n,_,d,y,m,h,q,s]);return J.createElement("div",{id:T?"".concat(T):void 0,className:at("recharts-responsive-container",k),style:th(th({},D),{},{width:s,height:d,minWidth:h,minHeight:m,maxHeight:y}),ref:C},H)}),Um=function(e){return null};Um.displayName="Cell";function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function g_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){s9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s9(t,e,n){return e=l9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l9(t){var e=u9(t,"string");return Bc(e)=="symbol"?e:e+""}function u9(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zs={widthCache:{},cacheCount:0},c9=2e3,d9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LM="recharts_measurement_span";function f9(t){var e=g_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ac=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xl.isSsr)return{width:0,height:0};var r=f9(n),a=JSON.stringify({text:e,copyStyle:r});if(Zs.widthCache[a])return Zs.widthCache[a];try{var i=document.getElementById(LM);i||(i=document.createElement("span"),i.setAttribute("id",LM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=g_(g_({},d9),r);Object.assign(i.style,s),i.textContent="".concat(e);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return Zs.widthCache[a]=d,++Zs.cacheCount>c9&&(Zs.cacheCount=0,Zs.widthCache={}),d}catch{return{width:0,height:0}}},h9=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function Nh(t,e){return v9(t)||g9(t,e)||p9(t,e)||m9()}function m9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p9(t,e){if(t){if(typeof t=="string")return BM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BM(t,e)}}function BM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function v9(t){if(Array.isArray(t))return t}function y9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x9(r.key),r)}}function b9(t,e,n){return e&&qM(t.prototype,e),n&&qM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function x9(t){var e=_9(t,"string");return qc(e)=="symbol"?e:e+""}function _9(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,w9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ij={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},T9=Object.keys(ij),rl="NaN";function A9(t,e){return t*ij[e]}var nh=function(){function t(e,n){y9(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!S9.test(n)&&(this.num=NaN,this.unit=""),T9.includes(n)&&(this.num=A9(e,n),this.unit="px")}return b9(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=w9.exec(n))!==null&&r!==void 0?r:[],i=Nh(a,3),s=i[1],u=i[2];return new t(parseFloat(s),u??"")}}])}();function oj(t){if(t.includes(rl))return rl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=UM.exec(e))!==null&&n!==void 0?n:[],a=Nh(r,4),i=a[1],s=a[2],u=a[3],d=nh.parse(i??""),c=nh.parse(u??""),h=s==="*"?d.multiply(c):d.divide(c);if(h.isNaN())return rl;e=e.replace(UM,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=FM.exec(e))!==null&&m!==void 0?m:[],_=Nh(y,4),w=_[1],A=_[2],T=_[3],k=nh.parse(w??""),M=nh.parse(T??""),E=A==="+"?k.add(M):k.subtract(M);if(E.isNaN())return rl;e=e.replace(FM,E.toString())}return e}var VM=/\(([^()]*)\)/;function E9(t){for(var e=t;e.includes("(");){var n=VM.exec(e),r=Nh(n,2),a=r[1];e=e.replace(VM,oj(a))}return e}function C9(t){var e=t.replace(/\s+/g,"");return e=E9(e),e=oj(e),e}function k9(t){try{return C9(t)}catch{return rl}}function zb(t){var e=k9(t.slice(5,-1));return e===rl?"":e}var O9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],M9=["dx","dy","angle","className","breakAll"];function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(this,arguments)}function zM(t,e){if(t==null)return{};var n=D9(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GM(t,e){return I9(t)||R9(t,e)||P9(t,e)||N9()}function N9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P9(t,e){if(t){if(typeof t=="string")return HM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HM(t,e)}}function HM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function I9(t){if(Array.isArray(t))return t}var sj=/[ \f\n\r\t\v\u2028\u2029]+/,lj=function(e){var n=e.children,r=e.breakAll,a=e.style;try{var i=[];lt(n)||(r?i=n.toString().split(""):i=n.toString().split(sj));var s=i.map(function(d){return{word:d,width:Ac(d,a).width}}),u=r?0:Ac(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},j9=function(e,n,r,a,i){var s=e.maxLines,u=e.children,d=e.style,c=e.breakAll,h=Ae(s),m=u,y=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function($,V){var Z=V.word,se=V.width,U=$[$.length-1];if(U&&(a==null||i||U.width+se+r<Number(a)))U.words.push(Z),U.width+=se+r;else{var G={words:[Z],width:se};$.push(G)}return $},[])},_=y(n),w=function(B){return B.reduce(function($,V){return $.width>V.width?$:V})};if(!h)return _;for(var A="…",T=function(B){var $=m.slice(0,B),V=lj({breakAll:c,style:d,children:$+A}).wordsWithComputedWidth,Z=y(V),se=Z.length>s||w(Z).width>Number(a);return[se,Z]},k=0,M=m.length-1,E=0,D;k<=M&&E<=m.length-1;){var C=Math.floor((k+M)/2),O=C-1,P=T(O),I=GM(P,2),q=I[0],z=I[1],L=T(C),H=GM(L,1),Q=H[0];if(!q&&!Q&&(k=C+1),q&&Q&&(M=C-1),!q&&Q){D=z;break}E++}return D||_},KM=function(e){var n=lt(e)?[]:e.toString().split(sj);return[{words:n}]},$9=function(e){var n=e.width,r=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,u=e.maxLines;if((n||r)&&!Xl.isSsr){var d,c,h=lj({breakAll:s,children:a,style:i});if(h){var m=h.wordsWithComputedWidth,y=h.spaceWidth;d=m,c=y}else return KM(a);return j9({breakAll:s,children:a,maxLines:u,style:i},d,c,n,r)}return KM(a)},YM="#808080",Vo=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,s=e.lineHeight,u=s===void 0?"1em":s,d=e.capHeight,c=d===void 0?"0.71em":d,h=e.scaleToFit,m=h===void 0?!1:h,y=e.textAnchor,_=y===void 0?"start":y,w=e.verticalAnchor,A=w===void 0?"end":w,T=e.fill,k=T===void 0?YM:T,M=zM(e,O9),E=j.useMemo(function(){return $9({breakAll:M.breakAll,children:M.children,maxLines:M.maxLines,scaleToFit:m,style:M.style,width:M.width})},[M.breakAll,M.children,M.maxLines,m,M.style,M.width]),D=M.dx,C=M.dy,O=M.angle,P=M.className,I=M.breakAll,q=zM(M,M9);if(!pn(r)||!pn(i))return null;var z=r+(Ae(D)?D:0),L=i+(Ae(C)?C:0),H;switch(A){case"start":H=zb("calc(".concat(c,")"));break;case"middle":H=zb("calc(".concat((E.length-1)/2," * -").concat(u," + (").concat(c," / 2))"));break;default:H=zb("calc(".concat(E.length-1," * -").concat(u,")"));break}var Q=[];if(m){var Y=E[0].width,B=M.width;Q.push("scale(".concat((Ae(B)?B/Y:1)/Y,")"))}return O&&Q.push("rotate(".concat(O,", ").concat(z,", ").concat(L,")")),Q.length&&(q.transform=Q.join(" ")),J.createElement("text",v_({},ze(q,!0),{x:z,y:L,className:at("recharts-text",P),textAnchor:_,fill:k.includes("url")?YM:k}),E.map(function($,V){var Z=$.words.join(I?"":" ");return J.createElement("tspan",{x:z,dy:V===0?H:u,key:"".concat(Z,"-").concat(V)},Z)}))};function Gi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function L9(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hw(t){let e,n,r;t.length!==2?(e=Gi,n=(u,d)=>Gi(t(u),d),r=(u,d)=>t(u)-d):(e=t===Gi||t===L9?t:B9,n=t,r=t);function a(u,d,c=0,h=u.length){if(c<h){if(e(d,d)!==0)return h;do{const m=c+h>>>1;n(u[m],d)<0?c=m+1:h=m}while(c<h)}return c}function i(u,d,c=0,h=u.length){if(c<h){if(e(d,d)!==0)return h;do{const m=c+h>>>1;n(u[m],d)<=0?c=m+1:h=m}while(c<h)}return c}function s(u,d,c=0,h=u.length){const m=a(u,d,c,h-1);return m>c&&r(u[m-1],d)>-r(u[m],d)?m-1:m}return{left:a,center:s,right:i}}function B9(){return 0}function uj(t){return t===null?NaN:+t}function*q9(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const U9=hw(Gi),wd=U9.right;hw(uj).center;class WM extends Map{constructor(e,n=z9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(XM(this,e))}has(e){return super.has(XM(this,e))}set(e,n){return super.set(F9(this,e),n)}delete(e){return super.delete(V9(this,e))}}function XM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function F9({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function V9({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function z9(t){return t!==null&&typeof t=="object"?t.valueOf():t}function G9(t=Gi){if(t===Gi)return cj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function cj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const H9=Math.sqrt(50),K9=Math.sqrt(10),Y9=Math.sqrt(2);function Ph(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=H9?10:i>=K9?5:i>=Y9?2:1;let u,d,c;return a<0?(c=Math.pow(10,-a)/s,u=Math.round(t*c),d=Math.round(e*c),u/c<t&&++u,d/c>e&&--d,c=-c):(c=Math.pow(10,a)*s,u=Math.round(t/c),d=Math.round(e/c),u*c<t&&++u,d*c>e&&--d),d<u&&.5<=n&&n<2?Ph(t,e,n*2):[u,d,c]}function y_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,s]=r?Ph(e,t,n):Ph(t,e,n);if(!(i>=a))return[];const u=i-a+1,d=new Array(u);if(r)if(s<0)for(let c=0;c<u;++c)d[c]=(i-c)/-s;else for(let c=0;c<u;++c)d[c]=(i-c)*s;else if(s<0)for(let c=0;c<u;++c)d[c]=(a+c)/-s;else for(let c=0;c<u;++c)d[c]=(a+c)*s;return d}function b_(t,e,n){return e=+e,t=+t,n=+n,Ph(t,e,n)[2]}function x_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?b_(e,t,n):b_(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function ZM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function dj(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?cj:G9(a);r>n;){if(r-n>600){const d=r-n+1,c=e-n+1,h=Math.log(d),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(d-m)/d)*(c-d/2<0?-1:1),_=Math.max(n,Math.floor(e-c*m/d+y)),w=Math.min(r,Math.floor(e+(d-c)*m/d+y));dj(t,e,_,w,a)}const i=t[e];let s=n,u=r;for(sc(t,n,e),a(t[r],i)>0&&sc(t,n,r);s<u;){for(sc(t,s,u),++s,--u;a(t[s],i)<0;)++s;for(;a(t[u],i)>0;)--u}a(t[n],i)===0?sc(t,n,u):(++u,sc(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function sc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function W9(t,e,n){if(t=Float64Array.from(q9(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return JM(t);if(e>=1)return ZM(t);var r,a=(r-1)*e,i=Math.floor(a),s=ZM(dj(t,i).subarray(0,i+1)),u=JM(t.subarray(i+1));return s+(u-s)*(a-i)}}function X9(t,e,n=uj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),s=+n(t[i],i,t),u=+n(t[i+1],i+1,t);return s+(u-s)*(a-i)}}function Z9(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function $r(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ri(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const __=Symbol("implicit");function mw(){var t=new WM,e=[],n=[],r=__;function a(i){let s=t.get(i);if(s===void 0){if(r!==__)return r;t.set(i,s=e.push(i)-1)}return n[s%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new WM;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return mw(e,n).unknown(r)},$r.apply(a,arguments),a}function Uc(){var t=mw().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,s,u=!1,d=0,c=0,h=.5;delete t.unknown;function m(){var y=e().length,_=a<r,w=_?a:r,A=_?r:a;i=(A-w)/Math.max(1,y-d+c*2),u&&(i=Math.floor(i)),w+=(A-w-i*(y-d))*h,s=i*(1-d),u&&(w=Math.round(w),s=Math.round(s));var T=Z9(y).map(function(k){return w+i*k});return n(_?T.reverse():T)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([r,a]=y,r=+r,a=+a,m()):[r,a]},t.rangeRound=function(y){return[r,a]=y,r=+r,a=+a,u=!0,m()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(y){return arguments.length?(u=!!y,m()):u},t.padding=function(y){return arguments.length?(d=Math.min(1,c=+y),m()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},t.paddingOuter=function(y){return arguments.length?(c=+y,m()):c},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},t.copy=function(){return Uc(e(),[r,a]).round(u).paddingInner(d).paddingOuter(c).align(h)},$r.apply(m(),arguments)}function fj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return fj(e())},t}function Ec(){return fj(Uc.apply(null,arguments).paddingInner(1))}function pw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Td(){}var Fc=.7,Rh=1/Fc,dl="\\s*([+-]?\\d+)\\s*",Vc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ma="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J9=/^#([0-9a-f]{3,8})$/,Q9=new RegExp(`^rgb\\(${dl},${dl},${dl}\\)$`),eV=new RegExp(`^rgb\\(${ma},${ma},${ma}\\)$`),tV=new RegExp(`^rgba\\(${dl},${dl},${dl},${Vc}\\)$`),nV=new RegExp(`^rgba\\(${ma},${ma},${ma},${Vc}\\)$`),rV=new RegExp(`^hsl\\(${Vc},${ma},${ma}\\)$`),aV=new RegExp(`^hsla\\(${Vc},${ma},${ma},${Vc}\\)$`),QM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pw(Td,zc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eD,formatHex:eD,formatHex8:iV,formatHsl:oV,formatRgb:tD,toString:tD});function eD(){return this.rgb().formatHex()}function iV(){return this.rgb().formatHex8()}function oV(){return mj(this).formatHsl()}function tD(){return this.rgb().formatRgb()}function zc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=J9.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?nD(e):n===3?new ir(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Q9.exec(t))?new ir(e[1],e[2],e[3],1):(e=eV.exec(t))?new ir(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tV.exec(t))?rh(e[1],e[2],e[3],e[4]):(e=nV.exec(t))?rh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rV.exec(t))?iD(e[1],e[2]/100,e[3]/100,1):(e=aV.exec(t))?iD(e[1],e[2]/100,e[3]/100,e[4]):QM.hasOwnProperty(t)?nD(QM[t]):t==="transparent"?new ir(NaN,NaN,NaN,0):null}function nD(t){return new ir(t>>16&255,t>>8&255,t&255,1)}function rh(t,e,n,r){return r<=0&&(t=e=n=NaN),new ir(t,e,n,r)}function sV(t){return t instanceof Td||(t=zc(t)),t?(t=t.rgb(),new ir(t.r,t.g,t.b,t.opacity)):new ir}function S_(t,e,n,r){return arguments.length===1?sV(t):new ir(t,e,n,r??1)}function ir(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}pw(ir,S_,hj(Td,{brighter(t){return t=t==null?Rh:Math.pow(Rh,t),new ir(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fc:Math.pow(Fc,t),new ir(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ir(Lo(this.r),Lo(this.g),Lo(this.b),Ih(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rD,formatHex:rD,formatHex8:lV,formatRgb:aD,toString:aD}));function rD(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}`}function lV(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}${Io((isNaN(this.opacity)?1:this.opacity)*255)}`}function aD(){const t=Ih(this.opacity);return`${t===1?"rgb(":"rgba("}${Lo(this.r)}, ${Lo(this.g)}, ${Lo(this.b)}${t===1?")":`, ${t})`}`}function Ih(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Lo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Io(t){return t=Lo(t),(t<16?"0":"")+t.toString(16)}function iD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xr(t,e,n,r)}function mj(t){if(t instanceof Xr)return new Xr(t.h,t.s,t.l,t.opacity);if(t instanceof Td||(t=zc(t)),!t)return new Xr;if(t instanceof Xr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,u=i-a,d=(i+a)/2;return u?(e===i?s=(n-r)/u+(n<r)*6:n===i?s=(r-e)/u+2:s=(e-n)/u+4,u/=d<.5?i+a:2-i-a,s*=60):u=d>0&&d<1?0:s,new Xr(s,u,d,t.opacity)}function uV(t,e,n,r){return arguments.length===1?mj(t):new Xr(t,e,n,r??1)}function Xr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}pw(Xr,uV,hj(Td,{brighter(t){return t=t==null?Rh:Math.pow(Rh,t),new Xr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fc:Math.pow(Fc,t),new Xr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new ir(Gb(t>=240?t-240:t+120,a,r),Gb(t,a,r),Gb(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Xr(oD(this.h),ah(this.s),ah(this.l),Ih(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ih(this.opacity);return`${t===1?"hsl(":"hsla("}${oD(this.h)}, ${ah(this.s)*100}%, ${ah(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oD(t){return t=(t||0)%360,t<0?t+360:t}function ah(t){return Math.max(0,Math.min(1,t||0))}function Gb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const gw=t=>()=>t;function cV(t,e){return function(n){return t+n*e}}function dV(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fV(t){return(t=+t)==1?pj:function(e,n){return n-e?dV(e,n,t):gw(isNaN(e)?n:e)}}function pj(t,e){var n=e-t;return n?cV(t,n):gw(isNaN(t)?e:t)}const sD=function t(e){var n=fV(e);function r(a,i){var s=n((a=S_(a)).r,(i=S_(i)).r),u=n(a.g,i.g),d=n(a.b,i.b),c=pj(a.opacity,i.opacity);return function(h){return a.r=s(h),a.g=u(h),a.b=d(h),a.opacity=c(h),a+""}}return r.gamma=t,r}(1);function hV(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function mV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pV(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)a[s]=Zl(t[s],e[s]);for(;s<n;++s)i[s]=e[s];return function(u){for(s=0;s<r;++s)i[s]=a[s](u);return i}}function gV(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function jh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vV(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Zl(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var w_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hb=new RegExp(w_.source,"g");function yV(t){return function(){return t}}function bV(t){return function(e){return t(e)+""}}function xV(t,e){var n=w_.lastIndex=Hb.lastIndex=0,r,a,i,s=-1,u=[],d=[];for(t=t+"",e=e+"";(r=w_.exec(t))&&(a=Hb.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),u[s]?u[s]+=i:u[++s]=i),(r=r[0])===(a=a[0])?u[s]?u[s]+=a:u[++s]=a:(u[++s]=null,d.push({i:s,x:jh(r,a)})),n=Hb.lastIndex;return n<e.length&&(i=e.slice(n),u[s]?u[s]+=i:u[++s]=i),u.length<2?d[0]?bV(d[0].x):yV(e):(e=d.length,function(c){for(var h=0,m;h<e;++h)u[(m=d[h]).i]=m.x(c);return u.join("")})}function Zl(t,e){var n=typeof e,r;return e==null||n==="boolean"?gw(e):(n==="number"?jh:n==="string"?(r=zc(e))?(e=r,sD):xV:e instanceof zc?sD:e instanceof Date?gV:mV(e)?hV:Array.isArray(e)?pV:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vV:jh)(t,e)}function vw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _V(t,e){e===void 0&&(e=t,t=Zl);for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return i[u](s-u)}}function SV(t){return function(){return t}}function $h(t){return+t}var lD=[0,1];function Yn(t){return t}function T_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:SV(isNaN(e)?NaN:.5)}function wV(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function TV(t,e,n){var r=t[0],a=t[1],i=e[0],s=e[1];return a<r?(r=T_(a,r),i=n(s,i)):(r=T_(r,a),i=n(i,s)),function(u){return i(r(u))}}function AV(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=T_(t[s],t[s+1]),i[s]=n(e[s],e[s+1]);return function(u){var d=wd(t,u,1,r)-1;return i[d](a[d](u))}}function Ad(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fm(){var t=lD,e=lD,n=Zl,r,a,i,s=Yn,u,d,c;function h(){var y=Math.min(t.length,e.length);return s!==Yn&&(s=wV(t[0],t[y-1])),u=y>2?AV:TV,d=c=null,m}function m(y){return y==null||isNaN(y=+y)?i:(d||(d=u(t.map(r),e,n)))(r(s(y)))}return m.invert=function(y){return s(a((c||(c=u(e,t.map(r),jh)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,$h),h()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),n=vw,h()},m.clamp=function(y){return arguments.length?(s=y?!0:Yn,h()):s!==Yn},m.interpolate=function(y){return arguments.length?(n=y,h()):n},m.unknown=function(y){return arguments.length?(i=y,m):i},function(y,_){return r=y,a=_,h()}}function yw(){return Fm()(Yn,Yn)}function EV(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Lh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _l(t){return t=Lh(Math.abs(t)),t?t[1]:NaN}function CV(t,e){return function(n,r){for(var a=n.length,i=[],s=0,u=t[0],d=0;a>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),i.push(n.substring(a-=u,a+u)),!((d+=u+1)>r));)u=t[s=(s+1)%t.length];return i.reverse().join(e)}}function kV(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var OV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gc(t){if(!(e=OV.exec(t)))throw new Error("invalid format: "+t);var e;return new bw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gc.prototype=bw.prototype;function bw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MV(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var gj;function DV(t,e){var n=Lh(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(gj=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Lh(t,Math.max(0,e+i-1))[0]}function uD(t,e){var n=Lh(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const cD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:EV,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uD(t*100,e),r:uD,s:DV,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dD(t){return t}var fD=Array.prototype.map,hD=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function NV(t){var e=t.grouping===void 0||t.thousands===void 0?dD:CV(fD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?dD:kV(fD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function c(m){m=Gc(m);var y=m.fill,_=m.align,w=m.sign,A=m.symbol,T=m.zero,k=m.width,M=m.comma,E=m.precision,D=m.trim,C=m.type;C==="n"?(M=!0,C="g"):cD[C]||(E===void 0&&(E=12),D=!0,C="g"),(T||y==="0"&&_==="=")&&(T=!0,y="0",_="=");var O=A==="$"?n:A==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=A==="$"?r:/[%p]/.test(C)?s:"",I=cD[C],q=/[defgprs%]/.test(C);E=E===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function z(L){var H=O,Q=P,Y,B,$;if(C==="c")Q=I(L)+Q,L="";else{L=+L;var V=L<0||1/L<0;if(L=isNaN(L)?d:I(Math.abs(L),E),D&&(L=MV(L)),V&&+L==0&&w!=="+"&&(V=!1),H=(V?w==="("?w:u:w==="-"||w==="("?"":w)+H,Q=(C==="s"?hD[8+gj/3]:"")+Q+(V&&w==="("?")":""),q){for(Y=-1,B=L.length;++Y<B;)if($=L.charCodeAt(Y),48>$||$>57){Q=($===46?a+L.slice(Y+1):L.slice(Y))+Q,L=L.slice(0,Y);break}}}M&&!T&&(L=e(L,1/0));var Z=H.length+L.length+Q.length,se=Z<k?new Array(k-Z+1).join(y):"";switch(M&&T&&(L=e(se+L,se.length?k-Q.length:1/0),se=""),_){case"<":L=H+L+Q+se;break;case"=":L=H+se+L+Q;break;case"^":L=se.slice(0,Z=se.length>>1)+H+L+Q+se.slice(Z);break;default:L=se+H+L+Q;break}return i(L)}return z.toString=function(){return m+""},z}function h(m,y){var _=c((m=Gc(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(_l(y)/3)))*3,A=Math.pow(10,-w),T=hD[8+w/3];return function(k){return _(A*k)+T}}return{format:c,formatPrefix:h}}var ih,xw,vj;PV({thousands:",",grouping:[3],currency:["$",""]});function PV(t){return ih=NV(t),xw=ih.format,vj=ih.formatPrefix,ih}function RV(t){return Math.max(0,-_l(Math.abs(t)))}function IV(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_l(e)/3)))*3-_l(Math.abs(t)))}function jV(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_l(e)-_l(t))+1}function yj(t,e,n,r){var a=x_(t,e,n),i;switch(r=Gc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=IV(a,s))&&(r.precision=i),vj(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=jV(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=RV(a))&&(r.precision=i-(r.type==="%")*2);break}}return xw(r)}function Zi(t){var e=t.domain;return t.ticks=function(n){var r=e();return y_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return yj(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,s=r[a],u=r[i],d,c,h=10;for(u<s&&(c=s,s=u,u=c,c=a,a=i,i=c);h-- >0;){if(c=b_(s,u,n),c===d)return r[a]=s,r[i]=u,e(r);if(c>0)s=Math.floor(s/c)*c,u=Math.ceil(u/c)*c;else if(c<0)s=Math.ceil(s*c)/c,u=Math.floor(u*c)/c;else break;d=c}return t},t}function Bh(){var t=yw();return t.copy=function(){return Ad(t,Bh())},$r.apply(t,arguments),Zi(t)}function bj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,$h),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return bj(t).unknown(e)},t=arguments.length?Array.from(t,$h):[0,1],Zi(n)}function xj(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],s;return i<a&&(s=n,n=r,r=s,s=a,a=i,i=s),t[n]=e.floor(a),t[r]=e.ceil(i),t}function mD(t){return Math.log(t)}function pD(t){return Math.exp(t)}function $V(t){return-Math.log(-t)}function LV(t){return-Math.exp(-t)}function BV(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qV(t){return t===10?BV:t===Math.E?Math.exp:e=>Math.pow(t,e)}function UV(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gD(t){return(e,n)=>-t(-e,n)}function _w(t){const e=t(mD,pD),n=e.domain;let r=10,a,i;function s(){return a=UV(r),i=qV(r),n()[0]<0?(a=gD(a),i=gD(i),t($V,LV)):t(mD,pD),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const d=n();let c=d[0],h=d[d.length-1];const m=h<c;m&&([c,h]=[h,c]);let y=a(c),_=a(h),w,A;const T=u==null?10:+u;let k=[];if(!(r%1)&&_-y<T){if(y=Math.floor(y),_=Math.ceil(_),c>0){for(;y<=_;++y)for(w=1;w<r;++w)if(A=y<0?w/i(-y):w*i(y),!(A<c)){if(A>h)break;k.push(A)}}else for(;y<=_;++y)for(w=r-1;w>=1;--w)if(A=y>0?w/i(-y):w*i(y),!(A<c)){if(A>h)break;k.push(A)}k.length*2<T&&(k=y_(c,h,T))}else k=y_(y,_,Math.min(_-y,T)).map(i);return m?k.reverse():k},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Gc(d)).precision==null&&(d.trim=!0),d=xw(d)),u===1/0)return d;const c=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/i(Math.round(a(h)));return m*r<r-.5&&(m*=r),m<=c?d(h):""}},e.nice=()=>n(xj(n(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),e}function _j(){const t=_w(Fm()).domain([1,10]);return t.copy=()=>Ad(t,_j()).base(t.base()),$r.apply(t,arguments),t}function vD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Sw(t){var e=1,n=t(vD(e),yD(e));return n.constant=function(r){return arguments.length?t(vD(e=+r),yD(e)):e},Zi(n)}function Sj(){var t=Sw(Fm());return t.copy=function(){return Ad(t,Sj()).constant(t.constant())},$r.apply(t,arguments)}function bD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function FV(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function VV(t){return t<0?-t*t:t*t}function ww(t){var e=t(Yn,Yn),n=1;function r(){return n===1?t(Yn,Yn):n===.5?t(FV,VV):t(bD(n),bD(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Zi(e)}function Tw(){var t=ww(Fm());return t.copy=function(){return Ad(t,Tw()).exponent(t.exponent())},$r.apply(t,arguments),t}function zV(){return Tw.apply(null,arguments).exponent(.5)}function xD(t){return Math.sign(t)*t*t}function GV(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function wj(){var t=yw(),e=[0,1],n=!1,r;function a(i){var s=GV(t(i));return isNaN(s)?r:n?Math.round(s):s}return a.invert=function(i){return t.invert(xD(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,$h)).map(xD)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return wj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},$r.apply(a,arguments),Zi(a)}function Tj(){var t=[],e=[],n=[],r;function a(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=X9(t,s/u);return i}function i(s){return s==null||isNaN(s=+s)?r:e[wd(n,s)]}return i.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Gi),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return Tj().domain(t).range(e).unknown(r)},$r.apply(i,arguments)}function Aj(){var t=0,e=1,n=1,r=[.5],a=[0,1],i;function s(d){return d!=null&&d<=d?a[wd(r,d,0,n)]:i}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return s}return s.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},s.range=function(d){return arguments.length?(n=(a=Array.from(d)).length-1,u()):a.slice()},s.invertExtent=function(d){var c=a.indexOf(d);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(d){return arguments.length&&(i=d),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Aj().domain([t,e]).range(a).unknown(i)},$r.apply(Zi(s),arguments)}function Ej(){var t=[.5],e=[0,1],n,r=1;function a(i){return i!=null&&i<=i?e[wd(t,i,0,r)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Ej().domain(t).range(e).unknown(n)},$r.apply(a,arguments)}const Kb=new Date,Yb=new Date;function gn(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),u=a.ceil(i);return i-s<u-i?s:u},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,u)=>{const d=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<s)||!(u>0))return d;let c;do d.push(c=new Date(+i)),e(i,u),t(i);while(c<i&&i<s);return d},a.filter=i=>gn(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!i(s););else for(;--u>=0;)for(;e(s,1),!i(s););}),n&&(a.count=(i,s)=>(Kb.setTime(+i),Yb.setTime(+s),t(Kb),t(Yb),Math.floor(n(Kb,Yb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?s=>r(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const qh=gn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);qh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):qh);qh.range;const Ga=1e3,Rr=Ga*60,Ha=Rr*60,Xa=Ha*24,Aw=Xa*7,_D=Xa*30,Wb=Xa*365,jo=gn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ga)},(t,e)=>(e-t)/Ga,t=>t.getUTCSeconds());jo.range;const Ew=gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ga)},(t,e)=>{t.setTime(+t+e*Rr)},(t,e)=>(e-t)/Rr,t=>t.getMinutes());Ew.range;const Cw=gn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Rr)},(t,e)=>(e-t)/Rr,t=>t.getUTCMinutes());Cw.range;const kw=gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ga-t.getMinutes()*Rr)},(t,e)=>{t.setTime(+t+e*Ha)},(t,e)=>(e-t)/Ha,t=>t.getHours());kw.range;const Ow=gn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ha)},(t,e)=>(e-t)/Ha,t=>t.getUTCHours());Ow.range;const Ed=gn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Rr)/Xa,t=>t.getDate()-1);Ed.range;const Vm=gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xa,t=>t.getUTCDate()-1);Vm.range;const Cj=gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Xa,t=>Math.floor(t/Xa));Cj.range;function Jo(t){return gn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Rr)/Aw)}const zm=Jo(0),Uh=Jo(1),HV=Jo(2),KV=Jo(3),Sl=Jo(4),YV=Jo(5),WV=Jo(6);zm.range;Uh.range;HV.range;KV.range;Sl.range;YV.range;WV.range;function Qo(t){return gn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Aw)}const Gm=Qo(0),Fh=Qo(1),XV=Qo(2),ZV=Qo(3),wl=Qo(4),JV=Qo(5),QV=Qo(6);Gm.range;Fh.range;XV.range;ZV.range;wl.range;JV.range;QV.range;const Mw=gn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Mw.range;const Dw=gn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Dw.range;const Za=gn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Za.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Za.range;const Ja=gn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ja.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ja.range;function kj(t,e,n,r,a,i){const s=[[jo,1,Ga],[jo,5,5*Ga],[jo,15,15*Ga],[jo,30,30*Ga],[i,1,Rr],[i,5,5*Rr],[i,15,15*Rr],[i,30,30*Rr],[a,1,Ha],[a,3,3*Ha],[a,6,6*Ha],[a,12,12*Ha],[r,1,Xa],[r,2,2*Xa],[n,1,Aw],[e,1,_D],[e,3,3*_D],[t,1,Wb]];function u(c,h,m){const y=h<c;y&&([c,h]=[h,c]);const _=m&&typeof m.range=="function"?m:d(c,h,m),w=_?_.range(c,+h+1):[];return y?w.reverse():w}function d(c,h,m){const y=Math.abs(h-c)/m,_=hw(([,,T])=>T).right(s,y);if(_===s.length)return t.every(x_(c/Wb,h/Wb,m));if(_===0)return qh.every(Math.max(x_(c,h,m),1));const[w,A]=s[y/s[_-1][2]<s[_][2]/y?_-1:_];return w.every(A)}return[u,d]}const[e7,t7]=kj(Ja,Dw,Gm,Cj,Ow,Cw),[n7,r7]=kj(Za,Mw,zm,Ed,kw,Ew);function Xb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function a7(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,s=t.shortDays,u=t.months,d=t.shortMonths,c=uc(a),h=cc(a),m=uc(i),y=cc(i),_=uc(s),w=cc(s),A=uc(u),T=cc(u),k=uc(d),M=cc(d),E={a:V,A:Z,b:se,B:U,c:null,d:CD,e:CD,f:C7,g:$7,G:B7,H:T7,I:A7,j:E7,L:Oj,m:k7,M:O7,p:G,q:re,Q:MD,s:DD,S:M7,u:D7,U:N7,V:P7,w:R7,W:I7,x:null,X:null,y:j7,Y:L7,Z:q7,"%":OD},D={a:ce,A:_e,b:ge,B:Ce,c:null,d:kD,e:kD,f:z7,g:ez,G:nz,H:U7,I:F7,j:V7,L:Dj,m:G7,M:H7,p:nt,q:Ye,Q:MD,s:DD,S:K7,u:Y7,U:W7,V:X7,w:Z7,W:J7,x:null,X:null,y:Q7,Y:tz,Z:rz,"%":OD},C={a:z,A:L,b:H,B:Q,c:Y,d:AD,e:AD,f:x7,g:TD,G:wD,H:ED,I:ED,j:g7,L:b7,m:p7,M:v7,p:q,q:m7,Q:S7,s:w7,S:y7,u:u7,U:c7,V:d7,w:l7,W:f7,x:B,X:$,y:TD,Y:wD,Z:h7,"%":_7};E.x=O(n,E),E.X=O(r,E),E.c=O(e,E),D.x=O(n,D),D.X=O(r,D),D.c=O(e,D);function O(Te,Le){return function(Ge){var me=[],dt=-1,Ze=0,Vt=Te.length,Nt,At,Yt;for(Ge instanceof Date||(Ge=new Date(+Ge));++dt<Vt;)Te.charCodeAt(dt)===37&&(me.push(Te.slice(Ze,dt)),(At=SD[Nt=Te.charAt(++dt)])!=null?Nt=Te.charAt(++dt):At=Nt==="e"?" ":"0",(Yt=Le[Nt])&&(Nt=Yt(Ge,At)),me.push(Nt),Ze=dt+1);return me.push(Te.slice(Ze,dt)),me.join("")}}function P(Te,Le){return function(Ge){var me=lc(1900,void 0,1),dt=I(me,Te,Ge+="",0),Ze,Vt;if(dt!=Ge.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Le&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Ze=Zb(lc(me.y,0,1)),Vt=Ze.getUTCDay(),Ze=Vt>4||Vt===0?Fh.ceil(Ze):Fh(Ze),Ze=Vm.offset(Ze,(me.V-1)*7),me.y=Ze.getUTCFullYear(),me.m=Ze.getUTCMonth(),me.d=Ze.getUTCDate()+(me.w+6)%7):(Ze=Xb(lc(me.y,0,1)),Vt=Ze.getDay(),Ze=Vt>4||Vt===0?Uh.ceil(Ze):Uh(Ze),Ze=Ed.offset(Ze,(me.V-1)*7),me.y=Ze.getFullYear(),me.m=Ze.getMonth(),me.d=Ze.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Vt="Z"in me?Zb(lc(me.y,0,1)).getUTCDay():Xb(lc(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Vt+5)%7:me.w+me.U*7-(Vt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,Zb(me)):Xb(me)}}function I(Te,Le,Ge,me){for(var dt=0,Ze=Le.length,Vt=Ge.length,Nt,At;dt<Ze;){if(me>=Vt)return-1;if(Nt=Le.charCodeAt(dt++),Nt===37){if(Nt=Le.charAt(dt++),At=C[Nt in SD?Le.charAt(dt++):Nt],!At||(me=At(Te,Ge,me))<0)return-1}else if(Nt!=Ge.charCodeAt(me++))return-1}return me}function q(Te,Le,Ge){var me=c.exec(Le.slice(Ge));return me?(Te.p=h.get(me[0].toLowerCase()),Ge+me[0].length):-1}function z(Te,Le,Ge){var me=_.exec(Le.slice(Ge));return me?(Te.w=w.get(me[0].toLowerCase()),Ge+me[0].length):-1}function L(Te,Le,Ge){var me=m.exec(Le.slice(Ge));return me?(Te.w=y.get(me[0].toLowerCase()),Ge+me[0].length):-1}function H(Te,Le,Ge){var me=k.exec(Le.slice(Ge));return me?(Te.m=M.get(me[0].toLowerCase()),Ge+me[0].length):-1}function Q(Te,Le,Ge){var me=A.exec(Le.slice(Ge));return me?(Te.m=T.get(me[0].toLowerCase()),Ge+me[0].length):-1}function Y(Te,Le,Ge){return I(Te,e,Le,Ge)}function B(Te,Le,Ge){return I(Te,n,Le,Ge)}function $(Te,Le,Ge){return I(Te,r,Le,Ge)}function V(Te){return s[Te.getDay()]}function Z(Te){return i[Te.getDay()]}function se(Te){return d[Te.getMonth()]}function U(Te){return u[Te.getMonth()]}function G(Te){return a[+(Te.getHours()>=12)]}function re(Te){return 1+~~(Te.getMonth()/3)}function ce(Te){return s[Te.getUTCDay()]}function _e(Te){return i[Te.getUTCDay()]}function ge(Te){return d[Te.getUTCMonth()]}function Ce(Te){return u[Te.getUTCMonth()]}function nt(Te){return a[+(Te.getUTCHours()>=12)]}function Ye(Te){return 1+~~(Te.getUTCMonth()/3)}return{format:function(Te){var Le=O(Te+="",E);return Le.toString=function(){return Te},Le},parse:function(Te){var Le=P(Te+="",!1);return Le.toString=function(){return Te},Le},utcFormat:function(Te){var Le=O(Te+="",D);return Le.toString=function(){return Te},Le},utcParse:function(Te){var Le=P(Te+="",!0);return Le.toString=function(){return Te},Le}}}var SD={"-":"",_:" ",0:"0"},En=/^\s*\d+/,i7=/^%/,o7=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function s7(t){return t.replace(o7,"\\$&")}function uc(t){return new RegExp("^(?:"+t.map(s7).join("|")+")","i")}function cc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function l7(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function u7(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function c7(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function d7(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function f7(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function wD(t,e,n){var r=En.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function TD(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function h7(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function m7(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function p7(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function AD(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function g7(t,e,n){var r=En.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ED(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function v7(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function y7(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function b7(t,e,n){var r=En.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function x7(t,e,n){var r=En.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _7(t,e,n){var r=i7.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function S7(t,e,n){var r=En.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function w7(t,e,n){var r=En.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function CD(t,e){return mt(t.getDate(),e,2)}function T7(t,e){return mt(t.getHours(),e,2)}function A7(t,e){return mt(t.getHours()%12||12,e,2)}function E7(t,e){return mt(1+Ed.count(Za(t),t),e,3)}function Oj(t,e){return mt(t.getMilliseconds(),e,3)}function C7(t,e){return Oj(t,e)+"000"}function k7(t,e){return mt(t.getMonth()+1,e,2)}function O7(t,e){return mt(t.getMinutes(),e,2)}function M7(t,e){return mt(t.getSeconds(),e,2)}function D7(t){var e=t.getDay();return e===0?7:e}function N7(t,e){return mt(zm.count(Za(t)-1,t),e,2)}function Mj(t){var e=t.getDay();return e>=4||e===0?Sl(t):Sl.ceil(t)}function P7(t,e){return t=Mj(t),mt(Sl.count(Za(t),t)+(Za(t).getDay()===4),e,2)}function R7(t){return t.getDay()}function I7(t,e){return mt(Uh.count(Za(t)-1,t),e,2)}function j7(t,e){return mt(t.getFullYear()%100,e,2)}function $7(t,e){return t=Mj(t),mt(t.getFullYear()%100,e,2)}function L7(t,e){return mt(t.getFullYear()%1e4,e,4)}function B7(t,e){var n=t.getDay();return t=n>=4||n===0?Sl(t):Sl.ceil(t),mt(t.getFullYear()%1e4,e,4)}function q7(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function kD(t,e){return mt(t.getUTCDate(),e,2)}function U7(t,e){return mt(t.getUTCHours(),e,2)}function F7(t,e){return mt(t.getUTCHours()%12||12,e,2)}function V7(t,e){return mt(1+Vm.count(Ja(t),t),e,3)}function Dj(t,e){return mt(t.getUTCMilliseconds(),e,3)}function z7(t,e){return Dj(t,e)+"000"}function G7(t,e){return mt(t.getUTCMonth()+1,e,2)}function H7(t,e){return mt(t.getUTCMinutes(),e,2)}function K7(t,e){return mt(t.getUTCSeconds(),e,2)}function Y7(t){var e=t.getUTCDay();return e===0?7:e}function W7(t,e){return mt(Gm.count(Ja(t)-1,t),e,2)}function Nj(t){var e=t.getUTCDay();return e>=4||e===0?wl(t):wl.ceil(t)}function X7(t,e){return t=Nj(t),mt(wl.count(Ja(t),t)+(Ja(t).getUTCDay()===4),e,2)}function Z7(t){return t.getUTCDay()}function J7(t,e){return mt(Fh.count(Ja(t)-1,t),e,2)}function Q7(t,e){return mt(t.getUTCFullYear()%100,e,2)}function ez(t,e){return t=Nj(t),mt(t.getUTCFullYear()%100,e,2)}function tz(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function nz(t,e){var n=t.getUTCDay();return t=n>=4||n===0?wl(t):wl.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function rz(){return"+0000"}function OD(){return"%"}function MD(t){return+t}function DD(t){return Math.floor(+t/1e3)}var Js,Pj,Rj;az({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function az(t){return Js=a7(t),Pj=Js.format,Js.parse,Rj=Js.utcFormat,Js.utcParse,Js}function iz(t){return new Date(t)}function oz(t){return t instanceof Date?+t:+new Date(+t)}function Nw(t,e,n,r,a,i,s,u,d,c){var h=yw(),m=h.invert,y=h.domain,_=c(".%L"),w=c(":%S"),A=c("%I:%M"),T=c("%I %p"),k=c("%a %d"),M=c("%b %d"),E=c("%B"),D=c("%Y");function C(O){return(d(O)<O?_:u(O)<O?w:s(O)<O?A:i(O)<O?T:r(O)<O?a(O)<O?k:M:n(O)<O?E:D)(O)}return h.invert=function(O){return new Date(m(O))},h.domain=function(O){return arguments.length?y(Array.from(O,oz)):y().map(iz)},h.ticks=function(O){var P=y();return t(P[0],P[P.length-1],O??10)},h.tickFormat=function(O,P){return P==null?C:c(P)},h.nice=function(O){var P=y();return(!O||typeof O.range!="function")&&(O=e(P[0],P[P.length-1],O??10)),O?y(xj(P,O)):h},h.copy=function(){return Ad(h,Nw(t,e,n,r,a,i,s,u,d,c))},h}function sz(){return $r.apply(Nw(n7,r7,Za,Mw,zm,Ed,kw,Ew,jo,Pj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lz(){return $r.apply(Nw(e7,t7,Ja,Dw,Gm,Vm,Ow,Cw,jo,Rj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hm(){var t=0,e=1,n,r,a,i,s=Yn,u=!1,d;function c(m){return m==null||isNaN(m=+m)?d:s(a===0?.5:(m=(i(m)-n)*a,u?Math.max(0,Math.min(1,m)):m))}c.domain=function(m){return arguments.length?([t,e]=m,n=i(t=+t),r=i(e=+e),a=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(m){return arguments.length?(u=!!m,c):u},c.interpolator=function(m){return arguments.length?(s=m,c):s};function h(m){return function(y){var _,w;return arguments.length?([_,w]=y,s=m(_,w),c):[s(0),s(1)]}}return c.range=h(Zl),c.rangeRound=h(vw),c.unknown=function(m){return arguments.length?(d=m,c):d},function(m){return i=m,n=m(t),r=m(e),a=n===r?0:1/(r-n),c}}function Ji(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ij(){var t=Zi(Hm()(Yn));return t.copy=function(){return Ji(t,Ij())},ri.apply(t,arguments)}function jj(){var t=_w(Hm()).domain([1,10]);return t.copy=function(){return Ji(t,jj()).base(t.base())},ri.apply(t,arguments)}function $j(){var t=Sw(Hm());return t.copy=function(){return Ji(t,$j()).constant(t.constant())},ri.apply(t,arguments)}function Pw(){var t=ww(Hm());return t.copy=function(){return Ji(t,Pw()).exponent(t.exponent())},ri.apply(t,arguments)}function uz(){return Pw.apply(null,arguments).exponent(.5)}function Lj(){var t=[],e=Yn;function n(r){if(r!=null&&!isNaN(r=+r))return e((wd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Gi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>W9(t,i/r))},n.copy=function(){return Lj(e).domain(t)},ri.apply(n,arguments)}function Km(){var t=0,e=.5,n=1,r=1,a,i,s,u,d,c=Yn,h,m=!1,y;function _(A){return isNaN(A=+A)?y:(A=.5+((A=+h(A))-i)*(r*A<r*i?u:d),c(m?Math.max(0,Math.min(1,A)):A))}_.domain=function(A){return arguments.length?([t,e,n]=A,a=h(t=+t),i=h(e=+e),s=h(n=+n),u=a===i?0:.5/(i-a),d=i===s?0:.5/(s-i),r=i<a?-1:1,_):[t,e,n]},_.clamp=function(A){return arguments.length?(m=!!A,_):m},_.interpolator=function(A){return arguments.length?(c=A,_):c};function w(A){return function(T){var k,M,E;return arguments.length?([k,M,E]=T,c=_V(A,[k,M,E]),_):[c(0),c(.5),c(1)]}}return _.range=w(Zl),_.rangeRound=w(vw),_.unknown=function(A){return arguments.length?(y=A,_):y},function(A){return h=A,a=A(t),i=A(e),s=A(n),u=a===i?0:.5/(i-a),d=i===s?0:.5/(s-i),r=i<a?-1:1,_}}function Bj(){var t=Zi(Km()(Yn));return t.copy=function(){return Ji(t,Bj())},ri.apply(t,arguments)}function qj(){var t=_w(Km()).domain([.1,1,10]);return t.copy=function(){return Ji(t,qj()).base(t.base())},ri.apply(t,arguments)}function Uj(){var t=Sw(Km());return t.copy=function(){return Ji(t,Uj()).constant(t.constant())},ri.apply(t,arguments)}function Rw(){var t=ww(Km());return t.copy=function(){return Ji(t,Rw()).exponent(t.exponent())},ri.apply(t,arguments)}function cz(){return Rw.apply(null,arguments).exponent(.5)}const ND=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Uc,scaleDiverging:Bj,scaleDivergingLog:qj,scaleDivergingPow:Rw,scaleDivergingSqrt:cz,scaleDivergingSymlog:Uj,scaleIdentity:bj,scaleImplicit:__,scaleLinear:Bh,scaleLog:_j,scaleOrdinal:mw,scalePoint:Ec,scalePow:Tw,scaleQuantile:Tj,scaleQuantize:Aj,scaleRadial:wj,scaleSequential:Ij,scaleSequentialLog:jj,scaleSequentialPow:Pw,scaleSequentialQuantile:Lj,scaleSequentialSqrt:uz,scaleSequentialSymlog:$j,scaleSqrt:zV,scaleSymlog:Sj,scaleThreshold:Ej,scaleTime:sz,scaleUtc:lz,tickFormat:yj},Symbol.toStringTag,{value:"Module"}));var Jb,PD;function Ym(){if(PD)return Jb;PD=1;var t=Kl();function e(n,r,a){for(var i=-1,s=n.length;++i<s;){var u=n[i],d=r(u);if(d!=null&&(c===void 0?d===d&&!t(d):a(d,c)))var c=d,h=u}return h}return Jb=e,Jb}var Qb,RD;function Fj(){if(RD)return Qb;RD=1;function t(e,n){return e>n}return Qb=t,Qb}var ex,ID;function dz(){if(ID)return ex;ID=1;var t=Ym(),e=Fj(),n=Wl();function r(a){return a&&a.length?t(a,n,e):void 0}return ex=r,ex}var fz=dz();const Wm=yt(fz);var tx,jD;function Vj(){if(jD)return tx;jD=1;function t(e,n){return e<n}return tx=t,tx}var nx,$D;function hz(){if($D)return nx;$D=1;var t=Ym(),e=Vj(),n=Wl();function r(a){return a&&a.length?t(a,n,e):void 0}return nx=r,nx}var mz=hz();const Xm=yt(mz);var rx,LD;function pz(){if(LD)return rx;LD=1;var t=XS(),e=_a(),n=XI(),r=or();function a(i,s){var u=r(i)?t:n;return u(i,e(s,3))}return rx=a,rx}var ax,BD;function gz(){if(BD)return ax;BD=1;var t=YI(),e=pz();function n(r,a){return t(e(r,a),1)}return ax=n,ax}var vz=gz();const yz=yt(vz);var ix,qD;function bz(){if(qD)return ix;qD=1;var t=uw();function e(n,r){return t(n,r)}return ix=e,ix}var xz=bz();const Zm=yt(xz);var Jl=1e9,_z={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jw,Ht=!0,jr="[DecimalError] ",Bo=jr+"Invalid argument: ",Iw=jr+"Exponent out of range: ",Ql=Math.floor,Do=Math.pow,Sz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,br,wn=1e7,Ft=7,zj=9007199254740991,Vh=Ql(zj/Ft),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,n,r,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};De.dividedBy=De.div=function(t){return Wa(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,n=e.constructor;return Dt(Wa(e,new n(t),0,1),n.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return ln(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,n=this,r=n.constructor,a=r.precision,i=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(br))throw Error(jr+"NaN");if(n.s<1)throw Error(jr+(n.s?"NaN":"-Infinity"));return n.eq(br)?new r(0):(Ht=!1,e=Wa(Hc(n,i),Hc(t,i),i),Ht=!0,Dt(e,a))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Kj(e,t):Gj(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(jr+"NaN");return n.s?(Ht=!1,e=Wa(n,t,0,1).times(t),Ht=!0,n.minus(e)):Dt(new r(n),a)};De.naturalExponential=De.exp=function(){return Hj(this)};De.naturalLogarithm=De.ln=function(){return Hc(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Gj(e,t):Kj(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bo+t);if(e=ln(a)+1,r=a.d.length-1,n=r*Ft+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};De.squareRoot=De.sqrt=function(){var t,e,n,r,a,i,s,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(jr+"NaN")}for(t=ln(u),Ht=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=da(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Ql((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(a.toString()),n=d.precision,a=s=n+3;;)if(i=r,r=i.plus(Wa(u,i,s+2)).times(.5),da(i.d).slice(0,s)===(e=da(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(Dt(i,n+1,0),i.times(i).eq(u)){r=i;break}}else if(e!="9999")break;s+=4}return Ht=!0,Dt(r,n)};De.times=De.mul=function(t){var e,n,r,a,i,s,u,d,c,h=this,m=h.constructor,y=h.d,_=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,d=y.length,c=_.length,d<c&&(i=y,y=_,_=i,s=d,d=c,c=s),i=[],s=d+c,r=s;r--;)i.push(0);for(r=c;--r>=0;){for(e=0,a=d+r;a>r;)u=i[a]+_[r]*y[a-r-1]+e,i[a--]=u%wn|0,e=u/wn|0;i[a]=(i[a]+e)%wn|0}for(;!i[--s];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,Ht?Dt(t,m.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(va(t,0,Jl),e===void 0?e=r.rounding:va(e,0,8),Dt(n,t+ln(n)+1,e))};De.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=zo(r,!0):(va(t,0,Jl),e===void 0?e=a.rounding:va(e,0,8),r=Dt(new a(r),t+1,e),n=zo(r,!0,t+1)),n};De.toFixed=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?zo(a):(va(t,0,Jl),e===void 0?e=i.rounding:va(e,0,8),r=Dt(new i(a),t+ln(a)+1,e),n=zo(r.abs(),!1,t+ln(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return Dt(new e(t),ln(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,n,r,a,i,s,u=this,d=u.constructor,c=12,h=+(t=new d(t));if(!t.s)return new d(br);if(u=new d(u),!u.s){if(t.s<1)throw Error(jr+"Infinity");return u}if(u.eq(br))return u;if(r=d.precision,t.eq(br))return Dt(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,i=u.s,s){if((n=h<0?-h:h)<=zj){for(a=new d(br),e=Math.ceil(r/Ft+4),Ht=!1;n%2&&(a=a.times(u),FD(a.d,e)),n=Ql(n/2),n!==0;)u=u.times(u),FD(u.d,e);return Ht=!0,t.s<0?new d(br).div(a):Dt(a,r)}}else if(i<0)throw Error(jr+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Ht=!1,a=t.times(Hc(u,r+c)),Ht=!0,a=Hj(a),a.s=i,a};De.toPrecision=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?(n=ln(a),r=zo(a,n<=i.toExpNeg||n>=i.toExpPos)):(va(t,1,Jl),e===void 0?e=i.rounding:va(e,0,8),a=Dt(new i(a),t,e),n=ln(a),r=zo(a,t<=n||n<=i.toExpNeg,t)),r};De.toSignificantDigits=De.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(va(t,1,Jl),e===void 0?e=r.rounding:va(e,0,8)),Dt(new r(n),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ln(t),n=t.constructor;return zo(t,e<=n.toExpNeg||e>=n.toExpPos)};function Gj(t,e){var n,r,a,i,s,u,d,c,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ht?Dt(e,m):e;if(d=t.d,c=e.d,s=t.e,a=e.e,d=d.slice(),i=s-a,i){for(i<0?(r=d,i=-i,u=c.length):(r=c,a=s,u=d.length),s=Math.ceil(m/Ft),u=s>u?s+1:u+1,i>u&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(u=d.length,i=c.length,u-i<0&&(i=u,r=c,c=d,d=r),n=0;i;)n=(d[--i]=d[i]+c[i]+n)/wn|0,d[i]%=wn;for(n&&(d.unshift(n),++a),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=a,Ht?Dt(e,m):e}function va(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Bo+t)}function da(t){var e,n,r,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)r=t[e]+"",n=Ft-r.length,n&&(i+=Bi(n)),i+=r;s=t[e],r=s+"",n=Ft-r.length,n&&(i+=Bi(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Wa=function(){function t(r,a){var i,s=0,u=r.length;for(r=r.slice();u--;)i=r[u]*a+s,r[u]=i%wn|0,s=i/wn|0;return s&&r.unshift(s),r}function e(r,a,i,s){var u,d;if(i!=s)d=i>s?1:-1;else for(u=d=0;u<i;u++)if(r[u]!=a[u]){d=r[u]>a[u]?1:-1;break}return d}function n(r,a,i){for(var s=0;i--;)r[i]-=s,s=r[i]<a[i]?1:0,r[i]=s*wn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,s){var u,d,c,h,m,y,_,w,A,T,k,M,E,D,C,O,P,I,q=r.constructor,z=r.s==a.s?1:-1,L=r.d,H=a.d;if(!r.s)return new q(r);if(!a.s)throw Error(jr+"Division by zero");for(d=r.e-a.e,P=H.length,C=L.length,_=new q(z),w=_.d=[],c=0;H[c]==(L[c]||0);)++c;if(H[c]>(L[c]||0)&&--d,i==null?M=i=q.precision:s?M=i+(ln(r)-ln(a))+1:M=i,M<0)return new q(0);if(M=M/Ft+2|0,c=0,P==1)for(h=0,H=H[0],M++;(c<C||h)&&M--;c++)E=h*wn+(L[c]||0),w[c]=E/H|0,h=E%H|0;else{for(h=wn/(H[0]+1)|0,h>1&&(H=t(H,h),L=t(L,h),P=H.length,C=L.length),D=P,A=L.slice(0,P),T=A.length;T<P;)A[T++]=0;I=H.slice(),I.unshift(0),O=H[0],H[1]>=wn/2&&++O;do h=0,u=e(H,A,P,T),u<0?(k=A[0],P!=T&&(k=k*wn+(A[1]||0)),h=k/O|0,h>1?(h>=wn&&(h=wn-1),m=t(H,h),y=m.length,T=A.length,u=e(m,A,y,T),u==1&&(h--,n(m,P<y?I:H,y))):(h==0&&(u=h=1),m=H.slice()),y=m.length,y<T&&m.unshift(0),n(A,m,T),u==-1&&(T=A.length,u=e(H,A,P,T),u<1&&(h++,n(A,P<T?I:H,T))),T=A.length):u===0&&(h++,A=[0]),w[c++]=h,u&&A[0]?A[T++]=L[D]||0:(A=[L[D]],T=1);while((D++<C||A[0]!==void 0)&&M--)}return w[0]||w.shift(),_.e=d,Dt(_,s?i+ln(_)+1:i)}}();function Hj(t,e){var n,r,a,i,s,u,d=0,c=0,h=t.constructor,m=h.precision;if(ln(t)>16)throw Error(Iw+ln(t));if(!t.s)return new h(br);for(Ht=!1,u=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Do(2,c))/Math.LN10*2+5|0,u+=r,n=a=i=new h(br),h.precision=u;;){if(a=Dt(a.times(t),u),n=n.times(++d),s=i.plus(Wa(a,n,u)),da(s.d).slice(0,u)===da(i.d).slice(0,u)){for(;c--;)i=Dt(i.times(i),u);return h.precision=m,e==null?(Ht=!0,Dt(i,m)):i}i=s}}function ln(t){for(var e=t.e*Ft,n=t.d[0];n>=10;n/=10)e++;return e}function ox(t,e,n){if(e>t.LN10.sd())throw Ht=!0,n&&(t.precision=n),Error(jr+"LN10 precision limit exceeded");return Dt(new t(t.LN10),e)}function Bi(t){for(var e="";t--;)e+="0";return e}function Hc(t,e){var n,r,a,i,s,u,d,c,h,m=1,y=10,_=t,w=_.d,A=_.constructor,T=A.precision;if(_.s<1)throw Error(jr+(_.s?"NaN":"-Infinity"));if(_.eq(br))return new A(0);if(e==null?(Ht=!1,c=T):c=e,_.eq(10))return e==null&&(Ht=!0),ox(A,c);if(c+=y,A.precision=c,n=da(w),r=n.charAt(0),i=ln(_),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=da(_.d),r=n.charAt(0),m++;i=ln(_),r>1?(_=new A("0."+n),i++):_=new A(r+"."+n.slice(1))}else return d=ox(A,c+2,T).times(i+""),_=Hc(new A(r+"."+n.slice(1)),c-y).plus(d),A.precision=T,e==null?(Ht=!0,Dt(_,T)):_;for(u=s=_=Wa(_.minus(br),_.plus(br),c),h=Dt(_.times(_),c),a=3;;){if(s=Dt(s.times(h),c),d=u.plus(Wa(s,new A(a),c)),da(d.d).slice(0,c)===da(u.d).slice(0,c))return u=u.times(2),i!==0&&(u=u.plus(ox(A,c+2,T).times(i+""))),u=Wa(u,new A(m),c),A.precision=T,e==null?(Ht=!0,Dt(u,T)):u;u=d,a+=2}}function UD(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Ql(n/Ft),t.d=[],r=(n+1)%Ft,n<0&&(r+=Ft),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Ft;r<a;)t.d.push(+e.slice(r,r+=Ft));e=e.slice(r),r=Ft-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Ht&&(t.e>Vh||t.e<-Vh))throw Error(Iw+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dt(t,e,n){var r,a,i,s,u,d,c,h,m=t.d;for(s=1,i=m[0];i>=10;i/=10)s++;if(r=e-s,r<0)r+=Ft,a=e,c=m[h=0];else{if(h=Math.ceil((r+1)/Ft),i=m.length,h>=i)return t;for(c=i=m[h],s=1;i>=10;i/=10)s++;r%=Ft,a=r-Ft+s}if(n!==void 0&&(i=Do(10,s-a-1),u=c/i%10|0,d=e<0||m[h+1]!==void 0||c%i,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?a>0?c/Do(10,s-a):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return d?(i=ln(t),m.length=1,e=e-i-1,m[0]=Do(10,(Ft-e%Ft)%Ft),t.e=Ql(-e/Ft)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,i=1,h--):(m.length=h+1,i=Do(10,Ft-r),m[h]=a>0?(c/Do(10,s-a)%Do(10,a)|0)*i:0),d)for(;;)if(h==0){(m[0]+=i)==wn&&(m[0]=1,++t.e);break}else{if(m[h]+=i,m[h]!=wn)break;m[h--]=0,i=1}for(r=m.length;m[--r]===0;)m.pop();if(Ht&&(t.e>Vh||t.e<-Vh))throw Error(Iw+ln(t));return t}function Kj(t,e){var n,r,a,i,s,u,d,c,h,m,y=t.constructor,_=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ht?Dt(e,_):e;if(d=t.d,m=e.d,r=e.e,c=t.e,d=d.slice(),s=c-r,s){for(h=s<0,h?(n=d,s=-s,u=m.length):(n=m,r=c,u=d.length),a=Math.max(Math.ceil(_/Ft),u)+2,s>a&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for(a=d.length,u=m.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(d[a]!=m[a]){h=d[a]<m[a];break}s=0}for(h&&(n=d,d=m,m=n,e.s=-e.s),u=d.length,a=m.length-u;a>0;--a)d[u++]=0;for(a=m.length;a>s;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=wn-1;--d[i],d[a]+=wn}d[a]-=m[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Ht?Dt(e,_):e):new y(0)}function zo(t,e,n){var r,a=ln(t),i=da(t.d),s=i.length;return e?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+Bi(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Bi(-a-1)+i,n&&(r=n-s)>0&&(i+=Bi(r))):a>=s?(i+=Bi(a+1-s),n&&(r=n-a-1)>0&&(i=i+"."+Bi(r))):((r=a+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(a+1===s&&(i+="."),i+=Bi(r))),t.s<0?"-"+i:i}function FD(t,e){if(t.length>e)return t.length=e,!0}function Yj(t){var e,n,r;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bo+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return UD(s,i.toString())}else if(typeof i!="string")throw Error(Bo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,Sz.test(i))UD(s,i);else throw Error(Bo+i)}if(a.prototype=De,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Yj,a.config=a.set=wz,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function wz(t){if(!t||typeof t!="object")throw Error(jr+"Object expected");var e,n,r,a=["precision",1,Jl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Ql(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(Bo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bo+n+": "+r);return this}var jw=Yj(_z);br=new jw(1);const Ot=jw;function Tz(t){return kz(t)||Cz(t)||Ez(t)||Az()}function Az(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ez(t,e){if(t){if(typeof t=="string")return A_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A_(t,e)}}function Cz(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function kz(t){if(Array.isArray(t))return A_(t)}function A_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Oz=function(e){return e},Wj={},Xj=function(e){return e===Wj},VD=function(e){return function n(){return arguments.length===0||arguments.length===1&&Xj(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Mz=function t(e,n){return e===1?n:VD(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var s=a.filter(function(u){return u!==Wj}).length;return s>=e?n.apply(void 0,a):t(e-s,VD(function(){for(var u=arguments.length,d=new Array(u),c=0;c<u;c++)d[c]=arguments[c];var h=a.map(function(m){return Xj(m)?d.shift():m});return n.apply(void 0,Tz(h).concat(d))}))})},Jm=function(e){return Mz(e.length,e)},E_=function(e,n){for(var r=[],a=e;a<n;++a)r[a-e]=a;return r},Dz=Jm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Nz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Oz;var a=n.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},C_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Zj=function(e){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n&&i.every(function(u,d){return u===n[d]})||(n=i,r=e.apply(void 0,i)),r}};function Pz(t){var e;return t===0?e=1:e=Math.floor(new Ot(t).abs().log(10).toNumber())+1,e}function Rz(t,e,n){for(var r=new Ot(t),a=0,i=[];r.lt(e)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var Iz=Jm(function(t,e,n){var r=+t,a=+e;return r+n*(a-r)}),jz=Jm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),$z=Jm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Qm={rangeStep:Rz,getDigitCount:Pz,interpolateNumber:Iz,uninterpolateNumber:jz,uninterpolateTruncation:$z};function k_(t){return qz(t)||Bz(t)||Jj(t)||Lz()}function Lz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bz(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qz(t){if(Array.isArray(t))return O_(t)}function Kc(t,e){return Vz(t)||Fz(t,e)||Jj(t,e)||Uz()}function Uz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jj(t,e){if(t){if(typeof t=="string")return O_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O_(t,e)}}function O_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fz(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),u;!(r=(u=s.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(d){a=!0,i=d}finally{try{!r&&s.return!=null&&s.return()}finally{if(a)throw i}}return n}}function Vz(t){if(Array.isArray(t))return t}function Qj(t){var e=Kc(t,2),n=e[0],r=e[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function e5(t,e,n){if(t.lte(0))return new Ot(0);var r=Qm.getDigitCount(t.toNumber()),a=new Ot(10).pow(r),i=t.div(a),s=r!==1?.05:.1,u=new Ot(Math.ceil(i.div(s).toNumber())).add(n).mul(s),d=u.mul(a);return e?d:new Ot(Math.ceil(d))}function zz(t,e,n){var r=1,a=new Ot(t);if(!a.isint()&&n){var i=Math.abs(t);i<1?(r=new Ot(10).pow(Qm.getDigitCount(t)-1),a=new Ot(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Ot(Math.floor(t)))}else t===0?a=new Ot(Math.floor((e-1)/2)):n||(a=new Ot(Math.floor(t)));var s=Math.floor((e-1)/2),u=Nz(Dz(function(d){return a.add(new Ot(d-s).mul(r)).toNumber()}),E_);return u(0,e)}function t5(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var i=e5(new Ot(e).sub(t).div(n-1),r,a),s;t<=0&&e>=0?s=new Ot(0):(s=new Ot(t).add(e).div(2),s=s.sub(new Ot(s).mod(i)));var u=Math.ceil(s.sub(t).div(i).toNumber()),d=Math.ceil(new Ot(e).sub(s).div(i).toNumber()),c=u+d+1;return c>n?t5(t,e,n,r,a+1):(c<n&&(d=e>0?d+(n-c):d,u=e>0?u:u+(n-c)),{step:i,tickMin:s.sub(new Ot(u).mul(i)),tickMax:s.add(new Ot(d).mul(i))})}function Gz(t){var e=Kc(t,2),n=e[0],r=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),u=Qj([n,r]),d=Kc(u,2),c=d[0],h=d[1];if(c===-1/0||h===1/0){var m=h===1/0?[c].concat(k_(E_(0,a-1).map(function(){return 1/0}))):[].concat(k_(E_(0,a-1).map(function(){return-1/0})),[h]);return n>r?C_(m):m}if(c===h)return zz(c,a,i);var y=t5(c,h,s,i),_=y.step,w=y.tickMin,A=y.tickMax,T=Qm.rangeStep(w,A.add(new Ot(.1).mul(_)),_);return n>r?C_(T):T}function Hz(t,e){var n=Kc(t,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Qj([r,a]),u=Kc(s,2),d=u[0],c=u[1];if(d===-1/0||c===1/0)return[r,a];if(d===c)return[d];var h=Math.max(e,2),m=e5(new Ot(c).sub(d).div(h-1),i,0),y=[].concat(k_(Qm.rangeStep(new Ot(d),new Ot(c).sub(new Ot(.99).mul(m)),m)),[c]);return r>a?C_(y):y}var Kz=Zj(Gz),Yz=Zj(Hz),Wz="Invariant failed";function Go(t,e){throw new Error(Wz)}var Xz=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function zh(){return zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zh.apply(this,arguments)}function Zz(t,e){return tG(t)||eG(t,e)||Qz(t,e)||Jz()}function Jz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qz(t,e){if(t){if(typeof t=="string")return zD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zD(t,e)}}function zD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function tG(t){if(Array.isArray(t))return t}function nG(t,e){if(t==null)return{};var n=rG(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a5(r.key),r)}}function oG(t,e,n){return e&&iG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sG(t,e,n){return e=Gh(e),lG(t,n5()?Reflect.construct(e,n||[],Gh(t).constructor):e.apply(t,n))}function lG(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uG(t)}function uG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n5=function(){return!!t})()}function Gh(t){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gh(t)}function cG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},M_(t,e)}function r5(t,e,n){return e=a5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a5(t){var e=dG(t,"string");return Tl(e)=="symbol"?e:e+""}function dG(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ep=function(t){function e(){return aG(this,e),sG(this,e,arguments)}return cG(e,t),oG(e,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,s=r.width,u=r.dataKey,d=r.data,c=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,y=nG(r,Xz),_=ze(y,!1);this.props.direction==="x"&&h.type!=="number"&&Go();var w=d.map(function(A){var T=c(A,u),k=T.x,M=T.y,E=T.value,D=T.errorVal;if(!D)return null;var C=[],O,P;if(Array.isArray(D)){var I=Zz(D,2);O=I[0],P=I[1]}else O=P=D;if(i==="vertical"){var q=h.scale,z=M+a,L=z+s,H=z-s,Q=q(E-O),Y=q(E+P);C.push({x1:Y,y1:L,x2:Y,y2:H}),C.push({x1:Q,y1:z,x2:Y,y2:z}),C.push({x1:Q,y1:L,x2:Q,y2:H})}else if(i==="horizontal"){var B=m.scale,$=k+a,V=$-s,Z=$+s,se=B(E-O),U=B(E+P);C.push({x1:V,y1:U,x2:Z,y2:U}),C.push({x1:$,y1:se,x2:$,y2:U}),C.push({x1:V,y1:se,x2:Z,y2:se})}return J.createElement(wt,zh({className:"recharts-errorBar",key:"bar-".concat(C.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},_),C.map(function(G){return J.createElement("line",zh({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return J.createElement(wt,{className:"recharts-errorBars"},w)}}])}(J.Component);r5(ep,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});r5(ep,"displayName","ErrorBar");function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){fG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fG(t,e,n){return e=hG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hG(t){var e=mG(t,"string");return Yc(e)=="symbol"?e:e+""}function mG(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i5=function(e){var n=e.children,r=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=yr(n,zi);if(!s)return null;var u=zi.defaultProps,d=u!==void 0?Ao(Ao({},u),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(r||[]).reduce(function(h,m){var y=m.item,_=m.props,w=_.sectors||_.data||[];return h.concat(w.map(function(A){return{type:s.props.iconType||y.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):c=(r||[]).map(function(h){var m=h.item,y=m.type.defaultProps,_=y!==void 0?Ao(Ao({},y),m.props):{},w=_.dataKey,A=_.name,T=_.legendType,k=_.hide;return{inactive:k,dataKey:w,type:d.iconType||T||"square",color:$w(m),value:A||w,payload:_}}),Ao(Ao(Ao({},d),zi.getWithHeight(s,a)),{},{payload:c,item:s})};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function HD(t){return yG(t)||vG(t)||gG(t)||pG()}function pG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gG(t,e){if(t){if(typeof t=="string")return D_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(t,e)}}function vG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yG(t){if(Array.isArray(t))return D_(t)}function D_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){fl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fl(t,e,n){return e=bG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bG(t){var e=xG(t,"string");return Wc(e)=="symbol"?e:e+""}function xG(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qn(t,e,n){return lt(t)||lt(e)?n:pn(e)?_r(t,e,n):He(e)?e(t):n}function Cc(t,e,n,r){var a=yz(t,function(u){return qn(u,e)});if(n==="number"){var i=a.filter(function(u){return Ae(u)||parseFloat(u)});return i.length?[Xm(i),Wm(i)]:[1/0,-1/0]}var s=r?a.filter(function(u){return!lt(u)}):a;return s.map(function(u){return pn(u)||u instanceof Date?u:""})}var _G=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,c=0;c<u;c++){var h=c>0?a[c-1].coordinate:a[u-1].coordinate,m=a[c].coordinate,y=c>=u-1?a[0].coordinate:a[c+1].coordinate,_=void 0;if(Hn(m-h)!==Hn(y-m)){var w=[];if(Hn(y-m)===Hn(d[1]-d[0])){_=y;var A=m+d[1]-d[0];w[0]=Math.min(A,(A+h)/2),w[1]=Math.max(A,(A+h)/2)}else{_=h;var T=y+d[1]-d[0];w[0]=Math.min(m,(T+m)/2),w[1]=Math.max(m,(T+m)/2)}var k=[Math.min(m,(_+m)/2),Math.max(m,(_+m)/2)];if(e>k[0]&&e<=k[1]||e>=w[0]&&e<=w[1]){s=a[c].index;break}}else{var M=Math.min(h,y),E=Math.max(h,y);if(e>(M+m)/2&&e<=(E+m)/2){s=a[c].index;break}}}else for(var D=0;D<u;D++)if(D===0&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D>0&&D<u-1&&e>(r[D].coordinate+r[D-1].coordinate)/2&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D===u-1&&e>(r[D].coordinate+r[D-1].coordinate)/2){s=r[D].index;break}return s},$w=function(e){var n,r=e,a=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,s=i.stroke,u=i.fill,d;switch(a){case"Line":d=s;break;case"Area":case"Radar":d=s&&s!=="none"?s:u;break;default:d=u;break}return d},SG=function(e){var n=e.barSize,r=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},u=Object.keys(i),d=0,c=u.length;d<c;d++)for(var h=i[u[d]].stackGroups,m=Object.keys(h),y=0,_=m.length;y<_;y++){var w=h[m[y]],A=w.items,T=w.cateAxisId,k=A.filter(function(P){return Ya(P.type).indexOf("Bar")>=0});if(k&&k.length){var M=k[0].type.defaultProps,E=M!==void 0?Zt(Zt({},M),k[0].props):k[0].props,D=E.barSize,C=E[T];s[C]||(s[C]=[]);var O=lt(D)?n:D;s[C].push({item:k[0],stackList:k.slice(1),barSize:lt(O)?void 0:Kn(O,r,0)})}}return s},wG=function(e){var n=e.barGap,r=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,u=e.maxBarSize,d=s.length;if(d<1)return null;var c=Kn(n,a,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var y=!1,_=a/d,w=s.reduce(function(D,C){return D+C.barSize||0},0);w+=(d-1)*c,w>=a&&(w-=(d-1)*c,c=0),w>=a&&_>0&&(y=!0,_*=.9,w=d*_);var A=(a-w)/2>>0,T={offset:A-c,size:0};h=s.reduce(function(D,C){var O={item:C.item,position:{offset:T.offset+T.size+c,size:y?_:C.barSize}},P=[].concat(HD(D),[O]);return T=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){P.push({item:I,position:T})}),P},m)}else{var k=Kn(r,a,0,!0);a-2*k-(d-1)*c<=0&&(c=0);var M=(a-2*k-(d-1)*c)/d;M>1&&(M>>=0);var E=u===+u?Math.min(M,u):M;h=s.reduce(function(D,C,O){var P=[].concat(HD(D),[{item:C.item,position:{offset:k+(M+c)*O+(M-E)/2,size:E}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){P.push({item:I,position:P[P.length-1].position})}),P},m)}return h},TG=function(e,n,r,a){var i=r.children,s=r.width,u=r.margin,d=s-(u.left||0)-(u.right||0),c=i5({children:i,legendWidth:d});if(c){var h=a||{},m=h.width,y=h.height,_=c.align,w=c.verticalAlign,A=c.layout;if((A==="vertical"||A==="horizontal"&&w==="middle")&&_!=="center"&&Ae(e[_]))return Zt(Zt({},e),{},fl({},_,e[_]+(m||0)));if((A==="horizontal"||A==="vertical"&&_==="center")&&w!=="middle"&&Ae(e[w]))return Zt(Zt({},e),{},fl({},w,e[w]+(y||0)))}return e},AG=function(e,n,r){return lt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},o5=function(e,n,r,a,i){var s=n.props.children,u=Ir(s,ep).filter(function(c){return AG(a,i,c.props.direction)});if(u&&u.length){var d=u.map(function(c){return c.props.dataKey});return e.reduce(function(c,h){var m=qn(h,r);if(lt(m))return c;var y=Array.isArray(m)?[Xm(m),Wm(m)]:[m,m],_=d.reduce(function(w,A){var T=qn(h,A,0),k=y[0]-Math.abs(Array.isArray(T)?T[0]:T),M=y[1]+Math.abs(Array.isArray(T)?T[1]:T);return[Math.min(k,w[0]),Math.max(M,w[1])]},[1/0,-1/0]);return[Math.min(_[0],c[0]),Math.max(_[1],c[1])]},[1/0,-1/0])}return null},EG=function(e,n,r,a,i){var s=n.map(function(u){return o5(e,u,r,i,a)}).filter(function(u){return!lt(u)});return s&&s.length?s.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},s5=function(e,n,r,a,i){var s=n.map(function(d){var c=d.props.dataKey;return r==="number"&&c&&o5(e,d,c,a)||Cc(e,c,r,i)});if(r==="number")return s.reduce(function(d,c){return[Math.min(d[0],c[0]),Math.max(d[1],c[1])]},[1/0,-1/0]);var u={};return s.reduce(function(d,c){for(var h=0,m=c.length;h<m;h++)u[c[h]]||(u[c[h]]=!0,d.push(c[h]));return d},[])},l5=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},u5=function(e,n,r,a){if(a)return e.map(function(d){return d.coordinate});var i,s,u=e.map(function(d){return d.coordinate===n&&(i=!0),d.coordinate===r&&(s=!0),d.coordinate});return i||u.push(n),s||u.push(r),u},Ka=function(e,n,r){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,u=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(n||r)&&s==="category"&&a.bandwidth?a.bandwidth()/d:0;if(c=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?Hn(u[0]-u[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var y=i?i.indexOf(m):m;return{coordinate:a(y)+c,value:m,offset:c}});return h.filter(function(m){return!xd(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:a(m)+c,value:m,index:y,offset:c}}):a.ticks&&!r?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+c,value:m,offset:c}}):a.domain().map(function(m,y){return{coordinate:a(m)+c,value:i?i[m]:m,index:y,offset:c}})},sx=new WeakMap,oh=function(e,n){if(typeof n!="function")return e;sx.has(e)||sx.set(e,new WeakMap);var r=sx.get(e);if(r.has(n))return r.get(n);var a=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},c5=function(e,n,r){var a=e.scale,i=e.type,s=e.layout,u=e.axisType;if(a==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Uc(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:Bh(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ec(),realScaleType:"point"}:i==="category"?{scale:Uc(),realScaleType:"band"}:{scale:Bh(),realScaleType:"linear"};if(Uo(a)){var d="scale".concat(Rm(a));return{scale:(ND[d]||Ec)(),realScaleType:ND[d]?d:"point"}}return He(a)?{scale:a}:{scale:Ec(),realScaleType:"point"}},YD=1e-4,d5=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,a=e.range(),i=Math.min(a[0],a[1])-YD,s=Math.max(a[0],a[1])+YD,u=e(n[0]),d=e(n[r-1]);(u<i||u>s||d<i||d>s)&&e.domain([n[0],n[r-1]])}},CG=function(e,n){if(!e)return null;for(var r=0,a=e.length;r<a;r++)if(e[r].item===n)return e[r].position;return null},kG=function(e,n){if(!n||n.length!==2||!Ae(n[0])||!Ae(n[1]))return e;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!Ae(e[0])||e[0]<r)&&(i[0]=r),(!Ae(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},OG=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,s=0,u=0;u<n;++u){var d=xd(e[u][r][1])?e[u][r][0]:e[u][r][1];d>=0?(e[u][r][0]=i,e[u][r][1]=i+d,i=e[u][r][1]):(e[u][r][0]=s,e[u][r][1]=s+d,s=e[u][r][1])}},MG=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,s=0;s<n;++s){var u=xd(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=i,e[s][r][1]=i+u,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},DG={sign:OG,expand:y6,none:gl,silhouette:b6,wiggle:x6,positive:MG},NG=function(e,n,r){var a=n.map(function(u){return u.props.dataKey}),i=DG[r],s=v6().keys(a).value(function(u,d){return+qn(u,d,0)}).order(s_).offset(i);return s(e)},PG=function(e,n,r,a,i,s){if(!e)return null;var u=s?n.reverse():n,d={},c=u.reduce(function(m,y){var _,w=(_=y.type)!==null&&_!==void 0&&_.defaultProps?Zt(Zt({},y.type.defaultProps),y.props):y.props,A=w.stackId,T=w.hide;if(T)return m;var k=w[r],M=m[k]||{hasStack:!1,stackGroups:{}};if(pn(A)){var E=M.stackGroups[A]||{numericAxisId:r,cateAxisId:a,items:[]};E.items.push(y),M.hasStack=!0,M.stackGroups[A]=E}else M.stackGroups[_d("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[y]};return Zt(Zt({},m),{},fl({},k,M))},d),h={};return Object.keys(c).reduce(function(m,y){var _=c[y];if(_.hasStack){var w={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(A,T){var k=_.stackGroups[T];return Zt(Zt({},A),{},fl({},T,{numericAxisId:r,cateAxisId:a,items:k.items,stackedData:NG(e,k.items,i)}))},w)}return Zt(Zt({},m),{},fl({},y,_))},h)},f5=function(e,n){var r=n.realScaleType,a=n.type,i=n.tickCount,s=n.originalDomain,u=n.allowDecimals,d=r||n.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var h=Kz(c,i,u);return e.domain([Xm(h),Wm(h)]),{niceTicks:h}}if(i&&a==="number"){var m=e.domain(),y=Yz(m,i,u);return{niceTicks:y}}return null},WD=function(e){var n=e.axis,r=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+a:null;var d=qn(s,n.dataKey,n.domain[u]);return lt(d)?null:n.scale(d)-i/2+a},RG=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},IG=function(e,n){var r,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(pn(i)){var s=n[i];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},jG=function(e){return e.reduce(function(n,r){return[Xm(r.concat([n[0]]).filter(Ae)),Wm(r.concat([n[1]]).filter(Ae))]},[1/0,-1/0])},h5=function(e,n,r){return Object.keys(e).reduce(function(a,i){var s=e[i],u=s.stackedData,d=u.reduce(function(c,h){var m=jG(h.slice(n,r+1));return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},XD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,N_=function(e,n,r){if(He(e))return e(n,r);if(!Array.isArray(e))return n;var a=[];if(Ae(e[0]))a[0]=r?e[0]:Math.min(e[0],n[0]);else if(XD.test(e[0])){var i=+XD.exec(e[0])[1];a[0]=n[0]-i}else He(e[0])?a[0]=e[0](n[0]):a[0]=n[0];if(Ae(e[1]))a[1]=r?e[1]:Math.max(e[1],n[1]);else if(ZD.test(e[1])){var s=+ZD.exec(e[1])[1];a[1]=n[1]+s}else He(e[1])?a[1]=e[1](n[1]):a[1]=n[1];return a},Hh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&n&&n.length>=2){for(var i=dw(n,function(m){return m.coordinate}),s=1/0,u=1,d=i.length;u<d;u++){var c=i[u],h=i[u-1];s=Math.min((c.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},JD=function(e,n,r){return!e||!e.length||Zm(e,_r(r,"type.defaultProps.domain"))?n:e},m5=function(e,n){var r=e.type.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,a=r.dataKey,i=r.name,s=r.unit,u=r.formatter,d=r.tooltipType,c=r.chartType,h=r.hide;return Zt(Zt({},ze(e,!1)),{},{dataKey:a,unit:s,formatter:u,name:i||a,color:$w(e),value:qn(n,a),type:d,payload:n,chartType:c,hide:h})};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){p5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p5(t,e,n){return e=$G(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $G(t){var e=LG(t,"string");return Xc(e)=="symbol"?e:e+""}function LG(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BG(t,e){return VG(t)||FG(t,e)||UG(t,e)||qG()}function qG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UG(t,e){if(t){if(typeof t=="string")return eN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eN(t,e)}}function eN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function VG(t){if(Array.isArray(t))return t}var Kh=Math.PI/180,zG=function(e){return e*180/Math.PI},Lt=function(e,n,r,a){return{x:e+Math.cos(-Kh*a)*r,y:n+Math.sin(-Kh*a)*r}},g5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},GG=function(e,n,r,a,i){var s=e.width,u=e.height,d=e.startAngle,c=e.endAngle,h=Kn(e.cx,s,s/2),m=Kn(e.cy,u,u/2),y=g5(s,u,r),_=Kn(e.innerRadius,y,0),w=Kn(e.outerRadius,y,y*.8),A=Object.keys(n);return A.reduce(function(T,k){var M=n[k],E=M.domain,D=M.reversed,C;if(lt(M.range))a==="angleAxis"?C=[d,c]:a==="radiusAxis"&&(C=[_,w]),D&&(C=[C[1],C[0]]);else{C=M.range;var O=C,P=BG(O,2);d=P[0],c=P[1]}var I=c5(M,i),q=I.realScaleType,z=I.scale;z.domain(E).range(C),d5(z);var L=f5(z,za(za({},M),{},{realScaleType:q})),H=za(za(za({},M),L),{},{range:C,radius:w,realScaleType:q,scale:z,cx:h,cy:m,innerRadius:_,outerRadius:w,startAngle:d,endAngle:c});return za(za({},T),{},p5({},k,H))},{})},HG=function(e,n){var r=e.x,a=e.y,i=n.x,s=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-s,2))},KG=function(e,n){var r=e.x,a=e.y,i=n.cx,s=n.cy,u=HG({x:r,y:a},{x:i,y:s});if(u<=0)return{radius:u};var d=(r-i)/u,c=Math.acos(d);return a>s&&(c=2*Math.PI-c),{radius:u,angle:zG(c),angleInRadian:c}},YG=function(e){var n=e.startAngle,r=e.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),s=Math.min(a,i);return{startAngle:n-s*360,endAngle:r-s*360}},WG=function(e,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),s=Math.floor(a/360),u=Math.min(i,s);return e+u*360},tN=function(e,n){var r=e.x,a=e.y,i=KG({x:r,y:a},n),s=i.radius,u=i.angle,d=n.innerRadius,c=n.outerRadius;if(s<d||s>c)return!1;if(s===0)return!0;var h=YG(n),m=h.startAngle,y=h.endAngle,_=u,w;if(m<=y){for(;_>y;)_-=360;for(;_<m;)_+=360;w=_>=m&&_<=y}else{for(;_>m;)_-=360;for(;_<y;)_+=360;w=_>=y&&_<=m}return w?za(za({},n),{},{radius:s,angle:WG(_,n)}):null},v5=function(e){return!j.isValidElement(e)&&!He(e)&&typeof e!="boolean"?e.className:""};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}var XG=["offset"];function ZG(t){return tH(t)||eH(t)||QG(t)||JG()}function JG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QG(t,e){if(t){if(typeof t=="string")return P_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(t,e)}}function eH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tH(t){if(Array.isArray(t))return P_(t)}function P_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nH(t,e){if(t==null)return{};var n=rH(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){aH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aH(t,e,n){return e=iH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iH(t){var e=oH(t,"string");return Zc(e)=="symbol"?e:e+""}function oH(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}var sH=function(e){var n=e.value,r=e.formatter,a=lt(e.children)?n:e.children;return He(r)?r(a):a},lH=function(e,n){var r=Hn(n-e),a=Math.min(Math.abs(n-e),360);return r*a},uH=function(e,n,r){var a=e.position,i=e.viewBox,s=e.offset,u=e.className,d=i,c=d.cx,h=d.cy,m=d.innerRadius,y=d.outerRadius,_=d.startAngle,w=d.endAngle,A=d.clockWise,T=(m+y)/2,k=lH(_,w),M=k>=0?1:-1,E,D;a==="insideStart"?(E=_+M*s,D=A):a==="insideEnd"?(E=w-M*s,D=!A):a==="end"&&(E=w+M*s,D=A),D=k<=0?D:!D;var C=Lt(c,h,T,E),O=Lt(c,h,T,E+(D?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(D?0:1,`,
    `).concat(O.x,",").concat(O.y),I=lt(e.id)?_d("recharts-radial-line-"):e.id;return J.createElement("text",Jc({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",u)}),J.createElement("defs",null,J.createElement("path",{id:I,d:P})),J.createElement("textPath",{xlinkHref:"#".concat(I)},n))},cH=function(e){var n=e.viewBox,r=e.offset,a=e.position,i=n,s=i.cx,u=i.cy,d=i.innerRadius,c=i.outerRadius,h=i.startAngle,m=i.endAngle,y=(h+m)/2;if(a==="outside"){var _=Lt(s,u,c+r,y),w=_.x,A=_.y;return{x:w,y:A,textAnchor:w>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var T=(d+c)/2,k=Lt(s,u,T,y),M=k.x,E=k.y;return{x:M,y:E,textAnchor:"middle",verticalAnchor:"middle"}},dH=function(e){var n=e.viewBox,r=e.parentViewBox,a=e.offset,i=e.position,s=n,u=s.x,d=s.y,c=s.width,h=s.height,m=h>=0?1:-1,y=m*a,_=m>0?"end":"start",w=m>0?"start":"end",A=c>=0?1:-1,T=A*a,k=A>0?"end":"start",M=A>0?"start":"end";if(i==="top"){var E={x:u+c/2,y:d-m*a,textAnchor:"middle",verticalAnchor:_};return mn(mn({},E),r?{height:Math.max(d-r.y,0),width:c}:{})}if(i==="bottom"){var D={x:u+c/2,y:d+h+y,textAnchor:"middle",verticalAnchor:w};return mn(mn({},D),r?{height:Math.max(r.y+r.height-(d+h),0),width:c}:{})}if(i==="left"){var C={x:u-T,y:d+h/2,textAnchor:k,verticalAnchor:"middle"};return mn(mn({},C),r?{width:Math.max(C.x-r.x,0),height:h}:{})}if(i==="right"){var O={x:u+c+T,y:d+h/2,textAnchor:M,verticalAnchor:"middle"};return mn(mn({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:h}:{})}var P=r?{width:c,height:h}:{};return i==="insideLeft"?mn({x:u+T,y:d+h/2,textAnchor:M,verticalAnchor:"middle"},P):i==="insideRight"?mn({x:u+c-T,y:d+h/2,textAnchor:k,verticalAnchor:"middle"},P):i==="insideTop"?mn({x:u+c/2,y:d+y,textAnchor:"middle",verticalAnchor:w},P):i==="insideBottom"?mn({x:u+c/2,y:d+h-y,textAnchor:"middle",verticalAnchor:_},P):i==="insideTopLeft"?mn({x:u+T,y:d+y,textAnchor:M,verticalAnchor:w},P):i==="insideTopRight"?mn({x:u+c-T,y:d+y,textAnchor:k,verticalAnchor:w},P):i==="insideBottomLeft"?mn({x:u+T,y:d+h-y,textAnchor:M,verticalAnchor:_},P):i==="insideBottomRight"?mn({x:u+c-T,y:d+h-y,textAnchor:k,verticalAnchor:_},P):Yl(i)&&(Ae(i.x)||Ro(i.x))&&(Ae(i.y)||Ro(i.y))?mn({x:u+Kn(i.x,c),y:d+Kn(i.y,h),textAnchor:"end",verticalAnchor:"end"},P):mn({x:u+c/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},fH=function(e){return"cx"in e&&Ae(e.cx)};function Tn(t){var e=t.offset,n=e===void 0?5:e,r=nH(t,XG),a=mn({offset:n},r),i=a.viewBox,s=a.position,u=a.value,d=a.children,c=a.content,h=a.className,m=h===void 0?"":h,y=a.textBreakAll;if(!i||lt(u)&&lt(d)&&!j.isValidElement(c)&&!He(c))return null;if(j.isValidElement(c))return j.cloneElement(c,a);var _;if(He(c)){if(_=j.createElement(c,a),j.isValidElement(_))return _}else _=sH(a);var w=fH(i),A=ze(a,!0);if(w&&(s==="insideStart"||s==="insideEnd"||s==="end"))return uH(a,_,A);var T=w?cH(a):dH(a);return J.createElement(Vo,Jc({className:at("recharts-label",m)},A,T,{breakAll:y}),_)}Tn.displayName="Label";var y5=function(e){var n=e.cx,r=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,u=e.r,d=e.radius,c=e.innerRadius,h=e.outerRadius,m=e.x,y=e.y,_=e.top,w=e.left,A=e.width,T=e.height,k=e.clockWise,M=e.labelViewBox;if(M)return M;if(Ae(A)&&Ae(T)){if(Ae(m)&&Ae(y))return{x:m,y,width:A,height:T};if(Ae(_)&&Ae(w))return{x:_,y:w,width:A,height:T}}return Ae(m)&&Ae(y)?{x:m,y,width:0,height:0}:Ae(n)&&Ae(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:h||d||u||0,clockWise:k}:e.viewBox?e.viewBox:{}},hH=function(e,n){return e?e===!0?J.createElement(Tn,{key:"label-implicit",viewBox:n}):pn(e)?J.createElement(Tn,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===Tn?j.cloneElement(e,{key:"label-implicit",viewBox:n}):J.createElement(Tn,{key:"label-implicit",content:e,viewBox:n}):He(e)?J.createElement(Tn,{key:"label-implicit",content:e,viewBox:n}):Yl(e)?J.createElement(Tn,Jc({viewBox:n},e,{key:"label-implicit"})):null:null},mH=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=y5(e),s=Ir(a,Tn).map(function(d,c){return j.cloneElement(d,{viewBox:n||i,key:"label-".concat(c)})});if(!r)return s;var u=hH(e.label,n||i);return[u].concat(ZG(s))};Tn.parseViewBox=y5;Tn.renderCallByParent=mH;var lx,rN;function pH(){if(rN)return lx;rN=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return lx=t,lx}var gH=pH();const vH=yt(gH);function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}var yH=["valueAccessor"],bH=["data","dataKey","clockWise","id","textBreakAll"];function xH(t){return TH(t)||wH(t)||SH(t)||_H()}function _H(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SH(t,e){if(t){if(typeof t=="string")return R_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R_(t,e)}}function wH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TH(t){if(Array.isArray(t))return R_(t)}function R_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yh(){return Yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yh.apply(this,arguments)}function aN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function iN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(n),!0).forEach(function(r){AH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AH(t,e,n){return e=EH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EH(t){var e=CH(t,"string");return Qc(e)=="symbol"?e:e+""}function CH(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oN(t,e){if(t==null)return{};var n=kH(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var OH=function(e){return Array.isArray(e.value)?vH(e.value):e.value};function Hi(t){var e=t.valueAccessor,n=e===void 0?OH:e,r=oN(t,yH),a=r.data,i=r.dataKey,s=r.clockWise,u=r.id,d=r.textBreakAll,c=oN(r,bH);return!a||!a.length?null:J.createElement(wt,{className:"recharts-label-list"},a.map(function(h,m){var y=lt(i)?n(h,m):qn(h&&h.payload,i),_=lt(u)?{}:{id:"".concat(u,"-").concat(m)};return J.createElement(Tn,Yh({},ze(h,!0),c,_,{parentViewBox:h.parentViewBox,value:y,textBreakAll:d,viewBox:Tn.parseViewBox(lt(s)?h:iN(iN({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}Hi.displayName="LabelList";function MH(t,e){return t?t===!0?J.createElement(Hi,{key:"labelList-implicit",data:e}):J.isValidElement(t)||He(t)?J.createElement(Hi,{key:"labelList-implicit",data:e,content:t}):Yl(t)?J.createElement(Hi,Yh({data:e},t,{key:"labelList-implicit"})):null:null}function DH(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,a=Ir(r,Hi).map(function(s,u){return j.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!n)return a;var i=MH(t.label,e);return[i].concat(xH(a))}Hi.renderCallByParent=DH;function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){NH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NH(t,e,n){return e=PH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PH(t){var e=RH(t,"string");return ed(e)=="symbol"?e:e+""}function RH(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IH=function(e,n){var r=Hn(n-e),a=Math.min(Math.abs(n-e),359.999);return r*a},sh=function(e){var n=e.cx,r=e.cy,a=e.radius,i=e.angle,s=e.sign,u=e.isExternal,d=e.cornerRadius,c=e.cornerIsExternal,h=d*(u?1:-1)+a,m=Math.asin(d/h)/Kh,y=c?i:i+s*m,_=Lt(n,r,h,y),w=Lt(n,r,a,y),A=c?i-s*m:i,T=Lt(n,r,h*Math.cos(m*Kh),A);return{center:_,circleTangency:w,lineTangency:T,theta:m}},b5=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,u=e.endAngle,d=IH(s,u),c=s+d,h=Lt(n,r,i,s),m=Lt(n,r,i,c),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>c),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var _=Lt(n,r,a,s),w=Lt(n,r,a,c);y+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=c),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},jH=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,c=e.startAngle,h=e.endAngle,m=Hn(h-c),y=sh({cx:n,cy:r,radius:i,angle:c,sign:m,cornerRadius:s,cornerIsExternal:d}),_=y.circleTangency,w=y.lineTangency,A=y.theta,T=sh({cx:n,cy:r,radius:i,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:d}),k=T.circleTangency,M=T.lineTangency,E=T.theta,D=d?Math.abs(c-h):Math.abs(c-h)-A-E;if(D<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):b5({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:h});var C="M ".concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
  `);if(a>0){var O=sh({cx:n,cy:r,radius:a,angle:c,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),P=O.circleTangency,I=O.lineTangency,q=O.theta,z=sh({cx:n,cy:r,radius:a,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),L=z.circleTangency,H=z.lineTangency,Q=z.theta,Y=d?Math.abs(c-h):Math.abs(c-h)-q-Q;if(Y<0&&s===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(H.x,",").concat(H.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(Y>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},$H={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},x5=function(e){var n=lN(lN({},$H),e),r=n.cx,a=n.cy,i=n.innerRadius,s=n.outerRadius,u=n.cornerRadius,d=n.forceCornerRadius,c=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,y=n.className;if(s<i||h===m)return null;var _=at("recharts-sector",y),w=s-i,A=Kn(u,w,0,!0),T;return A>0&&Math.abs(h-m)<360?T=jH({cx:r,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(A,w/2),forceCornerRadius:d,cornerIsExternal:c,startAngle:h,endAngle:m}):T=b5({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:h,endAngle:m}),J.createElement("path",I_({},ze(n,!0),{className:_,d:T,role:"img"}))};function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function uN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(n),!0).forEach(function(r){LH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LH(t,e,n){return e=BH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BH(t){var e=qH(t,"string");return td(e)=="symbol"?e:e+""}function qH(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dN={curveBasisClosed:o6,curveBasisOpen:s6,curveBasis:i6,curveBumpX:GU,curveBumpY:HU,curveLinearClosed:l6,curveLinear:jm,curveMonotoneX:u6,curveMonotoneY:c6,curveNatural:d6,curveStep:f6,curveStepAfter:m6,curveStepBefore:h6},lh=function(e){return e.x===+e.x&&e.y===+e.y},dc=function(e){return e.x},fc=function(e){return e.y},UH=function(e,n){if(He(e))return e;var r="curve".concat(Rm(e));return(r==="curveMonotone"||r==="curveBump")&&n?dN["".concat(r).concat(n==="vertical"?"Y":"X")]:dN[r]||jm},FH=function(e){var n=e.type,r=n===void 0?"linear":n,a=e.points,i=a===void 0?[]:a,s=e.baseLine,u=e.layout,d=e.connectNulls,c=d===void 0?!1:d,h=UH(r,u),m=c?i.filter(function(A){return lh(A)}):i,y;if(Array.isArray(s)){var _=c?s.filter(function(A){return lh(A)}):s,w=m.map(function(A,T){return cN(cN({},A),{},{base:_[T]})});return u==="vertical"?y=Qf().y(fc).x1(dc).x0(function(A){return A.base.x}):y=Qf().x(dc).y1(fc).y0(function(A){return A.base.y}),y.defined(lh).curve(h),y(w)}return u==="vertical"&&Ae(s)?y=Qf().y(fc).x1(dc).x0(s):Ae(s)?y=Qf().x(dc).y1(fc).y0(s):y=vI().x(dc).y(fc),y.defined(lh).curve(h),y(m)},$_=function(e){var n=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var s=r&&r.length?FH(e):a;return J.createElement("path",j_({},ze(e,!1),Sh(e),{className:at("recharts-curve",n),d:s,ref:i}))},ux={exports:{}},cx,fN;function VH(){if(fN)return cx;fN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cx=t,cx}var dx,hN;function zH(){if(hN)return dx;hN=1;var t=VH();function e(){}function n(){}return n.resetWarningCache=e,dx=function(){function r(s,u,d,c,h,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},dx}var mN;function GH(){return mN||(mN=1,ux.exports=zH()()),ux.exports}var HH=GH();const xt=yt(HH);var KH=Object.getOwnPropertyNames,YH=Object.getOwnPropertySymbols,WH=Object.prototype.hasOwnProperty;function pN(t,e){return function(r,a,i){return t(r,a,i)&&e(r,a,i)}}function uh(t){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,a);var i=a.cache,s=i.get(n),u=i.get(r);if(s&&u)return s===r&&u===n;i.set(n,r),i.set(r,n);var d=t(n,r,a);return i.delete(n),i.delete(r),d}}function gN(t){return KH(t).concat(YH(t))}var XH=Object.hasOwn||function(t,e){return WH.call(t,e)};function es(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ZH="__v",JH="__o",QH="_owner",vN=Object.getOwnPropertyDescriptor,yN=Object.keys;function eK(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function tK(t,e){return es(t.getTime(),e.getTime())}function nK(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function rK(t,e){return t===e}function bN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.entries(),s,u,d=0;(s=i.next())&&!s.done;){for(var c=e.entries(),h=!1,m=0;(u=c.next())&&!u.done;){if(a[m]){m++;continue}var y=s.value,_=u.value;if(n.equals(y[0],_[0],d,m,t,e,n)&&n.equals(y[1],_[1],y[0],_[0],t,e,n)){h=a[m]=!0;break}m++}if(!h)return!1;d++}return!0}var aK=es;function iK(t,e,n){var r=yN(t),a=r.length;if(yN(e).length!==a)return!1;for(;a-- >0;)if(!_5(t,e,n,r[a]))return!1;return!0}function hc(t,e,n){var r=gN(t),a=r.length;if(gN(e).length!==a)return!1;for(var i,s,u;a-- >0;)if(i=r[a],!_5(t,e,n,i)||(s=vN(t,i),u=vN(e,i),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function oK(t,e){return es(t.valueOf(),e.valueOf())}function sK(t,e){return t.source===e.source&&t.flags===e.flags}function xN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.values(),s,u;(s=i.next())&&!s.done;){for(var d=e.values(),c=!1,h=0;(u=d.next())&&!u.done;){if(!a[h]&&n.equals(s.value,u.value,s.value,u.value,t,e,n)){c=a[h]=!0;break}h++}if(!c)return!1}return!0}function lK(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function uK(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function _5(t,e,n,r){return(r===QH||r===JH||r===ZH)&&(t.$$typeof||e.$$typeof)?!0:XH(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var cK="[object Arguments]",dK="[object Boolean]",fK="[object Date]",hK="[object Error]",mK="[object Map]",pK="[object Number]",gK="[object Object]",vK="[object RegExp]",yK="[object Set]",bK="[object String]",xK="[object URL]",_K=Array.isArray,_N=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,SN=Object.assign,SK=Object.prototype.toString.call.bind(Object.prototype.toString);function wK(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,u=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(w,A,T){if(w===A)return!0;if(w==null||A==null)return!1;var k=typeof w;if(k!==typeof A)return!1;if(k!=="object")return k==="number"?s(w,A,T):k==="function"?a(w,A,T):!1;var M=w.constructor;if(M!==A.constructor)return!1;if(M===Object)return u(w,A,T);if(_K(w))return e(w,A,T);if(_N!=null&&_N(w))return m(w,A,T);if(M===Date)return n(w,A,T);if(M===RegExp)return c(w,A,T);if(M===Map)return i(w,A,T);if(M===Set)return h(w,A,T);var E=SK(w);return E===fK?n(w,A,T):E===vK?c(w,A,T):E===mK?i(w,A,T):E===yK?h(w,A,T):E===gK?typeof w.then!="function"&&typeof A.then!="function"&&u(w,A,T):E===xK?y(w,A,T):E===hK?r(w,A,T):E===cK?u(w,A,T):E===dK||E===pK||E===bK?d(w,A,T):!1}}function TK(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,a={areArraysEqual:r?hc:eK,areDatesEqual:tK,areErrorsEqual:nK,areFunctionsEqual:rK,areMapsEqual:r?pN(bN,hc):bN,areNumbersEqual:aK,areObjectsEqual:r?hc:iK,arePrimitiveWrappersEqual:oK,areRegExpsEqual:sK,areSetsEqual:r?pN(xN,hc):xN,areTypedArraysEqual:r?hc:lK,areUrlsEqual:uK};if(n&&(a=SN({},a,n(a))),e){var i=uh(a.areArraysEqual),s=uh(a.areMapsEqual),u=uh(a.areObjectsEqual),d=uh(a.areSetsEqual);a=SN({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:u,areSetsEqual:d})}return a}function AK(t){return function(e,n,r,a,i,s,u){return t(e,n,u)}}function EK(t){var e=t.circular,n=t.comparator,r=t.createState,a=t.equals,i=t.strict;if(r)return function(d,c){var h=r(),m=h.cache,y=m===void 0?e?new WeakMap:void 0:m,_=h.meta;return n(d,c,{cache:y,equals:a,meta:_,strict:i})};if(e)return function(d,c){return n(d,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(d,c){return n(d,c,s)}}var CK=Qi();Qi({strict:!0});Qi({circular:!0});Qi({circular:!0,strict:!0});Qi({createInternalComparator:function(){return es}});Qi({strict:!0,createInternalComparator:function(){return es}});Qi({circular:!0,createInternalComparator:function(){return es}});Qi({circular:!0,createInternalComparator:function(){return es},strict:!0});function Qi(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,u=TK(t),d=wK(u),c=r?r(d):AK(d);return EK({circular:n,comparator:d,createState:a,equals:c,strict:s})}function kK(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function wN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>e?(t(i),n=-1):kK(a)};requestAnimationFrame(r)}function L_(t){"@babel/helpers - typeof";return L_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L_(t)}function OK(t){return PK(t)||NK(t)||DK(t)||MK()}function MK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(t,e){if(t){if(typeof t=="string")return TN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TN(t,e)}}function TN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PK(t){if(Array.isArray(t))return t}function RK(){var t={},e=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var s=i,u=OK(s),d=u[0],c=u.slice(1);if(typeof d=="number"){wN(a.bind(null,c),d);return}a(d),wN(a.bind(null,c));return}L_(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function EN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){S5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S5(t,e,n){return e=IK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IK(t){var e=jK(t,"string");return nd(e)==="symbol"?e:String(e)}function jK(t,e){if(nd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $K=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},LK=function(e){return e},BK=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},kc=function(e,n){return Object.keys(n).reduce(function(r,a){return EN(EN({},r),{},S5({},a,e(a,n[a])))},{})},CN=function(e,n,r){return e.map(function(a){return"".concat(BK(a)," ").concat(n,"ms ").concat(r)}).join(",")};function qK(t,e){return VK(t)||FK(t,e)||w5(t,e)||UK()}function UK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function VK(t){if(Array.isArray(t))return t}function zK(t){return KK(t)||HK(t)||w5(t)||GK()}function GK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w5(t,e){if(t){if(typeof t=="string")return B_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(t,e)}}function HK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KK(t){if(Array.isArray(t))return B_(t)}function B_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wh=1e-4,T5=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},A5=function(e,n){return e.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},kN=function(e,n){return function(r){var a=T5(e,n);return A5(a,r)}},YK=function(e,n){return function(r){var a=T5(e,n),i=[].concat(zK(a.map(function(s,u){return s*u}).slice(1)),[0]);return A5(i,r)}},ON=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0],i=n[1],s=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,s=1,u=1;break;case"ease":a=.25,i=.1,s=.25,u=1;break;case"ease-in":a=.42,i=0,s=1,u=1;break;case"ease-out":a=.42,i=0,s=.58,u=1;break;case"ease-in-out":a=0,i=0,s=.58,u=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var c=d[1].split(")")[0].split(",").map(function(T){return parseFloat(T)}),h=qK(c,4);a=h[0],i=h[1],s=h[2],u=h[3]}}}var m=kN(a,s),y=kN(i,u),_=YK(a,s),w=function(k){return k>1?1:k<0?0:k},A=function(k){for(var M=k>1?1:k,E=M,D=0;D<8;++D){var C=m(E)-M,O=_(E);if(Math.abs(C-M)<Wh||O<Wh)return y(E);E=w(E-C/O)}return y(E)};return A.isStepper=!1,A},WK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,a=e.damping,i=a===void 0?8:a,s=e.dt,u=s===void 0?17:s,d=function(h,m,y){var _=-(h-m)*r,w=y*i,A=y+(_-w)*u/1e3,T=y*u/1e3+h;return Math.abs(T-m)<Wh&&Math.abs(A)<Wh?[m,0]:[T,A]};return d.isStepper=!0,d.dt=u,d},XK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ON(a);case"spring":return WK();default:if(a.split("(")[0]==="cubic-bezier")return ON(a)}return typeof a=="function"?a:null};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function MN(t){return QK(t)||JK(t)||E5(t)||ZK()}function ZK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QK(t){if(Array.isArray(t))return U_(t)}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q_(t,e,n){return e=eY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eY(t){var e=tY(t,"string");return rd(e)==="symbol"?e:String(e)}function tY(t,e){if(rd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nY(t,e){return iY(t)||aY(t,e)||E5(t,e)||rY()}function rY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E5(t,e){if(t){if(typeof t=="string")return U_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(t,e)}}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function iY(t){if(Array.isArray(t))return t}var Xh=function(e,n,r){return e+(n-e)*r},F_=function(e){var n=e.from,r=e.to;return n!==r},oY=function t(e,n,r){var a=kc(function(i,s){if(F_(s)){var u=e(s.from,s.to,s.velocity),d=nY(u,2),c=d[0],h=d[1];return Nn(Nn({},s),{},{from:c,velocity:h})}return s},n);return r<1?kc(function(i,s){return F_(s)?Nn(Nn({},s),{},{velocity:Xh(s.velocity,a[i].velocity,r),from:Xh(s.from,a[i].from,r)}):s},n):t(e,a,r-1)};const sY=function(t,e,n,r,a){var i=$K(t,e),s=i.reduce(function(T,k){return Nn(Nn({},T),{},q_({},k,[t[k],e[k]]))},{}),u=i.reduce(function(T,k){return Nn(Nn({},T),{},q_({},k,{from:t[k],velocity:0,to:e[k]}))},{}),d=-1,c,h,m=function(){return null},y=function(){return kc(function(k,M){return M.from},u)},_=function(){return!Object.values(u).filter(F_).length},w=function(k){c||(c=k);var M=k-c,E=M/n.dt;u=oY(n,u,E),a(Nn(Nn(Nn({},t),e),y())),c=k,_()||(d=requestAnimationFrame(m))},A=function(k){h||(h=k);var M=(k-h)/r,E=kc(function(C,O){return Xh.apply(void 0,MN(O).concat([n(M)]))},s);if(a(Nn(Nn(Nn({},t),e),E)),M<1)d=requestAnimationFrame(m);else{var D=kc(function(C,O){return Xh.apply(void 0,MN(O).concat([n(1)]))},s);a(Nn(Nn(Nn({},t),e),D))}};return m=n.isStepper?w:A,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}};function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}var lY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uY(t,e){if(t==null)return{};var n=cY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cY(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function fx(t){return mY(t)||hY(t)||fY(t)||dY()}function dY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fY(t,e){if(t){if(typeof t=="string")return V_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(t,e)}}function hY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mY(t){if(Array.isArray(t))return V_(t)}function V_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){bc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bc(t,e,n){return e=C5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C5(r.key),r)}}function vY(t,e,n){return e&&gY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C5(t){var e=yY(t,"string");return Al(e)==="symbol"?e:String(e)}function yY(t,e){if(Al(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},z_(t,e)}function xY(t){var e=_Y();return function(){var r=Zh(t),a;if(e){var i=Zh(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return G_(this,a)}}function G_(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H_(t)}function H_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zh(t){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zh(t)}var Qa=function(t){bY(n,t);var e=xY(n);function n(r,a){var i;pY(this,n),i=e.call(this,r,a);var s=i.props,u=s.isActive,d=s.attributeName,c=s.from,h=s.to,m=s.steps,y=s.children,_=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(H_(i)),i.changeStyle=i.changeStyle.bind(H_(i)),!u||_<=0)return i.state={style:{}},typeof y=="function"&&(i.state={style:h}),G_(i);if(m&&m.length)i.state={style:m[0].style};else if(c){if(typeof y=="function")return i.state={style:c},G_(i);i.state={style:d?bc({},d,c):c}}else i.state={style:{}};return i}return vY(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,u=i.canBegin,d=i.attributeName,c=i.shouldReAnimate,h=i.to,m=i.from,y=this.state.style;if(u){if(!s){var _={style:d?bc({},d,h):h};this.state&&y&&(d&&y[d]!==h||!d&&y!==h)&&this.setState(_);return}if(!(CK(a.to,h)&&a.canBegin&&a.isActive)){var w=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=w||c?m:a.to;if(this.state&&y){var T={style:d?bc({},d,A):A};(d&&y[d]!==A||!d&&y!==A)&&this.setState(T)}this.runAnimation(Gr(Gr({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,u=a.to,d=a.duration,c=a.easing,h=a.begin,m=a.onAnimationEnd,y=a.onAnimationStart,_=sY(s,u,XK(c),d,this.changeStyle),w=function(){i.stopJSAnimation=_()};this.manager.start([y,h,w,d,m])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,u=a.begin,d=a.onAnimationStart,c=s[0],h=c.style,m=c.duration,y=m===void 0?0:m,_=function(A,T,k){if(k===0)return A;var M=T.duration,E=T.easing,D=E===void 0?"ease":E,C=T.style,O=T.properties,P=T.onAnimationEnd,I=k>0?s[k-1]:T,q=O||Object.keys(C);if(typeof D=="function"||D==="spring")return[].concat(fx(A),[i.runJSAnimation.bind(i,{from:I.style,to:C,duration:M,easing:D}),M]);var z=CN(q,M,D),L=Gr(Gr(Gr({},I.style),C),{},{transition:z});return[].concat(fx(A),[L,M,P]).filter(LK)};return this.manager.start([d].concat(fx(s.reduce(_,[h,Math.max(y,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=RK());var i=a.begin,s=a.duration,u=a.attributeName,d=a.to,c=a.easing,h=a.onAnimationStart,m=a.onAnimationEnd,y=a.steps,_=a.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof c=="function"||typeof _=="function"||c==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var A=u?bc({},u,d):d,T=CN(Object.keys(A),s,c);w.start([h,i,Gr(Gr({},A),{},{transition:T}),s,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=uY(a,lY),c=j.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!u||c===0||s<=0)return i;var m=function(_){var w=_.props,A=w.style,T=A===void 0?{}:A,k=w.className,M=j.cloneElement(_,Gr(Gr({},d),{},{style:Gr(Gr({},T),h),className:k}));return M};return c===1?m(j.Children.only(i)):J.createElement("div",null,j.Children.map(i,function(y){return m(y)}))}}]),n}(j.PureComponent);Qa.displayName="Animate";Qa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qa.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jh.apply(this,arguments)}function SY(t,e){return EY(t)||AY(t,e)||TY(t,e)||wY()}function wY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TY(t,e){if(t){if(typeof t=="string")return PN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PN(t,e)}}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function EY(t){if(Array.isArray(t))return t}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function IN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){CY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CY(t,e,n){return e=kY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kY(t){var e=OY(t,"string");return ad(e)=="symbol"?e:e+""}function OY(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jN=function(e,n,r,a,i){var s=Math.min(Math.abs(r)/2,Math.abs(a)/2),u=a>=0?1:-1,d=r>=0?1:-1,c=a>=0&&r>=0||a<0&&r<0?1:0,h;if(s>0&&i instanceof Array){for(var m=[0,0,0,0],y=0,_=4;y<_;y++)m[y]=i[y]>s?s:i[y];h="M".concat(e,",").concat(n+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(c,",").concat(e+d*m[0],",").concat(n)),h+="L ".concat(e+r-d*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+u*m[1])),h+="L ".concat(e+r,",").concat(n+a-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(c,`,
        `).concat(e+r-d*m[2],",").concat(n+a)),h+="L ".concat(e+d*m[3],",").concat(n+a),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+a-u*m[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var w=Math.min(s,i);h="M ".concat(e,",").concat(n+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(e+d*w,",").concat(n,`
            L `).concat(e+r-d*w,",").concat(n,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(e+r,",").concat(n+u*w,`
            L `).concat(e+r,",").concat(n+a-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(e+r-d*w,",").concat(n+a,`
            L `).concat(e+d*w,",").concat(n+a,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(e,",").concat(n+a-u*w," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return h},MY=function(e,n){if(!e||!n)return!1;var r=e.x,a=e.y,i=n.x,s=n.y,u=n.width,d=n.height;if(Math.abs(u)>0&&Math.abs(d)>0){var c=Math.min(i,i+u),h=Math.max(i,i+u),m=Math.min(s,s+d),y=Math.max(s,s+d);return r>=c&&r<=h&&a>=m&&a<=y}return!1},DY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lw=function(e){var n=IN(IN({},DY),e),r=j.useRef(),a=j.useState(-1),i=SY(a,2),s=i[0],u=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&u(D)}catch{}},[]);var d=n.x,c=n.y,h=n.width,m=n.height,y=n.radius,_=n.className,w=n.animationEasing,A=n.animationDuration,T=n.animationBegin,k=n.isAnimationActive,M=n.isUpdateAnimationActive;if(d!==+d||c!==+c||h!==+h||m!==+m||h===0||m===0)return null;var E=at("recharts-rectangle",_);return M?J.createElement(Qa,{canBegin:s>0,from:{width:h,height:m,x:d,y:c},to:{width:h,height:m,x:d,y:c},duration:A,animationEasing:w,isActive:M},function(D){var C=D.width,O=D.height,P=D.x,I=D.y;return J.createElement(Qa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:A,isActive:k,easing:w},J.createElement("path",Jh({},ze(n,!0),{className:E,d:jN(P,I,C,O,y),ref:r})))}):J.createElement("path",Jh({},ze(n,!0),{className:E,d:jN(d,c,h,m,y)}))},NY=["points","className","baseLinePoints","connectNulls"];function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(this,arguments)}function PY(t,e){if(t==null)return{};var n=RY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $N(t){return LY(t)||$Y(t)||jY(t)||IY()}function IY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jY(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(t,e)}}function $Y(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LY(t){if(Array.isArray(t))return K_(t)}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var LN=function(e){return e&&e.x===+e.x&&e.y===+e.y},BY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){LN(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),LN(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Oc=function(e,n){var r=BY(e);n&&(r=[r.reduce(function(i,s){return[].concat($N(i),$N(s))},[])]);var a=r.map(function(i){return i.reduce(function(s,u,d){return"".concat(s).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},qY=function(e,n,r){var a=Oc(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Oc(n.reverse(),r).slice(1))},UY=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,s=PY(e,NY);if(!n||!n.length)return null;var u=at("recharts-polygon",r);if(a&&a.length){var d=s.stroke&&s.stroke!=="none",c=qY(n,a,i);return J.createElement("g",{className:u},J.createElement("path",al({},ze(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),d?J.createElement("path",al({},ze(s,!0),{fill:"none",d:Oc(n,i)})):null,d?J.createElement("path",al({},ze(s,!0),{fill:"none",d:Oc(a,i)})):null)}var h=Oc(n,i);return J.createElement("path",al({},ze(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(this,arguments)}var Bw=function(e){var n=e.cx,r=e.cy,a=e.r,i=e.className,s=at("recharts-dot",i);return n===+n&&r===+r&&a===+a?J.createElement("circle",Y_({},ze(e,!1),Sh(e),{className:s,cx:n,cy:r,r:a})):null};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}var FY=["x","y","top","left","width","height","className"];function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function VY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){zY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zY(t,e,n){return e=GY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GY(t){var e=HY(t,"string");return id(e)=="symbol"?e:e+""}function HY(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KY(t,e){if(t==null)return{};var n=YY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var WY=function(e,n,r,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(n,"h").concat(r)},XY=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,s=e.top,u=s===void 0?0:s,d=e.left,c=d===void 0?0:d,h=e.width,m=h===void 0?0:h,y=e.height,_=y===void 0?0:y,w=e.className,A=KY(e,FY),T=VY({x:r,y:i,top:u,left:c,width:m,height:_},A);return!Ae(r)||!Ae(i)||!Ae(m)||!Ae(_)||!Ae(u)||!Ae(c)?null:J.createElement("path",W_({},ze(T,!0),{className:at("recharts-cross",w),d:WY(r,i,m,_,u,c)}))},hx,qN;function ZY(){if(qN)return hx;qN=1;var t=Ym(),e=Fj(),n=_a();function r(a,i){return a&&a.length?t(a,n(i,2),e):void 0}return hx=r,hx}var JY=ZY();const QY=yt(JY);var mx,UN;function eW(){if(UN)return mx;UN=1;var t=Ym(),e=_a(),n=Vj();function r(a,i){return a&&a.length?t(a,e(i,2),n):void 0}return mx=r,mx}var tW=eW();const nW=yt(tW);var rW=["cx","cy","angle","ticks","axisLine"],aW=["ticks","tick","angle","tickFormatter","stroke"];function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){tp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VN(t,e){if(t==null)return{};var n=iW(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O5(r.key),r)}}function sW(t,e,n){return e&&zN(t.prototype,e),n&&zN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lW(t,e,n){return e=Qh(e),uW(t,k5()?Reflect.construct(e,n||[],Qh(t).constructor):e.apply(t,n))}function uW(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cW(t)}function cW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k5=function(){return!!t})()}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qh(t)}function dW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},X_(t,e)}function tp(t,e,n){return e=O5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O5(t){var e=fW(t,"string");return El(e)=="symbol"?e:e+""}function fW(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var np=function(t){function e(){return oW(this,e),lW(this,e,arguments)}return dW(e,t),sW(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,s=i.angle,u=i.cx,d=i.cy;return Lt(u,d,a,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,u=r.ticks,d=QY(u,function(h){return h.coordinate||0}),c=nW(u,function(h){return h.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,u=r.ticks,d=r.axisLine,c=VN(r,rW),h=u.reduce(function(w,A){return[Math.min(w[0],A.coordinate),Math.max(w[1],A.coordinate)]},[1/0,-1/0]),m=Lt(a,i,h[0],s),y=Lt(a,i,h[1],s),_=Eo(Eo(Eo({},ze(c,!1)),{},{fill:"none"},ze(d,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return J.createElement("line",Mc({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,u=a.angle,d=a.tickFormatter,c=a.stroke,h=VN(a,aW),m=this.getTickTextAnchor(),y=ze(h,!1),_=ze(s,!1),w=i.map(function(A,T){var k=r.getTickValueCoord(A),M=Eo(Eo(Eo(Eo({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(k.x,", ").concat(k.y,")")},y),{},{stroke:"none",fill:c},_),{},{index:T},k),{},{payload:A});return J.createElement(wt,Mc({className:at("recharts-polar-radius-axis-tick",v5(s)),key:"tick-".concat(A.coordinate)},Fo(r.props,A,T)),e.renderTickItem(s,M,d?d(A.value,T):A.value))});return J.createElement(wt,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,s=r.tick;return!a||!a.length?null:J.createElement(wt,{className:at("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Tn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var s;return J.isValidElement(r)?s=J.cloneElement(r,a):He(r)?s=r(a):s=J.createElement(Vo,Mc({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(j.PureComponent);tp(np,"displayName","PolarRadiusAxis");tp(np,"axisType","radiusAxis");tp(np,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Po(){return Po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Po.apply(this,arguments)}function GN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(n),!0).forEach(function(r){rp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D5(r.key),r)}}function mW(t,e,n){return e&&HN(t.prototype,e),n&&HN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pW(t,e,n){return e=em(e),gW(t,M5()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function gW(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vW(t)}function vW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M5=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function yW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Z_(t,e)}function rp(t,e,n){return e=D5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D5(t){var e=bW(t,"string");return Cl(e)=="symbol"?e:e+""}function bW(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xW=Math.PI/180,KN=1e-5,ap=function(t){function e(){return hW(this,e),pW(this,e,arguments)}return yW(e,t),mW(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,s=a.cy,u=a.radius,d=a.orientation,c=a.tickSize,h=c||8,m=Lt(i,s,u,r.coordinate),y=Lt(i,s,u+(d==="inner"?-1:1)*h,r.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*xW),s;return i>KN?s=a==="outer"?"start":"end":i<-KN?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.radius,u=r.axisLine,d=r.axisLineType,c=Co(Co({},ze(this.props,!1)),{},{fill:"none"},ze(u,!1));if(d==="circle")return J.createElement(Bw,Po({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:i,r:s}));var h=this.props.ticks,m=h.map(function(y){return Lt(a,i,s,y.coordinate)});return J.createElement(UY,Po({className:"recharts-polar-angle-axis-line"},c,{points:m}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,u=a.tickLine,d=a.tickFormatter,c=a.stroke,h=ze(this.props,!1),m=ze(s,!1),y=Co(Co({},h),{},{fill:"none"},ze(u,!1)),_=i.map(function(w,A){var T=r.getTickLineCoord(w),k=r.getTickTextAnchor(w),M=Co(Co(Co({textAnchor:k},h),{},{stroke:"none",fill:c},m),{},{index:A,payload:w,x:T.x2,y:T.y2});return J.createElement(wt,Po({className:at("recharts-polar-angle-axis-tick",v5(s)),key:"tick-".concat(w.coordinate)},Fo(r.props,w,A)),u&&J.createElement("line",Po({className:"recharts-polar-angle-axis-tick-line"},y,T)),s&&e.renderTickItem(s,M,d?d(w.value,A):w.value))});return J.createElement(wt,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,s=r.axisLine;return i<=0||!a||!a.length?null:J.createElement(wt,{className:at("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var s;return J.isValidElement(r)?s=J.cloneElement(r,a):He(r)?s=r(a):s=J.createElement(Vo,Po({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(j.PureComponent);rp(ap,"displayName","PolarAngleAxis");rp(ap,"axisType","angleAxis");rp(ap,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var px,YN;function _W(){if(YN)return px;YN=1;var t=qI(),e=t(Object.getPrototypeOf,Object);return px=e,px}var gx,WN;function SW(){if(WN)return gx;WN=1;var t=ti(),e=_W(),n=ni(),r="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,u=i.hasOwnProperty,d=s.call(Object);function c(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var y=u.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==d}return gx=c,gx}var wW=SW();const TW=yt(wW);var vx,XN;function AW(){if(XN)return vx;XN=1;var t=ti(),e=ni(),n="[object Boolean]";function r(a){return a===!0||a===!1||e(a)&&t(a)==n}return vx=r,vx}var EW=AW();const CW=yt(EW);function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}function kW(t,e){return NW(t)||DW(t,e)||MW(t,e)||OW()}function OW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MW(t,e){if(t){if(typeof t=="string")return ZN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZN(t,e)}}function ZN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function NW(t){if(Array.isArray(t))return t}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function QN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){PW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PW(t,e,n){return e=RW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RW(t){var e=IW(t,"string");return od(e)=="symbol"?e:e+""}function IW(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e2=function(e,n,r,a,i){var s=r-a,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-s/2,",").concat(n+i),u+="L ".concat(e+r-s/2-a,",").concat(n+i),u+="L ".concat(e,",").concat(n," Z"),u},jW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$W=function(e){var n=QN(QN({},jW),e),r=j.useRef(),a=j.useState(-1),i=kW(a,2),s=i[0],u=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&u(E)}catch{}},[]);var d=n.x,c=n.y,h=n.upperWidth,m=n.lowerWidth,y=n.height,_=n.className,w=n.animationEasing,A=n.animationDuration,T=n.animationBegin,k=n.isUpdateAnimationActive;if(d!==+d||c!==+c||h!==+h||m!==+m||y!==+y||h===0&&m===0||y===0)return null;var M=at("recharts-trapezoid",_);return k?J.createElement(Qa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:c},to:{upperWidth:h,lowerWidth:m,height:y,x:d,y:c},duration:A,animationEasing:w,isActive:k},function(E){var D=E.upperWidth,C=E.lowerWidth,O=E.height,P=E.x,I=E.y;return J.createElement(Qa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:A,easing:w},J.createElement("path",tm({},ze(n,!0),{className:M,d:e2(P,I,D,C,O),ref:r})))}):J.createElement("g",null,J.createElement("path",tm({},ze(n,!0),{className:M,d:e2(d,c,h,m,y)})))},LW=["option","shapeType","propTransformer","activeClassName","isActive"];function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function BW(t,e){if(t==null)return{};var n=qW(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){UW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UW(t,e,n){return e=FW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FW(t){var e=VW(t,"string");return sd(e)=="symbol"?e:e+""}function VW(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zW(t,e){return nm(nm({},e),t)}function GW(t,e){return t==="symbols"}function n2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return J.createElement(Lw,n);case"trapezoid":return J.createElement($W,n);case"sector":return J.createElement(x5,n);case"symbols":if(GW(e))return J.createElement(rw,n);break;default:return null}}function HW(t){return j.isValidElement(t)?t.props:t}function N5(t){var e=t.option,n=t.shapeType,r=t.propTransformer,a=r===void 0?zW:r,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,u=t.isActive,d=BW(t,LW),c;if(j.isValidElement(e))c=j.cloneElement(e,nm(nm({},d),HW(e)));else if(He(e))c=e(d);else if(TW(e)&&!CW(e)){var h=a(e,d);c=J.createElement(n2,{shapeType:n,elementProps:h})}else{var m=d;c=J.createElement(n2,{shapeType:n,elementProps:m})}return u?J.createElement(wt,{className:s},c):c}function ip(t,e){return e!=null&&"trapezoids"in t.props}function op(t,e){return e!=null&&"sectors"in t.props}function ld(t,e){return e!=null&&"points"in t.props}function KW(t,e){var n,r,a=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return a&&i}function YW(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function WW(t,e){var n=t.x===e.x,r=t.y===e.y,a=t.z===e.z;return n&&r&&a}function XW(t,e){var n;return ip(t,e)?n=KW:op(t,e)?n=YW:ld(t,e)&&(n=WW),n}function ZW(t,e){var n;return ip(t,e)?n="trapezoids":op(t,e)?n="sectors":ld(t,e)&&(n="points"),n}function JW(t,e){if(ip(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(op(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ld(t,e)?e.payload:{}}function QW(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,a=ZW(n,e),i=JW(n,e),s=r.filter(function(d,c){var h=Zm(i,d),m=n.props[a].filter(function(w){var A=XW(n,e);return A(w,e)}),y=n.props[a].indexOf(m[m.length-1]),_=c===y;return h&&_}),u=r.indexOf(s[s.length-1]);return u}var ph;function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(this,arguments)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){Pr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R5(r.key),r)}}function tX(t,e,n){return e&&a2(t.prototype,e),n&&a2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nX(t,e,n){return e=rm(e),rX(t,P5()?Reflect.construct(e,n||[],rm(t).constructor):e.apply(t,n))}function rX(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aX(t)}function aX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P5=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rm(t)}function iX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},J_(t,e)}function Pr(t,e,n){return e=R5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R5(t){var e=oX(t,"string");return kl(e)=="symbol"?e:e+""}function oX(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ai=function(t){function e(n){var r;return eX(this,e),r=nX(this,e,[n]),Pr(r,"pieRef",null),Pr(r,"sectorRefs",[]),Pr(r,"id",_d("recharts-pie-")),Pr(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),He(a)&&a()}),Pr(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),He(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return iX(e,t),tX(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,u=i.labelLine,d=i.dataKey,c=i.valueKey,h=ze(this.props,!1),m=ze(s,!1),y=ze(u,!1),_=s&&s.offsetRadius||20,w=r.map(function(A,T){var k=(A.startAngle+A.endAngle)/2,M=Lt(A.cx,A.cy,A.outerRadius+_,k),E=jt(jt(jt(jt({},h),A),{},{stroke:"none"},m),{},{index:T,textAnchor:e.getTextAnchor(M.x,A.cx)},M),D=jt(jt(jt(jt({},h),A),{},{fill:"none",stroke:A.fill},y),{},{index:T,points:[Lt(A.cx,A.cy,A.outerRadius,k),M]}),C=d;return lt(d)&&lt(c)?C="value":lt(d)&&(C=c),J.createElement(wt,{key:"label-".concat(A.startAngle,"-").concat(A.endAngle,"-").concat(A.midAngle,"-").concat(T)},u&&e.renderLabelLineItem(u,D,"line"),e.renderLabelItem(s,E,qn(A,C)))});return J.createElement(wt,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,s=i.activeShape,u=i.blendStroke,d=i.inactiveShape;return r.map(function(c,h){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var m=a.isActiveIndex(h),y=d&&a.hasActiveIndex()?d:null,_=m?s:y,w=jt(jt({},c),{},{stroke:u?c.fill:c.stroke,tabIndex:-1});return J.createElement(wt,il({ref:function(T){T&&!a.sectorRefs.includes(T)&&a.sectorRefs.push(T)},tabIndex:-1,className:"recharts-pie-sector"},Fo(a.props,c,h),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(h)}),J.createElement(N5,il({option:_,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,s=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,c=a.animationEasing,h=a.animationId,m=this.state,y=m.prevSectors,_=m.prevIsAnimationActive;return J.createElement(Qa,{begin:u,duration:d,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var A=w.t,T=[],k=i&&i[0],M=k.startAngle;return i.forEach(function(E,D){var C=y&&y[D],O=D>0?_r(E,"paddingAngle",0):0;if(C){var P=Li(C.endAngle-C.startAngle,E.endAngle-E.startAngle),I=jt(jt({},E),{},{startAngle:M+O,endAngle:M+P(A)+O});T.push(I),M=I.endAngle}else{var q=E.endAngle,z=E.startAngle,L=Li(0,q-z),H=L(A),Q=jt(jt({},E),{},{startAngle:M+O,endAngle:M+H+O});T.push(Q),M=Q.endAngle}}),J.createElement(wt,null,r.renderSectorsStatically(T))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Zm(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,s=a.sectors,u=a.className,d=a.label,c=a.cx,h=a.cy,m=a.innerRadius,y=a.outerRadius,_=a.isAnimationActive,w=this.state.isAnimationFinished;if(i||!s||!s.length||!Ae(c)||!Ae(h)||!Ae(m)||!Ae(y))return null;var A=at("recharts-pie",u);return J.createElement(wt,{tabIndex:this.props.rootTabIndex,className:A,ref:function(k){r.pieRef=k}},this.renderSectors(),d&&this.renderLabels(s),Tn.renderCallByParent(this.props,null,!1),(!_||w)&&Hi.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(J.isValidElement(r))return J.cloneElement(r,a);if(He(r))return r(a);var s=at("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return J.createElement($_,il({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,a,i){if(J.isValidElement(r))return J.cloneElement(r,a);var s=i;if(He(r)&&(s=r(a),J.isValidElement(s)))return s;var u=at("recharts-pie-label-text",typeof r!="boolean"&&!He(r)?r.className:"");return J.createElement(Vo,il({},a,{alignmentBaseline:"middle",className:u}),s)}}])}(j.PureComponent);ph=ai;Pr(ai,"displayName","Pie");Pr(ai,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Xl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Pr(ai,"parseDeltaAngle",function(t,e){var n=Hn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Pr(ai,"getRealPieData",function(t){var e=t.data,n=t.children,r=ze(t,!1),a=Ir(n,Um);return e&&e.length?e.map(function(i,s){return jt(jt(jt({payload:i},r),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return jt(jt({},r),i.props)}):[]});Pr(ai,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,a=e.width,i=e.height,s=g5(a,i),u=r+Kn(t.cx,a,a/2),d=n+Kn(t.cy,i,i/2),c=Kn(t.innerRadius,s,0),h=Kn(t.outerRadius,s,s*.8),m=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:u,cy:d,innerRadius:c,outerRadius:h,maxRadius:m}});Pr(ai,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?jt(jt({},e.type.defaultProps),e.props):e.props,a=ph.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,s=r.startAngle,u=r.endAngle,d=r.paddingAngle,c=r.dataKey,h=r.nameKey,m=r.valueKey,y=r.tooltipType,_=Math.abs(r.minAngle),w=ph.parseCoordinateOfPie(r,n),A=ph.parseDeltaAngle(s,u),T=Math.abs(A),k=c;lt(c)&&lt(m)?(Zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k="value"):lt(c)&&(Zr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k=m);var M=a.filter(function(I){return qn(I,k,0)!==0}).length,E=(T>=360?M:M-1)*d,D=T-M*_-E,C=a.reduce(function(I,q){var z=qn(q,k,0);return I+(Ae(z)?z:0)},0),O;if(C>0){var P;O=a.map(function(I,q){var z=qn(I,k,0),L=qn(I,h,q),H=(Ae(z)?z:0)/C,Q;q?Q=P.endAngle+Hn(A)*d*(z!==0?1:0):Q=s;var Y=Q+Hn(A)*((z!==0?_:0)+H*D),B=(Q+Y)/2,$=(w.innerRadius+w.outerRadius)/2,V=[{name:L,value:z,payload:I,dataKey:k,type:y}],Z=Lt(w.cx,w.cy,$,B);return P=jt(jt(jt({percent:H,cornerRadius:i,name:L,tooltipPayload:V,midAngle:B,middleRadius:$,tooltipPosition:Z},I),w),{},{value:qn(I,k),startAngle:Q,endAngle:Y,payload:I,paddingAngle:Hn(A)*d}),P})}return jt(jt({},w),{},{sectors:O,data:a})});var yx,i2;function sX(){if(i2)return yx;i2=1;var t=Math.ceil,e=Math.max;function n(r,a,i,s){for(var u=-1,d=e(t((a-r)/(i||1)),0),c=Array(d);d--;)c[s?d:++u]=r,r+=i;return c}return yx=n,yx}var bx,o2;function I5(){if(o2)return bx;o2=1;var t=nj(),e=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*n}return a===a?a:0}return bx=r,bx}var xx,s2;function lX(){if(s2)return xx;s2=1;var t=sX(),e=qm(),n=I5();function r(a){return function(i,s,u){return u&&typeof u!="number"&&e(i,s,u)&&(s=u=void 0),i=n(i),s===void 0?(s=i,i=0):s=n(s),u=u===void 0?i<s?1:-1:n(u),t(i,s,u,a)}}return xx=r,xx}var _x,l2;function uX(){if(l2)return _x;l2=1;var t=lX(),e=t();return _x=e,_x}var cX=uX();const am=yt(cX);function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function u2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function c2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(n),!0).forEach(function(r){j5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j5(t,e,n){return e=dX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dX(t){var e=fX(t,"string");return ud(e)=="symbol"?e:e+""}function fX(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hX=["Webkit","Moz","O","ms"],mX=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=hX.reduce(function(i,s){return c2(c2({},i),{},j5({},s+r,n))},{});return a[e]=n,a};function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}function d2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Sx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d2(Object(n),!0).forEach(function(r){vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L5(r.key),r)}}function gX(t,e,n){return e&&f2(t.prototype,e),n&&f2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vX(t,e,n){return e=om(e),yX(t,$5()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function yX(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bX(t)}function bX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($5=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function xX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q_(t,e)}function Q_(t,e){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Q_(t,e)}function vr(t,e,n){return e=L5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L5(t){var e=_X(t,"string");return Ol(e)=="symbol"?e:e+""}function _X(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SX=function(e){var n=e.data,r=e.startIndex,a=e.endIndex,i=e.x,s=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var d=n.length,c=Ec().domain(am(0,d)).range([i,i+s-u]),h=c.domain().map(function(m){return c(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(a),scale:c,scaleValues:h}},h2=function(e){return e.changedTouches&&!!e.changedTouches.length},Ml=function(t){function e(n){var r;return pX(this,e),r=vX(this,e,[n]),vr(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),vr(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),vr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,s=a.onDragEnd,u=a.startIndex;s==null||s({endIndex:i,startIndex:u})}),r.detachDragEndListener()}),vr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),vr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),vr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),vr(r,"handleSlideDragStart",function(a){var i=h2(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return xX(e,t),gX(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,s=this.state.scaleValues,u=this.props,d=u.gap,c=u.data,h=c.length-1,m=Math.min(a,i),y=Math.max(a,i),_=e.getIndexInRange(s,m),w=e.getIndexInRange(s,y);return{startIndex:_-_%d,endIndex:w===h?h:w-w%d}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,s=a.tickFormatter,u=a.dataKey,d=qn(i[r],u,r);return He(s)?s(d,r):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,s=a.startX,u=a.endX,d=this.props,c=d.x,h=d.width,m=d.travellerWidth,y=d.startIndex,_=d.endIndex,w=d.onChange,A=r.pageX-i;A>0?A=Math.min(A,c+h-m-u,c+h-m-s):A<0&&(A=Math.max(A,c-s,c-u));var T=this.getIndex({startX:s+A,endX:u+A});(T.startIndex!==y||T.endIndex!==_)&&w&&w(T),this.setState({startX:s+A,endX:u+A,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=h2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,u=a.endX,d=a.startX,c=this.state[s],h=this.props,m=h.x,y=h.width,_=h.travellerWidth,w=h.onChange,A=h.gap,T=h.data,k={startX:this.state.startX,endX:this.state.endX},M=r.pageX-i;M>0?M=Math.min(M,m+y-_-c):M<0&&(M=Math.max(M,m-c)),k[s]=c+M;var E=this.getIndex(k),D=E.startIndex,C=E.endIndex,O=function(){var I=T.length-1;return s==="startX"&&(u>d?D%A===0:C%A===0)||u<d&&C===I||s==="endX"&&(u>d?C%A===0:D%A===0)||u>d&&C===I};this.setState(vr(vr({},s,c+M),"brushMoveStartX",r.pageX),function(){w&&O()&&w(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,s=this.state,u=s.scaleValues,d=s.startX,c=s.endX,h=this.state[a],m=u.indexOf(h);if(m!==-1){var y=m+r;if(!(y===-1||y>=u.length)){var _=u[y];a==="startX"&&_>=c||a==="endX"&&_<=d||this.setState(vr({},a,_),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,d=r.fill,c=r.stroke;return J.createElement("rect",{stroke:c,fill:d,x:a,y:i,width:s,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,d=r.data,c=r.children,h=r.padding,m=j.Children.only(c);return m?J.cloneElement(m,{x:a,y:i,width:s,height:u,margin:h,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,s,u=this,d=this.props,c=d.y,h=d.travellerWidth,m=d.height,y=d.traveller,_=d.ariaLabel,w=d.data,A=d.startIndex,T=d.endIndex,k=Math.max(r,this.props.x),M=Sx(Sx({},ze(this.props,!1)),{},{x:k,y:c,width:h,height:m}),E=_||"Min value: ".concat((i=w[A])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=w[T])===null||s===void 0?void 0:s.name);return J.createElement(wt,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),u.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,M))}},{key:"renderSlide",value:function(r,a){var i=this.props,s=i.y,u=i.height,d=i.stroke,c=i.travellerWidth,h=Math.min(r,a)+c,m=Math.max(Math.abs(a-r)-c,0);return J.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:h,y:s,width:m,height:u})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,s=r.y,u=r.height,d=r.travellerWidth,c=r.stroke,h=this.state,m=h.startX,y=h.endX,_=5,w={pointerEvents:"none",fill:c};return J.createElement(wt,{className:"recharts-brush-texts"},J.createElement(Vo,im({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-_,y:s+u/2},w),this.getTextOfTick(a)),J.createElement(Vo,im({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+d+_,y:s+u/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,s=r.children,u=r.x,d=r.y,c=r.width,h=r.height,m=r.alwaysShowText,y=this.state,_=y.startX,w=y.endX,A=y.isTextActive,T=y.isSlideMoving,k=y.isTravellerMoving,M=y.isTravellerFocused;if(!a||!a.length||!Ae(u)||!Ae(d)||!Ae(c)||!Ae(h)||c<=0||h<=0)return null;var E=at("recharts-brush",i),D=J.Children.count(s)===1,C=mX("userSelect","none");return J.createElement(wt,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(_,w),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(w,"endX"),(A||T||k||M||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,s=r.width,u=r.height,d=r.stroke,c=Math.floor(i+u/2)-1;return J.createElement(J.Fragment,null,J.createElement("rect",{x:a,y:i,width:s,height:u,fill:d,stroke:"none"}),J.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),J.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return J.isValidElement(r)?i=J.cloneElement(r,a):He(r)?i=r(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,s=r.width,u=r.x,d=r.travellerWidth,c=r.updateId,h=r.startIndex,m=r.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return Sx({prevData:i,prevTravellerWidth:d,prevUpdateId:c,prevX:u,prevWidth:s},i&&i.length?SX({data:i,width:s,x:u,travellerWidth:d,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+s-d]);var y=a.scale.domain().map(function(_){return a.scale(_)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:c,prevX:u,prevWidth:s,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,s=0,u=i-1;u-s>1;){var d=Math.floor((s+u)/2);r[d]>a?u=d:s=d}return a>=r[u]?u:s}}])}(j.PureComponent);vr(Ml,"displayName","Brush");vr(Ml,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var wx,m2;function wX(){if(m2)return wx;m2=1;var t=cw();function e(n,r){var a;return t(n,function(i,s,u){return a=r(i,s,u),!a}),!!a}return wx=e,wx}var Tx,p2;function TX(){if(p2)return Tx;p2=1;var t=PI(),e=_a(),n=wX(),r=or(),a=qm();function i(s,u,d){var c=r(s)?t:n;return d&&a(s,u,d)&&(u=void 0),c(s,e(u,3))}return Tx=i,Tx}var AX=TX();const EX=yt(AX);var pa=function(e,n){var r=e.alwaysShow,a=e.ifOverflow;return r&&(a="extendDomain"),a===n},Ax,g2;function CX(){if(g2)return Ax;g2=1;var t=ZI();function e(n,r,a){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return Ax=e,Ax}var Ex,v2;function kX(){if(v2)return Ex;v2=1;var t=CX(),e=WI(),n=_a();function r(a,i){var s={};return i=n(i,3),e(a,function(u,d,c){t(s,d,i(u,d,c))}),s}return Ex=r,Ex}var OX=kX();const MX=yt(OX);var Cx,y2;function DX(){if(y2)return Cx;y2=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!n(e[r],r,e))return!1;return!0}return Cx=t,Cx}var kx,b2;function NX(){if(b2)return kx;b2=1;var t=cw();function e(n,r){var a=!0;return t(n,function(i,s,u){return a=!!r(i,s,u),a}),a}return kx=e,kx}var Ox,x2;function PX(){if(x2)return Ox;x2=1;var t=DX(),e=NX(),n=_a(),r=or(),a=qm();function i(s,u,d){var c=r(s)?t:e;return d&&a(s,u,d)&&(u=void 0),c(s,n(u,3))}return Ox=i,Ox}var RX=PX();const B5=yt(RX);var IX=["x","y"];function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(this,arguments)}function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){jX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jX(t,e,n){return e=$X(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $X(t){var e=LX(t,"string");return cd(e)=="symbol"?e:e+""}function LX(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BX(t,e){if(t==null)return{};var n=qX(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UX(t,e){var n=t.x,r=t.y,a=BX(t,IX),i="".concat(n),s=parseInt(i,10),u="".concat(r),d=parseInt(u,10),c="".concat(e.height||a.height),h=parseInt(c,10),m="".concat(e.width||a.width),y=parseInt(m,10);return mc(mc(mc(mc(mc({},e),a),s?{x:s}:{}),d?{y:d}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function S2(t){return J.createElement(N5,eS({shapeType:"rectangle",propTransformer:UX,activeClassName:"recharts-active-bar"},t))}var FX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof e=="number")return e;var i=typeof r=="number";return i?e(r,a):(i||Go(),n)}},VX=["value","background"],q5;function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function zX(t,e){if(t==null)return{};var n=GX(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sm.apply(this,arguments)}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){Vi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F5(r.key),r)}}function KX(t,e,n){return e&&T2(t.prototype,e),n&&T2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YX(t,e,n){return e=lm(e),WX(t,U5()?Reflect.construct(e,n||[],lm(t).constructor):e.apply(t,n))}function WX(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XX(t)}function XX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U5=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lm(t)}function ZX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tS(t,e)}function tS(t,e){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},tS(t,e)}function Vi(t,e,n){return e=F5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F5(t){var e=JX(t,"string");return Dl(e)=="symbol"?e:e+""}function JX(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ts=function(t){function e(){var n;HX(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=YX(this,e,[].concat(a)),Vi(n,"state",{isAnimationFinished:!1}),Vi(n,"id",_d("recharts-bar-")),Vi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Vi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return ZX(e,t),KX(e,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,s=i.shape,u=i.dataKey,d=i.activeIndex,c=i.activeBar,h=ze(this.props,!1);return r&&r.map(function(m,y){var _=y===d,w=_?c:s,A=on(on(on({},h),m),{},{isActive:_,option:w,index:y,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return J.createElement(wt,sm({className:"recharts-bar-rectangle"},Fo(a.props,m,y),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y)}),J.createElement(S2,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,s=a.layout,u=a.isAnimationActive,d=a.animationBegin,c=a.animationDuration,h=a.animationEasing,m=a.animationId,y=this.state.prevData;return J.createElement(Qa,{begin:d,duration:c,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t,A=i.map(function(T,k){var M=y&&y[k];if(M){var E=Li(M.x,T.x),D=Li(M.y,T.y),C=Li(M.width,T.width),O=Li(M.height,T.height);return on(on({},T),{},{x:E(w),y:D(w),width:C(w),height:O(w)})}if(s==="horizontal"){var P=Li(0,T.height),I=P(w);return on(on({},T),{},{y:T.y+T.height-I,height:I})}var q=Li(0,T.width),z=q(w);return on(on({},T),{},{width:z})});return J.createElement(wt,null,r.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Zm(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,s=a.dataKey,u=a.activeIndex,d=ze(this.props.background,!1);return i.map(function(c,h){c.value;var m=c.background,y=zX(c,VX);if(!m)return null;var _=on(on(on(on(on({},y),{},{fill:"#eee"},m),d),Fo(r.props,c,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return J.createElement(S2,sm({key:"background-bar-".concat(h),option:r.props.background,isActive:h===u},_))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,u=i.xAxis,d=i.yAxis,c=i.layout,h=i.children,m=Ir(h,ep);if(!m)return null;var y=c==="vertical"?s[0].height/2:s[0].width/2,_=function(T,k){var M=Array.isArray(T.value)?T.value[1]:T.value;return{x:T.x,y:T.y,value:M,errorVal:qn(T,k)}},w={clipPath:r?"url(#clipPath-".concat(a,")"):null};return J.createElement(wt,w,m.map(function(A){return J.cloneElement(A,{key:"error-bar-".concat(a,"-").concat(A.props.dataKey),data:s,xAxis:u,yAxis:d,layout:c,offset:y,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,s=r.className,u=r.xAxis,d=r.yAxis,c=r.left,h=r.top,m=r.width,y=r.height,_=r.isAnimationActive,w=r.background,A=r.id;if(a||!i||!i.length)return null;var T=this.state.isAnimationFinished,k=at("recharts-bar",s),M=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,D=M||E,C=lt(A)?this.id:A;return J.createElement(wt,{className:k},M||E?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(C)},J.createElement("rect",{x:M?c:c-m/2,y:E?h:h-y/2,width:M?m:m*2,height:E?y:y*2}))):null,J.createElement(wt,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(C,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,C),(!_||T)&&Hi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(j.PureComponent);q5=ts;Vi(ts,"displayName","Bar");Vi(ts,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vi(ts,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,c=t.stackedData,h=t.dataStartIndex,m=t.displayedData,y=t.offset,_=CG(r,n);if(!_)return null;var w=e.layout,A=n.type.defaultProps,T=A!==void 0?on(on({},A),n.props):n.props,k=T.dataKey,M=T.children,E=T.minPointSize,D=w==="horizontal"?s:i,C=c?D.scale.domain():null,O=RG({numericAxis:D}),P=Ir(M,Um),I=m.map(function(q,z){var L,H,Q,Y,B,$;c?L=kG(c[h+z],C):(L=qn(q,k),Array.isArray(L)||(L=[O,L]));var V=FX(E,q5.defaultProps.minPointSize)(L[1],z);if(w==="horizontal"){var Z,se=[s.scale(L[0]),s.scale(L[1])],U=se[0],G=se[1];H=WD({axis:i,ticks:u,bandSize:a,offset:_.offset,entry:q,index:z}),Q=(Z=G??U)!==null&&Z!==void 0?Z:void 0,Y=_.size;var re=U-G;if(B=Number.isNaN(re)?0:re,$={x:H,y:s.y,width:Y,height:s.height},Math.abs(V)>0&&Math.abs(B)<Math.abs(V)){var ce=Hn(B||V)*(Math.abs(V)-Math.abs(B));Q-=ce,B+=ce}}else{var _e=[i.scale(L[0]),i.scale(L[1])],ge=_e[0],Ce=_e[1];if(H=ge,Q=WD({axis:s,ticks:d,bandSize:a,offset:_.offset,entry:q,index:z}),Y=Ce-ge,B=_.size,$={x:i.x,y:Q,width:i.width,height:B},Math.abs(V)>0&&Math.abs(Y)<Math.abs(V)){var nt=Hn(Y||V)*(Math.abs(V)-Math.abs(Y));Y+=nt}}return on(on(on({},q),{},{x:H,y:Q,width:Y,height:B,value:c?L:L[1],payload:q,background:$},P&&P[z]&&P[z].props),{},{tooltipPayload:[m5(n,q)],tooltipPosition:{x:H+Y/2,y:Q+B/2}})});return on({data:I,layout:w},y)});function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function QX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V5(r.key),r)}}function eZ(t,e,n){return e&&A2(t.prototype,e),n&&A2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){sp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sp(t,e,n){return e=V5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V5(t){var e=tZ(t,"string");return dd(e)=="symbol"?e:e+""}function tZ(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nZ=function(e,n,r,a,i){var s=e.width,u=e.height,d=e.layout,c=e.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},y=!!yr(c,ts);return h.reduce(function(_,w){var A=n[w],T=A.orientation,k=A.domain,M=A.padding,E=M===void 0?{}:M,D=A.mirror,C=A.reversed,O="".concat(T).concat(D?"Mirror":""),P,I,q,z,L;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var H=k[1]-k[0],Q=1/0,Y=A.categoricalDomain.sort(gU);if(Y.forEach(function(_e,ge){ge>0&&(Q=Math.min((_e||0)-(Y[ge-1]||0),Q))}),Number.isFinite(Q)){var B=Q/H,$=A.layout==="vertical"?r.height:r.width;if(A.padding==="gap"&&(P=B*$/2),A.padding==="no-gap"){var V=Kn(e.barCategoryGap,B*$),Z=B*$/2;P=Z-V-(Z-V)/$*V}}}a==="xAxis"?I=[r.left+(E.left||0)+(P||0),r.left+r.width-(E.right||0)-(P||0)]:a==="yAxis"?I=d==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(P||0),r.top+r.height-(E.bottom||0)-(P||0)]:I=A.range,C&&(I=[I[1],I[0]]);var se=c5(A,i,y),U=se.scale,G=se.realScaleType;U.domain(k).range(I),d5(U);var re=f5(U,Wr(Wr({},A),{},{realScaleType:G}));a==="xAxis"?(L=T==="top"&&!D||T==="bottom"&&D,q=r.left,z=m[O]-L*A.height):a==="yAxis"&&(L=T==="left"&&!D||T==="right"&&D,q=m[O]-L*A.width,z=r.top);var ce=Wr(Wr(Wr({},A),re),{},{realScaleType:G,x:q,y:z,scale:U,width:a==="xAxis"?r.width:A.width,height:a==="yAxis"?r.height:A.height});return ce.bandSize=Hh(ce,re),!A.hide&&a==="xAxis"?m[O]+=(L?-1:1)*ce.height:A.hide||(m[O]+=(L?-1:1)*ce.width),Wr(Wr({},_),{},sp({},w,ce))},{})},z5=function(e,n){var r=e.x,a=e.y,i=n.x,s=n.y;return{x:Math.min(r,i),y:Math.min(a,s),width:Math.abs(i-r),height:Math.abs(s-a)}},rZ=function(e){var n=e.x1,r=e.y1,a=e.x2,i=e.y2;return z5({x:n,y:r},{x:a,y:i})},G5=function(){function t(e){QX(this,t),this.scale=e}return eZ(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new t(n)}}])}();sp(G5,"EPS",1e-4);var qw=function(e){var n=Object.keys(e).reduce(function(r,a){return Wr(Wr({},r),{},sp({},a,G5.create(e[a])))},{});return Wr(Wr({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,u=i.position;return MX(a,function(d,c){return n[c].apply(d,{bandAware:s,position:u})})},isInRange:function(a){return B5(a,function(i,s){return n[s].isInRange(i)})}})};function aZ(t){return(t%180+180)%180}var iZ=function(e){var n=e.width,r=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=aZ(a),s=i*Math.PI/180,u=Math.atan(r/n),d=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(d)},Mx,C2;function oZ(){if(C2)return Mx;C2=1;var t=_a(),e=Sd(),n=Lm();function r(a){return function(i,s,u){var d=Object(i);if(!e(i)){var c=t(s,3);i=n(i),s=function(m){return c(d[m],m,d)}}var h=a(i,s,u);return h>-1?d[c?i[h]:h]:void 0}}return Mx=r,Mx}var Dx,k2;function sZ(){if(k2)return Dx;k2=1;var t=I5();function e(n){var r=t(n),a=r%1;return r===r?a?r-a:r:0}return Dx=e,Dx}var Nx,O2;function lZ(){if(O2)return Nx;O2=1;var t=zI(),e=_a(),n=sZ(),r=Math.max;function a(i,s,u){var d=i==null?0:i.length;if(!d)return-1;var c=u==null?0:n(u);return c<0&&(c=r(d+c,0)),t(i,e(s,3),c)}return Nx=a,Nx}var Px,M2;function uZ(){if(M2)return Px;M2=1;var t=oZ(),e=lZ(),n=t(e);return Px=n,Px}var cZ=uZ();const dZ=yt(cZ);var fZ=oI();const hZ=yt(fZ);var mZ=hZ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Uw=j.createContext(void 0),Fw=j.createContext(void 0),H5=j.createContext(void 0),K5=j.createContext({}),Y5=j.createContext(void 0),W5=j.createContext(0),X5=j.createContext(0),D2=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,s=e.clipPathId,u=e.children,d=e.width,c=e.height,h=mZ(i);return J.createElement(Uw.Provider,{value:r},J.createElement(Fw.Provider,{value:a},J.createElement(K5.Provider,{value:i},J.createElement(H5.Provider,{value:h},J.createElement(Y5.Provider,{value:s},J.createElement(W5.Provider,{value:c},J.createElement(X5.Provider,{value:d},u)))))))},pZ=function(){return j.useContext(Y5)},Z5=function(e){var n=j.useContext(Uw);n==null&&Go();var r=n[e];return r==null&&Go(),r},gZ=function(){var e=j.useContext(Uw);return Fi(e)},vZ=function(){var e=j.useContext(Fw),n=dZ(e,function(r){return B5(r.domain,Number.isFinite)});return n||Fi(e)},J5=function(e){var n=j.useContext(Fw);n==null&&Go();var r=n[e];return r==null&&Go(),r},yZ=function(){var e=j.useContext(H5);return e},bZ=function(){return j.useContext(K5)},Vw=function(){return j.useContext(X5)},zw=function(){return j.useContext(W5)};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function xZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e$(r.key),r)}}function SZ(t,e,n){return e&&_Z(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wZ(t,e,n){return e=um(e),TZ(t,Q5()?Reflect.construct(e,n||[],um(t).constructor):e.apply(t,n))}function TZ(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AZ(t)}function AZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q5=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},um(t)}function EZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nS(t,e)}function nS(t,e){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},nS(t,e)}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function P2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){Gw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gw(t,e,n){return e=e$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e$(t){var e=CZ(t,"string");return Nl(e)=="symbol"?e:e+""}function CZ(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kZ(t,e){return NZ(t)||DZ(t,e)||MZ(t,e)||OZ()}function OZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MZ(t,e){if(t){if(typeof t=="string")return R2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R2(t,e)}}function R2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function NZ(t){if(Array.isArray(t))return t}function rS(){return rS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rS.apply(this,arguments)}var PZ=function(e,n){var r;return J.isValidElement(e)?r=J.cloneElement(e,n):He(e)?r=e(n):r=J.createElement("line",rS({},n,{className:"recharts-reference-line-line"})),r},RZ=function(e,n,r,a,i,s,u,d,c){var h=i.x,m=i.y,y=i.width,_=i.height;if(r){var w=c.y,A=e.y.apply(w,{position:s});if(pa(c,"discard")&&!e.y.isInRange(A))return null;var T=[{x:h+y,y:A},{x:h,y:A}];return d==="left"?T.reverse():T}if(n){var k=c.x,M=e.x.apply(k,{position:s});if(pa(c,"discard")&&!e.x.isInRange(M))return null;var E=[{x:M,y:m+_},{x:M,y:m}];return u==="top"?E.reverse():E}if(a){var D=c.segment,C=D.map(function(O){return e.apply(O,{position:s})});return pa(c,"discard")&&EX(C,function(O){return!e.isInRange(O)})?null:C}return null};function IZ(t){var e=t.x,n=t.y,r=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,u=t.className,d=t.alwaysShow,c=pZ(),h=Z5(a),m=J5(i),y=yZ();if(!c||!y)return null;Zr(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=qw({x:h.scale,y:m.scale}),w=pn(e),A=pn(n),T=r&&r.length===2,k=RZ(_,w,A,T,y,t.position,h.orientation,m.orientation,t);if(!k)return null;var M=kZ(k,2),E=M[0],D=E.x,C=E.y,O=M[1],P=O.x,I=O.y,q=pa(t,"hidden")?"url(#".concat(c,")"):void 0,z=P2(P2({clipPath:q},ze(t,!0)),{},{x1:D,y1:C,x2:P,y2:I});return J.createElement(wt,{className:at("recharts-reference-line",u)},PZ(s,z),Tn.renderCallByParent(t,rZ({x1:D,y1:C,x2:P,y2:I})))}var Hw=function(t){function e(){return xZ(this,e),wZ(this,e,arguments)}return EZ(e,t),SZ(e,[{key:"render",value:function(){return J.createElement(IZ,this.props)}}])}(J.Component);Gw(Hw,"displayName","ReferenceLine");Gw(Hw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(this,arguments)}function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function j2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){lp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n$(r.key),r)}}function LZ(t,e,n){return e&&$Z(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BZ(t,e,n){return e=cm(e),qZ(t,t$()?Reflect.construct(e,n||[],cm(t).constructor):e.apply(t,n))}function qZ(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UZ(t)}function UZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t$=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cm(t)}function FZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iS(t,e)}function iS(t,e){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},iS(t,e)}function lp(t,e,n){return e=n$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n$(t){var e=VZ(t,"string");return Pl(e)=="symbol"?e:e+""}function VZ(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zZ=function(e){var n=e.x,r=e.y,a=e.xAxis,i=e.yAxis,s=qw({x:a.scale,y:i.scale}),u=s.apply({x:n,y:r},{bandAware:!0});return pa(e,"discard")&&!s.isInRange(u)?null:u},up=function(t){function e(){return jZ(this,e),BZ(this,e,arguments)}return FZ(e,t),LZ(e,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,s=r.r,u=r.alwaysShow,d=r.clipPathId,c=pn(a),h=pn(i);if(Zr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!h)return null;var m=zZ(this.props);if(!m)return null;var y=m.x,_=m.y,w=this.props,A=w.shape,T=w.className,k=pa(this.props,"hidden")?"url(#".concat(d,")"):void 0,M=j2(j2({clipPath:k},ze(this.props,!0)),{},{cx:y,cy:_});return J.createElement(wt,{className:at("recharts-reference-dot",T)},e.renderDot(A,M),Tn.renderCallByParent(this.props,{x:y-s,y:_-s,width:2*s,height:2*s}))}}])}(J.Component);lp(up,"displayName","ReferenceDot");lp(up,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});lp(up,"renderDot",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):He(t)?n=t(e):n=J.createElement(Bw,aS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(this,arguments)}function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){cp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a$(r.key),r)}}function KZ(t,e,n){return e&&HZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YZ(t,e,n){return e=dm(e),WZ(t,r$()?Reflect.construct(e,n||[],dm(t).constructor):e.apply(t,n))}function WZ(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XZ(t)}function XZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r$=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dm(t)}function ZZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sS(t,e)}function sS(t,e){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},sS(t,e)}function cp(t,e,n){return e=a$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a$(t){var e=JZ(t,"string");return Rl(e)=="symbol"?e:e+""}function JZ(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QZ=function(e,n,r,a,i){var s=i.x1,u=i.x2,d=i.y1,c=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var y=qw({x:h.scale,y:m.scale}),_={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(d,{position:"start"}):y.y.rangeMin},w={x:n?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(c,{position:"end"}):y.y.rangeMax};return pa(i,"discard")&&(!y.isInRange(_)||!y.isInRange(w))?null:z5(_,w)},dp=function(t){function e(){return GZ(this,e),YZ(this,e,arguments)}return ZZ(e,t),KZ(e,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,s=r.y1,u=r.y2,d=r.className,c=r.alwaysShow,h=r.clipPathId;Zr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=pn(a),y=pn(i),_=pn(s),w=pn(u),A=this.props.shape;if(!m&&!y&&!_&&!w&&!A)return null;var T=QZ(m,y,_,w,this.props);if(!T&&!A)return null;var k=pa(this.props,"hidden")?"url(#".concat(h,")"):void 0;return J.createElement(wt,{className:at("recharts-reference-area",d)},e.renderRect(A,L2(L2({clipPath:k},ze(this.props,!0)),T)),Tn.renderCallByParent(this.props,T))}}])}(J.Component);cp(dp,"displayName","ReferenceArea");cp(dp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cp(dp,"renderRect",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):He(t)?n=t(e):n=J.createElement(Lw,oS({},e,{className:"recharts-reference-area-rect"})),n});function i$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function eJ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return iZ(r,n)}function tJ(t,e,n){var r=n==="width",a=t.x,i=t.y,s=t.width,u=t.height;return e===1?{start:r?a:i,end:r?a+s:i+u}:{start:r?a+s:i+u,end:r?a:i}}function fm(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-a)<=0}function nJ(t,e){return i$(t,e+1)}function rJ(t,e,n,r,a){for(var i=(r||[]).slice(),s=e.start,u=e.end,d=0,c=1,h=s,m=function(){var w=r==null?void 0:r[d];if(w===void 0)return{v:i$(r,c)};var A=d,T,k=function(){return T===void 0&&(T=n(w,A)),T},M=w.coordinate,E=d===0||fm(t,M,k,h,u);E||(d=0,h=s,c+=1),E&&(h=M+t*(k()/2+a),d+=c)},y;c<=i.length;)if(y=m(),y)return y.v;return[]}function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){aJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJ(t,e,n){return e=iJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iJ(t){var e=oJ(t,"string");return fd(e)=="symbol"?e:e+""}function oJ(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sJ(t,e,n,r,a){for(var i=(r||[]).slice(),s=i.length,u=e.start,d=e.end,c=function(y){var _=i[y],w,A=function(){return w===void 0&&(w=n(_,y)),w};if(y===s-1){var T=t*(_.coordinate+t*A()/2-d);i[y]=_=Ln(Ln({},_),{},{tickCoord:T>0?_.coordinate-T*t:_.coordinate})}else i[y]=_=Ln(Ln({},_),{},{tickCoord:_.coordinate});var k=fm(t,_.tickCoord,A,u,d);k&&(d=_.tickCoord-t*(A()/2+a),i[y]=Ln(Ln({},_),{},{isShow:!0}))},h=s-1;h>=0;h--)c(h);return i}function lJ(t,e,n,r,a,i){var s=(r||[]).slice(),u=s.length,d=e.start,c=e.end;if(i){var h=r[u-1],m=n(h,u-1),y=t*(h.coordinate+t*m/2-c);s[u-1]=h=Ln(Ln({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var _=fm(t,h.tickCoord,function(){return m},d,c);_&&(c=h.tickCoord-t*(m/2+a),s[u-1]=Ln(Ln({},h),{},{isShow:!0}))}for(var w=i?u-1:u,A=function(M){var E=s[M],D,C=function(){return D===void 0&&(D=n(E,M)),D};if(M===0){var O=t*(E.coordinate-t*C()/2-d);s[M]=E=Ln(Ln({},E),{},{tickCoord:O<0?E.coordinate-O*t:E.coordinate})}else s[M]=E=Ln(Ln({},E),{},{tickCoord:E.coordinate});var P=fm(t,E.tickCoord,C,d,c);P&&(d=E.tickCoord+t*(C()/2+a),s[M]=Ln(Ln({},E),{},{isShow:!0}))},T=0;T<w;T++)A(T);return s}function Kw(t,e,n){var r=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,u=t.orientation,d=t.interval,c=t.tickFormatter,h=t.unit,m=t.angle;if(!a||!a.length||!r)return[];if(Ae(d)||Xl.isSsr)return nJ(a,typeof d=="number"&&Ae(d)?d:0);var y=[],_=u==="top"||u==="bottom"?"width":"height",w=h&&_==="width"?Ac(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(E,D){var C=He(c)?c(E.value,D):E.value;return _==="width"?eJ(Ac(C,{fontSize:e,letterSpacing:n}),w,m):Ac(C,{fontSize:e,letterSpacing:n})[_]},T=a.length>=2?Hn(a[1].coordinate-a[0].coordinate):1,k=tJ(i,T,_);return d==="equidistantPreserveStart"?rJ(T,k,A,a,s):(d==="preserveStart"||d==="preserveStartEnd"?y=lJ(T,k,A,a,s,d==="preserveStartEnd"):y=sJ(T,k,A,a,s),y.filter(function(M){return M.isShow}))}var uJ=["viewBox"],cJ=["viewBox"],dJ=["ticks"];function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){Yw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rx(t,e){if(t==null)return{};var n=fJ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s$(r.key),r)}}function mJ(t,e,n){return e&&U2(t.prototype,e),n&&U2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pJ(t,e,n){return e=hm(e),gJ(t,o$()?Reflect.construct(e,n||[],hm(t).constructor):e.apply(t,n))}function gJ(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vJ(t)}function vJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o$=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hm(t)}function yJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lS(t,e)}function lS(t,e){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},lS(t,e)}function Yw(t,e,n){return e=s$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$(t){var e=bJ(t,"string");return Il(e)=="symbol"?e:e+""}function bJ(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eu=function(t){function e(n){var r;return hJ(this,e),r=pJ(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return yJ(e,t),mJ(e,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,s=Rx(r,uJ),u=this.props,d=u.viewBox,c=Rx(u,cJ);return!cl(i,d)||!cl(s,c)||!cl(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,s=a.y,u=a.width,d=a.height,c=a.orientation,h=a.tickSize,m=a.mirror,y=a.tickMargin,_,w,A,T,k,M,E=m?-1:1,D=r.tickSize||h,C=Ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":_=w=r.coordinate,T=s+ +!m*d,A=T-E*D,M=A-E*y,k=C;break;case"left":A=T=r.coordinate,w=i+ +!m*u,_=w-E*D,k=_-E*y,M=C;break;case"right":A=T=r.coordinate,w=i+ +m*u,_=w+E*D,k=_+E*y,M=C;break;default:_=w=r.coordinate,T=s+ +m*d,A=T+E*D,M=A+E*y,k=C;break}return{line:{x1:_,y1:A,x2:w,y2:T},tick:{x:k,y:M}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,d=r.orientation,c=r.mirror,h=r.axisLine,m=zn(zn(zn({},ze(this.props,!1)),ze(h,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!c||d==="bottom"&&c);m=zn(zn({},m),{},{x1:a,y1:i+y*u,x2:a+s,y2:i+y*u})}else{var _=+(d==="left"&&!c||d==="right"&&c);m=zn(zn({},m),{},{x1:a+_*s,y1:i,x2:a+_*s,y2:i+u})}return J.createElement("line",ol({},m,{className:at("recharts-cartesian-axis-line",_r(h,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var s=this,u=this.props,d=u.tickLine,c=u.stroke,h=u.tick,m=u.tickFormatter,y=u.unit,_=Kw(zn(zn({},this.props),{},{ticks:r}),a,i),w=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),T=ze(this.props,!1),k=ze(h,!1),M=zn(zn({},T),{},{fill:"none"},ze(d,!1)),E=_.map(function(D,C){var O=s.getTickLineCoord(D),P=O.line,I=O.tick,q=zn(zn(zn(zn({textAnchor:w,verticalAnchor:A},T),{},{stroke:"none",fill:c},k),I),{},{index:C,payload:D,visibleTicksCount:_.length,tickFormatter:m});return J.createElement(wt,ol({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Fo(s.props,D,C)),d&&J.createElement("line",ol({},M,P,{className:at("recharts-cartesian-axis-tick-line",_r(d,"className"))})),h&&e.renderTickItem(h,q,"".concat(He(m)?m(D.value,C):D.value).concat(y||"")))});return J.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,s=a.width,u=a.height,d=a.ticksGenerator,c=a.className,h=a.hide;if(h)return null;var m=this.props,y=m.ticks,_=Rx(m,dJ),w=y;return He(d)&&(w=y&&y.length>0?d(this.props):d(_)),s<=0||u<=0||!w||!w.length?null:J.createElement(wt,{className:at("recharts-cartesian-axis",c),ref:function(T){r.layerReference=T}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),Tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var s;return J.isValidElement(r)?s=J.cloneElement(r,a):He(r)?s=r(a):s=J.createElement(Vo,ol({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(j.Component);Yw(eu,"displayName","CartesianAxis");Yw(eu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xJ=["x1","y1","x2","y2","key"],_J=["offset"];function Ho(t){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){SJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SJ(t,e,n){return e=wJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wJ(t){var e=TJ(t,"string");return Ho(e)=="symbol"?e:e+""}function TJ(t,e){if(Ho(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ho(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$o.apply(this,arguments)}function V2(t,e){if(t==null)return{};var n=AJ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EJ=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,a=e.x,i=e.y,s=e.width,u=e.height,d=e.ry;return J.createElement("rect",{x:a,y:i,ry:d,width:s,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function l$(t,e){var n;if(J.isValidElement(t))n=J.cloneElement(t,e);else if(He(t))n=t(e);else{var r=e.x1,a=e.y1,i=e.x2,s=e.y2,u=e.key,d=V2(e,xJ),c=ze(d,!1);c.offset;var h=V2(c,_J);n=J.createElement("line",$o({},h,{x1:r,y1:a,x2:i,y2:s,fill:"none",key:u}))}return n}function CJ(t){var e=t.x,n=t.width,r=t.horizontal,a=r===void 0?!0:r,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(u,d){var c=Bn(Bn({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(d),index:d});return l$(a,c)});return J.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function kJ(t){var e=t.y,n=t.height,r=t.vertical,a=r===void 0?!0:r,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(u,d){var c=Bn(Bn({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(d),index:d});return l$(a,c)});return J.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function OJ(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,a=t.y,i=t.width,s=t.height,u=t.horizontalPoints,d=t.horizontal,c=d===void 0?!0:d;if(!c||!e||!e.length)return null;var h=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,_){return y-_});a!==h[0]&&h.unshift(0);var m=h.map(function(y,_){var w=!h[_+1],A=w?a+s-y:h[_+1]-y;if(A<=0)return null;var T=_%e.length;return J.createElement("rect",{key:"react-".concat(_),y,x:r,height:A,width:i,stroke:"none",fill:e[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function MJ(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,u=t.width,d=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var h=c.map(function(y){return Math.round(y+i-i)}).sort(function(y,_){return y-_});i!==h[0]&&h.unshift(0);var m=h.map(function(y,_){var w=!h[_+1],A=w?i+u-y:h[_+1]-y;if(A<=0)return null;var T=_%r.length;return J.createElement("rect",{key:"react-".concat(_),x:y,y:s,width:A,height:d,stroke:"none",fill:r[T],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var DJ=function(e,n){var r=e.xAxis,a=e.width,i=e.height,s=e.offset;return u5(Kw(Bn(Bn(Bn({},eu.defaultProps),r),{},{ticks:Ka(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,n)},NJ=function(e,n){var r=e.yAxis,a=e.width,i=e.height,s=e.offset;return u5(Kw(Bn(Bn(Bn({},eu.defaultProps),r),{},{ticks:Ka(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,n)},Qs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function u$(t){var e,n,r,a,i,s,u=Vw(),d=zw(),c=bZ(),h=Bn(Bn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Qs.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Qs.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Qs.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Qs.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Qs.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Qs.verticalFill,x:Ae(t.x)?t.x:c.left,y:Ae(t.y)?t.y:c.top,width:Ae(t.width)?t.width:c.width,height:Ae(t.height)?t.height:c.height}),m=h.x,y=h.y,_=h.width,w=h.height,A=h.syncWithTicks,T=h.horizontalValues,k=h.verticalValues,M=gZ(),E=vZ();if(!Ae(_)||_<=0||!Ae(w)||w<=0||!Ae(m)||m!==+m||!Ae(y)||y!==+y)return null;var D=h.verticalCoordinatesGenerator||DJ,C=h.horizontalCoordinatesGenerator||NJ,O=h.horizontalPoints,P=h.verticalPoints;if((!O||!O.length)&&He(C)){var I=T&&T.length,q=C({yAxis:E?Bn(Bn({},E),{},{ticks:I?T:E.ticks}):void 0,width:u,height:d,offset:c},I?!0:A);Zr(Array.isArray(q),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ho(q),"]")),Array.isArray(q)&&(O=q)}if((!P||!P.length)&&He(D)){var z=k&&k.length,L=D({xAxis:M?Bn(Bn({},M),{},{ticks:z?k:M.ticks}):void 0,width:u,height:d,offset:c},z?!0:A);Zr(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ho(L),"]")),Array.isArray(L)&&(P=L)}return J.createElement("g",{className:"recharts-cartesian-grid"},J.createElement(EJ,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),J.createElement(CJ,$o({},h,{offset:c,horizontalPoints:O,xAxis:M,yAxis:E})),J.createElement(kJ,$o({},h,{offset:c,verticalPoints:P,xAxis:M,yAxis:E})),J.createElement(OJ,$o({},h,{horizontalPoints:O})),J.createElement(MJ,$o({},h,{verticalPoints:P})))}u$.displayName="CartesianGrid";function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function PJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f$(r.key),r)}}function IJ(t,e,n){return e&&RJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jJ(t,e,n){return e=mm(e),$J(t,c$()?Reflect.construct(e,n||[],mm(t).constructor):e.apply(t,n))}function $J(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LJ(t)}function LJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c$=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mm(t)}function BJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}function uS(t,e){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},uS(t,e)}function d$(t,e,n){return e=f$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f$(t){var e=qJ(t,"string");return jl(e)=="symbol"?e:e+""}function qJ(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(this,arguments)}function UJ(t){var e=t.xAxisId,n=Vw(),r=zw(),a=Z5(e);return a==null?null:J.createElement(eu,cS({},a,{className:at("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ka(s,!0)}}))}var fp=function(t){function e(){return PJ(this,e),jJ(this,e,arguments)}return BJ(e,t),IJ(e,[{key:"render",value:function(){return J.createElement(UJ,this.props)}}])}(J.Component);d$(fp,"displayName","XAxis");d$(fp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function FJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p$(r.key),r)}}function zJ(t,e,n){return e&&VJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GJ(t,e,n){return e=pm(e),HJ(t,h$()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function HJ(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KJ(t)}function KJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function YJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dS(t,e)}function dS(t,e){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},dS(t,e)}function m$(t,e,n){return e=p$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p$(t){var e=WJ(t,"string");return $l(e)=="symbol"?e:e+""}function WJ(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(this,arguments)}var XJ=function(e){var n=e.yAxisId,r=Vw(),a=zw(),i=J5(n);return i==null?null:J.createElement(eu,fS({},i,{className:at("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(u){return Ka(u,!0)}}))},hp=function(t){function e(){return FJ(this,e),GJ(this,e,arguments)}return YJ(e,t),zJ(e,[{key:"render",value:function(){return J.createElement(XJ,this.props)}}])}(J.Component);m$(hp,"displayName","YAxis");m$(hp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function z2(t){return eQ(t)||QJ(t)||JJ(t)||ZJ()}function ZJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JJ(t,e){if(t){if(typeof t=="string")return hS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hS(t,e)}}function QJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eQ(t){if(Array.isArray(t))return hS(t)}function hS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mS=function(e,n,r,a,i){var s=Ir(e,Hw),u=Ir(e,up),d=[].concat(z2(s),z2(u)),c=Ir(e,dp),h="".concat(a,"Id"),m=a[0],y=n;if(d.length&&(y=d.reduce(function(A,T){if(T.props[h]===r&&pa(T.props,"extendDomain")&&Ae(T.props[m])){var k=T.props[m];return[Math.min(A[0],k),Math.max(A[1],k)]}return A},y)),c.length){var _="".concat(m,"1"),w="".concat(m,"2");y=c.reduce(function(A,T){if(T.props[h]===r&&pa(T.props,"extendDomain")&&Ae(T.props[_])&&Ae(T.props[w])){var k=T.props[_],M=T.props[w];return[Math.min(A[0],k,M),Math.max(A[1],k,M)]}return A},y)}return i&&i.length&&(y=i.reduce(function(A,T){return Ae(T)?[Math.min(A[0],T),Math.max(A[1],T)]:A},y)),y},Ix={exports:{}},G2;function tQ(){return G2||(G2=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(d,c,h){this.fn=d,this.context=c,this.once=h||!1}function i(d,c,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new a(h,m||d,y),w=n?n+c:c;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],_]:d._events[w].push(_):(d._events[w]=_,d._eventsCount++),d}function s(d,c){--d._eventsCount===0?d._events=new r:delete d._events[c]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],h,m;if(this._eventsCount===0)return c;for(m in h=this._events)e.call(h,m)&&c.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},u.prototype.listeners=function(c){var h=n?n+c:c,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,_=m.length,w=new Array(_);y<_;y++)w[y]=m[y].fn;return w},u.prototype.listenerCount=function(c){var h=n?n+c:c,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(c,h,m,y,_,w){var A=n?n+c:c;if(!this._events[A])return!1;var T=this._events[A],k=arguments.length,M,E;if(T.fn){switch(T.once&&this.removeListener(c,T.fn,void 0,!0),k){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,m),!0;case 4:return T.fn.call(T.context,h,m,y),!0;case 5:return T.fn.call(T.context,h,m,y,_),!0;case 6:return T.fn.call(T.context,h,m,y,_,w),!0}for(E=1,M=new Array(k-1);E<k;E++)M[E-1]=arguments[E];T.fn.apply(T.context,M)}else{var D=T.length,C;for(E=0;E<D;E++)switch(T[E].once&&this.removeListener(c,T[E].fn,void 0,!0),k){case 1:T[E].fn.call(T[E].context);break;case 2:T[E].fn.call(T[E].context,h);break;case 3:T[E].fn.call(T[E].context,h,m);break;case 4:T[E].fn.call(T[E].context,h,m,y);break;default:if(!M)for(C=1,M=new Array(k-1);C<k;C++)M[C-1]=arguments[C];T[E].fn.apply(T[E].context,M)}}return!0},u.prototype.on=function(c,h,m){return i(this,c,h,m,!1)},u.prototype.once=function(c,h,m){return i(this,c,h,m,!0)},u.prototype.removeListener=function(c,h,m,y){var _=n?n+c:c;if(!this._events[_])return this;if(!h)return s(this,_),this;var w=this._events[_];if(w.fn)w.fn===h&&(!y||w.once)&&(!m||w.context===m)&&s(this,_);else{for(var A=0,T=[],k=w.length;A<k;A++)(w[A].fn!==h||y&&!w[A].once||m&&w[A].context!==m)&&T.push(w[A]);T.length?this._events[_]=T.length===1?T[0]:T:s(this,_)}return this},u.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(Ix)),Ix.exports}var nQ=tQ();const rQ=yt(nQ);var jx=new rQ,$x="recharts.syncMouseEvents";function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function aQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g$(r.key),r)}}function oQ(t,e,n){return e&&iQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lx(t,e,n){return e=g$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g$(t){var e=sQ(t,"string");return hd(e)=="symbol"?e:e+""}function sQ(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lQ=function(){function t(){aQ(this,t),Lx(this,"activeIndex",0),Lx(this,"coordinateList",[]),Lx(this,"layout","horizontal")}return oQ(t,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,s=n.container,u=s===void 0?null:s,d=n.layout,c=d===void 0?null:d,h=n.offset,m=h===void 0?null:h,y=n.mouseHandlerCallback,_=y===void 0?null:y;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=c??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=i+d+c,y=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])}();function uQ(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],a=t==null?void 0:t[1];if(r&&a&&Ae(r)&&Ae(a))return!0}return!1}function cQ(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function v$(t){var e=t.cx,n=t.cy,r=t.radius,a=t.startAngle,i=t.endAngle,s=Lt(e,n,r,a),u=Lt(e,n,r,i);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:a,endAngle:i}}function dQ(t,e,n){var r,a,i,s;if(t==="horizontal")r=e.x,i=r,a=n.top,s=n.top+n.height;else if(t==="vertical")a=e.y,s=a,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,c=e.innerRadius,h=e.outerRadius,m=e.angle,y=Lt(u,d,c,m),_=Lt(u,d,h,m);r=y.x,a=y.y,i=_.x,s=_.y}else return v$(e);return[{x:r,y:a},{x:i,y:s}]}function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ch(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){fQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fQ(t,e,n){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hQ(t){var e=mQ(t,"string");return md(e)=="symbol"?e:e+""}function mQ(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pQ(t){var e,n,r=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,u=t.activePayload,d=t.offset,c=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!i||!s||y!=="ScatterChart"&&a!=="axis")return null;var w,A=$_;if(y==="ScatterChart")w=s,A=XY;else if(y==="BarChart")w=cQ(m,s,d,h),A=Lw;else if(m==="radial"){var T=v$(s),k=T.cx,M=T.cy,E=T.radius,D=T.startAngle,C=T.endAngle;w={cx:k,cy:M,startAngle:D,endAngle:C,innerRadius:E,outerRadius:E},A=x5}else w={points:dQ(m,s,d)},A=$_;var O=ch(ch(ch(ch({stroke:"#ccc",pointerEvents:"none"},d),w),ze(_,!1)),{},{payload:u,payloadIndex:c,className:at("recharts-tooltip-cursor",_.className)});return j.isValidElement(_)?j.cloneElement(_,O):j.createElement(A,O)}var gQ=["item"],vQ=["children","className","width","height","style","compact","title","desc"];function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}function K2(t,e){return xQ(t)||bQ(t,e)||b$(t,e)||yQ()}function yQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],d=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);d=!0);}catch(h){c=!0,a=h}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function xQ(t){if(Array.isArray(t))return t}function Y2(t,e){if(t==null)return{};var n=_Q(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Q(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x$(r.key),r)}}function TQ(t,e,n){return e&&wQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AQ(t,e,n){return e=gm(e),EQ(t,y$()?Reflect.construct(e,n||[],gm(t).constructor):e.apply(t,n))}function EQ(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CQ(t)}function CQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gm(t)}function kQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pS(t,e)}function pS(t,e){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pS(t,e)}function Bl(t){return DQ(t)||MQ(t)||b$(t)||OQ()}function OQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b$(t,e){if(t){if(typeof t=="string")return gS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gS(t,e)}}function MQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DQ(t){if(Array.isArray(t))return gS(t)}function gS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){Ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ue(t,e,n){return e=x$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x$(t){var e=NQ(t,"string");return Ll(e)=="symbol"?e:e+""}function NQ(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PQ={xAxis:["bottom","top"],yAxis:["left","right"]},RQ={width:"100%",height:"100%"},_$={x:0,y:0};function dh(t){return t}var IQ=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},jQ=function(e,n,r,a){var i=n.find(function(h){return h&&h.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,u=a.radius;return fe(fe(fe({},a),Lt(a.cx,a.cy,u,s)),{},{angle:s,radius:u})}var d=i.coordinate,c=a.angle;return fe(fe(fe({},a),Lt(a.cx,a.cy,d,c)),{},{angle:c,radius:d})}return _$},mp=function(e,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,s=(r??[]).reduce(function(u,d){var c=d.props.data;return c&&c.length?[].concat(Bl(u),Bl(c)):u},[]);return s.length>0?s:e&&e.length&&Ae(a)&&Ae(i)?e.slice(a,i+1):[]};function S$(t){return t==="number"?[0,"auto"]:void 0}var vS=function(e,n,r,a){var i=e.graphicalItems,s=e.tooltipAxis,u=mp(n,e);return r<0||!i||!i.length||r>=u.length?null:i.reduce(function(d,c){var h,m=(h=c.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var _=m===void 0?u:m;y=Jx(_,s.dataKey,a)}else y=m&&m[r]||u[r];return y?[].concat(Bl(d),[m5(c,y)]):d},[])},X2=function(e,n,r,a){var i=a||{x:e.chartX,y:e.chartY},s=IQ(i,r),u=e.orderedTooltipTicks,d=e.tooltipAxis,c=e.tooltipTicks,h=_G(s,u,c,d);if(h>=0&&c){var m=c[h]&&c[h].value,y=vS(e,n,h,m),_=jQ(r,u,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:y,activeCoordinate:_}}return null},$Q=function(e,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,s=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,m=e.children,y=e.stackOffset,_=l5(h,i);return r.reduce(function(w,A){var T,k=A.type.defaultProps!==void 0?fe(fe({},A.type.defaultProps),A.props):A.props,M=k.type,E=k.dataKey,D=k.allowDataOverflow,C=k.allowDuplicatedCategory,O=k.scale,P=k.ticks,I=k.includeHidden,q=k[s];if(w[q])return w;var z=mp(e.data,{graphicalItems:a.filter(function(re){var ce,_e=s in re.props?re.props[s]:(ce=re.type.defaultProps)===null||ce===void 0?void 0:ce[s];return _e===q}),dataStartIndex:d,dataEndIndex:c}),L=z.length,H,Q,Y;uQ(k.domain,D,M)&&(H=N_(k.domain,null,D),_&&(M==="number"||O!=="auto")&&(Y=Cc(z,E,"category")));var B=S$(M);if(!H||H.length===0){var $,V=($=k.domain)!==null&&$!==void 0?$:B;if(E){if(H=Cc(z,E,M),M==="category"&&_){var Z=pU(H);C&&Z?(Q=H,H=am(0,L)):C||(H=JD(V,H,A).reduce(function(re,ce){return re.indexOf(ce)>=0?re:[].concat(Bl(re),[ce])},[]))}else if(M==="category")C?H=H.filter(function(re){return re!==""&&!lt(re)}):H=JD(V,H,A).reduce(function(re,ce){return re.indexOf(ce)>=0||ce===""||lt(ce)?re:[].concat(Bl(re),[ce])},[]);else if(M==="number"){var se=EG(z,a.filter(function(re){var ce,_e,ge=s in re.props?re.props[s]:(ce=re.type.defaultProps)===null||ce===void 0?void 0:ce[s],Ce="hide"in re.props?re.props.hide:(_e=re.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return ge===q&&(I||!Ce)}),E,i,h);se&&(H=se)}_&&(M==="number"||O!=="auto")&&(Y=Cc(z,E,"category"))}else _?H=am(0,L):u&&u[q]&&u[q].hasStack&&M==="number"?H=y==="expand"?[0,1]:h5(u[q].stackGroups,d,c):H=s5(z,a.filter(function(re){var ce=s in re.props?re.props[s]:re.type.defaultProps[s],_e="hide"in re.props?re.props.hide:re.type.defaultProps.hide;return ce===q&&(I||!_e)}),M,h,!0);if(M==="number")H=mS(m,H,q,i,P),V&&(H=N_(V,H,D));else if(M==="category"&&V){var U=V,G=H.every(function(re){return U.indexOf(re)>=0});G&&(H=U)}}return fe(fe({},w),{},Ue({},q,fe(fe({},k),{},{axisType:i,domain:H,categoricalDomain:Y,duplicateDomain:Q,originalDomain:(T=k.domain)!==null&&T!==void 0?T:B,isCategorical:_,layout:h})))},{})},LQ=function(e,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,s=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,m=e.children,y=mp(e.data,{graphicalItems:r,dataStartIndex:d,dataEndIndex:c}),_=y.length,w=l5(h,i),A=-1;return r.reduce(function(T,k){var M=k.type.defaultProps!==void 0?fe(fe({},k.type.defaultProps),k.props):k.props,E=M[s],D=S$("number");if(!T[E]){A++;var C;return w?C=am(0,_):u&&u[E]&&u[E].hasStack?(C=h5(u[E].stackGroups,d,c),C=mS(m,C,E,i)):(C=N_(D,s5(y,r.filter(function(O){var P,I,q=s in O.props?O.props[s]:(P=O.type.defaultProps)===null||P===void 0?void 0:P[s],z="hide"in O.props?O.props.hide:(I=O.type.defaultProps)===null||I===void 0?void 0:I.hide;return q===E&&!z}),"number",h),a.defaultProps.allowDataOverflow),C=mS(m,C,E,i)),fe(fe({},T),{},Ue({},E,fe(fe({axisType:i},a.defaultProps),{},{hide:!0,orientation:_r(PQ,"".concat(i,".").concat(A%2),null),domain:C,originalDomain:D,isCategorical:w,layout:h})))}return T},{})},BQ=function(e,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,s=n.graphicalItems,u=n.stackGroups,d=n.dataStartIndex,c=n.dataEndIndex,h=e.children,m="".concat(a,"Id"),y=Ir(h,i),_={};return y&&y.length?_=$Q(e,{axes:y,graphicalItems:s,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:c}):s&&s.length&&(_=LQ(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:c})),_},qQ=function(e){var n=Fi(e),r=Ka(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:dw(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Hh(n,r)}},Z2=function(e){var n=e.children,r=e.defaultShowTooltip,a=yr(n,Ml),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},UQ=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ya(n&&n.type);return r&&r.indexOf("Bar")>=0})},J2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},FQ=function(e,n){var r=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,u=e.yAxisMap,d=u===void 0?{}:u,c=r.width,h=r.height,m=r.children,y=r.margin||{},_=yr(m,Ml),w=yr(m,zi),A=Object.keys(d).reduce(function(C,O){var P=d[O],I=P.orientation;return!P.mirror&&!P.hide?fe(fe({},C),{},Ue({},I,C[I]+P.width)):C},{left:y.left||0,right:y.right||0}),T=Object.keys(s).reduce(function(C,O){var P=s[O],I=P.orientation;return!P.mirror&&!P.hide?fe(fe({},C),{},Ue({},I,_r(C,"".concat(I))+P.height)):C},{top:y.top||0,bottom:y.bottom||0}),k=fe(fe({},T),A),M=k.bottom;_&&(k.bottom+=_.props.height||Ml.defaultProps.height),w&&n&&(k=TG(k,a,r,n));var E=c-k.left-k.right,D=h-k.top-k.bottom;return fe(fe({brushBottom:M},k),{},{width:Math.max(E,0),height:Math.max(D,0)})},VQ=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},w$=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,d=e.axisComponents,c=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,y=function(k,M){var E=M.graphicalItems,D=M.stackGroups,C=M.offset,O=M.updateId,P=M.dataStartIndex,I=M.dataEndIndex,q=k.barSize,z=k.layout,L=k.barGap,H=k.barCategoryGap,Q=k.maxBarSize,Y=J2(z),B=Y.numericAxisName,$=Y.cateAxisName,V=UQ(E),Z=[];return E.forEach(function(se,U){var G=mp(k.data,{graphicalItems:[se],dataStartIndex:P,dataEndIndex:I}),re=se.type.defaultProps!==void 0?fe(fe({},se.type.defaultProps),se.props):se.props,ce=re.dataKey,_e=re.maxBarSize,ge=re["".concat(B,"Id")],Ce=re["".concat($,"Id")],nt={},Ye=d.reduce(function(Fn,un){var na=M["".concat(un.axisType,"Map")],sr=re["".concat(un.axisType,"Id")];na&&na[sr]||un.axisType==="zAxis"||Go();var oi=na[sr];return fe(fe({},Fn),{},Ue(Ue({},un.axisType,oi),"".concat(un.axisType,"Ticks"),Ka(oi)))},nt),Te=Ye[$],Le=Ye["".concat($,"Ticks")],Ge=D&&D[ge]&&D[ge].hasStack&&IG(se,D[ge].stackGroups),me=Ya(se.type).indexOf("Bar")>=0,dt=Hh(Te,Le),Ze=[],Vt=V&&SG({barSize:q,stackGroups:D,totalSize:VQ(Ye,$)});if(me){var Nt,At,Yt=lt(_e)?Q:_e,qt=(Nt=(At=Hh(Te,Le,!0))!==null&&At!==void 0?At:Yt)!==null&&Nt!==void 0?Nt:0;Ze=wG({barGap:L,barCategoryGap:H,bandSize:qt!==dt?qt:dt,sizeList:Vt[Ce],maxBarSize:Yt}),qt!==dt&&(Ze=Ze.map(function(Fn){return fe(fe({},Fn),{},{position:fe(fe({},Fn.position),{},{offset:Fn.position.offset-qt/2})})}))}var zt=se&&se.type&&se.type.getComposedData;zt&&Z.push({props:fe(fe({},zt(fe(fe({},Ye),{},{displayedData:G,props:k,dataKey:ce,item:se,bandSize:dt,barPosition:Ze,offset:C,stackedData:Ge,layout:z,dataStartIndex:P,dataEndIndex:I}))),{},Ue(Ue(Ue({key:se.key||"item-".concat(U)},B,Ye[B]),$,Ye[$]),"animationId",O)),childIndex:CU(se,k.children),item:se})}),Z},_=function(k,M){var E=k.props,D=k.dataStartIndex,C=k.dataEndIndex,O=k.updateId;if(!hk({props:E}))return null;var P=E.children,I=E.layout,q=E.stackOffset,z=E.data,L=E.reverseStackOrder,H=J2(I),Q=H.numericAxisName,Y=H.cateAxisName,B=Ir(P,r),$=PG(z,B,"".concat(Q,"Id"),"".concat(Y,"Id"),q,L),V=d.reduce(function(re,ce){var _e="".concat(ce.axisType,"Map");return fe(fe({},re),{},Ue({},_e,BQ(E,fe(fe({},ce),{},{graphicalItems:B,stackGroups:ce.axisType===Q&&$,dataStartIndex:D,dataEndIndex:C}))))},{}),Z=FQ(fe(fe({},V),{},{props:E,graphicalItems:B}),M==null?void 0:M.legendBBox);Object.keys(V).forEach(function(re){V[re]=h(E,V[re],Z,re.replace("Map",""),n)});var se=V["".concat(Y,"Map")],U=qQ(se),G=y(E,fe(fe({},V),{},{dataStartIndex:D,dataEndIndex:C,updateId:O,graphicalItems:B,stackGroups:$,offset:Z}));return fe(fe({formattedGraphicalItems:G,graphicalItems:B,offset:Z,stackGroups:$},U),V)},w=function(T){function k(M){var E,D,C;return SQ(this,k),C=AQ(this,k,[M]),Ue(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(C,"accessibilityManager",new lQ),Ue(C,"handleLegendBBoxUpdate",function(O){if(O){var P=C.state,I=P.dataStartIndex,q=P.dataEndIndex,z=P.updateId;C.setState(fe({legendBBox:O},_({props:C.props,dataStartIndex:I,dataEndIndex:q,updateId:z},fe(fe({},C.state),{},{legendBBox:O}))))}}),Ue(C,"handleReceiveSyncEvent",function(O,P,I){if(C.props.syncId===O){if(I===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(P)}}),Ue(C,"handleBrushChange",function(O){var P=O.startIndex,I=O.endIndex;if(P!==C.state.dataStartIndex||I!==C.state.dataEndIndex){var q=C.state.updateId;C.setState(function(){return fe({dataStartIndex:P,dataEndIndex:I},_({props:C.props,dataStartIndex:P,dataEndIndex:I,updateId:q},C.state))}),C.triggerSyncEvent({dataStartIndex:P,dataEndIndex:I})}}),Ue(C,"handleMouseEnter",function(O){var P=C.getMouseInfo(O);if(P){var I=fe(fe({},P),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var q=C.props.onMouseEnter;He(q)&&q(I,O)}}),Ue(C,"triggeredAfterMouseMove",function(O){var P=C.getMouseInfo(O),I=P?fe(fe({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(I),C.triggerSyncEvent(I);var q=C.props.onMouseMove;He(q)&&q(I,O)}),Ue(C,"handleItemMouseEnter",function(O){C.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Ue(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Ue(C,"handleMouseMove",function(O){O.persist(),C.throttleTriggeredAfterMouseMove(O)}),Ue(C,"handleMouseLeave",function(O){C.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var I=C.props.onMouseLeave;He(I)&&I(P,O)}),Ue(C,"handleOuterEvent",function(O){var P=EU(O),I=_r(C.props,"".concat(P));if(P&&He(I)){var q,z;/.*touch.*/i.test(P)?z=C.getMouseInfo(O.changedTouches[0]):z=C.getMouseInfo(O),I((q=z)!==null&&q!==void 0?q:{},O)}}),Ue(C,"handleClick",function(O){var P=C.getMouseInfo(O);if(P){var I=fe(fe({},P),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var q=C.props.onClick;He(q)&&q(I,O)}}),Ue(C,"handleMouseDown",function(O){var P=C.props.onMouseDown;if(He(P)){var I=C.getMouseInfo(O);P(I,O)}}),Ue(C,"handleMouseUp",function(O){var P=C.props.onMouseUp;if(He(P)){var I=C.getMouseInfo(O);P(I,O)}}),Ue(C,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Ue(C,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseDown(O.changedTouches[0])}),Ue(C,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseUp(O.changedTouches[0])}),Ue(C,"handleDoubleClick",function(O){var P=C.props.onDoubleClick;if(He(P)){var I=C.getMouseInfo(O);P(I,O)}}),Ue(C,"handleContextMenu",function(O){var P=C.props.onContextMenu;if(He(P)){var I=C.getMouseInfo(O);P(I,O)}}),Ue(C,"triggerSyncEvent",function(O){C.props.syncId!==void 0&&jx.emit($x,C.props.syncId,O,C.eventEmitterSymbol)}),Ue(C,"applySyncEvent",function(O){var P=C.props,I=P.layout,q=P.syncMethod,z=C.state.updateId,L=O.dataStartIndex,H=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)C.setState(fe({dataStartIndex:L,dataEndIndex:H},_({props:C.props,dataStartIndex:L,dataEndIndex:H,updateId:z},C.state)));else if(O.activeTooltipIndex!==void 0){var Q=O.chartX,Y=O.chartY,B=O.activeTooltipIndex,$=C.state,V=$.offset,Z=$.tooltipTicks;if(!V)return;if(typeof q=="function")B=q(Z,O);else if(q==="value"){B=-1;for(var se=0;se<Z.length;se++)if(Z[se].value===O.activeLabel){B=se;break}}var U=fe(fe({},V),{},{x:V.left,y:V.top}),G=Math.min(Q,U.x+U.width),re=Math.min(Y,U.y+U.height),ce=Z[B]&&Z[B].value,_e=vS(C.state,C.props.data,B),ge=Z[B]?{x:I==="horizontal"?Z[B].coordinate:G,y:I==="horizontal"?re:Z[B].coordinate}:_$;C.setState(fe(fe({},O),{},{activeLabel:ce,activeCoordinate:ge,activePayload:_e,activeTooltipIndex:B}))}else C.setState(O)}),Ue(C,"renderCursor",function(O){var P,I=C.state,q=I.isTooltipActive,z=I.activeCoordinate,L=I.activePayload,H=I.offset,Q=I.activeTooltipIndex,Y=I.tooltipAxisBandSize,B=C.getTooltipEventType(),$=(P=O.props.active)!==null&&P!==void 0?P:q,V=C.props.layout,Z=O.key||"_recharts-cursor";return J.createElement(pQ,{key:Z,activeCoordinate:z,activePayload:L,activeTooltipIndex:Q,chartName:n,element:O,isActive:$,layout:V,offset:H,tooltipAxisBandSize:Y,tooltipEventType:B})}),Ue(C,"renderPolarAxis",function(O,P,I){var q=_r(O,"type.axisType"),z=_r(C.state,"".concat(q,"Map")),L=O.type.defaultProps,H=L!==void 0?fe(fe({},L),O.props):O.props,Q=z&&z[H["".concat(q,"Id")]];return j.cloneElement(O,fe(fe({},Q),{},{className:at(q,Q.className),key:O.key||"".concat(P,"-").concat(I),ticks:Ka(Q,!0)}))}),Ue(C,"renderPolarGrid",function(O){var P=O.props,I=P.radialLines,q=P.polarAngles,z=P.polarRadius,L=C.state,H=L.radiusAxisMap,Q=L.angleAxisMap,Y=Fi(H),B=Fi(Q),$=B.cx,V=B.cy,Z=B.innerRadius,se=B.outerRadius;return j.cloneElement(O,{polarAngles:Array.isArray(q)?q:Ka(B,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(z)?z:Ka(Y,!0).map(function(U){return U.coordinate}),cx:$,cy:V,innerRadius:Z,outerRadius:se,key:O.key||"polar-grid",radialLines:I})}),Ue(C,"renderLegend",function(){var O=C.state.formattedGraphicalItems,P=C.props,I=P.children,q=P.width,z=P.height,L=C.props.margin||{},H=q-(L.left||0)-(L.right||0),Q=i5({children:I,formattedGraphicalItems:O,legendWidth:H,legendContent:c});if(!Q)return null;var Y=Q.item,B=Y2(Q,gQ);return j.cloneElement(Y,fe(fe({},B),{},{chartWidth:q,chartHeight:z,margin:L,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Ue(C,"renderTooltip",function(){var O,P=C.props,I=P.children,q=P.accessibilityLayer,z=yr(I,Yr);if(!z)return null;var L=C.state,H=L.isTooltipActive,Q=L.activeCoordinate,Y=L.activePayload,B=L.activeLabel,$=L.offset,V=(O=z.props.active)!==null&&O!==void 0?O:H;return j.cloneElement(z,{viewBox:fe(fe({},$),{},{x:$.left,y:$.top}),active:V,label:B,payload:V?Y:[],coordinate:Q,accessibilityLayer:q})}),Ue(C,"renderBrush",function(O){var P=C.props,I=P.margin,q=P.data,z=C.state,L=z.offset,H=z.dataStartIndex,Q=z.dataEndIndex,Y=z.updateId;return j.cloneElement(O,{key:O.key||"_recharts-brush",onChange:oh(C.handleBrushChange,O.props.onChange),data:q,x:Ae(O.props.x)?O.props.x:L.left,y:Ae(O.props.y)?O.props.y:L.top+L.height+L.brushBottom-(I.bottom||0),width:Ae(O.props.width)?O.props.width:L.width,startIndex:H,endIndex:Q,updateId:"brush-".concat(Y)})}),Ue(C,"renderReferenceElement",function(O,P,I){if(!O)return null;var q=C,z=q.clipPathId,L=C.state,H=L.xAxisMap,Q=L.yAxisMap,Y=L.offset,B=O.type.defaultProps||{},$=O.props,V=$.xAxisId,Z=V===void 0?B.xAxisId:V,se=$.yAxisId,U=se===void 0?B.yAxisId:se;return j.cloneElement(O,{key:O.key||"".concat(P,"-").concat(I),xAxis:H[Z],yAxis:Q[U],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:z})}),Ue(C,"renderActivePoints",function(O){var P=O.item,I=O.activePoint,q=O.basePoint,z=O.childIndex,L=O.isRange,H=[],Q=P.props.key,Y=P.item.type.defaultProps!==void 0?fe(fe({},P.item.type.defaultProps),P.item.props):P.item.props,B=Y.activeDot,$=Y.dataKey,V=fe(fe({index:z,dataKey:$,cx:I.x,cy:I.y,r:4,fill:$w(P.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},ze(B,!1)),Sh(B));return H.push(k.renderActiveDot(B,V,"".concat(Q,"-activePoint-").concat(z))),q?H.push(k.renderActiveDot(B,fe(fe({},V),{},{cx:q.x,cy:q.y}),"".concat(Q,"-basePoint-").concat(z))):L&&H.push(null),H}),Ue(C,"renderGraphicChild",function(O,P,I){var q=C.filterFormatItem(O,P,I);if(!q)return null;var z=C.getTooltipEventType(),L=C.state,H=L.isTooltipActive,Q=L.tooltipAxis,Y=L.activeTooltipIndex,B=L.activeLabel,$=C.props.children,V=yr($,Yr),Z=q.props,se=Z.points,U=Z.isRange,G=Z.baseLine,re=q.item.type.defaultProps!==void 0?fe(fe({},q.item.type.defaultProps),q.item.props):q.item.props,ce=re.activeDot,_e=re.hide,ge=re.activeBar,Ce=re.activeShape,nt=!!(!_e&&H&&V&&(ce||ge||Ce)),Ye={};z!=="axis"&&V&&V.props.trigger==="click"?Ye={onClick:oh(C.handleItemMouseEnter,O.props.onClick)}:z!=="axis"&&(Ye={onMouseLeave:oh(C.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:oh(C.handleItemMouseEnter,O.props.onMouseEnter)});var Te=j.cloneElement(O,fe(fe({},q.props),Ye));function Le(un){return typeof Q.dataKey=="function"?Q.dataKey(un.payload):null}if(nt)if(Y>=0){var Ge,me;if(Q.dataKey&&!Q.allowDuplicatedCategory){var dt=typeof Q.dataKey=="function"?Le:"payload.".concat(Q.dataKey.toString());Ge=Jx(se,dt,B),me=U&&G&&Jx(G,dt,B)}else Ge=se==null?void 0:se[Y],me=U&&G&&G[Y];if(Ce||ge){var Ze=O.props.activeIndex!==void 0?O.props.activeIndex:Y;return[j.cloneElement(O,fe(fe(fe({},q.props),Ye),{},{activeIndex:Ze})),null,null]}if(!lt(Ge))return[Te].concat(Bl(C.renderActivePoints({item:q,activePoint:Ge,basePoint:me,childIndex:Y,isRange:U})))}else{var Vt,Nt=(Vt=C.getItemByXY(C.state.activeCoordinate))!==null&&Vt!==void 0?Vt:{graphicalItem:Te},At=Nt.graphicalItem,Yt=At.item,qt=Yt===void 0?O:Yt,zt=At.childIndex,Fn=fe(fe(fe({},q.props),Ye),{},{activeIndex:zt});return[j.cloneElement(qt,Fn),null,null]}return U?[Te,null,null]:[Te,null]}),Ue(C,"renderCustomized",function(O,P,I){return j.cloneElement(O,fe(fe({key:"recharts-customized-".concat(I)},C.props),C.state))}),Ue(C,"renderMap",{CartesianGrid:{handler:dh,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:dh},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:dh},YAxis:{handler:dh},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((E=M.id)!==null&&E!==void 0?E:_d("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=rj(C.triggeredAfterMouseMove,(D=M.throttleDelay)!==null&&D!==void 0?D:1e3/60),C.state={},C}return kQ(k,T),TQ(k,[{key:"componentDidMount",value:function(){var E,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,D=E.children,C=E.data,O=E.height,P=E.layout,I=yr(D,Yr);if(I){var q=I.props.defaultIndex;if(!(typeof q!="number"||q<0||q>this.state.tooltipTicks.length-1)){var z=this.state.tooltipTicks[q]&&this.state.tooltipTicks[q].value,L=vS(this.state,C,q,z),H=this.state.tooltipTicks[q].coordinate,Q=(this.state.offset.top+O)/2,Y=P==="horizontal",B=Y?{x:H,y:Q}:{y:H,x:Q},$=this.state.formattedGraphicalItems.find(function(Z){var se=Z.item;return se.type.name==="Scatter"});$&&(B=fe(fe({},B),$.props.points[q].tooltipPosition),L=$.props.points[q].tooltipPayload);var V={activeTooltipIndex:q,isTooltipActive:!0,activeLabel:z,activePayload:L,activeCoordinate:B};this.setState(V),this.renderCursor(I),this.accessibilityManager.setIndex(q)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var C,O;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(E){e_([yr(E.children,Yr)],[yr(this.props.children,Yr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=yr(this.props.children,Yr);if(E&&typeof E.props.shared=="boolean"){var D=E.props.shared?"axis":"item";return u.indexOf(D)>=0?D:i}return i}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var D=this.container,C=D.getBoundingClientRect(),O=h9(C),P={chartX:Math.round(E.pageX-O.left),chartY:Math.round(E.pageY-O.top)},I=C.width/D.offsetWidth||1,q=this.inRange(P.chartX,P.chartY,I);if(!q)return null;var z=this.state,L=z.xAxisMap,H=z.yAxisMap,Q=this.getTooltipEventType(),Y=X2(this.state,this.props.data,this.props.layout,q);if(Q!=="axis"&&L&&H){var B=Fi(L).scale,$=Fi(H).scale,V=B&&B.invert?B.invert(P.chartX):null,Z=$&&$.invert?$.invert(P.chartY):null;return fe(fe({},P),{},{xValue:V,yValue:Z},Y)}return Y?fe(fe({},P),Y):null}},{key:"inRange",value:function(E,D){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,P=E/C,I=D/C;if(O==="horizontal"||O==="vertical"){var q=this.state.offset,z=P>=q.left&&P<=q.left+q.width&&I>=q.top&&I<=q.top+q.height;return z?{x:P,y:I}:null}var L=this.state,H=L.angleAxisMap,Q=L.radiusAxisMap;if(H&&Q){var Y=Fi(H);return tN({x:P,y:I},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,D=this.getTooltipEventType(),C=yr(E,Yr),O={};C&&D==="axis"&&(C.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Sh(this.props,this.handleOuterEvent);return fe(fe({},P),O)}},{key:"addListener",value:function(){jx.on($x,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jx.removeListener($x,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,D,C){for(var O=this.state.formattedGraphicalItems,P=0,I=O.length;P<I;P++){var q=O[P];if(q.item===E||q.props.key===E.key||D===Ya(q.item.type)&&C===q.childIndex)return q}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,D=this.state.offset,C=D.left,O=D.top,P=D.height,I=D.width;return J.createElement("defs",null,J.createElement("clipPath",{id:E},J.createElement("rect",{x:C,y:O,height:P,width:I})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(D,C){var O=K2(C,2),P=O[0],I=O[1];return fe(fe({},D),{},Ue({},P,I.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(D,C){var O=K2(C,2),P=O[0],I=O[1];return fe(fe({},D),{},Ue({},P,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[E])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(E){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[E])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(E){var D=this.state,C=D.formattedGraphicalItems,O=D.activeItem;if(C&&C.length)for(var P=0,I=C.length;P<I;P++){var q=C[P],z=q.props,L=q.item,H=L.type.defaultProps!==void 0?fe(fe({},L.type.defaultProps),L.props):L.props,Q=Ya(L.type);if(Q==="Bar"){var Y=(z.data||[]).find(function(Z){return MY(E,Z)});if(Y)return{graphicalItem:q,payload:Y}}else if(Q==="RadialBar"){var B=(z.data||[]).find(function(Z){return tN(E,Z)});if(B)return{graphicalItem:q,payload:B}}else if(ip(q,O)||op(q,O)||ld(q,O)){var $=QW({graphicalItem:q,activeTooltipItem:O,itemData:H.data}),V=H.activeIndex===void 0?$:H.activeIndex;return{graphicalItem:fe(fe({},q),{},{childIndex:V}),payload:ld(q,O)?H.data[$]:q.props.data[$]}}}return null}},{key:"render",value:function(){var E=this;if(!hk(this))return null;var D=this.props,C=D.children,O=D.className,P=D.width,I=D.height,q=D.style,z=D.compact,L=D.title,H=D.desc,Q=Y2(D,vQ),Y=ze(Q,!1);if(z)return J.createElement(D2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement(n_,sl({},Y,{width:P,height:I,title:L,desc:H}),this.renderClipPath(),pk(C,this.renderMap)));if(this.props.accessibilityLayer){var B,$;Y.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,Y.role=($=this.props.role)!==null&&$!==void 0?$:"application",Y.onKeyDown=function(Z){E.accessibilityManager.keyboardEvent(Z)},Y.onFocus=function(){E.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return J.createElement(D2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement("div",sl({className:at("recharts-wrapper",O),style:fe({position:"relative",cursor:"default",width:P,height:I},q)},V,{ref:function(se){E.container=se}}),J.createElement(n_,sl({},Y,{width:P,height:I,title:L,desc:H,style:RQ}),this.renderClipPath(),pk(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Ue(w,"displayName",n),Ue(w,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ue(w,"getDerivedStateFromProps",function(T,k){var M=T.dataKey,E=T.data,D=T.children,C=T.width,O=T.height,P=T.layout,I=T.stackOffset,q=T.margin,z=k.dataStartIndex,L=k.dataEndIndex;if(k.updateId===void 0){var H=Z2(T);return fe(fe(fe({},H),{},{updateId:0},_(fe(fe({props:T},H),{},{updateId:0}),k)),{},{prevDataKey:M,prevData:E,prevWidth:C,prevHeight:O,prevLayout:P,prevStackOffset:I,prevMargin:q,prevChildren:D})}if(M!==k.prevDataKey||E!==k.prevData||C!==k.prevWidth||O!==k.prevHeight||P!==k.prevLayout||I!==k.prevStackOffset||!cl(q,k.prevMargin)){var Q=Z2(T),Y={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},B=fe(fe({},X2(k,E,P)),{},{updateId:k.updateId+1}),$=fe(fe(fe({},Q),Y),B);return fe(fe(fe({},$),_(fe({props:T},$),k)),{},{prevDataKey:M,prevData:E,prevWidth:C,prevHeight:O,prevLayout:P,prevStackOffset:I,prevMargin:q,prevChildren:D})}if(!e_(D,k.prevChildren)){var V,Z,se,U,G=yr(D,Ml),re=G&&(V=(Z=G.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&V!==void 0?V:z,ce=G&&(se=(U=G.props)===null||U===void 0?void 0:U.endIndex)!==null&&se!==void 0?se:L,_e=re!==z||ce!==L,ge=!lt(E),Ce=ge&&!_e?k.updateId:k.updateId+1;return fe(fe({updateId:Ce},_(fe(fe({props:T},k),{},{updateId:Ce,dataStartIndex:re,dataEndIndex:ce}),k)),{},{prevChildren:D,dataStartIndex:re,dataEndIndex:ce})}return null}),Ue(w,"renderActiveDot",function(T,k,M){var E;return j.isValidElement(T)?E=j.cloneElement(T,k):He(T)?E=T(k):E=J.createElement(Bw,k),J.createElement(wt,{className:"recharts-active-dot",key:M},E)});var A=j.forwardRef(function(k,M){return J.createElement(w,sl({},k,{ref:M}))});return A.displayName=w.displayName,A},zQ=w$({chartName:"BarChart",GraphicalChild:ts,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:fp},{axisType:"yAxis",AxisComp:hp}],formatAxisMap:nZ}),GQ=w$({chartName:"PieChart",GraphicalChild:ai,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ap},{axisType:"radiusAxis",AxisComp:np}],formatAxisMap:GG,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Q2=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82ca9d","#ffc658","#a4de6c","#d0ed57","#ff7300","#4CAF50","#F44336","#E91E63","#9C27B0","#3F51B5"],HQ=({active:t,payload:e})=>t&&e&&e.length?b.jsx("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:b.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:`${e[0].name} : ${ye(e[0].value)}`})}):null,KQ=({transactions:t,categories:e,type:n,month:r})=>{const a=J.useMemo(()=>{const i=t.filter(u=>u.type===n&&u.date.startsWith(r)&&u.category_id),s={};return i.forEach(u=>{u.category_id&&(s[u.category_id]=(s[u.category_id]||0)+u.amount)}),Object.entries(s).map(([u,d])=>{const c=e.find(h=>h.id===u);return{name:c?c.name:"Desconhecido",value:d}}).sort((u,d)=>d.value-u.value)},[t,e,n,r]);return a.length===0?b.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",n===xe.INCOME?"receitas":"despesas"," este mês."]}):b.jsx("div",{className:"w-full h-80 md:h-96",children:b.jsx(aj,{width:"100%",height:"100%",children:b.jsxs(GQ,{children:[b.jsx(ai,{data:a,cx:"50%",cy:"50%",labelLine:!1,outerRadius:"80%",fill:"#8884d8",dataKey:"value",nameKey:"name",label:({cx:i,cy:s,midAngle:u,innerRadius:d,outerRadius:c,percent:h,index:m})=>{const y=Math.PI/180,_=d+(c-d)*.5,w=i+_*Math.cos(-u*y),A=s+_*Math.sin(-u*y),T=document.documentElement.classList.contains("dark");return h*100<5?null:b.jsx("text",{x:w,y:A,fill:"#FFF",textAnchor:w>i?"start":"end",dominantBaseline:"central",fontSize:"12px",children:`${(h*100).toFixed(0)}%`})},children:a.map((i,s)=>b.jsx(Um,{fill:Q2[s%Q2.length]},`cell-${s}`))}),b.jsx(Yr,{content:b.jsx(HQ,{})}),b.jsx(zi,{formatter:(i,s)=>b.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:i})})]})})})},YQ=({active:t,payload:e,label:n})=>t&&e&&e.length?b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:[b.jsxs("p",{className:"text-sm font-semibold text-textBase dark:text-textBaseDark",children:["Dia ",n]}),b.jsxs("p",{className:`text-sm ${e[0].fill==="#00C49F"?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:[e[0].name,": ",ye(e[0].value)]})]}):null,WQ=({transactions:t,type:e,month:n})=>{const r=J.useMemo(()=>{const[s,u]=n.split("-").map(Number),d=new Date(s,u,0).getDate(),c=Array.from({length:d},(h,m)=>({name:(m+1).toString().padStart(2,"0"),value:0}));return t.forEach(h=>{if(h.type===e&&h.date.startsWith(n)){const m=parseInt(h.date.split("-")[2],10)-1;m>=0&&m<d&&(c[m].value+=h.amount)}}),c},[t,e,n]);if(r.every(s=>s.value===0))return b.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",e===xe.INCOME?"receitas":"despesas"," este mês."]});const a=s=>s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(0)}K`:s.toString(),i=e===xe.INCOME?"#00C49F":"#FF8042";return b.jsx("div",{className:"w-full h-80 md:h-96",children:b.jsx(aj,{width:"100%",height:"100%",children:b.jsxs(zQ,{data:r,margin:{top:5,right:0,left:-10,bottom:5},children:[b.jsx(u$,{strokeDasharray:"3 3",strokeOpacity:.2,className:"stroke-neutral dark:stroke-neutralDark"}),b.jsx(fp,{dataKey:"name",tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",interval:"preserveStartEnd"}),b.jsx(hp,{tickFormatter:a,tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",width:45}),b.jsx(Yr,{content:b.jsx(YQ,{}),cursor:{fill:"rgba(128, 128, 128, 0.1)"}}),b.jsx(zi,{payload:[{value:e===xe.INCOME?"Receitas":"Despesas",type:"square",color:i}],formatter:s=>b.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:s})}),b.jsx(ts,{dataKey:"value",name:e===xe.INCOME?"Receitas":"Despesas",fill:i,radius:[4,4,0,0]})]})})})},T$=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})]}),XQ=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),ZQ=({className:t="w-5 h-5",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 10.5h19.5M4.5 3v2.25M19.5 3v2.25"})]}),yS=({className:t="w-5 h-5",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75h.008v.008H12V6.75Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75h.008v.008H12v-.008Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75h.008v.008H12V18.75Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Z"})]}),eP=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 11.25a.75.75 0 0 1 0-1.5m1.259 5.25a.75.75 0 0 1 0-1.5m15.257 1.5a.75.75 0 0 1 0-1.5M16.5 6.375a.75.75 0 0 1 0-1.5m-9.75 1.5a.75.75 0 0 1 0-1.5M21 9.75A.75.75 0 0 1 20.25 9M12 3.75a.75.75 0 0 1 .75-.75M3.75 9A.75.75 0 0 1 3 9.75m1.5-4.5a.75.75 0 0 1-.75-.75"})}),JQ=({recurringTransactions:t,accounts:e,categories:n,onViewTransaction:r,isPrivacyModeEnabled:a})=>{const i=vt(new Date),s=vt(new Date(new Date().setDate(new Date().getDate()+7))),u=t.filter(m=>!m.is_paused&&(!m.end_date||m.end_date>=i)&&(m.remaining_occurrences===void 0||m.remaining_occurrences>0)),d=u.filter(m=>m.next_due_date<i).sort((m,y)=>new Date(m.next_due_date).getTime()-new Date(y.next_due_date).getTime()),c=u.filter(m=>m.next_due_date>=i&&m.next_due_date<=s).sort((m,y)=>new Date(m.next_due_date).getTime()-new Date(y.next_due_date).getTime());if(d.length===0&&c.length===0)return b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex items-center mb-3",children:[b.jsx(eP,{className:"w-6 h-6 text-secondary dark:text-secondaryDark mr-2"}),b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),b.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark text-center py-3",children:"Nenhuma conta vencida ou próxima do vencimento. Tudo em dia!"})]});const h=(m,y)=>{const _=e.find(k=>k.id===m.account_id),w=m.category_id?n.find(k=>k.id===m.category_id):null,A=m.type===xe.EXPENSE?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark",T=m.type===xe.EXPENSE?"-":"+";return b.jsx("li",{className:`p-3 rounded-md border-l-4 ${y?"border-destructive dark:border-destructiveDark bg-destructive/5 dark:bg-destructiveDark/10":"border-amber-500 dark:border-amber-400 bg-amber-500/5 dark:bg-amber-400/10"} hover:shadow-sm transition-shadow`,onClick:()=>r&&r(m.id),role:r?"button":void 0,tabIndex:r?0:void 0,"aria-label":`Ver detalhes de ${m.description}`,children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[y?b.jsx(ZQ,{className:"w-5 h-5 text-destructive dark:text-destructiveDark flex-shrink-0"}):b.jsx(yS,{className:"w-5 h-5 text-amber-500 dark:text-amber-400 flex-shrink-0"}),b.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:m.description})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-7",children:["Vence em: ",Xn(m.next_due_date),_&&` (${_.name})`,w&&` - ${w.name}`]})]}),b.jsxs("span",{className:`text-md font-bold ${A}`,children:[T,ye(m.amount,"BRL","pt-BR",a)]})]})},m.id)};return b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex items-center mb-4",children:[b.jsx(eP,{className:"w-6 h-6 text-primary dark:text-primaryDark mr-2"}),b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),b.jsxs("div",{className:"space-y-4",children:[d.length>0&&b.jsxs("div",{children:[b.jsxs("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Vencidas (",d.length,")"]}),b.jsx("ul",{className:"space-y-2",children:d.map(m=>h(m,!0))})]}),c.length>0&&b.jsxs("div",{children:[b.jsxs("h3",{className:`text-md font-semibold text-amber-600 dark:text-amber-500 mb-2 ${d.length>0?"mt-4":""}`,children:["Próximas (7 dias) (",c.length,")"]}),b.jsx("ul",{className:"space-y-2",children:c.map(m=>h(m,!1))})]})]})]})},tP=({transactions:t,accounts:e,categories:n,creditCards:r,installmentPurchases:a,moneyBoxes:i,loans:s,loanRepayments:u,recurringTransactions:d,onAddTransaction:c,calculateAccountBalance:h,calculateMoneyBoxBalance:m,onViewRecurringTransaction:y,isPrivacyModeEnabled:_})=>{const[w,A]=j.useState(xe.EXPENSE),[T,k]=j.useState("pie"),M=vt(new Date).substring(0,7),E=j.useMemo(()=>e.reduce((L,H)=>L+h(H.id),0),[e,h]),D=j.useMemo(()=>i.reduce((L,H)=>L+m(H.id),0),[i,m]),C=j.useMemo(()=>a.reduce((L,H)=>{if(H.installments_paid>=H.number_of_installments)return L;const Q=H.total_amount/H.number_of_installments,Y=H.number_of_installments-H.installments_paid;return L+Q*Y},0),[a]),O=j.useMemo(()=>s.reduce((L,H)=>{const Q=u.filter(Y=>Y.loan_id===H.id).reduce((Y,B)=>Y+B.amount_paid,0);return L+(H.total_amount_to_reimburse-Q)},0),[s,u]),P=j.useMemo(()=>E+D+O-C,[E,D,O,C]),I=j.useMemo(()=>[...t].sort((L,H)=>new Date(H.date).getTime()-new Date(L.date).getTime()).slice(0,5),[t]),q=j.useMemo(()=>n.filter(L=>L.type===xe.EXPENSE&&L.monthly_budget&&L.monthly_budget>0),[n]),z=j.useMemo(()=>{const L=q.reduce((Q,Y)=>Q+(Y.monthly_budget||0),0);let H=0;return q.forEach(Q=>{const Y=t.filter(B=>B.category_id===Q.id&&B.date.startsWith(M)&&B.type===xe.EXPENSE).reduce((B,$)=>B+$.amount,0);H+=Y}),{totalBudgeted:L,totalSpentInBudgetedCategories:H}},[q,t,M]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Painel Geral"}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Bem-vindo ao seu controle financeiro."})]}),b.jsxs(be,{onClick:c,variant:"primary",size:"lg",children:[b.jsx(Un,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO TOTAL (CONTAS)"}),b.jsx("p",{className:`text-3xl font-bold ${E>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:ye(E,"BRL","pt-BR",_)})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO CAIXINHAS"}),b.jsx("p",{className:`text-3xl font-bold ${D>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:ye(D,"BRL","pt-BR",_)})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex items-center w-full justify-between",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"A RECEBER (EMPRÉSTIMOS)"}),b.jsx(zS,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),b.jsx("p",{className:"text-3xl font-bold text-primary dark:text-primaryDark",children:ye(O,"BRL","pt-BR",_)})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30 flex flex-col items-start",children:[b.jsxs("div",{className:"flex items-center w-full justify-between",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"PATRIMÔNIO LÍQUIDO"}),b.jsx(Cq,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),b.jsx("p",{className:`text-3xl font-bold ${P>=0?"text-primary dark:text-primaryDark":"text-destructive dark:text-destructiveDark"}`,children:ye(P,"BRL","pt-BR",_)}),!_&&b.jsxs("div",{className:"text-xs mt-1 space-y-0.5",children:[C>0&&b.jsxs("p",{className:"text-destructive dark:text-destructiveDark/80",children:["Dívida Cartões: ",ye(C)]}),O>0&&b.jsxs("p",{className:"text-primary dark:text-primaryDark/80",children:["Empréstimos a Receber: ",ye(O)]})]})]})]}),b.jsx(JQ,{recurringTransactions:d,accounts:e,categories:n,onViewTransaction:y,isPrivacyModeEnabled:_}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[b.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:["Resumo Mensal (",M.split("-")[1],"/",M.split("-")[0],")"]}),b.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[b.jsx(be,{variant:w===xe.EXPENSE?"primary":"ghost",size:"sm",onClick:()=>A(xe.EXPENSE),children:"Despesas"}),b.jsx(be,{variant:w===xe.INCOME?"secondary":"ghost",size:"sm",onClick:()=>A(xe.INCOME),children:"Receitas"}),b.jsx("div",{className:"h-6 border-l border-borderBase dark:border-borderBaseDark mx-1 sm:mx-2"}),b.jsx(be,{variant:T==="pie"?"primary":"ghost",size:"sm",onClick:()=>k("pie"),className:"!px-2",title:"Gráfico de Pizza",children:b.jsx(T$,{className:"w-4 h-4"})}),b.jsx(be,{variant:T==="bar"?"primary":"ghost",size:"sm",onClick:()=>k("bar"),className:"!px-2",title:"Gráfico de Barras",children:b.jsx(XQ,{className:"w-4 h-4"})})]})]}),_?b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Gráficos ocultos em Modo Privacidade."}):T==="pie"?b.jsx(KQ,{transactions:t,categories:n.filter(L=>L.type===w),type:w,month:M}):b.jsx(WQ,{transactions:t,type:w,month:M})]}),q.length>0&&b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:["Orçamento Mensal (",M.split("-")[1],"/",M.split("-")[0],")"]}),b.jsxs("div",{className:"mb-3",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsxs("span",{children:["Total Gasto (Orçado): ",ye(z.totalSpentInBudgetedCategories,"BRL","pt-BR",_)]}),b.jsxs("span",{children:["Total Orçado: ",ye(z.totalBudgeted,"BRL","pt-BR",_)]})]}),!_&&z.totalBudgeted>0&&b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 mt-1 dark:progress-bar-bg",children:b.jsx("div",{className:`h-2.5 rounded-full ${z.totalSpentInBudgetedCategories>z.totalBudgeted?"bg-destructive":"bg-primary dark:bg-primaryDark"}`,style:{width:`${Math.min(z.totalSpentInBudgetedCategories/z.totalBudgeted*100,100)}%`}})}),_&&b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center",children:"Progresso oculto em Modo Privacidade."})]}),b.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto",children:q.map(L=>{const H=t.filter(B=>B.category_id===L.id&&B.date.startsWith(M)&&B.type===xe.EXPENSE).reduce((B,$)=>B+$.amount,0),Q=L.monthly_budget?Math.min(H/L.monthly_budget*100,100):0,Y=L.monthly_budget?H>L.monthly_budget:!1;return b.jsxs("li",{className:"text-sm",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:L.name}),b.jsxs("span",{className:Y?"text-destructive dark:text-destructiveDark":"",children:[ye(H,"BRL","pt-BR",_)," / ",ye(L.monthly_budget||0,"BRL","pt-BR",_)]})]}),!_&&L.monthly_budget&&L.monthly_budget>0&&b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-1.5 mt-0.5 dark:progress-bar-bg",children:b.jsx("div",{className:`h-1.5 rounded-full ${Y?"bg-destructive":"bg-secondary dark:bg-secondaryDark"}`,style:{width:`${Q}%`}})})]},L.id)})})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:"Transações Recentes"}),I.length>0?b.jsx("ul",{className:"space-y-3",children:I.map(L=>{const H=e.find($=>$.id===L.account_id),Q=n.find($=>$.id===L.category_id);let Y="text-textBase dark:text-textBaseDark";L.type===xe.INCOME?Y="text-secondary dark:text-secondaryDark":L.type===xe.EXPENSE&&(Y="text-destructive dark:text-destructiveDark");let B=L.description||(L.type===xe.TRANSFER?"Transferência":Q==null?void 0:Q.name)||"Transação";if(L.type===xe.TRANSFER){const $=e.find(V=>V.id===L.to_account_id);B+=` para ${($==null?void 0:$.name)||"N/A"}`}return b.jsxs("li",{className:"flex justify-between items-center py-2 border-b border-borderBase/50 dark:border-borderBaseDark/50 last:border-b-0",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-textBase dark:text-textBaseDark",children:B}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[H==null?void 0:H.name," • ",Xn(L.date)]})]}),b.jsx("p",{className:`font-semibold ${Y}`,children:ye(L.amount,"BRL","pt-BR",_)})]},L.id)})}):b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Nenhuma transação recente."})]})]})},Qr=({className:t="w-5 h-5",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79M5.25 5.79h13.5"})}),ea=({className:t="w-5 h-5",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),pp=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})}),QQ=({transaction:t,accounts:e,categories:n,tags:r,installmentPurchases:a,onEdit:i,onDelete:s,isPrivacyModeEnabled:u})=>{const{type:d,amount:c,category_id:h,description:m,date:y,account_id:_,to_account_id:w,tag_ids:A}=t,T=e.find(z=>z.id===_),k=w?e.find(z=>z.id===w):null,M=h?n.find(z=>z.id===h):null,E=A?r.filter(z=>A.includes(z.id)):[];let D="text-textBase dark:text-textBaseDark",C="";d===xe.INCOME?(D="text-secondary dark:text-secondaryDark",C="+"):d===xe.EXPENSE&&(D="text-destructive dark:text-destructiveDark",C="-");const O=m||(M==null?void 0:M.name)||d,P=[];T&&P.push(T.name),d===xe.TRANSFER&&k?P.push(`➔ ${k.name}`):M&&d!==xe.TRANSFER&&P.push(M.name);const I=z=>{if(!z)return"text-textBase dark:text-textBaseDark";try{const L=parseInt(z.slice(1,3),16),H=parseInt(z.slice(3,5),16),Q=parseInt(z.slice(5,7),16);return(.299*L+.587*H+.114*Q)/255>.5?"text-neutral-800":"text-white"}catch{return"text-white"}},q=a.some(z=>z.linked_transaction_id===t.id&&z.number_of_installments===1);return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-2 sm:space-y-0",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsxs("span",{className:`font-semibold text-lg ${D}`,children:[C,ye(c,"BRL","pt-BR",u)]}),b.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:O}),q&&b.jsxs("span",{title:"Débito em fatura de cartão",className:"ml-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300 px-1.5 py-0.5 rounded-full inline-flex items-center",children:[b.jsx(pp,{className:"w-3 h-3 mr-1"})," Cartão"]})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[Xn(y)," ",b.jsx("span",{className:"mx-1",children:"•"})," ",P.join(" ")]}),m&&M&&d!==xe.TRANSFER&&b.jsx("p",{className:"text-xs text-neutral/70 dark:text-neutralDark/70 italic mt-1",children:m}),E.length>0&&b.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:E.map(z=>b.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full border
                            ${z.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:z.color?{backgroundColor:z.color,borderColor:z.color}:{},children:b.jsx("span",{className:z.color?I(z.color):"text-textBase dark:text-textBaseDark",children:z.name})},z.id))})]}),b.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>i(t),"aria-label":"Editar",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>s(t.id),"aria-label":"Excluir",children:b.jsx(Qr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})},Tt=({label:t,id:e,error:n,className:r,containerClassName:a,options:i,placeholder:s,...u})=>b.jsxs("div",{className:a,children:[t&&b.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),b.jsxs("select",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...u,children:[s&&b.jsx("option",{value:"",children:s}),i.map(h=>b.jsx("option",{value:h.value,children:h.label},h.value))]}),n&&b.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),je=({label:t,id:e,error:n,className:r,containerClassName:a,...i})=>b.jsxs("div",{className:a,children:[t&&b.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),b.jsx("input",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...i}),n&&b.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),eee=({transactions:t,accounts:e,categories:n,tags:r,installmentPurchases:a,onAddTransaction:i,onEditTransaction:s,onDeleteTransaction:u,isLoading:d,isPrivacyModeEnabled:c})=>{const[h,m]=j.useState("all"),[y,_]=j.useState("all"),[w,A]=j.useState("all"),[T,k]=j.useState("all"),[M,E]=j.useState([]),[D,C]=j.useState(""),[O,P]=j.useState("desc"),I=[{value:"all",label:"Todas as Contas"},...e.map(B=>({value:B.id,label:B.name}))],q=[{value:"all",label:"Todas as Categorias"},...n.map(B=>({value:B.id,label:B.name}))],z=[{value:"all",label:"Todos os Tipos"},...km],L=r.map(B=>({value:B.id,label:B.name})),H=j.useMemo(()=>{let B=[...t];if(h!=="all"){const $=new Date;let V=null,Z=new Date($.getFullYear(),$.getMonth(),$.getDate(),23,59,59,999);if(h==="today"?V=new Date($.getFullYear(),$.getMonth(),$.getDate()):h==="current_month"?(V=new Date($.getFullYear(),$.getMonth(),1),Z=new Date($.getFullYear(),$.getMonth()+1,0,23,59,59,999)):h==="last_7_days"?(V=new Date($),V.setDate($.getDate()-6),V.setHours(0,0,0,0)):h==="last_30_days"&&(V=new Date($),V.setDate($.getDate()-29),V.setHours(0,0,0,0)),V){const se=vt(V),U=vt(Z);B=B.filter(G=>G.date>=se&&G.date<=U)}}if(y!=="all"&&(B=B.filter($=>$.type===y)),w!=="all"&&(B=B.filter($=>$.account_id===w||$.to_account_id===w)),T!=="all"&&(B=B.filter($=>$.category_id===T)),M.length>0&&(B=B.filter($=>$.tag_ids&&$.tag_ids.some(V=>M.includes(V)))),D.trim()!==""){const $=D.toLowerCase();B=B.filter(V=>{var Z;return V.description&&V.description.toLowerCase().includes($)||V.category_id&&((Z=n.find(se=>se.id===V.category_id))==null?void 0:Z.name.toLowerCase().includes($))})}return B.sort(($,V)=>{const Z=new Date($.date).getTime(),se=new Date(V.date).getTime();return O==="desc"?se-Z:Z-se}),B},[t,h,y,w,T,M,D,n,O]),Q=j.useCallback(()=>P(B=>B==="asc"?"desc":"asc"),[]),Y=B=>{const $=B.target.options,V=[];for(let Z=0,se=$.length;Z<se;Z++)$[Z].selected&&V.push($[Z].value);E(V)};return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações"}),b.jsxs(be,{onClick:i,variant:"primary",children:[b.jsx(Un,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-6 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx(Tt,{label:"Período",options:_q,value:h,onChange:B=>m(B.target.value)}),b.jsx(Tt,{label:"Tipo",options:z,value:y,onChange:B=>_(B.target.value)}),b.jsx(Tt,{label:"Conta",options:I,value:w,onChange:B=>A(B.target.value)}),b.jsx(Tt,{label:"Categoria",options:q,value:T,onChange:B=>k(B.target.value),disabled:y===xe.TRANSFER.toString()}),r.length>0&&b.jsx(Tt,{label:"Tags",options:L,value:M,onChange:Y,multiple:!0,className:"h-24",placeholder:"Todas as Tags"}),b.jsx(je,{label:"Buscar Descrição",type:"text",placeholder:"Ex: Supermercado",value:D,onChange:B=>C(B.target.value),containerClassName:r.length===0?"lg:col-span-2":""})]}),b.jsx("div",{className:"flex justify-end",children:b.jsxs(be,{variant:"ghost",size:"sm",onClick:Q,children:["Ordenar por Data: ",O==="desc"?"Mais Recentes":"Mais Antigas"]})}),d&&b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Carregando transações..."}),!d&&H.length>0?b.jsx("ul",{className:"space-y-3",children:H.map(B=>b.jsx(QQ,{transaction:B,accounts:e,categories:n,tags:r,installmentPurchases:a,onEdit:s,onDelete:u,isPrivacyModeEnabled:c},B.id))}):!d&&b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação encontrada com os filtros aplicados."})]})},tee=({account:t,balance:e,onEdit:n,onDelete:r,transactionCount:a,isPrivacyModeEnabled:i})=>b.jsx("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(pp,{className:"w-6 h-6 text-primary dark:text-primaryDark"}),b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),b.jsx("p",{className:`text-2xl font-bold mt-1 ${e>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:ye(e,"BRL","pt-BR",i)}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1",children:["Saldo Inicial: ",ye(t.initial_balance,"BRL","pt-BR",i)]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[b.jsxs("div",{className:"flex space-x-2",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Conta",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Conta",disabled:a>0,title:a>0?"Não pode excluir contas com transações associadas":"Excluir conta",children:b.jsx(Qr,{className:`w-4 h-4 ${a>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),a>0&&b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Possui ",a," transaçõe(s)"]})]})]})}),An=({isOpen:t,onClose:e,title:n,children:r,size:a="md"})=>{if(!t)return null;let i="max-w-md";return a==="sm"&&(i="max-w-sm"),a==="lg"&&(i="max-w-lg"),a==="xl"&&(i="max-w-xl"),b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 dark:bg-opacity-70 backdrop-blur-sm p-4",children:b.jsxs("div",{className:`bg-surface dark:bg-surfaceDark rounded-lg shadow-xl dark:shadow-neutralDark/50 w-full ${i} transform transition-all flex flex-col max-h-[85vh]`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[b.jsxs("div",{id:"modal-title",className:"flex items-center justify-between px-6 py-4 border-b border-borderBase dark:border-borderBaseDark flex-shrink-0",children:[b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n}),b.jsx("button",{onClick:e,className:"text-textMuted dark:text-textMutedDark hover:text-textBase dark:hover:text-textBaseDark transition-colors","aria-label":"Fechar modal",children:b.jsx(eI,{className:"w-5 h-5"})})]}),b.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:r})]})})},nee=({accounts:t,transactions:e,onAddAccount:n,onUpdateAccount:r,onDeleteAccount:a,calculateAccountBalance:i,isPrivacyModeEnabled:s})=>{const[u,d]=j.useState(!1),[c,h]=j.useState(null),[m,y]=j.useState(""),[_,w]=j.useState("0"),[A,T]=j.useState(""),k=()=>{h(null),y(""),w("0"),T(""),d(!0)},M=O=>{h(O),y(O.name),w(O.initial_balance.toString()),T(""),d(!0)},E=()=>{d(!1),h(null)},D=()=>{if(!m.trim()){T("Nome da conta é obrigatório.");return}const O=parseFloat(_);if(isNaN(O)){T("Saldo inicial inválido.");return}T(""),c?r({...c,name:m,initial_balance:O}):n({name:m,initial_balance:O}),E()},C=O=>e.filter(P=>P.account_id===O||P.to_account_id===O).length;return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Contas"}),b.jsxs(be,{onClick:k,variant:"primary",children:[b.jsx(Un,{className:"w-5 h-5 mr-2"}),"Nova Conta"]})]}),t.length>0?b.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(O=>b.jsx(tee,{account:O,balance:i(O.id),onEdit:M,onDelete:a,transactionCount:C(O.id),isPrivacyModeEnabled:s},O.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma conta cadastrada. Adicione uma para começar!"}),b.jsx(An,{isOpen:u,onClose:E,title:c?"Editar Conta":"Nova Conta",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(je,{label:"Nome da Conta",id:"accountName",type:"text",value:m,onChange:O=>y(O.target.value),placeholder:"Ex: Carteira, Banco X",required:!0}),b.jsx(je,{label:"Saldo Inicial",id:"initialBalance",type:"number",step:"0.01",value:_,onChange:O=>w(O.target.value),placeholder:s?ye(0,"BRL","pt-BR",!0).replace("0,00","Ex: 1000.00"):"Ex: 1000.00",required:!0}),A&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:A}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:E,children:"Cancelar"}),b.jsx(be,{variant:"primary",onClick:D,children:"Salvar"})]})]})})]})},A$=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),nP=({category:t,transactions:e,onEdit:n,onDelete:r,transactionCount:a,isPrivacyModeEnabled:i})=>{const s=t.type===xe.INCOME?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",u=t.type===xe.INCOME?"Receita":"Despesa",d=vt().substring(0,7),c=t.type===xe.EXPENSE&&t.monthly_budget?e.filter(y=>y.category_id===t.id&&y.date.startsWith(d)&&y.type===xe.EXPENSE).reduce((y,_)=>y+_.amount,0):0,h=t.monthly_budget&&t.monthly_budget>0?Math.min(c/t.monthly_budget*100,100):0,m=t.monthly_budget&&c>t.monthly_budget;return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(A$,{className:`w-5 h-5 ${s}`}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.name}),b.jsx("p",{className:`text-xs font-semibold ${s}`,children:u})]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[b.jsxs("div",{className:"flex space-x-2",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Categoria",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Categoria",className:"!p-1.5",disabled:a>0,title:a>0?"Não pode excluir categorias com transações associadas":"Excluir categoria",children:b.jsx(Qr,{className:`w-4 h-4 ${a>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),a>0&&b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Usada em ",a," trans."]})]})]}),t.type===xe.EXPENSE&&t.monthly_budget&&t.monthly_budget>0&&b.jsxs("div",{className:"mt-3 pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[b.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[b.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Orçamento Mensal: ",ye(t.monthly_budget,"BRL","pt-BR",i)]}),b.jsxs("span",{className:`font-medium ${m?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark"}`,children:["Gasto: ",ye(c,"BRL","pt-BR",i)]})]}),b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:b.jsx("div",{className:`h-2 rounded-full ${m?"bg-destructive dark:bg-destructiveDark":"bg-primary dark:bg-primaryDark"}`,style:{width:`${h}%`}})}),m&&b.jsx("p",{className:"text-xs text-destructive dark:text-destructiveDark mt-1 text-right",children:"Orçamento excedido!"})]})]})},qo=({className:t="w-5 h-5",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.355a12.053 12.053 0 0 1-4.5 0M12 3V1.5M12 16.5h.008v.008H12V16.5Zm-4.508-2.656L6.292 12.64a9.018 9.018 0 0 1-.365-2.074 9.028 9.028 0 0 1 .365-2.073l1.208-1.208m5.832 5.46L17.708 12.36a9.018 9.018 0 0 0 .365-2.074 9.028 9.028 0 0 0-.365-2.073L16.5 6.992M12 1.5a9 9 0 0 0-9 9c0 2.21.81 4.286 2.186 5.885L6.9 17.72A9.03 9.03 0 0 0 12 22.5a9.03 9.03 0 0 0 5.1-4.78l1.714-1.335A8.973 8.973 0 0 0 21 10.5a9 9 0 0 0-9-9Z"})}),ree=({categories:t,transactions:e,aiConfig:n,onAddCategory:r,onUpdateCategory:a,onDeleteCategory:i,onSuggestBudget:s,isPrivacyModeEnabled:u})=>{const[d,c]=j.useState(!1),[h,m]=j.useState(null),[y,_]=j.useState(""),[w,A]=j.useState(xe.EXPENSE),[T,k]=j.useState(""),[M,E]=j.useState(""),[D,C]=j.useState(!1),O=()=>{m(null),_(""),A(xe.EXPENSE),k(""),E(""),c(!0)},P=Y=>{var B;m(Y),_(Y.name),A(Y.type),k(((B=Y.monthly_budget)==null?void 0:B.toString())||""),E(""),c(!0)},I=()=>{c(!1),m(null)},q=()=>{if(!y.trim()){E("Nome da categoria é obrigatório.");return}const Y=T?parseFloat(T):void 0;if(w===xe.EXPENSE&&T&&(isNaN(Y)||Y<0)){E("Orçamento mensal deve ser um número positivo ou vazio.");return}E(""),h?a({...h,name:y.trim(),type:w,monthly_budget:w===xe.EXPENSE?Y:void 0}):r({name:y.trim(),type:w,monthly_budget:w===xe.EXPENSE?Y:void 0}),I()},z=Y=>e.filter(B=>B.category_id===Y).length,L=async()=>{if(!y.trim()&&!h){E("Por favor, insira um nome para a categoria antes de sugerir um orçamento.");return}E(""),C(!0);const Y=t.filter($=>$.type===xe.EXPENSE&&$.id!==(h==null?void 0:h.id)&&$.monthly_budget).map($=>({name:$.name,budget:$.monthly_budget})),B=await s((h==null?void 0:h.name)||y,Y);B!==null?k(B.toString()):E("Não foi possível sugerir um orçamento no momento."),C(!1)},H=t.filter(Y=>Y.type===xe.INCOME).sort((Y,B)=>Y.name.localeCompare(B.name)),Q=t.filter(Y=>Y.type===xe.EXPENSE).sort((Y,B)=>Y.name.localeCompare(B.name));return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Categorias"}),b.jsxs(be,{onClick:O,variant:"primary",children:[b.jsx(Un,{className:"w-5 h-5 mr-2"}),"Nova Categoria"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Receitas (",H.length,")"]}),H.length>0?b.jsx("ul",{className:"space-y-3",children:H.map(Y=>b.jsx(nP,{category:Y,transactions:e,onEdit:P,onDelete:i,transactionCount:z(Y.id),isPrivacyModeEnabled:u},Y.id))}):b.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de receita."})]}),b.jsxs("div",{children:[b.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Despesas (",Q.length,")"]}),Q.length>0?b.jsx("ul",{className:"space-y-3",children:Q.map(Y=>b.jsx(nP,{category:Y,transactions:e,onEdit:P,onDelete:i,transactionCount:z(Y.id),isPrivacyModeEnabled:u},Y.id))}):b.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de despesa."})]})]}),b.jsx(An,{isOpen:d,onClose:I,title:h?"Editar Categoria":"Nova Categoria",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(je,{label:"Nome da Categoria",id:"categoryName",type:"text",value:y,onChange:Y=>_(Y.target.value),placeholder:"Ex: Alimentação, Salário",required:!0}),b.jsx(Tt,{label:"Tipo de Categoria",id:"categoryType",options:[{value:xe.INCOME,label:"Receita"},{value:xe.EXPENSE,label:"Despesa"}],value:w,onChange:Y=>{A(Y.target.value),Y.target.value===xe.INCOME&&k("")},required:!0}),w===xe.EXPENSE&&b.jsxs("div",{className:"space-y-1",children:[b.jsx(je,{label:"Orçamento Mensal (Opcional)",id:"monthlyBudget",type:"number",step:"0.01",value:T,onChange:Y=>k(Y.target.value),placeholder:u?ye(0,"BRL","pt-BR",!0).replace("0,00","Ex: 500.00"):"Ex: 500.00"}),n.isEnabled&&n.apiKeyStatus==="available"&&n.monthlyIncome&&n.monthlyIncome>0&&b.jsxs(be,{type:"button",variant:"ghost",size:"sm",onClick:L,disabled:D,className:"text-primary dark:text-primaryDark !mt-1.5",children:[b.jsx(qo,{className:"w-4 h-4 mr-1.5"}),D?"Sugerindo...":"Sugerir com IA"]})]}),M&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:M}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:I,children:"Cancelar"}),b.jsx(be,{variant:"primary",onClick:q,children:"Salvar"})]})]})})]})},Ww=({className:t="w-5 h-5",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25zM12 2.25L11.187 5.104a4.502 4.502 0 00-3.09 3.09L5.25 9l2.846.813a4.502 4.502 0 003.09 3.09L12 15.75l.813-2.846a4.502 4.502 0 003.09-3.09L18.75 9l-2.846-.813a4.502 4.502 0 00-3.09-3.09L12 2.25z"})]}),aee=({card:t,installmentPurchases:e,onEditCard:n,onDeleteCard:r,onAddInstallmentPurchase:a,onEditInstallmentPurchase:i,onDeleteInstallmentPurchase:s,onMarkInstallmentPaid:u,onGetBestPurchaseDay:d,onPayMonthlyInstallments:c,isAIFeatureEnabled:h,isPrivacyModeEnabled:m})=>{const[y,_]=j.useState(!1),w=e.filter(M=>M.credit_card_id===t.id),A=w.reduce((M,E)=>{if(E.installments_paid>=E.number_of_installments)return M;const D=E.total_amount/E.number_of_installments,C=E.number_of_installments-E.installments_paid;return M+D*C},0),T=t.card_limit-A,k=J.useMemo(()=>QR(w,t,new Date),[w,t]);return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow-lg hover:shadow-xl dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[b.jsx(pp,{className:"w-7 h-7 text-primary dark:text-primaryDark"}),b.jsx("h3",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Limite Total: ",ye(t.card_limit,"BRL","pt-BR",m)]}),b.jsxs("p",{className:`text-md font-medium ${T>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:["Disponível: ",ye(T,"BRL","pt-BR",m)]}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Fechamento: Dia ",t.closing_day," | Vencimento: Dia ",t.due_day]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1.5",children:[b.jsxs("div",{className:"flex space-x-1",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Cartão",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Cartão",className:"!p-1.5",disabled:w.length>0,title:w.length>0?"Exclua as compras parceladas primeiro":"Excluir cartão",children:b.jsx(Qr,{className:`w-4 h-4 ${w.length>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),b.jsxs(be,{size:"sm",variant:"secondary",onClick:()=>a(t),className:"!text-xs !py-1 !px-2.5",children:[b.jsx(Un,{className:"w-4 h-4 mr-1"})," Novo Parcelamento"]})]})]}),b.jsxs("div",{className:"space-y-2",children:[h&&b.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>d(t.id),className:"text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !text-xs",title:"Ver melhor dia para compra com IA",children:[b.jsx(Ww,{className:"w-4 h-4 mr-1.5"})," Melhor Dia para Compra (IA)"]}),k.length>0&&b.jsxs(be,{variant:"primary",size:"sm",onClick:()=>c(t.id),className:"w-full !text-xs",children:["Pagar Parcelas da Fatura (",k.length,")"]})]}),w.length>0&&b.jsx("div",{className:"mt-2",children:b.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>_(!y),className:"text-sm text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !font-normal",children:[y?"Ocultar":"Mostrar"," ",w.length," Compra(s) Parcelada(s)"]})}),y&&w.length>0&&b.jsxs("div",{className:"mt-2 pt-3 border-t border-borderBase/50 dark:border-borderBaseDark/50 space-y-3",children:[b.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark",children:"Detalhes dos Parcelamentos:"}),b.jsx("ul",{className:"space-y-3 max-h-72 overflow-y-auto pr-1",children:w.map(M=>{const E=M.total_amount/M.number_of_installments,D=M.installments_paid>=M.number_of_installments,C=M.installments_paid+1,O=D?null:JR(M.purchase_date,C,t.due_day),P=k.some(I=>I.id===M.id);return b.jsxs("li",{className:`p-3 rounded-md ${D?"bg-green-500/10 dark:bg-green-500/20 opacity-70":"bg-surface dark:bg-surfaceDark shadow-sm border border-borderBase dark:border-borderBaseDark"}`,children:[b.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[b.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:M.description}),b.jsxs("div",{className:"flex space-x-1",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>i(M,t),"aria-label":"Editar Compra",className:"!p-1",children:b.jsx(ea,{className:"w-3.5 h-3.5"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>s(M.id),"aria-label":"Excluir Compra",className:"!p-1",children:b.jsx(Qr,{className:"w-3.5 h-3.5 text-destructive dark:text-destructiveDark"})})]})]}),b.jsxs("div",{className:"text-sm space-y-0.5",children:[b.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Parcela: ",b.jsx("span",{className:"font-medium",children:ye(E,"BRL","pt-BR",m)}),b.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:[" (",M.installments_paid,"/",M.number_of_installments," pagas)"]})]}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Total: ",ye(M.total_amount,"BRL","pt-BR",m)," | Compra: ",Xn(M.purchase_date)]}),O&&!D&&b.jsxs("p",{className:`text-xs font-medium ${P?"text-red-600 dark:text-red-400":"text-textMuted dark:text-textMutedDark"}`,children:["Próx. Venc. Parcela: ",Xn(vt(O))]})]}),!D&&b.jsxs(be,{size:"sm",variant:P?"primary":"ghost",onClick:()=>u(M.id),className:`text-xs py-1 px-2 mt-2.5 w-full sm:w-auto ${P?"":"border border-borderBase dark:border-borderBaseDark"}`,children:[P?b.jsx(Zx,{className:"w-4 h-4 mr-1"}):null,"Pagar Parcela (",C,")"]}),D&&b.jsxs("p",{className:"text-xs text-secondary dark:text-secondaryDark mt-2 font-medium flex items-center",children:[b.jsx(Zx,{className:"w-4 h-4 mr-1"})," Compra Totalmente Paga"]})]},M.id)})})]}),y&&w.length===0&&b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center py-2",children:"Nenhuma compra parcelada para este cartão."})]})},iee=({isOpen:t,onClose:e,onSave:n,existingCard:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState(""),[d,c]=j.useState(""),[h,m]=j.useState(""),[y,_]=j.useState({});j.useEffect(()=>{r?(i(r.name),u(r.card_limit.toString()),c(r.closing_day.toString()),m(r.due_day.toString())):(i(""),u(""),c(""),m("")),_({})},[r,t]);const w=()=>{const T={};a.trim()||(T.name="Nome do cartão é obrigatório.");const k=parseFloat(s);(isNaN(k)||k<=0)&&(T.limit="Limite deve ser um número positivo.");const M=parseInt(d,10);(isNaN(M)||M<1||M>31)&&(T.closingDay="Dia de fechamento deve ser entre 1 e 31.");const E=parseInt(h,10);return(isNaN(E)||E<1||E>31)&&(T.dueDay="Dia de vencimento deve ser entre 1 e 31."),_(T),Object.keys(T).length===0},A=()=>{if(!w())return;const T={id:(r==null?void 0:r.id)||We(),name:a.trim(),card_limit:parseFloat(s),closing_day:parseInt(d,10),due_day:parseInt(h,10)};n(T),e()};return b.jsx(An,{isOpen:t,onClose:e,title:r?"Editar Cartão de Crédito":"Novo Cartão de Crédito",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(je,{label:"Nome do Cartão",id:"cardName",value:a,onChange:T=>i(T.target.value),error:y.name,placeholder:"Ex: Cartão Principal, Cartão Viagem"}),b.jsx(je,{label:"Limite do Cartão (R$)",id:"cardLimit",type:"number",step:"0.01",value:s,onChange:T=>u(T.target.value),error:y.limit,placeholder:"Ex: 5000.00"}),b.jsx(je,{label:"Dia de Fechamento da Fatura",id:"cardClosingDay",type:"number",min:"1",max:"31",value:d,onChange:T=>c(T.target.value),error:y.closingDay,placeholder:"Ex: 25"}),b.jsx(je,{label:"Dia de Vencimento da Fatura",id:"cardDueDay",type:"number",min:"1",max:"31",value:h,onChange:T=>m(T.target.value),error:y.dueDay,placeholder:"Ex: 10"}),y.form&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:y.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{variant:"primary",onClick:A,children:"Salvar Cartão"})]})]})})},oee=({isOpen:t,onClose:e,onSave:n,creditCard:r,existingPurchase:a})=>{const[i,s]=j.useState(""),[u,d]=j.useState(vt()),[c,h]=j.useState(""),[m,y]=j.useState(""),[_,w]=j.useState("0"),[A,T]=j.useState({});j.useEffect(()=>{a?(s(a.description),d(a.purchase_date),h(a.total_amount.toString()),y(a.number_of_installments.toString()),w(a.installments_paid.toString())):(s(""),d(vt()),h(""),y(""),w("0")),T({})},[a,t]);const k=()=>{const E={};i.trim()||(E.description="Descrição é obrigatória."),u||(E.purchaseDate="Data da compra é obrigatória.");const D=parseFloat(c);(isNaN(D)||D<=0)&&(E.totalAmount="Valor total deve ser positivo.");const C=parseInt(m,10);(isNaN(C)||C<=0)&&(E.numberOfInstallments="Número de parcelas deve ser positivo.");const O=parseInt(_,10);return(isNaN(O)||O<0||C>0&&O>C)&&(E.installmentsPaid="Parcelas pagas inválido."),T(E),Object.keys(E).length===0},M=()=>{if(!k())return;const E={id:(a==null?void 0:a.id)||We(),credit_card_id:r.id,description:i.trim(),purchase_date:u,total_amount:parseFloat(c),number_of_installments:parseInt(m,10),installments_paid:parseInt(_,10)};n(E),e()};return b.jsxs(An,{isOpen:t,onClose:e,title:a?"Editar Compra Parcelada":"Nova Compra Parcelada",children:[b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark mb-3",children:["Cartão: ",b.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:r.name})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx(je,{label:"Descrição da Compra",id:"purchaseDescription",value:i,onChange:E=>s(E.target.value),error:A.description,placeholder:"Ex: Celular Novo, Geladeira"}),b.jsx(je,{label:"Data da Compra",id:"purchaseDate",type:"date",value:u,onChange:E=>d(E.target.value),error:A.purchaseDate}),b.jsx(je,{label:"Valor Total (R$)",id:"totalAmount",type:"number",step:"0.01",value:c,onChange:E=>h(E.target.value),error:A.totalAmount,placeholder:"Ex: 1200.00"}),b.jsx(je,{label:"Número de Parcelas",id:"numberOfInstallments",type:"number",min:"1",value:m,onChange:E=>y(E.target.value),error:A.numberOfInstallments,placeholder:"Ex: 12"}),a&&b.jsx(je,{label:"Parcelas Pagas",id:"installmentsPaid",type:"number",min:"0",max:m||void 0,value:_,onChange:E=>w(E.target.value),error:A.installmentsPaid}),A.form&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:A.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{variant:"primary",onClick:M,children:"Salvar Compra"})]})]})]})},see=({isOpen:t,onClose:e,advice:n,isLoading:r,cardName:a})=>b.jsxs(An,{isOpen:t,onClose:e,title:`Melhor Dia para Compra ${a?`(${a})`:""}`,size:"md",children:[r&&b.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 p-6",children:[b.jsx(Ww,{className:"w-12 h-12 text-primary dark:text-primaryDark animate-pulse"}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Analisando o melhor dia para sua compra..."}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Aguarde um momento."})]}),!r&&n&&b.jsxs("div",{className:"space-y-4 p-2",children:[n.error?b.jsxs("div",{className:"bg-destructive/10 dark:bg-destructiveDark/20 p-4 rounded-md border-l-4 border-destructive dark:border-destructiveDark",children:[b.jsx("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-1",children:"Erro ao Analisar"}),b.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:n.explanation||"Não foi possível obter a sugestão no momento."})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Melhor dia para sua próxima compra:"}),b.jsx("p",{className:"text-2xl font-bold text-primary dark:text-primaryDark my-1",children:n.bestPurchaseDay||"N/A"})]}),b.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-4 rounded-md",children:[b.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Pagamento estimado para:"}),b.jsx("p",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n.paymentDueDate||"N/A"})]}),b.jsxs("div",{className:"mt-3",children:[b.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"Por quê?"}),b.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark bg-surface p-3 rounded-md shadow-inner dark:bg-surfaceDark/50",children:n.explanation||"Informação não disponível."})]})]}),b.jsx("div",{className:"flex justify-end pt-3",children:b.jsx(be,{variant:"primary",onClick:e,children:"Entendido"})})]}),!r&&!n&&b.jsxs("div",{className:"text-center p-6",children:[b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Não foi possível carregar a sugestão."}),b.jsx(be,{variant:"ghost",onClick:e,className:"mt-4",children:"Fechar"})]})]});var ht;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),s={};for(const u of i)s[u]=a[u];return t.objectValues(s)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},t.find=(a,i)=>{for(const s of a)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ht||(ht={}));var rP;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(rP||(rP={}));const Pe=ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qi=t=>{switch(typeof t){case"undefined":return Pe.undefined;case"string":return Pe.string;case"number":return Number.isNaN(t)?Pe.nan:Pe.number;case"boolean":return Pe.boolean;case"function":return Pe.function;case"bigint":return Pe.bigint;case"symbol":return Pe.symbol;case"object":return Array.isArray(t)?Pe.array:t===null?Pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Pe.promise:typeof Map<"u"&&t instanceof Map?Pe.map:typeof Set<"u"&&t instanceof Set?Pe.set:typeof Date<"u"&&t instanceof Date?Pe.date:Pe.object;default:return Pe.unknown}},we=ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ei extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let u=r,d=0;for(;d<s.path.length;){const c=s.path[d];d===s.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(n(s))):u[c]=u[c]||{_errors:[]},u=u[c],d++}}};return a(this),r}static assert(e){if(!(e instanceof ei))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ei.create=t=>new ei(t);const bS=(t,e)=>{let n;switch(t.code){case we.invalid_type:t.received===Pe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case we.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ht.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:n=`Unrecognized key(s) in object: ${ht.joinValues(t.keys,", ")}`;break;case we.invalid_union:n="Invalid input";break;case we.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ht.joinValues(t.options)}`;break;case we.invalid_enum_value:n=`Invalid enum value. Expected ${ht.joinValues(t.options)}, received '${t.received}'`;break;case we.invalid_arguments:n="Invalid function arguments";break;case we.invalid_return_type:n="Invalid function return type";break;case we.invalid_date:n="Invalid date";break;case we.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ht.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case we.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case we.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case we.custom:n="Invalid input";break;case we.invalid_intersection_types:n="Intersection results could not be merged";break;case we.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case we.not_finite:n="Number must be finite";break;default:n=e.defaultError,ht.assertNever(t)}return{message:n}};let lee=bS;function uee(){return lee}const cee=t=>{const{data:e,path:n,errorMaps:r,issueData:a}=t,i=[...n,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let u="";const d=r.filter(c=>!!c).slice().reverse();for(const c of d)u=c(s,{data:e,defaultError:u}).message;return{...a,path:i,message:u}};function Me(t,e){const n=uee(),r=cee({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===bS?void 0:bS].filter(a=>!!a)});t.common.issues.push(r)}class Zn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const a of n){if(a.status==="aborted")return Xe;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const a of n){const i=await a.key,s=await a.value;r.push({key:i,value:s})}return Zn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const a of n){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return Xe;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(r[i.value]=s.value)}return{status:e.value,value:r}}}const Xe=Object.freeze({status:"aborted"}),xc=t=>({status:"dirty",value:t}),Lr=t=>({status:"valid",value:t}),aP=t=>t.status==="aborted",iP=t=>t.status==="dirty",ql=t=>t.status==="valid",vm=t=>typeof Promise<"u"&&t instanceof Promise;var Re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Re||(Re={}));class ya{constructor(e,n,r,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const oP=(t,e)=>{if(ql(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ei(t.common.issues);return this._error=n,this._error}}};function et(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:a}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(s,u)=>{const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:d??r??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:d??n??u.defaultError}},description:a}}class ut{get description(){return this._def.description}_getType(e){return qi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:qi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Zn,ctx:{common:e.parent.common,data:e.data,parsedType:qi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(vm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qi(e)},a=this._parseSync({data:e,path:r.path,parent:r});return oP(r,a)}"~validate"(e){var r,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qi(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return ql(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(a=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>ql(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qi(e)},a=this._parse({data:e,path:r.path,parent:r}),i=await(vm(a)?a:Promise.resolve(a));return oP(r,i)}refine(e,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const s=e(a),u=()=>i.addIssue({code:we.custom,...r(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(d=>d?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(e){return new Vl({schema:this,typeName:Ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ki.create(this,this._def)}nullable(){return zl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ga.create(this)}promise(){return Sm.create(this,this._def)}or(e){return bm.create([this,e],this._def)}and(e){return xm.create(this,e,this._def)}transform(e){return new Vl({...et(this._def),schema:this,typeName:Ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new wS({...et(this._def),innerType:this,defaultValue:n,typeName:Ke.ZodDefault})}brand(){return new Pee({typeName:Ke.ZodBranded,type:this,...et(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new TS({...et(this._def),innerType:this,catchValue:n,typeName:Ke.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Xw.create(this,e)}readonly(){return AS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dee=/^c[^\s-]{8,}$/i,fee=/^[0-9a-z]+$/,hee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pee=/^[a-z0-9_-]{21}$/i,gee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Bx;const xee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_ee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,See=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Tee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Aee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,E$="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Eee=new RegExp(`^${E$}$`);function C$(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Cee(t){return new RegExp(`^${C$(t)}$`)}function kee(t){let e=`${E$}T${C$(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Oee(t,e){return!!((e==="v4"||!e)&&xee.test(t)||(e==="v6"||!e)&&See.test(t))}function Mee(t,e){if(!gee.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function Dee(t,e){return!!((e==="v4"||!e)&&_ee.test(t)||(e==="v6"||!e)&&wee.test(t))}class fa extends ut{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Pe.string){const i=this._getOrReturnCtx(e);return Me(i,{code:we.invalid_type,expected:Pe.string,received:i.parsedType}),Xe}const r=new Zn;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),Me(a,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),Me(a,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,u=e.data.length<i.value;(s||u)&&(a=this._getOrReturnCtx(e,a),s?Me(a,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&Me(a,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")yee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"email",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Bx||(Bx=new RegExp(bee,"u")),Bx.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"emoji",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")mee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"uuid",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")pee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"nanoid",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")dee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"cuid",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")fee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"cuid2",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")hee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"ulid",code:we.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Me(a,{validation:"url",code:we.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"regex",code:we.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),Me(a,{code:we.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),Me(a,{code:we.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),Me(a,{code:we.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?kee(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{code:we.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Eee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{code:we.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Cee(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{code:we.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?vee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"duration",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Oee(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"ip",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Mee(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"jwt",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Dee(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"cidr",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Tee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"base64",code:we.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Aee.test(e.data)||(a=this._getOrReturnCtx(e,a),Me(a,{validation:"base64url",code:we.invalid_string,message:i.message}),r.dirty()):ht.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(a=>e.test(a),{validation:n,code:we.invalid_string,...Re.errToObj(r)})}_addCheck(e){return new fa({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Re.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Re.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Re.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Re.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Re.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Re.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Re.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Re.errToObj(n)})}nonempty(e){return this.min(1,Re.errToObj(e))}trim(){return new fa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}fa.create=t=>new fa({checks:[],typeName:Ke.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...et(t)});function Nee(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=n>r?n:r,i=Number.parseInt(t.toFixed(a).replace(".","")),s=Number.parseInt(e.toFixed(a).replace(".",""));return i%s/10**a}class Ko extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Pe.number){const i=this._getOrReturnCtx(e);return Me(i,{code:we.invalid_type,expected:Pe.number,received:i.parsedType}),Xe}let r;const a=new Zn;for(const i of this._def.checks)i.kind==="int"?ht.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:we.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Nee(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:we.not_finite,message:i.message}),a.dirty()):ht.assertNever(i);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Re.toString(n))}setLimit(e,n,r,a){return new Ko({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Re.toString(a)}]})}_addCheck(e){return new Ko({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ht.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ko.create=t=>new Ko({checks:[],typeName:Ke.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...et(t)});class Yo extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Pe.bigint)return this._getInvalidInput(e);let r;const a=new Zn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ht.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Me(n,{code:we.invalid_type,expected:Pe.bigint,received:n.parsedType}),Xe}gte(e,n){return this.setLimit("min",e,!0,Re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Re.toString(n))}setLimit(e,n,r,a){return new Yo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Re.toString(a)}]})}_addCheck(e){return new Yo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Yo.create=t=>new Yo({checks:[],typeName:Ke.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...et(t)});class ym extends ut{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Pe.boolean){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Pe.boolean,received:r.parsedType}),Xe}return Lr(e.data)}}ym.create=t=>new ym({typeName:Ke.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...et(t)});class Ul extends ut{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Pe.date){const i=this._getOrReturnCtx(e);return Me(i,{code:we.invalid_type,expected:Pe.date,received:i.parsedType}),Xe}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Me(i,{code:we.invalid_date}),Xe}const r=new Zn;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),Me(a,{code:we.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),Me(a,{code:we.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ht.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ul({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Re.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Re.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ul.create=t=>new Ul({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ke.ZodDate,...et(t)});class sP extends ut{_parse(e){if(this._getType(e)!==Pe.symbol){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Pe.symbol,received:r.parsedType}),Xe}return Lr(e.data)}}sP.create=t=>new sP({typeName:Ke.ZodSymbol,...et(t)});class lP extends ut{_parse(e){if(this._getType(e)!==Pe.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Pe.undefined,received:r.parsedType}),Xe}return Lr(e.data)}}lP.create=t=>new lP({typeName:Ke.ZodUndefined,...et(t)});class uP extends ut{_parse(e){if(this._getType(e)!==Pe.null){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Pe.null,received:r.parsedType}),Xe}return Lr(e.data)}}uP.create=t=>new uP({typeName:Ke.ZodNull,...et(t)});class cP extends ut{constructor(){super(...arguments),this._any=!0}_parse(e){return Lr(e.data)}}cP.create=t=>new cP({typeName:Ke.ZodAny,...et(t)});class xS extends ut{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Lr(e.data)}}xS.create=t=>new xS({typeName:Ke.ZodUnknown,...et(t)});class Yi extends ut{_parse(e){const n=this._getOrReturnCtx(e);return Me(n,{code:we.invalid_type,expected:Pe.never,received:n.parsedType}),Xe}}Yi.create=t=>new Yi({typeName:Ke.ZodNever,...et(t)});class dP extends ut{_parse(e){if(this._getType(e)!==Pe.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Pe.void,received:r.parsedType}),Xe}return Lr(e.data)}}dP.create=t=>new dP({typeName:Ke.ZodVoid,...et(t)});class ga extends ut{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),a=this._def;if(n.parsedType!==Pe.array)return Me(n,{code:we.invalid_type,expected:Pe.array,received:n.parsedType}),Xe;if(a.exactLength!==null){const s=n.data.length>a.exactLength.value,u=n.data.length<a.exactLength.value;(s||u)&&(Me(n,{code:s?we.too_big:we.too_small,minimum:u?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Me(n,{code:we.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Me(n,{code:we.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,u)=>a.type._parseAsync(new ya(n,s,n.path,u)))).then(s=>Zn.mergeArray(r,s));const i=[...n.data].map((s,u)=>a.type._parseSync(new ya(n,s,n.path,u)));return Zn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ga({...this._def,minLength:{value:e,message:Re.toString(n)}})}max(e,n){return new ga({...this._def,maxLength:{value:e,message:Re.toString(n)}})}length(e,n){return new ga({...this._def,exactLength:{value:e,message:Re.toString(n)}})}nonempty(e){return this.min(1,e)}}ga.create=(t,e)=>new ga({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ke.ZodArray,...et(e)});function nl(t){if(t instanceof sn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ki.create(nl(r))}return new sn({...t._def,shape:()=>e})}else return t instanceof ga?new ga({...t._def,type:nl(t.element)}):t instanceof Ki?Ki.create(nl(t.unwrap())):t instanceof zl?zl.create(nl(t.unwrap())):t instanceof Wo?Wo.create(t.items.map(e=>nl(e))):t}class sn extends ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ht.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Pe.object){const c=this._getOrReturnCtx(e);return Me(c,{code:we.invalid_type,expected:Pe.object,received:c.parsedType}),Xe}const{status:r,ctx:a}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof Yi&&this._def.unknownKeys==="strip"))for(const c in a.data)s.includes(c)||u.push(c);const d=[];for(const c of s){const h=i[c],m=a.data[c];d.push({key:{status:"valid",value:c},value:h._parse(new ya(a,m,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof Yi){const c=this._def.unknownKeys;if(c==="passthrough")for(const h of u)d.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(c==="strict")u.length>0&&(Me(a,{code:we.unrecognized_keys,keys:u}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const h of u){const m=a.data[h];d.push({key:{status:"valid",value:h},value:c._parse(new ya(a,m,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const h of d){const m=await h.key,y=await h.value;c.push({key:m,value:y,alwaysSet:h.alwaysSet})}return c}).then(c=>Zn.mergeObjectSync(r,c)):Zn.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return Re.errToObj,new sn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s;const a=((s=(i=this._def).errorMap)==null?void 0:s.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Re.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new sn({...this._def,unknownKeys:"strip"})}passthrough(){return new sn({...this._def,unknownKeys:"passthrough"})}extend(e){return new sn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new sn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ke.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new sn({...this._def,catchall:e})}pick(e){const n={};for(const r of ht.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new sn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ht.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new sn({...this._def,shape:()=>n})}deepPartial(){return nl(this)}partial(e){const n={};for(const r of ht.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?n[r]=a:n[r]=a.optional()}return new sn({...this._def,shape:()=>n})}required(e){const n={};for(const r of ht.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ki;)i=i._def.innerType;n[r]=i}return new sn({...this._def,shape:()=>n})}keyof(){return k$(ht.objectKeys(this.shape))}}sn.create=(t,e)=>new sn({shape:()=>t,unknownKeys:"strip",catchall:Yi.create(),typeName:Ke.ZodObject,...et(e)});sn.strictCreate=(t,e)=>new sn({shape:()=>t,unknownKeys:"strict",catchall:Yi.create(),typeName:Ke.ZodObject,...et(e)});sn.lazycreate=(t,e)=>new sn({shape:t,unknownKeys:"strip",catchall:Yi.create(),typeName:Ke.ZodObject,...et(e)});class bm extends ut{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function a(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const s=i.map(u=>new ei(u.ctx.common.issues));return Me(n,{code:we.invalid_union,unionErrors:s}),Xe}if(n.common.async)return Promise.all(r.map(async i=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const d of r){const c={...n,common:{...n.common,issues:[]},parent:null},h=d._parseSync({data:n.data,path:n.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const u=s.map(d=>new ei(d));return Me(n,{code:we.invalid_union,unionErrors:u}),Xe}}get options(){return this._def.options}}bm.create=(t,e)=>new bm({options:t,typeName:Ke.ZodUnion,...et(e)});function _S(t,e){const n=qi(t),r=qi(e);if(t===e)return{valid:!0,data:t};if(n===Pe.object&&r===Pe.object){const a=ht.objectKeys(e),i=ht.objectKeys(t).filter(u=>a.indexOf(u)!==-1),s={...t,...e};for(const u of i){const d=_S(t[u],e[u]);if(!d.valid)return{valid:!1};s[u]=d.data}return{valid:!0,data:s}}else if(n===Pe.array&&r===Pe.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const s=t[i],u=e[i],d=_S(s,u);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return n===Pe.date&&r===Pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class xm extends ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=(i,s)=>{if(aP(i)||aP(s))return Xe;const u=_S(i.value,s.value);return u.valid?((iP(i)||iP(s))&&n.dirty(),{status:n.value,value:u.data}):(Me(r,{code:we.invalid_intersection_types}),Xe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}xm.create=(t,e,n)=>new xm({left:t,right:e,typeName:Ke.ZodIntersection,...et(n)});class Wo extends ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.array)return Me(r,{code:we.invalid_type,expected:Pe.array,received:r.parsedType}),Xe;if(r.data.length<this._def.items.length)return Me(r,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xe;!this._def.rest&&r.data.length>this._def.items.length&&(Me(r,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((s,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new ya(r,s,r.path,u)):null}).filter(s=>!!s);return r.common.async?Promise.all(i).then(s=>Zn.mergeArray(n,s)):Zn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Wo({...this._def,rest:e})}}Wo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wo({items:t,typeName:Ke.ZodTuple,rest:null,...et(e)})};class _m extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.object)return Me(r,{code:we.invalid_type,expected:Pe.object,received:r.parsedType}),Xe;const a=[],i=this._def.keyType,s=this._def.valueType;for(const u in r.data)a.push({key:i._parse(new ya(r,u,r.path,u)),value:s._parse(new ya(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?Zn.mergeObjectAsync(n,a):Zn.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ut?new _m({keyType:e,valueType:n,typeName:Ke.ZodRecord,...et(r)}):new _m({keyType:fa.create(),valueType:e,typeName:Ke.ZodRecord,...et(n)})}}class fP extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.map)return Me(r,{code:we.invalid_type,expected:Pe.map,received:r.parsedType}),Xe;const a=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([u,d],c)=>({key:a._parse(new ya(r,u,r.path,[c,"key"])),value:i._parse(new ya(r,d,r.path,[c,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of s){const c=await d.key,h=await d.value;if(c.status==="aborted"||h.status==="aborted")return Xe;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(c.value,h.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of s){const c=d.key,h=d.value;if(c.status==="aborted"||h.status==="aborted")return Xe;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(c.value,h.value)}return{status:n.value,value:u}}}}fP.create=(t,e,n)=>new fP({valueType:e,keyType:t,typeName:Ke.ZodMap,...et(n)});class pd extends ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pe.set)return Me(r,{code:we.invalid_type,expected:Pe.set,received:r.parsedType}),Xe;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(Me(r,{code:we.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(Me(r,{code:we.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function s(d){const c=new Set;for(const h of d){if(h.status==="aborted")return Xe;h.status==="dirty"&&n.dirty(),c.add(h.value)}return{status:n.value,value:c}}const u=[...r.data.values()].map((d,c)=>i._parse(new ya(r,d,r.path,c)));return r.common.async?Promise.all(u).then(d=>s(d)):s(u)}min(e,n){return new pd({...this._def,minSize:{value:e,message:Re.toString(n)}})}max(e,n){return new pd({...this._def,maxSize:{value:e,message:Re.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}pd.create=(t,e)=>new pd({valueType:t,minSize:null,maxSize:null,typeName:Ke.ZodSet,...et(e)});class SS extends ut{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}SS.create=(t,e)=>new SS({getter:t,typeName:Ke.ZodLazy,...et(e)});class hP extends ut{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Me(n,{received:n.data,code:we.invalid_literal,expected:this._def.value}),Xe}return{status:"valid",value:e.data}}get value(){return this._def.value}}hP.create=(t,e)=>new hP({value:t,typeName:Ke.ZodLiteral,...et(e)});function k$(t,e){return new Fl({values:t,typeName:Ke.ZodEnum,...et(e)})}class Fl extends ut{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Me(n,{expected:ht.joinValues(r),received:n.parsedType,code:we.invalid_type}),Xe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Me(n,{received:n.data,code:we.invalid_enum_value,options:r}),Xe}return Lr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Fl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Fl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Fl.create=k$;class mP extends ut{_parse(e){const n=ht.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Pe.string&&r.parsedType!==Pe.number){const a=ht.objectValues(n);return Me(r,{expected:ht.joinValues(a),received:r.parsedType,code:we.invalid_type}),Xe}if(this._cache||(this._cache=new Set(ht.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=ht.objectValues(n);return Me(r,{received:r.data,code:we.invalid_enum_value,options:a}),Xe}return Lr(e.data)}get enum(){return this._def.values}}mP.create=(t,e)=>new mP({values:t,typeName:Ke.ZodNativeEnum,...et(e)});class Sm extends ut{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Pe.promise&&n.common.async===!1)return Me(n,{code:we.invalid_type,expected:Pe.promise,received:n.parsedType}),Xe;const r=n.parsedType===Pe.promise?n.data:Promise.resolve(n.data);return Lr(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Sm.create=(t,e)=>new Sm({type:t,typeName:Ke.ZodPromise,...et(e)});class Vl extends ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:s=>{Me(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(r.data,i);if(r.common.async)return Promise.resolve(s).then(async u=>{if(n.value==="aborted")return Xe;const d=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return d.status==="aborted"?Xe:d.status==="dirty"||n.value==="dirty"?xc(d.value):d});{if(n.value==="aborted")return Xe;const u=this._def.schema._parseSync({data:s,path:r.path,parent:r});return u.status==="aborted"?Xe:u.status==="dirty"||n.value==="dirty"?xc(u.value):u}}if(a.type==="refinement"){const s=u=>{const d=a.refinement(u,i);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Xe:(u.status==="dirty"&&n.dirty(),s(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Xe:(u.status==="dirty"&&n.dirty(),s(u.value).then(()=>({status:n.value,value:u.value}))))}if(a.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ql(s))return Xe;const u=a.transform(s.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>ql(s)?Promise.resolve(a.transform(s.value,i)).then(u=>({status:n.value,value:u})):Xe);ht.assertNever(a)}}Vl.create=(t,e,n)=>new Vl({schema:t,typeName:Ke.ZodEffects,effect:e,...et(n)});Vl.createWithPreprocess=(t,e,n)=>new Vl({schema:e,effect:{type:"preprocess",transform:t},typeName:Ke.ZodEffects,...et(n)});class Ki extends ut{_parse(e){return this._getType(e)===Pe.undefined?Lr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ki.create=(t,e)=>new Ki({innerType:t,typeName:Ke.ZodOptional,...et(e)});class zl extends ut{_parse(e){return this._getType(e)===Pe.null?Lr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zl.create=(t,e)=>new zl({innerType:t,typeName:Ke.ZodNullable,...et(e)});class wS extends ut{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Pe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}wS.create=(t,e)=>new wS({innerType:t,typeName:Ke.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...et(e)});class TS extends ut{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return vm(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ei(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ei(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}TS.create=(t,e)=>new TS({innerType:t,typeName:Ke.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...et(e)});class pP extends ut{_parse(e){if(this._getType(e)!==Pe.nan){const r=this._getOrReturnCtx(e);return Me(r,{code:we.invalid_type,expected:Pe.nan,received:r.parsedType}),Xe}return{status:"valid",value:e.data}}}pP.create=t=>new pP({typeName:Ke.ZodNaN,...et(t)});class Pee extends ut{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Xw extends ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Xe:i.status==="dirty"?(n.dirty(),xc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Xe:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,n){return new Xw({in:e,out:n,typeName:Ke.ZodPipeline})}}class AS extends ut{_parse(e){const n=this._def.innerType._parse(e),r=a=>(ql(a)&&(a.value=Object.freeze(a.value)),a);return vm(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}AS.create=(t,e)=>new AS({innerType:t,typeName:Ke.ZodReadonly,...et(e)});var Ke;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ke||(Ke={}));const ko=fa.create,gP=Ko.create;Yo.create;const Ree=ym.create;Ul.create;const vP=xS.create;Yi.create;const _c=ga.create,Iee=sn.create,jee=bm.create;xm.create;Wo.create;const $ee=_m.create,Lee=SS.create,Bee=Fl.create;Sm.create;Ki.create;zl.create;const el={string:t=>fa.create({...t,coerce:!0}),number:t=>Ko.create({...t,coerce:!0}),boolean:t=>ym.create({...t,coerce:!0}),bigint:t=>Yo.create({...t,coerce:!0}),date:t=>Ul.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qee,Uee;function Fee(){return{geminiUrl:qee,vertexUrl:Uee}}function Vee(t,e,n){var r,a,i;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=Fee();return t.vertexai?(a=s.vertexUrl)!==null&&a!==void 0?a:e:(i=s.geminiUrl)!==null&&i!==void 0?i:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tu{}function Ve(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const i=e[a];return i!=null?String(i):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function v(t,e,n){for(let i=0;i<e.length-1;i++){const s=e[i];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const d=t[u];if(Array.isArray(n))for(let c=0;c<d.length;c++){const h=d[c];v(h,e.slice(i+1),n[c])}else for(const c of d)v(c,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const d=t[u];v(d[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],a=t[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function g(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const i=t[a];return Array.isArray(i)?i.map(s=>g(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yP;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yP||(yP={}));var bP;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(bP||(bP={}));var ha;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ha||(ha={}));var xP;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(xP||(xP={}));var _P;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(_P||(_P={}));var SP;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(SP||(SP={}));var wP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(wP||(wP={}));var TP;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(TP||(TP={}));var AP;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(AP||(AP={}));var EP;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(EP||(EP={}));var CP;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(CP||(CP={}));var kP;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(kP||(kP={}));var OP;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(OP||(OP={}));var wm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(wm||(wm={}));var MP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(MP||(MP={}));var ES;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ES||(ES={}));var DP;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(DP||(DP={}));var NP;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(NP||(NP={}));var PP;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(PP||(PP={}));var RP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(RP||(RP={}));var IP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(IP||(IP={}));var jP;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(jP||(jP={}));var $P;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})($P||($P={}));var LP;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(LP||(LP={}));var BP;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(BP||(BP={}));var qP;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(qP||(qP={}));var UP;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(UP||(UP={}));var FP;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(FP||(FP={}));var VP;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(VP||(VP={}));var zP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(zP||(zP={}));var GP;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(GP||(GP={}));var HP;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(HP||(HP={}));var KP;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(KP||(KP={}));var YP;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(YP||(YP={}));var WP;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(WP||(WP={}));var XP;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(XP||(XP={}));var ZP;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ZP||(ZP={}));var JP;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(JP||(JP={}));var ll;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ll||(ll={}));class pc{get text(){var e,n,r,a,i,s,u,d;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",h=!1;const m=[];for(const y of(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[_,w]of Object.entries(y))_!=="text"&&_!=="thought"&&(w!==null||w!==void 0)&&m.push(_);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,c+=y.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?c:void 0}get data(){var e,n,r,a,i,s,u,d;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const h=[];for(const m of(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[y,_]of Object.entries(m))y!=="inlineData"&&(_!==null||_!==void 0)&&h.push(y);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,a,i,s,u,d;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,a,i,s,u,d,c;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,a,i,s,u,d,c;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.output}}class QP{}class eR{}class zee{}class Gee{}class tR{}class nR{}class rR{}class Hee{}class aR{}class iR{}class oR{}class Kee{}class CS{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Yee{}class Wee{}class Xee{get text(){var e,n,r;let a="",i=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&s.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,a+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?a:void 0}get data(){var e,n,r;let a="";const i=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(s))u!=="inlineData"&&d!==null&&i.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(a+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Zee{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function O$(t,e){const n=Bt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function M$(t,e){return Array.isArray(e)?e.map(n=>Tm(t,n)):[Tm(t,e)]}function Tm(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Jee(t,e){const n=Tm(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Qee(t,e){const n=Tm(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function sR(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function D$(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>sR(t,n)):[sR(t,e)]}function kS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function lR(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function uR(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Wn(t,e){if(e==null)throw new Error("ContentUnion is required");return kS(e)?e:{role:"user",parts:D$(t,e)}}function N$(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Wn(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Wn(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Wn(t,n)):[Wn(t,e)]}function Jr(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(lR(e)||uR(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Wn(t,e)]}const n=[],r=[],a=kS(e[0]);for(const i of e){const s=kS(i);if(s!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)n.push(i);else{if(lR(i)||uR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return a||n.push({role:"user",parts:D$(t,r)}),n}const ete=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),cR=Bee(["string","number","integer","object","array","boolean","null"]),tte=jee([cR,_c(cR)]);function nte(t=!0){const e=Lee(()=>{const n=Iee({type:tte.optional(),format:ko().optional(),title:ko().optional(),description:ko().optional(),default:vP().optional(),items:e.optional(),minItems:el.string().optional(),maxItems:el.string().optional(),enum:_c(vP()).optional(),properties:$ee(ko(),e).optional(),required:_c(ko()).optional(),minProperties:el.string().optional(),maxProperties:el.string().optional(),propertyOrdering:_c(ko()).optional(),minimum:gP().optional(),maximum:gP().optional(),minLength:el.string().optional(),maxLength:el.string().optional(),pattern:ko().optional(),anyOf:_c(e).optional(),additionalProperties:Ree().optional()});return t?n.strict():n});return e}function rte(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ha).includes(n[0].toUpperCase())?n[0].toUpperCase():ha.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ha).includes(r.toUpperCase())?r.toUpperCase():ha.TYPE_UNSPECIFIED})}}function hl(t){const e={},n=["items"],r=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&rte(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(ha).includes(u.toUpperCase())?u.toUpperCase():ha.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=hl(u);else if(r.includes(s)){const d=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}d.push(hl(c))}e[s]=d}else if(a.includes(s)){const d={};for(const[c,h]of Object.entries(u))d[c]=hl(h);e[s]=d}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Am(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=nte().parse(e);return hl(n)}else return hl(e)}function P$(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Zw(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Cd(t,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=Am(t,n.parameters)),n.response&&(n.response=Am(t,n.response));return e}function kd(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of e)n.push(r);return n}function ate(t,e,n,r=1){const a=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:a?`${n}/${e}`:e}function eo(t,e){if(typeof e!="string")throw new Error("name must be a string");return ate(t,e,"cachedContents")}function R$(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ii(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function ite(t){return t!=null&&typeof t=="object"&&"name"in t}function ote(t){return t!=null&&typeof t=="object"&&"video"in t}function ste(t){return t!=null&&typeof t=="object"&&"uri"in t}function I$(t,e){var n;let r;if(ite(e)&&(r=e.name),!(ste(e)&&(r=e.uri,r===void 0))&&!(ote(e)&&(r=(n=e.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function j$(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function $$(t,e){for(const n of["models","tunedModels","publisherModels"])if(lte(e,n))return e[n];return[]}function lte(t,e){return t!==null&&typeof t=="object"&&e in t}function ute(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:hl(gp(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function cte(t,e={}){const n=[],r=new Set;for(const a of t){const i=a.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const s=ute(a,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function dte(t){const e=[];for(const n of t)e.push(gp(n));return e}function fte(t){const e={};for(const[n,r]of Object.entries(t)){const a=r;e[n]=gp(a)}return e}function gp(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),a={};for(const[i,s]of Object.entries(t))if(e.has(i))a[i]=gp(s);else if(n.has(i))a[i]=dte(s);else if(r.has(i))a[i]=fte(s);else if(i==="type"){const u=s.toUpperCase();a[i]=Object.values(ha).includes(u)?u:ha.TYPE_UNSPECIFIED}else ete.has(i)&&(a[i]=s);return a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hte(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function mte(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function pte(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function gte(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],hte(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],mte(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],pte(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function dR(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>gte(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function vte(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function yte(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function bte(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],yte(t,r)),n}function xte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function _te(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],xte(t,r)),n}function Ste(){return{}}function wte(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>vte(t,c))),v(n,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],bte(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],_te(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],Ste());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function Tte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Ate(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Ete(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Ate(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Cte(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],Tte(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Ete(t,a)),n}function kte(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const s=g(e,["displayName"]);n!==void 0&&s!=null&&v(n,["displayName"],s);const u=g(e,["contents"]);if(n!==void 0&&u!=null){let m=Jr(t,u);Array.isArray(m)&&(m=m.map(y=>dR(t,y))),v(n,["contents"],m)}const d=g(e,["systemInstruction"]);n!==void 0&&d!=null&&v(n,["systemInstruction"],dR(t,Wn(t,d)));const c=g(e,["tools"]);if(n!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>wte(t,y))),v(n,["tools"],m)}const h=g(e,["toolConfig"]);if(n!==void 0&&h!=null&&v(n,["toolConfig"],Cte(t,h)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function Ote(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],O$(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],kte(t,a,n)),n}function Mte(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],eo(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Dte(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],eo(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Nte(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);return n!==void 0&&i!=null&&v(n,["expireTime"],i),r}function Pte(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],eo(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Nte(t,a,n)),n}function Rte(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function Ite(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Rte(t,r,n)),n}function jte(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function $te(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Lte(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Bte(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],jte(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],$te(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Lte(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function fR(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Bte(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function qte(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function Ute(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Fte(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Ute(t,r)),n}function Vte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function zte(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Vte(t,r)),n}function Gte(){return{}}function Hte(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function Kte(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],Hte(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const d=g(e,["oidcConfig"]);return d!=null&&v(n,["oidcConfig"],d),n}function Yte(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],Kte(t,r)),n}function Wte(){return{}}function Xte(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(y=>qte(t,y))),v(n,["functionDeclarations"],m)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],Fte(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],zte(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],Gte());const d=g(e,["googleMaps"]);d!=null&&v(n,["googleMaps"],Yte(t,d)),g(e,["urlContext"])!=null&&v(n,["urlContext"],Wte());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function Zte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Jte(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Qte(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Jte(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function ene(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],Zte(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Qte(t,a)),n}function tne(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const s=g(e,["displayName"]);n!==void 0&&s!=null&&v(n,["displayName"],s);const u=g(e,["contents"]);if(n!==void 0&&u!=null){let y=Jr(t,u);Array.isArray(y)&&(y=y.map(_=>fR(t,_))),v(n,["contents"],y)}const d=g(e,["systemInstruction"]);n!==void 0&&d!=null&&v(n,["systemInstruction"],fR(t,Wn(t,d)));const c=g(e,["tools"]);if(n!==void 0&&c!=null){let y=c;Array.isArray(y)&&(y=y.map(_=>Xte(t,_))),v(n,["tools"],y)}const h=g(e,["toolConfig"]);n!==void 0&&h!=null&&v(n,["toolConfig"],ene(t,h));const m=g(e,["kmsKeyName"]);return n!==void 0&&m!=null&&v(n,["encryption_spec","kmsKeyName"],m),r}function nne(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],O$(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],tne(t,a,n)),n}function rne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],eo(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function ane(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],eo(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function ine(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);return n!==void 0&&i!=null&&v(n,["expireTime"],i),r}function one(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],eo(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],ine(t,a,n)),n}function sne(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function lne(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],sne(t,r,n)),n}function gh(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["model"]);i!=null&&v(n,["model"],i);const s=g(e,["createTime"]);s!=null&&v(n,["createTime"],s);const u=g(e,["updateTime"]);u!=null&&v(n,["updateTime"],u);const d=g(e,["expireTime"]);d!=null&&v(n,["expireTime"],d);const c=g(e,["usageMetadata"]);return c!=null&&v(n,["usageMetadata"],c),n}function une(){return{}}function cne(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>gh(t,s))),v(n,["cachedContents"],i)}return n}function vh(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["model"]);i!=null&&v(n,["model"],i);const s=g(e,["createTime"]);s!=null&&v(n,["createTime"],s);const u=g(e,["updateTime"]);u!=null&&v(n,["updateTime"],u);const d=g(e,["expireTime"]);d!=null&&v(n,["expireTime"],d);const c=g(e,["usageMetadata"]);return c!=null&&v(n,["usageMetadata"],c),n}function dne(){return{}}function fne(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>vh(t,s))),v(n,["cachedContents"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Gl||(Gl={}));class vp{constructor(e,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,a)}init(e,n,r){var a,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(a=s.config)===null||a===void 0?void 0:a.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hne extends tu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vp(Gl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=nne(this.apiClient,e);return u=Ve("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>vh(this.apiClient,h))}else{const c=Ote(this.apiClient,e);return u=Ve("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>gh(this.apiClient,h))}}async get(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=rne(this.apiClient,e);return u=Ve("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>vh(this.apiClient,h))}else{const c=Mte(this.apiClient,e);return u=Ve("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>gh(this.apiClient,h))}}async delete(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=ane(this.apiClient,e);return u=Ve("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(()=>{const h=dne(),m=new iR;return Object.assign(m,h),m})}else{const c=Dte(this.apiClient,e);return u=Ve("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=une(),m=new iR;return Object.assign(m,h),m})}}async update(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=one(this.apiClient,e);return u=Ve("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>vh(this.apiClient,h))}else{const c=Pte(this.apiClient,e);return u=Ve("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>gh(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=lne(this.apiClient,e);return u=Ve("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=fne(this.apiClient,h),y=new oR;return Object.assign(y,m),y})}else{const c=Ite(this.apiClient,e);return u=Ve("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=cne(this.apiClient,h),y=new oR;return Object.assign(y,m),y})}}}function hR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ut(t){return this instanceof Ut?(this.v=t,this):new Ut(t)}function ml(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(_){return function(w){return Promise.resolve(w).then(_,m)}}function u(_,w){r[_]&&(a[_]=function(A){return new Promise(function(T,k){i.push([_,A,T,k])>1||d(_,A)})},w&&(a[_]=w(a[_])))}function d(_,w){try{c(r[_](w))}catch(A){y(i[0][3],A)}}function c(_){_.value instanceof Ut?Promise.resolve(_.value.v).then(h,m):y(i[0][2],_)}function h(_){d("next",_)}function m(_){d("throw",_)}function y(_,w){_(w),i.shift(),i.length&&d(i[0][0],i[0][1])}}function Dc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof hR=="function"?hR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(u,d){s=t[i](s),a(u,d,s.done,s.value)})}}function a(i,s,u,d){Promise.resolve(d).then(function(c){i({value:c,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mne(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:L$(n)}function L$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function pne(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function mR(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const a=[];let i=!0;for(;r<n&&t[r].role==="model";)a.push(t[r]),i&&!L$(t[r])&&(i=!1),r++;i?e.push(...a):e.pop()}return e}class gne{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new vne(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class vne{constructor(e,n,r,a={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=a,this.history=i,this.sendPromise=Promise.resolve(),pne(i)}async sendMessage(e){var n;await this.sendPromise;const r=Wn(this.apiClient,e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,u;const d=await a,c=(s=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,h=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let y=[];h!=null&&(y=(u=h.slice(m))!==null&&u!==void 0?u:[]);const _=c?[c]:[];this.recordHistory(r,_,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var n;await this.sendPromise;const r=Wn(this.apiClient,e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const i=await a;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?mR(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,a;return ml(this,arguments,function*(){var s,u,d,c;const h=[];try{for(var m=!0,y=Dc(e),_;_=yield Ut(y.next()),s=_.done,!s;m=!0){c=_.value,m=!1;const w=c;if(mne(w)){const A=(a=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;A!==void 0&&h.push(A)}yield yield Ut(w)}}catch(w){u={error:w}}finally{try{!m&&!s&&(d=y.return)&&(yield Ut(d.call(y)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let a=[];n.length>0&&n.every(i=>i.role!==void 0)?a=n:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...mR(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yne(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function bne(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],yne(t,r,n)),n}function xne(t,e){const n={},r=g(e,["details"]);r!=null&&v(n,["details"],r);const a=g(e,["message"]);a!=null&&v(n,["message"],a);const i=g(e,["code"]);return i!=null&&v(n,["code"],i),n}function _ne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["mimeType"]);i!=null&&v(n,["mimeType"],i);const s=g(e,["sizeBytes"]);s!=null&&v(n,["sizeBytes"],s);const u=g(e,["createTime"]);u!=null&&v(n,["createTime"],u);const d=g(e,["expirationTime"]);d!=null&&v(n,["expirationTime"],d);const c=g(e,["updateTime"]);c!=null&&v(n,["updateTime"],c);const h=g(e,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const m=g(e,["uri"]);m!=null&&v(n,["uri"],m);const y=g(e,["downloadUri"]);y!=null&&v(n,["downloadUri"],y);const _=g(e,["state"]);_!=null&&v(n,["state"],_);const w=g(e,["source"]);w!=null&&v(n,["source"],w);const A=g(e,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const T=g(e,["error"]);return T!=null&&v(n,["error"],xne(t,T)),n}function Sne(t,e){const n={},r=g(e,["file"]);r!=null&&v(n,["file"],_ne(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function wne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","file"],I$(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Tne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","file"],I$(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Ane(t,e){const n={},r=g(e,["details"]);r!=null&&v(n,["details"],r);const a=g(e,["message"]);a!=null&&v(n,["message"],a);const i=g(e,["code"]);return i!=null&&v(n,["code"],i),n}function OS(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["mimeType"]);i!=null&&v(n,["mimeType"],i);const s=g(e,["sizeBytes"]);s!=null&&v(n,["sizeBytes"],s);const u=g(e,["createTime"]);u!=null&&v(n,["createTime"],u);const d=g(e,["expirationTime"]);d!=null&&v(n,["expirationTime"],d);const c=g(e,["updateTime"]);c!=null&&v(n,["updateTime"],c);const h=g(e,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const m=g(e,["uri"]);m!=null&&v(n,["uri"],m);const y=g(e,["downloadUri"]);y!=null&&v(n,["downloadUri"],y);const _=g(e,["state"]);_!=null&&v(n,["state"],_);const w=g(e,["source"]);w!=null&&v(n,["source"],w);const A=g(e,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const T=g(e,["error"]);return T!=null&&v(n,["error"],Ane(t,T)),n}function Ene(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["files"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>OS(t,s))),v(n,["files"],i)}return n}function Cne(){return{}}function kne(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class One extends tu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new vp(Gl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>OS(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bne(this.apiClient,e);return i=Ve("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const c=Ene(this.apiClient,d),h=new Kee;return Object.assign(h,c),h})}}async createInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sne(this.apiClient,e);return i=Ve("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(()=>{const d=Cne(),c=new Yee;return Object.assign(c,d),c})}}async get(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wne(this.apiClient,e);return i=Ve("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>OS(this.apiClient,d))}}async delete(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tne(this.apiClient,e);return i=Ve("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(()=>{const d=kne(),c=new Wee;return Object.assign(c,d),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mne(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function Dne(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function B$(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Mne(t,r)),n}function Nne(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Dne(t,r)),n}function Pne(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],B$(t,a)),n}function Rne(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Pne(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function Ine(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],B$(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],Rne(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function jne(t,e){const n={},r=g(e,["voiceConfig"]);if(r!=null&&v(n,["voiceConfig"],Nne(t,r)),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function $ne(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Lne(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Bne(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function qne(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Une(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Fne(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Vne(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],$ne(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Bne(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Une(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function zne(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Lne(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],qne(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Fne(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Gne(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Vne(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Hne(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>zne(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Kne(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function Yne(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function Wne(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Xne(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Zne(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Wne(t,r)),n}function Jne(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Xne(t,r)),n}function Qne(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function ere(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function tre(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Qne(t,r)),n}function nre(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],ere(t,r)),n}function rre(){return{}}function are(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function ire(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],are(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const d=g(e,["oidcConfig"]);return d!=null&&v(n,["oidcConfig"],d),n}function ore(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],ire(t,r)),n}function sre(){return{}}function lre(){return{}}function ure(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>Kne(t,c))),v(n,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],Zne(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],tre(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],sre());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function cre(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(y=>Yne(t,y))),v(n,["functionDeclarations"],m)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],Jne(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],nre(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],rre());const d=g(e,["googleMaps"]);d!=null&&v(n,["googleMaps"],ore(t,d)),g(e,["urlContext"])!=null&&v(n,["urlContext"],lre());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function dre(t,e){const n={},r=g(e,["handle"]);if(r!=null&&v(n,["handle"],r),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function fre(t,e){const n={},r=g(e,["handle"]);r!=null&&v(n,["handle"],r);const a=g(e,["transparent"]);return a!=null&&v(n,["transparent"],a),n}function pR(){return{}}function gR(){return{}}function hre(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function mre(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function pre(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],hre(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function gre(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],mre(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function vre(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function yre(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function bre(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],vre(t,a)),n}function xre(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],yre(t,a)),n}function _re(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function Sre(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function wre(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const d=g(e,["topK"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","topK"],d);const c=g(e,["maxOutputTokens"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","maxOutputTokens"],c);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const m=g(e,["seed"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","seed"],m);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],Ine(t,Zw(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const w=g(e,["systemInstruction"]);n!==void 0&&w!=null&&v(n,["setup","systemInstruction"],Gne(t,Wn(t,w)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let O=kd(t,A);Array.isArray(O)&&(O=O.map(P=>ure(t,Cd(t,P)))),v(n,["setup","tools"],O)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],dre(t,T));const k=g(e,["inputAudioTranscription"]);n!==void 0&&k!=null&&v(n,["setup","inputAudioTranscription"],pR());const M=g(e,["outputAudioTranscription"]);n!==void 0&&M!=null&&v(n,["setup","outputAudioTranscription"],pR());const E=g(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&v(n,["setup","realtimeInputConfig"],pre(t,E));const D=g(e,["contextWindowCompression"]);n!==void 0&&D!=null&&v(n,["setup","contextWindowCompression"],bre(t,D));const C=g(e,["proactivity"]);return n!==void 0&&C!=null&&v(n,["setup","proactivity"],_re(t,C)),r}function Tre(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const d=g(e,["topK"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","topK"],d);const c=g(e,["maxOutputTokens"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","maxOutputTokens"],c);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const m=g(e,["seed"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","seed"],m);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],jne(t,Zw(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const w=g(e,["systemInstruction"]);n!==void 0&&w!=null&&v(n,["setup","systemInstruction"],Hne(t,Wn(t,w)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let O=kd(t,A);Array.isArray(O)&&(O=O.map(P=>cre(t,Cd(t,P)))),v(n,["setup","tools"],O)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],fre(t,T));const k=g(e,["inputAudioTranscription"]);n!==void 0&&k!=null&&v(n,["setup","inputAudioTranscription"],gR());const M=g(e,["outputAudioTranscription"]);n!==void 0&&M!=null&&v(n,["setup","outputAudioTranscription"],gR());const E=g(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&v(n,["setup","realtimeInputConfig"],gre(t,E));const D=g(e,["contextWindowCompression"]);n!==void 0&&D!=null&&v(n,["setup","contextWindowCompression"],xre(t,D));const C=g(e,["proactivity"]);return n!==void 0&&C!=null&&v(n,["setup","proactivity"],Sre(t,C)),r}function Are(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],wre(t,a,n)),n}function Ere(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Tre(t,a,n)),n}function Cre(){return{}}function kre(){return{}}function Ore(){return{}}function Mre(){return{}}function Dre(t,e){const n={},r=g(e,["media"]);r!=null&&v(n,["mediaChunks"],M$(t,r));const a=g(e,["audio"]);a!=null&&v(n,["audio"],Qee(t,a));const i=g(e,["audioStreamEnd"]);i!=null&&v(n,["audioStreamEnd"],i);const s=g(e,["video"]);s!=null&&v(n,["video"],Jee(t,s));const u=g(e,["text"]);return u!=null&&v(n,["text"],u),g(e,["activityStart"])!=null&&v(n,["activityStart"],Cre()),g(e,["activityEnd"])!=null&&v(n,["activityEnd"],Ore()),n}function Nre(t,e){const n={},r=g(e,["media"]);if(r!=null&&v(n,["mediaChunks"],M$(t,r)),g(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const a=g(e,["audioStreamEnd"]);if(a!=null&&v(n,["audioStreamEnd"],a),g(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(g(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return g(e,["activityStart"])!=null&&v(n,["activityStart"],kre()),g(e,["activityEnd"])!=null&&v(n,["activityEnd"],Mre()),n}function q$(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["weight"]);return a!=null&&v(n,["weight"],a),n}function Pre(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>q$(t,i))),v(n,["weightedPrompts"],a)}return n}function U$(t,e){const n={},r=g(e,["temperature"]);r!=null&&v(n,["temperature"],r);const a=g(e,["topK"]);a!=null&&v(n,["topK"],a);const i=g(e,["seed"]);i!=null&&v(n,["seed"],i);const s=g(e,["guidance"]);s!=null&&v(n,["guidance"],s);const u=g(e,["bpm"]);u!=null&&v(n,["bpm"],u);const d=g(e,["density"]);d!=null&&v(n,["density"],d);const c=g(e,["brightness"]);c!=null&&v(n,["brightness"],c);const h=g(e,["scale"]);h!=null&&v(n,["scale"],h);const m=g(e,["muteBass"]);m!=null&&v(n,["muteBass"],m);const y=g(e,["muteDrums"]);y!=null&&v(n,["muteDrums"],y);const _=g(e,["onlyBassAndDrums"]);return _!=null&&v(n,["onlyBassAndDrums"],_),n}function Rre(t,e){const n={},r=g(e,["musicGenerationConfig"]);return r!=null&&v(n,["musicGenerationConfig"],U$(t,r)),n}function F$(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["model"],r),n}function V$(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>q$(t,i))),v(n,["weightedPrompts"],a)}return n}function MS(t,e){const n={},r=g(e,["setup"]);r!=null&&v(n,["setup"],F$(t,r));const a=g(e,["clientContent"]);a!=null&&v(n,["clientContent"],V$(t,a));const i=g(e,["musicGenerationConfig"]);i!=null&&v(n,["musicGenerationConfig"],U$(t,i));const s=g(e,["playbackControl"]);return s!=null&&v(n,["playbackControl"],s),n}function Ire(){return{}}function jre(){return{}}function $re(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Lre(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Bre(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function qre(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Ure(t,e){const n={},r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Fre(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Vre(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],$re(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Bre(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Ure(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function zre(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Lre(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],qre(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Fre(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Gre(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Vre(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Hre(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>zre(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function vR(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["finished"]);return a!=null&&v(n,["finished"],a),n}function yR(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["finished"]);return a!=null&&v(n,["finished"],a),n}function Kre(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function Yre(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Kre(t,i))),v(n,["urlMetadata"],a)}return n}function Wre(t,e){const n={},r=g(e,["modelTurn"]);r!=null&&v(n,["modelTurn"],Gre(t,r));const a=g(e,["turnComplete"]);a!=null&&v(n,["turnComplete"],a);const i=g(e,["interrupted"]);i!=null&&v(n,["interrupted"],i);const s=g(e,["groundingMetadata"]);s!=null&&v(n,["groundingMetadata"],s);const u=g(e,["generationComplete"]);u!=null&&v(n,["generationComplete"],u);const d=g(e,["inputTranscription"]);d!=null&&v(n,["inputTranscription"],vR(t,d));const c=g(e,["outputTranscription"]);c!=null&&v(n,["outputTranscription"],vR(t,c));const h=g(e,["urlContextMetadata"]);return h!=null&&v(n,["urlContextMetadata"],Yre(t,h)),n}function Xre(t,e){const n={},r=g(e,["modelTurn"]);r!=null&&v(n,["modelTurn"],Hre(t,r));const a=g(e,["turnComplete"]);a!=null&&v(n,["turnComplete"],a);const i=g(e,["interrupted"]);i!=null&&v(n,["interrupted"],i);const s=g(e,["groundingMetadata"]);s!=null&&v(n,["groundingMetadata"],s);const u=g(e,["generationComplete"]);u!=null&&v(n,["generationComplete"],u);const d=g(e,["inputTranscription"]);d!=null&&v(n,["inputTranscription"],yR(t,d));const c=g(e,["outputTranscription"]);return c!=null&&v(n,["outputTranscription"],yR(t,c)),n}function Zre(t,e){const n={},r=g(e,["id"]);r!=null&&v(n,["id"],r);const a=g(e,["args"]);a!=null&&v(n,["args"],a);const i=g(e,["name"]);return i!=null&&v(n,["name"],i),n}function Jre(t,e){const n={},r=g(e,["args"]);r!=null&&v(n,["args"],r);const a=g(e,["name"]);return a!=null&&v(n,["name"],a),n}function Qre(t,e){const n={},r=g(e,["functionCalls"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Zre(t,i))),v(n,["functionCalls"],a)}return n}function eae(t,e){const n={},r=g(e,["functionCalls"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Jre(t,i))),v(n,["functionCalls"],a)}return n}function tae(t,e){const n={},r=g(e,["ids"]);return r!=null&&v(n,["ids"],r),n}function nae(t,e){const n={},r=g(e,["ids"]);return r!=null&&v(n,["ids"],r),n}function fh(t,e){const n={},r=g(e,["modality"]);r!=null&&v(n,["modality"],r);const a=g(e,["tokenCount"]);return a!=null&&v(n,["tokenCount"],a),n}function hh(t,e){const n={},r=g(e,["modality"]);r!=null&&v(n,["modality"],r);const a=g(e,["tokenCount"]);return a!=null&&v(n,["tokenCount"],a),n}function rae(t,e){const n={},r=g(e,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const a=g(e,["cachedContentTokenCount"]);a!=null&&v(n,["cachedContentTokenCount"],a);const i=g(e,["responseTokenCount"]);i!=null&&v(n,["responseTokenCount"],i);const s=g(e,["toolUsePromptTokenCount"]);s!=null&&v(n,["toolUsePromptTokenCount"],s);const u=g(e,["thoughtsTokenCount"]);u!=null&&v(n,["thoughtsTokenCount"],u);const d=g(e,["totalTokenCount"]);d!=null&&v(n,["totalTokenCount"],d);const c=g(e,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(w=>fh(t,w))),v(n,["promptTokensDetails"],_)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(w=>fh(t,w))),v(n,["cacheTokensDetails"],_)}const m=g(e,["responseTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(w=>fh(t,w))),v(n,["responseTokensDetails"],_)}const y=g(e,["toolUsePromptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(w=>fh(t,w))),v(n,["toolUsePromptTokensDetails"],_)}return n}function aae(t,e){const n={},r=g(e,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const a=g(e,["cachedContentTokenCount"]);a!=null&&v(n,["cachedContentTokenCount"],a);const i=g(e,["candidatesTokenCount"]);i!=null&&v(n,["responseTokenCount"],i);const s=g(e,["toolUsePromptTokenCount"]);s!=null&&v(n,["toolUsePromptTokenCount"],s);const u=g(e,["thoughtsTokenCount"]);u!=null&&v(n,["thoughtsTokenCount"],u);const d=g(e,["totalTokenCount"]);d!=null&&v(n,["totalTokenCount"],d);const c=g(e,["promptTokensDetails"]);if(c!=null){let w=c;Array.isArray(w)&&(w=w.map(A=>hh(t,A))),v(n,["promptTokensDetails"],w)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(A=>hh(t,A))),v(n,["cacheTokensDetails"],w)}const m=g(e,["candidatesTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(A=>hh(t,A))),v(n,["responseTokensDetails"],w)}const y=g(e,["toolUsePromptTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(A=>hh(t,A))),v(n,["toolUsePromptTokensDetails"],w)}const _=g(e,["trafficType"]);return _!=null&&v(n,["trafficType"],_),n}function iae(t,e){const n={},r=g(e,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function oae(t,e){const n={},r=g(e,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function sae(t,e){const n={},r=g(e,["newHandle"]);r!=null&&v(n,["newHandle"],r);const a=g(e,["resumable"]);a!=null&&v(n,["resumable"],a);const i=g(e,["lastConsumedClientMessageIndex"]);return i!=null&&v(n,["lastConsumedClientMessageIndex"],i),n}function lae(t,e){const n={},r=g(e,["newHandle"]);r!=null&&v(n,["newHandle"],r);const a=g(e,["resumable"]);a!=null&&v(n,["resumable"],a);const i=g(e,["lastConsumedClientMessageIndex"]);return i!=null&&v(n,["lastConsumedClientMessageIndex"],i),n}function uae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],Ire());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],Wre(t,a));const i=g(e,["toolCall"]);i!=null&&v(n,["toolCall"],Qre(t,i));const s=g(e,["toolCallCancellation"]);s!=null&&v(n,["toolCallCancellation"],tae(t,s));const u=g(e,["usageMetadata"]);u!=null&&v(n,["usageMetadata"],rae(t,u));const d=g(e,["goAway"]);d!=null&&v(n,["goAway"],iae(t,d));const c=g(e,["sessionResumptionUpdate"]);return c!=null&&v(n,["sessionResumptionUpdate"],sae(t,c)),n}function cae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],jre());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],Xre(t,a));const i=g(e,["toolCall"]);i!=null&&v(n,["toolCall"],eae(t,i));const s=g(e,["toolCallCancellation"]);s!=null&&v(n,["toolCallCancellation"],nae(t,s));const u=g(e,["usageMetadata"]);u!=null&&v(n,["usageMetadata"],aae(t,u));const d=g(e,["goAway"]);d!=null&&v(n,["goAway"],oae(t,d));const c=g(e,["sessionResumptionUpdate"]);return c!=null&&v(n,["sessionResumptionUpdate"],lae(t,c)),n}function dae(){return{}}function fae(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["weight"]);return a!=null&&v(n,["weight"],a),n}function hae(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>fae(t,i))),v(n,["weightedPrompts"],a)}return n}function mae(t,e){const n={},r=g(e,["temperature"]);r!=null&&v(n,["temperature"],r);const a=g(e,["topK"]);a!=null&&v(n,["topK"],a);const i=g(e,["seed"]);i!=null&&v(n,["seed"],i);const s=g(e,["guidance"]);s!=null&&v(n,["guidance"],s);const u=g(e,["bpm"]);u!=null&&v(n,["bpm"],u);const d=g(e,["density"]);d!=null&&v(n,["density"],d);const c=g(e,["brightness"]);c!=null&&v(n,["brightness"],c);const h=g(e,["scale"]);h!=null&&v(n,["scale"],h);const m=g(e,["muteBass"]);m!=null&&v(n,["muteBass"],m);const y=g(e,["muteDrums"]);y!=null&&v(n,["muteDrums"],y);const _=g(e,["onlyBassAndDrums"]);return _!=null&&v(n,["onlyBassAndDrums"],_),n}function pae(t,e){const n={},r=g(e,["clientContent"]);r!=null&&v(n,["clientContent"],hae(t,r));const a=g(e,["musicGenerationConfig"]);return a!=null&&v(n,["musicGenerationConfig"],mae(t,a)),n}function gae(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);a!=null&&v(n,["mimeType"],a);const i=g(e,["sourceMetadata"]);return i!=null&&v(n,["sourceMetadata"],pae(t,i)),n}function vae(t,e){const n={},r=g(e,["audioChunks"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>gae(t,i))),v(n,["audioChunks"],a)}return n}function yae(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["filteredReason"]);return a!=null&&v(n,["filteredReason"],a),n}function bae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],dae());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],vae(t,a));const i=g(e,["filteredPrompt"]);return i!=null&&v(n,["filteredPrompt"],yae(t,i)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xae(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function _ae(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Sae(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function wae(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],xae(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],_ae(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Sae(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function yp(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>wae(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Tae(t,e){const n={},r=g(e,["anyOf"]);r!=null&&v(n,["anyOf"],r);const a=g(e,["default"]);a!=null&&v(n,["default"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["enum"]);s!=null&&v(n,["enum"],s);const u=g(e,["example"]);u!=null&&v(n,["example"],u);const d=g(e,["format"]);d!=null&&v(n,["format"],d);const c=g(e,["items"]);c!=null&&v(n,["items"],c);const h=g(e,["maxItems"]);h!=null&&v(n,["maxItems"],h);const m=g(e,["maxLength"]);m!=null&&v(n,["maxLength"],m);const y=g(e,["maxProperties"]);y!=null&&v(n,["maxProperties"],y);const _=g(e,["maximum"]);_!=null&&v(n,["maximum"],_);const w=g(e,["minItems"]);w!=null&&v(n,["minItems"],w);const A=g(e,["minLength"]);A!=null&&v(n,["minLength"],A);const T=g(e,["minProperties"]);T!=null&&v(n,["minProperties"],T);const k=g(e,["minimum"]);k!=null&&v(n,["minimum"],k);const M=g(e,["nullable"]);M!=null&&v(n,["nullable"],M);const E=g(e,["pattern"]);E!=null&&v(n,["pattern"],E);const D=g(e,["properties"]);D!=null&&v(n,["properties"],D);const C=g(e,["propertyOrdering"]);C!=null&&v(n,["propertyOrdering"],C);const O=g(e,["required"]);O!=null&&v(n,["required"],O);const P=g(e,["title"]);P!=null&&v(n,["title"],P);const I=g(e,["type"]);return I!=null&&v(n,["type"],I),n}function Aae(t,e){const n={};if(g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["category"]);r!=null&&v(n,["category"],r);const a=g(e,["threshold"]);return a!=null&&v(n,["threshold"],a),n}function Eae(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function Cae(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function kae(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Cae(t,r)),n}function Oae(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Mae(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Oae(t,r)),n}function Dae(){return{}}function Nae(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>Eae(t,c))),v(n,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],kae(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],Mae(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],Dae());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function Pae(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Rae(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Iae(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Rae(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function jae(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],Pae(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Iae(t,a)),n}function $ae(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function z$(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],$ae(t,r)),n}function Lae(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],z$(t,a)),n}function Bae(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Lae(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function qae(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],z$(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],Bae(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function Uae(t,e){const n={},r=g(e,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const a=g(e,["thinkingBudget"]);return a!=null&&v(n,["thinkingBudget"],a),n}function Fae(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],yp(t,Wn(t,a)));const i=g(e,["temperature"]);i!=null&&v(r,["temperature"],i);const s=g(e,["topP"]);s!=null&&v(r,["topP"],s);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const d=g(e,["candidateCount"]);d!=null&&v(r,["candidateCount"],d);const c=g(e,["maxOutputTokens"]);c!=null&&v(r,["maxOutputTokens"],c);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const _=g(e,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const w=g(e,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const A=g(e,["seed"]);A!=null&&v(r,["seed"],A);const T=g(e,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const k=g(e,["responseSchema"]);if(k!=null&&v(r,["responseSchema"],Tae(t,Am(t,k))),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=g(e,["safetySettings"]);if(n!==void 0&&M!=null){let z=M;Array.isArray(z)&&(z=z.map(L=>Aae(t,L))),v(n,["safetySettings"],z)}const E=g(e,["tools"]);if(n!==void 0&&E!=null){let z=kd(t,E);Array.isArray(z)&&(z=z.map(L=>Nae(t,Cd(t,L)))),v(n,["tools"],z)}const D=g(e,["toolConfig"]);if(n!==void 0&&D!=null&&v(n,["toolConfig"],jae(t,D)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=g(e,["cachedContent"]);n!==void 0&&C!=null&&v(n,["cachedContent"],eo(t,C));const O=g(e,["responseModalities"]);O!=null&&v(r,["responseModalities"],O);const P=g(e,["mediaResolution"]);P!=null&&v(r,["mediaResolution"],P);const I=g(e,["speechConfig"]);if(I!=null&&v(r,["speechConfig"],qae(t,P$(t,I))),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=g(e,["thinkingConfig"]);return q!=null&&v(r,["thinkingConfig"],Uae(t,q)),r}function bR(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);if(a!=null){let s=Jr(t,a);Array.isArray(s)&&(s=s.map(u=>yp(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["generationConfig"],Fae(t,i,n)),n}function Vae(t,e,n){const r={},a=g(e,["taskType"]);n!==void 0&&a!=null&&v(n,["requests[]","taskType"],a);const i=g(e,["title"]);n!==void 0&&i!=null&&v(n,["requests[]","title"],i);const s=g(e,["outputDimensionality"]);if(n!==void 0&&s!=null&&v(n,["requests[]","outputDimensionality"],s),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function zae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);a!=null&&v(n,["requests[]","content"],N$(t,a));const i=g(e,["config"]);i!=null&&v(n,["config"],Vae(t,i,n));const s=g(e,["model"]);return s!==void 0&&v(n,["requests[]","model"],Bt(t,s)),n}function Gae(t,e,n){const r={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=g(e,["numberOfImages"]);n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a);const i=g(e,["aspectRatio"]);n!==void 0&&i!=null&&v(n,["parameters","aspectRatio"],i);const s=g(e,["guidanceScale"]);if(n!==void 0&&s!=null&&v(n,["parameters","guidanceScale"],s),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=g(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&v(n,["parameters","safetySetting"],u);const d=g(e,["personGeneration"]);n!==void 0&&d!=null&&v(n,["parameters","personGeneration"],d);const c=g(e,["includeSafetyAttributes"]);n!==void 0&&c!=null&&v(n,["parameters","includeSafetyAttributes"],c);const h=g(e,["includeRaiReason"]);n!==void 0&&h!=null&&v(n,["parameters","includeRaiReason"],h);const m=g(e,["language"]);n!==void 0&&m!=null&&v(n,["parameters","language"],m);const y=g(e,["outputMimeType"]);n!==void 0&&y!=null&&v(n,["parameters","outputOptions","mimeType"],y);const _=g(e,["outputCompressionQuality"]);if(n!==void 0&&_!=null&&v(n,["parameters","outputOptions","compressionQuality"],_),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Hae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],Gae(t,i,n)),n}function Kae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Yae(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],j$(t,u)),r}function Wae(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Yae(t,r,n)),n}function Xae(t,e,n){const r={},a=g(e,["displayName"]);n!==void 0&&a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);n!==void 0&&i!=null&&v(n,["description"],i);const s=g(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&v(n,["defaultCheckpointId"],s),r}function Zae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Xae(t,a,n)),n}function Jae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Qae(t,e){const n={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function eie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);if(a!=null){let s=Jr(t,a);Array.isArray(s)&&(s=s.map(u=>yp(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],Qae(t,i)),n}function tie(t,e){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=g(e,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],ii(t,r));const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function nie(t,e,n){const r={},a=g(e,["numberOfVideos"]);if(n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(e,["durationSeconds"]);if(n!==void 0&&i!=null&&v(n,["parameters","durationSeconds"],i),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=g(e,["aspectRatio"]);if(n!==void 0&&s!=null&&v(n,["parameters","aspectRatio"],s),g(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=g(e,["personGeneration"]);if(n!==void 0&&u!=null&&v(n,["parameters","personGeneration"],u),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=g(e,["negativePrompt"]);n!==void 0&&d!=null&&v(n,["parameters","negativePrompt"],d);const c=g(e,["enhancePrompt"]);if(n!==void 0&&c!=null&&v(n,["parameters","enhancePrompt"],c),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(g(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return r}function rie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["image"]);if(i!=null&&v(n,["instances[0]","image"],tie(t,i)),g(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=g(e,["config"]);return s!=null&&v(n,["config"],nie(t,s,n)),n}function aie(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function iie(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function oie(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function sie(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],aie(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],iie(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],oie(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function nu(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>sie(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function lie(t,e){const n={},r=g(e,["anyOf"]);r!=null&&v(n,["anyOf"],r);const a=g(e,["default"]);a!=null&&v(n,["default"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["enum"]);s!=null&&v(n,["enum"],s);const u=g(e,["example"]);u!=null&&v(n,["example"],u);const d=g(e,["format"]);d!=null&&v(n,["format"],d);const c=g(e,["items"]);c!=null&&v(n,["items"],c);const h=g(e,["maxItems"]);h!=null&&v(n,["maxItems"],h);const m=g(e,["maxLength"]);m!=null&&v(n,["maxLength"],m);const y=g(e,["maxProperties"]);y!=null&&v(n,["maxProperties"],y);const _=g(e,["maximum"]);_!=null&&v(n,["maximum"],_);const w=g(e,["minItems"]);w!=null&&v(n,["minItems"],w);const A=g(e,["minLength"]);A!=null&&v(n,["minLength"],A);const T=g(e,["minProperties"]);T!=null&&v(n,["minProperties"],T);const k=g(e,["minimum"]);k!=null&&v(n,["minimum"],k);const M=g(e,["nullable"]);M!=null&&v(n,["nullable"],M);const E=g(e,["pattern"]);E!=null&&v(n,["pattern"],E);const D=g(e,["properties"]);D!=null&&v(n,["properties"],D);const C=g(e,["propertyOrdering"]);C!=null&&v(n,["propertyOrdering"],C);const O=g(e,["required"]);O!=null&&v(n,["required"],O);const P=g(e,["title"]);P!=null&&v(n,["title"],P);const I=g(e,["type"]);return I!=null&&v(n,["type"],I),n}function uie(t,e){const n={},r=g(e,["featureSelectionPreference"]);return r!=null&&v(n,["featureSelectionPreference"],r),n}function cie(t,e){const n={},r=g(e,["method"]);r!=null&&v(n,["method"],r);const a=g(e,["category"]);a!=null&&v(n,["category"],a);const i=g(e,["threshold"]);return i!=null&&v(n,["threshold"],i),n}function die(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function fie(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function hie(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],fie(t,r)),n}function mie(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function pie(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],mie(t,r)),n}function gie(){return{}}function vie(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function yie(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],vie(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const d=g(e,["oidcConfig"]);return d!=null&&v(n,["oidcConfig"],d),n}function bie(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],yie(t,r)),n}function xie(){return{}}function G$(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(y=>die(t,y))),v(n,["functionDeclarations"],m)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],hie(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],pie(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],gie());const d=g(e,["googleMaps"]);d!=null&&v(n,["googleMaps"],bie(t,d)),g(e,["urlContext"])!=null&&v(n,["urlContext"],xie());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function _ie(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Sie(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function wie(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Sie(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Tie(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],_ie(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],wie(t,a)),n}function Aie(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function Eie(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Aie(t,r)),n}function Cie(t,e){const n={},r=g(e,["voiceConfig"]);if(r!=null&&v(n,["voiceConfig"],Eie(t,r)),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function kie(t,e){const n={},r=g(e,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const a=g(e,["thinkingBudget"]);return a!=null&&v(n,["thinkingBudget"],a),n}function Oie(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],nu(t,Wn(t,a)));const i=g(e,["temperature"]);i!=null&&v(r,["temperature"],i);const s=g(e,["topP"]);s!=null&&v(r,["topP"],s);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const d=g(e,["candidateCount"]);d!=null&&v(r,["candidateCount"],d);const c=g(e,["maxOutputTokens"]);c!=null&&v(r,["maxOutputTokens"],c);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const _=g(e,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const w=g(e,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const A=g(e,["seed"]);A!=null&&v(r,["seed"],A);const T=g(e,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const k=g(e,["responseSchema"]);k!=null&&v(r,["responseSchema"],lie(t,Am(t,k)));const M=g(e,["routingConfig"]);M!=null&&v(r,["routingConfig"],M);const E=g(e,["modelSelectionConfig"]);E!=null&&v(r,["modelConfig"],uie(t,E));const D=g(e,["safetySettings"]);if(n!==void 0&&D!=null){let Y=D;Array.isArray(Y)&&(Y=Y.map(B=>cie(t,B))),v(n,["safetySettings"],Y)}const C=g(e,["tools"]);if(n!==void 0&&C!=null){let Y=kd(t,C);Array.isArray(Y)&&(Y=Y.map(B=>G$(t,Cd(t,B)))),v(n,["tools"],Y)}const O=g(e,["toolConfig"]);n!==void 0&&O!=null&&v(n,["toolConfig"],Tie(t,O));const P=g(e,["labels"]);n!==void 0&&P!=null&&v(n,["labels"],P);const I=g(e,["cachedContent"]);n!==void 0&&I!=null&&v(n,["cachedContent"],eo(t,I));const q=g(e,["responseModalities"]);q!=null&&v(r,["responseModalities"],q);const z=g(e,["mediaResolution"]);z!=null&&v(r,["mediaResolution"],z);const L=g(e,["speechConfig"]);L!=null&&v(r,["speechConfig"],Cie(t,P$(t,L)));const H=g(e,["audioTimestamp"]);H!=null&&v(r,["audioTimestamp"],H);const Q=g(e,["thinkingConfig"]);return Q!=null&&v(r,["thinkingConfig"],kie(t,Q)),r}function xR(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);if(a!=null){let s=Jr(t,a);Array.isArray(s)&&(s=s.map(u=>nu(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["generationConfig"],Oie(t,i,n)),n}function Mie(t,e,n){const r={},a=g(e,["taskType"]);n!==void 0&&a!=null&&v(n,["instances[]","task_type"],a);const i=g(e,["title"]);n!==void 0&&i!=null&&v(n,["instances[]","title"],i);const s=g(e,["outputDimensionality"]);n!==void 0&&s!=null&&v(n,["parameters","outputDimensionality"],s);const u=g(e,["mimeType"]);n!==void 0&&u!=null&&v(n,["instances[]","mimeType"],u);const d=g(e,["autoTruncate"]);return n!==void 0&&d!=null&&v(n,["parameters","autoTruncate"],d),r}function Die(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);a!=null&&v(n,["instances[]","content"],N$(t,a));const i=g(e,["config"]);return i!=null&&v(n,["config"],Mie(t,i,n)),n}function Nie(t,e,n){const r={},a=g(e,["outputGcsUri"]);n!==void 0&&a!=null&&v(n,["parameters","storageUri"],a);const i=g(e,["negativePrompt"]);n!==void 0&&i!=null&&v(n,["parameters","negativePrompt"],i);const s=g(e,["numberOfImages"]);n!==void 0&&s!=null&&v(n,["parameters","sampleCount"],s);const u=g(e,["aspectRatio"]);n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u);const d=g(e,["guidanceScale"]);n!==void 0&&d!=null&&v(n,["parameters","guidanceScale"],d);const c=g(e,["seed"]);n!==void 0&&c!=null&&v(n,["parameters","seed"],c);const h=g(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const m=g(e,["personGeneration"]);n!==void 0&&m!=null&&v(n,["parameters","personGeneration"],m);const y=g(e,["includeSafetyAttributes"]);n!==void 0&&y!=null&&v(n,["parameters","includeSafetyAttributes"],y);const _=g(e,["includeRaiReason"]);n!==void 0&&_!=null&&v(n,["parameters","includeRaiReason"],_);const w=g(e,["language"]);n!==void 0&&w!=null&&v(n,["parameters","language"],w);const A=g(e,["outputMimeType"]);n!==void 0&&A!=null&&v(n,["parameters","outputOptions","mimeType"],A);const T=g(e,["outputCompressionQuality"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","compressionQuality"],T);const k=g(e,["addWatermark"]);n!==void 0&&k!=null&&v(n,["parameters","addWatermark"],k);const M=g(e,["enhancePrompt"]);return n!==void 0&&M!=null&&v(n,["parameters","enhancePrompt"],M),r}function Pie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],Nie(t,i,n)),n}function bp(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["imageBytes"]);a!=null&&v(n,["bytesBase64Encoded"],ii(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Rie(t,e){const n={},r=g(e,["maskMode"]);r!=null&&v(n,["maskMode"],r);const a=g(e,["segmentationClasses"]);a!=null&&v(n,["maskClasses"],a);const i=g(e,["maskDilation"]);return i!=null&&v(n,["dilation"],i),n}function Iie(t,e){const n={},r=g(e,["controlType"]);r!=null&&v(n,["controlType"],r);const a=g(e,["enableControlImageComputation"]);return a!=null&&v(n,["computeControl"],a),n}function jie(t,e){const n={},r=g(e,["styleDescription"]);return r!=null&&v(n,["styleDescription"],r),n}function $ie(t,e){const n={},r=g(e,["subjectType"]);r!=null&&v(n,["subjectType"],r);const a=g(e,["subjectDescription"]);return a!=null&&v(n,["subjectDescription"],a),n}function Lie(t,e){const n={},r=g(e,["referenceImage"]);r!=null&&v(n,["referenceImage"],bp(t,r));const a=g(e,["referenceId"]);a!=null&&v(n,["referenceId"],a);const i=g(e,["referenceType"]);i!=null&&v(n,["referenceType"],i);const s=g(e,["maskImageConfig"]);s!=null&&v(n,["maskImageConfig"],Rie(t,s));const u=g(e,["controlImageConfig"]);u!=null&&v(n,["controlImageConfig"],Iie(t,u));const d=g(e,["styleImageConfig"]);d!=null&&v(n,["styleImageConfig"],jie(t,d));const c=g(e,["subjectImageConfig"]);return c!=null&&v(n,["subjectImageConfig"],$ie(t,c)),n}function Bie(t,e,n){const r={},a=g(e,["outputGcsUri"]);n!==void 0&&a!=null&&v(n,["parameters","storageUri"],a);const i=g(e,["negativePrompt"]);n!==void 0&&i!=null&&v(n,["parameters","negativePrompt"],i);const s=g(e,["numberOfImages"]);n!==void 0&&s!=null&&v(n,["parameters","sampleCount"],s);const u=g(e,["aspectRatio"]);n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u);const d=g(e,["guidanceScale"]);n!==void 0&&d!=null&&v(n,["parameters","guidanceScale"],d);const c=g(e,["seed"]);n!==void 0&&c!=null&&v(n,["parameters","seed"],c);const h=g(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const m=g(e,["personGeneration"]);n!==void 0&&m!=null&&v(n,["parameters","personGeneration"],m);const y=g(e,["includeSafetyAttributes"]);n!==void 0&&y!=null&&v(n,["parameters","includeSafetyAttributes"],y);const _=g(e,["includeRaiReason"]);n!==void 0&&_!=null&&v(n,["parameters","includeRaiReason"],_);const w=g(e,["language"]);n!==void 0&&w!=null&&v(n,["parameters","language"],w);const A=g(e,["outputMimeType"]);n!==void 0&&A!=null&&v(n,["parameters","outputOptions","mimeType"],A);const T=g(e,["outputCompressionQuality"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","compressionQuality"],T);const k=g(e,["editMode"]);n!==void 0&&k!=null&&v(n,["parameters","editMode"],k);const M=g(e,["baseSteps"]);return n!==void 0&&M!=null&&v(n,["parameters","editConfig","baseSteps"],M),r}function qie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>Lie(t,d))),v(n,["instances[0]","referenceImages"],u)}const s=g(e,["config"]);return s!=null&&v(n,["config"],Bie(t,s,n)),n}function Uie(t,e,n){const r={},a=g(e,["includeRaiReason"]);n!==void 0&&a!=null&&v(n,["parameters","includeRaiReason"],a);const i=g(e,["outputMimeType"]);n!==void 0&&i!=null&&v(n,["parameters","outputOptions","mimeType"],i);const s=g(e,["outputCompressionQuality"]);n!==void 0&&s!=null&&v(n,["parameters","outputOptions","compressionQuality"],s);const u=g(e,["numberOfImages"]);n!==void 0&&u!=null&&v(n,["parameters","sampleCount"],u);const d=g(e,["mode"]);return n!==void 0&&d!=null&&v(n,["parameters","mode"],d),r}function Fie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["image"]);a!=null&&v(n,["instances[0]","image"],bp(t,a));const i=g(e,["upscaleFactor"]);i!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=g(e,["config"]);return s!=null&&v(n,["config"],Uie(t,s,n)),n}function Vie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function zie(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],j$(t,u)),r}function Gie(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],zie(t,r,n)),n}function Hie(t,e,n){const r={},a=g(e,["displayName"]);n!==void 0&&a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);n!==void 0&&i!=null&&v(n,["description"],i);const s=g(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&v(n,["defaultCheckpointId"],s),r}function Kie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Hie(t,a,n)),n}function Yie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Wie(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],nu(t,Wn(t,a)));const i=g(e,["tools"]);if(n!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>G$(t,d))),v(n,["tools"],u)}const s=g(e,["generationConfig"]);return n!==void 0&&s!=null&&v(n,["generationConfig"],s),r}function Xie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);if(a!=null){let s=Jr(t,a);Array.isArray(s)&&(s=s.map(u=>nu(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],Wie(t,i,n)),n}function Zie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["contents"]);if(a!=null){let s=Jr(t,a);Array.isArray(s)&&(s=s.map(u=>nu(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],i),n}function Jie(t,e){const n={},r=g(e,["uri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["videoBytes"]);a!=null&&v(n,["bytesBase64Encoded"],ii(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Qie(t,e,n){const r={},a=g(e,["numberOfVideos"]);n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a);const i=g(e,["outputGcsUri"]);n!==void 0&&i!=null&&v(n,["parameters","storageUri"],i);const s=g(e,["fps"]);n!==void 0&&s!=null&&v(n,["parameters","fps"],s);const u=g(e,["durationSeconds"]);n!==void 0&&u!=null&&v(n,["parameters","durationSeconds"],u);const d=g(e,["seed"]);n!==void 0&&d!=null&&v(n,["parameters","seed"],d);const c=g(e,["aspectRatio"]);n!==void 0&&c!=null&&v(n,["parameters","aspectRatio"],c);const h=g(e,["resolution"]);n!==void 0&&h!=null&&v(n,["parameters","resolution"],h);const m=g(e,["personGeneration"]);n!==void 0&&m!=null&&v(n,["parameters","personGeneration"],m);const y=g(e,["pubsubTopic"]);n!==void 0&&y!=null&&v(n,["parameters","pubsubTopic"],y);const _=g(e,["negativePrompt"]);n!==void 0&&_!=null&&v(n,["parameters","negativePrompt"],_);const w=g(e,["enhancePrompt"]);n!==void 0&&w!=null&&v(n,["parameters","enhancePrompt"],w);const A=g(e,["generateAudio"]);n!==void 0&&A!=null&&v(n,["parameters","generateAudio"],A);const T=g(e,["lastFrame"]);return n!==void 0&&T!=null&&v(n,["instances[0]","lastFrame"],bp(t,T)),r}function eoe(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Bt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["image"]);i!=null&&v(n,["instances[0]","image"],bp(t,i));const s=g(e,["video"]);s!=null&&v(n,["instances[0]","video"],Jie(t,s));const u=g(e,["config"]);return u!=null&&v(n,["config"],Qie(t,u,n)),n}function toe(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function noe(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function roe(t,e){const n={},r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function aoe(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],toe(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],noe(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],roe(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function ioe(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>aoe(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function ooe(t,e){const n={},r=g(e,["citationSources"]);return r!=null&&v(n,["citations"],r),n}function soe(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function loe(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>soe(t,i))),v(n,["urlMetadata"],a)}return n}function uoe(t,e){const n={},r=g(e,["content"]);r!=null&&v(n,["content"],ioe(t,r));const a=g(e,["citationMetadata"]);a!=null&&v(n,["citationMetadata"],ooe(t,a));const i=g(e,["tokenCount"]);i!=null&&v(n,["tokenCount"],i);const s=g(e,["finishReason"]);s!=null&&v(n,["finishReason"],s);const u=g(e,["urlContextMetadata"]);u!=null&&v(n,["urlContextMetadata"],loe(t,u));const d=g(e,["avgLogprobs"]);d!=null&&v(n,["avgLogprobs"],d);const c=g(e,["groundingMetadata"]);c!=null&&v(n,["groundingMetadata"],c);const h=g(e,["index"]);h!=null&&v(n,["index"],h);const m=g(e,["logprobsResult"]);m!=null&&v(n,["logprobsResult"],m);const y=g(e,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function _R(t,e){const n={},r=g(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>uoe(t,d))),v(n,["candidates"],u)}const a=g(e,["modelVersion"]);a!=null&&v(n,["modelVersion"],a);const i=g(e,["promptFeedback"]);i!=null&&v(n,["promptFeedback"],i);const s=g(e,["usageMetadata"]);return s!=null&&v(n,["usageMetadata"],s),n}function coe(t,e){const n={},r=g(e,["values"]);return r!=null&&v(n,["values"],r),n}function doe(){return{}}function foe(t,e){const n={},r=g(e,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>coe(t,s))),v(n,["embeddings"],i)}return g(e,["metadata"])!=null&&v(n,["metadata"],doe()),n}function hoe(t,e){const n={},r=g(e,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],ii(t,r));const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function H$(t,e){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const a=g(e,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const i=g(e,["contentType"]);return i!=null&&v(n,["contentType"],i),n}function moe(t,e){const n={},r=g(e,["_self"]);r!=null&&v(n,["image"],hoe(t,r));const a=g(e,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const i=g(e,["_self"]);return i!=null&&v(n,["safetyAttributes"],H$(t,i)),n}function poe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>moe(t,s))),v(n,["generatedImages"],i)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],H$(t,a)),n}function goe(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["updateTime"]);return i!=null&&v(n,["updateTime"],i),n}function DS(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["version"]);s!=null&&v(n,["version"],s);const u=g(e,["_self"]);u!=null&&v(n,["tunedModelInfo"],goe(t,u));const d=g(e,["inputTokenLimit"]);d!=null&&v(n,["inputTokenLimit"],d);const c=g(e,["outputTokenLimit"]);c!=null&&v(n,["outputTokenLimit"],c);const h=g(e,["supportedGenerationMethods"]);return h!=null&&v(n,["supportedActions"],h),n}function voe(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["_self"]);if(a!=null){let i=$$(t,a);Array.isArray(i)&&(i=i.map(s=>DS(t,s))),v(n,["models"],i)}return n}function yoe(){return{}}function boe(t,e){const n={},r=g(e,["totalTokens"]);r!=null&&v(n,["totalTokens"],r);const a=g(e,["cachedContentTokenCount"]);return a!=null&&v(n,["cachedContentTokenCount"],a),n}function xoe(t,e){const n={},r=g(e,["video","uri"]);r!=null&&v(n,["uri"],r);const a=g(e,["video","encodedVideo"]);a!=null&&v(n,["videoBytes"],ii(t,a));const i=g(e,["encoding"]);return i!=null&&v(n,["mimeType"],i),n}function _oe(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],xoe(t,r)),n}function Soe(t,e){const n={},r=g(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>_oe(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function woe(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response","generateVideoResponse"]);return u!=null&&v(n,["response"],Soe(t,u)),n}function Toe(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Aoe(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Eoe(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Coe(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Toe(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Aoe(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Eoe(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function koe(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Coe(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Ooe(t,e){const n={},r=g(e,["citations"]);return r!=null&&v(n,["citations"],r),n}function Moe(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function Doe(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Moe(t,i))),v(n,["urlMetadata"],a)}return n}function Noe(t,e){const n={},r=g(e,["content"]);r!=null&&v(n,["content"],koe(t,r));const a=g(e,["citationMetadata"]);a!=null&&v(n,["citationMetadata"],Ooe(t,a));const i=g(e,["finishMessage"]);i!=null&&v(n,["finishMessage"],i);const s=g(e,["finishReason"]);s!=null&&v(n,["finishReason"],s);const u=g(e,["urlContextMetadata"]);u!=null&&v(n,["urlContextMetadata"],Doe(t,u));const d=g(e,["avgLogprobs"]);d!=null&&v(n,["avgLogprobs"],d);const c=g(e,["groundingMetadata"]);c!=null&&v(n,["groundingMetadata"],c);const h=g(e,["index"]);h!=null&&v(n,["index"],h);const m=g(e,["logprobsResult"]);m!=null&&v(n,["logprobsResult"],m);const y=g(e,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function SR(t,e){const n={},r=g(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>Noe(t,h))),v(n,["candidates"],c)}const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["responseId"]);i!=null&&v(n,["responseId"],i);const s=g(e,["modelVersion"]);s!=null&&v(n,["modelVersion"],s);const u=g(e,["promptFeedback"]);u!=null&&v(n,["promptFeedback"],u);const d=g(e,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function Poe(t,e){const n={},r=g(e,["truncated"]);r!=null&&v(n,["truncated"],r);const a=g(e,["token_count"]);return a!=null&&v(n,["tokenCount"],a),n}function Roe(t,e){const n={},r=g(e,["values"]);r!=null&&v(n,["values"],r);const a=g(e,["statistics"]);return a!=null&&v(n,["statistics"],Poe(t,a)),n}function Ioe(t,e){const n={},r=g(e,["billableCharacterCount"]);return r!=null&&v(n,["billableCharacterCount"],r),n}function joe(t,e){const n={},r=g(e,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Roe(t,s))),v(n,["embeddings"],i)}const a=g(e,["metadata"]);return a!=null&&v(n,["metadata"],Ioe(t,a)),n}function $oe(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["imageBytes"],ii(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function K$(t,e){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const a=g(e,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const i=g(e,["contentType"]);return i!=null&&v(n,["contentType"],i),n}function Jw(t,e){const n={},r=g(e,["_self"]);r!=null&&v(n,["image"],$oe(t,r));const a=g(e,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const i=g(e,["_self"]);i!=null&&v(n,["safetyAttributes"],K$(t,i));const s=g(e,["prompt"]);return s!=null&&v(n,["enhancedPrompt"],s),n}function Loe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Jw(t,s))),v(n,["generatedImages"],i)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],K$(t,a)),n}function Boe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Jw(t,i))),v(n,["generatedImages"],a)}return n}function qoe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Jw(t,i))),v(n,["generatedImages"],a)}return n}function Uoe(t,e){const n={},r=g(e,["endpoint"]);r!=null&&v(n,["name"],r);const a=g(e,["deployedModelId"]);return a!=null&&v(n,["deployedModelId"],a),n}function Foe(t,e){const n={},r=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["updateTime"]);return i!=null&&v(n,["updateTime"],i),n}function Voe(t,e){const n={},r=g(e,["checkpointId"]);r!=null&&v(n,["checkpointId"],r);const a=g(e,["epoch"]);a!=null&&v(n,["epoch"],a);const i=g(e,["step"]);return i!=null&&v(n,["step"],i),n}function NS(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["versionId"]);s!=null&&v(n,["version"],s);const u=g(e,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(_=>Uoe(t,_))),v(n,["endpoints"],y)}const d=g(e,["labels"]);d!=null&&v(n,["labels"],d);const c=g(e,["_self"]);c!=null&&v(n,["tunedModelInfo"],Foe(t,c));const h=g(e,["defaultCheckpointId"]);h!=null&&v(n,["defaultCheckpointId"],h);const m=g(e,["checkpoints"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(_=>Voe(t,_))),v(n,["checkpoints"],y)}return n}function zoe(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["_self"]);if(a!=null){let i=$$(t,a);Array.isArray(i)&&(i=i.map(s=>NS(t,s))),v(n,["models"],i)}return n}function Goe(){return{}}function Hoe(t,e){const n={},r=g(e,["totalTokens"]);return r!=null&&v(n,["totalTokens"],r),n}function Koe(t,e){const n={},r=g(e,["tokensInfo"]);return r!=null&&v(n,["tokensInfo"],r),n}function Yoe(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["uri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["videoBytes"],ii(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Woe(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Yoe(t,r)),n}function Xoe(t,e){const n={},r=g(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Woe(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function Zoe(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],Xoe(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Joe="Content-Type",Qoe="X-Server-Timeout",ese="User-Agent",PS="x-goog-api-client",tse="1.5.1",nse=`google-genai-sdk/${tse}`,rse="v1beta1",ase="v1beta",wR=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Y$ extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class RS extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class ise{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:rse,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ase,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))a.searchParams.append(s,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.unaryApiCall(a,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[a,i]of Object.entries(n))typeof i=="object"?r[a]=Object.assign(Object.assign({},r[a]),i):i!==void 0&&(r[a]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.streamApiCall(a,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const a=new AbortController,i=a.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>a.abort(),n.timeout),r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=i}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await TR(a),new CS(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await TR(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var n;return ml(this,arguments,function*(){const a=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:d}=yield Ut(a.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(d);try{const m=JSON.parse(c);if("error"in m){const y=JSON.parse(JSON.stringify(m.error)),_=y.status,w=y.code,A=`got status: ${_}. ${JSON.stringify(m)}`;if(w>=400&&w<500)throw new Y$(A);if(w>=500&&w<600)throw new RS(A)}}catch(m){const y=m;if(y.name==="ClientError"||y.name==="ServerError")throw m}s+=c;let h=s.match(wR);for(;h;){const m=h[1];try{const y=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ut(new CS(y)),s=s.slice(h[0].length),h=s.match(wR)}catch(y){throw new Error(`exception parsing stream chunk ${m}. ${y}`)}}}}finally{a.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=nse+" "+this.clientOptions.userAgentExtra;return e[ese]=n,e[PS]=n,e[Joe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))n.append(r,a);e.timeout&&e.timeout>0&&n.append(Qoe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const i=this.clientOptions.uploader,s=await i.stat(e);a.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=u;const d=await this.fetchUploadUrl(a,n);return i.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let a={};n!=null&&n.httpOptions?a=n.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},s=await this.request({path:Ve("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:a});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function TR(t){var e;if(t===void 0)throw new RS("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let a;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await t.json():a={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=`got status: ${n} ${r}. ${JSON.stringify(a)}`;throw n>=400&&n<500?new Y$(i):n>=500&&n<600?new RS(i):new Error(i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ose="mcp_used/unknown";function W$(t){for(const e of t)if(Qw(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function X$(t){var e;const n=(e=t[PS])!==null&&e!==void 0?e:"";t[PS]=(n+` ${ose}`).trimStart()}function sse(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>Qw(a)))!==null&&r!==void 0?r:!1}function lse(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>!Qw(a)))!==null&&r!==void 0?r:!1}function Qw(t){return t!==null&&typeof t=="object"&&t instanceof e1}function use(t,e=100){return ml(this,arguments,function*(){let r,a=0;for(;a<e;){const i=yield Ut(t.listTools({cursor:r}));for(const s of i.tools)yield yield Ut(s),a++;if(!i.nextCursor)break;r=i.nextCursor}})}class e1{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new e1(e,n)}async initialize(){var e,n,r,a;if(this.mcpTools.length>0)return;const i={},s=[];for(const h of this.mcpClients)try{for(var u=!0,d=(n=void 0,Dc(use(h))),c;c=await d.next(),e=c.done,!e;u=!0){a=c.value,u=!1;const m=a;s.push(m);const y=m.name;if(i[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);i[y]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),cte(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const s=await a.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cse(t,e,n){const r=new Zee;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data);const i=bae(t,a);Object.assign(r,i),e(r)}class dse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=mse(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const h=new Promise(E=>{c=E}),m=e.callbacks,y=function(){c({})},_=this.apiClient,w={onopen:y,onmessage:E=>{cse(_,m.onmessage,E)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(E){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(E){}},A=this.webSocketFactory.create(d,hse(s),w);A.connect(),await h;const T=Bt(this.apiClient,e.model),k=F$(this.apiClient,{model:T}),M=MS(this.apiClient,{setup:k});return A.send(JSON.stringify(M)),new fse(A,this.apiClient)}}class fse{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Pre(this.apiClient,e),r=V$(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Rre(this.apiClient,e),r=MS(this.apiClient,n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=MS(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ll.PLAY)}pause(){this.sendPlaybackControl(ll.PAUSE)}stop(){this.sendPlaybackControl(ll.STOP)}resetContext(){this.sendPlaybackControl(ll.RESET_CONTEXT)}close(){this.conn.close()}}function hse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function mse(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pse="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function gse(t,e,n){const r=new Xee;let a;if(n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),t.isVertexAI()){const i=cae(t,a);Object.assign(r,i)}else{const i=uae(t,a);Object.assign(r,i)}e(r)}class vse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new dse(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,a,i,s,u;const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let h;const m=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&W$(e.config.tools)&&X$(m);const y=_se(m);if(this.apiClient.isVertexAI())h=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y);else{const q=this.apiClient.getApiKey();let z="BidiGenerateContent",L="key";q!=null&&q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),z="BidiGenerateContentConstrained",L="access_token"),h=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${z}?${L}=${q}`}let _=()=>{};const w=new Promise(q=>{_=q}),A=e.callbacks,T=function(){var q;(q=A==null?void 0:A.onopen)===null||q===void 0||q.call(A),_({})},k=this.apiClient,M={onopen:T,onmessage:q=>{gse(k,A.onmessage,q)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(q){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(q){}},E=this.webSocketFactory.create(h,xse(y),M);E.connect(),await w;let D=Bt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const q=this.apiClient.getProject(),z=this.apiClient.getLocation();D=`projects/${q}/locations/${z}/`+D}let C={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[wm.AUDIO]}:e.config.responseModalities=[wm.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],P=[];for(const q of O)if(this.isCallableTool(q)){const z=q;P.push(await z.tool())}else P.push(q);P.length>0&&(e.config.tools=P);const I={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=Ere(this.apiClient,I):C=Are(this.apiClient,I),delete C.config,E.send(JSON.stringify(C)),new bse(E,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const yse={turnComplete:!0};class bse{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Jr(e,n.turns),e.isVertexAI()?r=r.map(a=>nu(e,a)):r=r.map(a=>yp(e,a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(pse)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},yse),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Nre(this.apiClient,e)}:n={realtimeInput:Dre(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function xse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function _se(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AR=10;function ER(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(yh(s)){a=!0;break}if(!a)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function yh(t){return"callTool"in t&&typeof t.callTool=="function"}function CR(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sse extends tu{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,a,i,s,u;const d=await this.processParamsForMcpUsage(n);if(!sse(n)||ER(n.config))return await this.generateContentInternal(d);if(lse(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,h;const m=Jr(this.apiClient,d.contents),y=(i=(a=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&i!==void 0?i:AR;let _=0;for(;_<y&&(c=await this.generateContentInternal(d),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,A=[];for(const T of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(yh(T)){const M=await T.callTool(c.functionCalls);A.push(...M)}_++,h={role:"user",parts:A},d.contents=Jr(this.apiClient,d.contents),d.contents.push(w),d.contents.push(h),CR(d.config)&&(m.push(w),m.push(h))}return CR(d.config)&&(c.automaticFunctionCallingHistory=m),c},this.generateContentStream=async n=>{if(ER(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let i;const s=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((a=d==null?void 0:d.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:s.push(d);let u;return i?u={generatedImages:s,positivePromptSafetyAttributes:i}:u={generatedImages:s},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new vp(Gl.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(a)}}async processParamsForMcpUsage(e){var n,r,a;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const s=await Promise.all(i.map(async d=>yh(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&W$(e.config.tools)){const d=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),X$(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,r,a;const i=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(yh(s)){const u=s,d=await u.tool();for(const c of(a=d.functionDeclarations)!==null&&a!==void 0?a:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,u)}}return i}async processAfcStream(e){var n,r,a;const i=(a=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:AR;let s=!1,u=0;const d=await this.initAfcToolsMap(e);return function(c,h,m){var y,_;return ml(this,arguments,function*(){for(var w,A,T,k;u<i;){s&&(u++,s=!1);const C=yield Ut(c.processParamsForMcpUsage(m)),O=yield Ut(c.generateContentStreamInternal(C)),P=[],I=[];try{for(var M=!0,E=(A=void 0,Dc(O)),D;D=yield Ut(E.next()),w=D.done,!w;M=!0){k=D.value,M=!1;const q=k;if(yield yield Ut(q),q.candidates&&(!((y=q.candidates[0])===null||y===void 0)&&y.content)){I.push(q.candidates[0].content);for(const z of(_=q.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(u<i&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(z.functionCall.name)){const L=yield Ut(h.get(z.functionCall.name).callTool([z.functionCall]));P.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(q){A={error:q}}finally{try{!M&&!w&&(T=E.return)&&(yield Ut(T.call(E)))}finally{if(A)throw A.error}}if(P.length>0){s=!0;const q=new pc;q.candidates=[{content:{role:"user",parts:P}}],yield yield Ut(q);const z=[];z.push(...I),z.push({role:"user",parts:P});const L=Jr(c.apiClient,m.contents).concat(z);m.contents=L}else break}})}(this,d,e)}async generateContentInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=xR(this.apiClient,e);return u=Ve("{model}:generateContent",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=SR(this.apiClient,h),y=new pc;return Object.assign(y,m),y})}else{const c=bR(this.apiClient,e);return u=Ve("{model}:generateContent",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=_R(this.apiClient,h),y=new pc;return Object.assign(y,m),y})}}async generateContentStreamInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=xR(this.apiClient,e);u=Ve("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c.config,delete c._url,delete c._query;const h=this.apiClient;return s=h.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return ml(this,arguments,function*(){var y,_,w,A;try{for(var T=!0,k=Dc(m),M;M=yield Ut(k.next()),y=M.done,!y;T=!0){A=M.value,T=!1;const D=SR(h,yield Ut(A.json())),C=new pc;Object.assign(C,D),yield yield Ut(C)}}catch(E){_={error:E}}finally{try{!T&&!y&&(w=k.return)&&(yield Ut(w.call(k)))}finally{if(_)throw _.error}}})})}else{const c=bR(this.apiClient,e);u=Ve("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c.config,delete c._url,delete c._query;const h=this.apiClient;return s=h.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(m){return ml(this,arguments,function*(){var y,_,w,A;try{for(var T=!0,k=Dc(m),M;M=yield Ut(k.next()),y=M.done,!y;T=!0){A=M.value,T=!1;const D=_R(h,yield Ut(A.json())),C=new pc;Object.assign(C,D),yield yield Ut(C)}}catch(E){_={error:E}}finally{try{!T&&!y&&(w=k.return)&&(yield Ut(w.call(k)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Die(this.apiClient,e);return u=Ve("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=joe(this.apiClient,h),y=new QP;return Object.assign(y,m),y})}else{const c=zae(this.apiClient,e);return u=Ve("{model}:batchEmbedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=foe(this.apiClient,h),y=new QP;return Object.assign(y,m),y})}}async generateImagesInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Pie(this.apiClient,e);return u=Ve("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Loe(this.apiClient,h),y=new eR;return Object.assign(y,m),y})}else{const c=Hae(this.apiClient,e);return u=Ve("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=poe(this.apiClient,h),y=new eR;return Object.assign(y,m),y})}}async editImageInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=qie(this.apiClient,e);return i=Ve("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const c=Boe(this.apiClient,d),h=new zee;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Fie(this.apiClient,e);return i=Ve("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const c=qoe(this.apiClient,d),h=new Gee;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Vie(this.apiClient,e);return u=Ve("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>NS(this.apiClient,h))}else{const c=Kae(this.apiClient,e);return u=Ve("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>DS(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Gie(this.apiClient,e);return u=Ve("{models_url}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=zoe(this.apiClient,h),y=new tR;return Object.assign(y,m),y})}else{const c=Wae(this.apiClient,e);return u=Ve("{models_url}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=voe(this.apiClient,h),y=new tR;return Object.assign(y,m),y})}}async update(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Kie(this.apiClient,e);return u=Ve("{model}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>NS(this.apiClient,h))}else{const c=Zae(this.apiClient,e);return u=Ve("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>DS(this.apiClient,h))}}async delete(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Yie(this.apiClient,e);return u=Ve("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(()=>{const h=Goe(),m=new nR;return Object.assign(m,h),m})}else{const c=Jae(this.apiClient,e);return u=Ve("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=yoe(),m=new nR;return Object.assign(m,h),m})}}async countTokens(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Xie(this.apiClient,e);return u=Ve("{model}:countTokens",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Hoe(this.apiClient,h),y=new rR;return Object.assign(y,m),y})}else{const c=eie(this.apiClient,e);return u=Ve("{model}:countTokens",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=boe(this.apiClient,h),y=new rR;return Object.assign(y,m),y})}}async computeTokens(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Zie(this.apiClient,e);return i=Ve("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const c=Koe(this.apiClient,d),h=new Hee;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=eoe(this.apiClient,e);return u=Ve("{model}:predictLongRunning",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Zoe(this.apiClient,h))}else{const c=rie(this.apiClient,e);return u=Ve("{model}:predictLongRunning",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>woe(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wse(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Tse(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Ase(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["operationName"],r);const a=g(e,["resourceName"]);a!=null&&v(n,["_url","resourceName"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],i),n}function Ese(t,e){const n={},r=g(e,["video","uri"]);r!=null&&v(n,["uri"],r);const a=g(e,["video","encodedVideo"]);a!=null&&v(n,["videoBytes"],ii(t,a));const i=g(e,["encoding"]);return i!=null&&v(n,["mimeType"],i),n}function Cse(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Ese(t,r)),n}function kse(t,e){const n={},r=g(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Cse(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function Ose(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response","generateVideoResponse"]);return u!=null&&v(n,["response"],kse(t,u)),n}function Mse(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["uri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["videoBytes"],ii(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Dse(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Mse(t,r)),n}function Nse(t,e){const n={},r=g(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Dse(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function kR(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],Nse(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pse extends tu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let i;return r&&"httpOptions"in r&&(i=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:i}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Tse(this.apiClient,e);return u=Ve("{operationName}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>kR(this.apiClient,h))}else{const c=wse(this.apiClient,e);return u=Ve("{operationName}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Ose(this.apiClient,h))}}async fetchPredictVideosOperationInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Ase(this.apiClient,e);return i=Ve("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>kR(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rse(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function Z$(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Rse(t,r)),n}function Ise(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],Z$(t,a)),n}function jse(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Ise(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function $se(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],Z$(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],jse(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function Lse(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Bse(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function qse(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Use(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Lse(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Bse(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],qse(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const d=g(e,["codeExecutionResult"]);d!=null&&v(n,["codeExecutionResult"],d);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Fse(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Use(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Vse(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function zse(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Gse(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],zse(t,r)),n}function Hse(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Kse(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Hse(t,r)),n}function Yse(){return{}}function Wse(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>Vse(t,c))),v(n,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],Gse(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],Kse(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],Yse());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function Xse(t,e){const n={},r=g(e,["handle"]);if(r!=null&&v(n,["handle"],r),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function OR(){return{}}function Zse(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function Jse(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],Zse(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function Qse(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function ele(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],Qse(t,a)),n}function tle(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function nle(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const d=g(e,["topK"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","topK"],d);const c=g(e,["maxOutputTokens"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","maxOutputTokens"],c);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const m=g(e,["seed"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","seed"],m);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],$se(t,Zw(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const w=g(e,["systemInstruction"]);n!==void 0&&w!=null&&v(n,["setup","systemInstruction"],Fse(t,Wn(t,w)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let O=kd(t,A);Array.isArray(O)&&(O=O.map(P=>Wse(t,Cd(t,P)))),v(n,["setup","tools"],O)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],Xse(t,T));const k=g(e,["inputAudioTranscription"]);n!==void 0&&k!=null&&v(n,["setup","inputAudioTranscription"],OR());const M=g(e,["outputAudioTranscription"]);n!==void 0&&M!=null&&v(n,["setup","outputAudioTranscription"],OR());const E=g(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&v(n,["setup","realtimeInputConfig"],Jse(t,E));const D=g(e,["contextWindowCompression"]);n!==void 0&&D!=null&&v(n,["setup","contextWindowCompression"],ele(t,D));const C=g(e,["proactivity"]);return n!==void 0&&C!=null&&v(n,["setup","proactivity"],tle(t,C)),r}function rle(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Bt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],nle(t,a,n)),n}function ale(t,e,n){const r={},a=g(e,["expireTime"]);n!==void 0&&a!=null&&v(n,["expireTime"],a);const i=g(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&v(n,["newSessionExpireTime"],i);const s=g(e,["uses"]);n!==void 0&&s!=null&&v(n,["uses"],s);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],rle(t,u));const d=g(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&v(n,["fieldMask"],d),r}function ile(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],ale(t,r,n)),n}function ole(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["name"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sle(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(i=>`${n}.${i}`);e.push(...a)}else e.push(n)}return e.join(",")}function lle(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(n){const i=sle(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];a.length>0&&(u=a.map(c=>s.includes(c)?`generationConfig.${c}`:c));const d=[];i&&d.push(i),u.length>0&&d.push(...u),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class ule extends tu{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=ile(this.apiClient,e);i=Ve("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const d=lle(u,e.config);return a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>ole(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cle(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function dle(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);return n!==void 0&&s!=null&&v(n,["_query","filter"],s),r}function fle(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],dle(t,r,n)),n}function hle(t,e){const n={},r=g(e,["textInput"]);r!=null&&v(n,["textInput"],r);const a=g(e,["output"]);return a!=null&&v(n,["output"],a),n}function mle(t,e){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>hle(t,i))),v(n,["examples","examples"],a)}return n}function ple(t,e,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=g(e,["tunedModelDisplayName"]);if(n!==void 0&&a!=null&&v(n,["displayName"],a),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=g(e,["epochCount"]);n!==void 0&&i!=null&&v(n,["tuningTask","hyperparameters","epochCount"],i);const s=g(e,["learningRateMultiplier"]);if(s!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);n!==void 0&&u!=null&&v(n,["tuningTask","hyperparameters","batchSize"],u);const d=g(e,["learningRate"]);return n!==void 0&&d!=null&&v(n,["tuningTask","hyperparameters","learningRate"],d),r}function gle(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["trainingDataset"]);a!=null&&v(n,["tuningTask","trainingData"],mle(t,a));const i=g(e,["config"]);return i!=null&&v(n,["config"],ple(t,i,n)),n}function vle(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function yle(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);return n!==void 0&&s!=null&&v(n,["_query","filter"],s),r}function ble(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],yle(t,r,n)),n}function xle(t,e,n){const r={},a=g(e,["gcsUri"]);if(n!==void 0&&a!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],a),g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function _le(t,e){const n={},r=g(e,["gcsUri"]);return r!=null&&v(n,["validationDatasetUri"],r),n}function Sle(t,e,n){const r={},a=g(e,["validationDataset"]);n!==void 0&&a!=null&&v(n,["supervisedTuningSpec"],_le(t,a));const i=g(e,["tunedModelDisplayName"]);n!==void 0&&i!=null&&v(n,["tunedModelDisplayName"],i);const s=g(e,["description"]);n!==void 0&&s!=null&&v(n,["description"],s);const u=g(e,["epochCount"]);n!==void 0&&u!=null&&v(n,["supervisedTuningSpec","hyperParameters","epochCount"],u);const d=g(e,["learningRateMultiplier"]);n!==void 0&&d!=null&&v(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const c=g(e,["exportLastCheckpointOnly"]);n!==void 0&&c!=null&&v(n,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const h=g(e,["adapterSize"]);if(n!==void 0&&h!=null&&v(n,["supervisedTuningSpec","hyperParameters","adapterSize"],h),g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function wle(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["trainingDataset"]);a!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],xle(t,a,n));const i=g(e,["config"]);return i!=null&&v(n,["config"],Sle(t,i,n)),n}function Tle(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["model"],r);const a=g(e,["name"]);return a!=null&&v(n,["endpoint"],a),n}function J$(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["state"]);a!=null&&v(n,["state"],R$(t,a));const i=g(e,["createTime"]);i!=null&&v(n,["createTime"],i);const s=g(e,["tuningTask","startTime"]);s!=null&&v(n,["startTime"],s);const u=g(e,["tuningTask","completeTime"]);u!=null&&v(n,["endTime"],u);const d=g(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const c=g(e,["description"]);c!=null&&v(n,["description"],c);const h=g(e,["baseModel"]);h!=null&&v(n,["baseModel"],h);const m=g(e,["_self"]);m!=null&&v(n,["tunedModel"],Tle(t,m));const y=g(e,["distillationSpec"]);y!=null&&v(n,["distillationSpec"],y);const _=g(e,["experiment"]);_!=null&&v(n,["experiment"],_);const w=g(e,["labels"]);w!=null&&v(n,["labels"],w);const A=g(e,["pipelineJob"]);A!=null&&v(n,["pipelineJob"],A);const T=g(e,["serviceAccount"]);T!=null&&v(n,["serviceAccount"],T);const k=g(e,["tunedModelDisplayName"]);return k!=null&&v(n,["tunedModelDisplayName"],k),n}function Ale(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["tunedModels"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>J$(t,s))),v(n,["tuningJobs"],i)}return n}function Ele(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);return s!=null&&v(n,["error"],s),n}function Cle(t,e){const n={},r=g(e,["checkpointId"]);r!=null&&v(n,["checkpointId"],r);const a=g(e,["epoch"]);a!=null&&v(n,["epoch"],a);const i=g(e,["step"]);i!=null&&v(n,["step"],i);const s=g(e,["endpoint"]);return s!=null&&v(n,["endpoint"],s),n}function kle(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],r);const a=g(e,["endpoint"]);a!=null&&v(n,["endpoint"],a);const i=g(e,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Cle(t,u))),v(n,["checkpoints"],s)}return n}function IS(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["state"]);a!=null&&v(n,["state"],R$(t,a));const i=g(e,["createTime"]);i!=null&&v(n,["createTime"],i);const s=g(e,["startTime"]);s!=null&&v(n,["startTime"],s);const u=g(e,["endTime"]);u!=null&&v(n,["endTime"],u);const d=g(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const c=g(e,["error"]);c!=null&&v(n,["error"],c);const h=g(e,["description"]);h!=null&&v(n,["description"],h);const m=g(e,["baseModel"]);m!=null&&v(n,["baseModel"],m);const y=g(e,["tunedModel"]);y!=null&&v(n,["tunedModel"],kle(t,y));const _=g(e,["supervisedTuningSpec"]);_!=null&&v(n,["supervisedTuningSpec"],_);const w=g(e,["tuningDataStats"]);w!=null&&v(n,["tuningDataStats"],w);const A=g(e,["encryptionSpec"]);A!=null&&v(n,["encryptionSpec"],A);const T=g(e,["partnerModelTuningSpec"]);T!=null&&v(n,["partnerModelTuningSpec"],T);const k=g(e,["distillationSpec"]);k!=null&&v(n,["distillationSpec"],k);const M=g(e,["experiment"]);M!=null&&v(n,["experiment"],M);const E=g(e,["labels"]);E!=null&&v(n,["labels"],E);const D=g(e,["pipelineJob"]);D!=null&&v(n,["pipelineJob"],D);const C=g(e,["serviceAccount"]);C!=null&&v(n,["serviceAccount"],C);const O=g(e,["tunedModelDisplayName"]);return O!=null&&v(n,["tunedModelDisplayName"],O),n}function Ole(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["tuningJobs"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>IS(t,s))),v(n,["tuningJobs"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mle extends tu{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new vp(Gl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let a="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?a=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(a=r.name.split("/operations/")[0]),{name:a,state:ES.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=vle(this.apiClient,e);return u=Ve("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>IS(this.apiClient,h))}else{const c=cle(this.apiClient,e);return u=Ve("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>J$(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=ble(this.apiClient,e);return u=Ve("tuningJobs",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Ole(this.apiClient,h),y=new aR;return Object.assign(y,m),y})}else{const c=fle(this.apiClient,e);return u=Ve("tunedModels",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Ale(this.apiClient,h),y=new aR;return Object.assign(y,m),y})}}async tuneInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=wle(this.apiClient,e);return i=Ve("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>IS(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gle(this.apiClient,e);return i=Ve("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Ele(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dle{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Nle=1024*1024*8,Ple=3,Rle=1e3,Ile=2,qx="x-goog-upload-status";async function jle(t,e,n){var r,a,i;let s=0,u=0,d=new CS(new Response),c="upload";for(s=t.size;u<s;){const m=Math.min(Nle,s-u),y=t.slice(u,u+m);u+m>=s&&(c+=", finalize");let _=0,w=Rle;for(;_<Ple&&(d=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[qx]));)_++,await Lle(w),w=w*Ile;if(u+=m,((a=d==null?void 0:d.headers)===null||a===void 0?void 0:a[qx])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(d==null?void 0:d.json());if(((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i[qx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function $le(t){return{size:t.size,type:t.type}}function Lle(t){return new Promise(e=>setTimeout(e,t))}class Ble{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jle(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $le(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qle{create(e,n,r){return new Ule(e,n,r)}}class Ule{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MR="x-goog-api-key";class Fle{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(MR)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(MR,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vle="gl-node/";class zle{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Vee(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new Fle(this.apiKey);this.apiClient=new ise({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Vle+"web",uploader:new Ble,downloader:new Dle}),this.models=new Sse(this.apiClient),this.live=new vse(this.apiClient,a,new qle),this.chats=new gne(this.models,this.apiClient),this.caches=new hne(this.apiClient),this.files=new One(this.apiClient),this.operations=new Pse(this.apiClient),this.authTokens=new ule(this.apiClient),this.tunings=new Mle(this.apiClient)}}const Gle="PLACEHOLDER_API_KEY";let Pn=null;try{Pn=new zle({apiKey:Gle})}catch(t){console.error("Failed to initialize GoogleGenAI:",t),Pn=null}const ba=()=>!!Pn,Hle=t=>`Você é um assistente financeiro amigável e prestativo para um aplicativo de finanças pessoais.
Data Atual: ${t.currentDate}.
Renda Mensal Informada: ${t.monthlyIncome?`${ye(t.monthlyIncome)} BRL`:"Não informada"}.

Resumo Financeiro do Usuário:
Contas:
${t.accounts.map(n=>{const r=t.accountBalances.find(a=>a.accountId===n.id);return`- ${n.name}: Saldo ${r?ye(r.balance):"N/A"}`}).join(`
`)}

Caixinhas de Dinheiro (Metas):
${t.moneyBoxes&&t.moneyBoxes.length>0?t.moneyBoxes.map(n=>{var a;const r=(a=t.moneyBoxBalances)==null?void 0:a.find(i=>i.moneyBoxId===n.id);return`- ${n.name}: ${ye(r?r.balance:0)} ${n.goal_amount?`(Meta: ${ye(n.goal_amount)})`:""}`}).join(`
`):"Nenhuma caixinha configurada."}

Orçamentos (Despesas):
${t.categories.filter(n=>n.type==="EXPENSE"&&n.monthly_budget).map(n=>`- ${n.name}: Orçamento ${ye(n.monthly_budget||0)}`).join(`
`)||"Nenhum orçamento de despesa configurado."}

Compras Futuras Planejadas:
${t.futurePurchases&&t.futurePurchases.length>0?t.futurePurchases.map(n=>`- ${n.name} (Custo: ${ye(n.estimated_cost)}, Prioridade: ${n.priority}, Status: ${n.status})`).join(`
`):"Nenhuma compra futura planejada."}


Com base neste resumo, forneça uma dica financeira principal, observação ou sugestão para o usuário hoje.
Seja conciso (1-2 frases), prático e encorajador. Não faça perguntas. Não use markdown.
Exemplos de tom: "Lembre-se de verificar seus gastos com Lazer este mês!" ou "Você está indo bem em sua meta de Viagem!".
Dica:`,Kle=(t,e,n,r)=>{var d;const a=e.accountBalances.find(c=>c.accountId===t.account_id),i=a?ye(a.balance):"N/A";let s=`Você é um assistente financeiro. O usuário acabou de registrar uma ${t.type==="INCOME"?"receita":t.type==="EXPENSE"?"despesa":"transferência"}.
Detalhes: Valor ${ye(t.amount)} ${t.description?`descrita como "${t.description}"`:""} na conta "${r||"N/A"}".
${n?`Categoria: "${n}".`:""}
Saldo atual da conta "${r||"N/A"}": ${i}.
`;if(t.type==="EXPENSE"&&n){const c=e.categories.find(h=>h.name===n&&h.type==="EXPENSE");c!=null&&c.monthly_budget&&(s+=`Orçamento para "${n}": ${ye(c.monthly_budget)}. `)}const u=e.moneyBoxes&&e.moneyBoxes.find(c=>t.description&&c.name.toLowerCase().includes(t.description.toLowerCase().substring(0,5))||n&&c.name.toLowerCase().includes(n.toLowerCase().substring(0,5)));if(u){const c=(d=e.moneyBoxBalances)==null?void 0:d.find(h=>h.moneyBoxId===u.id);s+=`Lembre-se da sua caixinha "${u.name}" (Saldo: ${ye(c?c.balance:0)}${u.goal_amount?`, Meta: ${ye(u.goal_amount)}`:""}). `}return s+=`Forneça um breve comentário ou sugestão (máx 1 frase). Não use markdown. Não faça perguntas.
Exemplo: "Ótimo! Continue assim." ou "Fique de olho nos gastos com Comida." ou "Considere guardar uma parte na sua caixinha Viagem."
Comentário:`,s},Yle=(t,e,n,r)=>{var i;return`Você é um assistente financeiro. O usuário tem uma renda mensal de ${ye(e)}.
Ele está pedindo uma sugestão de orçamento para a categoria de despesa: "${t}".

Orçamentos de despesa já definidos pelo usuário:
${n.length>0?n.map(s=>`- ${s.name}: ${ye(s.budget||0)}`).join(`
`):"Nenhum outro orçamento definido."}

Contexto financeiro adicional:
Saldo total em contas: ${ye(r.accountBalances.reduce((s,u)=>s+u.balance,0))}
Total em caixinhas (metas): ${ye(((i=r.moneyBoxBalances)==null?void 0:i.reduce((s,u)=>s+u.balance,0))||0)}

Baseado na renda mensal, nos orçamentos existentes e nos princípios de finanças pessoais (como a regra 50/30/20, mas de forma flexível e adaptada à realidade brasileira), sugira um valor de orçamento mensal para a categoria "${t}".
Responda APENAS com um objeto JSON contendo a chave "suggestedBudget" e o valor numérico sugerido. Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"suggestedBudget": 350}
Sugestão:`},Wle=(t,e)=>{var i,s;const n=e.accountBalances.reduce((u,d)=>u+d.balance,0),r=((i=e.moneyBoxBalances)==null?void 0:i.reduce((u,d)=>u+d.balance,0))||0;return`Você é um assistente financeiro. O usuário deseja comprar "${t.name}", que custa aproximadamente ${ye(t.estimated_cost)}. A prioridade é ${t.priority}.
Data Atual: ${e.currentDate}.
Renda Mensal: ${e.monthlyIncome?ye(e.monthlyIncome):"Não informada"}.
Saldo Total em Contas: ${ye(n)}.
Total Guardado em Caixinhas/Metas: ${ye(r)}.

Orçamentos de Despesa Mensais:
${e.categories.filter(u=>u.type===xe.EXPENSE&&u.monthly_budget).map(u=>`- ${u.name}: ${ye(u.monthly_budget||0)}`).join(`
`)||"Nenhum."}

Outras Compras Futuras Planejadas:
${((s=e.futurePurchases)==null?void 0:s.filter(u=>u.id!==t.id).map(u=>`- ${u.name} (Custo: ${ye(u.estimated_cost)}, Prioridade: ${u.priority})`).join(`
`))||"Nenhuma outra."}

Analise a viabilidade desta compra ("${t.name}").
Considere se o usuário tem fundos suficientes, se a compra impactaria significativamente seus orçamentos ou outras metas.
Se a renda não for informada, baseie-se nos saldos e economias.
Forneça uma análise concisa (2-3 frases) e sugira um status. Status possíveis: ACHIEVABLE_SOON (se viável em breve ou agora), NOT_RECOMMENDED_NOW (se deve adiar), PLANNED (manter como planejado se a análise não for conclusiva ou se depender de mais economia).

Responda APENAS com um objeto JSON contendo as chaves "analysisText" (string com sua análise) e "recommendedStatus" (string com um dos status: 'ACHIEVABLE_SOON', 'NOT_RECOMMENDED_NOW', 'PLANNED').
Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"analysisText": "Comprar ${t.name} parece razoável agora, considerando seus saldos. Lembre-se de ajustar seu orçamento de Lazer.", "recommendedStatus": "ACHIEVABLE_SOON"}
Análise:`},Xle=(t,e)=>`Você é um especialista em finanças e cartões de crédito.
O usuário quer saber o melhor dia para fazer uma compra com o cartão de crédito para maximizar o período sem juros e ter o maior prazo para pagar.

Dados do Cartão de Crédito:
- Dia de Fechamento da Fatura: ${t.closing_day} (Ex: 20, significa dia 20 de cada mês)
- Dia de Vencimento da Fatura: ${t.due_day} (Ex: 05, significa dia 05 de cada mês, geralmente no mês seguinte ao fechamento)

Data Atual: ${e} (Formato: YYYY-MM-DD)

Instruções:
1.  Identifique o próximo ciclo de fatura. O melhor dia para comprar é geralmente o dia imediatamente após o fechamento da fatura atual (se a data atual for ANTES ou NO DIA do fechamento do mês corrente) ou o dia após o fechamento da fatura do próximo mês (se a data atual for APÓS o fechamento do mês corrente).
2.  Determine a data exata (DD de MMMM de YYYY) para este "melhor dia para comprar".
3.  Determine a data exata (DD de MMMM de YYYY) em que o pagamento da fatura (contendo essa compra) seria devido.
4.  Forneça uma explicação clara e concisa (1-2 frases) do porquê esta data é vantajosa, mencionando o prazo estendido.

Responda APENAS com um objeto JSON com as seguintes chaves:
- "bestPurchaseDay": "string" (Data formatada como "DD de MMMM de YYYY", ex: "21 de Julho de 2024")
- "paymentDueDate": "string" (Data formatada como "DD de MMMM de YYYY", ex: "05 de Setembro de 2024")
- "explanation": "string" (Explicação concisa)
- "error": "string" (Opcional: preencha apenas se não puder calcular ou se os dados forem inválidos/inconsistentes)

Exemplo de Cálculo (Data Atual: 2024-07-18, Fechamento: dia 20, Vencimento: dia 05):
- A fatura atual fecha em 20 de Julho de 2024.
- O melhor dia para comprar é 21 de Julho de 2024.
- Essa compra entraria na fatura que fecha em 20 de Agosto de 2024.
- O pagamento dessa fatura seria em 05 de Setembro de 2024.

Exemplo de Cálculo (Data Atual: 2024-07-25, Fechamento: dia 20, Vencimento: dia 05):
- A fatura de Julho já fechou (em 20 de Julho).
- O próximo fechamento é 20 de Agosto.
- O melhor dia para comprar é 21 de Agosto de 2024.
- Essa compra entraria na fatura que fecha em 20 de Setembro de 2024.
- O pagamento dessa fatura seria em 05 de Outubro de 2024.`,Zle=(t,e,n,r,a)=>`Você é um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Mês: ${ye(e)}
${r?`Orçamento Mensal para esta Categoria: ${ye(r)}.`:"Orçamento não definido para esta categoria."}
${r&&a?`Hoje é dia ${a.dayOfMonth} de ${a.daysInMonth} do mês. Proporcionalmente, o gasto esperado até agora seria em torno de ${ye(n)}.`:""}

Com base no gasto atual, ele está significativamente acima do esperado para esta altura do mês ou do orçamento proporcional?
Se sim, forneça um alerta CURTO e DIRETO (1-2 frases). Ex: "Atenção: Seus gastos com ${t} (${ye(e)}) já ultrapassaram o esperado para esta data (${ye(n)})." ou "Gastos com ${t} estão X% acima do esperado para hoje."
Se não houver anomalia clara, ou se o gasto estiver dentro do esperado/orçamento, responda APENAS com a palavra "NORMAL".
Não faça perguntas. Não use markdown.
Alerta:`,Jle=(t,e,n,r,a,i)=>`Você é um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Mês: ${ye(e)}
Orçamento Mensal para esta Categoria: ${ye(n)}
${i?`Hoje é dia ${i.dayOfMonth} de ${i.daysInMonth} do mês. Faltam ${r} dias.`:""}
Projeção de Gasto Total no Mês (mantendo o ritmo atual): ${ye(a)}

Com base no ritmo atual de gastos, há uma projeção de que o orçamento para "${t}" será estourado este mês?
Se sim, forneça um alerta CURTO e DIRETO (1-2 frases), mencionando o possível valor do estouro. Ex: "Alerta: Mantendo este ritmo, seus gastos com ${t} podem exceder o orçamento em cerca de ${ye(a-n)} este mês."
Se não houver projeção clara de estouro, ou se a projeção estiver dentro do orçamento, responda APENAS com a palavra "NORMAL".
Não faça perguntas. Não use markdown.
Alerta:`,Qle=(t,e,n)=>{const r=new Date(n.currentDate);r.setDate(r.getDate()-90);const a=t.filter(i=>i.date>=vt(r)&&i.type===xe.EXPENSE);return`Você é um assistente financeiro que ajuda a identificar despesas recorrentes não cadastradas.
  Analise o histórico de despesas do usuário dos últimos 90 dias (data atual: ${n.currentDate}).
  Procure por pagamentos que se repetem com valores e descrições similares em intervalos regulares (ex: mensais, semanais).
  
  Despesas Recorrentes já cadastradas (NÃO SUGIRA ESTAS):
  ${e.length>0?e.map(i=>`- "${i.description}" (${ye(i.amount)}, ${i.frequency})`).join(`
`):"Nenhuma."}

  Histórico de Transações de Despesa (Últimos 90 dias):
  ${a.map(i=>{var s;return`- Data: ${i.date}, Descrição: "${i.description||((s=n.categories.find(u=>u.id===i.category_id))==null?void 0:s.name)||"Despesa"}", Valor: ${ye(i.amount)}`}).slice(0,30).join(`
`)} 
  ${a.length>30?`
... (e mais ${a.length-30} transações)`:""}

  Se encontrar UMA despesa que parece ser recorrente mas NÃO ESTÁ na lista de já cadastradas, sugira registrá-la.
  Seja específico: "Notei pagamentos para '{Nome do Serviço/Descrição}' de aproximadamente {Valor} em datas como {Data1}, {Data2}. Gostaria de cadastrar como despesa recorrente?"
  Se encontrar múltiplas, sugira a mais óbvia ou mais frequente.
  Se não encontrar nenhuma candidata clara, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas diretas no final, apenas a sugestão como no exemplo.
  Sugestão:`},eue=(t,e,n,r)=>{const a=new Date(r.currentDate);a.setMonth(a.getMonth()-1);const i=t.filter(c=>c.type===xe.EXPENSE&&c.date>=vt(a));let s=`Você é um coach financeiro que ajuda usuários a encontrar oportunidades de economia.
  Renda Mensal: ${r.monthlyIncome?ye(r.monthlyIncome):"Não informada"}.
  Data Atual: ${r.currentDate}.

  Metas de Economia (Caixinhas):
  ${n.length>0?n.map(c=>`- ${c.name}${c.goal_amount?` (Meta: ${ye(c.goal_amount)})`:""}`).join(`
`):"Nenhuma meta de economia ativa."}

  Gastos do Último Mês (Top 5 categorias por frequência, excluindo essenciais como aluguel, contas fixas de casa):
  `;const u={};i.forEach(c=>{var h;if(c.category_id){const m=((h=e.find(y=>y.id===c.category_id))==null?void 0:h.name)||"Outros";if(["Moradia","Aluguel","Condomínio","Impostos","Luz","Água","Gás","Internet Fixa","Saúde","Educação"].includes(m))return;u[c.category_id]||(u[c.category_id]={total:0,count:0,name:m}),u[c.category_id].total+=c.amount,u[c.category_id].count++}});const d=Object.values(u).sort((c,h)=>h.count-c.count).slice(0,5);return s+=d.map(c=>`- ${c.name}: ${ye(c.total)} em ${c.count} transações`).join(`
`)||"Nenhum gasto relevante encontrado.",s+=`

Identifique UMA categoria onde o usuário parece ter gastos pequenos e frequentes que, somados, são significativos (ex: cafés diários, lanches, delivery, apps de transporte).
  Sugira uma pequena mudança de hábito que poderia gerar economia. Se houver metas (Caixinhas), tente vincular a economia a uma delas.
  Seja prático e positivo. Ex: "Seus gastos com 'Delivery' somaram ${ye(150)} no último mês. Que tal reduzir para uma vez por semana e direcionar ${ye(75)} para sua meta 'Viagem'?"
  Se não houver oportunidade clara ou dados suficientes, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas.
  Sugestão:`,s},tue=(t,e,n,r)=>{const a=n.filter(i=>i.id!==t.id).slice(0,10).map(i=>ye(i.amount));return`Você é um assistente financeiro que detecta transações de valor incomum.
  O usuário registrou uma despesa:
  - Descrição: "${t.description||e}"
  - Categoria: "${e}"
  - Valor: ${ye(t.amount)}
  - Data: ${t.date}

  Valores de despesas recentes nesta categoria ("${e}"): ${a.length>0?a.join(", "):"Nenhuma outra recente."}
  
  O valor desta transação (${ye(t.amount)}) é significativamente mais alto que o normal para esta categoria, baseado nas amostras?
  Se sim, forneça um alerta CURTO. Ex: "Alerta: O valor de ${ye(t.amount)} para ${e} parece mais alto que seus gastos usuais nesta categoria. Está correto?"
  Se o valor parecer normal ou não houver dados suficientes para comparar, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas no final, apenas o alerta como no exemplo.
  Alerta:`},nue=(t,e)=>{var c,h;const n=new Date(t.currentDate);n.setDate(n.getDate()+e);const r=vt(n),a=(c=t.recurringTransactions)==null?void 0:c.filter(m=>m.next_due_date<=r).sort((m,y)=>new Date(m.next_due_date).getTime()-new Date(y.next_due_date).getTime()).map(m=>`- ${m.type===xe.INCOME?"Receita":"Despesa"}: ${m.description} (${ye(m.amount)}) em ${Xn(m.next_due_date)}`).join(`
`),i=new Date(t.currentDate);i.setMonth(i.getMonth()-1);const s=(h=t.transactions)==null?void 0:h.filter(m=>{var y;return m.type===xe.EXPENSE&&m.date>=vt(i)&&!((y=t.recurringTransactions)!=null&&y.some(_=>{var w;return _.description.toLowerCase().includes(((w=m.description)==null?void 0:w.toLowerCase())||"xxxx")}))}).reduce((m,y)=>{var w;const _=((w=t.categories.find(A=>A.id===y.category_id))==null?void 0:w.name)||"Outras Despesas";return m[_]=(m[_]||0)+y.amount,m},{}),u=s?Object.entries(s).map(([m,y])=>`- ${m}: aprox. ${ye(y)}/mês`).join(`
`):"Nenhum padrão recente de gastos discricionários encontrado.";let d="";if(t.simulatedTransactionData){const m=t.simulatedTransactionData;d=`
Considere também a seguinte transação SIMULADA para esta projeção:
- Tipo: ${m.type===xe.INCOME?"Receita":"Despesa"}
- Valor: ${ye(m.amount)}
- Data: ${Xn(m.date)}
- Descrição: ${m.description||(m.type===xe.INCOME?"Receita Simulada":"Despesa Simulada")}
Esta simulação NÃO está salva, use-a apenas para esta projeção.`}return`Você é um assistente financeiro. Preveja o fluxo de caixa do usuário para os próximos ${e} dias.
Data Atual: ${t.currentDate}.
Projeção até: ${Xn(r)}.
Renda Mensal Informada: ${t.monthlyIncome?ye(t.monthlyIncome):"Não informada (use apenas recorrências e histórico)"}.
${d}

Saldos Atuais das Contas Principais:
${t.accounts.map(m=>{const y=t.accountBalances.find(_=>_.accountId===m.id);return`- ${m.name}: ${y?ye(y.balance):"N/A"}`}).join(`
`)}
Saldo Total Combinado: ${ye(t.accountBalances.reduce((m,y)=>m+y.balance,0))}

Transações Recorrentes Programadas (Receitas e Despesas) no Período:
${a||"Nenhuma transação recorrente programada no período."}

Padrão de Gastos Discricionários Recentes (último mês, não recorrentes):
${u}

Analise essas informações e forneça uma projeção textual do fluxo de caixa.
Destaque:
1.  Um resumo geral (ex: "Seu saldo deve permanecer positivo", "Prevê-se um aperto financeiro em meados de [Mês]").
2.  Principais entradas e saídas esperadas e suas datas.
3.  Qualquer data onde o saldo possa ficar perigosamente baixo ou negativo, se aplicável.
Se uma simulação foi fornecida, mencione brevemente o impacto dela.
Seja conciso (3-5 frases). Não use markdown. Responda apenas com a projeção. Se não puder projetar confiavelmente, diga "Não foi possível gerar uma projeção de fluxo de caixa detalhada com os dados atuais."
Projeção:`},rue=t=>{let e="",n="";switch(t){case"snowball":e="Bola de Neve (Snowball)",n="prioriza quitar as dívidas com os menores saldos primeiro, independentemente das taxas de juros, para obter vitórias rápidas e motivação.";break;case"avalanche":e="Avalanche",n="prioriza quitar as dívidas com as maiores taxas de juros primeiro, o que geralmente economiza mais dinheiro em juros a longo prazo.";break;case"minimums":e="Pagamentos Mínimos",n="consiste em pagar apenas o valor mínimo exigido em todas as dívidas. Geralmente é a forma mais lenta e cara de quitar dívidas devido ao acúmulo de juros.";break;default:return"Estratégia desconhecida."}return`Você é um educador financeiro. Explique a estratégia de quitação de dívidas "${e}" em termos simples.
O conceito principal desta estratégia é que ${n}.
Forneça uma breve explicação (2-3 frases) sobre como funciona, suas principais vantagens e desvantagens.
Não use markdown. Responda apenas com a explicação.
Explicação:`},aue=(t,e,n)=>{var i,s,u;const r=t.strategy==="snowball"?"Bola de Neve":t.strategy==="avalanche"?"Avalanche":"Pagamentos Mínimos";let a=e.map(d=>`- ${d.name}: Saldo ${ye(d.current_balance)}, Juros ${d.interest_rate_annual}% a.a.`).join(`
`);return`Você é um consultor financeiro. O usuário calculou um plano de quitação de dívidas.
Estratégia Utilizada: ${r}.
Tempo Estimado para Quitar Todas as Dívidas: ${t.monthsToPayoff} meses (${(t.monthsToPayoff/12).toFixed(1)} anos).
Total de Juros Pagos Estimado: ${ye(t.totalInterestPaid)}.
Total Principal Pago Estimado: ${ye(t.totalPrincipalPaid)}.
Pagamento Extra Mensal Adicionado aos Mínimos: ${ye(((s=(i=t.payoffDetails[0])==null?void 0:i.monthlyPayments[0])==null?void 0:s.payment)-((u=e.find(d=>{var c;return d.id===((c=t.payoffDetails[0])==null?void 0:c.debtId)}))==null?void 0:u.minimum_payment)||0)} (se houver um extra aplicado à primeira dívida do plano).

Dívidas Incluídas no Plano:
${a}

Renda Mensal Informada: ${n.monthlyIncome?ye(n.monthlyIncome):"Não informada"}.
Saldo Total em Contas: ${ye(n.accountBalances.reduce((d,c)=>d+c.balance,0))}

Com base no resultado da projeção e no contexto financeiro do usuário, forneça um resumo e insights (2-4 frases).
Comente se o plano parece realista, se o tempo de quitação é bom, e talvez uma sugestão baseada no impacto dos juros ou no pagamento extra.
Exemplo de tom: "Este plano ${r} parece eficaz, quitando suas dívidas em ${t.monthsToPayoff} meses. O total de juros de ${ye(t.totalInterestPaid)} é significativo; considere aumentar o pagamento extra, se possível, para acelerar."
Não use markdown. Responda apenas com o resumo.
Resumo:`},to=async(t,e,n)=>{var r;if(!Pn||!ba())return console.warn(`Gemini API not available for ${e}.`),null;try{const i=(r=(await Pn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:t})).text)==null?void 0:r.trim();return i&&i.toUpperCase()!=="NORMAL"?i:null}catch(a){return console.error(`Error fetching ${e} from Gemini:`,a),null}},iue=async t=>{var n;if(!Pn||!ba())return console.warn("Gemini API not available for fetchGeneralAdvice."),{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada.",is_read:!1};const e=Hle(t);try{const a=(n=(await Pn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:e})).text)==null?void 0:n.trim();return a?{id:We(),timestamp:new Date().toISOString(),type:"general_advice",content:a,is_read:!1}:{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter um conselho geral no momento (resposta vazia).",is_read:!1}}catch(r){console.error("Error fetching general advice from Gemini:",r);let a="Desculpe, não consegui buscar um conselho geral no momento.";return r instanceof Error&&(a+=` Detalhe: ${r.message}`),{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:a,is_read:!1}}},oue=async(t,e,n,r)=>{var i;if(!Pn||!ba())return console.warn("Gemini API not available for fetchCommentForTransaction."),{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para comentar transação.",related_transaction_id:t.id,is_read:!1};const a=Kle(t,e,n,r);try{const u=(i=(await Pn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:a})).text)==null?void 0:i.trim();return u?{id:We(),timestamp:new Date().toISOString(),type:"transaction_comment",content:u,related_transaction_id:t.id,is_read:!1}:{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível gerar um comentário para esta transação (resposta vazia).",related_transaction_id:t.id,is_read:!1}}catch(s){console.error("Error fetching transaction comment from Gemini:",s);let u="Desculpe, não consegui gerar um comentário para esta transação.";return s instanceof Error&&(u+=` Detalhe: ${s.message}`),{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:u,related_transaction_id:t.id,is_read:!1}}},sue=async(t,e,n,r)=>{var i;if(!Pn||!ba())return console.warn("Gemini API not available for fetchBudgetSuggestion."),{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para sugerir orçamentos.",is_read:!1};if(!e||e<=0)return{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:"Por favor, informe sua renda mensal na tela do AI Coach para receber sugestões de orçamento.",is_read:!1};const a=Yle(t,e,n,r);try{let u=((i=(await Pn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:a,config:{responseMimeType:"application/json"}})).text)==null?void 0:i.trim())||"";const d=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,c=u.match(d);c&&c[2]&&(u=c[2].trim());const h=JSON.parse(u);return h&&typeof h.suggestedBudget=="number"&&h.suggestedBudget>=0?{suggestedBudget:h.suggestedBudget}:{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma sugestão de orçamento válida no momento (resposta inválida da IA).",is_read:!1}}catch(s){console.error("Error fetching budget suggestion from Gemini:",s);let u="Desculpe, não consegui buscar uma sugestão de orçamento.";return s instanceof Error&&(u+=` Detalhe: ${s.message}`),{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:u,is_read:!1}}},lue=async(t,e)=>{var r;if(!Pn||!ba())return{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para analisar compra futura.",related_future_purchase_id:t.id,is_read:!1};const n=Wle(t,e);try{let i=((r=(await Pn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const s=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,u=i.match(s);u&&u[2]&&(i=u[2].trim());const d=JSON.parse(i);return d&&typeof d.analysisText=="string"&&typeof d.recommendedStatus=="string"&&["ACHIEVABLE_SOON","NOT_RECOMMENDED_NOW","PLANNED"].includes(d.recommendedStatus)?{analysisText:d.analysisText,recommendedStatus:d.recommendedStatus}:{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma análise válida da IA para esta compra (resposta inválida).",related_future_purchase_id:t.id,is_read:!1}}catch(a){console.error("Error fetching future purchase analysis from Gemini:",a);let i="Desculpe, não consegui analisar esta compra futura no momento.";return a instanceof Error&&(i+=` Detalhe: ${a.message}`),{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:i,related_future_purchase_id:t.id,is_read:!1}}},uue=async(t,e)=>{var r;if(!Pn||!ba())return console.warn("Gemini API not available for fetchBestPurchaseDayAdvice."),{bestPurchaseDay:"",paymentDueDate:"",explanation:"AI Coach desativado ou API Key não configurada.",error:"AI Coach desativado ou API Key não configurada."};const n=Xle(t,e);try{let i=((r=(await Pn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const s=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,u=i.match(s);u&&u[2]&&(i=u[2].trim());const d=JSON.parse(i);return d.error?(console.warn("Gemini returned an error for best purchase day:",d.error),{...d,explanation:d.error}):d.bestPurchaseDay&&d.paymentDueDate&&d.explanation?d:{bestPurchaseDay:"",paymentDueDate:"",explanation:"Não foi possível determinar o melhor dia para compra (resposta inválida da IA).",error:"Resposta inválida da IA."}}catch(a){console.error("Error fetching best purchase day advice from Gemini:",a);let i="Desculpe, não consegui determinar o melhor dia para compra no momento.";return a instanceof Error&&(i+=` Detalhe: ${a.message}`),{bestPurchaseDay:"",paymentDueDate:"",explanation:i,error:i}}},cue=async(t,e,n,r,a,i)=>{const s=Zle(t,e,n,r,a),u=await to(s,"spending_anomaly_category");return u?{id:We(),timestamp:new Date().toISOString(),type:"spending_anomaly_category",content:u,related_category_id:i,is_read:!1}:null},due=async(t,e,n,r,a,i,s)=>{const u=Jle(t,e,n,r,a,i),d=await to(u,"budget_overspend_projection");return d?{id:We(),timestamp:new Date().toISOString(),type:"budget_overspend_projection",content:d,related_category_id:s,is_read:!1}:null},fue=async(t,e,n)=>{const r=Qle(t,e.map(i=>({description:i.description,amount:i.amount,type:i.type,frequency:i.frequency,category_id:i.category_id})),n),a=await to(r,"recurring_payment_candidate");return a?{id:We(),timestamp:new Date().toISOString(),type:"recurring_payment_candidate",content:a,is_read:!1}:null},hue=async(t,e,n,r)=>{const a=eue(t,e.map(s=>({id:s.id,name:s.name,type:s.type})),n.map(s=>({id:s.id,name:s.name,goal_amount:s.goal_amount})),r),i=await to(a,"saving_opportunity_suggestion");return i?{id:We(),timestamp:new Date().toISOString(),type:"saving_opportunity_suggestion",content:i,is_read:!1}:null},mue=async(t,e,n,r)=>{const a=tue(t,e,n),i=await to(a,"unusual_transaction_value",t.category_id);return i?{id:We(),timestamp:new Date().toISOString(),type:"unusual_transaction_value",content:i,related_transaction_id:t.id,related_category_id:t.category_id,is_read:!1}:null},pue=async(t,e)=>{const n=nue(t,e),r=await to(n,"cash_flow_projection");return r?{id:We(),timestamp:new Date().toISOString(),type:"cash_flow_projection",content:r,is_read:!1}:{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível gerar uma projeção de fluxo de caixa com os dados atuais.",is_read:!1}},gue=async t=>{if(!Pn||!ba())return{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para explicar estratégia de dívida.",related_debt_strategy:t,is_read:!1};const e=rue(t),n=await to(e,"debt_strategy_explanation");return n?{id:We(),timestamp:new Date().toISOString(),type:"debt_strategy_explanation",content:n,related_debt_strategy:t,is_read:!1}:{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:`Não foi possível obter uma explicação para a estratégia ${t} no momento.`,related_debt_strategy:t,is_read:!1}},vue=async(t,e,n)=>{if(!Pn||!ba())return{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para resumir projeção de dívida.",is_read:!1};const r={...n},a=aue(t,e,r),i=await to(a,"debt_projection_summary");return i?{id:We(),timestamp:new Date().toISOString(),type:"debt_projection_summary",content:i,related_debt_strategy:t.strategy,is_read:!1}:{id:We(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter um resumo da projeção de dívida no momento.",is_read:!1}},yue=(t,e,n)=>{const r=new Date(t+"T00:00:00");switch(e){case"daily":r.setDate(r.getDate()+1);break;case"weekly":r.setDate(r.getDate()+7);break;case"monthly":r.setMonth(r.getMonth()+1);break;case"yearly":r.setFullYear(r.getFullYear()+1);break;case"custom_days":r.setDate(r.getDate()+(n||1));break}return vt(r)},bue=({creditCards:t,installmentPurchases:e,aiConfig:n,onAddCreditCard:r,onUpdateCreditCard:a,onDeleteCreditCard:i,onAddInstallmentPurchase:s,onUpdateInstallmentPurchase:u,onDeleteInstallmentPurchase:d,onMarkInstallmentPaid:c,onPayMonthlyInstallments:h,isPrivacyModeEnabled:m})=>{const{addToast:y}=nI(),[_,w]=j.useState(!1),[A,T]=j.useState(null),[k,M]=j.useState(!1),[E,D]=j.useState(null),[C,O]=j.useState(null),[P,I]=j.useState(!1),[q,z]=j.useState(null),[L,H]=j.useState(!1),[Q,Y]=j.useState(null),B=()=>{T(null),w(!0)},$=re=>{T(re),w(!0)},V=re=>{A?a({...re,user_id:A.user_id,created_at:A.created_at,updated_at:new Date().toISOString()}):r(re)},Z=re=>{O(re),D(null),M(!0)},se=(re,ce)=>{O(ce),D(re),M(!0)},U=re=>{E?u({...re,user_id:E.user_id,created_at:E.created_at,updated_at:new Date().toISOString()}):s(re)},G=j.useCallback(async re=>{if(!n.isEnabled||n.apiKeyStatus!=="available"){y("AI Coach desativado ou API Key indisponível.","warning");return}const ce=t.find(ge=>ge.id===re);if(!ce)return;Y(ce),H(!0),I(!0),z(null);const _e=await uue({name:ce.name,closing_day:ce.closing_day,due_day:ce.due_day},vt());z(_e),H(!1),_e!=null&&_e.error&&y(_e.explanation||"Erro ao buscar sugestão da IA.","error")},[n,t,y]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Cartões de Crédito"}),b.jsxs(be,{onClick:B,variant:"primary",children:[b.jsx(Un,{className:"w-5 h-5 mr-2"}),"Novo Cartão"]})]}),t.length>0?b.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(re=>b.jsx(aee,{card:re,installmentPurchases:e.filter(ce=>ce.credit_card_id===re.id),onEditCard:$,onDeleteCard:i,onAddInstallmentPurchase:Z,onEditInstallmentPurchase:se,onDeleteInstallmentPurchase:d,onMarkInstallmentPaid:c,onGetBestPurchaseDay:G,onPayMonthlyInstallments:h,isAIFeatureEnabled:n.isEnabled&&n.apiKeyStatus==="available",isPrivacyModeEnabled:m},re.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhum cartão de crédito cadastrado."}),b.jsx(iee,{isOpen:_,onClose:()=>w(!1),onSave:V,existingCard:A}),C&&b.jsx(oee,{isOpen:k,onClose:()=>M(!1),onSave:U,creditCard:C,existingPurchase:E}),b.jsx(see,{isOpen:P,onClose:()=>I(!1),advice:q,isLoading:L,cardName:Q==null?void 0:Q.name})]})},Q$=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h13.5m-13.5 4.5h13.5m-13.5 4.5h13.5m3-13.5V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v3.75m13.5 0v3.75m-13.5-3.75v3.75m1.5-9V3.75c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125V5.25m-3 0h3m6 0v2.25m0 0v1.5m0 0v1.5m0 0V15m0 0v-1.5m0 0V9.75M7.5 5.25h9M7.5 12h9m-9 4.5h9M5.25 19.5h13.5a2.25 2.25 0 0 0 2.25-2.25V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v12a2.25 2.25 0 0 0 2.25 2.25Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h-3m3 0V12m0 0v-2.25"})]}),xue=({moneyBox:t,balance:e,onEdit:n,onDelete:r,onOpenTransactionModal:a,onOpenHistoryModal:i,isPrivacyModeEnabled:s,hasTransactions:u})=>{const d=t.goal_amount&&t.goal_amount>0?Math.min(e/t.goal_amount*100,100):0,c=t.color?{borderLeftColor:t.color,borderLeftWidth:"4px"}:{},h=t.color?{backgroundColor:t.color}:{backgroundColor:"var(--color-primary)"};return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",style:c,children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[b.jsx(Q$,{className:"w-6 h-6",style:{color:t.color||"currentColor"}}),b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),b.jsx("p",{className:"text-2xl font-bold",style:{color:t.color||"var(--color-primary)"},children:ye(e,"BRL","pt-BR",s)}),t.goal_amount&&t.goal_amount>0&&b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Meta: ",ye(t.goal_amount,"BRL","pt-BR",s)]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[b.jsxs("div",{className:"flex space-x-1",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Caixinha",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Caixinha",className:"!p-1.5",disabled:u,title:u?"Não pode excluir caixinhas com transações":"Excluir caixinha",children:b.jsx(Qr,{className:`w-4 h-4 ${u?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>i(t),"aria-label":"Ver Histórico",className:"text-xs !px-2 !py-1",children:"Histórico"})]})]}),t.goal_amount&&t.goal_amount>0&&b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:b.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${d}%`,...h}})}),b.jsxs("div",{className:"flex justify-start space-x-2 pt-1",children:[b.jsxs(be,{size:"sm",variant:"secondary",onClick:()=>a(t,xr.DEPOSIT),className:"!bg-opacity-80 dark:!bg-opacity-80",style:t.color?{backgroundColor:t.color}:{},children:[b.jsx(Un,{className:"w-4 h-4 mr-1"})," Depositar"]}),b.jsx(be,{size:"sm",variant:"ghost",onClick:()=>a(t,xr.WITHDRAWAL),className:"border border-borderBase dark:border-borderBaseDark",children:"Sacar"})]})]})},mh=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],_ue=({isOpen:t,onClose:e,onSave:n,existingMoneyBox:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState(""),[d,c]=j.useState(mh[0]),[h,m]=j.useState({});j.useEffect(()=>{var w;r?(i(r.name),u(((w=r.goal_amount)==null?void 0:w.toString())||""),c(r.color||mh[0])):(i(""),u(""),c(mh[0])),m({})},[r,t]);const y=()=>{const w={};return a.trim()||(w.name="Nome da caixinha é obrigatório."),s&&(isNaN(parseFloat(s))||parseFloat(s)<0)&&(w.goalAmount="Meta deve ser um número positivo ou vazio."),m(w),Object.keys(w).length===0},_=()=>{if(!y())return;const w={id:(r==null?void 0:r.id)||We(),name:a.trim(),goal_amount:s?parseFloat(s):void 0,icon:"piggy-bank",color:d};n(w),e()};return b.jsx(An,{isOpen:t,onClose:e,title:r?"Editar Caixinha":"Nova Caixinha",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(je,{label:"Nome da Caixinha",id:"moneyBoxName",value:a,onChange:w=>i(w.target.value),error:h.name,placeholder:"Ex: Reserva de Emergência, Viagem"}),b.jsx(je,{label:"Meta de Valor (Opcional)",id:"moneyBoxGoal",type:"number",step:"0.01",value:s,onChange:w=>u(w.target.value),error:h.goalAmount,placeholder:"Ex: 1000.00"}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"moneyBoxColor",className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor de Destaque"}),b.jsx("div",{className:"flex space-x-2",children:mh.map(w=>b.jsx("button",{type:"button",onClick:()=>c(w),className:`w-8 h-8 rounded-full border-2 ${d===w?"border-primary dark:border-primaryDark ring-2 ring-primary dark:ring-primaryDark ring-offset-2 dark:ring-offset-surfaceDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:w},"aria-label":`Selecionar cor ${w}`,"aria-pressed":d===w},w))})]}),h.form&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:h.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{variant:"primary",onClick:_,children:"Salvar Caixinha"})]})]})})},Sue=({isOpen:t,onClose:e,onSave:n,moneyBox:r,accounts:a,transactionType:i})=>{const[s,u]=j.useState(""),[d,c]=j.useState(vt()),[h,m]=j.useState(""),[y,_]=j.useState(""),[w,A]=j.useState(!1),[T,k]=j.useState({});j.useEffect(()=>{t&&(u(""),c(vt()),m(""),_(a.length>0?a[0].id:""),A(!1),k({}))},[t,a]);const M=()=>{const O={};return(!s||parseFloat(s)<=0)&&(O.amount="Valor deve ser positivo."),d||(O.date="Data é obrigatória."),w&&!y&&(O.linkedAccountId="Conta para vínculo é obrigatória."),k(O),Object.keys(O).length===0},E=()=>{if(!M())return;const O={money_box_id:r.id,type:i,amount:parseFloat(s),date:d,description:h.trim()||void 0};n(O,w,y),e()},D=i===xr.DEPOSIT?"Depositar na Caixinha":"Sacar da Caixinha",C=i===xr.DEPOSIT?"Registrar como despesa na conta:":"Registrar como receita na conta:";return b.jsx(An,{isOpen:t,onClose:e,title:`${D}: ${r.name}`,children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(je,{label:"Valor",id:"mbAmount",type:"number",step:"0.01",value:s,onChange:O=>u(O.target.value),error:T.amount,required:!0}),b.jsx(je,{label:"Data",id:"mbDate",type:"date",value:d,onChange:O=>c(O.target.value),error:T.date,required:!0}),b.jsx(je,{label:"Descrição (Opcional)",id:"mbDescription",type:"text",value:h,onChange:O=>m(O.target.value)}),a.length>0&&b.jsxs("div",{className:"pt-2",children:[b.jsxs("label",{className:"flex items-center space-x-2",children:[b.jsx("input",{type:"checkbox",checked:w,onChange:O=>A(O.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark"}),b.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:i===xr.DEPOSIT?"Vincular a uma despesa de conta?":"Vincular a uma receita em conta?"})]}),w&&b.jsx(Tt,{containerClassName:"mt-2",label:C,id:"mbLinkedAccount",options:a.map(O=>({value:O.id,label:O.name})),value:y,onChange:O=>_(O.target.value),error:T.linkedAccountId,placeholder:"Selecione uma conta"})]}),T.form&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:T.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"button",variant:"primary",onClick:E,children:i===xr.DEPOSIT?"Depositar":"Sacar"})]})]})})},wue=({isOpen:t,onClose:e,moneyBox:n,transactions:r,onDeleteTransaction:a,isPrivacyModeEnabled:i})=>{const s=r.filter(u=>u.money_box_id===n.id).sort((u,d)=>new Date(d.date).getTime()-new Date(u.date).getTime());return b.jsx(An,{isOpen:t,onClose:e,title:`Histórico: ${n.name}`,size:"lg",children:s.length===0?b.jsx("p",{className:"text-textMuted dark:text-textMutedDark text-center py-4",children:"Nenhuma transação nesta caixinha ainda."}):b.jsx("ul",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:s.map(u=>{const d=u.type===xr.DEPOSIT,c=d?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",h=d?"+":"-";return b.jsx("li",{className:"p-3 bg-surface/50 dark:bg-surfaceDark/50 rounded-md",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsxs("p",{className:`font-semibold ${c}`,children:[h," ",ye(u.amount,"BRL","pt-BR",i)]}),b.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:Xn(u.date)}),u.description&&b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark italic",children:u.description}),u.linked_transaction_id&&b.jsx("p",{className:"text-xs text-neutral dark:text-neutralDark",children:"(Vinculado a uma transação principal)"})]}),b.jsx("button",{onClick:()=>{window.confirm(`Excluir esta transação da caixinha? ${u.linked_transaction_id?"\\nA transação principal vinculada NÃO será excluída automaticamente por esta ação.":""}`)&&a(u.id,u.linked_transaction_id)},className:"text-xs text-destructive dark:text-destructiveDark hover:underline","aria-label":"Excluir transação da caixinha",title:"Excluir transação da caixinha",children:"Excluir"})]})},u.id)})})})},Tue=({moneyBoxes:t,moneyBoxTransactions:e,accounts:n,onAddMoneyBox:r,onUpdateMoneyBox:a,onDeleteMoneyBox:i,onAddMoneyBoxTransaction:s,onDeleteMoneyBoxTransaction:u,calculateMoneyBoxBalance:d,isPrivacyModeEnabled:c})=>{const[h,m]=j.useState(!1),[y,_]=j.useState(null),[w,A]=j.useState(!1),[T,k]=j.useState(null),[M,E]=j.useState(xr.DEPOSIT),[D,C]=j.useState(!1),[O,P]=j.useState(null),I=()=>{_(null),m(!0)},q=Y=>{_(Y),m(!0)},z=(Y,B)=>{k(Y),E(B),A(!0)},L=Y=>{P(Y),C(!0)},H=Y=>{i(Y)},Q=j.useMemo(()=>t.reduce((Y,B)=>Y+d(B.id),0),[t,d]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Minhas Caixinhas"}),t.length>0&&b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total guardado: ",b.jsx("span",{className:"font-semibold text-secondary dark:text-secondaryDark",children:ye(Q,"BRL","pt-BR",c)})]})]}),b.jsxs(be,{onClick:I,variant:"primary",children:[b.jsx(Un,{className:"w-5 h-5 mr-2"}),"Nova Caixinha"]})]}),t.length>0?b.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(Y=>b.jsx(xue,{moneyBox:Y,balance:d(Y.id),onEdit:q,onDelete:H,onOpenTransactionModal:z,onOpenHistoryModal:L,isPrivacyModeEnabled:c,hasTransactions:e.some(B=>B.money_box_id===Y.id)},Y.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma caixinha criada. Crie uma para começar a guardar dinheiro!"}),b.jsx(_ue,{isOpen:h,onClose:()=>m(!1),onSave:y?a:r,existingMoneyBox:y}),T&&b.jsx(Sue,{isOpen:w,onClose:()=>A(!1),onSave:s,moneyBox:T,accounts:n,transactionType:M}),O&&b.jsx(wue,{isOpen:D,onClose:()=>C(!1),moneyBox:O,transactions:e,onDeleteTransaction:u,isPrivacyModeEnabled:c})]})},t1=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})}),Aue=t=>{switch(t){case"PLANNED":return{text:"Planejado",colorClasses:"bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300"};case"CONSIDERING":return{text:"Considerando",colorClasses:"bg-gray-100 text-gray-700 dark:bg-gray-700/30 dark:text-gray-300"};case"ACHIEVABLE_SOON":return{text:"Viável em Breve",colorClasses:"bg-green-100 text-green-700 dark:bg-green-700/30 dark:text-green-300"};case"NOT_RECOMMENDED_NOW":return{text:"Adiar Compra",colorClasses:"bg-red-100 text-red-700 dark:bg-red-700/30 dark:text-red-300"};case"AI_ANALYZING":return{text:"Analisando...",colorClasses:"bg-yellow-100 text-yellow-700 dark:bg-yellow-700/30 dark:text-yellow-300 animate-pulse"};default:return{text:"Desconhecido",colorClasses:"bg-gray-200 text-gray-800"}}},Eue={low:"Baixa",medium:"Média",high:"Alta"},Cue=({purchase:t,onEdit:e,onDelete:n,onAnalyze:r,isPrivacyModeEnabled:a})=>{const{name:i,estimated_cost:s,priority:u,notes:d,status:c,created_at:h,ai_analysis:m,ai_analyzed_at:y}=t,_=Aue(c);return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[b.jsx(t1,{className:"w-5 h-5 text-primary dark:text-primaryDark flex-shrink-0"}),b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:i})]}),b.jsx("p",{className:"text-xl font-bold text-primary dark:text-primaryDark",children:ye(s,"BRL","pt-BR",a)}),b.jsxs("div",{className:"flex items-center space-x-2 text-xs text-textMuted dark:text-textMutedDark mt-0.5",children:[b.jsxs("span",{children:["Prioridade: ",Eue[u]]}),b.jsx("span",{children:"•"}),b.jsxs("span",{children:["Criado em: ",Xn(h)]})]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[b.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${_.colorClasses}`,children:_.text}),b.jsxs("div",{className:"flex space-x-1 mt-1",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>e(t),"aria-label":"Editar Compra Futura",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t.id),"aria-label":"Excluir Compra Futura",className:"!p-1.5",children:b.jsx(Qr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})]}),d&&b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark italic border-t border-borderBase/30 dark:border-borderBaseDark/30 pt-2 mt-2",children:["Notas: ",d]}),m&&b.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-3 rounded-md mt-2 border-l-4 border-primary dark:border-primaryDark",children:[b.jsxs("p",{className:"text-sm font-semibold text-primary dark:text-primaryDark mb-1",children:["Análise da IA (",y?Xn(y,"pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Recente","):"]}),b.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:m})]}),b.jsx("div",{className:"pt-2 border-t border-borderBase/30 dark:border-borderBaseDark/30 mt-auto",children:b.jsxs(be,{variant:"secondary",size:"sm",onClick:()=>r(t.id),disabled:c==="AI_ANALYZING",className:"w-full sm:w-auto",children:[b.jsx(qo,{className:"w-4 h-4 mr-1.5"}),c==="AI_ANALYZING"?"Analisando...":"Analisar com IA"]})})]})},Od=({label:t,id:e,error:n,className:r,containerClassName:a,...i})=>b.jsxs("div",{className:a,children:[t&&b.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),b.jsx("textarea",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...i}),n&&b.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),kue=[{value:"low",label:"Baixa"},{value:"medium",label:"Média"},{value:"high",label:"Alta"}],Oue=({isOpen:t,onClose:e,onSave:n,existingPurchase:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState(""),[d,c]=j.useState("medium"),[h,m]=j.useState(""),[y,_]=j.useState({});j.useEffect(()=>{t&&(r?(i(r.name),u(r.estimated_cost.toString()),c(r.priority),m(r.notes||"")):(i(""),u(""),c("medium"),m("")),_({}))},[r,t]);const w=()=>{const T={};a.trim()||(T.name="Nome do item é obrigatório.");const k=parseFloat(s);return(isNaN(k)||k<=0)&&(T.estimatedCost="Custo estimado deve ser um número positivo."),_(T),Object.keys(T).length===0},A=()=>{if(!w())return;const T={name:a.trim(),estimated_cost:parseFloat(s),priority:d,notes:h.trim()||void 0},k=r?{...T,id:r.id}:{...T,id:We()};n(k),e()};return b.jsx(An,{isOpen:t,onClose:e,title:r?"Editar Compra Futura":"Nova Compra Futura",size:"md",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(je,{label:"Nome do Item/Objetivo",id:"fpName",value:a,onChange:T=>i(T.target.value),error:y.name,placeholder:"Ex: Novo Celular, Viagem para a Praia",required:!0}),b.jsx(je,{label:"Custo Estimado (R$)",id:"fpEstimatedCost",type:"number",step:"0.01",value:s,onChange:T=>u(T.target.value),error:y.estimatedCost,placeholder:"Ex: 2500.00",required:!0}),b.jsx(Tt,{label:"Prioridade",id:"fpPriority",options:kue,value:d,onChange:T=>c(T.target.value)}),b.jsx(Od,{label:"Notas (Opcional)",id:"fpNotes",value:h,onChange:T=>m(T.target.value),rows:3,placeholder:"Detalhes adicionais, link do produto, etc."}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"button",variant:"primary",onClick:A,children:r?"Salvar Alterações":"Adicionar Compra"})]})]})})},Mue=[{value:"all",label:"Todas Prioridades"},{value:"high",label:"Alta"},{value:"medium",label:"Média"},{value:"low",label:"Baixa"}],Due=[{value:"all",label:"Todos Status"},{value:"PLANNED",label:"Planejado"},{value:"CONSIDERING",label:"Considerando"},{value:"ACHIEVABLE_SOON",label:"Viável em Breve"},{value:"NOT_RECOMMENDED_NOW",label:"Adiar Compra"},{value:"AI_ANALYZING",label:"Analisando"}],Nue=({futurePurchases:t,onAddFuturePurchase:e,onUpdateFuturePurchase:n,onDeleteFuturePurchase:r,onAnalyzeFuturePurchase:a,isPrivacyModeEnabled:i})=>{const[s,u]=j.useState(!1),[d,c]=j.useState(null),[h,m]=j.useState("all"),[y,_]=j.useState("all"),[w,A]=j.useState("date_desc"),T=()=>{c(null),u(!0)},k=E=>{c(E),u(!0)},M=j.useMemo(()=>{let E=[...t];return h!=="all"&&(E=E.filter(D=>D.priority===h)),y!=="all"&&(E=E.filter(D=>D.status===y)),E.sort((D,C)=>{switch(w){case"cost_desc":return C.estimated_cost-D.estimated_cost;case"cost_asc":return D.estimated_cost-C.estimated_cost;case"date_asc":return new Date(D.created_at).getTime()-new Date(C.created_at).getTime();case"date_desc":default:return new Date(C.created_at).getTime()-new Date(D.created_at).getTime()}}),E},[t,h,y,w]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(t1,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Compras Futuras & Objetivos"})]}),b.jsxs(be,{onClick:T,variant:"primary",children:[b.jsx(Un,{className:"w-5 h-5 mr-2"}),"Adicionar Compra Desejada"]})]}),t.length>0&&b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx(Tt,{label:"Filtrar por Prioridade",options:Mue,value:h,onChange:E=>m(E.target.value)}),b.jsx(Tt,{label:"Filtrar por Status",options:Due,value:y,onChange:E=>_(E.target.value)}),b.jsx(Tt,{label:"Ordenar Por",options:[{value:"date_desc",label:"Mais Recentes Primeiro"},{value:"date_asc",label:"Mais Antigos Primeiro"},{value:"cost_desc",label:"Maior Custo"},{value:"cost_asc",label:"Menor Custo"}],value:w,onChange:E=>A(E.target.value)})]}),M.length>0?b.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(E=>b.jsx(Cue,{purchase:E,onEdit:k,onDelete:r,onAnalyze:a,isPrivacyModeEnabled:i},E.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:t.length===0?"Nenhuma compra futura planejada. Adicione uma para começar!":"Nenhuma compra encontrada com os filtros aplicados."}),b.jsx(Oue,{isOpen:s,onClose:()=>u(!1),onSave:d?E=>n({...E,id:d.id}):e,existingPurchase:d})]})},Pue=({allData:t,userPreferencesToExport:e,activeProfileName:n,user:r})=>{const a=async()=>{if(!r){alert("Nenhum usuário logado para exportar dados.");return}const i=n?n.replace(/\s+/g,"_"):"usuario_desconhecido",s={profileName:n||"N/A",exportedAt:new Date().toISOString(),supabaseSchemaVersion:"2.0",userPreferences:e,...t},u=JSON.stringify(s,null,2),d=new Blob([u],{type:"application/json"}),c=URL.createObjectURL(d),h=document.createElement("a");h.href=c,h.download=`financeiro_pessoal_${i}_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(c)};return b.jsxs("div",{className:"space-y-8 p-4 md:p-6",children:[b.jsxs("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:["Gerenciamento de Dados: ",b.jsx("span",{className:"text-primary dark:text-primaryDark",children:n})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Exportar Dados"}),b.jsxs("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:["Faça um backup completo dos seus dados (",n,") em um arquivo JSON."]}),b.jsx(be,{onClick:a,variant:"secondary",children:"Exportar Todos os Dados (.json)"})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Importar Dados"}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:"A importação de dados a partir de um arquivo JSON não é suportada nesta versão do aplicativo. Para restaurar dados, considere utilizar ferramentas de gerenciamento de banco de dados diretamente com o Supabase, se aplicável."})]}),e&&b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Backup Automático em Arquivo (Local)"}),b.jsxs("p",{className:"text-textMuted dark:text-textMutedDark",children:[e.ai_auto_backup_enabled?"Backup automático local em arquivo está ATIVADO.":"Backup automático local em arquivo está DESATIVADO.",b.jsx("span",{className:"block text-xs",children:"Isso é um backup extra em arquivo JSON no seu dispositivo, independente da sincronização com o Supabase."})]})]})]})},Rue=({tag:t,transactionCount:e,onEdit:n,onDelete:r})=>{t.color&&(t.color,t.color),t.color,t.color;const i=(s=>{if(!s)return"text-textBase dark:text-textBaseDark";const u=parseInt(s.slice(1,3),16),d=parseInt(s.slice(3,5),16),c=parseInt(s.slice(5,7),16);return(.299*u+.587*d+.114*c)/255>.5?"text-neutral-800":"text-white"})(t.color);return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-3 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex justify-between items-center",children:[b.jsx("div",{className:"flex items-center",children:b.jsx("span",{className:`text-xs font-semibold mr-3 px-2.5 py-1 rounded-full inline-block border
                        ${t.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:t.color?{backgroundColor:t.color,borderColor:t.color}:{},children:b.jsx("span",{className:t.color?i:"text-textBase dark:text-textBaseDark",children:t.name})})}),b.jsxs("div",{className:"flex items-center space-x-1",children:[e>0&&b.jsxs("span",{className:"text-xs text-textMuted dark:text-textMutedDark mr-2",children:["(",e," trans.)"]}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Tag",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Tag",className:"!p-1.5",disabled:e>0,title:e>0?"Não é possível excluir tags em uso":"Excluir Tag",children:b.jsx(Qr,{className:`w-4 h-4 ${e>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]})},DR=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6","#A3A3A3"],Iue=({isOpen:t,onClose:e,onSave:n,existingTag:r,allTagNames:a=[]})=>{const[i,s]=j.useState(""),[u,d]=j.useState(void 0),[c,h]=j.useState("");j.useEffect(()=>{t&&(r?(s(r.name),d(r.color)):(s(""),d(DR[0])),h(""))},[r,t]);const m=()=>{const y=i.trim();if(!y){h("Nome da tag é obrigatório.");return}if(a.filter(w=>r?w.toLowerCase()!==r.name.toLowerCase():!0).includes(y.toLowerCase())){h("Já existe uma tag com este nome.");return}h(""),n({id:(r==null?void 0:r.id)||We(),name:y,color:u}),e()};return b.jsx(An,{isOpen:t,onClose:e,title:r?"Editar Tag":"Nova Tag",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(je,{label:"Nome da Tag",id:"tagName",value:i,onChange:y=>s(y.target.value),error:c,placeholder:"Ex: Viagem, Pessoal, Urgente"}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor (Opcional)"}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[DR.map(y=>b.jsx("button",{type:"button",onClick:()=>d(y),className:`w-7 h-7 rounded-full border-2 transition-all
                            ${u===y?"ring-2 ring-offset-2 dark:ring-offset-surfaceDark border-primary dark:border-primaryDark ring-primary dark:ring-primaryDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:y},"aria-label":`Selecionar cor ${y}`,"aria-pressed":u===y},y)),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>d(void 0),className:`h-7 px-2 ${u?"":"bg-neutral/20 dark:bg-neutralDark/30"}`,title:"Remover cor",children:"Sem Cor"})]})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{variant:"primary",onClick:m,children:"Salvar"})]})]})})},jue=({tags:t,transactions:e,onAddTag:n,onUpdateTag:r,onDeleteTag:a})=>{const[i,s]=j.useState(!1),[u,d]=j.useState(null),c=()=>{d(null),s(!0)},h=_=>{d(_),s(!0)},m=_=>e.filter(w=>{var A;return(A=w.tag_ids)==null?void 0:A.includes(_)}).length,y=t.map(_=>_.name);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Tags"}),b.jsxs(be,{onClick:c,variant:"primary",children:[b.jsx(Un,{className:"w-5 h-5 mr-2"}),"Nova Tag"]})]}),t.length>0?b.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(_=>b.jsx(Rue,{tag:_,transactionCount:m(_.id),onEdit:h,onDelete:a},_.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma tag cadastrada. Crie tags para organizar melhor suas transações!"}),b.jsx(Iue,{isOpen:i,onClose:()=>s(!1),onSave:u?r:n,existingTag:u,allTagNames:y})]})},gd=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),Ux=({rt:t,accounts:e,categories:n,onEdit:r,onDelete:a,onTogglePause:i,isPrivacyModeEnabled:s})=>{const u=e.find(y=>y.id===t.account_id),d=t.category_id?n.find(y=>y.id===t.category_id):null;let c="text-textBase dark:text-textBaseDark",h="";t.type===xe.INCOME?(c="text-secondary dark:text-secondaryDark",h="+"):t.type===xe.EXPENSE&&(c="text-destructive dark:text-destructiveDark",h="-");const m={daily:"Diariamente",weekly:"Semanalmente",monthly:"Mensalmente",yearly:"Anualmente",custom_days:`A cada ${t.custom_interval_days} dias`};return b.jsx("li",{className:`bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 ${t.is_paused?"opacity-60":""}`,children:b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[b.jsx(gd,{className:`w-5 h-5 ${t.is_paused?"text-textMuted dark:text-textMutedDark":"text-primary dark:text-primaryDark"}`}),b.jsxs("span",{className:`font-semibold text-lg ${c}`,children:[h,ye(t.amount,"BRL","pt-BR",s)]}),b.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.description})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-8",children:[m[t.frequency]," • Próximo: ",Xn(t.next_due_date),t.end_date&&` &bull; Termina em: ${Xn(t.end_date)}`,t.remaining_occurrences!==void 0&&t.occurrences&&` &bull; (${t.remaining_occurrences}/${t.occurrences} restantes)`]}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark ml-8",children:["Conta: ",(u==null?void 0:u.name)||"N/A",d&&` &bull; Categoria: ${d.name}`,t.is_paused&&b.jsx("span",{className:"font-semibold text-amber-600 dark:text-amber-500",children:" (Pausado)"})]}),t.notes&&b.jsxs("p",{className:"text-xs italic text-neutral dark:text-neutralDark ml-8 mt-1",children:["Nota: ",t.notes]})]}),b.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t),"aria-label":"Editar Recorrência",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>a(t.id),"aria-label":"Excluir Recorrência",children:b.jsx(Qr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})})},$ue=[{value:"daily",label:"Diariamente"},{value:"weekly",label:"Semanalmente"},{value:"monthly",label:"Mensalmente"},{value:"yearly",label:"Anualmente"},{value:"custom_days",label:"Dias Personalizados"}],Lue=(t,e,n,r)=>vt(new Date(t+"T00:00:00")),Bue=({isOpen:t,onClose:e,onSave:n,accounts:r,categories:a,existingRT:i})=>{const[s,u]=j.useState(""),[d,c]=j.useState(""),[h,m]=j.useState(xe.EXPENSE),[y,_]=j.useState(""),[w,A]=j.useState(""),[T,k]=j.useState(""),[M,E]=j.useState("monthly"),[D,C]=j.useState("30"),[O,P]=j.useState(vt()),[I,q]=j.useState(""),[z,L]=j.useState(""),[H,Q]=j.useState(!1),[Y,B]=j.useState(""),[$,V]=j.useState({});j.useEffect(()=>{var G,re,ce,_e,ge,Ce;t&&(i?(u(i.description),c(i.amount.toString()),m(i.type),_(i.category_id||""),A(i.account_id),k(i.to_account_id||""),E(i.frequency),C(((G=i.custom_interval_days)==null?void 0:G.toString())||"30"),P(i.start_date),q(i.end_date||""),L(((re=i.occurrences)==null?void 0:re.toString())||""),Q(i.is_paused||!1),B(i.notes||"")):(u(""),c(""),m(xe.EXPENSE),_(((ce=a.filter(nt=>nt.type===xe.EXPENSE)[0])==null?void 0:ce.id)||""),A(((_e=r[0])==null?void 0:_e.id)||""),k(((ge=r[1])==null?void 0:ge.id)||((Ce=r[0])==null?void 0:Ce.id)||""),E("monthly"),C("30"),P(vt()),q(""),L(""),Q(!1),B("")),V({}))},[i,t,r,a]);const Z=()=>{const G={};return s.trim()||(G.description="Descrição é obrigatória."),(!d||parseFloat(d)<=0)&&(G.amount="Valor deve ser positivo."),h!==xe.TRANSFER&&!y&&(G.categoryId="Categoria é obrigatória."),w||(G.accountId="Conta é obrigatória."),h===xe.TRANSFER&&!T&&(G.toAccountId="Conta de destino é obrigatória."),h===xe.TRANSFER&&w===T&&(G.toAccountId="Contas não podem ser iguais."),O||(G.startDate="Data de início é obrigatória."),I&&O>I&&(G.endDate="Data final deve ser após data inicial."),z&&parseInt(z)<=0&&(G.occurrences="Ocorrências deve ser positivo."),M==="custom_days"&&(!D||parseInt(D)<=0)&&(G.customIntervalDays="Intervalo de dias deve ser positivo."),V(G),Object.keys(G).length===0},se=()=>{if(!Z())return;const G=z?parseInt(z):void 0,re={id:(i==null?void 0:i.id)||We(),description:s.trim(),amount:parseFloat(d),type:h,category_id:h===xe.TRANSFER?void 0:y,account_id:w,to_account_id:h===xe.TRANSFER?T:void 0,frequency:M,custom_interval_days:M==="custom_days"?parseInt(D):void 0,start_date:O,end_date:I||void 0,occurrences:G,remaining_occurrences:i!=null&&i.id?i.remaining_occurrences:G,next_due_date:i!=null&&i.id?i.next_due_date:Lue(O),last_posted_date:i==null?void 0:i.last_posted_date,is_paused:H||!1,notes:Y.trim()||void 0};n(re),e()},U=a.filter(G=>G.type===h);return b.jsx(An,{isOpen:t,onClose:e,title:i?"Editar Transação Recorrente":"Nova Transação Recorrente",size:"lg",children:b.jsxs("form",{onSubmit:G=>{G.preventDefault(),se()},className:"space-y-4",children:[b.jsx(je,{label:"Descrição",id:"rtDescription",value:s,onChange:G=>u(G.target.value),error:$.description,required:!0}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx(je,{label:"Valor",id:"rtAmount",type:"number",step:"0.01",value:d,onChange:G=>c(G.target.value),error:$.amount,required:!0}),b.jsx(Tt,{label:"Tipo",id:"rtType",options:km,value:h,onChange:G=>m(G.target.value)})]}),h!==xe.TRANSFER&&b.jsx(Tt,{label:"Categoria",id:"rtCategory",options:U.map(G=>({value:G.id,label:G.name})),value:y,onChange:G=>_(G.target.value),error:$.categoryId,placeholder:"Selecione uma categoria",disabled:U.length===0}),b.jsx(Tt,{label:h===xe.TRANSFER?"Conta de Origem":"Conta",id:"rtAccountId",options:r.map(G=>({value:G.id,label:G.name})),value:w,onChange:G=>A(G.target.value),error:$.accountId,placeholder:"Selecione uma conta",disabled:r.length===0}),h===xe.TRANSFER&&b.jsx(Tt,{label:"Conta de Destino",id:"rtToAccountId",options:r.map(G=>({value:G.id,label:G.name})),value:T,onChange:G=>k(G.target.value),error:$.toAccountId,placeholder:"Selecione conta de destino",disabled:r.length===0}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx(Tt,{label:"Frequência",id:"rtFrequency",options:$ue,value:M,onChange:G=>E(G.target.value)}),M==="custom_days"&&b.jsx(je,{label:"Intervalo (dias)",id:"rtCustomInterval",type:"number",min:"1",value:D,onChange:G=>C(G.target.value),error:$.customIntervalDays})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx(je,{label:"Data de Início",id:"rtStartDate",type:"date",value:O,onChange:G=>P(G.target.value),error:$.startDate,required:!0}),b.jsx(je,{label:"Data Final (Opcional)",id:"rtEndDate",type:"date",value:I,onChange:G=>q(G.target.value),error:$.endDate})]}),b.jsx(je,{label:"Número de Ocorrências (Opcional)",id:"rtOccurrences",type:"number",min:"1",value:z,onChange:G=>L(G.target.value),error:$.occurrences,placeholder:"Deixe em branco para indefinido (use Data Final)"}),b.jsx(Od,{label:"Notas (Opcional)",id:"rtNotes",value:Y,onChange:G=>B(G.target.value),rows:2}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"rtIsPaused",checked:H,onChange:G=>Q(G.target.checked),className:"h-4 w-4 text-primary rounded border-neutral/50 focus:ring-primary dark:text-primaryDark dark:border-neutralDark/50 dark:focus:ring-primaryDark"}),b.jsx("label",{htmlFor:"rtIsPaused",className:"ml-2 block text-sm text-textMuted dark:text-textMutedDark",children:"Pausar esta recorrência"})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"submit",variant:"primary",children:i?"Salvar Alterações":"Criar Recorrência"})]})]})})},que=({recurringTransactions:t,accounts:e,categories:n,onAddRecurringTransaction:r,onUpdateRecurringTransaction:a,onDeleteRecurringTransaction:i,onProcessRecurringTransactions:s,isPrivacyModeEnabled:u})=>{const[d,c]=j.useState(!1),[h,m]=j.useState(null),[y,_]=j.useState(!1),[w,A]=j.useState(null),T=()=>{m(null),c(!0)},k=I=>{m(I),c(!0)},M=async()=>{_(!0),A("Processando...");try{const I=await s();I.errors.length>0?A(`Processamento concluído. ${I.count} transações lançadas. Erros: ${I.errors.join(", ")}`):I.count>0?A(`${I.count} transações recorrentes foram lançadas com sucesso!`):A("Nenhuma transação recorrente pendente para lançar.")}catch(I){A("Erro ao processar transações recorrentes."),console.error(I)}_(!1),setTimeout(()=>A(null),7e3)},E=j.useMemo(()=>[...t].sort((I,q)=>new Date(I.next_due_date).getTime()-new Date(q.next_due_date).getTime()),[t]),D=vt(),C=E.filter(I=>!I.is_paused&&I.next_due_date>=D),O=E.filter(I=>!I.is_paused&&I.next_due_date<D),P=E.filter(I=>I.is_paused);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações Recorrentes"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(be,{onClick:M,variant:"secondary",disabled:y,children:y?"Processando...":"Lançar Pendentes"}),b.jsxs(be,{onClick:T,variant:"primary",children:[b.jsx(Un,{className:"w-5 h-5 mr-2"}),"Nova Recorrência"]})]})]}),w&&b.jsx("div",{className:`p-3 rounded-md text-sm ${w.includes("Erro")||w.includes("Erros:")?"bg-destructive/10 text-destructiveDark":"bg-secondary/10 text-secondaryDark"}`,children:w}),t.length===0?b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação recorrente cadastrada."}):b.jsxs(b.Fragment,{children:[O.length>0&&b.jsxs("div",{children:[b.jsxs("h2",{className:"text-lg font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Pendentes / Atrasadas (",O.length,")"]}),b.jsx("ul",{className:"space-y-3",children:O.map(I=>b.jsx(Ux,{rt:I,accounts:e,categories:n,onEdit:k,onDelete:i,isPrivacyModeEnabled:u},I.id))})]}),C.length>0&&b.jsxs("div",{children:[b.jsxs("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mt-6 mb-2",children:["Próximas (",C.length,")"]}),b.jsx("ul",{className:"space-y-3",children:C.map(I=>b.jsx(Ux,{rt:I,accounts:e,categories:n,onEdit:k,onDelete:i,isPrivacyModeEnabled:u},I.id))})]}),P.length>0&&b.jsxs("div",{children:[b.jsxs("h2",{className:"text-lg font-semibold text-textMuted dark:text-textMutedDark mt-6 mb-2",children:["Pausadas (",P.length,")"]}),b.jsx("ul",{className:"space-y-3",children:P.map(I=>b.jsx(Ux,{rt:I,accounts:e,categories:n,onEdit:k,onDelete:i,isPrivacyModeEnabled:u},I.id))})]})]}),b.jsx(Bue,{isOpen:d,onClose:()=>c(!1),onSave:h?a:r,accounts:e,categories:n,existingRT:h})]})},Uue=({loan:t,repayments:e,accounts:n,creditCards:r,onEdit:a,onDelete:i,onRegisterRepayment:s,isPrivacyModeEnabled:u})=>{var k,M;const d=e.reduce((E,D)=>E+D.amount_paid,0),c=t.total_amount_to_reimburse-d;let h="PENDING",m="text-amber-600 dark:text-amber-500",y="bg-amber-100 dark:bg-amber-500/20",_="bg-amber-500";d>=t.total_amount_to_reimburse?(h="PAID",m="text-secondary dark:text-secondaryDark",y="bg-emerald-100 dark:bg-emerald-500/20",_="bg-secondary"):d>0&&(h="PARTIALLY_PAID",m="text-blue-600 dark:text-blue-500",y="bg-blue-100 dark:bg-blue-500/20",_="bg-blue-500");const w=t.total_amount_to_reimburse>0?Math.min(d/t.total_amount_to_reimburse*100,100):0,A=t.funding_source==="account"&&t.linked_account_id?(k=n.find(E=>E.id===t.linked_account_id))==null?void 0:k.name:null,T=t.funding_source==="creditCard"&&t.linked_credit_card_id?(M=r.find(E=>E.id===t.linked_credit_card_id))==null?void 0:M.name:null;return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[b.jsx(zS,{className:"w-5 h-5 text-primary dark:text-primaryDark"}),b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.person_name}),b.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${y} ${m}`,children:h==="PENDING"?"Pendente":h==="PARTIALLY_PAID"?"Parcialmente Pago":"Pago"})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Emprestado em: ",Xn(t.loan_date)]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a Reembolsar: ",b.jsx("span",{className:"font-semibold",children:ye(t.total_amount_to_reimburse,"BRL","pt-BR",u)})]}),t.description&&b.jsx("p",{className:"text-xs italic text-neutral dark:text-neutralDark mt-1",children:t.description})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>a(t),"aria-label":"Editar Empréstimo",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>i(t.id),"aria-label":"Excluir Empréstimo",className:"!p-1.5",disabled:d>0&&h!=="PAID",title:d>0&&h!=="PAID"?"Exclua os pagamentos primeiro ou quite o empréstimo":"Excluir Empréstimo",children:b.jsx(Qr,{className:`w-4 h-4 ${d>0&&h!=="PAID"?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Pago: ",ye(d,"BRL","pt-BR",u)]}),b.jsxs("span",{className:`font-semibold ${c<=0?m:"text-destructive dark:text-destructiveDark"}`,children:["Pendente: ",ye(Math.max(0,c),"BRL","pt-BR",u)]})]}),b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:b.jsx("div",{className:`h-2.5 rounded-full ${_}`,style:{width:`${w}%`}})})]}),b.jsxs("div",{className:"text-xs text-textMuted dark:text-textMutedDark pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[b.jsx("p",{children:b.jsx("strong",{children:"Origem do Dinheiro:"})}),t.funding_source==="account"&&b.jsxs(b.Fragment,{children:[b.jsxs("p",{children:["Conta: ",A||"N/A"]}),b.jsxs("p",{children:["Valor Entregue da Conta: ",ye(t.amount_delivered_from_account||0,"BRL","pt-BR",u)]})]}),t.funding_source==="creditCard"&&b.jsxs(b.Fragment,{children:[b.jsxs("p",{children:["Cartão de Crédito: ",T||"N/A"]}),b.jsxs("p",{children:["Valor Líquido Entregue: ",ye(t.amount_delivered_from_credit||0,"BRL","pt-BR",u)]}),b.jsxs("p",{children:["Custo no Cartão (Fatura): ",ye(t.cost_on_credit_card||0,"BRL","pt-BR",u)]})]})]}),h!=="PAID"&&b.jsx("div",{className:"flex justify-start pt-2",children:b.jsxs(be,{size:"sm",variant:"secondary",onClick:()=>s(t),children:[b.jsx(Un,{className:"w-4 h-4 mr-1"})," Registrar Pagamento Recebido"]})})]})},Fue=({isOpen:t,onClose:e,onSave:n,accounts:r,creditCards:a,existingLoan:i})=>{const[s,u]=j.useState(""),[d,c]=j.useState(vt()),[h,m]=j.useState(""),[y,_]=j.useState(""),[w,A]=j.useState("account"),[T,k]=j.useState(""),[M,E]=j.useState(""),[D,C]=j.useState(""),[O,P]=j.useState(""),[I,q]=j.useState(""),[z,L]=j.useState("1"),[H,Q]=j.useState({});j.useEffect(()=>{var V,Z,se;t&&(i?(u(i.person_name),c(i.loan_date),m(i.description||""),_(i.total_amount_to_reimburse.toString()),A(i.funding_source),i.funding_source==="account"?(k(((V=i.amount_delivered_from_account)==null?void 0:V.toString())||""),E(i.linked_account_id||"")):(k(""),E("")),i.funding_source==="creditCard"?(C(((Z=i.amount_delivered_from_credit)==null?void 0:Z.toString())||""),P(((se=i.cost_on_credit_card)==null?void 0:se.toString())||""),q(i.linked_credit_card_id||"")):(C(""),P(""),q(""))):(u(""),c(vt()),m(""),_(""),A("account"),k(""),E(r.length>0?r[0].id:""),C(""),P(""),q(a.length>0?a[0].id:""),L("1")),Q({}))},[i,t,r,a]);const Y=()=>{const V={};s.trim()||(V.personName="Nome da pessoa é obrigatório."),d||(V.loanDate="Data do empréstimo é obrigatória.");const Z=parseFloat(y);if((isNaN(Z)||Z<=0)&&(V.totalAmountToReimburse="Valor a ser reembolsado deve ser positivo."),w==="account"){M||(V.linkedAccountId="Conta de origem é obrigatória.");const se=parseFloat(T);(isNaN(se)||se<=0)&&(V.amountDeliveredFromAccount="Valor entregue deve ser positivo.")}else if(w==="creditCard"){I||(V.linkedCreditCardId="Cartão de crédito é obrigatório.");const se=parseFloat(D);(isNaN(se)||se<=0)&&(V.amountDeliveredFromCredit="Valor entregue (líquido) deve ser positivo.");const U=parseFloat(O);(isNaN(U)||U<=0)&&(V.costOnCreditCard="Custo no cartão deve ser positivo."),se>U&&(V.amountDeliveredFromCredit="Valor entregue não pode ser maior que o custo no cartão.");const G=parseInt(z,10);(isNaN(G)||G<=0)&&(V.numberOfInstallments="Número de parcelas deve ser positivo.")}return Q(V),Object.keys(V).length===0},B=()=>{if(!Y())return;const V={person_name:s.trim(),loan_date:d,description:h.trim()||void 0,total_amount_to_reimburse:parseFloat(y),funding_source:w};let Z;w==="account"?Z={...V,amount_delivered_from_account:parseFloat(T),linked_account_id:M}:Z={...V,amount_delivered_from_credit:parseFloat(D),cost_on_credit_card:parseFloat(O),linked_credit_card_id:I};const se=i?{...Z,id:i.id}:Z;n(se,w==="creditCard"?parseInt(z):void 0),e()},$=[{value:"account",label:"Dinheiro de uma Conta"},{value:"creditCard",label:"Crédito (Convertido em Dinheiro)"}];return b.jsx(An,{isOpen:t,onClose:e,title:i?"Editar Empréstimo":"Novo Empréstimo",size:"lg",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(je,{label:"Nome da Pessoa",id:"personName",value:s,onChange:V=>u(V.target.value),error:H.personName,required:!0}),b.jsx(je,{label:"Data do Empréstimo",id:"loanDate",type:"date",value:d,onChange:V=>c(V.target.value),error:H.loanDate,required:!0}),b.jsx(Od,{label:"Descrição (Opcional)",id:"loanDescription",value:h,onChange:V=>m(V.target.value),rows:2}),b.jsx(je,{label:"Valor Total a Ser Reembolsado por Você (R$)",id:"totalAmountToReimburse",type:"number",step:"0.01",value:y,onChange:V=>_(V.target.value),error:H.totalAmountToReimburse,placeholder:"Ex: 270.00",required:!0}),b.jsx(Tt,{label:"Origem do Dinheiro",id:"fundingSource",options:$,value:w,onChange:V=>A(V.target.value)}),w==="account"&&b.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[b.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Saída de Conta)"}),b.jsx(Tt,{label:"Conta de Origem",id:"linkedAccountId",options:r.map(V=>({value:V.id,label:V.name})),value:M,onChange:V=>E(V.target.value),error:H.linkedAccountId,disabled:r.length===0,required:!0}),b.jsx(je,{label:"Valor Efetivamente Entregue (R$)",id:"amountDeliveredFromAccount",type:"number",step:"0.01",value:T,onChange:V=>k(V.target.value),error:H.amountDeliveredFromAccount,placeholder:"Ex: 250.00",required:!0})]}),w==="creditCard"&&b.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[b.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Uso de Crédito)"}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:'Use esta opção se você usou um serviço do cartão para sacar/transferir crédito, incorrendo em taxas. O "Custo Real no Cartão" será lançado como uma compra parcelada.'}),b.jsx(Tt,{label:"Cartão de Crédito Utilizado",id:"linkedCreditCardId",options:a.map(V=>({value:V.id,label:V.name})),value:I,onChange:V=>q(V.target.value),error:H.linkedCreditCardId,disabled:a.length===0,required:!0}),b.jsx(je,{label:"Valor Efetivamente Entregue à Pessoa (R$)",id:"amountDeliveredFromCredit",type:"number",step:"0.01",value:D,onChange:V=>C(V.target.value),error:H.amountDeliveredFromCredit,placeholder:`Ex: ${ye(250)} (valor líquido recebido pela pessoa)`,required:!0}),b.jsx(je,{label:"Custo Real no Cartão (com taxas) (R$)",id:"costOnCreditCard",type:"number",step:"0.01",value:O,onChange:V=>{P(V.target.value),!i&&!y&&_(V.target.value)},error:H.costOnCreditCard,placeholder:"Ex: 270.00 (valor total que virá na fatura)",required:!0}),b.jsx(je,{label:"Número de Parcelas no Cartão",id:"numberOfInstallments",type:"number",min:"1",value:z,onChange:V=>L(V.target.value),error:H.numberOfInstallments,required:!0,disabled:!!i&&!!i.linked_installment_purchase_id,title:i&&i.linked_installment_purchase_id?"Número de parcelas não pode ser alterado após a criação da compra vinculada.":""})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"button",variant:"primary",onClick:B,children:"Salvar Empréstimo"})]})]})})},Vue=({isOpen:t,onClose:e,onSave:n,loan:r,accounts:a})=>{const[i,s]=j.useState(""),[u,d]=j.useState(vt()),[c,h]=j.useState(""),[m,y]=j.useState(""),[_,w]=j.useState({});j.useEffect(()=>{t&&(s(""),d(vt()),h(a.length>0?a[0].id:""),y(""),w({}))},[t,a]);const A=()=>{const k={},M=parseFloat(i);return(isNaN(M)||M<=0)&&(k.amountPaid="Valor pago deve ser positivo."),u||(k.repaymentDate="Data do pagamento é obrigatória."),c||(k.creditedAccountId="Conta de crédito é obrigatória."),w(k),Object.keys(k).length===0},T=()=>{if(!A())return;const k={repayment_date:u,amount_paid:parseFloat(i),notes:m.trim()||void 0,credited_account_id:c};n(k,r.id),e()};return b.jsx(An,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.person_name}`,children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(je,{label:"Valor Recebido (R$)",id:"repaymentAmount",type:"number",step:"0.01",value:i,onChange:k=>s(k.target.value),error:_.amountPaid,required:!0}),b.jsx(je,{label:"Data do Recebimento",id:"repaymentDate",type:"date",value:u,onChange:k=>d(k.target.value),error:_.repaymentDate,required:!0}),b.jsx(Tt,{label:"Conta Creditada (Onde o dinheiro entrou)",id:"creditedAccountId",options:a.map(k=>({value:k.id,label:k.name})),value:c,onChange:k=>h(k.target.value),error:_.creditedAccountId,disabled:a.length===0,required:!0}),b.jsx(Od,{label:"Notas (Opcional)",id:"repaymentNotes",value:m,onChange:k=>y(k.target.value),rows:2}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"button",variant:"primary",onClick:T,children:"Salvar Pagamento"})]})]})})},zue=({loans:t,loanRepayments:e,accounts:n,creditCards:r,onAddLoan:a,onUpdateLoan:i,onDeleteLoan:s,onAddLoanRepayment:u,isPrivacyModeEnabled:d})=>{const[c,h]=j.useState(!1),[m,y]=j.useState(null),[_,w]=j.useState(!1),[A,T]=j.useState(null),k=()=>{y(null),h(!0)},M=P=>{y(P),h(!0)},E=(P,I)=>{m&&P.id?i({...m,...P}):a(P,I)},D=P=>{T(P),w(!0)},C=j.useMemo(()=>t.reduce((P,I)=>{const q=e.filter(z=>z.loan_id===I.id).reduce((z,L)=>z+L.amount_paid,0);return P+(I.total_amount_to_reimburse-q)},0),[t,e]),O=j.useMemo(()=>[...t].sort((P,I)=>new Date(I.loan_date).getTime()-new Date(P.loan_date).getTime()),[t]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Empréstimos Concedidos"}),t.length>0&&b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a receber: ",b.jsx("span",{className:"font-semibold text-primary dark:text-primaryDark",children:ye(C,"BRL","pt-BR",d)})]})]}),b.jsxs(be,{onClick:k,variant:"primary",children:[b.jsx(Un,{className:"w-5 h-5 mr-2"}),"Novo Empréstimo"]})]}),O.length>0?b.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:O.map(P=>b.jsx(Uue,{loan:P,repayments:e.filter(I=>I.loan_id===P.id),accounts:n,creditCards:r,onEdit:M,onDelete:s,onRegisterRepayment:D,isPrivacyModeEnabled:d},P.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:'Nenhum empréstimo registrado. Clique em "Novo Empréstimo" para começar.'}),c&&b.jsx(Fue,{isOpen:c,onClose:()=>h(!1),onSave:E,accounts:n,creditCards:r,existingLoan:m}),_&&A&&b.jsx(Vue,{isOpen:_,onClose:()=>w(!1),onSave:u,loan:A,accounts:n})]})},jS=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3.697-3.697c-.022-.021-.041-.044-.06-.067H6.75c-1.136 0-2.097-.847-2.193-1.98a18.75 18.75 0 0 1-.072-1.02c0-.884.284-1.5 2.097-1.5H13.5c.884 0 1.5-.284 2.097-1.5 1.136 0 2.1.847 2.193 1.98.027.34.052.68.072 1.02z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h-.008v.008H3.75V12zm0-3.75h.008v.008H3.75V8.25zm0 7.5h.008v.008H3.75v-.008zM4.5 6H15a2.25 2.25 0 0 1 2.25 2.25v1.5A2.25 2.25 0 0 1 15 12H4.5A2.25 2.25 0 0 1 2.25 9.75v-1.5A2.25 2.25 0 0 1 4.5 6z"})]}),Gue=({aiConfig:t,setAiConfig:e,insights:n,onFetchGeneralAdvice:r,onUpdateInsight:a,isPrivacyModeEnabled:i,onFetchRecurringPaymentCandidates:s,onFetchSavingOpportunities:u,onFetchCashFlowProjection:d})=>{var Y;const[c,h]=j.useState(((Y=t.monthlyIncome)==null?void 0:Y.toString())||""),[m,y]=j.useState(!1),[_,w]=j.useState(""),[A,T]=j.useState(""),[k,M]=j.useState(xe.EXPENSE),[E,D]=j.useState(vt(new Date(Date.now()+7*24*60*60*1e3))),[C,O]=j.useState(!1),P=()=>{e({isEnabled:!t.isEnabled})},I=()=>{const B=parseFloat(c);!isNaN(B)&&B>0?(e({monthlyIncome:B}),y(!1)):c===""?(e({monthlyIncome:null}),y(!1)):alert("Por favor, insira um valor de renda válido ou deixe em branco.")};J.useEffect(()=>{var B;h(((B=t.monthlyIncome)==null?void 0:B.toString())||"")},[t.monthlyIncome]);const q=[...n].sort((B,$)=>new Date($.timestamp).getTime()-new Date(B.timestamp).getTime()),z=B=>b.jsx("p",{className:"text-textBase dark:text-textBaseDark whitespace-pre-wrap",children:B.content}),L=B=>{switch(B){case"budget_recommendation":case"saving_opportunity_suggestion":return{icon:b.jsx(qo,{className:"w-5 h-5 mr-2 text-yellow-500 dark:text-yellow-400 flex-shrink-0"}),borderColorClass:"border-yellow-500 dark:border-yellow-400",bgColorClass:"bg-yellow-400/10 dark:bg-yellow-400/15"};case"recurring_payment_candidate":return{icon:b.jsx(gd,{className:"w-5 h-5 mr-2 text-teal-500 dark:text-teal-400 flex-shrink-0"}),borderColorClass:"border-teal-500 dark:border-teal-400",bgColorClass:"bg-teal-500/10 dark:bg-teal-400/15"};case"cash_flow_projection":return{icon:b.jsx(yS,{className:"w-5 h-5 mr-2 text-indigo-500 dark:text-indigo-400 flex-shrink-0"}),borderColorClass:"border-indigo-500 dark:border-indigo-400",bgColorClass:"bg-indigo-500/10 dark:bg-indigo-400/15"};case"spending_anomaly_category":case"budget_overspend_projection":case"unusual_transaction_value":case"budget_warning":return{icon:b.jsx(_h,{className:"w-5 h-5 mr-2 text-amber-600 dark:text-amber-500 flex-shrink-0"}),borderColorClass:"border-amber-600 dark:border-amber-500",bgColorClass:"bg-amber-600/10 dark:bg-amber-500/15"};case"error_message":return{icon:b.jsx(_h,{className:"w-5 h-5 mr-2 text-destructive dark:text-destructiveDark flex-shrink-0"}),borderColorClass:"border-destructive dark:border-destructiveDark",bgColorClass:"bg-destructive/10 dark:bg-destructiveDark/15"};default:return{icon:b.jsx(jS,{className:"w-5 h-5 mr-2 text-primary dark:text-primaryDark flex-shrink-0"}),borderColorClass:"border-primary dark:border-primaryDark",bgColorClass:"bg-primary/5 dark:bg-primaryDark/10"}}},H=B=>{B.is_read||a({...B,is_read:!0})},Q=()=>{let B;C&&A&&parseFloat(A)>0&&E&&(B={description:_.trim()||(k===xe.EXPENSE?"Despesa Simulada":"Receita Simulada"),amount:parseFloat(A),type:k,date:E}),d(30,B)};return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(jS,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"AI Coach Financeiro"})]}),t.apiKeyStatus!=="unavailable"&&b.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[b.jsx("span",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:t.isEnabled?"Coach Ativado":"Coach Desativado"}),b.jsxs("div",{className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${t.isEnabled?"bg-primary dark:bg-primaryDark":"bg-neutral/30 dark:bg-neutralDark/40"}`,children:[b.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${t.isEnabled?"translate-x-6":"translate-x-1"}`}),b.jsx("input",{type:"checkbox",className:"absolute opacity-0 w-0 h-0",checked:t.isEnabled,onChange:P})]})]})]}),t.apiKeyStatus==="unavailable"&&b.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[b.jsx("strong",{className:"font-bold",children:"API Key Indisponível! "}),b.jsx("span",{className:"block sm:inline",children:"A funcionalidade do AI Coach está desativada. A chave da API Gemini (process.env.GEMINI_API_KEY) não foi configurada no ambiente. Sem ela, o AI Coach não pode operar."})]}),t.apiKeyStatus==="error"&&b.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[b.jsx("strong",{className:"font-bold",children:"Erro na API! "}),b.jsx("span",{className:"block sm:inline",children:"Ocorreu um erro ao tentar inicializar ou usar a API Gemini. Verifique o console para mais detalhes."})]}),t.apiKeyStatus==="available"&&b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Renda Mensal (para Sugestões)"}),t.monthlyIncome&&!m?b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Sua renda mensal salva:",b.jsx("span",{className:"font-bold text-lg text-primary dark:text-primaryDark ml-2",children:ye(t.monthlyIncome,"BRL","pt-BR",i)})]}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>y(!0),children:"Editar Renda"})]}):b.jsxs("div",{className:"space-y-3",children:[b.jsx(je,{label:"Informe sua renda mensal estimada",id:"monthlyIncome",type:"number",placeholder:i?ye(0,"BRL","pt-BR",!0).replace("0,00","Ex: 3500.00"):"Ex: 3500.00",value:c,onChange:B=>h(B.target.value),containerClassName:"max-w-xs"}),b.jsxs("div",{className:"flex space-x-2",children:[b.jsx(be,{variant:"primary",size:"sm",onClick:I,children:"Salvar Renda"}),t.monthlyIncome&&b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>y(!1),children:"Cancelar"})]}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Esta informação ajuda o AI Coach a fornecer sugestões de orçamento mais personalizadas."})]})]}),t.isEnabled&&t.apiKeyStatus==="available"&&b.jsx(b.Fragment,{children:b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Conselhos e Análises"}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.jsxs(be,{onClick:r,variant:"ghost",size:"sm",children:[b.jsx(qo,{className:"w-4 h-4 mr-1.5"})," Novo Conselho"]}),b.jsxs(be,{onClick:s,variant:"ghost",size:"sm",children:[b.jsx(gd,{className:"w-4 h-4 mr-1.5"})," Analisar Recorrências"]}),b.jsxs(be,{onClick:u,variant:"ghost",size:"sm",children:[b.jsx(Ww,{className:"w-4 h-4 mr-1.5"})," Oportunidades de Economia"]})]})]}),b.jsxs("div",{className:"mt-6 pt-4 border-t border-borderBase dark:border-borderBaseDark",children:[b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mb-2",children:"Previsão de Fluxo de Caixa"}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>O(!C),className:"mb-3 text-sm",children:C?"Esconder Simulação":"Adicionar Simulação à Previsão"}),C&&b.jsxs("div",{className:"space-y-3 p-3 mb-4 border border-dashed border-neutral/50 dark:border-neutralDark/50 rounded-md",children:[b.jsx("h4",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Simular Transação Futura (Opcional)"}),b.jsx(je,{label:"Descrição (Opcional)",value:_,onChange:B=>w(B.target.value),placeholder:"Ex: Bônus Inesperado, Compra de Presente"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[b.jsx(je,{label:"Valor Simulado",type:"number",value:A,onChange:B=>T(B.target.value),placeholder:"Ex: 500"}),b.jsx(Tt,{label:"Tipo",options:km.filter(B=>B.value!==xe.TRANSFER),value:k,onChange:B=>M(B.target.value)}),b.jsx(je,{label:"Data Simulado",type:"date",value:E,onChange:B=>D(B.target.value)})]})]}),b.jsxs(be,{onClick:Q,variant:"secondary",size:"sm",className:"w-full sm:w-auto",children:[b.jsx(yS,{className:"w-4 h-4 mr-1.5"}),"Gerar Previsão de Caixa (30d) ",C&&A?"com Simulação":""]})]}),q.length===0?b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8 mt-4",children:"Nenhum conselho ou comentário do AI Coach ainda. Interaja com o app ou peça uma nova análise!"}):b.jsx("ul",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 mt-4",children:q.map(B=>{const $=L(B.type);return b.jsx("li",{className:`p-4 rounded-lg shadow-sm border-l-4
                                    ${$.borderColorClass} ${$.bgColorClass}
                                    ${B.isLoading?"opacity-60 animate-pulse":""}
                                    ${!B.is_read&&!B.isLoading?"cursor-pointer hover:shadow-md":""}`,onClick:()=>H(B),onKeyDown:V=>{(V.key==="Enter"||V.key===" ")&&H(B)},tabIndex:!B.is_read&&!B.isLoading?0:void 0,role:!B.is_read&&!B.isLoading?"button":void 0,"aria-label":!B.is_read&&!B.isLoading?"Marcar como lido":void 0,children:b.jsxs("div",{className:"flex items-start",children:[$.icon,b.jsxs("div",{className:"flex-1",children:[z(B),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1.5",children:[Xn(B.timestamp,"pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),B.related_transaction_id&&b.jsx("span",{className:"ml-2",children:" (Ref. Transação)"}),B.related_category_id&&B.type==="budget_recommendation"&&b.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),B.related_category_id&&(B.type==="spending_anomaly_category"||B.type==="budget_overspend_projection"||B.type==="unusual_transaction_value")&&b.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),!B.is_read&&!B.isLoading&&b.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Novo"})]})]})]})},B.id)})})]})}),!t.isEnabled&&t.apiKeyStatus==="available"&&b.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-700/20 border border-yellow-400 dark:border-yellow-600 text-yellow-700 dark:text-yellow-300 px-4 py-3 rounded-lg",role:"alert",children:b.jsx("p",{children:"O AI Coach está atualmente desativado. Ative-o acima para receber dicas e comentários personalizados."})})]})},Hue=({className:t="w-5 h-5",style:e})=>b.jsxs("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),b.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),b.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),b.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),b.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),Em=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),Kue=({onLoginWithGoogle:t,isLoading:e})=>b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background dark:bg-backgroundDark p-4 text-textBase dark:text-textBaseDark",children:[b.jsxs("div",{className:"w-full max-w-sm bg-surface dark:bg-surfaceDark shadow-2xl rounded-xl p-8 space-y-8 text-center",children:[b.jsx(Em,{className:"w-20 h-20 text-primary dark:text-primaryDark mx-auto mb-4"}),b.jsxs("h1",{className:"text-3xl font-bold text-textBase dark:text-textBaseDark",children:["Bem-vindo ao ",Pc]}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Faça login com sua conta Google para acessar suas finanças."}),b.jsxs(be,{variant:"primary",size:"lg",className:"w-full !py-3 flex items-center justify-center !bg-white !text-neutral-700 hover:!bg-gray-100 border border-gray-300 dark:!bg-slate-700 dark:!text-slate-200 dark:hover:!bg-slate-600 dark:border-slate-500",onClick:t,disabled:e,children:[b.jsx(Hue,{className:"w-5 h-5 mr-3"}),e?"Conectando...":"Entrar com Google"]}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark pt-4",children:"Ao continuar, você concorda com nossos Termos de Serviço e Política de Privacidade (simulados)."})]}),b.jsx("footer",{className:"mt-8 text-center text-xs text-textMuted dark:text-textMutedDark",children:b.jsxs("p",{children:["© ",new Date().getFullYear()," ",Pc,". Todos os direitos reservados."]})})]}),$S=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6V5.25m0 0A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25v.75m0 0a2.25 2.25 0 0 1-2.25 2.25h-13.5A2.25 2.25 0 0 1 3 6m18 0v12.75A2.25 2.25 0 0 1 18.75 21H5.25A2.25 2.25 0 0 1 3 18.75V6.75m15-3h-15"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 12H18m-2.25 3H18m-2.25-3a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM12 6.75h.008v.008H12V6.75Z"})]}),Yue=[{value:"credit_card_balance",label:"Saldo de Cartão de Crédito"},{value:"personal_loan",label:"Empréstimo Pessoal"},{value:"student_loan",label:"Empréstimo Estudantil"},{value:"mortgage",label:"Hipoteca / Financiamento Imob."},{value:"car_loan",label:"Financiamento de Veículo"},{value:"other",label:"Outra Dívida"}],Wue=({isOpen:t,onClose:e,onSave:n,existingDebt:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState("other"),[d,c]=j.useState(""),[h,m]=j.useState(""),[y,_]=j.useState(""),[w,A]=j.useState(""),[T,k]=j.useState({});j.useEffect(()=>{var D;t&&(r?(i(r.name),u(r.type),c(r.initial_balance.toString()),m(r.interest_rate_annual.toString()),_(r.minimum_payment.toString()),A(((D=r.due_date_day_of_month)==null?void 0:D.toString())||"")):(i(""),u("other"),c(""),m(""),_(""),A("")),k({}))},[r,t]);const M=()=>{const D={};a.trim()||(D.name="Nome da dívida é obrigatório.");const C=parseFloat(d);(isNaN(C)||C<=0)&&(D.initialBalance="Saldo inicial deve ser positivo.");const O=parseFloat(h);(isNaN(O)||O<0)&&(D.interestRateAnnual="Taxa de juros deve ser um número não negativo.");const P=parseFloat(y);if((isNaN(P)||P<=0)&&(D.minimumPayment="Pagamento mínimo deve ser positivo."),w){const I=parseInt(w,10);(isNaN(I)||I<1||I>31)&&(D.dueDateDayOfMonth="Dia de vencimento deve ser entre 1 e 31.")}return k(D),Object.keys(D).length===0},E=()=>{if(!M())return;const D={name:a.trim(),type:s,initial_balance:parseFloat(d),interest_rate_annual:parseFloat(h),minimum_payment:parseFloat(y),due_date_day_of_month:w?parseInt(w,10):void 0},C=r?{...D,id:r.id}:{...D,id:We()};n(C),e()};return b.jsx(An,{isOpen:t,onClose:e,title:r?"Editar Dívida":"Nova Dívida",size:"lg",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(je,{label:"Nome da Dívida",id:"debtName",value:a,onChange:D=>i(D.target.value),error:T.name,placeholder:"Ex: Cartão XP Fatura, Financiamento Carro",required:!0}),b.jsx(Tt,{label:"Tipo de Dívida",id:"debtType",options:Yue,value:s,onChange:D=>u(D.target.value),required:!0}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx(je,{label:"Saldo Devedor Inicial (R$)",id:"initialBalance",type:"number",step:"0.01",value:d,onChange:D=>c(D.target.value),error:T.initialBalance,required:!0}),b.jsx(je,{label:"Taxa de Juros Anual (%)",id:"interestRateAnnual",type:"number",step:"0.01",value:h,onChange:D=>m(D.target.value),error:T.interestRateAnnual,placeholder:"Ex: 19.9 para 19.9%",required:!0})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx(je,{label:"Pagamento Mínimo Mensal (R$)",id:"minimumPayment",type:"number",step:"0.01",value:y,onChange:D=>_(D.target.value),error:T.minimumPayment,required:!0}),b.jsx(je,{label:"Dia de Vencimento (Opcional)",id:"dueDateDayOfMonth",type:"number",min:"1",max:"31",value:w,onChange:D=>A(D.target.value),error:T.dueDateDayOfMonth,placeholder:"Ex: 15"})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"button",variant:"primary",onClick:E,children:r?"Salvar Alterações":"Adicionar Dívida"})]})]})})},Xue=({isOpen:t,onClose:e,onSave:n,debt:r,accounts:a})=>{const[i,s]=j.useState(""),[u,d]=j.useState(vt()),[c,h]=j.useState(""),[m,y]=j.useState(!1),[_,w]=j.useState(""),[A,T]=j.useState({});j.useEffect(()=>{t&&(s(""),d(vt()),h(""),y(!1),w(a.length>0?a[0].id:""),T({}))},[t,a]);const k=()=>{const E={},D=parseFloat(i);return isNaN(D)||D<=0?E.amountPaid="Valor pago deve ser positivo.":D>r.current_balance,u||(E.paymentDate="Data do pagamento é obrigatória."),m&&!_&&(E.linkedAccountId="Conta de origem da despesa é obrigatória."),T(E),Object.keys(E).length===0},M=()=>{if(!k())return;const E={debt_id:r.id,payment_date:u,amount_paid:parseFloat(i),notes:c.trim()||void 0};n(E,m,_),e()};return b.jsx(An,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.name}`,children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Saldo Devedor Atual: ",b.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:r.current_balance})]}),b.jsx(je,{label:"Valor Pago (R$)",id:"paymentAmount",type:"number",step:"0.01",value:i,onChange:E=>s(E.target.value),error:A.amountPaid,required:!0}),b.jsx(je,{label:"Data do Pagamento",id:"paymentDate",type:"date",value:u,onChange:E=>d(E.target.value),error:A.paymentDate,required:!0}),b.jsx(Od,{label:"Notas (Opcional)",id:"paymentNotes",value:c,onChange:E=>h(E.target.value),rows:2}),a.length>0&&b.jsxs("div",{className:"pt-2",children:[b.jsxs("label",{className:"flex items-center space-x-2",children:[b.jsx("input",{type:"checkbox",checked:m,onChange:E=>y(E.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark"}),b.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Registrar como despesa em uma conta?"})]}),m&&b.jsx(Tt,{containerClassName:"mt-2",label:"Conta de Origem da Despesa",id:"linkedExpenseAccount",options:a.map(E=>({value:E.id,label:E.name})),value:_,onChange:E=>w(E.target.value),error:A.linkedAccountId,placeholder:"Selecione uma conta"})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"button",variant:"primary",onClick:M,children:"Salvar Pagamento"})]})]})})},Zue=(t,e,n)=>{let r=JSON.parse(JSON.stringify(t)).filter(c=>c.current_balance>0&&!c.is_archived).map(c=>({...c,workingBalance:c.current_balance,interestPaidThisDebt:0,monthsToPayoffThisDebt:0,monthlyPaymentsLog:[]})),a=0,i=0;const s=720,u=[];for(;r.some(c=>c.workingBalance>0)&&a<s;){a++;let c=e;for(const m of r){if(m.workingBalance<=0)continue;const y=m.interest_rate_annual/100/12,_=m.workingBalance*y;m.workingBalance+=_,m.interestPaidThisDebt+=_,i+=_}for(const m of r){if(m.workingBalance<=0)continue;const y=Math.min(m.workingBalance,m.minimum_payment),_=Math.min(m.workingBalance*(m.interest_rate_annual/100/12),y),w=y-_;m.workingBalance-=y,m.monthlyPaymentsLog.push({month:a,payment:y,interest:_,principal:w,remainingBalance:m.workingBalance}),m.workingBalance<=0&&(c+=m.minimum_payment)}let h=r.filter(m=>m.workingBalance>0);if(c>0&&h.length>0){n==="snowball"?h.sort((m,y)=>m.workingBalance-y.workingBalance):n==="avalanche"?h.sort((m,y)=>y.interest_rate_annual-m.interest_rate_annual):n==="minimums"&&h.length>0&&h.sort((m,y)=>m.workingBalance-y.workingBalance);for(const m of h){if(c<=0)break;if(m.workingBalance<=0)continue;const y=Math.min(m.workingBalance,c);m.workingBalance-=y,c-=y;const _=m.monthlyPaymentsLog.findIndex(w=>w.month===a);_>-1?(m.monthlyPaymentsLog[_].payment+=y,m.monthlyPaymentsLog[_].principal+=y,m.monthlyPaymentsLog[_].remainingBalance=m.workingBalance):m.monthlyPaymentsLog.push({month:a,payment:y,interest:0,principal:y,remainingBalance:m.workingBalance}),m.workingBalance<=0&&(c+=m.minimum_payment)}}r.forEach(m=>{m.workingBalance<=0&&!u.find(y=>y.debtId===m.id)&&(m.monthsToPayoffThisDebt=a,u.push({debtId:m.id,monthsToPayoffThisDebt:m.monthsToPayoffThisDebt,interestPaidThisDebt:m.interestPaidThisDebt,principalPaidThisDebt:m.initial_balance,monthlyPayments:m.monthlyPaymentsLog}))}),r=r.filter(m=>m.workingBalance>0)}t.filter(c=>c.current_balance>0&&!c.is_archived).forEach(c=>{if(!u.find(h=>h.debtId===c.id)){const h=r.find(m=>m.id===c.id)||t.find(m=>m.id===c.id);u.push({debtId:c.id,monthsToPayoffThisDebt:(h==null?void 0:h.workingBalance)>0&&a>=s?s:(h==null?void 0:h.monthsToPayoffThisDebt)||a,interestPaidThisDebt:(h==null?void 0:h.interestPaidThisDebt)||0,principalPaidThisDebt:c.initial_balance-((h==null?void 0:h.workingBalance)>0?h.workingBalance:0),monthlyPayments:(h==null?void 0:h.monthlyPaymentsLog)||[]})}});const d=u.reduce((c,h)=>c+h.principalPaidThisDebt,0);return{strategy:n,monthsToPayoff:a>=s&&t.filter(c=>!c.is_archived).some(c=>{const h=u.find(m=>m.debtId===c.id);return h?c.initial_balance-h.principalPaidThisDebt>.01:c.current_balance>.01})?-1:a,totalInterestPaid:i,totalPrincipalPaid:d,totalPaid:i+d,payoffDetails:u.sort((c,h)=>{var m,y;if(c.monthsToPayoffThisDebt===h.monthsToPayoffThisDebt){const _=((m=t.find(A=>A.id===c.debtId))==null?void 0:m.initial_balance)||0,w=((y=t.find(A=>A.id===h.debtId))==null?void 0:y.initial_balance)||0;return _-w}return c.monthsToPayoffThisDebt-h.monthsToPayoffThisDebt})}},Jue=({debt:t,onRegisterPayment:e,onEdit:n,onDelete:r,hasPayments:a,isPrivacyModeEnabled:i})=>{const s=t.initial_balance>0?Math.max(0,Math.min((t.initial_balance-t.current_balance)/t.initial_balance*100,100)):0;return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:t.type==="credit_card_balance"?"Saldo de Cartão":t.type==="personal_loan"?"Empréstimo Pessoal":"Outra Dívida"})]}),b.jsxs("div",{className:"flex space-x-1",children:[b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Dívida",className:"!p-1.5",children:b.jsx(ea,{className:"w-4 h-4"})}),b.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Dívida",className:"!p-1.5",disabled:a,title:a?"Exclua os pagamentos desta dívida primeiro":"Excluir Dívida",children:b.jsx(Qr,{className:`w-4 h-4 ${a?"text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),b.jsxs("div",{children:[b.jsxs("p",{className:"text-xl font-bold text-destructive dark:text-destructiveDark",children:["Saldo Devedor: ",ye(t.current_balance,"BRL","pt-BR",i)]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Taxa de Juros: ",t.interest_rate_annual,"% a.a. | Mínimo: ",ye(t.minimum_payment,"BRL","pt-BR",i)]}),t.due_date_day_of_month&&b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Vencimento usual: Dia ",t.due_date_day_of_month]})]}),t.initial_balance>0&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[b.jsx("span",{children:"Progresso"}),b.jsxs("span",{children:[s.toFixed(0),"%"]})]}),b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:b.jsx("div",{className:"h-2 rounded-full bg-secondary dark:bg-secondaryDark",style:{width:`${s}%`}})})]}),t.current_balance>0&&b.jsxs(be,{variant:"secondary",size:"sm",onClick:()=>e(t),children:[b.jsx(Un,{className:"w-4 h-4 mr-1"})," Registrar Pagamento"]}),t.current_balance<=0&&b.jsx("p",{className:"text-sm font-semibold text-secondary dark:text-secondaryDark",children:"Dívida Quitada!"})]})},Que=({debts:t,debtPayments:e,accounts:n,onAddDebt:r,onUpdateDebt:a,onDeleteDebt:i,onAddDebtPayment:s,onFetchDebtStrategyExplanation:u,onFetchDebtProjectionSummary:d,isPrivacyModeEnabled:c})=>{var _e;const[h,m]=j.useState(!1),[y,_]=j.useState(null),[w,A]=j.useState(!1),[T,k]=j.useState(null),[M,E]=j.useState("0"),[D,C]=j.useState("snowball"),[O,P]=j.useState(null),[I,q]=j.useState(!1),[z,L]=j.useState(!1),[H,Q]=j.useState(!1),Y=()=>{_(null),m(!0)},B=ge=>{_(ge),m(!0)},$=ge=>{k(ge),A(!0)},V=j.useMemo(()=>t.filter(ge=>!ge.is_archived).reduce((ge,Ce)=>ge+Ce.current_balance,0),[t]),Z=j.useMemo(()=>t.filter(ge=>!ge.is_archived&&ge.current_balance>0).reduce((ge,Ce)=>ge+Ce.minimum_payment,0),[t]),se=ge=>e.some(Ce=>Ce.debt_id===ge),U=()=>{q(!0),P(null);const ge=t.filter(nt=>!nt.is_archived&&nt.current_balance>0);if(ge.length===0){alert("Nenhuma dívida ativa para calcular o plano."),q(!1);return}const Ce=Zue(ge,parseFloat(M)||0,D);P(Ce),q(!1)},G=async ge=>{L(!0),await u(ge)},re=async()=>{O&&(Q(!0),await d(O,t.filter(ge=>!ge.is_archived&&ge.current_balance>0),D))},ce=[{value:"minimums",label:"Apenas Pagamentos Mínimos"},{value:"snowball",label:"Bola de Neve (Menor Saldo Primeiro)"},{value:"avalanche",label:"Avalanche (Maior Juros Primeiro)"}];return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx($S,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Planejador de Dívidas"})]}),b.jsxs(be,{onClick:Y,variant:"primary",children:[b.jsx(Un,{className:"w-5 h-5 mr-2"}),"Adicionar Dívida"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"TOTAL DE DÍVIDAS ATUAIS"}),b.jsx("p",{className:"text-3xl font-bold text-destructive dark:text-destructiveDark",children:ye(V,"BRL","pt-BR",c)})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SOMA DOS PAGAMENTOS MÍNIMOS"}),b.jsxs("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-500",children:[ye(Z,"BRL","pt-BR",c)," / mês"]})]})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30 space-y-4",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Estratégia de Quitação"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[b.jsx(je,{label:"Pagamento Extra Mensal (R$)",id:"extraPayment",type:"number",step:"0.01",min:"0",value:M,onChange:ge=>E(ge.target.value),placeholder:"Ex: 100.00"}),b.jsx(Tt,{label:"Escolha a Estratégia",id:"debtStrategy",options:ce,value:D,onChange:ge=>C(ge.target.value)})]}),b.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[b.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>G("snowball"),className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline",children:[b.jsx(qo,{className:"w-3.5 h-3.5 mr-1"})," Entenda: Bola de Neve"]}),b.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>G("avalanche"),className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline",children:[b.jsx(qo,{className:"w-3.5 h-3.5 mr-1"})," Entenda: Avalanche"]})]}),b.jsx(be,{onClick:U,variant:"primary",disabled:I,className:"w-full sm:w-auto",children:I?"Calculando...":"Calcular Plano de Quitação"}),O&&b.jsxs("div",{className:"mt-4 pt-4 border-t border-borderBase dark:border-borderBaseDark space-y-3",children:[b.jsxs("h3",{className:"text-lg font-semibold",children:["Resultado da Projeção (",(_e=ce.find(ge=>ge.value===D))==null?void 0:_e.label,"):"]}),b.jsxs("p",{children:["Tempo para quitar todas as dívidas: ",b.jsxs("span",{className:"font-bold",children:[(O.monthsToPayoff/12).toFixed(1)," anos"]})," (",O.monthsToPayoff," meses)"]}),b.jsxs("p",{children:["Total de Juros Pagos: ",b.jsx("span",{className:"font-bold",children:ye(O.totalInterestPaid,"BRL","pt-BR",c)})]}),b.jsxs("p",{children:["Total Principal Pago: ",b.jsx("span",{className:"font-bold",children:ye(O.totalPrincipalPaid,"BRL","pt-BR",c)})]}),b.jsx("h4",{className:"text-md font-semibold mt-2",children:"Ordem de Quitação:"}),b.jsx("ul",{className:"list-decimal list-inside text-sm space-y-1",children:O.payoffDetails.map(ge=>{const Ce=t.find(nt=>nt.id===ge.debtId);return b.jsxs("li",{children:[b.jsx("strong",{children:(Ce==null?void 0:Ce.name)||"Dívida Desconhecida"}),": Quitada em ",ge.monthsToPayoffThisDebt," meses. Juros pagos nesta dívida: ",ye(ge.interestPaidThisDebt,"BRL","pt-BR",c),"."]},ge.debtId)})}),b.jsxs(be,{variant:"ghost",size:"sm",onClick:re,className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline mt-2",children:[b.jsx(qo,{className:"w-3.5 h-3.5 mr-1"})," Obter Resumo da IA sobre este plano"]})]})]}),t.filter(ge=>!ge.is_archived).length>0?b.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.filter(ge=>!ge.is_archived).sort((ge,Ce)=>ge.name.localeCompare(Ce.name)).map(ge=>b.jsx(Jue,{debt:ge,onRegisterPayment:$,onEdit:B,onDelete:i,hasPayments:se(ge.id),isPrivacyModeEnabled:c},ge.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma dívida cadastrada. Adicione suas dívidas para começar a planejar!"}),h&&b.jsx(Wue,{isOpen:h,onClose:()=>m(!1),onSave:y?ge=>a({...ge,id:y.id}):r,existingDebt:y}),w&&T&&b.jsx(Xue,{isOpen:w,onClose:()=>A(!1),onSave:s,debt:T,accounts:n}),b.jsx(An,{isOpen:z,onClose:()=>L(!1),title:"Explicação da Estratégia (IA)",children:b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Buscando explicação da IA... Verifique o AI Coach para a resposta completa."})}),b.jsx(An,{isOpen:H,onClose:()=>Q(!1),title:"Resumo do Plano (IA)",children:b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Buscando resumo da IA... Verifique o AI Coach para a resposta completa."})})]})},NR=({profiles:t,onSelectProfile:e,onCreateProfile:n})=>{const[r,a]=j.useState(""),[i,s]=j.useState(""),u=()=>{if(!r.trim()){s("O nome do perfil não pode ser vazio.");return}if(t.some(d=>d.name.toLowerCase()===r.trim().toLowerCase())){s("Já existe um perfil com este nome.");return}s(""),n(r.trim()),a("")};return b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background dark:bg-backgroundDark p-4 text-textBase dark:text-textBaseDark",children:[b.jsxs("div",{className:"w-full max-w-md bg-surface dark:bg-surfaceDark shadow-2xl rounded-xl p-8 space-y-8",children:[b.jsxs("div",{className:"text-center",children:[b.jsx(Em,{className:"w-16 h-16 text-primary dark:text-primaryDark mx-auto mb-4"}),b.jsxs("h1",{className:"text-3xl font-bold text-textBase dark:text-textBaseDark",children:["Bem-vindo ao ",Pc]}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark mt-2",children:"Selecione um perfil ou crie um novo para começar."})]}),t.length>0&&b.jsxs("div",{className:"space-y-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark border-b border-borderBase dark:border-borderBaseDark pb-2",children:"Selecionar Perfil Existente"}),b.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.map(d=>b.jsx("li",{children:b.jsxs(be,{variant:"ghost",className:"w-full !justify-start text-left !py-3 !px-4 hover:!bg-primary/10 dark:hover:!bg-primaryDark/10",onClick:()=>e(d.id),children:[b.jsx(Em,{className:"w-5 h-5 mr-3 flex-shrink-0"}),d.name]})},d.id))})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark border-b border-borderBase dark:border-borderBaseDark pb-2",children:t.length>0?"Ou Crie um Novo Perfil":"Crie seu Primeiro Perfil"}),b.jsx(je,{id:"newProfileName",label:"Nome do Novo Perfil",value:r,onChange:d=>a(d.target.value),placeholder:"Ex: Finanças Pessoais, Meu Negócio",error:i}),b.jsx(be,{variant:"primary",onClick:u,className:"w-full !py-3",children:"Criar e Usar Perfil"})]})]}),b.jsx("footer",{className:"mt-8 text-center text-xs text-textMuted dark:text-textMutedDark",children:b.jsxs("p",{children:["© ",new Date().getFullYear()," ",Pc,". Todos os direitos reservados."]})})]})},ece=({onSubmit:t,onCancel:e,accounts:n,creditCards:r,categories:a,tags:i,initialTransaction:s,isPrivacyModeEnabled:u})=>{var V;const[d,c]=j.useState((s==null?void 0:s.type)||xe.EXPENSE),[h,m]=j.useState((s==null?void 0:s.amount.toString())||""),[y,_]=j.useState((s==null?void 0:s.category_id)||""),[w,A]=j.useState((s==null?void 0:s.description)||""),[T,k]=j.useState((s==null?void 0:s.date)||vt()),[M,E]=j.useState((s==null?void 0:s.account_id)||(n.length>0?n[0].id:"")),[D,C]=j.useState((s==null?void 0:s.to_account_id)||(n.length>1?n[1].id:"")),[O,P]=j.useState((s==null?void 0:s.tag_ids)||[]),[I,q]=j.useState({}),z=j.useMemo(()=>{const Z=n.map(U=>({value:U.id,label:`Conta: ${U.name}`,type:"account"})),se=r.map(U=>({value:U.id,label:`Cartão: ${U.name}`,type:"creditCard"}));return[...Z,...se]},[n,r]);j.useEffect(()=>{var Z,se,U,G;s?(c(s.type),m(s.amount.toString()),_(s.category_id||""),A(s.description||""),k(s.date),E(s.account_id),C(s.to_account_id||""),P(s.tag_ids||[])):(c(xe.EXPENSE),m(""),_(((Z=a.filter(re=>re.type===xe.EXPENSE)[0])==null?void 0:Z.id)||""),A(""),k(vt()),E(((se=z[0])==null?void 0:se.value)||""),C(((U=n[1])==null?void 0:U.id)||((G=n[0])==null?void 0:G.id)||""),P([]))},[s,n,a,z]),j.useEffect(()=>{var se;if(d!==xe.TRANSFER){const U=a.find(G=>G.id===y);if(!U||U.type!==d){const G=a.find(re=>re.type===d);_((G==null?void 0:G.id)||"")}}const Z=z.find(U=>U.value===M);(Z==null?void 0:Z.type)==="creditCard"&&(d===xe.INCOME||d===xe.TRANSFER)&&E(((se=n[0])==null?void 0:se.id)||"")},[d,y,a,M,n,z]);const L=()=>{const Z={};(!h||parseFloat(h)<=0)&&(Z.amount="Valor deve ser maior que zero.");const se=z.find(U=>U.value===M);return d!==xe.TRANSFER&&!y&&(se==null?void 0:se.type)!=="creditCard"&&(y||(Z.categoryId="Categoria é obrigatória.")),M||(Z.sourceId="Origem (Conta/Cartão) é obrigatória."),d===xe.TRANSFER&&!D&&(Z.toAccountId="Conta de destino é obrigatória."),d===xe.TRANSFER&&M===D&&(Z.toAccountId="Conta de origem e destino não podem ser iguais."),d===xe.TRANSFER&&(se==null?void 0:se.type)==="creditCard"&&(Z.sourceId="Transferências não podem originar de um cartão de crédito."),T||(Z.date="Data é obrigatória."),q(Z),Object.keys(Z).length===0},H=Z=>{if(Z.preventDefault(),!L())return;const se={...s?{id:s.id}:{},type:d,amount:parseFloat(h),category_id:d===xe.TRANSFER?void 0:y,description:w,date:T,account_id:M,to_account_id:d===xe.TRANSFER?D:void 0,tag_ids:O.length>0?O:void 0};t(se)},Q=Z=>{const se=Z.target.options,U=[];for(let G=0,re=se.length;G<re;G++)se[G].selected&&U.push(se[G].value);P(U)},Y=a.filter(Z=>Z.type===d),B=i.map(Z=>({value:Z.id,label:Z.name})),$=((V=z.find(Z=>Z.value===M))==null?void 0:V.type)==="creditCard";return b.jsxs("form",{onSubmit:H,className:"space-y-4",children:[b.jsx(Tt,{label:"Tipo",id:"type",options:km,value:d,onChange:Z=>c(Z.target.value)}),b.jsx(je,{label:"Valor",id:"amount",type:"number",step:"0.01",value:h,onChange:Z=>m(Z.target.value),error:I.amount,placeholder:u?ye(0,"BRL","pt-BR",!0).replace("0,00","Ex: 123.45"):"Ex: 123.45",required:!0}),d!==xe.TRANSFER&&b.jsx(Tt,{label:$&&d===xe.EXPENSE?"Categoria (Opcional para Débito Direto no Cartão)":"Categoria",id:"category",options:Y.map(Z=>({value:Z.id,label:Z.name})),value:y,onChange:Z=>_(Z.target.value),error:I.categoryId,placeholder:"Selecione uma categoria",disabled:Y.length===0}),b.jsx(je,{label:"Descrição (Opcional)",id:"description",type:"text",value:w,onChange:Z=>A(Z.target.value),placeholder:$&&d===xe.EXPENSE?"Ex: Academia, Assinatura Spotify (será usado na fatura)":"Ex: Compras no mercado"}),b.jsx(je,{label:"Data",id:"date",type:"date",value:T,onChange:Z=>k(Z.target.value),error:I.date,required:!0}),b.jsx(Tt,{label:d===xe.TRANSFER?"Debitar de (Conta)":"Debitar de (Conta / Cartão)",id:"sourceId",options:d===xe.TRANSFER?z.filter(Z=>Z.type==="account"):z,value:M,onChange:Z=>E(Z.target.value),error:I.sourceId,placeholder:"Selecione uma origem",disabled:z.length===0}),d===xe.TRANSFER&&b.jsx(Tt,{label:"Conta de Destino",id:"toAccountId",options:n.map(Z=>({value:Z.id,label:Z.name})),value:D,onChange:Z=>C(Z.target.value),error:I.toAccountId,placeholder:"Selecione uma conta de destino",disabled:n.length===0}),i.length>0&&b.jsx(Tt,{label:"Tags (Opcional, segure Ctrl/Cmd para selecionar várias)",id:"tags",multiple:!0,options:B,value:O,onChange:Q,containerClassName:"h-auto",className:"h-24"}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(be,{type:"submit",variant:"primary",children:s?"Salvar Alterações":"Adicionar Transação"})]})]})},tce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-6.364-.386 1.591-1.591M3 12h2.25m.386-6.364 1.591 1.591M12 12a2.25 2.25 0 0 0-2.25 2.25 2.25 2.25 0 0 0 2.25 2.25A2.25 2.25 0 0 0 14.25 12 2.25 2.25 0 0 0 12 12Z"})}),nce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),rce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25Z"})}),ace=({theme:t,setTheme:e})=>{const n=[{name:"light",label:"Claro",icon:b.jsx(tce,{className:"w-4 h-4"})},{name:"dark",label:"Escuro",icon:b.jsx(nce,{className:"w-4 h-4"})},{name:"system",label:"Sistema",icon:b.jsx(rce,{className:"w-4 h-4"})}];return b.jsxs("div",{className:"p-2",children:[b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark mb-1 px-1",children:"Tema"}),b.jsx("div",{className:"flex items-center justify-around bg-neutral/10 dark:bg-neutralDark/20 rounded-md p-1",children:n.map(r=>b.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>e(r.name),className:`flex-1 !px-2 !py-1 text-xs transition-all duration-200 ease-in-out
                        ${t===r.name?"!bg-primary/20 dark:!bg-primaryDark/30 !text-primary dark:!text-primaryDark":"hover:!bg-neutral/20 dark:hover:!bg-neutralDark/30 !text-textMuted dark:!text-textMutedDark"}`,title:`Mudar para tema ${r.label.toLowerCase()}`,"aria-pressed":t===r.name,children:[J.cloneElement(r.icon,{className:"w-4 h-4 sm:mr-1"}),b.jsx("span",{className:"hidden sm:inline",children:r.label})]},r.name))})]})},ice=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),oce=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93s.844.179 1.259.038l.821-.393c.55-.263 1.18.055 1.39.606l.548 1.004c.21.55-.056 1.18-.607 1.39l-.82.393c-.415.198-.688.598-.758 1.038s.038.844.179 1.259l.393.821c.263.55.055 1.18-.606 1.39l-1.004.548c-.55.21-1.18-.056-1.39-.607l-.393-.82c-.198-.415-.598-.688-1.038-.758s-.844-.038-1.259.179l-.821.393c-.55.263-1.18-.055-1.39-.606l-.548-1.004c-.21-.55.056-1.18.607-1.39l.82-.393c.415-.198.688.598-.758-1.038s-.038-.844-.179-1.259l-.393-.821c-.263-.55-.055-1.18.606-1.39l1.004-.548c.55-.21 1.18.056 1.39.607l.393.82c.198.415.598.688 1.038.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433l-.002-.003c-.043-.073-.086-.146-.129-.219l-.821-.393c-.415-.198-.688-.598-.758-1.038s.038-.844-.179-1.259l.393-.821A.991.991 0 0 0 12 3c-.55 0-1.02.398-1.11.94l-.149.894c-.07.424-.384.764-.78.93s-.844.179-1.259.038l-.821-.393a.991.991 0 0 0-1.433.287l-.003.002c-.073.043-.146.086-.219.129l-.393.821c-.198-.415-.598-.688-1.038.758s-.844-.038-1.259.179l-.821.393a.991.991 0 0 0-.287 1.433l.002.003c.043.073.086.146.129.219l.821.393c.415.198.688.598.758 1.038s-.038.844-.179-1.259l-.393.821a.991.991 0 0 0 1.433.287l.003-.002c.073-.043.146-.086.219-.129l.393-.821c.198-.415.598-.688 1.038-.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433L10.343 3.94Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})]}),sce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5L12 14.25L7.5 16.5V3.75m9 0H18A2.25 2.25 0 0 1 20.25 6v12A2.25 2.25 0 0 1 18 20.25H6A2.25 2.25 0 0 1 3.75 18V6A2.25 2.25 0 0 1 6 3.75h1.5m9 0h-9"})}),lce=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),uce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}),cce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"})}),dce=()=>{const{addToast:t}=nI(),[e,n]=j.useState(null),[r,a]=j.useState(null),[i,s]=j.useState(!0),[u,d]=j.useState(null),[c,h]=j.useState([]),[m,y]=j.useState(null),[_,w]=j.useState(!0),[A,T]=j.useState(!1),[k,M]=j.useState("system"),[E,D]=j.useState(!1),[C,O]=j.useState({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),[P,I]=j.useState([]),[q,z]=j.useState([]),[L,H]=j.useState([]),[Q,Y]=j.useState([]),[B,$]=j.useState([]),[V,Z]=j.useState([]),[se,U]=j.useState([]),[G,re]=j.useState([]),[ce,_e]=j.useState([]),[ge,Ce]=j.useState([]),[nt,Ye]=j.useState([]),[Te,Le]=j.useState([]),[Ge,me]=j.useState([]),[dt,Ze]=j.useState([]),[Vt,Nt]=j.useState([]),[At,Yt]=j.useState(!0),[qt,zt]=j.useState("DASHBOARD"),[Fn,un]=j.useState(!1),[na,sr]=j.useState(null),oi=j.useMemo(()=>{var F;return(m==null?void 0:m.name)||((F=r==null?void 0:r.user_metadata)==null?void 0:F.full_name)||(r==null?void 0:r.email)||"Usuário"},[r,m]),si=j.useCallback(async(F,W)=>{var X,ee;if(!W||!F){Yt(!1);return}Yt(!0);try{const{data:ie,error:de}=await Oe.from("user_preferences").select("*").eq("user_id",F).eq("profile_id",W).single();if(de&&de.code!=="PGRST116")throw de;if(ie)M(ie.theme),D(ie.is_privacy_mode_enabled),O({isEnabled:ie.ai_is_enabled,monthlyIncome:ie.ai_monthly_income,autoBackupToFileEnabled:ie.ai_auto_backup_enabled,apiKeyStatus:ba()?"available":"unavailable"});else{const kn={user_id:F,profile_id:W,theme:"system",is_privacy_mode_enabled:!1,ai_is_enabled:!1,ai_monthly_income:null,ai_auto_backup_enabled:!1},{error:Ur}=await Oe.from("user_preferences").insert(kn).select();if(Ur)throw Ur;M(kn.theme),D(kn.is_privacy_mode_enabled),O({isEnabled:kn.ai_is_enabled,monthlyIncome:kn.ai_monthly_income,autoBackupToFileEnabled:kn.ai_auto_backup_enabled,apiKeyStatus:ba()?"available":"unavailable"})}const Se=kn=>kn.eq("user_id",F).eq("profile_id",W),[ke,Be,Ee,pt,Jt,dn,ds,ao,fs,Ea,ur,io,Ca,Sr,oo]=await Promise.all([Se(Oe.from("transactions").select("*")).order("date",{ascending:!1}),Se(Oe.from("accounts").select("*")).order("name"),Se(Oe.from("categories").select("*")).order("name"),Se(Oe.from("credit_cards").select("*")).order("name"),Se(Oe.from("installment_purchases").select("*")).order("purchase_date",{ascending:!1}),Se(Oe.from("money_boxes").select("*")).order("name"),Se(Oe.from("money_box_transactions").select("*")).order("date",{ascending:!1}),Se(Oe.from("future_purchases").select("*")).order("created_at",{ascending:!1}),Se(Oe.from("tags").select("*")).order("name"),Se(Oe.from("recurring_transactions").select("*")).order("next_due_date"),Se(Oe.from("loans").select("*")).order("loan_date",{ascending:!1}),Se(Oe.from("loan_repayments").select("*")).order("repayment_date",{ascending:!1}),Se(Oe.from("ai_insights").select("*")).order("timestamp",{ascending:!1}),Se(Oe.from("debts").select("*")).order("created_at",{ascending:!1}),Se(Oe.from("debt_payments").select("*")).order("payment_date",{ascending:!1})]);if(ke.error)throw ke.error;if(I(ke.data),Be.error)throw Be.error;if(z(Be.data),Ee.error)throw Ee.error;if(H(Ee.data),pt.error)throw pt.error;if(Y(pt.data),Jt.error)throw Jt.error;if($(Jt.data),dn.error)throw dn.error;if(Z(dn.data),ds.error)throw ds.error;if(U(ds.data),ao.error)throw ao.error;if(re(ao.data),fs.error)throw fs.error;if(_e(fs.data),Ea.error)throw Ea.error;if(Ce(Ea.data),ur.error)throw ur.error;if(Ye(ur.data),io.error)throw io.error;if(Le(io.data),Ca.error)throw Ca.error;if(me(Ca.data),Sr.error)throw Sr.error;if(Ze(Sr.data),oo.error)throw oo.error;if(Nt(oo.data),((X=Be.data)==null?void 0:X.length)===0){const kn=wq(F).map(mi=>({...mi,user_id:F,profile_id:W})),{data:Ur,error:ia}=await Oe.from("accounts").insert(kn).select();if(ia)throw ia;Ur&&z(Ur)}if(((ee=Ee.data)==null?void 0:ee.length)===0){const kn=Sq(F).map(mi=>({...mi,user_id:F,profile_id:W})),{data:Ur,error:ia}=await Oe.from("categories").insert(kn).select();if(ia)throw ia;Ur&&H(Ur)}zt("DASHBOARD")}catch(ie){console.error("Error fetching user data:",ie),t(`Erro ao carregar dados do perfil: ${ie.message}`,"error")}finally{Yt(!1)}},[t]),cn=j.useCallback((F,W)=>{const X=W.find(ee=>ee.id===F);X&&r&&(y(X),localStorage.setItem(`lastActiveProfile_${r.id}`,F),si(r.id,F))},[r,si]),lr=j.useCallback(async F=>{w(!0);try{const{data:W,error:X}=await Oe.from("user_profiles").select("*").eq("user_id",F);if(X)throw X;const ee=W||[];if(h(ee),ee.length>0){const ie=localStorage.getItem(`lastActiveProfile_${F}`),de=ee.find(Se=>Se.id===ie);de?cn(de.id,ee):(y(null),Yt(!1))}else y(null),Yt(!1)}catch(W){console.error("Error fetching profiles in fetchUserProfiles:",W),t(`Erro ao carregar perfis: ${W.message}`,"error"),h([]),y(null),Yt(!1)}finally{w(!1),T(!0)}},[t,cn]);j.useEffect(()=>{s(!0),Oe.auth.getSession().then(({data:{session:W}})=>{n(W);const X=(W==null?void 0:W.user)??null;a(X),s(!1),X?lr(X.id):(T(!0),w(!1),Yt(!1))});const{data:{subscription:F}}=Oe.auth.onAuthStateChange((W,X)=>{n(X);const ee=(X==null?void 0:X.user)??null;a(ee),s(!1),y(null),h([]),I([]),z([]),H([]),Y([]),$([]),Z([]),U([]),re([]),_e([]),Ce([]),Ye([]),Le([]),me([]),Ze([]),Nt([]),M("system"),D(!1),O({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),T(!1),w(!0),Yt(!0),W==="SIGNED_OUT"?(zt("LOGIN"),t("Você foi desconectado.","info"),T(!0),w(!1),Yt(!1)):(W==="SIGNED_IN"||W==="TOKEN_REFRESHED"||W==="USER_UPDATED")&&ee?lr(ee.id):ee||(T(!0),w(!1),Yt(!1))});return()=>F.unsubscribe()},[t,lr]);const Rn=async F=>{if(r)try{const{data:W,error:X}=await Oe.from("user_profiles").insert({user_id:r.id,name:F}).select().single();if(X)throw X;if(W){const ee=W;h(ie=>[...ie,ee]),cn(ee.id,[...c,ee]),t(`Perfil "${F}" criado com sucesso!`,"success")}}catch(W){t(`Erro ao criar perfil: ${W.message}`,"error")}},ns=j.useCallback(async(F,W,X,ee)=>{if(!W||!F)return;const{error:ie}=await Oe.from("user_preferences").update({[X]:ee,updated_at:new Date().toISOString()}).eq("user_id",F).eq("profile_id",W);ie&&(console.error(`Error updating user preference ${X}:`,ie),t(`Erro ao salvar preferência (${X}): ${ie.message}`,"error"))},[t]),xp=j.useCallback(F=>{M(F),r&&m&&ns(r.id,m.id,"theme",F)},[r,m,ns]),_p=j.useCallback(()=>{const F=!E;D(F),r&&m&&ns(r.id,m.id,"is_privacy_mode_enabled",F)},[E,r,m,ns]),rs=j.useCallback(F=>{if(!r||!m)return;const W={};F.isEnabled!==void 0&&(W.ai_is_enabled=F.isEnabled),F.monthlyIncome!==void 0&&(W.ai_monthly_income=F.monthlyIncome),F.autoBackupToFileEnabled!==void 0&&(W.ai_auto_backup_enabled=F.autoBackupToFileEnabled),O(X=>({...X,...F})),Object.keys(W).length>0&&Oe.from("user_preferences").update({...W,updated_at:new Date().toISOString()}).eq("user_id",r.id).eq("profile_id",m.id).then(({error:X})=>{X&&(console.error("Error updating AI config in preferences:",X),t(`Erro ao salvar configurações da IA: ${X.message}`,"error"))})},[r,m,t]);j.useEffect(()=>{const F=W=>{W==="dark"||W==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};if(F(k),k==="system"){const W=window.matchMedia("(prefers-color-scheme: dark)"),X=()=>F("system");return W.addEventListener("change",X),()=>W.removeEventListener("change",X)}},[k]);const as=async()=>{try{d(null);const{error:F}=await Oe.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/controle-financeiro/`}});if(F)throw F}catch(F){console.error("Error signing in with Google:",F),d(F.message||"Falha ao fazer login com Google."),t(F.message||"Falha ao fazer login com Google.","error")}},Sa=async()=>{try{const{error:F}=await Oe.auth.signOut();if(F)throw F}catch(F){console.error("Error signing out:",F),t(F.message||"Falha ao sair.","error")}},ra=j.useCallback(F=>{if(!r||!m)return 0;const W=q.find(X=>X.id===F);return W?P.reduce((X,ee)=>{if(ee.account_id===F){if(ee.type===xe.INCOME)return X+ee.amount;if(ee.type===xe.EXPENSE||ee.type===xe.TRANSFER)return X-ee.amount}else if(ee.to_account_id===F&&ee.type===xe.TRANSFER)return X+ee.amount;return X},W.initial_balance):0},[q,P,r,m]),Br=j.useCallback(F=>!r||!m?0:se.reduce((W,X)=>{if(X.money_box_id===F){if(X.type===xr.DEPOSIT)return W+X.amount;if(X.type===xr.WITHDRAWAL)return W-X.amount}return W},0),[se,r,m]),tn=j.useCallback(F=>{if(!r||!m)return null;const W=new Date,X=vt(W),ee=W.getDate(),ie=W.getFullYear(),de=W.getMonth(),Se=new Date(ie,de+1,0).getDate();let ke=[...P];if(F){const Ee={id:`simulated-${We()}`,user_id:r.id,profile_id:m.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),type:F.type,amount:F.amount,date:F.date,description:F.description,account_id:"simulated_account"};ke.push(Ee)}const Be=()=>k==="system"?typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":k;return{currentDate:X,dayOfMonth:ee,daysInMonth:Se,accounts:q.map(Ee=>({id:Ee.id,name:Ee.name})),accountBalances:q.map(Ee=>({accountId:Ee.id,balance:ra(Ee.id)})),categories:L.map(Ee=>({id:Ee.id,name:Ee.name,type:Ee.type,monthly_budget:Ee.monthly_budget})),transactions:ke,moneyBoxes:V.map(Ee=>({id:Ee.id,name:Ee.name,goal_amount:Ee.goal_amount})),moneyBoxBalances:V.map(Ee=>({moneyBoxId:Ee.id,balance:Br(Ee.id)})),loans:nt.map(Ee=>({id:Ee.id,person_name:Ee.person_name,total_amount_to_reimburse:Ee.total_amount_to_reimburse})),outstandingLoanBalances:nt.map(Ee=>{const pt=Te.filter(Jt=>Jt.loan_id===Ee.id).reduce((Jt,dn)=>Jt+dn.amount_paid,0);return{loanId:Ee.id,outstanding:Ee.total_amount_to_reimburse-pt}}),recurringTransactions:ge.map(Ee=>({id:Ee.id,description:Ee.description,amount:Ee.amount,type:Ee.type,next_due_date:Ee.next_due_date,frequency:Ee.frequency,category_id:Ee.category_id})),futurePurchases:G.map(Ee=>({id:Ee.id,name:Ee.name,estimated_cost:Ee.estimated_cost,priority:Ee.priority,status:Ee.status})),theme:Be(),monthlyIncome:C.monthlyIncome,simulatedTransactionData:F,debts:dt}},[r,m,q,P,L,V,se,nt,Te,ge,G,k,C.monthlyIncome,dt,ra,Br]),Pt=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("ai_insights").insert({...F,user_id:r.id,profile_id:m.id}).select().single();X?t(`Erro ao salvar insight: ${X.message}`,"error"):W&&me(ee=>[W,...ee].sort((ie,de)=>new Date(de.timestamp).getTime()-new Date(ie.timestamp).getTime()))},Md=j.useCallback(async()=>{if(!r||!m||!C.isEnabled||C.apiKeyStatus!=="available")return;const F=tn();if(!F)return;const W={timestamp:new Date().toISOString(),type:"general_advice",content:"Buscando novo conselho...",is_read:!1,isLoading:!0},X=We();me(ie=>[{...W,id:X,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...ie]);const ee=await iue(F);me(ie=>ie.filter(de=>de.id!==X)),ee&&Pt(ee)},[r,m,C.isEnabled,C.apiKeyStatus,tn,Pt]),is=j.useCallback(async F=>{var ke,Be,Ee;if(!r||!m||!C.isEnabled||C.apiKeyStatus!=="available")return;const W=tn();if(!W)return;const X={timestamp:new Date().toISOString(),type:"transaction_comment",content:`Analisando transação: ${F.description||F.type}...`,related_transaction_id:F.id,is_read:!1,isLoading:!0},ee=We();me(pt=>[{...X,id:ee,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...pt]);const ie=F.category_id?(ke=L.find(pt=>pt.id===F.category_id))==null?void 0:ke.name:void 0,de=((Be=q.find(pt=>pt.id===F.account_id))==null?void 0:Be.name)||((Ee=Q.find(pt=>pt.id===F.account_id))==null?void 0:Ee.name),Se=await oue(F,W,ie,de);me(pt=>pt.filter(Jt=>Jt.id!==ee)),Se&&Pt(Se)},[r,m,C.isEnabled,C.apiKeyStatus,L,q,Q,tn,Pt]),li=j.useCallback(async F=>{if(!r||!m||!C.isEnabled||C.apiKeyStatus!=="available"||F.type!==xe.EXPENSE||!F.category_id)return;const W=tn();if(!W)return;const X=L.find(ke=>ke.id===F.category_id);if(!X)return;const ee=F.date.substring(0,7),de=P.filter(ke=>ke.category_id===X.id&&ke.date.startsWith(ee)&&ke.type===xe.EXPENSE).reduce((ke,Be)=>ke+Be.amount,0);if(X.monthly_budget&&X.monthly_budget>0){const ke=X.monthly_budget/W.daysInMonth*W.dayOfMonth;if(de>ke*1.2){const Be=await cue(X.name,de,ke,X.monthly_budget,W,X.id);Be&&Pt(Be)}}if(X.monthly_budget&&X.monthly_budget>0&&W.dayOfMonth>0){const ke=de/W.dayOfMonth*W.daysInMonth,Be=W.daysInMonth-W.dayOfMonth;if(ke>X.monthly_budget*1.05){const Ee=await due(X.name,de,X.monthly_budget,Be,ke,W,X.id);Ee&&Pt(Ee)}}const Se=P.filter(ke=>ke.category_id===X.id&&ke.id!==F.id).slice(0,20);if(Se.length>5){const ke=await mue(F,X.name,Se);ke&&Pt(ke)}},[r,m,C,L,P,tn,Pt]),Sp=j.useCallback(async()=>{if(!r||!m||!C.isEnabled||C.apiKeyStatus!=="available")return;const F=tn();if(!F)return;const W={timestamp:new Date().toISOString(),type:"recurring_payment_candidate",content:"Analisando possíveis despesas recorrentes não cadastradas...",is_read:!1,isLoading:!0},X=We();me(ie=>[{...W,id:X,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...ie]);const ee=await fue(P,ge,F);me(ie=>ie.filter(de=>de.id!==X)),ee?Pt(ee):t("Nenhuma nova despesa recorrente óbvia encontrada.","info")},[r,m,C,P,ge,tn,Pt,t]),Dd=j.useCallback(async()=>{if(!r||!m||!C.isEnabled||C.apiKeyStatus!=="available")return;const F=tn();if(!F)return;const W={timestamp:new Date().toISOString(),type:"saving_opportunity_suggestion",content:"Buscando oportunidades de economia...",is_read:!1,isLoading:!0},X=We();me(ie=>[{...W,id:X,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...ie]);const ee=await hue(P,L,V,F);me(ie=>ie.filter(de=>de.id!==X)),ee?Pt(ee):t("Nenhuma oportunidade clara de economia encontrada no momento.","info")},[r,m,C,P,L,V,tn,Pt,t]),Nd=j.useCallback(async(F=30,W)=>{if(!r||!m||!C.isEnabled||C.apiKeyStatus!=="available")return;const X=tn(W);if(!X)return;const ee={timestamp:new Date().toISOString(),type:"cash_flow_projection",content:`Gerando projeção de fluxo de caixa para os próximos ${F} dias${W?" (com simulação)":""}...`,is_read:!1,isLoading:!0},ie=We();me(Se=>[{...ee,id:ie,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...Se]);const de=await pue(X,F);me(Se=>Se.filter(ke=>ke.id!==ie)),de&&Pt(de)},[r,m,C,tn,Pt]),ru=j.useCallback(async(F,W)=>{if(!r||!m||!C.isEnabled||C.apiKeyStatus!=="available"||!C.monthlyIncome)return t("Renda mensal não informada ou IA desativada.","warning"),null;const X=tn();if(!X)return null;const ee=L.find(ke=>ke.name===F&&ke.type===xe.EXPENSE),ie={timestamp:new Date().toISOString(),type:"budget_recommendation",content:`Calculando sugestão de orçamento para ${F}...`,related_category_id:ee==null?void 0:ee.id,is_read:!1,isLoading:!0},de=We();me(ke=>[{...ie,id:de,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...ke]);const Se=await sue(F,C.monthlyIncome,W,X);if(me(ke=>ke.filter(Be=>Be.id!==de)),Se&&"suggestedBudget"in Se&&typeof Se.suggestedBudget=="number"){const ke={content:`Sugestão para ${F}: ${ye(Se.suggestedBudget)}`,related_category_id:ee==null?void 0:ee.id,timestamp:new Date().toISOString(),type:"budget_recommendation",is_read:!1};return Pt(ke),Se.suggestedBudget}else Se&&"content"in Se&&Pt(Se);return null},[r,m,C,L,tn,t,Pt]),au=j.useCallback(async F=>{if(!r||!m||!C.isEnabled||C.apiKeyStatus!=="available"){t("AI Coach desativado ou API Key indisponível.","warning");return}const W=G.find(ie=>ie.id===F);if(!W)return;const X=tn();if(!X)return;re(ie=>ie.map(de=>de.id===F?{...de,status:"AI_ANALYZING"}:de));const ee=await lue(W,X);if(ee&&"analysisText"in ee){const{data:ie,error:de}=await Oe.from("future_purchases").update({status:ee.recommendedStatus,ai_analysis:ee.analysisText,ai_analyzed_at:new Date().toISOString()}).eq("id",F).eq("user_id",r.id).eq("profile_id",m.id).select().single();de||!ie?(t(`Erro ao atualizar compra futura: ${(de==null?void 0:de.message)||"Falha"}`,"error"),re(Se=>Se.map(ke=>ke.id===F?{...ke,status:W.status}:ke))):(re(Se=>Se.map(ke=>ke.id===F?ie:ke)),t(`Análise para "${W.name}" concluída!`,"info"))}else ee&&"content"in ee&&(Pt(ee),re(ie=>ie.map(de=>de.id===F?{...de,status:W.status}:de)))},[r,m,C,G,tn,t,Pt]),iu=async F=>{var ie;if(!r||!m)return;const W={...F,user_id:r.id,profile_id:m.id},{data:X,error:ee}=await Oe.from("transactions").insert(W).select().single();if(ee){t(`Erro: ${ee.message}`,"error");return}if(X&&(I(Se=>[X,...Se].sort((ke,Be)=>new Date(Be.date).getTime()-new Date(ke.date).getTime())),un(!1),is(X),li(X),t("Transação adicionada!","success"),Q.some(Se=>Se.id===X.account_id)&&X.type===xe.EXPENSE)){const Se={credit_card_id:X.account_id,description:`Débito na Fatura: ${X.description||((ie=L.find(ke=>ke.id===X.category_id))==null?void 0:ie.name)||"Despesa no Cartão"}`,purchase_date:X.date,total_amount:X.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:X.id};await wa(Se,!1)}},wp=async F=>{if(!r||!m||!F.id)return;if(!P.find(de=>de.id===F.id)){t("Erro: Transação original não encontrada.","error");return}const X={...F,profile_id:m.id},{data:ee,error:ie}=await Oe.from("transactions").update(X).eq("id",F.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();if(ie){t(`Erro ao atualizar transação: ${ie.message}`,"error");return}ee&&(I(de=>de.map(Se=>Se.id===ee.id?ee:Se).sort((Se,ke)=>new Date(ke.date).getTime()-new Date(Se.date).getTime())),un(!1),sr(null),is(ee),li(ee),t("Transação atualizada!","success"))},aa=async F=>{if(!r||!m)return;const{error:W}=await Oe.from("transactions").delete().eq("id",F).eq("user_id",r.id).eq("profile_id",m.id);W?t(`Erro: ${W.message}`,"error"):(I(X=>X.filter(ee=>ee.id!==F)),t("Transação excluída!","success"))},vn=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("accounts").insert({...F,user_id:r.id,profile_id:m.id}).select().single();X?t(`Erro: ${X.message}`,"error"):W&&(z(ee=>[...ee,W].sort((ie,de)=>ie.name.localeCompare(de.name))),t("Conta adicionada!","success"))},In=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("accounts").update({...F,profile_id:m.id}).eq("id",F.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();X?t(`Erro: ${X.message}`,"error"):W&&(z(ee=>ee.map(ie=>ie.id===W.id?W:ie).sort((ie,de)=>ie.name.localeCompare(de.name))),t("Conta atualizada!","success"))},ui=async F=>{if(!(!r||!m)&&window.confirm("Excluir esta conta?")){const{error:W}=await Oe.from("accounts").delete().eq("id",F).eq("user_id",r.id).eq("profile_id",m.id);W?t(`Erro: ${W.message}`,"error"):(z(X=>X.filter(ee=>ee.id!==F)),t("Conta excluída!","success"))}},ou=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("categories").insert({...F,user_id:r.id,profile_id:m.id}).select().single();X?t(`Erro: ${X.message}`,"error"):W&&(H(ee=>[...ee,W].sort((ie,de)=>ie.name.localeCompare(de.name))),t("Categoria adicionada!","success"))},Tp=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("categories").update({...F,profile_id:m.id}).eq("id",F.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();X?t(`Erro: ${X.message}`,"error"):W&&(H(ee=>ee.map(ie=>ie.id===W.id?W:ie).sort((ie,de)=>ie.name.localeCompare(de.name))),t("Categoria atualizada!","success"))},Ap=async F=>{if(!(!r||!m)&&window.confirm("Excluir esta categoria?")){const{error:W}=await Oe.from("categories").delete().eq("id",F).eq("user_id",r.id).eq("profile_id",m.id);W?t(`Erro: ${W.message}`,"error"):(H(X=>X.filter(ee=>ee.id!==F)),t("Categoria excluída!","success"))}},Pd=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("credit_cards").insert({...F,user_id:r.id,profile_id:m.id}).select().single();X?t(`Erro: ${X.message}`,"error"):W&&(Y(ee=>[...ee,W].sort((ie,de)=>ie.name.localeCompare(de.name))),t("Cartão adicionado!","success"))},no=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("credit_cards").update({...F,profile_id:m.id}).eq("id",F.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();X?t(`Erro: ${X.message}`,"error"):W&&(Y(ee=>ee.map(ie=>ie.id===W.id?W:ie).sort((ie,de)=>ie.name.localeCompare(de.name))),t("Cartão atualizado!","success"))},su=async F=>{if(!(!r||!m)&&window.confirm("Excluir este cartão?")){const{error:W}=await Oe.from("credit_cards").delete().eq("id",F).eq("user_id",r.id).eq("profile_id",m.id);W?t(`Erro: ${W.message}`,"error"):(Y(X=>X.filter(ee=>ee.id!==F)),t("Cartão excluído!","success"))}},wa=async(F,W=!0)=>{if(!r||!m)return;const{data:X,error:ee}=await Oe.from("installment_purchases").insert({...F,user_id:r.id,profile_id:m.id}).select().single();ee?t(`Erro: ${ee.message}`,"error"):X&&($(ie=>[...ie,X].sort((de,Se)=>new Date(Se.purchase_date).getTime()-new Date(de.purchase_date).getTime())),W&&t("Compra parcelada adicionada!","success"))},Ta=async(F,W=!0)=>{if(!r||!m)return;const{data:X,error:ee}=await Oe.from("installment_purchases").update({...F,profile_id:m.id}).eq("id",F.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();ee?t(`Erro: ${ee.message}`,"error"):X&&($(ie=>ie.map(de=>de.id===X.id?X:de).sort((de,Se)=>new Date(Se.purchase_date).getTime()-new Date(de.purchase_date).getTime())),W&&t("Compra parcelada atualizada!","success"))},ro=async(F,W=!0)=>{if(!r||!m)return;const X=B.find(ie=>ie.id===F);X!=null&&X.linked_transaction_id&&X.number_of_installments===1&&W&&await Oe.from("transactions").delete().eq("id",X.linked_transaction_id).eq("user_id",r.id).eq("profile_id",m.id);const{error:ee}=await Oe.from("installment_purchases").delete().eq("id",F).eq("user_id",r.id).eq("profile_id",m.id);ee?t(`Erro: ${ee.message}`,"error"):($(ie=>ie.filter(de=>de.id!==F)),t("Compra parcelada excluída!","success"))},ci=async F=>{if(!r||!m)return;const W=B.find(X=>X.id===F);if(W&&W.installments_paid<W.number_of_installments){const X={...W,installments_paid:W.installments_paid+1};await Ta(X)}},nn=async F=>{if(!r||!m)return;const X=QR(B.filter(de=>de.credit_card_id===F),Q.find(de=>de.id===F),new Date).map(de=>{const Se={...de,installments_paid:de.installments_paid+1,updated_at:new Date().toISOString()};return Oe.from("installment_purchases").update({installments_paid:Se.installments_paid,updated_at:Se.updated_at}).eq("id",de.id).eq("user_id",r.id).eq("profile_id",m.id).select().single()}),ee=await Promise.all(X),ie=ee.filter(de=>de.data).map(de=>de.data);ie.length>0&&($(de=>de.map(Se=>ie.find(ke=>ke.id===Se.id)||Se).sort((Se,ke)=>new Date(ke.purchase_date).getTime()-new Date(Se.purchase_date).getTime())),t(`${ie.length} parcela(s) da fatura marcada(s) como paga(s)!`,"success")),ee.filter(de=>de.error).forEach(de=>{var Se;return t(`Erro ao pagar parcela: ${(Se=de.error)==null?void 0:Se.message}`,"error")})},Rd=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("money_boxes").insert({...F,user_id:r.id,profile_id:m.id}).select().single();X?t(`Erro: ${X.message}`,"error"):W&&(Z(ee=>[...ee,W].sort((ie,de)=>ie.name.localeCompare(de.name))),t("Caixinha adicionada!","success"))},Id=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("money_boxes").update({...F,profile_id:m.id}).eq("id",F.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();X?t(`Erro: ${X.message}`,"error"):W&&(Z(ee=>ee.map(ie=>ie.id===W.id?W:ie).sort((ie,de)=>ie.name.localeCompare(de.name))),t("Caixinha atualizada!","success"))},Aa=async F=>{if(!(!r||!m)&&window.confirm("Excluir esta caixinha?")){const{error:W}=await Oe.from("money_boxes").delete().eq("id",F).eq("user_id",r.id).eq("profile_id",m.id);W?t(`Erro ao excluir caixinha: ${W.message}`,"error"):(Z(X=>X.filter(ee=>ee.id!==F)),t("Caixinha excluída!","success"))}},di=async(F,W,X)=>{var Se;if(!r||!m)return;let ee;if(W&&X){const ke={type:F.type===xr.DEPOSIT?xe.EXPENSE:xe.INCOME,amount:F.amount,date:F.date,description:`${F.type===xr.DEPOSIT?"Depósito":"Saque"} Caixinha: ${((Se=V.find(pt=>pt.id===F.money_box_id))==null?void 0:Se.name)||"N/A"} ${F.description?`- ${F.description}`:""}`,account_id:X,user_id:r.id,profile_id:m.id},{data:Be,error:Ee}=await Oe.from("transactions").insert(ke).select().single();if(Ee||!Be){t(`Erro ao criar transação principal: ${Ee==null?void 0:Ee.message}`,"error");return}ee=Be.id,I(pt=>[Be,...pt])}const{data:ie,error:de}=await Oe.from("money_box_transactions").insert({...F,user_id:r.id,profile_id:m.id,linked_transaction_id:ee}).select().single();de?t(`Erro: ${de.message}`,"error"):ie&&(U(ke=>[ie,...ke]),t("Transação da caixinha adicionada!","success"))},Ep=async(F,W)=>{if(!r||!m)return;const{error:X}=await Oe.from("money_box_transactions").delete().eq("id",F).eq("user_id",r.id).eq("profile_id",m.id);X?t(`Erro ao excluir: ${X.message}`,"error"):(U(ee=>ee.filter(ie=>ie.id!==F)),t("Transação da caixinha excluída!","success"))},jd=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("tags").insert({...F,user_id:r.id,profile_id:m.id}).select().single();X?t(`Erro: ${X.message}`,"error"):W&&(_e(ee=>[...ee,W].sort((ie,de)=>ie.name.localeCompare(de.name))),t("Tag adicionada!","success"))},$d=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("tags").update({...F,profile_id:m.id}).eq("id",F.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();X?t(`Erro: ${X.message}`,"error"):W&&(_e(ee=>ee.map(ie=>ie.id===W.id?W:ie).sort((ie,de)=>ie.name.localeCompare(de.name))),t("Tag atualizada!","success"))},Cp=async F=>{if(!(!r||!m)&&window.confirm("Excluir esta tag?")){const{error:W}=await Oe.from("tags").delete().eq("id",F).eq("user_id",r.id).eq("profile_id",m.id);W?t(`Erro: ${W.message}`,"error"):(_e(X=>X.filter(ee=>ee.id!==F)),t("Tag excluída!","success"))}},os=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("recurring_transactions").insert({...F,user_id:r.id,profile_id:m.id}).select().single();X?t(`Erro: ${X.message}`,"error"):W&&(Ce(ee=>[...ee,W].sort((ie,de)=>new Date(ie.next_due_date).getTime()-new Date(de.next_due_date).getTime())),t("Recorrência adicionada!","success"))},ss=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("recurring_transactions").update({...F,profile_id:m.id}).eq("id",F.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();X?t(`Erro: ${X.message}`,"error"):W&&(Ce(ee=>ee.map(ie=>ie.id===W.id?W:ie).sort((ie,de)=>new Date(ie.next_due_date).getTime()-new Date(de.next_due_date).getTime())),t("Recorrência atualizada!","success"))},qr=async F=>{if(!(!r||!m)&&window.confirm("Excluir esta recorrência?")){const{error:W}=await Oe.from("recurring_transactions").delete().eq("id",F).eq("user_id",r.id).eq("profile_id",m.id);W?t(`Erro: ${W.message}`,"error"):(Ce(X=>X.filter(ee=>ee.id!==F)),t("Recorrência excluída!","success"))}},lu=async()=>{if(!r||!m)return{count:0,errors:["Usuário ou perfil não ativo."]};const F=ge.filter(ee=>!ee.is_paused&&new Date(ee.next_due_date)<=new Date&&(ee.remaining_occurrences===void 0||ee.remaining_occurrences>0));let W=0;const X=[];for(const ee of F){const ie={type:ee.type,amount:ee.amount,category_id:ee.category_id,description:`Recorrência: ${ee.description}`,date:ee.next_due_date,account_id:ee.account_id,to_account_id:ee.to_account_id};await iu(ie);const de={last_posted_date:ee.next_due_date,next_due_date:yue(ee.next_due_date,ee.frequency,ee.custom_interval_days),remaining_occurrences:ee.remaining_occurrences!==void 0?ee.remaining_occurrences-1:void 0},{error:Se}=await Oe.from("recurring_transactions").update(de).eq("id",ee.id).eq("user_id",r.id).eq("profile_id",m.id);Se?X.push(`Erro ao atualizar ${ee.description}: ${Se.message}`):W++}if(r&&m){const{data:ee,error:ie}=await Oe.from("recurring_transactions").select("*").eq("user_id",r.id).eq("profile_id",m.id).order("next_due_date");ie?t("Erro ao recarregar recorrências.","error"):ee&&Ce(ee)}return{count:W,errors:X}},Ld=async(F,W)=>{if(!r||!m)return;let X;if(F.funding_source==="account"&&F.amount_delivered_from_account&&F.linked_account_id){const ke={type:xe.EXPENSE,amount:F.amount_delivered_from_account,date:F.loan_date,description:`Empréstimo para ${F.person_name}`,account_id:F.linked_account_id},{data:Be,error:Ee}=await Oe.from("transactions").insert({...ke,user_id:r.id,profile_id:m.id}).select().single();if(Ee||!Be){t(`Erro ao criar transação de despesa: ${Ee==null?void 0:Ee.message}`,"error");return}X=Be.id,I(pt=>[Be,...pt])}let ee;if(F.funding_source==="creditCard"&&F.cost_on_credit_card&&F.linked_credit_card_id&&W){const ke={credit_card_id:F.linked_credit_card_id,description:`Empréstimo (crédito) para ${F.person_name}`,purchase_date:F.loan_date,total_amount:F.cost_on_credit_card,number_of_installments:W,installments_paid:0},{data:Be,error:Ee}=await Oe.from("installment_purchases").insert({...ke,user_id:r.id,profile_id:m.id}).select().single();if(Ee||!Be){t(`Erro ao criar compra parcelada: ${Ee==null?void 0:Ee.message}`,"error");return}ee=Be.id,$(pt=>[Be,...pt])}const ie={...F,user_id:r.id,profile_id:m.id,linked_expense_transaction_id:X,linked_installment_purchase_id:ee},{data:de,error:Se}=await Oe.from("loans").insert(ie).select().single();Se?t(`Erro ao adicionar empréstimo: ${Se.message}`,"error"):de&&(Ye(ke=>[de,...ke]),t("Empréstimo adicionado!","success"))},fi=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("loans").update({...F,profile_id:m.id}).eq("id",F.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();X?t(`Erro ao atualizar empréstimo: ${X.message}`,"error"):W&&(Ye(ee=>ee.map(ie=>ie.id===W.id?W:ie)),t("Empréstimo atualizado!","success"))},uu=async F=>{if(!r||!m)return;const W=nt.find(ee=>ee.id===F);W&&(W.linked_expense_transaction_id&&await Oe.from("transactions").delete().eq("id",W.linked_expense_transaction_id).eq("user_id",r.id).eq("profile_id",m.id),W.linked_installment_purchase_id&&await Oe.from("installment_purchases").delete().eq("id",W.linked_installment_purchase_id).eq("user_id",r.id).eq("profile_id",m.id));const{error:X}=await Oe.from("loans").delete().eq("id",F).eq("user_id",r.id).eq("profile_id",m.id);X?t(`Erro ao excluir empréstimo: ${X.message}`,"error"):(Ye(ee=>ee.filter(ie=>ie.id!==F)),Le(ee=>ee.filter(ie=>ie.loan_id!==F)),t("Empréstimo excluído!","success"))},cu=async(F,W)=>{var Be;if(!r||!m)return;const X={type:xe.INCOME,amount:F.amount_paid,date:F.repayment_date,description:`Recebimento empréstimo de ${(Be=nt.find(Ee=>Ee.id===W))==null?void 0:Be.person_name}`,account_id:F.credited_account_id},{data:ee,error:ie}=await Oe.from("transactions").insert({...X,user_id:r.id,profile_id:m.id}).select().single();if(ie||!ee){t(`Erro ao criar transação de receita: ${ie==null?void 0:ie.message}`,"error");return}I(Ee=>[ee,...Ee]);const de={...F,user_id:r.id,profile_id:m.id,loan_id:W,linked_income_transaction_id:ee.id},{data:Se,error:ke}=await Oe.from("loan_repayments").insert(de).select().single();ke?t(`Erro ao adicionar pagamento: ${ke.message}`,"error"):Se&&(Le(Ee=>[Se,...Ee]),t("Pagamento recebido registrado!","success"))},kp=async F=>{if(!r||!m)return;const W={...F,user_id:r.id,profile_id:m.id,status:"PLANNED"},{data:X,error:ee}=await Oe.from("future_purchases").insert(W).select().single();ee?t(`Erro: ${ee.message}`,"error"):X&&(re(ie=>[X,...ie]),t("Compra futura adicionada!","success"))},Bd=async F=>{if(!r||!m)return;const W={...F,profile_id:m.id},{data:X,error:ee}=await Oe.from("future_purchases").update(W).eq("id",W.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();ee?t(`Erro: ${ee.message}`,"error"):X&&(re(ie=>ie.map(de=>de.id===X.id?X:de)),t("Compra futura atualizada!","success"))},Jn=async F=>{if(!(!r||!m)&&window.confirm("Excluir esta compra futura?")){const{error:W}=await Oe.from("future_purchases").delete().eq("id",F).eq("user_id",r.id).eq("profile_id",m.id);W?t(`Erro: ${W.message}`,"error"):(re(X=>X.filter(ee=>ee.id!==F)),t("Compra futura excluída!","success"))}},qd=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("ai_insights").update({is_read:F.is_read,profile_id:m.id}).eq("id",F.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();X?t(`Erro ao atualizar insight: ${X.message}`,"error"):W&&me(ee=>ee.map(ie=>ie.id===W.id?W:ie).sort((ie,de)=>new Date(de.timestamp).getTime()-new Date(ie.timestamp).getTime()))},Op=async F=>{if(!r||!m)return;const W={...F,user_id:r.id,profile_id:m.id,current_balance:F.initial_balance,is_archived:!1},{data:X,error:ee}=await Oe.from("debts").insert(W).select().single();ee?t(`Erro: ${ee.message}`,"error"):X&&(Ze(ie=>[X,...ie].sort((de,Se)=>de.name.localeCompare(Se.name))),t("Dívida adicionada!","success"))},ls=async F=>{if(!r||!m)return;const{data:W,error:X}=await Oe.from("debts").update({...F,profile_id:m.id}).eq("id",F.id).eq("user_id",r.id).eq("profile_id",m.id).select().single();X?t(`Erro: ${X.message}`,"error"):W&&(Ze(ee=>ee.map(ie=>ie.id===W.id?W:ie).sort((ie,de)=>ie.name.localeCompare(de.name))),t("Dívida atualizada!","success"))},Ud=async F=>{if(!(!r||!m)&&window.confirm("Excluir esta dívida?")){const{error:W}=await Oe.from("debts").delete().eq("id",F).eq("user_id",r.id).eq("profile_id",m.id);W?t(`Erro: ${W.message}`,"error"):(Ze(X=>X.filter(ee=>ee.id!==F)),Nt(X=>X.filter(ee=>ee.debt_id!==F)),t("Dívida excluída!","success"))}},us=async(F,W,X)=>{var ke;if(!r||!m)return;let ee;if(W&&X){const Be=dt.find(dn=>dn.id===F.debt_id),Ee={type:xe.EXPENSE,amount:F.amount_paid,date:F.payment_date,description:`Pagamento Dívida: ${(Be==null?void 0:Be.name)||"Dívida"}`,account_id:X,category_id:(ke=L.find(dn=>dn.name.toLowerCase().includes("pagamento de dívida")||dn.name.toLowerCase().includes("empréstimo")))==null?void 0:ke.id},{data:pt,error:Jt}=await Oe.from("transactions").insert({...Ee,user_id:r.id,profile_id:m.id}).select().single();if(Jt||!pt){t(`Erro ao criar despesa vinculada: ${Jt==null?void 0:Jt.message}`,"error");return}ee=pt.id,I(dn=>[pt,...dn])}const ie={...F,user_id:r.id,profile_id:m.id,linked_expense_transaction_id:ee},{data:de,error:Se}=await Oe.from("debt_payments").insert(ie).select().single();Se?t(`Erro: ${Se.message}`,"error"):de&&(Nt(Be=>[de,...Be]),Ze(Be=>Be.map(Ee=>Ee.id===de.debt_id?{...Ee,current_balance:Ee.current_balance-de.amount_paid}:Ee)),t("Pagamento de dívida registrado!","success"))},Mp=j.useCallback(async F=>{if(!r||!m||!C.isEnabled||C.apiKeyStatus!=="available")return;const W={timestamp:new Date().toISOString(),type:"debt_strategy_explanation",content:`Buscando explicação para a estratégia: ${F}...`,related_debt_strategy:F,is_read:!1,isLoading:!0},X=We();me(ie=>[{...W,id:X,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...ie]);const ee=await gue(F);me(ie=>ie.filter(de=>de.id!==X)),ee?Pt(ee):t(`Não foi possível buscar explicação para a estratégia ${F}`,"warning")},[r,m,C.isEnabled,C.apiKeyStatus,Pt,t]),Qn=j.useCallback(async(F,W,X)=>{if(!r||!m||!C.isEnabled||C.apiKeyStatus!=="available")return;const ee=tn();if(!ee)return;const ie={timestamp:new Date().toISOString(),type:"debt_projection_summary",content:"Gerando resumo da projeção de dívidas...",related_debt_strategy:X,is_read:!1,isLoading:!0},de=We();me(ke=>[{...ie,id:de,user_id:r.id,profile_id:m.id,created_at:"",updated_at:""},...ke]);const Se=await vue(F,W,ee);me(ke=>ke.filter(Be=>Be.id!==de)),Se?Pt(Se):t("Não foi possível gerar resumo da projeção.","warning")},[r,m,C.isEnabled,C.apiKeyStatus,tn,Pt,t]),Cn=({label:F,currentView:W,targetView:X,icon:ee,action:ie})=>b.jsx("li",{children:b.jsxs("button",{onClick:()=>ie(X),className:`flex items-center w-full px-3 py-2.5 rounded-lg transition-colors duration-150
                    ${W===X?"bg-primary/10 dark:bg-primaryDark/20 text-primary dark:text-primaryDark font-semibold shadow-sm":"text-textMuted dark:text-textMutedDark hover:bg-neutral/10 dark:hover:bg-neutralDark/20 hover:text-textBase dark:hover:text-textBaseDark"}`,"aria-current":W===X?"page":void 0,children:[J.cloneElement(ee,{className:"w-5 h-5 mr-3 flex-shrink-0"}),F]})}),Fd=()=>b.jsxs("aside",{className:"w-64 bg-surface dark:bg-surfaceDark p-4 border-r border-borderBase dark:border-borderBaseDark flex flex-col justify-between shadow-md print:hidden",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"px-3 mb-6",children:[b.jsx("h2",{className:"text-xl font-bold text-primary dark:text-primaryDark tracking-tight",children:Pc}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Perfil: ",oi]})]}),b.jsx("nav",{children:b.jsxs("ul",{className:"space-y-1.5",children:[b.jsx(Cn,{label:"Painel Geral",currentView:qt,targetView:"DASHBOARD",icon:b.jsx(T$,{}),action:zt}),b.jsx(Cn,{label:"Transações",currentView:qt,targetView:"TRANSACTIONS",icon:b.jsx(ice,{}),action:zt}),b.jsx(Cn,{label:"Contas",currentView:qt,targetView:"ACCOUNTS",icon:b.jsx($S,{}),action:zt}),b.jsx(Cn,{label:"Cartões",currentView:qt,targetView:"CREDIT_CARDS",icon:b.jsx(pp,{}),action:zt}),b.jsx(Cn,{label:"Categorias",currentView:qt,targetView:"CATEGORIES",icon:b.jsx(A$,{}),action:zt}),b.jsx(Cn,{label:"Caixinhas",currentView:qt,targetView:"MONEY_BOXES",icon:b.jsx(Q$,{}),action:zt}),b.jsx(Cn,{label:"Recorrências",currentView:qt,targetView:"RECURRING_TRANSACTIONS",icon:b.jsx(gd,{}),action:zt}),b.jsx(Cn,{label:"Empréstimos",currentView:qt,targetView:"LOANS",icon:b.jsx(zS,{}),action:zt}),b.jsx(Cn,{label:"Compras Futuras",currentView:qt,targetView:"FUTURE_PURCHASES",icon:b.jsx(t1,{}),action:zt}),b.jsx(Cn,{label:"Planejar Dívidas",currentView:qt,targetView:"DEBT_PLANNER",icon:b.jsx($S,{}),action:zt}),b.jsx(Cn,{label:"Tags",currentView:qt,targetView:"TAGS",icon:b.jsx(sce,{}),action:zt}),b.jsx(Cn,{label:"AI Coach",currentView:qt,targetView:"AI_COACH",icon:b.jsx(jS,{}),action:zt}),b.jsx(Cn,{label:"Dados",currentView:qt,targetView:"DATA_MANAGEMENT",icon:b.jsx(oce,{}),action:zt})]})})]}),b.jsxs("div",{className:"mt-auto space-y-3 pt-4 border-t border-borderBase dark:border-borderBaseDark",children:[b.jsx(ace,{theme:k,setTheme:xp}),b.jsxs(be,{variant:"ghost",onClick:_p,className:"w-full !justify-start text-textMuted dark:text-textMutedDark",children:[E?b.jsx(uce,{className:"w-5 h-5 mr-2"}):b.jsx(lce,{className:"w-5 h-5 mr-2"}),"Modo Privacidade ",E?"Ativado":"Desativado"]}),b.jsxs(be,{variant:"ghost",onClick:()=>{y(null),T(!1),w(!0),Yt(!0),r&&lr(r.id)},className:"w-full !justify-start text-textMuted dark:text-textMutedDark",children:[b.jsx(Em,{className:"w-5 h-5 mr-2"})," Trocar Perfil"]}),b.jsxs(be,{variant:"ghost",onClick:Sa,className:"w-full !justify-start text-destructive dark:text-destructiveDark",children:[b.jsx(cce,{className:"w-5 h-5 mr-2"})," Sair"]})]})]}),du=()=>b.jsxs("header",{className:"bg-surface dark:bg-surfaceDark p-4 border-b border-borderBase dark:border-borderBaseDark flex justify-between items-center print:hidden",children:[b.jsx("h1",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:qt.replace(/_/g," ")}),b.jsxs(be,{onClick:()=>{sr(null),un(!0)},variant:"primary",children:[b.jsx(Un,{className:"w-5 h-5 mr-2"})," Nova Transação"]})]}),hi=()=>{switch(qt){case"DASHBOARD":return b.jsx(tP,{transactions:P,accounts:q,categories:L,creditCards:Q,installmentPurchases:B,moneyBoxes:V,loans:nt,loanRepayments:Te,recurringTransactions:ge,onAddTransaction:()=>{sr(null),un(!0)},calculateAccountBalance:ra,calculateMoneyBoxBalance:Br,isPrivacyModeEnabled:E});case"TRANSACTIONS":return b.jsx(eee,{transactions:P,accounts:q,categories:L,tags:ce,installmentPurchases:B,onAddTransaction:()=>{sr(null),un(!0)},onEditTransaction:W=>{sr(W),un(!0)},onDeleteTransaction:aa,isLoading:At&&!m,isPrivacyModeEnabled:E});case"ACCOUNTS":return b.jsx(nee,{accounts:q,transactions:P,onAddAccount:vn,onUpdateAccount:In,onDeleteAccount:ui,calculateAccountBalance:ra,isPrivacyModeEnabled:E});case"CATEGORIES":return b.jsx(ree,{categories:L,transactions:P,aiConfig:C,onAddCategory:ou,onUpdateCategory:Tp,onDeleteCategory:Ap,onSuggestBudget:ru,isPrivacyModeEnabled:E});case"CREDIT_CARDS":return b.jsx(bue,{creditCards:Q,installmentPurchases:B,aiConfig:C,onAddCreditCard:Pd,onUpdateCreditCard:no,onDeleteCreditCard:su,onAddInstallmentPurchase:wa,onUpdateInstallmentPurchase:Ta,onDeleteInstallmentPurchase:ro,onMarkInstallmentPaid:ci,onPayMonthlyInstallments:nn,isPrivacyModeEnabled:E});case"MONEY_BOXES":return b.jsx(Tue,{moneyBoxes:V,moneyBoxTransactions:se,accounts:q,onAddMoneyBox:Rd,onUpdateMoneyBox:Id,onDeleteMoneyBox:Aa,onAddMoneyBoxTransaction:di,onDeleteMoneyBoxTransaction:Ep,calculateMoneyBoxBalance:Br,isPrivacyModeEnabled:E});case"FUTURE_PURCHASES":return b.jsx(Nue,{futurePurchases:G,onAddFuturePurchase:kp,onUpdateFuturePurchase:Bd,onDeleteFuturePurchase:Jn,onAnalyzeFuturePurchase:au,isPrivacyModeEnabled:E});case"TAGS":return b.jsx(jue,{tags:ce,transactions:P,onAddTag:jd,onUpdateTag:$d,onDeleteTag:Cp});case"RECURRING_TRANSACTIONS":return b.jsx(que,{recurringTransactions:ge,accounts:q,categories:L,onAddRecurringTransaction:os,onUpdateRecurringTransaction:ss,onDeleteRecurringTransaction:qr,onProcessRecurringTransactions:lu,isPrivacyModeEnabled:E});case"LOANS":return b.jsx(zue,{loans:nt,loanRepayments:Te,accounts:q,creditCards:Q,onAddLoan:Ld,onUpdateLoan:fi,onDeleteLoan:uu,onAddLoanRepayment:cu,isPrivacyModeEnabled:E});case"DEBT_PLANNER":return b.jsx(Que,{debts:dt,debtPayments:Vt,accounts:q,onAddDebt:Op,onUpdateDebt:ls,onDeleteDebt:Ud,onAddDebtPayment:us,onFetchDebtStrategyExplanation:Mp,onFetchDebtProjectionSummary:Qn,isPrivacyModeEnabled:E});case"AI_COACH":return b.jsx(Gue,{aiConfig:C,setAiConfig:rs,insights:Ge,onFetchGeneralAdvice:Md,onUpdateInsight:qd,isPrivacyModeEnabled:E,onFetchRecurringPaymentCandidates:Sp,onFetchSavingOpportunities:Dd,onFetchCashFlowProjection:Nd});case"DATA_MANAGEMENT":const F={profile_id:m.id,theme:k,is_privacy_mode_enabled:E,ai_is_enabled:C.isEnabled,ai_monthly_income:C.monthlyIncome,ai_auto_backup_enabled:C.autoBackupToFileEnabled};return b.jsx(Pue,{allData:{transactions:P,accounts:q,categories:L,creditCards:Q,installmentPurchases:B,moneyBoxes:V,moneyBoxTransactions:se,futurePurchases:G,tags:ce,recurringTransactions:ge,loans:nt,loanRepayments:Te,aiInsights:Ge,debts:dt,debtPayments:Vt},userPreferencesToExport:F,activeProfileName:oi,user:r});default:return t("Visualização não encontrada, redirecionando para o Painel.","warning"),zt("DASHBOARD"),b.jsx(tP,{transactions:P,accounts:q,categories:L,creditCards:Q,installmentPurchases:B,moneyBoxes:V,loans:nt,loanRepayments:Te,recurringTransactions:ge,onAddTransaction:()=>{sr(null),un(!0)},calculateAccountBalance:ra,calculateMoneyBoxBalance:Br,isPrivacyModeEnabled:E})}},cs=({message:F="Carregando..."})=>b.jsx("div",{className:"flex items-center justify-center h-screen bg-background dark:bg-backgroundDark",children:b.jsxs("div",{className:"p-6 bg-surface dark:bg-surfaceDark rounded-lg shadow-xl text-center",children:[b.jsx(gd,{className:"w-10 h-10 text-primary dark:text-primaryDark mx-auto animate-spin mb-3"}),b.jsx("p",{className:"text-lg text-textMuted dark:text-textMutedDark",children:F})]})});return i?b.jsx(cs,{message:"Carregando sessão..."}):r&&(_||!A)?b.jsx(cs,{message:"Carregando perfis..."}):r?r&&!m&&A&&!_?b.jsx(NR,{profiles:c,onSelectProfile:F=>cn(F,c),onCreateProfile:Rn}):r&&m&&At?b.jsx(cs,{message:`Carregando dados para ${oi}...`}):r&&!m?b.jsx(NR,{profiles:c,onSelectProfile:F=>cn(F,c),onCreateProfile:Rn}):b.jsxs("div",{className:"flex h-screen bg-background dark:bg-backgroundDark text-textBase dark:text-textBaseDark print:block",children:[b.jsx(Fd,{}),b.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[b.jsx(du,{}),b.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-0 bg-background dark:bg-backgroundDark print:overflow-visible",children:hi()})]}),Fn&&m&&b.jsx(An,{isOpen:Fn,onClose:()=>{un(!1),sr(null)},title:na?"Editar Transação":"Nova Transação",size:"lg",children:b.jsx(ece,{onSubmit:na?wp:iu,onCancel:()=>{un(!1),sr(null)},accounts:q,creditCards:Q,categories:L,tags:ce,initialTransaction:na,isPrivacyModeEnabled:E})})]}):b.jsx(Kue,{onLoginWithGoogle:as,isLoading:i})},fce=()=>b.jsx(Eq,{children:b.jsx(dce,{})}),eL=document.getElementById("root");if(!eL)throw new Error("Could not find root element to mount to");const hce=fB.createRoot(eL);hce.render(b.jsx(J.StrictMode,{children:b.jsx(fce,{})}));
