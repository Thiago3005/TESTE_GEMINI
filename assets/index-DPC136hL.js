(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ft(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nL(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var lg={exports:{}},tu={},ug={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function rL(){if(Z1)return nt;Z1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function v(j){return j===null||typeof j!="object"?null:(j=f&&j[f]||j["@@iterator"],typeof j=="function"?j:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function w(j,X,ue){this.props=j,this.context=X,this.refs=S,this.updater=ue||_}w.prototype.isReactComponent={},w.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},w.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function A(){}A.prototype=w.prototype;function I(j,X,ue){this.props=j,this.context=X,this.refs=S,this.updater=ue||_}var k=I.prototype=new A;k.constructor=I,b(k,w.prototype),k.isPureReactComponent=!0;var O=Array.isArray,E=Object.prototype.hasOwnProperty,P={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function D(j,X,ue){var Se,ce={},Ae=null,ze=null;if(X!=null)for(Se in X.ref!==void 0&&(ze=X.ref),X.key!==void 0&&(Ae=""+X.key),X)E.call(X,Se)&&!N.hasOwnProperty(Se)&&(ce[Se]=X[Se]);var We=arguments.length-2;if(We===1)ce.children=ue;else if(1<We){for(var ge=Array(We),Ce=0;Ce<We;Ce++)ge[Ce]=arguments[Ce+2];ce.children=ge}if(j&&j.defaultProps)for(Se in We=j.defaultProps,We)ce[Se]===void 0&&(ce[Se]=We[Se]);return{$$typeof:t,type:j,key:Ae,ref:ze,props:ce,_owner:P.current}}function $(j,X){return{$$typeof:t,type:j.type,key:X,ref:j.ref,props:j.props,_owner:j._owner}}function F(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function L(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ue){return X[ue]})}var z=/\/+/g;function W(j,X){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):X.toString(36)}function V(j,X,ue,Se,ce){var Ae=typeof j;(Ae==="undefined"||Ae==="boolean")&&(j=null);var ze=!1;if(j===null)ze=!0;else switch(Ae){case"string":case"number":ze=!0;break;case"object":switch(j.$$typeof){case t:case e:ze=!0}}if(ze)return ze=j,ce=ce(ze),j=Se===""?"."+W(ze,0):Se,O(ce)?(ue="",j!=null&&(ue=j.replace(z,"$&/")+"/"),V(ce,X,ue,"",function(Ce){return Ce})):ce!=null&&(F(ce)&&(ce=$(ce,ue+(!ce.key||ze&&ze.key===ce.key?"":(""+ce.key).replace(z,"$&/")+"/")+j)),X.push(ce)),1;if(ze=0,Se=Se===""?".":Se+":",O(j))for(var We=0;We<j.length;We++){Ae=j[We];var ge=Se+W(Ae,We);ze+=V(Ae,X,ue,ge,ce)}else if(ge=v(j),typeof ge=="function")for(j=ge.call(j),We=0;!(Ae=j.next()).done;)Ae=Ae.value,ge=Se+W(Ae,We++),ze+=V(Ae,X,ue,ge,ce);else if(Ae==="object")throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ze}function B(j,X,ue){if(j==null)return j;var Se=[],ce=0;return V(j,Se,"","",function(Ae){return X.call(ue,Ae,ce++)}),Se}function J(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(ue){(j._status===0||j._status===-1)&&(j._status=1,j._result=ue)},function(ue){(j._status===0||j._status===-1)&&(j._status=2,j._result=ue)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var K={current:null},U={transition:null},te={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:U,ReactCurrentOwner:P};function re(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:B,forEach:function(j,X,ue){B(j,function(){X.apply(this,arguments)},ue)},count:function(j){var X=0;return B(j,function(){X++}),X},toArray:function(j){return B(j,function(X){return X})||[]},only:function(j){if(!F(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},nt.Component=w,nt.Fragment=n,nt.Profiler=i,nt.PureComponent=I,nt.StrictMode=r,nt.Suspense=c,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,nt.act=re,nt.cloneElement=function(j,X,ue){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Se=b({},j.props),ce=j.key,Ae=j.ref,ze=j._owner;if(X!=null){if(X.ref!==void 0&&(Ae=X.ref,ze=P.current),X.key!==void 0&&(ce=""+X.key),j.type&&j.type.defaultProps)var We=j.type.defaultProps;for(ge in X)E.call(X,ge)&&!N.hasOwnProperty(ge)&&(Se[ge]=X[ge]===void 0&&We!==void 0?We[ge]:X[ge])}var ge=arguments.length-2;if(ge===1)Se.children=ue;else if(1<ge){We=Array(ge);for(var Ce=0;Ce<ge;Ce++)We[Ce]=arguments[Ce+2];Se.children=We}return{$$typeof:t,type:j.type,key:ce,ref:Ae,props:Se,_owner:ze}},nt.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},nt.createElement=D,nt.createFactory=function(j){var X=D.bind(null,j);return X.type=j,X},nt.createRef=function(){return{current:null}},nt.forwardRef=function(j){return{$$typeof:l,render:j}},nt.isValidElement=F,nt.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:J}},nt.memo=function(j,X){return{$$typeof:d,type:j,compare:X===void 0?null:X}},nt.startTransition=function(j){var X=U.transition;U.transition={};try{j()}finally{U.transition=X}},nt.unstable_act=re,nt.useCallback=function(j,X){return K.current.useCallback(j,X)},nt.useContext=function(j){return K.current.useContext(j)},nt.useDebugValue=function(){},nt.useDeferredValue=function(j){return K.current.useDeferredValue(j)},nt.useEffect=function(j,X){return K.current.useEffect(j,X)},nt.useId=function(){return K.current.useId()},nt.useImperativeHandle=function(j,X,ue){return K.current.useImperativeHandle(j,X,ue)},nt.useInsertionEffect=function(j,X){return K.current.useInsertionEffect(j,X)},nt.useLayoutEffect=function(j,X){return K.current.useLayoutEffect(j,X)},nt.useMemo=function(j,X){return K.current.useMemo(j,X)},nt.useReducer=function(j,X,ue){return K.current.useReducer(j,X,ue)},nt.useRef=function(j){return K.current.useRef(j)},nt.useState=function(j){return K.current.useState(j)},nt.useSyncExternalStore=function(j,X,ue){return K.current.useSyncExternalStore(j,X,ue)},nt.useTransition=function(){return K.current.useTransition()},nt.version="18.3.1",nt}var Q1;function _b(){return Q1||(Q1=1,ug.exports=rL()),ug.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC;function iL(){if(eC)return tu;eC=1;var t=_b(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var h,f={},v=null,_=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(_=c.ref);for(h in c)r.call(c,h)&&!a.hasOwnProperty(h)&&(f[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:l,key:v,ref:_,props:f,_owner:i.current}}return tu.Fragment=n,tu.jsx=o,tu.jsxs=o,tu}var tC;function aL(){return tC||(tC=1,lg.exports=iL()),lg.exports}var y=aL(),R=_b();const H=ft(R);var Hd={},cg={exports:{}},Gn={},dg={exports:{}},fg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function oL(){return nC||(nC=1,function(t){function e(U,te){var re=U.length;U.push(te);e:for(;0<re;){var j=re-1>>>1,X=U[j];if(0<i(X,te))U[j]=te,U[re]=X,re=j;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var te=U[0],re=U.pop();if(re!==te){U[0]=re;e:for(var j=0,X=U.length,ue=X>>>1;j<ue;){var Se=2*(j+1)-1,ce=U[Se],Ae=Se+1,ze=U[Ae];if(0>i(ce,re))Ae<X&&0>i(ze,ce)?(U[j]=ze,U[Ae]=re,j=Ae):(U[j]=ce,U[Se]=re,j=Se);else if(Ae<X&&0>i(ze,re))U[j]=ze,U[Ae]=re,j=Ae;else break e}}return te}function i(U,te){var re=U.sortIndex-te.sortIndex;return re!==0?re:U.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,v=3,_=!1,b=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(U){for(var te=n(d);te!==null;){if(te.callback===null)r(d);else if(te.startTime<=U)r(d),te.sortIndex=te.expirationTime,e(c,te);else break;te=n(d)}}function O(U){if(S=!1,k(U),!b)if(n(c)!==null)b=!0,J(E);else{var te=n(d);te!==null&&K(O,te.startTime-U)}}function E(U,te){b=!1,S&&(S=!1,A(D),D=-1),_=!0;var re=v;try{for(k(te),f=n(c);f!==null&&(!(f.expirationTime>te)||U&&!L());){var j=f.callback;if(typeof j=="function"){f.callback=null,v=f.priorityLevel;var X=j(f.expirationTime<=te);te=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),k(te)}else r(c);f=n(c)}if(f!==null)var ue=!0;else{var Se=n(d);Se!==null&&K(O,Se.startTime-te),ue=!1}return ue}finally{f=null,v=re,_=!1}}var P=!1,N=null,D=-1,$=5,F=-1;function L(){return!(t.unstable_now()-F<$)}function z(){if(N!==null){var U=t.unstable_now();F=U;var te=!0;try{te=N(!0,U)}finally{te?W():(P=!1,N=null)}}else P=!1}var W;if(typeof I=="function")W=function(){I(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=z,W=function(){B.postMessage(null)}}else W=function(){w(z,0)};function J(U){N=U,P||(P=!0,W())}function K(U,te){D=w(function(){U(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){b||_||(b=!0,J(E))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var re=v;v=te;try{return U()}finally{v=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,te){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=v;v=U;try{return te()}finally{v=re}},t.unstable_scheduleCallback=function(U,te,re){var j=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?j+re:j):re=j,U){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=re+X,U={id:h++,callback:te,priorityLevel:U,startTime:re,expirationTime:X,sortIndex:-1},re>j?(U.sortIndex=re,e(d,U),n(c)===null&&U===n(d)&&(S?(A(D),D=-1):S=!0,K(O,re-j))):(U.sortIndex=X,e(c,U),b||_||(b=!0,J(E))),U},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(U){var te=v;return function(){var re=v;v=te;try{return U.apply(this,arguments)}finally{v=re}}}}(fg)),fg}var rC;function sL(){return rC||(rC=1,dg.exports=oL()),dg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC;function lL(){if(iC)return Gn;iC=1;var t=_b(),e=sL();function n(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,u){o(s,u),o(s+"Capture",u)}function o(s,u){for(i[s]=u,s=0;s<u.length;s++)r.add(u[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function v(s){return c.call(f,s)?!0:c.call(h,s)?!1:d.test(s)?f[s]=!0:(h[s]=!0,!1)}function _(s,u,p,x){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return x?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,u,p,x){if(u===null||typeof u>"u"||_(s,u,p,x))return!0;if(x)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function S(s,u,p,x,C,T,M){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=x,this.attributeNamespace=C,this.mustUseProperty=p,this.propertyName=s,this.type=u,this.sanitizeURL=T,this.removeEmptyString=M}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];w[u]=new S(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function I(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(A,I);w[u]=new S(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(A,I);w[u]=new S(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(A,I);w[u]=new S(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function k(s,u,p,x){var C=w.hasOwnProperty(u)?w[u]:null;(C!==null?C.type!==0:x||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,p,C,x)&&(p=null),x||C===null?v(u)&&(p===null?s.removeAttribute(u):s.setAttribute(u,""+p)):C.mustUseProperty?s[C.propertyName]=p===null?C.type===3?!1:"":p:(u=C.attributeName,x=C.attributeNamespace,p===null?s.removeAttribute(u):(C=C.type,p=C===3||C===4&&p===!0?"":""+p,x?s.setAttributeNS(x,u,p):s.setAttribute(u,p))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),P=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),U=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var re=Object.assign,j;function X(s){if(j===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);j=u&&u[1]||""}return`
`+j+s}var ue=!1;function Se(s,u){if(!s||ue)return"";ue=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(oe){var x=oe}Reflect.construct(s,[],u)}else{try{u.call()}catch(oe){x=oe}s.call(u.prototype)}else{try{throw Error()}catch(oe){x=oe}s()}}catch(oe){if(oe&&x&&typeof oe.stack=="string"){for(var C=oe.stack.split(`
`),T=x.stack.split(`
`),M=C.length-1,q=T.length-1;1<=M&&0<=q&&C[M]!==T[q];)q--;for(;1<=M&&0<=q;M--,q--)if(C[M]!==T[q]){if(M!==1||q!==1)do if(M--,q--,0>q||C[M]!==T[q]){var Y=`
`+C[M].replace(" at new "," at ");return s.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",s.displayName)),Y}while(1<=M&&0<=q);break}}}finally{ue=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?X(s):""}function ce(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=Se(s.type,!1),s;case 11:return s=Se(s.type.render,!1),s;case 1:return s=Se(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case P:return"Portal";case $:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case V:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case z:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return u=s.displayName||null,u!==null?u:Ae(s.type)||"Memo";case J:u=s._payload,s=s._init;try{return Ae(s(u))}catch{}}return null}function ze(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(u);case 8:return u===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function We(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ge(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ce(s){var u=ge(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),x=""+s[u];if(!s.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,T=p.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return C.call(this)},set:function(M){x=""+M,T.call(this,M)}}),Object.defineProperty(s,u,{enumerable:p.enumerable}),{getValue:function(){return x},setValue:function(M){x=""+M},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function Ve(s){s._valueTracker||(s._valueTracker=Ce(s))}function pe(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var p=u.getValue(),x="";return s&&(x=ge(s)?s.checked?"true":"false":s.value),s=x,s!==p?(u.setValue(s),!0):!1}function ht(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function et(s,u){var p=u.checked;return re({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function Ct(s,u){var p=u.defaultValue==null?"":u.defaultValue,x=u.checked!=null?u.checked:u.defaultChecked;p=We(u.value!=null?u.value:p),s._wrapperState={initialChecked:x,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function bt(s,u){u=u.checked,u!=null&&k(s,"checked",u,!1)}function st(s,u){bt(s,u);var p=We(u.value),x=u.type;if(p!=null)x==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(x==="submit"||x==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?Yn(s,u.type,p):u.hasOwnProperty("defaultValue")&&Yn(s,u.type,We(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function vt(s,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var x=u.type;if(!(x!=="submit"&&x!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,p||u===s.value||(s.value=u),s.defaultValue=u}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function Yn(s,u,p){(u!=="number"||ht(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var Gt=Array.isArray;function rn(s,u,p,x){if(s=s.options,u){u={};for(var C=0;C<p.length;C++)u["$"+p[C]]=!0;for(p=0;p<s.length;p++)C=u.hasOwnProperty("$"+s[p].value),s[p].selected!==C&&(s[p].selected=C),C&&x&&(s[p].defaultSelected=!0)}else{for(p=""+We(p),u=null,C=0;C<s.length;C++){if(s[C].value===p){s[C].selected=!0,x&&(s[C].defaultSelected=!0);return}u!==null||s[C].disabled||(u=s[C])}u!==null&&(u.selected=!0)}}function Ht(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function zr(s,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(n(92));if(Gt(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),p=u}s._wrapperState={initialValue:We(p)}}function $i(s,u){var p=We(u.value),x=We(u.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),u.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),x!=null&&(s.defaultValue=""+x)}function Sa(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function wo(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vl(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?wo(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ai,Ac=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,x,C){MSApp.execUnsafeLocalFunction(function(){return s(u,p,x,C)})}:s}(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=ai.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function Ca(s,u){if(u){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=u;return}}s.textContent=u}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bp=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(s){bp.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),ka[u]=ka[s]})});function Pc(s,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||ka.hasOwnProperty(s)&&ka[s]?(""+u).trim():u+"px"}function Li(s,u){s=s.style;for(var p in u)if(u.hasOwnProperty(p)){var x=p.indexOf("--")===0,C=Pc(p,u[p],x);p==="float"&&(p="cssFloat"),x?s.setProperty(p,C):s[p]=C}}var Ta=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qt(s,u){if(u){if(Ta[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function wt(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yl=null;function So(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Co=null,Bi=null,Fi=null;function Ic(s){if(s=Fl(s)){if(typeof Co!="function")throw Error(n(280));var u=s.stateNode;u&&(u=od(u),Co(s.stateNode,s.type,u))}}function Oc(s){Bi?Fi?Fi.push(s):Fi=[s]:Bi=s}function Nc(){if(Bi){var s=Bi,u=Fi;if(Fi=Bi=null,Ic(s),u)for(s=0;s<u.length;s++)Ic(u[s])}}function Mc(s,u){return s(u)}function Dc(){}var xl=!1;function Rc(s,u,p){if(xl)return s(u,p);xl=!0;try{return Mc(s,u,p)}finally{xl=!1,(Bi!==null||Fi!==null)&&(Dc(),Nc())}}function Ea(s,u){var p=s.stateNode;if(p===null)return null;var x=od(p);if(x===null)return null;p=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var _l=!1;if(l)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){_l=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{_l=!1}function wp(s,u,p,x,C,T,M,q,Y){var oe=Array.prototype.slice.call(arguments,3);try{u.apply(p,oe)}catch(me){this.onError(me)}}var Pa=!1,ko=null,To=!1,bl=null,jc={onError:function(s){Pa=!0,ko=s}};function $c(s,u,p,x,C,T,M,q,Y){Pa=!1,ko=null,wp.apply(jc,arguments)}function Sp(s,u,p,x,C,T,M,q,Y){if($c.apply(this,arguments),Pa){if(Pa){var oe=ko;Pa=!1,ko=null}else throw Error(n(198));To||(To=!0,bl=oe)}}function oi(s){var u=s,p=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(p=u.return),s=u.return;while(s)}return u.tag===3?p:null}function Lc(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function Bc(s){if(oi(s)!==s)throw Error(n(188))}function Cp(s){var u=s.alternate;if(!u){if(u=oi(s),u===null)throw Error(n(188));return u!==s?null:s}for(var p=s,x=u;;){var C=p.return;if(C===null)break;var T=C.alternate;if(T===null){if(x=C.return,x!==null){p=x;continue}break}if(C.child===T.child){for(T=C.child;T;){if(T===p)return Bc(C),s;if(T===x)return Bc(C),u;T=T.sibling}throw Error(n(188))}if(p.return!==x.return)p=C,x=T;else{for(var M=!1,q=C.child;q;){if(q===p){M=!0,p=C,x=T;break}if(q===x){M=!0,x=C,p=T;break}q=q.sibling}if(!M){for(q=T.child;q;){if(q===p){M=!0,p=T,x=C;break}if(q===x){M=!0,x=T,p=C;break}q=q.sibling}if(!M)throw Error(n(189))}}if(p.alternate!==x)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?s:u}function Fc(s){return s=Cp(s),s!==null?qc(s):null}function qc(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=qc(s);if(u!==null)return u;s=s.sibling}return null}var Uc=e.unstable_scheduleCallback,Vc=e.unstable_cancelCallback,kp=e.unstable_shouldYield,Tp=e.unstable_requestPaint,Lt=e.unstable_now,Ep=e.unstable_getCurrentPriorityLevel,wl=e.unstable_ImmediatePriority,zc=e.unstable_UserBlockingPriority,Eo=e.unstable_NormalPriority,Ap=e.unstable_LowPriority,Gc=e.unstable_IdlePriority,Ao=null,or=null;function Pp(s){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(Ao,s,void 0,(s.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:Np,Ip=Math.log,Op=Math.LN2;function Np(s){return s>>>=0,s===0?32:31-(Ip(s)/Op|0)|0}var Po=64,Io=4194304;function Ia(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Oo(s,u){var p=s.pendingLanes;if(p===0)return 0;var x=0,C=s.suspendedLanes,T=s.pingedLanes,M=p&268435455;if(M!==0){var q=M&~C;q!==0?x=Ia(q):(T&=M,T!==0&&(x=Ia(T)))}else M=p&~C,M!==0?x=Ia(M):T!==0&&(x=Ia(T));if(x===0)return 0;if(u!==0&&u!==x&&(u&C)===0&&(C=x&-x,T=u&-u,C>=T||C===16&&(T&4194240)!==0))return u;if((x&4)!==0&&(x|=p&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=x;0<u;)p=31-Jn(u),C=1<<p,x|=s[p],u&=~C;return x}function Tn(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mp(s,u){for(var p=s.suspendedLanes,x=s.pingedLanes,C=s.expirationTimes,T=s.pendingLanes;0<T;){var M=31-Jn(T),q=1<<M,Y=C[M];Y===-1?((q&p)===0||(q&x)!==0)&&(C[M]=Tn(q,u)):Y<=u&&(s.expiredLanes|=q),T&=~q}}function Sl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Hc(){var s=Po;return Po<<=1,(Po&4194240)===0&&(Po=64),s}function No(s){for(var u=[],p=0;31>p;p++)u.push(s);return u}function G(s,u,p){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-Jn(u),s[u]=p}function Z(s,u){var p=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var x=s.eventTimes;for(s=s.expirationTimes;0<p;){var C=31-Jn(p),T=1<<C;u[C]=0,x[C]=-1,s[C]=-1,p&=~T}}function Q(s,u){var p=s.entangledLanes|=u;for(s=s.entanglements;p;){var x=31-Jn(p),C=1<<x;C&u|s[x]&u&&(s[x]|=u),p&=~C}}var ie=0;function le(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var be,Me,Re,Ot,Le,Xt=!1,Ln=[],Bn=null,sr=null,lr=null,si=new Map,li=new Map,ur=[],Cl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mo(s,u){switch(s){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":si.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(u.pointerId)}}function ui(s,u,p,x,C,T){return s===null||s.nativeEvent!==T?(s={blockedOn:u,domEventName:p,eventSystemFlags:x,nativeEvent:T,targetContainers:[C]},u!==null&&(u=Fl(u),u!==null&&Me(u)),s):(s.eventSystemFlags|=x,u=s.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),s)}function kl(s,u,p,x,C){switch(u){case"focusin":return Bn=ui(Bn,s,u,p,x,C),!0;case"dragenter":return sr=ui(sr,s,u,p,x,C),!0;case"mouseover":return lr=ui(lr,s,u,p,x,C),!0;case"pointerover":var T=C.pointerId;return si.set(T,ui(si.get(T)||null,s,u,p,x,C)),!0;case"gotpointercapture":return T=C.pointerId,li.set(T,ui(li.get(T)||null,s,u,p,x,C)),!0}return!1}function En(s){var u=Oa(s.target);if(u!==null){var p=oi(u);if(p!==null){if(u=p.tag,u===13){if(u=Lc(p),u!==null){s.blockedOn=u,Le(s.priority,function(){Re(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xn(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var p=Rp(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var x=new p.constructor(p.type,p);yl=x,p.target.dispatchEvent(x),yl=null}else return u=Fl(p),u!==null&&Me(u),s.blockedOn=p,!1;u.shift()}return!0}function qi(s,u,p){Xn(s)&&p.delete(u)}function Tl(){Xt=!1,Bn!==null&&Xn(Bn)&&(Bn=null),sr!==null&&Xn(sr)&&(sr=null),lr!==null&&Xn(lr)&&(lr=null),si.forEach(qi),li.forEach(qi)}function El(s,u){s.blockedOn===u&&(s.blockedOn=null,Xt||(Xt=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tl)))}function Al(s){function u(C){return El(C,s)}if(0<Ln.length){El(Ln[0],s);for(var p=1;p<Ln.length;p++){var x=Ln[p];x.blockedOn===s&&(x.blockedOn=null)}}for(Bn!==null&&El(Bn,s),sr!==null&&El(sr,s),lr!==null&&El(lr,s),si.forEach(u),li.forEach(u),p=0;p<ur.length;p++)x=ur[p],x.blockedOn===s&&(x.blockedOn=null);for(;0<ur.length&&(p=ur[0],p.blockedOn===null);)En(p),p.blockedOn===null&&ur.shift()}var Do=O.ReactCurrentBatchConfig,Wc=!0;function Ej(s,u,p,x){var C=ie,T=Do.transition;Do.transition=null;try{ie=1,Dp(s,u,p,x)}finally{ie=C,Do.transition=T}}function Aj(s,u,p,x){var C=ie,T=Do.transition;Do.transition=null;try{ie=4,Dp(s,u,p,x)}finally{ie=C,Do.transition=T}}function Dp(s,u,p,x){if(Wc){var C=Rp(s,u,p,x);if(C===null)Zp(s,u,x,Kc,p),Mo(s,x);else if(kl(C,s,u,p,x))x.stopPropagation();else if(Mo(s,x),u&4&&-1<Cl.indexOf(s)){for(;C!==null;){var T=Fl(C);if(T!==null&&be(T),T=Rp(s,u,p,x),T===null&&Zp(s,u,x,Kc,p),T===C)break;C=T}C!==null&&x.stopPropagation()}else Zp(s,u,x,null,p)}}var Kc=null;function Rp(s,u,p,x){if(Kc=null,s=So(x),s=Oa(s),s!==null)if(u=oi(s),u===null)s=null;else if(p=u.tag,p===13){if(s=Lc(u),s!==null)return s;s=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return Kc=s,null}function Lw(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ep()){case wl:return 1;case zc:return 4;case Eo:case Ap:return 16;case Gc:return 536870912;default:return 16}default:return 16}}var Ui=null,jp=null,Yc=null;function Bw(){if(Yc)return Yc;var s,u=jp,p=u.length,x,C="value"in Ui?Ui.value:Ui.textContent,T=C.length;for(s=0;s<p&&u[s]===C[s];s++);var M=p-s;for(x=1;x<=M&&u[p-x]===C[T-x];x++);return Yc=C.slice(s,1<x?1-x:void 0)}function Jc(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Xc(){return!0}function Fw(){return!1}function Zn(s){function u(p,x,C,T,M){this._reactName=p,this._targetInst=C,this.type=x,this.nativeEvent=T,this.target=M,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(p=s[q],this[q]=p?p(T):T[q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Xc:Fw,this.isPropagationStopped=Fw,this}return re(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),u}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$p=Zn(Ro),Pl=re({},Ro,{view:0,detail:0}),Pj=Zn(Pl),Lp,Bp,Il,Zc=re({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Il&&(Il&&s.type==="mousemove"?(Lp=s.screenX-Il.screenX,Bp=s.screenY-Il.screenY):Bp=Lp=0,Il=s),Lp)},movementY:function(s){return"movementY"in s?s.movementY:Bp}}),qw=Zn(Zc),Ij=re({},Zc,{dataTransfer:0}),Oj=Zn(Ij),Nj=re({},Pl,{relatedTarget:0}),Fp=Zn(Nj),Mj=re({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),Dj=Zn(Mj),Rj=re({},Ro,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),jj=Zn(Rj),$j=re({},Ro,{data:0}),Uw=Zn($j),Lj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qj(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=Fj[s])?!!u[s]:!1}function qp(){return qj}var Uj=re({},Pl,{key:function(s){if(s.key){var u=Lj[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Jc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Bj[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qp,charCode:function(s){return s.type==="keypress"?Jc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Jc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Vj=Zn(Uj),zj=re({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vw=Zn(zj),Gj=re({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qp}),Hj=Zn(Gj),Wj=re({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kj=Zn(Wj),Yj=re({},Zc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Jj=Zn(Yj),Xj=[9,13,27,32],Up=l&&"CompositionEvent"in window,Ol=null;l&&"documentMode"in document&&(Ol=document.documentMode);var Zj=l&&"TextEvent"in window&&!Ol,zw=l&&(!Up||Ol&&8<Ol&&11>=Ol),Gw=" ",Hw=!1;function Ww(s,u){switch(s){case"keyup":return Xj.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var jo=!1;function Qj(s,u){switch(s){case"compositionend":return Kw(u);case"keypress":return u.which!==32?null:(Hw=!0,Gw);case"textInput":return s=u.data,s===Gw&&Hw?null:s;default:return null}}function e$(s,u){if(jo)return s==="compositionend"||!Up&&Ww(s,u)?(s=Bw(),Yc=jp=Ui=null,jo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return zw&&u.locale!=="ko"?null:u.data;default:return null}}var t$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yw(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!t$[s.type]:u==="textarea"}function Jw(s,u,p,x){Oc(x),u=rd(u,"onChange"),0<u.length&&(p=new $p("onChange","change",null,p,x),s.push({event:p,listeners:u}))}var Nl=null,Ml=null;function n$(s){pS(s,0)}function Qc(s){var u=qo(s);if(pe(u))return s}function r$(s,u){if(s==="change")return u}var Xw=!1;if(l){var Vp;if(l){var zp="oninput"in document;if(!zp){var Zw=document.createElement("div");Zw.setAttribute("oninput","return;"),zp=typeof Zw.oninput=="function"}Vp=zp}else Vp=!1;Xw=Vp&&(!document.documentMode||9<document.documentMode)}function Qw(){Nl&&(Nl.detachEvent("onpropertychange",eS),Ml=Nl=null)}function eS(s){if(s.propertyName==="value"&&Qc(Ml)){var u=[];Jw(u,Ml,s,So(s)),Rc(n$,u)}}function i$(s,u,p){s==="focusin"?(Qw(),Nl=u,Ml=p,Nl.attachEvent("onpropertychange",eS)):s==="focusout"&&Qw()}function a$(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qc(Ml)}function o$(s,u){if(s==="click")return Qc(u)}function s$(s,u){if(s==="input"||s==="change")return Qc(u)}function l$(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var kr=typeof Object.is=="function"?Object.is:l$;function Dl(s,u){if(kr(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var p=Object.keys(s),x=Object.keys(u);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var C=p[x];if(!c.call(u,C)||!kr(s[C],u[C]))return!1}return!0}function tS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nS(s,u){var p=tS(s);s=0;for(var x;p;){if(p.nodeType===3){if(x=s+p.textContent.length,s<=u&&x>=u)return{node:p,offset:u-s};s=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=tS(p)}}function rS(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?rS(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function iS(){for(var s=window,u=ht();u instanceof s.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)s=u.contentWindow;else break;u=ht(s.document)}return u}function Gp(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function u$(s){var u=iS(),p=s.focusedElem,x=s.selectionRange;if(u!==p&&p&&p.ownerDocument&&rS(p.ownerDocument.documentElement,p)){if(x!==null&&Gp(p)){if(u=x.start,s=x.end,s===void 0&&(s=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(s,p.value.length);else if(s=(u=p.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var C=p.textContent.length,T=Math.min(x.start,C);x=x.end===void 0?T:Math.min(x.end,C),!s.extend&&T>x&&(C=x,x=T,T=C),C=nS(p,T);var M=nS(p,x);C&&M&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==M.node||s.focusOffset!==M.offset)&&(u=u.createRange(),u.setStart(C.node,C.offset),s.removeAllRanges(),T>x?(s.addRange(u),s.extend(M.node,M.offset)):(u.setEnd(M.node,M.offset),s.addRange(u)))}}for(u=[],s=p;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)s=u[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var c$=l&&"documentMode"in document&&11>=document.documentMode,$o=null,Hp=null,Rl=null,Wp=!1;function aS(s,u,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Wp||$o==null||$o!==ht(x)||(x=$o,"selectionStart"in x&&Gp(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Rl&&Dl(Rl,x)||(Rl=x,x=rd(Hp,"onSelect"),0<x.length&&(u=new $p("onSelect","select",null,u,p),s.push({event:u,listeners:x}),u.target=$o)))}function ed(s,u){var p={};return p[s.toLowerCase()]=u.toLowerCase(),p["Webkit"+s]="webkit"+u,p["Moz"+s]="moz"+u,p}var Lo={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},Kp={},oS={};l&&(oS=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function td(s){if(Kp[s])return Kp[s];if(!Lo[s])return s;var u=Lo[s],p;for(p in u)if(u.hasOwnProperty(p)&&p in oS)return Kp[s]=u[p];return s}var sS=td("animationend"),lS=td("animationiteration"),uS=td("animationstart"),cS=td("transitionend"),dS=new Map,fS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(s,u){dS.set(s,u),a(u,[s])}for(var Yp=0;Yp<fS.length;Yp++){var Jp=fS[Yp],d$=Jp.toLowerCase(),f$=Jp[0].toUpperCase()+Jp.slice(1);Vi(d$,"on"+f$)}Vi(sS,"onAnimationEnd"),Vi(lS,"onAnimationIteration"),Vi(uS,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(cS,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h$=new Set("cancel close invalid load scroll toggle".split(" ").concat(jl));function hS(s,u,p){var x=s.type||"unknown-event";s.currentTarget=p,Sp(x,u,void 0,s),s.currentTarget=null}function pS(s,u){u=(u&4)!==0;for(var p=0;p<s.length;p++){var x=s[p],C=x.event;x=x.listeners;e:{var T=void 0;if(u)for(var M=x.length-1;0<=M;M--){var q=x[M],Y=q.instance,oe=q.currentTarget;if(q=q.listener,Y!==T&&C.isPropagationStopped())break e;hS(C,q,oe),T=Y}else for(M=0;M<x.length;M++){if(q=x[M],Y=q.instance,oe=q.currentTarget,q=q.listener,Y!==T&&C.isPropagationStopped())break e;hS(C,q,oe),T=Y}}}if(To)throw s=bl,To=!1,bl=null,s}function Nt(s,u){var p=u[im];p===void 0&&(p=u[im]=new Set);var x=s+"__bubble";p.has(x)||(mS(u,s,2,!1),p.add(x))}function Xp(s,u,p){var x=0;u&&(x|=4),mS(p,s,x,u)}var nd="_reactListening"+Math.random().toString(36).slice(2);function $l(s){if(!s[nd]){s[nd]=!0,r.forEach(function(p){p!=="selectionchange"&&(h$.has(p)||Xp(p,!1,s),Xp(p,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[nd]||(u[nd]=!0,Xp("selectionchange",!1,u))}}function mS(s,u,p,x){switch(Lw(u)){case 1:var C=Ej;break;case 4:C=Aj;break;default:C=Dp}p=C.bind(null,u,p,s),C=void 0,!_l||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),x?C!==void 0?s.addEventListener(u,p,{capture:!0,passive:C}):s.addEventListener(u,p,!0):C!==void 0?s.addEventListener(u,p,{passive:C}):s.addEventListener(u,p,!1)}function Zp(s,u,p,x,C){var T=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var M=x.tag;if(M===3||M===4){var q=x.stateNode.containerInfo;if(q===C||q.nodeType===8&&q.parentNode===C)break;if(M===4)for(M=x.return;M!==null;){var Y=M.tag;if((Y===3||Y===4)&&(Y=M.stateNode.containerInfo,Y===C||Y.nodeType===8&&Y.parentNode===C))return;M=M.return}for(;q!==null;){if(M=Oa(q),M===null)return;if(Y=M.tag,Y===5||Y===6){x=T=M;continue e}q=q.parentNode}}x=x.return}Rc(function(){var oe=T,me=So(p),ye=[];e:{var fe=dS.get(s);if(fe!==void 0){var Ee=$p,Oe=s;switch(s){case"keypress":if(Jc(p)===0)break e;case"keydown":case"keyup":Ee=Vj;break;case"focusin":Oe="focus",Ee=Fp;break;case"focusout":Oe="blur",Ee=Fp;break;case"beforeblur":case"afterblur":Ee=Fp;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=qw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Oj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=Hj;break;case sS:case lS:case uS:Ee=Dj;break;case cS:Ee=Kj;break;case"scroll":Ee=Pj;break;case"wheel":Ee=Jj;break;case"copy":case"cut":case"paste":Ee=jj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=Vw}var De=(u&4)!==0,zt=!De&&s==="scroll",ne=De?fe!==null?fe+"Capture":null:fe;De=[];for(var ee=oe,ae;ee!==null;){ae=ee;var xe=ae.stateNode;if(ae.tag===5&&xe!==null&&(ae=xe,ne!==null&&(xe=Ea(ee,ne),xe!=null&&De.push(Ll(ee,xe,ae)))),zt)break;ee=ee.return}0<De.length&&(fe=new Ee(fe,Oe,null,p,me),ye.push({event:fe,listeners:De}))}}if((u&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",Ee=s==="mouseout"||s==="pointerout",fe&&p!==yl&&(Oe=p.relatedTarget||p.fromElement)&&(Oa(Oe)||Oe[ci]))break e;if((Ee||fe)&&(fe=me.window===me?me:(fe=me.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ee?(Oe=p.relatedTarget||p.toElement,Ee=oe,Oe=Oe?Oa(Oe):null,Oe!==null&&(zt=oi(Oe),Oe!==zt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Ee=null,Oe=oe),Ee!==Oe)){if(De=qw,xe="onMouseLeave",ne="onMouseEnter",ee="mouse",(s==="pointerout"||s==="pointerover")&&(De=Vw,xe="onPointerLeave",ne="onPointerEnter",ee="pointer"),zt=Ee==null?fe:qo(Ee),ae=Oe==null?fe:qo(Oe),fe=new De(xe,ee+"leave",Ee,p,me),fe.target=zt,fe.relatedTarget=ae,xe=null,Oa(me)===oe&&(De=new De(ne,ee+"enter",Oe,p,me),De.target=ae,De.relatedTarget=zt,xe=De),zt=xe,Ee&&Oe)t:{for(De=Ee,ne=Oe,ee=0,ae=De;ae;ae=Bo(ae))ee++;for(ae=0,xe=ne;xe;xe=Bo(xe))ae++;for(;0<ee-ae;)De=Bo(De),ee--;for(;0<ae-ee;)ne=Bo(ne),ae--;for(;ee--;){if(De===ne||ne!==null&&De===ne.alternate)break t;De=Bo(De),ne=Bo(ne)}De=null}else De=null;Ee!==null&&gS(ye,fe,Ee,De,!1),Oe!==null&&zt!==null&&gS(ye,zt,Oe,De,!0)}}e:{if(fe=oe?qo(oe):window,Ee=fe.nodeName&&fe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&fe.type==="file")var je=r$;else if(Yw(fe))if(Xw)je=s$;else{je=a$;var Fe=i$}else(Ee=fe.nodeName)&&Ee.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(je=o$);if(je&&(je=je(s,oe))){Jw(ye,je,p,me);break e}Fe&&Fe(s,fe,oe),s==="focusout"&&(Fe=fe._wrapperState)&&Fe.controlled&&fe.type==="number"&&Yn(fe,"number",fe.value)}switch(Fe=oe?qo(oe):window,s){case"focusin":(Yw(Fe)||Fe.contentEditable==="true")&&($o=Fe,Hp=oe,Rl=null);break;case"focusout":Rl=Hp=$o=null;break;case"mousedown":Wp=!0;break;case"contextmenu":case"mouseup":case"dragend":Wp=!1,aS(ye,p,me);break;case"selectionchange":if(c$)break;case"keydown":case"keyup":aS(ye,p,me)}var qe;if(Up)e:{switch(s){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else jo?Ww(s,p)&&(Ke="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Ke="onCompositionStart");Ke&&(zw&&p.locale!=="ko"&&(jo||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&jo&&(qe=Bw()):(Ui=me,jp="value"in Ui?Ui.value:Ui.textContent,jo=!0)),Fe=rd(oe,Ke),0<Fe.length&&(Ke=new Uw(Ke,s,null,p,me),ye.push({event:Ke,listeners:Fe}),qe?Ke.data=qe:(qe=Kw(p),qe!==null&&(Ke.data=qe)))),(qe=Zj?Qj(s,p):e$(s,p))&&(oe=rd(oe,"onBeforeInput"),0<oe.length&&(me=new Uw("onBeforeInput","beforeinput",null,p,me),ye.push({event:me,listeners:oe}),me.data=qe))}pS(ye,u)})}function Ll(s,u,p){return{instance:s,listener:u,currentTarget:p}}function rd(s,u){for(var p=u+"Capture",x=[];s!==null;){var C=s,T=C.stateNode;C.tag===5&&T!==null&&(C=T,T=Ea(s,p),T!=null&&x.unshift(Ll(s,T,C)),T=Ea(s,u),T!=null&&x.push(Ll(s,T,C))),s=s.return}return x}function Bo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function gS(s,u,p,x,C){for(var T=u._reactName,M=[];p!==null&&p!==x;){var q=p,Y=q.alternate,oe=q.stateNode;if(Y!==null&&Y===x)break;q.tag===5&&oe!==null&&(q=oe,C?(Y=Ea(p,T),Y!=null&&M.unshift(Ll(p,Y,q))):C||(Y=Ea(p,T),Y!=null&&M.push(Ll(p,Y,q)))),p=p.return}M.length!==0&&s.push({event:u,listeners:M})}var p$=/\r\n?/g,m$=/\u0000|\uFFFD/g;function vS(s){return(typeof s=="string"?s:""+s).replace(p$,`
`).replace(m$,"")}function id(s,u,p){if(u=vS(u),vS(s)!==u&&p)throw Error(n(425))}function ad(){}var Qp=null,em=null;function tm(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var nm=typeof setTimeout=="function"?setTimeout:void 0,g$=typeof clearTimeout=="function"?clearTimeout:void 0,yS=typeof Promise=="function"?Promise:void 0,v$=typeof queueMicrotask=="function"?queueMicrotask:typeof yS<"u"?function(s){return yS.resolve(null).then(s).catch(y$)}:nm;function y$(s){setTimeout(function(){throw s})}function rm(s,u){var p=u,x=0;do{var C=p.nextSibling;if(s.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(x===0){s.removeChild(C),Al(u);return}x--}else p!=="$"&&p!=="$?"&&p!=="$!"||x++;p=C}while(p);Al(u)}function zi(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function xS(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return s;u--}else p==="/$"&&u++}s=s.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Fo,Bl="__reactProps$"+Fo,ci="__reactContainer$"+Fo,im="__reactEvents$"+Fo,x$="__reactListeners$"+Fo,_$="__reactHandles$"+Fo;function Oa(s){var u=s[Gr];if(u)return u;for(var p=s.parentNode;p;){if(u=p[ci]||p[Gr]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(s=xS(s);s!==null;){if(p=s[Gr])return p;s=xS(s)}return u}s=p,p=s.parentNode}return null}function Fl(s){return s=s[Gr]||s[ci],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function qo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function od(s){return s[Bl]||null}var am=[],Uo=-1;function Gi(s){return{current:s}}function Mt(s){0>Uo||(s.current=am[Uo],am[Uo]=null,Uo--)}function kt(s,u){Uo++,am[Uo]=s.current,s.current=u}var Hi={},yn=Gi(Hi),Fn=Gi(!1),Na=Hi;function Vo(s,u){var p=s.type.contextTypes;if(!p)return Hi;var x=s.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===u)return x.__reactInternalMemoizedMaskedChildContext;var C={},T;for(T in p)C[T]=u[T];return x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=C),C}function qn(s){return s=s.childContextTypes,s!=null}function sd(){Mt(Fn),Mt(yn)}function _S(s,u,p){if(yn.current!==Hi)throw Error(n(168));kt(yn,u),kt(Fn,p)}function bS(s,u,p){var x=s.stateNode;if(u=u.childContextTypes,typeof x.getChildContext!="function")return p;x=x.getChildContext();for(var C in x)if(!(C in u))throw Error(n(108,ze(s)||"Unknown",C));return re({},p,x)}function ld(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hi,Na=yn.current,kt(yn,s),kt(Fn,Fn.current),!0}function wS(s,u,p){var x=s.stateNode;if(!x)throw Error(n(169));p?(s=bS(s,u,Na),x.__reactInternalMemoizedMergedChildContext=s,Mt(Fn),Mt(yn),kt(yn,s)):Mt(Fn),kt(Fn,p)}var di=null,ud=!1,om=!1;function SS(s){di===null?di=[s]:di.push(s)}function b$(s){ud=!0,SS(s)}function Wi(){if(!om&&di!==null){om=!0;var s=0,u=ie;try{var p=di;for(ie=1;s<p.length;s++){var x=p[s];do x=x(!0);while(x!==null)}di=null,ud=!1}catch(C){throw di!==null&&(di=di.slice(s+1)),Uc(wl,Wi),C}finally{ie=u,om=!1}}return null}var zo=[],Go=0,cd=null,dd=0,cr=[],dr=0,Ma=null,fi=1,hi="";function Da(s,u){zo[Go++]=dd,zo[Go++]=cd,cd=s,dd=u}function CS(s,u,p){cr[dr++]=fi,cr[dr++]=hi,cr[dr++]=Ma,Ma=s;var x=fi;s=hi;var C=32-Jn(x)-1;x&=~(1<<C),p+=1;var T=32-Jn(u)+C;if(30<T){var M=C-C%5;T=(x&(1<<M)-1).toString(32),x>>=M,C-=M,fi=1<<32-Jn(u)+C|p<<C|x,hi=T+s}else fi=1<<T|p<<C|x,hi=s}function sm(s){s.return!==null&&(Da(s,1),CS(s,1,0))}function lm(s){for(;s===cd;)cd=zo[--Go],zo[Go]=null,dd=zo[--Go],zo[Go]=null;for(;s===Ma;)Ma=cr[--dr],cr[dr]=null,hi=cr[--dr],cr[dr]=null,fi=cr[--dr],cr[dr]=null}var Qn=null,er=null,jt=!1,Tr=null;function kS(s,u){var p=mr(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=s,u=s.deletions,u===null?(s.deletions=[p],s.flags|=16):u.push(p)}function TS(s,u){switch(s.tag){case 5:var p=s.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,Qn=s,er=zi(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,Qn=s,er=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=Ma!==null?{id:fi,overflow:hi}:null,s.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=mr(18,null,null,0),p.stateNode=u,p.return=s,s.child=p,Qn=s,er=null,!0):!1;default:return!1}}function um(s){return(s.mode&1)!==0&&(s.flags&128)===0}function cm(s){if(jt){var u=er;if(u){var p=u;if(!TS(s,u)){if(um(s))throw Error(n(418));u=zi(p.nextSibling);var x=Qn;u&&TS(s,u)?kS(x,p):(s.flags=s.flags&-4097|2,jt=!1,Qn=s)}}else{if(um(s))throw Error(n(418));s.flags=s.flags&-4097|2,jt=!1,Qn=s}}}function ES(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Qn=s}function fd(s){if(s!==Qn)return!1;if(!jt)return ES(s),jt=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!tm(s.type,s.memoizedProps)),u&&(u=er)){if(um(s))throw AS(),Error(n(418));for(;u;)kS(s,u),u=zi(u.nextSibling)}if(ES(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(u===0){er=zi(s.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}s=s.nextSibling}er=null}}else er=Qn?zi(s.stateNode.nextSibling):null;return!0}function AS(){for(var s=er;s;)s=zi(s.nextSibling)}function Ho(){er=Qn=null,jt=!1}function dm(s){Tr===null?Tr=[s]:Tr.push(s)}var w$=O.ReactCurrentBatchConfig;function ql(s,u,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var x=p.stateNode}if(!x)throw Error(n(147,s));var C=x,T=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(M){var q=C.refs;M===null?delete q[T]:q[T]=M},u._stringRef=T,u)}if(typeof s!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,s))}return s}function hd(s,u){throw s=Object.prototype.toString.call(u),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function PS(s){var u=s._init;return u(s._payload)}function IS(s){function u(ne,ee){if(s){var ae=ne.deletions;ae===null?(ne.deletions=[ee],ne.flags|=16):ae.push(ee)}}function p(ne,ee){if(!s)return null;for(;ee!==null;)u(ne,ee),ee=ee.sibling;return null}function x(ne,ee){for(ne=new Map;ee!==null;)ee.key!==null?ne.set(ee.key,ee):ne.set(ee.index,ee),ee=ee.sibling;return ne}function C(ne,ee){return ne=ta(ne,ee),ne.index=0,ne.sibling=null,ne}function T(ne,ee,ae){return ne.index=ae,s?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<ee?(ne.flags|=2,ee):ae):(ne.flags|=2,ee)):(ne.flags|=1048576,ee)}function M(ne){return s&&ne.alternate===null&&(ne.flags|=2),ne}function q(ne,ee,ae,xe){return ee===null||ee.tag!==6?(ee=ng(ae,ne.mode,xe),ee.return=ne,ee):(ee=C(ee,ae),ee.return=ne,ee)}function Y(ne,ee,ae,xe){var je=ae.type;return je===N?me(ne,ee,ae.props.children,xe,ae.key):ee!==null&&(ee.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===J&&PS(je)===ee.type)?(xe=C(ee,ae.props),xe.ref=ql(ne,ee,ae),xe.return=ne,xe):(xe=$d(ae.type,ae.key,ae.props,null,ne.mode,xe),xe.ref=ql(ne,ee,ae),xe.return=ne,xe)}function oe(ne,ee,ae,xe){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=rg(ae,ne.mode,xe),ee.return=ne,ee):(ee=C(ee,ae.children||[]),ee.return=ne,ee)}function me(ne,ee,ae,xe,je){return ee===null||ee.tag!==7?(ee=Ua(ae,ne.mode,xe,je),ee.return=ne,ee):(ee=C(ee,ae),ee.return=ne,ee)}function ye(ne,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=ng(""+ee,ne.mode,ae),ee.return=ne,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return ae=$d(ee.type,ee.key,ee.props,null,ne.mode,ae),ae.ref=ql(ne,null,ee),ae.return=ne,ae;case P:return ee=rg(ee,ne.mode,ae),ee.return=ne,ee;case J:var xe=ee._init;return ye(ne,xe(ee._payload),ae)}if(Gt(ee)||te(ee))return ee=Ua(ee,ne.mode,ae,null),ee.return=ne,ee;hd(ne,ee)}return null}function fe(ne,ee,ae,xe){var je=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return je!==null?null:q(ne,ee,""+ae,xe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return ae.key===je?Y(ne,ee,ae,xe):null;case P:return ae.key===je?oe(ne,ee,ae,xe):null;case J:return je=ae._init,fe(ne,ee,je(ae._payload),xe)}if(Gt(ae)||te(ae))return je!==null?null:me(ne,ee,ae,xe,null);hd(ne,ae)}return null}function Ee(ne,ee,ae,xe,je){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ne=ne.get(ae)||null,q(ee,ne,""+xe,je);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case E:return ne=ne.get(xe.key===null?ae:xe.key)||null,Y(ee,ne,xe,je);case P:return ne=ne.get(xe.key===null?ae:xe.key)||null,oe(ee,ne,xe,je);case J:var Fe=xe._init;return Ee(ne,ee,ae,Fe(xe._payload),je)}if(Gt(xe)||te(xe))return ne=ne.get(ae)||null,me(ee,ne,xe,je,null);hd(ee,xe)}return null}function Oe(ne,ee,ae,xe){for(var je=null,Fe=null,qe=ee,Ke=ee=0,sn=null;qe!==null&&Ke<ae.length;Ke++){qe.index>Ke?(sn=qe,qe=null):sn=qe.sibling;var ut=fe(ne,qe,ae[Ke],xe);if(ut===null){qe===null&&(qe=sn);break}s&&qe&&ut.alternate===null&&u(ne,qe),ee=T(ut,ee,Ke),Fe===null?je=ut:Fe.sibling=ut,Fe=ut,qe=sn}if(Ke===ae.length)return p(ne,qe),jt&&Da(ne,Ke),je;if(qe===null){for(;Ke<ae.length;Ke++)qe=ye(ne,ae[Ke],xe),qe!==null&&(ee=T(qe,ee,Ke),Fe===null?je=qe:Fe.sibling=qe,Fe=qe);return jt&&Da(ne,Ke),je}for(qe=x(ne,qe);Ke<ae.length;Ke++)sn=Ee(qe,ne,Ke,ae[Ke],xe),sn!==null&&(s&&sn.alternate!==null&&qe.delete(sn.key===null?Ke:sn.key),ee=T(sn,ee,Ke),Fe===null?je=sn:Fe.sibling=sn,Fe=sn);return s&&qe.forEach(function(na){return u(ne,na)}),jt&&Da(ne,Ke),je}function De(ne,ee,ae,xe){var je=te(ae);if(typeof je!="function")throw Error(n(150));if(ae=je.call(ae),ae==null)throw Error(n(151));for(var Fe=je=null,qe=ee,Ke=ee=0,sn=null,ut=ae.next();qe!==null&&!ut.done;Ke++,ut=ae.next()){qe.index>Ke?(sn=qe,qe=null):sn=qe.sibling;var na=fe(ne,qe,ut.value,xe);if(na===null){qe===null&&(qe=sn);break}s&&qe&&na.alternate===null&&u(ne,qe),ee=T(na,ee,Ke),Fe===null?je=na:Fe.sibling=na,Fe=na,qe=sn}if(ut.done)return p(ne,qe),jt&&Da(ne,Ke),je;if(qe===null){for(;!ut.done;Ke++,ut=ae.next())ut=ye(ne,ut.value,xe),ut!==null&&(ee=T(ut,ee,Ke),Fe===null?je=ut:Fe.sibling=ut,Fe=ut);return jt&&Da(ne,Ke),je}for(qe=x(ne,qe);!ut.done;Ke++,ut=ae.next())ut=Ee(qe,ne,Ke,ut.value,xe),ut!==null&&(s&&ut.alternate!==null&&qe.delete(ut.key===null?Ke:ut.key),ee=T(ut,ee,Ke),Fe===null?je=ut:Fe.sibling=ut,Fe=ut);return s&&qe.forEach(function(tL){return u(ne,tL)}),jt&&Da(ne,Ke),je}function zt(ne,ee,ae,xe){if(typeof ae=="object"&&ae!==null&&ae.type===N&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:e:{for(var je=ae.key,Fe=ee;Fe!==null;){if(Fe.key===je){if(je=ae.type,je===N){if(Fe.tag===7){p(ne,Fe.sibling),ee=C(Fe,ae.props.children),ee.return=ne,ne=ee;break e}}else if(Fe.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===J&&PS(je)===Fe.type){p(ne,Fe.sibling),ee=C(Fe,ae.props),ee.ref=ql(ne,Fe,ae),ee.return=ne,ne=ee;break e}p(ne,Fe);break}else u(ne,Fe);Fe=Fe.sibling}ae.type===N?(ee=Ua(ae.props.children,ne.mode,xe,ae.key),ee.return=ne,ne=ee):(xe=$d(ae.type,ae.key,ae.props,null,ne.mode,xe),xe.ref=ql(ne,ee,ae),xe.return=ne,ne=xe)}return M(ne);case P:e:{for(Fe=ae.key;ee!==null;){if(ee.key===Fe)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){p(ne,ee.sibling),ee=C(ee,ae.children||[]),ee.return=ne,ne=ee;break e}else{p(ne,ee);break}else u(ne,ee);ee=ee.sibling}ee=rg(ae,ne.mode,xe),ee.return=ne,ne=ee}return M(ne);case J:return Fe=ae._init,zt(ne,ee,Fe(ae._payload),xe)}if(Gt(ae))return Oe(ne,ee,ae,xe);if(te(ae))return De(ne,ee,ae,xe);hd(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,ee!==null&&ee.tag===6?(p(ne,ee.sibling),ee=C(ee,ae),ee.return=ne,ne=ee):(p(ne,ee),ee=ng(ae,ne.mode,xe),ee.return=ne,ne=ee),M(ne)):p(ne,ee)}return zt}var Wo=IS(!0),OS=IS(!1),pd=Gi(null),md=null,Ko=null,fm=null;function hm(){fm=Ko=md=null}function pm(s){var u=pd.current;Mt(pd),s._currentValue=u}function mm(s,u,p){for(;s!==null;){var x=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),s===p)break;s=s.return}}function Yo(s,u){md=s,fm=Ko=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&u)!==0&&(Un=!0),s.firstContext=null)}function fr(s){var u=s._currentValue;if(fm!==s)if(s={context:s,memoizedValue:u,next:null},Ko===null){if(md===null)throw Error(n(308));Ko=s,md.dependencies={lanes:0,firstContext:s}}else Ko=Ko.next=s;return u}var Ra=null;function gm(s){Ra===null?Ra=[s]:Ra.push(s)}function NS(s,u,p,x){var C=u.interleaved;return C===null?(p.next=p,gm(u)):(p.next=C.next,C.next=p),u.interleaved=p,pi(s,x)}function pi(s,u){s.lanes|=u;var p=s.alternate;for(p!==null&&(p.lanes|=u),p=s,s=s.return;s!==null;)s.childLanes|=u,p=s.alternate,p!==null&&(p.childLanes|=u),p=s,s=s.return;return p.tag===3?p.stateNode:null}var Ki=!1;function vm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MS(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function mi(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function Yi(s,u,p){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(lt&2)!==0){var C=x.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),x.pending=u,pi(s,p)}return C=x.interleaved,C===null?(u.next=u,gm(x)):(u.next=C.next,C.next=u),x.interleaved=u,pi(s,p)}function gd(s,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var x=u.lanes;x&=s.pendingLanes,p|=x,u.lanes=p,Q(s,p)}}function DS(s,u){var p=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var C=null,T=null;if(p=p.firstBaseUpdate,p!==null){do{var M={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};T===null?C=T=M:T=T.next=M,p=p.next}while(p!==null);T===null?C=T=u:T=T.next=u}else C=T=u;p={baseState:x.baseState,firstBaseUpdate:C,lastBaseUpdate:T,shared:x.shared,effects:x.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=u:s.next=u,p.lastBaseUpdate=u}function vd(s,u,p,x){var C=s.updateQueue;Ki=!1;var T=C.firstBaseUpdate,M=C.lastBaseUpdate,q=C.shared.pending;if(q!==null){C.shared.pending=null;var Y=q,oe=Y.next;Y.next=null,M===null?T=oe:M.next=oe,M=Y;var me=s.alternate;me!==null&&(me=me.updateQueue,q=me.lastBaseUpdate,q!==M&&(q===null?me.firstBaseUpdate=oe:q.next=oe,me.lastBaseUpdate=Y))}if(T!==null){var ye=C.baseState;M=0,me=oe=Y=null,q=T;do{var fe=q.lane,Ee=q.eventTime;if((x&fe)===fe){me!==null&&(me=me.next={eventTime:Ee,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Oe=s,De=q;switch(fe=u,Ee=p,De.tag){case 1:if(Oe=De.payload,typeof Oe=="function"){ye=Oe.call(Ee,ye,fe);break e}ye=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=De.payload,fe=typeof Oe=="function"?Oe.call(Ee,ye,fe):Oe,fe==null)break e;ye=re({},ye,fe);break e;case 2:Ki=!0}}q.callback!==null&&q.lane!==0&&(s.flags|=64,fe=C.effects,fe===null?C.effects=[q]:fe.push(q))}else Ee={eventTime:Ee,lane:fe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},me===null?(oe=me=Ee,Y=ye):me=me.next=Ee,M|=fe;if(q=q.next,q===null){if(q=C.shared.pending,q===null)break;fe=q,q=fe.next,fe.next=null,C.lastBaseUpdate=fe,C.shared.pending=null}}while(!0);if(me===null&&(Y=ye),C.baseState=Y,C.firstBaseUpdate=oe,C.lastBaseUpdate=me,u=C.shared.interleaved,u!==null){C=u;do M|=C.lane,C=C.next;while(C!==u)}else T===null&&(C.shared.lanes=0);La|=M,s.lanes=M,s.memoizedState=ye}}function RS(s,u,p){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var x=s[u],C=x.callback;if(C!==null){if(x.callback=null,x=p,typeof C!="function")throw Error(n(191,C));C.call(x)}}}var Ul={},Hr=Gi(Ul),Vl=Gi(Ul),zl=Gi(Ul);function ja(s){if(s===Ul)throw Error(n(174));return s}function ym(s,u){switch(kt(zl,u),kt(Vl,s),kt(Hr,Ul),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:vl(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=vl(u,s)}Mt(Hr),kt(Hr,u)}function Jo(){Mt(Hr),Mt(Vl),Mt(zl)}function jS(s){ja(zl.current);var u=ja(Hr.current),p=vl(u,s.type);u!==p&&(kt(Vl,s),kt(Hr,p))}function xm(s){Vl.current===s&&(Mt(Hr),Mt(Vl))}var Bt=Gi(0);function yd(s){for(var u=s;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var _m=[];function bm(){for(var s=0;s<_m.length;s++)_m[s]._workInProgressVersionPrimary=null;_m.length=0}var xd=O.ReactCurrentDispatcher,wm=O.ReactCurrentBatchConfig,$a=0,Ft=null,Zt=null,an=null,_d=!1,Gl=!1,Hl=0,S$=0;function xn(){throw Error(n(321))}function Sm(s,u){if(u===null)return!1;for(var p=0;p<u.length&&p<s.length;p++)if(!kr(s[p],u[p]))return!1;return!0}function Cm(s,u,p,x,C,T){if($a=T,Ft=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,xd.current=s===null||s.memoizedState===null?E$:A$,s=p(x,C),Gl){T=0;do{if(Gl=!1,Hl=0,25<=T)throw Error(n(301));T+=1,an=Zt=null,u.updateQueue=null,xd.current=P$,s=p(x,C)}while(Gl)}if(xd.current=Sd,u=Zt!==null&&Zt.next!==null,$a=0,an=Zt=Ft=null,_d=!1,u)throw Error(n(300));return s}function km(){var s=Hl!==0;return Hl=0,s}function Wr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Ft.memoizedState=an=s:an=an.next=s,an}function hr(){if(Zt===null){var s=Ft.alternate;s=s!==null?s.memoizedState:null}else s=Zt.next;var u=an===null?Ft.memoizedState:an.next;if(u!==null)an=u,Zt=s;else{if(s===null)throw Error(n(310));Zt=s,s={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},an===null?Ft.memoizedState=an=s:an=an.next=s}return an}function Wl(s,u){return typeof u=="function"?u(s):u}function Tm(s){var u=hr(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var x=Zt,C=x.baseQueue,T=p.pending;if(T!==null){if(C!==null){var M=C.next;C.next=T.next,T.next=M}x.baseQueue=C=T,p.pending=null}if(C!==null){T=C.next,x=x.baseState;var q=M=null,Y=null,oe=T;do{var me=oe.lane;if(($a&me)===me)Y!==null&&(Y=Y.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),x=oe.hasEagerState?oe.eagerState:s(x,oe.action);else{var ye={lane:me,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};Y===null?(q=Y=ye,M=x):Y=Y.next=ye,Ft.lanes|=me,La|=me}oe=oe.next}while(oe!==null&&oe!==T);Y===null?M=x:Y.next=q,kr(x,u.memoizedState)||(Un=!0),u.memoizedState=x,u.baseState=M,u.baseQueue=Y,p.lastRenderedState=x}if(s=p.interleaved,s!==null){C=s;do T=C.lane,Ft.lanes|=T,La|=T,C=C.next;while(C!==s)}else C===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function Em(s){var u=hr(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var x=p.dispatch,C=p.pending,T=u.memoizedState;if(C!==null){p.pending=null;var M=C=C.next;do T=s(T,M.action),M=M.next;while(M!==C);kr(T,u.memoizedState)||(Un=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),p.lastRenderedState=T}return[T,x]}function $S(){}function LS(s,u){var p=Ft,x=hr(),C=u(),T=!kr(x.memoizedState,C);if(T&&(x.memoizedState=C,Un=!0),x=x.queue,Am(qS.bind(null,p,x,s),[s]),x.getSnapshot!==u||T||an!==null&&an.memoizedState.tag&1){if(p.flags|=2048,Kl(9,FS.bind(null,p,x,C,u),void 0,null),on===null)throw Error(n(349));($a&30)!==0||BS(p,u,C)}return C}function BS(s,u,p){s.flags|=16384,s={getSnapshot:u,value:p},u=Ft.updateQueue,u===null?(u={lastEffect:null,stores:null},Ft.updateQueue=u,u.stores=[s]):(p=u.stores,p===null?u.stores=[s]:p.push(s))}function FS(s,u,p,x){u.value=p,u.getSnapshot=x,US(u)&&VS(s)}function qS(s,u,p){return p(function(){US(u)&&VS(s)})}function US(s){var u=s.getSnapshot;s=s.value;try{var p=u();return!kr(s,p)}catch{return!0}}function VS(s){var u=pi(s,1);u!==null&&Ir(u,s,1,-1)}function zS(s){var u=Wr();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:s},u.queue=s,s=s.dispatch=T$.bind(null,Ft,s),[u.memoizedState,s]}function Kl(s,u,p,x){return s={tag:s,create:u,destroy:p,deps:x,next:null},u=Ft.updateQueue,u===null?(u={lastEffect:null,stores:null},Ft.updateQueue=u,u.lastEffect=s.next=s):(p=u.lastEffect,p===null?u.lastEffect=s.next=s:(x=p.next,p.next=s,s.next=x,u.lastEffect=s)),s}function GS(){return hr().memoizedState}function bd(s,u,p,x){var C=Wr();Ft.flags|=s,C.memoizedState=Kl(1|u,p,void 0,x===void 0?null:x)}function wd(s,u,p,x){var C=hr();x=x===void 0?null:x;var T=void 0;if(Zt!==null){var M=Zt.memoizedState;if(T=M.destroy,x!==null&&Sm(x,M.deps)){C.memoizedState=Kl(u,p,T,x);return}}Ft.flags|=s,C.memoizedState=Kl(1|u,p,T,x)}function HS(s,u){return bd(8390656,8,s,u)}function Am(s,u){return wd(2048,8,s,u)}function WS(s,u){return wd(4,2,s,u)}function KS(s,u){return wd(4,4,s,u)}function YS(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function JS(s,u,p){return p=p!=null?p.concat([s]):null,wd(4,4,YS.bind(null,u,s),p)}function Pm(){}function XS(s,u){var p=hr();u=u===void 0?null:u;var x=p.memoizedState;return x!==null&&u!==null&&Sm(u,x[1])?x[0]:(p.memoizedState=[s,u],s)}function ZS(s,u){var p=hr();u=u===void 0?null:u;var x=p.memoizedState;return x!==null&&u!==null&&Sm(u,x[1])?x[0]:(s=s(),p.memoizedState=[s,u],s)}function QS(s,u,p){return($a&21)===0?(s.baseState&&(s.baseState=!1,Un=!0),s.memoizedState=p):(kr(p,u)||(p=Hc(),Ft.lanes|=p,La|=p,s.baseState=!0),u)}function C$(s,u){var p=ie;ie=p!==0&&4>p?p:4,s(!0);var x=wm.transition;wm.transition={};try{s(!1),u()}finally{ie=p,wm.transition=x}}function e1(){return hr().memoizedState}function k$(s,u,p){var x=Qi(s);if(p={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null},t1(s))n1(u,p);else if(p=NS(s,u,p,x),p!==null){var C=Pn();Ir(p,s,x,C),r1(p,u,x)}}function T$(s,u,p){var x=Qi(s),C={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null};if(t1(s))n1(u,C);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var M=u.lastRenderedState,q=T(M,p);if(C.hasEagerState=!0,C.eagerState=q,kr(q,M)){var Y=u.interleaved;Y===null?(C.next=C,gm(u)):(C.next=Y.next,Y.next=C),u.interleaved=C;return}}catch{}finally{}p=NS(s,u,C,x),p!==null&&(C=Pn(),Ir(p,s,x,C),r1(p,u,x))}}function t1(s){var u=s.alternate;return s===Ft||u!==null&&u===Ft}function n1(s,u){Gl=_d=!0;var p=s.pending;p===null?u.next=u:(u.next=p.next,p.next=u),s.pending=u}function r1(s,u,p){if((p&4194240)!==0){var x=u.lanes;x&=s.pendingLanes,p|=x,u.lanes=p,Q(s,p)}}var Sd={readContext:fr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},E$={readContext:fr,useCallback:function(s,u){return Wr().memoizedState=[s,u===void 0?null:u],s},useContext:fr,useEffect:HS,useImperativeHandle:function(s,u,p){return p=p!=null?p.concat([s]):null,bd(4194308,4,YS.bind(null,u,s),p)},useLayoutEffect:function(s,u){return bd(4194308,4,s,u)},useInsertionEffect:function(s,u){return bd(4,2,s,u)},useMemo:function(s,u){var p=Wr();return u=u===void 0?null:u,s=s(),p.memoizedState=[s,u],s},useReducer:function(s,u,p){var x=Wr();return u=p!==void 0?p(u):u,x.memoizedState=x.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},x.queue=s,s=s.dispatch=k$.bind(null,Ft,s),[x.memoizedState,s]},useRef:function(s){var u=Wr();return s={current:s},u.memoizedState=s},useState:zS,useDebugValue:Pm,useDeferredValue:function(s){return Wr().memoizedState=s},useTransition:function(){var s=zS(!1),u=s[0];return s=C$.bind(null,s[1]),Wr().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,p){var x=Ft,C=Wr();if(jt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),on===null)throw Error(n(349));($a&30)!==0||BS(x,u,p)}C.memoizedState=p;var T={value:p,getSnapshot:u};return C.queue=T,HS(qS.bind(null,x,T,s),[s]),x.flags|=2048,Kl(9,FS.bind(null,x,T,p,u),void 0,null),p},useId:function(){var s=Wr(),u=on.identifierPrefix;if(jt){var p=hi,x=fi;p=(x&~(1<<32-Jn(x)-1)).toString(32)+p,u=":"+u+"R"+p,p=Hl++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=S$++,u=":"+u+"r"+p.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},A$={readContext:fr,useCallback:XS,useContext:fr,useEffect:Am,useImperativeHandle:JS,useInsertionEffect:WS,useLayoutEffect:KS,useMemo:ZS,useReducer:Tm,useRef:GS,useState:function(){return Tm(Wl)},useDebugValue:Pm,useDeferredValue:function(s){var u=hr();return QS(u,Zt.memoizedState,s)},useTransition:function(){var s=Tm(Wl)[0],u=hr().memoizedState;return[s,u]},useMutableSource:$S,useSyncExternalStore:LS,useId:e1,unstable_isNewReconciler:!1},P$={readContext:fr,useCallback:XS,useContext:fr,useEffect:Am,useImperativeHandle:JS,useInsertionEffect:WS,useLayoutEffect:KS,useMemo:ZS,useReducer:Em,useRef:GS,useState:function(){return Em(Wl)},useDebugValue:Pm,useDeferredValue:function(s){var u=hr();return Zt===null?u.memoizedState=s:QS(u,Zt.memoizedState,s)},useTransition:function(){var s=Em(Wl)[0],u=hr().memoizedState;return[s,u]},useMutableSource:$S,useSyncExternalStore:LS,useId:e1,unstable_isNewReconciler:!1};function Er(s,u){if(s&&s.defaultProps){u=re({},u),s=s.defaultProps;for(var p in s)u[p]===void 0&&(u[p]=s[p]);return u}return u}function Im(s,u,p,x){u=s.memoizedState,p=p(x,u),p=p==null?u:re({},u,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var Cd={isMounted:function(s){return(s=s._reactInternals)?oi(s)===s:!1},enqueueSetState:function(s,u,p){s=s._reactInternals;var x=Pn(),C=Qi(s),T=mi(x,C);T.payload=u,p!=null&&(T.callback=p),u=Yi(s,T,C),u!==null&&(Ir(u,s,C,x),gd(u,s,C))},enqueueReplaceState:function(s,u,p){s=s._reactInternals;var x=Pn(),C=Qi(s),T=mi(x,C);T.tag=1,T.payload=u,p!=null&&(T.callback=p),u=Yi(s,T,C),u!==null&&(Ir(u,s,C,x),gd(u,s,C))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var p=Pn(),x=Qi(s),C=mi(p,x);C.tag=2,u!=null&&(C.callback=u),u=Yi(s,C,x),u!==null&&(Ir(u,s,x,p),gd(u,s,x))}};function i1(s,u,p,x,C,T,M){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,T,M):u.prototype&&u.prototype.isPureReactComponent?!Dl(p,x)||!Dl(C,T):!0}function a1(s,u,p){var x=!1,C=Hi,T=u.contextType;return typeof T=="object"&&T!==null?T=fr(T):(C=qn(u)?Na:yn.current,x=u.contextTypes,T=(x=x!=null)?Vo(s,C):Hi),u=new u(p,T),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Cd,s.stateNode=u,u._reactInternals=s,x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=T),u}function o1(s,u,p,x){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,x),u.state!==s&&Cd.enqueueReplaceState(u,u.state,null)}function Om(s,u,p,x){var C=s.stateNode;C.props=p,C.state=s.memoizedState,C.refs={},vm(s);var T=u.contextType;typeof T=="object"&&T!==null?C.context=fr(T):(T=qn(u)?Na:yn.current,C.context=Vo(s,T)),C.state=s.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(Im(s,u,T,p),C.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(u=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),u!==C.state&&Cd.enqueueReplaceState(C,C.state,null),vd(s,p,C,x),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function Xo(s,u){try{var p="",x=u;do p+=ce(x),x=x.return;while(x);var C=p}catch(T){C=`
Error generating stack: `+T.message+`
`+T.stack}return{value:s,source:u,stack:C,digest:null}}function Nm(s,u,p){return{value:s,source:null,stack:p??null,digest:u??null}}function Mm(s,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var I$=typeof WeakMap=="function"?WeakMap:Map;function s1(s,u,p){p=mi(-1,p),p.tag=3,p.payload={element:null};var x=u.value;return p.callback=function(){Od||(Od=!0,Km=x),Mm(s,u)},p}function l1(s,u,p){p=mi(-1,p),p.tag=3;var x=s.type.getDerivedStateFromError;if(typeof x=="function"){var C=u.value;p.payload=function(){return x(C)},p.callback=function(){Mm(s,u)}}var T=s.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(p.callback=function(){Mm(s,u),typeof x!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})}),p}function u1(s,u,p){var x=s.pingCache;if(x===null){x=s.pingCache=new I$;var C=new Set;x.set(u,C)}else C=x.get(u),C===void 0&&(C=new Set,x.set(u,C));C.has(p)||(C.add(p),s=z$.bind(null,s,u,p),u.then(s,s))}function c1(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function d1(s,u,p,x,C){return(s.mode&1)===0?(s===u?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=mi(-1,1),u.tag=2,Yi(p,u,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=C,s)}var O$=O.ReactCurrentOwner,Un=!1;function An(s,u,p,x){u.child=s===null?OS(u,null,p,x):Wo(u,s.child,p,x)}function f1(s,u,p,x,C){p=p.render;var T=u.ref;return Yo(u,C),x=Cm(s,u,p,x,T,C),p=km(),s!==null&&!Un?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~C,gi(s,u,C)):(jt&&p&&sm(u),u.flags|=1,An(s,u,x,C),u.child)}function h1(s,u,p,x,C){if(s===null){var T=p.type;return typeof T=="function"&&!tg(T)&&T.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=T,p1(s,u,T,x,C)):(s=$d(p.type,null,x,u,u.mode,C),s.ref=u.ref,s.return=u,u.child=s)}if(T=s.child,(s.lanes&C)===0){var M=T.memoizedProps;if(p=p.compare,p=p!==null?p:Dl,p(M,x)&&s.ref===u.ref)return gi(s,u,C)}return u.flags|=1,s=ta(T,x),s.ref=u.ref,s.return=u,u.child=s}function p1(s,u,p,x,C){if(s!==null){var T=s.memoizedProps;if(Dl(T,x)&&s.ref===u.ref)if(Un=!1,u.pendingProps=x=T,(s.lanes&C)!==0)(s.flags&131072)!==0&&(Un=!0);else return u.lanes=s.lanes,gi(s,u,C)}return Dm(s,u,p,x,C)}function m1(s,u,p){var x=u.pendingProps,C=x.children,T=s!==null?s.memoizedState:null;if(x.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Qo,tr),tr|=p;else{if((p&1073741824)===0)return s=T!==null?T.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,kt(Qo,tr),tr|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=T!==null?T.baseLanes:p,kt(Qo,tr),tr|=x}else T!==null?(x=T.baseLanes|p,u.memoizedState=null):x=p,kt(Qo,tr),tr|=x;return An(s,u,C,p),u.child}function g1(s,u){var p=u.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Dm(s,u,p,x,C){var T=qn(p)?Na:yn.current;return T=Vo(u,T),Yo(u,C),p=Cm(s,u,p,x,T,C),x=km(),s!==null&&!Un?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~C,gi(s,u,C)):(jt&&x&&sm(u),u.flags|=1,An(s,u,p,C),u.child)}function v1(s,u,p,x,C){if(qn(p)){var T=!0;ld(u)}else T=!1;if(Yo(u,C),u.stateNode===null)Td(s,u),a1(u,p,x),Om(u,p,x,C),x=!0;else if(s===null){var M=u.stateNode,q=u.memoizedProps;M.props=q;var Y=M.context,oe=p.contextType;typeof oe=="object"&&oe!==null?oe=fr(oe):(oe=qn(p)?Na:yn.current,oe=Vo(u,oe));var me=p.getDerivedStateFromProps,ye=typeof me=="function"||typeof M.getSnapshotBeforeUpdate=="function";ye||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(q!==x||Y!==oe)&&o1(u,M,x,oe),Ki=!1;var fe=u.memoizedState;M.state=fe,vd(u,x,M,C),Y=u.memoizedState,q!==x||fe!==Y||Fn.current||Ki?(typeof me=="function"&&(Im(u,p,me,x),Y=u.memoizedState),(q=Ki||i1(u,p,q,x,fe,Y,oe))?(ye||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(u.flags|=4194308)):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=Y),M.props=x,M.state=Y,M.context=oe,x=q):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{M=u.stateNode,MS(s,u),q=u.memoizedProps,oe=u.type===u.elementType?q:Er(u.type,q),M.props=oe,ye=u.pendingProps,fe=M.context,Y=p.contextType,typeof Y=="object"&&Y!==null?Y=fr(Y):(Y=qn(p)?Na:yn.current,Y=Vo(u,Y));var Ee=p.getDerivedStateFromProps;(me=typeof Ee=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(q!==ye||fe!==Y)&&o1(u,M,x,Y),Ki=!1,fe=u.memoizedState,M.state=fe,vd(u,x,M,C);var Oe=u.memoizedState;q!==ye||fe!==Oe||Fn.current||Ki?(typeof Ee=="function"&&(Im(u,p,Ee,x),Oe=u.memoizedState),(oe=Ki||i1(u,p,oe,x,fe,Oe,Y)||!1)?(me||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(x,Oe,Y),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(x,Oe,Y)),typeof M.componentDidUpdate=="function"&&(u.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof M.componentDidUpdate!="function"||q===s.memoizedProps&&fe===s.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&fe===s.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=Oe),M.props=x,M.state=Oe,M.context=Y,x=oe):(typeof M.componentDidUpdate!="function"||q===s.memoizedProps&&fe===s.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&fe===s.memoizedState||(u.flags|=1024),x=!1)}return Rm(s,u,p,x,T,C)}function Rm(s,u,p,x,C,T){g1(s,u);var M=(u.flags&128)!==0;if(!x&&!M)return C&&wS(u,p,!1),gi(s,u,T);x=u.stateNode,O$.current=u;var q=M&&typeof p.getDerivedStateFromError!="function"?null:x.render();return u.flags|=1,s!==null&&M?(u.child=Wo(u,s.child,null,T),u.child=Wo(u,null,q,T)):An(s,u,q,T),u.memoizedState=x.state,C&&wS(u,p,!0),u.child}function y1(s){var u=s.stateNode;u.pendingContext?_S(s,u.pendingContext,u.pendingContext!==u.context):u.context&&_S(s,u.context,!1),ym(s,u.containerInfo)}function x1(s,u,p,x,C){return Ho(),dm(C),u.flags|=256,An(s,u,p,x),u.child}var jm={dehydrated:null,treeContext:null,retryLane:0};function $m(s){return{baseLanes:s,cachePool:null,transitions:null}}function _1(s,u,p){var x=u.pendingProps,C=Bt.current,T=!1,M=(u.flags&128)!==0,q;if((q=M)||(q=s!==null&&s.memoizedState===null?!1:(C&2)!==0),q?(T=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),kt(Bt,C&1),s===null)return cm(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((u.mode&1)===0?u.lanes=1:s.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(M=x.children,s=x.fallback,T?(x=u.mode,T=u.child,M={mode:"hidden",children:M},(x&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=M):T=Ld(M,x,0,null),s=Ua(s,x,p,null),T.return=u,s.return=u,T.sibling=s,u.child=T,u.child.memoizedState=$m(p),u.memoizedState=jm,s):Lm(u,M));if(C=s.memoizedState,C!==null&&(q=C.dehydrated,q!==null))return N$(s,u,M,x,q,C,p);if(T){T=x.fallback,M=u.mode,C=s.child,q=C.sibling;var Y={mode:"hidden",children:x.children};return(M&1)===0&&u.child!==C?(x=u.child,x.childLanes=0,x.pendingProps=Y,u.deletions=null):(x=ta(C,Y),x.subtreeFlags=C.subtreeFlags&14680064),q!==null?T=ta(q,T):(T=Ua(T,M,p,null),T.flags|=2),T.return=u,x.return=u,x.sibling=T,u.child=x,x=T,T=u.child,M=s.child.memoizedState,M=M===null?$m(p):{baseLanes:M.baseLanes|p,cachePool:null,transitions:M.transitions},T.memoizedState=M,T.childLanes=s.childLanes&~p,u.memoizedState=jm,x}return T=s.child,s=T.sibling,x=ta(T,{mode:"visible",children:x.children}),(u.mode&1)===0&&(x.lanes=p),x.return=u,x.sibling=null,s!==null&&(p=u.deletions,p===null?(u.deletions=[s],u.flags|=16):p.push(s)),u.child=x,u.memoizedState=null,x}function Lm(s,u){return u=Ld({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function kd(s,u,p,x){return x!==null&&dm(x),Wo(u,s.child,null,p),s=Lm(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function N$(s,u,p,x,C,T,M){if(p)return u.flags&256?(u.flags&=-257,x=Nm(Error(n(422))),kd(s,u,M,x)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(T=x.fallback,C=u.mode,x=Ld({mode:"visible",children:x.children},C,0,null),T=Ua(T,C,M,null),T.flags|=2,x.return=u,T.return=u,x.sibling=T,u.child=x,(u.mode&1)!==0&&Wo(u,s.child,null,M),u.child.memoizedState=$m(M),u.memoizedState=jm,T);if((u.mode&1)===0)return kd(s,u,M,null);if(C.data==="$!"){if(x=C.nextSibling&&C.nextSibling.dataset,x)var q=x.dgst;return x=q,T=Error(n(419)),x=Nm(T,x,void 0),kd(s,u,M,x)}if(q=(M&s.childLanes)!==0,Un||q){if(x=on,x!==null){switch(M&-M){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(x.suspendedLanes|M))!==0?0:C,C!==0&&C!==T.retryLane&&(T.retryLane=C,pi(s,C),Ir(x,s,C,-1))}return eg(),x=Nm(Error(n(421))),kd(s,u,M,x)}return C.data==="$?"?(u.flags|=128,u.child=s.child,u=G$.bind(null,s),C._reactRetry=u,null):(s=T.treeContext,er=zi(C.nextSibling),Qn=u,jt=!0,Tr=null,s!==null&&(cr[dr++]=fi,cr[dr++]=hi,cr[dr++]=Ma,fi=s.id,hi=s.overflow,Ma=u),u=Lm(u,x.children),u.flags|=4096,u)}function b1(s,u,p){s.lanes|=u;var x=s.alternate;x!==null&&(x.lanes|=u),mm(s.return,u,p)}function Bm(s,u,p,x,C){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:C}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=x,T.tail=p,T.tailMode=C)}function w1(s,u,p){var x=u.pendingProps,C=x.revealOrder,T=x.tail;if(An(s,u,x.children,p),x=Bt.current,(x&2)!==0)x=x&1|2,u.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&b1(s,p,u);else if(s.tag===19)b1(s,p,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}if(kt(Bt,x),(u.mode&1)===0)u.memoizedState=null;else switch(C){case"forwards":for(p=u.child,C=null;p!==null;)s=p.alternate,s!==null&&yd(s)===null&&(C=p),p=p.sibling;p=C,p===null?(C=u.child,u.child=null):(C=p.sibling,p.sibling=null),Bm(u,!1,C,p,T);break;case"backwards":for(p=null,C=u.child,u.child=null;C!==null;){if(s=C.alternate,s!==null&&yd(s)===null){u.child=C;break}s=C.sibling,C.sibling=p,p=C,C=s}Bm(u,!0,p,null,T);break;case"together":Bm(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Td(s,u){(u.mode&1)===0&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function gi(s,u,p){if(s!==null&&(u.dependencies=s.dependencies),La|=u.lanes,(p&u.childLanes)===0)return null;if(s!==null&&u.child!==s.child)throw Error(n(153));if(u.child!==null){for(s=u.child,p=ta(s,s.pendingProps),u.child=p,p.return=u;s.sibling!==null;)s=s.sibling,p=p.sibling=ta(s,s.pendingProps),p.return=u;p.sibling=null}return u.child}function M$(s,u,p){switch(u.tag){case 3:y1(u),Ho();break;case 5:jS(u);break;case 1:qn(u.type)&&ld(u);break;case 4:ym(u,u.stateNode.containerInfo);break;case 10:var x=u.type._context,C=u.memoizedProps.value;kt(pd,x._currentValue),x._currentValue=C;break;case 13:if(x=u.memoizedState,x!==null)return x.dehydrated!==null?(kt(Bt,Bt.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?_1(s,u,p):(kt(Bt,Bt.current&1),s=gi(s,u,p),s!==null?s.sibling:null);kt(Bt,Bt.current&1);break;case 19:if(x=(p&u.childLanes)!==0,(s.flags&128)!==0){if(x)return w1(s,u,p);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),kt(Bt,Bt.current),x)break;return null;case 22:case 23:return u.lanes=0,m1(s,u,p)}return gi(s,u,p)}var S1,Fm,C1,k1;S1=function(s,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Fm=function(){},C1=function(s,u,p,x){var C=s.memoizedProps;if(C!==x){s=u.stateNode,ja(Hr.current);var T=null;switch(p){case"input":C=et(s,C),x=et(s,x),T=[];break;case"select":C=re({},C,{value:void 0}),x=re({},x,{value:void 0}),T=[];break;case"textarea":C=Ht(s,C),x=Ht(s,x),T=[];break;default:typeof C.onClick!="function"&&typeof x.onClick=="function"&&(s.onclick=ad)}qt(p,x);var M;p=null;for(oe in C)if(!x.hasOwnProperty(oe)&&C.hasOwnProperty(oe)&&C[oe]!=null)if(oe==="style"){var q=C[oe];for(M in q)q.hasOwnProperty(M)&&(p||(p={}),p[M]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?T||(T=[]):(T=T||[]).push(oe,null));for(oe in x){var Y=x[oe];if(q=C!=null?C[oe]:void 0,x.hasOwnProperty(oe)&&Y!==q&&(Y!=null||q!=null))if(oe==="style")if(q){for(M in q)!q.hasOwnProperty(M)||Y&&Y.hasOwnProperty(M)||(p||(p={}),p[M]="");for(M in Y)Y.hasOwnProperty(M)&&q[M]!==Y[M]&&(p||(p={}),p[M]=Y[M])}else p||(T||(T=[]),T.push(oe,p)),p=Y;else oe==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,q=q?q.__html:void 0,Y!=null&&q!==Y&&(T=T||[]).push(oe,Y)):oe==="children"?typeof Y!="string"&&typeof Y!="number"||(T=T||[]).push(oe,""+Y):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(Y!=null&&oe==="onScroll"&&Nt("scroll",s),T||q===Y||(T=[])):(T=T||[]).push(oe,Y))}p&&(T=T||[]).push("style",p);var oe=T;(u.updateQueue=oe)&&(u.flags|=4)}},k1=function(s,u,p,x){p!==x&&(u.flags|=4)};function Yl(s,u){if(!jt)switch(s.tailMode){case"hidden":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function _n(s){var u=s.alternate!==null&&s.alternate.child===s.child,p=0,x=0;if(u)for(var C=s.child;C!==null;)p|=C.lanes|C.childLanes,x|=C.subtreeFlags&14680064,x|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)p|=C.lanes|C.childLanes,x|=C.subtreeFlags,x|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=x,s.childLanes=p,u}function D$(s,u,p){var x=u.pendingProps;switch(lm(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(u),null;case 1:return qn(u.type)&&sd(),_n(u),null;case 3:return x=u.stateNode,Jo(),Mt(Fn),Mt(yn),bm(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(s===null||s.child===null)&&(fd(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Tr!==null&&(Xm(Tr),Tr=null))),Fm(s,u),_n(u),null;case 5:xm(u);var C=ja(zl.current);if(p=u.type,s!==null&&u.stateNode!=null)C1(s,u,p,x,C),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!x){if(u.stateNode===null)throw Error(n(166));return _n(u),null}if(s=ja(Hr.current),fd(u)){x=u.stateNode,p=u.type;var T=u.memoizedProps;switch(x[Gr]=u,x[Bl]=T,s=(u.mode&1)!==0,p){case"dialog":Nt("cancel",x),Nt("close",x);break;case"iframe":case"object":case"embed":Nt("load",x);break;case"video":case"audio":for(C=0;C<jl.length;C++)Nt(jl[C],x);break;case"source":Nt("error",x);break;case"img":case"image":case"link":Nt("error",x),Nt("load",x);break;case"details":Nt("toggle",x);break;case"input":Ct(x,T),Nt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!T.multiple},Nt("invalid",x);break;case"textarea":zr(x,T),Nt("invalid",x)}qt(p,T),C=null;for(var M in T)if(T.hasOwnProperty(M)){var q=T[M];M==="children"?typeof q=="string"?x.textContent!==q&&(T.suppressHydrationWarning!==!0&&id(x.textContent,q,s),C=["children",q]):typeof q=="number"&&x.textContent!==""+q&&(T.suppressHydrationWarning!==!0&&id(x.textContent,q,s),C=["children",""+q]):i.hasOwnProperty(M)&&q!=null&&M==="onScroll"&&Nt("scroll",x)}switch(p){case"input":Ve(x),vt(x,T,!0);break;case"textarea":Ve(x),Sa(x);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(x.onclick=ad)}x=C,u.updateQueue=x,x!==null&&(u.flags|=4)}else{M=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=wo(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=M.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof x.is=="string"?s=M.createElement(p,{is:x.is}):(s=M.createElement(p),p==="select"&&(M=s,x.multiple?M.multiple=!0:x.size&&(M.size=x.size))):s=M.createElementNS(s,p),s[Gr]=u,s[Bl]=x,S1(s,u,!1,!1),u.stateNode=s;e:{switch(M=wt(p,x),p){case"dialog":Nt("cancel",s),Nt("close",s),C=x;break;case"iframe":case"object":case"embed":Nt("load",s),C=x;break;case"video":case"audio":for(C=0;C<jl.length;C++)Nt(jl[C],s);C=x;break;case"source":Nt("error",s),C=x;break;case"img":case"image":case"link":Nt("error",s),Nt("load",s),C=x;break;case"details":Nt("toggle",s),C=x;break;case"input":Ct(s,x),C=et(s,x),Nt("invalid",s);break;case"option":C=x;break;case"select":s._wrapperState={wasMultiple:!!x.multiple},C=re({},x,{value:void 0}),Nt("invalid",s);break;case"textarea":zr(s,x),C=Ht(s,x),Nt("invalid",s);break;default:C=x}qt(p,C),q=C;for(T in q)if(q.hasOwnProperty(T)){var Y=q[T];T==="style"?Li(s,Y):T==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Ac(s,Y)):T==="children"?typeof Y=="string"?(p!=="textarea"||Y!=="")&&Ca(s,Y):typeof Y=="number"&&Ca(s,""+Y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?Y!=null&&T==="onScroll"&&Nt("scroll",s):Y!=null&&k(s,T,Y,M))}switch(p){case"input":Ve(s),vt(s,x,!1);break;case"textarea":Ve(s),Sa(s);break;case"option":x.value!=null&&s.setAttribute("value",""+We(x.value));break;case"select":s.multiple=!!x.multiple,T=x.value,T!=null?rn(s,!!x.multiple,T,!1):x.defaultValue!=null&&rn(s,!!x.multiple,x.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=ad)}switch(p){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return _n(u),null;case 6:if(s&&u.stateNode!=null)k1(s,u,s.memoizedProps,x);else{if(typeof x!="string"&&u.stateNode===null)throw Error(n(166));if(p=ja(zl.current),ja(Hr.current),fd(u)){if(x=u.stateNode,p=u.memoizedProps,x[Gr]=u,(T=x.nodeValue!==p)&&(s=Qn,s!==null))switch(s.tag){case 3:id(x.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&id(x.nodeValue,p,(s.mode&1)!==0)}T&&(u.flags|=4)}else x=(p.nodeType===9?p:p.ownerDocument).createTextNode(x),x[Gr]=u,u.stateNode=x}return _n(u),null;case 13:if(Mt(Bt),x=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(jt&&er!==null&&(u.mode&1)!==0&&(u.flags&128)===0)AS(),Ho(),u.flags|=98560,T=!1;else if(T=fd(u),x!==null&&x.dehydrated!==null){if(s===null){if(!T)throw Error(n(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Gr]=u}else Ho(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;_n(u),T=!1}else Tr!==null&&(Xm(Tr),Tr=null),T=!0;if(!T)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(x=x!==null,x!==(s!==null&&s.memoizedState!==null)&&x&&(u.child.flags|=8192,(u.mode&1)!==0&&(s===null||(Bt.current&1)!==0?Qt===0&&(Qt=3):eg())),u.updateQueue!==null&&(u.flags|=4),_n(u),null);case 4:return Jo(),Fm(s,u),s===null&&$l(u.stateNode.containerInfo),_n(u),null;case 10:return pm(u.type._context),_n(u),null;case 17:return qn(u.type)&&sd(),_n(u),null;case 19:if(Mt(Bt),T=u.memoizedState,T===null)return _n(u),null;if(x=(u.flags&128)!==0,M=T.rendering,M===null)if(x)Yl(T,!1);else{if(Qt!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(M=yd(s),M!==null){for(u.flags|=128,Yl(T,!1),x=M.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),u.subtreeFlags=0,x=p,p=u.child;p!==null;)T=p,s=x,T.flags&=14680066,M=T.alternate,M===null?(T.childLanes=0,T.lanes=s,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=M.childLanes,T.lanes=M.lanes,T.child=M.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=M.memoizedProps,T.memoizedState=M.memoizedState,T.updateQueue=M.updateQueue,T.type=M.type,s=M.dependencies,T.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return kt(Bt,Bt.current&1|2),u.child}s=s.sibling}T.tail!==null&&Lt()>es&&(u.flags|=128,x=!0,Yl(T,!1),u.lanes=4194304)}else{if(!x)if(s=yd(M),s!==null){if(u.flags|=128,x=!0,p=s.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),Yl(T,!0),T.tail===null&&T.tailMode==="hidden"&&!M.alternate&&!jt)return _n(u),null}else 2*Lt()-T.renderingStartTime>es&&p!==1073741824&&(u.flags|=128,x=!0,Yl(T,!1),u.lanes=4194304);T.isBackwards?(M.sibling=u.child,u.child=M):(p=T.last,p!==null?p.sibling=M:u.child=M,T.last=M)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=Lt(),u.sibling=null,p=Bt.current,kt(Bt,x?p&1|2:p&1),u):(_n(u),null);case 22:case 23:return Qm(),x=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==x&&(u.flags|=8192),x&&(u.mode&1)!==0?(tr&1073741824)!==0&&(_n(u),u.subtreeFlags&6&&(u.flags|=8192)):_n(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function R$(s,u){switch(lm(u),u.tag){case 1:return qn(u.type)&&sd(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Jo(),Mt(Fn),Mt(yn),bm(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 5:return xm(u),null;case 13:if(Mt(Bt),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Ho()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return Mt(Bt),null;case 4:return Jo(),null;case 10:return pm(u.type._context),null;case 22:case 23:return Qm(),null;case 24:return null;default:return null}}var Ed=!1,bn=!1,j$=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Zo(s,u){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(x){Ut(s,u,x)}else p.current=null}function qm(s,u,p){try{p()}catch(x){Ut(s,u,x)}}var T1=!1;function $$(s,u){if(Qp=Wc,s=iS(),Gp(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var C=x.anchorOffset,T=x.focusNode;x=x.focusOffset;try{p.nodeType,T.nodeType}catch{p=null;break e}var M=0,q=-1,Y=-1,oe=0,me=0,ye=s,fe=null;t:for(;;){for(var Ee;ye!==p||C!==0&&ye.nodeType!==3||(q=M+C),ye!==T||x!==0&&ye.nodeType!==3||(Y=M+x),ye.nodeType===3&&(M+=ye.nodeValue.length),(Ee=ye.firstChild)!==null;)fe=ye,ye=Ee;for(;;){if(ye===s)break t;if(fe===p&&++oe===C&&(q=M),fe===T&&++me===x&&(Y=M),(Ee=ye.nextSibling)!==null)break;ye=fe,fe=ye.parentNode}ye=Ee}p=q===-1||Y===-1?null:{start:q,end:Y}}else p=null}p=p||{start:0,end:0}}else p=null;for(em={focusedElem:s,selectionRange:p},Wc=!1,Pe=u;Pe!==null;)if(u=Pe,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,Pe=s;else for(;Pe!==null;){u=Pe;try{var Oe=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var De=Oe.memoizedProps,zt=Oe.memoizedState,ne=u.stateNode,ee=ne.getSnapshotBeforeUpdate(u.elementType===u.type?De:Er(u.type,De),zt);ne.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var ae=u.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){Ut(u,u.return,xe)}if(s=u.sibling,s!==null){s.return=u.return,Pe=s;break}Pe=u.return}return Oe=T1,T1=!1,Oe}function Jl(s,u,p){var x=u.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var C=x=x.next;do{if((C.tag&s)===s){var T=C.destroy;C.destroy=void 0,T!==void 0&&qm(u,p,T)}C=C.next}while(C!==x)}}function Ad(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&s)===s){var x=p.create;p.destroy=x()}p=p.next}while(p!==u)}}function Um(s){var u=s.ref;if(u!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof u=="function"?u(s):u.current=s}}function E1(s){var u=s.alternate;u!==null&&(s.alternate=null,E1(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[Gr],delete u[Bl],delete u[im],delete u[x$],delete u[_$])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function A1(s){return s.tag===5||s.tag===3||s.tag===4}function P1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||A1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vm(s,u,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(s,u):p.insertBefore(s,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(s,p)):(u=p,u.appendChild(s)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=ad));else if(x!==4&&(s=s.child,s!==null))for(Vm(s,u,p),s=s.sibling;s!==null;)Vm(s,u,p),s=s.sibling}function zm(s,u,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,u?p.insertBefore(s,u):p.appendChild(s);else if(x!==4&&(s=s.child,s!==null))for(zm(s,u,p),s=s.sibling;s!==null;)zm(s,u,p),s=s.sibling}var pn=null,Ar=!1;function Ji(s,u,p){for(p=p.child;p!==null;)I1(s,u,p),p=p.sibling}function I1(s,u,p){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(Ao,p)}catch{}switch(p.tag){case 5:bn||Zo(p,u);case 6:var x=pn,C=Ar;pn=null,Ji(s,u,p),pn=x,Ar=C,pn!==null&&(Ar?(s=pn,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):pn.removeChild(p.stateNode));break;case 18:pn!==null&&(Ar?(s=pn,p=p.stateNode,s.nodeType===8?rm(s.parentNode,p):s.nodeType===1&&rm(s,p),Al(s)):rm(pn,p.stateNode));break;case 4:x=pn,C=Ar,pn=p.stateNode.containerInfo,Ar=!0,Ji(s,u,p),pn=x,Ar=C;break;case 0:case 11:case 14:case 15:if(!bn&&(x=p.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){C=x=x.next;do{var T=C,M=T.destroy;T=T.tag,M!==void 0&&((T&2)!==0||(T&4)!==0)&&qm(p,u,M),C=C.next}while(C!==x)}Ji(s,u,p);break;case 1:if(!bn&&(Zo(p,u),x=p.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=p.memoizedProps,x.state=p.memoizedState,x.componentWillUnmount()}catch(q){Ut(p,u,q)}Ji(s,u,p);break;case 21:Ji(s,u,p);break;case 22:p.mode&1?(bn=(x=bn)||p.memoizedState!==null,Ji(s,u,p),bn=x):Ji(s,u,p);break;default:Ji(s,u,p)}}function O1(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new j$),u.forEach(function(x){var C=H$.bind(null,s,x);p.has(x)||(p.add(x),x.then(C,C))})}}function Pr(s,u){var p=u.deletions;if(p!==null)for(var x=0;x<p.length;x++){var C=p[x];try{var T=s,M=u,q=M;e:for(;q!==null;){switch(q.tag){case 5:pn=q.stateNode,Ar=!1;break e;case 3:pn=q.stateNode.containerInfo,Ar=!0;break e;case 4:pn=q.stateNode.containerInfo,Ar=!0;break e}q=q.return}if(pn===null)throw Error(n(160));I1(T,M,C),pn=null,Ar=!1;var Y=C.alternate;Y!==null&&(Y.return=null),C.return=null}catch(oe){Ut(C,u,oe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)N1(u,s),u=u.sibling}function N1(s,u){var p=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Pr(u,s),Kr(s),x&4){try{Jl(3,s,s.return),Ad(3,s)}catch(De){Ut(s,s.return,De)}try{Jl(5,s,s.return)}catch(De){Ut(s,s.return,De)}}break;case 1:Pr(u,s),Kr(s),x&512&&p!==null&&Zo(p,p.return);break;case 5:if(Pr(u,s),Kr(s),x&512&&p!==null&&Zo(p,p.return),s.flags&32){var C=s.stateNode;try{Ca(C,"")}catch(De){Ut(s,s.return,De)}}if(x&4&&(C=s.stateNode,C!=null)){var T=s.memoizedProps,M=p!==null?p.memoizedProps:T,q=s.type,Y=s.updateQueue;if(s.updateQueue=null,Y!==null)try{q==="input"&&T.type==="radio"&&T.name!=null&&bt(C,T),wt(q,M);var oe=wt(q,T);for(M=0;M<Y.length;M+=2){var me=Y[M],ye=Y[M+1];me==="style"?Li(C,ye):me==="dangerouslySetInnerHTML"?Ac(C,ye):me==="children"?Ca(C,ye):k(C,me,ye,oe)}switch(q){case"input":st(C,T);break;case"textarea":$i(C,T);break;case"select":var fe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!T.multiple;var Ee=T.value;Ee!=null?rn(C,!!T.multiple,Ee,!1):fe!==!!T.multiple&&(T.defaultValue!=null?rn(C,!!T.multiple,T.defaultValue,!0):rn(C,!!T.multiple,T.multiple?[]:"",!1))}C[Bl]=T}catch(De){Ut(s,s.return,De)}}break;case 6:if(Pr(u,s),Kr(s),x&4){if(s.stateNode===null)throw Error(n(162));C=s.stateNode,T=s.memoizedProps;try{C.nodeValue=T}catch(De){Ut(s,s.return,De)}}break;case 3:if(Pr(u,s),Kr(s),x&4&&p!==null&&p.memoizedState.isDehydrated)try{Al(u.containerInfo)}catch(De){Ut(s,s.return,De)}break;case 4:Pr(u,s),Kr(s);break;case 13:Pr(u,s),Kr(s),C=s.child,C.flags&8192&&(T=C.memoizedState!==null,C.stateNode.isHidden=T,!T||C.alternate!==null&&C.alternate.memoizedState!==null||(Wm=Lt())),x&4&&O1(s);break;case 22:if(me=p!==null&&p.memoizedState!==null,s.mode&1?(bn=(oe=bn)||me,Pr(u,s),bn=oe):Pr(u,s),Kr(s),x&8192){if(oe=s.memoizedState!==null,(s.stateNode.isHidden=oe)&&!me&&(s.mode&1)!==0)for(Pe=s,me=s.child;me!==null;){for(ye=Pe=me;Pe!==null;){switch(fe=Pe,Ee=fe.child,fe.tag){case 0:case 11:case 14:case 15:Jl(4,fe,fe.return);break;case 1:Zo(fe,fe.return);var Oe=fe.stateNode;if(typeof Oe.componentWillUnmount=="function"){x=fe,p=fe.return;try{u=x,Oe.props=u.memoizedProps,Oe.state=u.memoizedState,Oe.componentWillUnmount()}catch(De){Ut(x,p,De)}}break;case 5:Zo(fe,fe.return);break;case 22:if(fe.memoizedState!==null){R1(ye);continue}}Ee!==null?(Ee.return=fe,Pe=Ee):R1(ye)}me=me.sibling}e:for(me=null,ye=s;;){if(ye.tag===5){if(me===null){me=ye;try{C=ye.stateNode,oe?(T=C.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(q=ye.stateNode,Y=ye.memoizedProps.style,M=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,q.style.display=Pc("display",M))}catch(De){Ut(s,s.return,De)}}}else if(ye.tag===6){if(me===null)try{ye.stateNode.nodeValue=oe?"":ye.memoizedProps}catch(De){Ut(s,s.return,De)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===s)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===s)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===s)break e;me===ye&&(me=null),ye=ye.return}me===ye&&(me=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Pr(u,s),Kr(s),x&4&&O1(s);break;case 21:break;default:Pr(u,s),Kr(s)}}function Kr(s){var u=s.flags;if(u&2){try{e:{for(var p=s.return;p!==null;){if(A1(p)){var x=p;break e}p=p.return}throw Error(n(160))}switch(x.tag){case 5:var C=x.stateNode;x.flags&32&&(Ca(C,""),x.flags&=-33);var T=P1(s);zm(s,T,C);break;case 3:case 4:var M=x.stateNode.containerInfo,q=P1(s);Vm(s,q,M);break;default:throw Error(n(161))}}catch(Y){Ut(s,s.return,Y)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function L$(s,u,p){Pe=s,M1(s)}function M1(s,u,p){for(var x=(s.mode&1)!==0;Pe!==null;){var C=Pe,T=C.child;if(C.tag===22&&x){var M=C.memoizedState!==null||Ed;if(!M){var q=C.alternate,Y=q!==null&&q.memoizedState!==null||bn;q=Ed;var oe=bn;if(Ed=M,(bn=Y)&&!oe)for(Pe=C;Pe!==null;)M=Pe,Y=M.child,M.tag===22&&M.memoizedState!==null?j1(C):Y!==null?(Y.return=M,Pe=Y):j1(C);for(;T!==null;)Pe=T,M1(T),T=T.sibling;Pe=C,Ed=q,bn=oe}D1(s)}else(C.subtreeFlags&8772)!==0&&T!==null?(T.return=C,Pe=T):D1(s)}}function D1(s){for(;Pe!==null;){var u=Pe;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:bn||Ad(5,u);break;case 1:var x=u.stateNode;if(u.flags&4&&!bn)if(p===null)x.componentDidMount();else{var C=u.elementType===u.type?p.memoizedProps:Er(u.type,p.memoizedProps);x.componentDidUpdate(C,p.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&RS(u,T,x);break;case 3:var M=u.updateQueue;if(M!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}RS(u,M,p)}break;case 5:var q=u.stateNode;if(p===null&&u.flags&4){p=q;var Y=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&p.focus();break;case"img":Y.src&&(p.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var oe=u.alternate;if(oe!==null){var me=oe.memoizedState;if(me!==null){var ye=me.dehydrated;ye!==null&&Al(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}bn||u.flags&512&&Um(u)}catch(fe){Ut(u,u.return,fe)}}if(u===s){Pe=null;break}if(p=u.sibling,p!==null){p.return=u.return,Pe=p;break}Pe=u.return}}function R1(s){for(;Pe!==null;){var u=Pe;if(u===s){Pe=null;break}var p=u.sibling;if(p!==null){p.return=u.return,Pe=p;break}Pe=u.return}}function j1(s){for(;Pe!==null;){var u=Pe;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{Ad(4,u)}catch(Y){Ut(u,p,Y)}break;case 1:var x=u.stateNode;if(typeof x.componentDidMount=="function"){var C=u.return;try{x.componentDidMount()}catch(Y){Ut(u,C,Y)}}var T=u.return;try{Um(u)}catch(Y){Ut(u,T,Y)}break;case 5:var M=u.return;try{Um(u)}catch(Y){Ut(u,M,Y)}}}catch(Y){Ut(u,u.return,Y)}if(u===s){Pe=null;break}var q=u.sibling;if(q!==null){q.return=u.return,Pe=q;break}Pe=u.return}}var B$=Math.ceil,Pd=O.ReactCurrentDispatcher,Gm=O.ReactCurrentOwner,pr=O.ReactCurrentBatchConfig,lt=0,on=null,Wt=null,mn=0,tr=0,Qo=Gi(0),Qt=0,Xl=null,La=0,Id=0,Hm=0,Zl=null,Vn=null,Wm=0,es=1/0,vi=null,Od=!1,Km=null,Xi=null,Nd=!1,Zi=null,Md=0,Ql=0,Ym=null,Dd=-1,Rd=0;function Pn(){return(lt&6)!==0?Lt():Dd!==-1?Dd:Dd=Lt()}function Qi(s){return(s.mode&1)===0?1:(lt&2)!==0&&mn!==0?mn&-mn:w$.transition!==null?(Rd===0&&(Rd=Hc()),Rd):(s=ie,s!==0||(s=window.event,s=s===void 0?16:Lw(s.type)),s)}function Ir(s,u,p,x){if(50<Ql)throw Ql=0,Ym=null,Error(n(185));G(s,p,x),((lt&2)===0||s!==on)&&(s===on&&((lt&2)===0&&(Id|=p),Qt===4&&ea(s,mn)),zn(s,x),p===1&&lt===0&&(u.mode&1)===0&&(es=Lt()+500,ud&&Wi()))}function zn(s,u){var p=s.callbackNode;Mp(s,u);var x=Oo(s,s===on?mn:0);if(x===0)p!==null&&Vc(p),s.callbackNode=null,s.callbackPriority=0;else if(u=x&-x,s.callbackPriority!==u){if(p!=null&&Vc(p),u===1)s.tag===0?b$(L1.bind(null,s)):SS(L1.bind(null,s)),v$(function(){(lt&6)===0&&Wi()}),p=null;else{switch(le(x)){case 1:p=wl;break;case 4:p=zc;break;case 16:p=Eo;break;case 536870912:p=Gc;break;default:p=Eo}p=H1(p,$1.bind(null,s))}s.callbackPriority=u,s.callbackNode=p}}function $1(s,u){if(Dd=-1,Rd=0,(lt&6)!==0)throw Error(n(327));var p=s.callbackNode;if(ts()&&s.callbackNode!==p)return null;var x=Oo(s,s===on?mn:0);if(x===0)return null;if((x&30)!==0||(x&s.expiredLanes)!==0||u)u=jd(s,x);else{u=x;var C=lt;lt|=2;var T=F1();(on!==s||mn!==u)&&(vi=null,es=Lt()+500,Fa(s,u));do try{U$();break}catch(q){B1(s,q)}while(!0);hm(),Pd.current=T,lt=C,Wt!==null?u=0:(on=null,mn=0,u=Qt)}if(u!==0){if(u===2&&(C=Sl(s),C!==0&&(x=C,u=Jm(s,C))),u===1)throw p=Xl,Fa(s,0),ea(s,x),zn(s,Lt()),p;if(u===6)ea(s,x);else{if(C=s.current.alternate,(x&30)===0&&!F$(C)&&(u=jd(s,x),u===2&&(T=Sl(s),T!==0&&(x=T,u=Jm(s,T))),u===1))throw p=Xl,Fa(s,0),ea(s,x),zn(s,Lt()),p;switch(s.finishedWork=C,s.finishedLanes=x,u){case 0:case 1:throw Error(n(345));case 2:qa(s,Vn,vi);break;case 3:if(ea(s,x),(x&130023424)===x&&(u=Wm+500-Lt(),10<u)){if(Oo(s,0)!==0)break;if(C=s.suspendedLanes,(C&x)!==x){Pn(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=nm(qa.bind(null,s,Vn,vi),u);break}qa(s,Vn,vi);break;case 4:if(ea(s,x),(x&4194240)===x)break;for(u=s.eventTimes,C=-1;0<x;){var M=31-Jn(x);T=1<<M,M=u[M],M>C&&(C=M),x&=~T}if(x=C,x=Lt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*B$(x/1960))-x,10<x){s.timeoutHandle=nm(qa.bind(null,s,Vn,vi),x);break}qa(s,Vn,vi);break;case 5:qa(s,Vn,vi);break;default:throw Error(n(329))}}}return zn(s,Lt()),s.callbackNode===p?$1.bind(null,s):null}function Jm(s,u){var p=Zl;return s.current.memoizedState.isDehydrated&&(Fa(s,u).flags|=256),s=jd(s,u),s!==2&&(u=Vn,Vn=p,u!==null&&Xm(u)),s}function Xm(s){Vn===null?Vn=s:Vn.push.apply(Vn,s)}function F$(s){for(var u=s;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var x=0;x<p.length;x++){var C=p[x],T=C.getSnapshot;C=C.value;try{if(!kr(T(),C))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ea(s,u){for(u&=~Hm,u&=~Id,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var p=31-Jn(u),x=1<<p;s[p]=-1,u&=~x}}function L1(s){if((lt&6)!==0)throw Error(n(327));ts();var u=Oo(s,0);if((u&1)===0)return zn(s,Lt()),null;var p=jd(s,u);if(s.tag!==0&&p===2){var x=Sl(s);x!==0&&(u=x,p=Jm(s,x))}if(p===1)throw p=Xl,Fa(s,0),ea(s,u),zn(s,Lt()),p;if(p===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,qa(s,Vn,vi),zn(s,Lt()),null}function Zm(s,u){var p=lt;lt|=1;try{return s(u)}finally{lt=p,lt===0&&(es=Lt()+500,ud&&Wi())}}function Ba(s){Zi!==null&&Zi.tag===0&&(lt&6)===0&&ts();var u=lt;lt|=1;var p=pr.transition,x=ie;try{if(pr.transition=null,ie=1,s)return s()}finally{ie=x,pr.transition=p,lt=u,(lt&6)===0&&Wi()}}function Qm(){tr=Qo.current,Mt(Qo)}function Fa(s,u){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,g$(p)),Wt!==null)for(p=Wt.return;p!==null;){var x=p;switch(lm(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&sd();break;case 3:Jo(),Mt(Fn),Mt(yn),bm();break;case 5:xm(x);break;case 4:Jo();break;case 13:Mt(Bt);break;case 19:Mt(Bt);break;case 10:pm(x.type._context);break;case 22:case 23:Qm()}p=p.return}if(on=s,Wt=s=ta(s.current,null),mn=tr=u,Qt=0,Xl=null,Hm=Id=La=0,Vn=Zl=null,Ra!==null){for(u=0;u<Ra.length;u++)if(p=Ra[u],x=p.interleaved,x!==null){p.interleaved=null;var C=x.next,T=p.pending;if(T!==null){var M=T.next;T.next=C,x.next=M}p.pending=x}Ra=null}return s}function B1(s,u){do{var p=Wt;try{if(hm(),xd.current=Sd,_d){for(var x=Ft.memoizedState;x!==null;){var C=x.queue;C!==null&&(C.pending=null),x=x.next}_d=!1}if($a=0,an=Zt=Ft=null,Gl=!1,Hl=0,Gm.current=null,p===null||p.return===null){Qt=1,Xl=u,Wt=null;break}e:{var T=s,M=p.return,q=p,Y=u;if(u=mn,q.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var oe=Y,me=q,ye=me.tag;if((me.mode&1)===0&&(ye===0||ye===11||ye===15)){var fe=me.alternate;fe?(me.updateQueue=fe.updateQueue,me.memoizedState=fe.memoizedState,me.lanes=fe.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ee=c1(M);if(Ee!==null){Ee.flags&=-257,d1(Ee,M,q,T,u),Ee.mode&1&&u1(T,oe,u),u=Ee,Y=oe;var Oe=u.updateQueue;if(Oe===null){var De=new Set;De.add(Y),u.updateQueue=De}else Oe.add(Y);break e}else{if((u&1)===0){u1(T,oe,u),eg();break e}Y=Error(n(426))}}else if(jt&&q.mode&1){var zt=c1(M);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),d1(zt,M,q,T,u),dm(Xo(Y,q));break e}}T=Y=Xo(Y,q),Qt!==4&&(Qt=2),Zl===null?Zl=[T]:Zl.push(T),T=M;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var ne=s1(T,Y,u);DS(T,ne);break e;case 1:q=Y;var ee=T.type,ae=T.stateNode;if((T.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Xi===null||!Xi.has(ae)))){T.flags|=65536,u&=-u,T.lanes|=u;var xe=l1(T,q,u);DS(T,xe);break e}}T=T.return}while(T!==null)}U1(p)}catch(je){u=je,Wt===p&&p!==null&&(Wt=p=p.return);continue}break}while(!0)}function F1(){var s=Pd.current;return Pd.current=Sd,s===null?Sd:s}function eg(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),on===null||(La&268435455)===0&&(Id&268435455)===0||ea(on,mn)}function jd(s,u){var p=lt;lt|=2;var x=F1();(on!==s||mn!==u)&&(vi=null,Fa(s,u));do try{q$();break}catch(C){B1(s,C)}while(!0);if(hm(),lt=p,Pd.current=x,Wt!==null)throw Error(n(261));return on=null,mn=0,Qt}function q$(){for(;Wt!==null;)q1(Wt)}function U$(){for(;Wt!==null&&!kp();)q1(Wt)}function q1(s){var u=G1(s.alternate,s,tr);s.memoizedProps=s.pendingProps,u===null?U1(s):Wt=u,Gm.current=null}function U1(s){var u=s;do{var p=u.alternate;if(s=u.return,(u.flags&32768)===0){if(p=D$(p,u,tr),p!==null){Wt=p;return}}else{if(p=R$(p,u),p!==null){p.flags&=32767,Wt=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Qt=6,Wt=null;return}}if(u=u.sibling,u!==null){Wt=u;return}Wt=u=s}while(u!==null);Qt===0&&(Qt=5)}function qa(s,u,p){var x=ie,C=pr.transition;try{pr.transition=null,ie=1,V$(s,u,p,x)}finally{pr.transition=C,ie=x}return null}function V$(s,u,p,x){do ts();while(Zi!==null);if((lt&6)!==0)throw Error(n(327));p=s.finishedWork;var C=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var T=p.lanes|p.childLanes;if(Z(s,T),s===on&&(Wt=on=null,mn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Nd||(Nd=!0,H1(Eo,function(){return ts(),null})),T=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||T){T=pr.transition,pr.transition=null;var M=ie;ie=1;var q=lt;lt|=4,Gm.current=null,$$(s,p),N1(p,s),u$(em),Wc=!!Qp,em=Qp=null,s.current=p,L$(p),Tp(),lt=q,ie=M,pr.transition=T}else s.current=p;if(Nd&&(Nd=!1,Zi=s,Md=C),T=s.pendingLanes,T===0&&(Xi=null),Pp(p.stateNode),zn(s,Lt()),u!==null)for(x=s.onRecoverableError,p=0;p<u.length;p++)C=u[p],x(C.value,{componentStack:C.stack,digest:C.digest});if(Od)throw Od=!1,s=Km,Km=null,s;return(Md&1)!==0&&s.tag!==0&&ts(),T=s.pendingLanes,(T&1)!==0?s===Ym?Ql++:(Ql=0,Ym=s):Ql=0,Wi(),null}function ts(){if(Zi!==null){var s=le(Md),u=pr.transition,p=ie;try{if(pr.transition=null,ie=16>s?16:s,Zi===null)var x=!1;else{if(s=Zi,Zi=null,Md=0,(lt&6)!==0)throw Error(n(331));var C=lt;for(lt|=4,Pe=s.current;Pe!==null;){var T=Pe,M=T.child;if((Pe.flags&16)!==0){var q=T.deletions;if(q!==null){for(var Y=0;Y<q.length;Y++){var oe=q[Y];for(Pe=oe;Pe!==null;){var me=Pe;switch(me.tag){case 0:case 11:case 15:Jl(8,me,T)}var ye=me.child;if(ye!==null)ye.return=me,Pe=ye;else for(;Pe!==null;){me=Pe;var fe=me.sibling,Ee=me.return;if(E1(me),me===oe){Pe=null;break}if(fe!==null){fe.return=Ee,Pe=fe;break}Pe=Ee}}}var Oe=T.alternate;if(Oe!==null){var De=Oe.child;if(De!==null){Oe.child=null;do{var zt=De.sibling;De.sibling=null,De=zt}while(De!==null)}}Pe=T}}if((T.subtreeFlags&2064)!==0&&M!==null)M.return=T,Pe=M;else e:for(;Pe!==null;){if(T=Pe,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Jl(9,T,T.return)}var ne=T.sibling;if(ne!==null){ne.return=T.return,Pe=ne;break e}Pe=T.return}}var ee=s.current;for(Pe=ee;Pe!==null;){M=Pe;var ae=M.child;if((M.subtreeFlags&2064)!==0&&ae!==null)ae.return=M,Pe=ae;else e:for(M=ee;Pe!==null;){if(q=Pe,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Ad(9,q)}}catch(je){Ut(q,q.return,je)}if(q===M){Pe=null;break e}var xe=q.sibling;if(xe!==null){xe.return=q.return,Pe=xe;break e}Pe=q.return}}if(lt=C,Wi(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(Ao,s)}catch{}x=!0}return x}finally{ie=p,pr.transition=u}}return!1}function V1(s,u,p){u=Xo(p,u),u=s1(s,u,1),s=Yi(s,u,1),u=Pn(),s!==null&&(G(s,1,u),zn(s,u))}function Ut(s,u,p){if(s.tag===3)V1(s,s,p);else for(;u!==null;){if(u.tag===3){V1(u,s,p);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Xi===null||!Xi.has(x))){s=Xo(p,s),s=l1(u,s,1),u=Yi(u,s,1),s=Pn(),u!==null&&(G(u,1,s),zn(u,s));break}}u=u.return}}function z$(s,u,p){var x=s.pingCache;x!==null&&x.delete(u),u=Pn(),s.pingedLanes|=s.suspendedLanes&p,on===s&&(mn&p)===p&&(Qt===4||Qt===3&&(mn&130023424)===mn&&500>Lt()-Wm?Fa(s,0):Hm|=p),zn(s,u)}function z1(s,u){u===0&&((s.mode&1)===0?u=1:(u=Io,Io<<=1,(Io&130023424)===0&&(Io=4194304)));var p=Pn();s=pi(s,u),s!==null&&(G(s,u,p),zn(s,p))}function G$(s){var u=s.memoizedState,p=0;u!==null&&(p=u.retryLane),z1(s,p)}function H$(s,u){var p=0;switch(s.tag){case 13:var x=s.stateNode,C=s.memoizedState;C!==null&&(p=C.retryLane);break;case 19:x=s.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(u),z1(s,p)}var G1;G1=function(s,u,p){if(s!==null)if(s.memoizedProps!==u.pendingProps||Fn.current)Un=!0;else{if((s.lanes&p)===0&&(u.flags&128)===0)return Un=!1,M$(s,u,p);Un=(s.flags&131072)!==0}else Un=!1,jt&&(u.flags&1048576)!==0&&CS(u,dd,u.index);switch(u.lanes=0,u.tag){case 2:var x=u.type;Td(s,u),s=u.pendingProps;var C=Vo(u,yn.current);Yo(u,p),C=Cm(null,u,x,s,C,p);var T=km();return u.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,qn(x)?(T=!0,ld(u)):T=!1,u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,vm(u),C.updater=Cd,u.stateNode=C,C._reactInternals=u,Om(u,x,s,p),u=Rm(null,u,x,!0,T,p)):(u.tag=0,jt&&T&&sm(u),An(null,u,C,p),u=u.child),u;case 16:x=u.elementType;e:{switch(Td(s,u),s=u.pendingProps,C=x._init,x=C(x._payload),u.type=x,C=u.tag=K$(x),s=Er(x,s),C){case 0:u=Dm(null,u,x,s,p);break e;case 1:u=v1(null,u,x,s,p);break e;case 11:u=f1(null,u,x,s,p);break e;case 14:u=h1(null,u,x,Er(x.type,s),p);break e}throw Error(n(306,x,""))}return u;case 0:return x=u.type,C=u.pendingProps,C=u.elementType===x?C:Er(x,C),Dm(s,u,x,C,p);case 1:return x=u.type,C=u.pendingProps,C=u.elementType===x?C:Er(x,C),v1(s,u,x,C,p);case 3:e:{if(y1(u),s===null)throw Error(n(387));x=u.pendingProps,T=u.memoizedState,C=T.element,MS(s,u),vd(u,x,null,p);var M=u.memoizedState;if(x=M.element,T.isDehydrated)if(T={element:x,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){C=Xo(Error(n(423)),u),u=x1(s,u,x,p,C);break e}else if(x!==C){C=Xo(Error(n(424)),u),u=x1(s,u,x,p,C);break e}else for(er=zi(u.stateNode.containerInfo.firstChild),Qn=u,jt=!0,Tr=null,p=OS(u,null,x,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ho(),x===C){u=gi(s,u,p);break e}An(s,u,x,p)}u=u.child}return u;case 5:return jS(u),s===null&&cm(u),x=u.type,C=u.pendingProps,T=s!==null?s.memoizedProps:null,M=C.children,tm(x,C)?M=null:T!==null&&tm(x,T)&&(u.flags|=32),g1(s,u),An(s,u,M,p),u.child;case 6:return s===null&&cm(u),null;case 13:return _1(s,u,p);case 4:return ym(u,u.stateNode.containerInfo),x=u.pendingProps,s===null?u.child=Wo(u,null,x,p):An(s,u,x,p),u.child;case 11:return x=u.type,C=u.pendingProps,C=u.elementType===x?C:Er(x,C),f1(s,u,x,C,p);case 7:return An(s,u,u.pendingProps,p),u.child;case 8:return An(s,u,u.pendingProps.children,p),u.child;case 12:return An(s,u,u.pendingProps.children,p),u.child;case 10:e:{if(x=u.type._context,C=u.pendingProps,T=u.memoizedProps,M=C.value,kt(pd,x._currentValue),x._currentValue=M,T!==null)if(kr(T.value,M)){if(T.children===C.children&&!Fn.current){u=gi(s,u,p);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var q=T.dependencies;if(q!==null){M=T.child;for(var Y=q.firstContext;Y!==null;){if(Y.context===x){if(T.tag===1){Y=mi(-1,p&-p),Y.tag=2;var oe=T.updateQueue;if(oe!==null){oe=oe.shared;var me=oe.pending;me===null?Y.next=Y:(Y.next=me.next,me.next=Y),oe.pending=Y}}T.lanes|=p,Y=T.alternate,Y!==null&&(Y.lanes|=p),mm(T.return,p,u),q.lanes|=p;break}Y=Y.next}}else if(T.tag===10)M=T.type===u.type?null:T.child;else if(T.tag===18){if(M=T.return,M===null)throw Error(n(341));M.lanes|=p,q=M.alternate,q!==null&&(q.lanes|=p),mm(M,p,u),M=T.sibling}else M=T.child;if(M!==null)M.return=T;else for(M=T;M!==null;){if(M===u){M=null;break}if(T=M.sibling,T!==null){T.return=M.return,M=T;break}M=M.return}T=M}An(s,u,C.children,p),u=u.child}return u;case 9:return C=u.type,x=u.pendingProps.children,Yo(u,p),C=fr(C),x=x(C),u.flags|=1,An(s,u,x,p),u.child;case 14:return x=u.type,C=Er(x,u.pendingProps),C=Er(x.type,C),h1(s,u,x,C,p);case 15:return p1(s,u,u.type,u.pendingProps,p);case 17:return x=u.type,C=u.pendingProps,C=u.elementType===x?C:Er(x,C),Td(s,u),u.tag=1,qn(x)?(s=!0,ld(u)):s=!1,Yo(u,p),a1(u,x,C),Om(u,x,C,p),Rm(null,u,x,!0,s,p);case 19:return w1(s,u,p);case 22:return m1(s,u,p)}throw Error(n(156,u.tag))};function H1(s,u){return Uc(s,u)}function W$(s,u,p,x){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(s,u,p,x){return new W$(s,u,p,x)}function tg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function K$(s){if(typeof s=="function")return tg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===B)return 14}return 2}function ta(s,u){var p=s.alternate;return p===null?(p=mr(s.tag,u,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=u,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,u=s.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function $d(s,u,p,x,C,T){var M=2;if(x=s,typeof s=="function")tg(s)&&(M=1);else if(typeof s=="string")M=5;else e:switch(s){case N:return Ua(p.children,C,T,u);case D:M=8,C|=8;break;case $:return s=mr(12,p,u,C|2),s.elementType=$,s.lanes=T,s;case W:return s=mr(13,p,u,C),s.elementType=W,s.lanes=T,s;case V:return s=mr(19,p,u,C),s.elementType=V,s.lanes=T,s;case K:return Ld(p,C,T,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:M=10;break e;case L:M=9;break e;case z:M=11;break e;case B:M=14;break e;case J:M=16,x=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return u=mr(M,p,u,C),u.elementType=s,u.type=x,u.lanes=T,u}function Ua(s,u,p,x){return s=mr(7,s,x,u),s.lanes=p,s}function Ld(s,u,p,x){return s=mr(22,s,x,u),s.elementType=K,s.lanes=p,s.stateNode={isHidden:!1},s}function ng(s,u,p){return s=mr(6,s,null,u),s.lanes=p,s}function rg(s,u,p){return u=mr(4,s.children!==null?s.children:[],s.key,u),u.lanes=p,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function Y$(s,u,p,x,C){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=No(0),this.expirationTimes=No(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.identifierPrefix=x,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function ig(s,u,p,x,C,T,M,q,Y){return s=new Y$(s,u,p,q,Y),u===1?(u=1,T===!0&&(u|=8)):u=0,T=mr(3,null,null,u),s.current=T,T.stateNode=s,T.memoizedState={element:x,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},vm(T),s}function J$(s,u,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:x==null?null:""+x,children:s,containerInfo:u,implementation:p}}function W1(s){if(!s)return Hi;s=s._reactInternals;e:{if(oi(s)!==s||s.tag!==1)throw Error(n(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(qn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(s.tag===1){var p=s.type;if(qn(p))return bS(s,p,u)}return u}function K1(s,u,p,x,C,T,M,q,Y){return s=ig(p,x,!0,s,C,T,M,q,Y),s.context=W1(null),p=s.current,x=Pn(),C=Qi(p),T=mi(x,C),T.callback=u??null,Yi(p,T,C),s.current.lanes=C,G(s,C,x),zn(s,x),s}function Bd(s,u,p,x){var C=u.current,T=Pn(),M=Qi(C);return p=W1(p),u.context===null?u.context=p:u.pendingContext=p,u=mi(T,M),u.payload={element:s},x=x===void 0?null:x,x!==null&&(u.callback=x),s=Yi(C,u,M),s!==null&&(Ir(s,C,M,T),gd(s,C,M)),M}function Fd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Y1(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<u?p:u}}function ag(s,u){Y1(s,u),(s=s.alternate)&&Y1(s,u)}function X$(){return null}var J1=typeof reportError=="function"?reportError:function(s){console.error(s)};function og(s){this._internalRoot=s}qd.prototype.render=og.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(n(409));Bd(s,u,null,null)},qd.prototype.unmount=og.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;Ba(function(){Bd(null,s,null,null)}),u[ci]=null}};function qd(s){this._internalRoot=s}qd.prototype.unstable_scheduleHydration=function(s){if(s){var u=Ot();s={blockedOn:null,target:s,priority:u};for(var p=0;p<ur.length&&u!==0&&u<ur[p].priority;p++);ur.splice(p,0,s),p===0&&En(s)}};function sg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ud(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function X1(){}function Z$(s,u,p,x,C){if(C){if(typeof x=="function"){var T=x;x=function(){var oe=Fd(M);T.call(oe)}}var M=K1(u,x,s,0,null,!1,!1,"",X1);return s._reactRootContainer=M,s[ci]=M.current,$l(s.nodeType===8?s.parentNode:s),Ba(),M}for(;C=s.lastChild;)s.removeChild(C);if(typeof x=="function"){var q=x;x=function(){var oe=Fd(Y);q.call(oe)}}var Y=ig(s,0,!1,null,null,!1,!1,"",X1);return s._reactRootContainer=Y,s[ci]=Y.current,$l(s.nodeType===8?s.parentNode:s),Ba(function(){Bd(u,Y,p,x)}),Y}function Vd(s,u,p,x,C){var T=p._reactRootContainer;if(T){var M=T;if(typeof C=="function"){var q=C;C=function(){var Y=Fd(M);q.call(Y)}}Bd(u,M,s,C)}else M=Z$(p,u,s,C,x);return Fd(M)}be=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var p=Ia(u.pendingLanes);p!==0&&(Q(u,p|1),zn(u,Lt()),(lt&6)===0&&(es=Lt()+500,Wi()))}break;case 13:Ba(function(){var x=pi(s,1);if(x!==null){var C=Pn();Ir(x,s,1,C)}}),ag(s,1)}},Me=function(s){if(s.tag===13){var u=pi(s,134217728);if(u!==null){var p=Pn();Ir(u,s,134217728,p)}ag(s,134217728)}},Re=function(s){if(s.tag===13){var u=Qi(s),p=pi(s,u);if(p!==null){var x=Pn();Ir(p,s,u,x)}ag(s,u)}},Ot=function(){return ie},Le=function(s,u){var p=ie;try{return ie=s,u()}finally{ie=p}},Co=function(s,u,p){switch(u){case"input":if(st(s,p),u=p.name,p.type==="radio"&&u!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var x=p[u];if(x!==s&&x.form===s.form){var C=od(x);if(!C)throw Error(n(90));pe(x),st(x,C)}}}break;case"textarea":$i(s,p);break;case"select":u=p.value,u!=null&&rn(s,!!p.multiple,u,!1)}},Mc=Zm,Dc=Ba;var Q$={usingClientEntryPoint:!1,Events:[Fl,qo,od,Oc,Nc,Zm]},eu={findFiberByHostInstance:Oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eL={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Fc(s),s===null?null:s.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||X$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{Ao=zd.inject(eL),or=zd}catch{}}return Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q$,Gn.createPortal=function(s,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sg(u))throw Error(n(200));return J$(s,u,null,p)},Gn.createRoot=function(s,u){if(!sg(s))throw Error(n(299));var p=!1,x="",C=J1;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),u=ig(s,1,!1,null,null,p,!1,x,C),s[ci]=u.current,$l(s.nodeType===8?s.parentNode:s),new og(u)},Gn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Fc(u),s=s===null?null:s.stateNode,s},Gn.flushSync=function(s){return Ba(s)},Gn.hydrate=function(s,u,p){if(!Ud(u))throw Error(n(200));return Vd(null,s,u,!0,p)},Gn.hydrateRoot=function(s,u,p){if(!sg(s))throw Error(n(405));var x=p!=null&&p.hydratedSources||null,C=!1,T="",M=J1;if(p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onRecoverableError!==void 0&&(M=p.onRecoverableError)),u=K1(u,null,s,1,p??null,C,!1,T,M),s[ci]=u.current,$l(s),x)for(s=0;s<x.length;s++)p=x[s],C=p._getVersion,C=C(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,C]:u.mutableSourceEagerHydrationData.push(p,C);return new qd(u)},Gn.render=function(s,u,p){if(!Ud(u))throw Error(n(200));return Vd(null,s,u,!1,p)},Gn.unmountComponentAtNode=function(s){if(!Ud(s))throw Error(n(40));return s._reactRootContainer?(Ba(function(){Vd(null,null,s,!1,function(){s._reactRootContainer=null,s[ci]=null})}),!0):!1},Gn.unstable_batchedUpdates=Zm,Gn.unstable_renderSubtreeIntoContainer=function(s,u,p,x){if(!Ud(p))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Vd(s,u,p,!1,x)},Gn.version="18.3.1-next-f1338f8080-20240426",Gn}var aC;function uL(){if(aC)return cg.exports;aC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cg.exports=lL(),cg.exports}var oC;function cL(){if(oC)return Hd;oC=1;var t=uL();return Hd.createRoot=t.createRoot,Hd.hydrateRoot=t.hydrateRoot,Hd}var dL=cL();const fL=ft(dL),hL="modulepreload",pL=function(t){return"/controle-financeiro/"+t},sC={},mc=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(n.map(d=>{if(d=pL(d),d in sC)return;sC[d]=!0;const h=d.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":hL,h||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),h)return new Promise((_,b)=>{v.addEventListener("load",_),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},mL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>mc(async()=>{const{default:r}=await Promise.resolve().then(()=>ol);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class bb extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class gL extends bb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vL extends bb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yL extends bb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sx||(Sx={}));var xL=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(f){o(f)}}function c(h){try{d(r.throw(h))}catch(f){o(f)}}function d(h){h.done?a(h.value):i(h.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class _L{constructor(e,{headers:n={},customFetch:r,region:i=Sx.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=mL(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return xL(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(b=>{throw new gL(b)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new vL(h);if(!h.ok)throw new yL(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield h.json():v==="application/octet-stream"?_=yield h.blob():v==="text/event-stream"?_=h:v==="multipart/form-data"?_=yield h.formData():_=yield h.text(),{data:_,error:null}}catch(i){return{data:null,error:i}}})}}var ln={},ns={},rs={},is={},as={},os={},bL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ps=bL();const wL=Ps.fetch,oM=Ps.fetch.bind(Ps),sM=Ps.Headers,SL=Ps.Request,CL=Ps.Response,ol=Object.freeze(Object.defineProperty({__proto__:null,Headers:sM,Request:SL,Response:CL,default:oM,fetch:wL},Symbol.toStringTag,{value:"Module"})),kL=nL(ol);var Wd={},lC;function lM(){if(lC)return Wd;lC=1,Object.defineProperty(Wd,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Wd.default=t,Wd}var uC;function uM(){if(uC)return os;uC=1;var t=os&&os.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(os,"__esModule",{value:!0});const e=t(kL),n=t(lM());class r{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=Object.assign({},this.headers),this.headers[a]=o,this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,f,v;let _=null,b=null,S=null,w=d.status,A=d.statusText;if(d.ok){if(this.method!=="HEAD"){const E=await d.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=E:b=JSON.parse(E))}const k=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),O=(f=d.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");k&&O&&O.length>1&&(S=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(_={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,S=null,w=406,A="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const k=await d.text();try{_=JSON.parse(k),Array.isArray(_)&&d.status===404&&(b=[],_=null,w=200,A="OK")}catch{d.status===404&&k===""?(w=204,A="No Content"):_={message:k}}if(_&&this.isMaybeSingle&&(!((v=_==null?void 0:_.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,w=200,A="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:b,count:S,status:w,statusText:A}});return this.shouldThrowOnError||(c=c.catch(d=>{var h,f,v;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(f=d==null?void 0:d.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(v=d==null?void 0:d.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,o)}returns(){return this}overrideTypes(){return this}}return os.default=r,os}var cC;function cM(){if(cC)return as;cC=1;var t=as&&as.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(as,"__esModule",{value:!0});const e=t(uM());class n extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var h;const f=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${v}"; options=${f};`,d==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return as.default=n,as}var dC;function wb(){if(dC)return is;dC=1;var t=is&&is.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(is,"__esModule",{value:!0});const e=t(cM());class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return is.default=n,is}var fC;function dM(){if(fC)return rs;fC=1;var t=rs&&rs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rs,"__esModule",{value:!0});const e=t(wb());class n{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=a,this.schema=o,this.fetch=l}select(i,{head:a=!1,count:o}={}){const l=a?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const d=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const d="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(i)){const f=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(f.length>0){const v=[...new Set(f)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return rs.default=n,rs}var nu={},ru={},hC;function TL(){return hC||(hC=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.version=void 0,ru.version="0.0.0-automated"),ru}var pC;function EL(){if(pC)return nu;pC=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.DEFAULT_HEADERS=void 0;const t=TL();return nu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},nu}var mC;function AL(){if(mC)return ns;mC=1;var t=ns&&ns.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ns,"__esModule",{value:!0});const e=t(dM()),n=t(wb()),r=EL();class i{constructor(o,{headers:l={},schema:c,fetch:d}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=d}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:d=!1,count:h}={}){let f;const v=new URL(`${this.url}/rpc/${o}`);let _;c||d?(f=c?"HEAD":"GET",Object.entries(l).filter(([S,w])=>w!==void 0).map(([S,w])=>[S,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([S,w])=>{v.searchParams.append(S,w)})):(f="POST",_=l);const b=Object.assign({},this.headers);return h&&(b.Prefer=`count=${h}`),new n.default({method:f,url:v,headers:b,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return ns.default=i,ns}var gC;function PL(){if(gC)return ln;gC=1;var t=ln&&ln.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ln,"__esModule",{value:!0}),ln.PostgrestError=ln.PostgrestBuilder=ln.PostgrestTransformBuilder=ln.PostgrestFilterBuilder=ln.PostgrestQueryBuilder=ln.PostgrestClient=void 0;const e=t(AL());ln.PostgrestClient=e.default;const n=t(dM());ln.PostgrestQueryBuilder=n.default;const r=t(wb());ln.PostgrestFilterBuilder=r.default;const i=t(cM());ln.PostgrestTransformBuilder=i.default;const a=t(uM());ln.PostgrestBuilder=a.default;const o=t(lM());return ln.PostgrestError=o.default,ln.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},ln}var IL=PL();const OL=ft(IL),{PostgrestClient:NL,PostgrestQueryBuilder:mse,PostgrestFilterBuilder:gse,PostgrestTransformBuilder:vse,PostgrestBuilder:yse,PostgrestError:xse}=OL;let Cx;typeof window>"u"?Cx=require("ws"):Cx=window.WebSocket;const ML="2.11.10",DL={"X-Client-Info":`realtime-js/${ML}`},RL="1.0.0",fM=1e4,jL=1e3;var Ss;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ss||(Ss={}));var On;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(On||(On={}));var Mr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Mr||(Mr={}));var kx;(function(t){t.websocket="websocket"})(kx||(kx={}));var Xa;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xa||(Xa={}));class $L{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+i));o=o+i;const c=r.decode(e.slice(o,o+a));o=o+a;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class hM{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Tt||(Tt={}));const vC=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=LL(o,t,e,i),a),{})},LL=(t,e,n,r)=>{const i=e.find(l=>l.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?pM(a,o):Tx(o)},pM=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return UL(e,n)}switch(t){case Tt.bool:return BL(e);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return FL(e);case Tt.json:case Tt.jsonb:return qL(e);case Tt.timestamp:return VL(e);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return Tx(e);default:return Tx(e)}},Tx=t=>t,BL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},FL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},UL=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>pM(e,l))}return t},VL=t=>typeof t=="string"?t.replace(" ","T"):t,mM=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class hg{constructor(e,n,r={},i=fM){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(yC||(yC={}));class _u{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_u.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=_u.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_u.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),l={},c={};return this.map(a,(d,h)=>{o[d]||(c[d]=h)}),this.map(o,(d,h)=>{const f=a[d];if(f){const v=h.map(w=>w.presence_ref),_=f.map(w=>w.presence_ref),b=h.filter(w=>_.indexOf(w.presence_ref)<0),S=f.filter(w=>v.indexOf(w.presence_ref)<0);b.length>0&&(l[d]=b),S.length>0&&(c[d]=S)}else l[d]=h}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const h=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),h.length>0){const f=e[l].map(_=>_.presence_ref),v=h.filter(_=>f.indexOf(_.presence_ref)<0);e[l].unshift(...v)}r(l,h,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const h=c.map(f=>f.presence_ref);d=d.filter(f=>h.indexOf(f.presence_ref)<0),e[l]=d,i(l,d,c),d.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xC||(xC={}));var _C;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_C||(_C={}));var _i;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(_i||(_i={}));class Sb{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=On.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hg(this,Mr.join,this.params,this.timeout),this.rejoinTimer=new hM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=On.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=On.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new _u(this),this.broadcastEndpointURL=mM(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(h=>e==null?void 0:e(_i.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(_i.CLOSED));const c={},d={broadcast:a,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){e==null||e(_i.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(f=v==null?void 0:v.length)!==null&&f!==void 0?f:0,b=[];for(let S=0;S<_;S++){const w=v[S],{filter:{event:A,schema:I,table:k,filter:O}}=w,E=h&&h[S];if(E&&E.event===A&&E.schema===I&&E.table===k&&E.filter===O)b.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=On.errored,e==null||e(_i.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(_i.SUBSCRIBED);return}}).receive("error",h=>{this.state=On.errored,e==null||e(_i.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(_i.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=On.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const i=new hg(this,Mr.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new hg(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:h}=Mr;if(r&&[l,c,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let v=this._onMessage(o,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var b,S,w;return((b=_.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(S=_.filter)===null||S===void 0?void 0:S.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(_=>_.callback(v,r)):(a=this.bindings[o])===null||a===void 0||a.filter(_=>{var b,S,w,A,I,k;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const O=_.id,E=(b=_.filter)===null||b===void 0?void 0:b.event;return O&&((S=n.ids)===null||S===void 0?void 0:S.includes(O))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const O=(I=(A=_==null?void 0:_.filter)===null||A===void 0?void 0:A.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return O==="*"||O===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:S,table:w,commit_timestamp:A,type:I,errors:k}=b;v=Object.assign(Object.assign({},{schema:S,table:w,commit_timestamp:A,eventType:I,new:{},old:{},errors:k}),this._getPayloadRecords(b))}_.callback(v,r)})}_isClosed(){return this.state===On.closed}_isJoined(){return this.state===On.joined}_isJoining(){return this.state===On.joining}_isLeaving(){return this.state===On.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Sb.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Mr.close,{},e)}_onError(e){this._on(Mr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=On.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=vC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=vC(e.columns,e.old_record)),n}}const bC=()=>{},zL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class GL{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=DL,this.params={},this.timeout=fM,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bC,this.ref=0,this.logger=bC,this.conn=null,this.sendBuffer=[],this.serializer=new $L,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>mc(async()=>{const{default:c}=await Promise.resolve().then(()=>ol);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${kx.websocket}`,this.httpEndpoint=mM(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new hM(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Cx),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new HL(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RL}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ss.connecting:return Xa.Connecting;case Ss.open:return Xa.Open;case Ss.closing:return Xa.Closing;default:return Xa.Closed}}isConnected(){return this.connectionState()===Xa.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Sb(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Mr.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(jL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:a,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Mr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([zL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class HL{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ss.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Cb extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function un(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class WL extends Cb{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ex extends Cb{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var KL=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(f){o(f)}}function c(h){try{d(r.throw(h))}catch(f){o(f)}}function d(h){h.done?a(h.value):i(h.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const gM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>mc(async()=>{const{default:r}=await Promise.resolve().then(()=>ol);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},YL=()=>KL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mc(()=>Promise.resolve().then(()=>ol),void 0)).Response:Response}),Ax=t=>{if(Array.isArray(t))return t.map(n=>Ax(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Ax(r)}),e};var go=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(f){o(f)}}function c(h){try{d(r.throw(h))}catch(f){o(f)}}function d(h){h.done?a(h.value):i(h.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const pg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),JL=(t,e,n)=>go(void 0,void 0,void 0,function*(){const r=yield YL();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new WL(pg(i),t.status||500))}).catch(i=>{e(new Ex(pg(i),i))}):e(new Ex(pg(t),t))}),XL=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function gc(t,e,n,r,i,a){return go(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,XL(e,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>JL(c,l,r))})})}function _f(t,e,n,r){return go(this,void 0,void 0,function*(){return gc(t,"GET",e,n,r)})}function ia(t,e,n,r,i){return go(this,void 0,void 0,function*(){return gc(t,"POST",e,r,i,n)})}function ZL(t,e,n,r,i){return go(this,void 0,void 0,function*(){return gc(t,"PUT",e,r,i,n)})}function QL(t,e,n,r){return go(this,void 0,void 0,function*(){return gc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function vM(t,e,n,r,i){return go(this,void 0,void 0,function*(){return gc(t,"DELETE",e,r,i,n)})}var Hn=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(f){o(f)}}function c(h){try{d(r.throw(h))}catch(f){o(f)}}function d(h){h.done?a(h.value):i(h.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const e5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class t5{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=gM(i)}uploadOrUpdate(e,n,r,i){return Hn(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},wC),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),v=yield f.json();return f.ok?{data:{path:d,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(a){if(un(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Hn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:wC.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:h}),v=yield f.json();return f.ok?{data:{path:a,fullPath:v.Key},error:null}:{data:null,error:v}}catch(c){if(un(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Hn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield ia(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Cb("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}update(e,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(un(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:{path:(yield ia(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(un(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Hn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ia(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(un(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Hn(this,void 0,void 0,function*(){try{const i=yield ia(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(un(i))return{data:null,error:i};throw i}})}download(e,n){return Hn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield _f(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(un(l))return{data:null,error:l};throw l}})}info(e){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield _f(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ax(r),error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}exists(e){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield QL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(un(r)&&r instanceof Ex){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield vM(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(un(n))return{data:null,error:n};throw n}})}list(e,n,r){return Hn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},e5),n),{prefix:e||""});return{data:yield ia(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(un(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const n5="2.7.1",r5={"X-Client-Info":`storage-js/${n5}`};var ss=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(f){o(f)}}function c(h){try{d(r.throw(h))}catch(f){o(f)}}function d(h){h.done?a(h.value):i(h.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class i5{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},r5),n),this.fetch=gM(r)}listBuckets(){return ss(this,void 0,void 0,function*(){try{return{data:yield _f(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(un(e))return{data:null,error:e};throw e}})}getBucket(e){return ss(this,void 0,void 0,function*(){try{return{data:yield _f(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(un(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ss(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ss(this,void 0,void 0,function*(){try{return{data:yield ZL(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ss(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(un(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ss(this,void 0,void 0,function*(){try{return{data:yield vM(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(un(n))return{data:null,error:n};throw n}})}}class a5 extends i5{constructor(e,n={},r){super(e,n,r)}from(e){return new t5(this.url,this.headers,e,this.fetch)}}const o5="2.50.0";let pu="";typeof Deno<"u"?pu="deno":typeof document<"u"?pu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pu="react-native":pu="node";const s5={"X-Client-Info":`supabase-js-${pu}/${o5}`},l5={headers:s5},u5={schema:"public"},c5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d5={};var f5=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(f){o(f)}}function c(h){try{d(r.throw(h))}catch(f){o(f)}}function d(h){h.done?a(h.value):i(h.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const h5=t=>{let e;return t?e=t:typeof fetch>"u"?e=oM:e=fetch,(...n)=>e(...n)},p5=()=>typeof Headers>"u"?sM:Headers,m5=(t,e,n)=>{const r=h5(n),i=p5();return(a,o)=>f5(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:d}))})};var g5=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(f){o(f)}}function c(h){try{d(r.throw(h))}catch(f){o(f)}}function d(h){h.done?a(h.value):i(h.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};function v5(t){return t.endsWith("/")?t:t+"/"}function y5(t,e){var n,r;const{db:i,auth:a,realtime:o,global:l}=t,{db:c,auth:d,realtime:h,global:f}=e,v={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},h),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>g5(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const yM="2.70.0",ms=30*1e3,Px=3,mg=Px*ms,x5="http://localhost:9999",_5="supabase.auth.token",b5={"X-Client-Info":`gotrue-js/${yM}`},Ix="X-Supabase-Api-Version",xM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,S5=6e5;class kb extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Qe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class C5 extends kb{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function k5(t){return Qe(t)&&t.name==="AuthApiError"}class _M extends kb{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ga extends kb{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ra extends ga{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function T5(t){return Qe(t)&&t.name==="AuthSessionMissingError"}class Kd extends ga{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yd extends ga{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jd extends ga{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function E5(t){return Qe(t)&&t.name==="AuthImplicitGrantRedirectError"}class SC extends ga{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ox extends ga{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function gg(t){return Qe(t)&&t.name==="AuthRetryableFetchError"}class CC extends ga{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bu extends ga{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const bf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kC=` 	
\r=`.split(""),A5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<kC.length;e+=1)t[kC[e].charCodeAt(0)]=-2;for(let e=0;e<bf.length;e+=1)t[bf[e].charCodeAt(0)]=e;return t})();function TC(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(bf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(bf[r]),e.queuedBits-=6}}function bM(t,e,n){const r=A5[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function EC(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{O5(o,r,n)};for(let o=0;o<t.length;o+=1)bM(t.charCodeAt(o),i,a);return e.join("")}function P5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function I5(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}P5(r,e)}}function O5(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function N5(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)bM(t.charCodeAt(i),n,r);return new Uint8Array(e)}function M5(t){const e=[];return I5(t,n=>e.push(n)),new Uint8Array(e)}function D5(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>TC(i,n,r)),TC(null,n,r),e.join("")}function R5(t){return Math.round(Date.now()/1e3)+t}function j5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Nr=()=>typeof window<"u"&&typeof document<"u",Va={tested:!1,writable:!1},wu=()=>{if(!Nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Va.tested)return Va.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Va.tested=!0,Va.writable=!0}catch{Va.tested=!0,Va.writable=!1}return Va.writable};function $5(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const wM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>mc(async()=>{const{default:r}=await Promise.resolve().then(()=>ol);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},L5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",SM=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Xd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zd=async(t,e)=>{await t.removeItem(e)};class Ah{constructor(){this.promise=new Ah.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ah.promiseConstructor=Promise;function vg(t){const e=t.split(".");if(e.length!==3)throw new bu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!w5.test(e[r]))throw new bu("JWT not in base64url format");return{header:JSON.parse(EC(e[0])),payload:JSON.parse(EC(e[1])),signature:N5(e[2]),raw:{header:e[0],payload:e[1]}}}async function B5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function F5(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function q5(t){return("0"+t.toString(16)).substr(-2)}function U5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,q5).join("")}async function V5(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function z5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await V5(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ls(t,e,n=!1){const r=U5();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await SM(t,`${e}-code-verifier`,i);const a=await z5(r);return[a,r===a?"plain":"s256"]}const G5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H5(t){const e=t.headers.get(Ix);if(!e||!e.match(G5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function W5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function K5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Y5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function us(t){if(!Y5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var J5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ka=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),X5=[502,503,504];async function AC(t){var e;if(!L5(t))throw new Ox(Ka(t),0);if(X5.includes(t.status))throw new Ox(Ka(t),t.status);let n;try{n=await t.json()}catch(a){throw new _M(Ka(a),a)}let r;const i=H5(t);if(i&&i.getTime()>=xM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new CC(Ka(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ra}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new CC(Ka(n),t.status,n.weak_password.reasons);throw new C5(Ka(n),t.status||500,r)}const Z5=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function it(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Ix]||(a[Ix]=xM["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Q5(t,e,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Q5(t,e,n,r,i,a){const o=Z5(e,r,i,a);let l;try{l=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new Ox(Ka(c),0)}if(l.ok||await AC(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await AC(c)}}function xi(t){var e;let n=null;rB(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=R5(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function PC(t){const e=xi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function la(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function eB(t){return{data:t,error:null}}function tB(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=J5(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function nB(t){return t}function rB(t){return t.access_token&&t.refresh_token&&t.expires_in}const yg=["global","local","others"];var iB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class aB{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=wM(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=yg[0]){if(yg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yg.join(", ")}`);try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:la})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=iB(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:tB,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Qe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:la})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:nB});if(h.error)throw h.error;const f=await h.json(),v=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);d[`${w}Page`]=S}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Qe(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){us(e);try{return await it(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:la})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){us(e);try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:la})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){us(e);try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:la})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){us(e.userId);try{const{data:n,error:r}=await it(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){us(e.userId),us(e.id);try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}}const oB={getItem:t=>wu()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{wu()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{wu()&&globalThis.localStorage.removeItem(t)}};function IC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function sB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cs={debug:!!(globalThis&&wu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class CM extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lB extends CM{}async function uB(t,e,n){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lB(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(cs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}sB();const cB={url:x5,storageKey:_5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:b5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function OC(t,e,n){return await n()}class Iu{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Iu.nextInstanceID,Iu.nextInstanceID+=1,this.instanceID>0&&Nr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},cB),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new aB({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=wM(i.fetch),this.lock=i.lock||OC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Nr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=uB:this.lock=OC,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:wu()?this.storage=oB:(this.memoryStorage={},this.storage=IC(this.memoryStorage)):(this.memoryStorage={},this.storage=IC(this.memoryStorage)),Nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yM}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=$5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Nr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),E5(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Qe(n)?{error:n}:{error:new _M("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:xi}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Qe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:h,password:f,options:v}=e;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await ls(this.storage,this.storageKey)),a=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:f,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:b},xform:xi})}else if("phone"in e){const{phone:h,password:f,options:v}=e;a=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:xi})}else throw new Yd("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Qe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:l}=e;n=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:PC})}else if("phone"in e){const{phone:a,password:o,options:l}=e;n=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:PC})}else throw new Yd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Kd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Qe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,a,o,l,c,d,h,f,v,_;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:w,wallet:A,statement:I,options:k}=e;let O;if(Nr())if(typeof A=="object")O=A;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))O=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=A}const E=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const P=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),I?{statement:I}:null));let N;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")N=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)N=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),S=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${E.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=k==null?void 0:k.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((f=(h=k==null?void 0:k.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...k.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const P=await O.signMessage(new TextEncoder().encode(b),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=P}}try{const{data:w,error:A}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:D5(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:xi});if(A)throw A;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Kd}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:A})}catch(w){if(Qe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await Xd(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:xi});if(await Zd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Kd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Qe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,l=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xi}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Kd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(Qe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await ls(this.storage,this.storageKey));const{error:f}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:h}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Yd("You must provide either an email or phone number.")}catch(l){if(Qe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:xi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Qe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await ls(this.storage,this.storageKey)),await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:eB})}catch(a){if(Qe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ra;const{error:i}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Qe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await it(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:l}=await it(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Yd("You must provide either an email or phone number and a type")}catch(n){if(Qe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Xd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<mg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,h)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,h))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:la}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ra}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:la})})}catch(n){if(Qe(n))return T5(n)&&(await this._removeSession(),await Zd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ra;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await ls(this.storage,this.storageKey));const{data:d,error:h}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:la});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ra;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=vg(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Qe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ra;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Qe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Nr())throw new Jd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new SC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new SC("No code detected.");const{data:I,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!a||!l||!o||!d)throw new Jd("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let v=h+f;c&&(v=parseInt(c));const _=v-h;_*1e3<=ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${f}s`);const b=v-f;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,h);const{data:S,error:w}=await this._getUser(a);if(w)throw w;const A={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:v,refresh_token:o,token_type:d,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:e.type},error:null}}catch(r){if(Qe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Xd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(k5(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Zd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=j5(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ls(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Qe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,c,d,h;const{data:f,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",_,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Nr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Qe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await F5(async i=>(i>0&&await B5(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xi})),(i,a)=>{const o=200*Math.pow(2,i);return a&&gg(a)&&Date.now()+o-r<ms})}catch(r){if(this._debug(n,"error",r),Qe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Nr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Xd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<mg;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${mg}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),gg(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ra;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ah;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new ra;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Qe(a)){const o={session:null,error:a};return gg(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await SM(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Zd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ms);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ms}ms, refresh threshold is ${Px} ticks`),i<=Px&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof CM)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await ls(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await it(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await it(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await it(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await it(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=vg(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+S5>Date.now()))return r;const{data:i,error:a}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new bu("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new bu("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:_,error:b}=await this.getSession();if(b||!_.session)return{data:null,error:b};r=_.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=vg(r);if(W5(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:a,header:i,signature:o},error:null}}const d=K5(i.alg),h=await this.fetchJwk(i.kid,n),f=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,M5(`${l}.${c}`)))throw new bu("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}}Iu.nextInstanceID=0;const dB=Iu;class fB extends dB{constructor(e){super(e)}}var hB=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(h){try{d(r.next(h))}catch(f){o(f)}}function c(h){try{d(r.throw(h))}catch(f){o(f)}}function d(h){h.done?a(h.value):i(h.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class pB{constructor(e,n,r){var i,a,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=v5(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:u5,realtime:d5,auth:Object.assign(Object.assign({},c5),{storageKey:d}),global:l5},f=y5(r??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=m5(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new NL(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new _L(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new a5(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return hB(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:o,lock:l,debug:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fB({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new GL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mB=(t,e,n)=>new pB(t,e,n),gB="https://kezqwaibstyhvxpdhdts.supabase.co",vB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtlenF3YWlic3R5aHZ4cGRoZHRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2ODU0NTEsImV4cCI6MjA1OTI2MTQ1MX0.f8lcr89hUJLsQYdHWE6tFlijL7PtHKI3w7KtG-PGgb8",ke=mB(gB,vB);var ve=(t=>(t.INCOME="INCOME",t.EXPENSE="EXPENSE",t.TRANSFER="TRANSFER",t))(ve||{}),$r=(t=>(t.DEPOSIT="DEPOSIT",t.WITHDRAWAL="WITHDRAWAL",t))($r||{});const yB=[{name:"Salário"},{name:"Vendas"},{name:"Investimentos"},{name:"Presente"},{name:"Outras Receitas"}],xB=[{name:"Alimentação"},{name:"Transporte"},{name:"Moradia"},{name:"Lazer"},{name:"Saúde"},{name:"Educação"},{name:"Compras"},{name:"Impostos"},{name:"Água"},{name:"Luz"},{name:"Outras Despesas"}],_B=[{name:"Carteira",initial_balance:0},{name:"Banco Principal",initial_balance:1e3}],Ou="Meu Financeiro",Ph=[{value:ve.INCOME,label:"Receita"},{value:ve.EXPENSE,label:"Despesa"},{value:ve.TRANSFER,label:"Transferência"}],bB=[{value:"all",label:"Todo o Período"},{value:"today",label:"Hoje"},{value:"current_month",label:"Este Mês"},{value:"last_7_days",label:"Últimos 7 Dias"},{value:"last_30_days",label:"Últimos 30 Dias"}],wB=t=>{const e=yB.map(r=>({...r,user_id:t,type:ve.INCOME})),n=xB.map(r=>({...r,user_id:t,type:ve.EXPENSE}));return[...e,...n]},SB=t=>_B.map(e=>({...e,user_id:t})),Xe=()=>crypto.randomUUID(),jn=(t,e="pt-BR",n)=>{const r=new Date(t.includes("T")?t:t+"T00:00:00"),i={year:"numeric",month:"short",day:"numeric"},a=n?{...i,...n}:i;return r.toLocaleDateString(e,a)},de=(t,e="BRL",n="pt-BR",r=!1)=>{var i;return r?`${((i=new Intl.NumberFormat(n,{style:"currency",currency:e}).formatToParts(0).find(o=>o.type==="currency"))==null?void 0:i.value)||"$"} ****,**`:new Intl.NumberFormat(n,{style:"currency",currency:e}).format(t)},gt=(t=new Date)=>(typeof t=="string"?new Date(t.includes("T")?t:t+"T00:00:00"):t).toISOString().split("T")[0],kM=(t,e,n)=>{const r=new Date(t+"T00:00:00");let i=r.getMonth()+e,a=r.getFullYear();i>11&&(a+=Math.floor(i/12),i=i%12);const l=r.getMonth()+1+(e-1);a=r.getFullYear(),i=l,i>11&&(a+=Math.floor(i/12),i=i%12);const c=new Date(a,i,1),d=new Date(a,i+1,0).getDate(),h=Math.min(n,d);return c.setDate(h),c},CB=(t,e,n)=>{if(!t||!e)return[];const r=[],i=n.getFullYear(),a=n.getMonth();let o=new Date(i,a,e.closing_day);n.getDate()>e.closing_day&&o.setMonth(a+1);let l=new Date(o.getFullYear(),o.getMonth(),e.due_day);e.due_day<e.closing_day&&l.setMonth(o.getMonth()+1);for(const c of t)if(c.installments_paid<c.number_of_installments){const d=c.installments_paid+1,h=kM(c.purchase_date,d,e.due_day);if(h<=l){let f=new Date(l);f.setMonth(f.getMonth()-1),(h>f||h.getFullYear()===l.getFullYear()&&h.getMonth()===l.getMonth())&&r.push(c)}}return r.filter((c,d,h)=>h.findIndex(f=>f.id===c.id)===d)},TM=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),NC=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),Nx=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15L15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),wf=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"})}),kB=({id:t,message:e,type:n,onDismiss:r})=>{let i="bg-primary dark:bg-primaryDark",a="text-white",o=NC;switch(n){case"success":i="bg-secondary dark:bg-secondaryDark",o=Nx;break;case"warning":i="bg-amber-500 dark:bg-amber-600",o=wf;break;case"error":i="bg-destructive dark:bg-destructiveDark",o=wf;break;case"info":default:i="bg-blue-500 dark:bg-blue-600",o=NC;break}return y.jsxs("div",{role:"alert","aria-live":"assertive","aria-atomic":"true",className:`relative flex items-start w-full max-w-sm p-4 rounded-lg shadow-2xl ${i} ${a} transform transition-all duration-300 ease-in-out animate-fadeIn`,children:[y.jsx("div",{className:"flex-shrink-0 mr-3",children:y.jsx(o,{className:"w-6 h-6"})}),y.jsx("div",{className:"flex-grow text-sm font-medium",children:e}),y.jsx("button",{onClick:()=>r(t),"aria-label":"Fechar notificação",className:"ml-3 -mr-1 -my-1 p-1 rounded-md hover:bg-black/20 focus:outline-none focus:ring-2 focus:ring-white/50 transition-colors",children:y.jsx(TM,{className:"w-5 h-5"})}),y.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},TB=({toasts:t,removeToast:e})=>t.length?y.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"fixed top-4 right-4 z-[100] space-y-3 w-full max-w-sm pointer-events-none",children:t.map(n=>y.jsx("div",{className:"pointer-events-auto",children:y.jsx(kB,{...n,onDismiss:e})},n.id))}):null,EM=R.createContext(void 0),AM=()=>{const t=R.useContext(EM);if(!t)throw new Error("useToasts must be used within a ToastProvider");return t},EB=({children:t})=>{const[e,n]=R.useState([]),r=R.useCallback((a,o,l=5e3)=>{const c=Xe();n(d=>[{id:c,message:a,type:o,duration:l},...d.slice(0,4)]),l&&setTimeout(()=>{i(c)},l)},[]),i=R.useCallback(a=>{n(o=>o.filter(l=>l.id!==a))},[]);return y.jsxs(EM.Provider,{value:{addToast:r},children:[t,y.jsx(TB,{toasts:e,removeToast:i})]})},kn=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),AB=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52M6.25 4.97A48.416 48.416 0 0 1 12 4.5c2.291 0 4.545.16 6.75.47m-13.5 0C4.146 5.116 3.146 5.29 2.25 5.5m3.75-.48a25.293 25.293 0 0 0-3.75.48M12 12.75h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0-9h.008v.008H12V9.75Z"})}),Tb=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-3.741-5.602M12 12.75a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 0H7.5M12 12.75V15m0 0H7.5M12 15A6.75 6.75 0 0 0 5.25 9.75M12 15A6.75 6.75 0 0 1 18.75 9.75M12 2.25A6.75 6.75 0 0 0 5.25 9m6.75-6.75v1.5m0 1.5V9m0-3a2.25 2.25 0 0 0-2.25-2.25H7.5A2.25 2.25 0 0 0 5.25 6m13.5 6.75a2.25 2.25 0 0 0-2.25-2.25H15a2.25 2.25 0 0 0-2.25 2.25m3.75 0v1.5m0 1.5V18m0-3a2.25 2.25 0 0 0-2.25-2.25H15A2.25 2.25 0 0 0 12.75 15m3.75 0h-3.75M3.375 19.5a2.25 2.25 0 0 1 2.25-2.25H10.5a2.25 2.25 0 0 1 2.25 2.25"})}),he=({variant:t="primary",size:e="md",children:n,className:r,...i})=>{const a="font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-backgroundDark transition-colors duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center";let o="";switch(t){case"primary":o="bg-primary text-white hover:bg-blue-700 dark:bg-primaryDark dark:hover:bg-blue-600 focus:ring-primary dark:focus:ring-primaryDark";break;case"secondary":o="bg-secondary text-white hover:bg-emerald-700 dark:bg-secondaryDark dark:hover:bg-emerald-600 focus:ring-secondary dark:focus:ring-secondaryDark";break;case"danger":o="bg-destructive text-white hover:bg-red-700 dark:bg-destructiveDark dark:hover:bg-red-600 focus:ring-destructive dark:focus:ring-destructiveDark";break;case"ghost":o="bg-transparent text-textBase dark:text-textBaseDark hover:bg-neutral/10 dark:hover:bg-neutralDark/20 focus:ring-neutral dark:focus:ring-neutralDark";break}let l="";switch(e){case"sm":l="px-3 py-1.5 text-sm";break;case"md":l="px-4 py-2 text-base";break;case"lg":l="px-6 py-3 text-lg";break}return y.jsx("button",{className:`${a} ${o} ${l} ${r||""}`,...i,children:n})};function PM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=PM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=PM(t))&&(r&&(r+=" "),r+=e);return r}var xg,MC;function Kn(){if(MC)return xg;MC=1;var t=Array.isArray;return xg=t,xg}var _g,DC;function IM(){if(DC)return _g;DC=1;var t=typeof Gd=="object"&&Gd&&Gd.Object===Object&&Gd;return _g=t,_g}var bg,RC;function ri(){if(RC)return bg;RC=1;var t=IM(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return bg=n,bg}var wg,jC;function vc(){if(jC)return wg;jC=1;var t=ri(),e=t.Symbol;return wg=e,wg}var Sg,$C;function PB(){if($C)return Sg;$C=1;var t=vc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var l=n.call(o,i),c=o[i];try{o[i]=void 0;var d=!0}catch{}var h=r.call(o);return d&&(l?o[i]=c:delete o[i]),h}return Sg=a,Sg}var Cg,LC;function IB(){if(LC)return Cg;LC=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Cg=n,Cg}var kg,BC;function Ni(){if(BC)return kg;BC=1;var t=vc(),e=PB(),n=IB(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:r:a&&a in Object(l)?e(l):n(l)}return kg=o,kg}var Tg,FC;function Mi(){if(FC)return Tg;FC=1;function t(e){return e!=null&&typeof e=="object"}return Tg=t,Tg}var Eg,qC;function sl(){if(qC)return Eg;qC=1;var t=Ni(),e=Mi(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Eg=r,Eg}var Ag,UC;function Eb(){if(UC)return Ag;UC=1;var t=Kn(),e=sl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return Ag=i,Ag}var Pg,VC;function va(){if(VC)return Pg;VC=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Pg=t,Pg}var Ig,zC;function Ab(){if(zC)return Ig;zC=1;var t=Ni(),e=va(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==a}return Ig=o,Ig}var Og,GC;function OB(){if(GC)return Og;GC=1;var t=ri(),e=t["__core-js_shared__"];return Og=e,Og}var Ng,HC;function NB(){if(HC)return Ng;HC=1;var t=OB(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Ng=n,Ng}var Mg,WC;function OM(){if(WC)return Mg;WC=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Mg=n,Mg}var Dg,KC;function MB(){if(KC)return Dg;KC=1;var t=Ab(),e=NB(),n=va(),r=OM(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,h=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(v){if(!n(v)||e(v))return!1;var _=t(v)?h:a;return _.test(r(v))}return Dg=f,Dg}var Rg,YC;function DB(){if(YC)return Rg;YC=1;function t(e,n){return e==null?void 0:e[n]}return Rg=t,Rg}var jg,JC;function vo(){if(JC)return jg;JC=1;var t=MB(),e=DB();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return jg=n,jg}var $g,XC;function Ih(){if(XC)return $g;XC=1;var t=vo(),e=t(Object,"create");return $g=e,$g}var Lg,ZC;function RB(){if(ZC)return Lg;ZC=1;var t=Ih();function e(){this.__data__=t?t(null):{},this.size=0}return Lg=e,Lg}var Bg,QC;function jB(){if(QC)return Bg;QC=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Bg=t,Bg}var Fg,ek;function $B(){if(ek)return Fg;ek=1;var t=Ih(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return r.call(o,a)?o[a]:void 0}return Fg=i,Fg}var qg,tk;function LB(){if(tk)return qg;tk=1;var t=Ih(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return qg=r,qg}var Ug,nk;function BB(){if(nk)return Ug;nk=1;var t=Ih(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return Ug=n,Ug}var Vg,rk;function FB(){if(rk)return Vg;rk=1;var t=RB(),e=jB(),n=$B(),r=LB(),i=BB();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Vg=a,Vg}var zg,ik;function qB(){if(ik)return zg;ik=1;function t(){this.__data__=[],this.size=0}return zg=t,zg}var Gg,ak;function Pb(){if(ak)return Gg;ak=1;function t(e,n){return e===n||e!==e&&n!==n}return Gg=t,Gg}var Hg,ok;function Oh(){if(ok)return Hg;ok=1;var t=Pb();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Hg=e,Hg}var Wg,sk;function UB(){if(sk)return Wg;sk=1;var t=Oh(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():n.call(a,o,1),--this.size,!0}return Wg=r,Wg}var Kg,lk;function VB(){if(lk)return Kg;lk=1;var t=Oh();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Kg=e,Kg}var Yg,uk;function zB(){if(uk)return Yg;uk=1;var t=Oh();function e(n){return t(this.__data__,n)>-1}return Yg=e,Yg}var Jg,ck;function GB(){if(ck)return Jg;ck=1;var t=Oh();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Jg=e,Jg}var Xg,dk;function Nh(){if(dk)return Xg;dk=1;var t=qB(),e=UB(),n=VB(),r=zB(),i=GB();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Xg=a,Xg}var Zg,fk;function Ib(){if(fk)return Zg;fk=1;var t=vo(),e=ri(),n=t(e,"Map");return Zg=n,Zg}var Qg,hk;function HB(){if(hk)return Qg;hk=1;var t=FB(),e=Nh(),n=Ib();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Qg=r,Qg}var ev,pk;function WB(){if(pk)return ev;pk=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return ev=t,ev}var tv,mk;function Mh(){if(mk)return tv;mk=1;var t=WB();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return tv=e,tv}var nv,gk;function KB(){if(gk)return nv;gk=1;var t=Mh();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return nv=e,nv}var rv,vk;function YB(){if(vk)return rv;vk=1;var t=Mh();function e(n){return t(this,n).get(n)}return rv=e,rv}var iv,yk;function JB(){if(yk)return iv;yk=1;var t=Mh();function e(n){return t(this,n).has(n)}return iv=e,iv}var av,xk;function XB(){if(xk)return av;xk=1;var t=Mh();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return av=e,av}var ov,_k;function Ob(){if(_k)return ov;_k=1;var t=HB(),e=KB(),n=YB(),r=JB(),i=XB();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,ov=a,ov}var sv,bk;function NM(){if(bk)return sv;bk=1;var t=Ob(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var d=r.apply(this,o);return a.cache=c.set(l,d)||c,d};return a.cache=new(n.Cache||t),a}return n.Cache=t,sv=n,sv}var lv,wk;function ZB(){if(wk)return lv;wk=1;var t=NM(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return lv=n,lv}var uv,Sk;function QB(){if(Sk)return uv;Sk=1;var t=ZB(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,l,c,d){a.push(c?d.replace(n,"$1"):l||o)}),a});return uv=r,uv}var cv,Ck;function Nb(){if(Ck)return cv;Ck=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return cv=t,cv}var dv,kk;function e3(){if(kk)return dv;kk=1;var t=vc(),e=Nb(),n=Kn(),r=sl(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return dv=o,dv}var fv,Tk;function MM(){if(Tk)return fv;Tk=1;var t=e3();function e(n){return n==null?"":t(n)}return fv=e,fv}var hv,Ek;function DM(){if(Ek)return hv;Ek=1;var t=Kn(),e=Eb(),n=QB(),r=MM();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return hv=i,hv}var pv,Ak;function Dh(){if(Ak)return pv;Ak=1;var t=sl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return pv=e,pv}var mv,Pk;function Mb(){if(Pk)return mv;Pk=1;var t=DM(),e=Dh();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return mv=n,mv}var gv,Ik;function RM(){if(Ik)return gv;Ik=1;var t=Mb();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return gv=e,gv}var t3=RM();const ar=ft(t3);var vv,Ok;function n3(){if(Ok)return vv;Ok=1;function t(e){return e==null}return vv=t,vv}var r3=n3();const at=ft(r3);var yv,Nk;function i3(){if(Nk)return yv;Nk=1;var t=Ni(),e=Kn(),n=Mi(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return yv=i,yv}var a3=i3();const oo=ft(a3);var o3=Ab();const Ye=ft(o3);var s3=va();const ll=ft(s3);var xv={exports:{}},pt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk;function l3(){if(Mk)return pt;Mk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function S(w){if(typeof w=="object"&&w!==null){var A=w.$$typeof;switch(A){case t:switch(w=w.type,w){case n:case i:case r:case d:case h:return w;default:switch(w=w&&w.$$typeof,w){case l:case o:case c:case v:case f:case a:return w;default:return A}}case e:return A}}}return pt.ContextConsumer=o,pt.ContextProvider=a,pt.Element=t,pt.ForwardRef=c,pt.Fragment=n,pt.Lazy=v,pt.Memo=f,pt.Portal=e,pt.Profiler=i,pt.StrictMode=r,pt.Suspense=d,pt.SuspenseList=h,pt.isAsyncMode=function(){return!1},pt.isConcurrentMode=function(){return!1},pt.isContextConsumer=function(w){return S(w)===o},pt.isContextProvider=function(w){return S(w)===a},pt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},pt.isForwardRef=function(w){return S(w)===c},pt.isFragment=function(w){return S(w)===n},pt.isLazy=function(w){return S(w)===v},pt.isMemo=function(w){return S(w)===f},pt.isPortal=function(w){return S(w)===e},pt.isProfiler=function(w){return S(w)===i},pt.isStrictMode=function(w){return S(w)===r},pt.isSuspense=function(w){return S(w)===d},pt.isSuspenseList=function(w){return S(w)===h},pt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===d||w===h||w===_||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===f||w.$$typeof===a||w.$$typeof===o||w.$$typeof===c||w.$$typeof===b||w.getModuleId!==void 0)},pt.typeOf=S,pt}var Dk;function u3(){return Dk||(Dk=1,xv.exports=l3()),xv.exports}var c3=u3(),_v,Rk;function jM(){if(Rk)return _v;Rk=1;var t=Ni(),e=Mi(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return _v=r,_v}var bv,jk;function d3(){if(jk)return bv;jk=1;var t=jM();function e(n){return t(n)&&n!=+n}return bv=e,bv}var f3=d3();const yc=ft(f3);var h3=jM();const p3=ft(h3);var Nn=function(e){return e===0?0:e>0?1:-1},Qa=function(e){return oo(e)&&e.indexOf("%")===e.length-1},we=function(e){return p3(e)&&!yc(e)},tn=function(e){return we(e)||oo(e)},m3=0,xc=function(e){var n=++m3;return"".concat(e||"").concat(n)},Mn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(e)&&!oo(e))return r;var a;if(Qa(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return yc(a)&&(a=r),i&&a>n&&(a=n),a},ua=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},g3=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},aa=function(e,n){return we(e)&&we(n)?function(r){return e+r*(n-e)}:function(){return n}};function Mx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ar(r,e))===n})}var v3=function(e,n){return we(e)&&we(n)?e-n:oo(e)&&oo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Cs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Dx(t){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(t)}var y3=["viewBox","children"],x3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$k=["points","pathLength"],wv={svg:y3,polygon:$k,polyline:$k},Db=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Sf=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!ll(r))return null;var i={};return Object.keys(r).forEach(function(a){Db.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},_3=function(e,n,r){return function(i){return e(n,r,i),null}},so=function(e,n,r){if(!ll(e)||Dx(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];Db.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=_3(o,n,r))}),i},b3=["children"],w3=["children"];function Lk(t,e){if(t==null)return{};var n=S3(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ki=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Fk=null,Sv=null,Rb=function t(e){if(e===Fk&&Array.isArray(Sv))return Sv;var n=[];return R.Children.forEach(e,function(r){at(r)||(c3.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Sv=n,Fk=e,n};function br(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ki(i)}):r=[ki(e)],Rb(t).forEach(function(i){var a=ar(i,"type.displayName")||ar(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function rr(t,e){var n=br(t,e);return n&&n[0]}var qk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!we(r)||r<=0||!we(i)||i<=0)},C3=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],k3=function(e){return e&&e.type&&oo(e.type)&&C3.indexOf(e.type)>=0},T3=function(e,n,r,i){var a,o=(a=wv==null?void 0:wv[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ye(e)&&(i&&o.includes(n)||x3.includes(n))||r&&Db.includes(n)},He=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!ll(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;T3((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=i[o])}),a},Rx=function t(e,n){if(e===n)return!0;var r=R.Children.count(e);if(r!==R.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Uk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!Uk(a,o))return!1}return!0},Uk=function(e,n){if(at(e)&&at(n))return!0;if(!at(e)&&!at(n)){var r=e.props||{},i=r.children,a=Lk(r,b3),o=n.props||{},l=o.children,c=Lk(o,w3);return i&&l?Cs(a,c)&&Rx(i,l):!i&&!l?Cs(a,c):!1}return!1},Vk=function(e,n){var r=[],i={};return Rb(e).forEach(function(a,o){if(k3(a))r.push(a);else if(a){var l=ki(a.type),c=n[l]||{},d=c.handler,h=c.once;if(d&&(!h||!i[l])){var f=d(a,l,o);r.push(f),i[l]=!0}}}),r},E3=function(e){var n=e&&e.type;return n&&Bk[n]?Bk[n]:null},A3=function(e,n){return Rb(n).indexOf(e)},P3=["children","width","height","viewBox","className","style","title","desc"];function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function I3(t,e){if(t==null)return{};var n=O3(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $x(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,d=I3(t,P3),h=i||{width:n,height:r,x:0,y:0},f=rt("recharts-surface",a);return H.createElement("svg",jx({},He(d,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),H.createElement("title",null,l),H.createElement("desc",null,c),e)}var N3=["children","className"];function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lx.apply(this,arguments)}function M3(t,e){if(t==null)return{};var n=D3(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yt=H.forwardRef(function(t,e){var n=t.children,r=t.className,i=M3(t,N3),a=rt("recharts-layer",r);return H.createElement("g",Lx({className:a},He(i,!0),{ref:e}),n)}),Lr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},Cv,zk;function R3(){if(zk)return Cv;zk=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return Cv=t,Cv}var kv,Gk;function j3(){if(Gk)return kv;Gk=1;var t=R3();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return kv=e,kv}var Tv,Hk;function $M(){if(Hk)return Tv;Hk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+a+"]");function c(d){return l.test(d)}return Tv=c,Tv}var Ev,Wk;function $3(){if(Wk)return Ev;Wk=1;function t(e){return e.split("")}return Ev=t,Ev}var Av,Kk;function L3(){if(Kk)return Av;Kk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",h="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",b=d+"?",S="["+a+"]?",w="(?:"+_+"(?:"+[h,f,v].join("|")+")"+S+b+")*",A=S+b+w,I="(?:"+[h+l+"?",l,f,v,o].join("|")+")",k=RegExp(c+"(?="+c+")|"+I+A,"g");function O(E){return E.match(k)||[]}return Av=O,Av}var Pv,Yk;function B3(){if(Yk)return Pv;Yk=1;var t=$3(),e=$M(),n=L3();function r(i){return e(i)?n(i):t(i)}return Pv=r,Pv}var Iv,Jk;function F3(){if(Jk)return Iv;Jk=1;var t=j3(),e=$M(),n=B3(),r=MM();function i(a){return function(o){o=r(o);var l=e(o)?n(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[a]()+d}}return Iv=i,Iv}var Ov,Xk;function q3(){if(Xk)return Ov;Xk=1;var t=F3(),e=t("toUpperCase");return Ov=e,Ov}var U3=q3();const Rh=ft(U3);function At(t){return function(){return t}}const LM=Math.cos,Cf=Math.sin,Vr=Math.sqrt,kf=Math.PI,jh=2*kf,Bx=Math.PI,Fx=2*Bx,Ya=1e-6,V3=Fx-Ya;function BM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function z3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return BM;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class G3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?BM:z3(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-e,d=i-n,h=o-e,f=l-n,v=h*h+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Ya)if(!(Math.abs(f*c-d*h)>Ya)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-o,b=i-l,S=c*c+d*d,w=_*_+b*b,A=Math.sqrt(S),I=Math.sqrt(v),k=a*Math.tan((Bx-Math.acos((S+v-w)/(2*A*I)))/2),O=k/I,E=k/A;Math.abs(O-1)>Ya&&this._append`L${e+O*h},${n+O*f}`,this._append`A${a},${a},0,0,${+(f*_>h*b)},${this._x1=e+E*c},${this._y1=n+E*d}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,h=n+c,f=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Ya||Math.abs(this._y1-h)>Ya)&&this._append`L${d},${h}`,r&&(v<0&&(v=v%Fx+Fx),v>V3?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=d},${this._y1=h}`:v>Ya&&this._append`A${r},${r},0,${+(v>=Bx)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function jb(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new G3(e)}function $b(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function FM(t){this._context=t}FM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $h(t){return new FM(t)}function qM(t){return t[0]}function UM(t){return t[1]}function VM(t,e){var n=At(!0),r=null,i=$h,a=null,o=jb(l);t=typeof t=="function"?t:t===void 0?qM:At(t),e=typeof e=="function"?e:e===void 0?UM:At(e);function l(c){var d,h=(c=$b(c)).length,f,v=!1,_;for(r==null&&(a=i(_=o())),d=0;d<=h;++d)!(d<h&&n(f=c[d],d,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(f,d,c),+e(f,d,c));if(_)return a=null,_+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:At(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:At(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:At(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function Qd(t,e,n){var r=null,i=At(!0),a=null,o=$h,l=null,c=jb(d);t=typeof t=="function"?t:t===void 0?qM:At(+t),e=typeof e=="function"?e:At(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?UM:At(+n);function d(f){var v,_,b,S=(f=$b(f)).length,w,A=!1,I,k=new Array(S),O=new Array(S);for(a==null&&(l=o(I=c())),v=0;v<=S;++v){if(!(v<S&&i(w=f[v],v,f))===A)if(A=!A)_=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=v-1;b>=_;--b)l.point(k[b],O[b]);l.lineEnd(),l.areaEnd()}A&&(k[v]=+t(w,v,f),O[v]=+e(w,v,f),l.point(r?+r(w,v,f):k[v],n?+n(w,v,f):O[v]))}if(I)return l=null,I+""||null}function h(){return VM().defined(i).curve(o).context(a)}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:At(+f),r=null,d):t},d.x0=function(f){return arguments.length?(t=typeof f=="function"?f:At(+f),d):t},d.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:At(+f),d):r},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:At(+f),n=null,d):e},d.y0=function(f){return arguments.length?(e=typeof f=="function"?f:At(+f),d):e},d.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:At(+f),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(f){return arguments.length?(i=typeof f=="function"?f:At(!!f),d):i},d.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),d):o},d.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),d):a},d}class zM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function H3(t){return new zM(t,!0)}function W3(t){return new zM(t,!1)}const Lb={draw(t,e){const n=Vr(e/kf);t.moveTo(n,0),t.arc(0,0,n,0,jh)}},K3={draw(t,e){const n=Vr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},GM=Vr(1/3),Y3=GM*2,J3={draw(t,e){const n=Vr(e/Y3),r=n*GM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},X3={draw(t,e){const n=Vr(e),r=-n/2;t.rect(r,r,n,n)}},Z3=.8908130915292852,HM=Cf(kf/10)/Cf(7*kf/10),Q3=Cf(jh/10)*HM,eF=-LM(jh/10)*HM,tF={draw(t,e){const n=Vr(e*Z3),r=Q3*n,i=eF*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=jh*a/5,l=LM(o),c=Cf(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},Nv=Vr(3),nF={draw(t,e){const n=-Vr(e/(Nv*3));t.moveTo(0,n*2),t.lineTo(-Nv*n,-n),t.lineTo(Nv*n,-n),t.closePath()}},gr=-.5,vr=Vr(3)/2,qx=1/Vr(12),rF=(qx/2+1)*3,iF={draw(t,e){const n=Vr(e/rF),r=n/2,i=n*qx,a=r,o=n*qx+n,l=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(gr*r-vr*i,vr*r+gr*i),t.lineTo(gr*a-vr*o,vr*a+gr*o),t.lineTo(gr*l-vr*c,vr*l+gr*c),t.lineTo(gr*r+vr*i,gr*i-vr*r),t.lineTo(gr*a+vr*o,gr*o-vr*a),t.lineTo(gr*l+vr*c,gr*c-vr*l),t.closePath()}};function aF(t,e){let n=null,r=jb(i);t=typeof t=="function"?t:At(t||Lb),e=typeof e=="function"?e:At(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:At(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:At(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Tf(){}function Ef(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function WM(t){this._context=t}WM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ef(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ef(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oF(t){return new WM(t)}function KM(t){this._context=t}KM.prototype={areaStart:Tf,areaEnd:Tf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ef(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sF(t){return new KM(t)}function YM(t){this._context=t}YM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ef(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lF(t){return new YM(t)}function JM(t){this._context=t}JM.prototype={areaStart:Tf,areaEnd:Tf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function uF(t){return new JM(t)}function Zk(t){return t<0?-1:1}function Qk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(Zk(a)+Zk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function eT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Mv(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function Af(t){this._context=t}Af.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mv(this,this._t0,eT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Mv(this,eT(this,n=Qk(this,t,e)),n);break;default:Mv(this,this._t0,n=Qk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function XM(t){this._context=new ZM(t)}(XM.prototype=Object.create(Af.prototype)).point=function(t,e){Af.prototype.point.call(this,e,t)};function ZM(t){this._context=t}ZM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function cF(t){return new Af(t)}function dF(t){return new XM(t)}function QM(t){this._context=t}QM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=tT(t),i=tT(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tT(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function fF(t){return new QM(t)}function Lh(t,e){this._context=t,this._t=e}Lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function hF(t){return new Lh(t,.5)}function pF(t){return new Lh(t,0)}function mF(t){return new Lh(t,1)}function Is(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,l=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ux(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function gF(t,e){return t[e]}function vF(t){const e=[];return e.key=t,e}function yF(){var t=At([]),e=Ux,n=Is,r=gF;function i(a){var o=Array.from(t.apply(this,arguments),vF),l,c=o.length,d=-1,h;for(const f of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+r(f,o[l].key,d,a)]).data=f;for(l=0,h=$b(e(o));l<c;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:At(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:At(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Ux:typeof a=="function"?a:At(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Is,i):n},i}function xF(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Is(t,e)}}function _F(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Is(t,e)}}function bF(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,d=0;l<o;++l){for(var h=t[e[l]],f=h[r][1]||0,v=h[r-1][1]||0,_=(f-v)/2,b=0;b<l;++b){var S=t[e[b]],w=S[r][1]||0,A=S[r-1][1]||0;_+=w-A}c+=f,d+=_*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Is(t,e)}}function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}var wF=["type","size","sizeType"];function Vx(){return Vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vx.apply(this,arguments)}function nT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(n),!0).forEach(function(r){SF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SF(t,e,n){return e=CF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CF(t){var e=kF(t,"string");return Nu(e)=="symbol"?e:e+""}function kF(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TF(t,e){if(t==null)return{};var n=EF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var eD={symbolCircle:Lb,symbolCross:K3,symbolDiamond:J3,symbolSquare:X3,symbolStar:tF,symbolTriangle:nF,symbolWye:iF},AF=Math.PI/180,PF=function(e){var n="symbol".concat(Rh(e));return eD[n]||Lb},IF=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*AF;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},OF=function(e,n){eD["symbol".concat(Rh(e))]=n},Bb=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=TF(e,wF),d=rT(rT({},c),{},{type:r,size:a,sizeType:l}),h=function(){var w=PF(r),A=aF().type(w).size(IF(a,l,r));return A()},f=d.className,v=d.cx,_=d.cy,b=He(d,!0);return v===+v&&_===+_&&a===+a?H.createElement("path",Vx({},b,{className:rt("recharts-symbols",f),transform:"translate(".concat(v,", ").concat(_,")"),d:h()})):null};Bb.registerSymbol=OF;function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function zx(){return zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zx.apply(this,arguments)}function iT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iT(Object(n),!0).forEach(function(r){Mu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nD(r.key),r)}}function RF(t,e,n){return e&&DF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jF(t,e,n){return e=Pf(e),$F(t,tD()?Reflect.construct(e,n||[],Pf(t).constructor):e.apply(t,n))}function $F(t,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LF(t)}function LF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tD=function(){return!!t})()}function Pf(t){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pf(t)}function BF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gx(t,e)}function Gx(t,e){return Gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gx(t,e)}function Mu(t,e,n){return e=nD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nD(t){var e=FF(t,"string");return Os(e)=="symbol"?e:e+""}function FF(t,e){if(Os(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yr=32,Fb=function(t){function e(){return MF(this,e),jF(this,e,arguments)}return BF(e,t),RF(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=yr/2,o=yr/6,l=yr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:yr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(yr,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(yr/8,"h").concat(yr,"v").concat(yr*3/4,"h").concat(-yr,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var d=NF({},r);return delete d.legendIcon,H.cloneElement(r.legendIcon,d)}return H.createElement(Bb,{fill:c,cx:a,cy:a,size:yr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,h={x:0,y:0,width:yr,height:yr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(_,b){var S=_.formatter||c,w=rt(Mu(Mu({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",_.inactive));if(_.type==="none")return null;var A=Ye(_.value)?null:_.value;Lr(!Ye(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var I=_.inactive?d:_.color;return H.createElement("li",zx({className:w,style:f,key:"legend-item-".concat(b)},so(r.props,_,b)),H.createElement($x,{width:o,height:o,viewBox:h,style:v},r.renderIcon(_)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:I}},S?S(A,_,b):A))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(R.PureComponent);Mu(Fb,"displayName","Legend");Mu(Fb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Dv,aT;function qF(){if(aT)return Dv;aT=1;var t=Nh();function e(){this.__data__=new t,this.size=0}return Dv=e,Dv}var Rv,oT;function UF(){if(oT)return Rv;oT=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Rv=t,Rv}var jv,sT;function VF(){if(sT)return jv;sT=1;function t(e){return this.__data__.get(e)}return jv=t,jv}var $v,lT;function zF(){if(lT)return $v;lT=1;function t(e){return this.__data__.has(e)}return $v=t,$v}var Lv,uT;function GF(){if(uT)return Lv;uT=1;var t=Nh(),e=Ib(),n=Ob(),r=200;function i(a,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(a,o),this.size=l.size,this}return Lv=i,Lv}var Bv,cT;function rD(){if(cT)return Bv;cT=1;var t=Nh(),e=qF(),n=UF(),r=VF(),i=zF(),a=GF();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,Bv=o,Bv}var Fv,dT;function HF(){if(dT)return Fv;dT=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Fv=e,Fv}var qv,fT;function WF(){if(fT)return qv;fT=1;function t(e){return this.__data__.has(e)}return qv=t,qv}var Uv,hT;function iD(){if(hT)return Uv;hT=1;var t=Ob(),e=HF(),n=WF();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Uv=r,Uv}var Vv,pT;function aD(){if(pT)return Vv;pT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Vv=t,Vv}var zv,mT;function oD(){if(mT)return zv;mT=1;function t(e,n){return e.has(n)}return zv=t,zv}var Gv,gT;function sD(){if(gT)return Gv;gT=1;var t=iD(),e=aD(),n=oD(),r=1,i=2;function a(o,l,c,d,h,f){var v=c&r,_=o.length,b=l.length;if(_!=b&&!(v&&b>_))return!1;var S=f.get(o),w=f.get(l);if(S&&w)return S==l&&w==o;var A=-1,I=!0,k=c&i?new t:void 0;for(f.set(o,l),f.set(l,o);++A<_;){var O=o[A],E=l[A];if(d)var P=v?d(E,O,A,l,o,f):d(O,E,A,o,l,f);if(P!==void 0){if(P)continue;I=!1;break}if(k){if(!e(l,function(N,D){if(!n(k,D)&&(O===N||h(O,N,c,d,f)))return k.push(D)})){I=!1;break}}else if(!(O===E||h(O,E,c,d,f))){I=!1;break}}return f.delete(o),f.delete(l),I}return Gv=a,Gv}var Hv,vT;function KF(){if(vT)return Hv;vT=1;var t=ri(),e=t.Uint8Array;return Hv=e,Hv}var Wv,yT;function YF(){if(yT)return Wv;yT=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return Wv=t,Wv}var Kv,xT;function qb(){if(xT)return Kv;xT=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Kv=t,Kv}var Yv,_T;function JF(){if(_T)return Yv;_T=1;var t=vc(),e=KF(),n=Pb(),r=sD(),i=YF(),a=qb(),o=1,l=2,c="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Map]",v="[object Number]",_="[object RegExp]",b="[object Set]",S="[object String]",w="[object Symbol]",A="[object ArrayBuffer]",I="[object DataView]",k=t?t.prototype:void 0,O=k?k.valueOf:void 0;function E(P,N,D,$,F,L,z){switch(D){case I:if(P.byteLength!=N.byteLength||P.byteOffset!=N.byteOffset)return!1;P=P.buffer,N=N.buffer;case A:return!(P.byteLength!=N.byteLength||!L(new e(P),new e(N)));case c:case d:case v:return n(+P,+N);case h:return P.name==N.name&&P.message==N.message;case _:case S:return P==N+"";case f:var W=i;case b:var V=$&o;if(W||(W=a),P.size!=N.size&&!V)return!1;var B=z.get(P);if(B)return B==N;$|=l,z.set(P,N);var J=r(W(P),W(N),$,F,L,z);return z.delete(P),J;case w:if(O)return O.call(P)==O.call(N)}return!1}return Yv=E,Yv}var Jv,bT;function lD(){if(bT)return Jv;bT=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return Jv=t,Jv}var Xv,wT;function XF(){if(wT)return Xv;wT=1;var t=lD(),e=Kn();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return Xv=n,Xv}var Zv,ST;function ZF(){if(ST)return Zv;ST=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var l=e[r];n(l,r,e)&&(o[a++]=l)}return o}return Zv=t,Zv}var Qv,CT;function QF(){if(CT)return Qv;CT=1;function t(){return[]}return Qv=t,Qv}var ey,kT;function e4(){if(kT)return ey;kT=1;var t=ZF(),e=QF(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return r.call(o,l)}))}:e;return ey=a,ey}var ty,TT;function t4(){if(TT)return ty;TT=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return ty=t,ty}var ny,ET;function n4(){if(ET)return ny;ET=1;var t=Ni(),e=Mi(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return ny=r,ny}var ry,AT;function Ub(){if(AT)return ry;AT=1;var t=n4(),e=Mi(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return ry=a,ry}var mu={exports:{}},iy,PT;function r4(){if(PT)return iy;PT=1;function t(){return!1}return iy=t,iy}mu.exports;var IT;function uD(){return IT||(IT=1,function(t,e){var n=ri(),r=r4(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;t.exports=d}(mu,mu.exports)),mu.exports}var ay,OT;function Vb(){if(OT)return ay;OT=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return ay=n,ay}var oy,NT;function zb(){if(NT)return oy;NT=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return oy=e,oy}var sy,MT;function i4(){if(MT)return sy;MT=1;var t=Ni(),e=zb(),n=Mi(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",h="[object Number]",f="[object Object]",v="[object RegExp]",_="[object Set]",b="[object String]",S="[object WeakMap]",w="[object ArrayBuffer]",A="[object DataView]",I="[object Float32Array]",k="[object Float64Array]",O="[object Int8Array]",E="[object Int16Array]",P="[object Int32Array]",N="[object Uint8Array]",D="[object Uint8ClampedArray]",$="[object Uint16Array]",F="[object Uint32Array]",L={};L[I]=L[k]=L[O]=L[E]=L[P]=L[N]=L[D]=L[$]=L[F]=!0,L[r]=L[i]=L[w]=L[a]=L[A]=L[o]=L[l]=L[c]=L[d]=L[h]=L[f]=L[v]=L[_]=L[b]=L[S]=!1;function z(W){return n(W)&&e(W.length)&&!!L[t(W)]}return sy=z,sy}var ly,DT;function cD(){if(DT)return ly;DT=1;function t(e){return function(n){return e(n)}}return ly=t,ly}var gu={exports:{}};gu.exports;var RT;function a4(){return RT||(RT=1,function(t,e){var n=IM(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(gu,gu.exports)),gu.exports}var uy,jT;function dD(){if(jT)return uy;jT=1;var t=i4(),e=cD(),n=a4(),r=n&&n.isTypedArray,i=r?e(r):t;return uy=i,uy}var cy,$T;function o4(){if($T)return cy;$T=1;var t=t4(),e=Ub(),n=Kn(),r=uD(),i=Vb(),a=dD(),o=Object.prototype,l=o.hasOwnProperty;function c(d,h){var f=n(d),v=!f&&e(d),_=!f&&!v&&r(d),b=!f&&!v&&!_&&a(d),S=f||v||_||b,w=S?t(d.length,String):[],A=w.length;for(var I in d)(h||l.call(d,I))&&!(S&&(I=="length"||_&&(I=="offset"||I=="parent")||b&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||i(I,A)))&&w.push(I);return w}return cy=c,cy}var dy,LT;function s4(){if(LT)return dy;LT=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return dy=e,dy}var fy,BT;function fD(){if(BT)return fy;BT=1;function t(e,n){return function(r){return e(n(r))}}return fy=t,fy}var hy,FT;function l4(){if(FT)return hy;FT=1;var t=fD(),e=t(Object.keys,Object);return hy=e,hy}var py,qT;function u4(){if(qT)return py;qT=1;var t=s4(),e=l4(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&o.push(l);return o}return py=i,py}var my,UT;function _c(){if(UT)return my;UT=1;var t=Ab(),e=zb();function n(r){return r!=null&&e(r.length)&&!t(r)}return my=n,my}var gy,VT;function Bh(){if(VT)return gy;VT=1;var t=o4(),e=u4(),n=_c();function r(i){return n(i)?t(i):e(i)}return gy=r,gy}var vy,zT;function c4(){if(zT)return vy;zT=1;var t=XF(),e=e4(),n=Bh();function r(i){return t(i,n,e)}return vy=r,vy}var yy,GT;function d4(){if(GT)return yy;GT=1;var t=c4(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,l,c,d,h){var f=l&e,v=t(a),_=v.length,b=t(o),S=b.length;if(_!=S&&!f)return!1;for(var w=_;w--;){var A=v[w];if(!(f?A in o:r.call(o,A)))return!1}var I=h.get(a),k=h.get(o);if(I&&k)return I==o&&k==a;var O=!0;h.set(a,o),h.set(o,a);for(var E=f;++w<_;){A=v[w];var P=a[A],N=o[A];if(c)var D=f?c(N,P,A,o,a,h):c(P,N,A,a,o,h);if(!(D===void 0?P===N||d(P,N,l,c,h):D)){O=!1;break}E||(E=A=="constructor")}if(O&&!E){var $=a.constructor,F=o.constructor;$!=F&&"constructor"in a&&"constructor"in o&&!(typeof $=="function"&&$ instanceof $&&typeof F=="function"&&F instanceof F)&&(O=!1)}return h.delete(a),h.delete(o),O}return yy=i,yy}var xy,HT;function f4(){if(HT)return xy;HT=1;var t=vo(),e=ri(),n=t(e,"DataView");return xy=n,xy}var _y,WT;function h4(){if(WT)return _y;WT=1;var t=vo(),e=ri(),n=t(e,"Promise");return _y=n,_y}var by,KT;function hD(){if(KT)return by;KT=1;var t=vo(),e=ri(),n=t(e,"Set");return by=n,by}var wy,YT;function p4(){if(YT)return wy;YT=1;var t=vo(),e=ri(),n=t(e,"WeakMap");return wy=n,wy}var Sy,JT;function m4(){if(JT)return Sy;JT=1;var t=f4(),e=Ib(),n=h4(),r=hD(),i=p4(),a=Ni(),o=OM(),l="[object Map]",c="[object Object]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",v="[object DataView]",_=o(t),b=o(e),S=o(n),w=o(r),A=o(i),I=a;return(t&&I(new t(new ArrayBuffer(1)))!=v||e&&I(new e)!=l||n&&I(n.resolve())!=d||r&&I(new r)!=h||i&&I(new i)!=f)&&(I=function(k){var O=a(k),E=O==c?k.constructor:void 0,P=E?o(E):"";if(P)switch(P){case _:return v;case b:return l;case S:return d;case w:return h;case A:return f}return O}),Sy=I,Sy}var Cy,XT;function g4(){if(XT)return Cy;XT=1;var t=rD(),e=sD(),n=JF(),r=d4(),i=m4(),a=Kn(),o=uD(),l=dD(),c=1,d="[object Arguments]",h="[object Array]",f="[object Object]",v=Object.prototype,_=v.hasOwnProperty;function b(S,w,A,I,k,O){var E=a(S),P=a(w),N=E?h:i(S),D=P?h:i(w);N=N==d?f:N,D=D==d?f:D;var $=N==f,F=D==f,L=N==D;if(L&&o(S)){if(!o(w))return!1;E=!0,$=!1}if(L&&!$)return O||(O=new t),E||l(S)?e(S,w,A,I,k,O):n(S,w,N,A,I,k,O);if(!(A&c)){var z=$&&_.call(S,"__wrapped__"),W=F&&_.call(w,"__wrapped__");if(z||W){var V=z?S.value():S,B=W?w.value():w;return O||(O=new t),k(V,B,A,I,O)}}return L?(O||(O=new t),r(S,w,A,I,k,O)):!1}return Cy=b,Cy}var ky,ZT;function Gb(){if(ZT)return ky;ZT=1;var t=g4(),e=Mi();function n(r,i,a,o,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,l)}return ky=n,ky}var Ty,QT;function v4(){if(QT)return Ty;QT=1;var t=rD(),e=Gb(),n=1,r=2;function i(a,o,l,c){var d=l.length,h=d,f=!c;if(a==null)return!h;for(a=Object(a);d--;){var v=l[d];if(f&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++d<h;){v=l[d];var _=v[0],b=a[_],S=v[1];if(f&&v[2]){if(b===void 0&&!(_ in a))return!1}else{var w=new t;if(c)var A=c(b,S,_,a,o,w);if(!(A===void 0?e(S,b,n|r,c,w):A))return!1}}return!0}return Ty=i,Ty}var Ey,eE;function pD(){if(eE)return Ey;eE=1;var t=va();function e(n){return n===n&&!t(n)}return Ey=e,Ey}var Ay,tE;function y4(){if(tE)return Ay;tE=1;var t=pD(),e=Bh();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],l=r[o];i[a]=[o,l,t(l)]}return i}return Ay=n,Ay}var Py,nE;function mD(){if(nE)return Py;nE=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Py=t,Py}var Iy,rE;function x4(){if(rE)return Iy;rE=1;var t=v4(),e=y4(),n=mD();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return Iy=r,Iy}var Oy,iE;function _4(){if(iE)return Oy;iE=1;function t(e,n){return e!=null&&n in Object(e)}return Oy=t,Oy}var Ny,aE;function b4(){if(aE)return Ny;aE=1;var t=DM(),e=Ub(),n=Kn(),r=Vb(),i=zb(),a=Dh();function o(l,c,d){c=t(c,l);for(var h=-1,f=c.length,v=!1;++h<f;){var _=a(c[h]);if(!(v=l!=null&&d(l,_)))break;l=l[_]}return v||++h!=f?v:(f=l==null?0:l.length,!!f&&i(f)&&r(_,f)&&(n(l)||e(l)))}return Ny=o,Ny}var My,oE;function w4(){if(oE)return My;oE=1;var t=_4(),e=b4();function n(r,i){return r!=null&&e(r,i,t)}return My=n,My}var Dy,sE;function S4(){if(sE)return Dy;sE=1;var t=Gb(),e=RM(),n=w4(),r=Eb(),i=pD(),a=mD(),o=Dh(),l=1,c=2;function d(h,f){return r(h)&&i(f)?a(o(h),f):function(v){var _=e(v,h);return _===void 0&&_===f?n(v,h):t(f,_,l|c)}}return Dy=d,Dy}var Ry,lE;function ul(){if(lE)return Ry;lE=1;function t(e){return e}return Ry=t,Ry}var jy,uE;function C4(){if(uE)return jy;uE=1;function t(e){return function(n){return n==null?void 0:n[e]}}return jy=t,jy}var $y,cE;function k4(){if(cE)return $y;cE=1;var t=Mb();function e(n){return function(r){return t(r,n)}}return $y=e,$y}var Ly,dE;function T4(){if(dE)return Ly;dE=1;var t=C4(),e=k4(),n=Eb(),r=Dh();function i(a){return n(a)?t(r(a)):e(a)}return Ly=i,Ly}var By,fE;function ii(){if(fE)return By;fE=1;var t=x4(),e=S4(),n=ul(),r=Kn(),i=T4();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return By=a,By}var Fy,hE;function gD(){if(hE)return Fy;hE=1;function t(e,n,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(e[o],o,e))return o;return-1}return Fy=t,Fy}var qy,pE;function E4(){if(pE)return qy;pE=1;function t(e){return e!==e}return qy=t,qy}var Uy,mE;function A4(){if(mE)return Uy;mE=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return Uy=t,Uy}var Vy,gE;function P4(){if(gE)return Vy;gE=1;var t=gD(),e=E4(),n=A4();function r(i,a,o){return a===a?n(i,a,o):t(i,e,o)}return Vy=r,Vy}var zy,vE;function I4(){if(vE)return zy;vE=1;var t=P4();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return zy=e,zy}var Gy,yE;function O4(){if(yE)return Gy;yE=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return Gy=t,Gy}var Hy,xE;function N4(){if(xE)return Hy;xE=1;function t(){}return Hy=t,Hy}var Wy,_E;function M4(){if(_E)return Wy;_E=1;var t=hD(),e=N4(),n=qb(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return Wy=i,Wy}var Ky,bE;function D4(){if(bE)return Ky;bE=1;var t=iD(),e=I4(),n=O4(),r=oD(),i=M4(),a=qb(),o=200;function l(c,d,h){var f=-1,v=e,_=c.length,b=!0,S=[],w=S;if(h)b=!1,v=n;else if(_>=o){var A=d?null:i(c);if(A)return a(A);b=!1,v=r,w=new t}else w=d?[]:S;e:for(;++f<_;){var I=c[f],k=d?d(I):I;if(I=h||I!==0?I:0,b&&k===k){for(var O=w.length;O--;)if(w[O]===k)continue e;d&&w.push(k),S.push(I)}else v(w,k,h)||(w!==S&&w.push(k),S.push(I))}return S}return Ky=l,Ky}var Yy,wE;function R4(){if(wE)return Yy;wE=1;var t=ii(),e=D4();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Yy=n,Yy}var j4=R4();const SE=ft(j4);function vD(t,e,n){return e===!0?SE(t,n):Ye(e)?SE(t,e):t}function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}var $4=["ref"];function CE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(n),!0).forEach(function(r){Fh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xD(r.key),r)}}function B4(t,e,n){return e&&kE(t.prototype,e),n&&kE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function F4(t,e,n){return e=If(e),q4(t,yD()?Reflect.construct(e,n||[],If(t).constructor):e.apply(t,n))}function q4(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U4(t)}function U4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yD=function(){return!!t})()}function If(t){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},If(t)}function V4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hx(t,e)}function Hx(t,e){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hx(t,e)}function Fh(t,e,n){return e=xD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xD(t){var e=z4(t,"string");return Ns(e)=="symbol"?e:e+""}function z4(t,e){if(Ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function G4(t,e){if(t==null)return{};var n=H4(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H4(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W4(t){return t.value}function K4(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var n=G4(e,$4);return H.createElement(Fb,n)}var TE=1,da=function(t){function e(){var n;L4(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=F4(this,e,[].concat(i)),Fh(n,"lastBoundingBox",{width:-1,height:-1}),n}return V4(e,t),B4(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>TE||Math.abs(i.height-this.lastBoundingBox.height)>TE)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,h=i.chartHeight,f,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var _=this.getBBoxSnapshot();f={left:((d||0)-_.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();v={top:((h||0)-b.height)/2}}else v=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return yi(yi({},f),v)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,h=i.payload,f=yi(yi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return H.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(_){r.wrapperNode=_}},K4(a,yi(yi({},this.props),{},{payload:vD(h,d,W4)})))}}],[{key:"getWithHeight",value:function(r,i){var a=yi(yi({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&we(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(R.PureComponent);Fh(da,"displayName","Legend");Fh(da,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Jy,EE;function Y4(){if(EE)return Jy;EE=1;var t=vc(),e=Ub(),n=Kn(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return Jy=i,Jy}var Xy,AE;function _D(){if(AE)return Xy;AE=1;var t=lD(),e=Y4();function n(r,i,a,o,l){var c=-1,d=r.length;for(a||(a=e),l||(l=[]);++c<d;){var h=r[c];i>0&&a(h)?i>1?n(h,i-1,a,o,l):t(l,h):o||(l[l.length]=h)}return l}return Xy=n,Xy}var Zy,PE;function J4(){if(PE)return Zy;PE=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),l=i(n),c=l.length;c--;){var d=l[e?c:++a];if(r(o[d],d,o)===!1)break}return n}}return Zy=t,Zy}var Qy,IE;function X4(){if(IE)return Qy;IE=1;var t=J4(),e=t();return Qy=e,Qy}var e0,OE;function bD(){if(OE)return e0;OE=1;var t=X4(),e=Bh();function n(r,i){return r&&t(r,i,e)}return e0=n,e0}var t0,NE;function Z4(){if(NE)return t0;NE=1;var t=_c();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var o=i.length,l=r?o:-1,c=Object(i);(r?l--:++l<o)&&a(c[l],l,c)!==!1;);return i}}return t0=e,t0}var n0,ME;function Hb(){if(ME)return n0;ME=1;var t=bD(),e=Z4(),n=e(t);return n0=n,n0}var r0,DE;function wD(){if(DE)return r0;DE=1;var t=Hb(),e=_c();function n(r,i){var a=-1,o=e(r)?Array(r.length):[];return t(r,function(l,c,d){o[++a]=i(l,c,d)}),o}return r0=n,r0}var i0,RE;function Q4(){if(RE)return i0;RE=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return i0=t,i0}var a0,jE;function eq(){if(jE)return a0;jE=1;var t=sl();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,l=t(n),c=r!==void 0,d=r===null,h=r===r,f=t(r);if(!d&&!f&&!l&&n>r||l&&c&&h&&!d&&!f||a&&c&&h||!i&&h||!o)return 1;if(!a&&!l&&!f&&n<r||f&&i&&o&&!a&&!l||d&&i&&o||!c&&o||!h)return-1}return 0}return a0=e,a0}var o0,$E;function tq(){if($E)return o0;$E=1;var t=eq();function e(n,r,i){for(var a=-1,o=n.criteria,l=r.criteria,c=o.length,d=i.length;++a<c;){var h=t(o[a],l[a]);if(h){if(a>=d)return h;var f=i[a];return h*(f=="desc"?-1:1)}}return n.index-r.index}return o0=e,o0}var s0,LE;function nq(){if(LE)return s0;LE=1;var t=Nb(),e=Mb(),n=ii(),r=wD(),i=Q4(),a=cD(),o=tq(),l=ul(),c=Kn();function d(h,f,v){f.length?f=t(f,function(S){return c(S)?function(w){return e(w,S.length===1?S[0]:S)}:S}):f=[l];var _=-1;f=t(f,a(n));var b=r(h,function(S,w,A){var I=t(f,function(k){return k(S)});return{criteria:I,index:++_,value:S}});return i(b,function(S,w){return o(S,w,v)})}return s0=d,s0}var l0,BE;function rq(){if(BE)return l0;BE=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return l0=t,l0}var u0,FE;function iq(){if(FE)return u0;FE=1;var t=rq(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),d=Array(c);++l<c;)d[l]=o[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=o[l];return h[i]=a(d),t(r,this,h)}}return u0=n,u0}var c0,qE;function aq(){if(qE)return c0;qE=1;function t(e){return function(){return e}}return c0=t,c0}var d0,UE;function SD(){if(UE)return d0;UE=1;var t=vo(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return d0=e,d0}var f0,VE;function oq(){if(VE)return f0;VE=1;var t=aq(),e=SD(),n=ul(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return f0=r,f0}var h0,zE;function sq(){if(zE)return h0;zE=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var l=n(),c=e-(l-o);if(o=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return h0=r,h0}var p0,GE;function lq(){if(GE)return p0;GE=1;var t=oq(),e=sq(),n=e(t);return p0=n,p0}var m0,HE;function uq(){if(HE)return m0;HE=1;var t=ul(),e=iq(),n=lq();function r(i,a){return n(e(i,a,t),i+"")}return m0=r,m0}var g0,WE;function qh(){if(WE)return g0;WE=1;var t=Pb(),e=_c(),n=Vb(),r=va();function i(a,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?e(l)&&n(o,l.length):c=="string"&&o in l)?t(l[o],a):!1}return g0=i,g0}var v0,KE;function cq(){if(KE)return v0;KE=1;var t=_D(),e=nq(),n=uq(),r=qh(),i=n(function(a,o){if(a==null)return[];var l=o.length;return l>1&&r(a,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return v0=i,v0}var dq=cq();const Wb=ft(dq);function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(this,arguments)}function fq(t,e){return gq(t)||mq(t,e)||pq(t,e)||hq()}function hq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pq(t,e){if(t){if(typeof t=="string")return YE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YE(t,e)}}function YE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function gq(t){if(Array.isArray(t))return t}function JE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(n),!0).forEach(function(r){vq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vq(t,e,n){return e=yq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yq(t){var e=xq(t,"string");return Du(e)=="symbol"?e:e+""}function xq(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _q(t){return Array.isArray(t)&&tn(t[0])&&tn(t[1])?t.join(" ~ "):t}var bq=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,h=e.payload,f=e.formatter,v=e.itemSorter,_=e.wrapperClassName,b=e.labelClassName,S=e.label,w=e.labelFormatter,A=e.accessibilityLayer,I=A===void 0?!1:A,k=function(){if(h&&h.length){var z={padding:0,margin:0},W=(v?Wb(h,v):h).map(function(V,B){if(V.type==="none")return null;var J=y0({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},l),K=V.formatter||f||_q,U=V.value,te=V.name,re=U,j=te;if(K&&re!=null&&j!=null){var X=K(U,te,V,B,h);if(Array.isArray(X)){var ue=fq(X,2);re=ue[0],j=ue[1]}else re=X}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:J},tn(j)?H.createElement("span",{className:"recharts-tooltip-item-name"},j):null,tn(j)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},re),H.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:z},W)}return null},O=y0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=y0({margin:0},d),P=!at(S),N=P?S:"",D=rt("recharts-default-tooltip",_),$=rt("recharts-tooltip-label",b);P&&w&&h!==void 0&&h!==null&&(N=w(S,h));var F=I?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",Wx({className:D,style:O},F),H.createElement("p",{className:$,style:E},H.isValidElement(N)?N:"".concat(N)),k())};function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function ef(t,e,n){return e=wq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wq(t){var e=Sq(t,"string");return Ru(e)=="symbol"?e:e+""}function Sq(t,e){if(Ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iu="recharts-tooltip-wrapper",Cq={visibility:"hidden"};function kq(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return rt(iu,ef(ef(ef(ef({},"".concat(iu,"-right"),we(n)&&e&&we(e.x)&&n>=e.x),"".concat(iu,"-left"),we(n)&&e&&we(e.x)&&n<e.x),"".concat(iu,"-bottom"),we(r)&&e&&we(e.y)&&r>=e.y),"".concat(iu,"-top"),we(r)&&e&&we(e.y)&&r<e.y))}function XE(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(a&&we(a[r]))return a[r];var h=n[r]-l-i,f=n[r]+i;if(e[r])return o[r]?h:f;if(o[r]){var v=h,_=c[r];return v<_?Math.max(f,c[r]):Math.max(h,c[r])}var b=f+l,S=c[r]+d;return b>S?Math.max(h,c[r]):Math.max(f,c[r])}function Tq(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Eq(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,h,f;return o.height>0&&o.width>0&&n?(h=XE({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=XE({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Tq({translateX:h,translateY:f,useTranslate3d:l})):d=Cq,{cssProperties:d,cssClasses:kq({translateX:h,translateY:f,coordinate:n})}}function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(r){Yx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kD(r.key),r)}}function Iq(t,e,n){return e&&Pq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oq(t,e,n){return e=Of(e),Nq(t,CD()?Reflect.construct(e,n||[],Of(t).constructor):e.apply(t,n))}function Nq(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mq(t)}function Mq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CD=function(){return!!t})()}function Of(t){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Of(t)}function Dq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kx(t,e)}function Kx(t,e){return Kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kx(t,e)}function Yx(t,e,n){return e=kD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kD(t){var e=Rq(t,"string");return Ms(e)=="symbol"?e:e+""}function Rq(t,e){if(Ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eA=1,jq=function(t){function e(){var n;Aq(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Oq(this,e,[].concat(i)),Yx(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Yx(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),n}return Dq(e,t),Iq(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>eA||Math.abs(r.height-this.state.lastBoundingBox.height)>eA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,h=i.coordinate,f=i.hasPayload,v=i.isAnimationActive,_=i.offset,b=i.position,S=i.reverseDirection,w=i.useTranslate3d,A=i.viewBox,I=i.wrapperStyle,k=Eq({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:_,position:b,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:A}),O=k.cssClasses,E=k.cssProperties,P=QE(QE({transition:v&&a?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},I);return H.createElement("div",{tabIndex:-1,className:O,style:P,ref:function(D){r.wrapperNode=D}},d)}}])}(R.PureComponent),$q=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cl={isSsr:$q()};function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function tA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tA(Object(n),!0).forEach(function(r){Kb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ED(r.key),r)}}function Fq(t,e,n){return e&&Bq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qq(t,e,n){return e=Nf(e),Uq(t,TD()?Reflect.construct(e,n||[],Nf(t).constructor):e.apply(t,n))}function Uq(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vq(t)}function Vq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!t})()}function Nf(t){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(t)}function zq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jx(t,e)}function Jx(t,e){return Jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jx(t,e)}function Kb(t,e,n){return e=ED(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ED(t){var e=Gq(t,"string");return Ds(e)=="symbol"?e:e+""}function Gq(t,e){if(Ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hq(t){return t.dataKey}function Wq(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(bq,e)}var Dr=function(t){function e(){return Lq(this,e),qq(this,e,arguments)}return zq(e,t),Fq(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,h=i.coordinate,f=i.filterNull,v=i.isAnimationActive,_=i.offset,b=i.payload,S=i.payloadUniqBy,w=i.position,A=i.reverseDirection,I=i.useTranslate3d,k=i.viewBox,O=i.wrapperStyle,E=b??[];f&&E.length&&(E=vD(b.filter(function(N){return N.value!=null&&(N.hide!==!0||r.props.includeHidden)}),S,Hq));var P=E.length>0;return H.createElement(jq,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:v,active:a,coordinate:h,hasPayload:P,offset:_,position:w,reverseDirection:A,useTranslate3d:I,viewBox:k,wrapperStyle:O},Wq(d,nA(nA({},this.props),{},{payload:E})))}}])}(R.PureComponent);Kb(Dr,"displayName","Tooltip");Kb(Dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var x0,rA;function Kq(){if(rA)return x0;rA=1;var t=ri(),e=function(){return t.Date.now()};return x0=e,x0}var _0,iA;function Yq(){if(iA)return _0;iA=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return _0=e,_0}var b0,aA;function Jq(){if(aA)return b0;aA=1;var t=Yq(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return b0=n,b0}var w0,oA;function AD(){if(oA)return w0;oA=1;var t=Jq(),e=va(),n=sl(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=e(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=t(d);var f=a.test(d);return f||o.test(d)?l(d.slice(2),f?2:8):i.test(d)?r:+d}return w0=c,w0}var S0,sA;function Xq(){if(sA)return S0;sA=1;var t=va(),e=Kq(),n=AD(),r="Expected a function",i=Math.max,a=Math.min;function o(l,c,d){var h,f,v,_,b,S,w=0,A=!1,I=!1,k=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(d)&&(A=!!d.leading,I="maxWait"in d,v=I?i(n(d.maxWait)||0,c):v,k="trailing"in d?!!d.trailing:k);function O(W){var V=h,B=f;return h=f=void 0,w=W,_=l.apply(B,V),_}function E(W){return w=W,b=setTimeout(D,c),A?O(W):_}function P(W){var V=W-S,B=W-w,J=c-V;return I?a(J,v-B):J}function N(W){var V=W-S,B=W-w;return S===void 0||V>=c||V<0||I&&B>=v}function D(){var W=e();if(N(W))return $(W);b=setTimeout(D,P(W))}function $(W){return b=void 0,k&&h?O(W):(h=f=void 0,_)}function F(){b!==void 0&&clearTimeout(b),w=0,h=S=f=b=void 0}function L(){return b===void 0?_:$(e())}function z(){var W=e(),V=N(W);if(h=arguments,f=this,S=W,V){if(b===void 0)return E(S);if(I)return clearTimeout(b),b=setTimeout(D,c),O(S)}return b===void 0&&(b=setTimeout(D,c)),_}return z.cancel=F,z.flush=L,z}return S0=o,S0}var C0,lA;function Zq(){if(lA)return C0;lA=1;var t=Xq(),e=va(),n="Expected a function";function r(i,a,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return C0=r,C0}var Qq=Zq();const PD=ft(Qq);function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function uA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(n),!0).forEach(function(r){eU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eU(t,e,n){return e=tU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tU(t){var e=nU(t,"string");return ju(e)=="symbol"?e:e+""}function nU(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rU(t,e){return sU(t)||oU(t,e)||aU(t,e)||iU()}function iU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aU(t,e){if(t){if(typeof t=="string")return cA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cA(t,e)}}function cA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function sU(t){if(Array.isArray(t))return t}var ID=R.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,h=d===void 0?0:d,f=t.minHeight,v=t.maxHeight,_=t.children,b=t.debounce,S=b===void 0?0:b,w=t.id,A=t.className,I=t.onResize,k=t.style,O=k===void 0?{}:k,E=R.useRef(null),P=R.useRef();P.current=I,R.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var N=R.useState({containerWidth:i.width,containerHeight:i.height}),D=rU(N,2),$=D[0],F=D[1],L=R.useCallback(function(W,V){F(function(B){var J=Math.round(W),K=Math.round(V);return B.containerWidth===J&&B.containerHeight===K?B:{containerWidth:J,containerHeight:K}})},[]);R.useEffect(function(){var W=function(te){var re,j=te[0].contentRect,X=j.width,ue=j.height;L(X,ue),(re=P.current)===null||re===void 0||re.call(P,X,ue)};S>0&&(W=PD(W,S,{trailing:!0,leading:!1}));var V=new ResizeObserver(W),B=E.current.getBoundingClientRect(),J=B.width,K=B.height;return L(J,K),V.observe(E.current),function(){V.disconnect()}},[L,S]);var z=R.useMemo(function(){var W=$.containerWidth,V=$.containerHeight;if(W<0||V<0)return null;Lr(Qa(o)||Qa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Lr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Qa(o)?W:o,J=Qa(c)?V:c;n&&n>0&&(B?J=B/n:J&&(B=J*n),v&&J>v&&(J=v)),Lr(B>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,J,o,c,h,f,n);var K=!Array.isArray(_)&&ki(_.type).endsWith("Chart");return H.Children.map(_,function(U){return H.isValidElement(U)?R.cloneElement(U,tf({width:B,height:J},K?{style:tf({height:"100%",width:"100%",maxHeight:J,maxWidth:B},U.props.style)}:{})):U})},[n,_,c,v,f,h,$,o]);return H.createElement("div",{id:w?"".concat(w):void 0,className:rt("recharts-responsive-container",A),style:tf(tf({},O),{},{width:o,height:c,minWidth:h,minHeight:f,maxHeight:v}),ref:E},z)}),Uh=function(e){return null};Uh.displayName="Cell";function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function dA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(n),!0).forEach(function(r){lU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lU(t,e,n){return e=uU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){var e=cU(t,"string");return $u(e)=="symbol"?e:e+""}function cU(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ds={widthCache:{},cacheCount:0},dU=2e3,fU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fA="recharts_measurement_span";function hU(t){var e=Xx({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Su=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cl.isSsr)return{width:0,height:0};var r=hU(n),i=JSON.stringify({text:e,copyStyle:r});if(ds.widthCache[i])return ds.widthCache[i];try{var a=document.getElementById(fA);a||(a=document.createElement("span"),a.setAttribute("id",fA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Xx(Xx({},fU),r);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return ds.widthCache[i]=c,++ds.cacheCount>dU&&(ds.cacheCount=0,ds.widthCache={}),c}catch{return{width:0,height:0}}},pU=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function Mf(t,e){return yU(t)||vU(t,e)||gU(t,e)||mU()}function mU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gU(t,e){if(t){if(typeof t=="string")return hA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hA(t,e)}}function hA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function yU(t){if(Array.isArray(t))return t}function xU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bU(r.key),r)}}function _U(t,e,n){return e&&pA(t.prototype,e),n&&pA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bU(t){var e=wU(t,"string");return Lu(e)=="symbol"?e:e+""}function wU(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,CU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kU=Object.keys(OD),vs="NaN";function TU(t,e){return t*OD[e]}var nf=function(){function t(e,n){xU(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!SU.test(n)&&(this.num=NaN,this.unit=""),kU.includes(n)&&(this.num=TU(e,n),this.unit="px")}return _U(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=CU.exec(n))!==null&&r!==void 0?r:[],a=Mf(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function ND(t){if(t.includes(vs))return vs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=mA.exec(e))!==null&&n!==void 0?n:[],i=Mf(r,4),a=i[1],o=i[2],l=i[3],c=nf.parse(a??""),d=nf.parse(l??""),h=o==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return vs;e=e.replace(mA,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,v=(f=gA.exec(e))!==null&&f!==void 0?f:[],_=Mf(v,4),b=_[1],S=_[2],w=_[3],A=nf.parse(b??""),I=nf.parse(w??""),k=S==="+"?A.add(I):A.subtract(I);if(k.isNaN())return vs;e=e.replace(gA,k.toString())}return e}var vA=/\(([^()]*)\)/;function EU(t){for(var e=t;e.includes("(");){var n=vA.exec(e),r=Mf(n,2),i=r[1];e=e.replace(vA,ND(i))}return e}function AU(t){var e=t.replace(/\s+/g,"");return e=EU(e),e=ND(e),e}function PU(t){try{return AU(t)}catch{return vs}}function k0(t){var e=PU(t.slice(5,-1));return e===vs?"":e}var IU=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],OU=["dx","dy","angle","className","breakAll"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zx.apply(this,arguments)}function yA(t,e){if(t==null)return{};var n=NU(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xA(t,e){return jU(t)||RU(t,e)||DU(t,e)||MU()}function MU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DU(t,e){if(t){if(typeof t=="string")return _A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _A(t,e)}}function _A(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function jU(t){if(Array.isArray(t))return t}var MD=/[ \f\n\r\t\v\u2028\u2029]+/,DD=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];at(n)||(r?a=n.toString().split(""):a=n.toString().split(MD));var o=a.map(function(c){return{word:c,width:Su(c,i).width}}),l=r?0:Su(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},$U=function(e,n,r,i,a){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,h=we(o),f=l,v=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(J,K){var U=K.word,te=K.width,re=J[J.length-1];if(re&&(i==null||a||re.width+te+r<Number(i)))re.words.push(U),re.width+=te+r;else{var j={words:[U],width:te};J.push(j)}return J},[])},_=v(n),b=function(B){return B.reduce(function(J,K){return J.width>K.width?J:K})};if(!h)return _;for(var S="…",w=function(B){var J=f.slice(0,B),K=DD({breakAll:d,style:c,children:J+S}).wordsWithComputedWidth,U=v(K),te=U.length>o||b(U).width>Number(i);return[te,U]},A=0,I=f.length-1,k=0,O;A<=I&&k<=f.length-1;){var E=Math.floor((A+I)/2),P=E-1,N=w(P),D=xA(N,2),$=D[0],F=D[1],L=w(E),z=xA(L,1),W=z[0];if(!$&&!W&&(A=E+1),$&&W&&(I=E-1),!$&&W){O=F;break}k++}return O||_},bA=function(e){var n=at(e)?[]:e.toString().split(MD);return[{words:n}]},LU=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!cl.isSsr){var c,d,h=DD({breakAll:o,children:i,style:a});if(h){var f=h.wordsWithComputedWidth,v=h.spaceWidth;c=f,d=v}else return bA(i);return $U({breakAll:o,children:i,maxLines:l,style:a},c,d,n,r)}return bA(i)},wA="#808080",lo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,h=e.scaleToFit,f=h===void 0?!1:h,v=e.textAnchor,_=v===void 0?"start":v,b=e.verticalAnchor,S=b===void 0?"end":b,w=e.fill,A=w===void 0?wA:w,I=yA(e,IU),k=R.useMemo(function(){return LU({breakAll:I.breakAll,children:I.children,maxLines:I.maxLines,scaleToFit:f,style:I.style,width:I.width})},[I.breakAll,I.children,I.maxLines,f,I.style,I.width]),O=I.dx,E=I.dy,P=I.angle,N=I.className,D=I.breakAll,$=yA(I,OU);if(!tn(r)||!tn(a))return null;var F=r+(we(O)?O:0),L=a+(we(E)?E:0),z;switch(S){case"start":z=k0("calc(".concat(d,")"));break;case"middle":z=k0("calc(".concat((k.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:z=k0("calc(".concat(k.length-1," * -").concat(l,")"));break}var W=[];if(f){var V=k[0].width,B=I.width;W.push("scale(".concat((we(B)?B/V:1)/V,")"))}return P&&W.push("rotate(".concat(P,", ").concat(F,", ").concat(L,")")),W.length&&($.transform=W.join(" ")),H.createElement("text",Zx({},He($,!0),{x:F,y:L,className:rt("recharts-text",N),textAnchor:_,fill:A.includes("url")?wA:A}),k.map(function(J,K){var U=J.words.join(D?"":" ");return H.createElement("tspan",{x:F,dy:K===0?z:l,key:"".concat(U,"-").concat(K)},U)}))};function fa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BU(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yb(t){let e,n,r;t.length!==2?(e=fa,n=(l,c)=>fa(t(l),c),r=(l,c)=>t(l)-c):(e=t===fa||t===BU?t:FU,n=t,r=t);function i(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const f=d+h>>>1;n(l[f],c)<0?d=f+1:h=f}while(d<h)}return d}function a(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const f=d+h>>>1;n(l[f],c)<=0?d=f+1:h=f}while(d<h)}return d}function o(l,c,d=0,h=l.length){const f=i(l,c,d,h-1);return f>d&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function FU(){return 0}function RD(t){return t===null?NaN:+t}function*qU(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const UU=Yb(fa),bc=UU.right;Yb(RD).center;class SA extends Map{constructor(e,n=GU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(CA(this,e))}has(e){return super.has(CA(this,e))}set(e,n){return super.set(VU(this,e),n)}delete(e){return super.delete(zU(this,e))}}function CA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function VU({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function zU({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function GU(t){return t!==null&&typeof t=="object"?t.valueOf():t}function HU(t=fa){if(t===fa)return jD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function jD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const WU=Math.sqrt(50),KU=Math.sqrt(10),YU=Math.sqrt(2);function Df(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=WU?10:a>=KU?5:a>=YU?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?Df(t,e,n*2):[l,c,d]}function Qx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Df(e,t,n):Df(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function e_(t,e,n){return e=+e,t=+t,n=+n,Df(t,e,n)[2]}function t_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?e_(e,t,n):e_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function kA(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function TA(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $D(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?jD:HU(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,h=Math.log(c),f=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*f*(c-f)/c)*(d-c/2<0?-1:1),_=Math.max(n,Math.floor(e-d*f/c+v)),b=Math.min(r,Math.floor(e+(c-d)*f/c+v));$D(t,e,_,b,i)}const a=t[e];let o=n,l=r;for(au(t,n,e),i(t[r],a)>0&&au(t,n,r);o<l;){for(au(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?au(t,n,l):(++l,au(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function au(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function JU(t,e,n){if(t=Float64Array.from(qU(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return TA(t);if(e>=1)return kA(t);var r,i=(r-1)*e,a=Math.floor(i),o=kA($D(t,a).subarray(0,a+1)),l=TA(t.subarray(a+1));return o+(l-o)*(i-a)}}function XU(t,e,n=RD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function ZU(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Sr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Di(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const n_=Symbol("implicit");function Jb(){var t=new SA,e=[],n=[],r=n_;function i(a){let o=t.get(a);if(o===void 0){if(r!==n_)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new SA;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Jb(e,n).unknown(r)},Sr.apply(i,arguments),i}function Bu(){var t=Jb().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,l=!1,c=0,d=0,h=.5;delete t.unknown;function f(){var v=e().length,_=i<r,b=_?i:r,S=_?r:i;a=(S-b)/Math.max(1,v-c+d*2),l&&(a=Math.floor(a)),b+=(S-b-a*(v-c))*h,o=a*(1-c),l&&(b=Math.round(b),o=Math.round(o));var w=ZU(v).map(function(A){return b+a*A});return n(_?w.reverse():w)}return t.domain=function(v){return arguments.length?(e(v),f()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(l=!!v,f()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,d=+v),f()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),f()):c},t.paddingOuter=function(v){return arguments.length?(d=+v,f()):d},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),f()):h},t.copy=function(){return Bu(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(h)},Sr.apply(f(),arguments)}function LD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return LD(e())},t}function Cu(){return LD(Bu.apply(null,arguments).paddingInner(1))}function Xb(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function BD(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wc(){}var Fu=.7,Rf=1/Fu,ks="\\s*([+-]?\\d+)\\s*",qu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QU=/^#([0-9a-f]{3,8})$/,e8=new RegExp(`^rgb\\(${ks},${ks},${ks}\\)$`),t8=new RegExp(`^rgb\\(${Zr},${Zr},${Zr}\\)$`),n8=new RegExp(`^rgba\\(${ks},${ks},${ks},${qu}\\)$`),r8=new RegExp(`^rgba\\(${Zr},${Zr},${Zr},${qu}\\)$`),i8=new RegExp(`^hsl\\(${qu},${Zr},${Zr}\\)$`),a8=new RegExp(`^hsla\\(${qu},${Zr},${Zr},${qu}\\)$`),EA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xb(wc,Uu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:AA,formatHex:AA,formatHex8:o8,formatHsl:s8,formatRgb:PA,toString:PA});function AA(){return this.rgb().formatHex()}function o8(){return this.rgb().formatHex8()}function s8(){return FD(this).formatHsl()}function PA(){return this.rgb().formatRgb()}function Uu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=QU.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?IA(e):n===3?new Wn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=e8.exec(t))?new Wn(e[1],e[2],e[3],1):(e=t8.exec(t))?new Wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=n8.exec(t))?rf(e[1],e[2],e[3],e[4]):(e=r8.exec(t))?rf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=i8.exec(t))?MA(e[1],e[2]/100,e[3]/100,1):(e=a8.exec(t))?MA(e[1],e[2]/100,e[3]/100,e[4]):EA.hasOwnProperty(t)?IA(EA[t]):t==="transparent"?new Wn(NaN,NaN,NaN,0):null}function IA(t){return new Wn(t>>16&255,t>>8&255,t&255,1)}function rf(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wn(t,e,n,r)}function l8(t){return t instanceof wc||(t=Uu(t)),t?(t=t.rgb(),new Wn(t.r,t.g,t.b,t.opacity)):new Wn}function r_(t,e,n,r){return arguments.length===1?l8(t):new Wn(t,e,n,r??1)}function Wn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Xb(Wn,r_,BD(wc,{brighter(t){return t=t==null?Rf:Math.pow(Rf,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fu:Math.pow(Fu,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wn(ro(this.r),ro(this.g),ro(this.b),jf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OA,formatHex:OA,formatHex8:u8,formatRgb:NA,toString:NA}));function OA(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}`}function u8(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}${eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function NA(){const t=jf(this.opacity);return`${t===1?"rgb(":"rgba("}${ro(this.r)}, ${ro(this.g)}, ${ro(this.b)}${t===1?")":`, ${t})`}`}function jf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ro(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function eo(t){return t=ro(t),(t<16?"0":"")+t.toString(16)}function MA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jr(t,e,n,r)}function FD(t){if(t instanceof jr)return new jr(t.h,t.s,t.l,t.opacity);if(t instanceof wc||(t=Uu(t)),!t)return new jr;if(t instanceof jr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new jr(o,l,c,t.opacity)}function c8(t,e,n,r){return arguments.length===1?FD(t):new jr(t,e,n,r??1)}function jr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Xb(jr,c8,BD(wc,{brighter(t){return t=t==null?Rf:Math.pow(Rf,t),new jr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fu:Math.pow(Fu,t),new jr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wn(T0(t>=240?t-240:t+120,i,r),T0(t,i,r),T0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new jr(DA(this.h),af(this.s),af(this.l),jf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jf(this.opacity);return`${t===1?"hsl(":"hsla("}${DA(this.h)}, ${af(this.s)*100}%, ${af(this.l)*100}%${t===1?")":`, ${t})`}`}}));function DA(t){return t=(t||0)%360,t<0?t+360:t}function af(t){return Math.max(0,Math.min(1,t||0))}function T0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Zb=t=>()=>t;function d8(t,e){return function(n){return t+n*e}}function f8(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function h8(t){return(t=+t)==1?qD:function(e,n){return n-e?f8(e,n,t):Zb(isNaN(e)?n:e)}}function qD(t,e){var n=e-t;return n?d8(t,n):Zb(isNaN(t)?e:t)}const RA=function t(e){var n=h8(e);function r(i,a){var o=n((i=r_(i)).r,(a=r_(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),d=qD(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=t,r}(1);function p8(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function m8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function g8(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=dl(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function v8(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $f(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function y8(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=dl(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var i_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E0=new RegExp(i_.source,"g");function x8(t){return function(){return t}}function _8(t){return function(e){return t(e)+""}}function b8(t,e){var n=i_.lastIndex=E0.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=i_.exec(t))&&(i=E0.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:$f(r,i)})),n=E0.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?_8(c[0].x):x8(e):(e=c.length,function(d){for(var h=0,f;h<e;++h)l[(f=c[h]).i]=f.x(d);return l.join("")})}function dl(t,e){var n=typeof e,r;return e==null||n==="boolean"?Zb(e):(n==="number"?$f:n==="string"?(r=Uu(e))?(e=r,RA):b8:e instanceof Uu?RA:e instanceof Date?v8:m8(e)?p8:Array.isArray(e)?g8:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?y8:$f)(t,e)}function Qb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function w8(t,e){e===void 0&&(e=t,t=dl);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function S8(t){return function(){return t}}function Lf(t){return+t}var jA=[0,1];function Dn(t){return t}function a_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:S8(isNaN(e)?NaN:.5)}function C8(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function k8(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=a_(i,r),a=n(o,a)):(r=a_(r,i),a=n(a,o)),function(l){return a(r(l))}}function T8(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=a_(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var c=bc(t,l,1,r)-1;return a[c](i[c](l))}}function Sc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vh(){var t=jA,e=jA,n=dl,r,i,a,o=Dn,l,c,d;function h(){var v=Math.min(t.length,e.length);return o!==Dn&&(o=C8(t[0],t[v-1])),l=v>2?T8:k8,c=d=null,f}function f(v){return v==null||isNaN(v=+v)?a:(c||(c=l(t.map(r),e,n)))(r(o(v)))}return f.invert=function(v){return o(i((d||(d=l(e,t.map(r),$f)))(v)))},f.domain=function(v){return arguments.length?(t=Array.from(v,Lf),h()):t.slice()},f.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},f.rangeRound=function(v){return e=Array.from(v),n=Qb,h()},f.clamp=function(v){return arguments.length?(o=v?!0:Dn,h()):o!==Dn},f.interpolate=function(v){return arguments.length?(n=v,h()):n},f.unknown=function(v){return arguments.length?(a=v,f):a},function(v,_){return r=v,i=_,h()}}function ew(){return Vh()(Dn,Dn)}function E8(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rs(t){return t=Bf(Math.abs(t)),t?t[1]:NaN}function A8(t,e){return function(n,r){for(var i=n.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function P8(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var I8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vu(t){if(!(e=I8.exec(t)))throw new Error("invalid format: "+t);var e;return new tw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vu.prototype=tw.prototype;function tw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function O8(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var UD;function N8(t,e){var n=Bf(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(UD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Bf(t,Math.max(0,e+a-1))[0]}function $A(t,e){var n=Bf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const LA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:E8,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$A(t*100,e),r:$A,s:N8,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function BA(t){return t}var FA=Array.prototype.map,qA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function M8(t){var e=t.grouping===void 0||t.thousands===void 0?BA:A8(FA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?BA:P8(FA.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(f){f=Vu(f);var v=f.fill,_=f.align,b=f.sign,S=f.symbol,w=f.zero,A=f.width,I=f.comma,k=f.precision,O=f.trim,E=f.type;E==="n"?(I=!0,E="g"):LA[E]||(k===void 0&&(k=12),O=!0,E="g"),(w||v==="0"&&_==="=")&&(w=!0,v="0",_="=");var P=S==="$"?n:S==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",N=S==="$"?r:/[%p]/.test(E)?o:"",D=LA[E],$=/[defgprs%]/.test(E);k=k===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function F(L){var z=P,W=N,V,B,J;if(E==="c")W=D(L)+W,L="";else{L=+L;var K=L<0||1/L<0;if(L=isNaN(L)?c:D(Math.abs(L),k),O&&(L=O8(L)),K&&+L==0&&b!=="+"&&(K=!1),z=(K?b==="("?b:l:b==="-"||b==="("?"":b)+z,W=(E==="s"?qA[8+UD/3]:"")+W+(K&&b==="("?")":""),$){for(V=-1,B=L.length;++V<B;)if(J=L.charCodeAt(V),48>J||J>57){W=(J===46?i+L.slice(V+1):L.slice(V))+W,L=L.slice(0,V);break}}}I&&!w&&(L=e(L,1/0));var U=z.length+L.length+W.length,te=U<A?new Array(A-U+1).join(v):"";switch(I&&w&&(L=e(te+L,te.length?A-W.length:1/0),te=""),_){case"<":L=z+L+W+te;break;case"=":L=z+te+L+W;break;case"^":L=te.slice(0,U=te.length>>1)+z+L+W+te.slice(U);break;default:L=te+z+L+W;break}return a(L)}return F.toString=function(){return f+""},F}function h(f,v){var _=d((f=Vu(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(Rs(v)/3)))*3,S=Math.pow(10,-b),w=qA[8+b/3];return function(A){return _(S*A)+w}}return{format:d,formatPrefix:h}}var of,nw,VD;D8({thousands:",",grouping:[3],currency:["$",""]});function D8(t){return of=M8(t),nw=of.format,VD=of.formatPrefix,of}function R8(t){return Math.max(0,-Rs(Math.abs(t)))}function j8(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rs(e)/3)))*3-Rs(Math.abs(t)))}function $8(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rs(e)-Rs(t))+1}function zD(t,e,n,r){var i=t_(t,e,n),a;switch(r=Vu(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=j8(i,o))&&(r.precision=a),VD(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=$8(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=R8(i))&&(r.precision=a-(r.type==="%")*2);break}}return nw(r)}function ya(t){var e=t.domain;return t.ticks=function(n){var r=e();return Qx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return zD(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],l=r[a],c,d,h=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=e_(o,l,n),d===c)return r[i]=o,r[a]=l,e(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Ff(){var t=ew();return t.copy=function(){return Sc(t,Ff())},Sr.apply(t,arguments),ya(t)}function GD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Lf),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return GD(t).unknown(e)},t=arguments.length?Array.from(t,Lf):[0,1],ya(n)}function HD(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function UA(t){return Math.log(t)}function VA(t){return Math.exp(t)}function L8(t){return-Math.log(-t)}function B8(t){return-Math.exp(-t)}function F8(t){return isFinite(t)?+("1e"+t):t<0?0:t}function q8(t){return t===10?F8:t===Math.E?Math.exp:e=>Math.pow(t,e)}function U8(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function zA(t){return(e,n)=>-t(-e,n)}function rw(t){const e=t(UA,VA),n=e.domain;let r=10,i,a;function o(){return i=U8(r),a=q8(r),n()[0]<0?(i=zA(i),a=zA(a),t(L8,B8)):t(UA,VA),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let d=c[0],h=c[c.length-1];const f=h<d;f&&([d,h]=[h,d]);let v=i(d),_=i(h),b,S;const w=l==null?10:+l;let A=[];if(!(r%1)&&_-v<w){if(v=Math.floor(v),_=Math.ceil(_),d>0){for(;v<=_;++v)for(b=1;b<r;++b)if(S=v<0?b/a(-v):b*a(v),!(S<d)){if(S>h)break;A.push(S)}}else for(;v<=_;++v)for(b=r-1;b>=1;--b)if(S=v>0?b/a(-v):b*a(v),!(S<d)){if(S>h)break;A.push(S)}A.length*2<w&&(A=Qx(d,h,w))}else A=Qx(v,_,Math.min(_-v,w)).map(a);return f?A.reverse():A},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Vu(c)).precision==null&&(c.trim=!0),c=nw(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return h=>{let f=h/a(Math.round(i(h)));return f*r<r-.5&&(f*=r),f<=d?c(h):""}},e.nice=()=>n(HD(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function WD(){const t=rw(Vh()).domain([1,10]);return t.copy=()=>Sc(t,WD()).base(t.base()),Sr.apply(t,arguments),t}function GA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function HA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iw(t){var e=1,n=t(GA(e),HA(e));return n.constant=function(r){return arguments.length?t(GA(e=+r),HA(e)):e},ya(n)}function KD(){var t=iw(Vh());return t.copy=function(){return Sc(t,KD()).constant(t.constant())},Sr.apply(t,arguments)}function WA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function V8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function z8(t){return t<0?-t*t:t*t}function aw(t){var e=t(Dn,Dn),n=1;function r(){return n===1?t(Dn,Dn):n===.5?t(V8,z8):t(WA(n),WA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ya(e)}function ow(){var t=aw(Vh());return t.copy=function(){return Sc(t,ow()).exponent(t.exponent())},Sr.apply(t,arguments),t}function G8(){return ow.apply(null,arguments).exponent(.5)}function KA(t){return Math.sign(t)*t*t}function H8(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function YD(){var t=ew(),e=[0,1],n=!1,r;function i(a){var o=H8(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(KA(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Lf)).map(KA)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return YD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Sr.apply(i,arguments),ya(i)}function JD(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=XU(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:e[bc(n,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(fa),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return JD().domain(t).range(e).unknown(r)},Sr.apply(a,arguments)}function XD(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[bc(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return XD().domain([t,e]).range(i).unknown(a)},Sr.apply(ya(o),arguments)}function ZD(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[bc(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ZD().domain(t).range(e).unknown(n)},Sr.apply(i,arguments)}const A0=new Date,P0=new Date;function nn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<o);return c},i.filter=a=>nn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(A0.setTime(+a),P0.setTime(+o),t(A0),t(P0),Math.floor(n(A0,P0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const qf=nn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);qf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):qf);qf.range;const wi=1e3,_r=wi*60,Si=_r*60,Ei=Si*24,sw=Ei*7,YA=Ei*30,I0=Ei*365,to=nn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getUTCSeconds());to.range;const lw=nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wi)},(t,e)=>{t.setTime(+t+e*_r)},(t,e)=>(e-t)/_r,t=>t.getMinutes());lw.range;const uw=nn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_r)},(t,e)=>(e-t)/_r,t=>t.getUTCMinutes());uw.range;const cw=nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wi-t.getMinutes()*_r)},(t,e)=>{t.setTime(+t+e*Si)},(t,e)=>(e-t)/Si,t=>t.getHours());cw.range;const dw=nn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Si)},(t,e)=>(e-t)/Si,t=>t.getUTCHours());dw.range;const Cc=nn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_r)/Ei,t=>t.getDate()-1);Cc.range;const zh=nn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ei,t=>t.getUTCDate()-1);zh.range;const QD=nn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ei,t=>Math.floor(t/Ei));QD.range;function yo(t){return nn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_r)/sw)}const Gh=yo(0),Uf=yo(1),W8=yo(2),K8=yo(3),js=yo(4),Y8=yo(5),J8=yo(6);Gh.range;Uf.range;W8.range;K8.range;js.range;Y8.range;J8.range;function xo(t){return nn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/sw)}const Hh=xo(0),Vf=xo(1),X8=xo(2),Z8=xo(3),$s=xo(4),Q8=xo(5),eV=xo(6);Hh.range;Vf.range;X8.range;Z8.range;$s.range;Q8.range;eV.range;const fw=nn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());fw.range;const hw=nn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hw.range;const Ai=nn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ai.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ai.range;const Pi=nn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Pi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Pi.range;function e2(t,e,n,r,i,a){const o=[[to,1,wi],[to,5,5*wi],[to,15,15*wi],[to,30,30*wi],[a,1,_r],[a,5,5*_r],[a,15,15*_r],[a,30,30*_r],[i,1,Si],[i,3,3*Si],[i,6,6*Si],[i,12,12*Si],[r,1,Ei],[r,2,2*Ei],[n,1,sw],[e,1,YA],[e,3,3*YA],[t,1,I0]];function l(d,h,f){const v=h<d;v&&([d,h]=[h,d]);const _=f&&typeof f.range=="function"?f:c(d,h,f),b=_?_.range(d,+h+1):[];return v?b.reverse():b}function c(d,h,f){const v=Math.abs(h-d)/f,_=Yb(([,,w])=>w).right(o,v);if(_===o.length)return t.every(t_(d/I0,h/I0,f));if(_===0)return qf.every(Math.max(t_(d,h,f),1));const[b,S]=o[v/o[_-1][2]<o[_][2]/v?_-1:_];return b.every(S)}return[l,c]}const[tV,nV]=e2(Pi,hw,Hh,QD,dw,uw),[rV,iV]=e2(Ai,fw,Gh,Cc,cw,lw);function O0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function N0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ou(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function aV(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=su(i),h=lu(i),f=su(a),v=lu(a),_=su(o),b=lu(o),S=su(l),w=lu(l),A=su(c),I=lu(c),k={a:K,A:U,b:te,B:re,c:null,d:tP,e:tP,f:AV,g:LV,G:FV,H:kV,I:TV,j:EV,L:t2,m:PV,M:IV,p:j,q:X,Q:iP,s:aP,S:OV,u:NV,U:MV,V:DV,w:RV,W:jV,x:null,X:null,y:$V,Y:BV,Z:qV,"%":rP},O={a:ue,A:Se,b:ce,B:Ae,c:null,d:nP,e:nP,f:GV,g:t6,G:r6,H:UV,I:VV,j:zV,L:r2,m:HV,M:WV,p:ze,q:We,Q:iP,s:aP,S:KV,u:YV,U:JV,V:XV,w:ZV,W:QV,x:null,X:null,y:e6,Y:n6,Z:i6,"%":rP},E={a:F,A:L,b:z,B:W,c:V,d:QA,e:QA,f:bV,g:ZA,G:XA,H:eP,I:eP,j:vV,L:_V,m:gV,M:yV,p:$,q:mV,Q:SV,s:CV,S:xV,u:cV,U:dV,V:fV,w:uV,W:hV,x:B,X:J,y:ZA,Y:XA,Z:pV,"%":wV};k.x=P(n,k),k.X=P(r,k),k.c=P(e,k),O.x=P(n,O),O.X=P(r,O),O.c=P(e,O);function P(ge,Ce){return function(Ve){var pe=[],ht=-1,et=0,Ct=ge.length,bt,st,vt;for(Ve instanceof Date||(Ve=new Date(+Ve));++ht<Ct;)ge.charCodeAt(ht)===37&&(pe.push(ge.slice(et,ht)),(st=JA[bt=ge.charAt(++ht)])!=null?bt=ge.charAt(++ht):st=bt==="e"?" ":"0",(vt=Ce[bt])&&(bt=vt(Ve,st)),pe.push(bt),et=ht+1);return pe.push(ge.slice(et,ht)),pe.join("")}}function N(ge,Ce){return function(Ve){var pe=ou(1900,void 0,1),ht=D(pe,ge,Ve+="",0),et,Ct;if(ht!=Ve.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Ce&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(et=N0(ou(pe.y,0,1)),Ct=et.getUTCDay(),et=Ct>4||Ct===0?Vf.ceil(et):Vf(et),et=zh.offset(et,(pe.V-1)*7),pe.y=et.getUTCFullYear(),pe.m=et.getUTCMonth(),pe.d=et.getUTCDate()+(pe.w+6)%7):(et=O0(ou(pe.y,0,1)),Ct=et.getDay(),et=Ct>4||Ct===0?Uf.ceil(et):Uf(et),et=Cc.offset(et,(pe.V-1)*7),pe.y=et.getFullYear(),pe.m=et.getMonth(),pe.d=et.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),Ct="Z"in pe?N0(ou(pe.y,0,1)).getUTCDay():O0(ou(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(Ct+5)%7:pe.w+pe.U*7-(Ct+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,N0(pe)):O0(pe)}}function D(ge,Ce,Ve,pe){for(var ht=0,et=Ce.length,Ct=Ve.length,bt,st;ht<et;){if(pe>=Ct)return-1;if(bt=Ce.charCodeAt(ht++),bt===37){if(bt=Ce.charAt(ht++),st=E[bt in JA?Ce.charAt(ht++):bt],!st||(pe=st(ge,Ve,pe))<0)return-1}else if(bt!=Ve.charCodeAt(pe++))return-1}return pe}function $(ge,Ce,Ve){var pe=d.exec(Ce.slice(Ve));return pe?(ge.p=h.get(pe[0].toLowerCase()),Ve+pe[0].length):-1}function F(ge,Ce,Ve){var pe=_.exec(Ce.slice(Ve));return pe?(ge.w=b.get(pe[0].toLowerCase()),Ve+pe[0].length):-1}function L(ge,Ce,Ve){var pe=f.exec(Ce.slice(Ve));return pe?(ge.w=v.get(pe[0].toLowerCase()),Ve+pe[0].length):-1}function z(ge,Ce,Ve){var pe=A.exec(Ce.slice(Ve));return pe?(ge.m=I.get(pe[0].toLowerCase()),Ve+pe[0].length):-1}function W(ge,Ce,Ve){var pe=S.exec(Ce.slice(Ve));return pe?(ge.m=w.get(pe[0].toLowerCase()),Ve+pe[0].length):-1}function V(ge,Ce,Ve){return D(ge,e,Ce,Ve)}function B(ge,Ce,Ve){return D(ge,n,Ce,Ve)}function J(ge,Ce,Ve){return D(ge,r,Ce,Ve)}function K(ge){return o[ge.getDay()]}function U(ge){return a[ge.getDay()]}function te(ge){return c[ge.getMonth()]}function re(ge){return l[ge.getMonth()]}function j(ge){return i[+(ge.getHours()>=12)]}function X(ge){return 1+~~(ge.getMonth()/3)}function ue(ge){return o[ge.getUTCDay()]}function Se(ge){return a[ge.getUTCDay()]}function ce(ge){return c[ge.getUTCMonth()]}function Ae(ge){return l[ge.getUTCMonth()]}function ze(ge){return i[+(ge.getUTCHours()>=12)]}function We(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Ce=P(ge+="",k);return Ce.toString=function(){return ge},Ce},parse:function(ge){var Ce=N(ge+="",!1);return Ce.toString=function(){return ge},Ce},utcFormat:function(ge){var Ce=P(ge+="",O);return Ce.toString=function(){return ge},Ce},utcParse:function(ge){var Ce=N(ge+="",!0);return Ce.toString=function(){return ge},Ce}}}var JA={"-":"",_:" ",0:"0"},hn=/^\s*\d+/,oV=/^%/,sV=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function lV(t){return t.replace(sV,"\\$&")}function su(t){return new RegExp("^(?:"+t.map(lV).join("|")+")","i")}function lu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function uV(t,e,n){var r=hn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function cV(t,e,n){var r=hn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function dV(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fV(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function hV(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function XA(t,e,n){var r=hn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ZA(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pV(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mV(t,e,n){var r=hn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function gV(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function QA(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vV(t,e,n){var r=hn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function eP(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function yV(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function xV(t,e,n){var r=hn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _V(t,e,n){var r=hn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bV(t,e,n){var r=hn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wV(t,e,n){var r=oV.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function SV(t,e,n){var r=hn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function CV(t,e,n){var r=hn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function tP(t,e){return dt(t.getDate(),e,2)}function kV(t,e){return dt(t.getHours(),e,2)}function TV(t,e){return dt(t.getHours()%12||12,e,2)}function EV(t,e){return dt(1+Cc.count(Ai(t),t),e,3)}function t2(t,e){return dt(t.getMilliseconds(),e,3)}function AV(t,e){return t2(t,e)+"000"}function PV(t,e){return dt(t.getMonth()+1,e,2)}function IV(t,e){return dt(t.getMinutes(),e,2)}function OV(t,e){return dt(t.getSeconds(),e,2)}function NV(t){var e=t.getDay();return e===0?7:e}function MV(t,e){return dt(Gh.count(Ai(t)-1,t),e,2)}function n2(t){var e=t.getDay();return e>=4||e===0?js(t):js.ceil(t)}function DV(t,e){return t=n2(t),dt(js.count(Ai(t),t)+(Ai(t).getDay()===4),e,2)}function RV(t){return t.getDay()}function jV(t,e){return dt(Uf.count(Ai(t)-1,t),e,2)}function $V(t,e){return dt(t.getFullYear()%100,e,2)}function LV(t,e){return t=n2(t),dt(t.getFullYear()%100,e,2)}function BV(t,e){return dt(t.getFullYear()%1e4,e,4)}function FV(t,e){var n=t.getDay();return t=n>=4||n===0?js(t):js.ceil(t),dt(t.getFullYear()%1e4,e,4)}function qV(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function nP(t,e){return dt(t.getUTCDate(),e,2)}function UV(t,e){return dt(t.getUTCHours(),e,2)}function VV(t,e){return dt(t.getUTCHours()%12||12,e,2)}function zV(t,e){return dt(1+zh.count(Pi(t),t),e,3)}function r2(t,e){return dt(t.getUTCMilliseconds(),e,3)}function GV(t,e){return r2(t,e)+"000"}function HV(t,e){return dt(t.getUTCMonth()+1,e,2)}function WV(t,e){return dt(t.getUTCMinutes(),e,2)}function KV(t,e){return dt(t.getUTCSeconds(),e,2)}function YV(t){var e=t.getUTCDay();return e===0?7:e}function JV(t,e){return dt(Hh.count(Pi(t)-1,t),e,2)}function i2(t){var e=t.getUTCDay();return e>=4||e===0?$s(t):$s.ceil(t)}function XV(t,e){return t=i2(t),dt($s.count(Pi(t),t)+(Pi(t).getUTCDay()===4),e,2)}function ZV(t){return t.getUTCDay()}function QV(t,e){return dt(Vf.count(Pi(t)-1,t),e,2)}function e6(t,e){return dt(t.getUTCFullYear()%100,e,2)}function t6(t,e){return t=i2(t),dt(t.getUTCFullYear()%100,e,2)}function n6(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function r6(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$s(t):$s.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function i6(){return"+0000"}function rP(){return"%"}function iP(t){return+t}function aP(t){return Math.floor(+t/1e3)}var fs,a2,o2;a6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function a6(t){return fs=aV(t),a2=fs.format,fs.parse,o2=fs.utcFormat,fs.utcParse,fs}function o6(t){return new Date(t)}function s6(t){return t instanceof Date?+t:+new Date(+t)}function pw(t,e,n,r,i,a,o,l,c,d){var h=ew(),f=h.invert,v=h.domain,_=d(".%L"),b=d(":%S"),S=d("%I:%M"),w=d("%I %p"),A=d("%a %d"),I=d("%b %d"),k=d("%B"),O=d("%Y");function E(P){return(c(P)<P?_:l(P)<P?b:o(P)<P?S:a(P)<P?w:r(P)<P?i(P)<P?A:I:n(P)<P?k:O)(P)}return h.invert=function(P){return new Date(f(P))},h.domain=function(P){return arguments.length?v(Array.from(P,s6)):v().map(o6)},h.ticks=function(P){var N=v();return t(N[0],N[N.length-1],P??10)},h.tickFormat=function(P,N){return N==null?E:d(N)},h.nice=function(P){var N=v();return(!P||typeof P.range!="function")&&(P=e(N[0],N[N.length-1],P??10)),P?v(HD(N,P)):h},h.copy=function(){return Sc(h,pw(t,e,n,r,i,a,o,l,c,d))},h}function l6(){return Sr.apply(pw(rV,iV,Ai,fw,Gh,Cc,cw,lw,to,a2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function u6(){return Sr.apply(pw(tV,nV,Pi,hw,Hh,zh,dw,uw,to,o2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wh(){var t=0,e=1,n,r,i,a,o=Dn,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function h(f){return function(v){var _,b;return arguments.length?([_,b]=v,o=f(_,b),d):[o(0),o(1)]}}return d.range=h(dl),d.rangeRound=h(Qb),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),d}}function xa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function s2(){var t=ya(Wh()(Dn));return t.copy=function(){return xa(t,s2())},Di.apply(t,arguments)}function l2(){var t=rw(Wh()).domain([1,10]);return t.copy=function(){return xa(t,l2()).base(t.base())},Di.apply(t,arguments)}function u2(){var t=iw(Wh());return t.copy=function(){return xa(t,u2()).constant(t.constant())},Di.apply(t,arguments)}function mw(){var t=aw(Wh());return t.copy=function(){return xa(t,mw()).exponent(t.exponent())},Di.apply(t,arguments)}function c6(){return mw.apply(null,arguments).exponent(.5)}function c2(){var t=[],e=Dn;function n(r){if(r!=null&&!isNaN(r=+r))return e((bc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>JU(t,a/r))},n.copy=function(){return c2(e).domain(t)},Di.apply(n,arguments)}function Kh(){var t=0,e=.5,n=1,r=1,i,a,o,l,c,d=Dn,h,f=!1,v;function _(S){return isNaN(S=+S)?v:(S=.5+((S=+h(S))-a)*(r*S<r*a?l:c),d(f?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,i=h(t=+t),a=h(e=+e),o=h(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(f=!!S,_):f},_.interpolator=function(S){return arguments.length?(d=S,_):d};function b(S){return function(w){var A,I,k;return arguments.length?([A,I,k]=w,d=w8(S,[A,I,k]),_):[d(0),d(.5),d(1)]}}return _.range=b(dl),_.rangeRound=b(Qb),_.unknown=function(S){return arguments.length?(v=S,_):v},function(S){return h=S,i=S(t),a=S(e),o=S(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,_}}function d2(){var t=ya(Kh()(Dn));return t.copy=function(){return xa(t,d2())},Di.apply(t,arguments)}function f2(){var t=rw(Kh()).domain([.1,1,10]);return t.copy=function(){return xa(t,f2()).base(t.base())},Di.apply(t,arguments)}function h2(){var t=iw(Kh());return t.copy=function(){return xa(t,h2()).constant(t.constant())},Di.apply(t,arguments)}function gw(){var t=aw(Kh());return t.copy=function(){return xa(t,gw()).exponent(t.exponent())},Di.apply(t,arguments)}function d6(){return gw.apply(null,arguments).exponent(.5)}const oP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bu,scaleDiverging:d2,scaleDivergingLog:f2,scaleDivergingPow:gw,scaleDivergingSqrt:d6,scaleDivergingSymlog:h2,scaleIdentity:GD,scaleImplicit:n_,scaleLinear:Ff,scaleLog:WD,scaleOrdinal:Jb,scalePoint:Cu,scalePow:ow,scaleQuantile:JD,scaleQuantize:XD,scaleRadial:YD,scaleSequential:s2,scaleSequentialLog:l2,scaleSequentialPow:mw,scaleSequentialQuantile:c2,scaleSequentialSqrt:c6,scaleSequentialSymlog:u2,scaleSqrt:G8,scaleSymlog:KD,scaleThreshold:ZD,scaleTime:l6,scaleUtc:u6,tickFormat:zD},Symbol.toStringTag,{value:"Module"}));var M0,sP;function Yh(){if(sP)return M0;sP=1;var t=sl();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var l=n[a],c=r(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,h=l}return h}return M0=e,M0}var D0,lP;function p2(){if(lP)return D0;lP=1;function t(e,n){return e>n}return D0=t,D0}var R0,uP;function f6(){if(uP)return R0;uP=1;var t=Yh(),e=p2(),n=ul();function r(i){return i&&i.length?t(i,n,e):void 0}return R0=r,R0}var h6=f6();const Jh=ft(h6);var j0,cP;function m2(){if(cP)return j0;cP=1;function t(e,n){return e<n}return j0=t,j0}var $0,dP;function p6(){if(dP)return $0;dP=1;var t=Yh(),e=m2(),n=ul();function r(i){return i&&i.length?t(i,n,e):void 0}return $0=r,$0}var m6=p6();const Xh=ft(m6);var L0,fP;function g6(){if(fP)return L0;fP=1;var t=Nb(),e=ii(),n=wD(),r=Kn();function i(a,o){var l=r(a)?t:n;return l(a,e(o,3))}return L0=i,L0}var B0,hP;function v6(){if(hP)return B0;hP=1;var t=_D(),e=g6();function n(r,i){return t(e(r,i),1)}return B0=n,B0}var y6=v6();const x6=ft(y6);var F0,pP;function _6(){if(pP)return F0;pP=1;var t=Gb();function e(n,r){return t(n,r)}return F0=e,F0}var b6=_6();const Zh=ft(b6);var fl=1e9,w6={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yw,$t=!0,wr="[DecimalError] ",io=wr+"Invalid argument: ",vw=wr+"Exponent out of range: ",hl=Math.floor,Ja=Math.pow,S6=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ir,cn=1e7,Rt=7,g2=9007199254740991,zf=hl(g2/Rt),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Rt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ie.dividedBy=Ie.div=function(t){return Ti(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,n=e.constructor;return St(Ti(e,new n(t),0,1),n.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return Jt(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ir))throw Error(wr+"NaN");if(n.s<1)throw Error(wr+(n.s?"NaN":"-Infinity"));return n.eq(ir)?new r(0):($t=!1,e=Ti(zu(n,a),zu(t,a),a),$t=!0,St(e,i))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?x2(e,t):v2(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(wr+"NaN");return n.s?($t=!1,e=Ti(n,t,0,1).times(t),$t=!0,n.minus(e)):St(new r(n),i)};Ie.naturalExponential=Ie.exp=function(){return y2(this)};Ie.naturalLogarithm=Ie.ln=function(){return zu(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?v2(e,t):x2(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(io+t);if(e=Jt(i)+1,r=i.d.length-1,n=r*Rt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ie.squareRoot=Ie.sqrt=function(){var t,e,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(wr+"NaN")}for(t=Jt(l),$t=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Yr(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=hl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(Ti(l,a,o+2)).times(.5),Yr(a.d).slice(0,o)===(e=Yr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(St(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;o+=4}return $t=!0,St(r,n)};Ie.times=Ie.mul=function(t){var e,n,r,i,a,o,l,c,d,h=this,f=h.constructor,v=h.d,_=(t=new f(t)).d;if(!h.s||!t.s)return new f(0);for(t.s*=h.s,n=h.e+t.e,c=v.length,d=_.length,c<d&&(a=v,v=_,_=a,o=c,c=d,d=o),a=[],o=c+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+_[r]*v[i-r-1]+e,a[i--]=l%cn|0,e=l/cn|0;a[i]=(a[i]+e)%cn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,$t?St(t,f.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ti(t,0,fl),e===void 0?e=r.rounding:ti(e,0,8),St(n,t+Jt(n)+1,e))};Ie.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=uo(r,!0):(ti(t,0,fl),e===void 0?e=i.rounding:ti(e,0,8),r=St(new i(r),t+1,e),n=uo(r,!0,t+1)),n};Ie.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?uo(i):(ti(t,0,fl),e===void 0?e=a.rounding:ti(e,0,8),r=St(new a(i),t+Jt(i)+1,e),n=uo(r.abs(),!1,t+Jt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return St(new e(t),Jt(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,n,r,i,a,o,l=this,c=l.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(ir);if(l=new c(l),!l.s){if(t.s<1)throw Error(wr+"Infinity");return l}if(l.eq(ir))return l;if(r=c.precision,t.eq(ir))return St(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=l.s,o){if((n=h<0?-h:h)<=g2){for(i=new c(ir),e=Math.ceil(r/Rt+4),$t=!1;n%2&&(i=i.times(l),gP(i.d,e)),n=hl(n/2),n!==0;)l=l.times(l),gP(l.d,e);return $t=!0,t.s<0?new c(ir).div(i):St(i,r)}}else if(a<0)throw Error(wr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,$t=!1,i=t.times(zu(l,r+d)),$t=!0,i=y2(i),i.s=a,i};Ie.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Jt(i),r=uo(i,n<=a.toExpNeg||n>=a.toExpPos)):(ti(t,1,fl),e===void 0?e=a.rounding:ti(e,0,8),i=St(new a(i),t,e),n=Jt(i),r=uo(i,t<=n||n<=a.toExpNeg,t)),r};Ie.toSignificantDigits=Ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ti(t,1,fl),e===void 0?e=r.rounding:ti(e,0,8)),St(new r(n),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Jt(t),n=t.constructor;return uo(t,e<=n.toExpNeg||e>=n.toExpPos)};function v2(t,e){var n,r,i,a,o,l,c,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),$t?St(e,f):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=d.length):(r=d,i=o,l=c.length),o=Math.ceil(f/Rt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/cn|0,c[a]%=cn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,$t?St(e,f):e}function ti(t,e,n){if(t!==~~t||t<e||t>n)throw Error(io+t)}function Yr(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Rt-r.length,n&&(a+=oa(n)),a+=r;o=t[e],r=o+"",n=Rt-r.length,n&&(a+=oa(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ti=function(){function t(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%cn|0,o=a/cn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*cn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,d,h,f,v,_,b,S,w,A,I,k,O,E,P,N,D,$=r.constructor,F=r.s==i.s?1:-1,L=r.d,z=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(wr+"Division by zero");for(c=r.e-i.e,N=z.length,E=L.length,_=new $(F),b=_.d=[],d=0;z[d]==(L[d]||0);)++d;if(z[d]>(L[d]||0)&&--c,a==null?I=a=$.precision:o?I=a+(Jt(r)-Jt(i))+1:I=a,I<0)return new $(0);if(I=I/Rt+2|0,d=0,N==1)for(h=0,z=z[0],I++;(d<E||h)&&I--;d++)k=h*cn+(L[d]||0),b[d]=k/z|0,h=k%z|0;else{for(h=cn/(z[0]+1)|0,h>1&&(z=t(z,h),L=t(L,h),N=z.length,E=L.length),O=N,S=L.slice(0,N),w=S.length;w<N;)S[w++]=0;D=z.slice(),D.unshift(0),P=z[0],z[1]>=cn/2&&++P;do h=0,l=e(z,S,N,w),l<0?(A=S[0],N!=w&&(A=A*cn+(S[1]||0)),h=A/P|0,h>1?(h>=cn&&(h=cn-1),f=t(z,h),v=f.length,w=S.length,l=e(f,S,v,w),l==1&&(h--,n(f,N<v?D:z,v))):(h==0&&(l=h=1),f=z.slice()),v=f.length,v<w&&f.unshift(0),n(S,f,w),l==-1&&(w=S.length,l=e(z,S,N,w),l<1&&(h++,n(S,N<w?D:z,w))),w=S.length):l===0&&(h++,S=[0]),b[d++]=h,l&&S[0]?S[w++]=L[O]||0:(S=[L[O]],w=1);while((O++<E||S[0]!==void 0)&&I--)}return b[0]||b.shift(),_.e=c,St(_,o?a+Jt(_)+1:a)}}();function y2(t,e){var n,r,i,a,o,l,c=0,d=0,h=t.constructor,f=h.precision;if(Jt(t)>16)throw Error(vw+Jt(t));if(!t.s)return new h(ir);for($t=!1,l=f,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(Ja(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new h(ir),h.precision=l;;){if(i=St(i.times(t),l),n=n.times(++c),o=a.plus(Ti(i,n,l)),Yr(o.d).slice(0,l)===Yr(a.d).slice(0,l)){for(;d--;)a=St(a.times(a),l);return h.precision=f,e==null?($t=!0,St(a,f)):a}a=o}}function Jt(t){for(var e=t.e*Rt,n=t.d[0];n>=10;n/=10)e++;return e}function q0(t,e,n){if(e>t.LN10.sd())throw $t=!0,n&&(t.precision=n),Error(wr+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function oa(t){for(var e="";t--;)e+="0";return e}function zu(t,e){var n,r,i,a,o,l,c,d,h,f=1,v=10,_=t,b=_.d,S=_.constructor,w=S.precision;if(_.s<1)throw Error(wr+(_.s?"NaN":"-Infinity"));if(_.eq(ir))return new S(0);if(e==null?($t=!1,d=w):d=e,_.eq(10))return e==null&&($t=!0),q0(S,d);if(d+=v,S.precision=d,n=Yr(b),r=n.charAt(0),a=Jt(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Yr(_.d),r=n.charAt(0),f++;a=Jt(_),r>1?(_=new S("0."+n),a++):_=new S(r+"."+n.slice(1))}else return c=q0(S,d+2,w).times(a+""),_=zu(new S(r+"."+n.slice(1)),d-v).plus(c),S.precision=w,e==null?($t=!0,St(_,w)):_;for(l=o=_=Ti(_.minus(ir),_.plus(ir),d),h=St(_.times(_),d),i=3;;){if(o=St(o.times(h),d),c=l.plus(Ti(o,new S(i),d)),Yr(c.d).slice(0,d)===Yr(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(q0(S,d+2,w).times(a+""))),l=Ti(l,new S(f),d),S.precision=w,e==null?($t=!0,St(l,w)):l;l=c,i+=2}}function mP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=hl(n/Rt),t.d=[],r=(n+1)%Rt,n<0&&(r+=Rt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Rt;r<i;)t.d.push(+e.slice(r,r+=Rt));e=e.slice(r),r=Rt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),$t&&(t.e>zf||t.e<-zf))throw Error(vw+n)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,n){var r,i,a,o,l,c,d,h,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Rt,i=e,d=f[h=0];else{if(h=Math.ceil((r+1)/Rt),a=f.length,h>=a)return t;for(d=a=f[h],o=1;a>=10;a/=10)o++;r%=Rt,i=r-Rt+o}if(n!==void 0&&(a=Ja(10,o-i-1),l=d/a%10|0,c=e<0||f[h+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/Ja(10,o-i):0:f[h-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(a=Jt(t),f.length=1,e=e-a-1,f[0]=Ja(10,(Rt-e%Rt)%Rt),t.e=hl(-e/Rt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=h,a=1,h--):(f.length=h+1,a=Ja(10,Rt-r),f[h]=i>0?(d/Ja(10,o-i)%Ja(10,i)|0)*a:0),c)for(;;)if(h==0){(f[0]+=a)==cn&&(f[0]=1,++t.e);break}else{if(f[h]+=a,f[h]!=cn)break;f[h--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if($t&&(t.e>zf||t.e<-zf))throw Error(vw+Jt(t));return t}function x2(t,e){var n,r,i,a,o,l,c,d,h,f,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),$t?St(e,_):e;if(c=t.d,f=e.d,r=e.e,d=t.e,c=c.slice(),o=d-r,o){for(h=o<0,h?(n=c,o=-o,l=f.length):(n=f,r=d,l=c.length),i=Math.max(Math.ceil(_/Rt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){h=c[i]<f[i];break}o=0}for(h&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=cn-1;--c[a],c[i]+=cn}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,$t?St(e,_):e):new v(0)}function uo(t,e,n){var r,i=Jt(t),a=Yr(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+oa(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+oa(-i-1)+a,n&&(r=n-o)>0&&(a+=oa(r))):i>=o?(a+=oa(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+oa(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=oa(r))),t.s<0?"-"+a:a}function gP(t,e){if(t.length>e)return t.length=e,!0}function _2(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(io+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return mP(o,a.toString())}else if(typeof a!="string")throw Error(io+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,S6.test(a))mP(o,a);else throw Error(io+a)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_2,i.config=i.set=C6,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function C6(t){if(!t||typeof t!="object")throw Error(wr+"Object expected");var e,n,r,i=["precision",1,fl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(hl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(io+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(io+n+": "+r);return this}var yw=_2(w6);ir=new yw(1);const _t=yw;function k6(t){return P6(t)||A6(t)||E6(t)||T6()}function T6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E6(t,e){if(t){if(typeof t=="string")return o_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(t,e)}}function A6(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function P6(t){if(Array.isArray(t))return o_(t)}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var I6=function(e){return e},b2={},w2=function(e){return e===b2},vP=function(e){return function n(){return arguments.length===0||arguments.length===1&&w2(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},O6=function t(e,n){return e===1?n:vP(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==b2}).length;return o>=e?n.apply(void 0,i):t(e-o,vP(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=i.map(function(f){return w2(f)?c.shift():f});return n.apply(void 0,k6(h).concat(c))}))})},Qh=function(e){return O6(e.length,e)},s_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},N6=Qh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),M6=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return I6;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},l_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},S2=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function D6(t){var e;return t===0?e=1:e=Math.floor(new _t(t).abs().log(10).toNumber())+1,e}function R6(t,e,n){for(var r=new _t(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var j6=Qh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),$6=Qh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),L6=Qh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ep={rangeStep:R6,getDigitCount:D6,interpolateNumber:j6,uninterpolateNumber:$6,uninterpolateTruncation:L6};function u_(t){return q6(t)||F6(t)||C2(t)||B6()}function B6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F6(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function q6(t){if(Array.isArray(t))return c_(t)}function Gu(t,e){return z6(t)||V6(t,e)||C2(t,e)||U6()}function U6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C2(t,e){if(t){if(typeof t=="string")return c_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(t,e)}}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V6(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function z6(t){if(Array.isArray(t))return t}function k2(t){var e=Gu(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function T2(t,e,n){if(t.lte(0))return new _t(0);var r=ep.getDigitCount(t.toNumber()),i=new _t(10).pow(r),a=t.div(i),o=r!==1?.05:.1,l=new _t(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new _t(Math.ceil(c))}function G6(t,e,n){var r=1,i=new _t(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new _t(10).pow(ep.getDigitCount(t)-1),i=new _t(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new _t(Math.floor(t)))}else t===0?i=new _t(Math.floor((e-1)/2)):n||(i=new _t(Math.floor(t)));var o=Math.floor((e-1)/2),l=M6(N6(function(c){return i.add(new _t(c-o).mul(r)).toNumber()}),s_);return l(0,e)}function E2(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var a=T2(new _t(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new _t(0):(o=new _t(t).add(e).div(2),o=o.sub(new _t(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new _t(e).sub(o).div(a).toNumber()),d=l+c+1;return d>n?E2(t,e,n,r,i+1):(d<n&&(c=e>0?c+(n-d):c,l=e>0?l:l+(n-d)),{step:a,tickMin:o.sub(new _t(l).mul(a)),tickMax:o.add(new _t(c).mul(a))})}function H6(t){var e=Gu(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=k2([n,r]),c=Gu(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0){var f=h===1/0?[d].concat(u_(s_(0,i-1).map(function(){return 1/0}))):[].concat(u_(s_(0,i-1).map(function(){return-1/0})),[h]);return n>r?l_(f):f}if(d===h)return G6(d,i,a);var v=E2(d,h,o,a),_=v.step,b=v.tickMin,S=v.tickMax,w=ep.rangeStep(b,S.add(new _t(.1).mul(_)),_);return n>r?l_(w):w}function W6(t,e){var n=Gu(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=k2([r,i]),l=Gu(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,i];if(c===d)return[c];var h=Math.max(e,2),f=T2(new _t(d).sub(c).div(h-1),a,0),v=[].concat(u_(ep.rangeStep(new _t(c),new _t(d).sub(new _t(.99).mul(f)),f)),[d]);return r>i?l_(v):v}var K6=S2(H6),Y6=S2(W6),J6="Invariant failed";function co(t,e){throw new Error(J6)}var X6=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(this,arguments)}function Z6(t,e){return n9(t)||t9(t,e)||e9(t,e)||Q6()}function Q6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9(t,e){if(t){if(typeof t=="string")return yP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yP(t,e)}}function yP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function n9(t){if(Array.isArray(t))return t}function r9(t,e){if(t==null)return{};var n=i9(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function a9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I2(r.key),r)}}function s9(t,e,n){return e&&o9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l9(t,e,n){return e=Hf(e),u9(t,A2()?Reflect.construct(e,n||[],Hf(t).constructor):e.apply(t,n))}function u9(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c9(t)}function c9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A2=function(){return!!t})()}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hf(t)}function d9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d_(t,e)}function P2(t,e,n){return e=I2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I2(t){var e=f9(t,"string");return Ls(e)=="symbol"?e:e+""}function f9(t,e){if(Ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tp=function(t){function e(){return a9(this,e),l9(this,e,arguments)}return d9(e,t),s9(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,h=r.xAxis,f=r.yAxis,v=r9(r,X6),_=He(v,!1);this.props.direction==="x"&&h.type!=="number"&&co();var b=c.map(function(S){var w=d(S,l),A=w.x,I=w.y,k=w.value,O=w.errorVal;if(!O)return null;var E=[],P,N;if(Array.isArray(O)){var D=Z6(O,2);P=D[0],N=D[1]}else P=N=O;if(a==="vertical"){var $=h.scale,F=I+i,L=F+o,z=F-o,W=$(k-P),V=$(k+N);E.push({x1:V,y1:L,x2:V,y2:z}),E.push({x1:W,y1:F,x2:V,y2:F}),E.push({x1:W,y1:L,x2:W,y2:z})}else if(a==="horizontal"){var B=f.scale,J=A+i,K=J-o,U=J+o,te=B(k-P),re=B(k+N);E.push({x1:K,y1:re,x2:U,y2:re}),E.push({x1:J,y1:te,x2:J,y2:re}),E.push({x1:K,y1:te,x2:U,y2:te})}return H.createElement(yt,Gf({className:"recharts-errorBar",key:"bar-".concat(E.map(function(j){return"".concat(j.x1,"-").concat(j.x2,"-").concat(j.y1,"-").concat(j.y2)}))},_),E.map(function(j){return H.createElement("line",Gf({},j,{key:"line-".concat(j.x1,"-").concat(j.x2,"-").concat(j.y1,"-").concat(j.y2)}))}))});return H.createElement(yt,{className:"recharts-errorBars"},b)}}])}(H.Component);P2(tp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});P2(tp,"displayName","ErrorBar");function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){h9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h9(t,e,n){return e=p9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p9(t){var e=m9(t,"string");return Hu(e)=="symbol"?e:e+""}function m9(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O2=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=rr(n,da);if(!o)return null;var l=da.defaultProps,c=l!==void 0?za(za({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(r||[]).reduce(function(h,f){var v=f.item,_=f.props,b=_.sectors||_.data||[];return h.concat(b.map(function(S){return{type:o.props.iconType||v.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):d=(r||[]).map(function(h){var f=h.item,v=f.type.defaultProps,_=v!==void 0?za(za({},v),f.props):{},b=_.dataKey,S=_.name,w=_.legendType,A=_.hide;return{inactive:A,dataKey:b,type:c.iconType||w||"square",color:xw(f),value:S||b,payload:_}}),za(za(za({},c),da.getWithHeight(o,i)),{},{payload:d,item:o})};function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function _P(t){return x9(t)||y9(t)||v9(t)||g9()}function g9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v9(t,e){if(t){if(typeof t=="string")return f_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(t,e)}}function y9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x9(t){if(Array.isArray(t))return f_(t)}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){Ts(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ts(t,e,n){return e=_9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _9(t){var e=b9(t,"string");return Wu(e)=="symbol"?e:e+""}function b9(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cn(t,e,n){return at(t)||at(e)?n:tn(e)?ar(t,e,n):Ye(e)?e(t):n}function ku(t,e,n,r){var i=x6(t,function(l){return Cn(l,e)});if(n==="number"){var a=i.filter(function(l){return we(l)||parseFloat(l)});return a.length?[Xh(a),Jh(a)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!at(l)}):i;return o.map(function(l){return tn(l)||l instanceof Date?l:""})}var w9=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var h=d>0?i[d-1].coordinate:i[l-1].coordinate,f=i[d].coordinate,v=d>=l-1?i[0].coordinate:i[d+1].coordinate,_=void 0;if(Nn(f-h)!==Nn(v-f)){var b=[];if(Nn(v-f)===Nn(c[1]-c[0])){_=v;var S=f+c[1]-c[0];b[0]=Math.min(S,(S+h)/2),b[1]=Math.max(S,(S+h)/2)}else{_=h;var w=v+c[1]-c[0];b[0]=Math.min(f,(w+f)/2),b[1]=Math.max(f,(w+f)/2)}var A=[Math.min(f,(_+f)/2),Math.max(f,(_+f)/2)];if(e>A[0]&&e<=A[1]||e>=b[0]&&e<=b[1]){o=i[d].index;break}}else{var I=Math.min(h,v),k=Math.max(h,v);if(e>(I+f)/2&&e<=(k+f)/2){o=i[d].index;break}}}else for(var O=0;O<l;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<l-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===l-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){o=r[O].index;break}return o},xw=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},S9=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var h=a[l[c]].stackGroups,f=Object.keys(h),v=0,_=f.length;v<_;v++){var b=h[f[v]],S=b.items,w=b.cateAxisId,A=S.filter(function(N){return ki(N.type).indexOf("Bar")>=0});if(A&&A.length){var I=A[0].type.defaultProps,k=I!==void 0?Vt(Vt({},I),A[0].props):A[0].props,O=k.barSize,E=k[w];o[E]||(o[E]=[]);var P=at(O)?n:O;o[E].push({item:A[0],stackList:A.slice(1),barSize:at(P)?void 0:Mn(P,r,0)})}}return o},C9=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=Mn(n,i,0,!0),h,f=[];if(o[0].barSize===+o[0].barSize){var v=!1,_=i/c,b=o.reduce(function(O,E){return O+E.barSize||0},0);b+=(c-1)*d,b>=i&&(b-=(c-1)*d,d=0),b>=i&&_>0&&(v=!0,_*=.9,b=c*_);var S=(i-b)/2>>0,w={offset:S-d,size:0};h=o.reduce(function(O,E){var P={item:E.item,position:{offset:w.offset+w.size+d,size:v?_:E.barSize}},N=[].concat(_P(O),[P]);return w=N[N.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(D){N.push({item:D,position:w})}),N},f)}else{var A=Mn(r,i,0,!0);i-2*A-(c-1)*d<=0&&(d=0);var I=(i-2*A-(c-1)*d)/c;I>1&&(I>>=0);var k=l===+l?Math.min(I,l):I;h=o.reduce(function(O,E,P){var N=[].concat(_P(O),[{item:E.item,position:{offset:A+(I+d)*P+(I-k)/2,size:k}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(D){N.push({item:D,position:N[N.length-1].position})}),N},f)}return h},k9=function(e,n,r,i){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),d=O2({children:a,legendWidth:c});if(d){var h=i||{},f=h.width,v=h.height,_=d.align,b=d.verticalAlign,S=d.layout;if((S==="vertical"||S==="horizontal"&&b==="middle")&&_!=="center"&&we(e[_]))return Vt(Vt({},e),{},Ts({},_,e[_]+(f||0)));if((S==="horizontal"||S==="vertical"&&_==="center")&&b!=="middle"&&we(e[b]))return Vt(Vt({},e),{},Ts({},b,e[b]+(v||0)))}return e},T9=function(e,n,r){return at(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},N2=function(e,n,r,i,a){var o=n.props.children,l=br(o,tp).filter(function(d){return T9(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,h){var f=Cn(h,r);if(at(f))return d;var v=Array.isArray(f)?[Xh(f),Jh(f)]:[f,f],_=c.reduce(function(b,S){var w=Cn(h,S,0),A=v[0]-Math.abs(Array.isArray(w)?w[0]:w),I=v[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(A,b[0]),Math.max(I,b[1])]},[1/0,-1/0]);return[Math.min(_[0],d[0]),Math.max(_[1],d[1])]},[1/0,-1/0])}return null},E9=function(e,n,r,i,a){var o=n.map(function(l){return N2(e,l,r,a,i)}).filter(function(l){return!at(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},M2=function(e,n,r,i,a){var o=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&N2(e,c,d,i)||ku(e,d,r,a)});if(r==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var h=0,f=d.length;h<f;h++)l[d[h]]||(l[d[h]]=!0,c.push(d[h]));return c},[])},D2=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},R2=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},Ci=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Nn(l[0]-l[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(f){var v=a?a.indexOf(f):f;return{coordinate:i(v)+d,value:f,offset:d}});return h.filter(function(f){return!yc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,v){return{coordinate:i(f)+d,value:f,index:v,offset:d}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+d,value:f,offset:d}}):i.domain().map(function(f,v){return{coordinate:i(f)+d,value:a?a[f]:f,index:v,offset:d}})},U0=new WeakMap,sf=function(e,n){if(typeof n!="function")return e;U0.has(e)||U0.set(e,new WeakMap);var r=U0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},j2=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Bu(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Ff(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Cu(),realScaleType:"point"}:a==="category"?{scale:Bu(),realScaleType:"band"}:{scale:Ff(),realScaleType:"linear"};if(oo(i)){var c="scale".concat(Rh(i));return{scale:(oP[c]||Cu)(),realScaleType:oP[c]?c:"point"}}return Ye(i)?{scale:i}:{scale:Cu(),realScaleType:"point"}},wP=1e-4,$2=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-wP,o=Math.max(i[0],i[1])+wP,l=e(n[0]),c=e(n[r-1]);(l<a||l>o||c<a||c>o)&&e.domain([n[0],n[r-1]])}},A9=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},P9=function(e,n){if(!n||n.length!==2||!we(n[0])||!we(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!we(e[0])||e[0]<r)&&(a[0]=r),(!we(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},I9=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,l=0;l<n;++l){var c=yc(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},O9=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var l=yc(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},N9={sign:I9,expand:xF,none:Is,silhouette:_F,wiggle:bF,positive:O9},M9=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=N9[r],o=yF().keys(i).value(function(l,c){return+Cn(l,c,0)}).order(Ux).offset(a);return o(e)},D9=function(e,n,r,i,a,o){if(!e)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(f,v){var _,b=(_=v.type)!==null&&_!==void 0&&_.defaultProps?Vt(Vt({},v.type.defaultProps),v.props):v.props,S=b.stackId,w=b.hide;if(w)return f;var A=b[r],I=f[A]||{hasStack:!1,stackGroups:{}};if(tn(S)){var k=I.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};k.items.push(v),I.hasStack=!0,I.stackGroups[S]=k}else I.stackGroups[xc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return Vt(Vt({},f),{},Ts({},A,I))},c),h={};return Object.keys(d).reduce(function(f,v){var _=d[v];if(_.hasStack){var b={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(S,w){var A=_.stackGroups[w];return Vt(Vt({},S),{},Ts({},w,{numericAxisId:r,cateAxisId:i,items:A.items,stackedData:M9(e,A.items,a)}))},b)}return Vt(Vt({},f),{},Ts({},v,_))},h)},L2=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var h=K6(d,a,l);return e.domain([Xh(h),Jh(h)]),{niceTicks:h}}if(a&&i==="number"){var f=e.domain(),v=Y6(f,a,l);return{niceTicks:v}}return null},SP=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Cn(o,n.dataKey,n.domain[l]);return at(c)?null:n.scale(c)-a/2+i},R9=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},j9=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(tn(a)){var o=n[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},$9=function(e){return e.reduce(function(n,r){return[Xh(r.concat([n[0]]).filter(we)),Jh(r.concat([n[1]]).filter(we))]},[1/0,-1/0])},B2=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(d,h){var f=$9(h.slice(n,r+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},CP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,h_=function(e,n,r){if(Ye(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(we(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(CP.test(e[0])){var a=+CP.exec(e[0])[1];i[0]=n[0]-a}else Ye(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(we(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(kP.test(e[1])){var o=+kP.exec(e[1])[1];i[1]=n[1]+o}else Ye(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Wf=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=Wb(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],h=a[l-1];o=Math.min((d.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},TP=function(e,n,r){return!e||!e.length||Zh(e,ar(r,"type.defaultProps.domain"))?n:e},F2=function(e,n){var r=e.type.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,h=r.hide;return Vt(Vt({},He(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:xw(e),value:Cn(n,i),type:c,payload:n,chartType:d,hide:h})};function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){q2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q2(t,e,n){return e=L9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L9(t){var e=B9(t,"string");return Ku(e)=="symbol"?e:e+""}function B9(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F9(t,e){return z9(t)||V9(t,e)||U9(t,e)||q9()}function q9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U9(t,e){if(t){if(typeof t=="string")return AP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AP(t,e)}}function AP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function z9(t){if(Array.isArray(t))return t}var Kf=Math.PI/180,G9=function(e){return e*180/Math.PI},Pt=function(e,n,r,i){return{x:e+Math.cos(-Kf*i)*r,y:n+Math.sin(-Kf*i)*r}},U2=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},H9=function(e,n,r,i,a){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,h=Mn(e.cx,o,o/2),f=Mn(e.cy,l,l/2),v=U2(o,l,r),_=Mn(e.innerRadius,v,0),b=Mn(e.outerRadius,v,v*.8),S=Object.keys(n);return S.reduce(function(w,A){var I=n[A],k=I.domain,O=I.reversed,E;if(at(I.range))i==="angleAxis"?E=[c,d]:i==="radiusAxis"&&(E=[_,b]),O&&(E=[E[1],E[0]]);else{E=I.range;var P=E,N=F9(P,2);c=N[0],d=N[1]}var D=j2(I,a),$=D.realScaleType,F=D.scale;F.domain(k).range(E),$2(F);var L=L2(F,bi(bi({},I),{},{realScaleType:$})),z=bi(bi(bi({},I),L),{},{range:E,radius:b,realScaleType:$,scale:F,cx:h,cy:f,innerRadius:_,outerRadius:b,startAngle:c,endAngle:d});return bi(bi({},w),{},q2({},A,z))},{})},W9=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},K9=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,l=W9({x:r,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:G9(d),angleInRadian:d}},Y9=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},J9=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},PP=function(e,n){var r=e.x,i=e.y,a=K9({x:r,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var h=Y9(n),f=h.startAngle,v=h.endAngle,_=l,b;if(f<=v){for(;_>v;)_-=360;for(;_<f;)_+=360;b=_>=f&&_<=v}else{for(;_>f;)_-=360;for(;_<v;)_+=360;b=_>=v&&_<=f}return b?bi(bi({},n),{},{radius:o,angle:J9(_,n)}):null},V2=function(e){return!R.isValidElement(e)&&!Ye(e)&&typeof e!="boolean"?e.className:""};function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}var X9=["offset"];function Z9(t){return nz(t)||tz(t)||ez(t)||Q9()}function Q9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ez(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function tz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nz(t){if(Array.isArray(t))return p_(t)}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rz(t,e){if(t==null)return{};var n=iz(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){az(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function az(t,e,n){return e=oz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oz(t){var e=sz(t,"string");return Yu(e)=="symbol"?e:e+""}function sz(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}var lz=function(e){var n=e.value,r=e.formatter,i=at(e.children)?n:e.children;return Ye(r)?r(i):i},uz=function(e,n){var r=Nn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},cz=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,d=c.cx,h=c.cy,f=c.innerRadius,v=c.outerRadius,_=c.startAngle,b=c.endAngle,S=c.clockWise,w=(f+v)/2,A=uz(_,b),I=A>=0?1:-1,k,O;i==="insideStart"?(k=_+I*o,O=S):i==="insideEnd"?(k=b-I*o,O=!S):i==="end"&&(k=b+I*o,O=S),O=A<=0?O:!O;var E=Pt(d,h,w,k),P=Pt(d,h,w,k+(O?1:-1)*359),N="M".concat(E.x,",").concat(E.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),D=at(e.id)?xc("recharts-radial-line-"):e.id;return H.createElement("text",Ju({},r,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",l)}),H.createElement("defs",null,H.createElement("path",{id:D,d:N})),H.createElement("textPath",{xlinkHref:"#".concat(D)},n))},dz=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,h=a.startAngle,f=a.endAngle,v=(h+f)/2;if(i==="outside"){var _=Pt(o,l,d+r,v),b=_.x,S=_.y;return{x:b,y:S,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(c+d)/2,A=Pt(o,l,w,v),I=A.x,k=A.y;return{x:I,y:k,textAnchor:"middle",verticalAnchor:"middle"}},fz=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,l=o.x,c=o.y,d=o.width,h=o.height,f=h>=0?1:-1,v=f*i,_=f>0?"end":"start",b=f>0?"start":"end",S=d>=0?1:-1,w=S*i,A=S>0?"end":"start",I=S>0?"start":"end";if(a==="top"){var k={x:l+d/2,y:c-f*i,textAnchor:"middle",verticalAnchor:_};return en(en({},k),r?{height:Math.max(c-r.y,0),width:d}:{})}if(a==="bottom"){var O={x:l+d/2,y:c+h+v,textAnchor:"middle",verticalAnchor:b};return en(en({},O),r?{height:Math.max(r.y+r.height-(c+h),0),width:d}:{})}if(a==="left"){var E={x:l-w,y:c+h/2,textAnchor:A,verticalAnchor:"middle"};return en(en({},E),r?{width:Math.max(E.x-r.x,0),height:h}:{})}if(a==="right"){var P={x:l+d+w,y:c+h/2,textAnchor:I,verticalAnchor:"middle"};return en(en({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:h}:{})}var N=r?{width:d,height:h}:{};return a==="insideLeft"?en({x:l+w,y:c+h/2,textAnchor:I,verticalAnchor:"middle"},N):a==="insideRight"?en({x:l+d-w,y:c+h/2,textAnchor:A,verticalAnchor:"middle"},N):a==="insideTop"?en({x:l+d/2,y:c+v,textAnchor:"middle",verticalAnchor:b},N):a==="insideBottom"?en({x:l+d/2,y:c+h-v,textAnchor:"middle",verticalAnchor:_},N):a==="insideTopLeft"?en({x:l+w,y:c+v,textAnchor:I,verticalAnchor:b},N):a==="insideTopRight"?en({x:l+d-w,y:c+v,textAnchor:A,verticalAnchor:b},N):a==="insideBottomLeft"?en({x:l+w,y:c+h-v,textAnchor:I,verticalAnchor:_},N):a==="insideBottomRight"?en({x:l+d-w,y:c+h-v,textAnchor:A,verticalAnchor:_},N):ll(a)&&(we(a.x)||Qa(a.x))&&(we(a.y)||Qa(a.y))?en({x:l+Mn(a.x,d),y:c+Mn(a.y,h),textAnchor:"end",verticalAnchor:"end"},N):en({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},N)},hz=function(e){return"cx"in e&&we(e.cx)};function dn(t){var e=t.offset,n=e===void 0?5:e,r=rz(t,X9),i=en({offset:n},r),a=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,h=i.className,f=h===void 0?"":h,v=i.textBreakAll;if(!a||at(l)&&at(c)&&!R.isValidElement(d)&&!Ye(d))return null;if(R.isValidElement(d))return R.cloneElement(d,i);var _;if(Ye(d)){if(_=R.createElement(d,i),R.isValidElement(_))return _}else _=lz(i);var b=hz(a),S=He(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return cz(i,_,S);var w=b?dz(i):fz(i);return H.createElement(lo,Ju({className:rt("recharts-label",f)},S,w,{breakAll:v}),_)}dn.displayName="Label";var z2=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,h=e.outerRadius,f=e.x,v=e.y,_=e.top,b=e.left,S=e.width,w=e.height,A=e.clockWise,I=e.labelViewBox;if(I)return I;if(we(S)&&we(w)){if(we(f)&&we(v))return{x:f,y:v,width:S,height:w};if(we(_)&&we(b))return{x:_,y:b,width:S,height:w}}return we(f)&&we(v)?{x:f,y:v,width:0,height:0}:we(n)&&we(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:h||c||l||0,clockWise:A}:e.viewBox?e.viewBox:{}},pz=function(e,n){return e?e===!0?H.createElement(dn,{key:"label-implicit",viewBox:n}):tn(e)?H.createElement(dn,{key:"label-implicit",viewBox:n,value:e}):R.isValidElement(e)?e.type===dn?R.cloneElement(e,{key:"label-implicit",viewBox:n}):H.createElement(dn,{key:"label-implicit",content:e,viewBox:n}):Ye(e)?H.createElement(dn,{key:"label-implicit",content:e,viewBox:n}):ll(e)?H.createElement(dn,Ju({viewBox:n},e,{key:"label-implicit"})):null:null},mz=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=z2(e),o=br(i,dn).map(function(c,d){return R.cloneElement(c,{viewBox:n||a,key:"label-".concat(d)})});if(!r)return o;var l=pz(e.label,n||a);return[l].concat(Z9(o))};dn.parseViewBox=z2;dn.renderCallByParent=mz;var V0,OP;function gz(){if(OP)return V0;OP=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return V0=t,V0}var vz=gz();const yz=ft(vz);function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}var xz=["valueAccessor"],_z=["data","dataKey","clockWise","id","textBreakAll"];function bz(t){return kz(t)||Cz(t)||Sz(t)||wz()}function wz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sz(t,e){if(t){if(typeof t=="string")return m_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m_(t,e)}}function Cz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kz(t){if(Array.isArray(t))return m_(t)}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yf(){return Yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yf.apply(this,arguments)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){Tz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tz(t,e,n){return e=Ez(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ez(t){var e=Az(t,"string");return Xu(e)=="symbol"?e:e+""}function Az(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DP(t,e){if(t==null)return{};var n=Pz(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Iz=function(e){return Array.isArray(e.value)?yz(e.value):e.value};function ha(t){var e=t.valueAccessor,n=e===void 0?Iz:e,r=DP(t,xz),i=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,d=DP(r,_z);return!i||!i.length?null:H.createElement(yt,{className:"recharts-label-list"},i.map(function(h,f){var v=at(a)?n(h,f):Cn(h&&h.payload,a),_=at(l)?{}:{id:"".concat(l,"-").concat(f)};return H.createElement(dn,Yf({},He(h,!0),d,_,{parentViewBox:h.parentViewBox,value:v,textBreakAll:c,viewBox:dn.parseViewBox(at(o)?h:MP(MP({},h),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ha.displayName="LabelList";function Oz(t,e){return t?t===!0?H.createElement(ha,{key:"labelList-implicit",data:e}):H.isValidElement(t)||Ye(t)?H.createElement(ha,{key:"labelList-implicit",data:e,content:t}):ll(t)?H.createElement(ha,Yf({data:e},t,{key:"labelList-implicit"})):null:null}function Nz(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=br(r,ha).map(function(o,l){return R.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=Oz(t.label,e);return[a].concat(bz(i))}ha.renderCallByParent=Nz;function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(this,arguments)}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){Mz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mz(t,e,n){return e=Dz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dz(t){var e=Rz(t,"string");return Zu(e)=="symbol"?e:e+""}function Rz(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jz=function(e,n){var r=Nn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},lf=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,h=c*(l?1:-1)+i,f=Math.asin(c/h)/Kf,v=d?a:a+o*f,_=Pt(n,r,h,v),b=Pt(n,r,i,v),S=d?a-o*f:a,w=Pt(n,r,h*Math.cos(f*Kf),S);return{center:_,circleTangency:b,lineTangency:w,theta:f}},G2=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=jz(o,l),d=o+c,h=Pt(n,r,a,o),f=Pt(n,r,a,d),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var _=Pt(n,r,i,o),b=Pt(n,r,i,d);v+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(_.x,",").concat(_.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},$z=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,h=e.endAngle,f=Nn(h-d),v=lf({cx:n,cy:r,radius:a,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),_=v.circleTangency,b=v.lineTangency,S=v.theta,w=lf({cx:n,cy:r,radius:a,angle:h,sign:-f,cornerRadius:o,cornerIsExternal:c}),A=w.circleTangency,I=w.lineTangency,k=w.theta,O=c?Math.abs(d-h):Math.abs(d-h)-S-k;if(O<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):G2({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h});var E="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
  `);if(i>0){var P=lf({cx:n,cy:r,radius:i,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=P.circleTangency,D=P.lineTangency,$=P.theta,F=lf({cx:n,cy:r,radius:i,angle:h,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=F.circleTangency,z=F.lineTangency,W=F.theta,V=c?Math.abs(d-h):Math.abs(d-h)-$-W;if(V<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(z.x,",").concat(z.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},Lz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},H2=function(e){var n=jP(jP({},Lz),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,h=n.startAngle,f=n.endAngle,v=n.className;if(o<a||h===f)return null;var _=rt("recharts-sector",v),b=o-a,S=Mn(l,b,0,!0),w;return S>0&&Math.abs(h-f)<360?w=$z({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(S,b/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:f}):w=G2({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:h,endAngle:f}),H.createElement("path",g_({},He(n,!0),{className:_,d:w,role:"img"}))};function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(this,arguments)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){Bz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bz(t,e,n){return e=Fz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fz(t){var e=qz(t,"string");return Qu(e)=="symbol"?e:e+""}function qz(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BP={curveBasisClosed:sF,curveBasisOpen:lF,curveBasis:oF,curveBumpX:H3,curveBumpY:W3,curveLinearClosed:uF,curveLinear:$h,curveMonotoneX:cF,curveMonotoneY:dF,curveNatural:fF,curveStep:hF,curveStepAfter:mF,curveStepBefore:pF},uf=function(e){return e.x===+e.x&&e.y===+e.y},uu=function(e){return e.x},cu=function(e){return e.y},Uz=function(e,n){if(Ye(e))return e;var r="curve".concat(Rh(e));return(r==="curveMonotone"||r==="curveBump")&&n?BP["".concat(r).concat(n==="vertical"?"Y":"X")]:BP[r]||$h},Vz=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,h=Uz(r,l),f=d?a.filter(function(S){return uf(S)}):a,v;if(Array.isArray(o)){var _=d?o.filter(function(S){return uf(S)}):o,b=f.map(function(S,w){return LP(LP({},S),{},{base:_[w]})});return l==="vertical"?v=Qd().y(cu).x1(uu).x0(function(S){return S.base.x}):v=Qd().x(uu).y1(cu).y0(function(S){return S.base.y}),v.defined(uf).curve(h),v(b)}return l==="vertical"&&we(o)?v=Qd().y(cu).x1(uu).x0(o):we(o)?v=Qd().x(uu).y1(cu).y0(o):v=VM().x(uu).y(cu),v.defined(uf).curve(h),v(f)},y_=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Vz(e):i;return H.createElement("path",v_({},He(e,!1),Sf(e),{className:rt("recharts-curve",n),d:o,ref:a}))},z0={exports:{}},G0,FP;function zz(){if(FP)return G0;FP=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return G0=t,G0}var H0,qP;function Gz(){if(qP)return H0;qP=1;var t=zz();function e(){}function n(){}return n.resetWarningCache=e,H0=function(){function r(o,l,c,d,h,f){if(f!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},H0}var UP;function Hz(){return UP||(UP=1,z0.exports=Gz()()),z0.exports}var Wz=Hz();const mt=ft(Wz);var Kz=Object.getOwnPropertyNames,Yz=Object.getOwnPropertySymbols,Jz=Object.prototype.hasOwnProperty;function VP(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function cf(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=t(n,r,i);return a.delete(n),a.delete(r),c}}function zP(t){return Kz(t).concat(Yz(t))}var Xz=Object.hasOwn||function(t,e){return Jz.call(t,e)};function _o(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Zz="__v",Qz="__o",e7="_owner",GP=Object.getOwnPropertyDescriptor,HP=Object.keys;function t7(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function n7(t,e){return _o(t.getTime(),e.getTime())}function r7(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function i7(t,e){return t===e}function WP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var d=e.entries(),h=!1,f=0;(l=d.next())&&!l.done;){if(i[f]){f++;continue}var v=o.value,_=l.value;if(n.equals(v[0],_[0],c,f,t,e,n)&&n.equals(v[1],_[1],v[0],_[0],t,e,n)){h=i[f]=!0;break}f++}if(!h)return!1;c++}return!0}var a7=_o;function o7(t,e,n){var r=HP(t),i=r.length;if(HP(e).length!==i)return!1;for(;i-- >0;)if(!W2(t,e,n,r[i]))return!1;return!0}function du(t,e,n){var r=zP(t),i=r.length;if(zP(e).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=r[i],!W2(t,e,n,a)||(o=GP(t,a),l=GP(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function s7(t,e){return _o(t.valueOf(),e.valueOf())}function l7(t,e){return t.source===e.source&&t.flags===e.flags}function KP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,l;(o=a.next())&&!o.done;){for(var c=e.values(),d=!1,h=0;(l=c.next())&&!l.done;){if(!i[h]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){d=i[h]=!0;break}h++}if(!d)return!1}return!0}function u7(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function c7(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function W2(t,e,n,r){return(r===e7||r===Qz||r===Zz)&&(t.$$typeof||e.$$typeof)?!0:Xz(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var d7="[object Arguments]",f7="[object Boolean]",h7="[object Date]",p7="[object Error]",m7="[object Map]",g7="[object Number]",v7="[object Object]",y7="[object RegExp]",x7="[object Set]",_7="[object String]",b7="[object URL]",w7=Array.isArray,YP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,JP=Object.assign,S7=Object.prototype.toString.call.bind(Object.prototype.toString);function C7(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,h=t.areSetsEqual,f=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(b,S,w){if(b===S)return!0;if(b==null||S==null)return!1;var A=typeof b;if(A!==typeof S)return!1;if(A!=="object")return A==="number"?o(b,S,w):A==="function"?i(b,S,w):!1;var I=b.constructor;if(I!==S.constructor)return!1;if(I===Object)return l(b,S,w);if(w7(b))return e(b,S,w);if(YP!=null&&YP(b))return f(b,S,w);if(I===Date)return n(b,S,w);if(I===RegExp)return d(b,S,w);if(I===Map)return a(b,S,w);if(I===Set)return h(b,S,w);var k=S7(b);return k===h7?n(b,S,w):k===y7?d(b,S,w):k===m7?a(b,S,w):k===x7?h(b,S,w):k===v7?typeof b.then!="function"&&typeof S.then!="function"&&l(b,S,w):k===b7?v(b,S,w):k===p7?r(b,S,w):k===d7?l(b,S,w):k===f7||k===g7||k===_7?c(b,S,w):!1}}function k7(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?du:t7,areDatesEqual:n7,areErrorsEqual:r7,areFunctionsEqual:i7,areMapsEqual:r?VP(WP,du):WP,areNumbersEqual:a7,areObjectsEqual:r?du:o7,arePrimitiveWrappersEqual:s7,areRegExpsEqual:l7,areSetsEqual:r?VP(KP,du):KP,areTypedArraysEqual:r?du:u7,areUrlsEqual:c7};if(n&&(i=JP({},i,n(i))),e){var a=cf(i.areArraysEqual),o=cf(i.areMapsEqual),l=cf(i.areObjectsEqual),c=cf(i.areSetsEqual);i=JP({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function T7(t){return function(e,n,r,i,a,o,l){return t(e,n,l)}}function E7(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(c,d){var h=r(),f=h.cache,v=f===void 0?e?new WeakMap:void 0:f,_=h.meta;return n(c,d,{cache:v,equals:i,meta:_,strict:a})};if(e)return function(c,d){return n(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,d){return n(c,d,o)}}var A7=_a();_a({strict:!0});_a({circular:!0});_a({circular:!0,strict:!0});_a({createInternalComparator:function(){return _o}});_a({strict:!0,createInternalComparator:function(){return _o}});_a({circular:!0,createInternalComparator:function(){return _o}});_a({circular:!0,createInternalComparator:function(){return _o},strict:!0});function _a(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,l=k7(t),c=C7(l),d=r?r(c):T7(c);return E7({circular:n,comparator:c,createState:i,equals:d,strict:o})}function P7(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function XP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):P7(i)};requestAnimationFrame(r)}function x_(t){"@babel/helpers - typeof";return x_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x_(t)}function I7(t){return D7(t)||M7(t)||N7(t)||O7()}function O7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N7(t,e){if(t){if(typeof t=="string")return ZP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZP(t,e)}}function ZP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D7(t){if(Array.isArray(t))return t}function R7(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=I7(o),c=l[0],d=l.slice(1);if(typeof c=="number"){XP(i.bind(null,d),c);return}i(c),XP(i.bind(null,d));return}x_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){K2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K2(t,e,n){return e=j7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j7(t){var e=$7(t,"string");return ec(e)==="symbol"?e:String(e)}function $7(t,e){if(ec(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ec(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L7=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},B7=function(e){return e},F7=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Tu=function(e,n){return Object.keys(n).reduce(function(r,i){return eI(eI({},r),{},K2({},i,e(i,n[i])))},{})},tI=function(e,n,r){return e.map(function(i){return"".concat(F7(i)," ").concat(n,"ms ").concat(r)}).join(",")};function q7(t,e){return z7(t)||V7(t,e)||Y2(t,e)||U7()}function U7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function z7(t){if(Array.isArray(t))return t}function G7(t){return K7(t)||W7(t)||Y2(t)||H7()}function H7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y2(t,e){if(t){if(typeof t=="string")return __(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(t,e)}}function W7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K7(t){if(Array.isArray(t))return __(t)}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jf=1e-4,J2=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},X2=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},nI=function(e,n){return function(r){var i=J2(e,n);return X2(i,r)}},Y7=function(e,n){return function(r){var i=J2(e,n),a=[].concat(G7(i.map(function(o,l){return o*l}).slice(1)),[0]);return X2(a,r)}},rI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),h=q7(d,4);i=h[0],a=h[1],o=h[2],l=h[3]}}}var f=nI(i,o),v=nI(a,l),_=Y7(i,o),b=function(A){return A>1?1:A<0?0:A},S=function(A){for(var I=A>1?1:A,k=I,O=0;O<8;++O){var E=f(k)-I,P=_(k);if(Math.abs(E-I)<Jf||P<Jf)return v(k);k=b(k-E/P)}return v(k)};return S.isStepper=!1,S},J7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(h,f,v){var _=-(h-f)*r,b=v*a,S=v+(_-b)*l/1e3,w=v*l/1e3+h;return Math.abs(w-f)<Jf&&Math.abs(S)<Jf?[f,0]:[w,S]};return c.isStepper=!0,c.dt=l,c},X7=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rI(i);case"spring":return J7();default:if(i.split("(")[0]==="cubic-bezier")return rI(i)}return typeof i=="function"?i:null};function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function iI(t){return eG(t)||Q7(t)||Z2(t)||Z7()}function Z7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eG(t){if(Array.isArray(t))return w_(t)}function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){b_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b_(t,e,n){return e=tG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tG(t){var e=nG(t,"string");return tc(e)==="symbol"?e:String(e)}function nG(t,e){if(tc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rG(t,e){return oG(t)||aG(t,e)||Z2(t,e)||iG()}function iG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z2(t,e){if(t){if(typeof t=="string")return w_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w_(t,e)}}function w_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function oG(t){if(Array.isArray(t))return t}var Xf=function(e,n,r){return e+(n-e)*r},S_=function(e){var n=e.from,r=e.to;return n!==r},sG=function t(e,n,r){var i=Tu(function(a,o){if(S_(o)){var l=e(o.from,o.to,o.velocity),c=rG(l,2),d=c[0],h=c[1];return gn(gn({},o),{},{from:d,velocity:h})}return o},n);return r<1?Tu(function(a,o){return S_(o)?gn(gn({},o),{},{velocity:Xf(o.velocity,i[a].velocity,r),from:Xf(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const lG=function(t,e,n,r,i){var a=L7(t,e),o=a.reduce(function(w,A){return gn(gn({},w),{},b_({},A,[t[A],e[A]]))},{}),l=a.reduce(function(w,A){return gn(gn({},w),{},b_({},A,{from:t[A],velocity:0,to:e[A]}))},{}),c=-1,d,h,f=function(){return null},v=function(){return Tu(function(A,I){return I.from},l)},_=function(){return!Object.values(l).filter(S_).length},b=function(A){d||(d=A);var I=A-d,k=I/n.dt;l=sG(n,l,k),i(gn(gn(gn({},t),e),v())),d=A,_()||(c=requestAnimationFrame(f))},S=function(A){h||(h=A);var I=(A-h)/r,k=Tu(function(E,P){return Xf.apply(void 0,iI(P).concat([n(I)]))},o);if(i(gn(gn(gn({},t),e),k)),I<1)c=requestAnimationFrame(f);else{var O=Tu(function(E,P){return Xf.apply(void 0,iI(P).concat([n(1)]))},o);i(gn(gn(gn({},t),e),O))}};return f=n.isStepper?b:S,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}var uG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cG(t,e){if(t==null)return{};var n=dG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function W0(t){return mG(t)||pG(t)||hG(t)||fG()}function fG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hG(t,e){if(t){if(typeof t=="string")return C_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C_(t,e)}}function pG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mG(t){if(Array.isArray(t))return C_(t)}function C_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){vu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vu(t,e,n){return e=Q2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q2(r.key),r)}}function yG(t,e,n){return e&&vG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q2(t){var e=xG(t,"string");return Bs(e)==="symbol"?e:String(e)}function xG(t,e){if(Bs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _G(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(t,e)}function bG(t){var e=wG();return function(){var r=Zf(t),i;if(e){var a=Zf(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return T_(this,i)}}function T_(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E_(t)}function E_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zf(t){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zf(t)}var Ii=function(t){_G(n,t);var e=bG(n);function n(r,i){var a;gG(this,n),a=e.call(this,r,i);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,h=o.to,f=o.steps,v=o.children,_=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(E_(a)),a.changeStyle=a.changeStyle.bind(E_(a)),!l||_<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:h}),T_(a);if(f&&f.length)a.state={style:f[0].style};else if(d){if(typeof v=="function")return a.state={style:d},T_(a);a.state={style:c?vu({},c,d):d}}else a.state={style:{}};return a}return yG(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,h=a.to,f=a.from,v=this.state.style;if(l){if(!o){var _={style:c?vu({},c,h):h};this.state&&v&&(c&&v[c]!==h||!c&&v!==h)&&this.setState(_);return}if(!(A7(i.to,h)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=b||d?f:i.to;if(this.state&&v){var w={style:c?vu({},c,S):S};(c&&v[c]!==S||!c&&v!==S)&&this.setState(w)}this.runAnimation(Or(Or({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,d=i.easing,h=i.begin,f=i.onAnimationEnd,v=i.onAnimationStart,_=lG(o,l,X7(d),c,this.changeStyle),b=function(){a.stopJSAnimation=_()};this.manager.start([v,h,b,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],h=d.style,f=d.duration,v=f===void 0?0:f,_=function(S,w,A){if(A===0)return S;var I=w.duration,k=w.easing,O=k===void 0?"ease":k,E=w.style,P=w.properties,N=w.onAnimationEnd,D=A>0?o[A-1]:w,$=P||Object.keys(E);if(typeof O=="function"||O==="spring")return[].concat(W0(S),[a.runJSAnimation.bind(a,{from:D.style,to:E,duration:I,easing:O}),I]);var F=tI($,I,O),L=Or(Or(Or({},D.style),E),{},{transition:F});return[].concat(W0(S),[L,I,N]).filter(B7)};return this.manager.start([c].concat(W0(o.reduce(_,[h,Math.max(v,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=R7());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,h=i.onAnimationStart,f=i.onAnimationEnd,v=i.steps,_=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof d=="function"||typeof _=="function"||d==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var S=l?vu({},l,c):c,w=tI(Object.keys(S),o,d);b.start([h,a,Or(Or({},S),{},{transition:w}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=cG(i,uG),d=R.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!l||d===0||o<=0)return a;var f=function(_){var b=_.props,S=b.style,w=S===void 0?{}:S,A=b.className,I=R.cloneElement(_,Or(Or({},c),{},{style:Or(Or({},w),h),className:A}));return I};return d===1?f(R.Children.only(a)):H.createElement("div",null,R.Children.map(a,function(v){return f(v)}))}}]),n}(R.PureComponent);Ii.displayName="Animate";Ii.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ii.propTypes={from:mt.oneOfType([mt.object,mt.string]),to:mt.oneOfType([mt.object,mt.string]),attributeName:mt.string,duration:mt.number,begin:mt.number,easing:mt.oneOfType([mt.string,mt.func]),steps:mt.arrayOf(mt.shape({duration:mt.number.isRequired,style:mt.object.isRequired,easing:mt.oneOfType([mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mt.func]),properties:mt.arrayOf("string"),onAnimationEnd:mt.func})),children:mt.oneOfType([mt.node,mt.func]),isActive:mt.bool,canBegin:mt.bool,onAnimationEnd:mt.func,shouldReAnimate:mt.bool,onAnimationStart:mt.func,onAnimationReStart:mt.func};function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qf.apply(this,arguments)}function SG(t,e){return EG(t)||TG(t,e)||kG(t,e)||CG()}function CG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kG(t,e){if(t){if(typeof t=="string")return sI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sI(t,e)}}function sI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function EG(t){if(Array.isArray(t))return t}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){AG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AG(t,e,n){return e=PG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PG(t){var e=IG(t,"string");return nc(e)=="symbol"?e:e+""}function IG(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cI=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,h;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],v=0,_=4;v<_;v++)f[v]=a[v]>o?o:a[v];h="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(e+c*f[0],",").concat(n)),h+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+l*f[1])),h+="L ".concat(e+r,",").concat(n+i-l*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),h+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+i-l*f[3])),h+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);h="M ".concat(e,",").concat(n+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+c*b,",").concat(n,`
            L `).concat(e+r-c*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+r,",").concat(n+l*b,`
            L `).concat(e+r,",").concat(n+i-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+r-c*b,",").concat(n+i,`
            L `).concat(e+c*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e,",").concat(n+i-l*b," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},OG=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),h=Math.max(a,a+l),f=Math.min(o,o+c),v=Math.max(o,o+c);return r>=d&&r<=h&&i>=f&&i<=v}return!1},NG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_w=function(e){var n=uI(uI({},NG),e),r=R.useRef(),i=R.useState(-1),a=SG(i,2),o=a[0],l=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&l(O)}catch{}},[]);var c=n.x,d=n.y,h=n.width,f=n.height,v=n.radius,_=n.className,b=n.animationEasing,S=n.animationDuration,w=n.animationBegin,A=n.isAnimationActive,I=n.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||f!==+f||h===0||f===0)return null;var k=rt("recharts-rectangle",_);return I?H.createElement(Ii,{canBegin:o>0,from:{width:h,height:f,x:c,y:d},to:{width:h,height:f,x:c,y:d},duration:S,animationEasing:b,isActive:I},function(O){var E=O.width,P=O.height,N=O.x,D=O.y;return H.createElement(Ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,isActive:A,easing:b},H.createElement("path",Qf({},He(n,!0),{className:k,d:cI(N,D,E,P,v),ref:r})))}):H.createElement("path",Qf({},He(n,!0),{className:k,d:cI(c,d,h,f,v)}))},MG=["points","className","baseLinePoints","connectNulls"];function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(this,arguments)}function DG(t,e){if(t==null)return{};var n=RG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dI(t){return BG(t)||LG(t)||$G(t)||jG()}function jG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $G(t,e){if(t){if(typeof t=="string")return A_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A_(t,e)}}function LG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BG(t){if(Array.isArray(t))return A_(t)}function A_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fI=function(e){return e&&e.x===+e.x&&e.y===+e.y},FG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){fI(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),fI(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Eu=function(e,n){var r=FG(e);n&&(r=[r.reduce(function(a,o){return[].concat(dI(a),dI(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},qG=function(e,n,r){var i=Eu(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Eu(n.reverse(),r).slice(1))},UG=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=DG(e,MG);if(!n||!n.length)return null;var l=rt("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=qG(n,i,a);return H.createElement("g",{className:l},H.createElement("path",ys({},He(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?H.createElement("path",ys({},He(o,!0),{fill:"none",d:Eu(n,a)})):null,c?H.createElement("path",ys({},He(o,!0),{fill:"none",d:Eu(i,a)})):null)}var h=Eu(n,a);return H.createElement("path",ys({},He(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",className:l,d:h}))};function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}var bw=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=rt("recharts-dot",a);return n===+n&&r===+r&&i===+i?H.createElement("circle",P_({},He(e,!1),Sf(e),{className:o,cx:n,cy:r,r:i})):null};function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}var VG=["x","y","top","left","width","height","className"];function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(r){GG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GG(t,e,n){return e=HG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HG(t){var e=WG(t,"string");return rc(e)=="symbol"?e:e+""}function WG(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KG(t,e){if(t==null)return{};var n=YG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var JG=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},XG=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,h=e.width,f=h===void 0?0:h,v=e.height,_=v===void 0?0:v,b=e.className,S=KG(e,VG),w=zG({x:r,y:a,top:l,left:d,width:f,height:_},S);return!we(r)||!we(a)||!we(f)||!we(_)||!we(l)||!we(d)?null:H.createElement("path",I_({},He(w,!0),{className:rt("recharts-cross",b),d:JG(r,a,f,_,l,d)}))},K0,pI;function ZG(){if(pI)return K0;pI=1;var t=Yh(),e=p2(),n=ii();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return K0=r,K0}var QG=ZG();const eH=ft(QG);var Y0,mI;function tH(){if(mI)return Y0;mI=1;var t=Yh(),e=ii(),n=m2();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return Y0=r,Y0}var nH=tH();const rH=ft(nH);var iH=["cx","cy","angle","ticks","axisLine"],aH=["ticks","tick","angle","tickFormatter","stroke"];function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(this,arguments)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){np(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vI(t,e){if(t==null)return{};var n=oH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tR(r.key),r)}}function lH(t,e,n){return e&&yI(t.prototype,e),n&&yI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uH(t,e,n){return e=eh(e),cH(t,eR()?Reflect.construct(e,n||[],eh(t).constructor):e.apply(t,n))}function cH(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dH(t)}function dH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eR=function(){return!!t})()}function eh(t){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eh(t)}function fH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function np(t,e,n){return e=tR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tR(t){var e=hH(t,"string");return Fs(e)=="symbol"?e:e+""}function hH(t,e){if(Fs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rp=function(t){function e(){return sH(this,e),uH(this,e,arguments)}return fH(e,t),lH(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Pt(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=eH(l,function(h){return h.coordinate||0}),d=rH(l,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,d=vI(r,iH),h=l.reduce(function(b,S){return[Math.min(b[0],S.coordinate),Math.max(b[1],S.coordinate)]},[1/0,-1/0]),f=Pt(i,a,h[0],o),v=Pt(i,a,h[1],o),_=Ga(Ga(Ga({},He(d,!1)),{},{fill:"none"},He(c,!1)),{},{x1:f.x,y1:f.y,x2:v.x,y2:v.y});return H.createElement("line",Au({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,h=vI(i,aH),f=this.getTickTextAnchor(),v=He(h,!1),_=He(o,!1),b=a.map(function(S,w){var A=r.getTickValueCoord(S),I=Ga(Ga(Ga(Ga({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(A.x,", ").concat(A.y,")")},v),{},{stroke:"none",fill:d},_),{},{index:w},A),{},{payload:S});return H.createElement(yt,Au({className:rt("recharts-polar-radius-axis-tick",V2(o)),key:"tick-".concat(S.coordinate)},so(r.props,S,w)),e.renderTickItem(o,I,c?c(S.value,w):S.value))});return H.createElement(yt,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:H.createElement(yt,{className:rt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),dn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return H.isValidElement(r)?o=H.cloneElement(r,i):Ye(r)?o=r(i):o=H.createElement(lo,Au({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(R.PureComponent);np(rp,"displayName","PolarRadiusAxis");np(rp,"axisType","radiusAxis");np(rp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(this,arguments)}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){ip(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rR(r.key),r)}}function mH(t,e,n){return e&&_I(t.prototype,e),n&&_I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gH(t,e,n){return e=th(e),vH(t,nR()?Reflect.construct(e,n||[],th(t).constructor):e.apply(t,n))}function vH(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yH(t)}function yH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nR=function(){return!!t})()}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},th(t)}function xH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function ip(t,e,n){return e=rR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rR(t){var e=_H(t,"string");return qs(e)=="symbol"?e:e+""}function _H(t,e){if(qs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bH=Math.PI/180,bI=1e-5,ap=function(t){function e(){return pH(this,e),gH(this,e,arguments)}return xH(e,t),mH(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,h=d||8,f=Pt(a,o,l,r.coordinate),v=Pt(a,o,l+(c==="inner"?-1:1)*h,r.coordinate);return{x1:f.x,y1:f.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*bH),o;return a>bI?o=i==="outer"?"start":"end":a<-bI?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,d=Ha(Ha({},He(this.props,!1)),{},{fill:"none"},He(l,!1));if(c==="circle")return H.createElement(bw,Za({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:o}));var h=this.props.ticks,f=h.map(function(v){return Pt(i,a,o,v.coordinate)});return H.createElement(UG,Za({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,h=He(this.props,!1),f=He(o,!1),v=Ha(Ha({},h),{},{fill:"none"},He(l,!1)),_=a.map(function(b,S){var w=r.getTickLineCoord(b),A=r.getTickTextAnchor(b),I=Ha(Ha(Ha({textAnchor:A},h),{},{stroke:"none",fill:d},f),{},{index:S,payload:b,x:w.x2,y:w.y2});return H.createElement(yt,Za({className:rt("recharts-polar-angle-axis-tick",V2(o)),key:"tick-".concat(b.coordinate)},so(r.props,b,S)),l&&H.createElement("line",Za({className:"recharts-polar-angle-axis-tick-line"},v,w)),o&&e.renderTickItem(o,I,c?c(b.value,S):b.value))});return H.createElement(yt,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:H.createElement(yt,{className:rt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return H.isValidElement(r)?o=H.cloneElement(r,i):Ye(r)?o=r(i):o=H.createElement(lo,Za({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(R.PureComponent);ip(ap,"displayName","PolarAngleAxis");ip(ap,"axisType","angleAxis");ip(ap,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var J0,wI;function wH(){if(wI)return J0;wI=1;var t=fD(),e=t(Object.getPrototypeOf,Object);return J0=e,J0}var X0,SI;function SH(){if(SI)return X0;SI=1;var t=Ni(),e=wH(),n=Mi(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,c=o.call(Object);function d(h){if(!n(h)||t(h)!=r)return!1;var f=e(h);if(f===null)return!0;var v=l.call(f,"constructor")&&f.constructor;return typeof v=="function"&&v instanceof v&&o.call(v)==c}return X0=d,X0}var CH=SH();const kH=ft(CH);var Z0,CI;function TH(){if(CI)return Z0;CI=1;var t=Ni(),e=Mi(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return Z0=r,Z0}var EH=TH();const AH=ft(EH);function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}function PH(t,e){return MH(t)||NH(t,e)||OH(t,e)||IH()}function IH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OH(t,e){if(t){if(typeof t=="string")return kI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kI(t,e)}}function kI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function MH(t){if(Array.isArray(t))return t}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){DH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DH(t,e,n){return e=RH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RH(t){var e=jH(t,"string");return ic(e)=="symbol"?e:e+""}function jH(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AI=function(e,n,r,i,a){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+a),l+="L ".concat(e+r-o/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},$H={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LH=function(e){var n=EI(EI({},$H),e),r=R.useRef(),i=R.useState(-1),a=PH(i,2),o=a[0],l=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&l(k)}catch{}},[]);var c=n.x,d=n.y,h=n.upperWidth,f=n.lowerWidth,v=n.height,_=n.className,b=n.animationEasing,S=n.animationDuration,w=n.animationBegin,A=n.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||f!==+f||v!==+v||h===0&&f===0||v===0)return null;var I=rt("recharts-trapezoid",_);return A?H.createElement(Ii,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:d},to:{upperWidth:h,lowerWidth:f,height:v,x:c,y:d},duration:S,animationEasing:b,isActive:A},function(k){var O=k.upperWidth,E=k.lowerWidth,P=k.height,N=k.x,D=k.y;return H.createElement(Ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,easing:b},H.createElement("path",nh({},He(n,!0),{className:I,d:AI(N,D,O,E,P),ref:r})))}):H.createElement("g",null,H.createElement("path",nh({},He(n,!0),{className:I,d:AI(c,d,h,f,v)})))},BH=["option","shapeType","propTransformer","activeClassName","isActive"];function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function FH(t,e){if(t==null)return{};var n=qH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){UH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UH(t,e,n){return e=VH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VH(t){var e=zH(t,"string");return ac(e)=="symbol"?e:e+""}function zH(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GH(t,e){return rh(rh({},e),t)}function HH(t,e){return t==="symbols"}function II(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return H.createElement(_w,n);case"trapezoid":return H.createElement(LH,n);case"sector":return H.createElement(H2,n);case"symbols":if(HH(e))return H.createElement(Bb,n);break;default:return null}}function WH(t){return R.isValidElement(t)?t.props:t}function iR(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?GH:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=FH(t,BH),d;if(R.isValidElement(e))d=R.cloneElement(e,rh(rh({},c),WH(e)));else if(Ye(e))d=e(c);else if(kH(e)&&!AH(e)){var h=i(e,c);d=H.createElement(II,{shapeType:n,elementProps:h})}else{var f=c;d=H.createElement(II,{shapeType:n,elementProps:f})}return l?H.createElement(yt,{className:o},d):d}function op(t,e){return e!=null&&"trapezoids"in t.props}function sp(t,e){return e!=null&&"sectors"in t.props}function oc(t,e){return e!=null&&"points"in t.props}function KH(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function YH(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function JH(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function XH(t,e){var n;return op(t,e)?n=KH:sp(t,e)?n=YH:oc(t,e)&&(n=JH),n}function ZH(t,e){var n;return op(t,e)?n="trapezoids":sp(t,e)?n="sectors":oc(t,e)&&(n="points"),n}function QH(t,e){if(op(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(sp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return oc(t,e)?e.payload:{}}function eW(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ZH(n,e),a=QH(n,e),o=r.filter(function(c,d){var h=Zh(a,c),f=n.props[i].filter(function(b){var S=XH(n,e);return S(b,e)}),v=n.props[i].indexOf(f[f.length-1]),_=d===v;return h&&_}),l=r.indexOf(o[o.length-1]);return l}var gf;function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xs.apply(this,arguments)}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oR(r.key),r)}}function nW(t,e,n){return e&&NI(t.prototype,e),n&&NI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rW(t,e,n){return e=ih(e),iW(t,aR()?Reflect.construct(e,n||[],ih(t).constructor):e.apply(t,n))}function iW(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aW(t)}function aW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aR=function(){return!!t})()}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ih(t)}function oW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function xr(t,e,n){return e=oR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oR(t){var e=sW(t,"string");return Us(e)=="symbol"?e:e+""}function sW(t,e){if(Us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ri=function(t){function e(n){var r;return tW(this,e),r=rW(this,e,[n]),xr(r,"pieRef",null),xr(r,"sectorRefs",[]),xr(r,"id",xc("recharts-pie-")),xr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ye(i)&&i()}),xr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ye(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return oW(e,t),nW(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,h=He(this.props,!1),f=He(o,!1),v=He(l,!1),_=o&&o.offsetRadius||20,b=r.map(function(S,w){var A=(S.startAngle+S.endAngle)/2,I=Pt(S.cx,S.cy,S.outerRadius+_,A),k=Et(Et(Et(Et({},h),S),{},{stroke:"none"},f),{},{index:w,textAnchor:e.getTextAnchor(I.x,S.cx)},I),O=Et(Et(Et(Et({},h),S),{},{fill:"none",stroke:S.fill},v),{},{index:w,points:[Pt(S.cx,S.cy,S.outerRadius,A),I]}),E=c;return at(c)&&at(d)?E="value":at(c)&&(E=d),H.createElement(yt,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(w)},l&&e.renderLabelLineItem(l,O,"line"),e.renderLabelItem(o,k,Cn(S,E)))});return H.createElement(yt,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(d,h){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(h),v=c&&i.hasActiveIndex()?c:null,_=f?o:v,b=Et(Et({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return H.createElement(yt,xs({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},so(i.props,d,h),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(h)}),H.createElement(iR,xs({option:_,isActive:f,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,h=i.animationId,f=this.state,v=f.prevSectors,_=f.prevIsAnimationActive;return H.createElement(Ii,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var S=b.t,w=[],A=a&&a[0],I=A.startAngle;return a.forEach(function(k,O){var E=v&&v[O],P=O>0?ar(k,"paddingAngle",0):0;if(E){var N=aa(E.endAngle-E.startAngle,k.endAngle-k.startAngle),D=Et(Et({},k),{},{startAngle:I+P,endAngle:I+N(S)+P});w.push(D),I=D.endAngle}else{var $=k.endAngle,F=k.startAngle,L=aa(0,$-F),z=L(S),W=Et(Et({},k),{},{startAngle:I+P,endAngle:I+z+P});w.push(W),I=W.endAngle}}),H.createElement(yt,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Zh(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,d=i.cx,h=i.cy,f=i.innerRadius,v=i.outerRadius,_=i.isAnimationActive,b=this.state.isAnimationFinished;if(a||!o||!o.length||!we(d)||!we(h)||!we(f)||!we(v))return null;var S=rt("recharts-pie",l);return H.createElement(yt,{tabIndex:this.props.rootTabIndex,className:S,ref:function(A){r.pieRef=A}},this.renderSectors(),c&&this.renderLabels(o),dn.renderCallByParent(this.props,null,!1),(!_||b)&&ha.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(H.isValidElement(r))return H.cloneElement(r,i);if(Ye(r))return r(i);var o=rt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return H.createElement(y_,xs({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(H.isValidElement(r))return H.cloneElement(r,i);var o=a;if(Ye(r)&&(o=r(i),H.isValidElement(o)))return o;var l=rt("recharts-pie-label-text",typeof r!="boolean"&&!Ye(r)?r.className:"");return H.createElement(lo,xs({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(R.PureComponent);gf=Ri;xr(Ri,"displayName","Pie");xr(Ri,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!cl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});xr(Ri,"parseDeltaAngle",function(t,e){var n=Nn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});xr(Ri,"getRealPieData",function(t){var e=t.data,n=t.children,r=He(t,!1),i=br(n,Uh);return e&&e.length?e.map(function(a,o){return Et(Et(Et({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Et(Et({},r),a.props)}):[]});xr(Ri,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=U2(i,a),l=r+Mn(t.cx,i,i/2),c=n+Mn(t.cy,a,a/2),d=Mn(t.innerRadius,o,0),h=Mn(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:h,maxRadius:f}});xr(Ri,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Et(Et({},e.type.defaultProps),e.props):e.props,i=gf.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,d=r.dataKey,h=r.nameKey,f=r.valueKey,v=r.tooltipType,_=Math.abs(r.minAngle),b=gf.parseCoordinateOfPie(r,n),S=gf.parseDeltaAngle(o,l),w=Math.abs(S),A=d;at(d)&&at(f)?(Lr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):at(d)&&(Lr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=f);var I=i.filter(function(D){return Cn(D,A,0)!==0}).length,k=(w>=360?I:I-1)*c,O=w-I*_-k,E=i.reduce(function(D,$){var F=Cn($,A,0);return D+(we(F)?F:0)},0),P;if(E>0){var N;P=i.map(function(D,$){var F=Cn(D,A,0),L=Cn(D,h,$),z=(we(F)?F:0)/E,W;$?W=N.endAngle+Nn(S)*c*(F!==0?1:0):W=o;var V=W+Nn(S)*((F!==0?_:0)+z*O),B=(W+V)/2,J=(b.innerRadius+b.outerRadius)/2,K=[{name:L,value:F,payload:D,dataKey:A,type:v}],U=Pt(b.cx,b.cy,J,B);return N=Et(Et(Et({percent:z,cornerRadius:a,name:L,tooltipPayload:K,midAngle:B,middleRadius:J,tooltipPosition:U},D),b),{},{value:Cn(D,A),startAngle:W,endAngle:V,payload:D,paddingAngle:Nn(S)*c}),N})}return Et(Et({},b),{},{sectors:P,data:i})});var Q0,MI;function lW(){if(MI)return Q0;MI=1;var t=Math.ceil,e=Math.max;function n(r,i,a,o){for(var l=-1,c=e(t((i-r)/(a||1)),0),d=Array(c);c--;)d[o?c:++l]=r,r+=a;return d}return Q0=n,Q0}var ex,DI;function sR(){if(DI)return ex;DI=1;var t=AD(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return ex=r,ex}var tx,RI;function uW(){if(RI)return tx;RI=1;var t=lW(),e=qh(),n=sR();function r(i){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),l=l===void 0?a<o?1:-1:n(l),t(a,o,l,i)}}return tx=r,tx}var nx,jI;function cW(){if(jI)return nx;jI=1;var t=uW(),e=t();return nx=e,nx}var dW=cW();const ah=ft(dW);function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){lR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lR(t,e,n){return e=fW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fW(t){var e=hW(t,"string");return sc(e)=="symbol"?e:e+""}function hW(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pW=["Webkit","Moz","O","ms"],mW=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=pW.reduce(function(a,o){return LI(LI({},a),{},lR({},o+r,n))},{});return i[e]=n,i};function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function oh(){return oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oh.apply(this,arguments)}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cR(r.key),r)}}function vW(t,e,n){return e&&FI(t.prototype,e),n&&FI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yW(t,e,n){return e=sh(e),xW(t,uR()?Reflect.construct(e,n||[],sh(t).constructor):e.apply(t,n))}function xW(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _W(t)}function _W(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uR=function(){return!!t})()}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sh(t)}function bW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function nr(t,e,n){return e=cR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cR(t){var e=wW(t,"string");return Vs(e)=="symbol"?e:e+""}function wW(t,e){if(Vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SW=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=Cu().domain(ah(0,c)).range([a,a+o-l]),h=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:h}},qI=function(e){return e.changedTouches&&!!e.changedTouches.length},zs=function(t){function e(n){var r;return gW(this,e),r=yW(this,e,[n]),nr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),nr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),nr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),nr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),nr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),nr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),nr(r,"handleSlideDragStart",function(i){var a=qI(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return bW(e,t),vW(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,h=d.length-1,f=Math.min(i,a),v=Math.max(i,a),_=e.getIndexInRange(o,f),b=e.getIndexInRange(o,v);return{startIndex:_-_%c,endIndex:b===h?h:b-b%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Cn(a[r],l,r);return Ye(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,h=c.width,f=c.travellerWidth,v=c.startIndex,_=c.endIndex,b=c.onChange,S=r.pageX-a;S>0?S=Math.min(S,d+h-f-l,d+h-f-o):S<0&&(S=Math.max(S,d-o,d-l));var w=this.getIndex({startX:o+S,endX:l+S});(w.startIndex!==v||w.endIndex!==_)&&b&&b(w),this.setState({startX:o+S,endX:l+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=qI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],h=this.props,f=h.x,v=h.width,_=h.travellerWidth,b=h.onChange,S=h.gap,w=h.data,A={startX:this.state.startX,endX:this.state.endX},I=r.pageX-a;I>0?I=Math.min(I,f+v-_-d):I<0&&(I=Math.max(I,f-d)),A[o]=d+I;var k=this.getIndex(A),O=k.startIndex,E=k.endIndex,P=function(){var D=w.length-1;return o==="startX"&&(l>c?O%S===0:E%S===0)||l<c&&E===D||o==="endX"&&(l>c?E%S===0:O%S===0)||l>c&&E===D};this.setState(nr(nr({},o,d+I),"brushMoveStartX",r.pageX),function(){b&&P()&&b(k)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,h=this.state[i],f=l.indexOf(h);if(f!==-1){var v=f+r;if(!(v===-1||v>=l.length)){var _=l[v];i==="startX"&&_>=d||i==="endX"&&_<=c||this.setState(nr({},i,_),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,d=r.stroke;return H.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.data,d=r.children,h=r.padding,f=R.Children.only(d);return f?H.cloneElement(f,{x:i,y:a,width:o,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,l=this,c=this.props,d=c.y,h=c.travellerWidth,f=c.height,v=c.traveller,_=c.ariaLabel,b=c.data,S=c.startIndex,w=c.endIndex,A=Math.max(r,this.props.x),I=rx(rx({},He(this.props,!1)),{},{x:A,y:d,width:h,height:f}),k=_||"Min value: ".concat((a=b[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=b[w])===null||o===void 0?void 0:o.name);return H.createElement(yt,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,I))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,h=Math.min(r,i)+d,f=Math.max(Math.abs(i-r)-d,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,h=this.state,f=h.startX,v=h.endX,_=5,b={pointerEvents:"none",fill:d};return H.createElement(yt,{className:"recharts-brush-texts"},H.createElement(lo,oh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,v)-_,y:o+l/2},b),this.getTextOfTick(i)),H.createElement(lo,oh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,v)+c+_,y:o+l/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,l=r.x,c=r.y,d=r.width,h=r.height,f=r.alwaysShowText,v=this.state,_=v.startX,b=v.endX,S=v.isTextActive,w=v.isSlideMoving,A=v.isTravellerMoving,I=v.isTravellerFocused;if(!i||!i.length||!we(l)||!we(c)||!we(d)||!we(h)||d<=0||h<=0)return null;var k=rt("recharts-brush",a),O=H.Children.count(o)===1,E=mW("userSelect","none");return H.createElement(yt,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(_,b),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(b,"endX"),(S||w||A||I||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,d=Math.floor(a+l/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),H.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return H.isValidElement(r)?a=H.cloneElement(r,i):Ye(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,h=r.startIndex,f=r.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return rx({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?SW({data:a,width:o,x:l,travellerWidth:c,startIndex:h,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var v=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}(R.PureComponent);nr(zs,"displayName","Brush");nr(zs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ix,UI;function CW(){if(UI)return ix;UI=1;var t=Hb();function e(n,r){var i;return t(n,function(a,o,l){return i=r(a,o,l),!i}),!!i}return ix=e,ix}var ax,VI;function kW(){if(VI)return ax;VI=1;var t=aD(),e=ii(),n=CW(),r=Kn(),i=qh();function a(o,l,c){var d=r(o)?t:n;return c&&i(o,l,c)&&(l=void 0),d(o,e(l,3))}return ax=a,ax}var TW=kW();const EW=ft(TW);var Qr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},ox,zI;function AW(){if(zI)return ox;zI=1;var t=SD();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return ox=e,ox}var sx,GI;function PW(){if(GI)return sx;GI=1;var t=AW(),e=bD(),n=ii();function r(i,a){var o={};return a=n(a,3),e(i,function(l,c,d){t(o,c,a(l,c,d))}),o}return sx=r,sx}var IW=PW();const OW=ft(IW);var lx,HI;function NW(){if(HI)return lx;HI=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return lx=t,lx}var ux,WI;function MW(){if(WI)return ux;WI=1;var t=Hb();function e(n,r){var i=!0;return t(n,function(a,o,l){return i=!!r(a,o,l),i}),i}return ux=e,ux}var cx,KI;function DW(){if(KI)return cx;KI=1;var t=NW(),e=MW(),n=ii(),r=Kn(),i=qh();function a(o,l,c){var d=r(o)?t:e;return c&&i(o,l,c)&&(l=void 0),d(o,n(l,3))}return cx=a,cx}var RW=DW();const dR=ft(RW);var jW=["x","y"];function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){$W(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $W(t,e,n){return e=LW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LW(t){var e=BW(t,"string");return lc(e)=="symbol"?e:e+""}function BW(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FW(t,e){if(t==null)return{};var n=qW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UW(t,e){var n=t.x,r=t.y,i=FW(t,jW),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),d="".concat(e.height||i.height),h=parseInt(d,10),f="".concat(e.width||i.width),v=parseInt(f,10);return fu(fu(fu(fu(fu({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function JI(t){return H.createElement(iR,R_({shapeType:"rectangle",propTransformer:UW,activeClassName:"recharts-active-bar"},t))}var VW=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||co(),n)}},zW=["value","background"],fR;function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function GW(t,e){if(t==null)return{};var n=HW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){ca(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pR(r.key),r)}}function KW(t,e,n){return e&&ZI(t.prototype,e),n&&ZI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YW(t,e,n){return e=uh(e),JW(t,hR()?Reflect.construct(e,n||[],uh(t).constructor):e.apply(t,n))}function JW(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XW(t)}function XW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hR=function(){return!!t})()}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uh(t)}function ZW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function ca(t,e,n){return e=pR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pR(t){var e=QW(t,"string");return Gs(e)=="symbol"?e:e+""}function QW(t,e){if(Gs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bo=function(t){function e(){var n;WW(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=YW(this,e,[].concat(i)),ca(n,"state",{isAnimationFinished:!1}),ca(n,"id",xc("recharts-bar-")),ca(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ca(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return ZW(e,t),KW(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,h=He(this.props,!1);return r&&r.map(function(f,v){var _=v===c,b=_?d:o,S=Kt(Kt(Kt({},h),f),{},{isActive:_,option:b,index:v,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(yt,lh({className:"recharts-bar-rectangle"},so(i.props,f,v),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(v)}),H.createElement(JI,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,h=i.animationEasing,f=i.animationId,v=this.state.prevData;return H.createElement(Ii,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var b=_.t,S=a.map(function(w,A){var I=v&&v[A];if(I){var k=aa(I.x,w.x),O=aa(I.y,w.y),E=aa(I.width,w.width),P=aa(I.height,w.height);return Kt(Kt({},w),{},{x:k(b),y:O(b),width:E(b),height:P(b)})}if(o==="horizontal"){var N=aa(0,w.height),D=N(b);return Kt(Kt({},w),{},{y:w.y+w.height-D,height:D})}var $=aa(0,w.width),F=$(b);return Kt(Kt({},w),{},{width:F})});return H.createElement(yt,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Zh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=He(this.props.background,!1);return a.map(function(d,h){d.value;var f=d.background,v=GW(d,zW);if(!f)return null;var _=Kt(Kt(Kt(Kt(Kt({},v),{},{fill:"#eee"},f),c),so(r.props,d,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return H.createElement(JI,lh({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,h=a.children,f=br(h,tp);if(!f)return null;var v=d==="vertical"?o[0].height/2:o[0].width/2,_=function(w,A){var I=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:I,errorVal:Cn(w,A)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(yt,b,f.map(function(S){return H.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:v,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,d=r.left,h=r.top,f=r.width,v=r.height,_=r.isAnimationActive,b=r.background,S=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,A=rt("recharts-bar",o),I=l&&l.allowDataOverflow,k=c&&c.allowDataOverflow,O=I||k,E=at(S)?this.id:S;return H.createElement(yt,{className:A},I||k?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(E)},H.createElement("rect",{x:I?d:d-f/2,y:k?h:h-v/2,width:I?f:f*2,height:k?v:v*2}))):null,H.createElement(yt,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(E,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,E),(!_||w)&&ha.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(R.PureComponent);fR=bo;ca(bo,"displayName","Bar");ca(bo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ca(bo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,h=t.dataStartIndex,f=t.displayedData,v=t.offset,_=A9(r,n);if(!_)return null;var b=e.layout,S=n.type.defaultProps,w=S!==void 0?Kt(Kt({},S),n.props):n.props,A=w.dataKey,I=w.children,k=w.minPointSize,O=b==="horizontal"?o:a,E=d?O.scale.domain():null,P=R9({numericAxis:O}),N=br(I,Uh),D=f.map(function($,F){var L,z,W,V,B,J;d?L=P9(d[h+F],E):(L=Cn($,A),Array.isArray(L)||(L=[P,L]));var K=VW(k,fR.defaultProps.minPointSize)(L[1],F);if(b==="horizontal"){var U,te=[o.scale(L[0]),o.scale(L[1])],re=te[0],j=te[1];z=SP({axis:a,ticks:l,bandSize:i,offset:_.offset,entry:$,index:F}),W=(U=j??re)!==null&&U!==void 0?U:void 0,V=_.size;var X=re-j;if(B=Number.isNaN(X)?0:X,J={x:z,y:o.y,width:V,height:o.height},Math.abs(K)>0&&Math.abs(B)<Math.abs(K)){var ue=Nn(B||K)*(Math.abs(K)-Math.abs(B));W-=ue,B+=ue}}else{var Se=[a.scale(L[0]),a.scale(L[1])],ce=Se[0],Ae=Se[1];if(z=ce,W=SP({axis:o,ticks:c,bandSize:i,offset:_.offset,entry:$,index:F}),V=Ae-ce,B=_.size,J={x:a.x,y:W,width:a.width,height:B},Math.abs(K)>0&&Math.abs(V)<Math.abs(K)){var ze=Nn(V||K)*(Math.abs(K)-Math.abs(V));V+=ze}}return Kt(Kt(Kt({},$),{},{x:z,y:W,width:V,height:B,value:d?L:L[1],payload:$,background:J},N&&N[F]&&N[F].props),{},{tooltipPayload:[F2(n,$)],tooltipPosition:{x:z+V/2,y:W+B/2}})});return Kt({data:D,layout:b},v)});function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function eK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mR(r.key),r)}}function tK(t,e,n){return e&&QI(t.prototype,e),n&&QI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){lp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lp(t,e,n){return e=mR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mR(t){var e=nK(t,"string");return uc(e)=="symbol"?e:e+""}function nK(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rK=function(e,n,r,i,a){var o=e.width,l=e.height,c=e.layout,d=e.children,h=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},v=!!rr(d,bo);return h.reduce(function(_,b){var S=n[b],w=S.orientation,A=S.domain,I=S.padding,k=I===void 0?{}:I,O=S.mirror,E=S.reversed,P="".concat(w).concat(O?"Mirror":""),N,D,$,F,L;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var z=A[1]-A[0],W=1/0,V=S.categoricalDomain.sort(v3);if(V.forEach(function(Se,ce){ce>0&&(W=Math.min((Se||0)-(V[ce-1]||0),W))}),Number.isFinite(W)){var B=W/z,J=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(N=B*J/2),S.padding==="no-gap"){var K=Mn(e.barCategoryGap,B*J),U=B*J/2;N=U-K-(U-K)/J*K}}}i==="xAxis"?D=[r.left+(k.left||0)+(N||0),r.left+r.width-(k.right||0)-(N||0)]:i==="yAxis"?D=c==="horizontal"?[r.top+r.height-(k.bottom||0),r.top+(k.top||0)]:[r.top+(k.top||0)+(N||0),r.top+r.height-(k.bottom||0)-(N||0)]:D=S.range,E&&(D=[D[1],D[0]]);var te=j2(S,a,v),re=te.scale,j=te.realScaleType;re.domain(A).range(D),$2(re);var X=L2(re,Rr(Rr({},S),{},{realScaleType:j}));i==="xAxis"?(L=w==="top"&&!O||w==="bottom"&&O,$=r.left,F=f[P]-L*S.height):i==="yAxis"&&(L=w==="left"&&!O||w==="right"&&O,$=f[P]-L*S.width,F=r.top);var ue=Rr(Rr(Rr({},S),X),{},{realScaleType:j,x:$,y:F,scale:re,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return ue.bandSize=Wf(ue,X),!S.hide&&i==="xAxis"?f[P]+=(L?-1:1)*ue.height:S.hide||(f[P]+=(L?-1:1)*ue.width),Rr(Rr({},_),{},lp({},b,ue))},{})},gR=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},iK=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return gR({x:n,y:r},{x:i,y:a})},vR=function(){function t(e){eK(this,t),this.scale=e}return tK(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();lp(vR,"EPS",1e-4);var ww=function(e){var n=Object.keys(e).reduce(function(r,i){return Rr(Rr({},r),{},lp({},i,vR.create(e[i])))},{});return Rr(Rr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return OW(i,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return dR(i,function(a,o){return n[o].isInRange(a)})}})};function aK(t){return(t%180+180)%180}var oK=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=aK(i),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},dx,tO;function sK(){if(tO)return dx;tO=1;var t=ii(),e=_c(),n=Bh();function r(i){return function(a,o,l){var c=Object(a);if(!e(a)){var d=t(o,3);a=n(a),o=function(f){return d(c[f],f,c)}}var h=i(a,o,l);return h>-1?c[d?a[h]:h]:void 0}}return dx=r,dx}var fx,nO;function lK(){if(nO)return fx;nO=1;var t=sR();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return fx=e,fx}var hx,rO;function uK(){if(rO)return hx;rO=1;var t=gD(),e=ii(),n=lK(),r=Math.max;function i(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var d=l==null?0:n(l);return d<0&&(d=r(c+d,0)),t(a,e(o,3),d)}return hx=i,hx}var px,iO;function cK(){if(iO)return px;iO=1;var t=sK(),e=uK(),n=t(e);return px=n,px}var dK=cK();const fK=ft(dK);var hK=NM();const pK=ft(hK);var mK=pK(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Sw=R.createContext(void 0),Cw=R.createContext(void 0),yR=R.createContext(void 0),xR=R.createContext({}),_R=R.createContext(void 0),bR=R.createContext(0),wR=R.createContext(0),aO=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,h=mK(a);return H.createElement(Sw.Provider,{value:r},H.createElement(Cw.Provider,{value:i},H.createElement(xR.Provider,{value:a},H.createElement(yR.Provider,{value:h},H.createElement(_R.Provider,{value:o},H.createElement(bR.Provider,{value:d},H.createElement(wR.Provider,{value:c},l)))))))},gK=function(){return R.useContext(_R)},SR=function(e){var n=R.useContext(Sw);n==null&&co();var r=n[e];return r==null&&co(),r},vK=function(){var e=R.useContext(Sw);return ua(e)},yK=function(){var e=R.useContext(Cw),n=fK(e,function(r){return dR(r.domain,Number.isFinite)});return n||ua(e)},CR=function(e){var n=R.useContext(Cw);n==null&&co();var r=n[e];return r==null&&co(),r},xK=function(){var e=R.useContext(yR);return e},_K=function(){return R.useContext(xR)},kw=function(){return R.useContext(wR)},Tw=function(){return R.useContext(bR)};function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function bK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TR(r.key),r)}}function SK(t,e,n){return e&&wK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CK(t,e,n){return e=ch(e),kK(t,kR()?Reflect.construct(e,n||[],ch(t).constructor):e.apply(t,n))}function kK(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TK(t)}function TK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kR=function(){return!!t})()}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ch(t)}function EK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){Ew(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ew(t,e,n){return e=TR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TR(t){var e=AK(t,"string");return Hs(e)=="symbol"?e:e+""}function AK(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PK(t,e){return MK(t)||NK(t,e)||OK(t,e)||IK()}function IK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OK(t,e){if(t){if(typeof t=="string")return lO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lO(t,e)}}function lO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function MK(t){if(Array.isArray(t))return t}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}var DK=function(e,n){var r;return H.isValidElement(e)?r=H.cloneElement(e,n):Ye(e)?r=e(n):r=H.createElement("line",L_({},n,{className:"recharts-reference-line-line"})),r},RK=function(e,n,r,i,a,o,l,c,d){var h=a.x,f=a.y,v=a.width,_=a.height;if(r){var b=d.y,S=e.y.apply(b,{position:o});if(Qr(d,"discard")&&!e.y.isInRange(S))return null;var w=[{x:h+v,y:S},{x:h,y:S}];return c==="left"?w.reverse():w}if(n){var A=d.x,I=e.x.apply(A,{position:o});if(Qr(d,"discard")&&!e.x.isInRange(I))return null;var k=[{x:I,y:f+_},{x:I,y:f}];return l==="top"?k.reverse():k}if(i){var O=d.segment,E=O.map(function(P){return e.apply(P,{position:o})});return Qr(d,"discard")&&EW(E,function(P){return!e.isInRange(P)})?null:E}return null};function jK(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=gK(),h=SR(i),f=CR(a),v=xK();if(!d||!v)return null;Lr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=ww({x:h.scale,y:f.scale}),b=tn(e),S=tn(n),w=r&&r.length===2,A=RK(_,b,S,w,v,t.position,h.orientation,f.orientation,t);if(!A)return null;var I=PK(A,2),k=I[0],O=k.x,E=k.y,P=I[1],N=P.x,D=P.y,$=Qr(t,"hidden")?"url(#".concat(d,")"):void 0,F=sO(sO({clipPath:$},He(t,!0)),{},{x1:O,y1:E,x2:N,y2:D});return H.createElement(yt,{className:rt("recharts-reference-line",l)},DK(o,F),dn.renderCallByParent(t,iK({x1:O,y1:E,x2:N,y2:D})))}var Aw=function(t){function e(){return bK(this,e),CK(this,e,arguments)}return EK(e,t),SK(e,[{key:"render",value:function(){return H.createElement(jK,this.props)}}])}(H.Component);Ew(Aw,"displayName","ReferenceLine");Ew(Aw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){up(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AR(r.key),r)}}function BK(t,e,n){return e&&LK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FK(t,e,n){return e=dh(e),qK(t,ER()?Reflect.construct(e,n||[],dh(t).constructor):e.apply(t,n))}function qK(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UK(t)}function UK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ER(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ER=function(){return!!t})()}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dh(t)}function VK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F_(t,e)}function up(t,e,n){return e=AR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AR(t){var e=zK(t,"string");return Ws(e)=="symbol"?e:e+""}function zK(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GK=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=ww({x:i.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Qr(e,"discard")&&!o.isInRange(l)?null:l},cp=function(t){function e(){return $K(this,e),FK(this,e,arguments)}return VK(e,t),BK(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,d=tn(i),h=tn(a);if(Lr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var f=GK(this.props);if(!f)return null;var v=f.x,_=f.y,b=this.props,S=b.shape,w=b.className,A=Qr(this.props,"hidden")?"url(#".concat(c,")"):void 0,I=cO(cO({clipPath:A},He(this.props,!0)),{},{cx:v,cy:_});return H.createElement(yt,{className:rt("recharts-reference-dot",w)},e.renderDot(S,I),dn.renderCallByParent(this.props,{x:v-o,y:_-o,width:2*o,height:2*o}))}}])}(H.Component);up(cp,"displayName","ReferenceDot");up(cp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});up(cp,"renderDot",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):Ye(t)?n=t(e):n=H.createElement(bw,B_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(this,arguments)}function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){dp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IR(r.key),r)}}function KK(t,e,n){return e&&WK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YK(t,e,n){return e=fh(e),JK(t,PR()?Reflect.construct(e,n||[],fh(t).constructor):e.apply(t,n))}function JK(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XK(t)}function XK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PR=function(){return!!t})()}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fh(t)}function ZK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U_(t,e)}function U_(t,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U_(t,e)}function dp(t,e,n){return e=IR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IR(t){var e=QK(t,"string");return Ks(e)=="symbol"?e:e+""}function QK(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eY=function(e,n,r,i,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,h=a.xAxis,f=a.yAxis;if(!h||!f)return null;var v=ww({x:h.scale,y:f.scale}),_={x:e?v.x.apply(o,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(c,{position:"start"}):v.y.rangeMin},b={x:n?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(d,{position:"end"}):v.y.rangeMax};return Qr(a,"discard")&&(!v.isInRange(_)||!v.isInRange(b))?null:gR(_,b)},fp=function(t){function e(){return HK(this,e),YK(this,e,arguments)}return ZK(e,t),KK(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,h=r.clipPathId;Lr(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=tn(i),v=tn(a),_=tn(o),b=tn(l),S=this.props.shape;if(!f&&!v&&!_&&!b&&!S)return null;var w=eY(f,v,_,b,this.props);if(!w&&!S)return null;var A=Qr(this.props,"hidden")?"url(#".concat(h,")"):void 0;return H.createElement(yt,{className:rt("recharts-reference-area",c)},e.renderRect(S,fO(fO({clipPath:A},He(this.props,!0)),w)),dn.renderCallByParent(this.props,w))}}])}(H.Component);dp(fp,"displayName","ReferenceArea");dp(fp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});dp(fp,"renderRect",function(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):Ye(t)?n=t(e):n=H.createElement(_w,q_({},e,{className:"recharts-reference-area-rect"})),n});function OR(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function tY(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return oK(r,n)}function nY(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function hh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function rY(t,e){return OR(t,e+1)}function iY(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,l=e.end,c=0,d=1,h=o,f=function(){var b=r==null?void 0:r[c];if(b===void 0)return{v:OR(r,d)};var S=c,w,A=function(){return w===void 0&&(w=n(b,S)),w},I=b.coordinate,k=c===0||hh(t,I,A,h,l);k||(c=0,h=o,d+=1),k&&(h=I+t*(A()/2+i),c+=d)},v;d<=a.length;)if(v=f(),v)return v.v;return[]}function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){aY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aY(t,e,n){return e=oY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oY(t){var e=sY(t,"string");return cc(e)=="symbol"?e:e+""}function sY(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lY(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end,d=function(v){var _=a[v],b,S=function(){return b===void 0&&(b=n(_,v)),b};if(v===o-1){var w=t*(_.coordinate+t*S()/2-c);a[v]=_=wn(wn({},_),{},{tickCoord:w>0?_.coordinate-w*t:_.coordinate})}else a[v]=_=wn(wn({},_),{},{tickCoord:_.coordinate});var A=hh(t,_.tickCoord,S,l,c);A&&(c=_.tickCoord-t*(S()/2+i),a[v]=wn(wn({},_),{},{isShow:!0}))},h=o-1;h>=0;h--)d(h);return a}function uY(t,e,n,r,i,a){var o=(r||[]).slice(),l=o.length,c=e.start,d=e.end;if(a){var h=r[l-1],f=n(h,l-1),v=t*(h.coordinate+t*f/2-d);o[l-1]=h=wn(wn({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var _=hh(t,h.tickCoord,function(){return f},c,d);_&&(d=h.tickCoord-t*(f/2+i),o[l-1]=wn(wn({},h),{},{isShow:!0}))}for(var b=a?l-1:l,S=function(I){var k=o[I],O,E=function(){return O===void 0&&(O=n(k,I)),O};if(I===0){var P=t*(k.coordinate-t*E()/2-c);o[I]=k=wn(wn({},k),{},{tickCoord:P<0?k.coordinate-P*t:k.coordinate})}else o[I]=k=wn(wn({},k),{},{tickCoord:k.coordinate});var N=hh(t,k.tickCoord,E,c,d);N&&(c=k.tickCoord+t*(E()/2+i),o[I]=wn(wn({},k),{},{isShow:!0}))},w=0;w<b;w++)S(w);return o}function Pw(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,h=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(we(c)||cl.isSsr)return rY(i,typeof c=="number"&&we(c)?c:0);var v=[],_=l==="top"||l==="bottom"?"width":"height",b=h&&_==="width"?Su(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(k,O){var E=Ye(d)?d(k.value,O):k.value;return _==="width"?tY(Su(E,{fontSize:e,letterSpacing:n}),b,f):Su(E,{fontSize:e,letterSpacing:n})[_]},w=i.length>=2?Nn(i[1].coordinate-i[0].coordinate):1,A=nY(a,w,_);return c==="equidistantPreserveStart"?iY(w,A,S,i,o):(c==="preserveStart"||c==="preserveStartEnd"?v=uY(w,A,S,i,o,c==="preserveStartEnd"):v=lY(w,A,S,i,o),v.filter(function(I){return I.isShow}))}var cY=["viewBox"],dY=["viewBox"],fY=["ticks"];function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function _s(){return _s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_s.apply(this,arguments)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){Iw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mx(t,e){if(t==null)return{};var n=hY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MR(r.key),r)}}function mY(t,e,n){return e&&mO(t.prototype,e),n&&mO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gY(t,e,n){return e=ph(e),vY(t,NR()?Reflect.construct(e,n||[],ph(t).constructor):e.apply(t,n))}function vY(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yY(t)}function yY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NR=function(){return!!t})()}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ph(t)}function xY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function Iw(t,e,n){return e=MR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MR(t){var e=_Y(t,"string");return Ys(e)=="symbol"?e:e+""}function _Y(t,e){if(Ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pl=function(t){function e(n){var r;return pY(this,e),r=gY(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return xY(e,t),mY(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=mx(r,cY),l=this.props,c=l.viewBox,d=mx(l,dY);return!Cs(a,c)||!Cs(o,d)||!Cs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,h=i.tickSize,f=i.mirror,v=i.tickMargin,_,b,S,w,A,I,k=f?-1:1,O=r.tickSize||h,E=we(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":_=b=r.coordinate,w=o+ +!f*c,S=w-k*O,I=S-k*v,A=E;break;case"left":S=w=r.coordinate,b=a+ +!f*l,_=b-k*O,A=_-k*v,I=E;break;case"right":S=w=r.coordinate,b=a+ +f*l,_=b+k*O,A=_+k*v,I=E;break;default:_=b=r.coordinate,w=o+ +f*c,S=w+k*O,I=S+k*v,A=E;break}return{line:{x1:_,y1:S,x2:b,y2:w},tick:{x:A,y:I}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,d=r.mirror,h=r.axisLine,f=In(In(In({},He(this.props,!1)),He(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!d||c==="bottom"&&d);f=In(In({},f),{},{x1:i,y1:a+v*l,x2:i+o,y2:a+v*l})}else{var _=+(c==="left"&&!d||c==="right"&&d);f=In(In({},f),{},{x1:i+_*o,y1:a,x2:i+_*o,y2:a+l})}return H.createElement("line",_s({},f,{className:rt("recharts-cartesian-axis-line",ar(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,h=l.tick,f=l.tickFormatter,v=l.unit,_=Pw(In(In({},this.props),{},{ticks:r}),i,a),b=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),w=He(this.props,!1),A=He(h,!1),I=In(In({},w),{},{fill:"none"},He(c,!1)),k=_.map(function(O,E){var P=o.getTickLineCoord(O),N=P.line,D=P.tick,$=In(In(In(In({textAnchor:b,verticalAnchor:S},w),{},{stroke:"none",fill:d},A),D),{},{index:E,payload:O,visibleTicksCount:_.length,tickFormatter:f});return H.createElement(yt,_s({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},so(o.props,O,E)),c&&H.createElement("line",_s({},I,N,{className:rt("recharts-cartesian-axis-tick-line",ar(c,"className"))})),h&&e.renderTickItem(h,$,"".concat(Ye(f)?f(O.value,E):O.value).concat(v||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,h=i.hide;if(h)return null;var f=this.props,v=f.ticks,_=mx(f,fY),b=v;return Ye(c)&&(b=v&&v.length>0?c(this.props):c(_)),o<=0||l<=0||!b||!b.length?null:H.createElement(yt,{className:rt("recharts-cartesian-axis",d),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),dn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return H.isValidElement(r)?o=H.cloneElement(r,i):Ye(r)?o=r(i):o=H.createElement(lo,_s({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(R.Component);Iw(pl,"displayName","CartesianAxis");Iw(pl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bY=["x1","y1","x2","y2","key"],wY=["offset"];function fo(t){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(t)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){SY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SY(t,e,n){return e=CY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CY(t){var e=kY(t,"string");return fo(e)=="symbol"?e:e+""}function kY(t,e){if(fo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},no.apply(this,arguments)}function vO(t,e){if(t==null)return{};var n=TY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EY=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return H.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function DR(t,e){var n;if(H.isValidElement(t))n=H.cloneElement(t,e);else if(Ye(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=vO(e,bY),d=He(c,!1);d.offset;var h=vO(d,wY);n=H.createElement("line",no({},h,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function AY(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=Sn(Sn({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return DR(i,d)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function PY(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=Sn(Sn({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return DR(i,d)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function IY(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var h=l.map(function(v){return Math.round(v+i-i)}).sort(function(v,_){return v-_});i!==h[0]&&h.unshift(0);var f=h.map(function(v,_){var b=!h[_+1],S=b?i+o-v:h[_+1]-v;if(S<=0)return null;var w=_%e.length;return H.createElement("rect",{key:"react-".concat(_),y:v,x:r,height:S,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function OY(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var h=d.map(function(v){return Math.round(v+a-a)}).sort(function(v,_){return v-_});a!==h[0]&&h.unshift(0);var f=h.map(function(v,_){var b=!h[_+1],S=b?a+l-v:h[_+1]-v;if(S<=0)return null;var w=_%r.length;return H.createElement("rect",{key:"react-".concat(_),x:v,y:o,width:S,height:c,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var NY=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return R2(Pw(Sn(Sn(Sn({},pl.defaultProps),r),{},{ticks:Ci(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},MY=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return R2(Pw(Sn(Sn(Sn({},pl.defaultProps),r),{},{ticks:Ci(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},hs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function RR(t){var e,n,r,i,a,o,l=kw(),c=Tw(),d=_K(),h=Sn(Sn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:hs.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:hs.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:hs.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:hs.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:hs.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:hs.verticalFill,x:we(t.x)?t.x:d.left,y:we(t.y)?t.y:d.top,width:we(t.width)?t.width:d.width,height:we(t.height)?t.height:d.height}),f=h.x,v=h.y,_=h.width,b=h.height,S=h.syncWithTicks,w=h.horizontalValues,A=h.verticalValues,I=vK(),k=yK();if(!we(_)||_<=0||!we(b)||b<=0||!we(f)||f!==+f||!we(v)||v!==+v)return null;var O=h.verticalCoordinatesGenerator||NY,E=h.horizontalCoordinatesGenerator||MY,P=h.horizontalPoints,N=h.verticalPoints;if((!P||!P.length)&&Ye(E)){var D=w&&w.length,$=E({yAxis:k?Sn(Sn({},k),{},{ticks:D?w:k.ticks}):void 0,width:l,height:c,offset:d},D?!0:S);Lr(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fo($),"]")),Array.isArray($)&&(P=$)}if((!N||!N.length)&&Ye(O)){var F=A&&A.length,L=O({xAxis:I?Sn(Sn({},I),{},{ticks:F?A:I.ticks}):void 0,width:l,height:c,offset:d},F?!0:S);Lr(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fo(L),"]")),Array.isArray(L)&&(N=L)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(EY,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),H.createElement(AY,no({},h,{offset:d,horizontalPoints:P,xAxis:I,yAxis:k})),H.createElement(PY,no({},h,{offset:d,verticalPoints:N,xAxis:I,yAxis:k})),H.createElement(IY,no({},h,{horizontalPoints:P})),H.createElement(OY,no({},h,{verticalPoints:N})))}RR.displayName="CartesianGrid";function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function DY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LR(r.key),r)}}function jY(t,e,n){return e&&RY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Y(t,e,n){return e=mh(e),LY(t,jR()?Reflect.construct(e,n||[],mh(t).constructor):e.apply(t,n))}function LY(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BY(t)}function BY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jR=function(){return!!t})()}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mh(t)}function FY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z_(t,e)}function $R(t,e,n){return e=LR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LR(t){var e=qY(t,"string");return Js(e)=="symbol"?e:e+""}function qY(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(this,arguments)}function UY(t){var e=t.xAxisId,n=kw(),r=Tw(),i=SR(e);return i==null?null:H.createElement(pl,G_({},i,{className:rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ci(o,!0)}}))}var hp=function(t){function e(){return DY(this,e),$Y(this,e,arguments)}return FY(e,t),jY(e,[{key:"render",value:function(){return H.createElement(UY,this.props)}}])}(H.Component);$R(hp,"displayName","XAxis");$R(hp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function VY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qR(r.key),r)}}function GY(t,e,n){return e&&zY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HY(t,e,n){return e=gh(e),WY(t,BR()?Reflect.construct(e,n||[],gh(t).constructor):e.apply(t,n))}function WY(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KY(t)}function KY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BR=function(){return!!t})()}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gh(t)}function YY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H_(t,e)}function FR(t,e,n){return e=qR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qR(t){var e=JY(t,"string");return Xs(e)=="symbol"?e:e+""}function JY(t,e){if(Xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}var XY=function(e){var n=e.yAxisId,r=kw(),i=Tw(),a=CR(n);return a==null?null:H.createElement(pl,W_({},a,{className:rt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Ci(l,!0)}}))},pp=function(t){function e(){return VY(this,e),HY(this,e,arguments)}return YY(e,t),GY(e,[{key:"render",value:function(){return H.createElement(XY,this.props)}}])}(H.Component);FR(pp,"displayName","YAxis");FR(pp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function yO(t){return tJ(t)||eJ(t)||QY(t)||ZY()}function ZY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QY(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(t,e)}}function eJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tJ(t){if(Array.isArray(t))return K_(t)}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y_=function(e,n,r,i,a){var o=br(e,Aw),l=br(e,cp),c=[].concat(yO(o),yO(l)),d=br(e,fp),h="".concat(i,"Id"),f=i[0],v=n;if(c.length&&(v=c.reduce(function(S,w){if(w.props[h]===r&&Qr(w.props,"extendDomain")&&we(w.props[f])){var A=w.props[f];return[Math.min(S[0],A),Math.max(S[1],A)]}return S},v)),d.length){var _="".concat(f,"1"),b="".concat(f,"2");v=d.reduce(function(S,w){if(w.props[h]===r&&Qr(w.props,"extendDomain")&&we(w.props[_])&&we(w.props[b])){var A=w.props[_],I=w.props[b];return[Math.min(S[0],A,I),Math.max(S[1],A,I)]}return S},v)}return a&&a.length&&(v=a.reduce(function(S,w){return we(w)?[Math.min(S[0],w),Math.max(S[1],w)]:S},v)),v},gx={exports:{}},xO;function nJ(){return xO||(xO=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,f,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,f||c,v),b=n?n+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],_]:c._events[b].push(_):(c._events[b]=_,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,f;if(this._eventsCount===0)return d;for(f in h=this._events)e.call(h,f)&&d.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=n?n+d:d,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var v=0,_=f.length,b=new Array(_);v<_;v++)b[v]=f[v].fn;return b},l.prototype.listenerCount=function(d){var h=n?n+d:d,f=this._events[h];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,h,f,v,_,b){var S=n?n+d:d;if(!this._events[S])return!1;var w=this._events[S],A=arguments.length,I,k;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,f),!0;case 4:return w.fn.call(w.context,h,f,v),!0;case 5:return w.fn.call(w.context,h,f,v,_),!0;case 6:return w.fn.call(w.context,h,f,v,_,b),!0}for(k=1,I=new Array(A-1);k<A;k++)I[k-1]=arguments[k];w.fn.apply(w.context,I)}else{var O=w.length,E;for(k=0;k<O;k++)switch(w[k].once&&this.removeListener(d,w[k].fn,void 0,!0),A){case 1:w[k].fn.call(w[k].context);break;case 2:w[k].fn.call(w[k].context,h);break;case 3:w[k].fn.call(w[k].context,h,f);break;case 4:w[k].fn.call(w[k].context,h,f,v);break;default:if(!I)for(E=1,I=new Array(A-1);E<A;E++)I[E-1]=arguments[E];w[k].fn.apply(w[k].context,I)}}return!0},l.prototype.on=function(d,h,f){return a(this,d,h,f,!1)},l.prototype.once=function(d,h,f){return a(this,d,h,f,!0)},l.prototype.removeListener=function(d,h,f,v){var _=n?n+d:d;if(!this._events[_])return this;if(!h)return o(this,_),this;var b=this._events[_];if(b.fn)b.fn===h&&(!v||b.once)&&(!f||b.context===f)&&o(this,_);else{for(var S=0,w=[],A=b.length;S<A;S++)(b[S].fn!==h||v&&!b[S].once||f&&b[S].context!==f)&&w.push(b[S]);w.length?this._events[_]=w.length===1?w[0]:w:o(this,_)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(gx)),gx.exports}var rJ=nJ();const iJ=ft(rJ);var vx=new iJ,yx="recharts.syncMouseEvents";function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function aJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UR(r.key),r)}}function sJ(t,e,n){return e&&oJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xx(t,e,n){return e=UR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UR(t){var e=lJ(t,"string");return dc(e)=="symbol"?e:e+""}function lJ(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uJ=function(){function t(){aJ(this,t),xx(this,"activeIndex",0),xx(this,"coordinateList",[]),xx(this,"layout","horizontal")}return sJ(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,h=n.offset,f=h===void 0?null:h,v=n.mouseHandlerCallback,_=v===void 0?null:v;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+d,v=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:f,pageY:v})}}}])}();function cJ(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&we(r)&&we(i))return!0}return!1}function dJ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function VR(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Pt(e,n,r,i),l=Pt(e,n,r,a);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function fJ(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,h=e.outerRadius,f=e.angle,v=Pt(l,c,d,f),_=Pt(l,c,h,f);r=v.x,i=v.y,a=_.x,o=_.y}else return VR(e);return[{x:r,y:i},{x:a,y:o}]}function fc(t){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(t)}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function df(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){hJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hJ(t,e,n){return e=pJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pJ(t){var e=mJ(t,"string");return fc(e)=="symbol"?e:e+""}function mJ(t,e){if(fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gJ(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,h=t.tooltipAxisBandSize,f=t.layout,v=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!a||!o||v!=="ScatterChart"&&i!=="axis")return null;var b,S=y_;if(v==="ScatterChart")b=o,S=XG;else if(v==="BarChart")b=dJ(f,o,c,h),S=_w;else if(f==="radial"){var w=VR(o),A=w.cx,I=w.cy,k=w.radius,O=w.startAngle,E=w.endAngle;b={cx:A,cy:I,startAngle:O,endAngle:E,innerRadius:k,outerRadius:k},S=H2}else b={points:fJ(f,o,c)},S=y_;var P=df(df(df(df({stroke:"#ccc",pointerEvents:"none"},c),b),He(_,!1)),{},{payload:l,payloadIndex:d,className:rt("recharts-tooltip-cursor",_.className)});return R.isValidElement(_)?R.cloneElement(_,P):R.createElement(S,P)}var vJ=["item"],yJ=["children","className","width","height","style","compact","title","desc"];function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function bs(){return bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bs.apply(this,arguments)}function bO(t,e){return bJ(t)||_J(t,e)||GR(t,e)||xJ()}function xJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _J(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function bJ(t){if(Array.isArray(t))return t}function wO(t,e){if(t==null)return{};var n=wJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HR(r.key),r)}}function kJ(t,e,n){return e&&CJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TJ(t,e,n){return e=vh(e),EJ(t,zR()?Reflect.construct(e,n||[],vh(t).constructor):e.apply(t,n))}function EJ(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AJ(t)}function AJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zR=function(){return!!t})()}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vh(t)}function PJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J_(t,e)}function Qs(t){return NJ(t)||OJ(t)||GR(t)||IJ()}function IJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GR(t,e){if(t){if(typeof t=="string")return X_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X_(t,e)}}function OJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NJ(t){if(Array.isArray(t))return X_(t)}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){Ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ue(t,e,n){return e=HR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HR(t){var e=MJ(t,"string");return Zs(e)=="symbol"?e:e+""}function MJ(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DJ={xAxis:["bottom","top"],yAxis:["left","right"]},RJ={width:"100%",height:"100%"},WR={x:0,y:0};function ff(t){return t}var jJ=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},$J=function(e,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return se(se(se({},i),Pt(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=i.angle;return se(se(se({},i),Pt(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return WR},mp=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Qs(l),Qs(d)):l},[]);return o.length>0?o:e&&e.length&&we(i)&&we(a)?e.slice(i,a+1):[]};function KR(t){return t==="number"?[0,"auto"]:void 0}var Z_=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,l=mp(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,d){var h,f=(h=d.props.data)!==null&&h!==void 0?h:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(o.dataKey&&!o.allowDuplicatedCategory){var _=f===void 0?l:f;v=Mx(_,o.dataKey,i)}else v=f&&f[r]||l[r];return v?[].concat(Qs(c),[F2(d,v)]):c},[])},CO=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=jJ(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,h=w9(o,l,d,c);if(h>=0&&d){var f=d[h]&&d[h].value,v=Z_(e,n,h,f),_=$J(r,l,h,a);return{activeTooltipIndex:h,activeLabel:f,activePayload:v,activeCoordinate:_}}return null},LJ=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.layout,f=e.children,v=e.stackOffset,_=D2(h,a);return r.reduce(function(b,S){var w,A=S.type.defaultProps!==void 0?se(se({},S.type.defaultProps),S.props):S.props,I=A.type,k=A.dataKey,O=A.allowDataOverflow,E=A.allowDuplicatedCategory,P=A.scale,N=A.ticks,D=A.includeHidden,$=A[o];if(b[$])return b;var F=mp(e.data,{graphicalItems:i.filter(function(X){var ue,Se=o in X.props?X.props[o]:(ue=X.type.defaultProps)===null||ue===void 0?void 0:ue[o];return Se===$}),dataStartIndex:c,dataEndIndex:d}),L=F.length,z,W,V;cJ(A.domain,O,I)&&(z=h_(A.domain,null,O),_&&(I==="number"||P!=="auto")&&(V=ku(F,k,"category")));var B=KR(I);if(!z||z.length===0){var J,K=(J=A.domain)!==null&&J!==void 0?J:B;if(k){if(z=ku(F,k,I),I==="category"&&_){var U=g3(z);E&&U?(W=z,z=ah(0,L)):E||(z=TP(K,z,S).reduce(function(X,ue){return X.indexOf(ue)>=0?X:[].concat(Qs(X),[ue])},[]))}else if(I==="category")E?z=z.filter(function(X){return X!==""&&!at(X)}):z=TP(K,z,S).reduce(function(X,ue){return X.indexOf(ue)>=0||ue===""||at(ue)?X:[].concat(Qs(X),[ue])},[]);else if(I==="number"){var te=E9(F,i.filter(function(X){var ue,Se,ce=o in X.props?X.props[o]:(ue=X.type.defaultProps)===null||ue===void 0?void 0:ue[o],Ae="hide"in X.props?X.props.hide:(Se=X.type.defaultProps)===null||Se===void 0?void 0:Se.hide;return ce===$&&(D||!Ae)}),k,a,h);te&&(z=te)}_&&(I==="number"||P!=="auto")&&(V=ku(F,k,"category"))}else _?z=ah(0,L):l&&l[$]&&l[$].hasStack&&I==="number"?z=v==="expand"?[0,1]:B2(l[$].stackGroups,c,d):z=M2(F,i.filter(function(X){var ue=o in X.props?X.props[o]:X.type.defaultProps[o],Se="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return ue===$&&(D||!Se)}),I,h,!0);if(I==="number")z=Y_(f,z,$,a,N),K&&(z=h_(K,z,O));else if(I==="category"&&K){var re=K,j=z.every(function(X){return re.indexOf(X)>=0});j&&(z=re)}}return se(se({},b),{},Ue({},$,se(se({},A),{},{axisType:a,domain:z,categoricalDomain:V,duplicateDomain:W,originalDomain:(w=A.domain)!==null&&w!==void 0?w:B,isCategorical:_,layout:h})))},{})},BJ=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.layout,f=e.children,v=mp(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),_=v.length,b=D2(h,a),S=-1;return r.reduce(function(w,A){var I=A.type.defaultProps!==void 0?se(se({},A.type.defaultProps),A.props):A.props,k=I[o],O=KR("number");if(!w[k]){S++;var E;return b?E=ah(0,_):l&&l[k]&&l[k].hasStack?(E=B2(l[k].stackGroups,c,d),E=Y_(f,E,k,a)):(E=h_(O,M2(v,r.filter(function(P){var N,D,$=o in P.props?P.props[o]:(N=P.type.defaultProps)===null||N===void 0?void 0:N[o],F="hide"in P.props?P.props.hide:(D=P.type.defaultProps)===null||D===void 0?void 0:D.hide;return $===k&&!F}),"number",h),i.defaultProps.allowDataOverflow),E=Y_(f,E,k,a)),se(se({},w),{},Ue({},k,se(se({axisType:a},i.defaultProps),{},{hide:!0,orientation:ar(DJ,"".concat(a,".").concat(S%2),null),domain:E,originalDomain:O,isCategorical:b,layout:h})))}return w},{})},FJ=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.children,f="".concat(i,"Id"),v=br(h,a),_={};return v&&v.length?_=LJ(e,{axes:v,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(_=BJ(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),_},qJ=function(e){var n=ua(e),r=Ci(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Wb(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Wf(n,r)}},kO=function(e){var n=e.children,r=e.defaultShowTooltip,i=rr(n,zs),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},UJ=function(e){return!e||!e.length?!1:e.some(function(n){var r=ki(n&&n.type);return r&&r.indexOf("Bar")>=0})},TO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},VJ=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,d=r.width,h=r.height,f=r.children,v=r.margin||{},_=rr(f,zs),b=rr(f,da),S=Object.keys(c).reduce(function(E,P){var N=c[P],D=N.orientation;return!N.mirror&&!N.hide?se(se({},E),{},Ue({},D,E[D]+N.width)):E},{left:v.left||0,right:v.right||0}),w=Object.keys(o).reduce(function(E,P){var N=o[P],D=N.orientation;return!N.mirror&&!N.hide?se(se({},E),{},Ue({},D,ar(E,"".concat(D))+N.height)):E},{top:v.top||0,bottom:v.bottom||0}),A=se(se({},w),S),I=A.bottom;_&&(A.bottom+=_.props.height||zs.defaultProps.height),b&&n&&(A=k9(A,i,r,n));var k=d-A.left-A.right,O=h-A.top-A.bottom;return se(se({brushBottom:I},A),{},{width:Math.max(k,0),height:Math.max(O,0)})},zJ=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},YR=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,h=e.formatAxisMap,f=e.defaultProps,v=function(A,I){var k=I.graphicalItems,O=I.stackGroups,E=I.offset,P=I.updateId,N=I.dataStartIndex,D=I.dataEndIndex,$=A.barSize,F=A.layout,L=A.barGap,z=A.barCategoryGap,W=A.maxBarSize,V=TO(F),B=V.numericAxisName,J=V.cateAxisName,K=UJ(k),U=[];return k.forEach(function(te,re){var j=mp(A.data,{graphicalItems:[te],dataStartIndex:N,dataEndIndex:D}),X=te.type.defaultProps!==void 0?se(se({},te.type.defaultProps),te.props):te.props,ue=X.dataKey,Se=X.maxBarSize,ce=X["".concat(B,"Id")],Ae=X["".concat(J,"Id")],ze={},We=c.reduce(function(rn,Ht){var zr=I["".concat(Ht.axisType,"Map")],$i=X["".concat(Ht.axisType,"Id")];zr&&zr[$i]||Ht.axisType==="zAxis"||co();var Sa=zr[$i];return se(se({},rn),{},Ue(Ue({},Ht.axisType,Sa),"".concat(Ht.axisType,"Ticks"),Ci(Sa)))},ze),ge=We[J],Ce=We["".concat(J,"Ticks")],Ve=O&&O[ce]&&O[ce].hasStack&&j9(te,O[ce].stackGroups),pe=ki(te.type).indexOf("Bar")>=0,ht=Wf(ge,Ce),et=[],Ct=K&&S9({barSize:$,stackGroups:O,totalSize:zJ(We,J)});if(pe){var bt,st,vt=at(Se)?W:Se,Yn=(bt=(st=Wf(ge,Ce,!0))!==null&&st!==void 0?st:vt)!==null&&bt!==void 0?bt:0;et=C9({barGap:L,barCategoryGap:z,bandSize:Yn!==ht?Yn:ht,sizeList:Ct[Ae],maxBarSize:vt}),Yn!==ht&&(et=et.map(function(rn){return se(se({},rn),{},{position:se(se({},rn.position),{},{offset:rn.position.offset-Yn/2})})}))}var Gt=te&&te.type&&te.type.getComposedData;Gt&&U.push({props:se(se({},Gt(se(se({},We),{},{displayedData:j,props:A,dataKey:ue,item:te,bandSize:ht,barPosition:et,offset:E,stackedData:Ve,layout:F,dataStartIndex:N,dataEndIndex:D}))),{},Ue(Ue(Ue({key:te.key||"item-".concat(re)},B,We[B]),J,We[J]),"animationId",P)),childIndex:A3(te,A.children),item:te})}),U},_=function(A,I){var k=A.props,O=A.dataStartIndex,E=A.dataEndIndex,P=A.updateId;if(!qk({props:k}))return null;var N=k.children,D=k.layout,$=k.stackOffset,F=k.data,L=k.reverseStackOrder,z=TO(D),W=z.numericAxisName,V=z.cateAxisName,B=br(N,r),J=D9(F,B,"".concat(W,"Id"),"".concat(V,"Id"),$,L),K=c.reduce(function(X,ue){var Se="".concat(ue.axisType,"Map");return se(se({},X),{},Ue({},Se,FJ(k,se(se({},ue),{},{graphicalItems:B,stackGroups:ue.axisType===W&&J,dataStartIndex:O,dataEndIndex:E}))))},{}),U=VJ(se(se({},K),{},{props:k,graphicalItems:B}),I==null?void 0:I.legendBBox);Object.keys(K).forEach(function(X){K[X]=h(k,K[X],U,X.replace("Map",""),n)});var te=K["".concat(V,"Map")],re=qJ(te),j=v(k,se(se({},K),{},{dataStartIndex:O,dataEndIndex:E,updateId:P,graphicalItems:B,stackGroups:J,offset:U}));return se(se({formattedGraphicalItems:j,graphicalItems:B,offset:U,stackGroups:J},re),K)},b=function(w){function A(I){var k,O,E;return SJ(this,A),E=TJ(this,A,[I]),Ue(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(E,"accessibilityManager",new uJ),Ue(E,"handleLegendBBoxUpdate",function(P){if(P){var N=E.state,D=N.dataStartIndex,$=N.dataEndIndex,F=N.updateId;E.setState(se({legendBBox:P},_({props:E.props,dataStartIndex:D,dataEndIndex:$,updateId:F},se(se({},E.state),{},{legendBBox:P}))))}}),Ue(E,"handleReceiveSyncEvent",function(P,N,D){if(E.props.syncId===P){if(D===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(N)}}),Ue(E,"handleBrushChange",function(P){var N=P.startIndex,D=P.endIndex;if(N!==E.state.dataStartIndex||D!==E.state.dataEndIndex){var $=E.state.updateId;E.setState(function(){return se({dataStartIndex:N,dataEndIndex:D},_({props:E.props,dataStartIndex:N,dataEndIndex:D,updateId:$},E.state))}),E.triggerSyncEvent({dataStartIndex:N,dataEndIndex:D})}}),Ue(E,"handleMouseEnter",function(P){var N=E.getMouseInfo(P);if(N){var D=se(se({},N),{},{isTooltipActive:!0});E.setState(D),E.triggerSyncEvent(D);var $=E.props.onMouseEnter;Ye($)&&$(D,P)}}),Ue(E,"triggeredAfterMouseMove",function(P){var N=E.getMouseInfo(P),D=N?se(se({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(D),E.triggerSyncEvent(D);var $=E.props.onMouseMove;Ye($)&&$(D,P)}),Ue(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Ue(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Ue(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),Ue(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};E.setState(N),E.triggerSyncEvent(N);var D=E.props.onMouseLeave;Ye(D)&&D(N,P)}),Ue(E,"handleOuterEvent",function(P){var N=E3(P),D=ar(E.props,"".concat(N));if(N&&Ye(D)){var $,F;/.*touch.*/i.test(N)?F=E.getMouseInfo(P.changedTouches[0]):F=E.getMouseInfo(P),D(($=F)!==null&&$!==void 0?$:{},P)}}),Ue(E,"handleClick",function(P){var N=E.getMouseInfo(P);if(N){var D=se(se({},N),{},{isTooltipActive:!0});E.setState(D),E.triggerSyncEvent(D);var $=E.props.onClick;Ye($)&&$(D,P)}}),Ue(E,"handleMouseDown",function(P){var N=E.props.onMouseDown;if(Ye(N)){var D=E.getMouseInfo(P);N(D,P)}}),Ue(E,"handleMouseUp",function(P){var N=E.props.onMouseUp;if(Ye(N)){var D=E.getMouseInfo(P);N(D,P)}}),Ue(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Ue(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),Ue(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),Ue(E,"handleDoubleClick",function(P){var N=E.props.onDoubleClick;if(Ye(N)){var D=E.getMouseInfo(P);N(D,P)}}),Ue(E,"handleContextMenu",function(P){var N=E.props.onContextMenu;if(Ye(N)){var D=E.getMouseInfo(P);N(D,P)}}),Ue(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&vx.emit(yx,E.props.syncId,P,E.eventEmitterSymbol)}),Ue(E,"applySyncEvent",function(P){var N=E.props,D=N.layout,$=N.syncMethod,F=E.state.updateId,L=P.dataStartIndex,z=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(se({dataStartIndex:L,dataEndIndex:z},_({props:E.props,dataStartIndex:L,dataEndIndex:z,updateId:F},E.state)));else if(P.activeTooltipIndex!==void 0){var W=P.chartX,V=P.chartY,B=P.activeTooltipIndex,J=E.state,K=J.offset,U=J.tooltipTicks;if(!K)return;if(typeof $=="function")B=$(U,P);else if($==="value"){B=-1;for(var te=0;te<U.length;te++)if(U[te].value===P.activeLabel){B=te;break}}var re=se(se({},K),{},{x:K.left,y:K.top}),j=Math.min(W,re.x+re.width),X=Math.min(V,re.y+re.height),ue=U[B]&&U[B].value,Se=Z_(E.state,E.props.data,B),ce=U[B]?{x:D==="horizontal"?U[B].coordinate:j,y:D==="horizontal"?X:U[B].coordinate}:WR;E.setState(se(se({},P),{},{activeLabel:ue,activeCoordinate:ce,activePayload:Se,activeTooltipIndex:B}))}else E.setState(P)}),Ue(E,"renderCursor",function(P){var N,D=E.state,$=D.isTooltipActive,F=D.activeCoordinate,L=D.activePayload,z=D.offset,W=D.activeTooltipIndex,V=D.tooltipAxisBandSize,B=E.getTooltipEventType(),J=(N=P.props.active)!==null&&N!==void 0?N:$,K=E.props.layout,U=P.key||"_recharts-cursor";return H.createElement(gJ,{key:U,activeCoordinate:F,activePayload:L,activeTooltipIndex:W,chartName:n,element:P,isActive:J,layout:K,offset:z,tooltipAxisBandSize:V,tooltipEventType:B})}),Ue(E,"renderPolarAxis",function(P,N,D){var $=ar(P,"type.axisType"),F=ar(E.state,"".concat($,"Map")),L=P.type.defaultProps,z=L!==void 0?se(se({},L),P.props):P.props,W=F&&F[z["".concat($,"Id")]];return R.cloneElement(P,se(se({},W),{},{className:rt($,W.className),key:P.key||"".concat(N,"-").concat(D),ticks:Ci(W,!0)}))}),Ue(E,"renderPolarGrid",function(P){var N=P.props,D=N.radialLines,$=N.polarAngles,F=N.polarRadius,L=E.state,z=L.radiusAxisMap,W=L.angleAxisMap,V=ua(z),B=ua(W),J=B.cx,K=B.cy,U=B.innerRadius,te=B.outerRadius;return R.cloneElement(P,{polarAngles:Array.isArray($)?$:Ci(B,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(F)?F:Ci(V,!0).map(function(re){return re.coordinate}),cx:J,cy:K,innerRadius:U,outerRadius:te,key:P.key||"polar-grid",radialLines:D})}),Ue(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,N=E.props,D=N.children,$=N.width,F=N.height,L=E.props.margin||{},z=$-(L.left||0)-(L.right||0),W=O2({children:D,formattedGraphicalItems:P,legendWidth:z,legendContent:d});if(!W)return null;var V=W.item,B=wO(W,vJ);return R.cloneElement(V,se(se({},B),{},{chartWidth:$,chartHeight:F,margin:L,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Ue(E,"renderTooltip",function(){var P,N=E.props,D=N.children,$=N.accessibilityLayer,F=rr(D,Dr);if(!F)return null;var L=E.state,z=L.isTooltipActive,W=L.activeCoordinate,V=L.activePayload,B=L.activeLabel,J=L.offset,K=(P=F.props.active)!==null&&P!==void 0?P:z;return R.cloneElement(F,{viewBox:se(se({},J),{},{x:J.left,y:J.top}),active:K,label:B,payload:K?V:[],coordinate:W,accessibilityLayer:$})}),Ue(E,"renderBrush",function(P){var N=E.props,D=N.margin,$=N.data,F=E.state,L=F.offset,z=F.dataStartIndex,W=F.dataEndIndex,V=F.updateId;return R.cloneElement(P,{key:P.key||"_recharts-brush",onChange:sf(E.handleBrushChange,P.props.onChange),data:$,x:we(P.props.x)?P.props.x:L.left,y:we(P.props.y)?P.props.y:L.top+L.height+L.brushBottom-(D.bottom||0),width:we(P.props.width)?P.props.width:L.width,startIndex:z,endIndex:W,updateId:"brush-".concat(V)})}),Ue(E,"renderReferenceElement",function(P,N,D){if(!P)return null;var $=E,F=$.clipPathId,L=E.state,z=L.xAxisMap,W=L.yAxisMap,V=L.offset,B=P.type.defaultProps||{},J=P.props,K=J.xAxisId,U=K===void 0?B.xAxisId:K,te=J.yAxisId,re=te===void 0?B.yAxisId:te;return R.cloneElement(P,{key:P.key||"".concat(N,"-").concat(D),xAxis:z[U],yAxis:W[re],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:F})}),Ue(E,"renderActivePoints",function(P){var N=P.item,D=P.activePoint,$=P.basePoint,F=P.childIndex,L=P.isRange,z=[],W=N.props.key,V=N.item.type.defaultProps!==void 0?se(se({},N.item.type.defaultProps),N.item.props):N.item.props,B=V.activeDot,J=V.dataKey,K=se(se({index:F,dataKey:J,cx:D.x,cy:D.y,r:4,fill:xw(N.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},He(B,!1)),Sf(B));return z.push(A.renderActiveDot(B,K,"".concat(W,"-activePoint-").concat(F))),$?z.push(A.renderActiveDot(B,se(se({},K),{},{cx:$.x,cy:$.y}),"".concat(W,"-basePoint-").concat(F))):L&&z.push(null),z}),Ue(E,"renderGraphicChild",function(P,N,D){var $=E.filterFormatItem(P,N,D);if(!$)return null;var F=E.getTooltipEventType(),L=E.state,z=L.isTooltipActive,W=L.tooltipAxis,V=L.activeTooltipIndex,B=L.activeLabel,J=E.props.children,K=rr(J,Dr),U=$.props,te=U.points,re=U.isRange,j=U.baseLine,X=$.item.type.defaultProps!==void 0?se(se({},$.item.type.defaultProps),$.item.props):$.item.props,ue=X.activeDot,Se=X.hide,ce=X.activeBar,Ae=X.activeShape,ze=!!(!Se&&z&&K&&(ue||ce||Ae)),We={};F!=="axis"&&K&&K.props.trigger==="click"?We={onClick:sf(E.handleItemMouseEnter,P.props.onClick)}:F!=="axis"&&(We={onMouseLeave:sf(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:sf(E.handleItemMouseEnter,P.props.onMouseEnter)});var ge=R.cloneElement(P,se(se({},$.props),We));function Ce(Ht){return typeof W.dataKey=="function"?W.dataKey(Ht.payload):null}if(ze)if(V>=0){var Ve,pe;if(W.dataKey&&!W.allowDuplicatedCategory){var ht=typeof W.dataKey=="function"?Ce:"payload.".concat(W.dataKey.toString());Ve=Mx(te,ht,B),pe=re&&j&&Mx(j,ht,B)}else Ve=te==null?void 0:te[V],pe=re&&j&&j[V];if(Ae||ce){var et=P.props.activeIndex!==void 0?P.props.activeIndex:V;return[R.cloneElement(P,se(se(se({},$.props),We),{},{activeIndex:et})),null,null]}if(!at(Ve))return[ge].concat(Qs(E.renderActivePoints({item:$,activePoint:Ve,basePoint:pe,childIndex:V,isRange:re})))}else{var Ct,bt=(Ct=E.getItemByXY(E.state.activeCoordinate))!==null&&Ct!==void 0?Ct:{graphicalItem:ge},st=bt.graphicalItem,vt=st.item,Yn=vt===void 0?P:vt,Gt=st.childIndex,rn=se(se(se({},$.props),We),{},{activeIndex:Gt});return[R.cloneElement(Yn,rn),null,null]}return re?[ge,null,null]:[ge,null]}),Ue(E,"renderCustomized",function(P,N,D){return R.cloneElement(P,se(se({key:"recharts-customized-".concat(D)},E.props),E.state))}),Ue(E,"renderMap",{CartesianGrid:{handler:ff,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:ff},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:ff},YAxis:{handler:ff},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((k=I.id)!==null&&k!==void 0?k:xc("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=PD(E.triggeredAfterMouseMove,(O=I.throttleDelay)!==null&&O!==void 0?O:1e3/60),E.state={},E}return PJ(A,w),kJ(A,[{key:"componentDidMount",value:function(){var k,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,O=k.children,E=k.data,P=k.height,N=k.layout,D=rr(O,Dr);if(D){var $=D.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,L=Z_(this.state,E,$,F),z=this.state.tooltipTicks[$].coordinate,W=(this.state.offset.top+P)/2,V=N==="horizontal",B=V?{x:z,y:W}:{y:z,x:W},J=this.state.formattedGraphicalItems.find(function(U){var te=U.item;return te.type.name==="Scatter"});J&&(B=se(se({},B),J.props.points[$].tooltipPosition),L=J.props.points[$].tooltipPayload);var K={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:F,activePayload:L,activeCoordinate:B};this.setState(K),this.renderCursor(D),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(k){Rx([rr(k.children,Dr)],[rr(this.props.children,Dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=rr(this.props.children,Dr);if(k&&typeof k.props.shared=="boolean"){var O=k.props.shared?"axis":"item";return l.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var O=this.container,E=O.getBoundingClientRect(),P=pU(E),N={chartX:Math.round(k.pageX-P.left),chartY:Math.round(k.pageY-P.top)},D=E.width/O.offsetWidth||1,$=this.inRange(N.chartX,N.chartY,D);if(!$)return null;var F=this.state,L=F.xAxisMap,z=F.yAxisMap,W=this.getTooltipEventType(),V=CO(this.state,this.props.data,this.props.layout,$);if(W!=="axis"&&L&&z){var B=ua(L).scale,J=ua(z).scale,K=B&&B.invert?B.invert(N.chartX):null,U=J&&J.invert?J.invert(N.chartY):null;return se(se({},N),{},{xValue:K,yValue:U},V)}return V?se(se({},N),V):null}},{key:"inRange",value:function(k,O){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,N=k/E,D=O/E;if(P==="horizontal"||P==="vertical"){var $=this.state.offset,F=N>=$.left&&N<=$.left+$.width&&D>=$.top&&D<=$.top+$.height;return F?{x:N,y:D}:null}var L=this.state,z=L.angleAxisMap,W=L.radiusAxisMap;if(z&&W){var V=ua(z);return PP({x:N,y:D},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,O=this.getTooltipEventType(),E=rr(k,Dr),P={};E&&O==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Sf(this.props,this.handleOuterEvent);return se(se({},N),P)}},{key:"addListener",value:function(){vx.on(yx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){vx.removeListener(yx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,O,E){for(var P=this.state.formattedGraphicalItems,N=0,D=P.length;N<D;N++){var $=P[N];if($.item===k||$.props.key===k.key||O===ki($.item.type)&&E===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,O=this.state.offset,E=O.left,P=O.top,N=O.height,D=O.width;return H.createElement("defs",null,H.createElement("clipPath",{id:k},H.createElement("rect",{x:E,y:P,height:N,width:D})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(O,E){var P=bO(E,2),N=P[0],D=P[1];return se(se({},O),{},Ue({},N,D.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(O,E){var P=bO(E,2),N=P[0],D=P[1];return se(se({},O),{},Ue({},N,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[k])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(k){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[k])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(k){var O=this.state,E=O.formattedGraphicalItems,P=O.activeItem;if(E&&E.length)for(var N=0,D=E.length;N<D;N++){var $=E[N],F=$.props,L=$.item,z=L.type.defaultProps!==void 0?se(se({},L.type.defaultProps),L.props):L.props,W=ki(L.type);if(W==="Bar"){var V=(F.data||[]).find(function(U){return OG(k,U)});if(V)return{graphicalItem:$,payload:V}}else if(W==="RadialBar"){var B=(F.data||[]).find(function(U){return PP(k,U)});if(B)return{graphicalItem:$,payload:B}}else if(op($,P)||sp($,P)||oc($,P)){var J=eW({graphicalItem:$,activeTooltipItem:P,itemData:z.data}),K=z.activeIndex===void 0?J:z.activeIndex;return{graphicalItem:se(se({},$),{},{childIndex:K}),payload:oc($,P)?z.data[J]:$.props.data[J]}}}return null}},{key:"render",value:function(){var k=this;if(!qk(this))return null;var O=this.props,E=O.children,P=O.className,N=O.width,D=O.height,$=O.style,F=O.compact,L=O.title,z=O.desc,W=wO(O,yJ),V=He(W,!1);if(F)return H.createElement(aO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement($x,bs({},V,{width:N,height:D,title:L,desc:z}),this.renderClipPath(),Vk(E,this.renderMap)));if(this.props.accessibilityLayer){var B,J;V.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,V.role=(J=this.props.role)!==null&&J!==void 0?J:"application",V.onKeyDown=function(U){k.accessibilityManager.keyboardEvent(U)},V.onFocus=function(){k.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return H.createElement(aO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",bs({className:rt("recharts-wrapper",P),style:se({position:"relative",cursor:"default",width:N,height:D},$)},K,{ref:function(te){k.container=te}}),H.createElement($x,bs({},V,{width:N,height:D,title:L,desc:z,style:RJ}),this.renderClipPath(),Vk(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);Ue(b,"displayName",n),Ue(b,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ue(b,"getDerivedStateFromProps",function(w,A){var I=w.dataKey,k=w.data,O=w.children,E=w.width,P=w.height,N=w.layout,D=w.stackOffset,$=w.margin,F=A.dataStartIndex,L=A.dataEndIndex;if(A.updateId===void 0){var z=kO(w);return se(se(se({},z),{},{updateId:0},_(se(se({props:w},z),{},{updateId:0}),A)),{},{prevDataKey:I,prevData:k,prevWidth:E,prevHeight:P,prevLayout:N,prevStackOffset:D,prevMargin:$,prevChildren:O})}if(I!==A.prevDataKey||k!==A.prevData||E!==A.prevWidth||P!==A.prevHeight||N!==A.prevLayout||D!==A.prevStackOffset||!Cs($,A.prevMargin)){var W=kO(w),V={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},B=se(se({},CO(A,k,N)),{},{updateId:A.updateId+1}),J=se(se(se({},W),V),B);return se(se(se({},J),_(se({props:w},J),A)),{},{prevDataKey:I,prevData:k,prevWidth:E,prevHeight:P,prevLayout:N,prevStackOffset:D,prevMargin:$,prevChildren:O})}if(!Rx(O,A.prevChildren)){var K,U,te,re,j=rr(O,zs),X=j&&(K=(U=j.props)===null||U===void 0?void 0:U.startIndex)!==null&&K!==void 0?K:F,ue=j&&(te=(re=j.props)===null||re===void 0?void 0:re.endIndex)!==null&&te!==void 0?te:L,Se=X!==F||ue!==L,ce=!at(k),Ae=ce&&!Se?A.updateId:A.updateId+1;return se(se({updateId:Ae},_(se(se({props:w},A),{},{updateId:Ae,dataStartIndex:X,dataEndIndex:ue}),A)),{},{prevChildren:O,dataStartIndex:X,dataEndIndex:ue})}return null}),Ue(b,"renderActiveDot",function(w,A,I){var k;return R.isValidElement(w)?k=R.cloneElement(w,A):Ye(w)?k=w(A):k=H.createElement(bw,A),H.createElement(yt,{className:"recharts-active-dot",key:I},k)});var S=R.forwardRef(function(A,I){return H.createElement(b,bs({},A,{ref:I}))});return S.displayName=b.displayName,S},GJ=YR({chartName:"BarChart",GraphicalChild:bo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hp},{axisType:"yAxis",AxisComp:pp}],formatAxisMap:rK}),HJ=YR({chartName:"PieChart",GraphicalChild:Ri,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ap},{axisType:"radiusAxis",AxisComp:rp}],formatAxisMap:H9,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const EO=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82ca9d","#ffc658","#a4de6c","#d0ed57","#ff7300","#4CAF50","#F44336","#E91E63","#9C27B0","#3F51B5"],WJ=({active:t,payload:e})=>t&&e&&e.length?y.jsx("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:y.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:`${e[0].name} : ${de(e[0].value)}`})}):null,KJ=({transactions:t,categories:e,type:n,month:r})=>{const i=H.useMemo(()=>{const a=t.filter(l=>l.type===n&&l.date.startsWith(r)&&l.category_id),o={};return a.forEach(l=>{l.category_id&&(o[l.category_id]=(o[l.category_id]||0)+l.amount)}),Object.entries(o).map(([l,c])=>{const d=e.find(h=>h.id===l);return{name:d?d.name:"Desconhecido",value:c}}).sort((l,c)=>c.value-l.value)},[t,e,n,r]);return i.length===0?y.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",n===ve.INCOME?"receitas":"despesas"," este mês."]}):y.jsx("div",{className:"w-full h-80 md:h-96",children:y.jsx(ID,{width:"100%",height:"100%",children:y.jsxs(HJ,{children:[y.jsx(Ri,{data:i,cx:"50%",cy:"50%",labelLine:!1,outerRadius:"80%",fill:"#8884d8",dataKey:"value",nameKey:"name",label:({cx:a,cy:o,midAngle:l,innerRadius:c,outerRadius:d,percent:h,index:f})=>{const v=Math.PI/180,_=c+(d-c)*.5,b=a+_*Math.cos(-l*v),S=o+_*Math.sin(-l*v),w=document.documentElement.classList.contains("dark");return h*100<5?null:y.jsx("text",{x:b,y:S,fill:"#FFF",textAnchor:b>a?"start":"end",dominantBaseline:"central",fontSize:"12px",children:`${(h*100).toFixed(0)}%`})},children:i.map((a,o)=>y.jsx(Uh,{fill:EO[o%EO.length]},`cell-${o}`))}),y.jsx(Dr,{content:y.jsx(WJ,{})}),y.jsx(da,{formatter:(a,o)=>y.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:a})})]})})})},YJ=({active:t,payload:e,label:n})=>t&&e&&e.length?y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:[y.jsxs("p",{className:"text-sm font-semibold text-textBase dark:text-textBaseDark",children:["Dia ",n]}),y.jsxs("p",{className:`text-sm ${e[0].fill==="#00C49F"?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:[e[0].name,": ",de(e[0].value)]})]}):null,JJ=({transactions:t,type:e,month:n})=>{const r=H.useMemo(()=>{const[o,l]=n.split("-").map(Number),c=new Date(o,l,0).getDate(),d=Array.from({length:c},(h,f)=>({name:(f+1).toString().padStart(2,"0"),value:0}));return t.forEach(h=>{if(h.type===e&&h.date.startsWith(n)){const f=parseInt(h.date.split("-")[2],10)-1;f>=0&&f<c&&(d[f].value+=h.amount)}}),d},[t,e,n]);if(r.every(o=>o.value===0))return y.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",e===ve.INCOME?"receitas":"despesas"," este mês."]});const i=o=>o>=1e6?`${(o/1e6).toFixed(1)}M`:o>=1e3?`${(o/1e3).toFixed(0)}K`:o.toString(),a=e===ve.INCOME?"#00C49F":"#FF8042";return y.jsx("div",{className:"w-full h-80 md:h-96",children:y.jsx(ID,{width:"100%",height:"100%",children:y.jsxs(GJ,{data:r,margin:{top:5,right:0,left:-10,bottom:5},children:[y.jsx(RR,{strokeDasharray:"3 3",strokeOpacity:.2,className:"stroke-neutral dark:stroke-neutralDark"}),y.jsx(hp,{dataKey:"name",tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",interval:"preserveStartEnd"}),y.jsx(pp,{tickFormatter:i,tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",width:45}),y.jsx(Dr,{content:y.jsx(YJ,{}),cursor:{fill:"rgba(128, 128, 128, 0.1)"}}),y.jsx(da,{payload:[{value:e===ve.INCOME?"Receitas":"Despesas",type:"square",color:a}],formatter:o=>y.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:o})}),y.jsx(bo,{dataKey:"value",name:e===ve.INCOME?"Receitas":"Despesas",fill:a,radius:[4,4,0,0]})]})})})},JR=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})]}),XJ=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),ZJ=({className:t="w-5 h-5",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 10.5h19.5M4.5 3v2.25M19.5 3v2.25"})]}),Q_=({className:t="w-5 h-5",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75h.008v.008H12V6.75Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75h.008v.008H12v-.008Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75h.008v.008H12V18.75Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Z"})]}),AO=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 11.25a.75.75 0 0 1 0-1.5m1.259 5.25a.75.75 0 0 1 0-1.5m15.257 1.5a.75.75 0 0 1 0-1.5M16.5 6.375a.75.75 0 0 1 0-1.5m-9.75 1.5a.75.75 0 0 1 0-1.5M21 9.75A.75.75 0 0 1 20.25 9M12 3.75a.75.75 0 0 1 .75-.75M3.75 9A.75.75 0 0 1 3 9.75m1.5-4.5a.75.75 0 0 1-.75-.75"})}),QJ=({recurringTransactions:t,accounts:e,categories:n,onViewTransaction:r,isPrivacyModeEnabled:i})=>{const a=gt(new Date),o=gt(new Date(new Date().setDate(new Date().getDate()+7))),l=t.filter(f=>!f.is_paused&&(!f.end_date||f.end_date>=a)&&(f.remaining_occurrences===void 0||f.remaining_occurrences>0)),c=l.filter(f=>f.next_due_date<a).sort((f,v)=>new Date(f.next_due_date).getTime()-new Date(v.next_due_date).getTime()),d=l.filter(f=>f.next_due_date>=a&&f.next_due_date<=o).sort((f,v)=>new Date(f.next_due_date).getTime()-new Date(v.next_due_date).getTime());if(c.length===0&&d.length===0)return y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsxs("div",{className:"flex items-center mb-3",children:[y.jsx(AO,{className:"w-6 h-6 text-secondary dark:text-secondaryDark mr-2"}),y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),y.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark text-center py-3",children:"Nenhuma conta vencida ou próxima do vencimento. Tudo em dia!"})]});const h=(f,v)=>{const _=e.find(A=>A.id===f.account_id),b=f.category_id?n.find(A=>A.id===f.category_id):null,S=f.type===ve.EXPENSE?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark",w=f.type===ve.EXPENSE?"-":"+";return y.jsx("li",{className:`p-3 rounded-md border-l-4 ${v?"border-destructive dark:border-destructiveDark bg-destructive/5 dark:bg-destructiveDark/10":"border-amber-500 dark:border-amber-400 bg-amber-500/5 dark:bg-amber-400/10"} hover:shadow-sm transition-shadow`,onClick:()=>r&&r(f.id),role:r?"button":void 0,tabIndex:r?0:void 0,"aria-label":`Ver detalhes de ${f.description}`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[v?y.jsx(ZJ,{className:"w-5 h-5 text-destructive dark:text-destructiveDark flex-shrink-0"}):y.jsx(Q_,{className:"w-5 h-5 text-amber-500 dark:text-amber-400 flex-shrink-0"}),y.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:f.description})]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-7",children:["Vence em: ",jn(f.next_due_date),_&&` (${_.name})`,b&&` - ${b.name}`]})]}),y.jsxs("span",{className:`text-md font-bold ${S}`,children:[w,de(f.amount,"BRL","pt-BR",i)]})]})},f.id)};return y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx(AO,{className:"w-6 h-6 text-primary dark:text-primaryDark mr-2"}),y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),y.jsxs("div",{className:"space-y-4",children:[c.length>0&&y.jsxs("div",{children:[y.jsxs("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Vencidas (",c.length,")"]}),y.jsx("ul",{className:"space-y-2",children:c.map(f=>h(f,!0))})]}),d.length>0&&y.jsxs("div",{children:[y.jsxs("h3",{className:`text-md font-semibold text-amber-600 dark:text-amber-500 mb-2 ${c.length>0?"mt-4":""}`,children:["Próximas (7 dias) (",d.length,")"]}),y.jsx("ul",{className:"space-y-2",children:d.map(f=>h(f,!1))})]})]})]})},PO=({transactions:t,accounts:e,categories:n,creditCards:r,installmentPurchases:i,moneyBoxes:a,loans:o,loanRepayments:l,recurringTransactions:c,onAddTransaction:d,calculateAccountBalance:h,calculateMoneyBoxBalance:f,onViewRecurringTransaction:v,isPrivacyModeEnabled:_})=>{const[b,S]=R.useState(ve.EXPENSE),[w,A]=R.useState("pie"),I=gt(new Date).substring(0,7),k=R.useMemo(()=>e.reduce((L,z)=>L+h(z.id),0),[e,h]),O=R.useMemo(()=>a.reduce((L,z)=>L+f(z.id),0),[a,f]),E=R.useMemo(()=>i.reduce((L,z)=>{if(z.installments_paid>=z.number_of_installments)return L;const W=z.total_amount/z.number_of_installments,V=z.number_of_installments-z.installments_paid;return L+W*V},0),[i]),P=R.useMemo(()=>o.reduce((L,z)=>{const W=l.filter(V=>V.loan_id===z.id).reduce((V,B)=>V+B.amount_paid,0);return L+(z.total_amount_to_reimburse-W)},0),[o,l]),N=R.useMemo(()=>k+O+P-E,[k,O,P,E]),D=R.useMemo(()=>[...t].sort((L,z)=>new Date(z.date).getTime()-new Date(L.date).getTime()).slice(0,5),[t]),$=R.useMemo(()=>n.filter(L=>L.type===ve.EXPENSE&&L.monthly_budget&&L.monthly_budget>0),[n]),F=R.useMemo(()=>{const L=$.reduce((W,V)=>W+(V.monthly_budget||0),0);let z=0;return $.forEach(W=>{const V=t.filter(B=>B.category_id===W.id&&B.date.startsWith(I)&&B.type===ve.EXPENSE).reduce((B,J)=>B+J.amount,0);z+=V}),{totalBudgeted:L,totalSpentInBudgetedCategories:z}},[$,t,I]);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Painel Geral"}),y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Bem-vindo ao seu controle financeiro."})]}),y.jsxs(he,{onClick:d,variant:"primary",size:"lg",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO TOTAL (CONTAS)"}),y.jsx("p",{className:`text-3xl font-bold ${k>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:de(k,"BRL","pt-BR",_)})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO CAIXINHAS"}),y.jsx("p",{className:`text-3xl font-bold ${O>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:de(O,"BRL","pt-BR",_)})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsxs("div",{className:"flex items-center w-full justify-between",children:[y.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"A RECEBER (EMPRÉSTIMOS)"}),y.jsx(Tb,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),y.jsx("p",{className:"text-3xl font-bold text-primary dark:text-primaryDark",children:de(P,"BRL","pt-BR",_)})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30 flex flex-col items-start",children:[y.jsxs("div",{className:"flex items-center w-full justify-between",children:[y.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"PATRIMÔNIO LÍQUIDO"}),y.jsx(AB,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),y.jsx("p",{className:`text-3xl font-bold ${N>=0?"text-primary dark:text-primaryDark":"text-destructive dark:text-destructiveDark"}`,children:de(N,"BRL","pt-BR",_)}),!_&&y.jsxs("div",{className:"text-xs mt-1 space-y-0.5",children:[E>0&&y.jsxs("p",{className:"text-destructive dark:text-destructiveDark/80",children:["Dívida Cartões: ",de(E)]}),P>0&&y.jsxs("p",{className:"text-primary dark:text-primaryDark/80",children:["Empréstimos a Receber: ",de(P)]})]})]})]}),y.jsx(QJ,{recurringTransactions:c,accounts:e,categories:n,onViewTransaction:v,isPrivacyModeEnabled:_}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:["Resumo Mensal (",I.split("-")[1],"/",I.split("-")[0],")"]}),y.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[y.jsx(he,{variant:b===ve.EXPENSE?"primary":"ghost",size:"sm",onClick:()=>S(ve.EXPENSE),children:"Despesas"}),y.jsx(he,{variant:b===ve.INCOME?"secondary":"ghost",size:"sm",onClick:()=>S(ve.INCOME),children:"Receitas"}),y.jsx("div",{className:"h-6 border-l border-borderBase dark:border-borderBaseDark mx-1 sm:mx-2"}),y.jsx(he,{variant:w==="pie"?"primary":"ghost",size:"sm",onClick:()=>A("pie"),className:"!px-2",title:"Gráfico de Pizza",children:y.jsx(JR,{className:"w-4 h-4"})}),y.jsx(he,{variant:w==="bar"?"primary":"ghost",size:"sm",onClick:()=>A("bar"),className:"!px-2",title:"Gráfico de Barras",children:y.jsx(XJ,{className:"w-4 h-4"})})]})]}),_?y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Gráficos ocultos em Modo Privacidade."}):w==="pie"?y.jsx(KJ,{transactions:t,categories:n.filter(L=>L.type===b),type:b,month:I}):y.jsx(JJ,{transactions:t,type:b,month:I})]}),$.length>0&&y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:["Orçamento Mensal (",I.split("-")[1],"/",I.split("-")[0],")"]}),y.jsxs("div",{className:"mb-3",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsxs("span",{children:["Total Gasto (Orçado): ",de(F.totalSpentInBudgetedCategories,"BRL","pt-BR",_)]}),y.jsxs("span",{children:["Total Orçado: ",de(F.totalBudgeted,"BRL","pt-BR",_)]})]}),!_&&F.totalBudgeted>0&&y.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 mt-1 dark:progress-bar-bg",children:y.jsx("div",{className:`h-2.5 rounded-full ${F.totalSpentInBudgetedCategories>F.totalBudgeted?"bg-destructive":"bg-primary dark:bg-primaryDark"}`,style:{width:`${Math.min(F.totalSpentInBudgetedCategories/F.totalBudgeted*100,100)}%`}})}),_&&y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center",children:"Progresso oculto em Modo Privacidade."})]}),y.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto",children:$.map(L=>{const z=t.filter(B=>B.category_id===L.id&&B.date.startsWith(I)&&B.type===ve.EXPENSE).reduce((B,J)=>B+J.amount,0),W=L.monthly_budget?Math.min(z/L.monthly_budget*100,100):0,V=L.monthly_budget?z>L.monthly_budget:!1;return y.jsxs("li",{className:"text-sm",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{children:L.name}),y.jsxs("span",{className:V?"text-destructive dark:text-destructiveDark":"",children:[de(z,"BRL","pt-BR",_)," / ",de(L.monthly_budget||0,"BRL","pt-BR",_)]})]}),!_&&L.monthly_budget&&L.monthly_budget>0&&y.jsx("div",{className:"w-full progress-bar-bg rounded-full h-1.5 mt-0.5 dark:progress-bar-bg",children:y.jsx("div",{className:`h-1.5 rounded-full ${V?"bg-destructive":"bg-secondary dark:bg-secondaryDark"}`,style:{width:`${W}%`}})})]},L.id)})})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:"Transações Recentes"}),D.length>0?y.jsx("ul",{className:"space-y-3",children:D.map(L=>{const z=e.find(J=>J.id===L.account_id),W=n.find(J=>J.id===L.category_id);let V="text-textBase dark:text-textBaseDark";L.type===ve.INCOME?V="text-secondary dark:text-secondaryDark":L.type===ve.EXPENSE&&(V="text-destructive dark:text-destructiveDark");let B=L.description||(L.type===ve.TRANSFER?"Transferência":W==null?void 0:W.name)||"Transação";if(L.type===ve.TRANSFER){const J=e.find(K=>K.id===L.to_account_id);B+=` para ${(J==null?void 0:J.name)||"N/A"}`}return y.jsxs("li",{className:"flex justify-between items-center py-2 border-b border-borderBase/50 dark:border-borderBaseDark/50 last:border-b-0",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-textBase dark:text-textBaseDark",children:B}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[z==null?void 0:z.name," • ",jn(L.date)]})]}),y.jsx("p",{className:`font-semibold ${V}`,children:de(L.amount,"BRL","pt-BR",_)})]},L.id)})}):y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Nenhuma transação recente."})]})]})},qr=({className:t="w-5 h-5",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79M5.25 5.79h13.5"})}),Ur=({className:t="w-5 h-5",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),gp=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})}),eX=({transaction:t,accounts:e,categories:n,tags:r,installmentPurchases:i,onEdit:a,onDelete:o,isPrivacyModeEnabled:l})=>{const{type:c,amount:d,category_id:h,description:f,date:v,account_id:_,to_account_id:b,tag_ids:S}=t,w=e.find(F=>F.id===_),A=b?e.find(F=>F.id===b):null,I=h?n.find(F=>F.id===h):null,k=S?r.filter(F=>S.includes(F.id)):[];let O="text-textBase dark:text-textBaseDark",E="";c===ve.INCOME?(O="text-secondary dark:text-secondaryDark",E="+"):c===ve.EXPENSE&&(O="text-destructive dark:text-destructiveDark",E="-");const P=f||(I==null?void 0:I.name)||c,N=[];w&&N.push(w.name),c===ve.TRANSFER&&A?N.push(`➔ ${A.name}`):I&&c!==ve.TRANSFER&&N.push(I.name);const D=F=>{if(!F)return"text-textBase dark:text-textBaseDark";try{const L=parseInt(F.slice(1,3),16),z=parseInt(F.slice(3,5),16),W=parseInt(F.slice(5,7),16);return(.299*L+.587*z+.114*W)/255>.5?"text-neutral-800":"text-white"}catch{return"text-white"}},$=i.some(F=>F.linked_transaction_id===t.id&&F.number_of_installments===1);return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-2 sm:space-y-0",children:[y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsxs("span",{className:`font-semibold text-lg ${O}`,children:[E,de(d,"BRL","pt-BR",l)]}),y.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:P}),$&&y.jsxs("span",{title:"Débito em fatura de cartão",className:"ml-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300 px-1.5 py-0.5 rounded-full inline-flex items-center",children:[y.jsx(gp,{className:"w-3 h-3 mr-1"})," Cartão"]})]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[jn(v)," ",y.jsx("span",{className:"mx-1",children:"•"})," ",N.join(" ")]}),f&&I&&c!==ve.TRANSFER&&y.jsx("p",{className:"text-xs text-neutral/70 dark:text-neutralDark/70 italic mt-1",children:f}),k.length>0&&y.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:k.map(F=>y.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full border
                            ${F.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:F.color?{backgroundColor:F.color,borderColor:F.color}:{},children:y.jsx("span",{className:F.color?D(F.color):"text-textBase dark:text-textBaseDark",children:F.name})},F.id))})]}),y.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>a(t),"aria-label":"Editar",children:y.jsx(Ur,{className:"w-4 h-4"})}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>o(t.id),"aria-label":"Excluir",children:y.jsx(qr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})},xt=({label:t,id:e,error:n,className:r,containerClassName:i,options:a,placeholder:o,...l})=>y.jsxs("div",{className:i,children:[t&&y.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),y.jsxs("select",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...l,children:[o&&y.jsx("option",{value:"",children:o}),a.map(h=>y.jsx("option",{value:h.value,children:h.label},h.value))]}),n&&y.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),Be=({label:t,id:e,error:n,className:r,containerClassName:i,...a})=>y.jsxs("div",{className:i,children:[t&&y.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),y.jsx("input",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...a}),n&&y.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),tX=({transactions:t,accounts:e,categories:n,tags:r,installmentPurchases:i,onAddTransaction:a,onEditTransaction:o,onDeleteTransaction:l,isLoading:c,isPrivacyModeEnabled:d})=>{const[h,f]=R.useState("all"),[v,_]=R.useState("all"),[b,S]=R.useState("all"),[w,A]=R.useState("all"),[I,k]=R.useState([]),[O,E]=R.useState(""),[P,N]=R.useState("desc"),D=[{value:"all",label:"Todas as Contas"},...e.map(B=>({value:B.id,label:B.name}))],$=[{value:"all",label:"Todas as Categorias"},...n.map(B=>({value:B.id,label:B.name}))],F=[{value:"all",label:"Todos os Tipos"},...Ph],L=r.map(B=>({value:B.id,label:B.name})),z=R.useMemo(()=>{let B=[...t];if(h!=="all"){const J=new Date;let K=null,U=new Date(J.getFullYear(),J.getMonth(),J.getDate(),23,59,59,999);if(h==="today"?K=new Date(J.getFullYear(),J.getMonth(),J.getDate()):h==="current_month"?(K=new Date(J.getFullYear(),J.getMonth(),1),U=new Date(J.getFullYear(),J.getMonth()+1,0,23,59,59,999)):h==="last_7_days"?(K=new Date(J),K.setDate(J.getDate()-6),K.setHours(0,0,0,0)):h==="last_30_days"&&(K=new Date(J),K.setDate(J.getDate()-29),K.setHours(0,0,0,0)),K){const te=gt(K),re=gt(U);B=B.filter(j=>j.date>=te&&j.date<=re)}}if(v!=="all"&&(B=B.filter(J=>J.type===v)),b!=="all"&&(B=B.filter(J=>J.account_id===b||J.to_account_id===b)),w!=="all"&&(B=B.filter(J=>J.category_id===w)),I.length>0&&(B=B.filter(J=>J.tag_ids&&J.tag_ids.some(K=>I.includes(K)))),O.trim()!==""){const J=O.toLowerCase();B=B.filter(K=>{var U;return K.description&&K.description.toLowerCase().includes(J)||K.category_id&&((U=n.find(te=>te.id===K.category_id))==null?void 0:U.name.toLowerCase().includes(J))})}return B.sort((J,K)=>{const U=new Date(J.date).getTime(),te=new Date(K.date).getTime();return P==="desc"?te-U:U-te}),B},[t,h,v,b,w,I,O,n,P]),W=R.useCallback(()=>N(B=>B==="asc"?"desc":"asc"),[]),V=B=>{const J=B.target.options,K=[];for(let U=0,te=J.length;U<te;U++)J[U].selected&&K.push(J[U].value);k(K)};return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações"}),y.jsxs(he,{onClick:a,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-6 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[y.jsx(xt,{label:"Período",options:bB,value:h,onChange:B=>f(B.target.value)}),y.jsx(xt,{label:"Tipo",options:F,value:v,onChange:B=>_(B.target.value)}),y.jsx(xt,{label:"Conta",options:D,value:b,onChange:B=>S(B.target.value)}),y.jsx(xt,{label:"Categoria",options:$,value:w,onChange:B=>A(B.target.value),disabled:v===ve.TRANSFER.toString()}),r.length>0&&y.jsx(xt,{label:"Tags",options:L,value:I,onChange:V,multiple:!0,className:"h-24",placeholder:"Todas as Tags"}),y.jsx(Be,{label:"Buscar Descrição",type:"text",placeholder:"Ex: Supermercado",value:O,onChange:B=>E(B.target.value),containerClassName:r.length===0?"lg:col-span-2":""})]}),y.jsx("div",{className:"flex justify-end",children:y.jsxs(he,{variant:"ghost",size:"sm",onClick:W,children:["Ordenar por Data: ",P==="desc"?"Mais Recentes":"Mais Antigas"]})}),c&&y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Carregando transações..."}),!c&&z.length>0?y.jsx("ul",{className:"space-y-3",children:z.map(B=>y.jsx(eX,{transaction:B,accounts:e,categories:n,tags:r,installmentPurchases:i,onEdit:o,onDelete:l,isPrivacyModeEnabled:d},B.id))}):!c&&y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação encontrada com os filtros aplicados."})]})},nX=({account:t,balance:e,onEdit:n,onDelete:r,transactionCount:i,isPrivacyModeEnabled:a})=>y.jsx("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(gp,{className:"w-6 h-6 text-primary dark:text-primaryDark"}),y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),y.jsx("p",{className:`text-2xl font-bold mt-1 ${e>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:de(e,"BRL","pt-BR",a)}),y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1",children:["Saldo Inicial: ",de(t.initial_balance,"BRL","pt-BR",a)]})]}),y.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Conta",children:y.jsx(Ur,{className:"w-4 h-4"})}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Conta",disabled:i>0,title:i>0?"Não pode excluir contas com transações associadas":"Excluir conta",children:y.jsx(qr,{className:`w-4 h-4 ${i>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),i>0&&y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Possui ",i," transaçõe(s)"]})]})]})}),fn=({isOpen:t,onClose:e,title:n,children:r,size:i="md"})=>{if(!t)return null;let a="max-w-md";return i==="sm"&&(a="max-w-sm"),i==="lg"&&(a="max-w-lg"),i==="xl"&&(a="max-w-xl"),y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 dark:bg-opacity-70 backdrop-blur-sm p-4",children:y.jsxs("div",{className:`bg-surface dark:bg-surfaceDark rounded-lg shadow-xl dark:shadow-neutralDark/50 w-full ${a} transform transition-all flex flex-col max-h-[85vh]`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[y.jsxs("div",{id:"modal-title",className:"flex items-center justify-between px-6 py-4 border-b border-borderBase dark:border-borderBaseDark flex-shrink-0",children:[y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n}),y.jsx("button",{onClick:e,className:"text-textMuted dark:text-textMutedDark hover:text-textBase dark:hover:text-textBaseDark transition-colors","aria-label":"Fechar modal",children:y.jsx(TM,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:r})]})})},rX=({accounts:t,transactions:e,onAddAccount:n,onUpdateAccount:r,onDeleteAccount:i,calculateAccountBalance:a,isPrivacyModeEnabled:o})=>{const[l,c]=R.useState(!1),[d,h]=R.useState(null),[f,v]=R.useState(""),[_,b]=R.useState("0"),[S,w]=R.useState(""),A=()=>{h(null),v(""),b("0"),w(""),c(!0)},I=P=>{h(P),v(P.name),b(P.initial_balance.toString()),w(""),c(!0)},k=()=>{c(!1),h(null)},O=()=>{if(!f.trim()){w("Nome da conta é obrigatório.");return}const P=parseFloat(_);if(isNaN(P)){w("Saldo inicial inválido.");return}w(""),d?r({...d,name:f,initial_balance:P}):n({name:f,initial_balance:P}),k()},E=P=>e.filter(N=>N.account_id===P||N.to_account_id===P).length;return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Contas"}),y.jsxs(he,{onClick:A,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Conta"]})]}),t.length>0?y.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(P=>y.jsx(nX,{account:P,balance:a(P.id),onEdit:I,onDelete:i,transactionCount:E(P.id),isPrivacyModeEnabled:o},P.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma conta cadastrada. Adicione uma para começar!"}),y.jsx(fn,{isOpen:l,onClose:k,title:d?"Editar Conta":"Nova Conta",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Be,{label:"Nome da Conta",id:"accountName",type:"text",value:f,onChange:P=>v(P.target.value),placeholder:"Ex: Carteira, Banco X",required:!0}),y.jsx(Be,{label:"Saldo Inicial",id:"initialBalance",type:"number",step:"0.01",value:_,onChange:P=>b(P.target.value),placeholder:o?de(0,"BRL","pt-BR",!0).replace("0,00","Ex: 1000.00"):"Ex: 1000.00",required:!0}),S&&y.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:S}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{variant:"ghost",onClick:k,children:"Cancelar"}),y.jsx(he,{variant:"primary",onClick:O,children:"Salvar"})]})]})})]})},XR=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),IO=({category:t,transactions:e,onEdit:n,onDelete:r,transactionCount:i,isPrivacyModeEnabled:a})=>{const o=t.type===ve.INCOME?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",l=t.type===ve.INCOME?"Receita":"Despesa",c=gt().substring(0,7),d=t.type===ve.EXPENSE&&t.monthly_budget?e.filter(v=>v.category_id===t.id&&v.date.startsWith(c)&&v.type===ve.EXPENSE).reduce((v,_)=>v+_.amount,0):0,h=t.monthly_budget&&t.monthly_budget>0?Math.min(d/t.monthly_budget*100,100):0,f=t.monthly_budget&&d>t.monthly_budget;return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(XR,{className:`w-5 h-5 ${o}`}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.name}),y.jsx("p",{className:`text-xs font-semibold ${o}`,children:l})]})]}),y.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Categoria",className:"!p-1.5",children:y.jsx(Ur,{className:"w-4 h-4"})}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Categoria",className:"!p-1.5",disabled:i>0,title:i>0?"Não pode excluir categorias com transações associadas":"Excluir categoria",children:y.jsx(qr,{className:`w-4 h-4 ${i>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),i>0&&y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Usada em ",i," trans."]})]})]}),t.type===ve.EXPENSE&&t.monthly_budget&&t.monthly_budget>0&&y.jsxs("div",{className:"mt-3 pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[y.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[y.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Orçamento Mensal: ",de(t.monthly_budget,"BRL","pt-BR",a)]}),y.jsxs("span",{className:`font-medium ${f?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark"}`,children:["Gasto: ",de(d,"BRL","pt-BR",a)]})]}),y.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:y.jsx("div",{className:`h-2 rounded-full ${f?"bg-destructive dark:bg-destructiveDark":"bg-primary dark:bg-primaryDark"}`,style:{width:`${h}%`}})}),f&&y.jsx("p",{className:"text-xs text-destructive dark:text-destructiveDark mt-1 text-right",children:"Orçamento excedido!"})]})]})},ao=({className:t="w-5 h-5",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.355a12.053 12.053 0 0 1-4.5 0M12 3V1.5M12 16.5h.008v.008H12V16.5Zm-4.508-2.656L6.292 12.64a9.018 9.018 0 0 1-.365-2.074 9.028 9.028 0 0 1 .365-2.073l1.208-1.208m5.832 5.46L17.708 12.36a9.018 9.018 0 0 0 .365-2.074 9.028 9.028 0 0 0-.365-2.073L16.5 6.992M12 1.5a9 9 0 0 0-9 9c0 2.21.81 4.286 2.186 5.885L6.9 17.72A9.03 9.03 0 0 0 12 22.5a9.03 9.03 0 0 0 5.1-4.78l1.714-1.335A8.973 8.973 0 0 0 21 10.5a9 9 0 0 0-9-9Z"})}),iX=({categories:t,transactions:e,aiConfig:n,onAddCategory:r,onUpdateCategory:i,onDeleteCategory:a,onSuggestBudget:o,isPrivacyModeEnabled:l})=>{const[c,d]=R.useState(!1),[h,f]=R.useState(null),[v,_]=R.useState(""),[b,S]=R.useState(ve.EXPENSE),[w,A]=R.useState(""),[I,k]=R.useState(""),[O,E]=R.useState(!1),P=()=>{f(null),_(""),S(ve.EXPENSE),A(""),k(""),d(!0)},N=V=>{var B;f(V),_(V.name),S(V.type),A(((B=V.monthly_budget)==null?void 0:B.toString())||""),k(""),d(!0)},D=()=>{d(!1),f(null)},$=()=>{if(!v.trim()){k("Nome da categoria é obrigatório.");return}const V=w?parseFloat(w):void 0;if(b===ve.EXPENSE&&w&&(isNaN(V)||V<0)){k("Orçamento mensal deve ser um número positivo ou vazio.");return}k(""),h?i({...h,name:v.trim(),type:b,monthly_budget:b===ve.EXPENSE?V:void 0}):r({name:v.trim(),type:b,monthly_budget:b===ve.EXPENSE?V:void 0}),D()},F=V=>e.filter(B=>B.category_id===V).length,L=async()=>{if(!v.trim()&&!h){k("Por favor, insira um nome para a categoria antes de sugerir um orçamento.");return}k(""),E(!0);const V=t.filter(J=>J.type===ve.EXPENSE&&J.id!==(h==null?void 0:h.id)&&J.monthly_budget).map(J=>({name:J.name,budget:J.monthly_budget})),B=await o((h==null?void 0:h.name)||v,V);B!==null?A(B.toString()):k("Não foi possível sugerir um orçamento no momento."),E(!1)},z=t.filter(V=>V.type===ve.INCOME).sort((V,B)=>V.name.localeCompare(B.name)),W=t.filter(V=>V.type===ve.EXPENSE).sort((V,B)=>V.name.localeCompare(B.name));return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Categorias"}),y.jsxs(he,{onClick:P,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Categoria"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Receitas (",z.length,")"]}),z.length>0?y.jsx("ul",{className:"space-y-3",children:z.map(V=>y.jsx(IO,{category:V,transactions:e,onEdit:N,onDelete:a,transactionCount:F(V.id),isPrivacyModeEnabled:l},V.id))}):y.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de receita."})]}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Despesas (",W.length,")"]}),W.length>0?y.jsx("ul",{className:"space-y-3",children:W.map(V=>y.jsx(IO,{category:V,transactions:e,onEdit:N,onDelete:a,transactionCount:F(V.id),isPrivacyModeEnabled:l},V.id))}):y.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de despesa."})]})]}),y.jsx(fn,{isOpen:c,onClose:D,title:h?"Editar Categoria":"Nova Categoria",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Be,{label:"Nome da Categoria",id:"categoryName",type:"text",value:v,onChange:V=>_(V.target.value),placeholder:"Ex: Alimentação, Salário",required:!0}),y.jsx(xt,{label:"Tipo de Categoria",id:"categoryType",options:[{value:ve.INCOME,label:"Receita"},{value:ve.EXPENSE,label:"Despesa"}],value:b,onChange:V=>{S(V.target.value),V.target.value===ve.INCOME&&A("")},required:!0}),b===ve.EXPENSE&&y.jsxs("div",{className:"space-y-1",children:[y.jsx(Be,{label:"Orçamento Mensal (Opcional)",id:"monthlyBudget",type:"number",step:"0.01",value:w,onChange:V=>A(V.target.value),placeholder:l?de(0,"BRL","pt-BR",!0).replace("0,00","Ex: 500.00"):"Ex: 500.00"}),n.isEnabled&&n.apiKeyStatus==="available"&&n.monthlyIncome&&n.monthlyIncome>0&&y.jsxs(he,{type:"button",variant:"ghost",size:"sm",onClick:L,disabled:O,className:"text-primary dark:text-primaryDark !mt-1.5",children:[y.jsx(ao,{className:"w-4 h-4 mr-1.5"}),O?"Sugerindo...":"Sugerir com IA"]})]}),I&&y.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:I}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{variant:"ghost",onClick:D,children:"Cancelar"}),y.jsx(he,{variant:"primary",onClick:$,children:"Salvar"})]})]})})]})},Ow=({className:t="w-5 h-5",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25zM12 2.25L11.187 5.104a4.502 4.502 0 00-3.09 3.09L5.25 9l2.846.813a4.502 4.502 0 003.09 3.09L12 15.75l.813-2.846a4.502 4.502 0 003.09-3.09L18.75 9l-2.846-.813a4.502 4.502 0 00-3.09-3.09L12 2.25z"})]}),aX=({card:t,installmentPurchases:e,onEditCard:n,onDeleteCard:r,onAddInstallmentPurchase:i,onEditInstallmentPurchase:a,onDeleteInstallmentPurchase:o,onMarkInstallmentPaid:l,onGetBestPurchaseDay:c,onPayMonthlyInstallments:d,isAIFeatureEnabled:h,isPrivacyModeEnabled:f})=>{const[v,_]=R.useState(!1),b=e.filter(I=>I.credit_card_id===t.id),S=b.reduce((I,k)=>{if(k.installments_paid>=k.number_of_installments)return I;const O=k.total_amount/k.number_of_installments,E=k.number_of_installments-k.installments_paid;return I+O*E},0),w=t.card_limit-S,A=H.useMemo(()=>CB(b,t,new Date),[b,t]);return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow-lg hover:shadow-xl dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[y.jsx(gp,{className:"w-7 h-7 text-primary dark:text-primaryDark"}),y.jsx("h3",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Limite Total: ",de(t.card_limit,"BRL","pt-BR",f)]}),y.jsxs("p",{className:`text-md font-medium ${w>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:["Disponível: ",de(w,"BRL","pt-BR",f)]}),y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Fechamento: Dia ",t.closing_day," | Vencimento: Dia ",t.due_day]})]}),y.jsxs("div",{className:"flex flex-col items-end space-y-1.5",children:[y.jsxs("div",{className:"flex space-x-1",children:[y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Cartão",className:"!p-1.5",children:y.jsx(Ur,{className:"w-4 h-4"})}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Cartão",className:"!p-1.5",disabled:b.length>0,title:b.length>0?"Exclua as compras parceladas primeiro":"Excluir cartão",children:y.jsx(qr,{className:`w-4 h-4 ${b.length>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),y.jsxs(he,{size:"sm",variant:"secondary",onClick:()=>i(t),className:"!text-xs !py-1 !px-2.5",children:[y.jsx(kn,{className:"w-4 h-4 mr-1"})," Novo Parcelamento"]})]})]}),y.jsxs("div",{className:"space-y-2",children:[h&&y.jsxs(he,{variant:"ghost",size:"sm",onClick:()=>c(t.id),className:"text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !text-xs",title:"Ver melhor dia para compra com IA",children:[y.jsx(Ow,{className:"w-4 h-4 mr-1.5"})," Melhor Dia para Compra (IA)"]}),A.length>0&&y.jsxs(he,{variant:"primary",size:"sm",onClick:()=>d(t.id),className:"w-full !text-xs",children:["Pagar Parcelas da Fatura (",A.length,")"]})]}),b.length>0&&y.jsx("div",{className:"mt-2",children:y.jsxs(he,{variant:"ghost",size:"sm",onClick:()=>_(!v),className:"text-sm text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !font-normal",children:[v?"Ocultar":"Mostrar"," ",b.length," Compra(s) Parcelada(s)"]})}),v&&b.length>0&&y.jsxs("div",{className:"mt-2 pt-3 border-t border-borderBase/50 dark:border-borderBaseDark/50 space-y-3",children:[y.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark",children:"Detalhes dos Parcelamentos:"}),y.jsx("ul",{className:"space-y-3 max-h-72 overflow-y-auto pr-1",children:b.map(I=>{const k=I.total_amount/I.number_of_installments,O=I.installments_paid>=I.number_of_installments,E=I.installments_paid+1,P=O?null:kM(I.purchase_date,E,t.due_day),N=A.some(D=>D.id===I.id);return y.jsxs("li",{className:`p-3 rounded-md ${O?"bg-green-500/10 dark:bg-green-500/20 opacity-70":"bg-surface dark:bg-surfaceDark shadow-sm border border-borderBase dark:border-borderBaseDark"}`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[y.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:I.description}),y.jsxs("div",{className:"flex space-x-1",children:[y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>a(I,t),"aria-label":"Editar Compra",className:"!p-1",children:y.jsx(Ur,{className:"w-3.5 h-3.5"})}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>o(I.id),"aria-label":"Excluir Compra",className:"!p-1",children:y.jsx(qr,{className:"w-3.5 h-3.5 text-destructive dark:text-destructiveDark"})})]})]}),y.jsxs("div",{className:"text-sm space-y-0.5",children:[y.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Parcela: ",y.jsx("span",{className:"font-medium",children:de(k,"BRL","pt-BR",f)}),y.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:[" (",I.installments_paid,"/",I.number_of_installments," pagas)"]})]}),y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Total: ",de(I.total_amount,"BRL","pt-BR",f)," | Compra: ",jn(I.purchase_date)]}),P&&!O&&y.jsxs("p",{className:`text-xs font-medium ${N?"text-red-600 dark:text-red-400":"text-textMuted dark:text-textMutedDark"}`,children:["Próx. Venc. Parcela: ",jn(gt(P))]})]}),!O&&y.jsxs(he,{size:"sm",variant:N?"primary":"ghost",onClick:()=>l(I.id),className:`text-xs py-1 px-2 mt-2.5 w-full sm:w-auto ${N?"":"border border-borderBase dark:border-borderBaseDark"}`,children:[N?y.jsx(Nx,{className:"w-4 h-4 mr-1"}):null,"Pagar Parcela (",E,")"]}),O&&y.jsxs("p",{className:"text-xs text-secondary dark:text-secondaryDark mt-2 font-medium flex items-center",children:[y.jsx(Nx,{className:"w-4 h-4 mr-1"})," Compra Totalmente Paga"]})]},I.id)})})]}),v&&b.length===0&&y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center py-2",children:"Nenhuma compra parcelada para este cartão."})]})},oX=({isOpen:t,onClose:e,onSave:n,existingCard:r})=>{const[i,a]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState(""),[h,f]=R.useState(""),[v,_]=R.useState({});R.useEffect(()=>{r?(a(r.name),l(r.card_limit.toString()),d(r.closing_day.toString()),f(r.due_day.toString())):(a(""),l(""),d(""),f("")),_({})},[r,t]);const b=()=>{const w={};i.trim()||(w.name="Nome do cartão é obrigatório.");const A=parseFloat(o);(isNaN(A)||A<=0)&&(w.limit="Limite deve ser um número positivo.");const I=parseInt(c,10);(isNaN(I)||I<1||I>31)&&(w.closingDay="Dia de fechamento deve ser entre 1 e 31.");const k=parseInt(h,10);return(isNaN(k)||k<1||k>31)&&(w.dueDay="Dia de vencimento deve ser entre 1 e 31."),_(w),Object.keys(w).length===0},S=()=>{if(!b())return;const w={id:(r==null?void 0:r.id)||Xe(),name:i.trim(),card_limit:parseFloat(o),closing_day:parseInt(c,10),due_day:parseInt(h,10)};n(w),e()};return y.jsx(fn,{isOpen:t,onClose:e,title:r?"Editar Cartão de Crédito":"Novo Cartão de Crédito",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Be,{label:"Nome do Cartão",id:"cardName",value:i,onChange:w=>a(w.target.value),error:v.name,placeholder:"Ex: Cartão Principal, Cartão Viagem"}),y.jsx(Be,{label:"Limite do Cartão (R$)",id:"cardLimit",type:"number",step:"0.01",value:o,onChange:w=>l(w.target.value),error:v.limit,placeholder:"Ex: 5000.00"}),y.jsx(Be,{label:"Dia de Fechamento da Fatura",id:"cardClosingDay",type:"number",min:"1",max:"31",value:c,onChange:w=>d(w.target.value),error:v.closingDay,placeholder:"Ex: 25"}),y.jsx(Be,{label:"Dia de Vencimento da Fatura",id:"cardDueDay",type:"number",min:"1",max:"31",value:h,onChange:w=>f(w.target.value),error:v.dueDay,placeholder:"Ex: 10"}),v.form&&y.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:v.form}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(he,{variant:"primary",onClick:S,children:"Salvar Cartão"})]})]})})},sX=({isOpen:t,onClose:e,onSave:n,creditCard:r,existingPurchase:i})=>{const[a,o]=R.useState(""),[l,c]=R.useState(gt()),[d,h]=R.useState(""),[f,v]=R.useState(""),[_,b]=R.useState("0"),[S,w]=R.useState({});R.useEffect(()=>{i?(o(i.description),c(i.purchase_date),h(i.total_amount.toString()),v(i.number_of_installments.toString()),b(i.installments_paid.toString())):(o(""),c(gt()),h(""),v(""),b("0")),w({})},[i,t]);const A=()=>{const k={};a.trim()||(k.description="Descrição é obrigatória."),l||(k.purchaseDate="Data da compra é obrigatória.");const O=parseFloat(d);(isNaN(O)||O<=0)&&(k.totalAmount="Valor total deve ser positivo.");const E=parseInt(f,10);(isNaN(E)||E<=0)&&(k.numberOfInstallments="Número de parcelas deve ser positivo.");const P=parseInt(_,10);return(isNaN(P)||P<0||E>0&&P>E)&&(k.installmentsPaid="Parcelas pagas inválido."),w(k),Object.keys(k).length===0},I=()=>{if(!A())return;const k={id:(i==null?void 0:i.id)||Xe(),credit_card_id:r.id,description:a.trim(),purchase_date:l,total_amount:parseFloat(d),number_of_installments:parseInt(f,10),installments_paid:parseInt(_,10)};n(k),e()};return y.jsxs(fn,{isOpen:t,onClose:e,title:i?"Editar Compra Parcelada":"Nova Compra Parcelada",children:[y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark mb-3",children:["Cartão: ",y.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:r.name})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx(Be,{label:"Descrição da Compra",id:"purchaseDescription",value:a,onChange:k=>o(k.target.value),error:S.description,placeholder:"Ex: Celular Novo, Geladeira"}),y.jsx(Be,{label:"Data da Compra",id:"purchaseDate",type:"date",value:l,onChange:k=>c(k.target.value),error:S.purchaseDate}),y.jsx(Be,{label:"Valor Total (R$)",id:"totalAmount",type:"number",step:"0.01",value:d,onChange:k=>h(k.target.value),error:S.totalAmount,placeholder:"Ex: 1200.00"}),y.jsx(Be,{label:"Número de Parcelas",id:"numberOfInstallments",type:"number",min:"1",value:f,onChange:k=>v(k.target.value),error:S.numberOfInstallments,placeholder:"Ex: 12"}),i&&y.jsx(Be,{label:"Parcelas Pagas",id:"installmentsPaid",type:"number",min:"0",max:f||void 0,value:_,onChange:k=>b(k.target.value),error:S.installmentsPaid}),S.form&&y.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:S.form}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(he,{variant:"primary",onClick:I,children:"Salvar Compra"})]})]})]})},lX=({isOpen:t,onClose:e,advice:n,isLoading:r,cardName:i})=>y.jsxs(fn,{isOpen:t,onClose:e,title:`Melhor Dia para Compra ${i?`(${i})`:""}`,size:"md",children:[r&&y.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 p-6",children:[y.jsx(Ow,{className:"w-12 h-12 text-primary dark:text-primaryDark animate-pulse"}),y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Analisando o melhor dia para sua compra..."}),y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Aguarde um momento."})]}),!r&&n&&y.jsxs("div",{className:"space-y-4 p-2",children:[n.error?y.jsxs("div",{className:"bg-destructive/10 dark:bg-destructiveDark/20 p-4 rounded-md border-l-4 border-destructive dark:border-destructiveDark",children:[y.jsx("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-1",children:"Erro ao Analisar"}),y.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:n.explanation||"Não foi possível obter a sugestão no momento."})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Melhor dia para sua próxima compra:"}),y.jsx("p",{className:"text-2xl font-bold text-primary dark:text-primaryDark my-1",children:n.bestPurchaseDay||"N/A"})]}),y.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-4 rounded-md",children:[y.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Pagamento estimado para:"}),y.jsx("p",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n.paymentDueDate||"N/A"})]}),y.jsxs("div",{className:"mt-3",children:[y.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"Por quê?"}),y.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark bg-surface p-3 rounded-md shadow-inner dark:bg-surfaceDark/50",children:n.explanation||"Informação não disponível."})]})]}),y.jsx("div",{className:"flex justify-end pt-3",children:y.jsx(he,{variant:"primary",onClick:e,children:"Entendido"})})]}),!r&&!n&&y.jsxs("div",{className:"text-center p-6",children:[y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Não foi possível carregar a sugestão."}),y.jsx(he,{variant:"ghost",onClick:e,className:"mt-4",children:"Fechar"})]})]});var ct;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ct||(ct={}));var OO;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(OO||(OO={}));const Ne=ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sa=t=>{switch(typeof t){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return Number.isNaN(t)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(t)?Ne.array:t===null?Ne.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ne.promise:typeof Map<"u"&&t instanceof Map?Ne.map:typeof Set<"u"&&t instanceof Set?Ne.set:typeof Date<"u"&&t instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},_e=ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Oi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof Oi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Oi.create=t=>new Oi(t);const eb=(t,e)=>{let n;switch(t.code){case _e.invalid_type:t.received===Ne.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case _e.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ct.jsonStringifyReplacer)}`;break;case _e.unrecognized_keys:n=`Unrecognized key(s) in object: ${ct.joinValues(t.keys,", ")}`;break;case _e.invalid_union:n="Invalid input";break;case _e.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ct.joinValues(t.options)}`;break;case _e.invalid_enum_value:n=`Invalid enum value. Expected ${ct.joinValues(t.options)}, received '${t.received}'`;break;case _e.invalid_arguments:n="Invalid function arguments";break;case _e.invalid_return_type:n="Invalid function return type";break;case _e.invalid_date:n="Invalid date";break;case _e.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ct.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case _e.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case _e.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case _e.custom:n="Invalid input";break;case _e.invalid_intersection_types:n="Intersection results could not be merged";break;case _e.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case _e.not_finite:n="Number must be finite";break;default:n=e.defaultError,ct.assertNever(t)}return{message:n}};let uX=eb;function cX(){return uX}const dX=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}};function Te(t,e){const n=cX(),r=dX({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===eb?void 0:eb].filter(i=>!!i)});t.common.issues.push(r)}class $n{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Ze;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return $n.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Ze;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const Ze=Object.freeze({status:"aborted"}),yu=t=>({status:"dirty",value:t}),Cr=t=>({status:"valid",value:t}),NO=t=>t.status==="aborted",MO=t=>t.status==="dirty",el=t=>t.status==="valid",yh=t=>typeof Promise<"u"&&t instanceof Promise;var $e;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})($e||($e={}));class ni{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const DO=(t,e)=>{if(el(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Oi(t.common.issues);return this._error=n,this._error}}};function tt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class ot{get description(){return this._def.description}_getType(e){return sa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new $n,ctx:{common:e.parent.common,data:e.data,parsedType:sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(yh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)},i=this._parseSync({data:e,path:r.path,parent:r});return DO(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return el(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>el(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(yh(i)?i:Promise.resolve(i));return DO(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:_e.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new rl({schema:this,typeName:Je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return pa.create(this,this._def)}nullable(){return il.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ei.create(this)}promise(){return Sh.create(this,this._def)}or(e){return _h.create([this,e],this._def)}and(e){return bh.create(this,e,this._def)}transform(e){return new rl({...tt(this._def),schema:this,typeName:Je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ib({...tt(this._def),innerType:this,defaultValue:n,typeName:Je.ZodDefault})}brand(){return new DX({typeName:Je.ZodBranded,type:this,...tt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new ab({...tt(this._def),innerType:this,catchValue:n,typeName:Je.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Nw.create(this,e)}readonly(){return ob.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fX=/^c[^\s-]{8,}$/i,hX=/^[0-9a-z]+$/,pX=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gX=/^[a-z0-9_-]{21}$/i,vX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_X="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _x;const bX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,SX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,CX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TX=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ZR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",EX=new RegExp(`^${ZR}$`);function QR(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function AX(t){return new RegExp(`^${QR(t)}$`)}function PX(t){let e=`${ZR}T${QR(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function IX(t,e){return!!((e==="v4"||!e)&&bX.test(t)||(e==="v6"||!e)&&SX.test(t))}function OX(t,e){if(!vX.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function NX(t,e){return!!((e==="v4"||!e)&&wX.test(t)||(e==="v6"||!e)&&CX.test(t))}class Jr extends ot{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ne.string){const a=this._getOrReturnCtx(e);return Te(a,{code:_e.invalid_type,expected:Ne.string,received:a.parsedType}),Ze}const r=new $n;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:_e.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:_e.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Te(i,{code:_e.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Te(i,{code:_e.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")xX.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"email",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")_x||(_x=new RegExp(_X,"u")),_x.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"emoji",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")mX.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"uuid",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")gX.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"nanoid",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")fX.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cuid",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")hX.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cuid2",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")pX.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"ulid",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Te(i,{validation:"url",code:_e.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"regex",code:_e.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Te(i,{code:_e.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Te(i,{code:_e.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Te(i,{code:_e.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?PX(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:_e.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?EX.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:_e.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?AX(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:_e.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?yX.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"duration",code:_e.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?IX(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"ip",code:_e.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?OX(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"jwt",code:_e.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?NX(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cidr",code:_e.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?kX.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"base64",code:_e.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?TX.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"base64url",code:_e.invalid_string,message:a.message}),r.dirty()):ct.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:_e.invalid_string,...$e.errToObj(r)})}_addCheck(e){return new Jr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$e.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$e.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...$e.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$e.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...$e.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$e.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...$e.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...$e.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...$e.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...$e.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...$e.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...$e.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...$e.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...$e.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...$e.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...$e.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...$e.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...$e.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...$e.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...$e.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...$e.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...$e.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...$e.errToObj(n)})}nonempty(e){return this.min(1,$e.errToObj(e))}trim(){return new Jr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Jr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Jr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Jr.create=t=>new Jr({checks:[],typeName:Je.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...tt(t)});function MX(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class ho extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ne.number){const a=this._getOrReturnCtx(e);return Te(a,{code:_e.invalid_type,expected:Ne.number,received:a.parsedType}),Ze}let r;const i=new $n;for(const a of this._def.checks)a.kind==="int"?ct.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:_e.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:_e.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:_e.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?MX(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Te(r,{code:_e.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:_e.not_finite,message:a.message}),i.dirty()):ct.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,$e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,$e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,$e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,$e.toString(n))}setLimit(e,n,r,i){return new ho({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:$e.toString(i)}]})}_addCheck(e){return new ho({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$e.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:$e.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:$e.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ct.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ho.create=t=>new ho({checks:[],typeName:Je.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...tt(t)});class po extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ne.bigint)return this._getInvalidInput(e);let r;const i=new $n;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:_e.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:_e.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:_e.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ct.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Te(n,{code:_e.invalid_type,expected:Ne.bigint,received:n.parsedType}),Ze}gte(e,n){return this.setLimit("min",e,!0,$e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,$e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,$e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,$e.toString(n))}setLimit(e,n,r,i){return new po({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:$e.toString(i)}]})}_addCheck(e){return new po({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:$e.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}po.create=t=>new po({checks:[],typeName:Je.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...tt(t)});class xh extends ot{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ne.boolean){const r=this._getOrReturnCtx(e);return Te(r,{code:_e.invalid_type,expected:Ne.boolean,received:r.parsedType}),Ze}return Cr(e.data)}}xh.create=t=>new xh({typeName:Je.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...tt(t)});class tl extends ot{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ne.date){const a=this._getOrReturnCtx(e);return Te(a,{code:_e.invalid_type,expected:Ne.date,received:a.parsedType}),Ze}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Te(a,{code:_e.invalid_date}),Ze}const r=new $n;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:_e.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:_e.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ct.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:$e.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:$e.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}tl.create=t=>new tl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Je.ZodDate,...tt(t)});class RO extends ot{_parse(e){if(this._getType(e)!==Ne.symbol){const r=this._getOrReturnCtx(e);return Te(r,{code:_e.invalid_type,expected:Ne.symbol,received:r.parsedType}),Ze}return Cr(e.data)}}RO.create=t=>new RO({typeName:Je.ZodSymbol,...tt(t)});class jO extends ot{_parse(e){if(this._getType(e)!==Ne.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:_e.invalid_type,expected:Ne.undefined,received:r.parsedType}),Ze}return Cr(e.data)}}jO.create=t=>new jO({typeName:Je.ZodUndefined,...tt(t)});class $O extends ot{_parse(e){if(this._getType(e)!==Ne.null){const r=this._getOrReturnCtx(e);return Te(r,{code:_e.invalid_type,expected:Ne.null,received:r.parsedType}),Ze}return Cr(e.data)}}$O.create=t=>new $O({typeName:Je.ZodNull,...tt(t)});class LO extends ot{constructor(){super(...arguments),this._any=!0}_parse(e){return Cr(e.data)}}LO.create=t=>new LO({typeName:Je.ZodAny,...tt(t)});class tb extends ot{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Cr(e.data)}}tb.create=t=>new tb({typeName:Je.ZodUnknown,...tt(t)});class ma extends ot{_parse(e){const n=this._getOrReturnCtx(e);return Te(n,{code:_e.invalid_type,expected:Ne.never,received:n.parsedType}),Ze}}ma.create=t=>new ma({typeName:Je.ZodNever,...tt(t)});class BO extends ot{_parse(e){if(this._getType(e)!==Ne.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:_e.invalid_type,expected:Ne.void,received:r.parsedType}),Ze}return Cr(e.data)}}BO.create=t=>new BO({typeName:Je.ZodVoid,...tt(t)});class ei extends ot{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ne.array)return Te(n,{code:_e.invalid_type,expected:Ne.array,received:n.parsedType}),Ze;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Te(n,{code:o?_e.too_big:_e.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Te(n,{code:_e.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Te(n,{code:_e.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new ni(n,o,n.path,l)))).then(o=>$n.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new ni(n,o,n.path,l)));return $n.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new ei({...this._def,minLength:{value:e,message:$e.toString(n)}})}max(e,n){return new ei({...this._def,maxLength:{value:e,message:$e.toString(n)}})}length(e,n){return new ei({...this._def,exactLength:{value:e,message:$e.toString(n)}})}nonempty(e){return this.min(1,e)}}ei.create=(t,e)=>new ei({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Je.ZodArray,...tt(e)});function gs(t){if(t instanceof Yt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=pa.create(gs(r))}return new Yt({...t._def,shape:()=>e})}else return t instanceof ei?new ei({...t._def,type:gs(t.element)}):t instanceof pa?pa.create(gs(t.unwrap())):t instanceof il?il.create(gs(t.unwrap())):t instanceof mo?mo.create(t.items.map(e=>gs(e))):t}class Yt extends ot{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ct.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ne.object){const d=this._getOrReturnCtx(e);return Te(d,{code:_e.invalid_type,expected:Ne.object,received:d.parsedType}),Ze}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ma&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=a[d],f=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new ni(i,f,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof ma){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Te(i,{code:_e.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const f=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new ni(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const f=await h.key,v=await h.value;d.push({key:f,value:v,alwaysSet:h.alwaysSet})}return d}).then(d=>$n.mergeObjectSync(r,d)):$n.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return $e.errToObj,new Yt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:$e.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Yt({...this._def,unknownKeys:"strip"})}passthrough(){return new Yt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Yt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Yt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Je.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Yt({...this._def,catchall:e})}pick(e){const n={};for(const r of ct.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Yt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ct.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Yt({...this._def,shape:()=>n})}deepPartial(){return gs(this)}partial(e){const n={};for(const r of ct.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Yt({...this._def,shape:()=>n})}required(e){const n={};for(const r of ct.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof pa;)a=a._def.innerType;n[r]=a}return new Yt({...this._def,shape:()=>n})}keyof(){return ej(ct.objectKeys(this.shape))}}Yt.create=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strip",catchall:ma.create(),typeName:Je.ZodObject,...tt(e)});Yt.strictCreate=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strict",catchall:ma.create(),typeName:Je.ZodObject,...tt(e)});Yt.lazycreate=(t,e)=>new Yt({shape:t,unknownKeys:"strip",catchall:ma.create(),typeName:Je.ZodObject,...tt(e)});class _h extends ot{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Oi(l.ctx.common.issues));return Te(n,{code:_e.invalid_union,unionErrors:o}),Ze}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Oi(c));return Te(n,{code:_e.invalid_union,unionErrors:l}),Ze}}get options(){return this._def.options}}_h.create=(t,e)=>new _h({options:t,typeName:Je.ZodUnion,...tt(e)});function nb(t,e){const n=sa(t),r=sa(e);if(t===e)return{valid:!0,data:t};if(n===Ne.object&&r===Ne.object){const i=ct.objectKeys(e),a=ct.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=nb(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Ne.array&&r===Ne.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=nb(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Ne.date&&r===Ne.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class bh extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(NO(a)||NO(o))return Ze;const l=nb(a.value,o.value);return l.valid?((MO(a)||MO(o))&&n.dirty(),{status:n.value,value:l.data}):(Te(r,{code:_e.invalid_intersection_types}),Ze)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}bh.create=(t,e,n)=>new bh({left:t,right:e,typeName:Je.ZodIntersection,...tt(n)});class mo extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.array)return Te(r,{code:_e.invalid_type,expected:Ne.array,received:r.parsedType}),Ze;if(r.data.length<this._def.items.length)return Te(r,{code:_e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&r.data.length>this._def.items.length&&(Te(r,{code:_e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ni(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>$n.mergeArray(n,o)):$n.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new mo({...this._def,rest:e})}}mo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mo({items:t,typeName:Je.ZodTuple,rest:null,...tt(e)})};class wh extends ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.object)return Te(r,{code:_e.invalid_type,expected:Ne.object,received:r.parsedType}),Ze;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new ni(r,l,r.path,l)),value:o._parse(new ni(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?$n.mergeObjectAsync(n,i):$n.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ot?new wh({keyType:e,valueType:n,typeName:Je.ZodRecord,...tt(r)}):new wh({keyType:Jr.create(),valueType:e,typeName:Je.ZodRecord,...tt(n)})}}class FO extends ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.map)return Te(r,{code:_e.invalid_type,expected:Ne.map,received:r.parsedType}),Ze;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new ni(r,l,r.path,[d,"key"])),value:a._parse(new ni(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return Ze;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return Ze;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}FO.create=(t,e,n)=>new FO({valueType:e,keyType:t,typeName:Je.ZodMap,...tt(n)});class hc extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.set)return Te(r,{code:_e.invalid_type,expected:Ne.set,received:r.parsedType}),Ze;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Te(r,{code:_e.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Te(r,{code:_e.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return Ze;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new ni(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new hc({...this._def,minSize:{value:e,message:$e.toString(n)}})}max(e,n){return new hc({...this._def,maxSize:{value:e,message:$e.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}hc.create=(t,e)=>new hc({valueType:t,minSize:null,maxSize:null,typeName:Je.ZodSet,...tt(e)});class rb extends ot{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}rb.create=(t,e)=>new rb({getter:t,typeName:Je.ZodLazy,...tt(e)});class qO extends ot{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Te(n,{received:n.data,code:_e.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:e.data}}get value(){return this._def.value}}qO.create=(t,e)=>new qO({value:t,typeName:Je.ZodLiteral,...tt(e)});function ej(t,e){return new nl({values:t,typeName:Je.ZodEnum,...tt(e)})}class nl extends ot{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{expected:ct.joinValues(r),received:n.parsedType,code:_e.invalid_type}),Ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{received:n.data,code:_e.invalid_enum_value,options:r}),Ze}return Cr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return nl.create(e,{...this._def,...n})}exclude(e,n=this._def){return nl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}nl.create=ej;class UO extends ot{_parse(e){const n=ct.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ne.string&&r.parsedType!==Ne.number){const i=ct.objectValues(n);return Te(r,{expected:ct.joinValues(i),received:r.parsedType,code:_e.invalid_type}),Ze}if(this._cache||(this._cache=new Set(ct.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ct.objectValues(n);return Te(r,{received:r.data,code:_e.invalid_enum_value,options:i}),Ze}return Cr(e.data)}get enum(){return this._def.values}}UO.create=(t,e)=>new UO({values:t,typeName:Je.ZodNativeEnum,...tt(e)});class Sh extends ot{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.promise&&n.common.async===!1)return Te(n,{code:_e.invalid_type,expected:Ne.promise,received:n.parsedType}),Ze;const r=n.parsedType===Ne.promise?n.data:Promise.resolve(n.data);return Cr(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Sh.create=(t,e)=>new Sh({type:t,typeName:Je.ZodPromise,...tt(e)});class rl extends ot{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Te(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Ze;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ze:c.status==="dirty"||n.value==="dirty"?yu(c.value):c});{if(n.value==="aborted")return Ze;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Ze:l.status==="dirty"||n.value==="dirty"?yu(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ze:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Ze:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!el(o))return Ze;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>el(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):Ze);ct.assertNever(i)}}rl.create=(t,e,n)=>new rl({schema:t,typeName:Je.ZodEffects,effect:e,...tt(n)});rl.createWithPreprocess=(t,e,n)=>new rl({schema:e,effect:{type:"preprocess",transform:t},typeName:Je.ZodEffects,...tt(n)});class pa extends ot{_parse(e){return this._getType(e)===Ne.undefined?Cr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pa.create=(t,e)=>new pa({innerType:t,typeName:Je.ZodOptional,...tt(e)});class il extends ot{_parse(e){return this._getType(e)===Ne.null?Cr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}il.create=(t,e)=>new il({innerType:t,typeName:Je.ZodNullable,...tt(e)});class ib extends ot{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ne.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ib.create=(t,e)=>new ib({innerType:t,typeName:Je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...tt(e)});class ab extends ot{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return yh(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Oi(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Oi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ab.create=(t,e)=>new ab({innerType:t,typeName:Je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...tt(e)});class VO extends ot{_parse(e){if(this._getType(e)!==Ne.nan){const r=this._getOrReturnCtx(e);return Te(r,{code:_e.invalid_type,expected:Ne.nan,received:r.parsedType}),Ze}return{status:"valid",value:e.data}}}VO.create=t=>new VO({typeName:Je.ZodNaN,...tt(t)});class DX extends ot{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Nw extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ze:a.status==="dirty"?(n.dirty(),yu(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ze:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Nw({in:e,out:n,typeName:Je.ZodPipeline})}}class ob extends ot{_parse(e){const n=this._def.innerType._parse(e),r=i=>(el(i)&&(i.value=Object.freeze(i.value)),i);return yh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}ob.create=(t,e)=>new ob({innerType:t,typeName:Je.ZodReadonly,...tt(e)});var Je;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Je||(Je={}));const Wa=Jr.create,zO=ho.create;po.create;const RX=xh.create;tl.create;const GO=tb.create;ma.create;const xu=ei.create,jX=Yt.create,$X=_h.create;bh.create;mo.create;const LX=wh.create,BX=rb.create,FX=nl.create;Sh.create;pa.create;il.create;const ps={string:t=>Jr.create({...t,coerce:!0}),number:t=>ho.create({...t,coerce:!0}),boolean:t=>xh.create({...t,coerce:!0}),bigint:t=>po.create({...t,coerce:!0}),date:t=>tl.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qX,UX;function VX(){return{geminiUrl:qX,vertexUrl:UX}}function zX(t,e,n){var r,i,a;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const o=VX();return t.vertexai?(i=o.vertexUrl)!==null&&i!==void 0?i:e:(a=o.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ml{}function Ge(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];g(h,e.slice(a+1),n[d])}else for(const d of c)g(d,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];g(c[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function m(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(o=>m(o,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var HO;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(HO||(HO={}));var WO;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(WO||(WO={}));var Xr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Xr||(Xr={}));var KO;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(KO||(KO={}));var YO;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(YO||(YO={}));var JO;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(JO||(JO={}));var XO;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(XO||(XO={}));var ZO;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ZO||(ZO={}));var QO;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(QO||(QO={}));var eN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(eN||(eN={}));var tN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tN||(tN={}));var nN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(nN||(nN={}));var rN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rN||(rN={}));var Ch;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ch||(Ch={}));var iN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(iN||(iN={}));var sb;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(sb||(sb={}));var aN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(aN||(aN={}));var oN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(oN||(oN={}));var sN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(sN||(sN={}));var lN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(lN||(lN={}));var uN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(uN||(uN={}));var cN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(cN||(cN={}));var dN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(dN||(dN={}));var fN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(fN||(fN={}));var hN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(hN||(hN={}));var pN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pN||(pN={}));var mN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(mN||(mN={}));var gN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gN||(gN={}));var vN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(vN||(vN={}));var yN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(yN||(yN={}));var xN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(xN||(xN={}));var _N;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(_N||(_N={}));var bN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(bN||(bN={}));var wN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wN||(wN={}));var SN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(SN||(SN={}));var CN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(CN||(CN={}));var kN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(kN||(kN={}));var TN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(TN||(TN={}));var ws;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ws||(ws={}));class hu{get text(){var e,n,r,i,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const f=[];for(const v of(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[_,b]of Object.entries(v))_!=="text"&&_!=="thought"&&(b!==null||b!==void 0)&&f.push(_);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,d+=v.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const f of(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[v,_]of Object.entries(f))v!=="inlineData"&&(_!==null||_!==void 0)&&h.push(v);f.inlineData&&typeof f.inlineData.data=="string"&&(d+=atob(f.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,a,o,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,a,o,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class EN{}class AN{}class GX{}class HX{}class PN{}class IN{}class ON{}class WX{}class NN{}class MN{}class DN{}class KX{}class lb{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class YX{}class JX{}class XX{get text(){var e,n,r;let i="",a=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="text"&&c!=="thought"&&d!==null&&o.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="inlineData"&&c!==null&&a.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class ZX{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function It(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function tj(t,e){const n=It(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function nj(t,e){return Array.isArray(e)?e.map(n=>kh(t,n)):[kh(t,e)]}function kh(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function QX(t,e){const n=kh(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function eZ(t,e){const n=kh(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function RN(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function rj(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>RN(t,n)):[RN(t,e)]}function ub(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function jN(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function $N(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Rn(t,e){if(e==null)throw new Error("ContentUnion is required");return ub(e)?e:{role:"user",parts:rj(t,e)}}function ij(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Rn(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Rn(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Rn(t,n)):[Rn(t,e)]}function Br(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(jN(e)||$N(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rn(t,e)]}const n=[],r=[],i=ub(e[0]);for(const a of e){const o=ub(a);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)n.push(a);else{if(jN(a)||$N(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(a)}}return i||n.push({role:"user",parts:rj(t,r)}),n}const tZ=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),LN=FX(["string","number","integer","object","array","boolean","null"]),nZ=$X([LN,xu(LN)]);function rZ(t=!0){const e=BX(()=>{const n=jX({type:nZ.optional(),format:Wa().optional(),title:Wa().optional(),description:Wa().optional(),default:GO().optional(),items:e.optional(),minItems:ps.string().optional(),maxItems:ps.string().optional(),enum:xu(GO()).optional(),properties:LX(Wa(),e).optional(),required:xu(Wa()).optional(),minProperties:ps.string().optional(),maxProperties:ps.string().optional(),propertyOrdering:xu(Wa()).optional(),minimum:zO().optional(),maximum:zO().optional(),minLength:ps.string().optional(),maxLength:ps.string().optional(),pattern:Wa().optional(),anyOf:xu(e).optional(),additionalProperties:RX().optional()});return t?n.strict():n});return e}function iZ(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Xr).includes(n[0].toUpperCase())?n[0].toUpperCase():Xr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Xr).includes(r.toUpperCase())?r.toUpperCase():Xr.TYPE_UNSPECIFIED})}}function Es(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&iZ(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Xr).includes(l.toUpperCase())?l.toUpperCase():Xr.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Es(l);else if(r.includes(o)){const c=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}c.push(Es(d))}e[o]=c}else if(i.includes(o)){const c={};for(const[d,h]of Object.entries(l))c[d]=Es(h);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=l}return e}function Th(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=rZ().parse(e);return Es(n)}else return Es(e)}function aj(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Mw(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function kc(t,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=Th(t,n.parameters)),n.response&&(n.response=Th(t,n.response));return e}function Tc(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of e)n.push(r);return n}function aZ(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ba(t,e){if(typeof e!="string")throw new Error("name must be a string");return aZ(t,e,"cachedContents")}function oj(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ji(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function oZ(t){return t!=null&&typeof t=="object"&&"name"in t}function sZ(t){return t!=null&&typeof t=="object"&&"video"in t}function lZ(t){return t!=null&&typeof t=="object"&&"uri"in t}function sj(t,e){var n;let r;if(oZ(e)&&(r=e.name),!(lZ(e)&&(r=e.uri,r===void 0))&&!(sZ(e)&&(r=(n=e.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const a=r.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${r}`);r=a[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function lj(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function uj(t,e){for(const n of["models","tunedModels","publisherModels"])if(uZ(e,n))return e[n];return[]}function uZ(t,e){return t!==null&&typeof t=="object"&&e in t}function cZ(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:Es(vp(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function dZ(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=cZ(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function fZ(t){const e=[];for(const n of t)e.push(vp(n));return e}function hZ(t){const e={};for(const[n,r]of Object.entries(t)){const i=r;e[n]=vp(i)}return e}function vp(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),i={};for(const[a,o]of Object.entries(t))if(e.has(a))i[a]=vp(o);else if(n.has(a))i[a]=fZ(o);else if(r.has(a))i[a]=hZ(o);else if(a==="type"){const l=o.toUpperCase();i[a]=Object.values(Xr).includes(l)?l:Xr.TYPE_UNSPECIFIED}else tZ.has(a)&&(i[a]=o);return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pZ(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function mZ(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function gZ(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function vZ(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],pZ(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],mZ(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],gZ(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const h=m(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const f=m(e,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function BN(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>vZ(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function yZ(t,e){const n={},r=m(e,["behavior"]);r!=null&&g(n,["behavior"],r);const i=m(e,["description"]);i!=null&&g(n,["description"],i);const a=m(e,["name"]);a!=null&&g(n,["name"],a);const o=m(e,["parameters"]);o!=null&&g(n,["parameters"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],l),n}function xZ(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function _Z(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],xZ(t,r)),n}function bZ(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function wZ(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],bZ(t,r)),n}function SZ(){return{}}function CZ(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>yZ(t,d))),g(n,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(e,["googleSearch"]);i!=null&&g(n,["googleSearch"],_Z(t,i));const a=m(e,["googleSearchRetrieval"]);if(a!=null&&g(n,["googleSearchRetrieval"],wZ(t,a)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(n,["urlContext"],SZ());const l=m(e,["codeExecution"]);return l!=null&&g(n,["codeExecution"],l),n}function kZ(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function TZ(t,e){const n={},r=m(e,["latitude"]);r!=null&&g(n,["latitude"],r);const i=m(e,["longitude"]);return i!=null&&g(n,["longitude"],i),n}function EZ(t,e){const n={},r=m(e,["latLng"]);r!=null&&g(n,["latLng"],TZ(t,r));const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function AZ(t,e){const n={},r=m(e,["functionCallingConfig"]);r!=null&&g(n,["functionCallingConfig"],kZ(t,r));const i=m(e,["retrievalConfig"]);return i!=null&&g(n,["retrievalConfig"],EZ(t,i)),n}function PZ(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const a=m(e,["expireTime"]);n!==void 0&&a!=null&&g(n,["expireTime"],a);const o=m(e,["displayName"]);n!==void 0&&o!=null&&g(n,["displayName"],o);const l=m(e,["contents"]);if(n!==void 0&&l!=null){let f=Br(t,l);Array.isArray(f)&&(f=f.map(v=>BN(t,v))),g(n,["contents"],f)}const c=m(e,["systemInstruction"]);n!==void 0&&c!=null&&g(n,["systemInstruction"],BN(t,Rn(t,c)));const d=m(e,["tools"]);if(n!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(v=>CZ(t,v))),g(n,["tools"],f)}const h=m(e,["toolConfig"]);if(n!==void 0&&h!=null&&g(n,["toolConfig"],AZ(t,h)),m(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function IZ(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],tj(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],PZ(t,i,n)),n}function OZ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],ba(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function NZ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],ba(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function MZ(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const a=m(e,["expireTime"]);return n!==void 0&&a!=null&&g(n,["expireTime"],a),r}function DZ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],ba(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],MZ(t,i,n)),n}function RZ(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);return n!==void 0&&a!=null&&g(n,["_query","pageToken"],a),r}function jZ(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],RZ(t,r,n)),n}function $Z(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function LZ(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function BZ(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function FZ(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],$Z(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],LZ(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],BZ(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const h=m(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const f=m(e,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function FN(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>FZ(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function qZ(t,e){const n={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=m(e,["description"]);r!=null&&g(n,["description"],r);const i=m(e,["name"]);i!=null&&g(n,["name"],i);const a=m(e,["parameters"]);a!=null&&g(n,["parameters"],a);const o=m(e,["response"]);return o!=null&&g(n,["response"],o),n}function UZ(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function VZ(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],UZ(t,r)),n}function zZ(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function GZ(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],zZ(t,r)),n}function HZ(){return{}}function WZ(t,e){const n={},r=m(e,["apiKeyString"]);return r!=null&&g(n,["apiKeyString"],r),n}function KZ(t,e){const n={},r=m(e,["apiKeyConfig"]);r!=null&&g(n,["apiKeyConfig"],WZ(t,r));const i=m(e,["authType"]);i!=null&&g(n,["authType"],i);const a=m(e,["googleServiceAccountConfig"]);a!=null&&g(n,["googleServiceAccountConfig"],a);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(n,["httpBasicAuthConfig"],o);const l=m(e,["oauthConfig"]);l!=null&&g(n,["oauthConfig"],l);const c=m(e,["oidcConfig"]);return c!=null&&g(n,["oidcConfig"],c),n}function YZ(t,e){const n={},r=m(e,["authConfig"]);return r!=null&&g(n,["authConfig"],KZ(t,r)),n}function JZ(){return{}}function XZ(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(v=>qZ(t,v))),g(n,["functionDeclarations"],f)}const i=m(e,["retrieval"]);i!=null&&g(n,["retrieval"],i);const a=m(e,["googleSearch"]);a!=null&&g(n,["googleSearch"],VZ(t,a));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],GZ(t,o)),m(e,["enterpriseWebSearch"])!=null&&g(n,["enterpriseWebSearch"],HZ());const c=m(e,["googleMaps"]);c!=null&&g(n,["googleMaps"],YZ(t,c)),m(e,["urlContext"])!=null&&g(n,["urlContext"],JZ());const h=m(e,["codeExecution"]);return h!=null&&g(n,["codeExecution"],h),n}function ZZ(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function QZ(t,e){const n={},r=m(e,["latitude"]);r!=null&&g(n,["latitude"],r);const i=m(e,["longitude"]);return i!=null&&g(n,["longitude"],i),n}function eQ(t,e){const n={},r=m(e,["latLng"]);r!=null&&g(n,["latLng"],QZ(t,r));const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function tQ(t,e){const n={},r=m(e,["functionCallingConfig"]);r!=null&&g(n,["functionCallingConfig"],ZZ(t,r));const i=m(e,["retrievalConfig"]);return i!=null&&g(n,["retrievalConfig"],eQ(t,i)),n}function nQ(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const a=m(e,["expireTime"]);n!==void 0&&a!=null&&g(n,["expireTime"],a);const o=m(e,["displayName"]);n!==void 0&&o!=null&&g(n,["displayName"],o);const l=m(e,["contents"]);if(n!==void 0&&l!=null){let v=Br(t,l);Array.isArray(v)&&(v=v.map(_=>FN(t,_))),g(n,["contents"],v)}const c=m(e,["systemInstruction"]);n!==void 0&&c!=null&&g(n,["systemInstruction"],FN(t,Rn(t,c)));const d=m(e,["tools"]);if(n!==void 0&&d!=null){let v=d;Array.isArray(v)&&(v=v.map(_=>XZ(t,_))),g(n,["tools"],v)}const h=m(e,["toolConfig"]);n!==void 0&&h!=null&&g(n,["toolConfig"],tQ(t,h));const f=m(e,["kmsKeyName"]);return n!==void 0&&f!=null&&g(n,["encryption_spec","kmsKeyName"],f),r}function rQ(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],tj(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],nQ(t,i,n)),n}function iQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],ba(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function aQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],ba(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function oQ(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const a=m(e,["expireTime"]);return n!==void 0&&a!=null&&g(n,["expireTime"],a),r}function sQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],ba(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],oQ(t,i,n)),n}function lQ(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);return n!==void 0&&a!=null&&g(n,["_query","pageToken"],a),r}function uQ(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],lQ(t,r,n)),n}function vf(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["model"]);a!=null&&g(n,["model"],a);const o=m(e,["createTime"]);o!=null&&g(n,["createTime"],o);const l=m(e,["updateTime"]);l!=null&&g(n,["updateTime"],l);const c=m(e,["expireTime"]);c!=null&&g(n,["expireTime"],c);const d=m(e,["usageMetadata"]);return d!=null&&g(n,["usageMetadata"],d),n}function cQ(){return{}}function dQ(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>vf(t,o))),g(n,["cachedContents"],a)}return n}function yf(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["model"]);a!=null&&g(n,["model"],a);const o=m(e,["createTime"]);o!=null&&g(n,["createTime"],o);const l=m(e,["updateTime"]);l!=null&&g(n,["updateTime"],l);const c=m(e,["expireTime"]);c!=null&&g(n,["expireTime"],c);const d=m(e,["usageMetadata"]);return d!=null&&g(n,["usageMetadata"],d),n}function fQ(){return{}}function hQ(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>yf(t,o))),g(n,["cachedContents"],a)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var al;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(al||(al={}));class yp{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};r?typeof r=="object"?o=Object.assign({},r):o=r:o={config:{}},o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pQ extends ml{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new yp(al.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=rQ(this.apiClient,e);return l=Ge("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>yf(this.apiClient,h))}else{const d=IZ(this.apiClient,e);return l=Ge("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>vf(this.apiClient,h))}}async get(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=iQ(this.apiClient,e);return l=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>yf(this.apiClient,h))}else{const d=OZ(this.apiClient,e);return l=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>vf(this.apiClient,h))}}async delete(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=aQ(this.apiClient,e);return l=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(()=>{const h=fQ(),f=new MN;return Object.assign(f,h),f})}else{const d=NZ(this.apiClient,e);return l=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(()=>{const h=cQ(),f=new MN;return Object.assign(f,h),f})}}async update(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=sQ(this.apiClient,e);return l=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>yf(this.apiClient,h))}else{const d=DZ(this.apiClient,e);return l=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>vf(this.apiClient,h))}}async listInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=uQ(this.apiClient,e);return l=Ge("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const f=hQ(this.apiClient,h),v=new DN;return Object.assign(v,f),v})}else{const d=jZ(this.apiClient,e);return l=Ge("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const f=dQ(this.apiClient,h),v=new DN;return Object.assign(v,f),v})}}}function qN(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dt(t){return this instanceof Dt?(this.v=t,this):new Dt(t)}function As(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(_){return function(b){return Promise.resolve(b).then(_,f)}}function l(_,b){r[_]&&(i[_]=function(S){return new Promise(function(w,A){a.push([_,S,w,A])>1||c(_,S)})},b&&(i[_]=b(i[_])))}function c(_,b){try{d(r[_](b))}catch(S){v(a[0][3],S)}}function d(_){_.value instanceof Dt?Promise.resolve(_.value.v).then(h,f):v(a[0][2],_)}function h(_){c("next",_)}function f(_){c("throw",_)}function v(_,b){_(b),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Pu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qN=="function"?qN(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(l,c){o=t[a](o),i(l,c,o.done,o.value)})}}function i(a,o,l,c){Promise.resolve(c).then(function(d){a({value:d,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mQ(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:cj(n)}function cj(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function gQ(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function UN(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!cj(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class vQ{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new yQ(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class yQ{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),gQ(a)}async sendMessage(e){var n;await this.sendPromise;const r=Rn(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,l;const c=await i,d=(o=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,h=c.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let v=[];h!=null&&(v=(l=h.slice(f))!==null&&l!==void 0?l:[]);const _=d?[d]:[];this.recordHistory(r,_,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Rn(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?UN(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return As(this,arguments,function*(){var o,l,c,d;const h=[];try{for(var f=!0,v=Pu(e),_;_=yield Dt(v.next()),o=_.done,!o;f=!0){d=_.value,f=!1;const b=d;if(mQ(b)){const S=(i=(r=b.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&h.push(S)}yield yield Dt(b)}}catch(b){l={error:b}}finally{try{!f&&!o&&(c=v.return)&&(yield Dt(c.call(v)))}finally{if(l)throw l.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...UN(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xQ(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);return n!==void 0&&a!=null&&g(n,["_query","pageToken"],a),r}function _Q(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],xQ(t,r,n)),n}function bQ(t,e){const n={},r=m(e,["details"]);r!=null&&g(n,["details"],r);const i=m(e,["message"]);i!=null&&g(n,["message"],i);const a=m(e,["code"]);return a!=null&&g(n,["code"],a),n}function wQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["mimeType"]);a!=null&&g(n,["mimeType"],a);const o=m(e,["sizeBytes"]);o!=null&&g(n,["sizeBytes"],o);const l=m(e,["createTime"]);l!=null&&g(n,["createTime"],l);const c=m(e,["expirationTime"]);c!=null&&g(n,["expirationTime"],c);const d=m(e,["updateTime"]);d!=null&&g(n,["updateTime"],d);const h=m(e,["sha256Hash"]);h!=null&&g(n,["sha256Hash"],h);const f=m(e,["uri"]);f!=null&&g(n,["uri"],f);const v=m(e,["downloadUri"]);v!=null&&g(n,["downloadUri"],v);const _=m(e,["state"]);_!=null&&g(n,["state"],_);const b=m(e,["source"]);b!=null&&g(n,["source"],b);const S=m(e,["videoMetadata"]);S!=null&&g(n,["videoMetadata"],S);const w=m(e,["error"]);return w!=null&&g(n,["error"],bQ(t,w)),n}function SQ(t,e){const n={},r=m(e,["file"]);r!=null&&g(n,["file"],wQ(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function CQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","file"],sj(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function kQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","file"],sj(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function TQ(t,e){const n={},r=m(e,["details"]);r!=null&&g(n,["details"],r);const i=m(e,["message"]);i!=null&&g(n,["message"],i);const a=m(e,["code"]);return a!=null&&g(n,["code"],a),n}function cb(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["mimeType"]);a!=null&&g(n,["mimeType"],a);const o=m(e,["sizeBytes"]);o!=null&&g(n,["sizeBytes"],o);const l=m(e,["createTime"]);l!=null&&g(n,["createTime"],l);const c=m(e,["expirationTime"]);c!=null&&g(n,["expirationTime"],c);const d=m(e,["updateTime"]);d!=null&&g(n,["updateTime"],d);const h=m(e,["sha256Hash"]);h!=null&&g(n,["sha256Hash"],h);const f=m(e,["uri"]);f!=null&&g(n,["uri"],f);const v=m(e,["downloadUri"]);v!=null&&g(n,["downloadUri"],v);const _=m(e,["state"]);_!=null&&g(n,["state"],_);const b=m(e,["source"]);b!=null&&g(n,["source"],b);const S=m(e,["videoMetadata"]);S!=null&&g(n,["videoMetadata"],S);const w=m(e,["error"]);return w!=null&&g(n,["error"],TQ(t,w)),n}function EQ(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>cb(t,o))),g(n,["files"],a)}return n}function AQ(){return{}}function PQ(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IQ extends ml{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new yp(al.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>cb(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=_Q(this.apiClient,e);return a=Ge("files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=EQ(this.apiClient,c),h=new KX;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=SQ(this.apiClient,e);return a=Ge("upload/v1beta/files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(()=>{const c=AQ(),d=new YX;return Object.assign(d,c),d})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=CQ(this.apiClient,e);return a=Ge("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>cb(this.apiClient,c))}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=kQ(this.apiClient,e);return a=Ge("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(()=>{const c=PQ(),d=new JX;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OQ(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function NQ(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function dj(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],OQ(t,r)),n}function MQ(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],NQ(t,r)),n}function DQ(t,e){const n={},r=m(e,["speaker"]);r!=null&&g(n,["speaker"],r);const i=m(e,["voiceConfig"]);return i!=null&&g(n,["voiceConfig"],dj(t,i)),n}function RQ(t,e){const n={},r=m(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>DQ(t,a))),g(n,["speakerVoiceConfigs"],i)}return n}function jQ(t,e){const n={},r=m(e,["voiceConfig"]);r!=null&&g(n,["voiceConfig"],dj(t,r));const i=m(e,["multiSpeakerVoiceConfig"]);i!=null&&g(n,["multiSpeakerVoiceConfig"],RQ(t,i));const a=m(e,["languageCode"]);return a!=null&&g(n,["languageCode"],a),n}function $Q(t,e){const n={},r=m(e,["voiceConfig"]);if(r!=null&&g(n,["voiceConfig"],MQ(t,r)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function LQ(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function BQ(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function FQ(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function qQ(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function UQ(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function VQ(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function zQ(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],LQ(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],FQ(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],UQ(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const h=m(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const f=m(e,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function GQ(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],BQ(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],qQ(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],VQ(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const h=m(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const f=m(e,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function HQ(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>zQ(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function WQ(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>GQ(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function KQ(t,e){const n={},r=m(e,["behavior"]);r!=null&&g(n,["behavior"],r);const i=m(e,["description"]);i!=null&&g(n,["description"],i);const a=m(e,["name"]);a!=null&&g(n,["name"],a);const o=m(e,["parameters"]);o!=null&&g(n,["parameters"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],l),n}function YQ(t,e){const n={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=m(e,["description"]);r!=null&&g(n,["description"],r);const i=m(e,["name"]);i!=null&&g(n,["name"],i);const a=m(e,["parameters"]);a!=null&&g(n,["parameters"],a);const o=m(e,["response"]);return o!=null&&g(n,["response"],o),n}function JQ(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function XQ(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function ZQ(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],JQ(t,r)),n}function QQ(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],XQ(t,r)),n}function eee(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function tee(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function nee(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],eee(t,r)),n}function ree(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],tee(t,r)),n}function iee(){return{}}function aee(t,e){const n={},r=m(e,["apiKeyString"]);return r!=null&&g(n,["apiKeyString"],r),n}function oee(t,e){const n={},r=m(e,["apiKeyConfig"]);r!=null&&g(n,["apiKeyConfig"],aee(t,r));const i=m(e,["authType"]);i!=null&&g(n,["authType"],i);const a=m(e,["googleServiceAccountConfig"]);a!=null&&g(n,["googleServiceAccountConfig"],a);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(n,["httpBasicAuthConfig"],o);const l=m(e,["oauthConfig"]);l!=null&&g(n,["oauthConfig"],l);const c=m(e,["oidcConfig"]);return c!=null&&g(n,["oidcConfig"],c),n}function see(t,e){const n={},r=m(e,["authConfig"]);return r!=null&&g(n,["authConfig"],oee(t,r)),n}function lee(){return{}}function uee(){return{}}function cee(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>KQ(t,d))),g(n,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(e,["googleSearch"]);i!=null&&g(n,["googleSearch"],ZQ(t,i));const a=m(e,["googleSearchRetrieval"]);if(a!=null&&g(n,["googleSearchRetrieval"],nee(t,a)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(n,["urlContext"],lee());const l=m(e,["codeExecution"]);return l!=null&&g(n,["codeExecution"],l),n}function dee(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(v=>YQ(t,v))),g(n,["functionDeclarations"],f)}const i=m(e,["retrieval"]);i!=null&&g(n,["retrieval"],i);const a=m(e,["googleSearch"]);a!=null&&g(n,["googleSearch"],QQ(t,a));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],ree(t,o)),m(e,["enterpriseWebSearch"])!=null&&g(n,["enterpriseWebSearch"],iee());const c=m(e,["googleMaps"]);c!=null&&g(n,["googleMaps"],see(t,c)),m(e,["urlContext"])!=null&&g(n,["urlContext"],uee());const h=m(e,["codeExecution"]);return h!=null&&g(n,["codeExecution"],h),n}function fee(t,e){const n={},r=m(e,["handle"]);if(r!=null&&g(n,["handle"],r),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function hee(t,e){const n={},r=m(e,["handle"]);r!=null&&g(n,["handle"],r);const i=m(e,["transparent"]);return i!=null&&g(n,["transparent"],i),n}function VN(){return{}}function zN(){return{}}function pee(t,e){const n={},r=m(e,["disabled"]);r!=null&&g(n,["disabled"],r);const i=m(e,["startOfSpeechSensitivity"]);i!=null&&g(n,["startOfSpeechSensitivity"],i);const a=m(e,["endOfSpeechSensitivity"]);a!=null&&g(n,["endOfSpeechSensitivity"],a);const o=m(e,["prefixPaddingMs"]);o!=null&&g(n,["prefixPaddingMs"],o);const l=m(e,["silenceDurationMs"]);return l!=null&&g(n,["silenceDurationMs"],l),n}function mee(t,e){const n={},r=m(e,["disabled"]);r!=null&&g(n,["disabled"],r);const i=m(e,["startOfSpeechSensitivity"]);i!=null&&g(n,["startOfSpeechSensitivity"],i);const a=m(e,["endOfSpeechSensitivity"]);a!=null&&g(n,["endOfSpeechSensitivity"],a);const o=m(e,["prefixPaddingMs"]);o!=null&&g(n,["prefixPaddingMs"],o);const l=m(e,["silenceDurationMs"]);return l!=null&&g(n,["silenceDurationMs"],l),n}function gee(t,e){const n={},r=m(e,["automaticActivityDetection"]);r!=null&&g(n,["automaticActivityDetection"],pee(t,r));const i=m(e,["activityHandling"]);i!=null&&g(n,["activityHandling"],i);const a=m(e,["turnCoverage"]);return a!=null&&g(n,["turnCoverage"],a),n}function vee(t,e){const n={},r=m(e,["automaticActivityDetection"]);r!=null&&g(n,["automaticActivityDetection"],mee(t,r));const i=m(e,["activityHandling"]);i!=null&&g(n,["activityHandling"],i);const a=m(e,["turnCoverage"]);return a!=null&&g(n,["turnCoverage"],a),n}function yee(t,e){const n={},r=m(e,["targetTokens"]);return r!=null&&g(n,["targetTokens"],r),n}function xee(t,e){const n={},r=m(e,["targetTokens"]);return r!=null&&g(n,["targetTokens"],r),n}function _ee(t,e){const n={},r=m(e,["triggerTokens"]);r!=null&&g(n,["triggerTokens"],r);const i=m(e,["slidingWindow"]);return i!=null&&g(n,["slidingWindow"],yee(t,i)),n}function bee(t,e){const n={},r=m(e,["triggerTokens"]);r!=null&&g(n,["triggerTokens"],r);const i=m(e,["slidingWindow"]);return i!=null&&g(n,["slidingWindow"],xee(t,i)),n}function wee(t,e){const n={},r=m(e,["proactiveAudio"]);return r!=null&&g(n,["proactiveAudio"],r),n}function See(t,e){const n={},r=m(e,["proactiveAudio"]);return r!=null&&g(n,["proactiveAudio"],r),n}function Cee(t,e,n){const r={},i=m(e,["generationConfig"]);n!==void 0&&i!=null&&g(n,["setup","generationConfig"],i);const a=m(e,["responseModalities"]);n!==void 0&&a!=null&&g(n,["setup","generationConfig","responseModalities"],a);const o=m(e,["temperature"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig","temperature"],o);const l=m(e,["topP"]);n!==void 0&&l!=null&&g(n,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);n!==void 0&&c!=null&&g(n,["setup","generationConfig","topK"],c);const d=m(e,["maxOutputTokens"]);n!==void 0&&d!=null&&g(n,["setup","generationConfig","maxOutputTokens"],d);const h=m(e,["mediaResolution"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","mediaResolution"],h);const f=m(e,["seed"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","seed"],f);const v=m(e,["speechConfig"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","speechConfig"],jQ(t,Mw(t,v)));const _=m(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&g(n,["setup","generationConfig","enableAffectiveDialog"],_);const b=m(e,["systemInstruction"]);n!==void 0&&b!=null&&g(n,["setup","systemInstruction"],HQ(t,Rn(t,b)));const S=m(e,["tools"]);if(n!==void 0&&S!=null){let P=Tc(t,S);Array.isArray(P)&&(P=P.map(N=>cee(t,kc(t,N)))),g(n,["setup","tools"],P)}const w=m(e,["sessionResumption"]);n!==void 0&&w!=null&&g(n,["setup","sessionResumption"],fee(t,w));const A=m(e,["inputAudioTranscription"]);n!==void 0&&A!=null&&g(n,["setup","inputAudioTranscription"],VN());const I=m(e,["outputAudioTranscription"]);n!==void 0&&I!=null&&g(n,["setup","outputAudioTranscription"],VN());const k=m(e,["realtimeInputConfig"]);n!==void 0&&k!=null&&g(n,["setup","realtimeInputConfig"],gee(t,k));const O=m(e,["contextWindowCompression"]);n!==void 0&&O!=null&&g(n,["setup","contextWindowCompression"],_ee(t,O));const E=m(e,["proactivity"]);return n!==void 0&&E!=null&&g(n,["setup","proactivity"],wee(t,E)),r}function kee(t,e,n){const r={},i=m(e,["generationConfig"]);n!==void 0&&i!=null&&g(n,["setup","generationConfig"],i);const a=m(e,["responseModalities"]);n!==void 0&&a!=null&&g(n,["setup","generationConfig","responseModalities"],a);const o=m(e,["temperature"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig","temperature"],o);const l=m(e,["topP"]);n!==void 0&&l!=null&&g(n,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);n!==void 0&&c!=null&&g(n,["setup","generationConfig","topK"],c);const d=m(e,["maxOutputTokens"]);n!==void 0&&d!=null&&g(n,["setup","generationConfig","maxOutputTokens"],d);const h=m(e,["mediaResolution"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","mediaResolution"],h);const f=m(e,["seed"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","seed"],f);const v=m(e,["speechConfig"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","speechConfig"],$Q(t,Mw(t,v)));const _=m(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&g(n,["setup","generationConfig","enableAffectiveDialog"],_);const b=m(e,["systemInstruction"]);n!==void 0&&b!=null&&g(n,["setup","systemInstruction"],WQ(t,Rn(t,b)));const S=m(e,["tools"]);if(n!==void 0&&S!=null){let P=Tc(t,S);Array.isArray(P)&&(P=P.map(N=>dee(t,kc(t,N)))),g(n,["setup","tools"],P)}const w=m(e,["sessionResumption"]);n!==void 0&&w!=null&&g(n,["setup","sessionResumption"],hee(t,w));const A=m(e,["inputAudioTranscription"]);n!==void 0&&A!=null&&g(n,["setup","inputAudioTranscription"],zN());const I=m(e,["outputAudioTranscription"]);n!==void 0&&I!=null&&g(n,["setup","outputAudioTranscription"],zN());const k=m(e,["realtimeInputConfig"]);n!==void 0&&k!=null&&g(n,["setup","realtimeInputConfig"],vee(t,k));const O=m(e,["contextWindowCompression"]);n!==void 0&&O!=null&&g(n,["setup","contextWindowCompression"],bee(t,O));const E=m(e,["proactivity"]);return n!==void 0&&E!=null&&g(n,["setup","proactivity"],See(t,E)),r}function Tee(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],Cee(t,i,n)),n}function Eee(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],kee(t,i,n)),n}function Aee(){return{}}function Pee(){return{}}function Iee(){return{}}function Oee(){return{}}function Nee(t,e){const n={},r=m(e,["media"]);r!=null&&g(n,["mediaChunks"],nj(t,r));const i=m(e,["audio"]);i!=null&&g(n,["audio"],eZ(t,i));const a=m(e,["audioStreamEnd"]);a!=null&&g(n,["audioStreamEnd"],a);const o=m(e,["video"]);o!=null&&g(n,["video"],QX(t,o));const l=m(e,["text"]);return l!=null&&g(n,["text"],l),m(e,["activityStart"])!=null&&g(n,["activityStart"],Aee()),m(e,["activityEnd"])!=null&&g(n,["activityEnd"],Iee()),n}function Mee(t,e){const n={},r=m(e,["media"]);if(r!=null&&g(n,["mediaChunks"],nj(t,r)),m(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=m(e,["audioStreamEnd"]);if(i!=null&&g(n,["audioStreamEnd"],i),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(m(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return m(e,["activityStart"])!=null&&g(n,["activityStart"],Pee()),m(e,["activityEnd"])!=null&&g(n,["activityEnd"],Oee()),n}function fj(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["weight"]);return i!=null&&g(n,["weight"],i),n}function Dee(t,e){const n={},r=m(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>fj(t,a))),g(n,["weightedPrompts"],i)}return n}function hj(t,e){const n={},r=m(e,["temperature"]);r!=null&&g(n,["temperature"],r);const i=m(e,["topK"]);i!=null&&g(n,["topK"],i);const a=m(e,["seed"]);a!=null&&g(n,["seed"],a);const o=m(e,["guidance"]);o!=null&&g(n,["guidance"],o);const l=m(e,["bpm"]);l!=null&&g(n,["bpm"],l);const c=m(e,["density"]);c!=null&&g(n,["density"],c);const d=m(e,["brightness"]);d!=null&&g(n,["brightness"],d);const h=m(e,["scale"]);h!=null&&g(n,["scale"],h);const f=m(e,["muteBass"]);f!=null&&g(n,["muteBass"],f);const v=m(e,["muteDrums"]);v!=null&&g(n,["muteDrums"],v);const _=m(e,["onlyBassAndDrums"]);return _!=null&&g(n,["onlyBassAndDrums"],_),n}function Ree(t,e){const n={},r=m(e,["musicGenerationConfig"]);return r!=null&&g(n,["musicGenerationConfig"],hj(t,r)),n}function pj(t,e){const n={},r=m(e,["model"]);return r!=null&&g(n,["model"],r),n}function mj(t,e){const n={},r=m(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>fj(t,a))),g(n,["weightedPrompts"],i)}return n}function db(t,e){const n={},r=m(e,["setup"]);r!=null&&g(n,["setup"],pj(t,r));const i=m(e,["clientContent"]);i!=null&&g(n,["clientContent"],mj(t,i));const a=m(e,["musicGenerationConfig"]);a!=null&&g(n,["musicGenerationConfig"],hj(t,a));const o=m(e,["playbackControl"]);return o!=null&&g(n,["playbackControl"],o),n}function jee(){return{}}function $ee(){return{}}function Lee(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function Bee(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function Fee(t,e){const n={},r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function qee(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Uee(t,e){const n={},r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function Vee(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function zee(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],Lee(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],Fee(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],Uee(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const h=m(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const f=m(e,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function Gee(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],Bee(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],qee(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],Vee(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const h=m(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const f=m(e,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function Hee(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>zee(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function Wee(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Gee(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function GN(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["finished"]);return i!=null&&g(n,["finished"],i),n}function HN(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["finished"]);return i!=null&&g(n,["finished"],i),n}function Kee(t,e){const n={},r=m(e,["retrievedUrl"]);r!=null&&g(n,["retrievedUrl"],r);const i=m(e,["urlRetrievalStatus"]);return i!=null&&g(n,["urlRetrievalStatus"],i),n}function Yee(t,e){const n={},r=m(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Kee(t,a))),g(n,["urlMetadata"],i)}return n}function Jee(t,e){const n={},r=m(e,["modelTurn"]);r!=null&&g(n,["modelTurn"],Hee(t,r));const i=m(e,["turnComplete"]);i!=null&&g(n,["turnComplete"],i);const a=m(e,["interrupted"]);a!=null&&g(n,["interrupted"],a);const o=m(e,["groundingMetadata"]);o!=null&&g(n,["groundingMetadata"],o);const l=m(e,["generationComplete"]);l!=null&&g(n,["generationComplete"],l);const c=m(e,["inputTranscription"]);c!=null&&g(n,["inputTranscription"],GN(t,c));const d=m(e,["outputTranscription"]);d!=null&&g(n,["outputTranscription"],GN(t,d));const h=m(e,["urlContextMetadata"]);return h!=null&&g(n,["urlContextMetadata"],Yee(t,h)),n}function Xee(t,e){const n={},r=m(e,["modelTurn"]);r!=null&&g(n,["modelTurn"],Wee(t,r));const i=m(e,["turnComplete"]);i!=null&&g(n,["turnComplete"],i);const a=m(e,["interrupted"]);a!=null&&g(n,["interrupted"],a);const o=m(e,["groundingMetadata"]);o!=null&&g(n,["groundingMetadata"],o);const l=m(e,["generationComplete"]);l!=null&&g(n,["generationComplete"],l);const c=m(e,["inputTranscription"]);c!=null&&g(n,["inputTranscription"],HN(t,c));const d=m(e,["outputTranscription"]);return d!=null&&g(n,["outputTranscription"],HN(t,d)),n}function Zee(t,e){const n={},r=m(e,["id"]);r!=null&&g(n,["id"],r);const i=m(e,["args"]);i!=null&&g(n,["args"],i);const a=m(e,["name"]);return a!=null&&g(n,["name"],a),n}function Qee(t,e){const n={},r=m(e,["args"]);r!=null&&g(n,["args"],r);const i=m(e,["name"]);return i!=null&&g(n,["name"],i),n}function ete(t,e){const n={},r=m(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Zee(t,a))),g(n,["functionCalls"],i)}return n}function tte(t,e){const n={},r=m(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Qee(t,a))),g(n,["functionCalls"],i)}return n}function nte(t,e){const n={},r=m(e,["ids"]);return r!=null&&g(n,["ids"],r),n}function rte(t,e){const n={},r=m(e,["ids"]);return r!=null&&g(n,["ids"],r),n}function hf(t,e){const n={},r=m(e,["modality"]);r!=null&&g(n,["modality"],r);const i=m(e,["tokenCount"]);return i!=null&&g(n,["tokenCount"],i),n}function pf(t,e){const n={},r=m(e,["modality"]);r!=null&&g(n,["modality"],r);const i=m(e,["tokenCount"]);return i!=null&&g(n,["tokenCount"],i),n}function ite(t,e){const n={},r=m(e,["promptTokenCount"]);r!=null&&g(n,["promptTokenCount"],r);const i=m(e,["cachedContentTokenCount"]);i!=null&&g(n,["cachedContentTokenCount"],i);const a=m(e,["responseTokenCount"]);a!=null&&g(n,["responseTokenCount"],a);const o=m(e,["toolUsePromptTokenCount"]);o!=null&&g(n,["toolUsePromptTokenCount"],o);const l=m(e,["thoughtsTokenCount"]);l!=null&&g(n,["thoughtsTokenCount"],l);const c=m(e,["totalTokenCount"]);c!=null&&g(n,["totalTokenCount"],c);const d=m(e,["promptTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(b=>hf(t,b))),g(n,["promptTokensDetails"],_)}const h=m(e,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(b=>hf(t,b))),g(n,["cacheTokensDetails"],_)}const f=m(e,["responseTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(b=>hf(t,b))),g(n,["responseTokensDetails"],_)}const v=m(e,["toolUsePromptTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(b=>hf(t,b))),g(n,["toolUsePromptTokensDetails"],_)}return n}function ate(t,e){const n={},r=m(e,["promptTokenCount"]);r!=null&&g(n,["promptTokenCount"],r);const i=m(e,["cachedContentTokenCount"]);i!=null&&g(n,["cachedContentTokenCount"],i);const a=m(e,["candidatesTokenCount"]);a!=null&&g(n,["responseTokenCount"],a);const o=m(e,["toolUsePromptTokenCount"]);o!=null&&g(n,["toolUsePromptTokenCount"],o);const l=m(e,["thoughtsTokenCount"]);l!=null&&g(n,["thoughtsTokenCount"],l);const c=m(e,["totalTokenCount"]);c!=null&&g(n,["totalTokenCount"],c);const d=m(e,["promptTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(S=>pf(t,S))),g(n,["promptTokensDetails"],b)}const h=m(e,["cacheTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(S=>pf(t,S))),g(n,["cacheTokensDetails"],b)}const f=m(e,["candidatesTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(S=>pf(t,S))),g(n,["responseTokensDetails"],b)}const v=m(e,["toolUsePromptTokensDetails"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(S=>pf(t,S))),g(n,["toolUsePromptTokensDetails"],b)}const _=m(e,["trafficType"]);return _!=null&&g(n,["trafficType"],_),n}function ote(t,e){const n={},r=m(e,["timeLeft"]);return r!=null&&g(n,["timeLeft"],r),n}function ste(t,e){const n={},r=m(e,["timeLeft"]);return r!=null&&g(n,["timeLeft"],r),n}function lte(t,e){const n={},r=m(e,["newHandle"]);r!=null&&g(n,["newHandle"],r);const i=m(e,["resumable"]);i!=null&&g(n,["resumable"],i);const a=m(e,["lastConsumedClientMessageIndex"]);return a!=null&&g(n,["lastConsumedClientMessageIndex"],a),n}function ute(t,e){const n={},r=m(e,["newHandle"]);r!=null&&g(n,["newHandle"],r);const i=m(e,["resumable"]);i!=null&&g(n,["resumable"],i);const a=m(e,["lastConsumedClientMessageIndex"]);return a!=null&&g(n,["lastConsumedClientMessageIndex"],a),n}function cte(t,e){const n={};m(e,["setupComplete"])!=null&&g(n,["setupComplete"],jee());const i=m(e,["serverContent"]);i!=null&&g(n,["serverContent"],Jee(t,i));const a=m(e,["toolCall"]);a!=null&&g(n,["toolCall"],ete(t,a));const o=m(e,["toolCallCancellation"]);o!=null&&g(n,["toolCallCancellation"],nte(t,o));const l=m(e,["usageMetadata"]);l!=null&&g(n,["usageMetadata"],ite(t,l));const c=m(e,["goAway"]);c!=null&&g(n,["goAway"],ote(t,c));const d=m(e,["sessionResumptionUpdate"]);return d!=null&&g(n,["sessionResumptionUpdate"],lte(t,d)),n}function dte(t,e){const n={};m(e,["setupComplete"])!=null&&g(n,["setupComplete"],$ee());const i=m(e,["serverContent"]);i!=null&&g(n,["serverContent"],Xee(t,i));const a=m(e,["toolCall"]);a!=null&&g(n,["toolCall"],tte(t,a));const o=m(e,["toolCallCancellation"]);o!=null&&g(n,["toolCallCancellation"],rte(t,o));const l=m(e,["usageMetadata"]);l!=null&&g(n,["usageMetadata"],ate(t,l));const c=m(e,["goAway"]);c!=null&&g(n,["goAway"],ste(t,c));const d=m(e,["sessionResumptionUpdate"]);return d!=null&&g(n,["sessionResumptionUpdate"],ute(t,d)),n}function fte(){return{}}function hte(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["weight"]);return i!=null&&g(n,["weight"],i),n}function pte(t,e){const n={},r=m(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>hte(t,a))),g(n,["weightedPrompts"],i)}return n}function mte(t,e){const n={},r=m(e,["temperature"]);r!=null&&g(n,["temperature"],r);const i=m(e,["topK"]);i!=null&&g(n,["topK"],i);const a=m(e,["seed"]);a!=null&&g(n,["seed"],a);const o=m(e,["guidance"]);o!=null&&g(n,["guidance"],o);const l=m(e,["bpm"]);l!=null&&g(n,["bpm"],l);const c=m(e,["density"]);c!=null&&g(n,["density"],c);const d=m(e,["brightness"]);d!=null&&g(n,["brightness"],d);const h=m(e,["scale"]);h!=null&&g(n,["scale"],h);const f=m(e,["muteBass"]);f!=null&&g(n,["muteBass"],f);const v=m(e,["muteDrums"]);v!=null&&g(n,["muteDrums"],v);const _=m(e,["onlyBassAndDrums"]);return _!=null&&g(n,["onlyBassAndDrums"],_),n}function gte(t,e){const n={},r=m(e,["clientContent"]);r!=null&&g(n,["clientContent"],pte(t,r));const i=m(e,["musicGenerationConfig"]);return i!=null&&g(n,["musicGenerationConfig"],mte(t,i)),n}function vte(t,e){const n={},r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);i!=null&&g(n,["mimeType"],i);const a=m(e,["sourceMetadata"]);return a!=null&&g(n,["sourceMetadata"],gte(t,a)),n}function yte(t,e){const n={},r=m(e,["audioChunks"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>vte(t,a))),g(n,["audioChunks"],i)}return n}function xte(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["filteredReason"]);return i!=null&&g(n,["filteredReason"],i),n}function _te(t,e){const n={};m(e,["setupComplete"])!=null&&g(n,["setupComplete"],fte());const i=m(e,["serverContent"]);i!=null&&g(n,["serverContent"],yte(t,i));const a=m(e,["filteredPrompt"]);return a!=null&&g(n,["filteredPrompt"],xte(t,a)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bte(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function wte(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function Ste(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function Cte(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],bte(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],wte(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],Ste(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const h=m(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const f=m(e,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function xp(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Cte(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function kte(t,e){const n={},r=m(e,["anyOf"]);r!=null&&g(n,["anyOf"],r);const i=m(e,["default"]);i!=null&&g(n,["default"],i);const a=m(e,["description"]);a!=null&&g(n,["description"],a);const o=m(e,["enum"]);o!=null&&g(n,["enum"],o);const l=m(e,["example"]);l!=null&&g(n,["example"],l);const c=m(e,["format"]);c!=null&&g(n,["format"],c);const d=m(e,["items"]);d!=null&&g(n,["items"],d);const h=m(e,["maxItems"]);h!=null&&g(n,["maxItems"],h);const f=m(e,["maxLength"]);f!=null&&g(n,["maxLength"],f);const v=m(e,["maxProperties"]);v!=null&&g(n,["maxProperties"],v);const _=m(e,["maximum"]);_!=null&&g(n,["maximum"],_);const b=m(e,["minItems"]);b!=null&&g(n,["minItems"],b);const S=m(e,["minLength"]);S!=null&&g(n,["minLength"],S);const w=m(e,["minProperties"]);w!=null&&g(n,["minProperties"],w);const A=m(e,["minimum"]);A!=null&&g(n,["minimum"],A);const I=m(e,["nullable"]);I!=null&&g(n,["nullable"],I);const k=m(e,["pattern"]);k!=null&&g(n,["pattern"],k);const O=m(e,["properties"]);O!=null&&g(n,["properties"],O);const E=m(e,["propertyOrdering"]);E!=null&&g(n,["propertyOrdering"],E);const P=m(e,["required"]);P!=null&&g(n,["required"],P);const N=m(e,["title"]);N!=null&&g(n,["title"],N);const D=m(e,["type"]);return D!=null&&g(n,["type"],D),n}function Tte(t,e){const n={};if(m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(e,["category"]);r!=null&&g(n,["category"],r);const i=m(e,["threshold"]);return i!=null&&g(n,["threshold"],i),n}function Ete(t,e){const n={},r=m(e,["behavior"]);r!=null&&g(n,["behavior"],r);const i=m(e,["description"]);i!=null&&g(n,["description"],i);const a=m(e,["name"]);a!=null&&g(n,["name"],a);const o=m(e,["parameters"]);o!=null&&g(n,["parameters"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],l),n}function Ate(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function Pte(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],Ate(t,r)),n}function Ite(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function Ote(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],Ite(t,r)),n}function Nte(){return{}}function Mte(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Ete(t,d))),g(n,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(e,["googleSearch"]);i!=null&&g(n,["googleSearch"],Pte(t,i));const a=m(e,["googleSearchRetrieval"]);if(a!=null&&g(n,["googleSearchRetrieval"],Ote(t,a)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(n,["urlContext"],Nte());const l=m(e,["codeExecution"]);return l!=null&&g(n,["codeExecution"],l),n}function Dte(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function Rte(t,e){const n={},r=m(e,["latitude"]);r!=null&&g(n,["latitude"],r);const i=m(e,["longitude"]);return i!=null&&g(n,["longitude"],i),n}function jte(t,e){const n={},r=m(e,["latLng"]);r!=null&&g(n,["latLng"],Rte(t,r));const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function $te(t,e){const n={},r=m(e,["functionCallingConfig"]);r!=null&&g(n,["functionCallingConfig"],Dte(t,r));const i=m(e,["retrievalConfig"]);return i!=null&&g(n,["retrievalConfig"],jte(t,i)),n}function Lte(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function gj(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],Lte(t,r)),n}function Bte(t,e){const n={},r=m(e,["speaker"]);r!=null&&g(n,["speaker"],r);const i=m(e,["voiceConfig"]);return i!=null&&g(n,["voiceConfig"],gj(t,i)),n}function Fte(t,e){const n={},r=m(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Bte(t,a))),g(n,["speakerVoiceConfigs"],i)}return n}function qte(t,e){const n={},r=m(e,["voiceConfig"]);r!=null&&g(n,["voiceConfig"],gj(t,r));const i=m(e,["multiSpeakerVoiceConfig"]);i!=null&&g(n,["multiSpeakerVoiceConfig"],Fte(t,i));const a=m(e,["languageCode"]);return a!=null&&g(n,["languageCode"],a),n}function Ute(t,e){const n={},r=m(e,["includeThoughts"]);r!=null&&g(n,["includeThoughts"],r);const i=m(e,["thinkingBudget"]);return i!=null&&g(n,["thinkingBudget"],i),n}function Vte(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],xp(t,Rn(t,i)));const a=m(e,["temperature"]);a!=null&&g(r,["temperature"],a);const o=m(e,["topP"]);o!=null&&g(r,["topP"],o);const l=m(e,["topK"]);l!=null&&g(r,["topK"],l);const c=m(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const d=m(e,["maxOutputTokens"]);d!=null&&g(r,["maxOutputTokens"],d);const h=m(e,["stopSequences"]);h!=null&&g(r,["stopSequences"],h);const f=m(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const v=m(e,["logprobs"]);v!=null&&g(r,["logprobs"],v);const _=m(e,["presencePenalty"]);_!=null&&g(r,["presencePenalty"],_);const b=m(e,["frequencyPenalty"]);b!=null&&g(r,["frequencyPenalty"],b);const S=m(e,["seed"]);S!=null&&g(r,["seed"],S);const w=m(e,["responseMimeType"]);w!=null&&g(r,["responseMimeType"],w);const A=m(e,["responseSchema"]);if(A!=null&&g(r,["responseSchema"],kte(t,Th(t,A))),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=m(e,["safetySettings"]);if(n!==void 0&&I!=null){let F=I;Array.isArray(F)&&(F=F.map(L=>Tte(t,L))),g(n,["safetySettings"],F)}const k=m(e,["tools"]);if(n!==void 0&&k!=null){let F=Tc(t,k);Array.isArray(F)&&(F=F.map(L=>Mte(t,kc(t,L)))),g(n,["tools"],F)}const O=m(e,["toolConfig"]);if(n!==void 0&&O!=null&&g(n,["toolConfig"],$te(t,O)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=m(e,["cachedContent"]);n!==void 0&&E!=null&&g(n,["cachedContent"],ba(t,E));const P=m(e,["responseModalities"]);P!=null&&g(r,["responseModalities"],P);const N=m(e,["mediaResolution"]);N!=null&&g(r,["mediaResolution"],N);const D=m(e,["speechConfig"]);if(D!=null&&g(r,["speechConfig"],qte(t,aj(t,D))),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=m(e,["thinkingConfig"]);return $!=null&&g(r,["thinkingConfig"],Ute(t,$)),r}function WN(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);if(i!=null){let o=Br(t,i);Array.isArray(o)&&(o=o.map(l=>xp(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["generationConfig"],Vte(t,a,n)),n}function zte(t,e,n){const r={},i=m(e,["taskType"]);n!==void 0&&i!=null&&g(n,["requests[]","taskType"],i);const a=m(e,["title"]);n!==void 0&&a!=null&&g(n,["requests[]","title"],a);const o=m(e,["outputDimensionality"]);if(n!==void 0&&o!=null&&g(n,["requests[]","outputDimensionality"],o),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Gte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);i!=null&&g(n,["requests[]","content"],ij(t,i));const a=m(e,["config"]);a!=null&&g(n,["config"],zte(t,a,n));const o=m(e,["model"]);return o!==void 0&&g(n,["requests[]","model"],It(t,o)),n}function Hte(t,e,n){const r={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=m(e,["numberOfImages"]);n!==void 0&&i!=null&&g(n,["parameters","sampleCount"],i);const a=m(e,["aspectRatio"]);n!==void 0&&a!=null&&g(n,["parameters","aspectRatio"],a);const o=m(e,["guidanceScale"]);if(n!==void 0&&o!=null&&g(n,["parameters","guidanceScale"],o),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(e,["safetyFilterLevel"]);n!==void 0&&l!=null&&g(n,["parameters","safetySetting"],l);const c=m(e,["personGeneration"]);n!==void 0&&c!=null&&g(n,["parameters","personGeneration"],c);const d=m(e,["includeSafetyAttributes"]);n!==void 0&&d!=null&&g(n,["parameters","includeSafetyAttributes"],d);const h=m(e,["includeRaiReason"]);n!==void 0&&h!=null&&g(n,["parameters","includeRaiReason"],h);const f=m(e,["language"]);n!==void 0&&f!=null&&g(n,["parameters","language"],f);const v=m(e,["outputMimeType"]);n!==void 0&&v!=null&&g(n,["parameters","outputOptions","mimeType"],v);const _=m(e,["outputCompressionQuality"]);if(n!==void 0&&_!=null&&g(n,["parameters","outputOptions","compressionQuality"],_),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Wte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["config"]);return a!=null&&g(n,["config"],Hte(t,a,n)),n}function Kte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function Yte(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=m(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=m(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],lj(t,l)),r}function Jte(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],Yte(t,r,n)),n}function Xte(t,e,n){const r={},i=m(e,["displayName"]);n!==void 0&&i!=null&&g(n,["displayName"],i);const a=m(e,["description"]);n!==void 0&&a!=null&&g(n,["description"],a);const o=m(e,["defaultCheckpointId"]);return n!==void 0&&o!=null&&g(n,["defaultCheckpointId"],o),r}function Zte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],Xte(t,i,n)),n}function Qte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function ene(t,e){const n={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function tne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);if(i!=null){let o=Br(t,i);Array.isArray(o)&&(o=o.map(l=>xp(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["config"],ene(t,a)),n}function nne(t,e){const n={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(e,["imageBytes"]);r!=null&&g(n,["bytesBase64Encoded"],ji(t,r));const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function rne(t,e,n){const r={},i=m(e,["numberOfVideos"]);if(n!==void 0&&i!=null&&g(n,["parameters","sampleCount"],i),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=m(e,["durationSeconds"]);if(n!==void 0&&a!=null&&g(n,["parameters","durationSeconds"],a),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(e,["aspectRatio"]);if(n!==void 0&&o!=null&&g(n,["parameters","aspectRatio"],o),m(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const l=m(e,["personGeneration"]);if(n!==void 0&&l!=null&&g(n,["parameters","personGeneration"],l),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=m(e,["negativePrompt"]);n!==void 0&&c!=null&&g(n,["parameters","negativePrompt"],c);const d=m(e,["enhancePrompt"]);if(n!==void 0&&d!=null&&g(n,["parameters","enhancePrompt"],d),m(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(m(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return r}function ine(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["image"]);if(a!=null&&g(n,["instances[0]","image"],nne(t,a)),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=m(e,["config"]);return o!=null&&g(n,["config"],rne(t,o,n)),n}function ane(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function one(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function sne(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function lne(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],ane(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],one(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],sne(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const h=m(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const f=m(e,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function gl(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>lne(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function une(t,e){const n={},r=m(e,["anyOf"]);r!=null&&g(n,["anyOf"],r);const i=m(e,["default"]);i!=null&&g(n,["default"],i);const a=m(e,["description"]);a!=null&&g(n,["description"],a);const o=m(e,["enum"]);o!=null&&g(n,["enum"],o);const l=m(e,["example"]);l!=null&&g(n,["example"],l);const c=m(e,["format"]);c!=null&&g(n,["format"],c);const d=m(e,["items"]);d!=null&&g(n,["items"],d);const h=m(e,["maxItems"]);h!=null&&g(n,["maxItems"],h);const f=m(e,["maxLength"]);f!=null&&g(n,["maxLength"],f);const v=m(e,["maxProperties"]);v!=null&&g(n,["maxProperties"],v);const _=m(e,["maximum"]);_!=null&&g(n,["maximum"],_);const b=m(e,["minItems"]);b!=null&&g(n,["minItems"],b);const S=m(e,["minLength"]);S!=null&&g(n,["minLength"],S);const w=m(e,["minProperties"]);w!=null&&g(n,["minProperties"],w);const A=m(e,["minimum"]);A!=null&&g(n,["minimum"],A);const I=m(e,["nullable"]);I!=null&&g(n,["nullable"],I);const k=m(e,["pattern"]);k!=null&&g(n,["pattern"],k);const O=m(e,["properties"]);O!=null&&g(n,["properties"],O);const E=m(e,["propertyOrdering"]);E!=null&&g(n,["propertyOrdering"],E);const P=m(e,["required"]);P!=null&&g(n,["required"],P);const N=m(e,["title"]);N!=null&&g(n,["title"],N);const D=m(e,["type"]);return D!=null&&g(n,["type"],D),n}function cne(t,e){const n={},r=m(e,["featureSelectionPreference"]);return r!=null&&g(n,["featureSelectionPreference"],r),n}function dne(t,e){const n={},r=m(e,["method"]);r!=null&&g(n,["method"],r);const i=m(e,["category"]);i!=null&&g(n,["category"],i);const a=m(e,["threshold"]);return a!=null&&g(n,["threshold"],a),n}function fne(t,e){const n={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=m(e,["description"]);r!=null&&g(n,["description"],r);const i=m(e,["name"]);i!=null&&g(n,["name"],i);const a=m(e,["parameters"]);a!=null&&g(n,["parameters"],a);const o=m(e,["response"]);return o!=null&&g(n,["response"],o),n}function hne(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function pne(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],hne(t,r)),n}function mne(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function gne(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],mne(t,r)),n}function vne(){return{}}function yne(t,e){const n={},r=m(e,["apiKeyString"]);return r!=null&&g(n,["apiKeyString"],r),n}function xne(t,e){const n={},r=m(e,["apiKeyConfig"]);r!=null&&g(n,["apiKeyConfig"],yne(t,r));const i=m(e,["authType"]);i!=null&&g(n,["authType"],i);const a=m(e,["googleServiceAccountConfig"]);a!=null&&g(n,["googleServiceAccountConfig"],a);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(n,["httpBasicAuthConfig"],o);const l=m(e,["oauthConfig"]);l!=null&&g(n,["oauthConfig"],l);const c=m(e,["oidcConfig"]);return c!=null&&g(n,["oidcConfig"],c),n}function _ne(t,e){const n={},r=m(e,["authConfig"]);return r!=null&&g(n,["authConfig"],xne(t,r)),n}function bne(){return{}}function vj(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(v=>fne(t,v))),g(n,["functionDeclarations"],f)}const i=m(e,["retrieval"]);i!=null&&g(n,["retrieval"],i);const a=m(e,["googleSearch"]);a!=null&&g(n,["googleSearch"],pne(t,a));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],gne(t,o)),m(e,["enterpriseWebSearch"])!=null&&g(n,["enterpriseWebSearch"],vne());const c=m(e,["googleMaps"]);c!=null&&g(n,["googleMaps"],_ne(t,c)),m(e,["urlContext"])!=null&&g(n,["urlContext"],bne());const h=m(e,["codeExecution"]);return h!=null&&g(n,["codeExecution"],h),n}function wne(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function Sne(t,e){const n={},r=m(e,["latitude"]);r!=null&&g(n,["latitude"],r);const i=m(e,["longitude"]);return i!=null&&g(n,["longitude"],i),n}function Cne(t,e){const n={},r=m(e,["latLng"]);r!=null&&g(n,["latLng"],Sne(t,r));const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function kne(t,e){const n={},r=m(e,["functionCallingConfig"]);r!=null&&g(n,["functionCallingConfig"],wne(t,r));const i=m(e,["retrievalConfig"]);return i!=null&&g(n,["retrievalConfig"],Cne(t,i)),n}function Tne(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function Ene(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],Tne(t,r)),n}function Ane(t,e){const n={},r=m(e,["voiceConfig"]);if(r!=null&&g(n,["voiceConfig"],Ene(t,r)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function Pne(t,e){const n={},r=m(e,["includeThoughts"]);r!=null&&g(n,["includeThoughts"],r);const i=m(e,["thinkingBudget"]);return i!=null&&g(n,["thinkingBudget"],i),n}function Ine(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],gl(t,Rn(t,i)));const a=m(e,["temperature"]);a!=null&&g(r,["temperature"],a);const o=m(e,["topP"]);o!=null&&g(r,["topP"],o);const l=m(e,["topK"]);l!=null&&g(r,["topK"],l);const c=m(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const d=m(e,["maxOutputTokens"]);d!=null&&g(r,["maxOutputTokens"],d);const h=m(e,["stopSequences"]);h!=null&&g(r,["stopSequences"],h);const f=m(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const v=m(e,["logprobs"]);v!=null&&g(r,["logprobs"],v);const _=m(e,["presencePenalty"]);_!=null&&g(r,["presencePenalty"],_);const b=m(e,["frequencyPenalty"]);b!=null&&g(r,["frequencyPenalty"],b);const S=m(e,["seed"]);S!=null&&g(r,["seed"],S);const w=m(e,["responseMimeType"]);w!=null&&g(r,["responseMimeType"],w);const A=m(e,["responseSchema"]);A!=null&&g(r,["responseSchema"],une(t,Th(t,A)));const I=m(e,["routingConfig"]);I!=null&&g(r,["routingConfig"],I);const k=m(e,["modelSelectionConfig"]);k!=null&&g(r,["modelConfig"],cne(t,k));const O=m(e,["safetySettings"]);if(n!==void 0&&O!=null){let V=O;Array.isArray(V)&&(V=V.map(B=>dne(t,B))),g(n,["safetySettings"],V)}const E=m(e,["tools"]);if(n!==void 0&&E!=null){let V=Tc(t,E);Array.isArray(V)&&(V=V.map(B=>vj(t,kc(t,B)))),g(n,["tools"],V)}const P=m(e,["toolConfig"]);n!==void 0&&P!=null&&g(n,["toolConfig"],kne(t,P));const N=m(e,["labels"]);n!==void 0&&N!=null&&g(n,["labels"],N);const D=m(e,["cachedContent"]);n!==void 0&&D!=null&&g(n,["cachedContent"],ba(t,D));const $=m(e,["responseModalities"]);$!=null&&g(r,["responseModalities"],$);const F=m(e,["mediaResolution"]);F!=null&&g(r,["mediaResolution"],F);const L=m(e,["speechConfig"]);L!=null&&g(r,["speechConfig"],Ane(t,aj(t,L)));const z=m(e,["audioTimestamp"]);z!=null&&g(r,["audioTimestamp"],z);const W=m(e,["thinkingConfig"]);return W!=null&&g(r,["thinkingConfig"],Pne(t,W)),r}function KN(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);if(i!=null){let o=Br(t,i);Array.isArray(o)&&(o=o.map(l=>gl(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["generationConfig"],Ine(t,a,n)),n}function One(t,e,n){const r={},i=m(e,["taskType"]);n!==void 0&&i!=null&&g(n,["instances[]","task_type"],i);const a=m(e,["title"]);n!==void 0&&a!=null&&g(n,["instances[]","title"],a);const o=m(e,["outputDimensionality"]);n!==void 0&&o!=null&&g(n,["parameters","outputDimensionality"],o);const l=m(e,["mimeType"]);n!==void 0&&l!=null&&g(n,["instances[]","mimeType"],l);const c=m(e,["autoTruncate"]);return n!==void 0&&c!=null&&g(n,["parameters","autoTruncate"],c),r}function Nne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);i!=null&&g(n,["instances[]","content"],ij(t,i));const a=m(e,["config"]);return a!=null&&g(n,["config"],One(t,a,n)),n}function Mne(t,e,n){const r={},i=m(e,["outputGcsUri"]);n!==void 0&&i!=null&&g(n,["parameters","storageUri"],i);const a=m(e,["negativePrompt"]);n!==void 0&&a!=null&&g(n,["parameters","negativePrompt"],a);const o=m(e,["numberOfImages"]);n!==void 0&&o!=null&&g(n,["parameters","sampleCount"],o);const l=m(e,["aspectRatio"]);n!==void 0&&l!=null&&g(n,["parameters","aspectRatio"],l);const c=m(e,["guidanceScale"]);n!==void 0&&c!=null&&g(n,["parameters","guidanceScale"],c);const d=m(e,["seed"]);n!==void 0&&d!=null&&g(n,["parameters","seed"],d);const h=m(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&g(n,["parameters","safetySetting"],h);const f=m(e,["personGeneration"]);n!==void 0&&f!=null&&g(n,["parameters","personGeneration"],f);const v=m(e,["includeSafetyAttributes"]);n!==void 0&&v!=null&&g(n,["parameters","includeSafetyAttributes"],v);const _=m(e,["includeRaiReason"]);n!==void 0&&_!=null&&g(n,["parameters","includeRaiReason"],_);const b=m(e,["language"]);n!==void 0&&b!=null&&g(n,["parameters","language"],b);const S=m(e,["outputMimeType"]);n!==void 0&&S!=null&&g(n,["parameters","outputOptions","mimeType"],S);const w=m(e,["outputCompressionQuality"]);n!==void 0&&w!=null&&g(n,["parameters","outputOptions","compressionQuality"],w);const A=m(e,["addWatermark"]);n!==void 0&&A!=null&&g(n,["parameters","addWatermark"],A);const I=m(e,["enhancePrompt"]);return n!==void 0&&I!=null&&g(n,["parameters","enhancePrompt"],I),r}function Dne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["config"]);return a!=null&&g(n,["config"],Mne(t,a,n)),n}function _p(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const i=m(e,["imageBytes"]);i!=null&&g(n,["bytesBase64Encoded"],ji(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Rne(t,e){const n={},r=m(e,["maskMode"]);r!=null&&g(n,["maskMode"],r);const i=m(e,["segmentationClasses"]);i!=null&&g(n,["maskClasses"],i);const a=m(e,["maskDilation"]);return a!=null&&g(n,["dilation"],a),n}function jne(t,e){const n={},r=m(e,["controlType"]);r!=null&&g(n,["controlType"],r);const i=m(e,["enableControlImageComputation"]);return i!=null&&g(n,["computeControl"],i),n}function $ne(t,e){const n={},r=m(e,["styleDescription"]);return r!=null&&g(n,["styleDescription"],r),n}function Lne(t,e){const n={},r=m(e,["subjectType"]);r!=null&&g(n,["subjectType"],r);const i=m(e,["subjectDescription"]);return i!=null&&g(n,["subjectDescription"],i),n}function Bne(t,e){const n={},r=m(e,["referenceImage"]);r!=null&&g(n,["referenceImage"],_p(t,r));const i=m(e,["referenceId"]);i!=null&&g(n,["referenceId"],i);const a=m(e,["referenceType"]);a!=null&&g(n,["referenceType"],a);const o=m(e,["maskImageConfig"]);o!=null&&g(n,["maskImageConfig"],Rne(t,o));const l=m(e,["controlImageConfig"]);l!=null&&g(n,["controlImageConfig"],jne(t,l));const c=m(e,["styleImageConfig"]);c!=null&&g(n,["styleImageConfig"],$ne(t,c));const d=m(e,["subjectImageConfig"]);return d!=null&&g(n,["subjectImageConfig"],Lne(t,d)),n}function Fne(t,e,n){const r={},i=m(e,["outputGcsUri"]);n!==void 0&&i!=null&&g(n,["parameters","storageUri"],i);const a=m(e,["negativePrompt"]);n!==void 0&&a!=null&&g(n,["parameters","negativePrompt"],a);const o=m(e,["numberOfImages"]);n!==void 0&&o!=null&&g(n,["parameters","sampleCount"],o);const l=m(e,["aspectRatio"]);n!==void 0&&l!=null&&g(n,["parameters","aspectRatio"],l);const c=m(e,["guidanceScale"]);n!==void 0&&c!=null&&g(n,["parameters","guidanceScale"],c);const d=m(e,["seed"]);n!==void 0&&d!=null&&g(n,["parameters","seed"],d);const h=m(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&g(n,["parameters","safetySetting"],h);const f=m(e,["personGeneration"]);n!==void 0&&f!=null&&g(n,["parameters","personGeneration"],f);const v=m(e,["includeSafetyAttributes"]);n!==void 0&&v!=null&&g(n,["parameters","includeSafetyAttributes"],v);const _=m(e,["includeRaiReason"]);n!==void 0&&_!=null&&g(n,["parameters","includeRaiReason"],_);const b=m(e,["language"]);n!==void 0&&b!=null&&g(n,["parameters","language"],b);const S=m(e,["outputMimeType"]);n!==void 0&&S!=null&&g(n,["parameters","outputOptions","mimeType"],S);const w=m(e,["outputCompressionQuality"]);n!==void 0&&w!=null&&g(n,["parameters","outputOptions","compressionQuality"],w);const A=m(e,["editMode"]);n!==void 0&&A!=null&&g(n,["parameters","editMode"],A);const I=m(e,["baseSteps"]);return n!==void 0&&I!=null&&g(n,["parameters","editConfig","baseSteps"],I),r}function qne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Bne(t,c))),g(n,["instances[0]","referenceImages"],l)}const o=m(e,["config"]);return o!=null&&g(n,["config"],Fne(t,o,n)),n}function Une(t,e,n){const r={},i=m(e,["includeRaiReason"]);n!==void 0&&i!=null&&g(n,["parameters","includeRaiReason"],i);const a=m(e,["outputMimeType"]);n!==void 0&&a!=null&&g(n,["parameters","outputOptions","mimeType"],a);const o=m(e,["outputCompressionQuality"]);n!==void 0&&o!=null&&g(n,["parameters","outputOptions","compressionQuality"],o);const l=m(e,["numberOfImages"]);n!==void 0&&l!=null&&g(n,["parameters","sampleCount"],l);const c=m(e,["mode"]);return n!==void 0&&c!=null&&g(n,["parameters","mode"],c),r}function Vne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["image"]);i!=null&&g(n,["instances[0]","image"],_p(t,i));const a=m(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=m(e,["config"]);return o!=null&&g(n,["config"],Une(t,o,n)),n}function zne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function Gne(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=m(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=m(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],lj(t,l)),r}function Hne(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],Gne(t,r,n)),n}function Wne(t,e,n){const r={},i=m(e,["displayName"]);n!==void 0&&i!=null&&g(n,["displayName"],i);const a=m(e,["description"]);n!==void 0&&a!=null&&g(n,["description"],a);const o=m(e,["defaultCheckpointId"]);return n!==void 0&&o!=null&&g(n,["defaultCheckpointId"],o),r}function Kne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],Wne(t,i,n)),n}function Yne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function Jne(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],gl(t,Rn(t,i)));const a=m(e,["tools"]);if(n!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>vj(t,c))),g(n,["tools"],l)}const o=m(e,["generationConfig"]);return n!==void 0&&o!=null&&g(n,["generationConfig"],o),r}function Xne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);if(i!=null){let o=Br(t,i);Array.isArray(o)&&(o=o.map(l=>gl(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["config"],Jne(t,a,n)),n}function Zne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);if(i!=null){let o=Br(t,i);Array.isArray(o)&&(o=o.map(l=>gl(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["config"],a),n}function Qne(t,e){const n={},r=m(e,["uri"]);r!=null&&g(n,["gcsUri"],r);const i=m(e,["videoBytes"]);i!=null&&g(n,["bytesBase64Encoded"],ji(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function ere(t,e,n){const r={},i=m(e,["numberOfVideos"]);n!==void 0&&i!=null&&g(n,["parameters","sampleCount"],i);const a=m(e,["outputGcsUri"]);n!==void 0&&a!=null&&g(n,["parameters","storageUri"],a);const o=m(e,["fps"]);n!==void 0&&o!=null&&g(n,["parameters","fps"],o);const l=m(e,["durationSeconds"]);n!==void 0&&l!=null&&g(n,["parameters","durationSeconds"],l);const c=m(e,["seed"]);n!==void 0&&c!=null&&g(n,["parameters","seed"],c);const d=m(e,["aspectRatio"]);n!==void 0&&d!=null&&g(n,["parameters","aspectRatio"],d);const h=m(e,["resolution"]);n!==void 0&&h!=null&&g(n,["parameters","resolution"],h);const f=m(e,["personGeneration"]);n!==void 0&&f!=null&&g(n,["parameters","personGeneration"],f);const v=m(e,["pubsubTopic"]);n!==void 0&&v!=null&&g(n,["parameters","pubsubTopic"],v);const _=m(e,["negativePrompt"]);n!==void 0&&_!=null&&g(n,["parameters","negativePrompt"],_);const b=m(e,["enhancePrompt"]);n!==void 0&&b!=null&&g(n,["parameters","enhancePrompt"],b);const S=m(e,["generateAudio"]);n!==void 0&&S!=null&&g(n,["parameters","generateAudio"],S);const w=m(e,["lastFrame"]);return n!==void 0&&w!=null&&g(n,["instances[0]","lastFrame"],_p(t,w)),r}function tre(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["image"]);a!=null&&g(n,["instances[0]","image"],_p(t,a));const o=m(e,["video"]);o!=null&&g(n,["instances[0]","video"],Qne(t,o));const l=m(e,["config"]);return l!=null&&g(n,["config"],ere(t,l,n)),n}function nre(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function rre(t,e){const n={},r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function ire(t,e){const n={},r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function are(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],nre(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],rre(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],ire(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const h=m(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const f=m(e,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function ore(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>are(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function sre(t,e){const n={},r=m(e,["citationSources"]);return r!=null&&g(n,["citations"],r),n}function lre(t,e){const n={},r=m(e,["retrievedUrl"]);r!=null&&g(n,["retrievedUrl"],r);const i=m(e,["urlRetrievalStatus"]);return i!=null&&g(n,["urlRetrievalStatus"],i),n}function ure(t,e){const n={},r=m(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>lre(t,a))),g(n,["urlMetadata"],i)}return n}function cre(t,e){const n={},r=m(e,["content"]);r!=null&&g(n,["content"],ore(t,r));const i=m(e,["citationMetadata"]);i!=null&&g(n,["citationMetadata"],sre(t,i));const a=m(e,["tokenCount"]);a!=null&&g(n,["tokenCount"],a);const o=m(e,["finishReason"]);o!=null&&g(n,["finishReason"],o);const l=m(e,["urlContextMetadata"]);l!=null&&g(n,["urlContextMetadata"],ure(t,l));const c=m(e,["avgLogprobs"]);c!=null&&g(n,["avgLogprobs"],c);const d=m(e,["groundingMetadata"]);d!=null&&g(n,["groundingMetadata"],d);const h=m(e,["index"]);h!=null&&g(n,["index"],h);const f=m(e,["logprobsResult"]);f!=null&&g(n,["logprobsResult"],f);const v=m(e,["safetyRatings"]);return v!=null&&g(n,["safetyRatings"],v),n}function YN(t,e){const n={},r=m(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>cre(t,c))),g(n,["candidates"],l)}const i=m(e,["modelVersion"]);i!=null&&g(n,["modelVersion"],i);const a=m(e,["promptFeedback"]);a!=null&&g(n,["promptFeedback"],a);const o=m(e,["usageMetadata"]);return o!=null&&g(n,["usageMetadata"],o),n}function dre(t,e){const n={},r=m(e,["values"]);return r!=null&&g(n,["values"],r),n}function fre(){return{}}function hre(t,e){const n={},r=m(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>dre(t,o))),g(n,["embeddings"],a)}return m(e,["metadata"])!=null&&g(n,["metadata"],fre()),n}function pre(t,e){const n={},r=m(e,["bytesBase64Encoded"]);r!=null&&g(n,["imageBytes"],ji(t,r));const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function yj(t,e){const n={},r=m(e,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const i=m(e,["safetyAttributes","scores"]);i!=null&&g(n,["scores"],i);const a=m(e,["contentType"]);return a!=null&&g(n,["contentType"],a),n}function mre(t,e){const n={},r=m(e,["_self"]);r!=null&&g(n,["image"],pre(t,r));const i=m(e,["raiFilteredReason"]);i!=null&&g(n,["raiFilteredReason"],i);const a=m(e,["_self"]);return a!=null&&g(n,["safetyAttributes"],yj(t,a)),n}function gre(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>mre(t,o))),g(n,["generatedImages"],a)}const i=m(e,["positivePromptSafetyAttributes"]);return i!=null&&g(n,["positivePromptSafetyAttributes"],yj(t,i)),n}function vre(t,e){const n={},r=m(e,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(e,["createTime"]);i!=null&&g(n,["createTime"],i);const a=m(e,["updateTime"]);return a!=null&&g(n,["updateTime"],a),n}function fb(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["description"]);a!=null&&g(n,["description"],a);const o=m(e,["version"]);o!=null&&g(n,["version"],o);const l=m(e,["_self"]);l!=null&&g(n,["tunedModelInfo"],vre(t,l));const c=m(e,["inputTokenLimit"]);c!=null&&g(n,["inputTokenLimit"],c);const d=m(e,["outputTokenLimit"]);d!=null&&g(n,["outputTokenLimit"],d);const h=m(e,["supportedGenerationMethods"]);return h!=null&&g(n,["supportedActions"],h),n}function yre(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["_self"]);if(i!=null){let a=uj(t,i);Array.isArray(a)&&(a=a.map(o=>fb(t,o))),g(n,["models"],a)}return n}function xre(){return{}}function _re(t,e){const n={},r=m(e,["totalTokens"]);r!=null&&g(n,["totalTokens"],r);const i=m(e,["cachedContentTokenCount"]);return i!=null&&g(n,["cachedContentTokenCount"],i),n}function bre(t,e){const n={},r=m(e,["video","uri"]);r!=null&&g(n,["uri"],r);const i=m(e,["video","encodedVideo"]);i!=null&&g(n,["videoBytes"],ji(t,i));const a=m(e,["encoding"]);return a!=null&&g(n,["mimeType"],a),n}function wre(t,e){const n={},r=m(e,["_self"]);return r!=null&&g(n,["video"],bre(t,r)),n}function Sre(t,e){const n={},r=m(e,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>wre(t,l))),g(n,["generatedVideos"],o)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&g(n,["raiMediaFilteredReasons"],a),n}function Cre(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);o!=null&&g(n,["error"],o);const l=m(e,["response","generateVideoResponse"]);return l!=null&&g(n,["response"],Sre(t,l)),n}function kre(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function Tre(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Ere(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Are(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],kre(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],Tre(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],Ere(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const h=m(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const f=m(e,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function Pre(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Are(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function Ire(t,e){const n={},r=m(e,["citations"]);return r!=null&&g(n,["citations"],r),n}function Ore(t,e){const n={},r=m(e,["retrievedUrl"]);r!=null&&g(n,["retrievedUrl"],r);const i=m(e,["urlRetrievalStatus"]);return i!=null&&g(n,["urlRetrievalStatus"],i),n}function Nre(t,e){const n={},r=m(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Ore(t,a))),g(n,["urlMetadata"],i)}return n}function Mre(t,e){const n={},r=m(e,["content"]);r!=null&&g(n,["content"],Pre(t,r));const i=m(e,["citationMetadata"]);i!=null&&g(n,["citationMetadata"],Ire(t,i));const a=m(e,["finishMessage"]);a!=null&&g(n,["finishMessage"],a);const o=m(e,["finishReason"]);o!=null&&g(n,["finishReason"],o);const l=m(e,["urlContextMetadata"]);l!=null&&g(n,["urlContextMetadata"],Nre(t,l));const c=m(e,["avgLogprobs"]);c!=null&&g(n,["avgLogprobs"],c);const d=m(e,["groundingMetadata"]);d!=null&&g(n,["groundingMetadata"],d);const h=m(e,["index"]);h!=null&&g(n,["index"],h);const f=m(e,["logprobsResult"]);f!=null&&g(n,["logprobsResult"],f);const v=m(e,["safetyRatings"]);return v!=null&&g(n,["safetyRatings"],v),n}function JN(t,e){const n={},r=m(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>Mre(t,h))),g(n,["candidates"],d)}const i=m(e,["createTime"]);i!=null&&g(n,["createTime"],i);const a=m(e,["responseId"]);a!=null&&g(n,["responseId"],a);const o=m(e,["modelVersion"]);o!=null&&g(n,["modelVersion"],o);const l=m(e,["promptFeedback"]);l!=null&&g(n,["promptFeedback"],l);const c=m(e,["usageMetadata"]);return c!=null&&g(n,["usageMetadata"],c),n}function Dre(t,e){const n={},r=m(e,["truncated"]);r!=null&&g(n,["truncated"],r);const i=m(e,["token_count"]);return i!=null&&g(n,["tokenCount"],i),n}function Rre(t,e){const n={},r=m(e,["values"]);r!=null&&g(n,["values"],r);const i=m(e,["statistics"]);return i!=null&&g(n,["statistics"],Dre(t,i)),n}function jre(t,e){const n={},r=m(e,["billableCharacterCount"]);return r!=null&&g(n,["billableCharacterCount"],r),n}function $re(t,e){const n={},r=m(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Rre(t,o))),g(n,["embeddings"],a)}const i=m(e,["metadata"]);return i!=null&&g(n,["metadata"],jre(t,i)),n}function Lre(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const i=m(e,["bytesBase64Encoded"]);i!=null&&g(n,["imageBytes"],ji(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function xj(t,e){const n={},r=m(e,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const i=m(e,["safetyAttributes","scores"]);i!=null&&g(n,["scores"],i);const a=m(e,["contentType"]);return a!=null&&g(n,["contentType"],a),n}function Dw(t,e){const n={},r=m(e,["_self"]);r!=null&&g(n,["image"],Lre(t,r));const i=m(e,["raiFilteredReason"]);i!=null&&g(n,["raiFilteredReason"],i);const a=m(e,["_self"]);a!=null&&g(n,["safetyAttributes"],xj(t,a));const o=m(e,["prompt"]);return o!=null&&g(n,["enhancedPrompt"],o),n}function Bre(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Dw(t,o))),g(n,["generatedImages"],a)}const i=m(e,["positivePromptSafetyAttributes"]);return i!=null&&g(n,["positivePromptSafetyAttributes"],xj(t,i)),n}function Fre(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Dw(t,a))),g(n,["generatedImages"],i)}return n}function qre(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Dw(t,a))),g(n,["generatedImages"],i)}return n}function Ure(t,e){const n={},r=m(e,["endpoint"]);r!=null&&g(n,["name"],r);const i=m(e,["deployedModelId"]);return i!=null&&g(n,["deployedModelId"],i),n}function Vre(t,e){const n={},r=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&g(n,["baseModel"],r);const i=m(e,["createTime"]);i!=null&&g(n,["createTime"],i);const a=m(e,["updateTime"]);return a!=null&&g(n,["updateTime"],a),n}function zre(t,e){const n={},r=m(e,["checkpointId"]);r!=null&&g(n,["checkpointId"],r);const i=m(e,["epoch"]);i!=null&&g(n,["epoch"],i);const a=m(e,["step"]);return a!=null&&g(n,["step"],a),n}function hb(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["description"]);a!=null&&g(n,["description"],a);const o=m(e,["versionId"]);o!=null&&g(n,["version"],o);const l=m(e,["deployedModels"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>Ure(t,_))),g(n,["endpoints"],v)}const c=m(e,["labels"]);c!=null&&g(n,["labels"],c);const d=m(e,["_self"]);d!=null&&g(n,["tunedModelInfo"],Vre(t,d));const h=m(e,["defaultCheckpointId"]);h!=null&&g(n,["defaultCheckpointId"],h);const f=m(e,["checkpoints"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(_=>zre(t,_))),g(n,["checkpoints"],v)}return n}function Gre(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["_self"]);if(i!=null){let a=uj(t,i);Array.isArray(a)&&(a=a.map(o=>hb(t,o))),g(n,["models"],a)}return n}function Hre(){return{}}function Wre(t,e){const n={},r=m(e,["totalTokens"]);return r!=null&&g(n,["totalTokens"],r),n}function Kre(t,e){const n={},r=m(e,["tokensInfo"]);return r!=null&&g(n,["tokensInfo"],r),n}function Yre(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&g(n,["uri"],r);const i=m(e,["bytesBase64Encoded"]);i!=null&&g(n,["videoBytes"],ji(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Jre(t,e){const n={},r=m(e,["_self"]);return r!=null&&g(n,["video"],Yre(t,r)),n}function Xre(t,e){const n={},r=m(e,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Jre(t,l))),g(n,["generatedVideos"],o)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&g(n,["raiMediaFilteredReasons"],a),n}function Zre(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);o!=null&&g(n,["error"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],Xre(t,l)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qre="Content-Type",eie="X-Server-Timeout",tie="User-Agent",pb="x-goog-api-client",nie="1.5.1",rie=`google-genai-sdk/${nie}`,iie="v1beta1",aie="v1beta",XN=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class _j extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class mb extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class oie{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:iie,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:aie,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,a=i.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>i.abort(),n.timeout),r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=a}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ZN(i),new lb(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ZN(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return As(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:c}=yield Dt(i.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(c);try{const f=JSON.parse(d);if("error"in f){const v=JSON.parse(JSON.stringify(f.error)),_=v.status,b=v.code,S=`got status: ${_}. ${JSON.stringify(f)}`;if(b>=400&&b<500)throw new _j(S);if(b>=500&&b<600)throw new mb(S)}}catch(f){const v=f;if(v.name==="ClientError"||v.name==="ServerError")throw f}o+=d;let h=o.match(XN);for(;h;){const f=h[1];try{const v=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Dt(new lb(v)),o=o.slice(h[0].length),h=o.match(XN)}catch(v){throw new Error(`exception parsing stream chunk ${f}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=rie+" "+this.clientOptions.userAgentExtra;return e[tie]=n,e[pb]=n,e[Qre]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(eie,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c=await this.fetchUploadUrl(i,n);return a.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},o=await this.request({path:Ge("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function ZN(t){var e;if(t===void 0)throw new mb("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=`got status: ${n} ${r}. ${JSON.stringify(i)}`;throw n>=400&&n<500?new _j(a):n>=500&&n<600?new mb(a):new Error(a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sie="mcp_used/unknown";function bj(t){for(const e of t)if(Rw(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function wj(t){var e;const n=(e=t[pb])!==null&&e!==void 0?e:"";t[pb]=(n+` ${sie}`).trimStart()}function lie(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Rw(i)))!==null&&r!==void 0?r:!1}function uie(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Rw(i)))!==null&&r!==void 0?r:!1}function Rw(t){return t!==null&&typeof t=="object"&&t instanceof jw}function cie(t,e=100){return As(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield Dt(t.listTools({cursor:r}));for(const o of a.tools)yield yield Dt(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class jw{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new jw(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const h of this.mcpClients)try{for(var l=!0,c=(n=void 0,Pu(cie(h))),d;d=await c.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const f=i;o.push(f);const v=f.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=h}}catch(f){n={error:f}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),dZ(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function die(t,e,n){const r=new ZX;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const a=_te(t,i);Object.assign(r,a),e(r)}class fie{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=mie(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const h=new Promise(k=>{d=k}),f=e.callbacks,v=function(){d({})},_=this.apiClient,b={onopen:v,onmessage:k=>{die(_,f.onmessage,k)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(k){}},S=this.webSocketFactory.create(c,pie(o),b);S.connect(),await h;const w=It(this.apiClient,e.model),A=pj(this.apiClient,{model:w}),I=db(this.apiClient,{setup:A});return S.send(JSON.stringify(I)),new hie(S,this.apiClient)}}class hie{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Dee(this.apiClient,e),r=mj(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Ree(this.apiClient,e),r=db(this.apiClient,n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=db(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ws.PLAY)}pause(){this.sendPlaybackControl(ws.PAUSE)}stop(){this.sendPlaybackControl(ws.STOP)}resetContext(){this.sendPlaybackControl(ws.RESET_CONTEXT)}close(){this.conn.close()}}function pie(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function mie(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gie="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function vie(t,e,n){const r=new XX;let i;if(n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),t.isVertexAI()){const a=dte(t,i);Object.assign(r,a)}else{const a=cte(t,i);Object.assign(r,a)}e(r)}class yie{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new fie(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,l;const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const f=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&bj(e.config.tools)&&wj(f);const v=wie(f);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v);else{const $=this.apiClient.getApiKey();let F="BidiGenerateContent",L="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),F="BidiGenerateContentConstrained",L="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${F}?${L}=${$}`}let _=()=>{};const b=new Promise($=>{_=$}),S=e.callbacks,w=function(){var $;($=S==null?void 0:S.onopen)===null||$===void 0||$.call(S),_({})},A=this.apiClient,I={onopen:w,onmessage:$=>{vie(A,S.onmessage,$)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function($){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function($){}},k=this.webSocketFactory.create(h,bie(v),I);k.connect(),await b;let O=It(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const $=this.apiClient.getProject(),F=this.apiClient.getLocation();O=`projects/${$}/locations/${F}/`+O}let E={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ch.AUDIO]}:e.config.responseModalities=[Ch.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],N=[];for(const $ of P)if(this.isCallableTool($)){const F=$;N.push(await F.tool())}else N.push($);N.length>0&&(e.config.tools=N);const D={model:O,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?E=Eee(this.apiClient,D):E=Tee(this.apiClient,D),delete E.config,k.send(JSON.stringify(E)),new _ie(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const xie={turnComplete:!0};class _ie{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Br(e,n.turns),e.isVertexAI()?r=r.map(i=>gl(e,i)):r=r.map(i=>xp(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(gie)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},xie),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Mee(this.apiClient,e)}:n={realtimeInput:Nee(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function bie(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function wie(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QN=10;function eM(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(xf(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function xf(t){return"callTool"in t&&typeof t.callTool=="function"}function tM(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sie extends ml{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,l;const c=await this.processParamsForMcpUsage(n);if(!lie(n)||eM(n.config))return await this.generateContentInternal(c);if(uie(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,h;const f=Br(this.apiClient,c.contents),v=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:QN;let _=0;for(;_<v&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,S=[];for(const w of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(xf(w)){const I=await w.callTool(d.functionCalls);S.push(...I)}_++,h={role:"user",parts:S},c.contents=Br(this.apiClient,c.contents),c.contents.push(b),c.contents.push(h),tM(c.config)&&(f.push(b),f.push(h))}return tM(c.config)&&(d.automaticFunctionCallingHistory=f),d},this.generateContentStream=async n=>{if(eM(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:o.push(c);let l;return a?l={generatedImages:o,positivePromptSafetyAttributes:a}:l={generatedImages:o},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new yp(al.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async c=>xf(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&bj(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),wj(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(xf(o)){const l=o,c=await l.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,l)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:QN;let o=!1,l=0;const c=await this.initAfcToolsMap(e);return function(d,h,f){var v,_;return As(this,arguments,function*(){for(var b,S,w,A;l<a;){o&&(l++,o=!1);const E=yield Dt(d.processParamsForMcpUsage(f)),P=yield Dt(d.generateContentStreamInternal(E)),N=[],D=[];try{for(var I=!0,k=(S=void 0,Pu(P)),O;O=yield Dt(k.next()),b=O.done,!b;I=!0){A=O.value,I=!1;const $=A;if(yield yield Dt($),$.candidates&&(!((v=$.candidates[0])===null||v===void 0)&&v.content)){D.push($.candidates[0].content);for(const F of(_=$.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(l<a&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(F.functionCall.name)){const L=yield Dt(h.get(F.functionCall.name).callTool([F.functionCall]));N.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch($){S={error:$}}finally{try{!I&&!b&&(w=k.return)&&(yield Dt(w.call(k)))}finally{if(S)throw S.error}}if(N.length>0){o=!0;const $=new hu;$.candidates=[{content:{role:"user",parts:N}}],yield yield Dt($);const F=[];F.push(...D),F.push({role:"user",parts:N});const L=Br(d.apiClient,f.contents).concat(F);f.contents=L}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=KN(this.apiClient,e);return l=Ge("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const f=JN(this.apiClient,h),v=new hu;return Object.assign(v,f),v})}else{const d=WN(this.apiClient,e);return l=Ge("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const f=YN(this.apiClient,h),v=new hu;return Object.assign(v,f),v})}}async generateContentStreamInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=KN(this.apiClient,e);l=Ge("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return o=h.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return As(this,arguments,function*(){var v,_,b,S;try{for(var w=!0,A=Pu(f),I;I=yield Dt(A.next()),v=I.done,!v;w=!0){S=I.value,w=!1;const O=JN(h,yield Dt(S.json())),E=new hu;Object.assign(E,O),yield yield Dt(E)}}catch(k){_={error:k}}finally{try{!w&&!v&&(b=A.return)&&(yield Dt(b.call(A)))}finally{if(_)throw _.error}}})})}else{const d=WN(this.apiClient,e);l=Ge("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return o=h.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(f){return As(this,arguments,function*(){var v,_,b,S;try{for(var w=!0,A=Pu(f),I;I=yield Dt(A.next()),v=I.done,!v;w=!0){S=I.value,w=!1;const O=YN(h,yield Dt(S.json())),E=new hu;Object.assign(E,O),yield yield Dt(E)}}catch(k){_={error:k}}finally{try{!w&&!v&&(b=A.return)&&(yield Dt(b.call(A)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Nne(this.apiClient,e);return l=Ge("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const f=$re(this.apiClient,h),v=new EN;return Object.assign(v,f),v})}else{const d=Gte(this.apiClient,e);return l=Ge("{model}:batchEmbedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const f=hre(this.apiClient,h),v=new EN;return Object.assign(v,f),v})}}async generateImagesInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Dne(this.apiClient,e);return l=Ge("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const f=Bre(this.apiClient,h),v=new AN;return Object.assign(v,f),v})}else{const d=Wte(this.apiClient,e);return l=Ge("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const f=gre(this.apiClient,h),v=new AN;return Object.assign(v,f),v})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=qne(this.apiClient,e);return a=Ge("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Fre(this.apiClient,c),h=new GX;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Vne(this.apiClient,e);return a=Ge("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=qre(this.apiClient,c),h=new HX;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=zne(this.apiClient,e);return l=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>hb(this.apiClient,h))}else{const d=Kte(this.apiClient,e);return l=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>fb(this.apiClient,h))}}async listInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Hne(this.apiClient,e);return l=Ge("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const f=Gre(this.apiClient,h),v=new PN;return Object.assign(v,f),v})}else{const d=Jte(this.apiClient,e);return l=Ge("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const f=yre(this.apiClient,h),v=new PN;return Object.assign(v,f),v})}}async update(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Kne(this.apiClient,e);return l=Ge("{model}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>hb(this.apiClient,h))}else{const d=Zte(this.apiClient,e);return l=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>fb(this.apiClient,h))}}async delete(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Yne(this.apiClient,e);return l=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(()=>{const h=Hre(),f=new IN;return Object.assign(f,h),f})}else{const d=Qte(this.apiClient,e);return l=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(()=>{const h=xre(),f=new IN;return Object.assign(f,h),f})}}async countTokens(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Xne(this.apiClient,e);return l=Ge("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const f=Wre(this.apiClient,h),v=new ON;return Object.assign(v,f),v})}else{const d=tne(this.apiClient,e);return l=Ge("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const f=_re(this.apiClient,h),v=new ON;return Object.assign(v,f),v})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Zne(this.apiClient,e);return a=Ge("{model}:computeTokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Kre(this.apiClient,c),h=new WX;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=tre(this.apiClient,e);return l=Ge("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>Zre(this.apiClient,h))}else{const d=ine(this.apiClient,e);return l=Ge("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>Cre(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cie(t,e){const n={},r=m(e,["operationName"]);r!=null&&g(n,["_url","operationName"],r);const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function kie(t,e){const n={},r=m(e,["operationName"]);r!=null&&g(n,["_url","operationName"],r);const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function Tie(t,e){const n={},r=m(e,["operationName"]);r!=null&&g(n,["operationName"],r);const i=m(e,["resourceName"]);i!=null&&g(n,["_url","resourceName"],i);const a=m(e,["config"]);return a!=null&&g(n,["config"],a),n}function Eie(t,e){const n={},r=m(e,["video","uri"]);r!=null&&g(n,["uri"],r);const i=m(e,["video","encodedVideo"]);i!=null&&g(n,["videoBytes"],ji(t,i));const a=m(e,["encoding"]);return a!=null&&g(n,["mimeType"],a),n}function Aie(t,e){const n={},r=m(e,["_self"]);return r!=null&&g(n,["video"],Eie(t,r)),n}function Pie(t,e){const n={},r=m(e,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Aie(t,l))),g(n,["generatedVideos"],o)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&g(n,["raiMediaFilteredReasons"],a),n}function Iie(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);o!=null&&g(n,["error"],o);const l=m(e,["response","generateVideoResponse"]);return l!=null&&g(n,["response"],Pie(t,l)),n}function Oie(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&g(n,["uri"],r);const i=m(e,["bytesBase64Encoded"]);i!=null&&g(n,["videoBytes"],ji(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Nie(t,e){const n={},r=m(e,["_self"]);return r!=null&&g(n,["video"],Oie(t,r)),n}function Mie(t,e){const n={},r=m(e,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Nie(t,l))),g(n,["generatedVideos"],o)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&g(n,["raiMediaFilteredReasons"],a),n}function nM(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);o!=null&&g(n,["error"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],Mie(t,l)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Die extends ml{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;return r&&"httpOptions"in r&&(a=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=kie(this.apiClient,e);return l=Ge("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>nM(this.apiClient,h))}else{const d=Cie(this.apiClient,e);return l=Ge("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>Iie(this.apiClient,h))}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Tie(this.apiClient,e);return a=Ge("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>nM(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rie(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function Sj(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],Rie(t,r)),n}function jie(t,e){const n={},r=m(e,["speaker"]);r!=null&&g(n,["speaker"],r);const i=m(e,["voiceConfig"]);return i!=null&&g(n,["voiceConfig"],Sj(t,i)),n}function $ie(t,e){const n={},r=m(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>jie(t,a))),g(n,["speakerVoiceConfigs"],i)}return n}function Lie(t,e){const n={},r=m(e,["voiceConfig"]);r!=null&&g(n,["voiceConfig"],Sj(t,r));const i=m(e,["multiSpeakerVoiceConfig"]);i!=null&&g(n,["multiSpeakerVoiceConfig"],$ie(t,i));const a=m(e,["languageCode"]);return a!=null&&g(n,["languageCode"],a),n}function Bie(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function Fie(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function qie(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function Uie(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],Bie(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],Fie(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],qie(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const h=m(e,["functionCall"]);h!=null&&g(n,["functionCall"],h);const f=m(e,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function Vie(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Uie(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function zie(t,e){const n={},r=m(e,["behavior"]);r!=null&&g(n,["behavior"],r);const i=m(e,["description"]);i!=null&&g(n,["description"],i);const a=m(e,["name"]);a!=null&&g(n,["name"],a);const o=m(e,["parameters"]);o!=null&&g(n,["parameters"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],l),n}function Gie(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function Hie(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],Gie(t,r)),n}function Wie(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function Kie(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],Wie(t,r)),n}function Yie(){return{}}function Jie(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>zie(t,d))),g(n,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(e,["googleSearch"]);i!=null&&g(n,["googleSearch"],Hie(t,i));const a=m(e,["googleSearchRetrieval"]);if(a!=null&&g(n,["googleSearchRetrieval"],Kie(t,a)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(n,["urlContext"],Yie());const l=m(e,["codeExecution"]);return l!=null&&g(n,["codeExecution"],l),n}function Xie(t,e){const n={},r=m(e,["handle"]);if(r!=null&&g(n,["handle"],r),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function rM(){return{}}function Zie(t,e){const n={},r=m(e,["disabled"]);r!=null&&g(n,["disabled"],r);const i=m(e,["startOfSpeechSensitivity"]);i!=null&&g(n,["startOfSpeechSensitivity"],i);const a=m(e,["endOfSpeechSensitivity"]);a!=null&&g(n,["endOfSpeechSensitivity"],a);const o=m(e,["prefixPaddingMs"]);o!=null&&g(n,["prefixPaddingMs"],o);const l=m(e,["silenceDurationMs"]);return l!=null&&g(n,["silenceDurationMs"],l),n}function Qie(t,e){const n={},r=m(e,["automaticActivityDetection"]);r!=null&&g(n,["automaticActivityDetection"],Zie(t,r));const i=m(e,["activityHandling"]);i!=null&&g(n,["activityHandling"],i);const a=m(e,["turnCoverage"]);return a!=null&&g(n,["turnCoverage"],a),n}function eae(t,e){const n={},r=m(e,["targetTokens"]);return r!=null&&g(n,["targetTokens"],r),n}function tae(t,e){const n={},r=m(e,["triggerTokens"]);r!=null&&g(n,["triggerTokens"],r);const i=m(e,["slidingWindow"]);return i!=null&&g(n,["slidingWindow"],eae(t,i)),n}function nae(t,e){const n={},r=m(e,["proactiveAudio"]);return r!=null&&g(n,["proactiveAudio"],r),n}function rae(t,e,n){const r={},i=m(e,["generationConfig"]);n!==void 0&&i!=null&&g(n,["setup","generationConfig"],i);const a=m(e,["responseModalities"]);n!==void 0&&a!=null&&g(n,["setup","generationConfig","responseModalities"],a);const o=m(e,["temperature"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig","temperature"],o);const l=m(e,["topP"]);n!==void 0&&l!=null&&g(n,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);n!==void 0&&c!=null&&g(n,["setup","generationConfig","topK"],c);const d=m(e,["maxOutputTokens"]);n!==void 0&&d!=null&&g(n,["setup","generationConfig","maxOutputTokens"],d);const h=m(e,["mediaResolution"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","mediaResolution"],h);const f=m(e,["seed"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","seed"],f);const v=m(e,["speechConfig"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","speechConfig"],Lie(t,Mw(t,v)));const _=m(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&g(n,["setup","generationConfig","enableAffectiveDialog"],_);const b=m(e,["systemInstruction"]);n!==void 0&&b!=null&&g(n,["setup","systemInstruction"],Vie(t,Rn(t,b)));const S=m(e,["tools"]);if(n!==void 0&&S!=null){let P=Tc(t,S);Array.isArray(P)&&(P=P.map(N=>Jie(t,kc(t,N)))),g(n,["setup","tools"],P)}const w=m(e,["sessionResumption"]);n!==void 0&&w!=null&&g(n,["setup","sessionResumption"],Xie(t,w));const A=m(e,["inputAudioTranscription"]);n!==void 0&&A!=null&&g(n,["setup","inputAudioTranscription"],rM());const I=m(e,["outputAudioTranscription"]);n!==void 0&&I!=null&&g(n,["setup","outputAudioTranscription"],rM());const k=m(e,["realtimeInputConfig"]);n!==void 0&&k!=null&&g(n,["setup","realtimeInputConfig"],Qie(t,k));const O=m(e,["contextWindowCompression"]);n!==void 0&&O!=null&&g(n,["setup","contextWindowCompression"],tae(t,O));const E=m(e,["proactivity"]);return n!==void 0&&E!=null&&g(n,["setup","proactivity"],nae(t,E)),r}function iae(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],rae(t,i,n)),n}function aae(t,e,n){const r={},i=m(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const a=m(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const o=m(e,["uses"]);n!==void 0&&o!=null&&g(n,["uses"],o);const l=m(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&g(n,["bidiGenerateContentSetup"],iae(t,l));const c=m(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&g(n,["fieldMask"],c),r}function oae(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],aae(t,r,n)),n}function sae(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["name"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lae(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function uae(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=lae(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>o.includes(d)?`generationConfig.${d}`:d));const c=[];a&&c.push(a),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class cae extends ml{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=oae(this.apiClient,e);a=Ge("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const c=uae(l,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>sae(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dae(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],r);const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function fae(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=m(e,["filter"]);return n!==void 0&&o!=null&&g(n,["_query","filter"],o),r}function hae(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],fae(t,r,n)),n}function pae(t,e){const n={},r=m(e,["textInput"]);r!=null&&g(n,["textInput"],r);const i=m(e,["output"]);return i!=null&&g(n,["output"],i),n}function mae(t,e){const n={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>pae(t,a))),g(n,["examples","examples"],i)}return n}function gae(t,e,n){const r={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=m(e,["tunedModelDisplayName"]);if(n!==void 0&&i!=null&&g(n,["displayName"],i),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=m(e,["epochCount"]);n!==void 0&&a!=null&&g(n,["tuningTask","hyperparameters","epochCount"],a);const o=m(e,["learningRateMultiplier"]);if(o!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),m(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=m(e,["batchSize"]);n!==void 0&&l!=null&&g(n,["tuningTask","hyperparameters","batchSize"],l);const c=m(e,["learningRate"]);return n!==void 0&&c!=null&&g(n,["tuningTask","hyperparameters","learningRate"],c),r}function vae(t,e){const n={},r=m(e,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(e,["trainingDataset"]);i!=null&&g(n,["tuningTask","trainingData"],mae(t,i));const a=m(e,["config"]);return a!=null&&g(n,["config"],gae(t,a,n)),n}function yae(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],r);const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function xae(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=m(e,["filter"]);return n!==void 0&&o!=null&&g(n,["_query","filter"],o),r}function _ae(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],xae(t,r,n)),n}function bae(t,e,n){const r={},i=m(e,["gcsUri"]);if(n!==void 0&&i!=null&&g(n,["supervisedTuningSpec","trainingDatasetUri"],i),m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function wae(t,e){const n={},r=m(e,["gcsUri"]);return r!=null&&g(n,["validationDatasetUri"],r),n}function Sae(t,e,n){const r={},i=m(e,["validationDataset"]);n!==void 0&&i!=null&&g(n,["supervisedTuningSpec"],wae(t,i));const a=m(e,["tunedModelDisplayName"]);n!==void 0&&a!=null&&g(n,["tunedModelDisplayName"],a);const o=m(e,["description"]);n!==void 0&&o!=null&&g(n,["description"],o);const l=m(e,["epochCount"]);n!==void 0&&l!=null&&g(n,["supervisedTuningSpec","hyperParameters","epochCount"],l);const c=m(e,["learningRateMultiplier"]);n!==void 0&&c!=null&&g(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const d=m(e,["exportLastCheckpointOnly"]);n!==void 0&&d!=null&&g(n,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const h=m(e,["adapterSize"]);if(n!==void 0&&h!=null&&g(n,["supervisedTuningSpec","hyperParameters","adapterSize"],h),m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function Cae(t,e){const n={},r=m(e,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(e,["trainingDataset"]);i!=null&&g(n,["supervisedTuningSpec","trainingDatasetUri"],bae(t,i,n));const a=m(e,["config"]);return a!=null&&g(n,["config"],Sae(t,a,n)),n}function kae(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["model"],r);const i=m(e,["name"]);return i!=null&&g(n,["endpoint"],i),n}function Cj(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["state"]);i!=null&&g(n,["state"],oj(t,i));const a=m(e,["createTime"]);a!=null&&g(n,["createTime"],a);const o=m(e,["tuningTask","startTime"]);o!=null&&g(n,["startTime"],o);const l=m(e,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const c=m(e,["updateTime"]);c!=null&&g(n,["updateTime"],c);const d=m(e,["description"]);d!=null&&g(n,["description"],d);const h=m(e,["baseModel"]);h!=null&&g(n,["baseModel"],h);const f=m(e,["_self"]);f!=null&&g(n,["tunedModel"],kae(t,f));const v=m(e,["distillationSpec"]);v!=null&&g(n,["distillationSpec"],v);const _=m(e,["experiment"]);_!=null&&g(n,["experiment"],_);const b=m(e,["labels"]);b!=null&&g(n,["labels"],b);const S=m(e,["pipelineJob"]);S!=null&&g(n,["pipelineJob"],S);const w=m(e,["serviceAccount"]);w!=null&&g(n,["serviceAccount"],w);const A=m(e,["tunedModelDisplayName"]);return A!=null&&g(n,["tunedModelDisplayName"],A),n}function Tae(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Cj(t,o))),g(n,["tuningJobs"],a)}return n}function Eae(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);return o!=null&&g(n,["error"],o),n}function Aae(t,e){const n={},r=m(e,["checkpointId"]);r!=null&&g(n,["checkpointId"],r);const i=m(e,["epoch"]);i!=null&&g(n,["epoch"],i);const a=m(e,["step"]);a!=null&&g(n,["step"],a);const o=m(e,["endpoint"]);return o!=null&&g(n,["endpoint"],o),n}function Pae(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],r);const i=m(e,["endpoint"]);i!=null&&g(n,["endpoint"],i);const a=m(e,["checkpoints"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>Aae(t,l))),g(n,["checkpoints"],o)}return n}function gb(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["state"]);i!=null&&g(n,["state"],oj(t,i));const a=m(e,["createTime"]);a!=null&&g(n,["createTime"],a);const o=m(e,["startTime"]);o!=null&&g(n,["startTime"],o);const l=m(e,["endTime"]);l!=null&&g(n,["endTime"],l);const c=m(e,["updateTime"]);c!=null&&g(n,["updateTime"],c);const d=m(e,["error"]);d!=null&&g(n,["error"],d);const h=m(e,["description"]);h!=null&&g(n,["description"],h);const f=m(e,["baseModel"]);f!=null&&g(n,["baseModel"],f);const v=m(e,["tunedModel"]);v!=null&&g(n,["tunedModel"],Pae(t,v));const _=m(e,["supervisedTuningSpec"]);_!=null&&g(n,["supervisedTuningSpec"],_);const b=m(e,["tuningDataStats"]);b!=null&&g(n,["tuningDataStats"],b);const S=m(e,["encryptionSpec"]);S!=null&&g(n,["encryptionSpec"],S);const w=m(e,["partnerModelTuningSpec"]);w!=null&&g(n,["partnerModelTuningSpec"],w);const A=m(e,["distillationSpec"]);A!=null&&g(n,["distillationSpec"],A);const I=m(e,["experiment"]);I!=null&&g(n,["experiment"],I);const k=m(e,["labels"]);k!=null&&g(n,["labels"],k);const O=m(e,["pipelineJob"]);O!=null&&g(n,["pipelineJob"],O);const E=m(e,["serviceAccount"]);E!=null&&g(n,["serviceAccount"],E);const P=m(e,["tunedModelDisplayName"]);return P!=null&&g(n,["tunedModelDisplayName"],P),n}function Iae(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>gb(t,o))),g(n,["tuningJobs"],a)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oae extends ml{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new yp(al.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:sb.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=yae(this.apiClient,e);return l=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>gb(this.apiClient,h))}else{const d=dae(this.apiClient,e);return l=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>Cj(this.apiClient,h))}}async listInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=_ae(this.apiClient,e);return l=Ge("tuningJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const f=Iae(this.apiClient,h),v=new NN;return Object.assign(v,f),v})}else{const d=hae(this.apiClient,e);return l=Ge("tunedModels",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const f=Tae(this.apiClient,h),v=new NN;return Object.assign(v,f),v})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Cae(this.apiClient,e);return a=Ge("tuningJobs",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>gb(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=vae(this.apiClient,e);return a=Ge("tunedModels",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Eae(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nae{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Mae=1024*1024*8,Dae=3,Rae=1e3,jae=2,bx="x-goog-upload-status";async function $ae(t,e,n){var r,i,a;let o=0,l=0,c=new lb(new Response),d="upload";for(o=t.size;l<o;){const f=Math.min(Mae,o-l),v=t.slice(l,l+f);l+f>=o&&(d+=", finalize");let _=0,b=Rae;for(;_<Dae&&(c=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[bx]));)_++,await Bae(b),b=b*jae;if(l+=f,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[bx])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(c==null?void 0:c.json());if(((a=c==null?void 0:c.headers)===null||a===void 0?void 0:a[bx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function Lae(t){return{size:t.size,type:t.type}}function Bae(t){return new Promise(e=>setTimeout(e,t))}class Fae{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $ae(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Lae(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qae{create(e,n,r){return new Uae(e,n,r)}}class Uae{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iM="x-goog-api-key";class Vae{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(iM)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(iM,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zae="gl-node/";class Gae{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=zX(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Vae(this.apiKey);this.apiClient=new oie({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:zae+"web",uploader:new Fae,downloader:new Nae}),this.models=new Sie(this.apiClient),this.live=new yie(this.apiClient,i,new qae),this.chats=new vQ(this.models,this.apiClient),this.caches=new pQ(this.apiClient),this.files=new IQ(this.apiClient),this.operations=new Die(this.apiClient),this.authTokens=new cae(this.apiClient),this.tunings=new Oae(this.apiClient)}}var Hae={};const vb=Hae.GEMINI_API_KEY;let vn=null;if(vb)try{vn=new Gae({apiKey:vb})}catch(t){console.error("Failed to initialize GoogleGenAI:",t),vn=null}else console.warn("Gemini API Key (process.env.GEMINI_API_KEY) is not set. AI Coach features will be disabled.");const Fr=()=>!!vb&&!!vn,Wae=t=>`Você é um assistente financeiro amigável e prestativo para um aplicativo de finanças pessoais.
Data Atual: ${t.currentDate}.
Renda Mensal Informada: ${t.monthlyIncome?`${de(t.monthlyIncome)} BRL`:"Não informada"}.

Resumo Financeiro do Usuário:
Contas:
${t.accounts.map(n=>{const r=t.accountBalances.find(i=>i.accountId===n.id);return`- ${n.name}: Saldo ${r?de(r.balance):"N/A"}`}).join(`
`)}

Caixinhas de Dinheiro (Metas):
${t.moneyBoxes&&t.moneyBoxes.length>0?t.moneyBoxes.map(n=>{var i;const r=(i=t.moneyBoxBalances)==null?void 0:i.find(a=>a.moneyBoxId===n.id);return`- ${n.name}: ${de(r?r.balance:0)} ${n.goal_amount?`(Meta: ${de(n.goal_amount)})`:""}`}).join(`
`):"Nenhuma caixinha configurada."}

Orçamentos (Despesas):
${t.categories.filter(n=>n.type==="EXPENSE"&&n.monthly_budget).map(n=>`- ${n.name}: Orçamento ${de(n.monthly_budget||0)}`).join(`
`)||"Nenhum orçamento de despesa configurado."}

Compras Futuras Planejadas:
${t.futurePurchases&&t.futurePurchases.length>0?t.futurePurchases.map(n=>`- ${n.name} (Custo: ${de(n.estimated_cost)}, Prioridade: ${n.priority}, Status: ${n.status})`).join(`
`):"Nenhuma compra futura planejada."}


Com base neste resumo, forneça uma dica financeira principal, observação ou sugestão para o usuário hoje.
Seja conciso (1-2 frases), prático e encorajador. Não faça perguntas. Não use markdown.
Exemplos de tom: "Lembre-se de verificar seus gastos com Lazer este mês!" ou "Você está indo bem em sua meta de Viagem!".
Dica:`,Kae=(t,e,n,r)=>{var c;const i=e.accountBalances.find(d=>d.accountId===t.account_id),a=i?de(i.balance):"N/A";let o=`Você é um assistente financeiro. O usuário acabou de registrar uma ${t.type==="INCOME"?"receita":t.type==="EXPENSE"?"despesa":"transferência"}.
Detalhes: Valor ${de(t.amount)} ${t.description?`descrita como "${t.description}"`:""} na conta "${r||"N/A"}".
${n?`Categoria: "${n}".`:""}
Saldo atual da conta "${r||"N/A"}": ${a}.
`;if(t.type==="EXPENSE"&&n){const d=e.categories.find(h=>h.name===n&&h.type==="EXPENSE");d!=null&&d.monthly_budget&&(o+=`Orçamento para "${n}": ${de(d.monthly_budget)}. `)}const l=e.moneyBoxes&&e.moneyBoxes.find(d=>t.description&&d.name.toLowerCase().includes(t.description.toLowerCase().substring(0,5))||n&&d.name.toLowerCase().includes(n.toLowerCase().substring(0,5)));if(l){const d=(c=e.moneyBoxBalances)==null?void 0:c.find(h=>h.moneyBoxId===l.id);o+=`Lembre-se da sua caixinha "${l.name}" (Saldo: ${de(d?d.balance:0)}${l.goal_amount?`, Meta: ${de(l.goal_amount)}`:""}). `}return o+=`Forneça um breve comentário ou sugestão (máx 1 frase). Não use markdown. Não faça perguntas.
Exemplo: "Ótimo! Continue assim." ou "Fique de olho nos gastos com Comida." ou "Considere guardar uma parte na sua caixinha Viagem."
Comentário:`,o},Yae=(t,e,n,r)=>{var a;return`Você é um assistente financeiro. O usuário tem uma renda mensal de ${de(e)}.
Ele está pedindo uma sugestão de orçamento para a categoria de despesa: "${t}".

Orçamentos de despesa já definidos pelo usuário:
${n.length>0?n.map(o=>`- ${o.name}: ${de(o.budget||0)}`).join(`
`):"Nenhum outro orçamento definido."}

Contexto financeiro adicional:
Saldo total em contas: ${de(r.accountBalances.reduce((o,l)=>o+l.balance,0))}
Total em caixinhas (metas): ${de(((a=r.moneyBoxBalances)==null?void 0:a.reduce((o,l)=>o+l.balance,0))||0)}

Baseado na renda mensal, nos orçamentos existentes e nos princípios de finanças pessoais (como a regra 50/30/20, mas de forma flexível e adaptada à realidade brasileira), sugira um valor de orçamento mensal para a categoria "${t}".
Responda APENAS com um objeto JSON contendo a chave "suggestedBudget" e o valor numérico sugerido. Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"suggestedBudget": 350}
Sugestão:`},Jae=(t,e)=>{var a,o;const n=e.accountBalances.reduce((l,c)=>l+c.balance,0),r=((a=e.moneyBoxBalances)==null?void 0:a.reduce((l,c)=>l+c.balance,0))||0;return`Você é um assistente financeiro. O usuário deseja comprar "${t.name}", que custa aproximadamente ${de(t.estimated_cost)}. A prioridade é ${t.priority}.
Data Atual: ${e.currentDate}.
Renda Mensal: ${e.monthlyIncome?de(e.monthlyIncome):"Não informada"}.
Saldo Total em Contas: ${de(n)}.
Total Guardado em Caixinhas/Metas: ${de(r)}.

Orçamentos de Despesa Mensais:
${e.categories.filter(l=>l.type===ve.EXPENSE&&l.monthly_budget).map(l=>`- ${l.name}: ${de(l.monthly_budget||0)}`).join(`
`)||"Nenhum."}

Outras Compras Futuras Planejadas:
${((o=e.futurePurchases)==null?void 0:o.filter(l=>l.id!==t.id).map(l=>`- ${l.name} (Custo: ${de(l.estimated_cost)}, Prioridade: ${l.priority})`).join(`
`))||"Nenhuma outra."}

Analise a viabilidade desta compra ("${t.name}").
Considere se o usuário tem fundos suficientes, se a compra impactaria significativamente seus orçamentos ou outras metas.
Se a renda não for informada, baseie-se nos saldos e economias.
Forneça uma análise concisa (2-3 frases) e sugira um status. Status possíveis: ACHIEVABLE_SOON (se viável em breve ou agora), NOT_RECOMMENDED_NOW (se deve adiar), PLANNED (manter como planejado se a análise não for conclusiva ou se depender de mais economia).

Responda APENAS com um objeto JSON contendo as chaves "analysisText" (string com sua análise) e "recommendedStatus" (string com um dos status: 'ACHIEVABLE_SOON', 'NOT_RECOMMENDED_NOW', 'PLANNED').
Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"analysisText": "Comprar ${t.name} parece razoável agora, considerando seus saldos. Lembre-se de ajustar seu orçamento de Lazer.", "recommendedStatus": "ACHIEVABLE_SOON"}
Análise:`},Xae=(t,e)=>`Você é um especialista em finanças e cartões de crédito.
O usuário quer saber o melhor dia para fazer uma compra com o cartão de crédito para maximizar o período sem juros e ter o maior prazo para pagar.

Dados do Cartão de Crédito:
- Dia de Fechamento da Fatura: ${t.closing_day} (Ex: 20, significa dia 20 de cada mês)
- Dia de Vencimento da Fatura: ${t.due_day} (Ex: 05, significa dia 05 de cada mês, geralmente no mês seguinte ao fechamento)

Data Atual: ${e} (Formato: YYYY-MM-DD)

Instruções:
1.  Identifique o próximo ciclo de fatura. O melhor dia para comprar é geralmente o dia imediatamente após o fechamento da fatura atual (se a data atual for ANTES ou NO DIA do fechamento do mês corrente) ou o dia após o fechamento da fatura do próximo mês (se a data atual for APÓS o fechamento do mês corrente).
2.  Determine a data exata (DD de MMMM de YYYY) para este "melhor dia para comprar".
3.  Determine a data exata (DD de MMMM de YYYY) em que o pagamento da fatura (contendo essa compra) seria devido.
4.  Forneça uma explicação clara e concisa (1-2 frases) do porquê esta data é vantajosa, mencionando o prazo estendido.

Responda APENAS com um objeto JSON com as seguintes chaves:
- "bestPurchaseDay": "string" (Data formatada como "DD de MMMM de YYYY", ex: "21 de Julho de 2024")
- "paymentDueDate": "string" (Data formatada como "DD de MMMM de YYYY", ex: "05 de Setembro de 2024")
- "explanation": "string" (Explicação concisa)
- "error": "string" (Opcional: preencha apenas se não puder calcular ou se os dados forem inválidos/inconsistentes)

Exemplo de Cálculo (Data Atual: 2024-07-18, Fechamento: dia 20, Vencimento: dia 05):
- A fatura atual fecha em 20 de Julho de 2024.
- O melhor dia para comprar é 21 de Julho de 2024.
- Essa compra entraria na fatura que fecha em 20 de Agosto de 2024.
- O pagamento dessa fatura seria em 05 de Setembro de 2024.

Exemplo de Cálculo (Data Atual: 2024-07-25, Fechamento: dia 20, Vencimento: dia 05):
- A fatura de Julho já fechou (em 20 de Julho).
- O próximo fechamento é 20 de Agosto.
- O melhor dia para comprar é 21 de Agosto de 2024.
- Essa compra entraria na fatura que fecha em 20 de Setembro de 2024.
- O pagamento dessa fatura seria em 05 de Outubro de 2024.`,Zae=(t,e,n,r,i)=>`Você é um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Mês: ${de(e)}
${r?`Orçamento Mensal para esta Categoria: ${de(r)}.`:"Orçamento não definido para esta categoria."}
${r&&i?`Hoje é dia ${i.dayOfMonth} de ${i.daysInMonth} do mês. Proporcionalmente, o gasto esperado até agora seria em torno de ${de(n)}.`:""}

Com base no gasto atual, ele está significativamente acima do esperado para esta altura do mês ou do orçamento proporcional?
Se sim, forneça um alerta CURTO e DIRETO (1-2 frases). Ex: "Atenção: Seus gastos com ${t} (${de(e)}) já ultrapassaram o esperado para esta data (${de(n)})." ou "Gastos com ${t} estão X% acima do esperado para hoje."
Se não houver anomalia clara, ou se o gasto estiver dentro do esperado/orçamento, responda APENAS com a palavra "NORMAL".
Não faça perguntas. Não use markdown.
Alerta:`,Qae=(t,e,n,r,i,a)=>`Você é um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Mês: ${de(e)}
Orçamento Mensal para esta Categoria: ${de(n)}
${a?`Hoje é dia ${a.dayOfMonth} de ${a.daysInMonth} do mês. Faltam ${r} dias.`:""}
Projeção de Gasto Total no Mês (mantendo o ritmo atual): ${de(i)}

Com base no ritmo atual de gastos, há uma projeção de que o orçamento para "${t}" será estourado este mês?
Se sim, forneça um alerta CURTO e DIRETO (1-2 frases), mencionando o possível valor do estouro. Ex: "Alerta: Mantendo este ritmo, seus gastos com ${t} podem exceder o orçamento em cerca de ${de(i-n)} este mês."
Se não houver projeção clara de estouro, ou se a projeção estiver dentro do orçamento, responda APENAS com a palavra "NORMAL".
Não faça perguntas. Não use markdown.
Alerta:`,eoe=(t,e,n)=>{const r=new Date(n.currentDate);r.setDate(r.getDate()-90);const i=t.filter(a=>a.date>=gt(r)&&a.type===ve.EXPENSE);return`Você é um assistente financeiro que ajuda a identificar despesas recorrentes não cadastradas.
  Analise o histórico de despesas do usuário dos últimos 90 dias (data atual: ${n.currentDate}).
  Procure por pagamentos que se repetem com valores e descrições similares em intervalos regulares (ex: mensais, semanais).
  
  Despesas Recorrentes já cadastradas (NÃO SUGIRA ESTAS):
  ${e.length>0?e.map(a=>`- "${a.description}" (${de(a.amount)}, ${a.frequency})`).join(`
`):"Nenhuma."}

  Histórico de Transações de Despesa (Últimos 90 dias):
  ${i.map(a=>{var o;return`- Data: ${a.date}, Descrição: "${a.description||((o=n.categories.find(l=>l.id===a.category_id))==null?void 0:o.name)||"Despesa"}", Valor: ${de(a.amount)}`}).slice(0,30).join(`
`)} 
  ${i.length>30?`
... (e mais ${i.length-30} transações)`:""}

  Se encontrar UMA despesa que parece ser recorrente mas NÃO ESTÁ na lista de já cadastradas, sugira registrá-la.
  Seja específico: "Notei pagamentos para '{Nome do Serviço/Descrição}' de aproximadamente {Valor} em datas como {Data1}, {Data2}. Gostaria de cadastrar como despesa recorrente?"
  Se encontrar múltiplas, sugira a mais óbvia ou mais frequente.
  Se não encontrar nenhuma candidata clara, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas diretas no final, apenas a sugestão como no exemplo.
  Sugestão:`},toe=(t,e,n,r)=>{const i=new Date(r.currentDate);i.setMonth(i.getMonth()-1);const a=t.filter(d=>d.type===ve.EXPENSE&&d.date>=gt(i));let o=`Você é um coach financeiro que ajuda usuários a encontrar oportunidades de economia.
  Renda Mensal: ${r.monthlyIncome?de(r.monthlyIncome):"Não informada"}.
  Data Atual: ${r.currentDate}.

  Metas de Economia (Caixinhas):
  ${n.length>0?n.map(d=>`- ${d.name}${d.goal_amount?` (Meta: ${de(d.goal_amount)})`:""}`).join(`
`):"Nenhuma meta de economia ativa."}

  Gastos do Último Mês (Top 5 categorias por frequência, excluindo essenciais como aluguel, contas fixas de casa):
  `;const l={};a.forEach(d=>{var h;if(d.category_id){const f=((h=e.find(v=>v.id===d.category_id))==null?void 0:h.name)||"Outros";if(["Moradia","Aluguel","Condomínio","Impostos","Luz","Água","Gás","Internet Fixa","Saúde","Educação"].includes(f))return;l[d.category_id]||(l[d.category_id]={total:0,count:0,name:f}),l[d.category_id].total+=d.amount,l[d.category_id].count++}});const c=Object.values(l).sort((d,h)=>h.count-d.count).slice(0,5);return o+=c.map(d=>`- ${d.name}: ${de(d.total)} em ${d.count} transações`).join(`
`)||"Nenhum gasto relevante encontrado.",o+=`

Identifique UMA categoria onde o usuário parece ter gastos pequenos e frequentes que, somados, são significativos (ex: cafés diários, lanches, delivery, apps de transporte).
  Sugira uma pequena mudança de hábito que poderia gerar economia. Se houver metas (Caixinhas), tente vincular a economia a uma delas.
  Seja prático e positivo. Ex: "Seus gastos com 'Delivery' somaram ${de(150)} no último mês. Que tal reduzir para uma vez por semana e direcionar ${de(75)} para sua meta 'Viagem'?"
  Se não houver oportunidade clara ou dados suficientes, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas.
  Sugestão:`,o},noe=(t,e,n,r)=>{const i=n.filter(a=>a.id!==t.id).slice(0,10).map(a=>de(a.amount));return`Você é um assistente financeiro que detecta transações de valor incomum.
  O usuário registrou uma despesa:
  - Descrição: "${t.description||e}"
  - Categoria: "${e}"
  - Valor: ${de(t.amount)}
  - Data: ${t.date}

  Valores de despesas recentes nesta categoria ("${e}"): ${i.length>0?i.join(", "):"Nenhuma outra recente."}
  
  O valor desta transação (${de(t.amount)}) é significativamente mais alto que o normal para esta categoria, baseado nas amostras?
  Se sim, forneça um alerta CURTO. Ex: "Alerta: O valor de ${de(t.amount)} para ${e} parece mais alto que seus gastos usuais nesta categoria. Está correto?"
  Se o valor parecer normal ou não houver dados suficientes para comparar, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas no final, apenas o alerta como no exemplo.
  Alerta:`},roe=(t,e)=>{var d,h;const n=new Date(t.currentDate);n.setDate(n.getDate()+e);const r=gt(n),i=(d=t.recurringTransactions)==null?void 0:d.filter(f=>f.next_due_date<=r).sort((f,v)=>new Date(f.next_due_date).getTime()-new Date(v.next_due_date).getTime()).map(f=>`- ${f.type===ve.INCOME?"Receita":"Despesa"}: ${f.description} (${de(f.amount)}) em ${jn(f.next_due_date)}`).join(`
`),a=new Date(t.currentDate);a.setMonth(a.getMonth()-1);const o=(h=t.transactions)==null?void 0:h.filter(f=>{var v;return f.type===ve.EXPENSE&&f.date>=gt(a)&&!((v=t.recurringTransactions)!=null&&v.some(_=>{var b;return _.description.toLowerCase().includes(((b=f.description)==null?void 0:b.toLowerCase())||"xxxx")}))}).reduce((f,v)=>{var b;const _=((b=t.categories.find(S=>S.id===v.category_id))==null?void 0:b.name)||"Outras Despesas";return f[_]=(f[_]||0)+v.amount,f},{}),l=o?Object.entries(o).map(([f,v])=>`- ${f}: aprox. ${de(v)}/mês`).join(`
`):"Nenhum padrão recente de gastos discricionários encontrado.";let c="";if(t.simulatedTransactionData){const f=t.simulatedTransactionData;c=`
Considere também a seguinte transação SIMULADA para esta projeção:
- Tipo: ${f.type===ve.INCOME?"Receita":"Despesa"}
- Valor: ${de(f.amount)}
- Data: ${jn(f.date)}
- Descrição: ${f.description||(f.type===ve.INCOME?"Receita Simulada":"Despesa Simulada")}
Esta simulação NÃO está salva, use-a apenas para esta projeção.`}return`Você é um assistente financeiro. Preveja o fluxo de caixa do usuário para os próximos ${e} dias.
Data Atual: ${t.currentDate}.
Projeção até: ${jn(r)}.
Renda Mensal Informada: ${t.monthlyIncome?de(t.monthlyIncome):"Não informada (use apenas recorrências e histórico)"}.
${c}

Saldos Atuais das Contas Principais:
${t.accounts.map(f=>{const v=t.accountBalances.find(_=>_.accountId===f.id);return`- ${f.name}: ${v?de(v.balance):"N/A"}`}).join(`
`)}
Saldo Total Combinado: ${de(t.accountBalances.reduce((f,v)=>f+v.balance,0))}

Transações Recorrentes Programadas (Receitas e Despesas) no Período:
${i||"Nenhuma transação recorrente programada no período."}

Padrão de Gastos Discricionários Recentes (último mês, não recorrentes):
${l}

Analise essas informações e forneça uma projeção textual do fluxo de caixa.
Destaque:
1.  Um resumo geral (ex: "Seu saldo deve permanecer positivo", "Prevê-se um aperto financeiro em meados de [Mês]").
2.  Principais entradas e saídas esperadas e suas datas.
3.  Qualquer data onde o saldo possa ficar perigosamente baixo ou negativo, se aplicável.
Se uma simulação foi fornecida, mencione brevemente o impacto dela.
Seja conciso (3-5 frases). Não use markdown. Responda apenas com a projeção. Se não puder projetar confiavelmente, diga "Não foi possível gerar uma projeção de fluxo de caixa detalhada com os dados atuais."
Projeção:`},ioe=t=>{let e="",n="";switch(t){case"snowball":e="Bola de Neve (Snowball)",n="prioriza quitar as dívidas com os menores saldos primeiro, independentemente das taxas de juros, para obter vitórias rápidas e motivação.";break;case"avalanche":e="Avalanche",n="prioriza quitar as dívidas com as maiores taxas de juros primeiro, o que geralmente economiza mais dinheiro em juros a longo prazo.";break;case"minimums":e="Pagamentos Mínimos",n="consiste em pagar apenas o valor mínimo exigido em todas as dívidas. Geralmente é a forma mais lenta e cara de quitar dívidas devido ao acúmulo de juros.";break;default:return"Estratégia desconhecida."}return`Você é um educador financeiro. Explique a estratégia de quitação de dívidas "${e}" em termos simples.
O conceito principal desta estratégia é que ${n}.
Forneça uma breve explicação (2-3 frases) sobre como funciona, suas principais vantagens e desvantagens.
Não use markdown. Responda apenas com a explicação.
Explicação:`},aoe=(t,e,n)=>{var a,o,l;const r=t.strategy==="snowball"?"Bola de Neve":t.strategy==="avalanche"?"Avalanche":"Pagamentos Mínimos";let i=e.map(c=>`- ${c.name}: Saldo ${de(c.current_balance)}, Juros ${c.interest_rate_annual}% a.a.`).join(`
`);return`Você é um consultor financeiro. O usuário calculou um plano de quitação de dívidas.
Estratégia Utilizada: ${r}.
Tempo Estimado para Quitar Todas as Dívidas: ${t.monthsToPayoff} meses (${(t.monthsToPayoff/12).toFixed(1)} anos).
Total de Juros Pagos Estimado: ${de(t.totalInterestPaid)}.
Total Principal Pago Estimado: ${de(t.totalPrincipalPaid)}.
Pagamento Extra Mensal Adicionado aos Mínimos: ${de(((o=(a=t.payoffDetails[0])==null?void 0:a.monthlyPayments[0])==null?void 0:o.payment)-((l=e.find(c=>{var d;return c.id===((d=t.payoffDetails[0])==null?void 0:d.debtId)}))==null?void 0:l.minimum_payment)||0)} (se houver um extra aplicado à primeira dívida do plano).

Dívidas Incluídas no Plano:
${i}

Renda Mensal Informada: ${n.monthlyIncome?de(n.monthlyIncome):"Não informada"}.
Saldo Total em Contas: ${de(n.accountBalances.reduce((c,d)=>c+d.balance,0))}

Com base no resultado da projeção e no contexto financeiro do usuário, forneça um resumo e insights (2-4 frases).
Comente se o plano parece realista, se o tempo de quitação é bom, e talvez uma sugestão baseada no impacto dos juros ou no pagamento extra.
Exemplo de tom: "Este plano ${r} parece eficaz, quitando suas dívidas em ${t.monthsToPayoff} meses. O total de juros de ${de(t.totalInterestPaid)} é significativo; considere aumentar o pagamento extra, se possível, para acelerar."
Não use markdown. Responda apenas com o resumo.
Resumo:`},wa=async(t,e,n)=>{var r;if(!vn||!Fr())return console.warn(`Gemini API not available for ${e}.`),null;try{const a=(r=(await vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:t})).text)==null?void 0:r.trim();return a&&a.toUpperCase()!=="NORMAL"?a:null}catch(i){return console.error(`Error fetching ${e} from Gemini:`,i),null}},ooe=async t=>{var n;if(!vn||!Fr())return console.warn("Gemini API not available for fetchGeneralAdvice."),{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada.",is_read:!1};const e=Wae(t);try{const i=(n=(await vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:e})).text)==null?void 0:n.trim();return i?{id:Xe(),timestamp:new Date().toISOString(),type:"general_advice",content:i,is_read:!1}:{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter um conselho geral no momento (resposta vazia).",is_read:!1}}catch(r){console.error("Error fetching general advice from Gemini:",r);let i="Desculpe, não consegui buscar um conselho geral no momento.";return r instanceof Error&&(i+=` Detalhe: ${r.message}`),{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:i,is_read:!1}}},soe=async(t,e,n,r)=>{var a;if(!vn||!Fr())return console.warn("Gemini API not available for fetchCommentForTransaction."),{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para comentar transação.",related_transaction_id:t.id,is_read:!1};const i=Kae(t,e,n,r);try{const l=(a=(await vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:i})).text)==null?void 0:a.trim();return l?{id:Xe(),timestamp:new Date().toISOString(),type:"transaction_comment",content:l,related_transaction_id:t.id,is_read:!1}:{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível gerar um comentário para esta transação (resposta vazia).",related_transaction_id:t.id,is_read:!1}}catch(o){console.error("Error fetching transaction comment from Gemini:",o);let l="Desculpe, não consegui gerar um comentário para esta transação.";return o instanceof Error&&(l+=` Detalhe: ${o.message}`),{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:l,related_transaction_id:t.id,is_read:!1}}},loe=async(t,e,n,r)=>{var a;if(!vn||!Fr())return console.warn("Gemini API not available for fetchBudgetSuggestion."),{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para sugerir orçamentos.",is_read:!1};if(!e||e<=0)return{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:"Por favor, informe sua renda mensal na tela do AI Coach para receber sugestões de orçamento.",is_read:!1};const i=Yae(t,e,n,r);try{let l=((a=(await vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:i,config:{responseMimeType:"application/json"}})).text)==null?void 0:a.trim())||"";const c=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,d=l.match(c);d&&d[2]&&(l=d[2].trim());const h=JSON.parse(l);return h&&typeof h.suggestedBudget=="number"&&h.suggestedBudget>=0?{suggestedBudget:h.suggestedBudget}:{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma sugestão de orçamento válida no momento (resposta inválida da IA).",is_read:!1}}catch(o){console.error("Error fetching budget suggestion from Gemini:",o);let l="Desculpe, não consegui buscar uma sugestão de orçamento.";return o instanceof Error&&(l+=` Detalhe: ${o.message}`),{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:l,is_read:!1}}},uoe=async(t,e)=>{var r;if(!vn||!Fr())return{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para analisar compra futura.",related_future_purchase_id:t.id,is_read:!1};const n=Jae(t,e);try{let a=((r=(await vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const o=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,l=a.match(o);l&&l[2]&&(a=l[2].trim());const c=JSON.parse(a);return c&&typeof c.analysisText=="string"&&typeof c.recommendedStatus=="string"&&["ACHIEVABLE_SOON","NOT_RECOMMENDED_NOW","PLANNED"].includes(c.recommendedStatus)?{analysisText:c.analysisText,recommendedStatus:c.recommendedStatus}:{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma análise válida da IA para esta compra (resposta inválida).",related_future_purchase_id:t.id,is_read:!1}}catch(i){console.error("Error fetching future purchase analysis from Gemini:",i);let a="Desculpe, não consegui analisar esta compra futura no momento.";return i instanceof Error&&(a+=` Detalhe: ${i.message}`),{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:a,related_future_purchase_id:t.id,is_read:!1}}},coe=async(t,e)=>{var r;if(!vn||!Fr())return console.warn("Gemini API not available for fetchBestPurchaseDayAdvice."),{bestPurchaseDay:"",paymentDueDate:"",explanation:"AI Coach desativado ou API Key não configurada.",error:"AI Coach desativado ou API Key não configurada."};const n=Xae(t,e);try{let a=((r=(await vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const o=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,l=a.match(o);l&&l[2]&&(a=l[2].trim());const c=JSON.parse(a);return c.error?(console.warn("Gemini returned an error for best purchase day:",c.error),{...c,explanation:c.error}):c.bestPurchaseDay&&c.paymentDueDate&&c.explanation?c:{bestPurchaseDay:"",paymentDueDate:"",explanation:"Não foi possível determinar o melhor dia para compra (resposta inválida da IA).",error:"Resposta inválida da IA."}}catch(i){console.error("Error fetching best purchase day advice from Gemini:",i);let a="Desculpe, não consegui determinar o melhor dia para compra no momento.";return i instanceof Error&&(a+=` Detalhe: ${i.message}`),{bestPurchaseDay:"",paymentDueDate:"",explanation:a,error:a}}},doe=async(t,e,n,r,i,a)=>{const o=Zae(t,e,n,r,i),l=await wa(o,"spending_anomaly_category");return l?{id:Xe(),timestamp:new Date().toISOString(),type:"spending_anomaly_category",content:l,related_category_id:a,is_read:!1}:null},foe=async(t,e,n,r,i,a,o)=>{const l=Qae(t,e,n,r,i,a),c=await wa(l,"budget_overspend_projection");return c?{id:Xe(),timestamp:new Date().toISOString(),type:"budget_overspend_projection",content:c,related_category_id:o,is_read:!1}:null},hoe=async(t,e,n)=>{const r=eoe(t,e.map(a=>({description:a.description,amount:a.amount,type:a.type,frequency:a.frequency,category_id:a.category_id})),n),i=await wa(r,"recurring_payment_candidate");return i?{id:Xe(),timestamp:new Date().toISOString(),type:"recurring_payment_candidate",content:i,is_read:!1}:null},poe=async(t,e,n,r)=>{const i=toe(t,e.map(o=>({id:o.id,name:o.name,type:o.type})),n.map(o=>({id:o.id,name:o.name,goal_amount:o.goal_amount})),r),a=await wa(i,"saving_opportunity_suggestion");return a?{id:Xe(),timestamp:new Date().toISOString(),type:"saving_opportunity_suggestion",content:a,is_read:!1}:null},moe=async(t,e,n,r)=>{const i=noe(t,e,n),a=await wa(i,"unusual_transaction_value",t.category_id);return a?{id:Xe(),timestamp:new Date().toISOString(),type:"unusual_transaction_value",content:a,related_transaction_id:t.id,related_category_id:t.category_id,is_read:!1}:null},goe=async(t,e)=>{const n=roe(t,e),r=await wa(n,"cash_flow_projection");return r?{id:Xe(),timestamp:new Date().toISOString(),type:"cash_flow_projection",content:r,is_read:!1}:{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível gerar uma projeção de fluxo de caixa com os dados atuais.",is_read:!1}},voe=async t=>{if(!vn||!Fr())return{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para explicar estratégia de dívida.",related_debt_strategy:t,is_read:!1};const e=ioe(t),n=await wa(e,"debt_strategy_explanation");return n?{id:Xe(),timestamp:new Date().toISOString(),type:"debt_strategy_explanation",content:n,related_debt_strategy:t,is_read:!1}:{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:`Não foi possível obter uma explicação para a estratégia ${t} no momento.`,related_debt_strategy:t,is_read:!1}},yoe=async(t,e,n)=>{if(!vn||!Fr())return{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para resumir projeção de dívida.",is_read:!1};const r={...n},i=aoe(t,e,r),a=await wa(i,"debt_projection_summary");return a?{id:Xe(),timestamp:new Date().toISOString(),type:"debt_projection_summary",content:a,related_debt_strategy:t.strategy,is_read:!1}:{id:Xe(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter um resumo da projeção de dívida no momento.",is_read:!1}},xoe=({creditCards:t,installmentPurchases:e,aiConfig:n,onAddCreditCard:r,onUpdateCreditCard:i,onDeleteCreditCard:a,onAddInstallmentPurchase:o,onUpdateInstallmentPurchase:l,onDeleteInstallmentPurchase:c,onMarkInstallmentPaid:d,onPayMonthlyInstallments:h,isPrivacyModeEnabled:f})=>{const{addToast:v}=AM(),[_,b]=R.useState(!1),[S,w]=R.useState(null),[A,I]=R.useState(!1),[k,O]=R.useState(null),[E,P]=R.useState(null),[N,D]=R.useState(!1),[$,F]=R.useState(null),[L,z]=R.useState(!1),[W,V]=R.useState(null),B=()=>{w(null),b(!0)},J=X=>{w(X),b(!0)},K=X=>{S?i({...X,user_id:S.user_id,created_at:S.created_at,updated_at:new Date().toISOString()}):r(X)},U=X=>{P(X),O(null),I(!0)},te=(X,ue)=>{P(ue),O(X),I(!0)},re=X=>{k?l({...X,user_id:k.user_id,created_at:k.created_at,updated_at:new Date().toISOString()}):o(X)},j=R.useCallback(async X=>{if(!n.isEnabled||n.apiKeyStatus!=="available"){v("AI Coach desativado ou API Key indisponível.","warning");return}const ue=t.find(ce=>ce.id===X);if(!ue)return;V(ue),z(!0),D(!0),F(null);const Se=await coe({name:ue.name,closing_day:ue.closing_day,due_day:ue.due_day},gt());F(Se),z(!1),Se!=null&&Se.error&&v(Se.explanation||"Erro ao buscar sugestão da IA.","error")},[n,t,v]);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Cartões de Crédito"}),y.jsxs(he,{onClick:B,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Novo Cartão"]})]}),t.length>0?y.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(X=>y.jsx(aX,{card:X,installmentPurchases:e.filter(ue=>ue.credit_card_id===X.id),onEditCard:J,onDeleteCard:a,onAddInstallmentPurchase:U,onEditInstallmentPurchase:te,onDeleteInstallmentPurchase:c,onMarkInstallmentPaid:d,onGetBestPurchaseDay:j,onPayMonthlyInstallments:h,isAIFeatureEnabled:n.isEnabled&&n.apiKeyStatus==="available",isPrivacyModeEnabled:f},X.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhum cartão de crédito cadastrado."}),y.jsx(oX,{isOpen:_,onClose:()=>b(!1),onSave:K,existingCard:S}),E&&y.jsx(sX,{isOpen:A,onClose:()=>I(!1),onSave:re,creditCard:E,existingPurchase:k}),y.jsx(lX,{isOpen:N,onClose:()=>D(!1),advice:$,isLoading:L,cardName:W==null?void 0:W.name})]})},kj=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h13.5m-13.5 4.5h13.5m-13.5 4.5h13.5m3-13.5V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v3.75m13.5 0v3.75m-13.5-3.75v3.75m1.5-9V3.75c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125V5.25m-3 0h3m6 0v2.25m0 0v1.5m0 0v1.5m0 0V15m0 0v-1.5m0 0V9.75M7.5 5.25h9M7.5 12h9m-9 4.5h9M5.25 19.5h13.5a2.25 2.25 0 0 0 2.25-2.25V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v12a2.25 2.25 0 0 0 2.25 2.25Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h-3m3 0V12m0 0v-2.25"})]}),_oe=({moneyBox:t,balance:e,onEdit:n,onDelete:r,onOpenTransactionModal:i,onOpenHistoryModal:a,isPrivacyModeEnabled:o,hasTransactions:l})=>{const c=t.goal_amount&&t.goal_amount>0?Math.min(e/t.goal_amount*100,100):0,d=t.color?{borderLeftColor:t.color,borderLeftWidth:"4px"}:{},h=t.color?{backgroundColor:t.color}:{backgroundColor:"var(--color-primary)"};return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",style:d,children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[y.jsx(kj,{className:"w-6 h-6",style:{color:t.color||"currentColor"}}),y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),y.jsx("p",{className:"text-2xl font-bold",style:{color:t.color||"var(--color-primary)"},children:de(e,"BRL","pt-BR",o)}),t.goal_amount&&t.goal_amount>0&&y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Meta: ",de(t.goal_amount,"BRL","pt-BR",o)]})]}),y.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[y.jsxs("div",{className:"flex space-x-1",children:[y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Caixinha",className:"!p-1.5",children:y.jsx(Ur,{className:"w-4 h-4"})}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Caixinha",className:"!p-1.5",disabled:l,title:l?"Não pode excluir caixinhas com transações":"Excluir caixinha",children:y.jsx(qr,{className:`w-4 h-4 ${l?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>a(t),"aria-label":"Ver Histórico",className:"text-xs !px-2 !py-1",children:"Histórico"})]})]}),t.goal_amount&&t.goal_amount>0&&y.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:y.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${c}%`,...h}})}),y.jsxs("div",{className:"flex justify-start space-x-2 pt-1",children:[y.jsxs(he,{size:"sm",variant:"secondary",onClick:()=>i(t,$r.DEPOSIT),className:"!bg-opacity-80 dark:!bg-opacity-80",style:t.color?{backgroundColor:t.color}:{},children:[y.jsx(kn,{className:"w-4 h-4 mr-1"})," Depositar"]}),y.jsx(he,{size:"sm",variant:"ghost",onClick:()=>i(t,$r.WITHDRAWAL),className:"border border-borderBase dark:border-borderBaseDark",children:"Sacar"})]})]})},mf=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],boe=({isOpen:t,onClose:e,onSave:n,existingMoneyBox:r})=>{const[i,a]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState(mf[0]),[h,f]=R.useState({});R.useEffect(()=>{var b;r?(a(r.name),l(((b=r.goal_amount)==null?void 0:b.toString())||""),d(r.color||mf[0])):(a(""),l(""),d(mf[0])),f({})},[r,t]);const v=()=>{const b={};return i.trim()||(b.name="Nome da caixinha é obrigatório."),o&&(isNaN(parseFloat(o))||parseFloat(o)<0)&&(b.goalAmount="Meta deve ser um número positivo ou vazio."),f(b),Object.keys(b).length===0},_=()=>{if(!v())return;const b={id:(r==null?void 0:r.id)||Xe(),name:i.trim(),goal_amount:o?parseFloat(o):void 0,icon:"piggy-bank",color:c};n(b),e()};return y.jsx(fn,{isOpen:t,onClose:e,title:r?"Editar Caixinha":"Nova Caixinha",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Be,{label:"Nome da Caixinha",id:"moneyBoxName",value:i,onChange:b=>a(b.target.value),error:h.name,placeholder:"Ex: Reserva de Emergência, Viagem"}),y.jsx(Be,{label:"Meta de Valor (Opcional)",id:"moneyBoxGoal",type:"number",step:"0.01",value:o,onChange:b=>l(b.target.value),error:h.goalAmount,placeholder:"Ex: 1000.00"}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"moneyBoxColor",className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor de Destaque"}),y.jsx("div",{className:"flex space-x-2",children:mf.map(b=>y.jsx("button",{type:"button",onClick:()=>d(b),className:`w-8 h-8 rounded-full border-2 ${c===b?"border-primary dark:border-primaryDark ring-2 ring-primary dark:ring-primaryDark ring-offset-2 dark:ring-offset-surfaceDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:b},"aria-label":`Selecionar cor ${b}`,"aria-pressed":c===b},b))})]}),h.form&&y.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:h.form}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(he,{variant:"primary",onClick:_,children:"Salvar Caixinha"})]})]})})},woe=({isOpen:t,onClose:e,onSave:n,moneyBox:r,accounts:i,transactionType:a})=>{const[o,l]=R.useState(""),[c,d]=R.useState(gt()),[h,f]=R.useState(""),[v,_]=R.useState(""),[b,S]=R.useState(!1),[w,A]=R.useState({});R.useEffect(()=>{t&&(l(""),d(gt()),f(""),_(i.length>0?i[0].id:""),S(!1),A({}))},[t,i]);const I=()=>{const P={};return(!o||parseFloat(o)<=0)&&(P.amount="Valor deve ser positivo."),c||(P.date="Data é obrigatória."),b&&!v&&(P.linkedAccountId="Conta para vínculo é obrigatória."),A(P),Object.keys(P).length===0},k=()=>{if(!I())return;const P={money_box_id:r.id,type:a,amount:parseFloat(o),date:c,description:h.trim()||void 0};n(P,b,v),e()},O=a===$r.DEPOSIT?"Depositar na Caixinha":"Sacar da Caixinha",E=a===$r.DEPOSIT?"Registrar como despesa na conta:":"Registrar como receita na conta:";return y.jsx(fn,{isOpen:t,onClose:e,title:`${O}: ${r.name}`,children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Be,{label:"Valor",id:"mbAmount",type:"number",step:"0.01",value:o,onChange:P=>l(P.target.value),error:w.amount,required:!0}),y.jsx(Be,{label:"Data",id:"mbDate",type:"date",value:c,onChange:P=>d(P.target.value),error:w.date,required:!0}),y.jsx(Be,{label:"Descrição (Opcional)",id:"mbDescription",type:"text",value:h,onChange:P=>f(P.target.value)}),i.length>0&&y.jsxs("div",{className:"pt-2",children:[y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",checked:b,onChange:P=>S(P.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark"}),y.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:a===$r.DEPOSIT?"Vincular a uma despesa de conta?":"Vincular a uma receita em conta?"})]}),b&&y.jsx(xt,{containerClassName:"mt-2",label:E,id:"mbLinkedAccount",options:i.map(P=>({value:P.id,label:P.name})),value:v,onChange:P=>_(P.target.value),error:w.linkedAccountId,placeholder:"Selecione uma conta"})]}),w.form&&y.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:w.form}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(he,{type:"button",variant:"primary",onClick:k,children:a===$r.DEPOSIT?"Depositar":"Sacar"})]})]})})},Soe=({isOpen:t,onClose:e,moneyBox:n,transactions:r,onDeleteTransaction:i,isPrivacyModeEnabled:a})=>{const o=r.filter(l=>l.money_box_id===n.id).sort((l,c)=>new Date(c.date).getTime()-new Date(l.date).getTime());return y.jsx(fn,{isOpen:t,onClose:e,title:`Histórico: ${n.name}`,size:"lg",children:o.length===0?y.jsx("p",{className:"text-textMuted dark:text-textMutedDark text-center py-4",children:"Nenhuma transação nesta caixinha ainda."}):y.jsx("ul",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:o.map(l=>{const c=l.type===$r.DEPOSIT,d=c?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",h=c?"+":"-";return y.jsx("li",{className:"p-3 bg-surface/50 dark:bg-surfaceDark/50 rounded-md",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsxs("p",{className:`font-semibold ${d}`,children:[h," ",de(l.amount,"BRL","pt-BR",a)]}),y.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:jn(l.date)}),l.description&&y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark italic",children:l.description}),l.linked_transaction_id&&y.jsx("p",{className:"text-xs text-neutral dark:text-neutralDark",children:"(Vinculado a uma transação principal)"})]}),y.jsx("button",{onClick:()=>{window.confirm(`Excluir esta transação da caixinha? ${l.linked_transaction_id?"\\nA transação principal vinculada NÃO será excluída automaticamente por esta ação.":""}`)&&i(l.id,l.linked_transaction_id)},className:"text-xs text-destructive dark:text-destructiveDark hover:underline","aria-label":"Excluir transação da caixinha",title:"Excluir transação da caixinha",children:"Excluir"})]})},l.id)})})})},Coe=({moneyBoxes:t,moneyBoxTransactions:e,accounts:n,onAddMoneyBox:r,onUpdateMoneyBox:i,onDeleteMoneyBox:a,onAddMoneyBoxTransaction:o,onDeleteMoneyBoxTransaction:l,calculateMoneyBoxBalance:c,isPrivacyModeEnabled:d})=>{const[h,f]=R.useState(!1),[v,_]=R.useState(null),[b,S]=R.useState(!1),[w,A]=R.useState(null),[I,k]=R.useState($r.DEPOSIT),[O,E]=R.useState(!1),[P,N]=R.useState(null),D=()=>{_(null),f(!0)},$=V=>{_(V),f(!0)},F=(V,B)=>{A(V),k(B),S(!0)},L=V=>{N(V),E(!0)},z=V=>{a(V)},W=R.useMemo(()=>t.reduce((V,B)=>V+c(B.id),0),[t,c]);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Minhas Caixinhas"}),t.length>0&&y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total guardado: ",y.jsx("span",{className:"font-semibold text-secondary dark:text-secondaryDark",children:de(W,"BRL","pt-BR",d)})]})]}),y.jsxs(he,{onClick:D,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Caixinha"]})]}),t.length>0?y.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(V=>y.jsx(_oe,{moneyBox:V,balance:c(V.id),onEdit:$,onDelete:z,onOpenTransactionModal:F,onOpenHistoryModal:L,isPrivacyModeEnabled:d,hasTransactions:e.some(B=>B.money_box_id===V.id)},V.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma caixinha criada. Crie uma para começar a guardar dinheiro!"}),y.jsx(boe,{isOpen:h,onClose:()=>f(!1),onSave:v?i:r,existingMoneyBox:v}),w&&y.jsx(woe,{isOpen:b,onClose:()=>S(!1),onSave:o,moneyBox:w,accounts:n,transactionType:I}),P&&y.jsx(Soe,{isOpen:O,onClose:()=>E(!1),moneyBox:P,transactions:e,onDeleteTransaction:l,isPrivacyModeEnabled:d})]})},$w=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})}),koe=t=>{switch(t){case"PLANNED":return{text:"Planejado",colorClasses:"bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300"};case"CONSIDERING":return{text:"Considerando",colorClasses:"bg-gray-100 text-gray-700 dark:bg-gray-700/30 dark:text-gray-300"};case"ACHIEVABLE_SOON":return{text:"Viável em Breve",colorClasses:"bg-green-100 text-green-700 dark:bg-green-700/30 dark:text-green-300"};case"NOT_RECOMMENDED_NOW":return{text:"Adiar Compra",colorClasses:"bg-red-100 text-red-700 dark:bg-red-700/30 dark:text-red-300"};case"AI_ANALYZING":return{text:"Analisando...",colorClasses:"bg-yellow-100 text-yellow-700 dark:bg-yellow-700/30 dark:text-yellow-300 animate-pulse"};default:return{text:"Desconhecido",colorClasses:"bg-gray-200 text-gray-800"}}},Toe={low:"Baixa",medium:"Média",high:"Alta"},Eoe=({purchase:t,onEdit:e,onDelete:n,onAnalyze:r,isPrivacyModeEnabled:i})=>{const{name:a,estimated_cost:o,priority:l,notes:c,status:d,created_at:h,ai_analysis:f,ai_analyzed_at:v}=t,_=koe(d);return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[y.jsx($w,{className:"w-5 h-5 text-primary dark:text-primaryDark flex-shrink-0"}),y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:a})]}),y.jsx("p",{className:"text-xl font-bold text-primary dark:text-primaryDark",children:de(o,"BRL","pt-BR",i)}),y.jsxs("div",{className:"flex items-center space-x-2 text-xs text-textMuted dark:text-textMutedDark mt-0.5",children:[y.jsxs("span",{children:["Prioridade: ",Toe[l]]}),y.jsx("span",{children:"•"}),y.jsxs("span",{children:["Criado em: ",jn(h)]})]})]}),y.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[y.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${_.colorClasses}`,children:_.text}),y.jsxs("div",{className:"flex space-x-1 mt-1",children:[y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>e(t),"aria-label":"Editar Compra Futura",className:"!p-1.5",children:y.jsx(Ur,{className:"w-4 h-4"})}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>n(t.id),"aria-label":"Excluir Compra Futura",className:"!p-1.5",children:y.jsx(qr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})]}),c&&y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark italic border-t border-borderBase/30 dark:border-borderBaseDark/30 pt-2 mt-2",children:["Notas: ",c]}),f&&y.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-3 rounded-md mt-2 border-l-4 border-primary dark:border-primaryDark",children:[y.jsxs("p",{className:"text-sm font-semibold text-primary dark:text-primaryDark mb-1",children:["Análise da IA (",v?jn(v,"pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Recente","):"]}),y.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:f})]}),y.jsx("div",{className:"pt-2 border-t border-borderBase/30 dark:border-borderBaseDark/30 mt-auto",children:y.jsxs(he,{variant:"secondary",size:"sm",onClick:()=>r(t.id),disabled:d==="AI_ANALYZING",className:"w-full sm:w-auto",children:[y.jsx(ao,{className:"w-4 h-4 mr-1.5"}),d==="AI_ANALYZING"?"Analisando...":"Analisar com IA"]})})]})},Ec=({label:t,id:e,error:n,className:r,containerClassName:i,...a})=>y.jsxs("div",{className:i,children:[t&&y.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),y.jsx("textarea",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...a}),n&&y.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),Aoe=[{value:"low",label:"Baixa"},{value:"medium",label:"Média"},{value:"high",label:"Alta"}],Poe=({isOpen:t,onClose:e,onSave:n,existingPurchase:r})=>{const[i,a]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState("medium"),[h,f]=R.useState(""),[v,_]=R.useState({});R.useEffect(()=>{t&&(r?(a(r.name),l(r.estimated_cost.toString()),d(r.priority),f(r.notes||"")):(a(""),l(""),d("medium"),f("")),_({}))},[r,t]);const b=()=>{const w={};i.trim()||(w.name="Nome do item é obrigatório.");const A=parseFloat(o);return(isNaN(A)||A<=0)&&(w.estimatedCost="Custo estimado deve ser um número positivo."),_(w),Object.keys(w).length===0},S=()=>{if(!b())return;const w={name:i.trim(),estimated_cost:parseFloat(o),priority:c,notes:h.trim()||void 0},A=r?{...w,id:r.id}:{...w,id:Xe()};n(A),e()};return y.jsx(fn,{isOpen:t,onClose:e,title:r?"Editar Compra Futura":"Nova Compra Futura",size:"md",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Be,{label:"Nome do Item/Objetivo",id:"fpName",value:i,onChange:w=>a(w.target.value),error:v.name,placeholder:"Ex: Novo Celular, Viagem para a Praia",required:!0}),y.jsx(Be,{label:"Custo Estimado (R$)",id:"fpEstimatedCost",type:"number",step:"0.01",value:o,onChange:w=>l(w.target.value),error:v.estimatedCost,placeholder:"Ex: 2500.00",required:!0}),y.jsx(xt,{label:"Prioridade",id:"fpPriority",options:Aoe,value:c,onChange:w=>d(w.target.value)}),y.jsx(Ec,{label:"Notas (Opcional)",id:"fpNotes",value:h,onChange:w=>f(w.target.value),rows:3,placeholder:"Detalhes adicionais, link do produto, etc."}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(he,{type:"button",variant:"primary",onClick:S,children:r?"Salvar Alterações":"Adicionar Compra"})]})]})})},Ioe=[{value:"all",label:"Todas Prioridades"},{value:"high",label:"Alta"},{value:"medium",label:"Média"},{value:"low",label:"Baixa"}],Ooe=[{value:"all",label:"Todos Status"},{value:"PLANNED",label:"Planejado"},{value:"CONSIDERING",label:"Considerando"},{value:"ACHIEVABLE_SOON",label:"Viável em Breve"},{value:"NOT_RECOMMENDED_NOW",label:"Adiar Compra"},{value:"AI_ANALYZING",label:"Analisando"}],Noe=({futurePurchases:t,onAddFuturePurchase:e,onUpdateFuturePurchase:n,onDeleteFuturePurchase:r,onAnalyzeFuturePurchase:i,isPrivacyModeEnabled:a})=>{const[o,l]=R.useState(!1),[c,d]=R.useState(null),[h,f]=R.useState("all"),[v,_]=R.useState("all"),[b,S]=R.useState("date_desc"),w=()=>{d(null),l(!0)},A=k=>{d(k),l(!0)},I=R.useMemo(()=>{let k=[...t];return h!=="all"&&(k=k.filter(O=>O.priority===h)),v!=="all"&&(k=k.filter(O=>O.status===v)),k.sort((O,E)=>{switch(b){case"cost_desc":return E.estimated_cost-O.estimated_cost;case"cost_asc":return O.estimated_cost-E.estimated_cost;case"date_asc":return new Date(O.created_at).getTime()-new Date(E.created_at).getTime();case"date_desc":default:return new Date(E.created_at).getTime()-new Date(O.created_at).getTime()}}),k},[t,h,v,b]);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx($w,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Compras Futuras & Objetivos"})]}),y.jsxs(he,{onClick:w,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Adicionar Compra Desejada"]})]}),t.length>0&&y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[y.jsx(xt,{label:"Filtrar por Prioridade",options:Ioe,value:h,onChange:k=>f(k.target.value)}),y.jsx(xt,{label:"Filtrar por Status",options:Ooe,value:v,onChange:k=>_(k.target.value)}),y.jsx(xt,{label:"Ordenar Por",options:[{value:"date_desc",label:"Mais Recentes Primeiro"},{value:"date_asc",label:"Mais Antigos Primeiro"},{value:"cost_desc",label:"Maior Custo"},{value:"cost_asc",label:"Menor Custo"}],value:b,onChange:k=>S(k.target.value)})]}),I.length>0?y.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(k=>y.jsx(Eoe,{purchase:k,onEdit:A,onDelete:r,onAnalyze:i,isPrivacyModeEnabled:a},k.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:t.length===0?"Nenhuma compra futura planejada. Adicione uma para começar!":"Nenhuma compra encontrada com os filtros aplicados."}),y.jsx(Poe,{isOpen:o,onClose:()=>l(!1),onSave:c?k=>n({...k,id:c.id}):e,existingPurchase:c})]})},Moe=({allData:t,userPreferencesToExport:e,activeProfileName:n,user:r})=>{const i=async()=>{if(!r){alert("Nenhum usuário logado para exportar dados.");return}const a=n?n.replace(/\s+/g,"_"):"usuario_desconhecido",o={profileName:n||"N/A",exportedAt:new Date().toISOString(),supabaseSchemaVersion:"2.0",userPreferences:e,...t},l=JSON.stringify(o,null,2),c=new Blob([l],{type:"application/json"}),d=URL.createObjectURL(c),h=document.createElement("a");h.href=d,h.download=`financeiro_pessoal_${a}_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(d)};return y.jsxs("div",{className:"space-y-8 p-4 md:p-6",children:[y.jsxs("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:["Gerenciamento de Dados: ",y.jsx("span",{className:"text-primary dark:text-primaryDark",children:n})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Exportar Dados"}),y.jsxs("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:["Faça um backup completo dos seus dados (",n,") em um arquivo JSON."]}),y.jsx(he,{onClick:i,variant:"secondary",children:"Exportar Todos os Dados (.json)"})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Importar Dados"}),y.jsx("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:"A importação de dados a partir de um arquivo JSON não é suportada nesta versão do aplicativo. Para restaurar dados, considere utilizar ferramentas de gerenciamento de banco de dados diretamente com o Supabase, se aplicável."})]}),e&&y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Backup Automático em Arquivo (Local)"}),y.jsxs("p",{className:"text-textMuted dark:text-textMutedDark",children:[e.ai_auto_backup_enabled?"Backup automático local em arquivo está ATIVADO.":"Backup automático local em arquivo está DESATIVADO.",y.jsx("span",{className:"block text-xs",children:"Isso é um backup extra em arquivo JSON no seu dispositivo, independente da sincronização com o Supabase."})]})]})]})},Doe=({tag:t,transactionCount:e,onEdit:n,onDelete:r})=>{t.color&&(t.color,t.color),t.color,t.color;const a=(o=>{if(!o)return"text-textBase dark:text-textBaseDark";const l=parseInt(o.slice(1,3),16),c=parseInt(o.slice(3,5),16),d=parseInt(o.slice(5,7),16);return(.299*l+.587*c+.114*d)/255>.5?"text-neutral-800":"text-white"})(t.color);return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-3 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex justify-between items-center",children:[y.jsx("div",{className:"flex items-center",children:y.jsx("span",{className:`text-xs font-semibold mr-3 px-2.5 py-1 rounded-full inline-block border
                        ${t.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:t.color?{backgroundColor:t.color,borderColor:t.color}:{},children:y.jsx("span",{className:t.color?a:"text-textBase dark:text-textBaseDark",children:t.name})})}),y.jsxs("div",{className:"flex items-center space-x-1",children:[e>0&&y.jsxs("span",{className:"text-xs text-textMuted dark:text-textMutedDark mr-2",children:["(",e," trans.)"]}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Tag",className:"!p-1.5",children:y.jsx(Ur,{className:"w-4 h-4"})}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Tag",className:"!p-1.5",disabled:e>0,title:e>0?"Não é possível excluir tags em uso":"Excluir Tag",children:y.jsx(qr,{className:`w-4 h-4 ${e>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]})},aM=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6","#A3A3A3"],Roe=({isOpen:t,onClose:e,onSave:n,existingTag:r,allTagNames:i=[]})=>{const[a,o]=R.useState(""),[l,c]=R.useState(void 0),[d,h]=R.useState("");R.useEffect(()=>{t&&(r?(o(r.name),c(r.color)):(o(""),c(aM[0])),h(""))},[r,t]);const f=()=>{const v=a.trim();if(!v){h("Nome da tag é obrigatório.");return}if(i.filter(b=>r?b.toLowerCase()!==r.name.toLowerCase():!0).includes(v.toLowerCase())){h("Já existe uma tag com este nome.");return}h(""),n({id:(r==null?void 0:r.id)||Xe(),name:v,color:l}),e()};return y.jsx(fn,{isOpen:t,onClose:e,title:r?"Editar Tag":"Nova Tag",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Be,{label:"Nome da Tag",id:"tagName",value:a,onChange:v=>o(v.target.value),error:d,placeholder:"Ex: Viagem, Pessoal, Urgente"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor (Opcional)"}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[aM.map(v=>y.jsx("button",{type:"button",onClick:()=>c(v),className:`w-7 h-7 rounded-full border-2 transition-all
                            ${l===v?"ring-2 ring-offset-2 dark:ring-offset-surfaceDark border-primary dark:border-primaryDark ring-primary dark:ring-primaryDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:v},"aria-label":`Selecionar cor ${v}`,"aria-pressed":l===v},v)),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>c(void 0),className:`h-7 px-2 ${l?"":"bg-neutral/20 dark:bg-neutralDark/30"}`,title:"Remover cor",children:"Sem Cor"})]})]}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(he,{variant:"primary",onClick:f,children:"Salvar"})]})]})})},joe=({tags:t,transactions:e,onAddTag:n,onUpdateTag:r,onDeleteTag:i})=>{const[a,o]=R.useState(!1),[l,c]=R.useState(null),d=()=>{c(null),o(!0)},h=_=>{c(_),o(!0)},f=_=>e.filter(b=>{var S;return(S=b.tag_ids)==null?void 0:S.includes(_)}).length,v=t.map(_=>_.name);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Tags"}),y.jsxs(he,{onClick:d,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Tag"]})]}),t.length>0?y.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(_=>y.jsx(Doe,{tag:_,transactionCount:f(_.id),onEdit:h,onDelete:i},_.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma tag cadastrada. Crie tags para organizar melhor suas transações!"}),y.jsx(Roe,{isOpen:a,onClose:()=>o(!1),onSave:l?r:n,existingTag:l,allTagNames:v})]})},pc=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),wx=({rt:t,accounts:e,categories:n,onEdit:r,onDelete:i,onTogglePause:a,isPrivacyModeEnabled:o})=>{const l=e.find(v=>v.id===t.account_id),c=t.category_id?n.find(v=>v.id===t.category_id):null;let d="text-textBase dark:text-textBaseDark",h="";t.type===ve.INCOME?(d="text-secondary dark:text-secondaryDark",h="+"):t.type===ve.EXPENSE&&(d="text-destructive dark:text-destructiveDark",h="-");const f={daily:"Diariamente",weekly:"Semanalmente",monthly:"Mensalmente",yearly:"Anualmente",custom_days:`A cada ${t.custom_interval_days} dias`};return y.jsx("li",{className:`bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 ${t.is_paused?"opacity-60":""}`,children:y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0",children:[y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[y.jsx(pc,{className:`w-5 h-5 ${t.is_paused?"text-textMuted dark:text-textMutedDark":"text-primary dark:text-primaryDark"}`}),y.jsxs("span",{className:`font-semibold text-lg ${d}`,children:[h,de(t.amount,"BRL","pt-BR",o)]}),y.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.description})]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-8",children:[f[t.frequency]," • Próximo: ",jn(t.next_due_date),t.end_date&&` &bull; Termina em: ${jn(t.end_date)}`,t.remaining_occurrences!==void 0&&t.occurrences&&` &bull; (${t.remaining_occurrences}/${t.occurrences} restantes)`]}),y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark ml-8",children:["Conta: ",(l==null?void 0:l.name)||"N/A",c&&` &bull; Categoria: ${c.name}`,t.is_paused&&y.jsx("span",{className:"font-semibold text-amber-600 dark:text-amber-500",children:" (Pausado)"})]}),t.notes&&y.jsxs("p",{className:"text-xs italic text-neutral dark:text-neutralDark ml-8 mt-1",children:["Nota: ",t.notes]})]}),y.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>r(t),"aria-label":"Editar Recorrência",children:y.jsx(Ur,{className:"w-4 h-4"})}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>i(t.id),"aria-label":"Excluir Recorrência",children:y.jsx(qr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})})},$oe=[{value:"daily",label:"Diariamente"},{value:"weekly",label:"Semanalmente"},{value:"monthly",label:"Mensalmente"},{value:"yearly",label:"Anualmente"},{value:"custom_days",label:"Dias Personalizados"}],Loe=(t,e,n,r)=>gt(new Date(t+"T00:00:00")),Boe=({isOpen:t,onClose:e,onSave:n,accounts:r,categories:i,existingRT:a})=>{const[o,l]=R.useState(""),[c,d]=R.useState(""),[h,f]=R.useState(ve.EXPENSE),[v,_]=R.useState(""),[b,S]=R.useState(""),[w,A]=R.useState(""),[I,k]=R.useState("monthly"),[O,E]=R.useState("30"),[P,N]=R.useState(gt()),[D,$]=R.useState(""),[F,L]=R.useState(""),[z,W]=R.useState(!1),[V,B]=R.useState(""),[J,K]=R.useState({});R.useEffect(()=>{var j,X,ue,Se,ce,Ae;t&&(a?(l(a.description),d(a.amount.toString()),f(a.type),_(a.category_id||""),S(a.account_id),A(a.to_account_id||""),k(a.frequency),E(((j=a.custom_interval_days)==null?void 0:j.toString())||"30"),N(a.start_date),$(a.end_date||""),L(((X=a.occurrences)==null?void 0:X.toString())||""),W(a.is_paused||!1),B(a.notes||"")):(l(""),d(""),f(ve.EXPENSE),_(((ue=i.filter(ze=>ze.type===ve.EXPENSE)[0])==null?void 0:ue.id)||""),S(((Se=r[0])==null?void 0:Se.id)||""),A(((ce=r[1])==null?void 0:ce.id)||((Ae=r[0])==null?void 0:Ae.id)||""),k("monthly"),E("30"),N(gt()),$(""),L(""),W(!1),B("")),K({}))},[a,t,r,i]);const U=()=>{const j={};return o.trim()||(j.description="Descrição é obrigatória."),(!c||parseFloat(c)<=0)&&(j.amount="Valor deve ser positivo."),h!==ve.TRANSFER&&!v&&(j.categoryId="Categoria é obrigatória."),b||(j.accountId="Conta é obrigatória."),h===ve.TRANSFER&&!w&&(j.toAccountId="Conta de destino é obrigatória."),h===ve.TRANSFER&&b===w&&(j.toAccountId="Contas não podem ser iguais."),P||(j.startDate="Data de início é obrigatória."),D&&P>D&&(j.endDate="Data final deve ser após data inicial."),F&&parseInt(F)<=0&&(j.occurrences="Ocorrências deve ser positivo."),I==="custom_days"&&(!O||parseInt(O)<=0)&&(j.customIntervalDays="Intervalo de dias deve ser positivo."),K(j),Object.keys(j).length===0},te=()=>{if(!U())return;const j=F?parseInt(F):void 0,X={id:(a==null?void 0:a.id)||Xe(),description:o.trim(),amount:parseFloat(c),type:h,category_id:h===ve.TRANSFER?void 0:v,account_id:b,to_account_id:h===ve.TRANSFER?w:void 0,frequency:I,custom_interval_days:I==="custom_days"?parseInt(O):void 0,start_date:P,end_date:D||void 0,occurrences:j,remaining_occurrences:a!=null&&a.id?a.remaining_occurrences:j,next_due_date:a!=null&&a.id?a.next_due_date:Loe(P),last_posted_date:a==null?void 0:a.last_posted_date,is_paused:z||!1,notes:V.trim()||void 0};n(X),e()},re=i.filter(j=>j.type===h);return y.jsx(fn,{isOpen:t,onClose:e,title:a?"Editar Transação Recorrente":"Nova Transação Recorrente",size:"lg",children:y.jsxs("form",{onSubmit:j=>{j.preventDefault(),te()},className:"space-y-4",children:[y.jsx(Be,{label:"Descrição",id:"rtDescription",value:o,onChange:j=>l(j.target.value),error:J.description,required:!0}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(Be,{label:"Valor",id:"rtAmount",type:"number",step:"0.01",value:c,onChange:j=>d(j.target.value),error:J.amount,required:!0}),y.jsx(xt,{label:"Tipo",id:"rtType",options:Ph,value:h,onChange:j=>f(j.target.value)})]}),h!==ve.TRANSFER&&y.jsx(xt,{label:"Categoria",id:"rtCategory",options:re.map(j=>({value:j.id,label:j.name})),value:v,onChange:j=>_(j.target.value),error:J.categoryId,placeholder:"Selecione uma categoria",disabled:re.length===0}),y.jsx(xt,{label:h===ve.TRANSFER?"Conta de Origem":"Conta",id:"rtAccountId",options:r.map(j=>({value:j.id,label:j.name})),value:b,onChange:j=>S(j.target.value),error:J.accountId,placeholder:"Selecione uma conta",disabled:r.length===0}),h===ve.TRANSFER&&y.jsx(xt,{label:"Conta de Destino",id:"rtToAccountId",options:r.map(j=>({value:j.id,label:j.name})),value:w,onChange:j=>A(j.target.value),error:J.toAccountId,placeholder:"Selecione conta de destino",disabled:r.length===0}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(xt,{label:"Frequência",id:"rtFrequency",options:$oe,value:I,onChange:j=>k(j.target.value)}),I==="custom_days"&&y.jsx(Be,{label:"Intervalo (dias)",id:"rtCustomInterval",type:"number",min:"1",value:O,onChange:j=>E(j.target.value),error:J.customIntervalDays})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(Be,{label:"Data de Início",id:"rtStartDate",type:"date",value:P,onChange:j=>N(j.target.value),error:J.startDate,required:!0}),y.jsx(Be,{label:"Data Final (Opcional)",id:"rtEndDate",type:"date",value:D,onChange:j=>$(j.target.value),error:J.endDate})]}),y.jsx(Be,{label:"Número de Ocorrências (Opcional)",id:"rtOccurrences",type:"number",min:"1",value:F,onChange:j=>L(j.target.value),error:J.occurrences,placeholder:"Deixe em branco para indefinido (use Data Final)"}),y.jsx(Ec,{label:"Notas (Opcional)",id:"rtNotes",value:V,onChange:j=>B(j.target.value),rows:2}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"rtIsPaused",checked:z,onChange:j=>W(j.target.checked),className:"h-4 w-4 text-primary rounded border-neutral/50 focus:ring-primary dark:text-primaryDark dark:border-neutralDark/50 dark:focus:ring-primaryDark"}),y.jsx("label",{htmlFor:"rtIsPaused",className:"ml-2 block text-sm text-textMuted dark:text-textMutedDark",children:"Pausar esta recorrência"})]}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(he,{type:"submit",variant:"primary",children:a?"Salvar Alterações":"Criar Recorrência"})]})]})})},Foe=({recurringTransactions:t,accounts:e,categories:n,onAddRecurringTransaction:r,onUpdateRecurringTransaction:i,onDeleteRecurringTransaction:a,onProcessRecurringTransactions:o,isPrivacyModeEnabled:l})=>{const[c,d]=R.useState(!1),[h,f]=R.useState(null),[v,_]=R.useState(!1),[b,S]=R.useState(null),w=()=>{f(null),d(!0)},A=D=>{f(D),d(!0)},I=async()=>{_(!0),S("Processando...");try{const D=await o();D.errors.length>0?S(`Processamento concluído. ${D.count} transações lançadas. Erros: ${D.errors.join(", ")}`):D.count>0?S(`${D.count} transações recorrentes foram lançadas com sucesso!`):S("Nenhuma transação recorrente pendente para lançar.")}catch(D){S("Erro ao processar transações recorrentes."),console.error(D)}_(!1),setTimeout(()=>S(null),7e3)},k=R.useMemo(()=>[...t].sort((D,$)=>new Date(D.next_due_date).getTime()-new Date($.next_due_date).getTime()),[t]),O=gt(),E=k.filter(D=>!D.is_paused&&D.next_due_date>=O),P=k.filter(D=>!D.is_paused&&D.next_due_date<O),N=k.filter(D=>D.is_paused);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações Recorrentes"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(he,{onClick:I,variant:"secondary",disabled:v,children:v?"Processando...":"Lançar Pendentes"}),y.jsxs(he,{onClick:w,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Recorrência"]})]})]}),b&&y.jsx("div",{className:`p-3 rounded-md text-sm ${b.includes("Erro")||b.includes("Erros:")?"bg-destructive/10 text-destructiveDark":"bg-secondary/10 text-secondaryDark"}`,children:b}),t.length===0?y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação recorrente cadastrada."}):y.jsxs(y.Fragment,{children:[P.length>0&&y.jsxs("div",{children:[y.jsxs("h2",{className:"text-lg font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Pendentes / Atrasadas (",P.length,")"]}),y.jsx("ul",{className:"space-y-3",children:P.map(D=>y.jsx(wx,{rt:D,accounts:e,categories:n,onEdit:A,onDelete:a,isPrivacyModeEnabled:l},D.id))})]}),E.length>0&&y.jsxs("div",{children:[y.jsxs("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mt-6 mb-2",children:["Próximas (",E.length,")"]}),y.jsx("ul",{className:"space-y-3",children:E.map(D=>y.jsx(wx,{rt:D,accounts:e,categories:n,onEdit:A,onDelete:a,isPrivacyModeEnabled:l},D.id))})]}),N.length>0&&y.jsxs("div",{children:[y.jsxs("h2",{className:"text-lg font-semibold text-textMuted dark:text-textMutedDark mt-6 mb-2",children:["Pausadas (",N.length,")"]}),y.jsx("ul",{className:"space-y-3",children:N.map(D=>y.jsx(wx,{rt:D,accounts:e,categories:n,onEdit:A,onDelete:a,isPrivacyModeEnabled:l},D.id))})]})]}),y.jsx(Boe,{isOpen:c,onClose:()=>d(!1),onSave:h?i:r,accounts:e,categories:n,existingRT:h})]})},qoe=({loan:t,repayments:e,accounts:n,creditCards:r,onEdit:i,onDelete:a,onRegisterRepayment:o,isPrivacyModeEnabled:l})=>{var A,I;const c=e.reduce((k,O)=>k+O.amount_paid,0),d=t.total_amount_to_reimburse-c;let h="PENDING",f="text-amber-600 dark:text-amber-500",v="bg-amber-100 dark:bg-amber-500/20",_="bg-amber-500";c>=t.total_amount_to_reimburse?(h="PAID",f="text-secondary dark:text-secondaryDark",v="bg-emerald-100 dark:bg-emerald-500/20",_="bg-secondary"):c>0&&(h="PARTIALLY_PAID",f="text-blue-600 dark:text-blue-500",v="bg-blue-100 dark:bg-blue-500/20",_="bg-blue-500");const b=t.total_amount_to_reimburse>0?Math.min(c/t.total_amount_to_reimburse*100,100):0,S=t.funding_source==="account"&&t.linked_account_id?(A=n.find(k=>k.id===t.linked_account_id))==null?void 0:A.name:null,w=t.funding_source==="creditCard"&&t.linked_credit_card_id?(I=r.find(k=>k.id===t.linked_credit_card_id))==null?void 0:I.name:null;return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[y.jsx(Tb,{className:"w-5 h-5 text-primary dark:text-primaryDark"}),y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.person_name}),y.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${v} ${f}`,children:h==="PENDING"?"Pendente":h==="PARTIALLY_PAID"?"Parcialmente Pago":"Pago"})]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Emprestado em: ",jn(t.loan_date)]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a Reembolsar: ",y.jsx("span",{className:"font-semibold",children:de(t.total_amount_to_reimburse,"BRL","pt-BR",l)})]}),t.description&&y.jsx("p",{className:"text-xs italic text-neutral dark:text-neutralDark mt-1",children:t.description})]}),y.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>i(t),"aria-label":"Editar Empréstimo",className:"!p-1.5",children:y.jsx(Ur,{className:"w-4 h-4"})}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>a(t.id),"aria-label":"Excluir Empréstimo",className:"!p-1.5",disabled:c>0&&h!=="PAID",title:c>0&&h!=="PAID"?"Exclua os pagamentos primeiro ou quite o empréstimo":"Excluir Empréstimo",children:y.jsx(qr,{className:`w-4 h-4 ${c>0&&h!=="PAID"?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Pago: ",de(c,"BRL","pt-BR",l)]}),y.jsxs("span",{className:`font-semibold ${d<=0?f:"text-destructive dark:text-destructiveDark"}`,children:["Pendente: ",de(Math.max(0,d),"BRL","pt-BR",l)]})]}),y.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:y.jsx("div",{className:`h-2.5 rounded-full ${_}`,style:{width:`${b}%`}})})]}),y.jsxs("div",{className:"text-xs text-textMuted dark:text-textMutedDark pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[y.jsx("p",{children:y.jsx("strong",{children:"Origem do Dinheiro:"})}),t.funding_source==="account"&&y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["Conta: ",S||"N/A"]}),y.jsxs("p",{children:["Valor Entregue da Conta: ",de(t.amount_delivered_from_account||0,"BRL","pt-BR",l)]})]}),t.funding_source==="creditCard"&&y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["Cartão de Crédito: ",w||"N/A"]}),y.jsxs("p",{children:["Valor Líquido Entregue: ",de(t.amount_delivered_from_credit||0,"BRL","pt-BR",l)]}),y.jsxs("p",{children:["Custo no Cartão (Fatura): ",de(t.cost_on_credit_card||0,"BRL","pt-BR",l)]})]})]}),h!=="PAID"&&y.jsx("div",{className:"flex justify-start pt-2",children:y.jsxs(he,{size:"sm",variant:"secondary",onClick:()=>o(t),children:[y.jsx(kn,{className:"w-4 h-4 mr-1"})," Registrar Pagamento Recebido"]})})]})},Uoe=({isOpen:t,onClose:e,onSave:n,accounts:r,creditCards:i,existingLoan:a})=>{const[o,l]=R.useState(""),[c,d]=R.useState(gt()),[h,f]=R.useState(""),[v,_]=R.useState(""),[b,S]=R.useState("account"),[w,A]=R.useState(""),[I,k]=R.useState(""),[O,E]=R.useState(""),[P,N]=R.useState(""),[D,$]=R.useState(""),[F,L]=R.useState("1"),[z,W]=R.useState({});R.useEffect(()=>{var K,U,te;t&&(a?(l(a.person_name),d(a.loan_date),f(a.description||""),_(a.total_amount_to_reimburse.toString()),S(a.funding_source),a.funding_source==="account"?(A(((K=a.amount_delivered_from_account)==null?void 0:K.toString())||""),k(a.linked_account_id||"")):(A(""),k("")),a.funding_source==="creditCard"?(E(((U=a.amount_delivered_from_credit)==null?void 0:U.toString())||""),N(((te=a.cost_on_credit_card)==null?void 0:te.toString())||""),$(a.linked_credit_card_id||"")):(E(""),N(""),$(""))):(l(""),d(gt()),f(""),_(""),S("account"),A(""),k(r.length>0?r[0].id:""),E(""),N(""),$(i.length>0?i[0].id:""),L("1")),W({}))},[a,t,r,i]);const V=()=>{const K={};o.trim()||(K.personName="Nome da pessoa é obrigatório."),c||(K.loanDate="Data do empréstimo é obrigatória.");const U=parseFloat(v);if((isNaN(U)||U<=0)&&(K.totalAmountToReimburse="Valor a ser reembolsado deve ser positivo."),b==="account"){I||(K.linkedAccountId="Conta de origem é obrigatória.");const te=parseFloat(w);(isNaN(te)||te<=0)&&(K.amountDeliveredFromAccount="Valor entregue deve ser positivo.")}else if(b==="creditCard"){D||(K.linkedCreditCardId="Cartão de crédito é obrigatório.");const te=parseFloat(O);(isNaN(te)||te<=0)&&(K.amountDeliveredFromCredit="Valor entregue (líquido) deve ser positivo.");const re=parseFloat(P);(isNaN(re)||re<=0)&&(K.costOnCreditCard="Custo no cartão deve ser positivo."),te>re&&(K.amountDeliveredFromCredit="Valor entregue não pode ser maior que o custo no cartão.");const j=parseInt(F,10);(isNaN(j)||j<=0)&&(K.numberOfInstallments="Número de parcelas deve ser positivo.")}return W(K),Object.keys(K).length===0},B=()=>{if(!V())return;const K={person_name:o.trim(),loan_date:c,description:h.trim()||void 0,total_amount_to_reimburse:parseFloat(v),funding_source:b};let U;b==="account"?U={...K,amount_delivered_from_account:parseFloat(w),linked_account_id:I}:U={...K,amount_delivered_from_credit:parseFloat(O),cost_on_credit_card:parseFloat(P),linked_credit_card_id:D};const te=a?{...U,id:a.id}:U;n(te,b==="creditCard"?parseInt(F):void 0),e()},J=[{value:"account",label:"Dinheiro de uma Conta"},{value:"creditCard",label:"Crédito (Convertido em Dinheiro)"}];return y.jsx(fn,{isOpen:t,onClose:e,title:a?"Editar Empréstimo":"Novo Empréstimo",size:"lg",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Be,{label:"Nome da Pessoa",id:"personName",value:o,onChange:K=>l(K.target.value),error:z.personName,required:!0}),y.jsx(Be,{label:"Data do Empréstimo",id:"loanDate",type:"date",value:c,onChange:K=>d(K.target.value),error:z.loanDate,required:!0}),y.jsx(Ec,{label:"Descrição (Opcional)",id:"loanDescription",value:h,onChange:K=>f(K.target.value),rows:2}),y.jsx(Be,{label:"Valor Total a Ser Reembolsado por Você (R$)",id:"totalAmountToReimburse",type:"number",step:"0.01",value:v,onChange:K=>_(K.target.value),error:z.totalAmountToReimburse,placeholder:"Ex: 270.00",required:!0}),y.jsx(xt,{label:"Origem do Dinheiro",id:"fundingSource",options:J,value:b,onChange:K=>S(K.target.value)}),b==="account"&&y.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[y.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Saída de Conta)"}),y.jsx(xt,{label:"Conta de Origem",id:"linkedAccountId",options:r.map(K=>({value:K.id,label:K.name})),value:I,onChange:K=>k(K.target.value),error:z.linkedAccountId,disabled:r.length===0,required:!0}),y.jsx(Be,{label:"Valor Efetivamente Entregue (R$)",id:"amountDeliveredFromAccount",type:"number",step:"0.01",value:w,onChange:K=>A(K.target.value),error:z.amountDeliveredFromAccount,placeholder:"Ex: 250.00",required:!0})]}),b==="creditCard"&&y.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[y.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Uso de Crédito)"}),y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:'Use esta opção se você usou um serviço do cartão para sacar/transferir crédito, incorrendo em taxas. O "Custo Real no Cartão" será lançado como uma compra parcelada.'}),y.jsx(xt,{label:"Cartão de Crédito Utilizado",id:"linkedCreditCardId",options:i.map(K=>({value:K.id,label:K.name})),value:D,onChange:K=>$(K.target.value),error:z.linkedCreditCardId,disabled:i.length===0,required:!0}),y.jsx(Be,{label:"Valor Efetivamente Entregue à Pessoa (R$)",id:"amountDeliveredFromCredit",type:"number",step:"0.01",value:O,onChange:K=>E(K.target.value),error:z.amountDeliveredFromCredit,placeholder:`Ex: ${de(250)} (valor líquido recebido pela pessoa)`,required:!0}),y.jsx(Be,{label:"Custo Real no Cartão (com taxas) (R$)",id:"costOnCreditCard",type:"number",step:"0.01",value:P,onChange:K=>{N(K.target.value),!a&&!v&&_(K.target.value)},error:z.costOnCreditCard,placeholder:"Ex: 270.00 (valor total que virá na fatura)",required:!0}),y.jsx(Be,{label:"Número de Parcelas no Cartão",id:"numberOfInstallments",type:"number",min:"1",value:F,onChange:K=>L(K.target.value),error:z.numberOfInstallments,required:!0,disabled:!!a&&!!a.linked_installment_purchase_id,title:a&&a.linked_installment_purchase_id?"Número de parcelas não pode ser alterado após a criação da compra vinculada.":""})]}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(he,{type:"button",variant:"primary",onClick:B,children:"Salvar Empréstimo"})]})]})})},Voe=({isOpen:t,onClose:e,onSave:n,loan:r,accounts:i})=>{const[a,o]=R.useState(""),[l,c]=R.useState(gt()),[d,h]=R.useState(""),[f,v]=R.useState(""),[_,b]=R.useState({});R.useEffect(()=>{t&&(o(""),c(gt()),h(i.length>0?i[0].id:""),v(""),b({}))},[t,i]);const S=()=>{const A={},I=parseFloat(a);return(isNaN(I)||I<=0)&&(A.amountPaid="Valor pago deve ser positivo."),l||(A.repaymentDate="Data do pagamento é obrigatória."),d||(A.creditedAccountId="Conta de crédito é obrigatória."),b(A),Object.keys(A).length===0},w=()=>{if(!S())return;const A={repayment_date:l,amount_paid:parseFloat(a),notes:f.trim()||void 0,credited_account_id:d};n(A,r.id),e()};return y.jsx(fn,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.person_name}`,children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Be,{label:"Valor Recebido (R$)",id:"repaymentAmount",type:"number",step:"0.01",value:a,onChange:A=>o(A.target.value),error:_.amountPaid,required:!0}),y.jsx(Be,{label:"Data do Recebimento",id:"repaymentDate",type:"date",value:l,onChange:A=>c(A.target.value),error:_.repaymentDate,required:!0}),y.jsx(xt,{label:"Conta Creditada (Onde o dinheiro entrou)",id:"creditedAccountId",options:i.map(A=>({value:A.id,label:A.name})),value:d,onChange:A=>h(A.target.value),error:_.creditedAccountId,disabled:i.length===0,required:!0}),y.jsx(Ec,{label:"Notas (Opcional)",id:"repaymentNotes",value:f,onChange:A=>v(A.target.value),rows:2}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(he,{type:"button",variant:"primary",onClick:w,children:"Salvar Pagamento"})]})]})})},zoe=({loans:t,loanRepayments:e,accounts:n,creditCards:r,onAddLoan:i,onUpdateLoan:a,onDeleteLoan:o,onAddLoanRepayment:l,isPrivacyModeEnabled:c})=>{const[d,h]=R.useState(!1),[f,v]=R.useState(null),[_,b]=R.useState(!1),[S,w]=R.useState(null),A=()=>{v(null),h(!0)},I=N=>{v(N),h(!0)},k=(N,D)=>{f&&N.id?a({...f,...N}):i(N,D)},O=N=>{w(N),b(!0)},E=R.useMemo(()=>t.reduce((N,D)=>{const $=e.filter(F=>F.loan_id===D.id).reduce((F,L)=>F+L.amount_paid,0);return N+(D.total_amount_to_reimburse-$)},0),[t,e]),P=R.useMemo(()=>[...t].sort((N,D)=>new Date(D.loan_date).getTime()-new Date(N.loan_date).getTime()),[t]);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Empréstimos Concedidos"}),t.length>0&&y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a receber: ",y.jsx("span",{className:"font-semibold text-primary dark:text-primaryDark",children:de(E,"BRL","pt-BR",c)})]})]}),y.jsxs(he,{onClick:A,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Novo Empréstimo"]})]}),P.length>0?y.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:P.map(N=>y.jsx(qoe,{loan:N,repayments:e.filter(D=>D.loan_id===N.id),accounts:n,creditCards:r,onEdit:I,onDelete:o,onRegisterRepayment:O,isPrivacyModeEnabled:c},N.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:'Nenhum empréstimo registrado. Clique em "Novo Empréstimo" para começar.'}),d&&y.jsx(Uoe,{isOpen:d,onClose:()=>h(!1),onSave:k,accounts:n,creditCards:r,existingLoan:f}),_&&S&&y.jsx(Voe,{isOpen:_,onClose:()=>b(!1),onSave:l,loan:S,accounts:n})]})},yb=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3.697-3.697c-.022-.021-.041-.044-.06-.067H6.75c-1.136 0-2.097-.847-2.193-1.98a18.75 18.75 0 0 1-.072-1.02c0-.884.284-1.5 2.097-1.5H13.5c.884 0 1.5-.284 2.097-1.5 1.136 0 2.1.847 2.193 1.98.027.34.052.68.072 1.02z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h-.008v.008H3.75V12zm0-3.75h.008v.008H3.75V8.25zm0 7.5h.008v.008H3.75v-.008zM4.5 6H15a2.25 2.25 0 0 1 2.25 2.25v1.5A2.25 2.25 0 0 1 15 12H4.5A2.25 2.25 0 0 1 2.25 9.75v-1.5A2.25 2.25 0 0 1 4.5 6z"})]}),Goe=({aiConfig:t,setAiConfig:e,insights:n,onFetchGeneralAdvice:r,onUpdateInsight:i,isPrivacyModeEnabled:a,onFetchRecurringPaymentCandidates:o,onFetchSavingOpportunities:l,onFetchCashFlowProjection:c})=>{var V;const[d,h]=R.useState(((V=t.monthlyIncome)==null?void 0:V.toString())||""),[f,v]=R.useState(!1),[_,b]=R.useState(""),[S,w]=R.useState(""),[A,I]=R.useState(ve.EXPENSE),[k,O]=R.useState(gt(new Date(Date.now()+7*24*60*60*1e3))),[E,P]=R.useState(!1),N=()=>{e({isEnabled:!t.isEnabled})},D=()=>{const B=parseFloat(d);!isNaN(B)&&B>0?(e({monthlyIncome:B}),v(!1)):d===""?(e({monthlyIncome:null}),v(!1)):alert("Por favor, insira um valor de renda válido ou deixe em branco.")};H.useEffect(()=>{var B;h(((B=t.monthlyIncome)==null?void 0:B.toString())||"")},[t.monthlyIncome]);const $=[...n].sort((B,J)=>new Date(J.timestamp).getTime()-new Date(B.timestamp).getTime()),F=B=>y.jsx("p",{className:"text-textBase dark:text-textBaseDark whitespace-pre-wrap",children:B.content}),L=B=>{switch(B){case"budget_recommendation":case"saving_opportunity_suggestion":return{icon:y.jsx(ao,{className:"w-5 h-5 mr-2 text-yellow-500 dark:text-yellow-400 flex-shrink-0"}),borderColorClass:"border-yellow-500 dark:border-yellow-400",bgColorClass:"bg-yellow-400/10 dark:bg-yellow-400/15"};case"recurring_payment_candidate":return{icon:y.jsx(pc,{className:"w-5 h-5 mr-2 text-teal-500 dark:text-teal-400 flex-shrink-0"}),borderColorClass:"border-teal-500 dark:border-teal-400",bgColorClass:"bg-teal-500/10 dark:bg-teal-400/15"};case"cash_flow_projection":return{icon:y.jsx(Q_,{className:"w-5 h-5 mr-2 text-indigo-500 dark:text-indigo-400 flex-shrink-0"}),borderColorClass:"border-indigo-500 dark:border-indigo-400",bgColorClass:"bg-indigo-500/10 dark:bg-indigo-400/15"};case"spending_anomaly_category":case"budget_overspend_projection":case"unusual_transaction_value":case"budget_warning":return{icon:y.jsx(wf,{className:"w-5 h-5 mr-2 text-amber-600 dark:text-amber-500 flex-shrink-0"}),borderColorClass:"border-amber-600 dark:border-amber-500",bgColorClass:"bg-amber-600/10 dark:bg-amber-500/15"};case"error_message":return{icon:y.jsx(wf,{className:"w-5 h-5 mr-2 text-destructive dark:text-destructiveDark flex-shrink-0"}),borderColorClass:"border-destructive dark:border-destructiveDark",bgColorClass:"bg-destructive/10 dark:bg-destructiveDark/15"};default:return{icon:y.jsx(yb,{className:"w-5 h-5 mr-2 text-primary dark:text-primaryDark flex-shrink-0"}),borderColorClass:"border-primary dark:border-primaryDark",bgColorClass:"bg-primary/5 dark:bg-primaryDark/10"}}},z=B=>{B.is_read||i({...B,is_read:!0})},W=()=>{let B;E&&S&&parseFloat(S)>0&&k&&(B={description:_.trim()||(A===ve.EXPENSE?"Despesa Simulada":"Receita Simulada"),amount:parseFloat(S),type:A,date:k}),c(30,B)};return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(yb,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"AI Coach Financeiro"})]}),t.apiKeyStatus!=="unavailable"&&y.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[y.jsx("span",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:t.isEnabled?"Coach Ativado":"Coach Desativado"}),y.jsxs("div",{className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${t.isEnabled?"bg-primary dark:bg-primaryDark":"bg-neutral/30 dark:bg-neutralDark/40"}`,children:[y.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${t.isEnabled?"translate-x-6":"translate-x-1"}`}),y.jsx("input",{type:"checkbox",className:"absolute opacity-0 w-0 h-0",checked:t.isEnabled,onChange:N})]})]})]}),t.apiKeyStatus==="unavailable"&&y.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[y.jsx("strong",{className:"font-bold",children:"API Key Indisponível! "}),y.jsx("span",{className:"block sm:inline",children:"A funcionalidade do AI Coach está desativada. A chave da API Gemini (process.env.GEMINI_API_KEY) não foi configurada no ambiente. Sem ela, o AI Coach não pode operar."})]}),t.apiKeyStatus==="error"&&y.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[y.jsx("strong",{className:"font-bold",children:"Erro na API! "}),y.jsx("span",{className:"block sm:inline",children:"Ocorreu um erro ao tentar inicializar ou usar a API Gemini. Verifique o console para mais detalhes."})]}),t.apiKeyStatus==="available"&&y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Renda Mensal (para Sugestões)"}),t.monthlyIncome&&!f?y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Sua renda mensal salva:",y.jsx("span",{className:"font-bold text-lg text-primary dark:text-primaryDark ml-2",children:de(t.monthlyIncome,"BRL","pt-BR",a)})]}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>v(!0),children:"Editar Renda"})]}):y.jsxs("div",{className:"space-y-3",children:[y.jsx(Be,{label:"Informe sua renda mensal estimada",id:"monthlyIncome",type:"number",placeholder:a?de(0,"BRL","pt-BR",!0).replace("0,00","Ex: 3500.00"):"Ex: 3500.00",value:d,onChange:B=>h(B.target.value),containerClassName:"max-w-xs"}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(he,{variant:"primary",size:"sm",onClick:D,children:"Salvar Renda"}),t.monthlyIncome&&y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>v(!1),children:"Cancelar"})]}),y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Esta informação ajuda o AI Coach a fornecer sugestões de orçamento mais personalizadas."})]})]}),t.isEnabled&&t.apiKeyStatus==="available"&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Conselhos e Análises"}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.jsxs(he,{onClick:r,variant:"ghost",size:"sm",children:[y.jsx(ao,{className:"w-4 h-4 mr-1.5"})," Novo Conselho"]}),y.jsxs(he,{onClick:o,variant:"ghost",size:"sm",children:[y.jsx(pc,{className:"w-4 h-4 mr-1.5"})," Analisar Recorrências"]}),y.jsxs(he,{onClick:l,variant:"ghost",size:"sm",children:[y.jsx(Ow,{className:"w-4 h-4 mr-1.5"})," Oportunidades de Economia"]})]})]}),y.jsxs("div",{className:"mt-6 pt-4 border-t border-borderBase dark:border-borderBaseDark",children:[y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mb-2",children:"Previsão de Fluxo de Caixa"}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>P(!E),className:"mb-3 text-sm",children:E?"Esconder Simulação":"Adicionar Simulação à Previsão"}),E&&y.jsxs("div",{className:"space-y-3 p-3 mb-4 border border-dashed border-neutral/50 dark:border-neutralDark/50 rounded-md",children:[y.jsx("h4",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Simular Transação Futura (Opcional)"}),y.jsx(Be,{label:"Descrição (Opcional)",value:_,onChange:B=>b(B.target.value),placeholder:"Ex: Bônus Inesperado, Compra de Presente"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[y.jsx(Be,{label:"Valor Simulado",type:"number",value:S,onChange:B=>w(B.target.value),placeholder:"Ex: 500"}),y.jsx(xt,{label:"Tipo",options:Ph.filter(B=>B.value!==ve.TRANSFER),value:A,onChange:B=>I(B.target.value)}),y.jsx(Be,{label:"Data Simulado",type:"date",value:k,onChange:B=>O(B.target.value)})]})]}),y.jsxs(he,{onClick:W,variant:"secondary",size:"sm",className:"w-full sm:w-auto",children:[y.jsx(Q_,{className:"w-4 h-4 mr-1.5"}),"Gerar Previsão de Caixa (30d) ",E&&S?"com Simulação":""]})]}),$.length===0?y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8 mt-4",children:"Nenhum conselho ou comentário do AI Coach ainda. Interaja com o app ou peça uma nova análise!"}):y.jsx("ul",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 mt-4",children:$.map(B=>{const J=L(B.type);return y.jsx("li",{className:`p-4 rounded-lg shadow-sm border-l-4
                                    ${J.borderColorClass} ${J.bgColorClass}
                                    ${B.isLoading?"opacity-60 animate-pulse":""}
                                    ${!B.is_read&&!B.isLoading?"cursor-pointer hover:shadow-md":""}`,onClick:()=>z(B),onKeyDown:K=>{(K.key==="Enter"||K.key===" ")&&z(B)},tabIndex:!B.is_read&&!B.isLoading?0:void 0,role:!B.is_read&&!B.isLoading?"button":void 0,"aria-label":!B.is_read&&!B.isLoading?"Marcar como lido":void 0,children:y.jsxs("div",{className:"flex items-start",children:[J.icon,y.jsxs("div",{className:"flex-1",children:[F(B),y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1.5",children:[jn(B.timestamp,"pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),B.related_transaction_id&&y.jsx("span",{className:"ml-2",children:" (Ref. Transação)"}),B.related_category_id&&B.type==="budget_recommendation"&&y.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),B.related_category_id&&(B.type==="spending_anomaly_category"||B.type==="budget_overspend_projection"||B.type==="unusual_transaction_value")&&y.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),!B.is_read&&!B.isLoading&&y.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Novo"})]})]})]})},B.id)})})]})}),!t.isEnabled&&t.apiKeyStatus==="available"&&y.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-700/20 border border-yellow-400 dark:border-yellow-600 text-yellow-700 dark:text-yellow-300 px-4 py-3 rounded-lg",role:"alert",children:y.jsx("p",{children:"O AI Coach está atualmente desativado. Ative-o acima para receber dicas e comentários personalizados."})})]})},Hoe=({className:t="w-5 h-5",style:e})=>y.jsxs("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),y.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),Eh=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),Woe=({onLoginWithGoogle:t,isLoading:e})=>y.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background dark:bg-backgroundDark p-4 text-textBase dark:text-textBaseDark",children:[y.jsxs("div",{className:"w-full max-w-sm bg-surface dark:bg-surfaceDark shadow-2xl rounded-xl p-8 space-y-8 text-center",children:[y.jsx(Eh,{className:"w-20 h-20 text-primary dark:text-primaryDark mx-auto mb-4"}),y.jsxs("h1",{className:"text-3xl font-bold text-textBase dark:text-textBaseDark",children:["Bem-vindo ao ",Ou]}),y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Faça login com sua conta Google para acessar suas finanças."}),y.jsxs(he,{variant:"primary",size:"lg",className:"w-full !py-3 flex items-center justify-center !bg-white !text-neutral-700 hover:!bg-gray-100 border border-gray-300 dark:!bg-slate-700 dark:!text-slate-200 dark:hover:!bg-slate-600 dark:border-slate-500",onClick:t,disabled:e,children:[y.jsx(Hoe,{className:"w-5 h-5 mr-3"}),e?"Conectando...":"Entrar com Google"]}),y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark pt-4",children:"Ao continuar, você concorda com nossos Termos de Serviço e Política de Privacidade (simulados)."})]}),y.jsx("footer",{className:"mt-8 text-center text-xs text-textMuted dark:text-textMutedDark",children:y.jsxs("p",{children:["© ",new Date().getFullYear()," ",Ou,". Todos os direitos reservados."]})})]}),xb=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6V5.25m0 0A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25v.75m0 0a2.25 2.25 0 0 1-2.25 2.25h-13.5A2.25 2.25 0 0 1 3 6m18 0v12.75A2.25 2.25 0 0 1 18.75 21H5.25A2.25 2.25 0 0 1 3 18.75V6.75m15-3h-15"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 12H18m-2.25 3H18m-2.25-3a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM12 6.75h.008v.008H12V6.75Z"})]}),Koe=[{value:"credit_card_balance",label:"Saldo de Cartão de Crédito"},{value:"personal_loan",label:"Empréstimo Pessoal"},{value:"student_loan",label:"Empréstimo Estudantil"},{value:"mortgage",label:"Hipoteca / Financiamento Imob."},{value:"car_loan",label:"Financiamento de Veículo"},{value:"other",label:"Outra Dívida"}],Yoe=({isOpen:t,onClose:e,onSave:n,existingDebt:r})=>{const[i,a]=R.useState(""),[o,l]=R.useState("other"),[c,d]=R.useState(""),[h,f]=R.useState(""),[v,_]=R.useState(""),[b,S]=R.useState(""),[w,A]=R.useState({});R.useEffect(()=>{var O;t&&(r?(a(r.name),l(r.type),d(r.initial_balance.toString()),f(r.interest_rate_annual.toString()),_(r.minimum_payment.toString()),S(((O=r.due_date_day_of_month)==null?void 0:O.toString())||"")):(a(""),l("other"),d(""),f(""),_(""),S("")),A({}))},[r,t]);const I=()=>{const O={};i.trim()||(O.name="Nome da dívida é obrigatório.");const E=parseFloat(c);(isNaN(E)||E<=0)&&(O.initialBalance="Saldo inicial deve ser positivo.");const P=parseFloat(h);(isNaN(P)||P<0)&&(O.interestRateAnnual="Taxa de juros deve ser um número não negativo.");const N=parseFloat(v);if((isNaN(N)||N<=0)&&(O.minimumPayment="Pagamento mínimo deve ser positivo."),b){const D=parseInt(b,10);(isNaN(D)||D<1||D>31)&&(O.dueDateDayOfMonth="Dia de vencimento deve ser entre 1 e 31.")}return A(O),Object.keys(O).length===0},k=()=>{if(!I())return;const O={name:i.trim(),type:o,initial_balance:parseFloat(c),interest_rate_annual:parseFloat(h),minimum_payment:parseFloat(v),due_date_day_of_month:b?parseInt(b,10):void 0},E=r?{...O,id:r.id}:{...O,id:Xe()};n(E),e()};return y.jsx(fn,{isOpen:t,onClose:e,title:r?"Editar Dívida":"Nova Dívida",size:"lg",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Be,{label:"Nome da Dívida",id:"debtName",value:i,onChange:O=>a(O.target.value),error:w.name,placeholder:"Ex: Cartão XP Fatura, Financiamento Carro",required:!0}),y.jsx(xt,{label:"Tipo de Dívida",id:"debtType",options:Koe,value:o,onChange:O=>l(O.target.value),required:!0}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(Be,{label:"Saldo Devedor Inicial (R$)",id:"initialBalance",type:"number",step:"0.01",value:c,onChange:O=>d(O.target.value),error:w.initialBalance,required:!0}),y.jsx(Be,{label:"Taxa de Juros Anual (%)",id:"interestRateAnnual",type:"number",step:"0.01",value:h,onChange:O=>f(O.target.value),error:w.interestRateAnnual,placeholder:"Ex: 19.9 para 19.9%",required:!0})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(Be,{label:"Pagamento Mínimo Mensal (R$)",id:"minimumPayment",type:"number",step:"0.01",value:v,onChange:O=>_(O.target.value),error:w.minimumPayment,required:!0}),y.jsx(Be,{label:"Dia de Vencimento (Opcional)",id:"dueDateDayOfMonth",type:"number",min:"1",max:"31",value:b,onChange:O=>S(O.target.value),error:w.dueDateDayOfMonth,placeholder:"Ex: 15"})]}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(he,{type:"button",variant:"primary",onClick:k,children:r?"Salvar Alterações":"Adicionar Dívida"})]})]})})},Joe=({isOpen:t,onClose:e,onSave:n,debt:r,accounts:i})=>{const[a,o]=R.useState(""),[l,c]=R.useState(gt()),[d,h]=R.useState(""),[f,v]=R.useState(!1),[_,b]=R.useState(""),[S,w]=R.useState({});R.useEffect(()=>{t&&(o(""),c(gt()),h(""),v(!1),b(i.length>0?i[0].id:""),w({}))},[t,i]);const A=()=>{const k={},O=parseFloat(a);return isNaN(O)||O<=0?k.amountPaid="Valor pago deve ser positivo.":O>r.current_balance,l||(k.paymentDate="Data do pagamento é obrigatória."),f&&!_&&(k.linkedAccountId="Conta de origem da despesa é obrigatória."),w(k),Object.keys(k).length===0},I=()=>{if(!A())return;const k={debt_id:r.id,payment_date:l,amount_paid:parseFloat(a),notes:d.trim()||void 0};n(k,f,_),e()};return y.jsx(fn,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.name}`,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Saldo Devedor Atual: ",y.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:r.current_balance})]}),y.jsx(Be,{label:"Valor Pago (R$)",id:"paymentAmount",type:"number",step:"0.01",value:a,onChange:k=>o(k.target.value),error:S.amountPaid,required:!0}),y.jsx(Be,{label:"Data do Pagamento",id:"paymentDate",type:"date",value:l,onChange:k=>c(k.target.value),error:S.paymentDate,required:!0}),y.jsx(Ec,{label:"Notas (Opcional)",id:"paymentNotes",value:d,onChange:k=>h(k.target.value),rows:2}),i.length>0&&y.jsxs("div",{className:"pt-2",children:[y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",checked:f,onChange:k=>v(k.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark"}),y.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Registrar como despesa em uma conta?"})]}),f&&y.jsx(xt,{containerClassName:"mt-2",label:"Conta de Origem da Despesa",id:"linkedExpenseAccount",options:i.map(k=>({value:k.id,label:k.name})),value:_,onChange:k=>b(k.target.value),error:S.linkedAccountId,placeholder:"Selecione uma conta"})]}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(he,{type:"button",variant:"primary",onClick:I,children:"Salvar Pagamento"})]})]})})},Xoe=(t,e,n)=>{let r=JSON.parse(JSON.stringify(t)).filter(d=>d.current_balance>0&&!d.is_archived).map(d=>({...d,workingBalance:d.current_balance,interestPaidThisDebt:0,monthsToPayoffThisDebt:0,monthlyPaymentsLog:[]})),i=0,a=0;const o=720,l=[];for(;r.some(d=>d.workingBalance>0)&&i<o;){i++;let d=e;for(const f of r){if(f.workingBalance<=0)continue;const v=f.interest_rate_annual/100/12,_=f.workingBalance*v;f.workingBalance+=_,f.interestPaidThisDebt+=_,a+=_}for(const f of r){if(f.workingBalance<=0)continue;const v=Math.min(f.workingBalance,f.minimum_payment),_=Math.min(f.workingBalance*(f.interest_rate_annual/100/12),v),b=v-_;f.workingBalance-=v,f.monthlyPaymentsLog.push({month:i,payment:v,interest:_,principal:b,remainingBalance:f.workingBalance}),f.workingBalance<=0&&(d+=f.minimum_payment)}let h=r.filter(f=>f.workingBalance>0);if(d>0&&h.length>0){n==="snowball"?h.sort((f,v)=>f.workingBalance-v.workingBalance):n==="avalanche"?h.sort((f,v)=>v.interest_rate_annual-f.interest_rate_annual):n==="minimums"&&h.length>0&&h.sort((f,v)=>f.workingBalance-v.workingBalance);for(const f of h){if(d<=0)break;if(f.workingBalance<=0)continue;const v=Math.min(f.workingBalance,d);f.workingBalance-=v,d-=v;const _=f.monthlyPaymentsLog.findIndex(b=>b.month===i);_>-1?(f.monthlyPaymentsLog[_].payment+=v,f.monthlyPaymentsLog[_].principal+=v,f.monthlyPaymentsLog[_].remainingBalance=f.workingBalance):f.monthlyPaymentsLog.push({month:i,payment:v,interest:0,principal:v,remainingBalance:f.workingBalance}),f.workingBalance<=0&&(d+=f.minimum_payment)}}r.forEach(f=>{f.workingBalance<=0&&!l.find(v=>v.debtId===f.id)&&(f.monthsToPayoffThisDebt=i,l.push({debtId:f.id,monthsToPayoffThisDebt:f.monthsToPayoffThisDebt,interestPaidThisDebt:f.interestPaidThisDebt,principalPaidThisDebt:f.initial_balance,monthlyPayments:f.monthlyPaymentsLog}))}),r=r.filter(f=>f.workingBalance>0)}t.filter(d=>d.current_balance>0&&!d.is_archived).forEach(d=>{if(!l.find(h=>h.debtId===d.id)){const h=r.find(f=>f.id===d.id)||t.find(f=>f.id===d.id);l.push({debtId:d.id,monthsToPayoffThisDebt:(h==null?void 0:h.workingBalance)>0&&i>=o?o:(h==null?void 0:h.monthsToPayoffThisDebt)||i,interestPaidThisDebt:(h==null?void 0:h.interestPaidThisDebt)||0,principalPaidThisDebt:d.initial_balance-((h==null?void 0:h.workingBalance)>0?h.workingBalance:0),monthlyPayments:(h==null?void 0:h.monthlyPaymentsLog)||[]})}});const c=l.reduce((d,h)=>d+h.principalPaidThisDebt,0);return{strategy:n,monthsToPayoff:i>=o&&t.filter(d=>!d.is_archived).some(d=>{const h=l.find(f=>f.debtId===d.id);return h?d.initial_balance-h.principalPaidThisDebt>.01:d.current_balance>.01})?-1:i,totalInterestPaid:a,totalPrincipalPaid:c,totalPaid:a+c,payoffDetails:l.sort((d,h)=>{var f,v;if(d.monthsToPayoffThisDebt===h.monthsToPayoffThisDebt){const _=((f=t.find(S=>S.id===d.debtId))==null?void 0:f.initial_balance)||0,b=((v=t.find(S=>S.id===h.debtId))==null?void 0:v.initial_balance)||0;return _-b}return d.monthsToPayoffThisDebt-h.monthsToPayoffThisDebt})}},Zoe=({debt:t,onRegisterPayment:e,onEdit:n,onDelete:r,hasPayments:i,isPrivacyModeEnabled:a})=>{const o=t.initial_balance>0?Math.max(0,Math.min((t.initial_balance-t.current_balance)/t.initial_balance*100,100)):0;return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name}),y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:t.type==="credit_card_balance"?"Saldo de Cartão":t.type==="personal_loan"?"Empréstimo Pessoal":"Outra Dívida"})]}),y.jsxs("div",{className:"flex space-x-1",children:[y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Dívida",className:"!p-1.5",children:y.jsx(Ur,{className:"w-4 h-4"})}),y.jsx(he,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Dívida",className:"!p-1.5",disabled:i,title:i?"Exclua os pagamentos desta dívida primeiro":"Excluir Dívida",children:y.jsx(qr,{className:`w-4 h-4 ${i?"text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-xl font-bold text-destructive dark:text-destructiveDark",children:["Saldo Devedor: ",de(t.current_balance,"BRL","pt-BR",a)]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Taxa de Juros: ",t.interest_rate_annual,"% a.a. | Mínimo: ",de(t.minimum_payment,"BRL","pt-BR",a)]}),t.due_date_day_of_month&&y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Vencimento usual: Dia ",t.due_date_day_of_month]})]}),t.initial_balance>0&&y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[y.jsx("span",{children:"Progresso"}),y.jsxs("span",{children:[o.toFixed(0),"%"]})]}),y.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:y.jsx("div",{className:"h-2 rounded-full bg-secondary dark:bg-secondaryDark",style:{width:`${o}%`}})})]}),t.current_balance>0&&y.jsxs(he,{variant:"secondary",size:"sm",onClick:()=>e(t),children:[y.jsx(kn,{className:"w-4 h-4 mr-1"})," Registrar Pagamento"]}),t.current_balance<=0&&y.jsx("p",{className:"text-sm font-semibold text-secondary dark:text-secondaryDark",children:"Dívida Quitada!"})]})},Qoe=({debts:t,debtPayments:e,accounts:n,onAddDebt:r,onUpdateDebt:i,onDeleteDebt:a,onAddDebtPayment:o,onFetchDebtStrategyExplanation:l,onFetchDebtProjectionSummary:c,isPrivacyModeEnabled:d})=>{var Se;const[h,f]=R.useState(!1),[v,_]=R.useState(null),[b,S]=R.useState(!1),[w,A]=R.useState(null),[I,k]=R.useState("0"),[O,E]=R.useState("snowball"),[P,N]=R.useState(null),[D,$]=R.useState(!1),[F,L]=R.useState(!1),[z,W]=R.useState(!1),V=()=>{_(null),f(!0)},B=ce=>{_(ce),f(!0)},J=ce=>{A(ce),S(!0)},K=R.useMemo(()=>t.filter(ce=>!ce.is_archived).reduce((ce,Ae)=>ce+Ae.current_balance,0),[t]),U=R.useMemo(()=>t.filter(ce=>!ce.is_archived&&ce.current_balance>0).reduce((ce,Ae)=>ce+Ae.minimum_payment,0),[t]),te=ce=>e.some(Ae=>Ae.debt_id===ce),re=()=>{$(!0),N(null);const ce=t.filter(ze=>!ze.is_archived&&ze.current_balance>0);if(ce.length===0){alert("Nenhuma dívida ativa para calcular o plano."),$(!1);return}const Ae=Xoe(ce,parseFloat(I)||0,O);N(Ae),$(!1)},j=async ce=>{L(!0),await l(ce)},X=async()=>{P&&(W(!0),await c(P,t.filter(ce=>!ce.is_archived&&ce.current_balance>0),O))},ue=[{value:"minimums",label:"Apenas Pagamentos Mínimos"},{value:"snowball",label:"Bola de Neve (Menor Saldo Primeiro)"},{value:"avalanche",label:"Avalanche (Maior Juros Primeiro)"}];return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(xb,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Planejador de Dívidas"})]}),y.jsxs(he,{onClick:V,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Adicionar Dívida"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"TOTAL DE DÍVIDAS ATUAIS"}),y.jsx("p",{className:"text-3xl font-bold text-destructive dark:text-destructiveDark",children:de(K,"BRL","pt-BR",d)})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SOMA DOS PAGAMENTOS MÍNIMOS"}),y.jsxs("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-500",children:[de(U,"BRL","pt-BR",d)," / mês"]})]})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30 space-y-4",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Estratégia de Quitação"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[y.jsx(Be,{label:"Pagamento Extra Mensal (R$)",id:"extraPayment",type:"number",step:"0.01",min:"0",value:I,onChange:ce=>k(ce.target.value),placeholder:"Ex: 100.00"}),y.jsx(xt,{label:"Escolha a Estratégia",id:"debtStrategy",options:ue,value:O,onChange:ce=>E(ce.target.value)})]}),y.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[y.jsxs(he,{variant:"ghost",size:"sm",onClick:()=>j("snowball"),className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline",children:[y.jsx(ao,{className:"w-3.5 h-3.5 mr-1"})," Entenda: Bola de Neve"]}),y.jsxs(he,{variant:"ghost",size:"sm",onClick:()=>j("avalanche"),className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline",children:[y.jsx(ao,{className:"w-3.5 h-3.5 mr-1"})," Entenda: Avalanche"]})]}),y.jsx(he,{onClick:re,variant:"primary",disabled:D,className:"w-full sm:w-auto",children:D?"Calculando...":"Calcular Plano de Quitação"}),P&&y.jsxs("div",{className:"mt-4 pt-4 border-t border-borderBase dark:border-borderBaseDark space-y-3",children:[y.jsxs("h3",{className:"text-lg font-semibold",children:["Resultado da Projeção (",(Se=ue.find(ce=>ce.value===O))==null?void 0:Se.label,"):"]}),y.jsxs("p",{children:["Tempo para quitar todas as dívidas: ",y.jsxs("span",{className:"font-bold",children:[(P.monthsToPayoff/12).toFixed(1)," anos"]})," (",P.monthsToPayoff," meses)"]}),y.jsxs("p",{children:["Total de Juros Pagos: ",y.jsx("span",{className:"font-bold",children:de(P.totalInterestPaid,"BRL","pt-BR",d)})]}),y.jsxs("p",{children:["Total Principal Pago: ",y.jsx("span",{className:"font-bold",children:de(P.totalPrincipalPaid,"BRL","pt-BR",d)})]}),y.jsx("h4",{className:"text-md font-semibold mt-2",children:"Ordem de Quitação:"}),y.jsx("ul",{className:"list-decimal list-inside text-sm space-y-1",children:P.payoffDetails.map(ce=>{const Ae=t.find(ze=>ze.id===ce.debtId);return y.jsxs("li",{children:[y.jsx("strong",{children:(Ae==null?void 0:Ae.name)||"Dívida Desconhecida"}),": Quitada em ",ce.monthsToPayoffThisDebt," meses. Juros pagos nesta dívida: ",de(ce.interestPaidThisDebt,"BRL","pt-BR",d),"."]},ce.debtId)})}),y.jsxs(he,{variant:"ghost",size:"sm",onClick:X,className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline mt-2",children:[y.jsx(ao,{className:"w-3.5 h-3.5 mr-1"})," Obter Resumo da IA sobre este plano"]})]})]}),t.filter(ce=>!ce.is_archived).length>0?y.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.filter(ce=>!ce.is_archived).sort((ce,Ae)=>ce.name.localeCompare(Ae.name)).map(ce=>y.jsx(Zoe,{debt:ce,onRegisterPayment:J,onEdit:B,onDelete:a,hasPayments:te(ce.id),isPrivacyModeEnabled:d},ce.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma dívida cadastrada. Adicione suas dívidas para começar a planejar!"}),h&&y.jsx(Yoe,{isOpen:h,onClose:()=>f(!1),onSave:v?ce=>i({...ce,id:v.id}):r,existingDebt:v}),b&&w&&y.jsx(Joe,{isOpen:b,onClose:()=>S(!1),onSave:o,debt:w,accounts:n}),y.jsx(fn,{isOpen:F,onClose:()=>L(!1),title:"Explicação da Estratégia (IA)",children:y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Buscando explicação da IA... Verifique o AI Coach para a resposta completa."})}),y.jsx(fn,{isOpen:z,onClose:()=>W(!1),title:"Resumo do Plano (IA)",children:y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Buscando resumo da IA... Verifique o AI Coach para a resposta completa."})})]})},ese=({profiles:t,onSelectProfile:e,onCreateProfile:n})=>{const[r,i]=R.useState(""),[a,o]=R.useState(""),l=()=>{if(!r.trim()){o("O nome do perfil não pode ser vazio.");return}if(t.some(c=>c.name.toLowerCase()===r.trim().toLowerCase())){o("Já existe um perfil com este nome.");return}o(""),n(r.trim()),i("")};return y.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background dark:bg-backgroundDark p-4 text-textBase dark:text-textBaseDark",children:[y.jsxs("div",{className:"w-full max-w-md bg-surface dark:bg-surfaceDark shadow-2xl rounded-xl p-8 space-y-8",children:[y.jsxs("div",{className:"text-center",children:[y.jsx(Eh,{className:"w-16 h-16 text-primary dark:text-primaryDark mx-auto mb-4"}),y.jsxs("h1",{className:"text-3xl font-bold text-textBase dark:text-textBaseDark",children:["Bem-vindo ao ",Ou]}),y.jsx("p",{className:"text-textMuted dark:text-textMutedDark mt-2",children:"Selecione um perfil ou crie um novo para começar."})]}),t.length>0&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark border-b border-borderBase dark:border-borderBaseDark pb-2",children:"Selecionar Perfil Existente"}),y.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.map(c=>y.jsx("li",{children:y.jsxs(he,{variant:"ghost",className:"w-full !justify-start text-left !py-3 !px-4 hover:!bg-primary/10 dark:hover:!bg-primaryDark/10",onClick:()=>e(c.id),children:[y.jsx(Eh,{className:"w-5 h-5 mr-3 flex-shrink-0"}),c.name]})},c.id))})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark border-b border-borderBase dark:border-borderBaseDark pb-2",children:t.length>0?"Ou Crie um Novo Perfil":"Crie seu Primeiro Perfil"}),y.jsx(Be,{id:"newProfileName",label:"Nome do Novo Perfil",value:r,onChange:c=>i(c.target.value),placeholder:"Ex: Finanças Pessoais, Meu Negócio",error:a}),y.jsx(he,{variant:"primary",onClick:l,className:"w-full !py-3",children:"Criar e Usar Perfil"})]})]}),y.jsx("footer",{className:"mt-8 text-center text-xs text-textMuted dark:text-textMutedDark",children:y.jsxs("p",{children:["© ",new Date().getFullYear()," ",Ou,". Todos os direitos reservados."]})})]})},tse=({onSubmit:t,onCancel:e,accounts:n,creditCards:r,categories:i,tags:a,initialTransaction:o,isPrivacyModeEnabled:l})=>{var K;const[c,d]=R.useState((o==null?void 0:o.type)||ve.EXPENSE),[h,f]=R.useState((o==null?void 0:o.amount.toString())||""),[v,_]=R.useState((o==null?void 0:o.category_id)||""),[b,S]=R.useState((o==null?void 0:o.description)||""),[w,A]=R.useState((o==null?void 0:o.date)||gt()),[I,k]=R.useState((o==null?void 0:o.account_id)||(n.length>0?n[0].id:"")),[O,E]=R.useState((o==null?void 0:o.to_account_id)||(n.length>1?n[1].id:"")),[P,N]=R.useState((o==null?void 0:o.tag_ids)||[]),[D,$]=R.useState({}),F=R.useMemo(()=>{const U=n.map(re=>({value:re.id,label:`Conta: ${re.name}`,type:"account"})),te=r.map(re=>({value:re.id,label:`Cartão: ${re.name}`,type:"creditCard"}));return[...U,...te]},[n,r]);R.useEffect(()=>{var U,te,re,j;o?(d(o.type),f(o.amount.toString()),_(o.category_id||""),S(o.description||""),A(o.date),k(o.account_id),E(o.to_account_id||""),N(o.tag_ids||[])):(d(ve.EXPENSE),f(""),_(((U=i.filter(X=>X.type===ve.EXPENSE)[0])==null?void 0:U.id)||""),S(""),A(gt()),k(((te=F[0])==null?void 0:te.value)||""),E(((re=n[1])==null?void 0:re.id)||((j=n[0])==null?void 0:j.id)||""),N([]))},[o,n,i,F]),R.useEffect(()=>{var te;if(c!==ve.TRANSFER){const re=i.find(j=>j.id===v);if(!re||re.type!==c){const j=i.find(X=>X.type===c);_((j==null?void 0:j.id)||"")}}const U=F.find(re=>re.value===I);(U==null?void 0:U.type)==="creditCard"&&(c===ve.INCOME||c===ve.TRANSFER)&&k(((te=n[0])==null?void 0:te.id)||"")},[c,v,i,I,n,F]);const L=()=>{const U={};(!h||parseFloat(h)<=0)&&(U.amount="Valor deve ser maior que zero.");const te=F.find(re=>re.value===I);return c!==ve.TRANSFER&&!v&&(te==null?void 0:te.type)!=="creditCard"&&(v||(U.categoryId="Categoria é obrigatória.")),I||(U.sourceId="Origem (Conta/Cartão) é obrigatória."),c===ve.TRANSFER&&!O&&(U.toAccountId="Conta de destino é obrigatória."),c===ve.TRANSFER&&I===O&&(U.toAccountId="Conta de origem e destino não podem ser iguais."),c===ve.TRANSFER&&(te==null?void 0:te.type)==="creditCard"&&(U.sourceId="Transferências não podem originar de um cartão de crédito."),w||(U.date="Data é obrigatória."),$(U),Object.keys(U).length===0},z=U=>{if(U.preventDefault(),!L())return;const te={...o?{id:o.id}:{},type:c,amount:parseFloat(h),category_id:c===ve.TRANSFER?void 0:v,description:b,date:w,account_id:I,to_account_id:c===ve.TRANSFER?O:void 0,tag_ids:P.length>0?P:void 0};t(te)},W=U=>{const te=U.target.options,re=[];for(let j=0,X=te.length;j<X;j++)te[j].selected&&re.push(te[j].value);N(re)},V=i.filter(U=>U.type===c),B=a.map(U=>({value:U.id,label:U.name})),J=((K=F.find(U=>U.value===I))==null?void 0:K.type)==="creditCard";return y.jsxs("form",{onSubmit:z,className:"space-y-4",children:[y.jsx(xt,{label:"Tipo",id:"type",options:Ph,value:c,onChange:U=>d(U.target.value)}),y.jsx(Be,{label:"Valor",id:"amount",type:"number",step:"0.01",value:h,onChange:U=>f(U.target.value),error:D.amount,placeholder:l?de(0,"BRL","pt-BR",!0).replace("0,00","Ex: 123.45"):"Ex: 123.45",required:!0}),c!==ve.TRANSFER&&y.jsx(xt,{label:J&&c===ve.EXPENSE?"Categoria (Opcional para Débito Direto no Cartão)":"Categoria",id:"category",options:V.map(U=>({value:U.id,label:U.name})),value:v,onChange:U=>_(U.target.value),error:D.categoryId,placeholder:"Selecione uma categoria",disabled:V.length===0}),y.jsx(Be,{label:"Descrição (Opcional)",id:"description",type:"text",value:b,onChange:U=>S(U.target.value),placeholder:J&&c===ve.EXPENSE?"Ex: Academia, Assinatura Spotify (será usado na fatura)":"Ex: Compras no mercado"}),y.jsx(Be,{label:"Data",id:"date",type:"date",value:w,onChange:U=>A(U.target.value),error:D.date,required:!0}),y.jsx(xt,{label:c===ve.TRANSFER?"Debitar de (Conta)":"Debitar de (Conta / Cartão)",id:"sourceId",options:c===ve.TRANSFER?F.filter(U=>U.type==="account"):F,value:I,onChange:U=>k(U.target.value),error:D.sourceId,placeholder:"Selecione uma origem",disabled:F.length===0}),c===ve.TRANSFER&&y.jsx(xt,{label:"Conta de Destino",id:"toAccountId",options:n.map(U=>({value:U.id,label:U.name})),value:O,onChange:U=>E(U.target.value),error:D.toAccountId,placeholder:"Selecione uma conta de destino",disabled:n.length===0}),a.length>0&&y.jsx(xt,{label:"Tags (Opcional, segure Ctrl/Cmd para selecionar várias)",id:"tags",multiple:!0,options:B,value:P,onChange:W,containerClassName:"h-auto",className:"h-24"}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(he,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(he,{type:"submit",variant:"primary",children:o?"Salvar Alterações":"Adicionar Transação"})]})]})},nse=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-6.364-.386 1.591-1.591M3 12h2.25m.386-6.364 1.591 1.591M12 12a2.25 2.25 0 0 0-2.25 2.25 2.25 2.25 0 0 0 2.25 2.25A2.25 2.25 0 0 0 14.25 12 2.25 2.25 0 0 0 12 12Z"})}),rse=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),ise=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25Z"})}),ase=({theme:t,setTheme:e})=>{const n=[{name:"light",label:"Claro",icon:y.jsx(nse,{className:"w-4 h-4"})},{name:"dark",label:"Escuro",icon:y.jsx(rse,{className:"w-4 h-4"})},{name:"system",label:"Sistema",icon:y.jsx(ise,{className:"w-4 h-4"})}];return y.jsxs("div",{className:"p-2",children:[y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark mb-1 px-1",children:"Tema"}),y.jsx("div",{className:"flex items-center justify-around bg-neutral/10 dark:bg-neutralDark/20 rounded-md p-1",children:n.map(r=>y.jsxs(he,{variant:"ghost",size:"sm",onClick:()=>e(r.name),className:`flex-1 !px-2 !py-1 text-xs transition-all duration-200 ease-in-out
                        ${t===r.name?"!bg-primary/20 dark:!bg-primaryDark/30 !text-primary dark:!text-primaryDark":"hover:!bg-neutral/20 dark:hover:!bg-neutralDark/30 !text-textMuted dark:!text-textMutedDark"}`,title:`Mudar para tema ${r.label.toLowerCase()}`,"aria-pressed":t===r.name,children:[H.cloneElement(r.icon,{className:"w-4 h-4 sm:mr-1"}),y.jsx("span",{className:"hidden sm:inline",children:r.label})]},r.name))})]})},ose=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),sse=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93s.844.179 1.259.038l.821-.393c.55-.263 1.18.055 1.39.606l.548 1.004c.21.55-.056 1.18-.607 1.39l-.82.393c-.415.198-.688.598-.758 1.038s.038.844.179 1.259l.393.821c.263.55.055 1.18-.606 1.39l-1.004.548c-.55.21-1.18-.056-1.39-.607l-.393-.82c-.198-.415-.598-.688-1.038-.758s-.844-.038-1.259.179l-.821.393c-.55.263-1.18-.055-1.39-.606l-.548-1.004c-.21-.55.056-1.18.607-1.39l.82-.393c.415-.198.688.598-.758-1.038s-.038-.844-.179-1.259l-.393-.821c-.263-.55-.055-1.18.606-1.39l1.004-.548c.55-.21 1.18.056 1.39.607l.393.82c.198.415.598.688 1.038.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433l-.002-.003c-.043-.073-.086-.146-.129-.219l-.821-.393c-.415-.198-.688-.598-.758-1.038s.038-.844-.179-1.259l.393-.821A.991.991 0 0 0 12 3c-.55 0-1.02.398-1.11.94l-.149.894c-.07.424-.384.764-.78.93s-.844.179-1.259.038l-.821-.393a.991.991 0 0 0-1.433.287l-.003.002c-.073.043-.146.086-.219.129l-.393.821c-.198-.415-.598-.688-1.038.758s-.844-.038-1.259.179l-.821.393a.991.991 0 0 0-.287 1.433l.002.003c.043.073.086.146.129.219l.821.393c.415.198.688.598.758 1.038s-.038.844-.179-1.259l-.393.821a.991.991 0 0 0 1.433.287l.003-.002c.073-.043.146-.086.219-.129l.393-.821c.198-.415.598-.688 1.038-.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433L10.343 3.94Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})]}),lse=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5L12 14.25L7.5 16.5V3.75m9 0H18A2.25 2.25 0 0 1 20.25 6v12A2.25 2.25 0 0 1 18 20.25H6A2.25 2.25 0 0 1 3.75 18V6A2.25 2.25 0 0 1 6 3.75h1.5m9 0h-9"})}),use=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),cse=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}),dse=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"})}),fse=()=>{const{addToast:t}=AM(),[e,n]=R.useState(null),[r,i]=R.useState(null),[a,o]=R.useState(!0),[l,c]=R.useState(null),[d,h]=R.useState([]),[f,v]=R.useState(null),[_,b]=R.useState(!0),[S,w]=R.useState("system"),[A,I]=R.useState(!1),[k,O]=R.useState({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),[E,P]=R.useState([]),[N,D]=R.useState([]),[$,F]=R.useState([]),[L,z]=R.useState([]),[W,V]=R.useState([]),[B,J]=R.useState([]),[K,U]=R.useState([]),[te,re]=R.useState([]),[j,X]=R.useState([]),[ue,Se]=R.useState([]),[ce,Ae]=R.useState([]),[ze,We]=R.useState([]),[ge,Ce]=R.useState([]),[Ve,pe]=R.useState([]),[ht,et]=R.useState([]),[Ct,bt]=R.useState(!0),[st,vt]=R.useState("DASHBOARD"),[Yn,Gt]=R.useState(!1),[rn,Ht]=R.useState(null),zr=R.useMemo(()=>{var G;return(f==null?void 0:f.name)||((G=r==null?void 0:r.user_metadata)==null?void 0:G.full_name)||(r==null?void 0:r.email)||"Usuário"},[r,f]);R.useEffect(()=>{o(!0),ke.auth.getSession().then(({data:{session:Z}})=>{n(Z),i((Z==null?void 0:Z.user)??null),o(!1)});const{data:{subscription:G}}=ke.auth.onAuthStateChange((Z,Q)=>{n(Q);const ie=(Q==null?void 0:Q.user)??null;i(ie),o(!1),Z==="SIGNED_OUT"?(v(null),h([]),vt("LOGIN"),P([]),D([]),F([]),z([]),V([]),J([]),U([]),re([]),X([]),Se([]),Ae([]),We([]),Ce([]),pe([]),et([]),w("system"),I(!1),O({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),t("Você foi desconectado.","info")):Z==="SIGNED_IN"&&ie&&$i(ie.id)});return()=>G.unsubscribe()},[t]);const $i=async G=>{b(!0);try{const{data:Z,error:Q}=await ke.from("user_profiles").select("*").eq("user_id",G);if(Q)throw Q;if(h(Z||[]),Z&&Z.length>0){const ie=localStorage.getItem(`lastActiveProfile_${G}`),le=Z.find(be=>be.id===ie);le?wo(le.id):v(null)}else v(null)}catch(Z){t(`Erro ao carregar perfis: ${Z.message}`,"error"),h([]),v(null)}finally{b(!1)}},Sa=async G=>{if(r)try{const{data:Z,error:Q}=await ke.from("user_profiles").insert({user_id:r.id,name:G}).select().single();if(Q)throw Q;Z&&(h(ie=>[...ie,Z]),wo(Z.id),t(`Perfil "${G}" criado com sucesso!`,"success"))}catch(Z){t(`Erro ao criar perfil: ${Z.message}`,"error")}},wo=G=>{const Z=d.find(Q=>Q.id===G);Z&&r&&(v(Z),localStorage.setItem(`lastActiveProfile_${r.id}`,G),vl(r.id,G))},vl=R.useCallback(async(G,Z)=>{var Q,ie;if(!Z){bt(!1);return}bt(!0);try{const{data:le,error:be}=await ke.from("user_preferences").select("*").eq("profile_id",Z).single();if(be&&be.code!=="PGRST116")throw be;if(le)w(le.theme),I(le.is_privacy_mode_enabled),O({isEnabled:le.ai_is_enabled,monthlyIncome:le.ai_monthly_income,autoBackupToFileEnabled:le.ai_auto_backup_enabled,apiKeyStatus:Fr()?"available":"unavailable"});else{const En={profile_id:Z,theme:"system",is_privacy_mode_enabled:!1,ai_is_enabled:!1,ai_monthly_income:null,ai_auto_backup_enabled:!1},{error:Xn}=await ke.from("user_preferences").insert({...En,user_id:G}).select();if(Xn)throw Xn;w(En.theme),I(En.is_privacy_mode_enabled),O({isEnabled:En.ai_is_enabled,monthlyIncome:En.ai_monthly_income,autoBackupToFileEnabled:En.ai_auto_backup_enabled,apiKeyStatus:Fr()?"available":"unavailable"})}const Me=En=>En.eq("user_id",G).eq("profile_id",Z),[Re,Ot,Le,Xt,Ln,Bn,sr,lr,si,li,ur,Cl,Mo,ui,kl]=await Promise.all([Me(ke.from("transactions").select("*")).order("date",{ascending:!1}),Me(ke.from("accounts").select("*")).order("name"),Me(ke.from("categories").select("*")).order("name"),Me(ke.from("credit_cards").select("*")).order("name"),Me(ke.from("installment_purchases").select("*")).order("purchase_date",{ascending:!1}),Me(ke.from("money_boxes").select("*")).order("name"),Me(ke.from("money_box_transactions").select("*")).order("date",{ascending:!1}),Me(ke.from("future_purchases").select("*")).order("created_at",{ascending:!1}),Me(ke.from("tags").select("*")).order("name"),Me(ke.from("recurring_transactions").select("*")).order("next_due_date"),Me(ke.from("loans").select("*")).order("loan_date",{ascending:!1}),Me(ke.from("loan_repayments").select("*")).order("repayment_date",{ascending:!1}),Me(ke.from("ai_insights").select("*")).order("timestamp",{ascending:!1}),Me(ke.from("debts").select("*")).order("created_at",{ascending:!1}),Me(ke.from("debt_payments").select("*")).order("payment_date",{ascending:!1})]);if(Re.error)throw Re.error;if(P(Re.data),Ot.error)throw Ot.error;if(D(Ot.data),Le.error)throw Le.error;if(F(Le.data),Xt.error)throw Xt.error;if(z(Xt.data),Ln.error)throw Ln.error;if(V(Ln.data),Bn.error)throw Bn.error;if(J(Bn.data),sr.error)throw sr.error;if(U(sr.data),lr.error)throw lr.error;if(re(lr.data),si.error)throw si.error;if(X(si.data),li.error)throw li.error;if(Se(li.data),ur.error)throw ur.error;if(Ae(ur.data),Cl.error)throw Cl.error;if(We(Cl.data),Mo.error)throw Mo.error;if(Ce(Mo.data),ui.error)throw ui.error;if(pe(ui.data),kl.error)throw kl.error;if(et(kl.data),((Q=Ot.data)==null?void 0:Q.length)===0){const En=SB(G).map(Tl=>({...Tl,user_id:G,profile_id:Z})),{data:Xn,error:qi}=await ke.from("accounts").insert(En).select();if(qi)throw qi;Xn&&D(Xn)}if(((ie=Le.data)==null?void 0:ie.length)===0){const En=wB(G).map(Tl=>({...Tl,user_id:G,profile_id:Z})),{data:Xn,error:qi}=await ke.from("categories").insert(En).select();if(qi)throw qi;Xn&&F(Xn)}vt("DASHBOARD")}catch(le){console.error("Error fetching user data:",le),t(`Erro ao carregar dados do perfil: ${le.message}`,"error")}finally{bt(!1)}},[t]);R.useEffect(()=>{r&&!a&&!f&&!_||r&&f||!r&&!a&&(vt("LOGIN"),bt(!1),v(null),h([]))},[r,a,f,_]),R.useEffect(()=>{r&&d.length===0&&!_&&!a&&$i(r.id)},[r,d,_,a]);const ai=R.useCallback(async(G,Z,Q,ie)=>{if(!Z)return;const{error:le}=await ke.from("user_preferences").update({[Q]:ie,updated_at:new Date().toISOString()}).eq("user_id",G).eq("profile_id",Z);le&&(console.error(`Error updating user preference ${Q}:`,le),t(`Erro ao salvar preferência (${Q}): ${le.message}`,"error"))},[t]),Ac=R.useCallback(G=>{w(G),r&&f&&ai(r.id,f.id,"theme",G)},[r,f,ai]),Ca=R.useCallback(()=>{const G=!A;I(G),r&&f&&ai(r.id,f.id,"is_privacy_mode_enabled",G)},[A,r,f,ai]),ka=R.useCallback(G=>{if(!r||!f)return;const Z={};G.isEnabled!==void 0&&(Z.ai_is_enabled=G.isEnabled),G.monthlyIncome!==void 0&&(Z.ai_monthly_income=G.monthlyIncome),G.autoBackupToFileEnabled!==void 0&&(Z.ai_auto_backup_enabled=G.autoBackupToFileEnabled),O(Q=>({...Q,...G})),Object.keys(Z).length>0&&ke.from("user_preferences").update({...Z,updated_at:new Date().toISOString()}).eq("user_id",r.id).eq("profile_id",f.id).then(({error:Q})=>{Q&&(console.error("Error updating AI config in preferences:",Q),t(`Erro ao salvar configurações da IA: ${Q.message}`,"error"))})},[r,f,t]);R.useEffect(()=>{const G=Z=>{Z==="dark"||Z==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};if(G(S),S==="system"){const Z=window.matchMedia("(prefers-color-scheme: dark)"),Q=()=>G("system");return Z.addEventListener("change",Q),()=>Z.removeEventListener("change",Q)}},[S]);const bp=async()=>{try{c(null);const{error:G}=await ke.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(G)throw G}catch(G){console.error("Error signing in with Google:",G),c(G.message||"Falha ao fazer login com Google."),t(G.message||"Falha ao fazer login com Google.","error")}},Pc=async()=>{try{const{error:G}=await ke.auth.signOut();if(G)throw G}catch(G){console.error("Error signing out:",G),t(G.message||"Falha ao sair.","error")}},Li=R.useCallback(G=>{if(!r||!f)return 0;const Z=N.find(Q=>Q.id===G);return Z?E.reduce((Q,ie)=>{if(ie.account_id===G){if(ie.type===ve.INCOME)return Q+ie.amount;if(ie.type===ve.EXPENSE||ie.type===ve.TRANSFER)return Q-ie.amount}else if(ie.to_account_id===G&&ie.type===ve.TRANSFER)return Q+ie.amount;return Q},Z.initial_balance):0},[N,E,r,f]),Ta=R.useCallback(G=>!r||!f?0:K.reduce((Z,Q)=>{if(Q.money_box_id===G){if(Q.type===$r.DEPOSIT)return Z+Q.amount;if(Q.type===$r.WITHDRAWAL)return Z-Q.amount}return Z},0),[K,r,f]),qt=R.useCallback(G=>{if(!r||!f)return null;const Z=new Date,Q=gt(Z),ie=Z.getDate(),le=Z.getFullYear(),be=Z.getMonth(),Me=new Date(le,be+1,0).getDate();let Re=[...E];if(G){const Le={id:`simulated-${Xe()}`,user_id:r.id,profile_id:f.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),type:G.type,amount:G.amount,date:G.date,description:G.description,account_id:"simulated_account"};Re.push(Le)}const Ot=()=>S==="system"?typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":S;return{currentDate:Q,dayOfMonth:ie,daysInMonth:Me,accounts:N.map(Le=>({id:Le.id,name:Le.name})),accountBalances:N.map(Le=>({accountId:Le.id,balance:Li(Le.id)})),categories:$.map(Le=>({id:Le.id,name:Le.name,type:Le.type,monthly_budget:Le.monthly_budget})),transactions:Re,moneyBoxes:B.map(Le=>({id:Le.id,name:Le.name,goal_amount:Le.goal_amount})),moneyBoxBalances:B.map(Le=>({moneyBoxId:Le.id,balance:Ta(Le.id)})),loans:ce.map(Le=>({id:Le.id,person_name:Le.person_name,total_amount_to_reimburse:Le.total_amount_to_reimburse})),outstandingLoanBalances:ce.map(Le=>{const Xt=ze.filter(Ln=>Ln.loan_id===Le.id).reduce((Ln,Bn)=>Ln+Bn.amount_paid,0);return{loanId:Le.id,outstanding:Le.total_amount_to_reimburse-Xt}}),recurringTransactions:ue.map(Le=>({id:Le.id,description:Le.description,amount:Le.amount,type:Le.type,next_due_date:Le.next_due_date,frequency:Le.frequency,category_id:Le.category_id})),futurePurchases:te.map(Le=>({id:Le.id,name:Le.name,estimated_cost:Le.estimated_cost,priority:Le.priority,status:Le.status})),theme:Ot(),monthlyIncome:k.monthlyIncome,simulatedTransactionData:G,debts:Ve}},[r,f,N,E,$,B,K,ce,ze,ue,te,S,k.monthlyIncome,Ve,Li,Ta]),wt=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("ai_insights").insert({...G,user_id:r.id,profile_id:f.id}).select().single();Q?t(`Erro ao salvar insight: ${Q.message}`,"error"):Z&&Ce(ie=>[Z,...ie].sort((le,be)=>new Date(be.timestamp).getTime()-new Date(le.timestamp).getTime()))},yl=R.useCallback(async()=>{if(!r||!f||!k.isEnabled||k.apiKeyStatus!=="available")return;const G=qt();if(!G)return;const Z={timestamp:new Date().toISOString(),type:"general_advice",content:"Buscando novo conselho...",is_read:!1,isLoading:!0},Q=Xe();Ce(le=>[{...Z,id:Q,user_id:r.id,profile_id:f.id,created_at:"",updated_at:""},...le]);const ie=await ooe(G);Ce(le=>le.filter(be=>be.id!==Q)),ie&&wt(ie)},[r,f,k.isEnabled,k.apiKeyStatus,qt,wt]),So=R.useCallback(async G=>{var Re,Ot,Le;if(!r||!f||!k.isEnabled||k.apiKeyStatus!=="available")return;const Z=qt();if(!Z)return;const Q={timestamp:new Date().toISOString(),type:"transaction_comment",content:`Analisando transação: ${G.description||G.type}...`,related_transaction_id:G.id,is_read:!1,isLoading:!0},ie=Xe();Ce(Xt=>[{...Q,id:ie,user_id:r.id,profile_id:f.id,created_at:"",updated_at:""},...Xt]);const le=G.category_id?(Re=$.find(Xt=>Xt.id===G.category_id))==null?void 0:Re.name:void 0,be=((Ot=N.find(Xt=>Xt.id===G.account_id))==null?void 0:Ot.name)||((Le=L.find(Xt=>Xt.id===G.account_id))==null?void 0:Le.name),Me=await soe(G,Z,le,be);Ce(Xt=>Xt.filter(Ln=>Ln.id!==ie)),Me&&wt(Me)},[r,f,k.isEnabled,k.apiKeyStatus,$,N,L,qt,wt]),Co=R.useCallback(async G=>{if(!r||!f||!k.isEnabled||k.apiKeyStatus!=="available"||G.type!==ve.EXPENSE||!G.category_id)return;const Z=qt();if(!Z)return;const Q=$.find(Re=>Re.id===G.category_id);if(!Q)return;const ie=G.date.substring(0,7),be=E.filter(Re=>Re.category_id===Q.id&&Re.date.startsWith(ie)&&Re.type===ve.EXPENSE).reduce((Re,Ot)=>Re+Ot.amount,0);if(Q.monthly_budget&&Q.monthly_budget>0){const Re=Q.monthly_budget/Z.daysInMonth*Z.dayOfMonth;if(be>Re*1.2){const Ot=await doe(Q.name,be,Re,Q.monthly_budget,Z,Q.id);Ot&&wt(Ot)}}if(Q.monthly_budget&&Q.monthly_budget>0&&Z.dayOfMonth>0){const Re=be/Z.dayOfMonth*Z.daysInMonth,Ot=Z.daysInMonth-Z.dayOfMonth;if(Re>Q.monthly_budget*1.05){const Le=await foe(Q.name,be,Q.monthly_budget,Ot,Re,Z,Q.id);Le&&wt(Le)}}const Me=E.filter(Re=>Re.category_id===Q.id&&Re.id!==G.id).slice(0,20);if(Me.length>5){const Re=await moe(G,Q.name,Me);Re&&wt(Re)}},[r,f,k,$,E,qt,wt]),Bi=R.useCallback(async()=>{if(!r||!f||!k.isEnabled||k.apiKeyStatus!=="available")return;const G=qt();if(!G)return;const Z={timestamp:new Date().toISOString(),type:"recurring_payment_candidate",content:"Analisando possíveis despesas recorrentes não cadastradas...",is_read:!1,isLoading:!0},Q=Xe();Ce(le=>[{...Z,id:Q,user_id:r.id,profile_id:f.id,created_at:"",updated_at:""},...le]);const ie=await hoe(E,ue,G);Ce(le=>le.filter(be=>be.id!==Q)),ie?wt(ie):t("Nenhuma nova despesa recorrente óbvia encontrada.","info")},[r,f,k,E,ue,qt,wt,t]),Fi=R.useCallback(async()=>{if(!r||!f||!k.isEnabled||k.apiKeyStatus!=="available")return;const G=qt();if(!G)return;const Z={timestamp:new Date().toISOString(),type:"saving_opportunity_suggestion",content:"Buscando oportunidades de economia...",is_read:!1,isLoading:!0},Q=Xe();Ce(le=>[{...Z,id:Q,user_id:r.id,profile_id:f.id,created_at:"",updated_at:""},...le]);const ie=await poe(E,$,B,G);Ce(le=>le.filter(be=>be.id!==Q)),ie?wt(ie):t("Nenhuma oportunidade clara de economia encontrada no momento.","info")},[r,f,k,E,$,B,qt,wt,t]),Ic=R.useCallback(async(G=30,Z)=>{if(!r||!f||!k.isEnabled||k.apiKeyStatus!=="available")return;const Q=qt(Z);if(!Q)return;const ie={timestamp:new Date().toISOString(),type:"cash_flow_projection",content:`Gerando projeção de fluxo de caixa para os próximos ${G} dias${Z?" (com simulação)":""}...`,is_read:!1,isLoading:!0},le=Xe();Ce(Me=>[{...ie,id:le,user_id:r.id,profile_id:f.id,created_at:"",updated_at:""},...Me]);const be=await goe(Q,G);Ce(Me=>Me.filter(Re=>Re.id!==le)),be&&wt(be)},[r,f,k,qt,wt]),Oc=R.useCallback(async(G,Z)=>{if(!r||!f||!k.isEnabled||k.apiKeyStatus!=="available"||!k.monthlyIncome)return t("Renda mensal não informada ou IA desativada.","warning"),null;const Q=qt();if(!Q)return null;const ie=$.find(Re=>Re.name===G&&Re.type===ve.EXPENSE),le={timestamp:new Date().toISOString(),type:"budget_recommendation",content:`Calculando sugestão de orçamento para ${G}...`,related_category_id:ie==null?void 0:ie.id,is_read:!1,isLoading:!0},be=Xe();Ce(Re=>[{...le,id:be,user_id:r.id,profile_id:f.id,created_at:"",updated_at:""},...Re]);const Me=await loe(G,k.monthlyIncome,Z,Q);if(Ce(Re=>Re.filter(Ot=>Ot.id!==be)),Me&&"suggestedBudget"in Me&&typeof Me.suggestedBudget=="number"){const Re={content:`Sugestão para ${G}: ${de(Me.suggestedBudget)}`,related_category_id:ie==null?void 0:ie.id,timestamp:new Date().toISOString(),type:"budget_recommendation",is_read:!1};return wt(Re),Me.suggestedBudget}else Me&&"content"in Me&&wt(Me);return null},[r,f,k,$,qt,t,wt]),Nc=R.useCallback(async G=>{if(!r||!f||!k.isEnabled||k.apiKeyStatus!=="available"){t("AI Coach desativado ou API Key indisponível.","warning");return}const Z=te.find(le=>le.id===G);if(!Z)return;const Q=qt();if(!Q)return;re(le=>le.map(be=>be.id===G?{...be,status:"AI_ANALYZING"}:be));const ie=await uoe(Z,Q);if(ie&&"analysisText"in ie){const{data:le,error:be}=await ke.from("future_purchases").update({status:ie.recommendedStatus,ai_analysis:ie.analysisText,ai_analyzed_at:new Date().toISOString()}).eq("id",G).eq("user_id",r.id).eq("profile_id",f.id).select().single();be||!le?(t(`Erro ao atualizar compra futura: ${(be==null?void 0:be.message)||"Falha"}`,"error"),re(Me=>Me.map(Re=>Re.id===G?{...Re,status:Z.status}:Re))):(re(Me=>Me.map(Re=>Re.id===G?le:Re)),t(`Análise para "${Z.name}" concluída!`,"info"))}else ie&&"content"in ie&&(wt(ie),re(le=>le.map(be=>be.id===G?{...be,status:Z.status}:be)))},[r,f,k,te,qt,t,wt]),Mc=async G=>{var le;if(!r||!f)return;const Z={...G,user_id:r.id,profile_id:f.id},{data:Q,error:ie}=await ke.from("transactions").insert(Z).select().single();if(ie){t(`Erro: ${ie.message}`,"error");return}if(Q&&(P(Me=>[Q,...Me].sort((Re,Ot)=>new Date(Ot.date).getTime()-new Date(Re.date).getTime())),Gt(!1),So(Q),Co(Q),t("Transação adicionada!","success"),L.some(Me=>Me.id===Q.account_id)&&Q.type===ve.EXPENSE)){const Me={credit_card_id:Q.account_id,description:`Débito na Fatura: ${Q.description||((le=$.find(Re=>Re.id===Q.category_id))==null?void 0:le.name)||"Despesa no Cartão"}`,purchase_date:Q.date,total_amount:Q.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:Q.id};await jc(Me,!1)}},Dc=async G=>{if(!r||!f||!G.id)return;if(!E.find(be=>be.id===G.id)){t("Erro: Transação original não encontrada.","error");return}const Q={...G,profile_id:f.id},{data:ie,error:le}=await ke.from("transactions").update(Q).eq("id",G.id).eq("user_id",r.id).eq("profile_id",f.id).select().single();if(le){t(`Erro ao atualizar transação: ${le.message}`,"error");return}ie&&(P(be=>be.map(Me=>Me.id===ie.id?ie:Me).sort((Me,Re)=>new Date(Re.date).getTime()-new Date(Me.date).getTime())),Gt(!1),Ht(null),So(ie),Co(ie),t("Transação atualizada!","success"))},xl=async G=>{if(!r||!f)return;const{error:Z}=await ke.from("transactions").delete().eq("id",G).eq("user_id",r.id).eq("profile_id",f.id);Z?t(`Erro: ${Z.message}`,"error"):(P(Q=>Q.filter(ie=>ie.id!==G)),t("Transação excluída!","success"))},Rc=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("accounts").insert({...G,user_id:r.id,profile_id:f.id}).select().single();Q?t(`Erro: ${Q.message}`,"error"):Z&&(D(ie=>[...ie,Z].sort((le,be)=>le.name.localeCompare(be.name))),t("Conta adicionada!","success"))},Ea=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("accounts").update({...G,profile_id:f.id}).eq("id",G.id).eq("user_id",r.id).eq("profile_id",f.id).select().single();Q?t(`Erro: ${Q.message}`,"error"):Z&&(D(ie=>ie.map(le=>le.id===Z.id?Z:le).sort((le,be)=>le.name.localeCompare(be.name))),t("Conta atualizada!","success"))},_l=async G=>{if(!(!r||!f)&&window.confirm("Excluir esta conta?")){const{error:Z}=await ke.from("accounts").delete().eq("id",G).eq("user_id",r.id).eq("profile_id",f.id);Z?t(`Erro: ${Z.message}`,"error"):(D(Q=>Q.filter(ie=>ie.id!==G)),t("Conta excluída!","success"))}},Aa=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("categories").insert({...G,user_id:r.id,profile_id:f.id}).select().single();Q?t(`Erro: ${Q.message}`,"error"):Z&&(F(ie=>[...ie,Z].sort((le,be)=>le.name.localeCompare(be.name))),t("Categoria adicionada!","success"))},wp=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("categories").update({...G,profile_id:f.id}).eq("id",G.id).eq("user_id",r.id).eq("profile_id",f.id).select().single();Q?t(`Erro: ${Q.message}`,"error"):Z&&(F(ie=>ie.map(le=>le.id===Z.id?Z:le).sort((le,be)=>le.name.localeCompare(be.name))),t("Categoria atualizada!","success"))},Pa=async G=>{if(!(!r||!f)&&window.confirm("Excluir esta categoria?")){const{error:Z}=await ke.from("categories").delete().eq("id",G).eq("user_id",r.id).eq("profile_id",f.id);Z?t(`Erro: ${Z.message}`,"error"):(F(Q=>Q.filter(ie=>ie.id!==G)),t("Categoria excluída!","success"))}},ko=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("credit_cards").insert({...G,user_id:r.id,profile_id:f.id}).select().single();Q?t(`Erro: ${Q.message}`,"error"):Z&&(z(ie=>[...ie,Z].sort((le,be)=>le.name.localeCompare(be.name))),t("Cartão adicionado!","success"))},To=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("credit_cards").update({...G,profile_id:f.id}).eq("id",G.id).eq("user_id",r.id).eq("profile_id",f.id).select().single();Q?t(`Erro: ${Q.message}`,"error"):Z&&(z(ie=>ie.map(le=>le.id===Z.id?Z:le).sort((le,be)=>le.name.localeCompare(be.name))),t("Cartão atualizado!","success"))},bl=async G=>{if(!(!r||!f)&&window.confirm("Excluir este cartão?")){const{error:Z}=await ke.from("credit_cards").delete().eq("id",G).eq("user_id",r.id).eq("profile_id",f.id);Z?t(`Erro: ${Z.message}`,"error"):(z(Q=>Q.filter(ie=>ie.id!==G)),t("Cartão excluído!","success"))}},jc=async(G,Z=!0)=>{if(!r||!f)return;const{data:Q,error:ie}=await ke.from("installment_purchases").insert({...G,user_id:r.id,profile_id:f.id}).select().single();ie?t(`Erro: ${ie.message}`,"error"):Q&&(V(le=>[...le,Q].sort((be,Me)=>new Date(Me.purchase_date).getTime()-new Date(be.purchase_date).getTime())),Z&&t("Compra parcelada adicionada!","success"))},$c=async(G,Z=!0)=>{if(!r||!f)return;const{data:Q,error:ie}=await ke.from("installment_purchases").update({...G,profile_id:f.id}).eq("id",G.id).eq("user_id",r.id).eq("profile_id",f.id).select().single();ie?t(`Erro: ${ie.message}`,"error"):Q&&(V(le=>le.map(be=>be.id===Q.id?Q:be).sort((be,Me)=>new Date(Me.purchase_date).getTime()-new Date(be.purchase_date).getTime())),Z&&t("Compra parcelada atualizada!","success"))},Sp=async(G,Z=!0)=>{if(!r||!f)return;const Q=W.find(le=>le.id===G);Q!=null&&Q.linked_transaction_id&&Q.number_of_installments===1&&Z&&await ke.from("transactions").delete().eq("id",Q.linked_transaction_id).eq("user_id",r.id).eq("profile_id",f.id);const{error:ie}=await ke.from("installment_purchases").delete().eq("id",G).eq("user_id",r.id).eq("profile_id",f.id)},oi=async G=>{if(!r||!f)return;const Z=W.find(Q=>Q.id===G);if(Z&&Z.installments_paid<Z.number_of_installments){const Q={...Z,installments_paid:Z.installments_paid+1};await $c(Q)}},Lc=async G=>{!r||!f||eligible.map(Z=>ke.from("installment_purchases").update({installments_paid:updatedPurchase.installments_paid,updated_at:new Date().toISOString()}).eq("id",Z.id).eq("user_id",r.id).eq("profile_id",f.id).select().single())},Bc=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("money_boxes").insert({...G,user_id:r.id,profile_id:f.id}).select().single();Q?t(`Erro: ${Q.message}`,"error"):Z&&(J(ie=>[...ie,Z].sort((le,be)=>le.name.localeCompare(be.name))),t("Caixinha adicionada!","success"))},Cp=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("money_boxes").update({...G,profile_id:f.id}).eq("id",G.id).eq("user_id",r.id).eq("profile_id",f.id).select().single();Q?t(`Erro: ${Q.message}`,"error"):Z&&(J(ie=>ie.map(le=>le.id===Z.id?Z:le).sort((le,be)=>le.name.localeCompare(be.name))),t("Caixinha atualizada!","success"))},Fc=async G=>{if(!(!r||!f)&&window.confirm("Excluir esta caixinha?")){const{error:Z}=await ke.from("money_boxes").delete().eq("id",G).eq("user_id",r.id).eq("profile_id",f.id);Z?t(`Erro ao excluir caixinha: ${Z.message}`,"error"):(J(Q=>Q.filter(ie=>ie.id!==G)),t("Caixinha excluída!","success"))}},qc=async(G,Z,Q)=>{!r||!f||(Z&&Q&&await ke.from("transactions").insert({user_id:r.id,profile_id:f.id}).select().single(),await ke.from("money_box_transactions").insert({...G,user_id:r.id,profile_id:f.id,linked_transaction_id:linkedTxId}).select().single())},Uc=async(G,Z)=>{if(!r||!f)return;const{error:Q}=await ke.from("money_box_transactions").delete().eq("id",G).eq("user_id",r.id).eq("profile_id",f.id)},Vc=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("tags").insert({...G,user_id:r.id,profile_id:f.id}).select().single();Q?t(`Erro: ${Q.message}`,"error"):Z&&(X(ie=>[...ie,Z].sort((le,be)=>le.name.localeCompare(be.name))),t("Tag adicionada!","success"))},kp=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("tags").update({...G,profile_id:f.id}).eq("id",G.id).eq("user_id",r.id).eq("profile_id",f.id).select().single();Q?t(`Erro: ${Q.message}`,"error"):Z&&(X(ie=>ie.map(le=>le.id===Z.id?Z:le).sort((le,be)=>le.name.localeCompare(be.name))),t("Tag atualizada!","success"))},Tp=async G=>{if(!(!r||!f)&&window.confirm("Excluir esta tag?")){const{error:Z}=await ke.from("tags").delete().eq("id",G).eq("user_id",r.id).eq("profile_id",f.id);Z?t(`Erro: ${Z.message}`,"error"):(X(Q=>Q.filter(ie=>ie.id!==G)),t("Tag excluída!","success"))}},Lt=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("recurring_transactions").insert({...G,user_id:r.id,profile_id:f.id}).select().single();Q?t(`Erro: ${Q.message}`,"error"):Z&&(Se(ie=>[...ie,Z].sort((le,be)=>new Date(le.next_due_date).getTime()-new Date(be.next_due_date).getTime())),t("Recorrência adicionada!","success"))},Ep=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("recurring_transactions").update({...G,profile_id:f.id}).eq("id",G.id).eq("user_id",r.id).eq("profile_id",f.id).select().single();Q?t(`Erro: ${Q.message}`,"error"):Z&&(Se(ie=>ie.map(le=>le.id===Z.id?Z:le).sort((le,be)=>new Date(le.next_due_date).getTime()-new Date(be.next_due_date).getTime())),t("Recorrência atualizada!","success"))},wl=async G=>{if(!(!r||!f)&&window.confirm("Excluir esta recorrência?")){const{error:Z}=await ke.from("recurring_transactions").delete().eq("id",G).eq("user_id",r.id).eq("profile_id",f.id);Z?t(`Erro: ${Z.message}`,"error"):(Se(Q=>Q.filter(ie=>ie.id!==G)),t("Recorrência excluída!","success"))}},zc=async()=>{if(!r||!f)return{count:0,errors:["Usuário ou perfil não ativo."]};for(const G of toProcess)await ke.from("recurring_transactions").update(updatedRTData).eq("id",G.id).eq("user_id",r.id).eq("profile_id",f.id);return{count,errors}},Eo=async(G,Z)=>{if(!r||!f)return;const Q={...G,user_id:r.id,profile_id:f.id,linked_expense_transaction_id:linkedExpenseTxId,linked_installment_purchase_id:linkedInstallmentPurchaseId},{data:ie,error:le}=await ke.from("loans").insert(Q).select().single()},Ap=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("loans").update({...G,profile_id:f.id}).eq("id",G.id).eq("user_id",r.id).eq("profile_id",f.id).select().single()},Gc=async G=>{if(!r||!f)return;const{error:Z}=await ke.from("loans").delete().eq("id",G).eq("user_id",r.id).eq("profile_id",f.id)},Ao=async(G,Z)=>{if(!r||!f)return;const Q={...G,user_id:r.id,profile_id:f.id,loan_id:Z,linked_income_transaction_id:incTx.id},{data:ie,error:le}=await ke.from("loan_repayments").insert(Q).select().single()},or=async G=>{if(!r||!f)return;const Z={...G,user_id:r.id,profile_id:f.id,status:"PLANNED"},{data:Q,error:ie}=await ke.from("future_purchases").insert(Z).select().single()},Pp=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("future_purchases").update({...finalUpdateData,profile_id:f.id}).eq("id",finalUpdateData.id).eq("user_id",r.id).eq("profile_id",f.id).select().single()},Jn=async G=>{if(!(!r||!f)&&window.confirm("Excluir esta compra futura?")){const{error:Z}=await ke.from("future_purchases").delete().eq("id",G).eq("user_id",r.id).eq("profile_id",f.id)}},Ip=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("ai_insights").update({is_read:G.is_read,profile_id:f.id}).eq("id",G.id).eq("user_id",r.id).eq("profile_id",f.id).select().single();Q?t(`Erro ao atualizar insight: ${Q.message}`,"error"):Z&&Ce(ie=>ie.map(le=>le.id===Z.id?Z:le).sort((le,be)=>new Date(be.timestamp).getTime()-new Date(le.timestamp).getTime()))},Op=async G=>{if(!r||!f)return;const Z={...G,user_id:r.id,profile_id:f.id,current_balance:G.initial_balance,is_archived:!1},{data:Q,error:ie}=await ke.from("debts").insert(Z).select().single()},Np=async G=>{if(!r||!f)return;const{data:Z,error:Q}=await ke.from("debts").update({...G,profile_id:f.id}).eq("id",G.id).eq("user_id",r.id).eq("profile_id",f.id).select().single()},Po=async G=>{if(!(!r||!f)&&window.confirm("Excluir esta dívida?")){const{error:Z}=await ke.from("debts").delete().eq("id",G).eq("user_id",r.id).eq("profile_id",f.id)}},Io=async(G,Z,Q)=>{if(!r||!f)return;const ie={...G,user_id:r.id,profile_id:f.id,linked_expense_transaction_id:linkedTxId},{data:le,error:be}=await ke.from("debt_payments").insert(ie).select().single()},Ia=R.useCallback(async G=>{if(!r||!f||!k.isEnabled||k.apiKeyStatus!=="available")return;const Z={timestamp:new Date().toISOString(),type:"debt_strategy_explanation",content:`Buscando explicação para a estratégia: ${G}...`,related_debt_strategy:G,is_read:!1,isLoading:!0},Q=Xe();Ce(le=>[{...Z,id:Q,user_id:r.id,profile_id:f.id,created_at:"",updated_at:""},...le]);const ie=await voe(G);Ce(le=>le.filter(be=>be.id!==Q)),ie?wt(ie):t(`Não foi possível buscar explicação para a estratégia ${G}`,"warning")},[r,f,k.isEnabled,k.apiKeyStatus,wt,t]),Oo=R.useCallback(async(G,Z,Q)=>{if(!r||!f||!k.isEnabled||k.apiKeyStatus!=="available")return;const ie=qt();if(!ie)return;const le={timestamp:new Date().toISOString(),type:"debt_projection_summary",content:"Gerando resumo da projeção de dívidas...",related_debt_strategy:Q,is_read:!1,isLoading:!0},be=Xe();Ce(Re=>[{...le,id:be,user_id:r.id,profile_id:f.id,created_at:"",updated_at:""},...Re]);const Me=await yoe(G,Z,ie);Ce(Re=>Re.filter(Ot=>Ot.id!==be)),Me?wt(Me):t("Não foi possível gerar resumo da projeção.","warning")},[r,f,k.isEnabled,k.apiKeyStatus,qt,wt,t]),Tn=({label:G,currentView:Z,targetView:Q,icon:ie,action:le})=>y.jsx("li",{children:y.jsxs("button",{onClick:()=>le(Q),className:`flex items-center w-full px-3 py-2.5 rounded-lg transition-colors duration-150
                    ${Z===Q?"bg-primary/10 dark:bg-primaryDark/20 text-primary dark:text-primaryDark font-semibold shadow-sm":"text-textMuted dark:text-textMutedDark hover:bg-neutral/10 dark:hover:bg-neutralDark/20 hover:text-textBase dark:hover:text-textBaseDark"}`,"aria-current":Z===Q?"page":void 0,children:[H.cloneElement(ie,{className:"w-5 h-5 mr-3 flex-shrink-0"}),G]})}),Mp=()=>y.jsxs("aside",{className:"w-64 bg-surface dark:bg-surfaceDark p-4 border-r border-borderBase dark:border-borderBaseDark flex flex-col justify-between shadow-md print:hidden",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"px-3 mb-6",children:[y.jsx("h2",{className:"text-xl font-bold text-primary dark:text-primaryDark tracking-tight",children:Ou}),y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Perfil: ",zr]})]}),y.jsx("nav",{children:y.jsxs("ul",{className:"space-y-1.5",children:[y.jsx(Tn,{label:"Painel Geral",currentView:st,targetView:"DASHBOARD",icon:y.jsx(JR,{}),action:vt}),y.jsx(Tn,{label:"Transações",currentView:st,targetView:"TRANSACTIONS",icon:y.jsx(ose,{}),action:vt}),y.jsx(Tn,{label:"Contas",currentView:st,targetView:"ACCOUNTS",icon:y.jsx(xb,{}),action:vt}),y.jsx(Tn,{label:"Cartões",currentView:st,targetView:"CREDIT_CARDS",icon:y.jsx(gp,{}),action:vt}),y.jsx(Tn,{label:"Categorias",currentView:st,targetView:"CATEGORIES",icon:y.jsx(XR,{}),action:vt}),y.jsx(Tn,{label:"Caixinhas",currentView:st,targetView:"MONEY_BOXES",icon:y.jsx(kj,{}),action:vt}),y.jsx(Tn,{label:"Recorrências",currentView:st,targetView:"RECURRING_TRANSACTIONS",icon:y.jsx(pc,{}),action:vt}),y.jsx(Tn,{label:"Empréstimos",currentView:st,targetView:"LOANS",icon:y.jsx(Tb,{}),action:vt}),y.jsx(Tn,{label:"Compras Futuras",currentView:st,targetView:"FUTURE_PURCHASES",icon:y.jsx($w,{}),action:vt}),y.jsx(Tn,{label:"Planejar Dívidas",currentView:st,targetView:"DEBT_PLANNER",icon:y.jsx(xb,{}),action:vt}),y.jsx(Tn,{label:"Tags",currentView:st,targetView:"TAGS",icon:y.jsx(lse,{}),action:vt}),Fr()&&y.jsx(Tn,{label:"AI Coach",currentView:st,targetView:"AI_COACH",icon:y.jsx(yb,{}),action:vt}),y.jsx(Tn,{label:"Dados",currentView:st,targetView:"DATA_MANAGEMENT",icon:y.jsx(sse,{}),action:vt})]})})]}),y.jsxs("div",{className:"mt-auto space-y-3 pt-4 border-t border-borderBase dark:border-borderBaseDark",children:[y.jsx(ase,{theme:S,setTheme:Ac}),y.jsxs(he,{variant:"ghost",onClick:Ca,className:"w-full !justify-start text-textMuted dark:text-textMutedDark",children:[A?y.jsx(cse,{className:"w-5 h-5 mr-2"}):y.jsx(use,{className:"w-5 h-5 mr-2"}),"Modo Privacidade ",A?"Ativado":"Desativado"]}),y.jsxs(he,{variant:"ghost",onClick:()=>v(null),className:"w-full !justify-start text-textMuted dark:text-textMutedDark",children:[y.jsx(Eh,{className:"w-5 h-5 mr-2"})," Trocar Perfil"]}),y.jsxs(he,{variant:"ghost",onClick:Pc,className:"w-full !justify-start text-destructive dark:text-destructiveDark",children:[y.jsx(dse,{className:"w-5 h-5 mr-2"})," Sair"]})]})]}),Sl=()=>y.jsxs("header",{className:"bg-surface dark:bg-surfaceDark p-4 border-b border-borderBase dark:border-borderBaseDark flex justify-between items-center print:hidden",children:[y.jsx("h1",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:st.replace(/_/g," ")}),y.jsxs(he,{onClick:()=>{Ht(null),Gt(!0)},variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"})," Nova Transação"]})]}),Hc=()=>{if(!f&&r)return y.jsx("div",{className:"p-4",children:"Carregando perfil ou selecione um perfil para continuar."});switch(st){case"DASHBOARD":return y.jsx(PO,{transactions:E,accounts:N,categories:$,creditCards:L,installmentPurchases:W,moneyBoxes:B,loans:ce,loanRepayments:ze,recurringTransactions:ue,onAddTransaction:()=>{Ht(null),Gt(!0)},calculateAccountBalance:Li,calculateMoneyBoxBalance:Ta,isPrivacyModeEnabled:A});case"TRANSACTIONS":return y.jsx(tX,{transactions:E,accounts:N,categories:$,tags:j,installmentPurchases:W,onAddTransaction:()=>{Ht(null),Gt(!0)},onEditTransaction:Z=>{Ht(Z),Gt(!0)},onDeleteTransaction:xl,isLoading:Ct,isPrivacyModeEnabled:A});case"ACCOUNTS":return y.jsx(rX,{accounts:N,transactions:E,onAddAccount:Rc,onUpdateAccount:Ea,onDeleteAccount:_l,calculateAccountBalance:Li,isPrivacyModeEnabled:A});case"CATEGORIES":return y.jsx(iX,{categories:$,transactions:E,aiConfig:k,onAddCategory:Aa,onUpdateCategory:wp,onDeleteCategory:Pa,onSuggestBudget:Oc,isPrivacyModeEnabled:A});case"CREDIT_CARDS":return y.jsx(xoe,{creditCards:L,installmentPurchases:W,aiConfig:k,onAddCreditCard:ko,onUpdateCreditCard:To,onDeleteCreditCard:bl,onAddInstallmentPurchase:jc,onUpdateInstallmentPurchase:$c,onDeleteInstallmentPurchase:Sp,onMarkInstallmentPaid:oi,onPayMonthlyInstallments:Lc,isPrivacyModeEnabled:A});case"MONEY_BOXES":return y.jsx(Coe,{moneyBoxes:B,moneyBoxTransactions:K,accounts:N,onAddMoneyBox:Bc,onUpdateMoneyBox:Cp,onDeleteMoneyBox:Fc,onAddMoneyBoxTransaction:qc,onDeleteMoneyBoxTransaction:Uc,calculateMoneyBoxBalance:Ta,isPrivacyModeEnabled:A});case"FUTURE_PURCHASES":return y.jsx(Noe,{futurePurchases:te,onAddFuturePurchase:or,onUpdateFuturePurchase:Pp,onDeleteFuturePurchase:Jn,onAnalyzeFuturePurchase:Nc,isPrivacyModeEnabled:A});case"TAGS":return y.jsx(joe,{tags:j,transactions:E,onAddTag:Vc,onUpdateTag:kp,onDeleteTag:Tp});case"RECURRING_TRANSACTIONS":return y.jsx(Foe,{recurringTransactions:ue,accounts:N,categories:$,onAddRecurringTransaction:Lt,onUpdateRecurringTransaction:Ep,onDeleteRecurringTransaction:wl,onProcessRecurringTransactions:zc,isPrivacyModeEnabled:A});case"LOANS":return y.jsx(zoe,{loans:ce,loanRepayments:ze,accounts:N,creditCards:L,onAddLoan:Eo,onUpdateLoan:Ap,onDeleteLoan:Gc,onAddLoanRepayment:Ao,isPrivacyModeEnabled:A});case"DEBT_PLANNER":return y.jsx(Qoe,{debts:Ve,debtPayments:ht,accounts:N,onAddDebt:Op,onUpdateDebt:Np,onDeleteDebt:Po,onAddDebtPayment:Io,onFetchDebtStrategyExplanation:Ia,onFetchDebtProjectionSummary:Oo,isPrivacyModeEnabled:A});case"AI_COACH":return y.jsx(Goe,{aiConfig:k,setAiConfig:ka,insights:ge,onFetchGeneralAdvice:yl,onUpdateInsight:Ip,isPrivacyModeEnabled:A,onFetchRecurringPaymentCandidates:Bi,onFetchSavingOpportunities:Fi,onFetchCashFlowProjection:Ic});case"DATA_MANAGEMENT":const G={theme:S,is_privacy_mode_enabled:A,ai_is_enabled:k.isEnabled,ai_monthly_income:k.monthlyIncome,ai_auto_backup_enabled:k.autoBackupToFileEnabled};return y.jsx(Moe,{allData:{transactions:E,accounts:N,categories:$,creditCards:L,installmentPurchases:W,moneyBoxes:B,moneyBoxTransactions:K,futurePurchases:te,tags:j,recurringTransactions:ue,loans:ce,loanRepayments:ze,aiInsights:ge,debts:Ve,debtPayments:ht},userPreferencesToExport:G,activeProfileName:zr,user:r});default:return t("Visualização não encontrada, redirecionando para o Painel.","warning"),vt("DASHBOARD"),y.jsx(PO,{transactions:E,accounts:N,categories:$,creditCards:L,installmentPurchases:W,moneyBoxes:B,loans:ce,loanRepayments:ze,recurringTransactions:ue,onAddTransaction:()=>{Ht(null),Gt(!0)},calculateAccountBalance:Li,calculateMoneyBoxBalance:Ta,isPrivacyModeEnabled:A})}},No=({message:G="Carregando..."})=>y.jsx("div",{className:"flex items-center justify-center h-screen bg-background dark:bg-backgroundDark",children:y.jsxs("div",{className:"p-6 bg-surface dark:bg-surfaceDark rounded-lg shadow-xl text-center",children:[y.jsx(pc,{className:"w-10 h-10 text-primary dark:text-primaryDark mx-auto animate-spin mb-3"}),y.jsx("p",{className:"text-lg text-textMuted dark:text-textMutedDark",children:G})]})});return a||r&&(_||f===null&&d.length>0&&!Ct)?y.jsx(No,{message:a?"Carregando sessão...":"Carregando perfis..."}):r?r&&!f&&!_?y.jsx(ese,{profiles:d,onSelectProfile:wo,onCreateProfile:Sa}):r&&f&&Ct?y.jsx(No,{message:`Carregando dados para ${zr}...`}):y.jsxs("div",{className:"flex h-screen bg-background dark:bg-backgroundDark text-textBase dark:text-textBaseDark print:block",children:[r&&f&&y.jsx(Mp,{}),y.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r&&f&&y.jsx(Sl,{}),y.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-0 bg-background dark:bg-backgroundDark print:overflow-visible",children:r&&f?Hc():null})]}),Yn&&r&&f&&y.jsx(fn,{isOpen:Yn,onClose:()=>{Gt(!1),Ht(null)},title:rn?"Editar Transação":"Nova Transação",size:"lg",children:y.jsx(tse,{onSubmit:rn?Dc:Mc,onCancel:()=>{Gt(!1),Ht(null)},accounts:N,creditCards:L,categories:$,tags:j,initialTransaction:rn,isPrivacyModeEnabled:A})})]}):y.jsx(Woe,{onLoginWithGoogle:bp,isLoading:a})},hse=()=>y.jsx(EB,{children:y.jsx(fse,{})}),Tj=document.getElementById("root");if(!Tj)throw new Error("Could not find root element to mount to");const pse=fL.createRoot(Tj);pse.render(y.jsx(H.StrictMode,{children:y.jsx(hse,{})}));
