(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rL(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var eg={exports:{}},Jl={},tg={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function iL(){if(W1)return it;W1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function v(j){return j===null||typeof j!="object"?null:(j=h&&j[h]||j["@@iterator"],typeof j=="function"?j:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function w(j,Q,de){this.props=j,this.context=Q,this.refs=S,this.updater=de||_}w.prototype.isReactComponent={},w.prototype.setState=function(j,Q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Q,"setState")},w.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function A(){}A.prototype=w.prototype;function O(j,Q,de){this.props=j,this.context=Q,this.refs=S,this.updater=de||_}var T=O.prototype=new A;T.constructor=O,b(T,w.prototype),T.isPureReactComponent=!0;var I=Array.isArray,E=Object.prototype.hasOwnProperty,P={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function D(j,Q,de){var _e,ce={},Ie=null,Je=null;if(Q!=null)for(_e in Q.ref!==void 0&&(Je=Q.ref),Q.key!==void 0&&(Ie=""+Q.key),Q)E.call(Q,_e)&&!N.hasOwnProperty(_e)&&(ce[_e]=Q[_e]);var He=arguments.length-2;if(He===1)ce.children=de;else if(1<He){for(var ye=Array(He),Be=0;Be<He;Be++)ye[Be]=arguments[Be+2];ce.children=ye}if(j&&j.defaultProps)for(_e in He=j.defaultProps,He)ce[_e]===void 0&&(ce[_e]=He[_e]);return{$$typeof:t,type:j,key:Ie,ref:Je,props:ce,_owner:P.current}}function B(j,Q){return{$$typeof:t,type:j.type,key:Q,ref:j.ref,props:j.props,_owner:j._owner}}function q(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function L(j){var Q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(de){return Q[de]})}var W=/\/+/g;function J(j,Q){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):Q.toString(36)}function H(j,Q,de,_e,ce){var Ie=typeof j;(Ie==="undefined"||Ie==="boolean")&&(j=null);var Je=!1;if(j===null)Je=!0;else switch(Ie){case"string":case"number":Je=!0;break;case"object":switch(j.$$typeof){case t:case e:Je=!0}}if(Je)return Je=j,ce=ce(Je),j=_e===""?"."+J(Je,0):_e,I(ce)?(de="",j!=null&&(de=j.replace(W,"$&/")+"/"),H(ce,Q,de,"",function(Be){return Be})):ce!=null&&(q(ce)&&(ce=B(ce,de+(!ce.key||Je&&Je.key===ce.key?"":(""+ce.key).replace(W,"$&/")+"/")+j)),Q.push(ce)),1;if(Je=0,_e=_e===""?".":_e+":",I(j))for(var He=0;He<j.length;He++){Ie=j[He];var ye=_e+J(Ie,He);Je+=H(Ie,Q,de,ye,ce)}else if(ye=v(j),typeof ye=="function")for(j=ye.call(j),He=0;!(Ie=j.next()).done;)Ie=Ie.value,ye=_e+J(Ie,He++),Je+=H(Ie,Q,de,ye,ce);else if(Ie==="object")throw Q=String(j),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Je}function F(j,Q,de){if(j==null)return j;var _e=[],ce=0;return H(j,_e,"","",function(Ie){return Q.call(de,Ie,ce++)}),_e}function Z(j){if(j._status===-1){var Q=j._result;Q=Q(),Q.then(function(de){(j._status===0||j._status===-1)&&(j._status=1,j._result=de)},function(de){(j._status===0||j._status===-1)&&(j._status=2,j._result=de)}),j._status===-1&&(j._status=0,j._result=Q)}if(j._status===1)return j._result.default;throw j._result}var Y={current:null},G={transition:null},te={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:G,ReactCurrentOwner:P};function ae(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:F,forEach:function(j,Q,de){F(j,function(){Q.apply(this,arguments)},de)},count:function(j){var Q=0;return F(j,function(){Q++}),Q},toArray:function(j){return F(j,function(Q){return Q})||[]},only:function(j){if(!q(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},it.Component=w,it.Fragment=n,it.Profiler=i,it.PureComponent=O,it.StrictMode=r,it.Suspense=c,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,it.act=ae,it.cloneElement=function(j,Q,de){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var _e=b({},j.props),ce=j.key,Ie=j.ref,Je=j._owner;if(Q!=null){if(Q.ref!==void 0&&(Ie=Q.ref,Je=P.current),Q.key!==void 0&&(ce=""+Q.key),j.type&&j.type.defaultProps)var He=j.type.defaultProps;for(ye in Q)E.call(Q,ye)&&!N.hasOwnProperty(ye)&&(_e[ye]=Q[ye]===void 0&&He!==void 0?He[ye]:Q[ye])}var ye=arguments.length-2;if(ye===1)_e.children=de;else if(1<ye){He=Array(ye);for(var Be=0;Be<ye;Be++)He[Be]=arguments[Be+2];_e.children=He}return{$$typeof:t,type:j.type,key:ce,ref:Ie,props:_e,_owner:Je}},it.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},it.createElement=D,it.createFactory=function(j){var Q=D.bind(null,j);return Q.type=j,Q},it.createRef=function(){return{current:null}},it.forwardRef=function(j){return{$$typeof:l,render:j}},it.isValidElement=q,it.lazy=function(j){return{$$typeof:f,_payload:{_status:-1,_result:j},_init:Z}},it.memo=function(j,Q){return{$$typeof:d,type:j,compare:Q===void 0?null:Q}},it.startTransition=function(j){var Q=G.transition;G.transition={};try{j()}finally{G.transition=Q}},it.unstable_act=ae,it.useCallback=function(j,Q){return Y.current.useCallback(j,Q)},it.useContext=function(j){return Y.current.useContext(j)},it.useDebugValue=function(){},it.useDeferredValue=function(j){return Y.current.useDeferredValue(j)},it.useEffect=function(j,Q){return Y.current.useEffect(j,Q)},it.useId=function(){return Y.current.useId()},it.useImperativeHandle=function(j,Q,de){return Y.current.useImperativeHandle(j,Q,de)},it.useInsertionEffect=function(j,Q){return Y.current.useInsertionEffect(j,Q)},it.useLayoutEffect=function(j,Q){return Y.current.useLayoutEffect(j,Q)},it.useMemo=function(j,Q){return Y.current.useMemo(j,Q)},it.useReducer=function(j,Q,de){return Y.current.useReducer(j,Q,de)},it.useRef=function(j){return Y.current.useRef(j)},it.useState=function(j){return Y.current.useState(j)},it.useSyncExternalStore=function(j,Q,de){return Y.current.useSyncExternalStore(j,Q,de)},it.useTransition=function(){return Y.current.useTransition()},it.version="18.3.1",it}var K1;function fb(){return K1||(K1=1,tg.exports=iL()),tg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function aL(){if(Y1)return Jl;Y1=1;var t=fb(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var f,h={},v=null,_=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(_=c.ref);for(f in c)r.call(c,f)&&!a.hasOwnProperty(f)&&(h[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:l,key:v,ref:_,props:h,_owner:i.current}}return Jl.Fragment=n,Jl.jsx=o,Jl.jsxs=o,Jl}var J1;function oL(){return J1||(J1=1,eg.exports=aL()),eg.exports}var y=oL(),R=fb();const K=mt(R);var Fd={},ng={exports:{}},Gn={},rg={exports:{}},ig={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function sL(){return X1||(X1=1,function(t){function e(G,te){var ae=G.length;G.push(te);e:for(;0<ae;){var j=ae-1>>>1,Q=G[j];if(0<i(Q,te))G[j]=te,G[ae]=Q,ae=j;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],ae=G.pop();if(ae!==te){G[0]=ae;e:for(var j=0,Q=G.length,de=Q>>>1;j<de;){var _e=2*(j+1)-1,ce=G[_e],Ie=_e+1,Je=G[Ie];if(0>i(ce,ae))Ie<Q&&0>i(Je,ce)?(G[j]=Je,G[Ie]=ae,j=Ie):(G[j]=ce,G[_e]=ae,j=_e);else if(Ie<Q&&0>i(Je,ae))G[j]=Je,G[Ie]=ae,j=Ie;else break e}}return te}function i(G,te){var ae=G.sortIndex-te.sortIndex;return ae!==0?ae:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,h=null,v=3,_=!1,b=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(G){for(var te=n(d);te!==null;){if(te.callback===null)r(d);else if(te.startTime<=G)r(d),te.sortIndex=te.expirationTime,e(c,te);else break;te=n(d)}}function I(G){if(S=!1,T(G),!b)if(n(c)!==null)b=!0,Z(E);else{var te=n(d);te!==null&&Y(I,te.startTime-G)}}function E(G,te){b=!1,S&&(S=!1,A(D),D=-1),_=!0;var ae=v;try{for(T(te),h=n(c);h!==null&&(!(h.expirationTime>te)||G&&!L());){var j=h.callback;if(typeof j=="function"){h.callback=null,v=h.priorityLevel;var Q=j(h.expirationTime<=te);te=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(c)&&r(c),T(te)}else r(c);h=n(c)}if(h!==null)var de=!0;else{var _e=n(d);_e!==null&&Y(I,_e.startTime-te),de=!1}return de}finally{h=null,v=ae,_=!1}}var P=!1,N=null,D=-1,B=5,q=-1;function L(){return!(t.unstable_now()-q<B)}function W(){if(N!==null){var G=t.unstable_now();q=G;var te=!0;try{te=N(!0,G)}finally{te?J():(P=!1,N=null)}}else P=!1}var J;if(typeof O=="function")J=function(){O(W)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=W,J=function(){F.postMessage(null)}}else J=function(){w(W,0)};function Z(G){N=G,P||(P=!0,J())}function Y(G,te){D=w(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){b||_||(b=!0,Z(E))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var ae=v;v=te;try{return G()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=v;v=G;try{return te()}finally{v=ae}},t.unstable_scheduleCallback=function(G,te,ae){var j=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?j+ae:j):ae=j,G){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ae+Q,G={id:f++,callback:te,priorityLevel:G,startTime:ae,expirationTime:Q,sortIndex:-1},ae>j?(G.sortIndex=ae,e(d,G),n(c)===null&&G===n(d)&&(S?(A(D),D=-1):S=!0,Y(I,ae-j))):(G.sortIndex=Q,e(c,G),b||_||(b=!0,Z(E))),G},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(G){var te=v;return function(){var ae=v;v=te;try{return G.apply(this,arguments)}finally{v=ae}}}}(ig)),ig}var Z1;function lL(){return Z1||(Z1=1,rg.exports=sL()),rg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1;function uL(){if(Q1)return Gn;Q1=1;var t=fb(),e=lL();function n(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,u){o(s,u),o(s+"Capture",u)}function o(s,u){for(i[s]=u,s=0;s<u.length;s++)r.add(u[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function v(s){return c.call(h,s)?!0:c.call(f,s)?!1:d.test(s)?h[s]=!0:(f[s]=!0,!1)}function _(s,u,p,x){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return x?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,u,p,x){if(u===null||typeof u>"u"||_(s,u,p,x))return!0;if(x)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function S(s,u,p,x,C,k,M){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=x,this.attributeNamespace=C,this.mustUseProperty=p,this.propertyName=s,this.type=u,this.sanitizeURL=k,this.removeEmptyString=M}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];w[u]=new S(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(A,O);w[u]=new S(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(A,O);w[u]=new S(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(A,O);w[u]=new S(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,u,p,x){var C=w.hasOwnProperty(u)?w[u]:null;(C!==null?C.type!==0:x||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,p,C,x)&&(p=null),x||C===null?v(u)&&(p===null?s.removeAttribute(u):s.setAttribute(u,""+p)):C.mustUseProperty?s[C.propertyName]=p===null?C.type===3?!1:"":p:(u=C.attributeName,x=C.attributeNamespace,p===null?s.removeAttribute(u):(C=C.type,p=C===3||C===4&&p===!0?"":""+p,x?s.setAttributeNS(x,u,p):s.setAttribute(u,p))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),P=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),L=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),G=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,j;function Q(s){if(j===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);j=u&&u[1]||""}return`
`+j+s}var de=!1;function _e(s,u){if(!s||de)return"";de=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(se){var x=se}Reflect.construct(s,[],u)}else{try{u.call()}catch(se){x=se}s.call(u.prototype)}else{try{throw Error()}catch(se){x=se}s()}}catch(se){if(se&&x&&typeof se.stack=="string"){for(var C=se.stack.split(`
`),k=x.stack.split(`
`),M=C.length-1,z=k.length-1;1<=M&&0<=z&&C[M]!==k[z];)z--;for(;1<=M&&0<=z;M--,z--)if(C[M]!==k[z]){if(M!==1||z!==1)do if(M--,z--,0>z||C[M]!==k[z]){var X=`
`+C[M].replace(" at new "," at ");return s.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",s.displayName)),X}while(1<=M&&0<=z);break}}}finally{de=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?Q(s):""}function ce(s){switch(s.tag){case 5:return Q(s.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return s=_e(s.type,!1),s;case 11:return s=_e(s.type.render,!1),s;case 1:return s=_e(s.type,!0),s;default:return""}}function Ie(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case P:return"Portal";case B:return"Profiler";case D:return"StrictMode";case J:return"Suspense";case H:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case q:return(s._context.displayName||"Context")+".Provider";case W:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return u=s.displayName||null,u!==null?u:Ie(s.type)||"Memo";case Z:u=s._payload,s=s._init;try{return Ie(s(u))}catch{}}return null}function Je(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(u);case 8:return u===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function He(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ye(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Be(s){var u=ye(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),x=""+s[u];if(!s.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,k=p.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return C.call(this)},set:function(M){x=""+M,k.call(this,M)}}),Object.defineProperty(s,u,{enumerable:p.enumerable}),{getValue:function(){return x},setValue:function(M){x=""+M},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function ze(s){s._valueTracker||(s._valueTracker=Be(s))}function fe(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var p=u.getValue(),x="";return s&&(x=ye(s)?s.checked?"true":"false":s.value),s=x,s!==p?(u.setValue(s),!0):!1}function yt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function tt(s,u){var p=u.checked;return ae({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function Tt(s,u){var p=u.defaultValue==null?"":u.defaultValue,x=u.checked!=null?u.checked:u.defaultChecked;p=He(u.value!=null?u.value:p),s._wrapperState={initialChecked:x,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function bt(s,u){u=u.checked,u!=null&&T(s,"checked",u,!1)}function qt(s,u){bt(s,u);var p=He(u.value),x=u.type;if(p!=null)x==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(x==="submit"||x==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?En(s,u.type,p):u.hasOwnProperty("defaultValue")&&En(s,u.type,He(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function Ln(s,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var x=u.type;if(!(x!=="submit"&&x!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,p||u===s.value||(s.value=u),s.defaultValue=u}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function En(s,u,p){(u!=="number"||yt(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var ar=Array.isArray;function yn(s,u,p,x){if(s=s.options,u){u={};for(var C=0;C<p.length;C++)u["$"+p[C]]=!0;for(p=0;p<s.length;p++)C=u.hasOwnProperty("$"+s[p].value),s[p].selected!==C&&(s[p].selected=C),C&&x&&(s[p].defaultSelected=!0)}else{for(p=""+He(p),u=null,C=0;C<s.length;C++){if(s[C].value===p){s[C].selected=!0,x&&(s[C].defaultSelected=!0);return}u!==null||s[C].disabled||(u=s[C])}u!==null&&(u.selected=!0)}}function Bn(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Di(s,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(n(92));if(ar(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),p=u}s._wrapperState={initialValue:He(p)}}function Ta(s,u){var p=He(u.value),x=He(u.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),u.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),x!=null&&(s.defaultValue=""+x)}function Sr(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function Ri(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ut(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?Ri(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var wt,wc=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,x,C){MSApp.execUnsafeLocalFunction(function(){return s(u,p,x,C)})}:s}(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(wt=wt||document.createElement("div"),wt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=wt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function ji(s,u){if(u){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=u;return}}s.textContent=u}var $i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pp=["Webkit","ms","Moz","O"];Object.keys($i).forEach(function(s){pp.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),$i[u]=$i[s]})});function Sc(s,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||$i.hasOwnProperty(s)&&$i[s]?(""+u).trim():u+"px"}function Cc(s,u){s=s.style;for(var p in u)if(u.hasOwnProperty(p)){var x=p.indexOf("--")===0,C=Sc(p,u[p],x);p==="float"&&(p="cssFloat"),x?s.setProperty(p,C):s[p]=C}}var mp=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pl(s,u){if(u){if(mp[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function wo(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ml=null;function gl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var vl=null,Li=null,Bi=null;function Tc(s){if(s=Rl(s)){if(typeof vl!="function")throw Error(n(280));var u=s.stateNode;u&&(u=ed(u),vl(s.stateNode,s.type,u))}}function kc(s){Li?Bi?Bi.push(s):Bi=[s]:Li=s}function Ec(){if(Li){var s=Li,u=Bi;if(Bi=Li=null,Tc(s),u)for(s=0;s<u.length;s++)Tc(u[s])}}function Ac(s,u){return s(u)}function Pc(){}var yl=!1;function Fi(s,u,p){if(yl)return s(u,p);yl=!0;try{return Ac(s,u,p)}finally{yl=!1,(Li!==null||Bi!==null)&&(Pc(),Ec())}}function ri(s,u){var p=s.stateNode;if(p===null)return null;var x=ed(p);if(x===null)return null;p=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var qi=!1;if(l)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){qi=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{qi=!1}function gp(s,u,p,x,C,k,M,z,X){var se=Array.prototype.slice.call(arguments,3);try{u.apply(p,se)}catch(ve){this.onError(ve)}}var Ea=!1,So=null,Co=!1,xl=null,vp={onError:function(s){Ea=!0,So=s}};function yp(s,u,p,x,C,k,M,z,X){Ea=!1,So=null,gp.apply(vp,arguments)}function xp(s,u,p,x,C,k,M,z,X){if(yp.apply(this,arguments),Ea){if(Ea){var se=So;Ea=!1,So=null}else throw Error(n(198));Co||(Co=!0,xl=se)}}function ii(s){var u=s,p=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(p=u.return),s=u.return;while(s)}return u.tag===3?p:null}function Oc(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function Ic(s){if(ii(s)!==s)throw Error(n(188))}function _p(s){var u=s.alternate;if(!u){if(u=ii(s),u===null)throw Error(n(188));return u!==s?null:s}for(var p=s,x=u;;){var C=p.return;if(C===null)break;var k=C.alternate;if(k===null){if(x=C.return,x!==null){p=x;continue}break}if(C.child===k.child){for(k=C.child;k;){if(k===p)return Ic(C),s;if(k===x)return Ic(C),u;k=k.sibling}throw Error(n(188))}if(p.return!==x.return)p=C,x=k;else{for(var M=!1,z=C.child;z;){if(z===p){M=!0,p=C,x=k;break}if(z===x){M=!0,x=C,p=k;break}z=z.sibling}if(!M){for(z=k.child;z;){if(z===p){M=!0,p=k,x=C;break}if(z===x){M=!0,x=k,p=C;break}z=z.sibling}if(!M)throw Error(n(189))}}if(p.alternate!==x)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?s:u}function Nc(s){return s=_p(s),s!==null?Mc(s):null}function Mc(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=Mc(s);if(u!==null)return u;s=s.sibling}return null}var Dc=e.unstable_scheduleCallback,Rc=e.unstable_cancelCallback,bp=e.unstable_shouldYield,wp=e.unstable_requestPaint,Lt=e.unstable_now,Sp=e.unstable_getCurrentPriorityLevel,_l=e.unstable_ImmediatePriority,jc=e.unstable_UserBlockingPriority,Aa=e.unstable_NormalPriority,Cp=e.unstable_LowPriority,$c=e.unstable_IdlePriority,To=null,or=null;function ko(s){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(To,s,void 0,(s.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:Bc,Lc=Math.log,Tp=Math.LN2;function Bc(s){return s>>>=0,s===0?32:31-(Lc(s)/Tp|0)|0}var Eo=64,Pa=4194304;function $(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function V(s,u){var p=s.pendingLanes;if(p===0)return 0;var x=0,C=s.suspendedLanes,k=s.pingedLanes,M=p&268435455;if(M!==0){var z=M&~C;z!==0?x=$(z):(k&=M,k!==0&&(x=$(k)))}else M=p&~C,M!==0?x=$(M):k!==0&&(x=$(k));if(x===0)return 0;if(u!==0&&u!==x&&(u&C)===0&&(C=x&-x,k=u&-u,C>=k||C===16&&(k&4194240)!==0))return u;if((x&4)!==0&&(x|=p&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=x;0<u;)p=31-Yn(u),C=1<<p,x|=s[p],u&=~C;return x}function U(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function re(s,u){for(var p=s.suspendedLanes,x=s.pingedLanes,C=s.expirationTimes,k=s.pendingLanes;0<k;){var M=31-Yn(k),z=1<<M,X=C[M];X===-1?((z&p)===0||(z&x)!==0)&&(C[M]=U(z,u)):X<=u&&(s.expiredLanes|=z),k&=~z}}function ne(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ue(){var s=Eo;return Eo<<=1,(Eo&4194240)===0&&(Eo=64),s}function Ee(s){for(var u=[],p=0;31>p;p++)u.push(s);return u}function xe(s,u,p){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-Yn(u),s[u]=p}function Fe(s,u){var p=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var x=s.eventTimes;for(s=s.expirationTimes;0<p;){var C=31-Yn(p),k=1<<C;u[C]=0,x[C]=-1,s[C]=-1,p&=~k}}function Ce(s,u){var p=s.entangledLanes|=u;for(s=s.entanglements;p;){var x=31-Yn(p),C=1<<x;C&u|s[x]&u&&(s[x]|=u),p&=~C}}var ke=0;function lt(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var fn,ai,Ao,Po,Oo,Oa=!1,Ui=[],sr=null,Jt=null,hn=null,Cr=new Map,oi=new Map,Vi=[],Tj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ow(s,u){switch(s){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Cr.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(u.pointerId)}}function bl(s,u,p,x,C,k){return s===null||s.nativeEvent!==k?(s={blockedOn:u,domEventName:p,eventSystemFlags:x,nativeEvent:k,targetContainers:[C]},u!==null&&(u=Rl(u),u!==null&&ai(u)),s):(s.eventSystemFlags|=x,u=s.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),s)}function kj(s,u,p,x,C){switch(u){case"focusin":return sr=bl(sr,s,u,p,x,C),!0;case"dragenter":return Jt=bl(Jt,s,u,p,x,C),!0;case"mouseover":return hn=bl(hn,s,u,p,x,C),!0;case"pointerover":var k=C.pointerId;return Cr.set(k,bl(Cr.get(k)||null,s,u,p,x,C)),!0;case"gotpointercapture":return k=C.pointerId,oi.set(k,bl(oi.get(k)||null,s,u,p,x,C)),!0}return!1}function Iw(s){var u=Ia(s.target);if(u!==null){var p=ii(u);if(p!==null){if(u=p.tag,u===13){if(u=Oc(p),u!==null){s.blockedOn=u,Oo(s.priority,function(){Ao(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Fc(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var p=Ep(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var x=new p.constructor(p.type,p);ml=x,p.target.dispatchEvent(x),ml=null}else return u=Rl(p),u!==null&&ai(u),s.blockedOn=p,!1;u.shift()}return!0}function Nw(s,u,p){Fc(s)&&p.delete(u)}function Ej(){Oa=!1,sr!==null&&Fc(sr)&&(sr=null),Jt!==null&&Fc(Jt)&&(Jt=null),hn!==null&&Fc(hn)&&(hn=null),Cr.forEach(Nw),oi.forEach(Nw)}function wl(s,u){s.blockedOn===u&&(s.blockedOn=null,Oa||(Oa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ej)))}function Sl(s){function u(C){return wl(C,s)}if(0<Ui.length){wl(Ui[0],s);for(var p=1;p<Ui.length;p++){var x=Ui[p];x.blockedOn===s&&(x.blockedOn=null)}}for(sr!==null&&wl(sr,s),Jt!==null&&wl(Jt,s),hn!==null&&wl(hn,s),Cr.forEach(u),oi.forEach(u),p=0;p<Vi.length;p++)x=Vi[p],x.blockedOn===s&&(x.blockedOn=null);for(;0<Vi.length&&(p=Vi[0],p.blockedOn===null);)Iw(p),p.blockedOn===null&&Vi.shift()}var Io=I.ReactCurrentBatchConfig,qc=!0;function Aj(s,u,p,x){var C=ke,k=Io.transition;Io.transition=null;try{ke=1,kp(s,u,p,x)}finally{ke=C,Io.transition=k}}function Pj(s,u,p,x){var C=ke,k=Io.transition;Io.transition=null;try{ke=4,kp(s,u,p,x)}finally{ke=C,Io.transition=k}}function kp(s,u,p,x){if(qc){var C=Ep(s,u,p,x);if(C===null)zp(s,u,x,Uc,p),Ow(s,x);else if(kj(C,s,u,p,x))x.stopPropagation();else if(Ow(s,x),u&4&&-1<Tj.indexOf(s)){for(;C!==null;){var k=Rl(C);if(k!==null&&fn(k),k=Ep(s,u,p,x),k===null&&zp(s,u,x,Uc,p),k===C)break;C=k}C!==null&&x.stopPropagation()}else zp(s,u,x,null,p)}}var Uc=null;function Ep(s,u,p,x){if(Uc=null,s=gl(x),s=Ia(s),s!==null)if(u=ii(s),u===null)s=null;else if(p=u.tag,p===13){if(s=Oc(u),s!==null)return s;s=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return Uc=s,null}function Mw(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sp()){case _l:return 1;case jc:return 4;case Aa:case Cp:return 16;case $c:return 536870912;default:return 16}default:return 16}}var zi=null,Ap=null,Vc=null;function Dw(){if(Vc)return Vc;var s,u=Ap,p=u.length,x,C="value"in zi?zi.value:zi.textContent,k=C.length;for(s=0;s<p&&u[s]===C[s];s++);var M=p-s;for(x=1;x<=M&&u[p-x]===C[k-x];x++);return Vc=C.slice(s,1<x?1-x:void 0)}function zc(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Gc(){return!0}function Rw(){return!1}function Jn(s){function u(p,x,C,k,M){this._reactName=p,this._targetInst=C,this.type=x,this.nativeEvent=k,this.target=M,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(p=s[z],this[z]=p?p(k):k[z]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Gc:Rw,this.isPropagationStopped=Rw,this}return ae(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Gc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Gc)},persist:function(){},isPersistent:Gc}),u}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pp=Jn(No),Cl=ae({},No,{view:0,detail:0}),Oj=Jn(Cl),Op,Ip,Tl,Hc=ae({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Tl&&(Tl&&s.type==="mousemove"?(Op=s.screenX-Tl.screenX,Ip=s.screenY-Tl.screenY):Ip=Op=0,Tl=s),Op)},movementY:function(s){return"movementY"in s?s.movementY:Ip}}),jw=Jn(Hc),Ij=ae({},Hc,{dataTransfer:0}),Nj=Jn(Ij),Mj=ae({},Cl,{relatedTarget:0}),Np=Jn(Mj),Dj=ae({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),Rj=Jn(Dj),jj=ae({},No,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$j=Jn(jj),Lj=ae({},No,{data:0}),$w=Jn(Lj),Bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uj(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=qj[s])?!!u[s]:!1}function Mp(){return Uj}var Vj=ae({},Cl,{key:function(s){if(s.key){var u=Bj[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=zc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fj[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mp,charCode:function(s){return s.type==="keypress"?zc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?zc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),zj=Jn(Vj),Gj=ae({},Hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lw=Jn(Gj),Hj=ae({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mp}),Wj=Jn(Hj),Kj=ae({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yj=Jn(Kj),Jj=ae({},Hc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xj=Jn(Jj),Zj=[9,13,27,32],Dp=l&&"CompositionEvent"in window,kl=null;l&&"documentMode"in document&&(kl=document.documentMode);var Qj=l&&"TextEvent"in window&&!kl,Bw=l&&(!Dp||kl&&8<kl&&11>=kl),Fw=" ",qw=!1;function Uw(s,u){switch(s){case"keyup":return Zj.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Mo=!1;function e$(s,u){switch(s){case"compositionend":return Vw(u);case"keypress":return u.which!==32?null:(qw=!0,Fw);case"textInput":return s=u.data,s===Fw&&qw?null:s;default:return null}}function t$(s,u){if(Mo)return s==="compositionend"||!Dp&&Uw(s,u)?(s=Dw(),Vc=Ap=zi=null,Mo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Bw&&u.locale!=="ko"?null:u.data;default:return null}}var n$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zw(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!n$[s.type]:u==="textarea"}function Gw(s,u,p,x){kc(x),u=Xc(u,"onChange"),0<u.length&&(p=new Pp("onChange","change",null,p,x),s.push({event:p,listeners:u}))}var El=null,Al=null;function r$(s){uS(s,0)}function Wc(s){var u=Lo(s);if(fe(u))return s}function i$(s,u){if(s==="change")return u}var Hw=!1;if(l){var Rp;if(l){var jp="oninput"in document;if(!jp){var Ww=document.createElement("div");Ww.setAttribute("oninput","return;"),jp=typeof Ww.oninput=="function"}Rp=jp}else Rp=!1;Hw=Rp&&(!document.documentMode||9<document.documentMode)}function Kw(){El&&(El.detachEvent("onpropertychange",Yw),Al=El=null)}function Yw(s){if(s.propertyName==="value"&&Wc(Al)){var u=[];Gw(u,Al,s,gl(s)),Fi(r$,u)}}function a$(s,u,p){s==="focusin"?(Kw(),El=u,Al=p,El.attachEvent("onpropertychange",Yw)):s==="focusout"&&Kw()}function o$(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wc(Al)}function s$(s,u){if(s==="click")return Wc(u)}function l$(s,u){if(s==="input"||s==="change")return Wc(u)}function u$(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var Tr=typeof Object.is=="function"?Object.is:u$;function Pl(s,u){if(Tr(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var p=Object.keys(s),x=Object.keys(u);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var C=p[x];if(!c.call(u,C)||!Tr(s[C],u[C]))return!1}return!0}function Jw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Xw(s,u){var p=Jw(s);s=0;for(var x;p;){if(p.nodeType===3){if(x=s+p.textContent.length,s<=u&&x>=u)return{node:p,offset:u-s};s=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Jw(p)}}function Zw(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?Zw(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function Qw(){for(var s=window,u=yt();u instanceof s.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)s=u.contentWindow;else break;u=yt(s.document)}return u}function $p(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function c$(s){var u=Qw(),p=s.focusedElem,x=s.selectionRange;if(u!==p&&p&&p.ownerDocument&&Zw(p.ownerDocument.documentElement,p)){if(x!==null&&$p(p)){if(u=x.start,s=x.end,s===void 0&&(s=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(s,p.value.length);else if(s=(u=p.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var C=p.textContent.length,k=Math.min(x.start,C);x=x.end===void 0?k:Math.min(x.end,C),!s.extend&&k>x&&(C=x,x=k,k=C),C=Xw(p,k);var M=Xw(p,x);C&&M&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==M.node||s.focusOffset!==M.offset)&&(u=u.createRange(),u.setStart(C.node,C.offset),s.removeAllRanges(),k>x?(s.addRange(u),s.extend(M.node,M.offset)):(u.setEnd(M.node,M.offset),s.addRange(u)))}}for(u=[],s=p;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)s=u[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var d$=l&&"documentMode"in document&&11>=document.documentMode,Do=null,Lp=null,Ol=null,Bp=!1;function eS(s,u,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Bp||Do==null||Do!==yt(x)||(x=Do,"selectionStart"in x&&$p(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ol&&Pl(Ol,x)||(Ol=x,x=Xc(Lp,"onSelect"),0<x.length&&(u=new Pp("onSelect","select",null,u,p),s.push({event:u,listeners:x}),u.target=Do)))}function Kc(s,u){var p={};return p[s.toLowerCase()]=u.toLowerCase(),p["Webkit"+s]="webkit"+u,p["Moz"+s]="moz"+u,p}var Ro={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},Fp={},tS={};l&&(tS=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Yc(s){if(Fp[s])return Fp[s];if(!Ro[s])return s;var u=Ro[s],p;for(p in u)if(u.hasOwnProperty(p)&&p in tS)return Fp[s]=u[p];return s}var nS=Yc("animationend"),rS=Yc("animationiteration"),iS=Yc("animationstart"),aS=Yc("transitionend"),oS=new Map,sS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(s,u){oS.set(s,u),a(u,[s])}for(var qp=0;qp<sS.length;qp++){var Up=sS[qp],f$=Up.toLowerCase(),h$=Up[0].toUpperCase()+Up.slice(1);Gi(f$,"on"+h$)}Gi(nS,"onAnimationEnd"),Gi(rS,"onAnimationIteration"),Gi(iS,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(aS,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function lS(s,u,p){var x=s.type||"unknown-event";s.currentTarget=p,xp(x,u,void 0,s),s.currentTarget=null}function uS(s,u){u=(u&4)!==0;for(var p=0;p<s.length;p++){var x=s[p],C=x.event;x=x.listeners;e:{var k=void 0;if(u)for(var M=x.length-1;0<=M;M--){var z=x[M],X=z.instance,se=z.currentTarget;if(z=z.listener,X!==k&&C.isPropagationStopped())break e;lS(C,z,se),k=X}else for(M=0;M<x.length;M++){if(z=x[M],X=z.instance,se=z.currentTarget,z=z.listener,X!==k&&C.isPropagationStopped())break e;lS(C,z,se),k=X}}}if(Co)throw s=xl,Co=!1,xl=null,s}function Nt(s,u){var p=u[Jp];p===void 0&&(p=u[Jp]=new Set);var x=s+"__bubble";p.has(x)||(cS(u,s,2,!1),p.add(x))}function Vp(s,u,p){var x=0;u&&(x|=4),cS(p,s,x,u)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Nl(s){if(!s[Jc]){s[Jc]=!0,r.forEach(function(p){p!=="selectionchange"&&(p$.has(p)||Vp(p,!1,s),Vp(p,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[Jc]||(u[Jc]=!0,Vp("selectionchange",!1,u))}}function cS(s,u,p,x){switch(Mw(u)){case 1:var C=Aj;break;case 4:C=Pj;break;default:C=kp}p=C.bind(null,u,p,s),C=void 0,!qi||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),x?C!==void 0?s.addEventListener(u,p,{capture:!0,passive:C}):s.addEventListener(u,p,!0):C!==void 0?s.addEventListener(u,p,{passive:C}):s.addEventListener(u,p,!1)}function zp(s,u,p,x,C){var k=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var M=x.tag;if(M===3||M===4){var z=x.stateNode.containerInfo;if(z===C||z.nodeType===8&&z.parentNode===C)break;if(M===4)for(M=x.return;M!==null;){var X=M.tag;if((X===3||X===4)&&(X=M.stateNode.containerInfo,X===C||X.nodeType===8&&X.parentNode===C))return;M=M.return}for(;z!==null;){if(M=Ia(z),M===null)return;if(X=M.tag,X===5||X===6){x=k=M;continue e}z=z.parentNode}}x=x.return}Fi(function(){var se=k,ve=gl(p),be=[];e:{var me=oS.get(s);if(me!==void 0){var Oe=Pp,De=s;switch(s){case"keypress":if(zc(p)===0)break e;case"keydown":case"keyup":Oe=zj;break;case"focusin":De="focus",Oe=Np;break;case"focusout":De="blur",Oe=Np;break;case"beforeblur":case"afterblur":Oe=Np;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=Nj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=Wj;break;case nS:case rS:case iS:Oe=Rj;break;case aS:Oe=Yj;break;case"scroll":Oe=Oj;break;case"wheel":Oe=Xj;break;case"copy":case"cut":case"paste":Oe=$j;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=Lw}var je=(u&4)!==0,Gt=!je&&s==="scroll",ie=je?me!==null?me+"Capture":null:me;je=[];for(var ee=se,oe;ee!==null;){oe=ee;var we=oe.stateNode;if(oe.tag===5&&we!==null&&(oe=we,ie!==null&&(we=ri(ee,ie),we!=null&&je.push(Ml(ee,we,oe)))),Gt)break;ee=ee.return}0<je.length&&(me=new Oe(me,De,null,p,ve),be.push({event:me,listeners:je}))}}if((u&7)===0){e:{if(me=s==="mouseover"||s==="pointerover",Oe=s==="mouseout"||s==="pointerout",me&&p!==ml&&(De=p.relatedTarget||p.fromElement)&&(Ia(De)||De[si]))break e;if((Oe||me)&&(me=ve.window===ve?ve:(me=ve.ownerDocument)?me.defaultView||me.parentWindow:window,Oe?(De=p.relatedTarget||p.toElement,Oe=se,De=De?Ia(De):null,De!==null&&(Gt=ii(De),De!==Gt||De.tag!==5&&De.tag!==6)&&(De=null)):(Oe=null,De=se),Oe!==De)){if(je=jw,we="onMouseLeave",ie="onMouseEnter",ee="mouse",(s==="pointerout"||s==="pointerover")&&(je=Lw,we="onPointerLeave",ie="onPointerEnter",ee="pointer"),Gt=Oe==null?me:Lo(Oe),oe=De==null?me:Lo(De),me=new je(we,ee+"leave",Oe,p,ve),me.target=Gt,me.relatedTarget=oe,we=null,Ia(ve)===se&&(je=new je(ie,ee+"enter",De,p,ve),je.target=oe,je.relatedTarget=Gt,we=je),Gt=we,Oe&&De)t:{for(je=Oe,ie=De,ee=0,oe=je;oe;oe=jo(oe))ee++;for(oe=0,we=ie;we;we=jo(we))oe++;for(;0<ee-oe;)je=jo(je),ee--;for(;0<oe-ee;)ie=jo(ie),oe--;for(;ee--;){if(je===ie||ie!==null&&je===ie.alternate)break t;je=jo(je),ie=jo(ie)}je=null}else je=null;Oe!==null&&dS(be,me,Oe,je,!1),De!==null&&Gt!==null&&dS(be,Gt,De,je,!0)}}e:{if(me=se?Lo(se):window,Oe=me.nodeName&&me.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&me.type==="file")var $e=i$;else if(zw(me))if(Hw)$e=l$;else{$e=o$;var qe=a$}else(Oe=me.nodeName)&&Oe.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&($e=s$);if($e&&($e=$e(s,se))){Gw(be,$e,p,ve);break e}qe&&qe(s,me,se),s==="focusout"&&(qe=me._wrapperState)&&qe.controlled&&me.type==="number"&&En(me,"number",me.value)}switch(qe=se?Lo(se):window,s){case"focusin":(zw(qe)||qe.contentEditable==="true")&&(Do=qe,Lp=se,Ol=null);break;case"focusout":Ol=Lp=Do=null;break;case"mousedown":Bp=!0;break;case"contextmenu":case"mouseup":case"dragend":Bp=!1,eS(be,p,ve);break;case"selectionchange":if(d$)break;case"keydown":case"keyup":eS(be,p,ve)}var Ue;if(Dp)e:{switch(s){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Mo?Uw(s,p)&&(Ye="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Ye="onCompositionStart");Ye&&(Bw&&p.locale!=="ko"&&(Mo||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Mo&&(Ue=Dw()):(zi=ve,Ap="value"in zi?zi.value:zi.textContent,Mo=!0)),qe=Xc(se,Ye),0<qe.length&&(Ye=new $w(Ye,s,null,p,ve),be.push({event:Ye,listeners:qe}),Ue?Ye.data=Ue:(Ue=Vw(p),Ue!==null&&(Ye.data=Ue)))),(Ue=Qj?e$(s,p):t$(s,p))&&(se=Xc(se,"onBeforeInput"),0<se.length&&(ve=new $w("onBeforeInput","beforeinput",null,p,ve),be.push({event:ve,listeners:se}),ve.data=Ue))}uS(be,u)})}function Ml(s,u,p){return{instance:s,listener:u,currentTarget:p}}function Xc(s,u){for(var p=u+"Capture",x=[];s!==null;){var C=s,k=C.stateNode;C.tag===5&&k!==null&&(C=k,k=ri(s,p),k!=null&&x.unshift(Ml(s,k,C)),k=ri(s,u),k!=null&&x.push(Ml(s,k,C))),s=s.return}return x}function jo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function dS(s,u,p,x,C){for(var k=u._reactName,M=[];p!==null&&p!==x;){var z=p,X=z.alternate,se=z.stateNode;if(X!==null&&X===x)break;z.tag===5&&se!==null&&(z=se,C?(X=ri(p,k),X!=null&&M.unshift(Ml(p,X,z))):C||(X=ri(p,k),X!=null&&M.push(Ml(p,X,z)))),p=p.return}M.length!==0&&s.push({event:u,listeners:M})}var m$=/\r\n?/g,g$=/\u0000|\uFFFD/g;function fS(s){return(typeof s=="string"?s:""+s).replace(m$,`
`).replace(g$,"")}function Zc(s,u,p){if(u=fS(u),fS(s)!==u&&p)throw Error(n(425))}function Qc(){}var Gp=null,Hp=null;function Wp(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Kp=typeof setTimeout=="function"?setTimeout:void 0,v$=typeof clearTimeout=="function"?clearTimeout:void 0,hS=typeof Promise=="function"?Promise:void 0,y$=typeof queueMicrotask=="function"?queueMicrotask:typeof hS<"u"?function(s){return hS.resolve(null).then(s).catch(x$)}:Kp;function x$(s){setTimeout(function(){throw s})}function Yp(s,u){var p=u,x=0;do{var C=p.nextSibling;if(s.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(x===0){s.removeChild(C),Sl(u);return}x--}else p!=="$"&&p!=="$?"&&p!=="$!"||x++;p=C}while(p);Sl(u)}function Hi(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function pS(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return s;u--}else p==="/$"&&u++}s=s.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Ur="__reactFiber$"+$o,Dl="__reactProps$"+$o,si="__reactContainer$"+$o,Jp="__reactEvents$"+$o,_$="__reactListeners$"+$o,b$="__reactHandles$"+$o;function Ia(s){var u=s[Ur];if(u)return u;for(var p=s.parentNode;p;){if(u=p[si]||p[Ur]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(s=pS(s);s!==null;){if(p=s[Ur])return p;s=pS(s)}return u}s=p,p=s.parentNode}return null}function Rl(s){return s=s[Ur]||s[si],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Lo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function ed(s){return s[Dl]||null}var Xp=[],Bo=-1;function Wi(s){return{current:s}}function Mt(s){0>Bo||(s.current=Xp[Bo],Xp[Bo]=null,Bo--)}function kt(s,u){Bo++,Xp[Bo]=s.current,s.current=u}var Ki={},xn=Wi(Ki),Fn=Wi(!1),Na=Ki;function Fo(s,u){var p=s.type.contextTypes;if(!p)return Ki;var x=s.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===u)return x.__reactInternalMemoizedMaskedChildContext;var C={},k;for(k in p)C[k]=u[k];return x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=C),C}function qn(s){return s=s.childContextTypes,s!=null}function td(){Mt(Fn),Mt(xn)}function mS(s,u,p){if(xn.current!==Ki)throw Error(n(168));kt(xn,u),kt(Fn,p)}function gS(s,u,p){var x=s.stateNode;if(u=u.childContextTypes,typeof x.getChildContext!="function")return p;x=x.getChildContext();for(var C in x)if(!(C in u))throw Error(n(108,Je(s)||"Unknown",C));return ae({},p,x)}function nd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ki,Na=xn.current,kt(xn,s),kt(Fn,Fn.current),!0}function vS(s,u,p){var x=s.stateNode;if(!x)throw Error(n(169));p?(s=gS(s,u,Na),x.__reactInternalMemoizedMergedChildContext=s,Mt(Fn),Mt(xn),kt(xn,s)):Mt(Fn),kt(Fn,p)}var li=null,rd=!1,Zp=!1;function yS(s){li===null?li=[s]:li.push(s)}function w$(s){rd=!0,yS(s)}function Yi(){if(!Zp&&li!==null){Zp=!0;var s=0,u=ke;try{var p=li;for(ke=1;s<p.length;s++){var x=p[s];do x=x(!0);while(x!==null)}li=null,rd=!1}catch(C){throw li!==null&&(li=li.slice(s+1)),Dc(_l,Yi),C}finally{ke=u,Zp=!1}}return null}var qo=[],Uo=0,id=null,ad=0,lr=[],ur=0,Ma=null,ui=1,ci="";function Da(s,u){qo[Uo++]=ad,qo[Uo++]=id,id=s,ad=u}function xS(s,u,p){lr[ur++]=ui,lr[ur++]=ci,lr[ur++]=Ma,Ma=s;var x=ui;s=ci;var C=32-Yn(x)-1;x&=~(1<<C),p+=1;var k=32-Yn(u)+C;if(30<k){var M=C-C%5;k=(x&(1<<M)-1).toString(32),x>>=M,C-=M,ui=1<<32-Yn(u)+C|p<<C|x,ci=k+s}else ui=1<<k|p<<C|x,ci=s}function Qp(s){s.return!==null&&(Da(s,1),xS(s,1,0))}function em(s){for(;s===id;)id=qo[--Uo],qo[Uo]=null,ad=qo[--Uo],qo[Uo]=null;for(;s===Ma;)Ma=lr[--ur],lr[ur]=null,ci=lr[--ur],lr[ur]=null,ui=lr[--ur],lr[ur]=null}var Xn=null,Zn=null,jt=!1,kr=null;function _S(s,u){var p=hr(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=s,u=s.deletions,u===null?(s.deletions=[p],s.flags|=16):u.push(p)}function bS(s,u){switch(s.tag){case 5:var p=s.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,Xn=s,Zn=Hi(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,Xn=s,Zn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=Ma!==null?{id:ui,overflow:ci}:null,s.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=hr(18,null,null,0),p.stateNode=u,p.return=s,s.child=p,Xn=s,Zn=null,!0):!1;default:return!1}}function tm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function nm(s){if(jt){var u=Zn;if(u){var p=u;if(!bS(s,u)){if(tm(s))throw Error(n(418));u=Hi(p.nextSibling);var x=Xn;u&&bS(s,u)?_S(x,p):(s.flags=s.flags&-4097|2,jt=!1,Xn=s)}}else{if(tm(s))throw Error(n(418));s.flags=s.flags&-4097|2,jt=!1,Xn=s}}}function wS(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Xn=s}function od(s){if(s!==Xn)return!1;if(!jt)return wS(s),jt=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!Wp(s.type,s.memoizedProps)),u&&(u=Zn)){if(tm(s))throw SS(),Error(n(418));for(;u;)_S(s,u),u=Hi(u.nextSibling)}if(wS(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(u===0){Zn=Hi(s.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}s=s.nextSibling}Zn=null}}else Zn=Xn?Hi(s.stateNode.nextSibling):null;return!0}function SS(){for(var s=Zn;s;)s=Hi(s.nextSibling)}function Vo(){Zn=Xn=null,jt=!1}function rm(s){kr===null?kr=[s]:kr.push(s)}var S$=I.ReactCurrentBatchConfig;function jl(s,u,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var x=p.stateNode}if(!x)throw Error(n(147,s));var C=x,k=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===k?u.ref:(u=function(M){var z=C.refs;M===null?delete z[k]:z[k]=M},u._stringRef=k,u)}if(typeof s!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,s))}return s}function sd(s,u){throw s=Object.prototype.toString.call(u),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function CS(s){var u=s._init;return u(s._payload)}function TS(s){function u(ie,ee){if(s){var oe=ie.deletions;oe===null?(ie.deletions=[ee],ie.flags|=16):oe.push(ee)}}function p(ie,ee){if(!s)return null;for(;ee!==null;)u(ie,ee),ee=ee.sibling;return null}function x(ie,ee){for(ie=new Map;ee!==null;)ee.key!==null?ie.set(ee.key,ee):ie.set(ee.index,ee),ee=ee.sibling;return ie}function C(ie,ee){return ie=ra(ie,ee),ie.index=0,ie.sibling=null,ie}function k(ie,ee,oe){return ie.index=oe,s?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<ee?(ie.flags|=2,ee):oe):(ie.flags|=2,ee)):(ie.flags|=1048576,ee)}function M(ie){return s&&ie.alternate===null&&(ie.flags|=2),ie}function z(ie,ee,oe,we){return ee===null||ee.tag!==6?(ee=Km(oe,ie.mode,we),ee.return=ie,ee):(ee=C(ee,oe),ee.return=ie,ee)}function X(ie,ee,oe,we){var $e=oe.type;return $e===N?ve(ie,ee,oe.props.children,we,oe.key):ee!==null&&(ee.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===Z&&CS($e)===ee.type)?(we=C(ee,oe.props),we.ref=jl(ie,ee,oe),we.return=ie,we):(we=Id(oe.type,oe.key,oe.props,null,ie.mode,we),we.ref=jl(ie,ee,oe),we.return=ie,we)}function se(ie,ee,oe,we){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==oe.containerInfo||ee.stateNode.implementation!==oe.implementation?(ee=Ym(oe,ie.mode,we),ee.return=ie,ee):(ee=C(ee,oe.children||[]),ee.return=ie,ee)}function ve(ie,ee,oe,we,$e){return ee===null||ee.tag!==7?(ee=Ua(oe,ie.mode,we,$e),ee.return=ie,ee):(ee=C(ee,oe),ee.return=ie,ee)}function be(ie,ee,oe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Km(""+ee,ie.mode,oe),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return oe=Id(ee.type,ee.key,ee.props,null,ie.mode,oe),oe.ref=jl(ie,null,ee),oe.return=ie,oe;case P:return ee=Ym(ee,ie.mode,oe),ee.return=ie,ee;case Z:var we=ee._init;return be(ie,we(ee._payload),oe)}if(ar(ee)||te(ee))return ee=Ua(ee,ie.mode,oe,null),ee.return=ie,ee;sd(ie,ee)}return null}function me(ie,ee,oe,we){var $e=ee!==null?ee.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return $e!==null?null:z(ie,ee,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case E:return oe.key===$e?X(ie,ee,oe,we):null;case P:return oe.key===$e?se(ie,ee,oe,we):null;case Z:return $e=oe._init,me(ie,ee,$e(oe._payload),we)}if(ar(oe)||te(oe))return $e!==null?null:ve(ie,ee,oe,we,null);sd(ie,oe)}return null}function Oe(ie,ee,oe,we,$e){if(typeof we=="string"&&we!==""||typeof we=="number")return ie=ie.get(oe)||null,z(ee,ie,""+we,$e);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case E:return ie=ie.get(we.key===null?oe:we.key)||null,X(ee,ie,we,$e);case P:return ie=ie.get(we.key===null?oe:we.key)||null,se(ee,ie,we,$e);case Z:var qe=we._init;return Oe(ie,ee,oe,qe(we._payload),$e)}if(ar(we)||te(we))return ie=ie.get(oe)||null,ve(ee,ie,we,$e,null);sd(ee,we)}return null}function De(ie,ee,oe,we){for(var $e=null,qe=null,Ue=ee,Ye=ee=0,an=null;Ue!==null&&Ye<oe.length;Ye++){Ue.index>Ye?(an=Ue,Ue=null):an=Ue.sibling;var dt=me(ie,Ue,oe[Ye],we);if(dt===null){Ue===null&&(Ue=an);break}s&&Ue&&dt.alternate===null&&u(ie,Ue),ee=k(dt,ee,Ye),qe===null?$e=dt:qe.sibling=dt,qe=dt,Ue=an}if(Ye===oe.length)return p(ie,Ue),jt&&Da(ie,Ye),$e;if(Ue===null){for(;Ye<oe.length;Ye++)Ue=be(ie,oe[Ye],we),Ue!==null&&(ee=k(Ue,ee,Ye),qe===null?$e=Ue:qe.sibling=Ue,qe=Ue);return jt&&Da(ie,Ye),$e}for(Ue=x(ie,Ue);Ye<oe.length;Ye++)an=Oe(Ue,ie,Ye,oe[Ye],we),an!==null&&(s&&an.alternate!==null&&Ue.delete(an.key===null?Ye:an.key),ee=k(an,ee,Ye),qe===null?$e=an:qe.sibling=an,qe=an);return s&&Ue.forEach(function(ia){return u(ie,ia)}),jt&&Da(ie,Ye),$e}function je(ie,ee,oe,we){var $e=te(oe);if(typeof $e!="function")throw Error(n(150));if(oe=$e.call(oe),oe==null)throw Error(n(151));for(var qe=$e=null,Ue=ee,Ye=ee=0,an=null,dt=oe.next();Ue!==null&&!dt.done;Ye++,dt=oe.next()){Ue.index>Ye?(an=Ue,Ue=null):an=Ue.sibling;var ia=me(ie,Ue,dt.value,we);if(ia===null){Ue===null&&(Ue=an);break}s&&Ue&&ia.alternate===null&&u(ie,Ue),ee=k(ia,ee,Ye),qe===null?$e=ia:qe.sibling=ia,qe=ia,Ue=an}if(dt.done)return p(ie,Ue),jt&&Da(ie,Ye),$e;if(Ue===null){for(;!dt.done;Ye++,dt=oe.next())dt=be(ie,dt.value,we),dt!==null&&(ee=k(dt,ee,Ye),qe===null?$e=dt:qe.sibling=dt,qe=dt);return jt&&Da(ie,Ye),$e}for(Ue=x(ie,Ue);!dt.done;Ye++,dt=oe.next())dt=Oe(Ue,ie,Ye,dt.value,we),dt!==null&&(s&&dt.alternate!==null&&Ue.delete(dt.key===null?Ye:dt.key),ee=k(dt,ee,Ye),qe===null?$e=dt:qe.sibling=dt,qe=dt);return s&&Ue.forEach(function(nL){return u(ie,nL)}),jt&&Da(ie,Ye),$e}function Gt(ie,ee,oe,we){if(typeof oe=="object"&&oe!==null&&oe.type===N&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case E:e:{for(var $e=oe.key,qe=ee;qe!==null;){if(qe.key===$e){if($e=oe.type,$e===N){if(qe.tag===7){p(ie,qe.sibling),ee=C(qe,oe.props.children),ee.return=ie,ie=ee;break e}}else if(qe.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===Z&&CS($e)===qe.type){p(ie,qe.sibling),ee=C(qe,oe.props),ee.ref=jl(ie,qe,oe),ee.return=ie,ie=ee;break e}p(ie,qe);break}else u(ie,qe);qe=qe.sibling}oe.type===N?(ee=Ua(oe.props.children,ie.mode,we,oe.key),ee.return=ie,ie=ee):(we=Id(oe.type,oe.key,oe.props,null,ie.mode,we),we.ref=jl(ie,ee,oe),we.return=ie,ie=we)}return M(ie);case P:e:{for(qe=oe.key;ee!==null;){if(ee.key===qe)if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){p(ie,ee.sibling),ee=C(ee,oe.children||[]),ee.return=ie,ie=ee;break e}else{p(ie,ee);break}else u(ie,ee);ee=ee.sibling}ee=Ym(oe,ie.mode,we),ee.return=ie,ie=ee}return M(ie);case Z:return qe=oe._init,Gt(ie,ee,qe(oe._payload),we)}if(ar(oe))return De(ie,ee,oe,we);if(te(oe))return je(ie,ee,oe,we);sd(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,ee!==null&&ee.tag===6?(p(ie,ee.sibling),ee=C(ee,oe),ee.return=ie,ie=ee):(p(ie,ee),ee=Km(oe,ie.mode,we),ee.return=ie,ie=ee),M(ie)):p(ie,ee)}return Gt}var zo=TS(!0),kS=TS(!1),ld=Wi(null),ud=null,Go=null,im=null;function am(){im=Go=ud=null}function om(s){var u=ld.current;Mt(ld),s._currentValue=u}function sm(s,u,p){for(;s!==null;){var x=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),s===p)break;s=s.return}}function Ho(s,u){ud=s,im=Go=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&u)!==0&&(Un=!0),s.firstContext=null)}function cr(s){var u=s._currentValue;if(im!==s)if(s={context:s,memoizedValue:u,next:null},Go===null){if(ud===null)throw Error(n(308));Go=s,ud.dependencies={lanes:0,firstContext:s}}else Go=Go.next=s;return u}var Ra=null;function lm(s){Ra===null?Ra=[s]:Ra.push(s)}function ES(s,u,p,x){var C=u.interleaved;return C===null?(p.next=p,lm(u)):(p.next=C.next,C.next=p),u.interleaved=p,di(s,x)}function di(s,u){s.lanes|=u;var p=s.alternate;for(p!==null&&(p.lanes|=u),p=s,s=s.return;s!==null;)s.childLanes|=u,p=s.alternate,p!==null&&(p.childLanes|=u),p=s,s=s.return;return p.tag===3?p.stateNode:null}var Ji=!1;function um(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AS(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function fi(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function Xi(s,u,p){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(ct&2)!==0){var C=x.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),x.pending=u,di(s,p)}return C=x.interleaved,C===null?(u.next=u,lm(x)):(u.next=C.next,C.next=u),x.interleaved=u,di(s,p)}function cd(s,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var x=u.lanes;x&=s.pendingLanes,p|=x,u.lanes=p,Ce(s,p)}}function PS(s,u){var p=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var C=null,k=null;if(p=p.firstBaseUpdate,p!==null){do{var M={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};k===null?C=k=M:k=k.next=M,p=p.next}while(p!==null);k===null?C=k=u:k=k.next=u}else C=k=u;p={baseState:x.baseState,firstBaseUpdate:C,lastBaseUpdate:k,shared:x.shared,effects:x.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=u:s.next=u,p.lastBaseUpdate=u}function dd(s,u,p,x){var C=s.updateQueue;Ji=!1;var k=C.firstBaseUpdate,M=C.lastBaseUpdate,z=C.shared.pending;if(z!==null){C.shared.pending=null;var X=z,se=X.next;X.next=null,M===null?k=se:M.next=se,M=X;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,z=ve.lastBaseUpdate,z!==M&&(z===null?ve.firstBaseUpdate=se:z.next=se,ve.lastBaseUpdate=X))}if(k!==null){var be=C.baseState;M=0,ve=se=X=null,z=k;do{var me=z.lane,Oe=z.eventTime;if((x&me)===me){ve!==null&&(ve=ve.next={eventTime:Oe,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var De=s,je=z;switch(me=u,Oe=p,je.tag){case 1:if(De=je.payload,typeof De=="function"){be=De.call(Oe,be,me);break e}be=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=je.payload,me=typeof De=="function"?De.call(Oe,be,me):De,me==null)break e;be=ae({},be,me);break e;case 2:Ji=!0}}z.callback!==null&&z.lane!==0&&(s.flags|=64,me=C.effects,me===null?C.effects=[z]:me.push(z))}else Oe={eventTime:Oe,lane:me,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ve===null?(se=ve=Oe,X=be):ve=ve.next=Oe,M|=me;if(z=z.next,z===null){if(z=C.shared.pending,z===null)break;me=z,z=me.next,me.next=null,C.lastBaseUpdate=me,C.shared.pending=null}}while(!0);if(ve===null&&(X=be),C.baseState=X,C.firstBaseUpdate=se,C.lastBaseUpdate=ve,u=C.shared.interleaved,u!==null){C=u;do M|=C.lane,C=C.next;while(C!==u)}else k===null&&(C.shared.lanes=0);La|=M,s.lanes=M,s.memoizedState=be}}function OS(s,u,p){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var x=s[u],C=x.callback;if(C!==null){if(x.callback=null,x=p,typeof C!="function")throw Error(n(191,C));C.call(x)}}}var $l={},Vr=Wi($l),Ll=Wi($l),Bl=Wi($l);function ja(s){if(s===$l)throw Error(n(174));return s}function cm(s,u){switch(kt(Bl,u),kt(Ll,s),kt(Vr,$l),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ut(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=Ut(u,s)}Mt(Vr),kt(Vr,u)}function Wo(){Mt(Vr),Mt(Ll),Mt(Bl)}function IS(s){ja(Bl.current);var u=ja(Vr.current),p=Ut(u,s.type);u!==p&&(kt(Ll,s),kt(Vr,p))}function dm(s){Ll.current===s&&(Mt(Vr),Mt(Ll))}var Bt=Wi(0);function fd(s){for(var u=s;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var fm=[];function hm(){for(var s=0;s<fm.length;s++)fm[s]._workInProgressVersionPrimary=null;fm.length=0}var hd=I.ReactCurrentDispatcher,pm=I.ReactCurrentBatchConfig,$a=0,Ft=null,Xt=null,nn=null,pd=!1,Fl=!1,ql=0,C$=0;function _n(){throw Error(n(321))}function mm(s,u){if(u===null)return!1;for(var p=0;p<u.length&&p<s.length;p++)if(!Tr(s[p],u[p]))return!1;return!0}function gm(s,u,p,x,C,k){if($a=k,Ft=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,hd.current=s===null||s.memoizedState===null?A$:P$,s=p(x,C),Fl){k=0;do{if(Fl=!1,ql=0,25<=k)throw Error(n(301));k+=1,nn=Xt=null,u.updateQueue=null,hd.current=O$,s=p(x,C)}while(Fl)}if(hd.current=vd,u=Xt!==null&&Xt.next!==null,$a=0,nn=Xt=Ft=null,pd=!1,u)throw Error(n(300));return s}function vm(){var s=ql!==0;return ql=0,s}function zr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Ft.memoizedState=nn=s:nn=nn.next=s,nn}function dr(){if(Xt===null){var s=Ft.alternate;s=s!==null?s.memoizedState:null}else s=Xt.next;var u=nn===null?Ft.memoizedState:nn.next;if(u!==null)nn=u,Xt=s;else{if(s===null)throw Error(n(310));Xt=s,s={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},nn===null?Ft.memoizedState=nn=s:nn=nn.next=s}return nn}function Ul(s,u){return typeof u=="function"?u(s):u}function ym(s){var u=dr(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var x=Xt,C=x.baseQueue,k=p.pending;if(k!==null){if(C!==null){var M=C.next;C.next=k.next,k.next=M}x.baseQueue=C=k,p.pending=null}if(C!==null){k=C.next,x=x.baseState;var z=M=null,X=null,se=k;do{var ve=se.lane;if(($a&ve)===ve)X!==null&&(X=X.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),x=se.hasEagerState?se.eagerState:s(x,se.action);else{var be={lane:ve,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};X===null?(z=X=be,M=x):X=X.next=be,Ft.lanes|=ve,La|=ve}se=se.next}while(se!==null&&se!==k);X===null?M=x:X.next=z,Tr(x,u.memoizedState)||(Un=!0),u.memoizedState=x,u.baseState=M,u.baseQueue=X,p.lastRenderedState=x}if(s=p.interleaved,s!==null){C=s;do k=C.lane,Ft.lanes|=k,La|=k,C=C.next;while(C!==s)}else C===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function xm(s){var u=dr(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var x=p.dispatch,C=p.pending,k=u.memoizedState;if(C!==null){p.pending=null;var M=C=C.next;do k=s(k,M.action),M=M.next;while(M!==C);Tr(k,u.memoizedState)||(Un=!0),u.memoizedState=k,u.baseQueue===null&&(u.baseState=k),p.lastRenderedState=k}return[k,x]}function NS(){}function MS(s,u){var p=Ft,x=dr(),C=u(),k=!Tr(x.memoizedState,C);if(k&&(x.memoizedState=C,Un=!0),x=x.queue,_m(jS.bind(null,p,x,s),[s]),x.getSnapshot!==u||k||nn!==null&&nn.memoizedState.tag&1){if(p.flags|=2048,Vl(9,RS.bind(null,p,x,C,u),void 0,null),rn===null)throw Error(n(349));($a&30)!==0||DS(p,u,C)}return C}function DS(s,u,p){s.flags|=16384,s={getSnapshot:u,value:p},u=Ft.updateQueue,u===null?(u={lastEffect:null,stores:null},Ft.updateQueue=u,u.stores=[s]):(p=u.stores,p===null?u.stores=[s]:p.push(s))}function RS(s,u,p,x){u.value=p,u.getSnapshot=x,$S(u)&&LS(s)}function jS(s,u,p){return p(function(){$S(u)&&LS(s)})}function $S(s){var u=s.getSnapshot;s=s.value;try{var p=u();return!Tr(s,p)}catch{return!0}}function LS(s){var u=di(s,1);u!==null&&Or(u,s,1,-1)}function BS(s){var u=zr();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:s},u.queue=s,s=s.dispatch=E$.bind(null,Ft,s),[u.memoizedState,s]}function Vl(s,u,p,x){return s={tag:s,create:u,destroy:p,deps:x,next:null},u=Ft.updateQueue,u===null?(u={lastEffect:null,stores:null},Ft.updateQueue=u,u.lastEffect=s.next=s):(p=u.lastEffect,p===null?u.lastEffect=s.next=s:(x=p.next,p.next=s,s.next=x,u.lastEffect=s)),s}function FS(){return dr().memoizedState}function md(s,u,p,x){var C=zr();Ft.flags|=s,C.memoizedState=Vl(1|u,p,void 0,x===void 0?null:x)}function gd(s,u,p,x){var C=dr();x=x===void 0?null:x;var k=void 0;if(Xt!==null){var M=Xt.memoizedState;if(k=M.destroy,x!==null&&mm(x,M.deps)){C.memoizedState=Vl(u,p,k,x);return}}Ft.flags|=s,C.memoizedState=Vl(1|u,p,k,x)}function qS(s,u){return md(8390656,8,s,u)}function _m(s,u){return gd(2048,8,s,u)}function US(s,u){return gd(4,2,s,u)}function VS(s,u){return gd(4,4,s,u)}function zS(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function GS(s,u,p){return p=p!=null?p.concat([s]):null,gd(4,4,zS.bind(null,u,s),p)}function bm(){}function HS(s,u){var p=dr();u=u===void 0?null:u;var x=p.memoizedState;return x!==null&&u!==null&&mm(u,x[1])?x[0]:(p.memoizedState=[s,u],s)}function WS(s,u){var p=dr();u=u===void 0?null:u;var x=p.memoizedState;return x!==null&&u!==null&&mm(u,x[1])?x[0]:(s=s(),p.memoizedState=[s,u],s)}function KS(s,u,p){return($a&21)===0?(s.baseState&&(s.baseState=!1,Un=!0),s.memoizedState=p):(Tr(p,u)||(p=ue(),Ft.lanes|=p,La|=p,s.baseState=!0),u)}function T$(s,u){var p=ke;ke=p!==0&&4>p?p:4,s(!0);var x=pm.transition;pm.transition={};try{s(!1),u()}finally{ke=p,pm.transition=x}}function YS(){return dr().memoizedState}function k$(s,u,p){var x=ta(s);if(p={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null},JS(s))XS(u,p);else if(p=ES(s,u,p,x),p!==null){var C=Pn();Or(p,s,x,C),ZS(p,u,x)}}function E$(s,u,p){var x=ta(s),C={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null};if(JS(s))XS(u,C);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=u.lastRenderedReducer,k!==null))try{var M=u.lastRenderedState,z=k(M,p);if(C.hasEagerState=!0,C.eagerState=z,Tr(z,M)){var X=u.interleaved;X===null?(C.next=C,lm(u)):(C.next=X.next,X.next=C),u.interleaved=C;return}}catch{}finally{}p=ES(s,u,C,x),p!==null&&(C=Pn(),Or(p,s,x,C),ZS(p,u,x))}}function JS(s){var u=s.alternate;return s===Ft||u!==null&&u===Ft}function XS(s,u){Fl=pd=!0;var p=s.pending;p===null?u.next=u:(u.next=p.next,p.next=u),s.pending=u}function ZS(s,u,p){if((p&4194240)!==0){var x=u.lanes;x&=s.pendingLanes,p|=x,u.lanes=p,Ce(s,p)}}var vd={readContext:cr,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},A$={readContext:cr,useCallback:function(s,u){return zr().memoizedState=[s,u===void 0?null:u],s},useContext:cr,useEffect:qS,useImperativeHandle:function(s,u,p){return p=p!=null?p.concat([s]):null,md(4194308,4,zS.bind(null,u,s),p)},useLayoutEffect:function(s,u){return md(4194308,4,s,u)},useInsertionEffect:function(s,u){return md(4,2,s,u)},useMemo:function(s,u){var p=zr();return u=u===void 0?null:u,s=s(),p.memoizedState=[s,u],s},useReducer:function(s,u,p){var x=zr();return u=p!==void 0?p(u):u,x.memoizedState=x.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},x.queue=s,s=s.dispatch=k$.bind(null,Ft,s),[x.memoizedState,s]},useRef:function(s){var u=zr();return s={current:s},u.memoizedState=s},useState:BS,useDebugValue:bm,useDeferredValue:function(s){return zr().memoizedState=s},useTransition:function(){var s=BS(!1),u=s[0];return s=T$.bind(null,s[1]),zr().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,p){var x=Ft,C=zr();if(jt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),rn===null)throw Error(n(349));($a&30)!==0||DS(x,u,p)}C.memoizedState=p;var k={value:p,getSnapshot:u};return C.queue=k,qS(jS.bind(null,x,k,s),[s]),x.flags|=2048,Vl(9,RS.bind(null,x,k,p,u),void 0,null),p},useId:function(){var s=zr(),u=rn.identifierPrefix;if(jt){var p=ci,x=ui;p=(x&~(1<<32-Yn(x)-1)).toString(32)+p,u=":"+u+"R"+p,p=ql++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=C$++,u=":"+u+"r"+p.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},P$={readContext:cr,useCallback:HS,useContext:cr,useEffect:_m,useImperativeHandle:GS,useInsertionEffect:US,useLayoutEffect:VS,useMemo:WS,useReducer:ym,useRef:FS,useState:function(){return ym(Ul)},useDebugValue:bm,useDeferredValue:function(s){var u=dr();return KS(u,Xt.memoizedState,s)},useTransition:function(){var s=ym(Ul)[0],u=dr().memoizedState;return[s,u]},useMutableSource:NS,useSyncExternalStore:MS,useId:YS,unstable_isNewReconciler:!1},O$={readContext:cr,useCallback:HS,useContext:cr,useEffect:_m,useImperativeHandle:GS,useInsertionEffect:US,useLayoutEffect:VS,useMemo:WS,useReducer:xm,useRef:FS,useState:function(){return xm(Ul)},useDebugValue:bm,useDeferredValue:function(s){var u=dr();return Xt===null?u.memoizedState=s:KS(u,Xt.memoizedState,s)},useTransition:function(){var s=xm(Ul)[0],u=dr().memoizedState;return[s,u]},useMutableSource:NS,useSyncExternalStore:MS,useId:YS,unstable_isNewReconciler:!1};function Er(s,u){if(s&&s.defaultProps){u=ae({},u),s=s.defaultProps;for(var p in s)u[p]===void 0&&(u[p]=s[p]);return u}return u}function wm(s,u,p,x){u=s.memoizedState,p=p(x,u),p=p==null?u:ae({},u,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var yd={isMounted:function(s){return(s=s._reactInternals)?ii(s)===s:!1},enqueueSetState:function(s,u,p){s=s._reactInternals;var x=Pn(),C=ta(s),k=fi(x,C);k.payload=u,p!=null&&(k.callback=p),u=Xi(s,k,C),u!==null&&(Or(u,s,C,x),cd(u,s,C))},enqueueReplaceState:function(s,u,p){s=s._reactInternals;var x=Pn(),C=ta(s),k=fi(x,C);k.tag=1,k.payload=u,p!=null&&(k.callback=p),u=Xi(s,k,C),u!==null&&(Or(u,s,C,x),cd(u,s,C))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var p=Pn(),x=ta(s),C=fi(p,x);C.tag=2,u!=null&&(C.callback=u),u=Xi(s,C,x),u!==null&&(Or(u,s,x,p),cd(u,s,x))}};function QS(s,u,p,x,C,k,M){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,k,M):u.prototype&&u.prototype.isPureReactComponent?!Pl(p,x)||!Pl(C,k):!0}function e1(s,u,p){var x=!1,C=Ki,k=u.contextType;return typeof k=="object"&&k!==null?k=cr(k):(C=qn(u)?Na:xn.current,x=u.contextTypes,k=(x=x!=null)?Fo(s,C):Ki),u=new u(p,k),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=yd,s.stateNode=u,u._reactInternals=s,x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=k),u}function t1(s,u,p,x){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,x),u.state!==s&&yd.enqueueReplaceState(u,u.state,null)}function Sm(s,u,p,x){var C=s.stateNode;C.props=p,C.state=s.memoizedState,C.refs={},um(s);var k=u.contextType;typeof k=="object"&&k!==null?C.context=cr(k):(k=qn(u)?Na:xn.current,C.context=Fo(s,k)),C.state=s.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(wm(s,u,k,p),C.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(u=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),u!==C.state&&yd.enqueueReplaceState(C,C.state,null),dd(s,p,C,x),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function Ko(s,u){try{var p="",x=u;do p+=ce(x),x=x.return;while(x);var C=p}catch(k){C=`
Error generating stack: `+k.message+`
`+k.stack}return{value:s,source:u,stack:C,digest:null}}function Cm(s,u,p){return{value:s,source:null,stack:p??null,digest:u??null}}function Tm(s,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var I$=typeof WeakMap=="function"?WeakMap:Map;function n1(s,u,p){p=fi(-1,p),p.tag=3,p.payload={element:null};var x=u.value;return p.callback=function(){Td||(Td=!0,Fm=x),Tm(s,u)},p}function r1(s,u,p){p=fi(-1,p),p.tag=3;var x=s.type.getDerivedStateFromError;if(typeof x=="function"){var C=u.value;p.payload=function(){return x(C)},p.callback=function(){Tm(s,u)}}var k=s.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(p.callback=function(){Tm(s,u),typeof x!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})}),p}function i1(s,u,p){var x=s.pingCache;if(x===null){x=s.pingCache=new I$;var C=new Set;x.set(u,C)}else C=x.get(u),C===void 0&&(C=new Set,x.set(u,C));C.has(p)||(C.add(p),s=G$.bind(null,s,u,p),u.then(s,s))}function a1(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function o1(s,u,p,x,C){return(s.mode&1)===0?(s===u?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=fi(-1,1),u.tag=2,Xi(p,u,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=C,s)}var N$=I.ReactCurrentOwner,Un=!1;function An(s,u,p,x){u.child=s===null?kS(u,null,p,x):zo(u,s.child,p,x)}function s1(s,u,p,x,C){p=p.render;var k=u.ref;return Ho(u,C),x=gm(s,u,p,x,k,C),p=vm(),s!==null&&!Un?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~C,hi(s,u,C)):(jt&&p&&Qp(u),u.flags|=1,An(s,u,x,C),u.child)}function l1(s,u,p,x,C){if(s===null){var k=p.type;return typeof k=="function"&&!Wm(k)&&k.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=k,u1(s,u,k,x,C)):(s=Id(p.type,null,x,u,u.mode,C),s.ref=u.ref,s.return=u,u.child=s)}if(k=s.child,(s.lanes&C)===0){var M=k.memoizedProps;if(p=p.compare,p=p!==null?p:Pl,p(M,x)&&s.ref===u.ref)return hi(s,u,C)}return u.flags|=1,s=ra(k,x),s.ref=u.ref,s.return=u,u.child=s}function u1(s,u,p,x,C){if(s!==null){var k=s.memoizedProps;if(Pl(k,x)&&s.ref===u.ref)if(Un=!1,u.pendingProps=x=k,(s.lanes&C)!==0)(s.flags&131072)!==0&&(Un=!0);else return u.lanes=s.lanes,hi(s,u,C)}return km(s,u,p,x,C)}function c1(s,u,p){var x=u.pendingProps,C=x.children,k=s!==null?s.memoizedState:null;if(x.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Jo,Qn),Qn|=p;else{if((p&1073741824)===0)return s=k!==null?k.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,kt(Jo,Qn),Qn|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=k!==null?k.baseLanes:p,kt(Jo,Qn),Qn|=x}else k!==null?(x=k.baseLanes|p,u.memoizedState=null):x=p,kt(Jo,Qn),Qn|=x;return An(s,u,C,p),u.child}function d1(s,u){var p=u.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function km(s,u,p,x,C){var k=qn(p)?Na:xn.current;return k=Fo(u,k),Ho(u,C),p=gm(s,u,p,x,k,C),x=vm(),s!==null&&!Un?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~C,hi(s,u,C)):(jt&&x&&Qp(u),u.flags|=1,An(s,u,p,C),u.child)}function f1(s,u,p,x,C){if(qn(p)){var k=!0;nd(u)}else k=!1;if(Ho(u,C),u.stateNode===null)_d(s,u),e1(u,p,x),Sm(u,p,x,C),x=!0;else if(s===null){var M=u.stateNode,z=u.memoizedProps;M.props=z;var X=M.context,se=p.contextType;typeof se=="object"&&se!==null?se=cr(se):(se=qn(p)?Na:xn.current,se=Fo(u,se));var ve=p.getDerivedStateFromProps,be=typeof ve=="function"||typeof M.getSnapshotBeforeUpdate=="function";be||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(z!==x||X!==se)&&t1(u,M,x,se),Ji=!1;var me=u.memoizedState;M.state=me,dd(u,x,M,C),X=u.memoizedState,z!==x||me!==X||Fn.current||Ji?(typeof ve=="function"&&(wm(u,p,ve,x),X=u.memoizedState),(z=Ji||QS(u,p,z,x,me,X,se))?(be||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(u.flags|=4194308)):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=X),M.props=x,M.state=X,M.context=se,x=z):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{M=u.stateNode,AS(s,u),z=u.memoizedProps,se=u.type===u.elementType?z:Er(u.type,z),M.props=se,be=u.pendingProps,me=M.context,X=p.contextType,typeof X=="object"&&X!==null?X=cr(X):(X=qn(p)?Na:xn.current,X=Fo(u,X));var Oe=p.getDerivedStateFromProps;(ve=typeof Oe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(z!==be||me!==X)&&t1(u,M,x,X),Ji=!1,me=u.memoizedState,M.state=me,dd(u,x,M,C);var De=u.memoizedState;z!==be||me!==De||Fn.current||Ji?(typeof Oe=="function"&&(wm(u,p,Oe,x),De=u.memoizedState),(se=Ji||QS(u,p,se,x,me,De,X)||!1)?(ve||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(x,De,X),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(x,De,X)),typeof M.componentDidUpdate=="function"&&(u.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof M.componentDidUpdate!="function"||z===s.memoizedProps&&me===s.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&me===s.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=De),M.props=x,M.state=De,M.context=X,x=se):(typeof M.componentDidUpdate!="function"||z===s.memoizedProps&&me===s.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&me===s.memoizedState||(u.flags|=1024),x=!1)}return Em(s,u,p,x,k,C)}function Em(s,u,p,x,C,k){d1(s,u);var M=(u.flags&128)!==0;if(!x&&!M)return C&&vS(u,p,!1),hi(s,u,k);x=u.stateNode,N$.current=u;var z=M&&typeof p.getDerivedStateFromError!="function"?null:x.render();return u.flags|=1,s!==null&&M?(u.child=zo(u,s.child,null,k),u.child=zo(u,null,z,k)):An(s,u,z,k),u.memoizedState=x.state,C&&vS(u,p,!0),u.child}function h1(s){var u=s.stateNode;u.pendingContext?mS(s,u.pendingContext,u.pendingContext!==u.context):u.context&&mS(s,u.context,!1),cm(s,u.containerInfo)}function p1(s,u,p,x,C){return Vo(),rm(C),u.flags|=256,An(s,u,p,x),u.child}var Am={dehydrated:null,treeContext:null,retryLane:0};function Pm(s){return{baseLanes:s,cachePool:null,transitions:null}}function m1(s,u,p){var x=u.pendingProps,C=Bt.current,k=!1,M=(u.flags&128)!==0,z;if((z=M)||(z=s!==null&&s.memoizedState===null?!1:(C&2)!==0),z?(k=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),kt(Bt,C&1),s===null)return nm(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((u.mode&1)===0?u.lanes=1:s.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(M=x.children,s=x.fallback,k?(x=u.mode,k=u.child,M={mode:"hidden",children:M},(x&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=M):k=Nd(M,x,0,null),s=Ua(s,x,p,null),k.return=u,s.return=u,k.sibling=s,u.child=k,u.child.memoizedState=Pm(p),u.memoizedState=Am,s):Om(u,M));if(C=s.memoizedState,C!==null&&(z=C.dehydrated,z!==null))return M$(s,u,M,x,z,C,p);if(k){k=x.fallback,M=u.mode,C=s.child,z=C.sibling;var X={mode:"hidden",children:x.children};return(M&1)===0&&u.child!==C?(x=u.child,x.childLanes=0,x.pendingProps=X,u.deletions=null):(x=ra(C,X),x.subtreeFlags=C.subtreeFlags&14680064),z!==null?k=ra(z,k):(k=Ua(k,M,p,null),k.flags|=2),k.return=u,x.return=u,x.sibling=k,u.child=x,x=k,k=u.child,M=s.child.memoizedState,M=M===null?Pm(p):{baseLanes:M.baseLanes|p,cachePool:null,transitions:M.transitions},k.memoizedState=M,k.childLanes=s.childLanes&~p,u.memoizedState=Am,x}return k=s.child,s=k.sibling,x=ra(k,{mode:"visible",children:x.children}),(u.mode&1)===0&&(x.lanes=p),x.return=u,x.sibling=null,s!==null&&(p=u.deletions,p===null?(u.deletions=[s],u.flags|=16):p.push(s)),u.child=x,u.memoizedState=null,x}function Om(s,u){return u=Nd({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function xd(s,u,p,x){return x!==null&&rm(x),zo(u,s.child,null,p),s=Om(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function M$(s,u,p,x,C,k,M){if(p)return u.flags&256?(u.flags&=-257,x=Cm(Error(n(422))),xd(s,u,M,x)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(k=x.fallback,C=u.mode,x=Nd({mode:"visible",children:x.children},C,0,null),k=Ua(k,C,M,null),k.flags|=2,x.return=u,k.return=u,x.sibling=k,u.child=x,(u.mode&1)!==0&&zo(u,s.child,null,M),u.child.memoizedState=Pm(M),u.memoizedState=Am,k);if((u.mode&1)===0)return xd(s,u,M,null);if(C.data==="$!"){if(x=C.nextSibling&&C.nextSibling.dataset,x)var z=x.dgst;return x=z,k=Error(n(419)),x=Cm(k,x,void 0),xd(s,u,M,x)}if(z=(M&s.childLanes)!==0,Un||z){if(x=rn,x!==null){switch(M&-M){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(x.suspendedLanes|M))!==0?0:C,C!==0&&C!==k.retryLane&&(k.retryLane=C,di(s,C),Or(x,s,C,-1))}return Hm(),x=Cm(Error(n(421))),xd(s,u,M,x)}return C.data==="$?"?(u.flags|=128,u.child=s.child,u=H$.bind(null,s),C._reactRetry=u,null):(s=k.treeContext,Zn=Hi(C.nextSibling),Xn=u,jt=!0,kr=null,s!==null&&(lr[ur++]=ui,lr[ur++]=ci,lr[ur++]=Ma,ui=s.id,ci=s.overflow,Ma=u),u=Om(u,x.children),u.flags|=4096,u)}function g1(s,u,p){s.lanes|=u;var x=s.alternate;x!==null&&(x.lanes|=u),sm(s.return,u,p)}function Im(s,u,p,x,C){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:C}:(k.isBackwards=u,k.rendering=null,k.renderingStartTime=0,k.last=x,k.tail=p,k.tailMode=C)}function v1(s,u,p){var x=u.pendingProps,C=x.revealOrder,k=x.tail;if(An(s,u,x.children,p),x=Bt.current,(x&2)!==0)x=x&1|2,u.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&g1(s,p,u);else if(s.tag===19)g1(s,p,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}if(kt(Bt,x),(u.mode&1)===0)u.memoizedState=null;else switch(C){case"forwards":for(p=u.child,C=null;p!==null;)s=p.alternate,s!==null&&fd(s)===null&&(C=p),p=p.sibling;p=C,p===null?(C=u.child,u.child=null):(C=p.sibling,p.sibling=null),Im(u,!1,C,p,k);break;case"backwards":for(p=null,C=u.child,u.child=null;C!==null;){if(s=C.alternate,s!==null&&fd(s)===null){u.child=C;break}s=C.sibling,C.sibling=p,p=C,C=s}Im(u,!0,p,null,k);break;case"together":Im(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function _d(s,u){(u.mode&1)===0&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function hi(s,u,p){if(s!==null&&(u.dependencies=s.dependencies),La|=u.lanes,(p&u.childLanes)===0)return null;if(s!==null&&u.child!==s.child)throw Error(n(153));if(u.child!==null){for(s=u.child,p=ra(s,s.pendingProps),u.child=p,p.return=u;s.sibling!==null;)s=s.sibling,p=p.sibling=ra(s,s.pendingProps),p.return=u;p.sibling=null}return u.child}function D$(s,u,p){switch(u.tag){case 3:h1(u),Vo();break;case 5:IS(u);break;case 1:qn(u.type)&&nd(u);break;case 4:cm(u,u.stateNode.containerInfo);break;case 10:var x=u.type._context,C=u.memoizedProps.value;kt(ld,x._currentValue),x._currentValue=C;break;case 13:if(x=u.memoizedState,x!==null)return x.dehydrated!==null?(kt(Bt,Bt.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?m1(s,u,p):(kt(Bt,Bt.current&1),s=hi(s,u,p),s!==null?s.sibling:null);kt(Bt,Bt.current&1);break;case 19:if(x=(p&u.childLanes)!==0,(s.flags&128)!==0){if(x)return v1(s,u,p);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),kt(Bt,Bt.current),x)break;return null;case 22:case 23:return u.lanes=0,c1(s,u,p)}return hi(s,u,p)}var y1,Nm,x1,_1;y1=function(s,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Nm=function(){},x1=function(s,u,p,x){var C=s.memoizedProps;if(C!==x){s=u.stateNode,ja(Vr.current);var k=null;switch(p){case"input":C=tt(s,C),x=tt(s,x),k=[];break;case"select":C=ae({},C,{value:void 0}),x=ae({},x,{value:void 0}),k=[];break;case"textarea":C=Bn(s,C),x=Bn(s,x),k=[];break;default:typeof C.onClick!="function"&&typeof x.onClick=="function"&&(s.onclick=Qc)}pl(p,x);var M;p=null;for(se in C)if(!x.hasOwnProperty(se)&&C.hasOwnProperty(se)&&C[se]!=null)if(se==="style"){var z=C[se];for(M in z)z.hasOwnProperty(M)&&(p||(p={}),p[M]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?k||(k=[]):(k=k||[]).push(se,null));for(se in x){var X=x[se];if(z=C!=null?C[se]:void 0,x.hasOwnProperty(se)&&X!==z&&(X!=null||z!=null))if(se==="style")if(z){for(M in z)!z.hasOwnProperty(M)||X&&X.hasOwnProperty(M)||(p||(p={}),p[M]="");for(M in X)X.hasOwnProperty(M)&&z[M]!==X[M]&&(p||(p={}),p[M]=X[M])}else p||(k||(k=[]),k.push(se,p)),p=X;else se==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,z=z?z.__html:void 0,X!=null&&z!==X&&(k=k||[]).push(se,X)):se==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(se,""+X):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(X!=null&&se==="onScroll"&&Nt("scroll",s),k||z===X||(k=[])):(k=k||[]).push(se,X))}p&&(k=k||[]).push("style",p);var se=k;(u.updateQueue=se)&&(u.flags|=4)}},_1=function(s,u,p,x){p!==x&&(u.flags|=4)};function zl(s,u){if(!jt)switch(s.tailMode){case"hidden":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function bn(s){var u=s.alternate!==null&&s.alternate.child===s.child,p=0,x=0;if(u)for(var C=s.child;C!==null;)p|=C.lanes|C.childLanes,x|=C.subtreeFlags&14680064,x|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)p|=C.lanes|C.childLanes,x|=C.subtreeFlags,x|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=x,s.childLanes=p,u}function R$(s,u,p){var x=u.pendingProps;switch(em(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(u),null;case 1:return qn(u.type)&&td(),bn(u),null;case 3:return x=u.stateNode,Wo(),Mt(Fn),Mt(xn),hm(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(s===null||s.child===null)&&(od(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,kr!==null&&(Vm(kr),kr=null))),Nm(s,u),bn(u),null;case 5:dm(u);var C=ja(Bl.current);if(p=u.type,s!==null&&u.stateNode!=null)x1(s,u,p,x,C),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!x){if(u.stateNode===null)throw Error(n(166));return bn(u),null}if(s=ja(Vr.current),od(u)){x=u.stateNode,p=u.type;var k=u.memoizedProps;switch(x[Ur]=u,x[Dl]=k,s=(u.mode&1)!==0,p){case"dialog":Nt("cancel",x),Nt("close",x);break;case"iframe":case"object":case"embed":Nt("load",x);break;case"video":case"audio":for(C=0;C<Il.length;C++)Nt(Il[C],x);break;case"source":Nt("error",x);break;case"img":case"image":case"link":Nt("error",x),Nt("load",x);break;case"details":Nt("toggle",x);break;case"input":Tt(x,k),Nt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!k.multiple},Nt("invalid",x);break;case"textarea":Di(x,k),Nt("invalid",x)}pl(p,k),C=null;for(var M in k)if(k.hasOwnProperty(M)){var z=k[M];M==="children"?typeof z=="string"?x.textContent!==z&&(k.suppressHydrationWarning!==!0&&Zc(x.textContent,z,s),C=["children",z]):typeof z=="number"&&x.textContent!==""+z&&(k.suppressHydrationWarning!==!0&&Zc(x.textContent,z,s),C=["children",""+z]):i.hasOwnProperty(M)&&z!=null&&M==="onScroll"&&Nt("scroll",x)}switch(p){case"input":ze(x),Ln(x,k,!0);break;case"textarea":ze(x),Sr(x);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(x.onclick=Qc)}x=C,u.updateQueue=x,x!==null&&(u.flags|=4)}else{M=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ri(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=M.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof x.is=="string"?s=M.createElement(p,{is:x.is}):(s=M.createElement(p),p==="select"&&(M=s,x.multiple?M.multiple=!0:x.size&&(M.size=x.size))):s=M.createElementNS(s,p),s[Ur]=u,s[Dl]=x,y1(s,u,!1,!1),u.stateNode=s;e:{switch(M=wo(p,x),p){case"dialog":Nt("cancel",s),Nt("close",s),C=x;break;case"iframe":case"object":case"embed":Nt("load",s),C=x;break;case"video":case"audio":for(C=0;C<Il.length;C++)Nt(Il[C],s);C=x;break;case"source":Nt("error",s),C=x;break;case"img":case"image":case"link":Nt("error",s),Nt("load",s),C=x;break;case"details":Nt("toggle",s),C=x;break;case"input":Tt(s,x),C=tt(s,x),Nt("invalid",s);break;case"option":C=x;break;case"select":s._wrapperState={wasMultiple:!!x.multiple},C=ae({},x,{value:void 0}),Nt("invalid",s);break;case"textarea":Di(s,x),C=Bn(s,x),Nt("invalid",s);break;default:C=x}pl(p,C),z=C;for(k in z)if(z.hasOwnProperty(k)){var X=z[k];k==="style"?Cc(s,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&wc(s,X)):k==="children"?typeof X=="string"?(p!=="textarea"||X!=="")&&ji(s,X):typeof X=="number"&&ji(s,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?X!=null&&k==="onScroll"&&Nt("scroll",s):X!=null&&T(s,k,X,M))}switch(p){case"input":ze(s),Ln(s,x,!1);break;case"textarea":ze(s),Sr(s);break;case"option":x.value!=null&&s.setAttribute("value",""+He(x.value));break;case"select":s.multiple=!!x.multiple,k=x.value,k!=null?yn(s,!!x.multiple,k,!1):x.defaultValue!=null&&yn(s,!!x.multiple,x.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=Qc)}switch(p){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return bn(u),null;case 6:if(s&&u.stateNode!=null)_1(s,u,s.memoizedProps,x);else{if(typeof x!="string"&&u.stateNode===null)throw Error(n(166));if(p=ja(Bl.current),ja(Vr.current),od(u)){if(x=u.stateNode,p=u.memoizedProps,x[Ur]=u,(k=x.nodeValue!==p)&&(s=Xn,s!==null))switch(s.tag){case 3:Zc(x.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Zc(x.nodeValue,p,(s.mode&1)!==0)}k&&(u.flags|=4)}else x=(p.nodeType===9?p:p.ownerDocument).createTextNode(x),x[Ur]=u,u.stateNode=x}return bn(u),null;case 13:if(Mt(Bt),x=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(jt&&Zn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)SS(),Vo(),u.flags|=98560,k=!1;else if(k=od(u),x!==null&&x.dehydrated!==null){if(s===null){if(!k)throw Error(n(318));if(k=u.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Ur]=u}else Vo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;bn(u),k=!1}else kr!==null&&(Vm(kr),kr=null),k=!0;if(!k)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(x=x!==null,x!==(s!==null&&s.memoizedState!==null)&&x&&(u.child.flags|=8192,(u.mode&1)!==0&&(s===null||(Bt.current&1)!==0?Zt===0&&(Zt=3):Hm())),u.updateQueue!==null&&(u.flags|=4),bn(u),null);case 4:return Wo(),Nm(s,u),s===null&&Nl(u.stateNode.containerInfo),bn(u),null;case 10:return om(u.type._context),bn(u),null;case 17:return qn(u.type)&&td(),bn(u),null;case 19:if(Mt(Bt),k=u.memoizedState,k===null)return bn(u),null;if(x=(u.flags&128)!==0,M=k.rendering,M===null)if(x)zl(k,!1);else{if(Zt!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(M=fd(s),M!==null){for(u.flags|=128,zl(k,!1),x=M.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),u.subtreeFlags=0,x=p,p=u.child;p!==null;)k=p,s=x,k.flags&=14680066,M=k.alternate,M===null?(k.childLanes=0,k.lanes=s,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=M.childLanes,k.lanes=M.lanes,k.child=M.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=M.memoizedProps,k.memoizedState=M.memoizedState,k.updateQueue=M.updateQueue,k.type=M.type,s=M.dependencies,k.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return kt(Bt,Bt.current&1|2),u.child}s=s.sibling}k.tail!==null&&Lt()>Xo&&(u.flags|=128,x=!0,zl(k,!1),u.lanes=4194304)}else{if(!x)if(s=fd(M),s!==null){if(u.flags|=128,x=!0,p=s.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),zl(k,!0),k.tail===null&&k.tailMode==="hidden"&&!M.alternate&&!jt)return bn(u),null}else 2*Lt()-k.renderingStartTime>Xo&&p!==1073741824&&(u.flags|=128,x=!0,zl(k,!1),u.lanes=4194304);k.isBackwards?(M.sibling=u.child,u.child=M):(p=k.last,p!==null?p.sibling=M:u.child=M,k.last=M)}return k.tail!==null?(u=k.tail,k.rendering=u,k.tail=u.sibling,k.renderingStartTime=Lt(),u.sibling=null,p=Bt.current,kt(Bt,x?p&1|2:p&1),u):(bn(u),null);case 22:case 23:return Gm(),x=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==x&&(u.flags|=8192),x&&(u.mode&1)!==0?(Qn&1073741824)!==0&&(bn(u),u.subtreeFlags&6&&(u.flags|=8192)):bn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function j$(s,u){switch(em(u),u.tag){case 1:return qn(u.type)&&td(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Wo(),Mt(Fn),Mt(xn),hm(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 5:return dm(u),null;case 13:if(Mt(Bt),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Vo()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return Mt(Bt),null;case 4:return Wo(),null;case 10:return om(u.type._context),null;case 22:case 23:return Gm(),null;case 24:return null;default:return null}}var bd=!1,wn=!1,$$=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Yo(s,u){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(x){Vt(s,u,x)}else p.current=null}function Mm(s,u,p){try{p()}catch(x){Vt(s,u,x)}}var b1=!1;function L$(s,u){if(Gp=qc,s=Qw(),$p(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var C=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{p.nodeType,k.nodeType}catch{p=null;break e}var M=0,z=-1,X=-1,se=0,ve=0,be=s,me=null;t:for(;;){for(var Oe;be!==p||C!==0&&be.nodeType!==3||(z=M+C),be!==k||x!==0&&be.nodeType!==3||(X=M+x),be.nodeType===3&&(M+=be.nodeValue.length),(Oe=be.firstChild)!==null;)me=be,be=Oe;for(;;){if(be===s)break t;if(me===p&&++se===C&&(z=M),me===k&&++ve===x&&(X=M),(Oe=be.nextSibling)!==null)break;be=me,me=be.parentNode}be=Oe}p=z===-1||X===-1?null:{start:z,end:X}}else p=null}p=p||{start:0,end:0}}else p=null;for(Hp={focusedElem:s,selectionRange:p},qc=!1,Ne=u;Ne!==null;)if(u=Ne,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,Ne=s;else for(;Ne!==null;){u=Ne;try{var De=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var je=De.memoizedProps,Gt=De.memoizedState,ie=u.stateNode,ee=ie.getSnapshotBeforeUpdate(u.elementType===u.type?je:Er(u.type,je),Gt);ie.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var oe=u.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(we){Vt(u,u.return,we)}if(s=u.sibling,s!==null){s.return=u.return,Ne=s;break}Ne=u.return}return De=b1,b1=!1,De}function Gl(s,u,p){var x=u.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var C=x=x.next;do{if((C.tag&s)===s){var k=C.destroy;C.destroy=void 0,k!==void 0&&Mm(u,p,k)}C=C.next}while(C!==x)}}function wd(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&s)===s){var x=p.create;p.destroy=x()}p=p.next}while(p!==u)}}function Dm(s){var u=s.ref;if(u!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof u=="function"?u(s):u.current=s}}function w1(s){var u=s.alternate;u!==null&&(s.alternate=null,w1(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[Ur],delete u[Dl],delete u[Jp],delete u[_$],delete u[b$])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function S1(s){return s.tag===5||s.tag===3||s.tag===4}function C1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||S1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Rm(s,u,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(s,u):p.insertBefore(s,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(s,p)):(u=p,u.appendChild(s)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Qc));else if(x!==4&&(s=s.child,s!==null))for(Rm(s,u,p),s=s.sibling;s!==null;)Rm(s,u,p),s=s.sibling}function jm(s,u,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,u?p.insertBefore(s,u):p.appendChild(s);else if(x!==4&&(s=s.child,s!==null))for(jm(s,u,p),s=s.sibling;s!==null;)jm(s,u,p),s=s.sibling}var pn=null,Ar=!1;function Zi(s,u,p){for(p=p.child;p!==null;)T1(s,u,p),p=p.sibling}function T1(s,u,p){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(To,p)}catch{}switch(p.tag){case 5:wn||Yo(p,u);case 6:var x=pn,C=Ar;pn=null,Zi(s,u,p),pn=x,Ar=C,pn!==null&&(Ar?(s=pn,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):pn.removeChild(p.stateNode));break;case 18:pn!==null&&(Ar?(s=pn,p=p.stateNode,s.nodeType===8?Yp(s.parentNode,p):s.nodeType===1&&Yp(s,p),Sl(s)):Yp(pn,p.stateNode));break;case 4:x=pn,C=Ar,pn=p.stateNode.containerInfo,Ar=!0,Zi(s,u,p),pn=x,Ar=C;break;case 0:case 11:case 14:case 15:if(!wn&&(x=p.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){C=x=x.next;do{var k=C,M=k.destroy;k=k.tag,M!==void 0&&((k&2)!==0||(k&4)!==0)&&Mm(p,u,M),C=C.next}while(C!==x)}Zi(s,u,p);break;case 1:if(!wn&&(Yo(p,u),x=p.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=p.memoizedProps,x.state=p.memoizedState,x.componentWillUnmount()}catch(z){Vt(p,u,z)}Zi(s,u,p);break;case 21:Zi(s,u,p);break;case 22:p.mode&1?(wn=(x=wn)||p.memoizedState!==null,Zi(s,u,p),wn=x):Zi(s,u,p);break;default:Zi(s,u,p)}}function k1(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new $$),u.forEach(function(x){var C=W$.bind(null,s,x);p.has(x)||(p.add(x),x.then(C,C))})}}function Pr(s,u){var p=u.deletions;if(p!==null)for(var x=0;x<p.length;x++){var C=p[x];try{var k=s,M=u,z=M;e:for(;z!==null;){switch(z.tag){case 5:pn=z.stateNode,Ar=!1;break e;case 3:pn=z.stateNode.containerInfo,Ar=!0;break e;case 4:pn=z.stateNode.containerInfo,Ar=!0;break e}z=z.return}if(pn===null)throw Error(n(160));T1(k,M,C),pn=null,Ar=!1;var X=C.alternate;X!==null&&(X.return=null),C.return=null}catch(se){Vt(C,u,se)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)E1(u,s),u=u.sibling}function E1(s,u){var p=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Pr(u,s),Gr(s),x&4){try{Gl(3,s,s.return),wd(3,s)}catch(je){Vt(s,s.return,je)}try{Gl(5,s,s.return)}catch(je){Vt(s,s.return,je)}}break;case 1:Pr(u,s),Gr(s),x&512&&p!==null&&Yo(p,p.return);break;case 5:if(Pr(u,s),Gr(s),x&512&&p!==null&&Yo(p,p.return),s.flags&32){var C=s.stateNode;try{ji(C,"")}catch(je){Vt(s,s.return,je)}}if(x&4&&(C=s.stateNode,C!=null)){var k=s.memoizedProps,M=p!==null?p.memoizedProps:k,z=s.type,X=s.updateQueue;if(s.updateQueue=null,X!==null)try{z==="input"&&k.type==="radio"&&k.name!=null&&bt(C,k),wo(z,M);var se=wo(z,k);for(M=0;M<X.length;M+=2){var ve=X[M],be=X[M+1];ve==="style"?Cc(C,be):ve==="dangerouslySetInnerHTML"?wc(C,be):ve==="children"?ji(C,be):T(C,ve,be,se)}switch(z){case"input":qt(C,k);break;case"textarea":Ta(C,k);break;case"select":var me=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!k.multiple;var Oe=k.value;Oe!=null?yn(C,!!k.multiple,Oe,!1):me!==!!k.multiple&&(k.defaultValue!=null?yn(C,!!k.multiple,k.defaultValue,!0):yn(C,!!k.multiple,k.multiple?[]:"",!1))}C[Dl]=k}catch(je){Vt(s,s.return,je)}}break;case 6:if(Pr(u,s),Gr(s),x&4){if(s.stateNode===null)throw Error(n(162));C=s.stateNode,k=s.memoizedProps;try{C.nodeValue=k}catch(je){Vt(s,s.return,je)}}break;case 3:if(Pr(u,s),Gr(s),x&4&&p!==null&&p.memoizedState.isDehydrated)try{Sl(u.containerInfo)}catch(je){Vt(s,s.return,je)}break;case 4:Pr(u,s),Gr(s);break;case 13:Pr(u,s),Gr(s),C=s.child,C.flags&8192&&(k=C.memoizedState!==null,C.stateNode.isHidden=k,!k||C.alternate!==null&&C.alternate.memoizedState!==null||(Bm=Lt())),x&4&&k1(s);break;case 22:if(ve=p!==null&&p.memoizedState!==null,s.mode&1?(wn=(se=wn)||ve,Pr(u,s),wn=se):Pr(u,s),Gr(s),x&8192){if(se=s.memoizedState!==null,(s.stateNode.isHidden=se)&&!ve&&(s.mode&1)!==0)for(Ne=s,ve=s.child;ve!==null;){for(be=Ne=ve;Ne!==null;){switch(me=Ne,Oe=me.child,me.tag){case 0:case 11:case 14:case 15:Gl(4,me,me.return);break;case 1:Yo(me,me.return);var De=me.stateNode;if(typeof De.componentWillUnmount=="function"){x=me,p=me.return;try{u=x,De.props=u.memoizedProps,De.state=u.memoizedState,De.componentWillUnmount()}catch(je){Vt(x,p,je)}}break;case 5:Yo(me,me.return);break;case 22:if(me.memoizedState!==null){O1(be);continue}}Oe!==null?(Oe.return=me,Ne=Oe):O1(be)}ve=ve.sibling}e:for(ve=null,be=s;;){if(be.tag===5){if(ve===null){ve=be;try{C=be.stateNode,se?(k=C.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(z=be.stateNode,X=be.memoizedProps.style,M=X!=null&&X.hasOwnProperty("display")?X.display:null,z.style.display=Sc("display",M))}catch(je){Vt(s,s.return,je)}}}else if(be.tag===6){if(ve===null)try{be.stateNode.nodeValue=se?"":be.memoizedProps}catch(je){Vt(s,s.return,je)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===s)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===s)break e;for(;be.sibling===null;){if(be.return===null||be.return===s)break e;ve===be&&(ve=null),be=be.return}ve===be&&(ve=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:Pr(u,s),Gr(s),x&4&&k1(s);break;case 21:break;default:Pr(u,s),Gr(s)}}function Gr(s){var u=s.flags;if(u&2){try{e:{for(var p=s.return;p!==null;){if(S1(p)){var x=p;break e}p=p.return}throw Error(n(160))}switch(x.tag){case 5:var C=x.stateNode;x.flags&32&&(ji(C,""),x.flags&=-33);var k=C1(s);jm(s,k,C);break;case 3:case 4:var M=x.stateNode.containerInfo,z=C1(s);Rm(s,z,M);break;default:throw Error(n(161))}}catch(X){Vt(s,s.return,X)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function B$(s,u,p){Ne=s,A1(s)}function A1(s,u,p){for(var x=(s.mode&1)!==0;Ne!==null;){var C=Ne,k=C.child;if(C.tag===22&&x){var M=C.memoizedState!==null||bd;if(!M){var z=C.alternate,X=z!==null&&z.memoizedState!==null||wn;z=bd;var se=wn;if(bd=M,(wn=X)&&!se)for(Ne=C;Ne!==null;)M=Ne,X=M.child,M.tag===22&&M.memoizedState!==null?I1(C):X!==null?(X.return=M,Ne=X):I1(C);for(;k!==null;)Ne=k,A1(k),k=k.sibling;Ne=C,bd=z,wn=se}P1(s)}else(C.subtreeFlags&8772)!==0&&k!==null?(k.return=C,Ne=k):P1(s)}}function P1(s){for(;Ne!==null;){var u=Ne;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:wn||wd(5,u);break;case 1:var x=u.stateNode;if(u.flags&4&&!wn)if(p===null)x.componentDidMount();else{var C=u.elementType===u.type?p.memoizedProps:Er(u.type,p.memoizedProps);x.componentDidUpdate(C,p.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var k=u.updateQueue;k!==null&&OS(u,k,x);break;case 3:var M=u.updateQueue;if(M!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}OS(u,M,p)}break;case 5:var z=u.stateNode;if(p===null&&u.flags&4){p=z;var X=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&p.focus();break;case"img":X.src&&(p.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var se=u.alternate;if(se!==null){var ve=se.memoizedState;if(ve!==null){var be=ve.dehydrated;be!==null&&Sl(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wn||u.flags&512&&Dm(u)}catch(me){Vt(u,u.return,me)}}if(u===s){Ne=null;break}if(p=u.sibling,p!==null){p.return=u.return,Ne=p;break}Ne=u.return}}function O1(s){for(;Ne!==null;){var u=Ne;if(u===s){Ne=null;break}var p=u.sibling;if(p!==null){p.return=u.return,Ne=p;break}Ne=u.return}}function I1(s){for(;Ne!==null;){var u=Ne;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{wd(4,u)}catch(X){Vt(u,p,X)}break;case 1:var x=u.stateNode;if(typeof x.componentDidMount=="function"){var C=u.return;try{x.componentDidMount()}catch(X){Vt(u,C,X)}}var k=u.return;try{Dm(u)}catch(X){Vt(u,k,X)}break;case 5:var M=u.return;try{Dm(u)}catch(X){Vt(u,M,X)}}}catch(X){Vt(u,u.return,X)}if(u===s){Ne=null;break}var z=u.sibling;if(z!==null){z.return=u.return,Ne=z;break}Ne=u.return}}var F$=Math.ceil,Sd=I.ReactCurrentDispatcher,$m=I.ReactCurrentOwner,fr=I.ReactCurrentBatchConfig,ct=0,rn=null,Ht=null,mn=0,Qn=0,Jo=Wi(0),Zt=0,Hl=null,La=0,Cd=0,Lm=0,Wl=null,Vn=null,Bm=0,Xo=1/0,pi=null,Td=!1,Fm=null,Qi=null,kd=!1,ea=null,Ed=0,Kl=0,qm=null,Ad=-1,Pd=0;function Pn(){return(ct&6)!==0?Lt():Ad!==-1?Ad:Ad=Lt()}function ta(s){return(s.mode&1)===0?1:(ct&2)!==0&&mn!==0?mn&-mn:S$.transition!==null?(Pd===0&&(Pd=ue()),Pd):(s=ke,s!==0||(s=window.event,s=s===void 0?16:Mw(s.type)),s)}function Or(s,u,p,x){if(50<Kl)throw Kl=0,qm=null,Error(n(185));xe(s,p,x),((ct&2)===0||s!==rn)&&(s===rn&&((ct&2)===0&&(Cd|=p),Zt===4&&na(s,mn)),zn(s,x),p===1&&ct===0&&(u.mode&1)===0&&(Xo=Lt()+500,rd&&Yi()))}function zn(s,u){var p=s.callbackNode;re(s,u);var x=V(s,s===rn?mn:0);if(x===0)p!==null&&Rc(p),s.callbackNode=null,s.callbackPriority=0;else if(u=x&-x,s.callbackPriority!==u){if(p!=null&&Rc(p),u===1)s.tag===0?w$(M1.bind(null,s)):yS(M1.bind(null,s)),y$(function(){(ct&6)===0&&Yi()}),p=null;else{switch(lt(x)){case 1:p=_l;break;case 4:p=jc;break;case 16:p=Aa;break;case 536870912:p=$c;break;default:p=Aa}p=q1(p,N1.bind(null,s))}s.callbackPriority=u,s.callbackNode=p}}function N1(s,u){if(Ad=-1,Pd=0,(ct&6)!==0)throw Error(n(327));var p=s.callbackNode;if(Zo()&&s.callbackNode!==p)return null;var x=V(s,s===rn?mn:0);if(x===0)return null;if((x&30)!==0||(x&s.expiredLanes)!==0||u)u=Od(s,x);else{u=x;var C=ct;ct|=2;var k=R1();(rn!==s||mn!==u)&&(pi=null,Xo=Lt()+500,Fa(s,u));do try{V$();break}catch(z){D1(s,z)}while(!0);am(),Sd.current=k,ct=C,Ht!==null?u=0:(rn=null,mn=0,u=Zt)}if(u!==0){if(u===2&&(C=ne(s),C!==0&&(x=C,u=Um(s,C))),u===1)throw p=Hl,Fa(s,0),na(s,x),zn(s,Lt()),p;if(u===6)na(s,x);else{if(C=s.current.alternate,(x&30)===0&&!q$(C)&&(u=Od(s,x),u===2&&(k=ne(s),k!==0&&(x=k,u=Um(s,k))),u===1))throw p=Hl,Fa(s,0),na(s,x),zn(s,Lt()),p;switch(s.finishedWork=C,s.finishedLanes=x,u){case 0:case 1:throw Error(n(345));case 2:qa(s,Vn,pi);break;case 3:if(na(s,x),(x&130023424)===x&&(u=Bm+500-Lt(),10<u)){if(V(s,0)!==0)break;if(C=s.suspendedLanes,(C&x)!==x){Pn(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=Kp(qa.bind(null,s,Vn,pi),u);break}qa(s,Vn,pi);break;case 4:if(na(s,x),(x&4194240)===x)break;for(u=s.eventTimes,C=-1;0<x;){var M=31-Yn(x);k=1<<M,M=u[M],M>C&&(C=M),x&=~k}if(x=C,x=Lt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*F$(x/1960))-x,10<x){s.timeoutHandle=Kp(qa.bind(null,s,Vn,pi),x);break}qa(s,Vn,pi);break;case 5:qa(s,Vn,pi);break;default:throw Error(n(329))}}}return zn(s,Lt()),s.callbackNode===p?N1.bind(null,s):null}function Um(s,u){var p=Wl;return s.current.memoizedState.isDehydrated&&(Fa(s,u).flags|=256),s=Od(s,u),s!==2&&(u=Vn,Vn=p,u!==null&&Vm(u)),s}function Vm(s){Vn===null?Vn=s:Vn.push.apply(Vn,s)}function q$(s){for(var u=s;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var x=0;x<p.length;x++){var C=p[x],k=C.getSnapshot;C=C.value;try{if(!Tr(k(),C))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function na(s,u){for(u&=~Lm,u&=~Cd,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var p=31-Yn(u),x=1<<p;s[p]=-1,u&=~x}}function M1(s){if((ct&6)!==0)throw Error(n(327));Zo();var u=V(s,0);if((u&1)===0)return zn(s,Lt()),null;var p=Od(s,u);if(s.tag!==0&&p===2){var x=ne(s);x!==0&&(u=x,p=Um(s,x))}if(p===1)throw p=Hl,Fa(s,0),na(s,u),zn(s,Lt()),p;if(p===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,qa(s,Vn,pi),zn(s,Lt()),null}function zm(s,u){var p=ct;ct|=1;try{return s(u)}finally{ct=p,ct===0&&(Xo=Lt()+500,rd&&Yi())}}function Ba(s){ea!==null&&ea.tag===0&&(ct&6)===0&&Zo();var u=ct;ct|=1;var p=fr.transition,x=ke;try{if(fr.transition=null,ke=1,s)return s()}finally{ke=x,fr.transition=p,ct=u,(ct&6)===0&&Yi()}}function Gm(){Qn=Jo.current,Mt(Jo)}function Fa(s,u){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,v$(p)),Ht!==null)for(p=Ht.return;p!==null;){var x=p;switch(em(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&td();break;case 3:Wo(),Mt(Fn),Mt(xn),hm();break;case 5:dm(x);break;case 4:Wo();break;case 13:Mt(Bt);break;case 19:Mt(Bt);break;case 10:om(x.type._context);break;case 22:case 23:Gm()}p=p.return}if(rn=s,Ht=s=ra(s.current,null),mn=Qn=u,Zt=0,Hl=null,Lm=Cd=La=0,Vn=Wl=null,Ra!==null){for(u=0;u<Ra.length;u++)if(p=Ra[u],x=p.interleaved,x!==null){p.interleaved=null;var C=x.next,k=p.pending;if(k!==null){var M=k.next;k.next=C,x.next=M}p.pending=x}Ra=null}return s}function D1(s,u){do{var p=Ht;try{if(am(),hd.current=vd,pd){for(var x=Ft.memoizedState;x!==null;){var C=x.queue;C!==null&&(C.pending=null),x=x.next}pd=!1}if($a=0,nn=Xt=Ft=null,Fl=!1,ql=0,$m.current=null,p===null||p.return===null){Zt=1,Hl=u,Ht=null;break}e:{var k=s,M=p.return,z=p,X=u;if(u=mn,z.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var se=X,ve=z,be=ve.tag;if((ve.mode&1)===0&&(be===0||be===11||be===15)){var me=ve.alternate;me?(ve.updateQueue=me.updateQueue,ve.memoizedState=me.memoizedState,ve.lanes=me.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Oe=a1(M);if(Oe!==null){Oe.flags&=-257,o1(Oe,M,z,k,u),Oe.mode&1&&i1(k,se,u),u=Oe,X=se;var De=u.updateQueue;if(De===null){var je=new Set;je.add(X),u.updateQueue=je}else De.add(X);break e}else{if((u&1)===0){i1(k,se,u),Hm();break e}X=Error(n(426))}}else if(jt&&z.mode&1){var Gt=a1(M);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),o1(Gt,M,z,k,u),rm(Ko(X,z));break e}}k=X=Ko(X,z),Zt!==4&&(Zt=2),Wl===null?Wl=[k]:Wl.push(k),k=M;do{switch(k.tag){case 3:k.flags|=65536,u&=-u,k.lanes|=u;var ie=n1(k,X,u);PS(k,ie);break e;case 1:z=X;var ee=k.type,oe=k.stateNode;if((k.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Qi===null||!Qi.has(oe)))){k.flags|=65536,u&=-u,k.lanes|=u;var we=r1(k,z,u);PS(k,we);break e}}k=k.return}while(k!==null)}$1(p)}catch($e){u=$e,Ht===p&&p!==null&&(Ht=p=p.return);continue}break}while(!0)}function R1(){var s=Sd.current;return Sd.current=vd,s===null?vd:s}function Hm(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),rn===null||(La&268435455)===0&&(Cd&268435455)===0||na(rn,mn)}function Od(s,u){var p=ct;ct|=2;var x=R1();(rn!==s||mn!==u)&&(pi=null,Fa(s,u));do try{U$();break}catch(C){D1(s,C)}while(!0);if(am(),ct=p,Sd.current=x,Ht!==null)throw Error(n(261));return rn=null,mn=0,Zt}function U$(){for(;Ht!==null;)j1(Ht)}function V$(){for(;Ht!==null&&!bp();)j1(Ht)}function j1(s){var u=F1(s.alternate,s,Qn);s.memoizedProps=s.pendingProps,u===null?$1(s):Ht=u,$m.current=null}function $1(s){var u=s;do{var p=u.alternate;if(s=u.return,(u.flags&32768)===0){if(p=R$(p,u,Qn),p!==null){Ht=p;return}}else{if(p=j$(p,u),p!==null){p.flags&=32767,Ht=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Zt=6,Ht=null;return}}if(u=u.sibling,u!==null){Ht=u;return}Ht=u=s}while(u!==null);Zt===0&&(Zt=5)}function qa(s,u,p){var x=ke,C=fr.transition;try{fr.transition=null,ke=1,z$(s,u,p,x)}finally{fr.transition=C,ke=x}return null}function z$(s,u,p,x){do Zo();while(ea!==null);if((ct&6)!==0)throw Error(n(327));p=s.finishedWork;var C=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var k=p.lanes|p.childLanes;if(Fe(s,k),s===rn&&(Ht=rn=null,mn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||kd||(kd=!0,q1(Aa,function(){return Zo(),null})),k=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||k){k=fr.transition,fr.transition=null;var M=ke;ke=1;var z=ct;ct|=4,$m.current=null,L$(s,p),E1(p,s),c$(Hp),qc=!!Gp,Hp=Gp=null,s.current=p,B$(p),wp(),ct=z,ke=M,fr.transition=k}else s.current=p;if(kd&&(kd=!1,ea=s,Ed=C),k=s.pendingLanes,k===0&&(Qi=null),ko(p.stateNode),zn(s,Lt()),u!==null)for(x=s.onRecoverableError,p=0;p<u.length;p++)C=u[p],x(C.value,{componentStack:C.stack,digest:C.digest});if(Td)throw Td=!1,s=Fm,Fm=null,s;return(Ed&1)!==0&&s.tag!==0&&Zo(),k=s.pendingLanes,(k&1)!==0?s===qm?Kl++:(Kl=0,qm=s):Kl=0,Yi(),null}function Zo(){if(ea!==null){var s=lt(Ed),u=fr.transition,p=ke;try{if(fr.transition=null,ke=16>s?16:s,ea===null)var x=!1;else{if(s=ea,ea=null,Ed=0,(ct&6)!==0)throw Error(n(331));var C=ct;for(ct|=4,Ne=s.current;Ne!==null;){var k=Ne,M=k.child;if((Ne.flags&16)!==0){var z=k.deletions;if(z!==null){for(var X=0;X<z.length;X++){var se=z[X];for(Ne=se;Ne!==null;){var ve=Ne;switch(ve.tag){case 0:case 11:case 15:Gl(8,ve,k)}var be=ve.child;if(be!==null)be.return=ve,Ne=be;else for(;Ne!==null;){ve=Ne;var me=ve.sibling,Oe=ve.return;if(w1(ve),ve===se){Ne=null;break}if(me!==null){me.return=Oe,Ne=me;break}Ne=Oe}}}var De=k.alternate;if(De!==null){var je=De.child;if(je!==null){De.child=null;do{var Gt=je.sibling;je.sibling=null,je=Gt}while(je!==null)}}Ne=k}}if((k.subtreeFlags&2064)!==0&&M!==null)M.return=k,Ne=M;else e:for(;Ne!==null;){if(k=Ne,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Gl(9,k,k.return)}var ie=k.sibling;if(ie!==null){ie.return=k.return,Ne=ie;break e}Ne=k.return}}var ee=s.current;for(Ne=ee;Ne!==null;){M=Ne;var oe=M.child;if((M.subtreeFlags&2064)!==0&&oe!==null)oe.return=M,Ne=oe;else e:for(M=ee;Ne!==null;){if(z=Ne,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:wd(9,z)}}catch($e){Vt(z,z.return,$e)}if(z===M){Ne=null;break e}var we=z.sibling;if(we!==null){we.return=z.return,Ne=we;break e}Ne=z.return}}if(ct=C,Yi(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(To,s)}catch{}x=!0}return x}finally{ke=p,fr.transition=u}}return!1}function L1(s,u,p){u=Ko(p,u),u=n1(s,u,1),s=Xi(s,u,1),u=Pn(),s!==null&&(xe(s,1,u),zn(s,u))}function Vt(s,u,p){if(s.tag===3)L1(s,s,p);else for(;u!==null;){if(u.tag===3){L1(u,s,p);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Qi===null||!Qi.has(x))){s=Ko(p,s),s=r1(u,s,1),u=Xi(u,s,1),s=Pn(),u!==null&&(xe(u,1,s),zn(u,s));break}}u=u.return}}function G$(s,u,p){var x=s.pingCache;x!==null&&x.delete(u),u=Pn(),s.pingedLanes|=s.suspendedLanes&p,rn===s&&(mn&p)===p&&(Zt===4||Zt===3&&(mn&130023424)===mn&&500>Lt()-Bm?Fa(s,0):Lm|=p),zn(s,u)}function B1(s,u){u===0&&((s.mode&1)===0?u=1:(u=Pa,Pa<<=1,(Pa&130023424)===0&&(Pa=4194304)));var p=Pn();s=di(s,u),s!==null&&(xe(s,u,p),zn(s,p))}function H$(s){var u=s.memoizedState,p=0;u!==null&&(p=u.retryLane),B1(s,p)}function W$(s,u){var p=0;switch(s.tag){case 13:var x=s.stateNode,C=s.memoizedState;C!==null&&(p=C.retryLane);break;case 19:x=s.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(u),B1(s,p)}var F1;F1=function(s,u,p){if(s!==null)if(s.memoizedProps!==u.pendingProps||Fn.current)Un=!0;else{if((s.lanes&p)===0&&(u.flags&128)===0)return Un=!1,D$(s,u,p);Un=(s.flags&131072)!==0}else Un=!1,jt&&(u.flags&1048576)!==0&&xS(u,ad,u.index);switch(u.lanes=0,u.tag){case 2:var x=u.type;_d(s,u),s=u.pendingProps;var C=Fo(u,xn.current);Ho(u,p),C=gm(null,u,x,s,C,p);var k=vm();return u.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,qn(x)?(k=!0,nd(u)):k=!1,u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,um(u),C.updater=yd,u.stateNode=C,C._reactInternals=u,Sm(u,x,s,p),u=Em(null,u,x,!0,k,p)):(u.tag=0,jt&&k&&Qp(u),An(null,u,C,p),u=u.child),u;case 16:x=u.elementType;e:{switch(_d(s,u),s=u.pendingProps,C=x._init,x=C(x._payload),u.type=x,C=u.tag=Y$(x),s=Er(x,s),C){case 0:u=km(null,u,x,s,p);break e;case 1:u=f1(null,u,x,s,p);break e;case 11:u=s1(null,u,x,s,p);break e;case 14:u=l1(null,u,x,Er(x.type,s),p);break e}throw Error(n(306,x,""))}return u;case 0:return x=u.type,C=u.pendingProps,C=u.elementType===x?C:Er(x,C),km(s,u,x,C,p);case 1:return x=u.type,C=u.pendingProps,C=u.elementType===x?C:Er(x,C),f1(s,u,x,C,p);case 3:e:{if(h1(u),s===null)throw Error(n(387));x=u.pendingProps,k=u.memoizedState,C=k.element,AS(s,u),dd(u,x,null,p);var M=u.memoizedState;if(x=M.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},u.updateQueue.baseState=k,u.memoizedState=k,u.flags&256){C=Ko(Error(n(423)),u),u=p1(s,u,x,p,C);break e}else if(x!==C){C=Ko(Error(n(424)),u),u=p1(s,u,x,p,C);break e}else for(Zn=Hi(u.stateNode.containerInfo.firstChild),Xn=u,jt=!0,kr=null,p=kS(u,null,x,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Vo(),x===C){u=hi(s,u,p);break e}An(s,u,x,p)}u=u.child}return u;case 5:return IS(u),s===null&&nm(u),x=u.type,C=u.pendingProps,k=s!==null?s.memoizedProps:null,M=C.children,Wp(x,C)?M=null:k!==null&&Wp(x,k)&&(u.flags|=32),d1(s,u),An(s,u,M,p),u.child;case 6:return s===null&&nm(u),null;case 13:return m1(s,u,p);case 4:return cm(u,u.stateNode.containerInfo),x=u.pendingProps,s===null?u.child=zo(u,null,x,p):An(s,u,x,p),u.child;case 11:return x=u.type,C=u.pendingProps,C=u.elementType===x?C:Er(x,C),s1(s,u,x,C,p);case 7:return An(s,u,u.pendingProps,p),u.child;case 8:return An(s,u,u.pendingProps.children,p),u.child;case 12:return An(s,u,u.pendingProps.children,p),u.child;case 10:e:{if(x=u.type._context,C=u.pendingProps,k=u.memoizedProps,M=C.value,kt(ld,x._currentValue),x._currentValue=M,k!==null)if(Tr(k.value,M)){if(k.children===C.children&&!Fn.current){u=hi(s,u,p);break e}}else for(k=u.child,k!==null&&(k.return=u);k!==null;){var z=k.dependencies;if(z!==null){M=k.child;for(var X=z.firstContext;X!==null;){if(X.context===x){if(k.tag===1){X=fi(-1,p&-p),X.tag=2;var se=k.updateQueue;if(se!==null){se=se.shared;var ve=se.pending;ve===null?X.next=X:(X.next=ve.next,ve.next=X),se.pending=X}}k.lanes|=p,X=k.alternate,X!==null&&(X.lanes|=p),sm(k.return,p,u),z.lanes|=p;break}X=X.next}}else if(k.tag===10)M=k.type===u.type?null:k.child;else if(k.tag===18){if(M=k.return,M===null)throw Error(n(341));M.lanes|=p,z=M.alternate,z!==null&&(z.lanes|=p),sm(M,p,u),M=k.sibling}else M=k.child;if(M!==null)M.return=k;else for(M=k;M!==null;){if(M===u){M=null;break}if(k=M.sibling,k!==null){k.return=M.return,M=k;break}M=M.return}k=M}An(s,u,C.children,p),u=u.child}return u;case 9:return C=u.type,x=u.pendingProps.children,Ho(u,p),C=cr(C),x=x(C),u.flags|=1,An(s,u,x,p),u.child;case 14:return x=u.type,C=Er(x,u.pendingProps),C=Er(x.type,C),l1(s,u,x,C,p);case 15:return u1(s,u,u.type,u.pendingProps,p);case 17:return x=u.type,C=u.pendingProps,C=u.elementType===x?C:Er(x,C),_d(s,u),u.tag=1,qn(x)?(s=!0,nd(u)):s=!1,Ho(u,p),e1(u,x,C),Sm(u,x,C,p),Em(null,u,x,!0,s,p);case 19:return v1(s,u,p);case 22:return c1(s,u,p)}throw Error(n(156,u.tag))};function q1(s,u){return Dc(s,u)}function K$(s,u,p,x){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(s,u,p,x){return new K$(s,u,p,x)}function Wm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Y$(s){if(typeof s=="function")return Wm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===W)return 11;if(s===F)return 14}return 2}function ra(s,u){var p=s.alternate;return p===null?(p=hr(s.tag,u,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=u,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,u=s.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function Id(s,u,p,x,C,k){var M=2;if(x=s,typeof s=="function")Wm(s)&&(M=1);else if(typeof s=="string")M=5;else e:switch(s){case N:return Ua(p.children,C,k,u);case D:M=8,C|=8;break;case B:return s=hr(12,p,u,C|2),s.elementType=B,s.lanes=k,s;case J:return s=hr(13,p,u,C),s.elementType=J,s.lanes=k,s;case H:return s=hr(19,p,u,C),s.elementType=H,s.lanes=k,s;case Y:return Nd(p,C,k,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case q:M=10;break e;case L:M=9;break e;case W:M=11;break e;case F:M=14;break e;case Z:M=16,x=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return u=hr(M,p,u,C),u.elementType=s,u.type=x,u.lanes=k,u}function Ua(s,u,p,x){return s=hr(7,s,x,u),s.lanes=p,s}function Nd(s,u,p,x){return s=hr(22,s,x,u),s.elementType=Y,s.lanes=p,s.stateNode={isHidden:!1},s}function Km(s,u,p){return s=hr(6,s,null,u),s.lanes=p,s}function Ym(s,u,p){return u=hr(4,s.children!==null?s.children:[],s.key,u),u.lanes=p,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function J$(s,u,p,x,C){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ee(0),this.expirationTimes=Ee(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.identifierPrefix=x,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Jm(s,u,p,x,C,k,M,z,X){return s=new J$(s,u,p,z,X),u===1?(u=1,k===!0&&(u|=8)):u=0,k=hr(3,null,null,u),s.current=k,k.stateNode=s,k.memoizedState={element:x,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},um(k),s}function X$(s,u,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:x==null?null:""+x,children:s,containerInfo:u,implementation:p}}function U1(s){if(!s)return Ki;s=s._reactInternals;e:{if(ii(s)!==s||s.tag!==1)throw Error(n(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(qn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(s.tag===1){var p=s.type;if(qn(p))return gS(s,p,u)}return u}function V1(s,u,p,x,C,k,M,z,X){return s=Jm(p,x,!0,s,C,k,M,z,X),s.context=U1(null),p=s.current,x=Pn(),C=ta(p),k=fi(x,C),k.callback=u??null,Xi(p,k,C),s.current.lanes=C,xe(s,C,x),zn(s,x),s}function Md(s,u,p,x){var C=u.current,k=Pn(),M=ta(C);return p=U1(p),u.context===null?u.context=p:u.pendingContext=p,u=fi(k,M),u.payload={element:s},x=x===void 0?null:x,x!==null&&(u.callback=x),s=Xi(C,u,M),s!==null&&(Or(s,C,M,k),cd(s,C,M)),M}function Dd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function z1(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<u?p:u}}function Xm(s,u){z1(s,u),(s=s.alternate)&&z1(s,u)}function Z$(){return null}var G1=typeof reportError=="function"?reportError:function(s){console.error(s)};function Zm(s){this._internalRoot=s}Rd.prototype.render=Zm.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(n(409));Md(s,u,null,null)},Rd.prototype.unmount=Zm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;Ba(function(){Md(null,s,null,null)}),u[si]=null}};function Rd(s){this._internalRoot=s}Rd.prototype.unstable_scheduleHydration=function(s){if(s){var u=Po();s={blockedOn:null,target:s,priority:u};for(var p=0;p<Vi.length&&u!==0&&u<Vi[p].priority;p++);Vi.splice(p,0,s),p===0&&Iw(s)}};function Qm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function jd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function H1(){}function Q$(s,u,p,x,C){if(C){if(typeof x=="function"){var k=x;x=function(){var se=Dd(M);k.call(se)}}var M=V1(u,x,s,0,null,!1,!1,"",H1);return s._reactRootContainer=M,s[si]=M.current,Nl(s.nodeType===8?s.parentNode:s),Ba(),M}for(;C=s.lastChild;)s.removeChild(C);if(typeof x=="function"){var z=x;x=function(){var se=Dd(X);z.call(se)}}var X=Jm(s,0,!1,null,null,!1,!1,"",H1);return s._reactRootContainer=X,s[si]=X.current,Nl(s.nodeType===8?s.parentNode:s),Ba(function(){Md(u,X,p,x)}),X}function $d(s,u,p,x,C){var k=p._reactRootContainer;if(k){var M=k;if(typeof C=="function"){var z=C;C=function(){var X=Dd(M);z.call(X)}}Md(u,M,s,C)}else M=Q$(p,u,s,C,x);return Dd(M)}fn=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var p=$(u.pendingLanes);p!==0&&(Ce(u,p|1),zn(u,Lt()),(ct&6)===0&&(Xo=Lt()+500,Yi()))}break;case 13:Ba(function(){var x=di(s,1);if(x!==null){var C=Pn();Or(x,s,1,C)}}),Xm(s,1)}},ai=function(s){if(s.tag===13){var u=di(s,134217728);if(u!==null){var p=Pn();Or(u,s,134217728,p)}Xm(s,134217728)}},Ao=function(s){if(s.tag===13){var u=ta(s),p=di(s,u);if(p!==null){var x=Pn();Or(p,s,u,x)}Xm(s,u)}},Po=function(){return ke},Oo=function(s,u){var p=ke;try{return ke=s,u()}finally{ke=p}},vl=function(s,u,p){switch(u){case"input":if(qt(s,p),u=p.name,p.type==="radio"&&u!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var x=p[u];if(x!==s&&x.form===s.form){var C=ed(x);if(!C)throw Error(n(90));fe(x),qt(x,C)}}}break;case"textarea":Ta(s,p);break;case"select":u=p.value,u!=null&&yn(s,!!p.multiple,u,!1)}},Ac=zm,Pc=Ba;var eL={usingClientEntryPoint:!1,Events:[Rl,Lo,ed,kc,Ec,zm]},Yl={findFiberByHostInstance:Ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tL={bundleType:Yl.bundleType,version:Yl.version,rendererPackageName:Yl.rendererPackageName,rendererConfig:Yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Nc(s),s===null?null:s.stateNode},findFiberByHostInstance:Yl.findFiberByHostInstance||Z$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{To=Ld.inject(tL),or=Ld}catch{}}return Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eL,Gn.createPortal=function(s,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qm(u))throw Error(n(200));return X$(s,u,null,p)},Gn.createRoot=function(s,u){if(!Qm(s))throw Error(n(299));var p=!1,x="",C=G1;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),u=Jm(s,1,!1,null,null,p,!1,x,C),s[si]=u.current,Nl(s.nodeType===8?s.parentNode:s),new Zm(u)},Gn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Nc(u),s=s===null?null:s.stateNode,s},Gn.flushSync=function(s){return Ba(s)},Gn.hydrate=function(s,u,p){if(!jd(u))throw Error(n(200));return $d(null,s,u,!0,p)},Gn.hydrateRoot=function(s,u,p){if(!Qm(s))throw Error(n(405));var x=p!=null&&p.hydratedSources||null,C=!1,k="",M=G1;if(p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(k=p.identifierPrefix),p.onRecoverableError!==void 0&&(M=p.onRecoverableError)),u=V1(u,null,s,1,p??null,C,!1,k,M),s[si]=u.current,Nl(s),x)for(s=0;s<x.length;s++)p=x[s],C=p._getVersion,C=C(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,C]:u.mutableSourceEagerHydrationData.push(p,C);return new Rd(u)},Gn.render=function(s,u,p){if(!jd(u))throw Error(n(200));return $d(null,s,u,!1,p)},Gn.unmountComponentAtNode=function(s){if(!jd(s))throw Error(n(40));return s._reactRootContainer?(Ba(function(){$d(null,null,s,!1,function(){s._reactRootContainer=null,s[si]=null})}),!0):!1},Gn.unstable_batchedUpdates=zm,Gn.unstable_renderSubtreeIntoContainer=function(s,u,p,x){if(!jd(p))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return $d(s,u,p,!1,x)},Gn.version="18.3.1-next-f1338f8080-20240426",Gn}var eC;function cL(){if(eC)return ng.exports;eC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ng.exports=uL(),ng.exports}var tC;function dL(){if(tC)return Fd;tC=1;var t=cL();return Fd.createRoot=t.createRoot,Fd.hydrateRoot=t.hydrateRoot,Fd}var fL=dL();const hL=mt(fL),pL="modulepreload",mL=function(t){return"/controle-financeiro/"+t},nC={},uc=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(n.map(d=>{if(d=mL(d),d in nC)return;nC[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":pL,f||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),f)return new Promise((_,b)=>{v.addEventListener("load",_),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},gL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>uc(async()=>{const{default:r}=await Promise.resolve().then(()=>rl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class hb extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class vL extends hb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class yL extends hb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xL extends hb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(mx||(mx={}));var _L=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class bL{constructor(e,{headers:n={},customFetch:r,region:i=mx.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=gL(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return _L(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(b=>{throw new vL(b)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new yL(f);if(!f.ok)throw new xL(f);let v=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield f.json():v==="application/octet-stream"?_=yield f.blob():v==="text/event-stream"?_=f:v==="multipart/form-data"?_=yield f.formData():_=yield f.text(),{data:_,error:null}}catch(i){return{data:null,error:i}}})}}var on={},Qo={},es={},ts={},ns={},rs={},wL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ks=wL();const SL=ks.fetch,tM=ks.fetch.bind(ks),nM=ks.Headers,CL=ks.Request,TL=ks.Response,rl=Object.freeze(Object.defineProperty({__proto__:null,Headers:nM,Request:CL,Response:TL,default:tM,fetch:SL},Symbol.toStringTag,{value:"Module"})),kL=rL(rl);var qd={},rC;function rM(){if(rC)return qd;rC=1,Object.defineProperty(qd,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return qd.default=t,qd}var iC;function iM(){if(iC)return rs;iC=1;var t=rs&&rs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(rs,"__esModule",{value:!0});const e=t(kL),n=t(rM());class r{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=Object.assign({},this.headers),this.headers[a]=o,this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,h,v;let _=null,b=null,S=null,w=d.status,A=d.statusText;if(d.ok){if(this.method!=="HEAD"){const E=await d.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=E:b=JSON.parse(E))}const T=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),I=(h=d.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");T&&I&&I.length>1&&(S=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(_={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,S=null,w=406,A="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const T=await d.text();try{_=JSON.parse(T),Array.isArray(_)&&d.status===404&&(b=[],_=null,w=200,A="OK")}catch{d.status===404&&T===""?(w=204,A="No Content"):_={message:T}}if(_&&this.isMaybeSingle&&(!((v=_==null?void 0:_.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,w=200,A="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:b,count:S,status:w,statusText:A}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,h,v;return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(h=d==null?void 0:d.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(v=d==null?void 0:d.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,o)}returns(){return this}overrideTypes(){return this}}return rs.default=r,rs}var aC;function aM(){if(aC)return ns;aC=1;var t=ns&&ns.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ns,"__esModule",{value:!0});const e=t(iM());class n extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var f;const h=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${v}"; options=${h};`,d==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ns.default=n,ns}var oC;function pb(){if(oC)return ts;oC=1;var t=ts&&ts.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ts,"__esModule",{value:!0});const e=t(aM());class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return ts.default=n,ts}var sC;function oM(){if(sC)return es;sC=1;var t=es&&es.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(es,"__esModule",{value:!0});const e=t(pb());class n{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=a,this.schema=o,this.fetch=l}select(i,{head:a=!1,count:o}={}){const l=a?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const d=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const d="POST",f=[`resolution=${o?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),c||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const h=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(h.length>0){const v=[...new Set(h)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return es.default=n,es}var Xl={},Zl={},lC;function EL(){return lC||(lC=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.version=void 0,Zl.version="0.0.0-automated"),Zl}var uC;function AL(){if(uC)return Xl;uC=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.DEFAULT_HEADERS=void 0;const t=EL();return Xl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Xl}var cC;function PL(){if(cC)return Qo;cC=1;var t=Qo&&Qo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Qo,"__esModule",{value:!0});const e=t(oM()),n=t(pb()),r=AL();class i{constructor(o,{headers:l={},schema:c,fetch:d}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=d}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:d=!1,count:f}={}){let h;const v=new URL(`${this.url}/rpc/${o}`);let _;c||d?(h=c?"HEAD":"GET",Object.entries(l).filter(([S,w])=>w!==void 0).map(([S,w])=>[S,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([S,w])=>{v.searchParams.append(S,w)})):(h="POST",_=l);const b=Object.assign({},this.headers);return f&&(b.Prefer=`count=${f}`),new n.default({method:h,url:v,headers:b,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return Qo.default=i,Qo}var dC;function OL(){if(dC)return on;dC=1;var t=on&&on.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(on,"__esModule",{value:!0}),on.PostgrestError=on.PostgrestBuilder=on.PostgrestTransformBuilder=on.PostgrestFilterBuilder=on.PostgrestQueryBuilder=on.PostgrestClient=void 0;const e=t(PL());on.PostgrestClient=e.default;const n=t(oM());on.PostgrestQueryBuilder=n.default;const r=t(pb());on.PostgrestFilterBuilder=r.default;const i=t(aM());on.PostgrestTransformBuilder=i.default;const a=t(iM());on.PostgrestBuilder=a.default;const o=t(rM());return on.PostgrestError=o.default,on.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},on}var IL=OL();const NL=mt(IL),{PostgrestClient:ML,PostgrestQueryBuilder:mse,PostgrestFilterBuilder:gse,PostgrestTransformBuilder:vse,PostgrestBuilder:yse,PostgrestError:xse}=NL;let gx;typeof window>"u"?gx=require("ws"):gx=window.WebSocket;const DL="2.11.10",RL={"X-Client-Info":`realtime-js/${DL}`},jL="1.0.0",sM=1e4,$L=1e3;var _s;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_s||(_s={}));var In;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(In||(In={}));var Mr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Mr||(Mr={}));var vx;(function(t){t.websocket="websocket"})(vx||(vx={}));var Xa;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xa||(Xa={}));class LL{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+i));o=o+i;const c=r.decode(e.slice(o,o+a));o=o+a;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class lM{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Et||(Et={}));const fC=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=BL(o,t,e,i),a),{})},BL=(t,e,n,r)=>{const i=e.find(l=>l.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?uM(a,o):yx(o)},uM=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return VL(e,n)}switch(t){case Et.bool:return FL(e);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return qL(e);case Et.json:case Et.jsonb:return UL(e);case Et.timestamp:return zL(e);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return yx(e);default:return yx(e)}},yx=t=>t,FL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},UL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},VL=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>uM(e,l))}return t},zL=t=>typeof t=="string"?t.replace(" ","T"):t,cM=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ag{constructor(e,n,r={},i=sM){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var hC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(hC||(hC={}));class mu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mu.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=mu.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=mu.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),l={},c={};return this.map(a,(d,f)=>{o[d]||(c[d]=f)}),this.map(o,(d,f)=>{const h=a[d];if(h){const v=f.map(w=>w.presence_ref),_=h.map(w=>w.presence_ref),b=f.filter(w=>_.indexOf(w.presence_ref)<0),S=h.filter(w=>v.indexOf(w.presence_ref)<0);b.length>0&&(l[d]=b),S.length>0&&(c[d]=S)}else l[d]=f}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const f=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),f.length>0){const h=e[l].map(_=>_.presence_ref),v=f.filter(_=>h.indexOf(_.presence_ref)<0);e[l].unshift(...v)}r(l,f,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const f=c.map(h=>h.presence_ref);d=d.filter(h=>f.indexOf(h.presence_ref)<0),e[l]=d,i(l,d,c),d.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(pC||(pC={}));var mC;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(mC||(mC={}));var vi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(vi||(vi={}));class mb{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=In.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ag(this,Mr.join,this.params,this.timeout),this.rejoinTimer=new lM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=In.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=In.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=In.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=In.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new mu(this),this.broadcastEndpointURL=cM(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(f=>e==null?void 0:e(vi.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(vi.CLOSED));const c={},d={broadcast:a,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var h;if(this.socket.setAuth(),f===void 0){e==null||e(vi.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(h=v==null?void 0:v.length)!==null&&h!==void 0?h:0,b=[];for(let S=0;S<_;S++){const w=v[S],{filter:{event:A,schema:O,table:T,filter:I}}=w,E=f&&f[S];if(E&&E.event===A&&E.schema===O&&E.table===T&&E.filter===I)b.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=In.errored,e==null||e(vi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(vi.SUBSCRIBED);return}}).receive("error",f=>{this.state=In.errored,e==null||e(vi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(vi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=In.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const i=new ag(this,Mr.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ag(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:f}=Mr;if(r&&[l,c,d,f].indexOf(o)>=0&&r!==this._joinRef())return;let v=this._onMessage(o,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var b,S,w;return((b=_.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(S=_.filter)===null||S===void 0?void 0:S.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(_=>_.callback(v,r)):(a=this.bindings[o])===null||a===void 0||a.filter(_=>{var b,S,w,A,O,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const I=_.id,E=(b=_.filter)===null||b===void 0?void 0:b.event;return I&&((S=n.ids)===null||S===void 0?void 0:S.includes(I))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const I=(O=(A=_==null?void 0:_.filter)===null||A===void 0?void 0:A.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return I==="*"||I===((T=n==null?void 0:n.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:S,table:w,commit_timestamp:A,type:O,errors:T}=b;v=Object.assign(Object.assign({},{schema:S,table:w,commit_timestamp:A,eventType:O,new:{},old:{},errors:T}),this._getPayloadRecords(b))}_.callback(v,r)})}_isClosed(){return this.state===In.closed}_isJoined(){return this.state===In.joined}_isJoining(){return this.state===In.joining}_isLeaving(){return this.state===In.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&mb.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Mr.close,{},e)}_onError(e){this._on(Mr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=In.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=fC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=fC(e.columns,e.old_record)),n}}const gC=()=>{},GL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HL{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=RL,this.params={},this.timeout=sM,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gC,this.ref=0,this.logger=gC,this.conn=null,this.sendBuffer=[],this.serializer=new LL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>uc(async()=>{const{default:c}=await Promise.resolve().then(()=>rl);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${vx.websocket}`,this.httpEndpoint=cM(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new lM(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=gx),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new WL(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jL}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _s.connecting:return Xa.Connecting;case _s.open:return Xa.Open;case _s.closing:return Xa.Closing;default:return Xa.Closed}}isConnected(){return this.connectionState()===Xa.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new mb(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Mr.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close($L,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:a,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Mr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([GL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class WL{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=_s.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class gb extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function sn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class KL extends gb{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class xx extends gb{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var YL=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const dM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>uc(async()=>{const{default:r}=await Promise.resolve().then(()=>rl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},JL=()=>YL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield uc(()=>Promise.resolve().then(()=>rl),void 0)).Response:Response}),_x=t=>{if(Array.isArray(t))return t.map(n=>_x(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=_x(r)}),e};var go=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const og=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),XL=(t,e,n)=>go(void 0,void 0,void 0,function*(){const r=yield JL();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new KL(og(i),t.status||500))}).catch(i=>{e(new xx(og(i),i))}):e(new xx(og(t),t))}),ZL=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function cc(t,e,n,r,i,a){return go(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,ZL(e,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>XL(c,l,r))})})}function pf(t,e,n,r){return go(this,void 0,void 0,function*(){return cc(t,"GET",e,n,r)})}function oa(t,e,n,r,i){return go(this,void 0,void 0,function*(){return cc(t,"POST",e,r,i,n)})}function QL(t,e,n,r,i){return go(this,void 0,void 0,function*(){return cc(t,"PUT",e,r,i,n)})}function e5(t,e,n,r){return go(this,void 0,void 0,function*(){return cc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function fM(t,e,n,r,i){return go(this,void 0,void 0,function*(){return cc(t,"DELETE",e,r,i,n)})}var Hn=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const t5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class n5{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=dM(i)}uploadOrUpdate(e,n,r,i){return Hn(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},vC),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:e,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),v=yield h.json();return h.ok?{data:{path:d,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(a){if(sn(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Hn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:vC.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),v=yield h.json();return h.ok?{data:{path:a,fullPath:v.Key},error:null}:{data:null,error:v}}catch(c){if(sn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Hn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield oa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new gb("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:yield oa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:{path:(yield oa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Hn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield oa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Hn(this,void 0,void 0,function*(){try{const i=yield oa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}download(e,n){return Hn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield pf(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(sn(l))return{data:null,error:l};throw l}})}info(e){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield pf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_x(r),error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}})}exists(e){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield e5(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(sn(r)&&r instanceof xx){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield fM(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(sn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Hn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},t5),n),{prefix:e||""});return{data:yield oa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(sn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const r5="2.7.1",i5={"X-Client-Info":`storage-js/${r5}`};var is=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class a5{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},i5),n),this.fetch=dM(r)}listBuckets(){return is(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(sn(e))return{data:null,error:e};throw e}})}getBucket(e){return is(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(sn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return is(this,void 0,void 0,function*(){try{return{data:yield oa(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return is(this,void 0,void 0,function*(){try{return{data:yield QL(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return is(this,void 0,void 0,function*(){try{return{data:yield oa(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(sn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return is(this,void 0,void 0,function*(){try{return{data:yield fM(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(sn(n))return{data:null,error:n};throw n}})}}class o5 extends a5{constructor(e,n={},r){super(e,n,r)}from(e){return new n5(this.url,this.headers,e,this.fetch)}}const s5="2.50.0";let uu="";typeof Deno<"u"?uu="deno":typeof document<"u"?uu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?uu="react-native":uu="node";const l5={"X-Client-Info":`supabase-js-${uu}/${s5}`},u5={headers:l5},c5={schema:"public"},d5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},f5={};var h5=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};const p5=t=>{let e;return t?e=t:typeof fetch>"u"?e=tM:e=fetch,(...n)=>e(...n)},m5=()=>typeof Headers>"u"?nM:Headers,g5=(t,e,n)=>{const r=p5(n),i=m5();return(a,o)=>h5(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:d}))})};var v5=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};function y5(t){return t.endsWith("/")?t:t+"/"}function x5(t,e){var n,r;const{db:i,auth:a,realtime:o,global:l}=t,{db:c,auth:d,realtime:f,global:h}=e,v={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>v5(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const hM="2.70.0",fs=30*1e3,bx=3,sg=bx*fs,_5="http://localhost:9999",b5="supabase.auth.token",w5={"X-Client-Info":`gotrue-js/${hM}`},wx="X-Supabase-Api-Version",pM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},S5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C5=6e5;class vb extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function nt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class T5 extends vb{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function k5(t){return nt(t)&&t.name==="AuthApiError"}class mM extends vb{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ya extends vb{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class aa extends ya{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function E5(t){return nt(t)&&t.name==="AuthSessionMissingError"}class Ud extends ya{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vd extends ya{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zd extends ya{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function A5(t){return nt(t)&&t.name==="AuthImplicitGrantRedirectError"}class yC extends ya{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sx extends ya{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function lg(t){return nt(t)&&t.name==="AuthRetryableFetchError"}class xC extends ya{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class gu extends ya{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const mf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_C=` 	
\r=`.split(""),P5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<_C.length;e+=1)t[_C[e].charCodeAt(0)]=-2;for(let e=0;e<mf.length;e+=1)t[mf[e].charCodeAt(0)]=e;return t})();function bC(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(mf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(mf[r]),e.queuedBits-=6}}function gM(t,e,n){const r=P5[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wC(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{N5(o,r,n)};for(let o=0;o<t.length;o+=1)gM(t.charCodeAt(o),i,a);return e.join("")}function O5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function I5(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}O5(r,e)}}function N5(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function M5(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)gM(t.charCodeAt(i),n,r);return new Uint8Array(e)}function D5(t){const e=[];return I5(t,n=>e.push(n)),new Uint8Array(e)}function R5(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>bC(i,n,r)),bC(null,n,r),e.join("")}function j5(t){return Math.round(Date.now()/1e3)+t}function $5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Nr=()=>typeof window<"u"&&typeof document<"u",Va={tested:!1,writable:!1},vu=()=>{if(!Nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Va.tested)return Va.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Va.tested=!0,Va.writable=!0}catch{Va.tested=!0,Va.writable=!1}return Va.writable};function L5(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const vM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>uc(async()=>{const{default:r}=await Promise.resolve().then(()=>rl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},B5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",yM=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Gd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Hd=async(t,e)=>{await t.removeItem(e)};class wh{constructor(){this.promise=new wh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}wh.promiseConstructor=Promise;function ug(t){const e=t.split(".");if(e.length!==3)throw new gu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!S5.test(e[r]))throw new gu("JWT not in base64url format");return{header:JSON.parse(wC(e[0])),payload:JSON.parse(wC(e[1])),signature:M5(e[2]),raw:{header:e[0],payload:e[1]}}}async function F5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function q5(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function U5(t){return("0"+t.toString(16)).substr(-2)}function V5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,U5).join("")}async function z5(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function G5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await z5(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function as(t,e,n=!1){const r=V5();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await yM(t,`${e}-code-verifier`,i);const a=await G5(r);return[a,r===a?"plain":"s256"]}const H5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function W5(t){const e=t.headers.get(wx);if(!e||!e.match(H5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function K5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Y5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function os(t){if(!J5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var X5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ka=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Z5=[502,503,504];async function SC(t){var e;if(!B5(t))throw new Sx(Ka(t),0);if(Z5.includes(t.status))throw new Sx(Ka(t),t.status);let n;try{n=await t.json()}catch(a){throw new mM(Ka(a),a)}let r;const i=W5(t);if(i&&i.getTime()>=pM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new xC(Ka(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new aa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new xC(Ka(n),t.status,n.weak_password.reasons);throw new T5(Ka(n),t.status||500,r)}const Q5=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ot(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[wx]||(a[wx]=pM["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await eB(t,e,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function eB(t,e,n,r,i,a){const o=Q5(e,r,i,a);let l;try{l=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new Sx(Ka(c),0)}if(l.ok||await SC(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await SC(c)}}function gi(t){var e;let n=null;iB(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=j5(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function CC(t){const e=gi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ca(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tB(t){return{data:t,error:null}}function nB(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=X5(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function rB(t){return t}function iB(t){return t.access_token&&t.refresh_token&&t.expires_in}const cg=["global","local","others"];var aB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class oB{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=vM(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=cg[0]){if(cg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cg.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ca})}catch(r){if(nt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=aB(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:nB,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(nt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ca})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},f=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:rB});if(f.error)throw f.error;const h=await f.json(),v=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);d[`${w}Page`]=S}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(nt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){os(e);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ca})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){os(e);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ca})}catch(r){if(nt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){os(e);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ca})}catch(r){if(nt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){os(e.userId);try{const{data:n,error:r}=await ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){os(e.userId),os(e.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}}}const sB={getItem:t=>vu()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{vu()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{vu()&&globalThis.localStorage.removeItem(t)}};function TC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function lB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ss={debug:!!(globalThis&&vu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xM extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class uB extends xM{}async function cB(t,e,n){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new uB(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ss.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}lB();const dB={url:_5,storageKey:b5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:w5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kC(t,e,n){return await n()}class Tu{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Tu.nextInstanceID,Tu.nextInstanceID+=1,this.instanceID>0&&Nr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},dB),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new oB({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=vM(i.fetch),this.lock=i.lock||kC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Nr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=cB:this.lock=kC,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:vu()?this.storage=sB:(this.memoryStorage={},this.storage=TC(this.memoryStorage)):(this.memoryStorage={},this.storage=TC(this.memoryStorage)),Nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hM}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=L5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Nr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),A5(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return nt(n)?{error:n}:{error:new mM("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:gi}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(nt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:f,password:h,options:v}=e;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await as(this.storage,this.storageKey)),a=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:f,password:h,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:b},xform:gi})}else if("phone"in e){const{phone:f,password:h,options:v}=e;a=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:gi})}else throw new Vd("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(nt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:l}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:CC})}else if("phone"in e){const{phone:a,password:o,options:l}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:CC})}else throw new Vd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ud}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(nt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,a,o,l,c,d,f,h,v,_;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:w,wallet:A,statement:O,options:T}=e;let I;if(Nr())if(typeof A=="object")I=A;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))I=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=A}const E=new URL((n=T==null?void 0:T.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const P=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),O?{statement:O}:null));let N;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")N=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)N=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),S=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${E.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=T==null?void 0:T.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=T==null?void 0:T.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((h=(f=T==null?void 0:T.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...T.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const P=await I.signMessage(new TextEncoder().encode(b),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=P}}try{const{data:w,error:A}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:R5(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:gi});if(A)throw A;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ud}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:A})}catch(w){if(nt(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await Gd(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:gi});if(await Hd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ud}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(nt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,l=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gi}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ud}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(nt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await as(this.storage,this.storageKey));const{error:h}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:f}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new Vd("You must provide either an email or phone number.")}catch(l){if(nt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:gi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(nt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await as(this.storage,this.storageKey)),await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:tB})}catch(a){if(nt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new aa;const{error:i}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(nt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:l}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Vd("You must provide either an email or phone number and a type")}catch(n){if(nt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Gd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<sg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,f)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,f))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ca}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new aa}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ca})})}catch(n){if(nt(n))return E5(n)&&(await this._removeSession(),await Hd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new aa;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await as(this.storage,this.storageKey));const{data:d,error:f}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ca});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(nt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new aa;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=ug(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(nt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new aa;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(nt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Nr())throw new zd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new yC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yC("No code detected.");const{data:O,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!a||!l||!o||!d)throw new zd("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(l);let v=f+h;c&&(v=parseInt(c));const _=v-f;_*1e3<=fs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${h}s`);const b=v-h;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,f);const{data:S,error:w}=await this._getUser(a);if(w)throw w;const A={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:v,refresh_token:o,token_type:d,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:e.type},error:null}}catch(r){if(nt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Gd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(k5(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Hd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=$5(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await as(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(nt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,c,d,f;const{data:h,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",_,{headers:this.headers,jwt:(f=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Nr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(nt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await q5(async i=>(i>0&&await F5(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gi})),(i,a)=>{const o=200*Math.pow(2,i);return a&&lg(a)&&Date.now()+o-r<fs})}catch(r){if(this._debug(n,"error",r),nt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Nr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Gd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<sg;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${sg}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),lg(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new wh;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new aa;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),nt(a)){const o={session:null,error:a};return lg(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yM(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Hd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/fs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${fs}ms, refresh threshold is ${bx} ticks`),i<=bx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xM)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await as(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(nt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(nt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ug(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+C5>Date.now()))return r;const{data:i,error:a}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new gu("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new gu("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:_,error:b}=await this.getSession();if(b||!_.session)return{data:null,error:b};r=_.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=ug(r);if(K5(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:a,header:i,signature:o},error:null}}const d=Y5(i.alg),f=await this.fetchJwk(i.kid,n),h=await crypto.subtle.importKey("jwk",f,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,D5(`${l}.${c}`)))throw new gu("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}}}Tu.nextInstanceID=0;const fB=Tu;class hB extends fB{constructor(e){super(e)}}var pB=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})};class mB{constructor(e,n,r){var i,a,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=y5(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:c5,realtime:f5,auth:Object.assign(Object.assign({},d5),{storageKey:d}),global:u5},h=x5(r??{},f);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=g5(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new ML(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new bL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new o5(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return pB(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:o,lock:l,debug:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hB({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new HL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gB=(t,e,n)=>new mB(t,e,n),vB="https://kezqwaibstyhvxpdhdts.supabase.co",yB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtlenF3YWlic3R5aHZ4cGRoZHRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2ODU0NTEsImV4cCI6MjA1OTI2MTQ1MX0.f8lcr89hUJLsQYdHWE6tFlijL7PtHKI3w7KtG-PGgb8",Ae=gB(vB,yB);var pe=(t=>(t.INCOME="INCOME",t.EXPENSE="EXPENSE",t.TRANSFER="TRANSFER",t))(pe||{}),rr=(t=>(t.DEPOSIT="DEPOSIT",t.WITHDRAWAL="WITHDRAWAL",t))(rr||{});const xB=[{name:"Salário"},{name:"Vendas"},{name:"Investimentos"},{name:"Presente"},{name:"Outras Receitas"}],_B=[{name:"Alimentação"},{name:"Transporte"},{name:"Moradia"},{name:"Lazer"},{name:"Saúde"},{name:"Educação"},{name:"Compras"},{name:"Impostos"},{name:"Água"},{name:"Luz"},{name:"Outras Despesas"}],bB=[{name:"Carteira",initial_balance:0},{name:"Banco Principal",initial_balance:1e3}],Cx="Meu Financeiro",Sh=[{value:pe.INCOME,label:"Receita"},{value:pe.EXPENSE,label:"Despesa"},{value:pe.TRANSFER,label:"Transferência"}],wB=[{value:"all",label:"Todo o Período"},{value:"today",label:"Hoje"},{value:"current_month",label:"Este Mês"},{value:"last_7_days",label:"Últimos 7 Dias"},{value:"last_30_days",label:"Últimos 30 Dias"}],SB=t=>{const e=xB.map(r=>({...r,user_id:t,type:pe.INCOME})),n=_B.map(r=>({...r,user_id:t,type:pe.EXPENSE}));return[...e,...n]},CB=t=>bB.map(e=>({...e,user_id:t})),Qe=()=>crypto.randomUUID(),jn=(t,e="pt-BR",n)=>{const r=new Date(t.includes("T")?t:t+"T00:00:00"),i={year:"numeric",month:"short",day:"numeric"},a=n?{...i,...n}:i;return r.toLocaleDateString(e,a)},he=(t,e="BRL",n="pt-BR",r=!1)=>{var i;return r?`${((i=new Intl.NumberFormat(n,{style:"currency",currency:e}).formatToParts(0).find(o=>o.type==="currency"))==null?void 0:i.value)||"$"} ****,**`:new Intl.NumberFormat(n,{style:"currency",currency:e}).format(t)},ht=(t=new Date)=>(typeof t=="string"?new Date(t.includes("T")?t:t+"T00:00:00"):t).toISOString().split("T")[0],_M=(t,e,n)=>{const r=new Date(t+"T00:00:00");let i=r.getMonth()+e,a=r.getFullYear();i>11&&(a+=Math.floor(i/12),i=i%12);const l=r.getMonth()+1+(e-1);a=r.getFullYear(),i=l,i>11&&(a+=Math.floor(i/12),i=i%12);const c=new Date(a,i,1),d=new Date(a,i+1,0).getDate(),f=Math.min(n,d);return c.setDate(f),c},bM=(t,e,n)=>{if(!t||!e)return[];const r=[],i=n.getFullYear(),a=n.getMonth();let o=new Date(i,a,e.closing_day);n.getDate()>e.closing_day&&o.setMonth(a+1);let l=new Date(o.getFullYear(),o.getMonth(),e.due_day);e.due_day<e.closing_day&&l.setMonth(o.getMonth()+1);for(const c of t)if(c.installments_paid<c.number_of_installments){const d=c.installments_paid+1,f=_M(c.purchase_date,d,e.due_day);if(f<=l){let h=new Date(l);h.setMonth(h.getMonth()-1),(f>h||f.getFullYear()===l.getFullYear()&&f.getMonth()===l.getMonth())&&r.push(c)}}return r.filter((c,d,f)=>f.findIndex(h=>h.id===c.id)===d)},wM=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),EC=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),Tx=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15L15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),gf=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"})}),TB=({id:t,message:e,type:n,onDismiss:r})=>{let i="bg-primary dark:bg-primaryDark",a="text-white",o=EC;switch(n){case"success":i="bg-secondary dark:bg-secondaryDark",o=Tx;break;case"warning":i="bg-amber-500 dark:bg-amber-600",o=gf;break;case"error":i="bg-destructive dark:bg-destructiveDark",o=gf;break;case"info":default:i="bg-blue-500 dark:bg-blue-600",o=EC;break}return y.jsxs("div",{role:"alert","aria-live":"assertive","aria-atomic":"true",className:`relative flex items-start w-full max-w-sm p-4 rounded-lg shadow-2xl ${i} ${a} transform transition-all duration-300 ease-in-out animate-fadeIn`,children:[y.jsx("div",{className:"flex-shrink-0 mr-3",children:y.jsx(o,{className:"w-6 h-6"})}),y.jsx("div",{className:"flex-grow text-sm font-medium",children:e}),y.jsx("button",{onClick:()=>r(t),"aria-label":"Fechar notificação",className:"ml-3 -mr-1 -my-1 p-1 rounded-md hover:bg-black/20 focus:outline-none focus:ring-2 focus:ring-white/50 transition-colors",children:y.jsx(wM,{className:"w-5 h-5"})}),y.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},kB=({toasts:t,removeToast:e})=>t.length?y.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"fixed top-4 right-4 z-[100] space-y-3 w-full max-w-sm pointer-events-none",children:t.map(n=>y.jsx("div",{className:"pointer-events-auto",children:y.jsx(TB,{...n,onDismiss:e})},n.id))}):null,SM=R.createContext(void 0),CM=()=>{const t=R.useContext(SM);if(!t)throw new Error("useToasts must be used within a ToastProvider");return t},EB=({children:t})=>{const[e,n]=R.useState([]),r=R.useCallback((a,o,l=5e3)=>{const c=Qe();n(d=>[{id:c,message:a,type:o,duration:l},...d.slice(0,4)]),l&&setTimeout(()=>{i(c)},l)},[]),i=R.useCallback(a=>{n(o=>o.filter(l=>l.id!==a))},[]);return y.jsxs(SM.Provider,{value:{addToast:r},children:[t,y.jsx(kB,{toasts:e,removeToast:i})]})},kn=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),AB=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52M6.25 4.97A48.416 48.416 0 0 1 12 4.5c2.291 0 4.545.16 6.75.47m-13.5 0C4.146 5.116 3.146 5.29 2.25 5.5m3.75-.48a25.293 25.293 0 0 0-3.75.48M12 12.75h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0-9h.008v.008H12V9.75Z"})}),yb=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-3.741-5.602M12 12.75a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 0H7.5M12 12.75V15m0 0H7.5M12 15A6.75 6.75 0 0 0 5.25 9.75M12 15A6.75 6.75 0 0 1 18.75 9.75M12 2.25A6.75 6.75 0 0 0 5.25 9m6.75-6.75v1.5m0 1.5V9m0-3a2.25 2.25 0 0 0-2.25-2.25H7.5A2.25 2.25 0 0 0 5.25 6m13.5 6.75a2.25 2.25 0 0 0-2.25-2.25H15a2.25 2.25 0 0 0-2.25 2.25m3.75 0v1.5m0 1.5V18m0-3a2.25 2.25 0 0 0-2.25-2.25H15A2.25 2.25 0 0 0 12.75 15m3.75 0h-3.75M3.375 19.5a2.25 2.25 0 0 1 2.25-2.25H10.5a2.25 2.25 0 0 1 2.25 2.25"})}),ge=({variant:t="primary",size:e="md",children:n,className:r,...i})=>{const a="font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-backgroundDark transition-colors duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center";let o="";switch(t){case"primary":o="bg-primary text-white hover:bg-blue-700 dark:bg-primaryDark dark:hover:bg-blue-600 focus:ring-primary dark:focus:ring-primaryDark";break;case"secondary":o="bg-secondary text-white hover:bg-emerald-700 dark:bg-secondaryDark dark:hover:bg-emerald-600 focus:ring-secondary dark:focus:ring-secondaryDark";break;case"danger":o="bg-destructive text-white hover:bg-red-700 dark:bg-destructiveDark dark:hover:bg-red-600 focus:ring-destructive dark:focus:ring-destructiveDark";break;case"ghost":o="bg-transparent text-textBase dark:text-textBaseDark hover:bg-neutral/10 dark:hover:bg-neutralDark/20 focus:ring-neutral dark:focus:ring-neutralDark";break}let l="";switch(e){case"sm":l="px-3 py-1.5 text-sm";break;case"md":l="px-4 py-2 text-base";break;case"lg":l="px-6 py-3 text-lg";break}return y.jsx("button",{className:`${a} ${o} ${l} ${r||""}`,...i,children:n})};function TM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=TM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=TM(t))&&(r&&(r+=" "),r+=e);return r}var dg,AC;function Kn(){if(AC)return dg;AC=1;var t=Array.isArray;return dg=t,dg}var fg,PC;function kM(){if(PC)return fg;PC=1;var t=typeof Bd=="object"&&Bd&&Bd.Object===Object&&Bd;return fg=t,fg}var hg,OC;function ti(){if(OC)return hg;OC=1;var t=kM(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return hg=n,hg}var pg,IC;function dc(){if(IC)return pg;IC=1;var t=ti(),e=t.Symbol;return pg=e,pg}var mg,NC;function PB(){if(NC)return mg;NC=1;var t=dc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var l=n.call(o,i),c=o[i];try{o[i]=void 0;var d=!0}catch{}var f=r.call(o);return d&&(l?o[i]=c:delete o[i]),f}return mg=a,mg}var gg,MC;function OB(){if(MC)return gg;MC=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return gg=n,gg}var vg,DC;function Pi(){if(DC)return vg;DC=1;var t=dc(),e=PB(),n=OB(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:r:a&&a in Object(l)?e(l):n(l)}return vg=o,vg}var yg,RC;function Oi(){if(RC)return yg;RC=1;function t(e){return e!=null&&typeof e=="object"}return yg=t,yg}var xg,jC;function il(){if(jC)return xg;jC=1;var t=Pi(),e=Oi(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return xg=r,xg}var _g,$C;function xb(){if($C)return _g;$C=1;var t=Kn(),e=il(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return _g=i,_g}var bg,LC;function xa(){if(LC)return bg;LC=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return bg=t,bg}var wg,BC;function _b(){if(BC)return wg;BC=1;var t=Pi(),e=xa(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==a}return wg=o,wg}var Sg,FC;function IB(){if(FC)return Sg;FC=1;var t=ti(),e=t["__core-js_shared__"];return Sg=e,Sg}var Cg,qC;function NB(){if(qC)return Cg;qC=1;var t=IB(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Cg=n,Cg}var Tg,UC;function EM(){if(UC)return Tg;UC=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Tg=n,Tg}var kg,VC;function MB(){if(VC)return kg;VC=1;var t=_b(),e=NB(),n=xa(),r=EM(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(v){if(!n(v)||e(v))return!1;var _=t(v)?f:a;return _.test(r(v))}return kg=h,kg}var Eg,zC;function DB(){if(zC)return Eg;zC=1;function t(e,n){return e==null?void 0:e[n]}return Eg=t,Eg}var Ag,GC;function vo(){if(GC)return Ag;GC=1;var t=MB(),e=DB();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return Ag=n,Ag}var Pg,HC;function Ch(){if(HC)return Pg;HC=1;var t=vo(),e=t(Object,"create");return Pg=e,Pg}var Og,WC;function RB(){if(WC)return Og;WC=1;var t=Ch();function e(){this.__data__=t?t(null):{},this.size=0}return Og=e,Og}var Ig,KC;function jB(){if(KC)return Ig;KC=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Ig=t,Ig}var Ng,YC;function $B(){if(YC)return Ng;YC=1;var t=Ch(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return r.call(o,a)?o[a]:void 0}return Ng=i,Ng}var Mg,JC;function LB(){if(JC)return Mg;JC=1;var t=Ch(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return Mg=r,Mg}var Dg,XC;function BB(){if(XC)return Dg;XC=1;var t=Ch(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return Dg=n,Dg}var Rg,ZC;function FB(){if(ZC)return Rg;ZC=1;var t=RB(),e=jB(),n=$B(),r=LB(),i=BB();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Rg=a,Rg}var jg,QC;function qB(){if(QC)return jg;QC=1;function t(){this.__data__=[],this.size=0}return jg=t,jg}var $g,eT;function bb(){if(eT)return $g;eT=1;function t(e,n){return e===n||e!==e&&n!==n}return $g=t,$g}var Lg,tT;function Th(){if(tT)return Lg;tT=1;var t=bb();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Lg=e,Lg}var Bg,nT;function UB(){if(nT)return Bg;nT=1;var t=Th(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():n.call(a,o,1),--this.size,!0}return Bg=r,Bg}var Fg,rT;function VB(){if(rT)return Fg;rT=1;var t=Th();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Fg=e,Fg}var qg,iT;function zB(){if(iT)return qg;iT=1;var t=Th();function e(n){return t(this.__data__,n)>-1}return qg=e,qg}var Ug,aT;function GB(){if(aT)return Ug;aT=1;var t=Th();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Ug=e,Ug}var Vg,oT;function kh(){if(oT)return Vg;oT=1;var t=qB(),e=UB(),n=VB(),r=zB(),i=GB();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Vg=a,Vg}var zg,sT;function wb(){if(sT)return zg;sT=1;var t=vo(),e=ti(),n=t(e,"Map");return zg=n,zg}var Gg,lT;function HB(){if(lT)return Gg;lT=1;var t=FB(),e=kh(),n=wb();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Gg=r,Gg}var Hg,uT;function WB(){if(uT)return Hg;uT=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Hg=t,Hg}var Wg,cT;function Eh(){if(cT)return Wg;cT=1;var t=WB();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Wg=e,Wg}var Kg,dT;function KB(){if(dT)return Kg;dT=1;var t=Eh();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Kg=e,Kg}var Yg,fT;function YB(){if(fT)return Yg;fT=1;var t=Eh();function e(n){return t(this,n).get(n)}return Yg=e,Yg}var Jg,hT;function JB(){if(hT)return Jg;hT=1;var t=Eh();function e(n){return t(this,n).has(n)}return Jg=e,Jg}var Xg,pT;function XB(){if(pT)return Xg;pT=1;var t=Eh();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return Xg=e,Xg}var Zg,mT;function Sb(){if(mT)return Zg;mT=1;var t=HB(),e=KB(),n=YB(),r=JB(),i=XB();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Zg=a,Zg}var Qg,gT;function AM(){if(gT)return Qg;gT=1;var t=Sb(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var d=r.apply(this,o);return a.cache=c.set(l,d)||c,d};return a.cache=new(n.Cache||t),a}return n.Cache=t,Qg=n,Qg}var ev,vT;function ZB(){if(vT)return ev;vT=1;var t=AM(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return ev=n,ev}var tv,yT;function QB(){if(yT)return tv;yT=1;var t=ZB(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,l,c,d){a.push(c?d.replace(n,"$1"):l||o)}),a});return tv=r,tv}var nv,xT;function Cb(){if(xT)return nv;xT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return nv=t,nv}var rv,_T;function eF(){if(_T)return rv;_T=1;var t=dc(),e=Cb(),n=Kn(),r=il(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return rv=o,rv}var iv,bT;function PM(){if(bT)return iv;bT=1;var t=eF();function e(n){return n==null?"":t(n)}return iv=e,iv}var av,wT;function OM(){if(wT)return av;wT=1;var t=Kn(),e=xb(),n=QB(),r=PM();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return av=i,av}var ov,ST;function Ah(){if(ST)return ov;ST=1;var t=il();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return ov=e,ov}var sv,CT;function Tb(){if(CT)return sv;CT=1;var t=OM(),e=Ah();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return sv=n,sv}var lv,TT;function IM(){if(TT)return lv;TT=1;var t=Tb();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return lv=e,lv}var tF=IM();const ir=mt(tF);var uv,kT;function nF(){if(kT)return uv;kT=1;function t(e){return e==null}return uv=t,uv}var rF=nF();const st=mt(rF);var cv,ET;function iF(){if(ET)return cv;ET=1;var t=Pi(),e=Kn(),n=Oi(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return cv=i,cv}var aF=iF();const oo=mt(aF);var oF=_b();const Xe=mt(oF);var sF=xa();const al=mt(sF);var dv={exports:{}},gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function lF(){if(AT)return gt;AT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function S(w){if(typeof w=="object"&&w!==null){var A=w.$$typeof;switch(A){case t:switch(w=w.type,w){case n:case i:case r:case d:case f:return w;default:switch(w=w&&w.$$typeof,w){case l:case o:case c:case v:case h:case a:return w;default:return A}}case e:return A}}}return gt.ContextConsumer=o,gt.ContextProvider=a,gt.Element=t,gt.ForwardRef=c,gt.Fragment=n,gt.Lazy=v,gt.Memo=h,gt.Portal=e,gt.Profiler=i,gt.StrictMode=r,gt.Suspense=d,gt.SuspenseList=f,gt.isAsyncMode=function(){return!1},gt.isConcurrentMode=function(){return!1},gt.isContextConsumer=function(w){return S(w)===o},gt.isContextProvider=function(w){return S(w)===a},gt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},gt.isForwardRef=function(w){return S(w)===c},gt.isFragment=function(w){return S(w)===n},gt.isLazy=function(w){return S(w)===v},gt.isMemo=function(w){return S(w)===h},gt.isPortal=function(w){return S(w)===e},gt.isProfiler=function(w){return S(w)===i},gt.isStrictMode=function(w){return S(w)===r},gt.isSuspense=function(w){return S(w)===d},gt.isSuspenseList=function(w){return S(w)===f},gt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===d||w===f||w===_||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===h||w.$$typeof===a||w.$$typeof===o||w.$$typeof===c||w.$$typeof===b||w.getModuleId!==void 0)},gt.typeOf=S,gt}var PT;function uF(){return PT||(PT=1,dv.exports=lF()),dv.exports}var cF=uF(),fv,OT;function NM(){if(OT)return fv;OT=1;var t=Pi(),e=Oi(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return fv=r,fv}var hv,IT;function dF(){if(IT)return hv;IT=1;var t=NM();function e(n){return t(n)&&n!=+n}return hv=e,hv}var fF=dF();const fc=mt(fF);var hF=NM();const pF=mt(hF);var Nn=function(e){return e===0?0:e>0?1:-1},Qa=function(e){return oo(e)&&e.indexOf("%")===e.length-1},Te=function(e){return pF(e)&&!fc(e)},en=function(e){return Te(e)||oo(e)},mF=0,hc=function(e){var n=++mF;return"".concat(e||"").concat(n)},Mn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&!oo(e))return r;var a;if(Qa(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return fc(a)&&(a=r),i&&a>n&&(a=n),a},da=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},gF=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},sa=function(e,n){return Te(e)&&Te(n)?function(r){return e+r*(n-e)}:function(){return n}};function kx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ir(r,e))===n})}var vF=function(e,n){return Te(e)&&Te(n)?e-n:oo(e)&&oo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function bs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Ex(t){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(t)}var yF=["viewBox","children"],xF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NT=["points","pathLength"],pv={svg:yF,polygon:NT,polyline:NT},kb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vf=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!al(r))return null;var i={};return Object.keys(r).forEach(function(a){kb.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},_F=function(e,n,r){return function(i){return e(n,r,i),null}},so=function(e,n,r){if(!al(e)||Ex(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];kb.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=_F(o,n,r))}),i},bF=["children"],wF=["children"];function MT(t,e){if(t==null)return{};var n=SF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var DT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},RT=null,mv=null,Eb=function t(e){if(e===RT&&Array.isArray(mv))return mv;var n=[];return R.Children.forEach(e,function(r){st(r)||(cF.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),mv=n,RT=e,n};function xr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return wi(i)}):r=[wi(e)],Eb(t).forEach(function(i){var a=ir(i,"type.displayName")||ir(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function tr(t,e){var n=xr(t,e);return n&&n[0]}var jT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Te(r)||r<=0||!Te(i)||i<=0)},CF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],TF=function(e){return e&&e.type&&oo(e.type)&&CF.indexOf(e.type)>=0},kF=function(e,n,r,i){var a,o=(a=pv==null?void 0:pv[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Xe(e)&&(i&&o.includes(n)||xF.includes(n))||r&&kb.includes(n)},Ke=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!al(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;kF((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=i[o])}),a},Ax=function t(e,n){if(e===n)return!0;var r=R.Children.count(e);if(r!==R.Children.count(n))return!1;if(r===0)return!0;if(r===1)return $T(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!$T(a,o))return!1}return!0},$T=function(e,n){if(st(e)&&st(n))return!0;if(!st(e)&&!st(n)){var r=e.props||{},i=r.children,a=MT(r,bF),o=n.props||{},l=o.children,c=MT(o,wF);return i&&l?bs(a,c)&&Ax(i,l):!i&&!l?bs(a,c):!1}return!1},LT=function(e,n){var r=[],i={};return Eb(e).forEach(function(a,o){if(TF(a))r.push(a);else if(a){var l=wi(a.type),c=n[l]||{},d=c.handler,f=c.once;if(d&&(!f||!i[l])){var h=d(a,l,o);r.push(h),i[l]=!0}}}),r},EF=function(e){var n=e&&e.type;return n&&DT[n]?DT[n]:null},AF=function(e,n){return Eb(n).indexOf(e)},PF=["children","width","height","viewBox","className","style","title","desc"];function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Px.apply(this,arguments)}function OF(t,e){if(t==null)return{};var n=IF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ox(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,d=OF(t,PF),f=i||{width:n,height:r,x:0,y:0},h=at("recharts-surface",a);return K.createElement("svg",Px({},Ke(d,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),K.createElement("title",null,l),K.createElement("desc",null,c),e)}var NF=["children","className"];function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ix.apply(this,arguments)}function MF(t,e){if(t==null)return{};var n=DF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xt=K.forwardRef(function(t,e){var n=t.children,r=t.className,i=MF(t,NF),a=at("recharts-layer",r);return K.createElement("g",Ix({className:a},Ke(i,!0),{ref:e}),n)}),$r=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},gv,BT;function RF(){if(BT)return gv;BT=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return gv=t,gv}var vv,FT;function jF(){if(FT)return vv;FT=1;var t=RF();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return vv=e,vv}var yv,qT;function MM(){if(qT)return yv;qT=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+a+"]");function c(d){return l.test(d)}return yv=c,yv}var xv,UT;function $F(){if(UT)return xv;UT=1;function t(e){return e.split("")}return xv=t,xv}var _v,VT;function LF(){if(VT)return _v;VT=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",b=d+"?",S="["+a+"]?",w="(?:"+_+"(?:"+[f,h,v].join("|")+")"+S+b+")*",A=S+b+w,O="(?:"+[f+l+"?",l,h,v,o].join("|")+")",T=RegExp(c+"(?="+c+")|"+O+A,"g");function I(E){return E.match(T)||[]}return _v=I,_v}var bv,zT;function BF(){if(zT)return bv;zT=1;var t=$F(),e=MM(),n=LF();function r(i){return e(i)?n(i):t(i)}return bv=r,bv}var wv,GT;function FF(){if(GT)return wv;GT=1;var t=jF(),e=MM(),n=BF(),r=PM();function i(a){return function(o){o=r(o);var l=e(o)?n(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[a]()+d}}return wv=i,wv}var Sv,HT;function qF(){if(HT)return Sv;HT=1;var t=FF(),e=t("toUpperCase");return Sv=e,Sv}var UF=qF();const Ph=mt(UF);function Pt(t){return function(){return t}}const DM=Math.cos,yf=Math.sin,qr=Math.sqrt,xf=Math.PI,Oh=2*xf,Nx=Math.PI,Mx=2*Nx,Ya=1e-6,VF=Mx-Ya;function RM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function zF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return RM;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class GF{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?RM:zF(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-e,d=i-n,f=o-e,h=l-n,v=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Ya)if(!(Math.abs(h*c-d*f)>Ya)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-o,b=i-l,S=c*c+d*d,w=_*_+b*b,A=Math.sqrt(S),O=Math.sqrt(v),T=a*Math.tan((Nx-Math.acos((S+v-w)/(2*A*O)))/2),I=T/O,E=T/A;Math.abs(I-1)>Ya&&this._append`L${e+I*f},${n+I*h}`,this._append`A${a},${a},0,0,${+(h*_>f*b)},${this._x1=e+E*c},${this._y1=n+E*d}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,f=n+c,h=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Ya||Math.abs(this._y1-f)>Ya)&&this._append`L${d},${f}`,r&&(v<0&&(v=v%Mx+Mx),v>VF?this._append`A${r},${r},0,1,${h},${e-l},${n-c}A${r},${r},0,1,${h},${this._x1=d},${this._y1=f}`:v>Ya&&this._append`A${r},${r},0,${+(v>=Nx)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ab(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new GF(e)}function Pb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jM(t){this._context=t}jM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ih(t){return new jM(t)}function $M(t){return t[0]}function LM(t){return t[1]}function BM(t,e){var n=Pt(!0),r=null,i=Ih,a=null,o=Ab(l);t=typeof t=="function"?t:t===void 0?$M:Pt(t),e=typeof e=="function"?e:e===void 0?LM:Pt(e);function l(c){var d,f=(c=Pb(c)).length,h,v=!1,_;for(r==null&&(a=i(_=o())),d=0;d<=f;++d)!(d<f&&n(h=c[d],d,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(h,d,c),+e(h,d,c));if(_)return a=null,_+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Pt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Pt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Pt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function Wd(t,e,n){var r=null,i=Pt(!0),a=null,o=Ih,l=null,c=Ab(d);t=typeof t=="function"?t:t===void 0?$M:Pt(+t),e=typeof e=="function"?e:Pt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?LM:Pt(+n);function d(h){var v,_,b,S=(h=Pb(h)).length,w,A=!1,O,T=new Array(S),I=new Array(S);for(a==null&&(l=o(O=c())),v=0;v<=S;++v){if(!(v<S&&i(w=h[v],v,h))===A)if(A=!A)_=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=v-1;b>=_;--b)l.point(T[b],I[b]);l.lineEnd(),l.areaEnd()}A&&(T[v]=+t(w,v,h),I[v]=+e(w,v,h),l.point(r?+r(w,v,h):T[v],n?+n(w,v,h):I[v]))}if(O)return l=null,O+""||null}function f(){return BM().defined(i).curve(o).context(a)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:Pt(+h),r=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Pt(+h),d):t},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Pt(+h),d):r},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Pt(+h),n=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Pt(+h),d):e},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Pt(+h),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Pt(!!h),d):i},d.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),d):o},d.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),d):a},d}class FM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function HF(t){return new FM(t,!0)}function WF(t){return new FM(t,!1)}const Ob={draw(t,e){const n=qr(e/xf);t.moveTo(n,0),t.arc(0,0,n,0,Oh)}},KF={draw(t,e){const n=qr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},qM=qr(1/3),YF=qM*2,JF={draw(t,e){const n=qr(e/YF),r=n*qM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},XF={draw(t,e){const n=qr(e),r=-n/2;t.rect(r,r,n,n)}},ZF=.8908130915292852,UM=yf(xf/10)/yf(7*xf/10),QF=yf(Oh/10)*UM,e3=-DM(Oh/10)*UM,t3={draw(t,e){const n=qr(e*ZF),r=QF*n,i=e3*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Oh*a/5,l=DM(o),c=yf(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},Cv=qr(3),n3={draw(t,e){const n=-qr(e/(Cv*3));t.moveTo(0,n*2),t.lineTo(-Cv*n,-n),t.lineTo(Cv*n,-n),t.closePath()}},pr=-.5,mr=qr(3)/2,Dx=1/qr(12),r3=(Dx/2+1)*3,i3={draw(t,e){const n=qr(e/r3),r=n/2,i=n*Dx,a=r,o=n*Dx+n,l=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(pr*r-mr*i,mr*r+pr*i),t.lineTo(pr*a-mr*o,mr*a+pr*o),t.lineTo(pr*l-mr*c,mr*l+pr*c),t.lineTo(pr*r+mr*i,pr*i-mr*r),t.lineTo(pr*a+mr*o,pr*o-mr*a),t.lineTo(pr*l+mr*c,pr*c-mr*l),t.closePath()}};function a3(t,e){let n=null,r=Ab(i);t=typeof t=="function"?t:Pt(t||Ob),e=typeof e=="function"?e:Pt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Pt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Pt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function _f(){}function bf(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function VM(t){this._context=t}VM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function o3(t){return new VM(t)}function zM(t){this._context=t}zM.prototype={areaStart:_f,areaEnd:_f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:bf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function s3(t){return new zM(t)}function GM(t){this._context=t}GM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:bf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function l3(t){return new GM(t)}function HM(t){this._context=t}HM.prototype={areaStart:_f,areaEnd:_f,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function u3(t){return new HM(t)}function WT(t){return t<0?-1:1}function KT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(WT(a)+WT(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function YT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tv(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function wf(t){this._context=t}wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tv(this,this._t0,YT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tv(this,YT(this,n=KT(this,t,e)),n);break;default:Tv(this,this._t0,n=KT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function WM(t){this._context=new KM(t)}(WM.prototype=Object.create(wf.prototype)).point=function(t,e){wf.prototype.point.call(this,e,t)};function KM(t){this._context=t}KM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function c3(t){return new wf(t)}function d3(t){return new WM(t)}function YM(t){this._context=t}YM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=JT(t),i=JT(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function JT(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function f3(t){return new YM(t)}function Nh(t,e){this._context=t,this._t=e}Nh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function h3(t){return new Nh(t,.5)}function p3(t){return new Nh(t,0)}function m3(t){return new Nh(t,1)}function Es(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,l=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Rx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function g3(t,e){return t[e]}function v3(t){const e=[];return e.key=t,e}function y3(){var t=Pt([]),e=Rx,n=Es,r=g3;function i(a){var o=Array.from(t.apply(this,arguments),v3),l,c=o.length,d=-1,f;for(const h of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+r(h,o[l].key,d,a)]).data=h;for(l=0,f=Pb(e(o));l<c;++l)o[f[l]].index=l;return n(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Pt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Pt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Rx:typeof a=="function"?a:Pt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Es,i):n},i}function x3(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Es(t,e)}}function _3(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Es(t,e)}}function b3(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,d=0;l<o;++l){for(var f=t[e[l]],h=f[r][1]||0,v=f[r-1][1]||0,_=(h-v)/2,b=0;b<l;++b){var S=t[e[b]],w=S[r][1]||0,A=S[r-1][1]||0;_+=w-A}c+=h,d+=_*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Es(t,e)}}function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}var w3=["type","size","sizeType"];function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){S3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S3(t,e,n){return e=C3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C3(t){var e=T3(t,"string");return ku(e)=="symbol"?e:e+""}function T3(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k3(t,e){if(t==null)return{};var n=E3(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var JM={symbolCircle:Ob,symbolCross:KF,symbolDiamond:JF,symbolSquare:XF,symbolStar:t3,symbolTriangle:n3,symbolWye:i3},A3=Math.PI/180,P3=function(e){var n="symbol".concat(Ph(e));return JM[n]||Ob},O3=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*A3;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},I3=function(e,n){JM["symbol".concat(Ph(e))]=n},Ib=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=k3(e,w3),d=ZT(ZT({},c),{},{type:r,size:a,sizeType:l}),f=function(){var w=P3(r),A=a3().type(w).size(O3(a,l,r));return A()},h=d.className,v=d.cx,_=d.cy,b=Ke(d,!0);return v===+v&&_===+_&&a===+a?K.createElement("path",jx({},b,{className:at("recharts-symbols",h),transform:"translate(".concat(v,", ").concat(_,")"),d:f()})):null};Ib.registerSymbol=I3;function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(this,arguments)}function QT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(n),!0).forEach(function(r){Eu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZM(r.key),r)}}function R3(t,e,n){return e&&D3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j3(t,e,n){return e=Sf(e),$3(t,XM()?Reflect.construct(e,n||[],Sf(t).constructor):e.apply(t,n))}function $3(t,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L3(t)}function L3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XM=function(){return!!t})()}function Sf(t){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sf(t)}function B3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lx(t,e)}function Lx(t,e){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lx(t,e)}function Eu(t,e,n){return e=ZM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZM(t){var e=F3(t,"string");return As(e)=="symbol"?e:e+""}function F3(t,e){if(As(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(As(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gr=32,Nb=function(t){function e(){return M3(this,e),j3(this,e,arguments)}return B3(e,t),R3(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=gr/2,o=gr/6,l=gr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:gr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(gr,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(gr/8,"h").concat(gr,"v").concat(gr*3/4,"h").concat(-gr,"z"),className:"recharts-legend-icon"});if(K.isValidElement(r.legendIcon)){var d=N3({},r);return delete d.legendIcon,K.cloneElement(r.legendIcon,d)}return K.createElement(Ib,{fill:c,cx:a,cy:a,size:gr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,f={x:0,y:0,width:gr,height:gr},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(_,b){var S=_.formatter||c,w=at(Eu(Eu({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",_.inactive));if(_.type==="none")return null;var A=Xe(_.value)?null:_.value;$r(!Xe(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=_.inactive?d:_.color;return K.createElement("li",$x({className:w,style:h,key:"legend-item-".concat(b)},so(r.props,_,b)),K.createElement(Ox,{width:o,height:o,viewBox:f,style:v},r.renderIcon(_)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},S?S(A,_,b):A))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(R.PureComponent);Eu(Nb,"displayName","Legend");Eu(Nb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var kv,ek;function q3(){if(ek)return kv;ek=1;var t=kh();function e(){this.__data__=new t,this.size=0}return kv=e,kv}var Ev,tk;function U3(){if(tk)return Ev;tk=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Ev=t,Ev}var Av,nk;function V3(){if(nk)return Av;nk=1;function t(e){return this.__data__.get(e)}return Av=t,Av}var Pv,rk;function z3(){if(rk)return Pv;rk=1;function t(e){return this.__data__.has(e)}return Pv=t,Pv}var Ov,ik;function G3(){if(ik)return Ov;ik=1;var t=kh(),e=wb(),n=Sb(),r=200;function i(a,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(a,o),this.size=l.size,this}return Ov=i,Ov}var Iv,ak;function QM(){if(ak)return Iv;ak=1;var t=kh(),e=q3(),n=U3(),r=V3(),i=z3(),a=G3();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,Iv=o,Iv}var Nv,ok;function H3(){if(ok)return Nv;ok=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Nv=e,Nv}var Mv,sk;function W3(){if(sk)return Mv;sk=1;function t(e){return this.__data__.has(e)}return Mv=t,Mv}var Dv,lk;function eD(){if(lk)return Dv;lk=1;var t=Sb(),e=H3(),n=W3();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Dv=r,Dv}var Rv,uk;function tD(){if(uk)return Rv;uk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Rv=t,Rv}var jv,ck;function nD(){if(ck)return jv;ck=1;function t(e,n){return e.has(n)}return jv=t,jv}var $v,dk;function rD(){if(dk)return $v;dk=1;var t=eD(),e=tD(),n=nD(),r=1,i=2;function a(o,l,c,d,f,h){var v=c&r,_=o.length,b=l.length;if(_!=b&&!(v&&b>_))return!1;var S=h.get(o),w=h.get(l);if(S&&w)return S==l&&w==o;var A=-1,O=!0,T=c&i?new t:void 0;for(h.set(o,l),h.set(l,o);++A<_;){var I=o[A],E=l[A];if(d)var P=v?d(E,I,A,l,o,h):d(I,E,A,o,l,h);if(P!==void 0){if(P)continue;O=!1;break}if(T){if(!e(l,function(N,D){if(!n(T,D)&&(I===N||f(I,N,c,d,h)))return T.push(D)})){O=!1;break}}else if(!(I===E||f(I,E,c,d,h))){O=!1;break}}return h.delete(o),h.delete(l),O}return $v=a,$v}var Lv,fk;function K3(){if(fk)return Lv;fk=1;var t=ti(),e=t.Uint8Array;return Lv=e,Lv}var Bv,hk;function Y3(){if(hk)return Bv;hk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return Bv=t,Bv}var Fv,pk;function Mb(){if(pk)return Fv;pk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Fv=t,Fv}var qv,mk;function J3(){if(mk)return qv;mk=1;var t=dc(),e=K3(),n=bb(),r=rD(),i=Y3(),a=Mb(),o=1,l=2,c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Map]",v="[object Number]",_="[object RegExp]",b="[object Set]",S="[object String]",w="[object Symbol]",A="[object ArrayBuffer]",O="[object DataView]",T=t?t.prototype:void 0,I=T?T.valueOf:void 0;function E(P,N,D,B,q,L,W){switch(D){case O:if(P.byteLength!=N.byteLength||P.byteOffset!=N.byteOffset)return!1;P=P.buffer,N=N.buffer;case A:return!(P.byteLength!=N.byteLength||!L(new e(P),new e(N)));case c:case d:case v:return n(+P,+N);case f:return P.name==N.name&&P.message==N.message;case _:case S:return P==N+"";case h:var J=i;case b:var H=B&o;if(J||(J=a),P.size!=N.size&&!H)return!1;var F=W.get(P);if(F)return F==N;B|=l,W.set(P,N);var Z=r(J(P),J(N),B,q,L,W);return W.delete(P),Z;case w:if(I)return I.call(P)==I.call(N)}return!1}return qv=E,qv}var Uv,gk;function iD(){if(gk)return Uv;gk=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return Uv=t,Uv}var Vv,vk;function X3(){if(vk)return Vv;vk=1;var t=iD(),e=Kn();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return Vv=n,Vv}var zv,yk;function Z3(){if(yk)return zv;yk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var l=e[r];n(l,r,e)&&(o[a++]=l)}return o}return zv=t,zv}var Gv,xk;function Q3(){if(xk)return Gv;xk=1;function t(){return[]}return Gv=t,Gv}var Hv,_k;function e4(){if(_k)return Hv;_k=1;var t=Z3(),e=Q3(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return r.call(o,l)}))}:e;return Hv=a,Hv}var Wv,bk;function t4(){if(bk)return Wv;bk=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Wv=t,Wv}var Kv,wk;function n4(){if(wk)return Kv;wk=1;var t=Pi(),e=Oi(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Kv=r,Kv}var Yv,Sk;function Db(){if(Sk)return Yv;Sk=1;var t=n4(),e=Oi(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Yv=a,Yv}var cu={exports:{}},Jv,Ck;function r4(){if(Ck)return Jv;Ck=1;function t(){return!1}return Jv=t,Jv}cu.exports;var Tk;function aD(){return Tk||(Tk=1,function(t,e){var n=ti(),r=r4(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;t.exports=d}(cu,cu.exports)),cu.exports}var Xv,kk;function Rb(){if(kk)return Xv;kk=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Xv=n,Xv}var Zv,Ek;function jb(){if(Ek)return Zv;Ek=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Zv=e,Zv}var Qv,Ak;function i4(){if(Ak)return Qv;Ak=1;var t=Pi(),e=jb(),n=Oi(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",v="[object RegExp]",_="[object Set]",b="[object String]",S="[object WeakMap]",w="[object ArrayBuffer]",A="[object DataView]",O="[object Float32Array]",T="[object Float64Array]",I="[object Int8Array]",E="[object Int16Array]",P="[object Int32Array]",N="[object Uint8Array]",D="[object Uint8ClampedArray]",B="[object Uint16Array]",q="[object Uint32Array]",L={};L[O]=L[T]=L[I]=L[E]=L[P]=L[N]=L[D]=L[B]=L[q]=!0,L[r]=L[i]=L[w]=L[a]=L[A]=L[o]=L[l]=L[c]=L[d]=L[f]=L[h]=L[v]=L[_]=L[b]=L[S]=!1;function W(J){return n(J)&&e(J.length)&&!!L[t(J)]}return Qv=W,Qv}var ey,Pk;function oD(){if(Pk)return ey;Pk=1;function t(e){return function(n){return e(n)}}return ey=t,ey}var du={exports:{}};du.exports;var Ok;function a4(){return Ok||(Ok=1,function(t,e){var n=kM(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(du,du.exports)),du.exports}var ty,Ik;function sD(){if(Ik)return ty;Ik=1;var t=i4(),e=oD(),n=a4(),r=n&&n.isTypedArray,i=r?e(r):t;return ty=i,ty}var ny,Nk;function o4(){if(Nk)return ny;Nk=1;var t=t4(),e=Db(),n=Kn(),r=aD(),i=Rb(),a=sD(),o=Object.prototype,l=o.hasOwnProperty;function c(d,f){var h=n(d),v=!h&&e(d),_=!h&&!v&&r(d),b=!h&&!v&&!_&&a(d),S=h||v||_||b,w=S?t(d.length,String):[],A=w.length;for(var O in d)(f||l.call(d,O))&&!(S&&(O=="length"||_&&(O=="offset"||O=="parent")||b&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||i(O,A)))&&w.push(O);return w}return ny=c,ny}var ry,Mk;function s4(){if(Mk)return ry;Mk=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return ry=e,ry}var iy,Dk;function lD(){if(Dk)return iy;Dk=1;function t(e,n){return function(r){return e(n(r))}}return iy=t,iy}var ay,Rk;function l4(){if(Rk)return ay;Rk=1;var t=lD(),e=t(Object.keys,Object);return ay=e,ay}var oy,jk;function u4(){if(jk)return oy;jk=1;var t=s4(),e=l4(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&o.push(l);return o}return oy=i,oy}var sy,$k;function pc(){if($k)return sy;$k=1;var t=_b(),e=jb();function n(r){return r!=null&&e(r.length)&&!t(r)}return sy=n,sy}var ly,Lk;function Mh(){if(Lk)return ly;Lk=1;var t=o4(),e=u4(),n=pc();function r(i){return n(i)?t(i):e(i)}return ly=r,ly}var uy,Bk;function c4(){if(Bk)return uy;Bk=1;var t=X3(),e=e4(),n=Mh();function r(i){return t(i,n,e)}return uy=r,uy}var cy,Fk;function d4(){if(Fk)return cy;Fk=1;var t=c4(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,l,c,d,f){var h=l&e,v=t(a),_=v.length,b=t(o),S=b.length;if(_!=S&&!h)return!1;for(var w=_;w--;){var A=v[w];if(!(h?A in o:r.call(o,A)))return!1}var O=f.get(a),T=f.get(o);if(O&&T)return O==o&&T==a;var I=!0;f.set(a,o),f.set(o,a);for(var E=h;++w<_;){A=v[w];var P=a[A],N=o[A];if(c)var D=h?c(N,P,A,o,a,f):c(P,N,A,a,o,f);if(!(D===void 0?P===N||d(P,N,l,c,f):D)){I=!1;break}E||(E=A=="constructor")}if(I&&!E){var B=a.constructor,q=o.constructor;B!=q&&"constructor"in a&&"constructor"in o&&!(typeof B=="function"&&B instanceof B&&typeof q=="function"&&q instanceof q)&&(I=!1)}return f.delete(a),f.delete(o),I}return cy=i,cy}var dy,qk;function f4(){if(qk)return dy;qk=1;var t=vo(),e=ti(),n=t(e,"DataView");return dy=n,dy}var fy,Uk;function h4(){if(Uk)return fy;Uk=1;var t=vo(),e=ti(),n=t(e,"Promise");return fy=n,fy}var hy,Vk;function uD(){if(Vk)return hy;Vk=1;var t=vo(),e=ti(),n=t(e,"Set");return hy=n,hy}var py,zk;function p4(){if(zk)return py;zk=1;var t=vo(),e=ti(),n=t(e,"WeakMap");return py=n,py}var my,Gk;function m4(){if(Gk)return my;Gk=1;var t=f4(),e=wb(),n=h4(),r=uD(),i=p4(),a=Pi(),o=EM(),l="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",v="[object DataView]",_=o(t),b=o(e),S=o(n),w=o(r),A=o(i),O=a;return(t&&O(new t(new ArrayBuffer(1)))!=v||e&&O(new e)!=l||n&&O(n.resolve())!=d||r&&O(new r)!=f||i&&O(new i)!=h)&&(O=function(T){var I=a(T),E=I==c?T.constructor:void 0,P=E?o(E):"";if(P)switch(P){case _:return v;case b:return l;case S:return d;case w:return f;case A:return h}return I}),my=O,my}var gy,Hk;function g4(){if(Hk)return gy;Hk=1;var t=QM(),e=rD(),n=J3(),r=d4(),i=m4(),a=Kn(),o=aD(),l=sD(),c=1,d="[object Arguments]",f="[object Array]",h="[object Object]",v=Object.prototype,_=v.hasOwnProperty;function b(S,w,A,O,T,I){var E=a(S),P=a(w),N=E?f:i(S),D=P?f:i(w);N=N==d?h:N,D=D==d?h:D;var B=N==h,q=D==h,L=N==D;if(L&&o(S)){if(!o(w))return!1;E=!0,B=!1}if(L&&!B)return I||(I=new t),E||l(S)?e(S,w,A,O,T,I):n(S,w,N,A,O,T,I);if(!(A&c)){var W=B&&_.call(S,"__wrapped__"),J=q&&_.call(w,"__wrapped__");if(W||J){var H=W?S.value():S,F=J?w.value():w;return I||(I=new t),T(H,F,A,O,I)}}return L?(I||(I=new t),r(S,w,A,O,T,I)):!1}return gy=b,gy}var vy,Wk;function $b(){if(Wk)return vy;Wk=1;var t=g4(),e=Oi();function n(r,i,a,o,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,l)}return vy=n,vy}var yy,Kk;function v4(){if(Kk)return yy;Kk=1;var t=QM(),e=$b(),n=1,r=2;function i(a,o,l,c){var d=l.length,f=d,h=!c;if(a==null)return!f;for(a=Object(a);d--;){var v=l[d];if(h&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++d<f;){v=l[d];var _=v[0],b=a[_],S=v[1];if(h&&v[2]){if(b===void 0&&!(_ in a))return!1}else{var w=new t;if(c)var A=c(b,S,_,a,o,w);if(!(A===void 0?e(S,b,n|r,c,w):A))return!1}}return!0}return yy=i,yy}var xy,Yk;function cD(){if(Yk)return xy;Yk=1;var t=xa();function e(n){return n===n&&!t(n)}return xy=e,xy}var _y,Jk;function y4(){if(Jk)return _y;Jk=1;var t=cD(),e=Mh();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],l=r[o];i[a]=[o,l,t(l)]}return i}return _y=n,_y}var by,Xk;function dD(){if(Xk)return by;Xk=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return by=t,by}var wy,Zk;function x4(){if(Zk)return wy;Zk=1;var t=v4(),e=y4(),n=dD();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return wy=r,wy}var Sy,Qk;function _4(){if(Qk)return Sy;Qk=1;function t(e,n){return e!=null&&n in Object(e)}return Sy=t,Sy}var Cy,eE;function b4(){if(eE)return Cy;eE=1;var t=OM(),e=Db(),n=Kn(),r=Rb(),i=jb(),a=Ah();function o(l,c,d){c=t(c,l);for(var f=-1,h=c.length,v=!1;++f<h;){var _=a(c[f]);if(!(v=l!=null&&d(l,_)))break;l=l[_]}return v||++f!=h?v:(h=l==null?0:l.length,!!h&&i(h)&&r(_,h)&&(n(l)||e(l)))}return Cy=o,Cy}var Ty,tE;function w4(){if(tE)return Ty;tE=1;var t=_4(),e=b4();function n(r,i){return r!=null&&e(r,i,t)}return Ty=n,Ty}var ky,nE;function S4(){if(nE)return ky;nE=1;var t=$b(),e=IM(),n=w4(),r=xb(),i=cD(),a=dD(),o=Ah(),l=1,c=2;function d(f,h){return r(f)&&i(h)?a(o(f),h):function(v){var _=e(v,f);return _===void 0&&_===h?n(v,f):t(h,_,l|c)}}return ky=d,ky}var Ey,rE;function ol(){if(rE)return Ey;rE=1;function t(e){return e}return Ey=t,Ey}var Ay,iE;function C4(){if(iE)return Ay;iE=1;function t(e){return function(n){return n==null?void 0:n[e]}}return Ay=t,Ay}var Py,aE;function T4(){if(aE)return Py;aE=1;var t=Tb();function e(n){return function(r){return t(r,n)}}return Py=e,Py}var Oy,oE;function k4(){if(oE)return Oy;oE=1;var t=C4(),e=T4(),n=xb(),r=Ah();function i(a){return n(a)?t(r(a)):e(a)}return Oy=i,Oy}var Iy,sE;function ni(){if(sE)return Iy;sE=1;var t=x4(),e=S4(),n=ol(),r=Kn(),i=k4();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return Iy=a,Iy}var Ny,lE;function fD(){if(lE)return Ny;lE=1;function t(e,n,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(e[o],o,e))return o;return-1}return Ny=t,Ny}var My,uE;function E4(){if(uE)return My;uE=1;function t(e){return e!==e}return My=t,My}var Dy,cE;function A4(){if(cE)return Dy;cE=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return Dy=t,Dy}var Ry,dE;function P4(){if(dE)return Ry;dE=1;var t=fD(),e=E4(),n=A4();function r(i,a,o){return a===a?n(i,a,o):t(i,e,o)}return Ry=r,Ry}var jy,fE;function O4(){if(fE)return jy;fE=1;var t=P4();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return jy=e,jy}var $y,hE;function I4(){if(hE)return $y;hE=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return $y=t,$y}var Ly,pE;function N4(){if(pE)return Ly;pE=1;function t(){}return Ly=t,Ly}var By,mE;function M4(){if(mE)return By;mE=1;var t=uD(),e=N4(),n=Mb(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return By=i,By}var Fy,gE;function D4(){if(gE)return Fy;gE=1;var t=eD(),e=O4(),n=I4(),r=nD(),i=M4(),a=Mb(),o=200;function l(c,d,f){var h=-1,v=e,_=c.length,b=!0,S=[],w=S;if(f)b=!1,v=n;else if(_>=o){var A=d?null:i(c);if(A)return a(A);b=!1,v=r,w=new t}else w=d?[]:S;e:for(;++h<_;){var O=c[h],T=d?d(O):O;if(O=f||O!==0?O:0,b&&T===T){for(var I=w.length;I--;)if(w[I]===T)continue e;d&&w.push(T),S.push(O)}else v(w,T,f)||(w!==S&&w.push(T),S.push(O))}return S}return Fy=l,Fy}var qy,vE;function R4(){if(vE)return qy;vE=1;var t=ni(),e=D4();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return qy=n,qy}var j4=R4();const yE=mt(j4);function hD(t,e,n){return e===!0?yE(t,n):Xe(e)?yE(t,e):t}function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}var $4=["ref"];function xE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(n),!0).forEach(function(r){Dh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mD(r.key),r)}}function B4(t,e,n){return e&&_E(t.prototype,e),n&&_E(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function F4(t,e,n){return e=Cf(e),q4(t,pD()?Reflect.construct(e,n||[],Cf(t).constructor):e.apply(t,n))}function q4(t,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U4(t)}function U4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!t})()}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(t)}function V4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bx(t,e)}function Bx(t,e){return Bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bx(t,e)}function Dh(t,e,n){return e=mD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mD(t){var e=z4(t,"string");return Ps(e)=="symbol"?e:e+""}function z4(t,e){if(Ps(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function G4(t,e){if(t==null)return{};var n=H4(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H4(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W4(t){return t.value}function K4(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var n=G4(e,$4);return K.createElement(Nb,n)}var bE=1,ha=function(t){function e(){var n;L4(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=F4(this,e,[].concat(i)),Dh(n,"lastBoundingBox",{width:-1,height:-1}),n}return V4(e,t),B4(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>bE||Math.abs(i.height-this.lastBoundingBox.height)>bE)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?mi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,f=i.chartHeight,h,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var _=this.getBBoxSnapshot();h={left:((d||0)-_.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();v={top:((f||0)-b.height)/2}}else v=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return mi(mi({},h),v)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,f=i.payload,h=mi(mi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(_){r.wrapperNode=_}},K4(a,mi(mi({},this.props),{},{payload:hD(f,d,W4)})))}}],[{key:"getWithHeight",value:function(r,i){var a=mi(mi({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Te(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(R.PureComponent);Dh(ha,"displayName","Legend");Dh(ha,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Uy,wE;function Y4(){if(wE)return Uy;wE=1;var t=dc(),e=Db(),n=Kn(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return Uy=i,Uy}var Vy,SE;function gD(){if(SE)return Vy;SE=1;var t=iD(),e=Y4();function n(r,i,a,o,l){var c=-1,d=r.length;for(a||(a=e),l||(l=[]);++c<d;){var f=r[c];i>0&&a(f)?i>1?n(f,i-1,a,o,l):t(l,f):o||(l[l.length]=f)}return l}return Vy=n,Vy}var zy,CE;function J4(){if(CE)return zy;CE=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),l=i(n),c=l.length;c--;){var d=l[e?c:++a];if(r(o[d],d,o)===!1)break}return n}}return zy=t,zy}var Gy,TE;function X4(){if(TE)return Gy;TE=1;var t=J4(),e=t();return Gy=e,Gy}var Hy,kE;function vD(){if(kE)return Hy;kE=1;var t=X4(),e=Mh();function n(r,i){return r&&t(r,i,e)}return Hy=n,Hy}var Wy,EE;function Z4(){if(EE)return Wy;EE=1;var t=pc();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var o=i.length,l=r?o:-1,c=Object(i);(r?l--:++l<o)&&a(c[l],l,c)!==!1;);return i}}return Wy=e,Wy}var Ky,AE;function Lb(){if(AE)return Ky;AE=1;var t=vD(),e=Z4(),n=e(t);return Ky=n,Ky}var Yy,PE;function yD(){if(PE)return Yy;PE=1;var t=Lb(),e=pc();function n(r,i){var a=-1,o=e(r)?Array(r.length):[];return t(r,function(l,c,d){o[++a]=i(l,c,d)}),o}return Yy=n,Yy}var Jy,OE;function Q4(){if(OE)return Jy;OE=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return Jy=t,Jy}var Xy,IE;function eq(){if(IE)return Xy;IE=1;var t=il();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,l=t(n),c=r!==void 0,d=r===null,f=r===r,h=t(r);if(!d&&!h&&!l&&n>r||l&&c&&f&&!d&&!h||a&&c&&f||!i&&f||!o)return 1;if(!a&&!l&&!h&&n<r||h&&i&&o&&!a&&!l||d&&i&&o||!c&&o||!f)return-1}return 0}return Xy=e,Xy}var Zy,NE;function tq(){if(NE)return Zy;NE=1;var t=eq();function e(n,r,i){for(var a=-1,o=n.criteria,l=r.criteria,c=o.length,d=i.length;++a<c;){var f=t(o[a],l[a]);if(f){if(a>=d)return f;var h=i[a];return f*(h=="desc"?-1:1)}}return n.index-r.index}return Zy=e,Zy}var Qy,ME;function nq(){if(ME)return Qy;ME=1;var t=Cb(),e=Tb(),n=ni(),r=yD(),i=Q4(),a=oD(),o=tq(),l=ol(),c=Kn();function d(f,h,v){h.length?h=t(h,function(S){return c(S)?function(w){return e(w,S.length===1?S[0]:S)}:S}):h=[l];var _=-1;h=t(h,a(n));var b=r(f,function(S,w,A){var O=t(h,function(T){return T(S)});return{criteria:O,index:++_,value:S}});return i(b,function(S,w){return o(S,w,v)})}return Qy=d,Qy}var e0,DE;function rq(){if(DE)return e0;DE=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return e0=t,e0}var t0,RE;function iq(){if(RE)return t0;RE=1;var t=rq(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),d=Array(c);++l<c;)d[l]=o[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=o[l];return f[i]=a(d),t(r,this,f)}}return t0=n,t0}var n0,jE;function aq(){if(jE)return n0;jE=1;function t(e){return function(){return e}}return n0=t,n0}var r0,$E;function xD(){if($E)return r0;$E=1;var t=vo(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return r0=e,r0}var i0,LE;function oq(){if(LE)return i0;LE=1;var t=aq(),e=xD(),n=ol(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return i0=r,i0}var a0,BE;function sq(){if(BE)return a0;BE=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var l=n(),c=e-(l-o);if(o=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return a0=r,a0}var o0,FE;function lq(){if(FE)return o0;FE=1;var t=oq(),e=sq(),n=e(t);return o0=n,o0}var s0,qE;function uq(){if(qE)return s0;qE=1;var t=ol(),e=iq(),n=lq();function r(i,a){return n(e(i,a,t),i+"")}return s0=r,s0}var l0,UE;function Rh(){if(UE)return l0;UE=1;var t=bb(),e=pc(),n=Rb(),r=xa();function i(a,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?e(l)&&n(o,l.length):c=="string"&&o in l)?t(l[o],a):!1}return l0=i,l0}var u0,VE;function cq(){if(VE)return u0;VE=1;var t=gD(),e=nq(),n=uq(),r=Rh(),i=n(function(a,o){if(a==null)return[];var l=o.length;return l>1&&r(a,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return u0=i,u0}var dq=cq();const Bb=mt(dq);function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fx.apply(this,arguments)}function fq(t,e){return gq(t)||mq(t,e)||pq(t,e)||hq()}function hq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pq(t,e){if(t){if(typeof t=="string")return zE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zE(t,e)}}function zE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function gq(t){if(Array.isArray(t))return t}function GE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(n),!0).forEach(function(r){vq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vq(t,e,n){return e=yq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yq(t){var e=xq(t,"string");return Au(e)=="symbol"?e:e+""}function xq(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _q(t){return Array.isArray(t)&&en(t[0])&&en(t[1])?t.join(" ~ "):t}var bq=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,f=e.payload,h=e.formatter,v=e.itemSorter,_=e.wrapperClassName,b=e.labelClassName,S=e.label,w=e.labelFormatter,A=e.accessibilityLayer,O=A===void 0?!1:A,T=function(){if(f&&f.length){var W={padding:0,margin:0},J=(v?Bb(f,v):f).map(function(H,F){if(H.type==="none")return null;var Z=c0({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),Y=H.formatter||h||_q,G=H.value,te=H.name,ae=G,j=te;if(Y&&ae!=null&&j!=null){var Q=Y(G,te,H,F,f);if(Array.isArray(Q)){var de=fq(Q,2);ae=de[0],j=de[1]}else ae=Q}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:Z},en(j)?K.createElement("span",{className:"recharts-tooltip-item-name"},j):null,en(j)?K.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,K.createElement("span",{className:"recharts-tooltip-item-value"},ae),K.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:W},J)}return null},I=c0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=c0({margin:0},d),P=!st(S),N=P?S:"",D=at("recharts-default-tooltip",_),B=at("recharts-tooltip-label",b);P&&w&&f!==void 0&&f!==null&&(N=w(S,f));var q=O?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",Fx({className:D,style:I},q),K.createElement("p",{className:B,style:E},K.isValidElement(N)?N:"".concat(N)),T())};function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function Kd(t,e,n){return e=wq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wq(t){var e=Sq(t,"string");return Pu(e)=="symbol"?e:e+""}function Sq(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ql="recharts-tooltip-wrapper",Cq={visibility:"hidden"};function Tq(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return at(Ql,Kd(Kd(Kd(Kd({},"".concat(Ql,"-right"),Te(n)&&e&&Te(e.x)&&n>=e.x),"".concat(Ql,"-left"),Te(n)&&e&&Te(e.x)&&n<e.x),"".concat(Ql,"-bottom"),Te(r)&&e&&Te(e.y)&&r>=e.y),"".concat(Ql,"-top"),Te(r)&&e&&Te(e.y)&&r<e.y))}function HE(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(a&&Te(a[r]))return a[r];var f=n[r]-l-i,h=n[r]+i;if(e[r])return o[r]?f:h;if(o[r]){var v=f,_=c[r];return v<_?Math.max(h,c[r]):Math.max(f,c[r])}var b=h+l,S=c[r]+d;return b>S?Math.max(f,c[r]):Math.max(h,c[r])}function kq(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Eq(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,f,h;return o.height>0&&o.width>0&&n?(f=HE({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=HE({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=kq({translateX:f,translateY:h,useTranslate3d:l})):d=Cq,{cssProperties:d,cssClasses:Tq({translateX:f,translateY:h,coordinate:n})}}function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function WE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(n),!0).forEach(function(r){Ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bD(r.key),r)}}function Oq(t,e,n){return e&&Pq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iq(t,e,n){return e=Tf(e),Nq(t,_D()?Reflect.construct(e,n||[],Tf(t).constructor):e.apply(t,n))}function Nq(t,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mq(t)}function Mq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_D=function(){return!!t})()}function Tf(t){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tf(t)}function Dq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qx(t,e)}function qx(t,e){return qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qx(t,e)}function Ux(t,e,n){return e=bD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bD(t){var e=Rq(t,"string");return Os(e)=="symbol"?e:e+""}function Rq(t,e){if(Os(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YE=1,jq=function(t){function e(){var n;Aq(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Iq(this,e,[].concat(i)),Ux(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ux(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),n}return Dq(e,t),Oq(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>YE||Math.abs(r.height-this.state.lastBoundingBox.height)>YE)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,f=i.coordinate,h=i.hasPayload,v=i.isAnimationActive,_=i.offset,b=i.position,S=i.reverseDirection,w=i.useTranslate3d,A=i.viewBox,O=i.wrapperStyle,T=Eq({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:_,position:b,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:A}),I=T.cssClasses,E=T.cssProperties,P=KE(KE({transition:v&&a?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},O);return K.createElement("div",{tabIndex:-1,className:I,style:P,ref:function(D){r.wrapperNode=D}},d)}}])}(R.PureComponent),$q=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},sl={isSsr:$q()};function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function JE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(n),!0).forEach(function(r){Fb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SD(r.key),r)}}function Fq(t,e,n){return e&&Bq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qq(t,e,n){return e=kf(e),Uq(t,wD()?Reflect.construct(e,n||[],kf(t).constructor):e.apply(t,n))}function Uq(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vq(t)}function Vq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wD=function(){return!!t})()}function kf(t){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kf(t)}function zq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vx(t,e)}function Vx(t,e){return Vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vx(t,e)}function Fb(t,e,n){return e=SD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SD(t){var e=Gq(t,"string");return Is(e)=="symbol"?e:e+""}function Gq(t,e){if(Is(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hq(t){return t.dataKey}function Wq(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(bq,e)}var Dr=function(t){function e(){return Lq(this,e),qq(this,e,arguments)}return zq(e,t),Fq(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,f=i.coordinate,h=i.filterNull,v=i.isAnimationActive,_=i.offset,b=i.payload,S=i.payloadUniqBy,w=i.position,A=i.reverseDirection,O=i.useTranslate3d,T=i.viewBox,I=i.wrapperStyle,E=b??[];h&&E.length&&(E=hD(b.filter(function(N){return N.value!=null&&(N.hide!==!0||r.props.includeHidden)}),S,Hq));var P=E.length>0;return K.createElement(jq,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:v,active:a,coordinate:f,hasPayload:P,offset:_,position:w,reverseDirection:A,useTranslate3d:O,viewBox:T,wrapperStyle:I},Wq(d,XE(XE({},this.props),{},{payload:E})))}}])}(R.PureComponent);Fb(Dr,"displayName","Tooltip");Fb(Dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!sl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var d0,ZE;function Kq(){if(ZE)return d0;ZE=1;var t=ti(),e=function(){return t.Date.now()};return d0=e,d0}var f0,QE;function Yq(){if(QE)return f0;QE=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return f0=e,f0}var h0,eA;function Jq(){if(eA)return h0;eA=1;var t=Yq(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return h0=n,h0}var p0,tA;function CD(){if(tA)return p0;tA=1;var t=Jq(),e=xa(),n=il(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=e(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=a.test(d);return h||o.test(d)?l(d.slice(2),h?2:8):i.test(d)?r:+d}return p0=c,p0}var m0,nA;function Xq(){if(nA)return m0;nA=1;var t=xa(),e=Kq(),n=CD(),r="Expected a function",i=Math.max,a=Math.min;function o(l,c,d){var f,h,v,_,b,S,w=0,A=!1,O=!1,T=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(d)&&(A=!!d.leading,O="maxWait"in d,v=O?i(n(d.maxWait)||0,c):v,T="trailing"in d?!!d.trailing:T);function I(J){var H=f,F=h;return f=h=void 0,w=J,_=l.apply(F,H),_}function E(J){return w=J,b=setTimeout(D,c),A?I(J):_}function P(J){var H=J-S,F=J-w,Z=c-H;return O?a(Z,v-F):Z}function N(J){var H=J-S,F=J-w;return S===void 0||H>=c||H<0||O&&F>=v}function D(){var J=e();if(N(J))return B(J);b=setTimeout(D,P(J))}function B(J){return b=void 0,T&&f?I(J):(f=h=void 0,_)}function q(){b!==void 0&&clearTimeout(b),w=0,f=S=h=b=void 0}function L(){return b===void 0?_:B(e())}function W(){var J=e(),H=N(J);if(f=arguments,h=this,S=J,H){if(b===void 0)return E(S);if(O)return clearTimeout(b),b=setTimeout(D,c),I(S)}return b===void 0&&(b=setTimeout(D,c)),_}return W.cancel=q,W.flush=L,W}return m0=o,m0}var g0,rA;function Zq(){if(rA)return g0;rA=1;var t=Xq(),e=xa(),n="Expected a function";function r(i,a,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return g0=r,g0}var Qq=Zq();const TD=mt(Qq);function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function iA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(n),!0).forEach(function(r){eU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eU(t,e,n){return e=tU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tU(t){var e=nU(t,"string");return Ou(e)=="symbol"?e:e+""}function nU(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rU(t,e){return sU(t)||oU(t,e)||aU(t,e)||iU()}function iU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aU(t,e){if(t){if(typeof t=="string")return aA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aA(t,e)}}function aA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function sU(t){if(Array.isArray(t))return t}var kD=R.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,f=d===void 0?0:d,h=t.minHeight,v=t.maxHeight,_=t.children,b=t.debounce,S=b===void 0?0:b,w=t.id,A=t.className,O=t.onResize,T=t.style,I=T===void 0?{}:T,E=R.useRef(null),P=R.useRef();P.current=O,R.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var N=R.useState({containerWidth:i.width,containerHeight:i.height}),D=rU(N,2),B=D[0],q=D[1],L=R.useCallback(function(J,H){q(function(F){var Z=Math.round(J),Y=Math.round(H);return F.containerWidth===Z&&F.containerHeight===Y?F:{containerWidth:Z,containerHeight:Y}})},[]);R.useEffect(function(){var J=function(te){var ae,j=te[0].contentRect,Q=j.width,de=j.height;L(Q,de),(ae=P.current)===null||ae===void 0||ae.call(P,Q,de)};S>0&&(J=TD(J,S,{trailing:!0,leading:!1}));var H=new ResizeObserver(J),F=E.current.getBoundingClientRect(),Z=F.width,Y=F.height;return L(Z,Y),H.observe(E.current),function(){H.disconnect()}},[L,S]);var W=R.useMemo(function(){var J=B.containerWidth,H=B.containerHeight;if(J<0||H<0)return null;$r(Qa(o)||Qa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),$r(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Qa(o)?J:o,Z=Qa(c)?H:c;n&&n>0&&(F?Z=F/n:Z&&(F=Z*n),v&&Z>v&&(Z=v)),$r(F>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,Z,o,c,f,h,n);var Y=!Array.isArray(_)&&wi(_.type).endsWith("Chart");return K.Children.map(_,function(G){return K.isValidElement(G)?R.cloneElement(G,Yd({width:F,height:Z},Y?{style:Yd({height:"100%",width:"100%",maxHeight:Z,maxWidth:F},G.props.style)}:{})):G})},[n,_,c,v,h,f,B,o]);return K.createElement("div",{id:w?"".concat(w):void 0,className:at("recharts-responsive-container",A),style:Yd(Yd({},I),{},{width:o,height:c,minWidth:f,minHeight:h,maxHeight:v}),ref:E},W)}),jh=function(e){return null};jh.displayName="Cell";function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function oA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(n),!0).forEach(function(r){lU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lU(t,e,n){return e=uU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){var e=cU(t,"string");return Iu(e)=="symbol"?e:e+""}function cU(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ls={widthCache:{},cacheCount:0},dU=2e3,fU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sA="recharts_measurement_span";function hU(t){var e=zx({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var yu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||sl.isSsr)return{width:0,height:0};var r=hU(n),i=JSON.stringify({text:e,copyStyle:r});if(ls.widthCache[i])return ls.widthCache[i];try{var a=document.getElementById(sA);a||(a=document.createElement("span"),a.setAttribute("id",sA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=zx(zx({},fU),r);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return ls.widthCache[i]=c,++ls.cacheCount>dU&&(ls.cacheCount=0,ls.widthCache={}),c}catch{return{width:0,height:0}}},pU=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function Ef(t,e){return yU(t)||vU(t,e)||gU(t,e)||mU()}function mU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gU(t,e){if(t){if(typeof t=="string")return lA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lA(t,e)}}function lA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function yU(t){if(Array.isArray(t))return t}function xU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bU(r.key),r)}}function _U(t,e,n){return e&&uA(t.prototype,e),n&&uA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bU(t){var e=wU(t,"string");return Nu(e)=="symbol"?e:e+""}function wU(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,CU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ED={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},TU=Object.keys(ED),ps="NaN";function kU(t,e){return t*ED[e]}var Jd=function(){function t(e,n){xU(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!SU.test(n)&&(this.num=NaN,this.unit=""),TU.includes(n)&&(this.num=kU(e,n),this.unit="px")}return _U(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=CU.exec(n))!==null&&r!==void 0?r:[],a=Ef(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function AD(t){if(t.includes(ps))return ps;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=cA.exec(e))!==null&&n!==void 0?n:[],i=Ef(r,4),a=i[1],o=i[2],l=i[3],c=Jd.parse(a??""),d=Jd.parse(l??""),f=o==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return ps;e=e.replace(cA,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,v=(h=dA.exec(e))!==null&&h!==void 0?h:[],_=Ef(v,4),b=_[1],S=_[2],w=_[3],A=Jd.parse(b??""),O=Jd.parse(w??""),T=S==="+"?A.add(O):A.subtract(O);if(T.isNaN())return ps;e=e.replace(dA,T.toString())}return e}var fA=/\(([^()]*)\)/;function EU(t){for(var e=t;e.includes("(");){var n=fA.exec(e),r=Ef(n,2),i=r[1];e=e.replace(fA,AD(i))}return e}function AU(t){var e=t.replace(/\s+/g,"");return e=EU(e),e=AD(e),e}function PU(t){try{return AU(t)}catch{return ps}}function v0(t){var e=PU(t.slice(5,-1));return e===ps?"":e}var OU=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],IU=["dx","dy","angle","className","breakAll"];function Gx(){return Gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gx.apply(this,arguments)}function hA(t,e){if(t==null)return{};var n=NU(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pA(t,e){return jU(t)||RU(t,e)||DU(t,e)||MU()}function MU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DU(t,e){if(t){if(typeof t=="string")return mA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mA(t,e)}}function mA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function jU(t){if(Array.isArray(t))return t}var PD=/[ \f\n\r\t\v\u2028\u2029]+/,OD=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];st(n)||(r?a=n.toString().split(""):a=n.toString().split(PD));var o=a.map(function(c){return{word:c,width:yu(c,i).width}}),l=r?0:yu(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},$U=function(e,n,r,i,a){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,f=Te(o),h=l,v=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(Z,Y){var G=Y.word,te=Y.width,ae=Z[Z.length-1];if(ae&&(i==null||a||ae.width+te+r<Number(i)))ae.words.push(G),ae.width+=te+r;else{var j={words:[G],width:te};Z.push(j)}return Z},[])},_=v(n),b=function(F){return F.reduce(function(Z,Y){return Z.width>Y.width?Z:Y})};if(!f)return _;for(var S="…",w=function(F){var Z=h.slice(0,F),Y=OD({breakAll:d,style:c,children:Z+S}).wordsWithComputedWidth,G=v(Y),te=G.length>o||b(G).width>Number(i);return[te,G]},A=0,O=h.length-1,T=0,I;A<=O&&T<=h.length-1;){var E=Math.floor((A+O)/2),P=E-1,N=w(P),D=pA(N,2),B=D[0],q=D[1],L=w(E),W=pA(L,1),J=W[0];if(!B&&!J&&(A=E+1),B&&J&&(O=E-1),!B&&J){I=q;break}T++}return I||_},gA=function(e){var n=st(e)?[]:e.toString().split(PD);return[{words:n}]},LU=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!sl.isSsr){var c,d,f=OD({breakAll:o,children:i,style:a});if(f){var h=f.wordsWithComputedWidth,v=f.spaceWidth;c=h,d=v}else return gA(i);return $U({breakAll:o,children:i,maxLines:l,style:a},c,d,n,r)}return gA(i)},vA="#808080",lo=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,f=e.scaleToFit,h=f===void 0?!1:f,v=e.textAnchor,_=v===void 0?"start":v,b=e.verticalAnchor,S=b===void 0?"end":b,w=e.fill,A=w===void 0?vA:w,O=hA(e,OU),T=R.useMemo(function(){return LU({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:h,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,h,O.style,O.width]),I=O.dx,E=O.dy,P=O.angle,N=O.className,D=O.breakAll,B=hA(O,IU);if(!en(r)||!en(a))return null;var q=r+(Te(I)?I:0),L=a+(Te(E)?E:0),W;switch(S){case"start":W=v0("calc(".concat(d,")"));break;case"middle":W=v0("calc(".concat((T.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:W=v0("calc(".concat(T.length-1," * -").concat(l,")"));break}var J=[];if(h){var H=T[0].width,F=O.width;J.push("scale(".concat((Te(F)?F/H:1)/H,")"))}return P&&J.push("rotate(".concat(P,", ").concat(q,", ").concat(L,")")),J.length&&(B.transform=J.join(" ")),K.createElement("text",Gx({},Ke(B,!0),{x:q,y:L,className:at("recharts-text",N),textAnchor:_,fill:A.includes("url")?vA:A}),T.map(function(Z,Y){var G=Z.words.join(D?"":" ");return K.createElement("tspan",{x:q,dy:Y===0?W:l,key:"".concat(G,"-").concat(Y)},G)}))};function pa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BU(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qb(t){let e,n,r;t.length!==2?(e=pa,n=(l,c)=>pa(t(l),c),r=(l,c)=>t(l)-c):(e=t===pa||t===BU?t:FU,n=t,r=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const h=d+f>>>1;n(l[h],c)<0?d=h+1:f=h}while(d<f)}return d}function a(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const h=d+f>>>1;n(l[h],c)<=0?d=h+1:f=h}while(d<f)}return d}function o(l,c,d=0,f=l.length){const h=i(l,c,d,f-1);return h>d&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:i,center:o,right:a}}function FU(){return 0}function ID(t){return t===null?NaN:+t}function*qU(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const UU=qb(pa),mc=UU.right;qb(ID).center;class yA extends Map{constructor(e,n=GU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(xA(this,e))}has(e){return super.has(xA(this,e))}set(e,n){return super.set(VU(this,e),n)}delete(e){return super.delete(zU(this,e))}}function xA({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function VU({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function zU({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function GU(t){return t!==null&&typeof t=="object"?t.valueOf():t}function HU(t=pa){if(t===pa)return ND;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ND(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const WU=Math.sqrt(50),KU=Math.sqrt(10),YU=Math.sqrt(2);function Af(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=WU?10:a>=KU?5:a>=YU?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?Af(t,e,n*2):[l,c,d]}function Hx(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Af(e,t,n):Af(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function Wx(t,e,n){return e=+e,t=+t,n=+n,Af(t,e,n)[2]}function Kx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Wx(e,t,n):Wx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function _A(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function bA(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function MD(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ND:HU(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),h=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*h*(c-h)/c)*(d-c/2<0?-1:1),_=Math.max(n,Math.floor(e-d*h/c+v)),b=Math.min(r,Math.floor(e+(c-d)*h/c+v));MD(t,e,_,b,i)}const a=t[e];let o=n,l=r;for(eu(t,n,e),i(t[r],a)>0&&eu(t,n,r);o<l;){for(eu(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?eu(t,n,l):(++l,eu(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function eu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function JU(t,e,n){if(t=Float64Array.from(qU(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return bA(t);if(e>=1)return _A(t);var r,i=(r-1)*e,a=Math.floor(i),o=_A(MD(t,a).subarray(0,a+1)),l=bA(t.subarray(a+1));return o+(l-o)*(i-a)}}function XU(t,e,n=ID){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function ZU(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function br(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ii(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Yx=Symbol("implicit");function Ub(){var t=new yA,e=[],n=[],r=Yx;function i(a){let o=t.get(a);if(o===void 0){if(r!==Yx)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new yA;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ub(e,n).unknown(r)},br.apply(i,arguments),i}function Mu(){var t=Ub().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,l=!1,c=0,d=0,f=.5;delete t.unknown;function h(){var v=e().length,_=i<r,b=_?i:r,S=_?r:i;a=(S-b)/Math.max(1,v-c+d*2),l&&(a=Math.floor(a)),b+=(S-b-a*(v-c))*f,o=a*(1-c),l&&(b=Math.round(b),o=Math.round(o));var w=ZU(v).map(function(A){return b+a*A});return n(_?w.reverse():w)}return t.domain=function(v){return arguments.length?(e(v),h()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(v){return arguments.length?(l=!!v,h()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,d=+v),h()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),h()):c},t.paddingOuter=function(v){return arguments.length?(d=+v,h()):d},t.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),h()):f},t.copy=function(){return Mu(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},br.apply(h(),arguments)}function DD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return DD(e())},t}function xu(){return DD(Mu.apply(null,arguments).paddingInner(1))}function Vb(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function RD(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gc(){}var Du=.7,Pf=1/Du,ws="\\s*([+-]?\\d+)\\s*",Ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QU=/^#([0-9a-f]{3,8})$/,e8=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),t8=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),n8=new RegExp(`^rgba\\(${ws},${ws},${ws},${Ru}\\)$`),r8=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${Ru}\\)$`),i8=new RegExp(`^hsl\\(${Ru},${Yr},${Yr}\\)$`),a8=new RegExp(`^hsla\\(${Ru},${Yr},${Yr},${Ru}\\)$`),wA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vb(gc,ju,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:SA,formatHex:SA,formatHex8:o8,formatHsl:s8,formatRgb:CA,toString:CA});function SA(){return this.rgb().formatHex()}function o8(){return this.rgb().formatHex8()}function s8(){return jD(this).formatHsl()}function CA(){return this.rgb().formatRgb()}function ju(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=QU.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?TA(e):n===3?new Wn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=e8.exec(t))?new Wn(e[1],e[2],e[3],1):(e=t8.exec(t))?new Wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=n8.exec(t))?Xd(e[1],e[2],e[3],e[4]):(e=r8.exec(t))?Xd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=i8.exec(t))?AA(e[1],e[2]/100,e[3]/100,1):(e=a8.exec(t))?AA(e[1],e[2]/100,e[3]/100,e[4]):wA.hasOwnProperty(t)?TA(wA[t]):t==="transparent"?new Wn(NaN,NaN,NaN,0):null}function TA(t){return new Wn(t>>16&255,t>>8&255,t&255,1)}function Xd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wn(t,e,n,r)}function l8(t){return t instanceof gc||(t=ju(t)),t?(t=t.rgb(),new Wn(t.r,t.g,t.b,t.opacity)):new Wn}function Jx(t,e,n,r){return arguments.length===1?l8(t):new Wn(t,e,n,r??1)}function Wn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Vb(Wn,Jx,RD(gc,{brighter(t){return t=t==null?Pf:Math.pow(Pf,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Du:Math.pow(Du,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wn(ro(this.r),ro(this.g),ro(this.b),Of(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kA,formatHex:kA,formatHex8:u8,formatRgb:EA,toString:EA}));function kA(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}`}function u8(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}${eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function EA(){const t=Of(this.opacity);return`${t===1?"rgb(":"rgba("}${ro(this.r)}, ${ro(this.g)}, ${ro(this.b)}${t===1?")":`, ${t})`}`}function Of(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ro(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function eo(t){return t=ro(t),(t<16?"0":"")+t.toString(16)}function AA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jr(t,e,n,r)}function jD(t){if(t instanceof jr)return new jr(t.h,t.s,t.l,t.opacity);if(t instanceof gc||(t=ju(t)),!t)return new jr;if(t instanceof jr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new jr(o,l,c,t.opacity)}function c8(t,e,n,r){return arguments.length===1?jD(t):new jr(t,e,n,r??1)}function jr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Vb(jr,c8,RD(gc,{brighter(t){return t=t==null?Pf:Math.pow(Pf,t),new jr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Du:Math.pow(Du,t),new jr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wn(y0(t>=240?t-240:t+120,i,r),y0(t,i,r),y0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new jr(PA(this.h),Zd(this.s),Zd(this.l),Of(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Of(this.opacity);return`${t===1?"hsl(":"hsla("}${PA(this.h)}, ${Zd(this.s)*100}%, ${Zd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function PA(t){return t=(t||0)%360,t<0?t+360:t}function Zd(t){return Math.max(0,Math.min(1,t||0))}function y0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const zb=t=>()=>t;function d8(t,e){return function(n){return t+n*e}}function f8(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function h8(t){return(t=+t)==1?$D:function(e,n){return n-e?f8(e,n,t):zb(isNaN(e)?n:e)}}function $D(t,e){var n=e-t;return n?d8(t,n):zb(isNaN(t)?e:t)}const OA=function t(e){var n=h8(e);function r(i,a){var o=n((i=Jx(i)).r,(a=Jx(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),d=$D(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r}(1);function p8(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function m8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function g8(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ll(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function v8(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function If(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function y8(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ll(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Xx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x0=new RegExp(Xx.source,"g");function x8(t){return function(){return t}}function _8(t){return function(e){return t(e)+""}}function b8(t,e){var n=Xx.lastIndex=x0.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=Xx.exec(t))&&(i=x0.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:If(r,i)})),n=x0.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?_8(c[0].x):x8(e):(e=c.length,function(d){for(var f=0,h;f<e;++f)l[(h=c[f]).i]=h.x(d);return l.join("")})}function ll(t,e){var n=typeof e,r;return e==null||n==="boolean"?zb(e):(n==="number"?If:n==="string"?(r=ju(e))?(e=r,OA):b8:e instanceof ju?OA:e instanceof Date?v8:m8(e)?p8:Array.isArray(e)?g8:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?y8:If)(t,e)}function Gb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function w8(t,e){e===void 0&&(e=t,t=ll);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function S8(t){return function(){return t}}function Nf(t){return+t}var IA=[0,1];function Dn(t){return t}function Zx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:S8(isNaN(e)?NaN:.5)}function C8(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function T8(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Zx(i,r),a=n(o,a)):(r=Zx(r,i),a=n(a,o)),function(l){return a(r(l))}}function k8(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Zx(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var c=mc(t,l,1,r)-1;return a[c](i[c](l))}}function vc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $h(){var t=IA,e=IA,n=ll,r,i,a,o=Dn,l,c,d;function f(){var v=Math.min(t.length,e.length);return o!==Dn&&(o=C8(t[0],t[v-1])),l=v>2?k8:T8,c=d=null,h}function h(v){return v==null||isNaN(v=+v)?a:(c||(c=l(t.map(r),e,n)))(r(o(v)))}return h.invert=function(v){return o(i((d||(d=l(e,t.map(r),If)))(v)))},h.domain=function(v){return arguments.length?(t=Array.from(v,Nf),f()):t.slice()},h.range=function(v){return arguments.length?(e=Array.from(v),f()):e.slice()},h.rangeRound=function(v){return e=Array.from(v),n=Gb,f()},h.clamp=function(v){return arguments.length?(o=v?!0:Dn,f()):o!==Dn},h.interpolate=function(v){return arguments.length?(n=v,f()):n},h.unknown=function(v){return arguments.length?(a=v,h):a},function(v,_){return r=v,i=_,f()}}function Hb(){return $h()(Dn,Dn)}function E8(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Mf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ns(t){return t=Mf(Math.abs(t)),t?t[1]:NaN}function A8(t,e){return function(n,r){for(var i=n.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function P8(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var O8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $u(t){if(!(e=O8.exec(t)))throw new Error("invalid format: "+t);var e;return new Wb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$u.prototype=Wb.prototype;function Wb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Wb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function I8(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var LD;function N8(t,e){var n=Mf(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(LD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Mf(t,Math.max(0,e+a-1))[0]}function NA(t,e){var n=Mf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const MA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:E8,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>NA(t*100,e),r:NA,s:N8,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function DA(t){return t}var RA=Array.prototype.map,jA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function M8(t){var e=t.grouping===void 0||t.thousands===void 0?DA:A8(RA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?DA:P8(RA.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=$u(h);var v=h.fill,_=h.align,b=h.sign,S=h.symbol,w=h.zero,A=h.width,O=h.comma,T=h.precision,I=h.trim,E=h.type;E==="n"?(O=!0,E="g"):MA[E]||(T===void 0&&(T=12),I=!0,E="g"),(w||v==="0"&&_==="=")&&(w=!0,v="0",_="=");var P=S==="$"?n:S==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",N=S==="$"?r:/[%p]/.test(E)?o:"",D=MA[E],B=/[defgprs%]/.test(E);T=T===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function q(L){var W=P,J=N,H,F,Z;if(E==="c")J=D(L)+J,L="";else{L=+L;var Y=L<0||1/L<0;if(L=isNaN(L)?c:D(Math.abs(L),T),I&&(L=I8(L)),Y&&+L==0&&b!=="+"&&(Y=!1),W=(Y?b==="("?b:l:b==="-"||b==="("?"":b)+W,J=(E==="s"?jA[8+LD/3]:"")+J+(Y&&b==="("?")":""),B){for(H=-1,F=L.length;++H<F;)if(Z=L.charCodeAt(H),48>Z||Z>57){J=(Z===46?i+L.slice(H+1):L.slice(H))+J,L=L.slice(0,H);break}}}O&&!w&&(L=e(L,1/0));var G=W.length+L.length+J.length,te=G<A?new Array(A-G+1).join(v):"";switch(O&&w&&(L=e(te+L,te.length?A-J.length:1/0),te=""),_){case"<":L=W+L+J+te;break;case"=":L=W+te+L+J;break;case"^":L=te.slice(0,G=te.length>>1)+W+L+J+te.slice(G);break;default:L=te+W+L+J;break}return a(L)}return q.toString=function(){return h+""},q}function f(h,v){var _=d((h=$u(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(Ns(v)/3)))*3,S=Math.pow(10,-b),w=jA[8+b/3];return function(A){return _(S*A)+w}}return{format:d,formatPrefix:f}}var Qd,Kb,BD;D8({thousands:",",grouping:[3],currency:["$",""]});function D8(t){return Qd=M8(t),Kb=Qd.format,BD=Qd.formatPrefix,Qd}function R8(t){return Math.max(0,-Ns(Math.abs(t)))}function j8(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ns(e)/3)))*3-Ns(Math.abs(t)))}function $8(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ns(e)-Ns(t))+1}function FD(t,e,n,r){var i=Kx(t,e,n),a;switch(r=$u(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=j8(i,o))&&(r.precision=a),BD(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=$8(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=R8(i))&&(r.precision=a-(r.type==="%")*2);break}}return Kb(r)}function _a(t){var e=t.domain;return t.ticks=function(n){var r=e();return Hx(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return FD(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],l=r[a],c,d,f=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);f-- >0;){if(d=Wx(o,l,n),d===c)return r[i]=o,r[a]=l,e(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Df(){var t=Hb();return t.copy=function(){return vc(t,Df())},br.apply(t,arguments),_a(t)}function qD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Nf),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return qD(t).unknown(e)},t=arguments.length?Array.from(t,Nf):[0,1],_a(n)}function UD(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function $A(t){return Math.log(t)}function LA(t){return Math.exp(t)}function L8(t){return-Math.log(-t)}function B8(t){return-Math.exp(-t)}function F8(t){return isFinite(t)?+("1e"+t):t<0?0:t}function q8(t){return t===10?F8:t===Math.E?Math.exp:e=>Math.pow(t,e)}function U8(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function BA(t){return(e,n)=>-t(-e,n)}function Yb(t){const e=t($A,LA),n=e.domain;let r=10,i,a;function o(){return i=U8(r),a=q8(r),n()[0]<0?(i=BA(i),a=BA(a),t(L8,B8)):t($A,LA),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let d=c[0],f=c[c.length-1];const h=f<d;h&&([d,f]=[f,d]);let v=i(d),_=i(f),b,S;const w=l==null?10:+l;let A=[];if(!(r%1)&&_-v<w){if(v=Math.floor(v),_=Math.ceil(_),d>0){for(;v<=_;++v)for(b=1;b<r;++b)if(S=v<0?b/a(-v):b*a(v),!(S<d)){if(S>f)break;A.push(S)}}else for(;v<=_;++v)for(b=r-1;b>=1;--b)if(S=v>0?b/a(-v):b*a(v),!(S<d)){if(S>f)break;A.push(S)}A.length*2<w&&(A=Hx(d,f,w))}else A=Hx(v,_,Math.min(_-v,w)).map(a);return h?A.reverse():A},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=$u(c)).precision==null&&(c.trim=!0),c=Kb(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=d?c(f):""}},e.nice=()=>n(UD(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function VD(){const t=Yb($h()).domain([1,10]);return t.copy=()=>vc(t,VD()).base(t.base()),br.apply(t,arguments),t}function FA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function qA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Jb(t){var e=1,n=t(FA(e),qA(e));return n.constant=function(r){return arguments.length?t(FA(e=+r),qA(e)):e},_a(n)}function zD(){var t=Jb($h());return t.copy=function(){return vc(t,zD()).constant(t.constant())},br.apply(t,arguments)}function UA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function V8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function z8(t){return t<0?-t*t:t*t}function Xb(t){var e=t(Dn,Dn),n=1;function r(){return n===1?t(Dn,Dn):n===.5?t(V8,z8):t(UA(n),UA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},_a(e)}function Zb(){var t=Xb($h());return t.copy=function(){return vc(t,Zb()).exponent(t.exponent())},br.apply(t,arguments),t}function G8(){return Zb.apply(null,arguments).exponent(.5)}function VA(t){return Math.sign(t)*t*t}function H8(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function GD(){var t=Hb(),e=[0,1],n=!1,r;function i(a){var o=H8(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(VA(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Nf)).map(VA)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return GD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},br.apply(i,arguments),_a(i)}function HD(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=XU(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:e[mc(n,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(pa),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return HD().domain(t).range(e).unknown(r)},br.apply(a,arguments)}function WD(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[mc(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return WD().domain([t,e]).range(i).unknown(a)},br.apply(_a(o),arguments)}function KD(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[mc(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return KD().domain(t).range(e).unknown(n)},br.apply(i,arguments)}const _0=new Date,b0=new Date;function tn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),e(a,l),t(a);while(d<a&&a<o);return c},i.filter=a=>tn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(_0.setTime(+a),b0.setTime(+o),t(_0),t(b0),Math.floor(n(_0,b0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Rf=tn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Rf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?tn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Rf);Rf.range;const xi=1e3,yr=xi*60,_i=yr*60,Ci=_i*24,Qb=Ci*7,zA=Ci*30,w0=Ci*365,to=tn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xi)},(t,e)=>(e-t)/xi,t=>t.getUTCSeconds());to.range;const ew=tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xi)},(t,e)=>{t.setTime(+t+e*yr)},(t,e)=>(e-t)/yr,t=>t.getMinutes());ew.range;const tw=tn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*yr)},(t,e)=>(e-t)/yr,t=>t.getUTCMinutes());tw.range;const nw=tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xi-t.getMinutes()*yr)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getHours());nw.range;const rw=tn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCHours());rw.range;const yc=tn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yr)/Ci,t=>t.getDate()-1);yc.range;const Lh=tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ci,t=>t.getUTCDate()-1);Lh.range;const YD=tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ci,t=>Math.floor(t/Ci));YD.range;function yo(t){return tn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*yr)/Qb)}const Bh=yo(0),jf=yo(1),W8=yo(2),K8=yo(3),Ms=yo(4),Y8=yo(5),J8=yo(6);Bh.range;jf.range;W8.range;K8.range;Ms.range;Y8.range;J8.range;function xo(t){return tn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Qb)}const Fh=xo(0),$f=xo(1),X8=xo(2),Z8=xo(3),Ds=xo(4),Q8=xo(5),e6=xo(6);Fh.range;$f.range;X8.range;Z8.range;Ds.range;Q8.range;e6.range;const iw=tn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());iw.range;const aw=tn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());aw.range;const Ti=tn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ti.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ti.range;const ki=tn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ki.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ki.range;function JD(t,e,n,r,i,a){const o=[[to,1,xi],[to,5,5*xi],[to,15,15*xi],[to,30,30*xi],[a,1,yr],[a,5,5*yr],[a,15,15*yr],[a,30,30*yr],[i,1,_i],[i,3,3*_i],[i,6,6*_i],[i,12,12*_i],[r,1,Ci],[r,2,2*Ci],[n,1,Qb],[e,1,zA],[e,3,3*zA],[t,1,w0]];function l(d,f,h){const v=f<d;v&&([d,f]=[f,d]);const _=h&&typeof h.range=="function"?h:c(d,f,h),b=_?_.range(d,+f+1):[];return v?b.reverse():b}function c(d,f,h){const v=Math.abs(f-d)/h,_=qb(([,,w])=>w).right(o,v);if(_===o.length)return t.every(Kx(d/w0,f/w0,h));if(_===0)return Rf.every(Math.max(Kx(d,f,h),1));const[b,S]=o[v/o[_-1][2]<o[_][2]/v?_-1:_];return b.every(S)}return[l,c]}const[t6,n6]=JD(ki,aw,Fh,YD,rw,tw),[r6,i6]=JD(Ti,iw,Bh,yc,nw,ew);function S0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function C0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function tu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function a6(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=nu(i),f=ru(i),h=nu(a),v=ru(a),_=nu(o),b=ru(o),S=nu(l),w=ru(l),A=nu(c),O=ru(c),T={a:Y,A:G,b:te,B:ae,c:null,d:JA,e:JA,f:A6,g:L6,G:F6,H:T6,I:k6,j:E6,L:XD,m:P6,M:O6,p:j,q:Q,Q:QA,s:eP,S:I6,u:N6,U:M6,V:D6,w:R6,W:j6,x:null,X:null,y:$6,Y:B6,Z:q6,"%":ZA},I={a:de,A:_e,b:ce,B:Ie,c:null,d:XA,e:XA,f:G6,g:tV,G:rV,H:U6,I:V6,j:z6,L:QD,m:H6,M:W6,p:Je,q:He,Q:QA,s:eP,S:K6,u:Y6,U:J6,V:X6,w:Z6,W:Q6,x:null,X:null,y:eV,Y:nV,Z:iV,"%":ZA},E={a:q,A:L,b:W,B:J,c:H,d:KA,e:KA,f:b6,g:WA,G:HA,H:YA,I:YA,j:v6,L:_6,m:g6,M:y6,p:B,q:m6,Q:S6,s:C6,S:x6,u:c6,U:d6,V:f6,w:u6,W:h6,x:F,X:Z,y:WA,Y:HA,Z:p6,"%":w6};T.x=P(n,T),T.X=P(r,T),T.c=P(e,T),I.x=P(n,I),I.X=P(r,I),I.c=P(e,I);function P(ye,Be){return function(ze){var fe=[],yt=-1,tt=0,Tt=ye.length,bt,qt,Ln;for(ze instanceof Date||(ze=new Date(+ze));++yt<Tt;)ye.charCodeAt(yt)===37&&(fe.push(ye.slice(tt,yt)),(qt=GA[bt=ye.charAt(++yt)])!=null?bt=ye.charAt(++yt):qt=bt==="e"?" ":"0",(Ln=Be[bt])&&(bt=Ln(ze,qt)),fe.push(bt),tt=yt+1);return fe.push(ye.slice(tt,yt)),fe.join("")}}function N(ye,Be){return function(ze){var fe=tu(1900,void 0,1),yt=D(fe,ye,ze+="",0),tt,Tt;if(yt!=ze.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Be&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(tt=C0(tu(fe.y,0,1)),Tt=tt.getUTCDay(),tt=Tt>4||Tt===0?$f.ceil(tt):$f(tt),tt=Lh.offset(tt,(fe.V-1)*7),fe.y=tt.getUTCFullYear(),fe.m=tt.getUTCMonth(),fe.d=tt.getUTCDate()+(fe.w+6)%7):(tt=S0(tu(fe.y,0,1)),Tt=tt.getDay(),tt=Tt>4||Tt===0?jf.ceil(tt):jf(tt),tt=yc.offset(tt,(fe.V-1)*7),fe.y=tt.getFullYear(),fe.m=tt.getMonth(),fe.d=tt.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Tt="Z"in fe?C0(tu(fe.y,0,1)).getUTCDay():S0(tu(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Tt+5)%7:fe.w+fe.U*7-(Tt+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,C0(fe)):S0(fe)}}function D(ye,Be,ze,fe){for(var yt=0,tt=Be.length,Tt=ze.length,bt,qt;yt<tt;){if(fe>=Tt)return-1;if(bt=Be.charCodeAt(yt++),bt===37){if(bt=Be.charAt(yt++),qt=E[bt in GA?Be.charAt(yt++):bt],!qt||(fe=qt(ye,ze,fe))<0)return-1}else if(bt!=ze.charCodeAt(fe++))return-1}return fe}function B(ye,Be,ze){var fe=d.exec(Be.slice(ze));return fe?(ye.p=f.get(fe[0].toLowerCase()),ze+fe[0].length):-1}function q(ye,Be,ze){var fe=_.exec(Be.slice(ze));return fe?(ye.w=b.get(fe[0].toLowerCase()),ze+fe[0].length):-1}function L(ye,Be,ze){var fe=h.exec(Be.slice(ze));return fe?(ye.w=v.get(fe[0].toLowerCase()),ze+fe[0].length):-1}function W(ye,Be,ze){var fe=A.exec(Be.slice(ze));return fe?(ye.m=O.get(fe[0].toLowerCase()),ze+fe[0].length):-1}function J(ye,Be,ze){var fe=S.exec(Be.slice(ze));return fe?(ye.m=w.get(fe[0].toLowerCase()),ze+fe[0].length):-1}function H(ye,Be,ze){return D(ye,e,Be,ze)}function F(ye,Be,ze){return D(ye,n,Be,ze)}function Z(ye,Be,ze){return D(ye,r,Be,ze)}function Y(ye){return o[ye.getDay()]}function G(ye){return a[ye.getDay()]}function te(ye){return c[ye.getMonth()]}function ae(ye){return l[ye.getMonth()]}function j(ye){return i[+(ye.getHours()>=12)]}function Q(ye){return 1+~~(ye.getMonth()/3)}function de(ye){return o[ye.getUTCDay()]}function _e(ye){return a[ye.getUTCDay()]}function ce(ye){return c[ye.getUTCMonth()]}function Ie(ye){return l[ye.getUTCMonth()]}function Je(ye){return i[+(ye.getUTCHours()>=12)]}function He(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var Be=P(ye+="",T);return Be.toString=function(){return ye},Be},parse:function(ye){var Be=N(ye+="",!1);return Be.toString=function(){return ye},Be},utcFormat:function(ye){var Be=P(ye+="",I);return Be.toString=function(){return ye},Be},utcParse:function(ye){var Be=N(ye+="",!0);return Be.toString=function(){return ye},Be}}}var GA={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,o6=/^%/,s6=/[\\^$*+?|[\]().{}]/g;function pt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function l6(t){return t.replace(s6,"\\$&")}function nu(t){return new RegExp("^(?:"+t.map(l6).join("|")+")","i")}function ru(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function u6(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function c6(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function d6(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function f6(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function h6(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function HA(t,e,n){var r=dn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function WA(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function p6(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function m6(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function g6(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function KA(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function v6(t,e,n){var r=dn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function YA(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function y6(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function x6(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _6(t,e,n){var r=dn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function b6(t,e,n){var r=dn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function w6(t,e,n){var r=o6.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function S6(t,e,n){var r=dn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function C6(t,e,n){var r=dn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function JA(t,e){return pt(t.getDate(),e,2)}function T6(t,e){return pt(t.getHours(),e,2)}function k6(t,e){return pt(t.getHours()%12||12,e,2)}function E6(t,e){return pt(1+yc.count(Ti(t),t),e,3)}function XD(t,e){return pt(t.getMilliseconds(),e,3)}function A6(t,e){return XD(t,e)+"000"}function P6(t,e){return pt(t.getMonth()+1,e,2)}function O6(t,e){return pt(t.getMinutes(),e,2)}function I6(t,e){return pt(t.getSeconds(),e,2)}function N6(t){var e=t.getDay();return e===0?7:e}function M6(t,e){return pt(Bh.count(Ti(t)-1,t),e,2)}function ZD(t){var e=t.getDay();return e>=4||e===0?Ms(t):Ms.ceil(t)}function D6(t,e){return t=ZD(t),pt(Ms.count(Ti(t),t)+(Ti(t).getDay()===4),e,2)}function R6(t){return t.getDay()}function j6(t,e){return pt(jf.count(Ti(t)-1,t),e,2)}function $6(t,e){return pt(t.getFullYear()%100,e,2)}function L6(t,e){return t=ZD(t),pt(t.getFullYear()%100,e,2)}function B6(t,e){return pt(t.getFullYear()%1e4,e,4)}function F6(t,e){var n=t.getDay();return t=n>=4||n===0?Ms(t):Ms.ceil(t),pt(t.getFullYear()%1e4,e,4)}function q6(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function XA(t,e){return pt(t.getUTCDate(),e,2)}function U6(t,e){return pt(t.getUTCHours(),e,2)}function V6(t,e){return pt(t.getUTCHours()%12||12,e,2)}function z6(t,e){return pt(1+Lh.count(ki(t),t),e,3)}function QD(t,e){return pt(t.getUTCMilliseconds(),e,3)}function G6(t,e){return QD(t,e)+"000"}function H6(t,e){return pt(t.getUTCMonth()+1,e,2)}function W6(t,e){return pt(t.getUTCMinutes(),e,2)}function K6(t,e){return pt(t.getUTCSeconds(),e,2)}function Y6(t){var e=t.getUTCDay();return e===0?7:e}function J6(t,e){return pt(Fh.count(ki(t)-1,t),e,2)}function e2(t){var e=t.getUTCDay();return e>=4||e===0?Ds(t):Ds.ceil(t)}function X6(t,e){return t=e2(t),pt(Ds.count(ki(t),t)+(ki(t).getUTCDay()===4),e,2)}function Z6(t){return t.getUTCDay()}function Q6(t,e){return pt($f.count(ki(t)-1,t),e,2)}function eV(t,e){return pt(t.getUTCFullYear()%100,e,2)}function tV(t,e){return t=e2(t),pt(t.getUTCFullYear()%100,e,2)}function nV(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function rV(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ds(t):Ds.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function iV(){return"+0000"}function ZA(){return"%"}function QA(t){return+t}function eP(t){return Math.floor(+t/1e3)}var us,t2,n2;aV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aV(t){return us=a6(t),t2=us.format,us.parse,n2=us.utcFormat,us.utcParse,us}function oV(t){return new Date(t)}function sV(t){return t instanceof Date?+t:+new Date(+t)}function ow(t,e,n,r,i,a,o,l,c,d){var f=Hb(),h=f.invert,v=f.domain,_=d(".%L"),b=d(":%S"),S=d("%I:%M"),w=d("%I %p"),A=d("%a %d"),O=d("%b %d"),T=d("%B"),I=d("%Y");function E(P){return(c(P)<P?_:l(P)<P?b:o(P)<P?S:a(P)<P?w:r(P)<P?i(P)<P?A:O:n(P)<P?T:I)(P)}return f.invert=function(P){return new Date(h(P))},f.domain=function(P){return arguments.length?v(Array.from(P,sV)):v().map(oV)},f.ticks=function(P){var N=v();return t(N[0],N[N.length-1],P??10)},f.tickFormat=function(P,N){return N==null?E:d(N)},f.nice=function(P){var N=v();return(!P||typeof P.range!="function")&&(P=e(N[0],N[N.length-1],P??10)),P?v(UD(N,P)):f},f.copy=function(){return vc(f,ow(t,e,n,r,i,a,o,l,c,d))},f}function lV(){return br.apply(ow(r6,i6,Ti,iw,Bh,yc,nw,ew,to,t2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uV(){return br.apply(ow(t6,n6,ki,aw,Fh,Lh,rw,tw,to,n2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qh(){var t=0,e=1,n,r,i,a,o=Dn,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(a(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function f(h){return function(v){var _,b;return arguments.length?([_,b]=v,o=h(_,b),d):[o(0),o(1)]}}return d.range=f(ll),d.rangeRound=f(Gb),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),d}}function ba(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function r2(){var t=_a(qh()(Dn));return t.copy=function(){return ba(t,r2())},Ii.apply(t,arguments)}function i2(){var t=Yb(qh()).domain([1,10]);return t.copy=function(){return ba(t,i2()).base(t.base())},Ii.apply(t,arguments)}function a2(){var t=Jb(qh());return t.copy=function(){return ba(t,a2()).constant(t.constant())},Ii.apply(t,arguments)}function sw(){var t=Xb(qh());return t.copy=function(){return ba(t,sw()).exponent(t.exponent())},Ii.apply(t,arguments)}function cV(){return sw.apply(null,arguments).exponent(.5)}function o2(){var t=[],e=Dn;function n(r){if(r!=null&&!isNaN(r=+r))return e((mc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(pa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>JU(t,a/r))},n.copy=function(){return o2(e).domain(t)},Ii.apply(n,arguments)}function Uh(){var t=0,e=.5,n=1,r=1,i,a,o,l,c,d=Dn,f,h=!1,v;function _(S){return isNaN(S=+S)?v:(S=.5+((S=+f(S))-a)*(r*S<r*a?l:c),d(h?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,i=f(t=+t),a=f(e=+e),o=f(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(h=!!S,_):h},_.interpolator=function(S){return arguments.length?(d=S,_):d};function b(S){return function(w){var A,O,T;return arguments.length?([A,O,T]=w,d=w8(S,[A,O,T]),_):[d(0),d(.5),d(1)]}}return _.range=b(ll),_.rangeRound=b(Gb),_.unknown=function(S){return arguments.length?(v=S,_):v},function(S){return f=S,i=S(t),a=S(e),o=S(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,_}}function s2(){var t=_a(Uh()(Dn));return t.copy=function(){return ba(t,s2())},Ii.apply(t,arguments)}function l2(){var t=Yb(Uh()).domain([.1,1,10]);return t.copy=function(){return ba(t,l2()).base(t.base())},Ii.apply(t,arguments)}function u2(){var t=Jb(Uh());return t.copy=function(){return ba(t,u2()).constant(t.constant())},Ii.apply(t,arguments)}function lw(){var t=Xb(Uh());return t.copy=function(){return ba(t,lw()).exponent(t.exponent())},Ii.apply(t,arguments)}function dV(){return lw.apply(null,arguments).exponent(.5)}const tP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mu,scaleDiverging:s2,scaleDivergingLog:l2,scaleDivergingPow:lw,scaleDivergingSqrt:dV,scaleDivergingSymlog:u2,scaleIdentity:qD,scaleImplicit:Yx,scaleLinear:Df,scaleLog:VD,scaleOrdinal:Ub,scalePoint:xu,scalePow:Zb,scaleQuantile:HD,scaleQuantize:WD,scaleRadial:GD,scaleSequential:r2,scaleSequentialLog:i2,scaleSequentialPow:sw,scaleSequentialQuantile:o2,scaleSequentialSqrt:cV,scaleSequentialSymlog:a2,scaleSqrt:G8,scaleSymlog:zD,scaleThreshold:KD,scaleTime:lV,scaleUtc:uV,tickFormat:FD},Symbol.toStringTag,{value:"Module"}));var T0,nP;function Vh(){if(nP)return T0;nP=1;var t=il();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var l=n[a],c=r(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,f=l}return f}return T0=e,T0}var k0,rP;function c2(){if(rP)return k0;rP=1;function t(e,n){return e>n}return k0=t,k0}var E0,iP;function fV(){if(iP)return E0;iP=1;var t=Vh(),e=c2(),n=ol();function r(i){return i&&i.length?t(i,n,e):void 0}return E0=r,E0}var hV=fV();const zh=mt(hV);var A0,aP;function d2(){if(aP)return A0;aP=1;function t(e,n){return e<n}return A0=t,A0}var P0,oP;function pV(){if(oP)return P0;oP=1;var t=Vh(),e=d2(),n=ol();function r(i){return i&&i.length?t(i,n,e):void 0}return P0=r,P0}var mV=pV();const Gh=mt(mV);var O0,sP;function gV(){if(sP)return O0;sP=1;var t=Cb(),e=ni(),n=yD(),r=Kn();function i(a,o){var l=r(a)?t:n;return l(a,e(o,3))}return O0=i,O0}var I0,lP;function vV(){if(lP)return I0;lP=1;var t=gD(),e=gV();function n(r,i){return t(e(r,i),1)}return I0=n,I0}var yV=vV();const xV=mt(yV);var N0,uP;function _V(){if(uP)return N0;uP=1;var t=$b();function e(n,r){return t(n,r)}return N0=e,N0}var bV=_V();const Hh=mt(bV);var ul=1e9,wV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cw,$t=!0,_r="[DecimalError] ",io=_r+"Invalid argument: ",uw=_r+"Exponent out of range: ",cl=Math.floor,Ja=Math.pow,SV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nr,ln=1e7,Rt=7,f2=9007199254740991,Lf=cl(f2/Rt),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Rt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(t){return Si(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,n=e.constructor;return Ct(Si(e,new n(t),0,1),n.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return Yt(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(nr))throw Error(_r+"NaN");if(n.s<1)throw Error(_r+(n.s?"NaN":"-Infinity"));return n.eq(nr)?new r(0):($t=!1,e=Si(Lu(n,a),Lu(t,a),a),$t=!0,Ct(e,i))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?m2(e,t):h2(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(_r+"NaN");return n.s?($t=!1,e=Si(n,t,0,1).times(t),$t=!0,n.minus(e)):Ct(new r(n),i)};Me.naturalExponential=Me.exp=function(){return p2(this)};Me.naturalLogarithm=Me.ln=function(){return Lu(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?h2(e,t):m2(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(io+t);if(e=Yt(i)+1,r=i.d.length-1,n=r*Rt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Me.squareRoot=Me.sqrt=function(){var t,e,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(_r+"NaN")}for(t=Yt(l),$t=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Hr(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(Si(l,a,o+2)).times(.5),Hr(a.d).slice(0,o)===(e=Hr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ct(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;o+=4}return $t=!0,Ct(r,n)};Me.times=Me.mul=function(t){var e,n,r,i,a,o,l,c,d,f=this,h=f.constructor,v=f.d,_=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,c=v.length,d=_.length,c<d&&(a=v,v=_,_=a,o=c,c=d,d=o),a=[],o=c+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+_[r]*v[i-r-1]+e,a[i--]=l%ln|0,e=l/ln|0;a[i]=(a[i]+e)%ln|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,$t?Ct(t,h.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Zr(t,0,ul),e===void 0?e=r.rounding:Zr(e,0,8),Ct(n,t+Yt(n)+1,e))};Me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=uo(r,!0):(Zr(t,0,ul),e===void 0?e=i.rounding:Zr(e,0,8),r=Ct(new i(r),t+1,e),n=uo(r,!0,t+1)),n};Me.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?uo(i):(Zr(t,0,ul),e===void 0?e=a.rounding:Zr(e,0,8),r=Ct(new a(i),t+Yt(i)+1,e),n=uo(r.abs(),!1,t+Yt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return Ct(new e(t),Yt(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,n,r,i,a,o,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(nr);if(l=new c(l),!l.s){if(t.s<1)throw Error(_r+"Infinity");return l}if(l.eq(nr))return l;if(r=c.precision,t.eq(nr))return Ct(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=l.s,o){if((n=f<0?-f:f)<=f2){for(i=new c(nr),e=Math.ceil(r/Rt+4),$t=!1;n%2&&(i=i.times(l),dP(i.d,e)),n=cl(n/2),n!==0;)l=l.times(l),dP(l.d,e);return $t=!0,t.s<0?new c(nr).div(i):Ct(i,r)}}else if(a<0)throw Error(_r+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,$t=!1,i=t.times(Lu(l,r+d)),$t=!0,i=p2(i),i.s=a,i};Me.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Yt(i),r=uo(i,n<=a.toExpNeg||n>=a.toExpPos)):(Zr(t,1,ul),e===void 0?e=a.rounding:Zr(e,0,8),i=Ct(new a(i),t,e),n=Yt(i),r=uo(i,t<=n||n<=a.toExpNeg,t)),r};Me.toSignificantDigits=Me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Zr(t,1,ul),e===void 0?e=r.rounding:Zr(e,0,8)),Ct(new r(n),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Yt(t),n=t.constructor;return uo(t,e<=n.toExpNeg||e>=n.toExpPos)};function h2(t,e){var n,r,i,a,o,l,c,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),$t?Ct(e,h):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=d.length):(r=d,i=o,l=c.length),o=Math.ceil(h/Rt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/ln|0,c[a]%=ln;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,$t?Ct(e,h):e}function Zr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(io+t)}function Hr(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Rt-r.length,n&&(a+=la(n)),a+=r;o=t[e],r=o+"",n=Rt-r.length,n&&(a+=la(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Si=function(){function t(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%ln|0,o=a/ln|0;return o&&r.unshift(o),r}function e(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ln+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,d,f,h,v,_,b,S,w,A,O,T,I,E,P,N,D,B=r.constructor,q=r.s==i.s?1:-1,L=r.d,W=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(_r+"Division by zero");for(c=r.e-i.e,N=W.length,E=L.length,_=new B(q),b=_.d=[],d=0;W[d]==(L[d]||0);)++d;if(W[d]>(L[d]||0)&&--c,a==null?O=a=B.precision:o?O=a+(Yt(r)-Yt(i))+1:O=a,O<0)return new B(0);if(O=O/Rt+2|0,d=0,N==1)for(f=0,W=W[0],O++;(d<E||f)&&O--;d++)T=f*ln+(L[d]||0),b[d]=T/W|0,f=T%W|0;else{for(f=ln/(W[0]+1)|0,f>1&&(W=t(W,f),L=t(L,f),N=W.length,E=L.length),I=N,S=L.slice(0,N),w=S.length;w<N;)S[w++]=0;D=W.slice(),D.unshift(0),P=W[0],W[1]>=ln/2&&++P;do f=0,l=e(W,S,N,w),l<0?(A=S[0],N!=w&&(A=A*ln+(S[1]||0)),f=A/P|0,f>1?(f>=ln&&(f=ln-1),h=t(W,f),v=h.length,w=S.length,l=e(h,S,v,w),l==1&&(f--,n(h,N<v?D:W,v))):(f==0&&(l=f=1),h=W.slice()),v=h.length,v<w&&h.unshift(0),n(S,h,w),l==-1&&(w=S.length,l=e(W,S,N,w),l<1&&(f++,n(S,N<w?D:W,w))),w=S.length):l===0&&(f++,S=[0]),b[d++]=f,l&&S[0]?S[w++]=L[I]||0:(S=[L[I]],w=1);while((I++<E||S[0]!==void 0)&&O--)}return b[0]||b.shift(),_.e=c,Ct(_,o?a+Yt(_)+1:a)}}();function p2(t,e){var n,r,i,a,o,l,c=0,d=0,f=t.constructor,h=f.precision;if(Yt(t)>16)throw Error(uw+Yt(t));if(!t.s)return new f(nr);for($t=!1,l=h,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(Ja(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new f(nr),f.precision=l;;){if(i=Ct(i.times(t),l),n=n.times(++c),o=a.plus(Si(i,n,l)),Hr(o.d).slice(0,l)===Hr(a.d).slice(0,l)){for(;d--;)a=Ct(a.times(a),l);return f.precision=h,e==null?($t=!0,Ct(a,h)):a}a=o}}function Yt(t){for(var e=t.e*Rt,n=t.d[0];n>=10;n/=10)e++;return e}function M0(t,e,n){if(e>t.LN10.sd())throw $t=!0,n&&(t.precision=n),Error(_r+"LN10 precision limit exceeded");return Ct(new t(t.LN10),e)}function la(t){for(var e="";t--;)e+="0";return e}function Lu(t,e){var n,r,i,a,o,l,c,d,f,h=1,v=10,_=t,b=_.d,S=_.constructor,w=S.precision;if(_.s<1)throw Error(_r+(_.s?"NaN":"-Infinity"));if(_.eq(nr))return new S(0);if(e==null?($t=!1,d=w):d=e,_.eq(10))return e==null&&($t=!0),M0(S,d);if(d+=v,S.precision=d,n=Hr(b),r=n.charAt(0),a=Yt(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Hr(_.d),r=n.charAt(0),h++;a=Yt(_),r>1?(_=new S("0."+n),a++):_=new S(r+"."+n.slice(1))}else return c=M0(S,d+2,w).times(a+""),_=Lu(new S(r+"."+n.slice(1)),d-v).plus(c),S.precision=w,e==null?($t=!0,Ct(_,w)):_;for(l=o=_=Si(_.minus(nr),_.plus(nr),d),f=Ct(_.times(_),d),i=3;;){if(o=Ct(o.times(f),d),c=l.plus(Si(o,new S(i),d)),Hr(c.d).slice(0,d)===Hr(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(M0(S,d+2,w).times(a+""))),l=Si(l,new S(h),d),S.precision=w,e==null?($t=!0,Ct(l,w)):l;l=c,i+=2}}function cP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=cl(n/Rt),t.d=[],r=(n+1)%Rt,n<0&&(r+=Rt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Rt;r<i;)t.d.push(+e.slice(r,r+=Rt));e=e.slice(r),r=Rt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),$t&&(t.e>Lf||t.e<-Lf))throw Error(uw+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ct(t,e,n){var r,i,a,o,l,c,d,f,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Rt,i=e,d=h[f=0];else{if(f=Math.ceil((r+1)/Rt),a=h.length,f>=a)return t;for(d=a=h[f],o=1;a>=10;a/=10)o++;r%=Rt,i=r-Rt+o}if(n!==void 0&&(a=Ja(10,o-i-1),l=d/a%10|0,c=e<0||h[f+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/Ja(10,o-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return c?(a=Yt(t),h.length=1,e=e-a-1,h[0]=Ja(10,(Rt-e%Rt)%Rt),t.e=cl(-e/Rt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,a=1,f--):(h.length=f+1,a=Ja(10,Rt-r),h[f]=i>0?(d/Ja(10,o-i)%Ja(10,i)|0)*a:0),c)for(;;)if(f==0){(h[0]+=a)==ln&&(h[0]=1,++t.e);break}else{if(h[f]+=a,h[f]!=ln)break;h[f--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if($t&&(t.e>Lf||t.e<-Lf))throw Error(uw+Yt(t));return t}function m2(t,e){var n,r,i,a,o,l,c,d,f,h,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),$t?Ct(e,_):e;if(c=t.d,h=e.d,r=e.e,d=t.e,c=c.slice(),o=d-r,o){for(f=o<0,f?(n=c,o=-o,l=h.length):(n=h,r=d,l=c.length),i=Math.max(Math.ceil(_/Rt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=h.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){f=c[i]<h[i];break}o=0}for(f&&(n=c,c=h,h=n,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=ln-1;--c[a],c[i]+=ln}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,$t?Ct(e,_):e):new v(0)}function uo(t,e,n){var r,i=Yt(t),a=Hr(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+la(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+la(-i-1)+a,n&&(r=n-o)>0&&(a+=la(r))):i>=o?(a+=la(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+la(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=la(r))),t.s<0?"-"+a:a}function dP(t,e){if(t.length>e)return t.length=e,!0}function g2(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(io+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return cP(o,a.toString())}else if(typeof a!="string")throw Error(io+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,SV.test(a))cP(o,a);else throw Error(io+a)}if(i.prototype=Me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=g2,i.config=i.set=CV,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function CV(t){if(!t||typeof t!="object")throw Error(_r+"Object expected");var e,n,r,i=["precision",1,ul,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(cl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(io+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(io+n+": "+r);return this}var cw=g2(wV);nr=new cw(1);const St=cw;function TV(t){return PV(t)||AV(t)||EV(t)||kV()}function kV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EV(t,e){if(t){if(typeof t=="string")return Qx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qx(t,e)}}function AV(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function PV(t){if(Array.isArray(t))return Qx(t)}function Qx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var OV=function(e){return e},v2={},y2=function(e){return e===v2},fP=function(e){return function n(){return arguments.length===0||arguments.length===1&&y2(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},IV=function t(e,n){return e===1?n:fP(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==v2}).length;return o>=e?n.apply(void 0,i):t(e-o,fP(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=i.map(function(h){return y2(h)?c.shift():h});return n.apply(void 0,TV(f).concat(c))}))})},Wh=function(e){return IV(e.length,e)},e_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},NV=Wh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),MV=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return OV;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},t_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},x2=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function DV(t){var e;return t===0?e=1:e=Math.floor(new St(t).abs().log(10).toNumber())+1,e}function RV(t,e,n){for(var r=new St(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var jV=Wh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),$V=Wh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),LV=Wh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Kh={rangeStep:RV,getDigitCount:DV,interpolateNumber:jV,uninterpolateNumber:$V,uninterpolateTruncation:LV};function n_(t){return qV(t)||FV(t)||_2(t)||BV()}function BV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FV(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qV(t){if(Array.isArray(t))return r_(t)}function Bu(t,e){return zV(t)||VV(t,e)||_2(t,e)||UV()}function UV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _2(t,e){if(t){if(typeof t=="string")return r_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r_(t,e)}}function r_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VV(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function zV(t){if(Array.isArray(t))return t}function b2(t){var e=Bu(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function w2(t,e,n){if(t.lte(0))return new St(0);var r=Kh.getDigitCount(t.toNumber()),i=new St(10).pow(r),a=t.div(i),o=r!==1?.05:.1,l=new St(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new St(Math.ceil(c))}function GV(t,e,n){var r=1,i=new St(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new St(10).pow(Kh.getDigitCount(t)-1),i=new St(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new St(Math.floor(t)))}else t===0?i=new St(Math.floor((e-1)/2)):n||(i=new St(Math.floor(t)));var o=Math.floor((e-1)/2),l=MV(NV(function(c){return i.add(new St(c-o).mul(r)).toNumber()}),e_);return l(0,e)}function S2(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var a=w2(new St(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new St(0):(o=new St(t).add(e).div(2),o=o.sub(new St(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new St(e).sub(o).div(a).toNumber()),d=l+c+1;return d>n?S2(t,e,n,r,i+1):(d<n&&(c=e>0?c+(n-d):c,l=e>0?l:l+(n-d)),{step:a,tickMin:o.sub(new St(l).mul(a)),tickMax:o.add(new St(c).mul(a))})}function HV(t){var e=Bu(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=b2([n,r]),c=Bu(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0){var h=f===1/0?[d].concat(n_(e_(0,i-1).map(function(){return 1/0}))):[].concat(n_(e_(0,i-1).map(function(){return-1/0})),[f]);return n>r?t_(h):h}if(d===f)return GV(d,i,a);var v=S2(d,f,o,a),_=v.step,b=v.tickMin,S=v.tickMax,w=Kh.rangeStep(b,S.add(new St(.1).mul(_)),_);return n>r?t_(w):w}function WV(t,e){var n=Bu(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=b2([r,i]),l=Bu(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,i];if(c===d)return[c];var f=Math.max(e,2),h=w2(new St(d).sub(c).div(f-1),a,0),v=[].concat(n_(Kh.rangeStep(new St(c),new St(d).sub(new St(.99).mul(h)),h)),[d]);return r>i?t_(v):v}var KV=x2(HV),YV=x2(WV),JV="Invariant failed";function co(t,e){throw new Error(JV)}var XV=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bf.apply(this,arguments)}function ZV(t,e){return n9(t)||t9(t,e)||e9(t,e)||QV()}function QV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9(t,e){if(t){if(typeof t=="string")return hP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hP(t,e)}}function hP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function n9(t){if(Array.isArray(t))return t}function r9(t,e){if(t==null)return{};var n=i9(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function a9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k2(r.key),r)}}function s9(t,e,n){return e&&o9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l9(t,e,n){return e=Ff(e),u9(t,C2()?Reflect.construct(e,n||[],Ff(t).constructor):e.apply(t,n))}function u9(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c9(t)}function c9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C2=function(){return!!t})()}function Ff(t){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ff(t)}function d9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i_(t,e)}function T2(t,e,n){return e=k2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k2(t){var e=f9(t,"string");return Rs(e)=="symbol"?e:e+""}function f9(t,e){if(Rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yh=function(t){function e(){return a9(this,e),l9(this,e,arguments)}return d9(e,t),s9(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,f=r.xAxis,h=r.yAxis,v=r9(r,XV),_=Ke(v,!1);this.props.direction==="x"&&f.type!=="number"&&co();var b=c.map(function(S){var w=d(S,l),A=w.x,O=w.y,T=w.value,I=w.errorVal;if(!I)return null;var E=[],P,N;if(Array.isArray(I)){var D=ZV(I,2);P=D[0],N=D[1]}else P=N=I;if(a==="vertical"){var B=f.scale,q=O+i,L=q+o,W=q-o,J=B(T-P),H=B(T+N);E.push({x1:H,y1:L,x2:H,y2:W}),E.push({x1:J,y1:q,x2:H,y2:q}),E.push({x1:J,y1:L,x2:J,y2:W})}else if(a==="horizontal"){var F=h.scale,Z=A+i,Y=Z-o,G=Z+o,te=F(T-P),ae=F(T+N);E.push({x1:Y,y1:ae,x2:G,y2:ae}),E.push({x1:Z,y1:te,x2:Z,y2:ae}),E.push({x1:Y,y1:te,x2:G,y2:te})}return K.createElement(xt,Bf({className:"recharts-errorBar",key:"bar-".concat(E.map(function(j){return"".concat(j.x1,"-").concat(j.x2,"-").concat(j.y1,"-").concat(j.y2)}))},_),E.map(function(j){return K.createElement("line",Bf({},j,{key:"line-".concat(j.x1,"-").concat(j.x2,"-").concat(j.y1,"-").concat(j.y2)}))}))});return K.createElement(xt,{className:"recharts-errorBars"},b)}}])}(K.Component);T2(Yh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});T2(Yh,"displayName","ErrorBar");function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){h9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h9(t,e,n){return e=p9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p9(t){var e=m9(t,"string");return Fu(e)=="symbol"?e:e+""}function m9(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E2=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=tr(n,ha);if(!o)return null;var l=ha.defaultProps,c=l!==void 0?za(za({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(r||[]).reduce(function(f,h){var v=h.item,_=h.props,b=_.sectors||_.data||[];return f.concat(b.map(function(S){return{type:o.props.iconType||v.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):d=(r||[]).map(function(f){var h=f.item,v=h.type.defaultProps,_=v!==void 0?za(za({},v),h.props):{},b=_.dataKey,S=_.name,w=_.legendType,A=_.hide;return{inactive:A,dataKey:b,type:c.iconType||w||"square",color:dw(h),value:S||b,payload:_}}),za(za(za({},c),ha.getWithHeight(o,i)),{},{payload:d,item:o})};function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function mP(t){return x9(t)||y9(t)||v9(t)||g9()}function g9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v9(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function y9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x9(t){if(Array.isArray(t))return a_(t)}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){Ss(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ss(t,e,n){return e=_9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _9(t){var e=b9(t,"string");return qu(e)=="symbol"?e:e+""}function b9(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tn(t,e,n){return st(t)||st(e)?n:en(e)?ir(t,e,n):Xe(e)?e(t):n}function _u(t,e,n,r){var i=xV(t,function(l){return Tn(l,e)});if(n==="number"){var a=i.filter(function(l){return Te(l)||parseFloat(l)});return a.length?[Gh(a),zh(a)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!st(l)}):i;return o.map(function(l){return en(l)||l instanceof Date?l:""})}var w9=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var f=d>0?i[d-1].coordinate:i[l-1].coordinate,h=i[d].coordinate,v=d>=l-1?i[0].coordinate:i[d+1].coordinate,_=void 0;if(Nn(h-f)!==Nn(v-h)){var b=[];if(Nn(v-h)===Nn(c[1]-c[0])){_=v;var S=h+c[1]-c[0];b[0]=Math.min(S,(S+f)/2),b[1]=Math.max(S,(S+f)/2)}else{_=f;var w=v+c[1]-c[0];b[0]=Math.min(h,(w+h)/2),b[1]=Math.max(h,(w+h)/2)}var A=[Math.min(h,(_+h)/2),Math.max(h,(_+h)/2)];if(e>A[0]&&e<=A[1]||e>=b[0]&&e<=b[1]){o=i[d].index;break}}else{var O=Math.min(f,v),T=Math.max(f,v);if(e>(O+h)/2&&e<=(T+h)/2){o=i[d].index;break}}}else for(var I=0;I<l;I++)if(I===0&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<l-1&&e>(r[I].coordinate+r[I-1].coordinate)/2&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I===l-1&&e>(r[I].coordinate+r[I-1].coordinate)/2){o=r[I].index;break}return o},dw=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},S9=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var f=a[l[c]].stackGroups,h=Object.keys(f),v=0,_=h.length;v<_;v++){var b=f[h[v]],S=b.items,w=b.cateAxisId,A=S.filter(function(N){return wi(N.type).indexOf("Bar")>=0});if(A&&A.length){var O=A[0].type.defaultProps,T=O!==void 0?zt(zt({},O),A[0].props):A[0].props,I=T.barSize,E=T[w];o[E]||(o[E]=[]);var P=st(I)?n:I;o[E].push({item:A[0],stackList:A.slice(1),barSize:st(P)?void 0:Mn(P,r,0)})}}return o},C9=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=Mn(n,i,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var v=!1,_=i/c,b=o.reduce(function(I,E){return I+E.barSize||0},0);b+=(c-1)*d,b>=i&&(b-=(c-1)*d,d=0),b>=i&&_>0&&(v=!0,_*=.9,b=c*_);var S=(i-b)/2>>0,w={offset:S-d,size:0};f=o.reduce(function(I,E){var P={item:E.item,position:{offset:w.offset+w.size+d,size:v?_:E.barSize}},N=[].concat(mP(I),[P]);return w=N[N.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(D){N.push({item:D,position:w})}),N},h)}else{var A=Mn(r,i,0,!0);i-2*A-(c-1)*d<=0&&(d=0);var O=(i-2*A-(c-1)*d)/c;O>1&&(O>>=0);var T=l===+l?Math.min(O,l):O;f=o.reduce(function(I,E,P){var N=[].concat(mP(I),[{item:E.item,position:{offset:A+(O+d)*P+(O-T)/2,size:T}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(D){N.push({item:D,position:N[N.length-1].position})}),N},h)}return f},T9=function(e,n,r,i){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),d=E2({children:a,legendWidth:c});if(d){var f=i||{},h=f.width,v=f.height,_=d.align,b=d.verticalAlign,S=d.layout;if((S==="vertical"||S==="horizontal"&&b==="middle")&&_!=="center"&&Te(e[_]))return zt(zt({},e),{},Ss({},_,e[_]+(h||0)));if((S==="horizontal"||S==="vertical"&&_==="center")&&b!=="middle"&&Te(e[b]))return zt(zt({},e),{},Ss({},b,e[b]+(v||0)))}return e},k9=function(e,n,r){return st(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},A2=function(e,n,r,i,a){var o=n.props.children,l=xr(o,Yh).filter(function(d){return k9(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,f){var h=Tn(f,r);if(st(h))return d;var v=Array.isArray(h)?[Gh(h),zh(h)]:[h,h],_=c.reduce(function(b,S){var w=Tn(f,S,0),A=v[0]-Math.abs(Array.isArray(w)?w[0]:w),O=v[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(A,b[0]),Math.max(O,b[1])]},[1/0,-1/0]);return[Math.min(_[0],d[0]),Math.max(_[1],d[1])]},[1/0,-1/0])}return null},E9=function(e,n,r,i,a){var o=n.map(function(l){return A2(e,l,r,a,i)}).filter(function(l){return!st(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},P2=function(e,n,r,i,a){var o=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&A2(e,c,d,i)||_u(e,d,r,a)});if(r==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var f=0,h=d.length;f<h;f++)l[d[f]]||(l[d[f]]=!0,c.push(d[f]));return c},[])},O2=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},I2=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},bi=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Nn(l[0]-l[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var v=a?a.indexOf(h):h;return{coordinate:i(v)+d,value:h,offset:d}});return f.filter(function(h){return!fc(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,v){return{coordinate:i(h)+d,value:h,index:v,offset:d}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+d,value:h,offset:d}}):i.domain().map(function(h,v){return{coordinate:i(h)+d,value:a?a[h]:h,index:v,offset:d}})},D0=new WeakMap,ef=function(e,n){if(typeof n!="function")return e;D0.has(e)||D0.set(e,new WeakMap);var r=D0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},N2=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Mu(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Df(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xu(),realScaleType:"point"}:a==="category"?{scale:Mu(),realScaleType:"band"}:{scale:Df(),realScaleType:"linear"};if(oo(i)){var c="scale".concat(Ph(i));return{scale:(tP[c]||xu)(),realScaleType:tP[c]?c:"point"}}return Xe(i)?{scale:i}:{scale:xu(),realScaleType:"point"}},vP=1e-4,M2=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-vP,o=Math.max(i[0],i[1])+vP,l=e(n[0]),c=e(n[r-1]);(l<a||l>o||c<a||c>o)&&e.domain([n[0],n[r-1]])}},A9=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},P9=function(e,n){if(!n||n.length!==2||!Te(n[0])||!Te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Te(e[0])||e[0]<r)&&(a[0]=r),(!Te(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},O9=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,l=0;l<n;++l){var c=fc(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},I9=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var l=fc(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},N9={sign:O9,expand:x3,none:Es,silhouette:_3,wiggle:b3,positive:I9},M9=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=N9[r],o=y3().keys(i).value(function(l,c){return+Tn(l,c,0)}).order(Rx).offset(a);return o(e)},D9=function(e,n,r,i,a,o){if(!e)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(h,v){var _,b=(_=v.type)!==null&&_!==void 0&&_.defaultProps?zt(zt({},v.type.defaultProps),v.props):v.props,S=b.stackId,w=b.hide;if(w)return h;var A=b[r],O=h[A]||{hasStack:!1,stackGroups:{}};if(en(S)){var T=O.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};T.items.push(v),O.hasStack=!0,O.stackGroups[S]=T}else O.stackGroups[hc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return zt(zt({},h),{},Ss({},A,O))},c),f={};return Object.keys(d).reduce(function(h,v){var _=d[v];if(_.hasStack){var b={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(S,w){var A=_.stackGroups[w];return zt(zt({},S),{},Ss({},w,{numericAxisId:r,cateAxisId:i,items:A.items,stackedData:M9(e,A.items,a)}))},b)}return zt(zt({},h),{},Ss({},v,_))},f)},D2=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var f=KV(d,a,l);return e.domain([Gh(f),zh(f)]),{niceTicks:f}}if(a&&i==="number"){var h=e.domain(),v=YV(h,a,l);return{niceTicks:v}}return null},yP=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Tn(o,n.dataKey,n.domain[l]);return st(c)?null:n.scale(c)-a/2+i},R9=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},j9=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(en(a)){var o=n[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},$9=function(e){return e.reduce(function(n,r){return[Gh(r.concat([n[0]]).filter(Te)),zh(r.concat([n[1]]).filter(Te))]},[1/0,-1/0])},R2=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(d,f){var h=$9(f.slice(n,r+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},xP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_P=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o_=function(e,n,r){if(Xe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(xP.test(e[0])){var a=+xP.exec(e[0])[1];i[0]=n[0]-a}else Xe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(_P.test(e[1])){var o=+_P.exec(e[1])[1];i[1]=n[1]+o}else Xe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},qf=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=Bb(n,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],f=a[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},bP=function(e,n,r){return!e||!e.length||Hh(e,ir(r,"type.defaultProps.domain"))?n:e},j2=function(e,n){var r=e.type.defaultProps?zt(zt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,f=r.hide;return zt(zt({},Ke(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:dw(e),value:Tn(n,i),type:c,payload:n,chartType:d,hide:f})};function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){$2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $2(t,e,n){return e=L9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L9(t){var e=B9(t,"string");return Uu(e)=="symbol"?e:e+""}function B9(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F9(t,e){return z9(t)||V9(t,e)||U9(t,e)||q9()}function q9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U9(t,e){if(t){if(typeof t=="string")return SP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SP(t,e)}}function SP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function z9(t){if(Array.isArray(t))return t}var Uf=Math.PI/180,G9=function(e){return e*180/Math.PI},Ot=function(e,n,r,i){return{x:e+Math.cos(-Uf*i)*r,y:n+Math.sin(-Uf*i)*r}},L2=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},H9=function(e,n,r,i,a){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,f=Mn(e.cx,o,o/2),h=Mn(e.cy,l,l/2),v=L2(o,l,r),_=Mn(e.innerRadius,v,0),b=Mn(e.outerRadius,v,v*.8),S=Object.keys(n);return S.reduce(function(w,A){var O=n[A],T=O.domain,I=O.reversed,E;if(st(O.range))i==="angleAxis"?E=[c,d]:i==="radiusAxis"&&(E=[_,b]),I&&(E=[E[1],E[0]]);else{E=O.range;var P=E,N=F9(P,2);c=N[0],d=N[1]}var D=N2(O,a),B=D.realScaleType,q=D.scale;q.domain(T).range(E),M2(q);var L=D2(q,yi(yi({},O),{},{realScaleType:B})),W=yi(yi(yi({},O),L),{},{range:E,radius:b,realScaleType:B,scale:q,cx:f,cy:h,innerRadius:_,outerRadius:b,startAngle:c,endAngle:d});return yi(yi({},w),{},$2({},A,W))},{})},W9=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},K9=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,l=W9({x:r,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:G9(d),angleInRadian:d}},Y9=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},J9=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},CP=function(e,n){var r=e.x,i=e.y,a=K9({x:r,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var f=Y9(n),h=f.startAngle,v=f.endAngle,_=l,b;if(h<=v){for(;_>v;)_-=360;for(;_<h;)_+=360;b=_>=h&&_<=v}else{for(;_>h;)_-=360;for(;_<v;)_+=360;b=_>=v&&_<=h}return b?yi(yi({},n),{},{radius:o,angle:J9(_,n)}):null},B2=function(e){return!R.isValidElement(e)&&!Xe(e)&&typeof e!="boolean"?e.className:""};function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}var X9=["offset"];function Z9(t){return nz(t)||tz(t)||ez(t)||Q9()}function Q9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ez(t,e){if(t){if(typeof t=="string")return s_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s_(t,e)}}function tz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nz(t){if(Array.isArray(t))return s_(t)}function s_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rz(t,e){if(t==null)return{};var n=iz(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){az(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function az(t,e,n){return e=oz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oz(t){var e=sz(t,"string");return Vu(e)=="symbol"?e:e+""}function sz(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zu.apply(this,arguments)}var lz=function(e){var n=e.value,r=e.formatter,i=st(e.children)?n:e.children;return Xe(r)?r(i):i},uz=function(e,n){var r=Nn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},cz=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,d=c.cx,f=c.cy,h=c.innerRadius,v=c.outerRadius,_=c.startAngle,b=c.endAngle,S=c.clockWise,w=(h+v)/2,A=uz(_,b),O=A>=0?1:-1,T,I;i==="insideStart"?(T=_+O*o,I=S):i==="insideEnd"?(T=b-O*o,I=!S):i==="end"&&(T=b+O*o,I=S),I=A<=0?I:!I;var E=Ot(d,f,w,T),P=Ot(d,f,w,T+(I?1:-1)*359),N="M".concat(E.x,",").concat(E.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(I?0:1,`,
    `).concat(P.x,",").concat(P.y),D=st(e.id)?hc("recharts-radial-line-"):e.id;return K.createElement("text",zu({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:D,d:N})),K.createElement("textPath",{xlinkHref:"#".concat(D)},n))},dz=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,f=a.startAngle,h=a.endAngle,v=(f+h)/2;if(i==="outside"){var _=Ot(o,l,d+r,v),b=_.x,S=_.y;return{x:b,y:S,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(c+d)/2,A=Ot(o,l,w,v),O=A.x,T=A.y;return{x:O,y:T,textAnchor:"middle",verticalAnchor:"middle"}},fz=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,l=o.x,c=o.y,d=o.width,f=o.height,h=f>=0?1:-1,v=h*i,_=h>0?"end":"start",b=h>0?"start":"end",S=d>=0?1:-1,w=S*i,A=S>0?"end":"start",O=S>0?"start":"end";if(a==="top"){var T={x:l+d/2,y:c-h*i,textAnchor:"middle",verticalAnchor:_};return Qt(Qt({},T),r?{height:Math.max(c-r.y,0),width:d}:{})}if(a==="bottom"){var I={x:l+d/2,y:c+f+v,textAnchor:"middle",verticalAnchor:b};return Qt(Qt({},I),r?{height:Math.max(r.y+r.height-(c+f),0),width:d}:{})}if(a==="left"){var E={x:l-w,y:c+f/2,textAnchor:A,verticalAnchor:"middle"};return Qt(Qt({},E),r?{width:Math.max(E.x-r.x,0),height:f}:{})}if(a==="right"){var P={x:l+d+w,y:c+f/2,textAnchor:O,verticalAnchor:"middle"};return Qt(Qt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:f}:{})}var N=r?{width:d,height:f}:{};return a==="insideLeft"?Qt({x:l+w,y:c+f/2,textAnchor:O,verticalAnchor:"middle"},N):a==="insideRight"?Qt({x:l+d-w,y:c+f/2,textAnchor:A,verticalAnchor:"middle"},N):a==="insideTop"?Qt({x:l+d/2,y:c+v,textAnchor:"middle",verticalAnchor:b},N):a==="insideBottom"?Qt({x:l+d/2,y:c+f-v,textAnchor:"middle",verticalAnchor:_},N):a==="insideTopLeft"?Qt({x:l+w,y:c+v,textAnchor:O,verticalAnchor:b},N):a==="insideTopRight"?Qt({x:l+d-w,y:c+v,textAnchor:A,verticalAnchor:b},N):a==="insideBottomLeft"?Qt({x:l+w,y:c+f-v,textAnchor:O,verticalAnchor:_},N):a==="insideBottomRight"?Qt({x:l+d-w,y:c+f-v,textAnchor:A,verticalAnchor:_},N):al(a)&&(Te(a.x)||Qa(a.x))&&(Te(a.y)||Qa(a.y))?Qt({x:l+Mn(a.x,d),y:c+Mn(a.y,f),textAnchor:"end",verticalAnchor:"end"},N):Qt({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},N)},hz=function(e){return"cx"in e&&Te(e.cx)};function un(t){var e=t.offset,n=e===void 0?5:e,r=rz(t,X9),i=Qt({offset:n},r),a=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,f=i.className,h=f===void 0?"":f,v=i.textBreakAll;if(!a||st(l)&&st(c)&&!R.isValidElement(d)&&!Xe(d))return null;if(R.isValidElement(d))return R.cloneElement(d,i);var _;if(Xe(d)){if(_=R.createElement(d,i),R.isValidElement(_))return _}else _=lz(i);var b=hz(a),S=Ke(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return cz(i,_,S);var w=b?dz(i):fz(i);return K.createElement(lo,zu({className:at("recharts-label",h)},S,w,{breakAll:v}),_)}un.displayName="Label";var F2=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,f=e.outerRadius,h=e.x,v=e.y,_=e.top,b=e.left,S=e.width,w=e.height,A=e.clockWise,O=e.labelViewBox;if(O)return O;if(Te(S)&&Te(w)){if(Te(h)&&Te(v))return{x:h,y:v,width:S,height:w};if(Te(_)&&Te(b))return{x:_,y:b,width:S,height:w}}return Te(h)&&Te(v)?{x:h,y:v,width:0,height:0}:Te(n)&&Te(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:A}:e.viewBox?e.viewBox:{}},pz=function(e,n){return e?e===!0?K.createElement(un,{key:"label-implicit",viewBox:n}):en(e)?K.createElement(un,{key:"label-implicit",viewBox:n,value:e}):R.isValidElement(e)?e.type===un?R.cloneElement(e,{key:"label-implicit",viewBox:n}):K.createElement(un,{key:"label-implicit",content:e,viewBox:n}):Xe(e)?K.createElement(un,{key:"label-implicit",content:e,viewBox:n}):al(e)?K.createElement(un,zu({viewBox:n},e,{key:"label-implicit"})):null:null},mz=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=F2(e),o=xr(i,un).map(function(c,d){return R.cloneElement(c,{viewBox:n||a,key:"label-".concat(d)})});if(!r)return o;var l=pz(e.label,n||a);return[l].concat(Z9(o))};un.parseViewBox=F2;un.renderCallByParent=mz;var R0,kP;function gz(){if(kP)return R0;kP=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return R0=t,R0}var vz=gz();const yz=mt(vz);function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}var xz=["valueAccessor"],_z=["data","dataKey","clockWise","id","textBreakAll"];function bz(t){return Tz(t)||Cz(t)||Sz(t)||wz()}function wz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sz(t,e){if(t){if(typeof t=="string")return l_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(t,e)}}function Cz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tz(t){if(Array.isArray(t))return l_(t)}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){kz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kz(t,e,n){return e=Ez(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ez(t){var e=Az(t,"string");return Gu(e)=="symbol"?e:e+""}function Az(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PP(t,e){if(t==null)return{};var n=Pz(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Oz=function(e){return Array.isArray(e.value)?yz(e.value):e.value};function ma(t){var e=t.valueAccessor,n=e===void 0?Oz:e,r=PP(t,xz),i=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,d=PP(r,_z);return!i||!i.length?null:K.createElement(xt,{className:"recharts-label-list"},i.map(function(f,h){var v=st(a)?n(f,h):Tn(f&&f.payload,a),_=st(l)?{}:{id:"".concat(l,"-").concat(h)};return K.createElement(un,Vf({},Ke(f,!0),d,_,{parentViewBox:f.parentViewBox,value:v,textBreakAll:c,viewBox:un.parseViewBox(st(o)?f:AP(AP({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}ma.displayName="LabelList";function Iz(t,e){return t?t===!0?K.createElement(ma,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Xe(t)?K.createElement(ma,{key:"labelList-implicit",data:e,content:t}):al(t)?K.createElement(ma,Vf({data:e},t,{key:"labelList-implicit"})):null:null}function Nz(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=xr(r,ma).map(function(o,l){return R.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=Iz(t.label,e);return[a].concat(bz(i))}ma.renderCallByParent=Nz;function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){Mz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mz(t,e,n){return e=Dz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dz(t){var e=Rz(t,"string");return Hu(e)=="symbol"?e:e+""}function Rz(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jz=function(e,n){var r=Nn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},tf=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,f=c*(l?1:-1)+i,h=Math.asin(c/f)/Uf,v=d?a:a+o*h,_=Ot(n,r,f,v),b=Ot(n,r,i,v),S=d?a-o*h:a,w=Ot(n,r,f*Math.cos(h*Uf),S);return{center:_,circleTangency:b,lineTangency:w,theta:h}},q2=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=jz(o,l),d=o+c,f=Ot(n,r,a,o),h=Ot(n,r,a,d),v="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var _=Ot(n,r,i,o),b=Ot(n,r,i,d);v+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(_.x,",").concat(_.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},$z=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,f=e.endAngle,h=Nn(f-d),v=tf({cx:n,cy:r,radius:a,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),_=v.circleTangency,b=v.lineTangency,S=v.theta,w=tf({cx:n,cy:r,radius:a,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:c}),A=w.circleTangency,O=w.lineTangency,T=w.theta,I=c?Math.abs(d-f):Math.abs(d-f)-S-T;if(I<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):q2({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f});var E="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
  `);if(i>0){var P=tf({cx:n,cy:r,radius:i,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=P.circleTangency,D=P.lineTangency,B=P.theta,q=tf({cx:n,cy:r,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=q.circleTangency,W=q.lineTangency,J=q.theta,H=c?Math.abs(d-f):Math.abs(d-f)-B-J;if(H<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(W.x,",").concat(W.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(h>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},Lz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},U2=function(e){var n=IP(IP({},Lz),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,v=n.className;if(o<a||f===h)return null;var _=at("recharts-sector",v),b=o-a,S=Mn(l,b,0,!0),w;return S>0&&Math.abs(f-h)<360?w=$z({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(S,b/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}):w=q2({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:h}),K.createElement("path",u_({},Ke(n,!0),{className:_,d:w,role:"img"}))};function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){Bz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bz(t,e,n){return e=Fz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fz(t){var e=qz(t,"string");return Wu(e)=="symbol"?e:e+""}function qz(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DP={curveBasisClosed:s3,curveBasisOpen:l3,curveBasis:o3,curveBumpX:HF,curveBumpY:WF,curveLinearClosed:u3,curveLinear:Ih,curveMonotoneX:c3,curveMonotoneY:d3,curveNatural:f3,curveStep:h3,curveStepAfter:m3,curveStepBefore:p3},nf=function(e){return e.x===+e.x&&e.y===+e.y},iu=function(e){return e.x},au=function(e){return e.y},Uz=function(e,n){if(Xe(e))return e;var r="curve".concat(Ph(e));return(r==="curveMonotone"||r==="curveBump")&&n?DP["".concat(r).concat(n==="vertical"?"Y":"X")]:DP[r]||Ih},Vz=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,f=Uz(r,l),h=d?a.filter(function(S){return nf(S)}):a,v;if(Array.isArray(o)){var _=d?o.filter(function(S){return nf(S)}):o,b=h.map(function(S,w){return MP(MP({},S),{},{base:_[w]})});return l==="vertical"?v=Wd().y(au).x1(iu).x0(function(S){return S.base.x}):v=Wd().x(iu).y1(au).y0(function(S){return S.base.y}),v.defined(nf).curve(f),v(b)}return l==="vertical"&&Te(o)?v=Wd().y(au).x1(iu).x0(o):Te(o)?v=Wd().x(iu).y1(au).y0(o):v=BM().x(iu).y(au),v.defined(nf).curve(f),v(h)},d_=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Vz(e):i;return K.createElement("path",c_({},Ke(e,!1),vf(e),{className:at("recharts-curve",n),d:o,ref:a}))},j0={exports:{}},$0,RP;function zz(){if(RP)return $0;RP=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $0=t,$0}var L0,jP;function Gz(){if(jP)return L0;jP=1;var t=zz();function e(){}function n(){}return n.resetWarningCache=e,L0=function(){function r(o,l,c,d,f,h){if(h!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},L0}var $P;function Hz(){return $P||($P=1,j0.exports=Gz()()),j0.exports}var Wz=Hz();const vt=mt(Wz);var Kz=Object.getOwnPropertyNames,Yz=Object.getOwnPropertySymbols,Jz=Object.prototype.hasOwnProperty;function LP(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function rf(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=t(n,r,i);return a.delete(n),a.delete(r),c}}function BP(t){return Kz(t).concat(Yz(t))}var Xz=Object.hasOwn||function(t,e){return Jz.call(t,e)};function _o(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Zz="__v",Qz="__o",e7="_owner",FP=Object.getOwnPropertyDescriptor,qP=Object.keys;function t7(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function n7(t,e){return _o(t.getTime(),e.getTime())}function r7(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function i7(t,e){return t===e}function UP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var d=e.entries(),f=!1,h=0;(l=d.next())&&!l.done;){if(i[h]){h++;continue}var v=o.value,_=l.value;if(n.equals(v[0],_[0],c,h,t,e,n)&&n.equals(v[1],_[1],v[0],_[0],t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1;c++}return!0}var a7=_o;function o7(t,e,n){var r=qP(t),i=r.length;if(qP(e).length!==i)return!1;for(;i-- >0;)if(!V2(t,e,n,r[i]))return!1;return!0}function ou(t,e,n){var r=BP(t),i=r.length;if(BP(e).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=r[i],!V2(t,e,n,a)||(o=FP(t,a),l=FP(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function s7(t,e){return _o(t.valueOf(),e.valueOf())}function l7(t,e){return t.source===e.source&&t.flags===e.flags}function VP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,l;(o=a.next())&&!o.done;){for(var c=e.values(),d=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1}return!0}function u7(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function c7(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function V2(t,e,n,r){return(r===e7||r===Qz||r===Zz)&&(t.$$typeof||e.$$typeof)?!0:Xz(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var d7="[object Arguments]",f7="[object Boolean]",h7="[object Date]",p7="[object Error]",m7="[object Map]",g7="[object Number]",v7="[object Object]",y7="[object RegExp]",x7="[object Set]",_7="[object String]",b7="[object URL]",w7=Array.isArray,zP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,GP=Object.assign,S7=Object.prototype.toString.call.bind(Object.prototype.toString);function C7(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,f=t.areSetsEqual,h=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(b,S,w){if(b===S)return!0;if(b==null||S==null)return!1;var A=typeof b;if(A!==typeof S)return!1;if(A!=="object")return A==="number"?o(b,S,w):A==="function"?i(b,S,w):!1;var O=b.constructor;if(O!==S.constructor)return!1;if(O===Object)return l(b,S,w);if(w7(b))return e(b,S,w);if(zP!=null&&zP(b))return h(b,S,w);if(O===Date)return n(b,S,w);if(O===RegExp)return d(b,S,w);if(O===Map)return a(b,S,w);if(O===Set)return f(b,S,w);var T=S7(b);return T===h7?n(b,S,w):T===y7?d(b,S,w):T===m7?a(b,S,w):T===x7?f(b,S,w):T===v7?typeof b.then!="function"&&typeof S.then!="function"&&l(b,S,w):T===b7?v(b,S,w):T===p7?r(b,S,w):T===d7?l(b,S,w):T===f7||T===g7||T===_7?c(b,S,w):!1}}function T7(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?ou:t7,areDatesEqual:n7,areErrorsEqual:r7,areFunctionsEqual:i7,areMapsEqual:r?LP(UP,ou):UP,areNumbersEqual:a7,areObjectsEqual:r?ou:o7,arePrimitiveWrappersEqual:s7,areRegExpsEqual:l7,areSetsEqual:r?LP(VP,ou):VP,areTypedArraysEqual:r?ou:u7,areUrlsEqual:c7};if(n&&(i=GP({},i,n(i))),e){var a=rf(i.areArraysEqual),o=rf(i.areMapsEqual),l=rf(i.areObjectsEqual),c=rf(i.areSetsEqual);i=GP({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function k7(t){return function(e,n,r,i,a,o,l){return t(e,n,l)}}function E7(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(c,d){var f=r(),h=f.cache,v=h===void 0?e?new WeakMap:void 0:h,_=f.meta;return n(c,d,{cache:v,equals:i,meta:_,strict:a})};if(e)return function(c,d){return n(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,d){return n(c,d,o)}}var A7=wa();wa({strict:!0});wa({circular:!0});wa({circular:!0,strict:!0});wa({createInternalComparator:function(){return _o}});wa({strict:!0,createInternalComparator:function(){return _o}});wa({circular:!0,createInternalComparator:function(){return _o}});wa({circular:!0,createInternalComparator:function(){return _o},strict:!0});function wa(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,l=T7(t),c=C7(l),d=r?r(c):k7(c);return E7({circular:n,comparator:c,createState:i,equals:d,strict:o})}function P7(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function HP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):P7(i)};requestAnimationFrame(r)}function f_(t){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(t)}function O7(t){return D7(t)||M7(t)||N7(t)||I7()}function I7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N7(t,e){if(t){if(typeof t=="string")return WP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WP(t,e)}}function WP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D7(t){if(Array.isArray(t))return t}function R7(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=O7(o),c=l[0],d=l.slice(1);if(typeof c=="number"){HP(i.bind(null,d),c);return}i(c),HP(i.bind(null,d));return}f_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){z2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z2(t,e,n){return e=j7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j7(t){var e=$7(t,"string");return Ku(e)==="symbol"?e:String(e)}function $7(t,e){if(Ku(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L7=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},B7=function(e){return e},F7=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},bu=function(e,n){return Object.keys(n).reduce(function(r,i){return YP(YP({},r),{},z2({},i,e(i,n[i])))},{})},JP=function(e,n,r){return e.map(function(i){return"".concat(F7(i)," ").concat(n,"ms ").concat(r)}).join(",")};function q7(t,e){return z7(t)||V7(t,e)||G2(t,e)||U7()}function U7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function z7(t){if(Array.isArray(t))return t}function G7(t){return K7(t)||W7(t)||G2(t)||H7()}function H7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G2(t,e){if(t){if(typeof t=="string")return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(t,e)}}function W7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K7(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zf=1e-4,H2=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},W2=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},XP=function(e,n){return function(r){var i=H2(e,n);return W2(i,r)}},Y7=function(e,n){return function(r){var i=H2(e,n),a=[].concat(G7(i.map(function(o,l){return o*l}).slice(1)),[0]);return W2(a,r)}},ZP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),f=q7(d,4);i=f[0],a=f[1],o=f[2],l=f[3]}}}var h=XP(i,o),v=XP(a,l),_=Y7(i,o),b=function(A){return A>1?1:A<0?0:A},S=function(A){for(var O=A>1?1:A,T=O,I=0;I<8;++I){var E=h(T)-O,P=_(T);if(Math.abs(E-O)<zf||P<zf)return v(T);T=b(T-E/P)}return v(T)};return S.isStepper=!1,S},J7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(f,h,v){var _=-(f-h)*r,b=v*a,S=v+(_-b)*l/1e3,w=v*l/1e3+f;return Math.abs(w-h)<zf&&Math.abs(S)<zf?[h,0]:[w,S]};return c.isStepper=!0,c.dt=l,c},X7=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ZP(i);case"spring":return J7();default:if(i.split("(")[0]==="cubic-bezier")return ZP(i)}return typeof i=="function"?i:null};function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function QP(t){return eG(t)||Q7(t)||K2(t)||Z7()}function Z7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eG(t){if(Array.isArray(t))return m_(t)}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){p_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p_(t,e,n){return e=tG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tG(t){var e=nG(t,"string");return Yu(e)==="symbol"?e:String(e)}function nG(t,e){if(Yu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rG(t,e){return oG(t)||aG(t,e)||K2(t,e)||iG()}function iG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K2(t,e){if(t){if(typeof t=="string")return m_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m_(t,e)}}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function oG(t){if(Array.isArray(t))return t}var Gf=function(e,n,r){return e+(n-e)*r},g_=function(e){var n=e.from,r=e.to;return n!==r},sG=function t(e,n,r){var i=bu(function(a,o){if(g_(o)){var l=e(o.from,o.to,o.velocity),c=rG(l,2),d=c[0],f=c[1];return gn(gn({},o),{},{from:d,velocity:f})}return o},n);return r<1?bu(function(a,o){return g_(o)?gn(gn({},o),{},{velocity:Gf(o.velocity,i[a].velocity,r),from:Gf(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const lG=function(t,e,n,r,i){var a=L7(t,e),o=a.reduce(function(w,A){return gn(gn({},w),{},p_({},A,[t[A],e[A]]))},{}),l=a.reduce(function(w,A){return gn(gn({},w),{},p_({},A,{from:t[A],velocity:0,to:e[A]}))},{}),c=-1,d,f,h=function(){return null},v=function(){return bu(function(A,O){return O.from},l)},_=function(){return!Object.values(l).filter(g_).length},b=function(A){d||(d=A);var O=A-d,T=O/n.dt;l=sG(n,l,T),i(gn(gn(gn({},t),e),v())),d=A,_()||(c=requestAnimationFrame(h))},S=function(A){f||(f=A);var O=(A-f)/r,T=bu(function(E,P){return Gf.apply(void 0,QP(P).concat([n(O)]))},o);if(i(gn(gn(gn({},t),e),T)),O<1)c=requestAnimationFrame(h);else{var I=bu(function(E,P){return Gf.apply(void 0,QP(P).concat([n(1)]))},o);i(gn(gn(gn({},t),e),I))}};return h=n.isStepper?b:S,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}var uG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cG(t,e){if(t==null)return{};var n=dG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function B0(t){return mG(t)||pG(t)||hG(t)||fG()}function fG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hG(t,e){if(t){if(typeof t=="string")return v_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(t,e)}}function pG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mG(t){if(Array.isArray(t))return v_(t)}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){fu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fu(t,e,n){return e=Y2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y2(r.key),r)}}function yG(t,e,n){return e&&vG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y2(t){var e=xG(t,"string");return js(e)==="symbol"?e:String(e)}function xG(t,e){if(js(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(js(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _G(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y_(t,e)}function y_(t,e){return y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y_(t,e)}function bG(t){var e=wG();return function(){var r=Hf(t),i;if(e){var a=Hf(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return x_(this,i)}}function x_(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return __(t)}function __(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hf(t)}var Ei=function(t){_G(n,t);var e=bG(n);function n(r,i){var a;gG(this,n),a=e.call(this,r,i);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,f=o.to,h=o.steps,v=o.children,_=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(__(a)),a.changeStyle=a.changeStyle.bind(__(a)),!l||_<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:f}),x_(a);if(h&&h.length)a.state={style:h[0].style};else if(d){if(typeof v=="function")return a.state={style:d},x_(a);a.state={style:c?fu({},c,d):d}}else a.state={style:{}};return a}return yG(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,f=a.to,h=a.from,v=this.state.style;if(l){if(!o){var _={style:c?fu({},c,f):f};this.state&&v&&(c&&v[c]!==f||!c&&v!==f)&&this.setState(_);return}if(!(A7(i.to,f)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=b||d?h:i.to;if(this.state&&v){var w={style:c?fu({},c,S):S};(c&&v[c]!==S||!c&&v!==S)&&this.setState(w)}this.runAnimation(Ir(Ir({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,d=i.easing,f=i.begin,h=i.onAnimationEnd,v=i.onAnimationStart,_=lG(o,l,X7(d),c,this.changeStyle),b=function(){a.stopJSAnimation=_()};this.manager.start([v,f,b,c,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],f=d.style,h=d.duration,v=h===void 0?0:h,_=function(S,w,A){if(A===0)return S;var O=w.duration,T=w.easing,I=T===void 0?"ease":T,E=w.style,P=w.properties,N=w.onAnimationEnd,D=A>0?o[A-1]:w,B=P||Object.keys(E);if(typeof I=="function"||I==="spring")return[].concat(B0(S),[a.runJSAnimation.bind(a,{from:D.style,to:E,duration:O,easing:I}),O]);var q=JP(B,O,I),L=Ir(Ir(Ir({},D.style),E),{},{transition:q});return[].concat(B0(S),[L,O,N]).filter(B7)};return this.manager.start([c].concat(B0(o.reduce(_,[f,Math.max(v,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=R7());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,v=i.steps,_=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof d=="function"||typeof _=="function"||d==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var S=l?fu({},l,c):c,w=JP(Object.keys(S),o,d);b.start([f,a,Ir(Ir({},S),{},{transition:w}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=cG(i,uG),d=R.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!l||d===0||o<=0)return a;var h=function(_){var b=_.props,S=b.style,w=S===void 0?{}:S,A=b.className,O=R.cloneElement(_,Ir(Ir({},c),{},{style:Ir(Ir({},w),f),className:A}));return O};return d===1?h(R.Children.only(a)):K.createElement("div",null,R.Children.map(a,function(v){return h(v)}))}}]),n}(R.PureComponent);Ei.displayName="Animate";Ei.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ei.propTypes={from:vt.oneOfType([vt.object,vt.string]),to:vt.oneOfType([vt.object,vt.string]),attributeName:vt.string,duration:vt.number,begin:vt.number,easing:vt.oneOfType([vt.string,vt.func]),steps:vt.arrayOf(vt.shape({duration:vt.number.isRequired,style:vt.object.isRequired,easing:vt.oneOfType([vt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vt.func]),properties:vt.arrayOf("string"),onAnimationEnd:vt.func})),children:vt.oneOfType([vt.node,vt.func]),isActive:vt.bool,canBegin:vt.bool,onAnimationEnd:vt.func,shouldReAnimate:vt.bool,onAnimationStart:vt.func,onAnimationReStart:vt.func};function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wf.apply(this,arguments)}function SG(t,e){return EG(t)||kG(t,e)||TG(t,e)||CG()}function CG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TG(t,e){if(t){if(typeof t=="string")return nO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nO(t,e)}}function nO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function EG(t){if(Array.isArray(t))return t}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){AG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AG(t,e,n){return e=PG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PG(t){var e=OG(t,"string");return Ju(e)=="symbol"?e:e+""}function OG(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aO=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],v=0,_=4;v<_;v++)h[v]=a[v]>o?o:a[v];f="M".concat(e,",").concat(n+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(n)),f+="L ".concat(e+r-c*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+l*h[1])),f+="L ".concat(e+r,",").concat(n+i-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+r-c*h[2],",").concat(n+i)),f+="L ".concat(e+c*h[3],",").concat(n+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+i-l*h[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);f="M ".concat(e,",").concat(n+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+c*b,",").concat(n,`
            L `).concat(e+r-c*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+r,",").concat(n+l*b,`
            L `).concat(e+r,",").concat(n+i-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+r-c*b,",").concat(n+i,`
            L `).concat(e+c*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e,",").concat(n+i-l*b," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},IG=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),f=Math.max(a,a+l),h=Math.min(o,o+c),v=Math.max(o,o+c);return r>=d&&r<=f&&i>=h&&i<=v}return!1},NG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fw=function(e){var n=iO(iO({},NG),e),r=R.useRef(),i=R.useState(-1),a=SG(i,2),o=a[0],l=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&l(I)}catch{}},[]);var c=n.x,d=n.y,f=n.width,h=n.height,v=n.radius,_=n.className,b=n.animationEasing,S=n.animationDuration,w=n.animationBegin,A=n.isAnimationActive,O=n.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||h!==+h||f===0||h===0)return null;var T=at("recharts-rectangle",_);return O?K.createElement(Ei,{canBegin:o>0,from:{width:f,height:h,x:c,y:d},to:{width:f,height:h,x:c,y:d},duration:S,animationEasing:b,isActive:O},function(I){var E=I.width,P=I.height,N=I.x,D=I.y;return K.createElement(Ei,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,isActive:A,easing:b},K.createElement("path",Wf({},Ke(n,!0),{className:T,d:aO(N,D,E,P,v),ref:r})))}):K.createElement("path",Wf({},Ke(n,!0),{className:T,d:aO(c,d,f,h,v)}))},MG=["points","className","baseLinePoints","connectNulls"];function ms(){return ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ms.apply(this,arguments)}function DG(t,e){if(t==null)return{};var n=RG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oO(t){return BG(t)||LG(t)||$G(t)||jG()}function jG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $G(t,e){if(t){if(typeof t=="string")return b_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(t,e)}}function LG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BG(t){if(Array.isArray(t))return b_(t)}function b_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sO=function(e){return e&&e.x===+e.x&&e.y===+e.y},FG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){sO(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),sO(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},wu=function(e,n){var r=FG(e);n&&(r=[r.reduce(function(a,o){return[].concat(oO(a),oO(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},qG=function(e,n,r){var i=wu(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(wu(n.reverse(),r).slice(1))},UG=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=DG(e,MG);if(!n||!n.length)return null;var l=at("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=qG(n,i,a);return K.createElement("g",{className:l},K.createElement("path",ms({},Ke(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?K.createElement("path",ms({},Ke(o,!0),{fill:"none",d:wu(n,a)})):null,c?K.createElement("path",ms({},Ke(o,!0),{fill:"none",d:wu(i,a)})):null)}var f=wu(n,a);return K.createElement("path",ms({},Ke(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}var hw=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=at("recharts-dot",a);return n===+n&&r===+r&&i===+i?K.createElement("circle",w_({},Ke(e,!1),vf(e),{className:o,cx:n,cy:r,r:i})):null};function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}var VG=["x","y","top","left","width","height","className"];function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(this,arguments)}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){GG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GG(t,e,n){return e=HG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HG(t){var e=WG(t,"string");return Xu(e)=="symbol"?e:e+""}function WG(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KG(t,e){if(t==null)return{};var n=YG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var JG=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},XG=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,f=e.width,h=f===void 0?0:f,v=e.height,_=v===void 0?0:v,b=e.className,S=KG(e,VG),w=zG({x:r,y:a,top:l,left:d,width:h,height:_},S);return!Te(r)||!Te(a)||!Te(h)||!Te(_)||!Te(l)||!Te(d)?null:K.createElement("path",S_({},Ke(w,!0),{className:at("recharts-cross",b),d:JG(r,a,h,_,l,d)}))},F0,uO;function ZG(){if(uO)return F0;uO=1;var t=Vh(),e=c2(),n=ni();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return F0=r,F0}var QG=ZG();const eH=mt(QG);var q0,cO;function tH(){if(cO)return q0;cO=1;var t=Vh(),e=ni(),n=d2();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return q0=r,q0}var nH=tH();const rH=mt(nH);var iH=["cx","cy","angle","ticks","axisLine"],aH=["ticks","tick","angle","tickFormatter","stroke"];function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(this,arguments)}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){Jh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fO(t,e){if(t==null)return{};var n=oH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X2(r.key),r)}}function lH(t,e,n){return e&&hO(t.prototype,e),n&&hO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uH(t,e,n){return e=Kf(e),cH(t,J2()?Reflect.construct(e,n||[],Kf(t).constructor):e.apply(t,n))}function cH(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dH(t)}function dH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J2=function(){return!!t})()}function Kf(t){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kf(t)}function fH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function Jh(t,e,n){return e=X2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X2(t){var e=hH(t,"string");return $s(e)=="symbol"?e:e+""}function hH(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xh=function(t){function e(){return sH(this,e),uH(this,e,arguments)}return fH(e,t),lH(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Ot(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=eH(l,function(f){return f.coordinate||0}),d=rH(l,function(f){return f.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,d=fO(r,iH),f=l.reduce(function(b,S){return[Math.min(b[0],S.coordinate),Math.max(b[1],S.coordinate)]},[1/0,-1/0]),h=Ot(i,a,f[0],o),v=Ot(i,a,f[1],o),_=Ga(Ga(Ga({},Ke(d,!1)),{},{fill:"none"},Ke(c,!1)),{},{x1:h.x,y1:h.y,x2:v.x,y2:v.y});return K.createElement("line",Su({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,f=fO(i,aH),h=this.getTickTextAnchor(),v=Ke(f,!1),_=Ke(o,!1),b=a.map(function(S,w){var A=r.getTickValueCoord(S),O=Ga(Ga(Ga(Ga({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(A.x,", ").concat(A.y,")")},v),{},{stroke:"none",fill:d},_),{},{index:w},A),{},{payload:S});return K.createElement(xt,Su({className:at("recharts-polar-radius-axis-tick",B2(o)),key:"tick-".concat(S.coordinate)},so(r.props,S,w)),e.renderTickItem(o,O,c?c(S.value,w):S.value))});return K.createElement(xt,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:K.createElement(xt,{className:at("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),un.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return K.isValidElement(r)?o=K.cloneElement(r,i):Xe(r)?o=r(i):o=K.createElement(lo,Su({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(R.PureComponent);Jh(Xh,"displayName","PolarRadiusAxis");Jh(Xh,"axisType","radiusAxis");Jh(Xh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(this,arguments)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){Zh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q2(r.key),r)}}function mH(t,e,n){return e&&mO(t.prototype,e),n&&mO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gH(t,e,n){return e=Yf(e),vH(t,Z2()?Reflect.construct(e,n||[],Yf(t).constructor):e.apply(t,n))}function vH(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yH(t)}function yH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z2=function(){return!!t})()}function Yf(t){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yf(t)}function xH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(t,e)}function Zh(t,e,n){return e=Q2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q2(t){var e=_H(t,"string");return Ls(e)=="symbol"?e:e+""}function _H(t,e){if(Ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bH=Math.PI/180,gO=1e-5,Qh=function(t){function e(){return pH(this,e),gH(this,e,arguments)}return xH(e,t),mH(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,f=d||8,h=Ot(a,o,l,r.coordinate),v=Ot(a,o,l+(c==="inner"?-1:1)*f,r.coordinate);return{x1:h.x,y1:h.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*bH),o;return a>gO?o=i==="outer"?"start":"end":a<-gO?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,d=Ha(Ha({},Ke(this.props,!1)),{},{fill:"none"},Ke(l,!1));if(c==="circle")return K.createElement(hw,Za({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:o}));var f=this.props.ticks,h=f.map(function(v){return Ot(i,a,o,v.coordinate)});return K.createElement(UG,Za({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,f=Ke(this.props,!1),h=Ke(o,!1),v=Ha(Ha({},f),{},{fill:"none"},Ke(l,!1)),_=a.map(function(b,S){var w=r.getTickLineCoord(b),A=r.getTickTextAnchor(b),O=Ha(Ha(Ha({textAnchor:A},f),{},{stroke:"none",fill:d},h),{},{index:S,payload:b,x:w.x2,y:w.y2});return K.createElement(xt,Za({className:at("recharts-polar-angle-axis-tick",B2(o)),key:"tick-".concat(b.coordinate)},so(r.props,b,S)),l&&K.createElement("line",Za({className:"recharts-polar-angle-axis-tick-line"},v,w)),o&&e.renderTickItem(o,O,c?c(b.value,S):b.value))});return K.createElement(xt,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:K.createElement(xt,{className:at("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return K.isValidElement(r)?o=K.cloneElement(r,i):Xe(r)?o=r(i):o=K.createElement(lo,Za({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(R.PureComponent);Zh(Qh,"displayName","PolarAngleAxis");Zh(Qh,"axisType","angleAxis");Zh(Qh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var U0,vO;function wH(){if(vO)return U0;vO=1;var t=lD(),e=t(Object.getPrototypeOf,Object);return U0=e,U0}var V0,yO;function SH(){if(yO)return V0;yO=1;var t=Pi(),e=wH(),n=Oi(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,c=o.call(Object);function d(f){if(!n(f)||t(f)!=r)return!1;var h=e(f);if(h===null)return!0;var v=l.call(h,"constructor")&&h.constructor;return typeof v=="function"&&v instanceof v&&o.call(v)==c}return V0=d,V0}var CH=SH();const TH=mt(CH);var z0,xO;function kH(){if(xO)return z0;xO=1;var t=Pi(),e=Oi(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return z0=r,z0}var EH=kH();const AH=mt(EH);function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jf.apply(this,arguments)}function PH(t,e){return MH(t)||NH(t,e)||IH(t,e)||OH()}function OH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IH(t,e){if(t){if(typeof t=="string")return _O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _O(t,e)}}function _O(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function MH(t){if(Array.isArray(t))return t}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){DH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DH(t,e,n){return e=RH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RH(t){var e=jH(t,"string");return Zu(e)=="symbol"?e:e+""}function jH(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SO=function(e,n,r,i,a){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+a),l+="L ".concat(e+r-o/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},$H={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LH=function(e){var n=wO(wO({},$H),e),r=R.useRef(),i=R.useState(-1),a=PH(i,2),o=a[0],l=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&l(T)}catch{}},[]);var c=n.x,d=n.y,f=n.upperWidth,h=n.lowerWidth,v=n.height,_=n.className,b=n.animationEasing,S=n.animationDuration,w=n.animationBegin,A=n.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||h!==+h||v!==+v||f===0&&h===0||v===0)return null;var O=at("recharts-trapezoid",_);return A?K.createElement(Ei,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:d},to:{upperWidth:f,lowerWidth:h,height:v,x:c,y:d},duration:S,animationEasing:b,isActive:A},function(T){var I=T.upperWidth,E=T.lowerWidth,P=T.height,N=T.x,D=T.y;return K.createElement(Ei,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,easing:b},K.createElement("path",Jf({},Ke(n,!0),{className:O,d:SO(N,D,I,E,P),ref:r})))}):K.createElement("g",null,K.createElement("path",Jf({},Ke(n,!0),{className:O,d:SO(c,d,f,h,v)})))},BH=["option","shapeType","propTransformer","activeClassName","isActive"];function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function FH(t,e){if(t==null)return{};var n=qH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){UH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UH(t,e,n){return e=VH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VH(t){var e=zH(t,"string");return Qu(e)=="symbol"?e:e+""}function zH(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GH(t,e){return Xf(Xf({},e),t)}function HH(t,e){return t==="symbols"}function TO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return K.createElement(fw,n);case"trapezoid":return K.createElement(LH,n);case"sector":return K.createElement(U2,n);case"symbols":if(HH(e))return K.createElement(Ib,n);break;default:return null}}function WH(t){return R.isValidElement(t)?t.props:t}function eR(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?GH:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=FH(t,BH),d;if(R.isValidElement(e))d=R.cloneElement(e,Xf(Xf({},c),WH(e)));else if(Xe(e))d=e(c);else if(TH(e)&&!AH(e)){var f=i(e,c);d=K.createElement(TO,{shapeType:n,elementProps:f})}else{var h=c;d=K.createElement(TO,{shapeType:n,elementProps:h})}return l?K.createElement(xt,{className:o},d):d}function ep(t,e){return e!=null&&"trapezoids"in t.props}function tp(t,e){return e!=null&&"sectors"in t.props}function ec(t,e){return e!=null&&"points"in t.props}function KH(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function YH(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function JH(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function XH(t,e){var n;return ep(t,e)?n=KH:tp(t,e)?n=YH:ec(t,e)&&(n=JH),n}function ZH(t,e){var n;return ep(t,e)?n="trapezoids":tp(t,e)?n="sectors":ec(t,e)&&(n="points"),n}function QH(t,e){if(ep(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(tp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ec(t,e)?e.payload:{}}function eW(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ZH(n,e),a=QH(n,e),o=r.filter(function(c,d){var f=Hh(a,c),h=n.props[i].filter(function(b){var S=XH(n,e);return S(b,e)}),v=n.props[i].indexOf(h[h.length-1]),_=d===v;return f&&_}),l=r.indexOf(o[o.length-1]);return l}var cf;function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function gs(){return gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gs.apply(this,arguments)}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nR(r.key),r)}}function nW(t,e,n){return e&&EO(t.prototype,e),n&&EO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rW(t,e,n){return e=Zf(e),iW(t,tR()?Reflect.construct(e,n||[],Zf(t).constructor):e.apply(t,n))}function iW(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aW(t)}function aW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tR=function(){return!!t})()}function Zf(t){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zf(t)}function oW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(t,e)}function vr(t,e,n){return e=nR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nR(t){var e=sW(t,"string");return Bs(e)=="symbol"?e:e+""}function sW(t,e){if(Bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ni=function(t){function e(n){var r;return tW(this,e),r=rW(this,e,[n]),vr(r,"pieRef",null),vr(r,"sectorRefs",[]),vr(r,"id",hc("recharts-pie-")),vr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Xe(i)&&i()}),vr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Xe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return oW(e,t),nW(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,f=Ke(this.props,!1),h=Ke(o,!1),v=Ke(l,!1),_=o&&o.offsetRadius||20,b=r.map(function(S,w){var A=(S.startAngle+S.endAngle)/2,O=Ot(S.cx,S.cy,S.outerRadius+_,A),T=At(At(At(At({},f),S),{},{stroke:"none"},h),{},{index:w,textAnchor:e.getTextAnchor(O.x,S.cx)},O),I=At(At(At(At({},f),S),{},{fill:"none",stroke:S.fill},v),{},{index:w,points:[Ot(S.cx,S.cy,S.outerRadius,A),O]}),E=c;return st(c)&&st(d)?E="value":st(c)&&(E=d),K.createElement(xt,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(w)},l&&e.renderLabelLineItem(l,I,"line"),e.renderLabelItem(o,T,Tn(S,E)))});return K.createElement(xt,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(d,f){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(f),v=c&&i.hasActiveIndex()?c:null,_=h?o:v,b=At(At({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return K.createElement(xt,gs({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},so(i.props,d,f),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(f)}),K.createElement(eR,gs({option:_,isActive:h,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state,v=h.prevSectors,_=h.prevIsAnimationActive;return K.createElement(Ei,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var S=b.t,w=[],A=a&&a[0],O=A.startAngle;return a.forEach(function(T,I){var E=v&&v[I],P=I>0?ir(T,"paddingAngle",0):0;if(E){var N=sa(E.endAngle-E.startAngle,T.endAngle-T.startAngle),D=At(At({},T),{},{startAngle:O+P,endAngle:O+N(S)+P});w.push(D),O=D.endAngle}else{var B=T.endAngle,q=T.startAngle,L=sa(0,B-q),W=L(S),J=At(At({},T),{},{startAngle:O+P,endAngle:O+W+P});w.push(J),O=J.endAngle}}),K.createElement(xt,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Hh(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,d=i.cx,f=i.cy,h=i.innerRadius,v=i.outerRadius,_=i.isAnimationActive,b=this.state.isAnimationFinished;if(a||!o||!o.length||!Te(d)||!Te(f)||!Te(h)||!Te(v))return null;var S=at("recharts-pie",l);return K.createElement(xt,{tabIndex:this.props.rootTabIndex,className:S,ref:function(A){r.pieRef=A}},this.renderSectors(),c&&this.renderLabels(o),un.renderCallByParent(this.props,null,!1),(!_||b)&&ma.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(K.isValidElement(r))return K.cloneElement(r,i);if(Xe(r))return r(i);var o=at("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return K.createElement(d_,gs({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(K.isValidElement(r))return K.cloneElement(r,i);var o=a;if(Xe(r)&&(o=r(i),K.isValidElement(o)))return o;var l=at("recharts-pie-label-text",typeof r!="boolean"&&!Xe(r)?r.className:"");return K.createElement(lo,gs({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(R.PureComponent);cf=Ni;vr(Ni,"displayName","Pie");vr(Ni,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!sl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});vr(Ni,"parseDeltaAngle",function(t,e){var n=Nn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});vr(Ni,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ke(t,!1),i=xr(n,jh);return e&&e.length?e.map(function(a,o){return At(At(At({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return At(At({},r),a.props)}):[]});vr(Ni,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=L2(i,a),l=r+Mn(t.cx,i,i/2),c=n+Mn(t.cy,a,a/2),d=Mn(t.innerRadius,o,0),f=Mn(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}});vr(Ni,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?At(At({},e.type.defaultProps),e.props):e.props,i=cf.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,d=r.dataKey,f=r.nameKey,h=r.valueKey,v=r.tooltipType,_=Math.abs(r.minAngle),b=cf.parseCoordinateOfPie(r,n),S=cf.parseDeltaAngle(o,l),w=Math.abs(S),A=d;st(d)&&st(h)?($r(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):st(d)&&($r(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=h);var O=i.filter(function(D){return Tn(D,A,0)!==0}).length,T=(w>=360?O:O-1)*c,I=w-O*_-T,E=i.reduce(function(D,B){var q=Tn(B,A,0);return D+(Te(q)?q:0)},0),P;if(E>0){var N;P=i.map(function(D,B){var q=Tn(D,A,0),L=Tn(D,f,B),W=(Te(q)?q:0)/E,J;B?J=N.endAngle+Nn(S)*c*(q!==0?1:0):J=o;var H=J+Nn(S)*((q!==0?_:0)+W*I),F=(J+H)/2,Z=(b.innerRadius+b.outerRadius)/2,Y=[{name:L,value:q,payload:D,dataKey:A,type:v}],G=Ot(b.cx,b.cy,Z,F);return N=At(At(At({percent:W,cornerRadius:a,name:L,tooltipPayload:Y,midAngle:F,middleRadius:Z,tooltipPosition:G},D),b),{},{value:Tn(D,A),startAngle:J,endAngle:H,payload:D,paddingAngle:Nn(S)*c}),N})}return At(At({},b),{},{sectors:P,data:i})});var G0,AO;function lW(){if(AO)return G0;AO=1;var t=Math.ceil,e=Math.max;function n(r,i,a,o){for(var l=-1,c=e(t((i-r)/(a||1)),0),d=Array(c);c--;)d[o?c:++l]=r,r+=a;return d}return G0=n,G0}var H0,PO;function rR(){if(PO)return H0;PO=1;var t=CD(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return H0=r,H0}var W0,OO;function uW(){if(OO)return W0;OO=1;var t=lW(),e=Rh(),n=rR();function r(i){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),l=l===void 0?a<o?1:-1:n(l),t(a,o,l,i)}}return W0=r,W0}var K0,IO;function cW(){if(IO)return K0;IO=1;var t=uW(),e=t();return K0=e,K0}var dW=cW();const Qf=mt(dW);function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){iR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iR(t,e,n){return e=fW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fW(t){var e=hW(t,"string");return tc(e)=="symbol"?e:e+""}function hW(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pW=["Webkit","Moz","O","ms"],mW=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=pW.reduce(function(a,o){return MO(MO({},a),{},iR({},o+r,n))},{});return i[e]=n,i};function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eh.apply(this,arguments)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){er(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oR(r.key),r)}}function vW(t,e,n){return e&&RO(t.prototype,e),n&&RO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yW(t,e,n){return e=th(e),xW(t,aR()?Reflect.construct(e,n||[],th(t).constructor):e.apply(t,n))}function xW(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _W(t)}function _W(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aR=function(){return!!t})()}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},th(t)}function bW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(t,e)}function er(t,e,n){return e=oR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oR(t){var e=wW(t,"string");return Fs(e)=="symbol"?e:e+""}function wW(t,e){if(Fs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SW=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=xu().domain(Qf(0,c)).range([a,a+o-l]),f=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:f}},jO=function(e){return e.changedTouches&&!!e.changedTouches.length},qs=function(t){function e(n){var r;return gW(this,e),r=yW(this,e,[n]),er(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),er(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),er(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),er(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),er(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),er(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),er(r,"handleSlideDragStart",function(i){var a=jO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return bW(e,t),vW(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,f=d.length-1,h=Math.min(i,a),v=Math.max(i,a),_=e.getIndexInRange(o,h),b=e.getIndexInRange(o,v);return{startIndex:_-_%c,endIndex:b===f?f:b-b%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Tn(a[r],l,r);return Xe(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,f=c.width,h=c.travellerWidth,v=c.startIndex,_=c.endIndex,b=c.onChange,S=r.pageX-a;S>0?S=Math.min(S,d+f-h-l,d+f-h-o):S<0&&(S=Math.max(S,d-o,d-l));var w=this.getIndex({startX:o+S,endX:l+S});(w.startIndex!==v||w.endIndex!==_)&&b&&b(w),this.setState({startX:o+S,endX:l+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=jO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],f=this.props,h=f.x,v=f.width,_=f.travellerWidth,b=f.onChange,S=f.gap,w=f.data,A={startX:this.state.startX,endX:this.state.endX},O=r.pageX-a;O>0?O=Math.min(O,h+v-_-d):O<0&&(O=Math.max(O,h-d)),A[o]=d+O;var T=this.getIndex(A),I=T.startIndex,E=T.endIndex,P=function(){var D=w.length-1;return o==="startX"&&(l>c?I%S===0:E%S===0)||l<c&&E===D||o==="endX"&&(l>c?E%S===0:I%S===0)||l>c&&E===D};this.setState(er(er({},o,d+O),"brushMoveStartX",r.pageX),function(){b&&P()&&b(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,f=this.state[i],h=l.indexOf(f);if(h!==-1){var v=h+r;if(!(v===-1||v>=l.length)){var _=l[v];i==="startX"&&_>=d||i==="endX"&&_<=c||this.setState(er({},i,_),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,d=r.stroke;return K.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.data,d=r.children,f=r.padding,h=R.Children.only(d);return h?K.cloneElement(h,{x:i,y:a,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,l=this,c=this.props,d=c.y,f=c.travellerWidth,h=c.height,v=c.traveller,_=c.ariaLabel,b=c.data,S=c.startIndex,w=c.endIndex,A=Math.max(r,this.props.x),O=Y0(Y0({},Ke(this.props,!1)),{},{x:A,y:d,width:f,height:h}),T=_||"Min value: ".concat((a=b[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=b[w])===null||o===void 0?void 0:o.name);return K.createElement(xt,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,O))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,f=Math.min(r,i)+d,h=Math.max(Math.abs(i-r)-d,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,f=this.state,h=f.startX,v=f.endX,_=5,b={pointerEvents:"none",fill:d};return K.createElement(xt,{className:"recharts-brush-texts"},K.createElement(lo,eh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,v)-_,y:o+l/2},b),this.getTextOfTick(i)),K.createElement(lo,eh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,v)+c+_,y:o+l/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,l=r.x,c=r.y,d=r.width,f=r.height,h=r.alwaysShowText,v=this.state,_=v.startX,b=v.endX,S=v.isTextActive,w=v.isSlideMoving,A=v.isTravellerMoving,O=v.isTravellerFocused;if(!i||!i.length||!Te(l)||!Te(c)||!Te(d)||!Te(f)||d<=0||f<=0)return null;var T=at("recharts-brush",a),I=K.Children.count(o)===1,E=mW("userSelect","none");return K.createElement(xt,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(_,b),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(b,"endX"),(S||w||A||O||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,d=Math.floor(a+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),K.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return K.isValidElement(r)?a=K.cloneElement(r,i):Xe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,f=r.startIndex,h=r.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return Y0({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?SW({data:a,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var v=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}(R.PureComponent);er(qs,"displayName","Brush");er(qs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var J0,$O;function CW(){if($O)return J0;$O=1;var t=Lb();function e(n,r){var i;return t(n,function(a,o,l){return i=r(a,o,l),!i}),!!i}return J0=e,J0}var X0,LO;function TW(){if(LO)return X0;LO=1;var t=tD(),e=ni(),n=CW(),r=Kn(),i=Rh();function a(o,l,c){var d=r(o)?t:n;return c&&i(o,l,c)&&(l=void 0),d(o,e(l,3))}return X0=a,X0}var kW=TW();const EW=mt(kW);var Jr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Z0,BO;function AW(){if(BO)return Z0;BO=1;var t=xD();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Z0=e,Z0}var Q0,FO;function PW(){if(FO)return Q0;FO=1;var t=AW(),e=vD(),n=ni();function r(i,a){var o={};return a=n(a,3),e(i,function(l,c,d){t(o,c,a(l,c,d))}),o}return Q0=r,Q0}var OW=PW();const IW=mt(OW);var ex,qO;function NW(){if(qO)return ex;qO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return ex=t,ex}var tx,UO;function MW(){if(UO)return tx;UO=1;var t=Lb();function e(n,r){var i=!0;return t(n,function(a,o,l){return i=!!r(a,o,l),i}),i}return tx=e,tx}var nx,VO;function DW(){if(VO)return nx;VO=1;var t=NW(),e=MW(),n=ni(),r=Kn(),i=Rh();function a(o,l,c){var d=r(o)?t:e;return c&&i(o,l,c)&&(l=void 0),d(o,n(l,3))}return nx=a,nx}var RW=DW();const sR=mt(RW);var jW=["x","y"];function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(this,arguments)}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function su(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){$W(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $W(t,e,n){return e=LW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LW(t){var e=BW(t,"string");return nc(e)=="symbol"?e:e+""}function BW(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FW(t,e){if(t==null)return{};var n=qW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UW(t,e){var n=t.x,r=t.y,i=FW(t,jW),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),h="".concat(e.width||i.width),v=parseInt(h,10);return su(su(su(su(su({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:v,name:e.name,radius:e.radius})}function GO(t){return K.createElement(eR,A_({shapeType:"rectangle",propTransformer:UW,activeClassName:"recharts-active-bar"},t))}var VW=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||co(),n)}},zW=["value","background"],lR;function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function GW(t,e){if(t==null)return{};var n=HW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cR(r.key),r)}}function KW(t,e,n){return e&&WO(t.prototype,e),n&&WO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YW(t,e,n){return e=rh(e),JW(t,uR()?Reflect.construct(e,n||[],rh(t).constructor):e.apply(t,n))}function JW(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XW(t)}function XW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uR=function(){return!!t})()}function rh(t){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rh(t)}function ZW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function fa(t,e,n){return e=cR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cR(t){var e=QW(t,"string");return Us(e)=="symbol"?e:e+""}function QW(t,e){if(Us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bo=function(t){function e(){var n;WW(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=YW(this,e,[].concat(i)),fa(n,"state",{isAnimationFinished:!1}),fa(n,"id",hc("recharts-bar-")),fa(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),fa(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return ZW(e,t),KW(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,f=Ke(this.props,!1);return r&&r.map(function(h,v){var _=v===c,b=_?d:o,S=Wt(Wt(Wt({},f),h),{},{isActive:_,option:b,index:v,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(xt,nh({className:"recharts-bar-rectangle"},so(i.props,h,v),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(v)}),K.createElement(GO,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,h=i.animationId,v=this.state.prevData;return K.createElement(Ei,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var b=_.t,S=a.map(function(w,A){var O=v&&v[A];if(O){var T=sa(O.x,w.x),I=sa(O.y,w.y),E=sa(O.width,w.width),P=sa(O.height,w.height);return Wt(Wt({},w),{},{x:T(b),y:I(b),width:E(b),height:P(b)})}if(o==="horizontal"){var N=sa(0,w.height),D=N(b);return Wt(Wt({},w),{},{y:w.y+w.height-D,height:D})}var B=sa(0,w.width),q=B(b);return Wt(Wt({},w),{},{width:q})});return K.createElement(xt,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Hh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=Ke(this.props.background,!1);return a.map(function(d,f){d.value;var h=d.background,v=GW(d,zW);if(!h)return null;var _=Wt(Wt(Wt(Wt(Wt({},v),{},{fill:"#eee"},h),c),so(r.props,d,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return K.createElement(GO,nh({key:"background-bar-".concat(f),option:r.props.background,isActive:f===l},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,f=a.children,h=xr(f,Yh);if(!h)return null;var v=d==="vertical"?o[0].height/2:o[0].width/2,_=function(w,A){var O=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:O,errorVal:Tn(w,A)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(xt,b,h.map(function(S){return K.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:v,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,d=r.left,f=r.top,h=r.width,v=r.height,_=r.isAnimationActive,b=r.background,S=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,A=at("recharts-bar",o),O=l&&l.allowDataOverflow,T=c&&c.allowDataOverflow,I=O||T,E=st(S)?this.id:S;return K.createElement(xt,{className:A},O||T?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(E)},K.createElement("rect",{x:O?d:d-h/2,y:T?f:f-v/2,width:O?h:h*2,height:T?v:v*2}))):null,K.createElement(xt,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(E,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,E),(!_||w)&&ma.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(R.PureComponent);lR=bo;fa(bo,"displayName","Bar");fa(bo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!sl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fa(bo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,f=t.dataStartIndex,h=t.displayedData,v=t.offset,_=A9(r,n);if(!_)return null;var b=e.layout,S=n.type.defaultProps,w=S!==void 0?Wt(Wt({},S),n.props):n.props,A=w.dataKey,O=w.children,T=w.minPointSize,I=b==="horizontal"?o:a,E=d?I.scale.domain():null,P=R9({numericAxis:I}),N=xr(O,jh),D=h.map(function(B,q){var L,W,J,H,F,Z;d?L=P9(d[f+q],E):(L=Tn(B,A),Array.isArray(L)||(L=[P,L]));var Y=VW(T,lR.defaultProps.minPointSize)(L[1],q);if(b==="horizontal"){var G,te=[o.scale(L[0]),o.scale(L[1])],ae=te[0],j=te[1];W=yP({axis:a,ticks:l,bandSize:i,offset:_.offset,entry:B,index:q}),J=(G=j??ae)!==null&&G!==void 0?G:void 0,H=_.size;var Q=ae-j;if(F=Number.isNaN(Q)?0:Q,Z={x:W,y:o.y,width:H,height:o.height},Math.abs(Y)>0&&Math.abs(F)<Math.abs(Y)){var de=Nn(F||Y)*(Math.abs(Y)-Math.abs(F));J-=de,F+=de}}else{var _e=[a.scale(L[0]),a.scale(L[1])],ce=_e[0],Ie=_e[1];if(W=ce,J=yP({axis:o,ticks:c,bandSize:i,offset:_.offset,entry:B,index:q}),H=Ie-ce,F=_.size,Z={x:a.x,y:J,width:a.width,height:F},Math.abs(Y)>0&&Math.abs(H)<Math.abs(Y)){var Je=Nn(H||Y)*(Math.abs(Y)-Math.abs(H));H+=Je}}return Wt(Wt(Wt({},B),{},{x:W,y:J,width:H,height:F,value:d?L:L[1],payload:B,background:Z},N&&N[q]&&N[q].props),{},{tooltipPayload:[j2(n,B)],tooltipPosition:{x:W+H/2,y:J+F/2}})});return Wt({data:D,layout:b},v)});function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function eK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dR(r.key),r)}}function tK(t,e,n){return e&&KO(t.prototype,e),n&&KO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){np(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function np(t,e,n){return e=dR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dR(t){var e=nK(t,"string");return rc(e)=="symbol"?e:e+""}function nK(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rK=function(e,n,r,i,a){var o=e.width,l=e.height,c=e.layout,d=e.children,f=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},v=!!tr(d,bo);return f.reduce(function(_,b){var S=n[b],w=S.orientation,A=S.domain,O=S.padding,T=O===void 0?{}:O,I=S.mirror,E=S.reversed,P="".concat(w).concat(I?"Mirror":""),N,D,B,q,L;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var W=A[1]-A[0],J=1/0,H=S.categoricalDomain.sort(vF);if(H.forEach(function(_e,ce){ce>0&&(J=Math.min((_e||0)-(H[ce-1]||0),J))}),Number.isFinite(J)){var F=J/W,Z=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(N=F*Z/2),S.padding==="no-gap"){var Y=Mn(e.barCategoryGap,F*Z),G=F*Z/2;N=G-Y-(G-Y)/Z*Y}}}i==="xAxis"?D=[r.left+(T.left||0)+(N||0),r.left+r.width-(T.right||0)-(N||0)]:i==="yAxis"?D=c==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(N||0),r.top+r.height-(T.bottom||0)-(N||0)]:D=S.range,E&&(D=[D[1],D[0]]);var te=N2(S,a,v),ae=te.scale,j=te.realScaleType;ae.domain(A).range(D),M2(ae);var Q=D2(ae,Rr(Rr({},S),{},{realScaleType:j}));i==="xAxis"?(L=w==="top"&&!I||w==="bottom"&&I,B=r.left,q=h[P]-L*S.height):i==="yAxis"&&(L=w==="left"&&!I||w==="right"&&I,B=h[P]-L*S.width,q=r.top);var de=Rr(Rr(Rr({},S),Q),{},{realScaleType:j,x:B,y:q,scale:ae,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return de.bandSize=qf(de,Q),!S.hide&&i==="xAxis"?h[P]+=(L?-1:1)*de.height:S.hide||(h[P]+=(L?-1:1)*de.width),Rr(Rr({},_),{},np({},b,de))},{})},fR=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},iK=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return fR({x:n,y:r},{x:i,y:a})},hR=function(){function t(e){eK(this,t),this.scale=e}return tK(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();np(hR,"EPS",1e-4);var pw=function(e){var n=Object.keys(e).reduce(function(r,i){return Rr(Rr({},r),{},np({},i,hR.create(e[i])))},{});return Rr(Rr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return IW(i,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return sR(i,function(a,o){return n[o].isInRange(a)})}})};function aK(t){return(t%180+180)%180}var oK=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=aK(i),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},rx,JO;function sK(){if(JO)return rx;JO=1;var t=ni(),e=pc(),n=Mh();function r(i){return function(a,o,l){var c=Object(a);if(!e(a)){var d=t(o,3);a=n(a),o=function(h){return d(c[h],h,c)}}var f=i(a,o,l);return f>-1?c[d?a[f]:f]:void 0}}return rx=r,rx}var ix,XO;function lK(){if(XO)return ix;XO=1;var t=rR();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return ix=e,ix}var ax,ZO;function uK(){if(ZO)return ax;ZO=1;var t=fD(),e=ni(),n=lK(),r=Math.max;function i(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var d=l==null?0:n(l);return d<0&&(d=r(c+d,0)),t(a,e(o,3),d)}return ax=i,ax}var ox,QO;function cK(){if(QO)return ox;QO=1;var t=sK(),e=uK(),n=t(e);return ox=n,ox}var dK=cK();const fK=mt(dK);var hK=AM();const pK=mt(hK);var mK=pK(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),mw=R.createContext(void 0),gw=R.createContext(void 0),pR=R.createContext(void 0),mR=R.createContext({}),gR=R.createContext(void 0),vR=R.createContext(0),yR=R.createContext(0),eI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,f=mK(a);return K.createElement(mw.Provider,{value:r},K.createElement(gw.Provider,{value:i},K.createElement(mR.Provider,{value:a},K.createElement(pR.Provider,{value:f},K.createElement(gR.Provider,{value:o},K.createElement(vR.Provider,{value:d},K.createElement(yR.Provider,{value:c},l)))))))},gK=function(){return R.useContext(gR)},xR=function(e){var n=R.useContext(mw);n==null&&co();var r=n[e];return r==null&&co(),r},vK=function(){var e=R.useContext(mw);return da(e)},yK=function(){var e=R.useContext(gw),n=fK(e,function(r){return sR(r.domain,Number.isFinite)});return n||da(e)},_R=function(e){var n=R.useContext(gw);n==null&&co();var r=n[e];return r==null&&co(),r},xK=function(){var e=R.useContext(pR);return e},_K=function(){return R.useContext(mR)},vw=function(){return R.useContext(yR)},yw=function(){return R.useContext(vR)};function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function bK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wR(r.key),r)}}function SK(t,e,n){return e&&wK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CK(t,e,n){return e=ih(e),TK(t,bR()?Reflect.construct(e,n||[],ih(t).constructor):e.apply(t,n))}function TK(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kK(t)}function kK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bR=function(){return!!t})()}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ih(t)}function EK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xw(t,e,n){return e=wR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wR(t){var e=AK(t,"string");return Vs(e)=="symbol"?e:e+""}function AK(t,e){if(Vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PK(t,e){return MK(t)||NK(t,e)||IK(t,e)||OK()}function OK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IK(t,e){if(t){if(typeof t=="string")return rI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rI(t,e)}}function rI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function MK(t){if(Array.isArray(t))return t}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}var DK=function(e,n){var r;return K.isValidElement(e)?r=K.cloneElement(e,n):Xe(e)?r=e(n):r=K.createElement("line",I_({},n,{className:"recharts-reference-line-line"})),r},RK=function(e,n,r,i,a,o,l,c,d){var f=a.x,h=a.y,v=a.width,_=a.height;if(r){var b=d.y,S=e.y.apply(b,{position:o});if(Jr(d,"discard")&&!e.y.isInRange(S))return null;var w=[{x:f+v,y:S},{x:f,y:S}];return c==="left"?w.reverse():w}if(n){var A=d.x,O=e.x.apply(A,{position:o});if(Jr(d,"discard")&&!e.x.isInRange(O))return null;var T=[{x:O,y:h+_},{x:O,y:h}];return l==="top"?T.reverse():T}if(i){var I=d.segment,E=I.map(function(P){return e.apply(P,{position:o})});return Jr(d,"discard")&&EW(E,function(P){return!e.isInRange(P)})?null:E}return null};function jK(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=gK(),f=xR(i),h=_R(a),v=xK();if(!d||!v)return null;$r(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=pw({x:f.scale,y:h.scale}),b=en(e),S=en(n),w=r&&r.length===2,A=RK(_,b,S,w,v,t.position,f.orientation,h.orientation,t);if(!A)return null;var O=PK(A,2),T=O[0],I=T.x,E=T.y,P=O[1],N=P.x,D=P.y,B=Jr(t,"hidden")?"url(#".concat(d,")"):void 0,q=nI(nI({clipPath:B},Ke(t,!0)),{},{x1:I,y1:E,x2:N,y2:D});return K.createElement(xt,{className:at("recharts-reference-line",l)},DK(o,q),un.renderCallByParent(t,iK({x1:I,y1:E,x2:N,y2:D})))}var _w=function(t){function e(){return bK(this,e),CK(this,e,arguments)}return EK(e,t),SK(e,[{key:"render",value:function(){return K.createElement(jK,this.props)}}])}(K.Component);xw(_w,"displayName","ReferenceLine");xw(_w,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){rp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CR(r.key),r)}}function BK(t,e,n){return e&&LK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FK(t,e,n){return e=ah(e),qK(t,SR()?Reflect.construct(e,n||[],ah(t).constructor):e.apply(t,n))}function qK(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UK(t)}function UK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SR=function(){return!!t})()}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ah(t)}function VK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function rp(t,e,n){return e=CR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CR(t){var e=zK(t,"string");return zs(e)=="symbol"?e:e+""}function zK(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GK=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=pw({x:i.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Jr(e,"discard")&&!o.isInRange(l)?null:l},ip=function(t){function e(){return $K(this,e),FK(this,e,arguments)}return VK(e,t),BK(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,d=en(i),f=en(a);if($r(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var h=GK(this.props);if(!h)return null;var v=h.x,_=h.y,b=this.props,S=b.shape,w=b.className,A=Jr(this.props,"hidden")?"url(#".concat(c,")"):void 0,O=aI(aI({clipPath:A},Ke(this.props,!0)),{},{cx:v,cy:_});return K.createElement(xt,{className:at("recharts-reference-dot",w)},e.renderDot(S,O),un.renderCallByParent(this.props,{x:v-o,y:_-o,width:2*o,height:2*o}))}}])}(K.Component);rp(ip,"displayName","ReferenceDot");rp(ip,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});rp(ip,"renderDot",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Xe(t)?n=t(e):n=K.createElement(hw,N_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){ap(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kR(r.key),r)}}function KK(t,e,n){return e&&WK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YK(t,e,n){return e=oh(e),JK(t,TR()?Reflect.construct(e,n||[],oh(t).constructor):e.apply(t,n))}function JK(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XK(t)}function XK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TR=function(){return!!t})()}function oh(t){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oh(t)}function ZK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function ap(t,e,n){return e=kR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kR(t){var e=QK(t,"string");return Gs(e)=="symbol"?e:e+""}function QK(t,e){if(Gs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eY=function(e,n,r,i,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,f=a.xAxis,h=a.yAxis;if(!f||!h)return null;var v=pw({x:f.scale,y:h.scale}),_={x:e?v.x.apply(o,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(c,{position:"start"}):v.y.rangeMin},b={x:n?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(d,{position:"end"}):v.y.rangeMax};return Jr(a,"discard")&&(!v.isInRange(_)||!v.isInRange(b))?null:fR(_,b)},op=function(t){function e(){return HK(this,e),YK(this,e,arguments)}return ZK(e,t),KK(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,f=r.clipPathId;$r(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=en(i),v=en(a),_=en(o),b=en(l),S=this.props.shape;if(!h&&!v&&!_&&!b&&!S)return null;var w=eY(h,v,_,b,this.props);if(!w&&!S)return null;var A=Jr(this.props,"hidden")?"url(#".concat(f,")"):void 0;return K.createElement(xt,{className:at("recharts-reference-area",c)},e.renderRect(S,sI(sI({clipPath:A},Ke(this.props,!0)),w)),un.renderCallByParent(this.props,w))}}])}(K.Component);ap(op,"displayName","ReferenceArea");ap(op,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ap(op,"renderRect",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):Xe(t)?n=t(e):n=K.createElement(fw,D_({},e,{className:"recharts-reference-area-rect"})),n});function ER(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function tY(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return oK(r,n)}function nY(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function sh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function rY(t,e){return ER(t,e+1)}function iY(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,l=e.end,c=0,d=1,f=o,h=function(){var b=r==null?void 0:r[c];if(b===void 0)return{v:ER(r,d)};var S=c,w,A=function(){return w===void 0&&(w=n(b,S)),w},O=b.coordinate,T=c===0||sh(t,O,A,f,l);T||(c=0,f=o,d+=1),T&&(f=O+t*(A()/2+i),c+=d)},v;d<=a.length;)if(v=h(),v)return v.v;return[]}function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){aY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aY(t,e,n){return e=oY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oY(t){var e=sY(t,"string");return ic(e)=="symbol"?e:e+""}function sY(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lY(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end,d=function(v){var _=a[v],b,S=function(){return b===void 0&&(b=n(_,v)),b};if(v===o-1){var w=t*(_.coordinate+t*S()/2-c);a[v]=_=Sn(Sn({},_),{},{tickCoord:w>0?_.coordinate-w*t:_.coordinate})}else a[v]=_=Sn(Sn({},_),{},{tickCoord:_.coordinate});var A=sh(t,_.tickCoord,S,l,c);A&&(c=_.tickCoord-t*(S()/2+i),a[v]=Sn(Sn({},_),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return a}function uY(t,e,n,r,i,a){var o=(r||[]).slice(),l=o.length,c=e.start,d=e.end;if(a){var f=r[l-1],h=n(f,l-1),v=t*(f.coordinate+t*h/2-d);o[l-1]=f=Sn(Sn({},f),{},{tickCoord:v>0?f.coordinate-v*t:f.coordinate});var _=sh(t,f.tickCoord,function(){return h},c,d);_&&(d=f.tickCoord-t*(h/2+i),o[l-1]=Sn(Sn({},f),{},{isShow:!0}))}for(var b=a?l-1:l,S=function(O){var T=o[O],I,E=function(){return I===void 0&&(I=n(T,O)),I};if(O===0){var P=t*(T.coordinate-t*E()/2-c);o[O]=T=Sn(Sn({},T),{},{tickCoord:P<0?T.coordinate-P*t:T.coordinate})}else o[O]=T=Sn(Sn({},T),{},{tickCoord:T.coordinate});var N=sh(t,T.tickCoord,E,c,d);N&&(c=T.tickCoord+t*(E()/2+i),o[O]=Sn(Sn({},T),{},{isShow:!0}))},w=0;w<b;w++)S(w);return o}function bw(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,f=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(Te(c)||sl.isSsr)return rY(i,typeof c=="number"&&Te(c)?c:0);var v=[],_=l==="top"||l==="bottom"?"width":"height",b=f&&_==="width"?yu(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(T,I){var E=Xe(d)?d(T.value,I):T.value;return _==="width"?tY(yu(E,{fontSize:e,letterSpacing:n}),b,h):yu(E,{fontSize:e,letterSpacing:n})[_]},w=i.length>=2?Nn(i[1].coordinate-i[0].coordinate):1,A=nY(a,w,_);return c==="equidistantPreserveStart"?iY(w,A,S,i,o):(c==="preserveStart"||c==="preserveStartEnd"?v=uY(w,A,S,i,o,c==="preserveStartEnd"):v=lY(w,A,S,i,o),v.filter(function(O){return O.isShow}))}var cY=["viewBox"],dY=["viewBox"],fY=["ticks"];function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(this,arguments)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){ww(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sx(t,e){if(t==null)return{};var n=hY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PR(r.key),r)}}function mY(t,e,n){return e&&cI(t.prototype,e),n&&cI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gY(t,e,n){return e=lh(e),vY(t,AR()?Reflect.construct(e,n||[],lh(t).constructor):e.apply(t,n))}function vY(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yY(t)}function yY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AR=function(){return!!t})()}function lh(t){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lh(t)}function xY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function ww(t,e,n){return e=PR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PR(t){var e=_Y(t,"string");return Hs(e)=="symbol"?e:e+""}function _Y(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dl=function(t){function e(n){var r;return pY(this,e),r=gY(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return xY(e,t),mY(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=sx(r,cY),l=this.props,c=l.viewBox,d=sx(l,dY);return!bs(a,c)||!bs(o,d)||!bs(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,f=i.tickSize,h=i.mirror,v=i.tickMargin,_,b,S,w,A,O,T=h?-1:1,I=r.tickSize||f,E=Te(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":_=b=r.coordinate,w=o+ +!h*c,S=w-T*I,O=S-T*v,A=E;break;case"left":S=w=r.coordinate,b=a+ +!h*l,_=b-T*I,A=_-T*v,O=E;break;case"right":S=w=r.coordinate,b=a+ +h*l,_=b+T*I,A=_+T*v,O=E;break;default:_=b=r.coordinate,w=o+ +h*c,S=w+T*I,O=S+T*v,A=E;break}return{line:{x1:_,y1:S,x2:b,y2:w},tick:{x:A,y:O}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,d=r.mirror,f=r.axisLine,h=On(On(On({},Ke(this.props,!1)),Ke(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!d||c==="bottom"&&d);h=On(On({},h),{},{x1:i,y1:a+v*l,x2:i+o,y2:a+v*l})}else{var _=+(c==="left"&&!d||c==="right"&&d);h=On(On({},h),{},{x1:i+_*o,y1:a,x2:i+_*o,y2:a+l})}return K.createElement("line",vs({},h,{className:at("recharts-cartesian-axis-line",ir(f,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,f=l.tick,h=l.tickFormatter,v=l.unit,_=bw(On(On({},this.props),{},{ticks:r}),i,a),b=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),w=Ke(this.props,!1),A=Ke(f,!1),O=On(On({},w),{},{fill:"none"},Ke(c,!1)),T=_.map(function(I,E){var P=o.getTickLineCoord(I),N=P.line,D=P.tick,B=On(On(On(On({textAnchor:b,verticalAnchor:S},w),{},{stroke:"none",fill:d},A),D),{},{index:E,payload:I,visibleTicksCount:_.length,tickFormatter:h});return K.createElement(xt,vs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},so(o.props,I,E)),c&&K.createElement("line",vs({},O,N,{className:at("recharts-cartesian-axis-tick-line",ir(c,"className"))})),f&&e.renderTickItem(f,B,"".concat(Xe(h)?h(I.value,E):I.value).concat(v||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,f=i.hide;if(f)return null;var h=this.props,v=h.ticks,_=sx(h,fY),b=v;return Xe(c)&&(b=v&&v.length>0?c(this.props):c(_)),o<=0||l<=0||!b||!b.length?null:K.createElement(xt,{className:at("recharts-cartesian-axis",d),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return K.isValidElement(r)?o=K.cloneElement(r,i):Xe(r)?o=r(i):o=K.createElement(lo,vs({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(R.Component);ww(dl,"displayName","CartesianAxis");ww(dl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bY=["x1","y1","x2","y2","key"],wY=["offset"];function fo(t){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(t)}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){SY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SY(t,e,n){return e=CY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CY(t){var e=TY(t,"string");return fo(e)=="symbol"?e:e+""}function TY(t,e){if(fo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},no.apply(this,arguments)}function fI(t,e){if(t==null)return{};var n=kY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EY=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return K.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function OR(t,e){var n;if(K.isValidElement(t))n=K.cloneElement(t,e);else if(Xe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=fI(e,bY),d=Ke(c,!1);d.offset;var f=fI(d,wY);n=K.createElement("line",no({},f,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function AY(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=Cn(Cn({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return OR(i,d)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function PY(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=Cn(Cn({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return OR(i,d)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function OY(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var f=l.map(function(v){return Math.round(v+i-i)}).sort(function(v,_){return v-_});i!==f[0]&&f.unshift(0);var h=f.map(function(v,_){var b=!f[_+1],S=b?i+o-v:f[_+1]-v;if(S<=0)return null;var w=_%e.length;return K.createElement("rect",{key:"react-".concat(_),y:v,x:r,height:S,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function IY(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var f=d.map(function(v){return Math.round(v+a-a)}).sort(function(v,_){return v-_});a!==f[0]&&f.unshift(0);var h=f.map(function(v,_){var b=!f[_+1],S=b?a+l-v:f[_+1]-v;if(S<=0)return null;var w=_%r.length;return K.createElement("rect",{key:"react-".concat(_),x:v,y:o,width:S,height:c,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var NY=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return I2(bw(Cn(Cn(Cn({},dl.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},MY=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return I2(bw(Cn(Cn(Cn({},dl.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},cs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function IR(t){var e,n,r,i,a,o,l=vw(),c=yw(),d=_K(),f=Cn(Cn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:cs.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:cs.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:cs.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:cs.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:cs.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:cs.verticalFill,x:Te(t.x)?t.x:d.left,y:Te(t.y)?t.y:d.top,width:Te(t.width)?t.width:d.width,height:Te(t.height)?t.height:d.height}),h=f.x,v=f.y,_=f.width,b=f.height,S=f.syncWithTicks,w=f.horizontalValues,A=f.verticalValues,O=vK(),T=yK();if(!Te(_)||_<=0||!Te(b)||b<=0||!Te(h)||h!==+h||!Te(v)||v!==+v)return null;var I=f.verticalCoordinatesGenerator||NY,E=f.horizontalCoordinatesGenerator||MY,P=f.horizontalPoints,N=f.verticalPoints;if((!P||!P.length)&&Xe(E)){var D=w&&w.length,B=E({yAxis:T?Cn(Cn({},T),{},{ticks:D?w:T.ticks}):void 0,width:l,height:c,offset:d},D?!0:S);$r(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fo(B),"]")),Array.isArray(B)&&(P=B)}if((!N||!N.length)&&Xe(I)){var q=A&&A.length,L=I({xAxis:O?Cn(Cn({},O),{},{ticks:q?A:O.ticks}):void 0,width:l,height:c,offset:d},q?!0:S);$r(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fo(L),"]")),Array.isArray(L)&&(N=L)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(EY,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),K.createElement(AY,no({},f,{offset:d,horizontalPoints:P,xAxis:O,yAxis:T})),K.createElement(PY,no({},f,{offset:d,verticalPoints:N,xAxis:O,yAxis:T})),K.createElement(OY,no({},f,{horizontalPoints:P})),K.createElement(IY,no({},f,{verticalPoints:N})))}IR.displayName="CartesianGrid";function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function DY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DR(r.key),r)}}function jY(t,e,n){return e&&RY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Y(t,e,n){return e=uh(e),LY(t,NR()?Reflect.construct(e,n||[],uh(t).constructor):e.apply(t,n))}function LY(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BY(t)}function BY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NR=function(){return!!t})()}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uh(t)}function FY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function MR(t,e,n){return e=DR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DR(t){var e=qY(t,"string");return Ws(e)=="symbol"?e:e+""}function qY(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}function UY(t){var e=t.xAxisId,n=vw(),r=yw(),i=xR(e);return i==null?null:K.createElement(dl,L_({},i,{className:at("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return bi(o,!0)}}))}var sp=function(t){function e(){return DY(this,e),$Y(this,e,arguments)}return FY(e,t),jY(e,[{key:"render",value:function(){return K.createElement(UY,this.props)}}])}(K.Component);MR(sp,"displayName","XAxis");MR(sp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ks(t){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function VY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$R(r.key),r)}}function GY(t,e,n){return e&&zY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HY(t,e,n){return e=ch(e),WY(t,RR()?Reflect.construct(e,n||[],ch(t).constructor):e.apply(t,n))}function WY(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KY(t)}function KY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RR=function(){return!!t})()}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ch(t)}function YY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function jR(t,e,n){return e=$R(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $R(t){var e=JY(t,"string");return Ks(e)=="symbol"?e:e+""}function JY(t,e){if(Ks(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}var XY=function(e){var n=e.yAxisId,r=vw(),i=yw(),a=_R(n);return a==null?null:K.createElement(dl,F_({},a,{className:at("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return bi(l,!0)}}))},lp=function(t){function e(){return VY(this,e),HY(this,e,arguments)}return YY(e,t),GY(e,[{key:"render",value:function(){return K.createElement(XY,this.props)}}])}(K.Component);jR(lp,"displayName","YAxis");jR(lp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hI(t){return tJ(t)||eJ(t)||QY(t)||ZY()}function ZY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QY(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function eJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tJ(t){if(Array.isArray(t))return q_(t)}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U_=function(e,n,r,i,a){var o=xr(e,_w),l=xr(e,ip),c=[].concat(hI(o),hI(l)),d=xr(e,op),f="".concat(i,"Id"),h=i[0],v=n;if(c.length&&(v=c.reduce(function(S,w){if(w.props[f]===r&&Jr(w.props,"extendDomain")&&Te(w.props[h])){var A=w.props[h];return[Math.min(S[0],A),Math.max(S[1],A)]}return S},v)),d.length){var _="".concat(h,"1"),b="".concat(h,"2");v=d.reduce(function(S,w){if(w.props[f]===r&&Jr(w.props,"extendDomain")&&Te(w.props[_])&&Te(w.props[b])){var A=w.props[_],O=w.props[b];return[Math.min(S[0],A,O),Math.max(S[1],A,O)]}return S},v)}return a&&a.length&&(v=a.reduce(function(S,w){return Te(w)?[Math.min(S[0],w),Math.max(S[1],w)]:S},v)),v},lx={exports:{}},pI;function nJ(){return pI||(pI=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function a(c,d,f,h,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var _=new i(f,h||c,v),b=n?n+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],_]:c._events[b].push(_):(c._events[b]=_,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)e.call(f,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var v=0,_=h.length,b=new Array(_);v<_;v++)b[v]=h[v].fn;return b},l.prototype.listenerCount=function(d){var f=n?n+d:d,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,f,h,v,_,b){var S=n?n+d:d;if(!this._events[S])return!1;var w=this._events[S],A=arguments.length,O,T;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,h),!0;case 4:return w.fn.call(w.context,f,h,v),!0;case 5:return w.fn.call(w.context,f,h,v,_),!0;case 6:return w.fn.call(w.context,f,h,v,_,b),!0}for(T=1,O=new Array(A-1);T<A;T++)O[T-1]=arguments[T];w.fn.apply(w.context,O)}else{var I=w.length,E;for(T=0;T<I;T++)switch(w[T].once&&this.removeListener(d,w[T].fn,void 0,!0),A){case 1:w[T].fn.call(w[T].context);break;case 2:w[T].fn.call(w[T].context,f);break;case 3:w[T].fn.call(w[T].context,f,h);break;case 4:w[T].fn.call(w[T].context,f,h,v);break;default:if(!O)for(E=1,O=new Array(A-1);E<A;E++)O[E-1]=arguments[E];w[T].fn.apply(w[T].context,O)}}return!0},l.prototype.on=function(d,f,h){return a(this,d,f,h,!1)},l.prototype.once=function(d,f,h){return a(this,d,f,h,!0)},l.prototype.removeListener=function(d,f,h,v){var _=n?n+d:d;if(!this._events[_])return this;if(!f)return o(this,_),this;var b=this._events[_];if(b.fn)b.fn===f&&(!v||b.once)&&(!h||b.context===h)&&o(this,_);else{for(var S=0,w=[],A=b.length;S<A;S++)(b[S].fn!==f||v&&!b[S].once||h&&b[S].context!==h)&&w.push(b[S]);w.length?this._events[_]=w.length===1?w[0]:w:o(this,_)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(lx)),lx.exports}var rJ=nJ();const iJ=mt(rJ);var ux=new iJ,cx="recharts.syncMouseEvents";function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function aJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LR(r.key),r)}}function sJ(t,e,n){return e&&oJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dx(t,e,n){return e=LR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LR(t){var e=lJ(t,"string");return ac(e)=="symbol"?e:e+""}function lJ(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uJ=function(){function t(){aJ(this,t),dx(this,"activeIndex",0),dx(this,"coordinateList",[]),dx(this,"layout","horizontal")}return sJ(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,f=n.offset,h=f===void 0?null:f,v=n.mouseHandlerCallback,_=v===void 0?null:v;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=a+c+d,v=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:h,pageY:v})}}}])}();function cJ(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Te(r)&&Te(i))return!0}return!1}function dJ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function BR(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Ot(e,n,r,i),l=Ot(e,n,r,a);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function fJ(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,f=e.outerRadius,h=e.angle,v=Ot(l,c,d,h),_=Ot(l,c,f,h);r=v.x,i=v.y,a=_.x,o=_.y}else return BR(e);return[{x:r,y:i},{x:a,y:o}]}function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function af(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){hJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hJ(t,e,n){return e=pJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pJ(t){var e=mJ(t,"string");return oc(e)=="symbol"?e:e+""}function mJ(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gJ(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,v=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!a||!o||v!=="ScatterChart"&&i!=="axis")return null;var b,S=d_;if(v==="ScatterChart")b=o,S=XG;else if(v==="BarChart")b=dJ(h,o,c,f),S=fw;else if(h==="radial"){var w=BR(o),A=w.cx,O=w.cy,T=w.radius,I=w.startAngle,E=w.endAngle;b={cx:A,cy:O,startAngle:I,endAngle:E,innerRadius:T,outerRadius:T},S=U2}else b={points:fJ(h,o,c)},S=d_;var P=af(af(af(af({stroke:"#ccc",pointerEvents:"none"},c),b),Ke(_,!1)),{},{payload:l,payloadIndex:d,className:at("recharts-tooltip-cursor",_.className)});return R.isValidElement(_)?R.cloneElement(_,P):R.createElement(S,P)}var vJ=["item"],yJ=["children","className","width","height","style","compact","title","desc"];function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(this,arguments)}function gI(t,e){return bJ(t)||_J(t,e)||qR(t,e)||xJ()}function xJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _J(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function bJ(t){if(Array.isArray(t))return t}function vI(t,e){if(t==null)return{};var n=wJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UR(r.key),r)}}function TJ(t,e,n){return e&&CJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kJ(t,e,n){return e=dh(e),EJ(t,FR()?Reflect.construct(e,n||[],dh(t).constructor):e.apply(t,n))}function EJ(t,e){if(e&&(Ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AJ(t)}function AJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FR=function(){return!!t})()}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dh(t)}function PJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function Js(t){return NJ(t)||IJ(t)||qR(t)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qR(t,e){if(t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function IJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NJ(t){if(Array.isArray(t))return z_(t)}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){Ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ge(t,e,n){return e=UR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UR(t){var e=MJ(t,"string");return Ys(e)=="symbol"?e:e+""}function MJ(t,e){if(Ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DJ={xAxis:["bottom","top"],yAxis:["left","right"]},RJ={width:"100%",height:"100%"},VR={x:0,y:0};function of(t){return t}var jJ=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},$J=function(e,n,r,i){var a=n.find(function(f){return f&&f.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return le(le(le({},i),Ot(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=i.angle;return le(le(le({},i),Ot(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return VR},up=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Js(l),Js(d)):l},[]);return o.length>0?o:e&&e.length&&Te(i)&&Te(a)?e.slice(i,a+1):[]};function zR(t){return t==="number"?[0,"auto"]:void 0}var G_=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,l=up(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,d){var f,h=(f=d.props.data)!==null&&f!==void 0?f:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(o.dataKey&&!o.allowDuplicatedCategory){var _=h===void 0?l:h;v=kx(_,o.dataKey,i)}else v=h&&h[r]||l[r];return v?[].concat(Js(c),[j2(d,v)]):c},[])},xI=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=jJ(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,f=w9(o,l,d,c);if(f>=0&&d){var h=d[f]&&d[f].value,v=G_(e,n,f,h),_=$J(r,l,f,a);return{activeTooltipIndex:f,activeLabel:h,activePayload:v,activeCoordinate:_}}return null},LJ=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.layout,h=e.children,v=e.stackOffset,_=O2(f,a);return r.reduce(function(b,S){var w,A=S.type.defaultProps!==void 0?le(le({},S.type.defaultProps),S.props):S.props,O=A.type,T=A.dataKey,I=A.allowDataOverflow,E=A.allowDuplicatedCategory,P=A.scale,N=A.ticks,D=A.includeHidden,B=A[o];if(b[B])return b;var q=up(e.data,{graphicalItems:i.filter(function(Q){var de,_e=o in Q.props?Q.props[o]:(de=Q.type.defaultProps)===null||de===void 0?void 0:de[o];return _e===B}),dataStartIndex:c,dataEndIndex:d}),L=q.length,W,J,H;cJ(A.domain,I,O)&&(W=o_(A.domain,null,I),_&&(O==="number"||P!=="auto")&&(H=_u(q,T,"category")));var F=zR(O);if(!W||W.length===0){var Z,Y=(Z=A.domain)!==null&&Z!==void 0?Z:F;if(T){if(W=_u(q,T,O),O==="category"&&_){var G=gF(W);E&&G?(J=W,W=Qf(0,L)):E||(W=bP(Y,W,S).reduce(function(Q,de){return Q.indexOf(de)>=0?Q:[].concat(Js(Q),[de])},[]))}else if(O==="category")E?W=W.filter(function(Q){return Q!==""&&!st(Q)}):W=bP(Y,W,S).reduce(function(Q,de){return Q.indexOf(de)>=0||de===""||st(de)?Q:[].concat(Js(Q),[de])},[]);else if(O==="number"){var te=E9(q,i.filter(function(Q){var de,_e,ce=o in Q.props?Q.props[o]:(de=Q.type.defaultProps)===null||de===void 0?void 0:de[o],Ie="hide"in Q.props?Q.props.hide:(_e=Q.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return ce===B&&(D||!Ie)}),T,a,f);te&&(W=te)}_&&(O==="number"||P!=="auto")&&(H=_u(q,T,"category"))}else _?W=Qf(0,L):l&&l[B]&&l[B].hasStack&&O==="number"?W=v==="expand"?[0,1]:R2(l[B].stackGroups,c,d):W=P2(q,i.filter(function(Q){var de=o in Q.props?Q.props[o]:Q.type.defaultProps[o],_e="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return de===B&&(D||!_e)}),O,f,!0);if(O==="number")W=U_(h,W,B,a,N),Y&&(W=o_(Y,W,I));else if(O==="category"&&Y){var ae=Y,j=W.every(function(Q){return ae.indexOf(Q)>=0});j&&(W=ae)}}return le(le({},b),{},Ge({},B,le(le({},A),{},{axisType:a,domain:W,categoricalDomain:H,duplicateDomain:J,originalDomain:(w=A.domain)!==null&&w!==void 0?w:F,isCategorical:_,layout:f})))},{})},BJ=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.layout,h=e.children,v=up(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),_=v.length,b=O2(f,a),S=-1;return r.reduce(function(w,A){var O=A.type.defaultProps!==void 0?le(le({},A.type.defaultProps),A.props):A.props,T=O[o],I=zR("number");if(!w[T]){S++;var E;return b?E=Qf(0,_):l&&l[T]&&l[T].hasStack?(E=R2(l[T].stackGroups,c,d),E=U_(h,E,T,a)):(E=o_(I,P2(v,r.filter(function(P){var N,D,B=o in P.props?P.props[o]:(N=P.type.defaultProps)===null||N===void 0?void 0:N[o],q="hide"in P.props?P.props.hide:(D=P.type.defaultProps)===null||D===void 0?void 0:D.hide;return B===T&&!q}),"number",f),i.defaultProps.allowDataOverflow),E=U_(h,E,T,a)),le(le({},w),{},Ge({},T,le(le({axisType:a},i.defaultProps),{},{hide:!0,orientation:ir(DJ,"".concat(a,".").concat(S%2),null),domain:E,originalDomain:I,isCategorical:b,layout:f})))}return w},{})},FJ=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.children,h="".concat(i,"Id"),v=xr(f,a),_={};return v&&v.length?_=LJ(e,{axes:v,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(_=BJ(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),_},qJ=function(e){var n=da(e),r=bi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Bb(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:qf(n,r)}},_I=function(e){var n=e.children,r=e.defaultShowTooltip,i=tr(n,qs),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},UJ=function(e){return!e||!e.length?!1:e.some(function(n){var r=wi(n&&n.type);return r&&r.indexOf("Bar")>=0})},bI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},VJ=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,d=r.width,f=r.height,h=r.children,v=r.margin||{},_=tr(h,qs),b=tr(h,ha),S=Object.keys(c).reduce(function(E,P){var N=c[P],D=N.orientation;return!N.mirror&&!N.hide?le(le({},E),{},Ge({},D,E[D]+N.width)):E},{left:v.left||0,right:v.right||0}),w=Object.keys(o).reduce(function(E,P){var N=o[P],D=N.orientation;return!N.mirror&&!N.hide?le(le({},E),{},Ge({},D,ir(E,"".concat(D))+N.height)):E},{top:v.top||0,bottom:v.bottom||0}),A=le(le({},w),S),O=A.bottom;_&&(A.bottom+=_.props.height||qs.defaultProps.height),b&&n&&(A=T9(A,i,r,n));var T=d-A.left-A.right,I=f-A.top-A.bottom;return le(le({brushBottom:O},A),{},{width:Math.max(T,0),height:Math.max(I,0)})},zJ=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},GR=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,v=function(A,O){var T=O.graphicalItems,I=O.stackGroups,E=O.offset,P=O.updateId,N=O.dataStartIndex,D=O.dataEndIndex,B=A.barSize,q=A.layout,L=A.barGap,W=A.barCategoryGap,J=A.maxBarSize,H=bI(q),F=H.numericAxisName,Z=H.cateAxisName,Y=UJ(T),G=[];return T.forEach(function(te,ae){var j=up(A.data,{graphicalItems:[te],dataStartIndex:N,dataEndIndex:D}),Q=te.type.defaultProps!==void 0?le(le({},te.type.defaultProps),te.props):te.props,de=Q.dataKey,_e=Q.maxBarSize,ce=Q["".concat(F,"Id")],Ie=Q["".concat(Z,"Id")],Je={},He=c.reduce(function(yn,Bn){var Di=O["".concat(Bn.axisType,"Map")],Ta=Q["".concat(Bn.axisType,"Id")];Di&&Di[Ta]||Bn.axisType==="zAxis"||co();var Sr=Di[Ta];return le(le({},yn),{},Ge(Ge({},Bn.axisType,Sr),"".concat(Bn.axisType,"Ticks"),bi(Sr)))},Je),ye=He[Z],Be=He["".concat(Z,"Ticks")],ze=I&&I[ce]&&I[ce].hasStack&&j9(te,I[ce].stackGroups),fe=wi(te.type).indexOf("Bar")>=0,yt=qf(ye,Be),tt=[],Tt=Y&&S9({barSize:B,stackGroups:I,totalSize:zJ(He,Z)});if(fe){var bt,qt,Ln=st(_e)?J:_e,En=(bt=(qt=qf(ye,Be,!0))!==null&&qt!==void 0?qt:Ln)!==null&&bt!==void 0?bt:0;tt=C9({barGap:L,barCategoryGap:W,bandSize:En!==yt?En:yt,sizeList:Tt[Ie],maxBarSize:Ln}),En!==yt&&(tt=tt.map(function(yn){return le(le({},yn),{},{position:le(le({},yn.position),{},{offset:yn.position.offset-En/2})})}))}var ar=te&&te.type&&te.type.getComposedData;ar&&G.push({props:le(le({},ar(le(le({},He),{},{displayedData:j,props:A,dataKey:de,item:te,bandSize:yt,barPosition:tt,offset:E,stackedData:ze,layout:q,dataStartIndex:N,dataEndIndex:D}))),{},Ge(Ge(Ge({key:te.key||"item-".concat(ae)},F,He[F]),Z,He[Z]),"animationId",P)),childIndex:AF(te,A.children),item:te})}),G},_=function(A,O){var T=A.props,I=A.dataStartIndex,E=A.dataEndIndex,P=A.updateId;if(!jT({props:T}))return null;var N=T.children,D=T.layout,B=T.stackOffset,q=T.data,L=T.reverseStackOrder,W=bI(D),J=W.numericAxisName,H=W.cateAxisName,F=xr(N,r),Z=D9(q,F,"".concat(J,"Id"),"".concat(H,"Id"),B,L),Y=c.reduce(function(Q,de){var _e="".concat(de.axisType,"Map");return le(le({},Q),{},Ge({},_e,FJ(T,le(le({},de),{},{graphicalItems:F,stackGroups:de.axisType===J&&Z,dataStartIndex:I,dataEndIndex:E}))))},{}),G=VJ(le(le({},Y),{},{props:T,graphicalItems:F}),O==null?void 0:O.legendBBox);Object.keys(Y).forEach(function(Q){Y[Q]=f(T,Y[Q],G,Q.replace("Map",""),n)});var te=Y["".concat(H,"Map")],ae=qJ(te),j=v(T,le(le({},Y),{},{dataStartIndex:I,dataEndIndex:E,updateId:P,graphicalItems:F,stackGroups:Z,offset:G}));return le(le({formattedGraphicalItems:j,graphicalItems:F,offset:G,stackGroups:Z},ae),Y)},b=function(w){function A(O){var T,I,E;return SJ(this,A),E=kJ(this,A,[O]),Ge(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(E,"accessibilityManager",new uJ),Ge(E,"handleLegendBBoxUpdate",function(P){if(P){var N=E.state,D=N.dataStartIndex,B=N.dataEndIndex,q=N.updateId;E.setState(le({legendBBox:P},_({props:E.props,dataStartIndex:D,dataEndIndex:B,updateId:q},le(le({},E.state),{},{legendBBox:P}))))}}),Ge(E,"handleReceiveSyncEvent",function(P,N,D){if(E.props.syncId===P){if(D===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(N)}}),Ge(E,"handleBrushChange",function(P){var N=P.startIndex,D=P.endIndex;if(N!==E.state.dataStartIndex||D!==E.state.dataEndIndex){var B=E.state.updateId;E.setState(function(){return le({dataStartIndex:N,dataEndIndex:D},_({props:E.props,dataStartIndex:N,dataEndIndex:D,updateId:B},E.state))}),E.triggerSyncEvent({dataStartIndex:N,dataEndIndex:D})}}),Ge(E,"handleMouseEnter",function(P){var N=E.getMouseInfo(P);if(N){var D=le(le({},N),{},{isTooltipActive:!0});E.setState(D),E.triggerSyncEvent(D);var B=E.props.onMouseEnter;Xe(B)&&B(D,P)}}),Ge(E,"triggeredAfterMouseMove",function(P){var N=E.getMouseInfo(P),D=N?le(le({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(D),E.triggerSyncEvent(D);var B=E.props.onMouseMove;Xe(B)&&B(D,P)}),Ge(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Ge(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Ge(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),Ge(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};E.setState(N),E.triggerSyncEvent(N);var D=E.props.onMouseLeave;Xe(D)&&D(N,P)}),Ge(E,"handleOuterEvent",function(P){var N=EF(P),D=ir(E.props,"".concat(N));if(N&&Xe(D)){var B,q;/.*touch.*/i.test(N)?q=E.getMouseInfo(P.changedTouches[0]):q=E.getMouseInfo(P),D((B=q)!==null&&B!==void 0?B:{},P)}}),Ge(E,"handleClick",function(P){var N=E.getMouseInfo(P);if(N){var D=le(le({},N),{},{isTooltipActive:!0});E.setState(D),E.triggerSyncEvent(D);var B=E.props.onClick;Xe(B)&&B(D,P)}}),Ge(E,"handleMouseDown",function(P){var N=E.props.onMouseDown;if(Xe(N)){var D=E.getMouseInfo(P);N(D,P)}}),Ge(E,"handleMouseUp",function(P){var N=E.props.onMouseUp;if(Xe(N)){var D=E.getMouseInfo(P);N(D,P)}}),Ge(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Ge(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),Ge(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),Ge(E,"handleDoubleClick",function(P){var N=E.props.onDoubleClick;if(Xe(N)){var D=E.getMouseInfo(P);N(D,P)}}),Ge(E,"handleContextMenu",function(P){var N=E.props.onContextMenu;if(Xe(N)){var D=E.getMouseInfo(P);N(D,P)}}),Ge(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&ux.emit(cx,E.props.syncId,P,E.eventEmitterSymbol)}),Ge(E,"applySyncEvent",function(P){var N=E.props,D=N.layout,B=N.syncMethod,q=E.state.updateId,L=P.dataStartIndex,W=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(le({dataStartIndex:L,dataEndIndex:W},_({props:E.props,dataStartIndex:L,dataEndIndex:W,updateId:q},E.state)));else if(P.activeTooltipIndex!==void 0){var J=P.chartX,H=P.chartY,F=P.activeTooltipIndex,Z=E.state,Y=Z.offset,G=Z.tooltipTicks;if(!Y)return;if(typeof B=="function")F=B(G,P);else if(B==="value"){F=-1;for(var te=0;te<G.length;te++)if(G[te].value===P.activeLabel){F=te;break}}var ae=le(le({},Y),{},{x:Y.left,y:Y.top}),j=Math.min(J,ae.x+ae.width),Q=Math.min(H,ae.y+ae.height),de=G[F]&&G[F].value,_e=G_(E.state,E.props.data,F),ce=G[F]?{x:D==="horizontal"?G[F].coordinate:j,y:D==="horizontal"?Q:G[F].coordinate}:VR;E.setState(le(le({},P),{},{activeLabel:de,activeCoordinate:ce,activePayload:_e,activeTooltipIndex:F}))}else E.setState(P)}),Ge(E,"renderCursor",function(P){var N,D=E.state,B=D.isTooltipActive,q=D.activeCoordinate,L=D.activePayload,W=D.offset,J=D.activeTooltipIndex,H=D.tooltipAxisBandSize,F=E.getTooltipEventType(),Z=(N=P.props.active)!==null&&N!==void 0?N:B,Y=E.props.layout,G=P.key||"_recharts-cursor";return K.createElement(gJ,{key:G,activeCoordinate:q,activePayload:L,activeTooltipIndex:J,chartName:n,element:P,isActive:Z,layout:Y,offset:W,tooltipAxisBandSize:H,tooltipEventType:F})}),Ge(E,"renderPolarAxis",function(P,N,D){var B=ir(P,"type.axisType"),q=ir(E.state,"".concat(B,"Map")),L=P.type.defaultProps,W=L!==void 0?le(le({},L),P.props):P.props,J=q&&q[W["".concat(B,"Id")]];return R.cloneElement(P,le(le({},J),{},{className:at(B,J.className),key:P.key||"".concat(N,"-").concat(D),ticks:bi(J,!0)}))}),Ge(E,"renderPolarGrid",function(P){var N=P.props,D=N.radialLines,B=N.polarAngles,q=N.polarRadius,L=E.state,W=L.radiusAxisMap,J=L.angleAxisMap,H=da(W),F=da(J),Z=F.cx,Y=F.cy,G=F.innerRadius,te=F.outerRadius;return R.cloneElement(P,{polarAngles:Array.isArray(B)?B:bi(F,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(q)?q:bi(H,!0).map(function(ae){return ae.coordinate}),cx:Z,cy:Y,innerRadius:G,outerRadius:te,key:P.key||"polar-grid",radialLines:D})}),Ge(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,N=E.props,D=N.children,B=N.width,q=N.height,L=E.props.margin||{},W=B-(L.left||0)-(L.right||0),J=E2({children:D,formattedGraphicalItems:P,legendWidth:W,legendContent:d});if(!J)return null;var H=J.item,F=vI(J,vJ);return R.cloneElement(H,le(le({},F),{},{chartWidth:B,chartHeight:q,margin:L,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Ge(E,"renderTooltip",function(){var P,N=E.props,D=N.children,B=N.accessibilityLayer,q=tr(D,Dr);if(!q)return null;var L=E.state,W=L.isTooltipActive,J=L.activeCoordinate,H=L.activePayload,F=L.activeLabel,Z=L.offset,Y=(P=q.props.active)!==null&&P!==void 0?P:W;return R.cloneElement(q,{viewBox:le(le({},Z),{},{x:Z.left,y:Z.top}),active:Y,label:F,payload:Y?H:[],coordinate:J,accessibilityLayer:B})}),Ge(E,"renderBrush",function(P){var N=E.props,D=N.margin,B=N.data,q=E.state,L=q.offset,W=q.dataStartIndex,J=q.dataEndIndex,H=q.updateId;return R.cloneElement(P,{key:P.key||"_recharts-brush",onChange:ef(E.handleBrushChange,P.props.onChange),data:B,x:Te(P.props.x)?P.props.x:L.left,y:Te(P.props.y)?P.props.y:L.top+L.height+L.brushBottom-(D.bottom||0),width:Te(P.props.width)?P.props.width:L.width,startIndex:W,endIndex:J,updateId:"brush-".concat(H)})}),Ge(E,"renderReferenceElement",function(P,N,D){if(!P)return null;var B=E,q=B.clipPathId,L=E.state,W=L.xAxisMap,J=L.yAxisMap,H=L.offset,F=P.type.defaultProps||{},Z=P.props,Y=Z.xAxisId,G=Y===void 0?F.xAxisId:Y,te=Z.yAxisId,ae=te===void 0?F.yAxisId:te;return R.cloneElement(P,{key:P.key||"".concat(N,"-").concat(D),xAxis:W[G],yAxis:J[ae],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:q})}),Ge(E,"renderActivePoints",function(P){var N=P.item,D=P.activePoint,B=P.basePoint,q=P.childIndex,L=P.isRange,W=[],J=N.props.key,H=N.item.type.defaultProps!==void 0?le(le({},N.item.type.defaultProps),N.item.props):N.item.props,F=H.activeDot,Z=H.dataKey,Y=le(le({index:q,dataKey:Z,cx:D.x,cy:D.y,r:4,fill:dw(N.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Ke(F,!1)),vf(F));return W.push(A.renderActiveDot(F,Y,"".concat(J,"-activePoint-").concat(q))),B?W.push(A.renderActiveDot(F,le(le({},Y),{},{cx:B.x,cy:B.y}),"".concat(J,"-basePoint-").concat(q))):L&&W.push(null),W}),Ge(E,"renderGraphicChild",function(P,N,D){var B=E.filterFormatItem(P,N,D);if(!B)return null;var q=E.getTooltipEventType(),L=E.state,W=L.isTooltipActive,J=L.tooltipAxis,H=L.activeTooltipIndex,F=L.activeLabel,Z=E.props.children,Y=tr(Z,Dr),G=B.props,te=G.points,ae=G.isRange,j=G.baseLine,Q=B.item.type.defaultProps!==void 0?le(le({},B.item.type.defaultProps),B.item.props):B.item.props,de=Q.activeDot,_e=Q.hide,ce=Q.activeBar,Ie=Q.activeShape,Je=!!(!_e&&W&&Y&&(de||ce||Ie)),He={};q!=="axis"&&Y&&Y.props.trigger==="click"?He={onClick:ef(E.handleItemMouseEnter,P.props.onClick)}:q!=="axis"&&(He={onMouseLeave:ef(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:ef(E.handleItemMouseEnter,P.props.onMouseEnter)});var ye=R.cloneElement(P,le(le({},B.props),He));function Be(Bn){return typeof J.dataKey=="function"?J.dataKey(Bn.payload):null}if(Je)if(H>=0){var ze,fe;if(J.dataKey&&!J.allowDuplicatedCategory){var yt=typeof J.dataKey=="function"?Be:"payload.".concat(J.dataKey.toString());ze=kx(te,yt,F),fe=ae&&j&&kx(j,yt,F)}else ze=te==null?void 0:te[H],fe=ae&&j&&j[H];if(Ie||ce){var tt=P.props.activeIndex!==void 0?P.props.activeIndex:H;return[R.cloneElement(P,le(le(le({},B.props),He),{},{activeIndex:tt})),null,null]}if(!st(ze))return[ye].concat(Js(E.renderActivePoints({item:B,activePoint:ze,basePoint:fe,childIndex:H,isRange:ae})))}else{var Tt,bt=(Tt=E.getItemByXY(E.state.activeCoordinate))!==null&&Tt!==void 0?Tt:{graphicalItem:ye},qt=bt.graphicalItem,Ln=qt.item,En=Ln===void 0?P:Ln,ar=qt.childIndex,yn=le(le(le({},B.props),He),{},{activeIndex:ar});return[R.cloneElement(En,yn),null,null]}return ae?[ye,null,null]:[ye,null]}),Ge(E,"renderCustomized",function(P,N,D){return R.cloneElement(P,le(le({key:"recharts-customized-".concat(D)},E.props),E.state))}),Ge(E,"renderMap",{CartesianGrid:{handler:of,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:of},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:of},YAxis:{handler:of},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((T=O.id)!==null&&T!==void 0?T:hc("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=TD(E.triggeredAfterMouseMove,(I=O.throttleDelay)!==null&&I!==void 0?I:1e3/60),E.state={},E}return PJ(A,w),TJ(A,[{key:"componentDidMount",value:function(){var T,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,I=T.children,E=T.data,P=T.height,N=T.layout,D=tr(I,Dr);if(D){var B=D.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var q=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,L=G_(this.state,E,B,q),W=this.state.tooltipTicks[B].coordinate,J=(this.state.offset.top+P)/2,H=N==="horizontal",F=H?{x:W,y:J}:{y:W,x:J},Z=this.state.formattedGraphicalItems.find(function(G){var te=G.item;return te.type.name==="Scatter"});Z&&(F=le(le({},F),Z.props.points[B].tooltipPosition),L=Z.props.points[B].tooltipPayload);var Y={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:q,activePayload:L,activeCoordinate:F};this.setState(Y),this.renderCursor(D),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(T){Ax([tr(T.children,Dr)],[tr(this.props.children,Dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=tr(this.props.children,Dr);if(T&&typeof T.props.shared=="boolean"){var I=T.props.shared?"axis":"item";return l.indexOf(I)>=0?I:a}return a}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var I=this.container,E=I.getBoundingClientRect(),P=pU(E),N={chartX:Math.round(T.pageX-P.left),chartY:Math.round(T.pageY-P.top)},D=E.width/I.offsetWidth||1,B=this.inRange(N.chartX,N.chartY,D);if(!B)return null;var q=this.state,L=q.xAxisMap,W=q.yAxisMap,J=this.getTooltipEventType(),H=xI(this.state,this.props.data,this.props.layout,B);if(J!=="axis"&&L&&W){var F=da(L).scale,Z=da(W).scale,Y=F&&F.invert?F.invert(N.chartX):null,G=Z&&Z.invert?Z.invert(N.chartY):null;return le(le({},N),{},{xValue:Y,yValue:G},H)}return H?le(le({},N),H):null}},{key:"inRange",value:function(T,I){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,N=T/E,D=I/E;if(P==="horizontal"||P==="vertical"){var B=this.state.offset,q=N>=B.left&&N<=B.left+B.width&&D>=B.top&&D<=B.top+B.height;return q?{x:N,y:D}:null}var L=this.state,W=L.angleAxisMap,J=L.radiusAxisMap;if(W&&J){var H=da(W);return CP({x:N,y:D},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,I=this.getTooltipEventType(),E=tr(T,Dr),P={};E&&I==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=vf(this.props,this.handleOuterEvent);return le(le({},N),P)}},{key:"addListener",value:function(){ux.on(cx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ux.removeListener(cx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,I,E){for(var P=this.state.formattedGraphicalItems,N=0,D=P.length;N<D;N++){var B=P[N];if(B.item===T||B.props.key===T.key||I===wi(B.item.type)&&E===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,I=this.state.offset,E=I.left,P=I.top,N=I.height,D=I.width;return K.createElement("defs",null,K.createElement("clipPath",{id:T},K.createElement("rect",{x:E,y:P,height:N,width:D})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(I,E){var P=gI(E,2),N=P[0],D=P[1];return le(le({},I),{},Ge({},N,D.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(I,E){var P=gI(E,2),N=P[0],D=P[1];return le(le({},I),{},Ge({},N,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[T])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(T){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[T])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(T){var I=this.state,E=I.formattedGraphicalItems,P=I.activeItem;if(E&&E.length)for(var N=0,D=E.length;N<D;N++){var B=E[N],q=B.props,L=B.item,W=L.type.defaultProps!==void 0?le(le({},L.type.defaultProps),L.props):L.props,J=wi(L.type);if(J==="Bar"){var H=(q.data||[]).find(function(G){return IG(T,G)});if(H)return{graphicalItem:B,payload:H}}else if(J==="RadialBar"){var F=(q.data||[]).find(function(G){return CP(T,G)});if(F)return{graphicalItem:B,payload:F}}else if(ep(B,P)||tp(B,P)||ec(B,P)){var Z=eW({graphicalItem:B,activeTooltipItem:P,itemData:W.data}),Y=W.activeIndex===void 0?Z:W.activeIndex;return{graphicalItem:le(le({},B),{},{childIndex:Y}),payload:ec(B,P)?W.data[Z]:B.props.data[Z]}}}return null}},{key:"render",value:function(){var T=this;if(!jT(this))return null;var I=this.props,E=I.children,P=I.className,N=I.width,D=I.height,B=I.style,q=I.compact,L=I.title,W=I.desc,J=vI(I,yJ),H=Ke(J,!1);if(q)return K.createElement(eI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(Ox,ys({},H,{width:N,height:D,title:L,desc:W}),this.renderClipPath(),LT(E,this.renderMap)));if(this.props.accessibilityLayer){var F,Z;H.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,H.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",H.onKeyDown=function(G){T.accessibilityManager.keyboardEvent(G)},H.onFocus=function(){T.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return K.createElement(eI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",ys({className:at("recharts-wrapper",P),style:le({position:"relative",cursor:"default",width:N,height:D},B)},Y,{ref:function(te){T.container=te}}),K.createElement(Ox,ys({},H,{width:N,height:D,title:L,desc:W,style:RJ}),this.renderClipPath(),LT(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);Ge(b,"displayName",n),Ge(b,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ge(b,"getDerivedStateFromProps",function(w,A){var O=w.dataKey,T=w.data,I=w.children,E=w.width,P=w.height,N=w.layout,D=w.stackOffset,B=w.margin,q=A.dataStartIndex,L=A.dataEndIndex;if(A.updateId===void 0){var W=_I(w);return le(le(le({},W),{},{updateId:0},_(le(le({props:w},W),{},{updateId:0}),A)),{},{prevDataKey:O,prevData:T,prevWidth:E,prevHeight:P,prevLayout:N,prevStackOffset:D,prevMargin:B,prevChildren:I})}if(O!==A.prevDataKey||T!==A.prevData||E!==A.prevWidth||P!==A.prevHeight||N!==A.prevLayout||D!==A.prevStackOffset||!bs(B,A.prevMargin)){var J=_I(w),H={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},F=le(le({},xI(A,T,N)),{},{updateId:A.updateId+1}),Z=le(le(le({},J),H),F);return le(le(le({},Z),_(le({props:w},Z),A)),{},{prevDataKey:O,prevData:T,prevWidth:E,prevHeight:P,prevLayout:N,prevStackOffset:D,prevMargin:B,prevChildren:I})}if(!Ax(I,A.prevChildren)){var Y,G,te,ae,j=tr(I,qs),Q=j&&(Y=(G=j.props)===null||G===void 0?void 0:G.startIndex)!==null&&Y!==void 0?Y:q,de=j&&(te=(ae=j.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&te!==void 0?te:L,_e=Q!==q||de!==L,ce=!st(T),Ie=ce&&!_e?A.updateId:A.updateId+1;return le(le({updateId:Ie},_(le(le({props:w},A),{},{updateId:Ie,dataStartIndex:Q,dataEndIndex:de}),A)),{},{prevChildren:I,dataStartIndex:Q,dataEndIndex:de})}return null}),Ge(b,"renderActiveDot",function(w,A,O){var T;return R.isValidElement(w)?T=R.cloneElement(w,A):Xe(w)?T=w(A):T=K.createElement(hw,A),K.createElement(xt,{className:"recharts-active-dot",key:O},T)});var S=R.forwardRef(function(A,O){return K.createElement(b,ys({},A,{ref:O}))});return S.displayName=b.displayName,S},GJ=GR({chartName:"BarChart",GraphicalChild:bo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:sp},{axisType:"yAxis",AxisComp:lp}],formatAxisMap:rK}),HJ=GR({chartName:"PieChart",GraphicalChild:Ni,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Qh},{axisType:"radiusAxis",AxisComp:Xh}],formatAxisMap:H9,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const wI=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82ca9d","#ffc658","#a4de6c","#d0ed57","#ff7300","#4CAF50","#F44336","#E91E63","#9C27B0","#3F51B5"],WJ=({active:t,payload:e})=>t&&e&&e.length?y.jsx("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:y.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:`${e[0].name} : ${he(e[0].value)}`})}):null,KJ=({transactions:t,categories:e,type:n,month:r})=>{const i=K.useMemo(()=>{const a=t.filter(l=>l.type===n&&l.date.startsWith(r)&&l.category_id),o={};return a.forEach(l=>{l.category_id&&(o[l.category_id]=(o[l.category_id]||0)+l.amount)}),Object.entries(o).map(([l,c])=>{const d=e.find(f=>f.id===l);return{name:d?d.name:"Desconhecido",value:c}}).sort((l,c)=>c.value-l.value)},[t,e,n,r]);return i.length===0?y.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",n===pe.INCOME?"receitas":"despesas"," este mês."]}):y.jsx("div",{className:"w-full h-80 md:h-96",children:y.jsx(kD,{width:"100%",height:"100%",children:y.jsxs(HJ,{children:[y.jsx(Ni,{data:i,cx:"50%",cy:"50%",labelLine:!1,outerRadius:"80%",fill:"#8884d8",dataKey:"value",nameKey:"name",label:({cx:a,cy:o,midAngle:l,innerRadius:c,outerRadius:d,percent:f,index:h})=>{const v=Math.PI/180,_=c+(d-c)*.5,b=a+_*Math.cos(-l*v),S=o+_*Math.sin(-l*v),w=document.documentElement.classList.contains("dark");return f*100<5?null:y.jsx("text",{x:b,y:S,fill:"#FFF",textAnchor:b>a?"start":"end",dominantBaseline:"central",fontSize:"12px",children:`${(f*100).toFixed(0)}%`})},children:i.map((a,o)=>y.jsx(jh,{fill:wI[o%wI.length]},`cell-${o}`))}),y.jsx(Dr,{content:y.jsx(WJ,{})}),y.jsx(ha,{formatter:(a,o)=>y.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:a})})]})})})},YJ=({active:t,payload:e,label:n})=>t&&e&&e.length?y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:[y.jsxs("p",{className:"text-sm font-semibold text-textBase dark:text-textBaseDark",children:["Dia ",n]}),y.jsxs("p",{className:`text-sm ${e[0].fill==="#00C49F"?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:[e[0].name,": ",he(e[0].value)]})]}):null,JJ=({transactions:t,type:e,month:n})=>{const r=K.useMemo(()=>{const[o,l]=n.split("-").map(Number),c=new Date(o,l,0).getDate(),d=Array.from({length:c},(f,h)=>({name:(h+1).toString().padStart(2,"0"),value:0}));return t.forEach(f=>{if(f.type===e&&f.date.startsWith(n)){const h=parseInt(f.date.split("-")[2],10)-1;h>=0&&h<c&&(d[h].value+=f.amount)}}),d},[t,e,n]);if(r.every(o=>o.value===0))return y.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",e===pe.INCOME?"receitas":"despesas"," este mês."]});const i=o=>o>=1e6?`${(o/1e6).toFixed(1)}M`:o>=1e3?`${(o/1e3).toFixed(0)}K`:o.toString(),a=e===pe.INCOME?"#00C49F":"#FF8042";return y.jsx("div",{className:"w-full h-80 md:h-96",children:y.jsx(kD,{width:"100%",height:"100%",children:y.jsxs(GJ,{data:r,margin:{top:5,right:0,left:-10,bottom:5},children:[y.jsx(IR,{strokeDasharray:"3 3",strokeOpacity:.2,className:"stroke-neutral dark:stroke-neutralDark"}),y.jsx(sp,{dataKey:"name",tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",interval:"preserveStartEnd"}),y.jsx(lp,{tickFormatter:i,tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",width:45}),y.jsx(Dr,{content:y.jsx(YJ,{}),cursor:{fill:"rgba(128, 128, 128, 0.1)"}}),y.jsx(ha,{payload:[{value:e===pe.INCOME?"Receitas":"Despesas",type:"square",color:a}],formatter:o=>y.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:o})}),y.jsx(bo,{dataKey:"value",name:e===pe.INCOME?"Receitas":"Despesas",fill:a,radius:[4,4,0,0]})]})})})},HR=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})]}),XJ=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),ZJ=({className:t="w-5 h-5",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 10.5h19.5M4.5 3v2.25M19.5 3v2.25"})]}),H_=({className:t="w-5 h-5",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75h.008v.008H12V6.75Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75h.008v.008H12v-.008Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75h.008v.008H12V18.75Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Z"})]}),SI=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 11.25a.75.75 0 0 1 0-1.5m1.259 5.25a.75.75 0 0 1 0-1.5m15.257 1.5a.75.75 0 0 1 0-1.5M16.5 6.375a.75.75 0 0 1 0-1.5m-9.75 1.5a.75.75 0 0 1 0-1.5M21 9.75A.75.75 0 0 1 20.25 9M12 3.75a.75.75 0 0 1 .75-.75M3.75 9A.75.75 0 0 1 3 9.75m1.5-4.5a.75.75 0 0 1-.75-.75"})}),QJ=({recurringTransactions:t,accounts:e,categories:n,onViewTransaction:r,isPrivacyModeEnabled:i})=>{const a=ht(new Date),o=ht(new Date(new Date().setDate(new Date().getDate()+7))),l=t.filter(h=>!h.is_paused&&(!h.end_date||h.end_date>=a)&&(h.remaining_occurrences===void 0||h.remaining_occurrences>0)),c=l.filter(h=>h.next_due_date<a).sort((h,v)=>new Date(h.next_due_date).getTime()-new Date(v.next_due_date).getTime()),d=l.filter(h=>h.next_due_date>=a&&h.next_due_date<=o).sort((h,v)=>new Date(h.next_due_date).getTime()-new Date(v.next_due_date).getTime());if(c.length===0&&d.length===0)return y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsxs("div",{className:"flex items-center mb-3",children:[y.jsx(SI,{className:"w-6 h-6 text-secondary dark:text-secondaryDark mr-2"}),y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),y.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark text-center py-3",children:"Nenhuma conta vencida ou próxima do vencimento. Tudo em dia!"})]});const f=(h,v)=>{const _=e.find(A=>A.id===h.account_id),b=h.category_id?n.find(A=>A.id===h.category_id):null,S=h.type===pe.EXPENSE?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark",w=h.type===pe.EXPENSE?"-":"+";return y.jsx("li",{className:`p-3 rounded-md border-l-4 ${v?"border-destructive dark:border-destructiveDark bg-destructive/5 dark:bg-destructiveDark/10":"border-amber-500 dark:border-amber-400 bg-amber-500/5 dark:bg-amber-400/10"} hover:shadow-sm transition-shadow`,onClick:()=>r&&r(h.id),role:r?"button":void 0,tabIndex:r?0:void 0,"aria-label":`Ver detalhes de ${h.description}`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[v?y.jsx(ZJ,{className:"w-5 h-5 text-destructive dark:text-destructiveDark flex-shrink-0"}):y.jsx(H_,{className:"w-5 h-5 text-amber-500 dark:text-amber-400 flex-shrink-0"}),y.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:h.description})]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-7",children:["Vence em: ",jn(h.next_due_date),_&&` (${_.name})`,b&&` - ${b.name}`]})]}),y.jsxs("span",{className:`text-md font-bold ${S}`,children:[w,he(h.amount,"BRL","pt-BR",i)]})]})},h.id)};return y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx(SI,{className:"w-6 h-6 text-primary dark:text-primaryDark mr-2"}),y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),y.jsxs("div",{className:"space-y-4",children:[c.length>0&&y.jsxs("div",{children:[y.jsxs("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Vencidas (",c.length,")"]}),y.jsx("ul",{className:"space-y-2",children:c.map(h=>f(h,!0))})]}),d.length>0&&y.jsxs("div",{children:[y.jsxs("h3",{className:`text-md font-semibold text-amber-600 dark:text-amber-500 mb-2 ${c.length>0?"mt-4":""}`,children:["Próximas (7 dias) (",d.length,")"]}),y.jsx("ul",{className:"space-y-2",children:d.map(h=>f(h,!1))})]})]})]})},CI=({transactions:t,accounts:e,categories:n,creditCards:r,installmentPurchases:i,moneyBoxes:a,loans:o,loanRepayments:l,recurringTransactions:c,onAddTransaction:d,calculateAccountBalance:f,calculateMoneyBoxBalance:h,onViewRecurringTransaction:v,isPrivacyModeEnabled:_})=>{const[b,S]=R.useState(pe.EXPENSE),[w,A]=R.useState("pie"),O=ht(new Date).substring(0,7),T=R.useMemo(()=>e.reduce((L,W)=>L+f(W.id),0),[e,f]),I=R.useMemo(()=>a.reduce((L,W)=>L+h(W.id),0),[a,h]),E=R.useMemo(()=>i.reduce((L,W)=>{if(W.installments_paid>=W.number_of_installments)return L;const J=W.total_amount/W.number_of_installments,H=W.number_of_installments-W.installments_paid;return L+J*H},0),[i]),P=R.useMemo(()=>o.reduce((L,W)=>{const J=l.filter(H=>H.loan_id===W.id).reduce((H,F)=>H+F.amount_paid,0);return L+(W.total_amount_to_reimburse-J)},0),[o,l]),N=R.useMemo(()=>T+I+P-E,[T,I,P,E]),D=R.useMemo(()=>[...t].sort((L,W)=>new Date(W.date).getTime()-new Date(L.date).getTime()).slice(0,5),[t]),B=R.useMemo(()=>n.filter(L=>L.type===pe.EXPENSE&&L.monthly_budget&&L.monthly_budget>0),[n]),q=R.useMemo(()=>{const L=B.reduce((J,H)=>J+(H.monthly_budget||0),0);let W=0;return B.forEach(J=>{const H=t.filter(F=>F.category_id===J.id&&F.date.startsWith(O)&&F.type===pe.EXPENSE).reduce((F,Z)=>F+Z.amount,0);W+=H}),{totalBudgeted:L,totalSpentInBudgetedCategories:W}},[B,t,O]);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Painel Geral"}),y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Bem-vindo ao seu controle financeiro."})]}),y.jsxs(ge,{onClick:d,variant:"primary",size:"lg",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO TOTAL (CONTAS)"}),y.jsx("p",{className:`text-3xl font-bold ${T>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:he(T,"BRL","pt-BR",_)})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO CAIXINHAS"}),y.jsx("p",{className:`text-3xl font-bold ${I>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:he(I,"BRL","pt-BR",_)})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsxs("div",{className:"flex items-center w-full justify-between",children:[y.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"A RECEBER (EMPRÉSTIMOS)"}),y.jsx(yb,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),y.jsx("p",{className:"text-3xl font-bold text-primary dark:text-primaryDark",children:he(P,"BRL","pt-BR",_)})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30 flex flex-col items-start",children:[y.jsxs("div",{className:"flex items-center w-full justify-between",children:[y.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"PATRIMÔNIO LÍQUIDO"}),y.jsx(AB,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),y.jsx("p",{className:`text-3xl font-bold ${N>=0?"text-primary dark:text-primaryDark":"text-destructive dark:text-destructiveDark"}`,children:he(N,"BRL","pt-BR",_)}),!_&&y.jsxs("div",{className:"text-xs mt-1 space-y-0.5",children:[E>0&&y.jsxs("p",{className:"text-destructive dark:text-destructiveDark/80",children:["Dívida Cartões: ",he(E)]}),P>0&&y.jsxs("p",{className:"text-primary dark:text-primaryDark/80",children:["Empréstimos a Receber: ",he(P)]})]})]})]}),y.jsx(QJ,{recurringTransactions:c,accounts:e,categories:n,onViewTransaction:v,isPrivacyModeEnabled:_}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:["Resumo Mensal (",O.split("-")[1],"/",O.split("-")[0],")"]}),y.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[y.jsx(ge,{variant:b===pe.EXPENSE?"primary":"ghost",size:"sm",onClick:()=>S(pe.EXPENSE),children:"Despesas"}),y.jsx(ge,{variant:b===pe.INCOME?"secondary":"ghost",size:"sm",onClick:()=>S(pe.INCOME),children:"Receitas"}),y.jsx("div",{className:"h-6 border-l border-borderBase dark:border-borderBaseDark mx-1 sm:mx-2"}),y.jsx(ge,{variant:w==="pie"?"primary":"ghost",size:"sm",onClick:()=>A("pie"),className:"!px-2",title:"Gráfico de Pizza",children:y.jsx(HR,{className:"w-4 h-4"})}),y.jsx(ge,{variant:w==="bar"?"primary":"ghost",size:"sm",onClick:()=>A("bar"),className:"!px-2",title:"Gráfico de Barras",children:y.jsx(XJ,{className:"w-4 h-4"})})]})]}),_?y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Gráficos ocultos em Modo Privacidade."}):w==="pie"?y.jsx(KJ,{transactions:t,categories:n.filter(L=>L.type===b),type:b,month:O}):y.jsx(JJ,{transactions:t,type:b,month:O})]}),B.length>0&&y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:["Orçamento Mensal (",O.split("-")[1],"/",O.split("-")[0],")"]}),y.jsxs("div",{className:"mb-3",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsxs("span",{children:["Total Gasto (Orçado): ",he(q.totalSpentInBudgetedCategories,"BRL","pt-BR",_)]}),y.jsxs("span",{children:["Total Orçado: ",he(q.totalBudgeted,"BRL","pt-BR",_)]})]}),!_&&q.totalBudgeted>0&&y.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 mt-1 dark:progress-bar-bg",children:y.jsx("div",{className:`h-2.5 rounded-full ${q.totalSpentInBudgetedCategories>q.totalBudgeted?"bg-destructive":"bg-primary dark:bg-primaryDark"}`,style:{width:`${Math.min(q.totalSpentInBudgetedCategories/q.totalBudgeted*100,100)}%`}})}),_&&y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center",children:"Progresso oculto em Modo Privacidade."})]}),y.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto",children:B.map(L=>{const W=t.filter(F=>F.category_id===L.id&&F.date.startsWith(O)&&F.type===pe.EXPENSE).reduce((F,Z)=>F+Z.amount,0),J=L.monthly_budget?Math.min(W/L.monthly_budget*100,100):0,H=L.monthly_budget?W>L.monthly_budget:!1;return y.jsxs("li",{className:"text-sm",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{children:L.name}),y.jsxs("span",{className:H?"text-destructive dark:text-destructiveDark":"",children:[he(W,"BRL","pt-BR",_)," / ",he(L.monthly_budget||0,"BRL","pt-BR",_)]})]}),!_&&L.monthly_budget&&L.monthly_budget>0&&y.jsx("div",{className:"w-full progress-bar-bg rounded-full h-1.5 mt-0.5 dark:progress-bar-bg",children:y.jsx("div",{className:`h-1.5 rounded-full ${H?"bg-destructive":"bg-secondary dark:bg-secondaryDark"}`,style:{width:`${J}%`}})})]},L.id)})})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:"Transações Recentes"}),D.length>0?y.jsx("ul",{className:"space-y-3",children:D.map(L=>{const W=e.find(Z=>Z.id===L.account_id),J=n.find(Z=>Z.id===L.category_id);let H="text-textBase dark:text-textBaseDark";L.type===pe.INCOME?H="text-secondary dark:text-secondaryDark":L.type===pe.EXPENSE&&(H="text-destructive dark:text-destructiveDark");let F=L.description||(L.type===pe.TRANSFER?"Transferência":J==null?void 0:J.name)||"Transação";if(L.type===pe.TRANSFER){const Z=e.find(Y=>Y.id===L.to_account_id);F+=` para ${(Z==null?void 0:Z.name)||"N/A"}`}return y.jsxs("li",{className:"flex justify-between items-center py-2 border-b border-borderBase/50 dark:border-borderBaseDark/50 last:border-b-0",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-textBase dark:text-textBaseDark",children:F}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[W==null?void 0:W.name," • ",jn(L.date)]})]}),y.jsx("p",{className:`font-semibold ${H}`,children:he(L.amount,"BRL","pt-BR",_)})]},L.id)})}):y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Nenhuma transação recente."})]})]})},Br=({className:t="w-5 h-5",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79M5.25 5.79h13.5"})}),Fr=({className:t="w-5 h-5",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),sc=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})}),eX=({transaction:t,accounts:e,categories:n,tags:r,installmentPurchases:i,onEdit:a,onDelete:o,isPrivacyModeEnabled:l})=>{const{type:c,amount:d,category_id:f,description:h,date:v,account_id:_,to_account_id:b,tag_ids:S}=t,w=e.find(q=>q.id===_),A=b?e.find(q=>q.id===b):null,O=f?n.find(q=>q.id===f):null,T=S?r.filter(q=>S.includes(q.id)):[];let I="text-textBase dark:text-textBaseDark",E="";c===pe.INCOME?(I="text-secondary dark:text-secondaryDark",E="+"):c===pe.EXPENSE&&(I="text-destructive dark:text-destructiveDark",E="-");const P=h||(O==null?void 0:O.name)||c,N=[];w&&N.push(w.name),c===pe.TRANSFER&&A?N.push(`➔ ${A.name}`):O&&c!==pe.TRANSFER&&N.push(O.name);const D=q=>{if(!q)return"text-textBase dark:text-textBaseDark";try{const L=parseInt(q.slice(1,3),16),W=parseInt(q.slice(3,5),16),J=parseInt(q.slice(5,7),16);return(.299*L+.587*W+.114*J)/255>.5?"text-neutral-800":"text-white"}catch{return"text-white"}},B=i.some(q=>q.linked_transaction_id===t.id&&q.number_of_installments===1);return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-2 sm:space-y-0",children:[y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsxs("span",{className:`font-semibold text-lg ${I}`,children:[E,he(d,"BRL","pt-BR",l)]}),y.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:P}),B&&y.jsxs("span",{title:"Débito em fatura de cartão",className:"ml-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300 px-1.5 py-0.5 rounded-full inline-flex items-center",children:[y.jsx(sc,{className:"w-3 h-3 mr-1"})," Cartão"]})]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[jn(v)," ",y.jsx("span",{className:"mx-1",children:"•"})," ",N.join(" ")]}),h&&O&&c!==pe.TRANSFER&&y.jsx("p",{className:"text-xs text-neutral/70 dark:text-neutralDark/70 italic mt-1",children:h}),T.length>0&&y.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:T.map(q=>y.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full border
                            ${q.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:q.color?{backgroundColor:q.color,borderColor:q.color}:{},children:y.jsx("span",{className:q.color?D(q.color):"text-textBase dark:text-textBaseDark",children:q.name})},q.id))})]}),y.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>a(t),"aria-label":"Editar",children:y.jsx(Fr,{className:"w-4 h-4"})}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>o(t.id),"aria-label":"Excluir",children:y.jsx(Br,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})},_t=({label:t,id:e,error:n,className:r,containerClassName:i,options:a,placeholder:o,...l})=>y.jsxs("div",{className:i,children:[t&&y.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),y.jsxs("select",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...l,children:[o&&y.jsx("option",{value:"",children:o}),a.map(f=>y.jsx("option",{value:f.value,children:f.label},f.value))]}),n&&y.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),Ve=({label:t,id:e,error:n,className:r,containerClassName:i,...a})=>y.jsxs("div",{className:i,children:[t&&y.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),y.jsx("input",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...a}),n&&y.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),tX=({transactions:t,accounts:e,categories:n,tags:r,installmentPurchases:i,onAddTransaction:a,onEditTransaction:o,onDeleteTransaction:l,isLoading:c,isPrivacyModeEnabled:d})=>{const[f,h]=R.useState("all"),[v,_]=R.useState("all"),[b,S]=R.useState("all"),[w,A]=R.useState("all"),[O,T]=R.useState([]),[I,E]=R.useState(""),[P,N]=R.useState("desc"),D=[{value:"all",label:"Todas as Contas"},...e.map(F=>({value:F.id,label:F.name}))],B=[{value:"all",label:"Todas as Categorias"},...n.map(F=>({value:F.id,label:F.name}))],q=[{value:"all",label:"Todos os Tipos"},...Sh],L=r.map(F=>({value:F.id,label:F.name})),W=R.useMemo(()=>{let F=[...t];if(f!=="all"){const Z=new Date;let Y=null,G=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate(),23,59,59,999);if(f==="today"?Y=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate()):f==="current_month"?(Y=new Date(Z.getFullYear(),Z.getMonth(),1),G=new Date(Z.getFullYear(),Z.getMonth()+1,0,23,59,59,999)):f==="last_7_days"?(Y=new Date(Z),Y.setDate(Z.getDate()-6),Y.setHours(0,0,0,0)):f==="last_30_days"&&(Y=new Date(Z),Y.setDate(Z.getDate()-29),Y.setHours(0,0,0,0)),Y){const te=ht(Y),ae=ht(G);F=F.filter(j=>j.date>=te&&j.date<=ae)}}if(v!=="all"&&(F=F.filter(Z=>Z.type===v)),b!=="all"&&(F=F.filter(Z=>Z.account_id===b||Z.to_account_id===b)),w!=="all"&&(F=F.filter(Z=>Z.category_id===w)),O.length>0&&(F=F.filter(Z=>Z.tag_ids&&Z.tag_ids.some(Y=>O.includes(Y)))),I.trim()!==""){const Z=I.toLowerCase();F=F.filter(Y=>{var G;return Y.description&&Y.description.toLowerCase().includes(Z)||Y.category_id&&((G=n.find(te=>te.id===Y.category_id))==null?void 0:G.name.toLowerCase().includes(Z))})}return F.sort((Z,Y)=>{const G=new Date(Z.date).getTime(),te=new Date(Y.date).getTime();return P==="desc"?te-G:G-te}),F},[t,f,v,b,w,O,I,n,P]),J=R.useCallback(()=>N(F=>F==="asc"?"desc":"asc"),[]),H=F=>{const Z=F.target.options,Y=[];for(let G=0,te=Z.length;G<te;G++)Z[G].selected&&Y.push(Z[G].value);T(Y)};return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações"}),y.jsxs(ge,{onClick:a,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-6 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[y.jsx(_t,{label:"Período",options:wB,value:f,onChange:F=>h(F.target.value)}),y.jsx(_t,{label:"Tipo",options:q,value:v,onChange:F=>_(F.target.value)}),y.jsx(_t,{label:"Conta",options:D,value:b,onChange:F=>S(F.target.value)}),y.jsx(_t,{label:"Categoria",options:B,value:w,onChange:F=>A(F.target.value),disabled:v===pe.TRANSFER.toString()}),r.length>0&&y.jsx(_t,{label:"Tags",options:L,value:O,onChange:H,multiple:!0,className:"h-24",placeholder:"Todas as Tags"}),y.jsx(Ve,{label:"Buscar Descrição",type:"text",placeholder:"Ex: Supermercado",value:I,onChange:F=>E(F.target.value),containerClassName:r.length===0?"lg:col-span-2":""})]}),y.jsx("div",{className:"flex justify-end",children:y.jsxs(ge,{variant:"ghost",size:"sm",onClick:J,children:["Ordenar por Data: ",P==="desc"?"Mais Recentes":"Mais Antigas"]})}),c&&y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Carregando transações..."}),!c&&W.length>0?y.jsx("ul",{className:"space-y-3",children:W.map(F=>y.jsx(eX,{transaction:F,accounts:e,categories:n,tags:r,installmentPurchases:i,onEdit:o,onDelete:l,isPrivacyModeEnabled:d},F.id))}):!c&&y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação encontrada com os filtros aplicados."})]})},nX=({account:t,balance:e,onEdit:n,onDelete:r,transactionCount:i,isPrivacyModeEnabled:a})=>y.jsx("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(sc,{className:"w-6 h-6 text-primary dark:text-primaryDark"}),y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),y.jsx("p",{className:`text-2xl font-bold mt-1 ${e>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:he(e,"BRL","pt-BR",a)}),y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1",children:["Saldo Inicial: ",he(t.initial_balance,"BRL","pt-BR",a)]})]}),y.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Conta",children:y.jsx(Fr,{className:"w-4 h-4"})}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Conta",disabled:i>0,title:i>0?"Não pode excluir contas com transações associadas":"Excluir conta",children:y.jsx(Br,{className:`w-4 h-4 ${i>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),i>0&&y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Possui ",i," transaçõe(s)"]})]})]})}),cn=({isOpen:t,onClose:e,title:n,children:r,size:i="md"})=>{if(!t)return null;let a="max-w-md";return i==="sm"&&(a="max-w-sm"),i==="lg"&&(a="max-w-lg"),i==="xl"&&(a="max-w-xl"),y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 dark:bg-opacity-70 backdrop-blur-sm p-4",children:y.jsxs("div",{className:`bg-surface dark:bg-surfaceDark rounded-lg shadow-xl dark:shadow-neutralDark/50 w-full ${a} transform transition-all flex flex-col max-h-[85vh]`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[y.jsxs("div",{id:"modal-title",className:"flex items-center justify-between px-6 py-4 border-b border-borderBase dark:border-borderBaseDark flex-shrink-0",children:[y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n}),y.jsx("button",{onClick:e,className:"text-textMuted dark:text-textMutedDark hover:text-textBase dark:hover:text-textBaseDark transition-colors","aria-label":"Fechar modal",children:y.jsx(wM,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:r})]})})},rX=({accounts:t,transactions:e,onAddAccount:n,onUpdateAccount:r,onDeleteAccount:i,calculateAccountBalance:a,isPrivacyModeEnabled:o})=>{const[l,c]=R.useState(!1),[d,f]=R.useState(null),[h,v]=R.useState(""),[_,b]=R.useState("0"),[S,w]=R.useState(""),A=()=>{f(null),v(""),b("0"),w(""),c(!0)},O=P=>{f(P),v(P.name),b(P.initial_balance.toString()),w(""),c(!0)},T=()=>{c(!1),f(null)},I=()=>{if(!h.trim()){w("Nome da conta é obrigatório.");return}const P=parseFloat(_);if(isNaN(P)){w("Saldo inicial inválido.");return}w(""),d?r({...d,name:h,initial_balance:P}):n({name:h,initial_balance:P}),T()},E=P=>e.filter(N=>N.account_id===P||N.to_account_id===P).length;return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Contas"}),y.jsxs(ge,{onClick:A,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Conta"]})]}),t.length>0?y.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(P=>y.jsx(nX,{account:P,balance:a(P.id),onEdit:O,onDelete:i,transactionCount:E(P.id),isPrivacyModeEnabled:o},P.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma conta cadastrada. Adicione uma para começar!"}),y.jsx(cn,{isOpen:l,onClose:T,title:d?"Editar Conta":"Nova Conta",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Ve,{label:"Nome da Conta",id:"accountName",type:"text",value:h,onChange:P=>v(P.target.value),placeholder:"Ex: Carteira, Banco X",required:!0}),y.jsx(Ve,{label:"Saldo Inicial",id:"initialBalance",type:"number",step:"0.01",value:_,onChange:P=>b(P.target.value),placeholder:o?he(0,"BRL","pt-BR",!0).replace("0,00","Ex: 1000.00"):"Ex: 1000.00",required:!0}),S&&y.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:S}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{variant:"ghost",onClick:T,children:"Cancelar"}),y.jsx(ge,{variant:"primary",onClick:I,children:"Salvar"})]})]})})]})},WR=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),TI=({category:t,transactions:e,onEdit:n,onDelete:r,transactionCount:i,isPrivacyModeEnabled:a})=>{const o=t.type===pe.INCOME?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",l=t.type===pe.INCOME?"Receita":"Despesa",c=ht().substring(0,7),d=t.type===pe.EXPENSE&&t.monthly_budget?e.filter(v=>v.category_id===t.id&&v.date.startsWith(c)&&v.type===pe.EXPENSE).reduce((v,_)=>v+_.amount,0):0,f=t.monthly_budget&&t.monthly_budget>0?Math.min(d/t.monthly_budget*100,100):0,h=t.monthly_budget&&d>t.monthly_budget;return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(WR,{className:`w-5 h-5 ${o}`}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.name}),y.jsx("p",{className:`text-xs font-semibold ${o}`,children:l})]})]}),y.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Categoria",className:"!p-1.5",children:y.jsx(Fr,{className:"w-4 h-4"})}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Categoria",className:"!p-1.5",disabled:i>0,title:i>0?"Não pode excluir categorias com transações associadas":"Excluir categoria",children:y.jsx(Br,{className:`w-4 h-4 ${i>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),i>0&&y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Usada em ",i," trans."]})]})]}),t.type===pe.EXPENSE&&t.monthly_budget&&t.monthly_budget>0&&y.jsxs("div",{className:"mt-3 pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[y.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[y.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Orçamento Mensal: ",he(t.monthly_budget,"BRL","pt-BR",a)]}),y.jsxs("span",{className:`font-medium ${h?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark"}`,children:["Gasto: ",he(d,"BRL","pt-BR",a)]})]}),y.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:y.jsx("div",{className:`h-2 rounded-full ${h?"bg-destructive dark:bg-destructiveDark":"bg-primary dark:bg-primaryDark"}`,style:{width:`${f}%`}})}),h&&y.jsx("p",{className:"text-xs text-destructive dark:text-destructiveDark mt-1 text-right",children:"Orçamento excedido!"})]})]})},ao=({className:t="w-5 h-5",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.355a12.053 12.053 0 0 1-4.5 0M12 3V1.5M12 16.5h.008v.008H12V16.5Zm-4.508-2.656L6.292 12.64a9.018 9.018 0 0 1-.365-2.074 9.028 9.028 0 0 1 .365-2.073l1.208-1.208m5.832 5.46L17.708 12.36a9.018 9.018 0 0 0 .365-2.074 9.028 9.028 0 0 0-.365-2.073L16.5 6.992M12 1.5a9 9 0 0 0-9 9c0 2.21.81 4.286 2.186 5.885L6.9 17.72A9.03 9.03 0 0 0 12 22.5a9.03 9.03 0 0 0 5.1-4.78l1.714-1.335A8.973 8.973 0 0 0 21 10.5a9 9 0 0 0-9-9Z"})}),iX=({categories:t,transactions:e,aiConfig:n,onAddCategory:r,onUpdateCategory:i,onDeleteCategory:a,onSuggestBudget:o,isPrivacyModeEnabled:l})=>{const[c,d]=R.useState(!1),[f,h]=R.useState(null),[v,_]=R.useState(""),[b,S]=R.useState(pe.EXPENSE),[w,A]=R.useState(""),[O,T]=R.useState(""),[I,E]=R.useState(!1),P=()=>{h(null),_(""),S(pe.EXPENSE),A(""),T(""),d(!0)},N=H=>{var F;h(H),_(H.name),S(H.type),A(((F=H.monthly_budget)==null?void 0:F.toString())||""),T(""),d(!0)},D=()=>{d(!1),h(null)},B=()=>{if(!v.trim()){T("Nome da categoria é obrigatório.");return}const H=w?parseFloat(w):void 0;if(b===pe.EXPENSE&&w&&(isNaN(H)||H<0)){T("Orçamento mensal deve ser um número positivo ou vazio.");return}T(""),f?i({...f,name:v.trim(),type:b,monthly_budget:b===pe.EXPENSE?H:void 0}):r({name:v.trim(),type:b,monthly_budget:b===pe.EXPENSE?H:void 0}),D()},q=H=>e.filter(F=>F.category_id===H).length,L=async()=>{if(!v.trim()&&!f){T("Por favor, insira um nome para a categoria antes de sugerir um orçamento.");return}T(""),E(!0);const H=t.filter(Z=>Z.type===pe.EXPENSE&&Z.id!==(f==null?void 0:f.id)&&Z.monthly_budget).map(Z=>({name:Z.name,budget:Z.monthly_budget})),F=await o((f==null?void 0:f.name)||v,H);F!==null?A(F.toString()):T("Não foi possível sugerir um orçamento no momento."),E(!1)},W=t.filter(H=>H.type===pe.INCOME).sort((H,F)=>H.name.localeCompare(F.name)),J=t.filter(H=>H.type===pe.EXPENSE).sort((H,F)=>H.name.localeCompare(F.name));return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Categorias"}),y.jsxs(ge,{onClick:P,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Categoria"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Receitas (",W.length,")"]}),W.length>0?y.jsx("ul",{className:"space-y-3",children:W.map(H=>y.jsx(TI,{category:H,transactions:e,onEdit:N,onDelete:a,transactionCount:q(H.id),isPrivacyModeEnabled:l},H.id))}):y.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de receita."})]}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Despesas (",J.length,")"]}),J.length>0?y.jsx("ul",{className:"space-y-3",children:J.map(H=>y.jsx(TI,{category:H,transactions:e,onEdit:N,onDelete:a,transactionCount:q(H.id),isPrivacyModeEnabled:l},H.id))}):y.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de despesa."})]})]}),y.jsx(cn,{isOpen:c,onClose:D,title:f?"Editar Categoria":"Nova Categoria",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Ve,{label:"Nome da Categoria",id:"categoryName",type:"text",value:v,onChange:H=>_(H.target.value),placeholder:"Ex: Alimentação, Salário",required:!0}),y.jsx(_t,{label:"Tipo de Categoria",id:"categoryType",options:[{value:pe.INCOME,label:"Receita"},{value:pe.EXPENSE,label:"Despesa"}],value:b,onChange:H=>{S(H.target.value),H.target.value===pe.INCOME&&A("")},required:!0}),b===pe.EXPENSE&&y.jsxs("div",{className:"space-y-1",children:[y.jsx(Ve,{label:"Orçamento Mensal (Opcional)",id:"monthlyBudget",type:"number",step:"0.01",value:w,onChange:H=>A(H.target.value),placeholder:l?he(0,"BRL","pt-BR",!0).replace("0,00","Ex: 500.00"):"Ex: 500.00"}),n.isEnabled&&n.apiKeyStatus==="available"&&n.monthlyIncome&&n.monthlyIncome>0&&y.jsxs(ge,{type:"button",variant:"ghost",size:"sm",onClick:L,disabled:I,className:"text-primary dark:text-primaryDark !mt-1.5",children:[y.jsx(ao,{className:"w-4 h-4 mr-1.5"}),I?"Sugerindo...":"Sugerir com IA"]})]}),O&&y.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:O}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{variant:"ghost",onClick:D,children:"Cancelar"}),y.jsx(ge,{variant:"primary",onClick:B,children:"Salvar"})]})]})})]})},Sw=({className:t="w-5 h-5",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25zM12 2.25L11.187 5.104a4.502 4.502 0 00-3.09 3.09L5.25 9l2.846.813a4.502 4.502 0 003.09 3.09L12 15.75l.813-2.846a4.502 4.502 0 003.09-3.09L18.75 9l-2.846-.813a4.502 4.502 0 00-3.09-3.09L12 2.25z"})]}),aX=({card:t,installmentPurchases:e,onEditCard:n,onDeleteCard:r,onAddInstallmentPurchase:i,onEditInstallmentPurchase:a,onDeleteInstallmentPurchase:o,onMarkInstallmentPaid:l,onGetBestPurchaseDay:c,onPayMonthlyInstallments:d,isAIFeatureEnabled:f,isPrivacyModeEnabled:h})=>{const[v,_]=R.useState(!1),b=e.filter(O=>O.credit_card_id===t.id),S=b.reduce((O,T)=>{if(T.installments_paid>=T.number_of_installments)return O;const I=T.total_amount/T.number_of_installments,E=T.number_of_installments-T.installments_paid;return O+I*E},0),w=t.card_limit-S,A=K.useMemo(()=>bM(b,t,new Date),[b,t]);return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow-lg hover:shadow-xl dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[y.jsx(sc,{className:"w-7 h-7 text-primary dark:text-primaryDark"}),y.jsx("h3",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Limite Total: ",he(t.card_limit,"BRL","pt-BR",h)]}),y.jsxs("p",{className:`text-md font-medium ${w>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:["Disponível: ",he(w,"BRL","pt-BR",h)]}),y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Fechamento: Dia ",t.closing_day," | Vencimento: Dia ",t.due_day]})]}),y.jsxs("div",{className:"flex flex-col items-end space-y-1.5",children:[y.jsxs("div",{className:"flex space-x-1",children:[y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Cartão",className:"!p-1.5",children:y.jsx(Fr,{className:"w-4 h-4"})}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Cartão",className:"!p-1.5",disabled:b.length>0,title:b.length>0?"Exclua as compras parceladas primeiro":"Excluir cartão",children:y.jsx(Br,{className:`w-4 h-4 ${b.length>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),y.jsxs(ge,{size:"sm",variant:"secondary",onClick:()=>i(t),className:"!text-xs !py-1 !px-2.5",children:[y.jsx(kn,{className:"w-4 h-4 mr-1"})," Novo Parcelamento"]})]})]}),y.jsxs("div",{className:"space-y-2",children:[f&&y.jsxs(ge,{variant:"ghost",size:"sm",onClick:()=>c(t.id),className:"text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !text-xs",title:"Ver melhor dia para compra com IA",children:[y.jsx(Sw,{className:"w-4 h-4 mr-1.5"})," Melhor Dia para Compra (IA)"]}),A.length>0&&y.jsxs(ge,{variant:"primary",size:"sm",onClick:()=>d(t.id),className:"w-full !text-xs",children:["Pagar Parcelas da Fatura (",A.length,")"]})]}),b.length>0&&y.jsx("div",{className:"mt-2",children:y.jsxs(ge,{variant:"ghost",size:"sm",onClick:()=>_(!v),className:"text-sm text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !font-normal",children:[v?"Ocultar":"Mostrar"," ",b.length," Compra(s) Parcelada(s)"]})}),v&&b.length>0&&y.jsxs("div",{className:"mt-2 pt-3 border-t border-borderBase/50 dark:border-borderBaseDark/50 space-y-3",children:[y.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark",children:"Detalhes dos Parcelamentos:"}),y.jsx("ul",{className:"space-y-3 max-h-72 overflow-y-auto pr-1",children:b.map(O=>{const T=O.total_amount/O.number_of_installments,I=O.installments_paid>=O.number_of_installments,E=O.installments_paid+1,P=I?null:_M(O.purchase_date,E,t.due_day),N=A.some(D=>D.id===O.id);return y.jsxs("li",{className:`p-3 rounded-md ${I?"bg-green-500/10 dark:bg-green-500/20 opacity-70":"bg-surface dark:bg-surfaceDark shadow-sm border border-borderBase dark:border-borderBaseDark"}`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[y.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:O.description}),y.jsxs("div",{className:"flex space-x-1",children:[y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>a(O,t),"aria-label":"Editar Compra",className:"!p-1",children:y.jsx(Fr,{className:"w-3.5 h-3.5"})}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>o(O.id),"aria-label":"Excluir Compra",className:"!p-1",children:y.jsx(Br,{className:"w-3.5 h-3.5 text-destructive dark:text-destructiveDark"})})]})]}),y.jsxs("div",{className:"text-sm space-y-0.5",children:[y.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Parcela: ",y.jsx("span",{className:"font-medium",children:he(T,"BRL","pt-BR",h)}),y.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:[" (",O.installments_paid,"/",O.number_of_installments," pagas)"]})]}),y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Total: ",he(O.total_amount,"BRL","pt-BR",h)," | Compra: ",jn(O.purchase_date)]}),P&&!I&&y.jsxs("p",{className:`text-xs font-medium ${N?"text-red-600 dark:text-red-400":"text-textMuted dark:text-textMutedDark"}`,children:["Próx. Venc. Parcela: ",jn(ht(P))]})]}),!I&&y.jsxs(ge,{size:"sm",variant:N?"primary":"ghost",onClick:()=>l(O.id),className:`text-xs py-1 px-2 mt-2.5 w-full sm:w-auto ${N?"":"border border-borderBase dark:border-borderBaseDark"}`,children:[N?y.jsx(Tx,{className:"w-4 h-4 mr-1"}):null,"Pagar Parcela (",E,")"]}),I&&y.jsxs("p",{className:"text-xs text-secondary dark:text-secondaryDark mt-2 font-medium flex items-center",children:[y.jsx(Tx,{className:"w-4 h-4 mr-1"})," Compra Totalmente Paga"]})]},O.id)})})]}),v&&b.length===0&&y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center py-2",children:"Nenhuma compra parcelada para este cartão."})]})},oX=({isOpen:t,onClose:e,onSave:n,existingCard:r})=>{const[i,a]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState(""),[f,h]=R.useState(""),[v,_]=R.useState({});R.useEffect(()=>{r?(a(r.name),l(r.card_limit.toString()),d(r.closing_day.toString()),h(r.due_day.toString())):(a(""),l(""),d(""),h("")),_({})},[r,t]);const b=()=>{const w={};i.trim()||(w.name="Nome do cartão é obrigatório.");const A=parseFloat(o);(isNaN(A)||A<=0)&&(w.limit="Limite deve ser um número positivo.");const O=parseInt(c,10);(isNaN(O)||O<1||O>31)&&(w.closingDay="Dia de fechamento deve ser entre 1 e 31.");const T=parseInt(f,10);return(isNaN(T)||T<1||T>31)&&(w.dueDay="Dia de vencimento deve ser entre 1 e 31."),_(w),Object.keys(w).length===0},S=()=>{if(!b())return;const w={id:(r==null?void 0:r.id)||Qe(),name:i.trim(),card_limit:parseFloat(o),closing_day:parseInt(c,10),due_day:parseInt(f,10)};n(w),e()};return y.jsx(cn,{isOpen:t,onClose:e,title:r?"Editar Cartão de Crédito":"Novo Cartão de Crédito",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Ve,{label:"Nome do Cartão",id:"cardName",value:i,onChange:w=>a(w.target.value),error:v.name,placeholder:"Ex: Cartão Principal, Cartão Viagem"}),y.jsx(Ve,{label:"Limite do Cartão (R$)",id:"cardLimit",type:"number",step:"0.01",value:o,onChange:w=>l(w.target.value),error:v.limit,placeholder:"Ex: 5000.00"}),y.jsx(Ve,{label:"Dia de Fechamento da Fatura",id:"cardClosingDay",type:"number",min:"1",max:"31",value:c,onChange:w=>d(w.target.value),error:v.closingDay,placeholder:"Ex: 25"}),y.jsx(Ve,{label:"Dia de Vencimento da Fatura",id:"cardDueDay",type:"number",min:"1",max:"31",value:f,onChange:w=>h(w.target.value),error:v.dueDay,placeholder:"Ex: 10"}),v.form&&y.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:v.form}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(ge,{variant:"primary",onClick:S,children:"Salvar Cartão"})]})]})})},sX=({isOpen:t,onClose:e,onSave:n,creditCard:r,existingPurchase:i})=>{const[a,o]=R.useState(""),[l,c]=R.useState(ht()),[d,f]=R.useState(""),[h,v]=R.useState(""),[_,b]=R.useState("0"),[S,w]=R.useState({});R.useEffect(()=>{i?(o(i.description),c(i.purchase_date),f(i.total_amount.toString()),v(i.number_of_installments.toString()),b(i.installments_paid.toString())):(o(""),c(ht()),f(""),v(""),b("0")),w({})},[i,t]);const A=()=>{const T={};a.trim()||(T.description="Descrição é obrigatória."),l||(T.purchaseDate="Data da compra é obrigatória.");const I=parseFloat(d);(isNaN(I)||I<=0)&&(T.totalAmount="Valor total deve ser positivo.");const E=parseInt(h,10);(isNaN(E)||E<=0)&&(T.numberOfInstallments="Número de parcelas deve ser positivo.");const P=parseInt(_,10);return(isNaN(P)||P<0||E>0&&P>E)&&(T.installmentsPaid="Parcelas pagas inválido."),w(T),Object.keys(T).length===0},O=()=>{if(!A())return;const T={id:(i==null?void 0:i.id)||Qe(),credit_card_id:r.id,description:a.trim(),purchase_date:l,total_amount:parseFloat(d),number_of_installments:parseInt(h,10),installments_paid:parseInt(_,10)};n(T),e()};return y.jsxs(cn,{isOpen:t,onClose:e,title:i?"Editar Compra Parcelada":"Nova Compra Parcelada",children:[y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark mb-3",children:["Cartão: ",y.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:r.name})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx(Ve,{label:"Descrição da Compra",id:"purchaseDescription",value:a,onChange:T=>o(T.target.value),error:S.description,placeholder:"Ex: Celular Novo, Geladeira"}),y.jsx(Ve,{label:"Data da Compra",id:"purchaseDate",type:"date",value:l,onChange:T=>c(T.target.value),error:S.purchaseDate}),y.jsx(Ve,{label:"Valor Total (R$)",id:"totalAmount",type:"number",step:"0.01",value:d,onChange:T=>f(T.target.value),error:S.totalAmount,placeholder:"Ex: 1200.00"}),y.jsx(Ve,{label:"Número de Parcelas",id:"numberOfInstallments",type:"number",min:"1",value:h,onChange:T=>v(T.target.value),error:S.numberOfInstallments,placeholder:"Ex: 12"}),i&&y.jsx(Ve,{label:"Parcelas Pagas",id:"installmentsPaid",type:"number",min:"0",max:h||void 0,value:_,onChange:T=>b(T.target.value),error:S.installmentsPaid}),S.form&&y.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:S.form}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(ge,{variant:"primary",onClick:O,children:"Salvar Compra"})]})]})]})},lX=({isOpen:t,onClose:e,advice:n,isLoading:r,cardName:i})=>y.jsxs(cn,{isOpen:t,onClose:e,title:`Melhor Dia para Compra ${i?`(${i})`:""}`,size:"md",children:[r&&y.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 p-6",children:[y.jsx(Sw,{className:"w-12 h-12 text-primary dark:text-primaryDark animate-pulse"}),y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Analisando o melhor dia para sua compra..."}),y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Aguarde um momento."})]}),!r&&n&&y.jsxs("div",{className:"space-y-4 p-2",children:[n.error?y.jsxs("div",{className:"bg-destructive/10 dark:bg-destructiveDark/20 p-4 rounded-md border-l-4 border-destructive dark:border-destructiveDark",children:[y.jsx("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-1",children:"Erro ao Analisar"}),y.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:n.explanation||"Não foi possível obter a sugestão no momento."})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Melhor dia para sua próxima compra:"}),y.jsx("p",{className:"text-2xl font-bold text-primary dark:text-primaryDark my-1",children:n.bestPurchaseDay||"N/A"})]}),y.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-4 rounded-md",children:[y.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Pagamento estimado para:"}),y.jsx("p",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n.paymentDueDate||"N/A"})]}),y.jsxs("div",{className:"mt-3",children:[y.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"Por quê?"}),y.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark bg-surface p-3 rounded-md shadow-inner dark:bg-surfaceDark/50",children:n.explanation||"Informação não disponível."})]})]}),y.jsx("div",{className:"flex justify-end pt-3",children:y.jsx(ge,{variant:"primary",onClick:e,children:"Entendido"})})]}),!r&&!n&&y.jsxs("div",{className:"text-center p-6",children:[y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Não foi possível carregar a sugestão."}),y.jsx(ge,{variant:"ghost",onClick:e,className:"mt-4",children:"Fechar"})]})]});var ft;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ft||(ft={}));var kI;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(kI||(kI={}));const Re=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ua=t=>{switch(typeof t){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return Number.isNaN(t)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(t)?Re.array:t===null?Re.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Re.promise:typeof Map<"u"&&t instanceof Map?Re.map:typeof Set<"u"&&t instanceof Set?Re.set:typeof Date<"u"&&t instanceof Date?Re.date:Re.object;default:return Re.unknown}},Se=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ai extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof Ai))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ai.create=t=>new Ai(t);const W_=(t,e)=>{let n;switch(t.code){case Se.invalid_type:t.received===Re.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Se.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ft.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:n=`Unrecognized key(s) in object: ${ft.joinValues(t.keys,", ")}`;break;case Se.invalid_union:n="Invalid input";break;case Se.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ft.joinValues(t.options)}`;break;case Se.invalid_enum_value:n=`Invalid enum value. Expected ${ft.joinValues(t.options)}, received '${t.received}'`;break;case Se.invalid_arguments:n="Invalid function arguments";break;case Se.invalid_return_type:n="Invalid function return type";break;case Se.invalid_date:n="Invalid date";break;case Se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ft.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Se.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Se.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Se.custom:n="Invalid input";break;case Se.invalid_intersection_types:n="Intersection results could not be merged";break;case Se.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Se.not_finite:n="Number must be finite";break;default:n=e.defaultError,ft.assertNever(t)}return{message:n}};let uX=W_;function cX(){return uX}const dX=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}};function Pe(t,e){const n=cX(),r=dX({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===W_?void 0:W_].filter(i=>!!i)});t.common.issues.push(r)}class $n{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return et;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return $n.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return et;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const et=Object.freeze({status:"aborted"}),hu=t=>({status:"dirty",value:t}),wr=t=>({status:"valid",value:t}),EI=t=>t.status==="aborted",AI=t=>t.status==="dirty",Xs=t=>t.status==="valid",fh=t=>typeof Promise<"u"&&t instanceof Promise;var Le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Le||(Le={}));class Qr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const PI=(t,e)=>{if(Xs(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ai(t.common.issues);return this._error=n,this._error}}};function rt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class ut{get description(){return this._def.description}_getType(e){return ua(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ua(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new $n,ctx:{common:e.parent.common,data:e.data,parsedType:ua(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(fh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ua(e)},i=this._parseSync({data:e,path:r.path,parent:r});return PI(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ua(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Xs(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Xs(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ua(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(fh(i)?i:Promise.resolve(i));return PI(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:Se.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new el({schema:this,typeName:Ze.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ga.create(this,this._def)}nullable(){return tl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xr.create(this)}promise(){return vh.create(this,this._def)}or(e){return ph.create([this,e],this._def)}and(e){return mh.create(this,e,this._def)}transform(e){return new el({...rt(this._def),schema:this,typeName:Ze.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new X_({...rt(this._def),innerType:this,defaultValue:n,typeName:Ze.ZodDefault})}brand(){return new DX({typeName:Ze.ZodBranded,type:this,...rt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Z_({...rt(this._def),innerType:this,catchValue:n,typeName:Ze.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Cw.create(this,e)}readonly(){return Q_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fX=/^c[^\s-]{8,}$/i,hX=/^[0-9a-z]+$/,pX=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gX=/^[a-z0-9_-]{21}$/i,vX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_X="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let fx;const bX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,SX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,CX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,TX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kX=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,KR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",EX=new RegExp(`^${KR}$`);function YR(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function AX(t){return new RegExp(`^${YR(t)}$`)}function PX(t){let e=`${KR}T${YR(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function OX(t,e){return!!((e==="v4"||!e)&&bX.test(t)||(e==="v6"||!e)&&SX.test(t))}function IX(t,e){if(!vX.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function NX(t,e){return!!((e==="v4"||!e)&&wX.test(t)||(e==="v6"||!e)&&CX.test(t))}class Wr extends ut{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Re.string){const a=this._getOrReturnCtx(e);return Pe(a,{code:Se.invalid_type,expected:Re.string,received:a.parsedType}),et}const r=new $n;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Pe(i,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Pe(i,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")xX.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"email",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")fx||(fx=new RegExp(_X,"u")),fx.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"emoji",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")mX.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"uuid",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")gX.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"nanoid",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")fX.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cuid",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")hX.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cuid2",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")pX.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"ulid",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Pe(i,{validation:"url",code:Se.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"regex",code:Se.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:Se.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:Se.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:Se.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?PX(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:Se.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?EX.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:Se.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?AX(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:Se.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?yX.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"duration",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?OX(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"ip",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?IX(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"jwt",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?NX(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cidr",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?TX.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"base64",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?kX.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"base64url",code:Se.invalid_string,message:a.message}),r.dirty()):ft.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Se.invalid_string,...Le.errToObj(r)})}_addCheck(e){return new Wr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Le.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Le.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Le.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Le.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Le.errToObj(n)})}nonempty(e){return this.min(1,Le.errToObj(e))}trim(){return new Wr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Wr.create=t=>new Wr({checks:[],typeName:Ze.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...rt(t)});function MX(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class ho extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Re.number){const a=this._getOrReturnCtx(e);return Pe(a,{code:Se.invalid_type,expected:Re.number,received:a.parsedType}),et}let r;const i=new $n;for(const a of this._def.checks)a.kind==="int"?ft.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Pe(r,{code:Se.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:Se.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:Se.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?MX(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Pe(r,{code:Se.not_finite,message:a.message}),i.dirty()):ft.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,r,i){return new ho({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Le.toString(i)}]})}_addCheck(e){return new ho({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ft.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ho.create=t=>new ho({checks:[],typeName:Ze.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...rt(t)});class po extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Re.bigint)return this._getInvalidInput(e);let r;const i=new $n;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:Se.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:Se.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ft.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Pe(n,{code:Se.invalid_type,expected:Re.bigint,received:n.parsedType}),et}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,r,i){return new po({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Le.toString(i)}]})}_addCheck(e){return new po({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}po.create=t=>new po({checks:[],typeName:Ze.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...rt(t)});class hh extends ut{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Re.boolean){const r=this._getOrReturnCtx(e);return Pe(r,{code:Se.invalid_type,expected:Re.boolean,received:r.parsedType}),et}return wr(e.data)}}hh.create=t=>new hh({typeName:Ze.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...rt(t)});class Zs extends ut{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Re.date){const a=this._getOrReturnCtx(e);return Pe(a,{code:Se.invalid_type,expected:Re.date,received:a.parsedType}),et}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Pe(a,{code:Se.invalid_date}),et}const r=new $n;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:Se.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:Se.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ft.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Zs({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Zs.create=t=>new Zs({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ze.ZodDate,...rt(t)});class OI extends ut{_parse(e){if(this._getType(e)!==Re.symbol){const r=this._getOrReturnCtx(e);return Pe(r,{code:Se.invalid_type,expected:Re.symbol,received:r.parsedType}),et}return wr(e.data)}}OI.create=t=>new OI({typeName:Ze.ZodSymbol,...rt(t)});class II extends ut{_parse(e){if(this._getType(e)!==Re.undefined){const r=this._getOrReturnCtx(e);return Pe(r,{code:Se.invalid_type,expected:Re.undefined,received:r.parsedType}),et}return wr(e.data)}}II.create=t=>new II({typeName:Ze.ZodUndefined,...rt(t)});class NI extends ut{_parse(e){if(this._getType(e)!==Re.null){const r=this._getOrReturnCtx(e);return Pe(r,{code:Se.invalid_type,expected:Re.null,received:r.parsedType}),et}return wr(e.data)}}NI.create=t=>new NI({typeName:Ze.ZodNull,...rt(t)});class MI extends ut{constructor(){super(...arguments),this._any=!0}_parse(e){return wr(e.data)}}MI.create=t=>new MI({typeName:Ze.ZodAny,...rt(t)});class K_ extends ut{constructor(){super(...arguments),this._unknown=!0}_parse(e){return wr(e.data)}}K_.create=t=>new K_({typeName:Ze.ZodUnknown,...rt(t)});class va extends ut{_parse(e){const n=this._getOrReturnCtx(e);return Pe(n,{code:Se.invalid_type,expected:Re.never,received:n.parsedType}),et}}va.create=t=>new va({typeName:Ze.ZodNever,...rt(t)});class DI extends ut{_parse(e){if(this._getType(e)!==Re.undefined){const r=this._getOrReturnCtx(e);return Pe(r,{code:Se.invalid_type,expected:Re.void,received:r.parsedType}),et}return wr(e.data)}}DI.create=t=>new DI({typeName:Ze.ZodVoid,...rt(t)});class Xr extends ut{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Re.array)return Pe(n,{code:Se.invalid_type,expected:Re.array,received:n.parsedType}),et;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Pe(n,{code:o?Se.too_big:Se.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Pe(n,{code:Se.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Pe(n,{code:Se.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Qr(n,o,n.path,l)))).then(o=>$n.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new Qr(n,o,n.path,l)));return $n.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Xr({...this._def,minLength:{value:e,message:Le.toString(n)}})}max(e,n){return new Xr({...this._def,maxLength:{value:e,message:Le.toString(n)}})}length(e,n){return new Xr({...this._def,exactLength:{value:e,message:Le.toString(n)}})}nonempty(e){return this.min(1,e)}}Xr.create=(t,e)=>new Xr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ze.ZodArray,...rt(e)});function hs(t){if(t instanceof Kt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ga.create(hs(r))}return new Kt({...t._def,shape:()=>e})}else return t instanceof Xr?new Xr({...t._def,type:hs(t.element)}):t instanceof ga?ga.create(hs(t.unwrap())):t instanceof tl?tl.create(hs(t.unwrap())):t instanceof mo?mo.create(t.items.map(e=>hs(e))):t}class Kt extends ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ft.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Re.object){const d=this._getOrReturnCtx(e);return Pe(d,{code:Se.invalid_type,expected:Re.object,received:d.parsedType}),et}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof va&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=a[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Qr(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof va){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(d==="strict")l.length>0&&(Pe(i,{code:Se.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const h=i.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Qr(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const h=await f.key,v=await f.value;d.push({key:h,value:v,alwaysSet:f.alwaysSet})}return d}).then(d=>$n.mergeObjectSync(r,d)):$n.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Le.errToObj,new Kt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Le.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Kt({...this._def,unknownKeys:"strip"})}passthrough(){return new Kt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Kt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Kt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ze.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Kt({...this._def,catchall:e})}pick(e){const n={};for(const r of ft.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Kt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ft.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Kt({...this._def,shape:()=>n})}deepPartial(){return hs(this)}partial(e){const n={};for(const r of ft.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Kt({...this._def,shape:()=>n})}required(e){const n={};for(const r of ft.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof ga;)a=a._def.innerType;n[r]=a}return new Kt({...this._def,shape:()=>n})}keyof(){return JR(ft.objectKeys(this.shape))}}Kt.create=(t,e)=>new Kt({shape:()=>t,unknownKeys:"strip",catchall:va.create(),typeName:Ze.ZodObject,...rt(e)});Kt.strictCreate=(t,e)=>new Kt({shape:()=>t,unknownKeys:"strict",catchall:va.create(),typeName:Ze.ZodObject,...rt(e)});Kt.lazycreate=(t,e)=>new Kt({shape:t,unknownKeys:"strip",catchall:va.create(),typeName:Ze.ZodObject,...rt(e)});class ph extends ut{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Ai(l.ctx.common.issues));return Pe(n,{code:Se.invalid_union,unionErrors:o}),et}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Ai(c));return Pe(n,{code:Se.invalid_union,unionErrors:l}),et}}get options(){return this._def.options}}ph.create=(t,e)=>new ph({options:t,typeName:Ze.ZodUnion,...rt(e)});function Y_(t,e){const n=ua(t),r=ua(e);if(t===e)return{valid:!0,data:t};if(n===Re.object&&r===Re.object){const i=ft.objectKeys(e),a=ft.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=Y_(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Re.array&&r===Re.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=Y_(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Re.date&&r===Re.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class mh extends ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(EI(a)||EI(o))return et;const l=Y_(a.value,o.value);return l.valid?((AI(a)||AI(o))&&n.dirty(),{status:n.value,value:l.data}):(Pe(r,{code:Se.invalid_intersection_types}),et)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}mh.create=(t,e,n)=>new mh({left:t,right:e,typeName:Ze.ZodIntersection,...rt(n)});class mo extends ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.array)return Pe(r,{code:Se.invalid_type,expected:Re.array,received:r.parsedType}),et;if(r.data.length<this._def.items.length)return Pe(r,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),et;!this._def.rest&&r.data.length>this._def.items.length&&(Pe(r,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Qr(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>$n.mergeArray(n,o)):$n.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new mo({...this._def,rest:e})}}mo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mo({items:t,typeName:Ze.ZodTuple,rest:null,...rt(e)})};class gh extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.object)return Pe(r,{code:Se.invalid_type,expected:Re.object,received:r.parsedType}),et;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new Qr(r,l,r.path,l)),value:o._parse(new Qr(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?$n.mergeObjectAsync(n,i):$n.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ut?new gh({keyType:e,valueType:n,typeName:Ze.ZodRecord,...rt(r)}):new gh({keyType:Wr.create(),valueType:e,typeName:Ze.ZodRecord,...rt(n)})}}class RI extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.map)return Pe(r,{code:Se.invalid_type,expected:Re.map,received:r.parsedType}),et;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Qr(r,l,r.path,[d,"key"])),value:a._parse(new Qr(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return et;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return et;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}RI.create=(t,e,n)=>new RI({valueType:e,keyType:t,typeName:Ze.ZodMap,...rt(n)});class lc extends ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.set)return Pe(r,{code:Se.invalid_type,expected:Re.set,received:r.parsedType}),et;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Pe(r,{code:Se.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Pe(r,{code:Se.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return et;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Qr(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new lc({...this._def,minSize:{value:e,message:Le.toString(n)}})}max(e,n){return new lc({...this._def,maxSize:{value:e,message:Le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}lc.create=(t,e)=>new lc({valueType:t,minSize:null,maxSize:null,typeName:Ze.ZodSet,...rt(e)});class J_ extends ut{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}J_.create=(t,e)=>new J_({getter:t,typeName:Ze.ZodLazy,...rt(e)});class jI extends ut{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Pe(n,{received:n.data,code:Se.invalid_literal,expected:this._def.value}),et}return{status:"valid",value:e.data}}get value(){return this._def.value}}jI.create=(t,e)=>new jI({value:t,typeName:Ze.ZodLiteral,...rt(e)});function JR(t,e){return new Qs({values:t,typeName:Ze.ZodEnum,...rt(e)})}class Qs extends ut{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Pe(n,{expected:ft.joinValues(r),received:n.parsedType,code:Se.invalid_type}),et}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Pe(n,{received:n.data,code:Se.invalid_enum_value,options:r}),et}return wr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Qs.create(e,{...this._def,...n})}exclude(e,n=this._def){return Qs.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Qs.create=JR;class $I extends ut{_parse(e){const n=ft.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Re.string&&r.parsedType!==Re.number){const i=ft.objectValues(n);return Pe(r,{expected:ft.joinValues(i),received:r.parsedType,code:Se.invalid_type}),et}if(this._cache||(this._cache=new Set(ft.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ft.objectValues(n);return Pe(r,{received:r.data,code:Se.invalid_enum_value,options:i}),et}return wr(e.data)}get enum(){return this._def.values}}$I.create=(t,e)=>new $I({values:t,typeName:Ze.ZodNativeEnum,...rt(e)});class vh extends ut{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.promise&&n.common.async===!1)return Pe(n,{code:Se.invalid_type,expected:Re.promise,received:n.parsedType}),et;const r=n.parsedType===Re.promise?n.data:Promise.resolve(n.data);return wr(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}vh.create=(t,e)=>new vh({type:t,typeName:Ze.ZodPromise,...rt(e)});class el extends ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Pe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return et;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?et:c.status==="dirty"||n.value==="dirty"?hu(c.value):c});{if(n.value==="aborted")return et;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?et:l.status==="dirty"||n.value==="dirty"?hu(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?et:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?et:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Xs(o))return et;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Xs(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):et);ft.assertNever(i)}}el.create=(t,e,n)=>new el({schema:t,typeName:Ze.ZodEffects,effect:e,...rt(n)});el.createWithPreprocess=(t,e,n)=>new el({schema:e,effect:{type:"preprocess",transform:t},typeName:Ze.ZodEffects,...rt(n)});class ga extends ut{_parse(e){return this._getType(e)===Re.undefined?wr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ga.create=(t,e)=>new ga({innerType:t,typeName:Ze.ZodOptional,...rt(e)});class tl extends ut{_parse(e){return this._getType(e)===Re.null?wr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tl.create=(t,e)=>new tl({innerType:t,typeName:Ze.ZodNullable,...rt(e)});class X_ extends ut{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Re.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}X_.create=(t,e)=>new X_({innerType:t,typeName:Ze.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...rt(e)});class Z_ extends ut{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return fh(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ai(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ai(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Z_.create=(t,e)=>new Z_({innerType:t,typeName:Ze.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...rt(e)});class LI extends ut{_parse(e){if(this._getType(e)!==Re.nan){const r=this._getOrReturnCtx(e);return Pe(r,{code:Se.invalid_type,expected:Re.nan,received:r.parsedType}),et}return{status:"valid",value:e.data}}}LI.create=t=>new LI({typeName:Ze.ZodNaN,...rt(t)});class DX extends ut{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Cw extends ut{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?et:a.status==="dirty"?(n.dirty(),hu(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?et:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Cw({in:e,out:n,typeName:Ze.ZodPipeline})}}class Q_ extends ut{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Xs(i)&&(i.value=Object.freeze(i.value)),i);return fh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Q_.create=(t,e)=>new Q_({innerType:t,typeName:Ze.ZodReadonly,...rt(e)});var Ze;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ze||(Ze={}));const Wa=Wr.create,BI=ho.create;po.create;const RX=hh.create;Zs.create;const FI=K_.create;va.create;const pu=Xr.create,jX=Kt.create,$X=ph.create;mh.create;mo.create;const LX=gh.create,BX=J_.create,FX=Qs.create;vh.create;ga.create;tl.create;const ds={string:t=>Wr.create({...t,coerce:!0}),number:t=>ho.create({...t,coerce:!0}),boolean:t=>hh.create({...t,coerce:!0}),bigint:t=>po.create({...t,coerce:!0}),date:t=>Zs.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qX,UX;function VX(){return{geminiUrl:qX,vertexUrl:UX}}function zX(t,e,n){var r,i,a;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const o=VX();return t.vertexai?(i=o.vertexUrl)!==null&&i!==void 0?i:e:(a=o.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fl{}function We(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];g(f,e.slice(a+1),n[d])}else for(const d of c)g(d,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];g(c[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function m(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(o=>m(o,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qI;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(qI||(qI={}));var UI;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(UI||(UI={}));var Kr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Kr||(Kr={}));var VI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(VI||(VI={}));var zI;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(zI||(zI={}));var GI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(GI||(GI={}));var HI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(HI||(HI={}));var WI;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(WI||(WI={}));var KI;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(KI||(KI={}));var YI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(YI||(YI={}));var JI;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(JI||(JI={}));var XI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(XI||(XI={}));var ZI;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ZI||(ZI={}));var yh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(yh||(yh={}));var QI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(QI||(QI={}));var eb;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(eb||(eb={}));var eN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(eN||(eN={}));var tN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(tN||(tN={}));var nN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(nN||(nN={}));var rN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(rN||(rN={}));var iN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(iN||(iN={}));var aN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(aN||(aN={}));var oN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(oN||(oN={}));var sN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(sN||(sN={}));var lN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(lN||(lN={}));var uN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(uN||(uN={}));var cN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(cN||(cN={}));var dN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(dN||(dN={}));var fN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(fN||(fN={}));var hN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(hN||(hN={}));var pN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(pN||(pN={}));var mN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(mN||(mN={}));var gN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gN||(gN={}));var vN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vN||(vN={}));var yN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(yN||(yN={}));var xN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xN||(xN={}));var _N;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(_N||(_N={}));var bN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(bN||(bN={}));var xs;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(xs||(xs={}));class lu{get text(){var e,n,r,i,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const h=[];for(const v of(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[_,b]of Object.entries(v))_!=="text"&&_!=="thought"&&(b!==null||b!==void 0)&&h.push(_);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;f=!0,d+=v.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,r,i,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const h of(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[v,_]of Object.entries(h))v!=="inlineData"&&(_!==null||_!==void 0)&&f.push(v);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,a,o,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,a,o,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class wN{}class SN{}class GX{}class HX{}class CN{}class TN{}class kN{}class WX{}class EN{}class AN{}class PN{}class KX{}class tb{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class YX{}class JX{}class XX{get text(){var e,n,r;let i="",a=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="text"&&c!=="thought"&&d!==null&&o.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="inlineData"&&c!==null&&a.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class ZX{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function It(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function XR(t,e){const n=It(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function ZR(t,e){return Array.isArray(e)?e.map(n=>xh(t,n)):[xh(t,e)]}function xh(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function QX(t,e){const n=xh(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function eZ(t,e){const n=xh(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function ON(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function QR(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>ON(t,n)):[ON(t,e)]}function nb(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function IN(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function NN(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Rn(t,e){if(e==null)throw new Error("ContentUnion is required");return nb(e)?e:{role:"user",parts:QR(t,e)}}function ej(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Rn(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Rn(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Rn(t,n)):[Rn(t,e)]}function Lr(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(IN(e)||NN(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rn(t,e)]}const n=[],r=[],i=nb(e[0]);for(const a of e){const o=nb(a);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)n.push(a);else{if(IN(a)||NN(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(a)}}return i||n.push({role:"user",parts:QR(t,r)}),n}const tZ=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),MN=FX(["string","number","integer","object","array","boolean","null"]),nZ=$X([MN,pu(MN)]);function rZ(t=!0){const e=BX(()=>{const n=jX({type:nZ.optional(),format:Wa().optional(),title:Wa().optional(),description:Wa().optional(),default:FI().optional(),items:e.optional(),minItems:ds.string().optional(),maxItems:ds.string().optional(),enum:pu(FI()).optional(),properties:LX(Wa(),e).optional(),required:pu(Wa()).optional(),minProperties:ds.string().optional(),maxProperties:ds.string().optional(),propertyOrdering:pu(Wa()).optional(),minimum:BI().optional(),maximum:BI().optional(),minLength:ds.string().optional(),maxLength:ds.string().optional(),pattern:Wa().optional(),anyOf:pu(e).optional(),additionalProperties:RX().optional()});return t?n.strict():n});return e}function iZ(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Kr).includes(n[0].toUpperCase())?n[0].toUpperCase():Kr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Kr).includes(r.toUpperCase())?r.toUpperCase():Kr.TYPE_UNSPECIFIED})}}function Cs(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&iZ(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Kr).includes(l.toUpperCase())?l.toUpperCase():Kr.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Cs(l);else if(r.includes(o)){const c=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}c.push(Cs(d))}e[o]=c}else if(i.includes(o)){const c={};for(const[d,f]of Object.entries(l))c[d]=Cs(f);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=l}return e}function _h(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=rZ().parse(e);return Cs(n)}else return Cs(e)}function tj(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Tw(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function xc(t,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=_h(t,n.parameters)),n.response&&(n.response=_h(t,n.response));return e}function _c(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of e)n.push(r);return n}function aZ(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Sa(t,e){if(typeof e!="string")throw new Error("name must be a string");return aZ(t,e,"cachedContents")}function nj(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Mi(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function oZ(t){return t!=null&&typeof t=="object"&&"name"in t}function sZ(t){return t!=null&&typeof t=="object"&&"video"in t}function lZ(t){return t!=null&&typeof t=="object"&&"uri"in t}function rj(t,e){var n;let r;if(oZ(e)&&(r=e.name),!(lZ(e)&&(r=e.uri,r===void 0))&&!(sZ(e)&&(r=(n=e.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const a=r.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${r}`);r=a[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function ij(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function aj(t,e){for(const n of["models","tunedModels","publisherModels"])if(uZ(e,n))return e[n];return[]}function uZ(t,e){return t!==null&&typeof t=="object"&&e in t}function cZ(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:Cs(cp(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function dZ(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=cZ(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function fZ(t){const e=[];for(const n of t)e.push(cp(n));return e}function hZ(t){const e={};for(const[n,r]of Object.entries(t)){const i=r;e[n]=cp(i)}return e}function cp(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),i={};for(const[a,o]of Object.entries(t))if(e.has(a))i[a]=cp(o);else if(n.has(a))i[a]=fZ(o);else if(r.has(a))i[a]=hZ(o);else if(a==="type"){const l=o.toUpperCase();i[a]=Object.values(Kr).includes(l)?l:Kr.TYPE_UNSPECIFIED}else tZ.has(a)&&(i[a]=o);return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pZ(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function mZ(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function gZ(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function vZ(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],pZ(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],mZ(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],gZ(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function DN(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>vZ(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function yZ(t,e){const n={},r=m(e,["behavior"]);r!=null&&g(n,["behavior"],r);const i=m(e,["description"]);i!=null&&g(n,["description"],i);const a=m(e,["name"]);a!=null&&g(n,["name"],a);const o=m(e,["parameters"]);o!=null&&g(n,["parameters"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],l),n}function xZ(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function _Z(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],xZ(t,r)),n}function bZ(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function wZ(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],bZ(t,r)),n}function SZ(){return{}}function CZ(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>yZ(t,d))),g(n,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(e,["googleSearch"]);i!=null&&g(n,["googleSearch"],_Z(t,i));const a=m(e,["googleSearchRetrieval"]);if(a!=null&&g(n,["googleSearchRetrieval"],wZ(t,a)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(n,["urlContext"],SZ());const l=m(e,["codeExecution"]);return l!=null&&g(n,["codeExecution"],l),n}function TZ(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function kZ(t,e){const n={},r=m(e,["latitude"]);r!=null&&g(n,["latitude"],r);const i=m(e,["longitude"]);return i!=null&&g(n,["longitude"],i),n}function EZ(t,e){const n={},r=m(e,["latLng"]);r!=null&&g(n,["latLng"],kZ(t,r));const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function AZ(t,e){const n={},r=m(e,["functionCallingConfig"]);r!=null&&g(n,["functionCallingConfig"],TZ(t,r));const i=m(e,["retrievalConfig"]);return i!=null&&g(n,["retrievalConfig"],EZ(t,i)),n}function PZ(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const a=m(e,["expireTime"]);n!==void 0&&a!=null&&g(n,["expireTime"],a);const o=m(e,["displayName"]);n!==void 0&&o!=null&&g(n,["displayName"],o);const l=m(e,["contents"]);if(n!==void 0&&l!=null){let h=Lr(t,l);Array.isArray(h)&&(h=h.map(v=>DN(t,v))),g(n,["contents"],h)}const c=m(e,["systemInstruction"]);n!==void 0&&c!=null&&g(n,["systemInstruction"],DN(t,Rn(t,c)));const d=m(e,["tools"]);if(n!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(v=>CZ(t,v))),g(n,["tools"],h)}const f=m(e,["toolConfig"]);if(n!==void 0&&f!=null&&g(n,["toolConfig"],AZ(t,f)),m(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function OZ(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],XR(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],PZ(t,i,n)),n}function IZ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],Sa(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function NZ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],Sa(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function MZ(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const a=m(e,["expireTime"]);return n!==void 0&&a!=null&&g(n,["expireTime"],a),r}function DZ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],Sa(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],MZ(t,i,n)),n}function RZ(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);return n!==void 0&&a!=null&&g(n,["_query","pageToken"],a),r}function jZ(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],RZ(t,r,n)),n}function $Z(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function LZ(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function BZ(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function FZ(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],$Z(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],LZ(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],BZ(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function RN(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>FZ(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function qZ(t,e){const n={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=m(e,["description"]);r!=null&&g(n,["description"],r);const i=m(e,["name"]);i!=null&&g(n,["name"],i);const a=m(e,["parameters"]);a!=null&&g(n,["parameters"],a);const o=m(e,["response"]);return o!=null&&g(n,["response"],o),n}function UZ(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function VZ(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],UZ(t,r)),n}function zZ(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function GZ(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],zZ(t,r)),n}function HZ(){return{}}function WZ(t,e){const n={},r=m(e,["apiKeyString"]);return r!=null&&g(n,["apiKeyString"],r),n}function KZ(t,e){const n={},r=m(e,["apiKeyConfig"]);r!=null&&g(n,["apiKeyConfig"],WZ(t,r));const i=m(e,["authType"]);i!=null&&g(n,["authType"],i);const a=m(e,["googleServiceAccountConfig"]);a!=null&&g(n,["googleServiceAccountConfig"],a);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(n,["httpBasicAuthConfig"],o);const l=m(e,["oauthConfig"]);l!=null&&g(n,["oauthConfig"],l);const c=m(e,["oidcConfig"]);return c!=null&&g(n,["oidcConfig"],c),n}function YZ(t,e){const n={},r=m(e,["authConfig"]);return r!=null&&g(n,["authConfig"],KZ(t,r)),n}function JZ(){return{}}function XZ(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>qZ(t,v))),g(n,["functionDeclarations"],h)}const i=m(e,["retrieval"]);i!=null&&g(n,["retrieval"],i);const a=m(e,["googleSearch"]);a!=null&&g(n,["googleSearch"],VZ(t,a));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],GZ(t,o)),m(e,["enterpriseWebSearch"])!=null&&g(n,["enterpriseWebSearch"],HZ());const c=m(e,["googleMaps"]);c!=null&&g(n,["googleMaps"],YZ(t,c)),m(e,["urlContext"])!=null&&g(n,["urlContext"],JZ());const f=m(e,["codeExecution"]);return f!=null&&g(n,["codeExecution"],f),n}function ZZ(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function QZ(t,e){const n={},r=m(e,["latitude"]);r!=null&&g(n,["latitude"],r);const i=m(e,["longitude"]);return i!=null&&g(n,["longitude"],i),n}function eQ(t,e){const n={},r=m(e,["latLng"]);r!=null&&g(n,["latLng"],QZ(t,r));const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function tQ(t,e){const n={},r=m(e,["functionCallingConfig"]);r!=null&&g(n,["functionCallingConfig"],ZZ(t,r));const i=m(e,["retrievalConfig"]);return i!=null&&g(n,["retrievalConfig"],eQ(t,i)),n}function nQ(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const a=m(e,["expireTime"]);n!==void 0&&a!=null&&g(n,["expireTime"],a);const o=m(e,["displayName"]);n!==void 0&&o!=null&&g(n,["displayName"],o);const l=m(e,["contents"]);if(n!==void 0&&l!=null){let v=Lr(t,l);Array.isArray(v)&&(v=v.map(_=>RN(t,_))),g(n,["contents"],v)}const c=m(e,["systemInstruction"]);n!==void 0&&c!=null&&g(n,["systemInstruction"],RN(t,Rn(t,c)));const d=m(e,["tools"]);if(n!==void 0&&d!=null){let v=d;Array.isArray(v)&&(v=v.map(_=>XZ(t,_))),g(n,["tools"],v)}const f=m(e,["toolConfig"]);n!==void 0&&f!=null&&g(n,["toolConfig"],tQ(t,f));const h=m(e,["kmsKeyName"]);return n!==void 0&&h!=null&&g(n,["encryption_spec","kmsKeyName"],h),r}function rQ(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],XR(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],nQ(t,i,n)),n}function iQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],Sa(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function aQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],Sa(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function oQ(t,e,n){const r={},i=m(e,["ttl"]);n!==void 0&&i!=null&&g(n,["ttl"],i);const a=m(e,["expireTime"]);return n!==void 0&&a!=null&&g(n,["expireTime"],a),r}function sQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],Sa(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],oQ(t,i,n)),n}function lQ(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);return n!==void 0&&a!=null&&g(n,["_query","pageToken"],a),r}function uQ(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],lQ(t,r,n)),n}function df(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["model"]);a!=null&&g(n,["model"],a);const o=m(e,["createTime"]);o!=null&&g(n,["createTime"],o);const l=m(e,["updateTime"]);l!=null&&g(n,["updateTime"],l);const c=m(e,["expireTime"]);c!=null&&g(n,["expireTime"],c);const d=m(e,["usageMetadata"]);return d!=null&&g(n,["usageMetadata"],d),n}function cQ(){return{}}function dQ(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>df(t,o))),g(n,["cachedContents"],a)}return n}function ff(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["model"]);a!=null&&g(n,["model"],a);const o=m(e,["createTime"]);o!=null&&g(n,["createTime"],o);const l=m(e,["updateTime"]);l!=null&&g(n,["updateTime"],l);const c=m(e,["expireTime"]);c!=null&&g(n,["expireTime"],c);const d=m(e,["usageMetadata"]);return d!=null&&g(n,["usageMetadata"],d),n}function fQ(){return{}}function hQ(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>ff(t,o))),g(n,["cachedContents"],a)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var nl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(nl||(nl={}));class dp{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};r?typeof r=="object"?o=Object.assign({},r):o=r:o={config:{}},o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pQ extends fl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new dp(nl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=rQ(this.apiClient,e);return l=We("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>ff(this.apiClient,f))}else{const d=OZ(this.apiClient,e);return l=We("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>df(this.apiClient,f))}}async get(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=iQ(this.apiClient,e);return l=We("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>ff(this.apiClient,f))}else{const d=IZ(this.apiClient,e);return l=We("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>df(this.apiClient,f))}}async delete(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=aQ(this.apiClient,e);return l=We("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(()=>{const f=fQ(),h=new AN;return Object.assign(h,f),h})}else{const d=NZ(this.apiClient,e);return l=We("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(()=>{const f=cQ(),h=new AN;return Object.assign(h,f),h})}}async update(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=sQ(this.apiClient,e);return l=We("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>ff(this.apiClient,f))}else{const d=DZ(this.apiClient,e);return l=We("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>df(this.apiClient,f))}}async listInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=uQ(this.apiClient,e);return l=We("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=hQ(this.apiClient,f),v=new PN;return Object.assign(v,h),v})}else{const d=jZ(this.apiClient,e);return l=We("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=dQ(this.apiClient,f),v=new PN;return Object.assign(v,h),v})}}}function jN(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dt(t){return this instanceof Dt?(this.v=t,this):new Dt(t)}function Ts(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(_){return function(b){return Promise.resolve(b).then(_,h)}}function l(_,b){r[_]&&(i[_]=function(S){return new Promise(function(w,A){a.push([_,S,w,A])>1||c(_,S)})},b&&(i[_]=b(i[_])))}function c(_,b){try{d(r[_](b))}catch(S){v(a[0][3],S)}}function d(_){_.value instanceof Dt?Promise.resolve(_.value.v).then(f,h):v(a[0][2],_)}function f(_){c("next",_)}function h(_){c("throw",_)}function v(_,b){_(b),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Cu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jN=="function"?jN(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(l,c){o=t[a](o),i(l,c,o.done,o.value)})}}function i(a,o,l,c){Promise.resolve(c).then(function(d){a({value:d,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mQ(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:oj(n)}function oj(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function gQ(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function $N(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!oj(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class vQ{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new yQ(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class yQ{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),gQ(a)}async sendMessage(e){var n;await this.sendPromise;const r=Rn(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,l;const c=await i,d=(o=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,f=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let v=[];f!=null&&(v=(l=f.slice(h))!==null&&l!==void 0?l:[]);const _=d?[d]:[];this.recordHistory(r,_,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Rn(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?$N(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Ts(this,arguments,function*(){var o,l,c,d;const f=[];try{for(var h=!0,v=Cu(e),_;_=yield Dt(v.next()),o=_.done,!o;h=!0){d=_.value,h=!1;const b=d;if(mQ(b)){const S=(i=(r=b.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&f.push(S)}yield yield Dt(b)}}catch(b){l={error:b}}finally{try{!h&&!o&&(c=v.return)&&(yield Dt(c.call(v)))}finally{if(l)throw l.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...$N(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xQ(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);return n!==void 0&&a!=null&&g(n,["_query","pageToken"],a),r}function _Q(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],xQ(t,r,n)),n}function bQ(t,e){const n={},r=m(e,["details"]);r!=null&&g(n,["details"],r);const i=m(e,["message"]);i!=null&&g(n,["message"],i);const a=m(e,["code"]);return a!=null&&g(n,["code"],a),n}function wQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["mimeType"]);a!=null&&g(n,["mimeType"],a);const o=m(e,["sizeBytes"]);o!=null&&g(n,["sizeBytes"],o);const l=m(e,["createTime"]);l!=null&&g(n,["createTime"],l);const c=m(e,["expirationTime"]);c!=null&&g(n,["expirationTime"],c);const d=m(e,["updateTime"]);d!=null&&g(n,["updateTime"],d);const f=m(e,["sha256Hash"]);f!=null&&g(n,["sha256Hash"],f);const h=m(e,["uri"]);h!=null&&g(n,["uri"],h);const v=m(e,["downloadUri"]);v!=null&&g(n,["downloadUri"],v);const _=m(e,["state"]);_!=null&&g(n,["state"],_);const b=m(e,["source"]);b!=null&&g(n,["source"],b);const S=m(e,["videoMetadata"]);S!=null&&g(n,["videoMetadata"],S);const w=m(e,["error"]);return w!=null&&g(n,["error"],bQ(t,w)),n}function SQ(t,e){const n={},r=m(e,["file"]);r!=null&&g(n,["file"],wQ(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function CQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","file"],rj(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function TQ(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","file"],rj(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function kQ(t,e){const n={},r=m(e,["details"]);r!=null&&g(n,["details"],r);const i=m(e,["message"]);i!=null&&g(n,["message"],i);const a=m(e,["code"]);return a!=null&&g(n,["code"],a),n}function rb(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["mimeType"]);a!=null&&g(n,["mimeType"],a);const o=m(e,["sizeBytes"]);o!=null&&g(n,["sizeBytes"],o);const l=m(e,["createTime"]);l!=null&&g(n,["createTime"],l);const c=m(e,["expirationTime"]);c!=null&&g(n,["expirationTime"],c);const d=m(e,["updateTime"]);d!=null&&g(n,["updateTime"],d);const f=m(e,["sha256Hash"]);f!=null&&g(n,["sha256Hash"],f);const h=m(e,["uri"]);h!=null&&g(n,["uri"],h);const v=m(e,["downloadUri"]);v!=null&&g(n,["downloadUri"],v);const _=m(e,["state"]);_!=null&&g(n,["state"],_);const b=m(e,["source"]);b!=null&&g(n,["source"],b);const S=m(e,["videoMetadata"]);S!=null&&g(n,["videoMetadata"],S);const w=m(e,["error"]);return w!=null&&g(n,["error"],kQ(t,w)),n}function EQ(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>rb(t,o))),g(n,["files"],a)}return n}function AQ(){return{}}function PQ(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OQ extends fl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new dp(nl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>rb(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=_Q(this.apiClient,e);return a=We("files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=EQ(this.apiClient,c),f=new KX;return Object.assign(f,d),f})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=SQ(this.apiClient,e);return a=We("upload/v1beta/files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(()=>{const c=AQ(),d=new YX;return Object.assign(d,c),d})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=CQ(this.apiClient,e);return a=We("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>rb(this.apiClient,c))}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=TQ(this.apiClient,e);return a=We("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(()=>{const c=PQ(),d=new JX;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IQ(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function NQ(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function sj(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],IQ(t,r)),n}function MQ(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],NQ(t,r)),n}function DQ(t,e){const n={},r=m(e,["speaker"]);r!=null&&g(n,["speaker"],r);const i=m(e,["voiceConfig"]);return i!=null&&g(n,["voiceConfig"],sj(t,i)),n}function RQ(t,e){const n={},r=m(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>DQ(t,a))),g(n,["speakerVoiceConfigs"],i)}return n}function jQ(t,e){const n={},r=m(e,["voiceConfig"]);r!=null&&g(n,["voiceConfig"],sj(t,r));const i=m(e,["multiSpeakerVoiceConfig"]);i!=null&&g(n,["multiSpeakerVoiceConfig"],RQ(t,i));const a=m(e,["languageCode"]);return a!=null&&g(n,["languageCode"],a),n}function $Q(t,e){const n={},r=m(e,["voiceConfig"]);if(r!=null&&g(n,["voiceConfig"],MQ(t,r)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function LQ(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function BQ(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function FQ(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function qQ(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function UQ(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function VQ(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function zQ(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],LQ(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],FQ(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],UQ(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function GQ(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],BQ(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],qQ(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],VQ(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function HQ(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>zQ(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function WQ(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>GQ(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function KQ(t,e){const n={},r=m(e,["behavior"]);r!=null&&g(n,["behavior"],r);const i=m(e,["description"]);i!=null&&g(n,["description"],i);const a=m(e,["name"]);a!=null&&g(n,["name"],a);const o=m(e,["parameters"]);o!=null&&g(n,["parameters"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],l),n}function YQ(t,e){const n={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=m(e,["description"]);r!=null&&g(n,["description"],r);const i=m(e,["name"]);i!=null&&g(n,["name"],i);const a=m(e,["parameters"]);a!=null&&g(n,["parameters"],a);const o=m(e,["response"]);return o!=null&&g(n,["response"],o),n}function JQ(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function XQ(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function ZQ(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],JQ(t,r)),n}function QQ(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],XQ(t,r)),n}function eee(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function tee(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function nee(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],eee(t,r)),n}function ree(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],tee(t,r)),n}function iee(){return{}}function aee(t,e){const n={},r=m(e,["apiKeyString"]);return r!=null&&g(n,["apiKeyString"],r),n}function oee(t,e){const n={},r=m(e,["apiKeyConfig"]);r!=null&&g(n,["apiKeyConfig"],aee(t,r));const i=m(e,["authType"]);i!=null&&g(n,["authType"],i);const a=m(e,["googleServiceAccountConfig"]);a!=null&&g(n,["googleServiceAccountConfig"],a);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(n,["httpBasicAuthConfig"],o);const l=m(e,["oauthConfig"]);l!=null&&g(n,["oauthConfig"],l);const c=m(e,["oidcConfig"]);return c!=null&&g(n,["oidcConfig"],c),n}function see(t,e){const n={},r=m(e,["authConfig"]);return r!=null&&g(n,["authConfig"],oee(t,r)),n}function lee(){return{}}function uee(){return{}}function cee(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>KQ(t,d))),g(n,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(e,["googleSearch"]);i!=null&&g(n,["googleSearch"],ZQ(t,i));const a=m(e,["googleSearchRetrieval"]);if(a!=null&&g(n,["googleSearchRetrieval"],nee(t,a)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(n,["urlContext"],lee());const l=m(e,["codeExecution"]);return l!=null&&g(n,["codeExecution"],l),n}function dee(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>YQ(t,v))),g(n,["functionDeclarations"],h)}const i=m(e,["retrieval"]);i!=null&&g(n,["retrieval"],i);const a=m(e,["googleSearch"]);a!=null&&g(n,["googleSearch"],QQ(t,a));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],ree(t,o)),m(e,["enterpriseWebSearch"])!=null&&g(n,["enterpriseWebSearch"],iee());const c=m(e,["googleMaps"]);c!=null&&g(n,["googleMaps"],see(t,c)),m(e,["urlContext"])!=null&&g(n,["urlContext"],uee());const f=m(e,["codeExecution"]);return f!=null&&g(n,["codeExecution"],f),n}function fee(t,e){const n={},r=m(e,["handle"]);if(r!=null&&g(n,["handle"],r),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function hee(t,e){const n={},r=m(e,["handle"]);r!=null&&g(n,["handle"],r);const i=m(e,["transparent"]);return i!=null&&g(n,["transparent"],i),n}function LN(){return{}}function BN(){return{}}function pee(t,e){const n={},r=m(e,["disabled"]);r!=null&&g(n,["disabled"],r);const i=m(e,["startOfSpeechSensitivity"]);i!=null&&g(n,["startOfSpeechSensitivity"],i);const a=m(e,["endOfSpeechSensitivity"]);a!=null&&g(n,["endOfSpeechSensitivity"],a);const o=m(e,["prefixPaddingMs"]);o!=null&&g(n,["prefixPaddingMs"],o);const l=m(e,["silenceDurationMs"]);return l!=null&&g(n,["silenceDurationMs"],l),n}function mee(t,e){const n={},r=m(e,["disabled"]);r!=null&&g(n,["disabled"],r);const i=m(e,["startOfSpeechSensitivity"]);i!=null&&g(n,["startOfSpeechSensitivity"],i);const a=m(e,["endOfSpeechSensitivity"]);a!=null&&g(n,["endOfSpeechSensitivity"],a);const o=m(e,["prefixPaddingMs"]);o!=null&&g(n,["prefixPaddingMs"],o);const l=m(e,["silenceDurationMs"]);return l!=null&&g(n,["silenceDurationMs"],l),n}function gee(t,e){const n={},r=m(e,["automaticActivityDetection"]);r!=null&&g(n,["automaticActivityDetection"],pee(t,r));const i=m(e,["activityHandling"]);i!=null&&g(n,["activityHandling"],i);const a=m(e,["turnCoverage"]);return a!=null&&g(n,["turnCoverage"],a),n}function vee(t,e){const n={},r=m(e,["automaticActivityDetection"]);r!=null&&g(n,["automaticActivityDetection"],mee(t,r));const i=m(e,["activityHandling"]);i!=null&&g(n,["activityHandling"],i);const a=m(e,["turnCoverage"]);return a!=null&&g(n,["turnCoverage"],a),n}function yee(t,e){const n={},r=m(e,["targetTokens"]);return r!=null&&g(n,["targetTokens"],r),n}function xee(t,e){const n={},r=m(e,["targetTokens"]);return r!=null&&g(n,["targetTokens"],r),n}function _ee(t,e){const n={},r=m(e,["triggerTokens"]);r!=null&&g(n,["triggerTokens"],r);const i=m(e,["slidingWindow"]);return i!=null&&g(n,["slidingWindow"],yee(t,i)),n}function bee(t,e){const n={},r=m(e,["triggerTokens"]);r!=null&&g(n,["triggerTokens"],r);const i=m(e,["slidingWindow"]);return i!=null&&g(n,["slidingWindow"],xee(t,i)),n}function wee(t,e){const n={},r=m(e,["proactiveAudio"]);return r!=null&&g(n,["proactiveAudio"],r),n}function See(t,e){const n={},r=m(e,["proactiveAudio"]);return r!=null&&g(n,["proactiveAudio"],r),n}function Cee(t,e,n){const r={},i=m(e,["generationConfig"]);n!==void 0&&i!=null&&g(n,["setup","generationConfig"],i);const a=m(e,["responseModalities"]);n!==void 0&&a!=null&&g(n,["setup","generationConfig","responseModalities"],a);const o=m(e,["temperature"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig","temperature"],o);const l=m(e,["topP"]);n!==void 0&&l!=null&&g(n,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);n!==void 0&&c!=null&&g(n,["setup","generationConfig","topK"],c);const d=m(e,["maxOutputTokens"]);n!==void 0&&d!=null&&g(n,["setup","generationConfig","maxOutputTokens"],d);const f=m(e,["mediaResolution"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","mediaResolution"],f);const h=m(e,["seed"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","seed"],h);const v=m(e,["speechConfig"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","speechConfig"],jQ(t,Tw(t,v)));const _=m(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&g(n,["setup","generationConfig","enableAffectiveDialog"],_);const b=m(e,["systemInstruction"]);n!==void 0&&b!=null&&g(n,["setup","systemInstruction"],HQ(t,Rn(t,b)));const S=m(e,["tools"]);if(n!==void 0&&S!=null){let P=_c(t,S);Array.isArray(P)&&(P=P.map(N=>cee(t,xc(t,N)))),g(n,["setup","tools"],P)}const w=m(e,["sessionResumption"]);n!==void 0&&w!=null&&g(n,["setup","sessionResumption"],fee(t,w));const A=m(e,["inputAudioTranscription"]);n!==void 0&&A!=null&&g(n,["setup","inputAudioTranscription"],LN());const O=m(e,["outputAudioTranscription"]);n!==void 0&&O!=null&&g(n,["setup","outputAudioTranscription"],LN());const T=m(e,["realtimeInputConfig"]);n!==void 0&&T!=null&&g(n,["setup","realtimeInputConfig"],gee(t,T));const I=m(e,["contextWindowCompression"]);n!==void 0&&I!=null&&g(n,["setup","contextWindowCompression"],_ee(t,I));const E=m(e,["proactivity"]);return n!==void 0&&E!=null&&g(n,["setup","proactivity"],wee(t,E)),r}function Tee(t,e,n){const r={},i=m(e,["generationConfig"]);n!==void 0&&i!=null&&g(n,["setup","generationConfig"],i);const a=m(e,["responseModalities"]);n!==void 0&&a!=null&&g(n,["setup","generationConfig","responseModalities"],a);const o=m(e,["temperature"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig","temperature"],o);const l=m(e,["topP"]);n!==void 0&&l!=null&&g(n,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);n!==void 0&&c!=null&&g(n,["setup","generationConfig","topK"],c);const d=m(e,["maxOutputTokens"]);n!==void 0&&d!=null&&g(n,["setup","generationConfig","maxOutputTokens"],d);const f=m(e,["mediaResolution"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","mediaResolution"],f);const h=m(e,["seed"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","seed"],h);const v=m(e,["speechConfig"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","speechConfig"],$Q(t,Tw(t,v)));const _=m(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&g(n,["setup","generationConfig","enableAffectiveDialog"],_);const b=m(e,["systemInstruction"]);n!==void 0&&b!=null&&g(n,["setup","systemInstruction"],WQ(t,Rn(t,b)));const S=m(e,["tools"]);if(n!==void 0&&S!=null){let P=_c(t,S);Array.isArray(P)&&(P=P.map(N=>dee(t,xc(t,N)))),g(n,["setup","tools"],P)}const w=m(e,["sessionResumption"]);n!==void 0&&w!=null&&g(n,["setup","sessionResumption"],hee(t,w));const A=m(e,["inputAudioTranscription"]);n!==void 0&&A!=null&&g(n,["setup","inputAudioTranscription"],BN());const O=m(e,["outputAudioTranscription"]);n!==void 0&&O!=null&&g(n,["setup","outputAudioTranscription"],BN());const T=m(e,["realtimeInputConfig"]);n!==void 0&&T!=null&&g(n,["setup","realtimeInputConfig"],vee(t,T));const I=m(e,["contextWindowCompression"]);n!==void 0&&I!=null&&g(n,["setup","contextWindowCompression"],bee(t,I));const E=m(e,["proactivity"]);return n!==void 0&&E!=null&&g(n,["setup","proactivity"],See(t,E)),r}function kee(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],Cee(t,i,n)),n}function Eee(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],Tee(t,i,n)),n}function Aee(){return{}}function Pee(){return{}}function Oee(){return{}}function Iee(){return{}}function Nee(t,e){const n={},r=m(e,["media"]);r!=null&&g(n,["mediaChunks"],ZR(t,r));const i=m(e,["audio"]);i!=null&&g(n,["audio"],eZ(t,i));const a=m(e,["audioStreamEnd"]);a!=null&&g(n,["audioStreamEnd"],a);const o=m(e,["video"]);o!=null&&g(n,["video"],QX(t,o));const l=m(e,["text"]);return l!=null&&g(n,["text"],l),m(e,["activityStart"])!=null&&g(n,["activityStart"],Aee()),m(e,["activityEnd"])!=null&&g(n,["activityEnd"],Oee()),n}function Mee(t,e){const n={},r=m(e,["media"]);if(r!=null&&g(n,["mediaChunks"],ZR(t,r)),m(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=m(e,["audioStreamEnd"]);if(i!=null&&g(n,["audioStreamEnd"],i),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(m(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return m(e,["activityStart"])!=null&&g(n,["activityStart"],Pee()),m(e,["activityEnd"])!=null&&g(n,["activityEnd"],Iee()),n}function lj(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["weight"]);return i!=null&&g(n,["weight"],i),n}function Dee(t,e){const n={},r=m(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>lj(t,a))),g(n,["weightedPrompts"],i)}return n}function uj(t,e){const n={},r=m(e,["temperature"]);r!=null&&g(n,["temperature"],r);const i=m(e,["topK"]);i!=null&&g(n,["topK"],i);const a=m(e,["seed"]);a!=null&&g(n,["seed"],a);const o=m(e,["guidance"]);o!=null&&g(n,["guidance"],o);const l=m(e,["bpm"]);l!=null&&g(n,["bpm"],l);const c=m(e,["density"]);c!=null&&g(n,["density"],c);const d=m(e,["brightness"]);d!=null&&g(n,["brightness"],d);const f=m(e,["scale"]);f!=null&&g(n,["scale"],f);const h=m(e,["muteBass"]);h!=null&&g(n,["muteBass"],h);const v=m(e,["muteDrums"]);v!=null&&g(n,["muteDrums"],v);const _=m(e,["onlyBassAndDrums"]);return _!=null&&g(n,["onlyBassAndDrums"],_),n}function Ree(t,e){const n={},r=m(e,["musicGenerationConfig"]);return r!=null&&g(n,["musicGenerationConfig"],uj(t,r)),n}function cj(t,e){const n={},r=m(e,["model"]);return r!=null&&g(n,["model"],r),n}function dj(t,e){const n={},r=m(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>lj(t,a))),g(n,["weightedPrompts"],i)}return n}function ib(t,e){const n={},r=m(e,["setup"]);r!=null&&g(n,["setup"],cj(t,r));const i=m(e,["clientContent"]);i!=null&&g(n,["clientContent"],dj(t,i));const a=m(e,["musicGenerationConfig"]);a!=null&&g(n,["musicGenerationConfig"],uj(t,a));const o=m(e,["playbackControl"]);return o!=null&&g(n,["playbackControl"],o),n}function jee(){return{}}function $ee(){return{}}function Lee(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function Bee(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function Fee(t,e){const n={},r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function qee(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Uee(t,e){const n={},r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function Vee(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function zee(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],Lee(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],Fee(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],Uee(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function Gee(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],Bee(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],qee(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],Vee(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function Hee(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>zee(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function Wee(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Gee(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function FN(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["finished"]);return i!=null&&g(n,["finished"],i),n}function qN(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["finished"]);return i!=null&&g(n,["finished"],i),n}function Kee(t,e){const n={},r=m(e,["retrievedUrl"]);r!=null&&g(n,["retrievedUrl"],r);const i=m(e,["urlRetrievalStatus"]);return i!=null&&g(n,["urlRetrievalStatus"],i),n}function Yee(t,e){const n={},r=m(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Kee(t,a))),g(n,["urlMetadata"],i)}return n}function Jee(t,e){const n={},r=m(e,["modelTurn"]);r!=null&&g(n,["modelTurn"],Hee(t,r));const i=m(e,["turnComplete"]);i!=null&&g(n,["turnComplete"],i);const a=m(e,["interrupted"]);a!=null&&g(n,["interrupted"],a);const o=m(e,["groundingMetadata"]);o!=null&&g(n,["groundingMetadata"],o);const l=m(e,["generationComplete"]);l!=null&&g(n,["generationComplete"],l);const c=m(e,["inputTranscription"]);c!=null&&g(n,["inputTranscription"],FN(t,c));const d=m(e,["outputTranscription"]);d!=null&&g(n,["outputTranscription"],FN(t,d));const f=m(e,["urlContextMetadata"]);return f!=null&&g(n,["urlContextMetadata"],Yee(t,f)),n}function Xee(t,e){const n={},r=m(e,["modelTurn"]);r!=null&&g(n,["modelTurn"],Wee(t,r));const i=m(e,["turnComplete"]);i!=null&&g(n,["turnComplete"],i);const a=m(e,["interrupted"]);a!=null&&g(n,["interrupted"],a);const o=m(e,["groundingMetadata"]);o!=null&&g(n,["groundingMetadata"],o);const l=m(e,["generationComplete"]);l!=null&&g(n,["generationComplete"],l);const c=m(e,["inputTranscription"]);c!=null&&g(n,["inputTranscription"],qN(t,c));const d=m(e,["outputTranscription"]);return d!=null&&g(n,["outputTranscription"],qN(t,d)),n}function Zee(t,e){const n={},r=m(e,["id"]);r!=null&&g(n,["id"],r);const i=m(e,["args"]);i!=null&&g(n,["args"],i);const a=m(e,["name"]);return a!=null&&g(n,["name"],a),n}function Qee(t,e){const n={},r=m(e,["args"]);r!=null&&g(n,["args"],r);const i=m(e,["name"]);return i!=null&&g(n,["name"],i),n}function ete(t,e){const n={},r=m(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Zee(t,a))),g(n,["functionCalls"],i)}return n}function tte(t,e){const n={},r=m(e,["functionCalls"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Qee(t,a))),g(n,["functionCalls"],i)}return n}function nte(t,e){const n={},r=m(e,["ids"]);return r!=null&&g(n,["ids"],r),n}function rte(t,e){const n={},r=m(e,["ids"]);return r!=null&&g(n,["ids"],r),n}function sf(t,e){const n={},r=m(e,["modality"]);r!=null&&g(n,["modality"],r);const i=m(e,["tokenCount"]);return i!=null&&g(n,["tokenCount"],i),n}function lf(t,e){const n={},r=m(e,["modality"]);r!=null&&g(n,["modality"],r);const i=m(e,["tokenCount"]);return i!=null&&g(n,["tokenCount"],i),n}function ite(t,e){const n={},r=m(e,["promptTokenCount"]);r!=null&&g(n,["promptTokenCount"],r);const i=m(e,["cachedContentTokenCount"]);i!=null&&g(n,["cachedContentTokenCount"],i);const a=m(e,["responseTokenCount"]);a!=null&&g(n,["responseTokenCount"],a);const o=m(e,["toolUsePromptTokenCount"]);o!=null&&g(n,["toolUsePromptTokenCount"],o);const l=m(e,["thoughtsTokenCount"]);l!=null&&g(n,["thoughtsTokenCount"],l);const c=m(e,["totalTokenCount"]);c!=null&&g(n,["totalTokenCount"],c);const d=m(e,["promptTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(b=>sf(t,b))),g(n,["promptTokensDetails"],_)}const f=m(e,["cacheTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(b=>sf(t,b))),g(n,["cacheTokensDetails"],_)}const h=m(e,["responseTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(b=>sf(t,b))),g(n,["responseTokensDetails"],_)}const v=m(e,["toolUsePromptTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(b=>sf(t,b))),g(n,["toolUsePromptTokensDetails"],_)}return n}function ate(t,e){const n={},r=m(e,["promptTokenCount"]);r!=null&&g(n,["promptTokenCount"],r);const i=m(e,["cachedContentTokenCount"]);i!=null&&g(n,["cachedContentTokenCount"],i);const a=m(e,["candidatesTokenCount"]);a!=null&&g(n,["responseTokenCount"],a);const o=m(e,["toolUsePromptTokenCount"]);o!=null&&g(n,["toolUsePromptTokenCount"],o);const l=m(e,["thoughtsTokenCount"]);l!=null&&g(n,["thoughtsTokenCount"],l);const c=m(e,["totalTokenCount"]);c!=null&&g(n,["totalTokenCount"],c);const d=m(e,["promptTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(S=>lf(t,S))),g(n,["promptTokensDetails"],b)}const f=m(e,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(S=>lf(t,S))),g(n,["cacheTokensDetails"],b)}const h=m(e,["candidatesTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(S=>lf(t,S))),g(n,["responseTokensDetails"],b)}const v=m(e,["toolUsePromptTokensDetails"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(S=>lf(t,S))),g(n,["toolUsePromptTokensDetails"],b)}const _=m(e,["trafficType"]);return _!=null&&g(n,["trafficType"],_),n}function ote(t,e){const n={},r=m(e,["timeLeft"]);return r!=null&&g(n,["timeLeft"],r),n}function ste(t,e){const n={},r=m(e,["timeLeft"]);return r!=null&&g(n,["timeLeft"],r),n}function lte(t,e){const n={},r=m(e,["newHandle"]);r!=null&&g(n,["newHandle"],r);const i=m(e,["resumable"]);i!=null&&g(n,["resumable"],i);const a=m(e,["lastConsumedClientMessageIndex"]);return a!=null&&g(n,["lastConsumedClientMessageIndex"],a),n}function ute(t,e){const n={},r=m(e,["newHandle"]);r!=null&&g(n,["newHandle"],r);const i=m(e,["resumable"]);i!=null&&g(n,["resumable"],i);const a=m(e,["lastConsumedClientMessageIndex"]);return a!=null&&g(n,["lastConsumedClientMessageIndex"],a),n}function cte(t,e){const n={};m(e,["setupComplete"])!=null&&g(n,["setupComplete"],jee());const i=m(e,["serverContent"]);i!=null&&g(n,["serverContent"],Jee(t,i));const a=m(e,["toolCall"]);a!=null&&g(n,["toolCall"],ete(t,a));const o=m(e,["toolCallCancellation"]);o!=null&&g(n,["toolCallCancellation"],nte(t,o));const l=m(e,["usageMetadata"]);l!=null&&g(n,["usageMetadata"],ite(t,l));const c=m(e,["goAway"]);c!=null&&g(n,["goAway"],ote(t,c));const d=m(e,["sessionResumptionUpdate"]);return d!=null&&g(n,["sessionResumptionUpdate"],lte(t,d)),n}function dte(t,e){const n={};m(e,["setupComplete"])!=null&&g(n,["setupComplete"],$ee());const i=m(e,["serverContent"]);i!=null&&g(n,["serverContent"],Xee(t,i));const a=m(e,["toolCall"]);a!=null&&g(n,["toolCall"],tte(t,a));const o=m(e,["toolCallCancellation"]);o!=null&&g(n,["toolCallCancellation"],rte(t,o));const l=m(e,["usageMetadata"]);l!=null&&g(n,["usageMetadata"],ate(t,l));const c=m(e,["goAway"]);c!=null&&g(n,["goAway"],ste(t,c));const d=m(e,["sessionResumptionUpdate"]);return d!=null&&g(n,["sessionResumptionUpdate"],ute(t,d)),n}function fte(){return{}}function hte(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["weight"]);return i!=null&&g(n,["weight"],i),n}function pte(t,e){const n={},r=m(e,["weightedPrompts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>hte(t,a))),g(n,["weightedPrompts"],i)}return n}function mte(t,e){const n={},r=m(e,["temperature"]);r!=null&&g(n,["temperature"],r);const i=m(e,["topK"]);i!=null&&g(n,["topK"],i);const a=m(e,["seed"]);a!=null&&g(n,["seed"],a);const o=m(e,["guidance"]);o!=null&&g(n,["guidance"],o);const l=m(e,["bpm"]);l!=null&&g(n,["bpm"],l);const c=m(e,["density"]);c!=null&&g(n,["density"],c);const d=m(e,["brightness"]);d!=null&&g(n,["brightness"],d);const f=m(e,["scale"]);f!=null&&g(n,["scale"],f);const h=m(e,["muteBass"]);h!=null&&g(n,["muteBass"],h);const v=m(e,["muteDrums"]);v!=null&&g(n,["muteDrums"],v);const _=m(e,["onlyBassAndDrums"]);return _!=null&&g(n,["onlyBassAndDrums"],_),n}function gte(t,e){const n={},r=m(e,["clientContent"]);r!=null&&g(n,["clientContent"],pte(t,r));const i=m(e,["musicGenerationConfig"]);return i!=null&&g(n,["musicGenerationConfig"],mte(t,i)),n}function vte(t,e){const n={},r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);i!=null&&g(n,["mimeType"],i);const a=m(e,["sourceMetadata"]);return a!=null&&g(n,["sourceMetadata"],gte(t,a)),n}function yte(t,e){const n={},r=m(e,["audioChunks"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>vte(t,a))),g(n,["audioChunks"],i)}return n}function xte(t,e){const n={},r=m(e,["text"]);r!=null&&g(n,["text"],r);const i=m(e,["filteredReason"]);return i!=null&&g(n,["filteredReason"],i),n}function _te(t,e){const n={};m(e,["setupComplete"])!=null&&g(n,["setupComplete"],fte());const i=m(e,["serverContent"]);i!=null&&g(n,["serverContent"],yte(t,i));const a=m(e,["filteredPrompt"]);return a!=null&&g(n,["filteredPrompt"],xte(t,a)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bte(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function wte(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function Ste(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function Cte(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],bte(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],wte(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],Ste(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function fp(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Cte(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function Tte(t,e){const n={},r=m(e,["anyOf"]);r!=null&&g(n,["anyOf"],r);const i=m(e,["default"]);i!=null&&g(n,["default"],i);const a=m(e,["description"]);a!=null&&g(n,["description"],a);const o=m(e,["enum"]);o!=null&&g(n,["enum"],o);const l=m(e,["example"]);l!=null&&g(n,["example"],l);const c=m(e,["format"]);c!=null&&g(n,["format"],c);const d=m(e,["items"]);d!=null&&g(n,["items"],d);const f=m(e,["maxItems"]);f!=null&&g(n,["maxItems"],f);const h=m(e,["maxLength"]);h!=null&&g(n,["maxLength"],h);const v=m(e,["maxProperties"]);v!=null&&g(n,["maxProperties"],v);const _=m(e,["maximum"]);_!=null&&g(n,["maximum"],_);const b=m(e,["minItems"]);b!=null&&g(n,["minItems"],b);const S=m(e,["minLength"]);S!=null&&g(n,["minLength"],S);const w=m(e,["minProperties"]);w!=null&&g(n,["minProperties"],w);const A=m(e,["minimum"]);A!=null&&g(n,["minimum"],A);const O=m(e,["nullable"]);O!=null&&g(n,["nullable"],O);const T=m(e,["pattern"]);T!=null&&g(n,["pattern"],T);const I=m(e,["properties"]);I!=null&&g(n,["properties"],I);const E=m(e,["propertyOrdering"]);E!=null&&g(n,["propertyOrdering"],E);const P=m(e,["required"]);P!=null&&g(n,["required"],P);const N=m(e,["title"]);N!=null&&g(n,["title"],N);const D=m(e,["type"]);return D!=null&&g(n,["type"],D),n}function kte(t,e){const n={};if(m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(e,["category"]);r!=null&&g(n,["category"],r);const i=m(e,["threshold"]);return i!=null&&g(n,["threshold"],i),n}function Ete(t,e){const n={},r=m(e,["behavior"]);r!=null&&g(n,["behavior"],r);const i=m(e,["description"]);i!=null&&g(n,["description"],i);const a=m(e,["name"]);a!=null&&g(n,["name"],a);const o=m(e,["parameters"]);o!=null&&g(n,["parameters"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],l),n}function Ate(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function Pte(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],Ate(t,r)),n}function Ote(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function Ite(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],Ote(t,r)),n}function Nte(){return{}}function Mte(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Ete(t,d))),g(n,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(e,["googleSearch"]);i!=null&&g(n,["googleSearch"],Pte(t,i));const a=m(e,["googleSearchRetrieval"]);if(a!=null&&g(n,["googleSearchRetrieval"],Ite(t,a)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(n,["urlContext"],Nte());const l=m(e,["codeExecution"]);return l!=null&&g(n,["codeExecution"],l),n}function Dte(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function Rte(t,e){const n={},r=m(e,["latitude"]);r!=null&&g(n,["latitude"],r);const i=m(e,["longitude"]);return i!=null&&g(n,["longitude"],i),n}function jte(t,e){const n={},r=m(e,["latLng"]);r!=null&&g(n,["latLng"],Rte(t,r));const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function $te(t,e){const n={},r=m(e,["functionCallingConfig"]);r!=null&&g(n,["functionCallingConfig"],Dte(t,r));const i=m(e,["retrievalConfig"]);return i!=null&&g(n,["retrievalConfig"],jte(t,i)),n}function Lte(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function fj(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],Lte(t,r)),n}function Bte(t,e){const n={},r=m(e,["speaker"]);r!=null&&g(n,["speaker"],r);const i=m(e,["voiceConfig"]);return i!=null&&g(n,["voiceConfig"],fj(t,i)),n}function Fte(t,e){const n={},r=m(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Bte(t,a))),g(n,["speakerVoiceConfigs"],i)}return n}function qte(t,e){const n={},r=m(e,["voiceConfig"]);r!=null&&g(n,["voiceConfig"],fj(t,r));const i=m(e,["multiSpeakerVoiceConfig"]);i!=null&&g(n,["multiSpeakerVoiceConfig"],Fte(t,i));const a=m(e,["languageCode"]);return a!=null&&g(n,["languageCode"],a),n}function Ute(t,e){const n={},r=m(e,["includeThoughts"]);r!=null&&g(n,["includeThoughts"],r);const i=m(e,["thinkingBudget"]);return i!=null&&g(n,["thinkingBudget"],i),n}function Vte(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],fp(t,Rn(t,i)));const a=m(e,["temperature"]);a!=null&&g(r,["temperature"],a);const o=m(e,["topP"]);o!=null&&g(r,["topP"],o);const l=m(e,["topK"]);l!=null&&g(r,["topK"],l);const c=m(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const d=m(e,["maxOutputTokens"]);d!=null&&g(r,["maxOutputTokens"],d);const f=m(e,["stopSequences"]);f!=null&&g(r,["stopSequences"],f);const h=m(e,["responseLogprobs"]);h!=null&&g(r,["responseLogprobs"],h);const v=m(e,["logprobs"]);v!=null&&g(r,["logprobs"],v);const _=m(e,["presencePenalty"]);_!=null&&g(r,["presencePenalty"],_);const b=m(e,["frequencyPenalty"]);b!=null&&g(r,["frequencyPenalty"],b);const S=m(e,["seed"]);S!=null&&g(r,["seed"],S);const w=m(e,["responseMimeType"]);w!=null&&g(r,["responseMimeType"],w);const A=m(e,["responseSchema"]);if(A!=null&&g(r,["responseSchema"],Tte(t,_h(t,A))),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=m(e,["safetySettings"]);if(n!==void 0&&O!=null){let q=O;Array.isArray(q)&&(q=q.map(L=>kte(t,L))),g(n,["safetySettings"],q)}const T=m(e,["tools"]);if(n!==void 0&&T!=null){let q=_c(t,T);Array.isArray(q)&&(q=q.map(L=>Mte(t,xc(t,L)))),g(n,["tools"],q)}const I=m(e,["toolConfig"]);if(n!==void 0&&I!=null&&g(n,["toolConfig"],$te(t,I)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=m(e,["cachedContent"]);n!==void 0&&E!=null&&g(n,["cachedContent"],Sa(t,E));const P=m(e,["responseModalities"]);P!=null&&g(r,["responseModalities"],P);const N=m(e,["mediaResolution"]);N!=null&&g(r,["mediaResolution"],N);const D=m(e,["speechConfig"]);if(D!=null&&g(r,["speechConfig"],qte(t,tj(t,D))),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=m(e,["thinkingConfig"]);return B!=null&&g(r,["thinkingConfig"],Ute(t,B)),r}function UN(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);if(i!=null){let o=Lr(t,i);Array.isArray(o)&&(o=o.map(l=>fp(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["generationConfig"],Vte(t,a,n)),n}function zte(t,e,n){const r={},i=m(e,["taskType"]);n!==void 0&&i!=null&&g(n,["requests[]","taskType"],i);const a=m(e,["title"]);n!==void 0&&a!=null&&g(n,["requests[]","title"],a);const o=m(e,["outputDimensionality"]);if(n!==void 0&&o!=null&&g(n,["requests[]","outputDimensionality"],o),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Gte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);i!=null&&g(n,["requests[]","content"],ej(t,i));const a=m(e,["config"]);a!=null&&g(n,["config"],zte(t,a,n));const o=m(e,["model"]);return o!==void 0&&g(n,["requests[]","model"],It(t,o)),n}function Hte(t,e,n){const r={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=m(e,["numberOfImages"]);n!==void 0&&i!=null&&g(n,["parameters","sampleCount"],i);const a=m(e,["aspectRatio"]);n!==void 0&&a!=null&&g(n,["parameters","aspectRatio"],a);const o=m(e,["guidanceScale"]);if(n!==void 0&&o!=null&&g(n,["parameters","guidanceScale"],o),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(e,["safetyFilterLevel"]);n!==void 0&&l!=null&&g(n,["parameters","safetySetting"],l);const c=m(e,["personGeneration"]);n!==void 0&&c!=null&&g(n,["parameters","personGeneration"],c);const d=m(e,["includeSafetyAttributes"]);n!==void 0&&d!=null&&g(n,["parameters","includeSafetyAttributes"],d);const f=m(e,["includeRaiReason"]);n!==void 0&&f!=null&&g(n,["parameters","includeRaiReason"],f);const h=m(e,["language"]);n!==void 0&&h!=null&&g(n,["parameters","language"],h);const v=m(e,["outputMimeType"]);n!==void 0&&v!=null&&g(n,["parameters","outputOptions","mimeType"],v);const _=m(e,["outputCompressionQuality"]);if(n!==void 0&&_!=null&&g(n,["parameters","outputOptions","compressionQuality"],_),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Wte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["config"]);return a!=null&&g(n,["config"],Hte(t,a,n)),n}function Kte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function Yte(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=m(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=m(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],ij(t,l)),r}function Jte(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],Yte(t,r,n)),n}function Xte(t,e,n){const r={},i=m(e,["displayName"]);n!==void 0&&i!=null&&g(n,["displayName"],i);const a=m(e,["description"]);n!==void 0&&a!=null&&g(n,["description"],a);const o=m(e,["defaultCheckpointId"]);return n!==void 0&&o!=null&&g(n,["defaultCheckpointId"],o),r}function Zte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],Xte(t,i,n)),n}function Qte(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function ene(t,e){const n={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function tne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);if(i!=null){let o=Lr(t,i);Array.isArray(o)&&(o=o.map(l=>fp(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["config"],ene(t,a)),n}function nne(t,e){const n={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(e,["imageBytes"]);r!=null&&g(n,["bytesBase64Encoded"],Mi(t,r));const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function rne(t,e,n){const r={},i=m(e,["numberOfVideos"]);if(n!==void 0&&i!=null&&g(n,["parameters","sampleCount"],i),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=m(e,["durationSeconds"]);if(n!==void 0&&a!=null&&g(n,["parameters","durationSeconds"],a),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(e,["aspectRatio"]);if(n!==void 0&&o!=null&&g(n,["parameters","aspectRatio"],o),m(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const l=m(e,["personGeneration"]);if(n!==void 0&&l!=null&&g(n,["parameters","personGeneration"],l),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=m(e,["negativePrompt"]);n!==void 0&&c!=null&&g(n,["parameters","negativePrompt"],c);const d=m(e,["enhancePrompt"]);if(n!==void 0&&d!=null&&g(n,["parameters","enhancePrompt"],d),m(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(m(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return r}function ine(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["image"]);if(a!=null&&g(n,["instances[0]","image"],nne(t,a)),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=m(e,["config"]);return o!=null&&g(n,["config"],rne(t,o,n)),n}function ane(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function one(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function sne(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function lne(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],ane(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],one(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],sne(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function hl(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>lne(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function une(t,e){const n={},r=m(e,["anyOf"]);r!=null&&g(n,["anyOf"],r);const i=m(e,["default"]);i!=null&&g(n,["default"],i);const a=m(e,["description"]);a!=null&&g(n,["description"],a);const o=m(e,["enum"]);o!=null&&g(n,["enum"],o);const l=m(e,["example"]);l!=null&&g(n,["example"],l);const c=m(e,["format"]);c!=null&&g(n,["format"],c);const d=m(e,["items"]);d!=null&&g(n,["items"],d);const f=m(e,["maxItems"]);f!=null&&g(n,["maxItems"],f);const h=m(e,["maxLength"]);h!=null&&g(n,["maxLength"],h);const v=m(e,["maxProperties"]);v!=null&&g(n,["maxProperties"],v);const _=m(e,["maximum"]);_!=null&&g(n,["maximum"],_);const b=m(e,["minItems"]);b!=null&&g(n,["minItems"],b);const S=m(e,["minLength"]);S!=null&&g(n,["minLength"],S);const w=m(e,["minProperties"]);w!=null&&g(n,["minProperties"],w);const A=m(e,["minimum"]);A!=null&&g(n,["minimum"],A);const O=m(e,["nullable"]);O!=null&&g(n,["nullable"],O);const T=m(e,["pattern"]);T!=null&&g(n,["pattern"],T);const I=m(e,["properties"]);I!=null&&g(n,["properties"],I);const E=m(e,["propertyOrdering"]);E!=null&&g(n,["propertyOrdering"],E);const P=m(e,["required"]);P!=null&&g(n,["required"],P);const N=m(e,["title"]);N!=null&&g(n,["title"],N);const D=m(e,["type"]);return D!=null&&g(n,["type"],D),n}function cne(t,e){const n={},r=m(e,["featureSelectionPreference"]);return r!=null&&g(n,["featureSelectionPreference"],r),n}function dne(t,e){const n={},r=m(e,["method"]);r!=null&&g(n,["method"],r);const i=m(e,["category"]);i!=null&&g(n,["category"],i);const a=m(e,["threshold"]);return a!=null&&g(n,["threshold"],a),n}function fne(t,e){const n={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=m(e,["description"]);r!=null&&g(n,["description"],r);const i=m(e,["name"]);i!=null&&g(n,["name"],i);const a=m(e,["parameters"]);a!=null&&g(n,["parameters"],a);const o=m(e,["response"]);return o!=null&&g(n,["response"],o),n}function hne(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function pne(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],hne(t,r)),n}function mne(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function gne(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],mne(t,r)),n}function vne(){return{}}function yne(t,e){const n={},r=m(e,["apiKeyString"]);return r!=null&&g(n,["apiKeyString"],r),n}function xne(t,e){const n={},r=m(e,["apiKeyConfig"]);r!=null&&g(n,["apiKeyConfig"],yne(t,r));const i=m(e,["authType"]);i!=null&&g(n,["authType"],i);const a=m(e,["googleServiceAccountConfig"]);a!=null&&g(n,["googleServiceAccountConfig"],a);const o=m(e,["httpBasicAuthConfig"]);o!=null&&g(n,["httpBasicAuthConfig"],o);const l=m(e,["oauthConfig"]);l!=null&&g(n,["oauthConfig"],l);const c=m(e,["oidcConfig"]);return c!=null&&g(n,["oidcConfig"],c),n}function _ne(t,e){const n={},r=m(e,["authConfig"]);return r!=null&&g(n,["authConfig"],xne(t,r)),n}function bne(){return{}}function hj(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>fne(t,v))),g(n,["functionDeclarations"],h)}const i=m(e,["retrieval"]);i!=null&&g(n,["retrieval"],i);const a=m(e,["googleSearch"]);a!=null&&g(n,["googleSearch"],pne(t,a));const o=m(e,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],gne(t,o)),m(e,["enterpriseWebSearch"])!=null&&g(n,["enterpriseWebSearch"],vne());const c=m(e,["googleMaps"]);c!=null&&g(n,["googleMaps"],_ne(t,c)),m(e,["urlContext"])!=null&&g(n,["urlContext"],bne());const f=m(e,["codeExecution"]);return f!=null&&g(n,["codeExecution"],f),n}function wne(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["allowedFunctionNames"]);return i!=null&&g(n,["allowedFunctionNames"],i),n}function Sne(t,e){const n={},r=m(e,["latitude"]);r!=null&&g(n,["latitude"],r);const i=m(e,["longitude"]);return i!=null&&g(n,["longitude"],i),n}function Cne(t,e){const n={},r=m(e,["latLng"]);r!=null&&g(n,["latLng"],Sne(t,r));const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function Tne(t,e){const n={},r=m(e,["functionCallingConfig"]);r!=null&&g(n,["functionCallingConfig"],wne(t,r));const i=m(e,["retrievalConfig"]);return i!=null&&g(n,["retrievalConfig"],Cne(t,i)),n}function kne(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function Ene(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],kne(t,r)),n}function Ane(t,e){const n={},r=m(e,["voiceConfig"]);if(r!=null&&g(n,["voiceConfig"],Ene(t,r)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=m(e,["languageCode"]);return i!=null&&g(n,["languageCode"],i),n}function Pne(t,e){const n={},r=m(e,["includeThoughts"]);r!=null&&g(n,["includeThoughts"],r);const i=m(e,["thinkingBudget"]);return i!=null&&g(n,["thinkingBudget"],i),n}function One(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],hl(t,Rn(t,i)));const a=m(e,["temperature"]);a!=null&&g(r,["temperature"],a);const o=m(e,["topP"]);o!=null&&g(r,["topP"],o);const l=m(e,["topK"]);l!=null&&g(r,["topK"],l);const c=m(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const d=m(e,["maxOutputTokens"]);d!=null&&g(r,["maxOutputTokens"],d);const f=m(e,["stopSequences"]);f!=null&&g(r,["stopSequences"],f);const h=m(e,["responseLogprobs"]);h!=null&&g(r,["responseLogprobs"],h);const v=m(e,["logprobs"]);v!=null&&g(r,["logprobs"],v);const _=m(e,["presencePenalty"]);_!=null&&g(r,["presencePenalty"],_);const b=m(e,["frequencyPenalty"]);b!=null&&g(r,["frequencyPenalty"],b);const S=m(e,["seed"]);S!=null&&g(r,["seed"],S);const w=m(e,["responseMimeType"]);w!=null&&g(r,["responseMimeType"],w);const A=m(e,["responseSchema"]);A!=null&&g(r,["responseSchema"],une(t,_h(t,A)));const O=m(e,["routingConfig"]);O!=null&&g(r,["routingConfig"],O);const T=m(e,["modelSelectionConfig"]);T!=null&&g(r,["modelConfig"],cne(t,T));const I=m(e,["safetySettings"]);if(n!==void 0&&I!=null){let H=I;Array.isArray(H)&&(H=H.map(F=>dne(t,F))),g(n,["safetySettings"],H)}const E=m(e,["tools"]);if(n!==void 0&&E!=null){let H=_c(t,E);Array.isArray(H)&&(H=H.map(F=>hj(t,xc(t,F)))),g(n,["tools"],H)}const P=m(e,["toolConfig"]);n!==void 0&&P!=null&&g(n,["toolConfig"],Tne(t,P));const N=m(e,["labels"]);n!==void 0&&N!=null&&g(n,["labels"],N);const D=m(e,["cachedContent"]);n!==void 0&&D!=null&&g(n,["cachedContent"],Sa(t,D));const B=m(e,["responseModalities"]);B!=null&&g(r,["responseModalities"],B);const q=m(e,["mediaResolution"]);q!=null&&g(r,["mediaResolution"],q);const L=m(e,["speechConfig"]);L!=null&&g(r,["speechConfig"],Ane(t,tj(t,L)));const W=m(e,["audioTimestamp"]);W!=null&&g(r,["audioTimestamp"],W);const J=m(e,["thinkingConfig"]);return J!=null&&g(r,["thinkingConfig"],Pne(t,J)),r}function VN(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);if(i!=null){let o=Lr(t,i);Array.isArray(o)&&(o=o.map(l=>hl(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["generationConfig"],One(t,a,n)),n}function Ine(t,e,n){const r={},i=m(e,["taskType"]);n!==void 0&&i!=null&&g(n,["instances[]","task_type"],i);const a=m(e,["title"]);n!==void 0&&a!=null&&g(n,["instances[]","title"],a);const o=m(e,["outputDimensionality"]);n!==void 0&&o!=null&&g(n,["parameters","outputDimensionality"],o);const l=m(e,["mimeType"]);n!==void 0&&l!=null&&g(n,["instances[]","mimeType"],l);const c=m(e,["autoTruncate"]);return n!==void 0&&c!=null&&g(n,["parameters","autoTruncate"],c),r}function Nne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);i!=null&&g(n,["instances[]","content"],ej(t,i));const a=m(e,["config"]);return a!=null&&g(n,["config"],Ine(t,a,n)),n}function Mne(t,e,n){const r={},i=m(e,["outputGcsUri"]);n!==void 0&&i!=null&&g(n,["parameters","storageUri"],i);const a=m(e,["negativePrompt"]);n!==void 0&&a!=null&&g(n,["parameters","negativePrompt"],a);const o=m(e,["numberOfImages"]);n!==void 0&&o!=null&&g(n,["parameters","sampleCount"],o);const l=m(e,["aspectRatio"]);n!==void 0&&l!=null&&g(n,["parameters","aspectRatio"],l);const c=m(e,["guidanceScale"]);n!==void 0&&c!=null&&g(n,["parameters","guidanceScale"],c);const d=m(e,["seed"]);n!==void 0&&d!=null&&g(n,["parameters","seed"],d);const f=m(e,["safetyFilterLevel"]);n!==void 0&&f!=null&&g(n,["parameters","safetySetting"],f);const h=m(e,["personGeneration"]);n!==void 0&&h!=null&&g(n,["parameters","personGeneration"],h);const v=m(e,["includeSafetyAttributes"]);n!==void 0&&v!=null&&g(n,["parameters","includeSafetyAttributes"],v);const _=m(e,["includeRaiReason"]);n!==void 0&&_!=null&&g(n,["parameters","includeRaiReason"],_);const b=m(e,["language"]);n!==void 0&&b!=null&&g(n,["parameters","language"],b);const S=m(e,["outputMimeType"]);n!==void 0&&S!=null&&g(n,["parameters","outputOptions","mimeType"],S);const w=m(e,["outputCompressionQuality"]);n!==void 0&&w!=null&&g(n,["parameters","outputOptions","compressionQuality"],w);const A=m(e,["addWatermark"]);n!==void 0&&A!=null&&g(n,["parameters","addWatermark"],A);const O=m(e,["enhancePrompt"]);return n!==void 0&&O!=null&&g(n,["parameters","enhancePrompt"],O),r}function Dne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["config"]);return a!=null&&g(n,["config"],Mne(t,a,n)),n}function hp(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const i=m(e,["imageBytes"]);i!=null&&g(n,["bytesBase64Encoded"],Mi(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Rne(t,e){const n={},r=m(e,["maskMode"]);r!=null&&g(n,["maskMode"],r);const i=m(e,["segmentationClasses"]);i!=null&&g(n,["maskClasses"],i);const a=m(e,["maskDilation"]);return a!=null&&g(n,["dilation"],a),n}function jne(t,e){const n={},r=m(e,["controlType"]);r!=null&&g(n,["controlType"],r);const i=m(e,["enableControlImageComputation"]);return i!=null&&g(n,["computeControl"],i),n}function $ne(t,e){const n={},r=m(e,["styleDescription"]);return r!=null&&g(n,["styleDescription"],r),n}function Lne(t,e){const n={},r=m(e,["subjectType"]);r!=null&&g(n,["subjectType"],r);const i=m(e,["subjectDescription"]);return i!=null&&g(n,["subjectDescription"],i),n}function Bne(t,e){const n={},r=m(e,["referenceImage"]);r!=null&&g(n,["referenceImage"],hp(t,r));const i=m(e,["referenceId"]);i!=null&&g(n,["referenceId"],i);const a=m(e,["referenceType"]);a!=null&&g(n,["referenceType"],a);const o=m(e,["maskImageConfig"]);o!=null&&g(n,["maskImageConfig"],Rne(t,o));const l=m(e,["controlImageConfig"]);l!=null&&g(n,["controlImageConfig"],jne(t,l));const c=m(e,["styleImageConfig"]);c!=null&&g(n,["styleImageConfig"],$ne(t,c));const d=m(e,["subjectImageConfig"]);return d!=null&&g(n,["subjectImageConfig"],Lne(t,d)),n}function Fne(t,e,n){const r={},i=m(e,["outputGcsUri"]);n!==void 0&&i!=null&&g(n,["parameters","storageUri"],i);const a=m(e,["negativePrompt"]);n!==void 0&&a!=null&&g(n,["parameters","negativePrompt"],a);const o=m(e,["numberOfImages"]);n!==void 0&&o!=null&&g(n,["parameters","sampleCount"],o);const l=m(e,["aspectRatio"]);n!==void 0&&l!=null&&g(n,["parameters","aspectRatio"],l);const c=m(e,["guidanceScale"]);n!==void 0&&c!=null&&g(n,["parameters","guidanceScale"],c);const d=m(e,["seed"]);n!==void 0&&d!=null&&g(n,["parameters","seed"],d);const f=m(e,["safetyFilterLevel"]);n!==void 0&&f!=null&&g(n,["parameters","safetySetting"],f);const h=m(e,["personGeneration"]);n!==void 0&&h!=null&&g(n,["parameters","personGeneration"],h);const v=m(e,["includeSafetyAttributes"]);n!==void 0&&v!=null&&g(n,["parameters","includeSafetyAttributes"],v);const _=m(e,["includeRaiReason"]);n!==void 0&&_!=null&&g(n,["parameters","includeRaiReason"],_);const b=m(e,["language"]);n!==void 0&&b!=null&&g(n,["parameters","language"],b);const S=m(e,["outputMimeType"]);n!==void 0&&S!=null&&g(n,["parameters","outputOptions","mimeType"],S);const w=m(e,["outputCompressionQuality"]);n!==void 0&&w!=null&&g(n,["parameters","outputOptions","compressionQuality"],w);const A=m(e,["editMode"]);n!==void 0&&A!=null&&g(n,["parameters","editMode"],A);const O=m(e,["baseSteps"]);return n!==void 0&&O!=null&&g(n,["parameters","editConfig","baseSteps"],O),r}function qne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Bne(t,c))),g(n,["instances[0]","referenceImages"],l)}const o=m(e,["config"]);return o!=null&&g(n,["config"],Fne(t,o,n)),n}function Une(t,e,n){const r={},i=m(e,["includeRaiReason"]);n!==void 0&&i!=null&&g(n,["parameters","includeRaiReason"],i);const a=m(e,["outputMimeType"]);n!==void 0&&a!=null&&g(n,["parameters","outputOptions","mimeType"],a);const o=m(e,["outputCompressionQuality"]);n!==void 0&&o!=null&&g(n,["parameters","outputOptions","compressionQuality"],o);const l=m(e,["numberOfImages"]);n!==void 0&&l!=null&&g(n,["parameters","sampleCount"],l);const c=m(e,["mode"]);return n!==void 0&&c!=null&&g(n,["parameters","mode"],c),r}function Vne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["image"]);i!=null&&g(n,["instances[0]","image"],hp(t,i));const a=m(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=m(e,["config"]);return o!=null&&g(n,["config"],Une(t,o,n)),n}function zne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function Gne(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=m(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=m(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],ij(t,l)),r}function Hne(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],Gne(t,r,n)),n}function Wne(t,e,n){const r={},i=m(e,["displayName"]);n!==void 0&&i!=null&&g(n,["displayName"],i);const a=m(e,["description"]);n!==void 0&&a!=null&&g(n,["description"],a);const o=m(e,["defaultCheckpointId"]);return n!==void 0&&o!=null&&g(n,["defaultCheckpointId"],o),r}function Kne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],Wne(t,i,n)),n}function Yne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function Jne(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],hl(t,Rn(t,i)));const a=m(e,["tools"]);if(n!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>hj(t,c))),g(n,["tools"],l)}const o=m(e,["generationConfig"]);return n!==void 0&&o!=null&&g(n,["generationConfig"],o),r}function Xne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);if(i!=null){let o=Lr(t,i);Array.isArray(o)&&(o=o.map(l=>hl(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["config"],Jne(t,a,n)),n}function Zne(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["contents"]);if(i!=null){let o=Lr(t,i);Array.isArray(o)&&(o=o.map(l=>hl(t,l))),g(n,["contents"],o)}const a=m(e,["config"]);return a!=null&&g(n,["config"],a),n}function Qne(t,e){const n={},r=m(e,["uri"]);r!=null&&g(n,["gcsUri"],r);const i=m(e,["videoBytes"]);i!=null&&g(n,["bytesBase64Encoded"],Mi(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function ere(t,e,n){const r={},i=m(e,["numberOfVideos"]);n!==void 0&&i!=null&&g(n,["parameters","sampleCount"],i);const a=m(e,["outputGcsUri"]);n!==void 0&&a!=null&&g(n,["parameters","storageUri"],a);const o=m(e,["fps"]);n!==void 0&&o!=null&&g(n,["parameters","fps"],o);const l=m(e,["durationSeconds"]);n!==void 0&&l!=null&&g(n,["parameters","durationSeconds"],l);const c=m(e,["seed"]);n!==void 0&&c!=null&&g(n,["parameters","seed"],c);const d=m(e,["aspectRatio"]);n!==void 0&&d!=null&&g(n,["parameters","aspectRatio"],d);const f=m(e,["resolution"]);n!==void 0&&f!=null&&g(n,["parameters","resolution"],f);const h=m(e,["personGeneration"]);n!==void 0&&h!=null&&g(n,["parameters","personGeneration"],h);const v=m(e,["pubsubTopic"]);n!==void 0&&v!=null&&g(n,["parameters","pubsubTopic"],v);const _=m(e,["negativePrompt"]);n!==void 0&&_!=null&&g(n,["parameters","negativePrompt"],_);const b=m(e,["enhancePrompt"]);n!==void 0&&b!=null&&g(n,["parameters","enhancePrompt"],b);const S=m(e,["generateAudio"]);n!==void 0&&S!=null&&g(n,["parameters","generateAudio"],S);const w=m(e,["lastFrame"]);return n!==void 0&&w!=null&&g(n,["instances[0]","lastFrame"],hp(t,w)),r}function tre(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=m(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=m(e,["image"]);a!=null&&g(n,["instances[0]","image"],hp(t,a));const o=m(e,["video"]);o!=null&&g(n,["instances[0]","video"],Qne(t,o));const l=m(e,["config"]);return l!=null&&g(n,["config"],ere(t,l,n)),n}function nre(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function rre(t,e){const n={},r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function ire(t,e){const n={},r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function are(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],nre(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],rre(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],ire(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function ore(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>are(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function sre(t,e){const n={},r=m(e,["citationSources"]);return r!=null&&g(n,["citations"],r),n}function lre(t,e){const n={},r=m(e,["retrievedUrl"]);r!=null&&g(n,["retrievedUrl"],r);const i=m(e,["urlRetrievalStatus"]);return i!=null&&g(n,["urlRetrievalStatus"],i),n}function ure(t,e){const n={},r=m(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>lre(t,a))),g(n,["urlMetadata"],i)}return n}function cre(t,e){const n={},r=m(e,["content"]);r!=null&&g(n,["content"],ore(t,r));const i=m(e,["citationMetadata"]);i!=null&&g(n,["citationMetadata"],sre(t,i));const a=m(e,["tokenCount"]);a!=null&&g(n,["tokenCount"],a);const o=m(e,["finishReason"]);o!=null&&g(n,["finishReason"],o);const l=m(e,["urlContextMetadata"]);l!=null&&g(n,["urlContextMetadata"],ure(t,l));const c=m(e,["avgLogprobs"]);c!=null&&g(n,["avgLogprobs"],c);const d=m(e,["groundingMetadata"]);d!=null&&g(n,["groundingMetadata"],d);const f=m(e,["index"]);f!=null&&g(n,["index"],f);const h=m(e,["logprobsResult"]);h!=null&&g(n,["logprobsResult"],h);const v=m(e,["safetyRatings"]);return v!=null&&g(n,["safetyRatings"],v),n}function zN(t,e){const n={},r=m(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>cre(t,c))),g(n,["candidates"],l)}const i=m(e,["modelVersion"]);i!=null&&g(n,["modelVersion"],i);const a=m(e,["promptFeedback"]);a!=null&&g(n,["promptFeedback"],a);const o=m(e,["usageMetadata"]);return o!=null&&g(n,["usageMetadata"],o),n}function dre(t,e){const n={},r=m(e,["values"]);return r!=null&&g(n,["values"],r),n}function fre(){return{}}function hre(t,e){const n={},r=m(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>dre(t,o))),g(n,["embeddings"],a)}return m(e,["metadata"])!=null&&g(n,["metadata"],fre()),n}function pre(t,e){const n={},r=m(e,["bytesBase64Encoded"]);r!=null&&g(n,["imageBytes"],Mi(t,r));const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function pj(t,e){const n={},r=m(e,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const i=m(e,["safetyAttributes","scores"]);i!=null&&g(n,["scores"],i);const a=m(e,["contentType"]);return a!=null&&g(n,["contentType"],a),n}function mre(t,e){const n={},r=m(e,["_self"]);r!=null&&g(n,["image"],pre(t,r));const i=m(e,["raiFilteredReason"]);i!=null&&g(n,["raiFilteredReason"],i);const a=m(e,["_self"]);return a!=null&&g(n,["safetyAttributes"],pj(t,a)),n}function gre(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>mre(t,o))),g(n,["generatedImages"],a)}const i=m(e,["positivePromptSafetyAttributes"]);return i!=null&&g(n,["positivePromptSafetyAttributes"],pj(t,i)),n}function vre(t,e){const n={},r=m(e,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(e,["createTime"]);i!=null&&g(n,["createTime"],i);const a=m(e,["updateTime"]);return a!=null&&g(n,["updateTime"],a),n}function ab(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["description"]);a!=null&&g(n,["description"],a);const o=m(e,["version"]);o!=null&&g(n,["version"],o);const l=m(e,["_self"]);l!=null&&g(n,["tunedModelInfo"],vre(t,l));const c=m(e,["inputTokenLimit"]);c!=null&&g(n,["inputTokenLimit"],c);const d=m(e,["outputTokenLimit"]);d!=null&&g(n,["outputTokenLimit"],d);const f=m(e,["supportedGenerationMethods"]);return f!=null&&g(n,["supportedActions"],f),n}function yre(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["_self"]);if(i!=null){let a=aj(t,i);Array.isArray(a)&&(a=a.map(o=>ab(t,o))),g(n,["models"],a)}return n}function xre(){return{}}function _re(t,e){const n={},r=m(e,["totalTokens"]);r!=null&&g(n,["totalTokens"],r);const i=m(e,["cachedContentTokenCount"]);return i!=null&&g(n,["cachedContentTokenCount"],i),n}function bre(t,e){const n={},r=m(e,["video","uri"]);r!=null&&g(n,["uri"],r);const i=m(e,["video","encodedVideo"]);i!=null&&g(n,["videoBytes"],Mi(t,i));const a=m(e,["encoding"]);return a!=null&&g(n,["mimeType"],a),n}function wre(t,e){const n={},r=m(e,["_self"]);return r!=null&&g(n,["video"],bre(t,r)),n}function Sre(t,e){const n={},r=m(e,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>wre(t,l))),g(n,["generatedVideos"],o)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&g(n,["raiMediaFilteredReasons"],a),n}function Cre(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);o!=null&&g(n,["error"],o);const l=m(e,["response","generateVideoResponse"]);return l!=null&&g(n,["response"],Sre(t,l)),n}function Tre(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function kre(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["data"]);i!=null&&g(n,["data"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Ere(t,e){const n={},r=m(e,["displayName"]);r!=null&&g(n,["displayName"],r);const i=m(e,["fileUri"]);i!=null&&g(n,["fileUri"],i);const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Are(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],Tre(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],kre(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],Ere(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function Pre(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Are(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function Ore(t,e){const n={},r=m(e,["citations"]);return r!=null&&g(n,["citations"],r),n}function Ire(t,e){const n={},r=m(e,["retrievedUrl"]);r!=null&&g(n,["retrievedUrl"],r);const i=m(e,["urlRetrievalStatus"]);return i!=null&&g(n,["urlRetrievalStatus"],i),n}function Nre(t,e){const n={},r=m(e,["urlMetadata"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Ire(t,a))),g(n,["urlMetadata"],i)}return n}function Mre(t,e){const n={},r=m(e,["content"]);r!=null&&g(n,["content"],Pre(t,r));const i=m(e,["citationMetadata"]);i!=null&&g(n,["citationMetadata"],Ore(t,i));const a=m(e,["finishMessage"]);a!=null&&g(n,["finishMessage"],a);const o=m(e,["finishReason"]);o!=null&&g(n,["finishReason"],o);const l=m(e,["urlContextMetadata"]);l!=null&&g(n,["urlContextMetadata"],Nre(t,l));const c=m(e,["avgLogprobs"]);c!=null&&g(n,["avgLogprobs"],c);const d=m(e,["groundingMetadata"]);d!=null&&g(n,["groundingMetadata"],d);const f=m(e,["index"]);f!=null&&g(n,["index"],f);const h=m(e,["logprobsResult"]);h!=null&&g(n,["logprobsResult"],h);const v=m(e,["safetyRatings"]);return v!=null&&g(n,["safetyRatings"],v),n}function GN(t,e){const n={},r=m(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>Mre(t,f))),g(n,["candidates"],d)}const i=m(e,["createTime"]);i!=null&&g(n,["createTime"],i);const a=m(e,["responseId"]);a!=null&&g(n,["responseId"],a);const o=m(e,["modelVersion"]);o!=null&&g(n,["modelVersion"],o);const l=m(e,["promptFeedback"]);l!=null&&g(n,["promptFeedback"],l);const c=m(e,["usageMetadata"]);return c!=null&&g(n,["usageMetadata"],c),n}function Dre(t,e){const n={},r=m(e,["truncated"]);r!=null&&g(n,["truncated"],r);const i=m(e,["token_count"]);return i!=null&&g(n,["tokenCount"],i),n}function Rre(t,e){const n={},r=m(e,["values"]);r!=null&&g(n,["values"],r);const i=m(e,["statistics"]);return i!=null&&g(n,["statistics"],Dre(t,i)),n}function jre(t,e){const n={},r=m(e,["billableCharacterCount"]);return r!=null&&g(n,["billableCharacterCount"],r),n}function $re(t,e){const n={},r=m(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Rre(t,o))),g(n,["embeddings"],a)}const i=m(e,["metadata"]);return i!=null&&g(n,["metadata"],jre(t,i)),n}function Lre(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const i=m(e,["bytesBase64Encoded"]);i!=null&&g(n,["imageBytes"],Mi(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function mj(t,e){const n={},r=m(e,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const i=m(e,["safetyAttributes","scores"]);i!=null&&g(n,["scores"],i);const a=m(e,["contentType"]);return a!=null&&g(n,["contentType"],a),n}function kw(t,e){const n={},r=m(e,["_self"]);r!=null&&g(n,["image"],Lre(t,r));const i=m(e,["raiFilteredReason"]);i!=null&&g(n,["raiFilteredReason"],i);const a=m(e,["_self"]);a!=null&&g(n,["safetyAttributes"],mj(t,a));const o=m(e,["prompt"]);return o!=null&&g(n,["enhancedPrompt"],o),n}function Bre(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>kw(t,o))),g(n,["generatedImages"],a)}const i=m(e,["positivePromptSafetyAttributes"]);return i!=null&&g(n,["positivePromptSafetyAttributes"],mj(t,i)),n}function Fre(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>kw(t,a))),g(n,["generatedImages"],i)}return n}function qre(t,e){const n={},r=m(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>kw(t,a))),g(n,["generatedImages"],i)}return n}function Ure(t,e){const n={},r=m(e,["endpoint"]);r!=null&&g(n,["name"],r);const i=m(e,["deployedModelId"]);return i!=null&&g(n,["deployedModelId"],i),n}function Vre(t,e){const n={},r=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&g(n,["baseModel"],r);const i=m(e,["createTime"]);i!=null&&g(n,["createTime"],i);const a=m(e,["updateTime"]);return a!=null&&g(n,["updateTime"],a),n}function zre(t,e){const n={},r=m(e,["checkpointId"]);r!=null&&g(n,["checkpointId"],r);const i=m(e,["epoch"]);i!=null&&g(n,["epoch"],i);const a=m(e,["step"]);return a!=null&&g(n,["step"],a),n}function ob(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["displayName"]);i!=null&&g(n,["displayName"],i);const a=m(e,["description"]);a!=null&&g(n,["description"],a);const o=m(e,["versionId"]);o!=null&&g(n,["version"],o);const l=m(e,["deployedModels"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>Ure(t,_))),g(n,["endpoints"],v)}const c=m(e,["labels"]);c!=null&&g(n,["labels"],c);const d=m(e,["_self"]);d!=null&&g(n,["tunedModelInfo"],Vre(t,d));const f=m(e,["defaultCheckpointId"]);f!=null&&g(n,["defaultCheckpointId"],f);const h=m(e,["checkpoints"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>zre(t,_))),g(n,["checkpoints"],v)}return n}function Gre(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["_self"]);if(i!=null){let a=aj(t,i);Array.isArray(a)&&(a=a.map(o=>ob(t,o))),g(n,["models"],a)}return n}function Hre(){return{}}function Wre(t,e){const n={},r=m(e,["totalTokens"]);return r!=null&&g(n,["totalTokens"],r),n}function Kre(t,e){const n={},r=m(e,["tokensInfo"]);return r!=null&&g(n,["tokensInfo"],r),n}function Yre(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&g(n,["uri"],r);const i=m(e,["bytesBase64Encoded"]);i!=null&&g(n,["videoBytes"],Mi(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Jre(t,e){const n={},r=m(e,["_self"]);return r!=null&&g(n,["video"],Yre(t,r)),n}function Xre(t,e){const n={},r=m(e,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Jre(t,l))),g(n,["generatedVideos"],o)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&g(n,["raiMediaFilteredReasons"],a),n}function Zre(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);o!=null&&g(n,["error"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],Xre(t,l)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qre="Content-Type",eie="X-Server-Timeout",tie="User-Agent",sb="x-goog-api-client",nie="1.5.1",rie=`google-genai-sdk/${nie}`,iie="v1beta1",aie="v1beta",HN=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class gj extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class lb extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class oie{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:iie,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:aie,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,a=i.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>i.abort(),n.timeout),r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=a}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await WN(i),new tb(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await WN(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Ts(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:c}=yield Dt(i.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(c);try{const h=JSON.parse(d);if("error"in h){const v=JSON.parse(JSON.stringify(h.error)),_=v.status,b=v.code,S=`got status: ${_}. ${JSON.stringify(h)}`;if(b>=400&&b<500)throw new gj(S);if(b>=500&&b<600)throw new lb(S)}}catch(h){const v=h;if(v.name==="ClientError"||v.name==="ServerError")throw h}o+=d;let f=o.match(HN);for(;f;){const h=f[1];try{const v=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Dt(new tb(v)),o=o.slice(f[0].length),f=o.match(HN)}catch(v){throw new Error(`exception parsing stream chunk ${h}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=rie+" "+this.clientOptions.userAgentExtra;return e[tie]=n,e[sb]=n,e[Qre]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(eie,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c=await this.fetchUploadUrl(i,n);return a.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},o=await this.request({path:We("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function WN(t){var e;if(t===void 0)throw new lb("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=`got status: ${n} ${r}. ${JSON.stringify(i)}`;throw n>=400&&n<500?new gj(a):n>=500&&n<600?new lb(a):new Error(a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sie="mcp_used/unknown";function vj(t){for(const e of t)if(Ew(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function yj(t){var e;const n=(e=t[sb])!==null&&e!==void 0?e:"";t[sb]=(n+` ${sie}`).trimStart()}function lie(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ew(i)))!==null&&r!==void 0?r:!1}function uie(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Ew(i)))!==null&&r!==void 0?r:!1}function Ew(t){return t!==null&&typeof t=="object"&&t instanceof Aw}function cie(t,e=100){return Ts(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield Dt(t.listTools({cursor:r}));for(const o of a.tools)yield yield Dt(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class Aw{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Aw(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const f of this.mcpClients)try{for(var l=!0,c=(n=void 0,Cu(cie(f))),d;d=await c.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const h=i;o.push(h);const v=h.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=f}}catch(h){n={error:h}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),dZ(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function die(t,e,n){const r=new ZX;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const a=_te(t,i);Object.assign(r,a),e(r)}class fie{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=mie(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const f=new Promise(T=>{d=T}),h=e.callbacks,v=function(){d({})},_=this.apiClient,b={onopen:v,onmessage:T=>{die(_,h.onmessage,T)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(T){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(T){}},S=this.webSocketFactory.create(c,pie(o),b);S.connect(),await f;const w=It(this.apiClient,e.model),A=cj(this.apiClient,{model:w}),O=ib(this.apiClient,{setup:A});return S.send(JSON.stringify(O)),new hie(S,this.apiClient)}}class hie{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Dee(this.apiClient,e),r=dj(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Ree(this.apiClient,e),r=ib(this.apiClient,n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=ib(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(xs.PLAY)}pause(){this.sendPlaybackControl(xs.PAUSE)}stop(){this.sendPlaybackControl(xs.STOP)}resetContext(){this.sendPlaybackControl(xs.RESET_CONTEXT)}close(){this.conn.close()}}function pie(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function mie(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gie="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function vie(t,e,n){const r=new XX;let i;if(n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),t.isVertexAI()){const a=dte(t,i);Object.assign(r,a)}else{const a=cte(t,i);Object.assign(r,a)}e(r)}class yie{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new fie(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,l;const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const h=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&vj(e.config.tools)&&yj(h);const v=wie(h);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v);else{const B=this.apiClient.getApiKey();let q="BidiGenerateContent",L="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),q="BidiGenerateContentConstrained",L="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${q}?${L}=${B}`}let _=()=>{};const b=new Promise(B=>{_=B}),S=e.callbacks,w=function(){var B;(B=S==null?void 0:S.onopen)===null||B===void 0||B.call(S),_({})},A=this.apiClient,O={onopen:w,onmessage:B=>{vie(A,S.onmessage,B)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(B){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(B){}},T=this.webSocketFactory.create(f,bie(v),O);T.connect(),await b;let I=It(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const B=this.apiClient.getProject(),q=this.apiClient.getLocation();I=`projects/${B}/locations/${q}/`+I}let E={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[yh.AUDIO]}:e.config.responseModalities=[yh.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],N=[];for(const B of P)if(this.isCallableTool(B)){const q=B;N.push(await q.tool())}else N.push(B);N.length>0&&(e.config.tools=N);const D={model:I,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?E=Eee(this.apiClient,D):E=kee(this.apiClient,D),delete E.config,T.send(JSON.stringify(E)),new _ie(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const xie={turnComplete:!0};class _ie{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Lr(e,n.turns),e.isVertexAI()?r=r.map(i=>hl(e,i)):r=r.map(i=>fp(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(gie)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},xie),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Mee(this.apiClient,e)}:n={realtimeInput:Nee(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function bie(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function wie(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KN=10;function YN(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(hf(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function hf(t){return"callTool"in t&&typeof t.callTool=="function"}function JN(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sie extends fl{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,l;const c=await this.processParamsForMcpUsage(n);if(!lie(n)||YN(n.config))return await this.generateContentInternal(c);if(uie(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,f;const h=Lr(this.apiClient,c.contents),v=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:KN;let _=0;for(;_<v&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,S=[];for(const w of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(hf(w)){const O=await w.callTool(d.functionCalls);S.push(...O)}_++,f={role:"user",parts:S},c.contents=Lr(this.apiClient,c.contents),c.contents.push(b),c.contents.push(f),JN(c.config)&&(h.push(b),h.push(f))}return JN(c.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{if(YN(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:o.push(c);let l;return a?l={generatedImages:o,positivePromptSafetyAttributes:a}:l={generatedImages:o},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new dp(nl.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async c=>hf(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&vj(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),yj(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(hf(o)){const l=o,c=await l.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,l)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:KN;let o=!1,l=0;const c=await this.initAfcToolsMap(e);return function(d,f,h){var v,_;return Ts(this,arguments,function*(){for(var b,S,w,A;l<a;){o&&(l++,o=!1);const E=yield Dt(d.processParamsForMcpUsage(h)),P=yield Dt(d.generateContentStreamInternal(E)),N=[],D=[];try{for(var O=!0,T=(S=void 0,Cu(P)),I;I=yield Dt(T.next()),b=I.done,!b;O=!0){A=I.value,O=!1;const B=A;if(yield yield Dt(B),B.candidates&&(!((v=B.candidates[0])===null||v===void 0)&&v.content)){D.push(B.candidates[0].content);for(const q of(_=B.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(l<a&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(q.functionCall.name)){const L=yield Dt(f.get(q.functionCall.name).callTool([q.functionCall]));N.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(B){S={error:B}}finally{try{!O&&!b&&(w=T.return)&&(yield Dt(w.call(T)))}finally{if(S)throw S.error}}if(N.length>0){o=!0;const B=new lu;B.candidates=[{content:{role:"user",parts:N}}],yield yield Dt(B);const q=[];q.push(...D),q.push({role:"user",parts:N});const L=Lr(d.apiClient,h.contents).concat(q);h.contents=L}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=VN(this.apiClient,e);return l=We("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=GN(this.apiClient,f),v=new lu;return Object.assign(v,h),v})}else{const d=UN(this.apiClient,e);return l=We("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=zN(this.apiClient,f),v=new lu;return Object.assign(v,h),v})}}async generateContentStreamInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=VN(this.apiClient,e);l=We("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const f=this.apiClient;return o=f.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(h){return Ts(this,arguments,function*(){var v,_,b,S;try{for(var w=!0,A=Cu(h),O;O=yield Dt(A.next()),v=O.done,!v;w=!0){S=O.value,w=!1;const I=GN(f,yield Dt(S.json())),E=new lu;Object.assign(E,I),yield yield Dt(E)}}catch(T){_={error:T}}finally{try{!w&&!v&&(b=A.return)&&(yield Dt(b.call(A)))}finally{if(_)throw _.error}}})})}else{const d=UN(this.apiClient,e);l=We("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const f=this.apiClient;return o=f.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(h){return Ts(this,arguments,function*(){var v,_,b,S;try{for(var w=!0,A=Cu(h),O;O=yield Dt(A.next()),v=O.done,!v;w=!0){S=O.value,w=!1;const I=zN(f,yield Dt(S.json())),E=new lu;Object.assign(E,I),yield yield Dt(E)}}catch(T){_={error:T}}finally{try{!w&&!v&&(b=A.return)&&(yield Dt(b.call(A)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Nne(this.apiClient,e);return l=We("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=$re(this.apiClient,f),v=new wN;return Object.assign(v,h),v})}else{const d=Gte(this.apiClient,e);return l=We("{model}:batchEmbedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=hre(this.apiClient,f),v=new wN;return Object.assign(v,h),v})}}async generateImagesInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Dne(this.apiClient,e);return l=We("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Bre(this.apiClient,f),v=new SN;return Object.assign(v,h),v})}else{const d=Wte(this.apiClient,e);return l=We("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=gre(this.apiClient,f),v=new SN;return Object.assign(v,h),v})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=qne(this.apiClient,e);return a=We("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Fre(this.apiClient,c),f=new GX;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Vne(this.apiClient,e);return a=We("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=qre(this.apiClient,c),f=new HX;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=zne(this.apiClient,e);return l=We("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>ob(this.apiClient,f))}else{const d=Kte(this.apiClient,e);return l=We("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>ab(this.apiClient,f))}}async listInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Hne(this.apiClient,e);return l=We("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Gre(this.apiClient,f),v=new CN;return Object.assign(v,h),v})}else{const d=Jte(this.apiClient,e);return l=We("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=yre(this.apiClient,f),v=new CN;return Object.assign(v,h),v})}}async update(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Kne(this.apiClient,e);return l=We("{model}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>ob(this.apiClient,f))}else{const d=Zte(this.apiClient,e);return l=We("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>ab(this.apiClient,f))}}async delete(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Yne(this.apiClient,e);return l=We("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(()=>{const f=Hre(),h=new TN;return Object.assign(h,f),h})}else{const d=Qte(this.apiClient,e);return l=We("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(()=>{const f=xre(),h=new TN;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Xne(this.apiClient,e);return l=We("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Wre(this.apiClient,f),v=new kN;return Object.assign(v,h),v})}else{const d=tne(this.apiClient,e);return l=We("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=_re(this.apiClient,f),v=new kN;return Object.assign(v,h),v})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Zne(this.apiClient,e);return a=We("{model}:computeTokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Kre(this.apiClient,c),f=new WX;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=tre(this.apiClient,e);return l=We("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>Zre(this.apiClient,f))}else{const d=ine(this.apiClient,e);return l=We("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>Cre(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cie(t,e){const n={},r=m(e,["operationName"]);r!=null&&g(n,["_url","operationName"],r);const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function Tie(t,e){const n={},r=m(e,["operationName"]);r!=null&&g(n,["_url","operationName"],r);const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function kie(t,e){const n={},r=m(e,["operationName"]);r!=null&&g(n,["operationName"],r);const i=m(e,["resourceName"]);i!=null&&g(n,["_url","resourceName"],i);const a=m(e,["config"]);return a!=null&&g(n,["config"],a),n}function Eie(t,e){const n={},r=m(e,["video","uri"]);r!=null&&g(n,["uri"],r);const i=m(e,["video","encodedVideo"]);i!=null&&g(n,["videoBytes"],Mi(t,i));const a=m(e,["encoding"]);return a!=null&&g(n,["mimeType"],a),n}function Aie(t,e){const n={},r=m(e,["_self"]);return r!=null&&g(n,["video"],Eie(t,r)),n}function Pie(t,e){const n={},r=m(e,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Aie(t,l))),g(n,["generatedVideos"],o)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&g(n,["raiMediaFilteredReasons"],a),n}function Oie(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);o!=null&&g(n,["error"],o);const l=m(e,["response","generateVideoResponse"]);return l!=null&&g(n,["response"],Pie(t,l)),n}function Iie(t,e){const n={},r=m(e,["gcsUri"]);r!=null&&g(n,["uri"],r);const i=m(e,["bytesBase64Encoded"]);i!=null&&g(n,["videoBytes"],Mi(t,i));const a=m(e,["mimeType"]);return a!=null&&g(n,["mimeType"],a),n}function Nie(t,e){const n={},r=m(e,["_self"]);return r!=null&&g(n,["video"],Iie(t,r)),n}function Mie(t,e){const n={},r=m(e,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Nie(t,l))),g(n,["generatedVideos"],o)}const i=m(e,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&g(n,["raiMediaFilteredReasons"],a),n}function XN(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);o!=null&&g(n,["error"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],Mie(t,l)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Die extends fl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;return r&&"httpOptions"in r&&(a=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=Tie(this.apiClient,e);return l=We("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>XN(this.apiClient,f))}else{const d=Cie(this.apiClient,e);return l=We("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>Oie(this.apiClient,f))}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=kie(this.apiClient,e);return a=We("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>XN(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rie(t,e){const n={},r=m(e,["voiceName"]);return r!=null&&g(n,["voiceName"],r),n}function xj(t,e){const n={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&g(n,["prebuiltVoiceConfig"],Rie(t,r)),n}function jie(t,e){const n={},r=m(e,["speaker"]);r!=null&&g(n,["speaker"],r);const i=m(e,["voiceConfig"]);return i!=null&&g(n,["voiceConfig"],xj(t,i)),n}function $ie(t,e){const n={},r=m(e,["speakerVoiceConfigs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>jie(t,a))),g(n,["speakerVoiceConfigs"],i)}return n}function Lie(t,e){const n={},r=m(e,["voiceConfig"]);r!=null&&g(n,["voiceConfig"],xj(t,r));const i=m(e,["multiSpeakerVoiceConfig"]);i!=null&&g(n,["multiSpeakerVoiceConfig"],$ie(t,i));const a=m(e,["languageCode"]);return a!=null&&g(n,["languageCode"],a),n}function Bie(t,e){const n={},r=m(e,["fps"]);r!=null&&g(n,["fps"],r);const i=m(e,["endOffset"]);i!=null&&g(n,["endOffset"],i);const a=m(e,["startOffset"]);return a!=null&&g(n,["startOffset"],a),n}function Fie(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&g(n,["data"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function qie(t,e){const n={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(e,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function Uie(t,e){const n={},r=m(e,["videoMetadata"]);r!=null&&g(n,["videoMetadata"],Bie(t,r));const i=m(e,["thought"]);i!=null&&g(n,["thought"],i);const a=m(e,["inlineData"]);a!=null&&g(n,["inlineData"],Fie(t,a));const o=m(e,["fileData"]);o!=null&&g(n,["fileData"],qie(t,o));const l=m(e,["thoughtSignature"]);l!=null&&g(n,["thoughtSignature"],l);const c=m(e,["codeExecutionResult"]);c!=null&&g(n,["codeExecutionResult"],c);const d=m(e,["executableCode"]);d!=null&&g(n,["executableCode"],d);const f=m(e,["functionCall"]);f!=null&&g(n,["functionCall"],f);const h=m(e,["functionResponse"]);h!=null&&g(n,["functionResponse"],h);const v=m(e,["text"]);return v!=null&&g(n,["text"],v),n}function Vie(t,e){const n={},r=m(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Uie(t,o))),g(n,["parts"],a)}const i=m(e,["role"]);return i!=null&&g(n,["role"],i),n}function zie(t,e){const n={},r=m(e,["behavior"]);r!=null&&g(n,["behavior"],r);const i=m(e,["description"]);i!=null&&g(n,["description"],i);const a=m(e,["name"]);a!=null&&g(n,["name"],a);const o=m(e,["parameters"]);o!=null&&g(n,["parameters"],o);const l=m(e,["response"]);return l!=null&&g(n,["response"],l),n}function Gie(t,e){const n={},r=m(e,["startTime"]);r!=null&&g(n,["startTime"],r);const i=m(e,["endTime"]);return i!=null&&g(n,["endTime"],i),n}function Hie(t,e){const n={},r=m(e,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],Gie(t,r)),n}function Wie(t,e){const n={},r=m(e,["mode"]);r!=null&&g(n,["mode"],r);const i=m(e,["dynamicThreshold"]);return i!=null&&g(n,["dynamicThreshold"],i),n}function Kie(t,e){const n={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&g(n,["dynamicRetrievalConfig"],Wie(t,r)),n}function Yie(){return{}}function Jie(t,e){const n={},r=m(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>zie(t,d))),g(n,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(e,["googleSearch"]);i!=null&&g(n,["googleSearch"],Hie(t,i));const a=m(e,["googleSearchRetrieval"]);if(a!=null&&g(n,["googleSearchRetrieval"],Kie(t,a)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(n,["urlContext"],Yie());const l=m(e,["codeExecution"]);return l!=null&&g(n,["codeExecution"],l),n}function Xie(t,e){const n={},r=m(e,["handle"]);if(r!=null&&g(n,["handle"],r),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function ZN(){return{}}function Zie(t,e){const n={},r=m(e,["disabled"]);r!=null&&g(n,["disabled"],r);const i=m(e,["startOfSpeechSensitivity"]);i!=null&&g(n,["startOfSpeechSensitivity"],i);const a=m(e,["endOfSpeechSensitivity"]);a!=null&&g(n,["endOfSpeechSensitivity"],a);const o=m(e,["prefixPaddingMs"]);o!=null&&g(n,["prefixPaddingMs"],o);const l=m(e,["silenceDurationMs"]);return l!=null&&g(n,["silenceDurationMs"],l),n}function Qie(t,e){const n={},r=m(e,["automaticActivityDetection"]);r!=null&&g(n,["automaticActivityDetection"],Zie(t,r));const i=m(e,["activityHandling"]);i!=null&&g(n,["activityHandling"],i);const a=m(e,["turnCoverage"]);return a!=null&&g(n,["turnCoverage"],a),n}function eae(t,e){const n={},r=m(e,["targetTokens"]);return r!=null&&g(n,["targetTokens"],r),n}function tae(t,e){const n={},r=m(e,["triggerTokens"]);r!=null&&g(n,["triggerTokens"],r);const i=m(e,["slidingWindow"]);return i!=null&&g(n,["slidingWindow"],eae(t,i)),n}function nae(t,e){const n={},r=m(e,["proactiveAudio"]);return r!=null&&g(n,["proactiveAudio"],r),n}function rae(t,e,n){const r={},i=m(e,["generationConfig"]);n!==void 0&&i!=null&&g(n,["setup","generationConfig"],i);const a=m(e,["responseModalities"]);n!==void 0&&a!=null&&g(n,["setup","generationConfig","responseModalities"],a);const o=m(e,["temperature"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig","temperature"],o);const l=m(e,["topP"]);n!==void 0&&l!=null&&g(n,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);n!==void 0&&c!=null&&g(n,["setup","generationConfig","topK"],c);const d=m(e,["maxOutputTokens"]);n!==void 0&&d!=null&&g(n,["setup","generationConfig","maxOutputTokens"],d);const f=m(e,["mediaResolution"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","mediaResolution"],f);const h=m(e,["seed"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","seed"],h);const v=m(e,["speechConfig"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","speechConfig"],Lie(t,Tw(t,v)));const _=m(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&g(n,["setup","generationConfig","enableAffectiveDialog"],_);const b=m(e,["systemInstruction"]);n!==void 0&&b!=null&&g(n,["setup","systemInstruction"],Vie(t,Rn(t,b)));const S=m(e,["tools"]);if(n!==void 0&&S!=null){let P=_c(t,S);Array.isArray(P)&&(P=P.map(N=>Jie(t,xc(t,N)))),g(n,["setup","tools"],P)}const w=m(e,["sessionResumption"]);n!==void 0&&w!=null&&g(n,["setup","sessionResumption"],Xie(t,w));const A=m(e,["inputAudioTranscription"]);n!==void 0&&A!=null&&g(n,["setup","inputAudioTranscription"],ZN());const O=m(e,["outputAudioTranscription"]);n!==void 0&&O!=null&&g(n,["setup","outputAudioTranscription"],ZN());const T=m(e,["realtimeInputConfig"]);n!==void 0&&T!=null&&g(n,["setup","realtimeInputConfig"],Qie(t,T));const I=m(e,["contextWindowCompression"]);n!==void 0&&I!=null&&g(n,["setup","contextWindowCompression"],tae(t,I));const E=m(e,["proactivity"]);return n!==void 0&&E!=null&&g(n,["setup","proactivity"],nae(t,E)),r}function iae(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],It(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],rae(t,i,n)),n}function aae(t,e,n){const r={},i=m(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const a=m(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const o=m(e,["uses"]);n!==void 0&&o!=null&&g(n,["uses"],o);const l=m(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&g(n,["bidiGenerateContentSetup"],iae(t,l));const c=m(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&g(n,["fieldMask"],c),r}function oae(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],aae(t,r,n)),n}function sae(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["name"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lae(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function uae(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=lae(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>o.includes(d)?`generationConfig.${d}`:d));const c=[];a&&c.push(a),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class cae extends fl{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=oae(this.apiClient,e);a=We("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const c=uae(l,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>sae(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dae(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],r);const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function fae(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=m(e,["filter"]);return n!==void 0&&o!=null&&g(n,["_query","filter"],o),r}function hae(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],fae(t,r,n)),n}function pae(t,e){const n={},r=m(e,["textInput"]);r!=null&&g(n,["textInput"],r);const i=m(e,["output"]);return i!=null&&g(n,["output"],i),n}function mae(t,e){const n={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>pae(t,a))),g(n,["examples","examples"],i)}return n}function gae(t,e,n){const r={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=m(e,["tunedModelDisplayName"]);if(n!==void 0&&i!=null&&g(n,["displayName"],i),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=m(e,["epochCount"]);n!==void 0&&a!=null&&g(n,["tuningTask","hyperparameters","epochCount"],a);const o=m(e,["learningRateMultiplier"]);if(o!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),m(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=m(e,["batchSize"]);n!==void 0&&l!=null&&g(n,["tuningTask","hyperparameters","batchSize"],l);const c=m(e,["learningRate"]);return n!==void 0&&c!=null&&g(n,["tuningTask","hyperparameters","learningRate"],c),r}function vae(t,e){const n={},r=m(e,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(e,["trainingDataset"]);i!=null&&g(n,["tuningTask","trainingData"],mae(t,i));const a=m(e,["config"]);return a!=null&&g(n,["config"],gae(t,a,n)),n}function yae(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],r);const i=m(e,["config"]);return i!=null&&g(n,["config"],i),n}function xae(t,e,n){const r={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=m(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=m(e,["filter"]);return n!==void 0&&o!=null&&g(n,["_query","filter"],o),r}function _ae(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],xae(t,r,n)),n}function bae(t,e,n){const r={},i=m(e,["gcsUri"]);if(n!==void 0&&i!=null&&g(n,["supervisedTuningSpec","trainingDatasetUri"],i),m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function wae(t,e){const n={},r=m(e,["gcsUri"]);return r!=null&&g(n,["validationDatasetUri"],r),n}function Sae(t,e,n){const r={},i=m(e,["validationDataset"]);n!==void 0&&i!=null&&g(n,["supervisedTuningSpec"],wae(t,i));const a=m(e,["tunedModelDisplayName"]);n!==void 0&&a!=null&&g(n,["tunedModelDisplayName"],a);const o=m(e,["description"]);n!==void 0&&o!=null&&g(n,["description"],o);const l=m(e,["epochCount"]);n!==void 0&&l!=null&&g(n,["supervisedTuningSpec","hyperParameters","epochCount"],l);const c=m(e,["learningRateMultiplier"]);n!==void 0&&c!=null&&g(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const d=m(e,["exportLastCheckpointOnly"]);n!==void 0&&d!=null&&g(n,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const f=m(e,["adapterSize"]);if(n!==void 0&&f!=null&&g(n,["supervisedTuningSpec","hyperParameters","adapterSize"],f),m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function Cae(t,e){const n={},r=m(e,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(e,["trainingDataset"]);i!=null&&g(n,["supervisedTuningSpec","trainingDatasetUri"],bae(t,i,n));const a=m(e,["config"]);return a!=null&&g(n,["config"],Sae(t,a,n)),n}function Tae(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["model"],r);const i=m(e,["name"]);return i!=null&&g(n,["endpoint"],i),n}function _j(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["state"]);i!=null&&g(n,["state"],nj(t,i));const a=m(e,["createTime"]);a!=null&&g(n,["createTime"],a);const o=m(e,["tuningTask","startTime"]);o!=null&&g(n,["startTime"],o);const l=m(e,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const c=m(e,["updateTime"]);c!=null&&g(n,["updateTime"],c);const d=m(e,["description"]);d!=null&&g(n,["description"],d);const f=m(e,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=m(e,["_self"]);h!=null&&g(n,["tunedModel"],Tae(t,h));const v=m(e,["distillationSpec"]);v!=null&&g(n,["distillationSpec"],v);const _=m(e,["experiment"]);_!=null&&g(n,["experiment"],_);const b=m(e,["labels"]);b!=null&&g(n,["labels"],b);const S=m(e,["pipelineJob"]);S!=null&&g(n,["pipelineJob"],S);const w=m(e,["serviceAccount"]);w!=null&&g(n,["serviceAccount"],w);const A=m(e,["tunedModelDisplayName"]);return A!=null&&g(n,["tunedModelDisplayName"],A),n}function kae(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>_j(t,o))),g(n,["tuningJobs"],a)}return n}function Eae(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["metadata"]);i!=null&&g(n,["metadata"],i);const a=m(e,["done"]);a!=null&&g(n,["done"],a);const o=m(e,["error"]);return o!=null&&g(n,["error"],o),n}function Aae(t,e){const n={},r=m(e,["checkpointId"]);r!=null&&g(n,["checkpointId"],r);const i=m(e,["epoch"]);i!=null&&g(n,["epoch"],i);const a=m(e,["step"]);a!=null&&g(n,["step"],a);const o=m(e,["endpoint"]);return o!=null&&g(n,["endpoint"],o),n}function Pae(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],r);const i=m(e,["endpoint"]);i!=null&&g(n,["endpoint"],i);const a=m(e,["checkpoints"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>Aae(t,l))),g(n,["checkpoints"],o)}return n}function ub(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["name"],r);const i=m(e,["state"]);i!=null&&g(n,["state"],nj(t,i));const a=m(e,["createTime"]);a!=null&&g(n,["createTime"],a);const o=m(e,["startTime"]);o!=null&&g(n,["startTime"],o);const l=m(e,["endTime"]);l!=null&&g(n,["endTime"],l);const c=m(e,["updateTime"]);c!=null&&g(n,["updateTime"],c);const d=m(e,["error"]);d!=null&&g(n,["error"],d);const f=m(e,["description"]);f!=null&&g(n,["description"],f);const h=m(e,["baseModel"]);h!=null&&g(n,["baseModel"],h);const v=m(e,["tunedModel"]);v!=null&&g(n,["tunedModel"],Pae(t,v));const _=m(e,["supervisedTuningSpec"]);_!=null&&g(n,["supervisedTuningSpec"],_);const b=m(e,["tuningDataStats"]);b!=null&&g(n,["tuningDataStats"],b);const S=m(e,["encryptionSpec"]);S!=null&&g(n,["encryptionSpec"],S);const w=m(e,["partnerModelTuningSpec"]);w!=null&&g(n,["partnerModelTuningSpec"],w);const A=m(e,["distillationSpec"]);A!=null&&g(n,["distillationSpec"],A);const O=m(e,["experiment"]);O!=null&&g(n,["experiment"],O);const T=m(e,["labels"]);T!=null&&g(n,["labels"],T);const I=m(e,["pipelineJob"]);I!=null&&g(n,["pipelineJob"],I);const E=m(e,["serviceAccount"]);E!=null&&g(n,["serviceAccount"],E);const P=m(e,["tunedModelDisplayName"]);return P!=null&&g(n,["tunedModelDisplayName"],P),n}function Oae(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&g(n,["nextPageToken"],r);const i=m(e,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>ub(t,o))),g(n,["tuningJobs"],a)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iae extends fl{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new dp(nl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:eb.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=yae(this.apiClient,e);return l=We("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>ub(this.apiClient,f))}else{const d=dae(this.apiClient,e);return l=We("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>_j(this.apiClient,f))}}async listInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const d=_ae(this.apiClient,e);return l=We("tuningJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const h=Oae(this.apiClient,f),v=new EN;return Object.assign(v,h),v})}else{const d=hae(this.apiClient,e);return l=We("tunedModels",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),o.then(f=>{const h=kae(this.apiClient,f),v=new EN;return Object.assign(v,h),v})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Cae(this.apiClient,e);return a=We("tuningJobs",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>ub(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=vae(this.apiClient,e);return a=We("tunedModels",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Eae(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nae{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Mae=1024*1024*8,Dae=3,Rae=1e3,jae=2,hx="x-goog-upload-status";async function $ae(t,e,n){var r,i,a;let o=0,l=0,c=new tb(new Response),d="upload";for(o=t.size;l<o;){const h=Math.min(Mae,o-l),v=t.slice(l,l+h);l+h>=o&&(d+=", finalize");let _=0,b=Rae;for(;_<Dae&&(c=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(h)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[hx]));)_++,await Bae(b),b=b*jae;if(l+=h,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[hx])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(c==null?void 0:c.json());if(((a=c==null?void 0:c.headers)===null||a===void 0?void 0:a[hx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function Lae(t){return{size:t.size,type:t.type}}function Bae(t){return new Promise(e=>setTimeout(e,t))}class Fae{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $ae(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Lae(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qae{create(e,n,r){return new Uae(e,n,r)}}class Uae{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QN="x-goog-api-key";class Vae{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(QN)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(QN,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zae="gl-node/";class Gae{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=zX(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Vae(this.apiKey);this.apiClient=new oie({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:zae+"web",uploader:new Fae,downloader:new Nae}),this.models=new Sie(this.apiClient),this.live=new yie(this.apiClient,i,new qae),this.chats=new vQ(this.models,this.apiClient),this.caches=new pQ(this.apiClient),this.files=new OQ(this.apiClient),this.operations=new Die(this.apiClient),this.authTokens=new cae(this.apiClient),this.tunings=new Iae(this.apiClient)}}var Hae={};const cb=Hae.GEMINI_API_KEY;let vn=null;if(cb)try{vn=new Gae({apiKey:cb})}catch(t){console.error("Failed to initialize GoogleGenAI:",t),vn=null}else console.warn("Gemini API Key (process.env.GEMINI_API_KEY) is not set. AI Coach features will be disabled.");const ei=()=>!!cb&&!!vn,Wae=t=>`Você é um assistente financeiro amigável e prestativo para um aplicativo de finanças pessoais.
Data Atual: ${t.currentDate}.
Renda Mensal Informada: ${t.monthlyIncome?`${he(t.monthlyIncome)} BRL`:"Não informada"}.

Resumo Financeiro do Usuário:
Contas:
${t.accounts.map(n=>{const r=t.accountBalances.find(i=>i.accountId===n.id);return`- ${n.name}: Saldo ${r?he(r.balance):"N/A"}`}).join(`
`)}

Caixinhas de Dinheiro (Metas):
${t.moneyBoxes&&t.moneyBoxes.length>0?t.moneyBoxes.map(n=>{var i;const r=(i=t.moneyBoxBalances)==null?void 0:i.find(a=>a.moneyBoxId===n.id);return`- ${n.name}: ${he(r?r.balance:0)} ${n.goal_amount?`(Meta: ${he(n.goal_amount)})`:""}`}).join(`
`):"Nenhuma caixinha configurada."}

Orçamentos (Despesas):
${t.categories.filter(n=>n.type==="EXPENSE"&&n.monthly_budget).map(n=>`- ${n.name}: Orçamento ${he(n.monthly_budget||0)}`).join(`
`)||"Nenhum orçamento de despesa configurado."}

Compras Futuras Planejadas:
${t.futurePurchases&&t.futurePurchases.length>0?t.futurePurchases.map(n=>`- ${n.name} (Custo: ${he(n.estimated_cost)}, Prioridade: ${n.priority}, Status: ${n.status})`).join(`
`):"Nenhuma compra futura planejada."}


Com base neste resumo, forneça uma dica financeira principal, observação ou sugestão para o usuário hoje.
Seja conciso (1-2 frases), prático e encorajador. Não faça perguntas. Não use markdown.
Exemplos de tom: "Lembre-se de verificar seus gastos com Lazer este mês!" ou "Você está indo bem em sua meta de Viagem!".
Dica:`,Kae=(t,e,n,r)=>{var c;const i=e.accountBalances.find(d=>d.accountId===t.account_id),a=i?he(i.balance):"N/A";let o=`Você é um assistente financeiro. O usuário acabou de registrar uma ${t.type==="INCOME"?"receita":t.type==="EXPENSE"?"despesa":"transferência"}.
Detalhes: Valor ${he(t.amount)} ${t.description?`descrita como "${t.description}"`:""} na conta "${r||"N/A"}".
${n?`Categoria: "${n}".`:""}
Saldo atual da conta "${r||"N/A"}": ${a}.
`;if(t.type==="EXPENSE"&&n){const d=e.categories.find(f=>f.name===n&&f.type==="EXPENSE");d!=null&&d.monthly_budget&&(o+=`Orçamento para "${n}": ${he(d.monthly_budget)}. `)}const l=e.moneyBoxes&&e.moneyBoxes.find(d=>t.description&&d.name.toLowerCase().includes(t.description.toLowerCase().substring(0,5))||n&&d.name.toLowerCase().includes(n.toLowerCase().substring(0,5)));if(l){const d=(c=e.moneyBoxBalances)==null?void 0:c.find(f=>f.moneyBoxId===l.id);o+=`Lembre-se da sua caixinha "${l.name}" (Saldo: ${he(d?d.balance:0)}${l.goal_amount?`, Meta: ${he(l.goal_amount)}`:""}). `}return o+=`Forneça um breve comentário ou sugestão (máx 1 frase). Não use markdown. Não faça perguntas.
Exemplo: "Ótimo! Continue assim." ou "Fique de olho nos gastos com Comida." ou "Considere guardar uma parte na sua caixinha Viagem."
Comentário:`,o},Yae=(t,e,n,r)=>{var a;return`Você é um assistente financeiro. O usuário tem uma renda mensal de ${he(e)}.
Ele está pedindo uma sugestão de orçamento para a categoria de despesa: "${t}".

Orçamentos de despesa já definidos pelo usuário:
${n.length>0?n.map(o=>`- ${o.name}: ${he(o.budget||0)}`).join(`
`):"Nenhum outro orçamento definido."}

Contexto financeiro adicional:
Saldo total em contas: ${he(r.accountBalances.reduce((o,l)=>o+l.balance,0))}
Total em caixinhas (metas): ${he(((a=r.moneyBoxBalances)==null?void 0:a.reduce((o,l)=>o+l.balance,0))||0)}

Baseado na renda mensal, nos orçamentos existentes e nos princípios de finanças pessoais (como a regra 50/30/20, mas de forma flexível e adaptada à realidade brasileira), sugira um valor de orçamento mensal para a categoria "${t}".
Responda APENAS com um objeto JSON contendo a chave "suggestedBudget" e o valor numérico sugerido. Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"suggestedBudget": 350}
Sugestão:`},Jae=(t,e)=>{var a,o;const n=e.accountBalances.reduce((l,c)=>l+c.balance,0),r=((a=e.moneyBoxBalances)==null?void 0:a.reduce((l,c)=>l+c.balance,0))||0;return`Você é um assistente financeiro. O usuário deseja comprar "${t.name}", que custa aproximadamente ${he(t.estimated_cost)}. A prioridade é ${t.priority}.
Data Atual: ${e.currentDate}.
Renda Mensal: ${e.monthlyIncome?he(e.monthlyIncome):"Não informada"}.
Saldo Total em Contas: ${he(n)}.
Total Guardado em Caixinhas/Metas: ${he(r)}.

Orçamentos de Despesa Mensais:
${e.categories.filter(l=>l.type===pe.EXPENSE&&l.monthly_budget).map(l=>`- ${l.name}: ${he(l.monthly_budget||0)}`).join(`
`)||"Nenhum."}

Outras Compras Futuras Planejadas:
${((o=e.futurePurchases)==null?void 0:o.filter(l=>l.id!==t.id).map(l=>`- ${l.name} (Custo: ${he(l.estimated_cost)}, Prioridade: ${l.priority})`).join(`
`))||"Nenhuma outra."}

Analise a viabilidade desta compra ("${t.name}").
Considere se o usuário tem fundos suficientes, se a compra impactaria significativamente seus orçamentos ou outras metas.
Se a renda não for informada, baseie-se nos saldos e economias.
Forneça uma análise concisa (2-3 frases) e sugira um status. Status possíveis: ACHIEVABLE_SOON (se viável em breve ou agora), NOT_RECOMMENDED_NOW (se deve adiar), PLANNED (manter como planejado se a análise não for conclusiva ou se depender de mais economia).

Responda APENAS com um objeto JSON contendo as chaves "analysisText" (string com sua análise) e "recommendedStatus" (string com um dos status: 'ACHIEVABLE_SOON', 'NOT_RECOMMENDED_NOW', 'PLANNED').
Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"analysisText": "Comprar ${t.name} parece razoável agora, considerando seus saldos. Lembre-se de ajustar seu orçamento de Lazer.", "recommendedStatus": "ACHIEVABLE_SOON"}
Análise:`},Xae=(t,e)=>`Você é um especialista em finanças e cartões de crédito.
O usuário quer saber o melhor dia para fazer uma compra com o cartão de crédito para maximizar o período sem juros e ter o maior prazo para pagar.

Dados do Cartão de Crédito:
- Dia de Fechamento da Fatura: ${t.closing_day} (Ex: 20, significa dia 20 de cada mês)
- Dia de Vencimento da Fatura: ${t.due_day} (Ex: 05, significa dia 05 de cada mês, geralmente no mês seguinte ao fechamento)

Data Atual: ${e} (Formato: YYYY-MM-DD)

Instruções:
1.  Identifique o próximo ciclo de fatura. O melhor dia para comprar é geralmente o dia imediatamente após o fechamento da fatura atual (se a data atual for ANTES ou NO DIA do fechamento do mês corrente) ou o dia após o fechamento da fatura do próximo mês (se a data atual for APÓS o fechamento do mês corrente).
2.  Determine a data exata (DD de MMMM de YYYY) para este "melhor dia para comprar".
3.  Determine a data exata (DD de MMMM de YYYY) em que o pagamento da fatura (contendo essa compra) seria devido.
4.  Forneça uma explicação clara e concisa (1-2 frases) do porquê esta data é vantajosa, mencionando o prazo estendido.

Responda APENAS com um objeto JSON com as seguintes chaves:
- "bestPurchaseDay": "string" (Data formatada como "DD de MMMM de YYYY", ex: "21 de Julho de 2024")
- "paymentDueDate": "string" (Data formatada como "DD de MMMM de YYYY", ex: "05 de Setembro de 2024")
- "explanation": "string" (Explicação concisa)
- "error": "string" (Opcional: preencha apenas se não puder calcular ou se os dados forem inválidos/inconsistentes)

Exemplo de Cálculo (Data Atual: 2024-07-18, Fechamento: dia 20, Vencimento: dia 05):
- A fatura atual fecha em 20 de Julho de 2024.
- O melhor dia para comprar é 21 de Julho de 2024.
- Essa compra entraria na fatura que fecha em 20 de Agosto de 2024.
- O pagamento dessa fatura seria em 05 de Setembro de 2024.

Exemplo de Cálculo (Data Atual: 2024-07-25, Fechamento: dia 20, Vencimento: dia 05):
- A fatura de Julho já fechou (em 20 de Julho).
- O próximo fechamento é 20 de Agosto.
- O melhor dia para comprar é 21 de Agosto de 2024.
- Essa compra entraria na fatura que fecha em 20 de Setembro de 2024.
- O pagamento dessa fatura seria em 05 de Outubro de 2024.`,Zae=(t,e,n,r,i)=>`Você é um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Mês: ${he(e)}
${r?`Orçamento Mensal para esta Categoria: ${he(r)}.`:"Orçamento não definido para esta categoria."}
${r&&i?`Hoje é dia ${i.dayOfMonth} de ${i.daysInMonth} do mês. Proporcionalmente, o gasto esperado até agora seria em torno de ${he(n)}.`:""}

Com base no gasto atual, ele está significativamente acima do esperado para esta altura do mês ou do orçamento proporcional?
Se sim, forneça um alerta CURTO e DIRETO (1-2 frases). Ex: "Atenção: Seus gastos com ${t} (${he(e)}) já ultrapassaram o esperado para esta data (${he(n)})." ou "Gastos com ${t} estão X% acima do esperado para hoje."
Se não houver anomalia clara, ou se o gasto estiver dentro do esperado/orçamento, responda APENAS com a palavra "NORMAL".
Não faça perguntas. Não use markdown.
Alerta:`,Qae=(t,e,n,r,i,a)=>`Você é um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Mês: ${he(e)}
Orçamento Mensal para esta Categoria: ${he(n)}
${a?`Hoje é dia ${a.dayOfMonth} de ${a.daysInMonth} do mês. Faltam ${r} dias.`:""}
Projeção de Gasto Total no Mês (mantendo o ritmo atual): ${he(i)}

Com base no ritmo atual de gastos, há uma projeção de que o orçamento para "${t}" será estourado este mês?
Se sim, forneça um alerta CURTO e DIRETO (1-2 frases), mencionando o possível valor do estouro. Ex: "Alerta: Mantendo este ritmo, seus gastos com ${t} podem exceder o orçamento em cerca de ${he(i-n)} este mês."
Se não houver projeção clara de estouro, ou se a projeção estiver dentro do orçamento, responda APENAS com a palavra "NORMAL".
Não faça perguntas. Não use markdown.
Alerta:`,eoe=(t,e,n)=>{const r=new Date(n.currentDate);r.setDate(r.getDate()-90);const i=t.filter(a=>a.date>=ht(r)&&a.type===pe.EXPENSE);return`Você é um assistente financeiro que ajuda a identificar despesas recorrentes não cadastradas.
  Analise o histórico de despesas do usuário dos últimos 90 dias (data atual: ${n.currentDate}).
  Procure por pagamentos que se repetem com valores e descrições similares em intervalos regulares (ex: mensais, semanais).
  
  Despesas Recorrentes já cadastradas (NÃO SUGIRA ESTAS):
  ${e.length>0?e.map(a=>`- "${a.description}" (${he(a.amount)}, ${a.frequency})`).join(`
`):"Nenhuma."}

  Histórico de Transações de Despesa (Últimos 90 dias):
  ${i.map(a=>{var o;return`- Data: ${a.date}, Descrição: "${a.description||((o=n.categories.find(l=>l.id===a.category_id))==null?void 0:o.name)||"Despesa"}", Valor: ${he(a.amount)}`}).slice(0,30).join(`
`)} 
  ${i.length>30?`
... (e mais ${i.length-30} transações)`:""}

  Se encontrar UMA despesa que parece ser recorrente mas NÃO ESTÁ na lista de já cadastradas, sugira registrá-la.
  Seja específico: "Notei pagamentos para '{Nome do Serviço/Descrição}' de aproximadamente {Valor} em datas como {Data1}, {Data2}. Gostaria de cadastrar como despesa recorrente?"
  Se encontrar múltiplas, sugira a mais óbvia ou mais frequente.
  Se não encontrar nenhuma candidata clara, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas diretas no final, apenas a sugestão como no exemplo.
  Sugestão:`},toe=(t,e,n,r)=>{const i=new Date(r.currentDate);i.setMonth(i.getMonth()-1);const a=t.filter(d=>d.type===pe.EXPENSE&&d.date>=ht(i));let o=`Você é um coach financeiro que ajuda usuários a encontrar oportunidades de economia.
  Renda Mensal: ${r.monthlyIncome?he(r.monthlyIncome):"Não informada"}.
  Data Atual: ${r.currentDate}.

  Metas de Economia (Caixinhas):
  ${n.length>0?n.map(d=>`- ${d.name}${d.goal_amount?` (Meta: ${he(d.goal_amount)})`:""}`).join(`
`):"Nenhuma meta de economia ativa."}

  Gastos do Último Mês (Top 5 categorias por frequência, excluindo essenciais como aluguel, contas fixas de casa):
  `;const l={};a.forEach(d=>{var f;if(d.category_id){const h=((f=e.find(v=>v.id===d.category_id))==null?void 0:f.name)||"Outros";if(["Moradia","Aluguel","Condomínio","Impostos","Luz","Água","Gás","Internet Fixa","Saúde","Educação"].includes(h))return;l[d.category_id]||(l[d.category_id]={total:0,count:0,name:h}),l[d.category_id].total+=d.amount,l[d.category_id].count++}});const c=Object.values(l).sort((d,f)=>f.count-d.count).slice(0,5);return o+=c.map(d=>`- ${d.name}: ${he(d.total)} em ${d.count} transações`).join(`
`)||"Nenhum gasto relevante encontrado.",o+=`

Identifique UMA categoria onde o usuário parece ter gastos pequenos e frequentes que, somados, são significativos (ex: cafés diários, lanches, delivery, apps de transporte).
  Sugira uma pequena mudança de hábito que poderia gerar economia. Se houver metas (Caixinhas), tente vincular a economia a uma delas.
  Seja prático e positivo. Ex: "Seus gastos com 'Delivery' somaram ${he(150)} no último mês. Que tal reduzir para uma vez por semana e direcionar ${he(75)} para sua meta 'Viagem'?"
  Se não houver oportunidade clara ou dados suficientes, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas.
  Sugestão:`,o},noe=(t,e,n,r)=>{const i=n.filter(a=>a.id!==t.id).slice(0,10).map(a=>he(a.amount));return`Você é um assistente financeiro que detecta transações de valor incomum.
  O usuário registrou uma despesa:
  - Descrição: "${t.description||e}"
  - Categoria: "${e}"
  - Valor: ${he(t.amount)}
  - Data: ${t.date}

  Valores de despesas recentes nesta categoria ("${e}"): ${i.length>0?i.join(", "):"Nenhuma outra recente."}
  
  O valor desta transação (${he(t.amount)}) é significativamente mais alto que o normal para esta categoria, baseado nas amostras?
  Se sim, forneça um alerta CURTO. Ex: "Alerta: O valor de ${he(t.amount)} para ${e} parece mais alto que seus gastos usuais nesta categoria. Está correto?"
  Se o valor parecer normal ou não houver dados suficientes para comparar, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas no final, apenas o alerta como no exemplo.
  Alerta:`},roe=(t,e)=>{var d,f;const n=new Date(t.currentDate);n.setDate(n.getDate()+e);const r=ht(n),i=(d=t.recurringTransactions)==null?void 0:d.filter(h=>h.next_due_date<=r).sort((h,v)=>new Date(h.next_due_date).getTime()-new Date(v.next_due_date).getTime()).map(h=>`- ${h.type===pe.INCOME?"Receita":"Despesa"}: ${h.description} (${he(h.amount)}) em ${jn(h.next_due_date)}`).join(`
`),a=new Date(t.currentDate);a.setMonth(a.getMonth()-1);const o=(f=t.transactions)==null?void 0:f.filter(h=>{var v;return h.type===pe.EXPENSE&&h.date>=ht(a)&&!((v=t.recurringTransactions)!=null&&v.some(_=>{var b;return _.description.toLowerCase().includes(((b=h.description)==null?void 0:b.toLowerCase())||"xxxx")}))}).reduce((h,v)=>{var b;const _=((b=t.categories.find(S=>S.id===v.category_id))==null?void 0:b.name)||"Outras Despesas";return h[_]=(h[_]||0)+v.amount,h},{}),l=o?Object.entries(o).map(([h,v])=>`- ${h}: aprox. ${he(v)}/mês`).join(`
`):"Nenhum padrão recente de gastos discricionários encontrado.";let c="";if(t.simulatedTransactionData){const h=t.simulatedTransactionData;c=`
Considere também a seguinte transação SIMULADA para esta projeção:
- Tipo: ${h.type===pe.INCOME?"Receita":"Despesa"}
- Valor: ${he(h.amount)}
- Data: ${jn(h.date)}
- Descrição: ${h.description||(h.type===pe.INCOME?"Receita Simulada":"Despesa Simulada")}
Esta simulação NÃO está salva, use-a apenas para esta projeção.`}return`Você é um assistente financeiro. Preveja o fluxo de caixa do usuário para os próximos ${e} dias.
Data Atual: ${t.currentDate}.
Projeção até: ${jn(r)}.
Renda Mensal Informada: ${t.monthlyIncome?he(t.monthlyIncome):"Não informada (use apenas recorrências e histórico)"}.
${c}

Saldos Atuais das Contas Principais:
${t.accounts.map(h=>{const v=t.accountBalances.find(_=>_.accountId===h.id);return`- ${h.name}: ${v?he(v.balance):"N/A"}`}).join(`
`)}
Saldo Total Combinado: ${he(t.accountBalances.reduce((h,v)=>h+v.balance,0))}

Transações Recorrentes Programadas (Receitas e Despesas) no Período:
${i||"Nenhuma transação recorrente programada no período."}

Padrão de Gastos Discricionários Recentes (último mês, não recorrentes):
${l}

Analise essas informações e forneça uma projeção textual do fluxo de caixa.
Destaque:
1.  Um resumo geral (ex: "Seu saldo deve permanecer positivo", "Prevê-se um aperto financeiro em meados de [Mês]").
2.  Principais entradas e saídas esperadas e suas datas.
3.  Qualquer data onde o saldo possa ficar perigosamente baixo ou negativo, se aplicável.
Se uma simulação foi fornecida, mencione brevemente o impacto dela.
Seja conciso (3-5 frases). Não use markdown. Responda apenas com a projeção. Se não puder projetar confiavelmente, diga "Não foi possível gerar uma projeção de fluxo de caixa detalhada com os dados atuais."
Projeção:`},ioe=t=>{let e="",n="";switch(t){case"snowball":e="Bola de Neve (Snowball)",n="prioriza quitar as dívidas com os menores saldos primeiro, independentemente das taxas de juros, para obter vitórias rápidas e motivação.";break;case"avalanche":e="Avalanche",n="prioriza quitar as dívidas com as maiores taxas de juros primeiro, o que geralmente economiza mais dinheiro em juros a longo prazo.";break;case"minimums":e="Pagamentos Mínimos",n="consiste em pagar apenas o valor mínimo exigido em todas as dívidas. Geralmente é a forma mais lenta e cara de quitar dívidas devido ao acúmulo de juros.";break;default:return"Estratégia desconhecida."}return`Você é um educador financeiro. Explique a estratégia de quitação de dívidas "${e}" em termos simples.
O conceito principal desta estratégia é que ${n}.
Forneça uma breve explicação (2-3 frases) sobre como funciona, suas principais vantagens e desvantagens.
Não use markdown. Responda apenas com a explicação.
Explicação:`},aoe=(t,e,n)=>{var a,o,l;const r=t.strategy==="snowball"?"Bola de Neve":t.strategy==="avalanche"?"Avalanche":"Pagamentos Mínimos";let i=e.map(c=>`- ${c.name}: Saldo ${he(c.current_balance)}, Juros ${c.interest_rate_annual}% a.a.`).join(`
`);return`Você é um consultor financeiro. O usuário calculou um plano de quitação de dívidas.
Estratégia Utilizada: ${r}.
Tempo Estimado para Quitar Todas as Dívidas: ${t.monthsToPayoff} meses (${(t.monthsToPayoff/12).toFixed(1)} anos).
Total de Juros Pagos Estimado: ${he(t.totalInterestPaid)}.
Total Principal Pago Estimado: ${he(t.totalPrincipalPaid)}.
Pagamento Extra Mensal Adicionado aos Mínimos: ${he(((o=(a=t.payoffDetails[0])==null?void 0:a.monthlyPayments[0])==null?void 0:o.payment)-((l=e.find(c=>{var d;return c.id===((d=t.payoffDetails[0])==null?void 0:d.debtId)}))==null?void 0:l.minimum_payment)||0)} (se houver um extra aplicado à primeira dívida do plano).

Dívidas Incluídas no Plano:
${i}

Renda Mensal Informada: ${n.monthlyIncome?he(n.monthlyIncome):"Não informada"}.
Saldo Total em Contas: ${he(n.accountBalances.reduce((c,d)=>c+d.balance,0))}

Com base no resultado da projeção e no contexto financeiro do usuário, forneça um resumo e insights (2-4 frases).
Comente se o plano parece realista, se o tempo de quitação é bom, e talvez uma sugestão baseada no impacto dos juros ou no pagamento extra.
Exemplo de tom: "Este plano ${r} parece eficaz, quitando suas dívidas em ${t.monthsToPayoff} meses. O total de juros de ${he(t.totalInterestPaid)} é significativo; considere aumentar o pagamento extra, se possível, para acelerar."
Não use markdown. Responda apenas com o resumo.
Resumo:`},Ca=async(t,e,n)=>{var r;if(!vn||!ei())return console.warn(`Gemini API not available for ${e}.`),null;try{const a=(r=(await vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:t})).text)==null?void 0:r.trim();return a&&a.toUpperCase()!=="NORMAL"?a:null}catch(i){return console.error(`Error fetching ${e} from Gemini:`,i),null}},ooe=async t=>{var n;if(!vn||!ei())return console.warn("Gemini API not available for fetchGeneralAdvice."),{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada.",is_read:!1};const e=Wae(t);try{const i=(n=(await vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:e})).text)==null?void 0:n.trim();return i?{id:Qe(),timestamp:new Date().toISOString(),type:"general_advice",content:i,is_read:!1}:{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter um conselho geral no momento (resposta vazia).",is_read:!1}}catch(r){console.error("Error fetching general advice from Gemini:",r);let i="Desculpe, não consegui buscar um conselho geral no momento.";return r instanceof Error&&(i+=` Detalhe: ${r.message}`),{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:i,is_read:!1}}},soe=async(t,e,n,r)=>{var a;if(!vn||!ei())return console.warn("Gemini API not available for fetchCommentForTransaction."),{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para comentar transação.",related_transaction_id:t.id,is_read:!1};const i=Kae(t,e,n,r);try{const l=(a=(await vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:i})).text)==null?void 0:a.trim();return l?{id:Qe(),timestamp:new Date().toISOString(),type:"transaction_comment",content:l,related_transaction_id:t.id,is_read:!1}:{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível gerar um comentário para esta transação (resposta vazia).",related_transaction_id:t.id,is_read:!1}}catch(o){console.error("Error fetching transaction comment from Gemini:",o);let l="Desculpe, não consegui gerar um comentário para esta transação.";return o instanceof Error&&(l+=` Detalhe: ${o.message}`),{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:l,related_transaction_id:t.id,is_read:!1}}},loe=async(t,e,n,r)=>{var a;if(!vn||!ei())return console.warn("Gemini API not available for fetchBudgetSuggestion."),{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para sugerir orçamentos.",is_read:!1};if(!e||e<=0)return{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:"Por favor, informe sua renda mensal na tela do AI Coach para receber sugestões de orçamento.",is_read:!1};const i=Yae(t,e,n,r);try{let l=((a=(await vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:i,config:{responseMimeType:"application/json"}})).text)==null?void 0:a.trim())||"";const c=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,d=l.match(c);d&&d[2]&&(l=d[2].trim());const f=JSON.parse(l);return f&&typeof f.suggestedBudget=="number"&&f.suggestedBudget>=0?{suggestedBudget:f.suggestedBudget}:{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma sugestão de orçamento válida no momento (resposta inválida da IA).",is_read:!1}}catch(o){console.error("Error fetching budget suggestion from Gemini:",o);let l="Desculpe, não consegui buscar uma sugestão de orçamento.";return o instanceof Error&&(l+=` Detalhe: ${o.message}`),{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:l,is_read:!1}}},uoe=async(t,e)=>{var r;if(!vn||!ei())return{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para analisar compra futura.",related_future_purchase_id:t.id,is_read:!1};const n=Jae(t,e);try{let a=((r=(await vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const o=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,l=a.match(o);l&&l[2]&&(a=l[2].trim());const c=JSON.parse(a);return c&&typeof c.analysisText=="string"&&typeof c.recommendedStatus=="string"&&["ACHIEVABLE_SOON","NOT_RECOMMENDED_NOW","PLANNED"].includes(c.recommendedStatus)?{analysisText:c.analysisText,recommendedStatus:c.recommendedStatus}:{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma análise válida da IA para esta compra (resposta inválida).",related_future_purchase_id:t.id,is_read:!1}}catch(i){console.error("Error fetching future purchase analysis from Gemini:",i);let a="Desculpe, não consegui analisar esta compra futura no momento.";return i instanceof Error&&(a+=` Detalhe: ${i.message}`),{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:a,related_future_purchase_id:t.id,is_read:!1}}},coe=async(t,e)=>{var r;if(!vn||!ei())return console.warn("Gemini API not available for fetchBestPurchaseDayAdvice."),{bestPurchaseDay:"",paymentDueDate:"",explanation:"AI Coach desativado ou API Key não configurada.",error:"AI Coach desativado ou API Key não configurada."};const n=Xae(t,e);try{let a=((r=(await vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const o=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,l=a.match(o);l&&l[2]&&(a=l[2].trim());const c=JSON.parse(a);return c.error?(console.warn("Gemini returned an error for best purchase day:",c.error),{...c,explanation:c.error}):c.bestPurchaseDay&&c.paymentDueDate&&c.explanation?c:{bestPurchaseDay:"",paymentDueDate:"",explanation:"Não foi possível determinar o melhor dia para compra (resposta inválida da IA).",error:"Resposta inválida da IA."}}catch(i){console.error("Error fetching best purchase day advice from Gemini:",i);let a="Desculpe, não consegui determinar o melhor dia para compra no momento.";return i instanceof Error&&(a+=` Detalhe: ${i.message}`),{bestPurchaseDay:"",paymentDueDate:"",explanation:a,error:a}}},doe=async(t,e,n,r,i,a)=>{const o=Zae(t,e,n,r,i),l=await Ca(o,"spending_anomaly_category");return l?{id:Qe(),timestamp:new Date().toISOString(),type:"spending_anomaly_category",content:l,related_category_id:a,is_read:!1}:null},foe=async(t,e,n,r,i,a,o)=>{const l=Qae(t,e,n,r,i,a),c=await Ca(l,"budget_overspend_projection");return c?{id:Qe(),timestamp:new Date().toISOString(),type:"budget_overspend_projection",content:c,related_category_id:o,is_read:!1}:null},hoe=async(t,e,n)=>{const r=eoe(t,e.map(a=>({description:a.description,amount:a.amount,type:a.type,frequency:a.frequency,category_id:a.category_id})),n),i=await Ca(r,"recurring_payment_candidate");return i?{id:Qe(),timestamp:new Date().toISOString(),type:"recurring_payment_candidate",content:i,is_read:!1}:null},poe=async(t,e,n,r)=>{const i=toe(t,e.map(o=>({id:o.id,name:o.name,type:o.type})),n.map(o=>({id:o.id,name:o.name,goal_amount:o.goal_amount})),r),a=await Ca(i,"saving_opportunity_suggestion");return a?{id:Qe(),timestamp:new Date().toISOString(),type:"saving_opportunity_suggestion",content:a,is_read:!1}:null},moe=async(t,e,n,r)=>{const i=noe(t,e,n),a=await Ca(i,"unusual_transaction_value",t.category_id);return a?{id:Qe(),timestamp:new Date().toISOString(),type:"unusual_transaction_value",content:a,related_transaction_id:t.id,related_category_id:t.category_id,is_read:!1}:null},goe=async(t,e)=>{const n=roe(t,e),r=await Ca(n,"cash_flow_projection");return r?{id:Qe(),timestamp:new Date().toISOString(),type:"cash_flow_projection",content:r,is_read:!1}:{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível gerar uma projeção de fluxo de caixa com os dados atuais.",is_read:!1}},voe=async t=>{if(!vn||!ei())return{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para explicar estratégia de dívida.",related_debt_strategy:t,is_read:!1};const e=ioe(t),n=await Ca(e,"debt_strategy_explanation");return n?{id:Qe(),timestamp:new Date().toISOString(),type:"debt_strategy_explanation",content:n,related_debt_strategy:t,is_read:!1}:{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:`Não foi possível obter uma explicação para a estratégia ${t} no momento.`,related_debt_strategy:t,is_read:!1}},yoe=async(t,e,n)=>{if(!vn||!ei())return{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para resumir projeção de dívida.",is_read:!1};const r={...n},i=aoe(t,e,r),a=await Ca(i,"debt_projection_summary");return a?{id:Qe(),timestamp:new Date().toISOString(),type:"debt_projection_summary",content:a,related_debt_strategy:t.strategy,is_read:!1}:{id:Qe(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter um resumo da projeção de dívida no momento.",is_read:!1}},xoe=(t,e,n)=>{const r=new Date(t+"T00:00:00");switch(e){case"daily":r.setDate(r.getDate()+1);break;case"weekly":r.setDate(r.getDate()+7);break;case"monthly":r.setMonth(r.getMonth()+1);break;case"yearly":r.setFullYear(r.getFullYear()+1);break;case"custom_days":r.setDate(r.getDate()+(n||1));break}return ht(r)},_oe=({creditCards:t,installmentPurchases:e,aiConfig:n,onAddCreditCard:r,onUpdateCreditCard:i,onDeleteCreditCard:a,onAddInstallmentPurchase:o,onUpdateInstallmentPurchase:l,onDeleteInstallmentPurchase:c,onMarkInstallmentPaid:d,onPayMonthlyInstallments:f,isPrivacyModeEnabled:h})=>{const{addToast:v}=CM(),[_,b]=R.useState(!1),[S,w]=R.useState(null),[A,O]=R.useState(!1),[T,I]=R.useState(null),[E,P]=R.useState(null),[N,D]=R.useState(!1),[B,q]=R.useState(null),[L,W]=R.useState(!1),[J,H]=R.useState(null),F=()=>{w(null),b(!0)},Z=Q=>{w(Q),b(!0)},Y=Q=>{S?i({...Q,user_id:S.user_id,created_at:S.created_at,updated_at:new Date().toISOString()}):r(Q)},G=Q=>{P(Q),I(null),O(!0)},te=(Q,de)=>{P(de),I(Q),O(!0)},ae=Q=>{T?l({...Q,user_id:T.user_id,created_at:T.created_at,updated_at:new Date().toISOString()}):o(Q)},j=R.useCallback(async Q=>{if(!n.isEnabled||n.apiKeyStatus!=="available"){v("AI Coach desativado ou API Key indisponível.","warning");return}const de=t.find(ce=>ce.id===Q);if(!de)return;H(de),W(!0),D(!0),q(null);const _e=await coe({name:de.name,closing_day:de.closing_day,due_day:de.due_day},ht());q(_e),W(!1),_e!=null&&_e.error&&v(_e.explanation||"Erro ao buscar sugestão da IA.","error")},[n,t,v]);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Cartões de Crédito"}),y.jsxs(ge,{onClick:F,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Novo Cartão"]})]}),t.length>0?y.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(Q=>y.jsx(aX,{card:Q,installmentPurchases:e.filter(de=>de.credit_card_id===Q.id),onEditCard:Z,onDeleteCard:a,onAddInstallmentPurchase:G,onEditInstallmentPurchase:te,onDeleteInstallmentPurchase:c,onMarkInstallmentPaid:d,onGetBestPurchaseDay:j,onPayMonthlyInstallments:f,isAIFeatureEnabled:n.isEnabled&&n.apiKeyStatus==="available",isPrivacyModeEnabled:h},Q.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhum cartão de crédito cadastrado."}),y.jsx(oX,{isOpen:_,onClose:()=>b(!1),onSave:Y,existingCard:S}),E&&y.jsx(sX,{isOpen:A,onClose:()=>O(!1),onSave:ae,creditCard:E,existingPurchase:T}),y.jsx(lX,{isOpen:N,onClose:()=>D(!1),advice:B,isLoading:L,cardName:J==null?void 0:J.name})]})},bj=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h13.5m-13.5 4.5h13.5m-13.5 4.5h13.5m3-13.5V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v3.75m13.5 0v3.75m-13.5-3.75v3.75m1.5-9V3.75c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125V5.25m-3 0h3m6 0v2.25m0 0v1.5m0 0v1.5m0 0V15m0 0v-1.5m0 0V9.75M7.5 5.25h9M7.5 12h9m-9 4.5h9M5.25 19.5h13.5a2.25 2.25 0 0 0 2.25-2.25V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v12a2.25 2.25 0 0 0 2.25 2.25Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h-3m3 0V12m0 0v-2.25"})]}),boe=({moneyBox:t,balance:e,onEdit:n,onDelete:r,onOpenTransactionModal:i,onOpenHistoryModal:a,isPrivacyModeEnabled:o,hasTransactions:l})=>{const c=t.goal_amount&&t.goal_amount>0?Math.min(e/t.goal_amount*100,100):0,d=t.color?{borderLeftColor:t.color,borderLeftWidth:"4px"}:{},f=t.color?{backgroundColor:t.color}:{backgroundColor:"var(--color-primary)"};return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",style:d,children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[y.jsx(bj,{className:"w-6 h-6",style:{color:t.color||"currentColor"}}),y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),y.jsx("p",{className:"text-2xl font-bold",style:{color:t.color||"var(--color-primary)"},children:he(e,"BRL","pt-BR",o)}),t.goal_amount&&t.goal_amount>0&&y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Meta: ",he(t.goal_amount,"BRL","pt-BR",o)]})]}),y.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[y.jsxs("div",{className:"flex space-x-1",children:[y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Caixinha",className:"!p-1.5",children:y.jsx(Fr,{className:"w-4 h-4"})}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Caixinha",className:"!p-1.5",disabled:l,title:l?"Não pode excluir caixinhas com transações":"Excluir caixinha",children:y.jsx(Br,{className:`w-4 h-4 ${l?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>a(t),"aria-label":"Ver Histórico",className:"text-xs !px-2 !py-1",children:"Histórico"})]})]}),t.goal_amount&&t.goal_amount>0&&y.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:y.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${c}%`,...f}})}),y.jsxs("div",{className:"flex justify-start space-x-2 pt-1",children:[y.jsxs(ge,{size:"sm",variant:"secondary",onClick:()=>i(t,rr.DEPOSIT),className:"!bg-opacity-80 dark:!bg-opacity-80",style:t.color?{backgroundColor:t.color}:{},children:[y.jsx(kn,{className:"w-4 h-4 mr-1"})," Depositar"]}),y.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>i(t,rr.WITHDRAWAL),className:"border border-borderBase dark:border-borderBaseDark",children:"Sacar"})]})]})},uf=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],woe=({isOpen:t,onClose:e,onSave:n,existingMoneyBox:r})=>{const[i,a]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState(uf[0]),[f,h]=R.useState({});R.useEffect(()=>{var b;r?(a(r.name),l(((b=r.goal_amount)==null?void 0:b.toString())||""),d(r.color||uf[0])):(a(""),l(""),d(uf[0])),h({})},[r,t]);const v=()=>{const b={};return i.trim()||(b.name="Nome da caixinha é obrigatório."),o&&(isNaN(parseFloat(o))||parseFloat(o)<0)&&(b.goalAmount="Meta deve ser um número positivo ou vazio."),h(b),Object.keys(b).length===0},_=()=>{if(!v())return;const b={id:(r==null?void 0:r.id)||Qe(),name:i.trim(),goal_amount:o?parseFloat(o):void 0,icon:"piggy-bank",color:c};n(b),e()};return y.jsx(cn,{isOpen:t,onClose:e,title:r?"Editar Caixinha":"Nova Caixinha",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Ve,{label:"Nome da Caixinha",id:"moneyBoxName",value:i,onChange:b=>a(b.target.value),error:f.name,placeholder:"Ex: Reserva de Emergência, Viagem"}),y.jsx(Ve,{label:"Meta de Valor (Opcional)",id:"moneyBoxGoal",type:"number",step:"0.01",value:o,onChange:b=>l(b.target.value),error:f.goalAmount,placeholder:"Ex: 1000.00"}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"moneyBoxColor",className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor de Destaque"}),y.jsx("div",{className:"flex space-x-2",children:uf.map(b=>y.jsx("button",{type:"button",onClick:()=>d(b),className:`w-8 h-8 rounded-full border-2 ${c===b?"border-primary dark:border-primaryDark ring-2 ring-primary dark:ring-primaryDark ring-offset-2 dark:ring-offset-surfaceDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:b},"aria-label":`Selecionar cor ${b}`,"aria-pressed":c===b},b))})]}),f.form&&y.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:f.form}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(ge,{variant:"primary",onClick:_,children:"Salvar Caixinha"})]})]})})},Soe=({isOpen:t,onClose:e,onSave:n,moneyBox:r,accounts:i,transactionType:a})=>{const[o,l]=R.useState(""),[c,d]=R.useState(ht()),[f,h]=R.useState(""),[v,_]=R.useState(""),[b,S]=R.useState(!1),[w,A]=R.useState({});R.useEffect(()=>{t&&(l(""),d(ht()),h(""),_(i.length>0?i[0].id:""),S(!1),A({}))},[t,i]);const O=()=>{const P={};return(!o||parseFloat(o)<=0)&&(P.amount="Valor deve ser positivo."),c||(P.date="Data é obrigatória."),b&&!v&&(P.linkedAccountId="Conta para vínculo é obrigatória."),A(P),Object.keys(P).length===0},T=()=>{if(!O())return;const P={money_box_id:r.id,type:a,amount:parseFloat(o),date:c,description:f.trim()||void 0};n(P,b,v),e()},I=a===rr.DEPOSIT?"Depositar na Caixinha":"Sacar da Caixinha",E=a===rr.DEPOSIT?"Registrar como despesa na conta:":"Registrar como receita na conta:";return y.jsx(cn,{isOpen:t,onClose:e,title:`${I}: ${r.name}`,children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Ve,{label:"Valor",id:"mbAmount",type:"number",step:"0.01",value:o,onChange:P=>l(P.target.value),error:w.amount,required:!0}),y.jsx(Ve,{label:"Data",id:"mbDate",type:"date",value:c,onChange:P=>d(P.target.value),error:w.date,required:!0}),y.jsx(Ve,{label:"Descrição (Opcional)",id:"mbDescription",type:"text",value:f,onChange:P=>h(P.target.value)}),i.length>0&&y.jsxs("div",{className:"pt-2",children:[y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",checked:b,onChange:P=>S(P.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark"}),y.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:a===rr.DEPOSIT?"Vincular a uma despesa de conta?":"Vincular a uma receita em conta?"})]}),b&&y.jsx(_t,{containerClassName:"mt-2",label:E,id:"mbLinkedAccount",options:i.map(P=>({value:P.id,label:P.name})),value:v,onChange:P=>_(P.target.value),error:w.linkedAccountId,placeholder:"Selecione uma conta"})]}),w.form&&y.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:w.form}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(ge,{type:"button",variant:"primary",onClick:T,children:a===rr.DEPOSIT?"Depositar":"Sacar"})]})]})})},Coe=({isOpen:t,onClose:e,moneyBox:n,transactions:r,onDeleteTransaction:i,isPrivacyModeEnabled:a})=>{const o=r.filter(l=>l.money_box_id===n.id).sort((l,c)=>new Date(c.date).getTime()-new Date(l.date).getTime());return y.jsx(cn,{isOpen:t,onClose:e,title:`Histórico: ${n.name}`,size:"lg",children:o.length===0?y.jsx("p",{className:"text-textMuted dark:text-textMutedDark text-center py-4",children:"Nenhuma transação nesta caixinha ainda."}):y.jsx("ul",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:o.map(l=>{const c=l.type===rr.DEPOSIT,d=c?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",f=c?"+":"-";return y.jsx("li",{className:"p-3 bg-surface/50 dark:bg-surfaceDark/50 rounded-md",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsxs("p",{className:`font-semibold ${d}`,children:[f," ",he(l.amount,"BRL","pt-BR",a)]}),y.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:jn(l.date)}),l.description&&y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark italic",children:l.description}),l.linked_transaction_id&&y.jsx("p",{className:"text-xs text-neutral dark:text-neutralDark",children:"(Vinculado a uma transação principal)"})]}),y.jsx("button",{onClick:()=>{window.confirm(`Excluir esta transação da caixinha? ${l.linked_transaction_id?"\\nA transação principal vinculada NÃO será excluída automaticamente por esta ação.":""}`)&&i(l.id,l.linked_transaction_id)},className:"text-xs text-destructive dark:text-destructiveDark hover:underline","aria-label":"Excluir transação da caixinha",title:"Excluir transação da caixinha",children:"Excluir"})]})},l.id)})})})},Toe=({moneyBoxes:t,moneyBoxTransactions:e,accounts:n,onAddMoneyBox:r,onUpdateMoneyBox:i,onDeleteMoneyBox:a,onAddMoneyBoxTransaction:o,onDeleteMoneyBoxTransaction:l,calculateMoneyBoxBalance:c,isPrivacyModeEnabled:d})=>{const[f,h]=R.useState(!1),[v,_]=R.useState(null),[b,S]=R.useState(!1),[w,A]=R.useState(null),[O,T]=R.useState(rr.DEPOSIT),[I,E]=R.useState(!1),[P,N]=R.useState(null),D=()=>{_(null),h(!0)},B=H=>{_(H),h(!0)},q=(H,F)=>{A(H),T(F),S(!0)},L=H=>{N(H),E(!0)},W=H=>{a(H)},J=R.useMemo(()=>t.reduce((H,F)=>H+c(F.id),0),[t,c]);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Minhas Caixinhas"}),t.length>0&&y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total guardado: ",y.jsx("span",{className:"font-semibold text-secondary dark:text-secondaryDark",children:he(J,"BRL","pt-BR",d)})]})]}),y.jsxs(ge,{onClick:D,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Caixinha"]})]}),t.length>0?y.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(H=>y.jsx(boe,{moneyBox:H,balance:c(H.id),onEdit:B,onDelete:W,onOpenTransactionModal:q,onOpenHistoryModal:L,isPrivacyModeEnabled:d,hasTransactions:e.some(F=>F.money_box_id===H.id)},H.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma caixinha criada. Crie uma para começar a guardar dinheiro!"}),y.jsx(woe,{isOpen:f,onClose:()=>h(!1),onSave:v?i:r,existingMoneyBox:v}),w&&y.jsx(Soe,{isOpen:b,onClose:()=>S(!1),onSave:o,moneyBox:w,accounts:n,transactionType:O}),P&&y.jsx(Coe,{isOpen:I,onClose:()=>E(!1),moneyBox:P,transactions:e,onDeleteTransaction:l,isPrivacyModeEnabled:d})]})},Pw=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})}),koe=t=>{switch(t){case"PLANNED":return{text:"Planejado",colorClasses:"bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300"};case"CONSIDERING":return{text:"Considerando",colorClasses:"bg-gray-100 text-gray-700 dark:bg-gray-700/30 dark:text-gray-300"};case"ACHIEVABLE_SOON":return{text:"Viável em Breve",colorClasses:"bg-green-100 text-green-700 dark:bg-green-700/30 dark:text-green-300"};case"NOT_RECOMMENDED_NOW":return{text:"Adiar Compra",colorClasses:"bg-red-100 text-red-700 dark:bg-red-700/30 dark:text-red-300"};case"AI_ANALYZING":return{text:"Analisando...",colorClasses:"bg-yellow-100 text-yellow-700 dark:bg-yellow-700/30 dark:text-yellow-300 animate-pulse"};default:return{text:"Desconhecido",colorClasses:"bg-gray-200 text-gray-800"}}},Eoe={low:"Baixa",medium:"Média",high:"Alta"},Aoe=({purchase:t,onEdit:e,onDelete:n,onAnalyze:r,isPrivacyModeEnabled:i})=>{const{name:a,estimated_cost:o,priority:l,notes:c,status:d,created_at:f,ai_analysis:h,ai_analyzed_at:v}=t,_=koe(d);return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[y.jsx(Pw,{className:"w-5 h-5 text-primary dark:text-primaryDark flex-shrink-0"}),y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:a})]}),y.jsx("p",{className:"text-xl font-bold text-primary dark:text-primaryDark",children:he(o,"BRL","pt-BR",i)}),y.jsxs("div",{className:"flex items-center space-x-2 text-xs text-textMuted dark:text-textMutedDark mt-0.5",children:[y.jsxs("span",{children:["Prioridade: ",Eoe[l]]}),y.jsx("span",{children:"•"}),y.jsxs("span",{children:["Criado em: ",jn(f)]})]})]}),y.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[y.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${_.colorClasses}`,children:_.text}),y.jsxs("div",{className:"flex space-x-1 mt-1",children:[y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>e(t),"aria-label":"Editar Compra Futura",className:"!p-1.5",children:y.jsx(Fr,{className:"w-4 h-4"})}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>n(t.id),"aria-label":"Excluir Compra Futura",className:"!p-1.5",children:y.jsx(Br,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})]}),c&&y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark italic border-t border-borderBase/30 dark:border-borderBaseDark/30 pt-2 mt-2",children:["Notas: ",c]}),h&&y.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-3 rounded-md mt-2 border-l-4 border-primary dark:border-primaryDark",children:[y.jsxs("p",{className:"text-sm font-semibold text-primary dark:text-primaryDark mb-1",children:["Análise da IA (",v?jn(v,"pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Recente","):"]}),y.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:h})]}),y.jsx("div",{className:"pt-2 border-t border-borderBase/30 dark:border-borderBaseDark/30 mt-auto",children:y.jsxs(ge,{variant:"secondary",size:"sm",onClick:()=>r(t.id),disabled:d==="AI_ANALYZING",className:"w-full sm:w-auto",children:[y.jsx(ao,{className:"w-4 h-4 mr-1.5"}),d==="AI_ANALYZING"?"Analisando...":"Analisar com IA"]})})]})},bc=({label:t,id:e,error:n,className:r,containerClassName:i,...a})=>y.jsxs("div",{className:i,children:[t&&y.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),y.jsx("textarea",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...a}),n&&y.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),Poe=[{value:"low",label:"Baixa"},{value:"medium",label:"Média"},{value:"high",label:"Alta"}],Ooe=({isOpen:t,onClose:e,onSave:n,existingPurchase:r})=>{const[i,a]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState("medium"),[f,h]=R.useState(""),[v,_]=R.useState({});R.useEffect(()=>{t&&(r?(a(r.name),l(r.estimated_cost.toString()),d(r.priority),h(r.notes||"")):(a(""),l(""),d("medium"),h("")),_({}))},[r,t]);const b=()=>{const w={};i.trim()||(w.name="Nome do item é obrigatório.");const A=parseFloat(o);return(isNaN(A)||A<=0)&&(w.estimatedCost="Custo estimado deve ser um número positivo."),_(w),Object.keys(w).length===0},S=()=>{if(!b())return;const w={name:i.trim(),estimated_cost:parseFloat(o),priority:c,notes:f.trim()||void 0},A=r?{...w,id:r.id}:{...w,id:Qe()};n(A),e()};return y.jsx(cn,{isOpen:t,onClose:e,title:r?"Editar Compra Futura":"Nova Compra Futura",size:"md",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Ve,{label:"Nome do Item/Objetivo",id:"fpName",value:i,onChange:w=>a(w.target.value),error:v.name,placeholder:"Ex: Novo Celular, Viagem para a Praia",required:!0}),y.jsx(Ve,{label:"Custo Estimado (R$)",id:"fpEstimatedCost",type:"number",step:"0.01",value:o,onChange:w=>l(w.target.value),error:v.estimatedCost,placeholder:"Ex: 2500.00",required:!0}),y.jsx(_t,{label:"Prioridade",id:"fpPriority",options:Poe,value:c,onChange:w=>d(w.target.value)}),y.jsx(bc,{label:"Notas (Opcional)",id:"fpNotes",value:f,onChange:w=>h(w.target.value),rows:3,placeholder:"Detalhes adicionais, link do produto, etc."}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(ge,{type:"button",variant:"primary",onClick:S,children:r?"Salvar Alterações":"Adicionar Compra"})]})]})})},Ioe=[{value:"all",label:"Todas Prioridades"},{value:"high",label:"Alta"},{value:"medium",label:"Média"},{value:"low",label:"Baixa"}],Noe=[{value:"all",label:"Todos Status"},{value:"PLANNED",label:"Planejado"},{value:"CONSIDERING",label:"Considerando"},{value:"ACHIEVABLE_SOON",label:"Viável em Breve"},{value:"NOT_RECOMMENDED_NOW",label:"Adiar Compra"},{value:"AI_ANALYZING",label:"Analisando"}],Moe=({futurePurchases:t,onAddFuturePurchase:e,onUpdateFuturePurchase:n,onDeleteFuturePurchase:r,onAnalyzeFuturePurchase:i,isPrivacyModeEnabled:a})=>{const[o,l]=R.useState(!1),[c,d]=R.useState(null),[f,h]=R.useState("all"),[v,_]=R.useState("all"),[b,S]=R.useState("date_desc"),w=()=>{d(null),l(!0)},A=T=>{d(T),l(!0)},O=R.useMemo(()=>{let T=[...t];return f!=="all"&&(T=T.filter(I=>I.priority===f)),v!=="all"&&(T=T.filter(I=>I.status===v)),T.sort((I,E)=>{switch(b){case"cost_desc":return E.estimated_cost-I.estimated_cost;case"cost_asc":return I.estimated_cost-E.estimated_cost;case"date_asc":return new Date(I.created_at).getTime()-new Date(E.created_at).getTime();case"date_desc":default:return new Date(E.created_at).getTime()-new Date(I.created_at).getTime()}}),T},[t,f,v,b]);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(Pw,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Compras Futuras & Objetivos"})]}),y.jsxs(ge,{onClick:w,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Adicionar Compra Desejada"]})]}),t.length>0&&y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[y.jsx(_t,{label:"Filtrar por Prioridade",options:Ioe,value:f,onChange:T=>h(T.target.value)}),y.jsx(_t,{label:"Filtrar por Status",options:Noe,value:v,onChange:T=>_(T.target.value)}),y.jsx(_t,{label:"Ordenar Por",options:[{value:"date_desc",label:"Mais Recentes Primeiro"},{value:"date_asc",label:"Mais Antigos Primeiro"},{value:"cost_desc",label:"Maior Custo"},{value:"cost_asc",label:"Menor Custo"}],value:b,onChange:T=>S(T.target.value)})]}),O.length>0?y.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(T=>y.jsx(Aoe,{purchase:T,onEdit:A,onDelete:r,onAnalyze:i,isPrivacyModeEnabled:a},T.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:t.length===0?"Nenhuma compra futura planejada. Adicione uma para começar!":"Nenhuma compra encontrada com os filtros aplicados."}),y.jsx(Ooe,{isOpen:o,onClose:()=>l(!1),onSave:c?T=>n({...T,id:c.id}):e,existingPurchase:c})]})},Doe=({allData:t,userPreferencesToExport:e,activeProfileName:n,user:r})=>{const i=async()=>{if(!r){alert("Nenhum usuário logado para exportar dados.");return}const a=n?n.replace(/\s+/g,"_"):"usuario_desconhecido",o={profileName:n||"N/A",exportedAt:new Date().toISOString(),supabaseSchemaVersion:"2.0",userPreferences:e,...t},l=JSON.stringify(o,null,2),c=new Blob([l],{type:"application/json"}),d=URL.createObjectURL(c),f=document.createElement("a");f.href=d,f.download=`financeiro_pessoal_${a}_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)};return y.jsxs("div",{className:"space-y-8 p-4 md:p-6",children:[y.jsxs("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:["Gerenciamento de Dados: ",y.jsx("span",{className:"text-primary dark:text-primaryDark",children:n})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Exportar Dados"}),y.jsxs("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:["Faça um backup completo dos seus dados (",n,") em um arquivo JSON."]}),y.jsx(ge,{onClick:i,variant:"secondary",children:"Exportar Todos os Dados (.json)"})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Importar Dados"}),y.jsx("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:"A importação de dados a partir de um arquivo JSON não é suportada nesta versão do aplicativo. Para restaurar dados, considere utilizar ferramentas de gerenciamento de banco de dados diretamente com o Supabase, se aplicável."})]}),e&&y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Backup Automático em Arquivo (Local)"}),y.jsxs("p",{className:"text-textMuted dark:text-textMutedDark",children:[e.ai_auto_backup_enabled?"Backup automático local em arquivo está ATIVADO.":"Backup automático local em arquivo está DESATIVADO.",y.jsx("span",{className:"block text-xs",children:"Isso é um backup extra em arquivo JSON no seu dispositivo, independente da sincronização com o Supabase."})]})]})]})},Roe=({tag:t,transactionCount:e,onEdit:n,onDelete:r})=>{t.color&&(t.color,t.color),t.color,t.color;const a=(o=>{if(!o)return"text-textBase dark:text-textBaseDark";const l=parseInt(o.slice(1,3),16),c=parseInt(o.slice(3,5),16),d=parseInt(o.slice(5,7),16);return(.299*l+.587*c+.114*d)/255>.5?"text-neutral-800":"text-white"})(t.color);return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-3 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex justify-between items-center",children:[y.jsx("div",{className:"flex items-center",children:y.jsx("span",{className:`text-xs font-semibold mr-3 px-2.5 py-1 rounded-full inline-block border
                        ${t.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:t.color?{backgroundColor:t.color,borderColor:t.color}:{},children:y.jsx("span",{className:t.color?a:"text-textBase dark:text-textBaseDark",children:t.name})})}),y.jsxs("div",{className:"flex items-center space-x-1",children:[e>0&&y.jsxs("span",{className:"text-xs text-textMuted dark:text-textMutedDark mr-2",children:["(",e," trans.)"]}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Tag",className:"!p-1.5",children:y.jsx(Fr,{className:"w-4 h-4"})}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Tag",className:"!p-1.5",disabled:e>0,title:e>0?"Não é possível excluir tags em uso":"Excluir Tag",children:y.jsx(Br,{className:`w-4 h-4 ${e>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]})},eM=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6","#A3A3A3"],joe=({isOpen:t,onClose:e,onSave:n,existingTag:r,allTagNames:i=[]})=>{const[a,o]=R.useState(""),[l,c]=R.useState(void 0),[d,f]=R.useState("");R.useEffect(()=>{t&&(r?(o(r.name),c(r.color)):(o(""),c(eM[0])),f(""))},[r,t]);const h=()=>{const v=a.trim();if(!v){f("Nome da tag é obrigatório.");return}if(i.filter(b=>r?b.toLowerCase()!==r.name.toLowerCase():!0).includes(v.toLowerCase())){f("Já existe uma tag com este nome.");return}f(""),n({id:(r==null?void 0:r.id)||Qe(),name:v,color:l}),e()};return y.jsx(cn,{isOpen:t,onClose:e,title:r?"Editar Tag":"Nova Tag",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Ve,{label:"Nome da Tag",id:"tagName",value:a,onChange:v=>o(v.target.value),error:d,placeholder:"Ex: Viagem, Pessoal, Urgente"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor (Opcional)"}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[eM.map(v=>y.jsx("button",{type:"button",onClick:()=>c(v),className:`w-7 h-7 rounded-full border-2 transition-all
                            ${l===v?"ring-2 ring-offset-2 dark:ring-offset-surfaceDark border-primary dark:border-primaryDark ring-primary dark:ring-primaryDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:v},"aria-label":`Selecionar cor ${v}`,"aria-pressed":l===v},v)),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>c(void 0),className:`h-7 px-2 ${l?"":"bg-neutral/20 dark:bg-neutralDark/30"}`,title:"Remover cor",children:"Sem Cor"})]})]}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(ge,{variant:"primary",onClick:h,children:"Salvar"})]})]})})},$oe=({tags:t,transactions:e,onAddTag:n,onUpdateTag:r,onDeleteTag:i})=>{const[a,o]=R.useState(!1),[l,c]=R.useState(null),d=()=>{c(null),o(!0)},f=_=>{c(_),o(!0)},h=_=>e.filter(b=>{var S;return(S=b.tag_ids)==null?void 0:S.includes(_)}).length,v=t.map(_=>_.name);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Tags"}),y.jsxs(ge,{onClick:d,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Tag"]})]}),t.length>0?y.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(_=>y.jsx(Roe,{tag:_,transactionCount:h(_.id),onEdit:f,onDelete:i},_.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma tag cadastrada. Crie tags para organizar melhor suas transações!"}),y.jsx(joe,{isOpen:a,onClose:()=>o(!1),onSave:l?r:n,existingTag:l,allTagNames:v})]})},bh=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),px=({rt:t,accounts:e,categories:n,onEdit:r,onDelete:i,onTogglePause:a,isPrivacyModeEnabled:o})=>{const l=e.find(v=>v.id===t.account_id),c=t.category_id?n.find(v=>v.id===t.category_id):null;let d="text-textBase dark:text-textBaseDark",f="";t.type===pe.INCOME?(d="text-secondary dark:text-secondaryDark",f="+"):t.type===pe.EXPENSE&&(d="text-destructive dark:text-destructiveDark",f="-");const h={daily:"Diariamente",weekly:"Semanalmente",monthly:"Mensalmente",yearly:"Anualmente",custom_days:`A cada ${t.custom_interval_days} dias`};return y.jsx("li",{className:`bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 ${t.is_paused?"opacity-60":""}`,children:y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0",children:[y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[y.jsx(bh,{className:`w-5 h-5 ${t.is_paused?"text-textMuted dark:text-textMutedDark":"text-primary dark:text-primaryDark"}`}),y.jsxs("span",{className:`font-semibold text-lg ${d}`,children:[f,he(t.amount,"BRL","pt-BR",o)]}),y.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.description})]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-8",children:[h[t.frequency]," • Próximo: ",jn(t.next_due_date),t.end_date&&` &bull; Termina em: ${jn(t.end_date)}`,t.remaining_occurrences!==void 0&&t.occurrences&&` &bull; (${t.remaining_occurrences}/${t.occurrences} restantes)`]}),y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark ml-8",children:["Conta: ",(l==null?void 0:l.name)||"N/A",c&&` &bull; Categoria: ${c.name}`,t.is_paused&&y.jsx("span",{className:"font-semibold text-amber-600 dark:text-amber-500",children:" (Pausado)"})]}),t.notes&&y.jsxs("p",{className:"text-xs italic text-neutral dark:text-neutralDark ml-8 mt-1",children:["Nota: ",t.notes]})]}),y.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>r(t),"aria-label":"Editar Recorrência",children:y.jsx(Fr,{className:"w-4 h-4"})}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>i(t.id),"aria-label":"Excluir Recorrência",children:y.jsx(Br,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})})},Loe=[{value:"daily",label:"Diariamente"},{value:"weekly",label:"Semanalmente"},{value:"monthly",label:"Mensalmente"},{value:"yearly",label:"Anualmente"},{value:"custom_days",label:"Dias Personalizados"}],Boe=(t,e,n,r)=>ht(new Date(t+"T00:00:00")),Foe=({isOpen:t,onClose:e,onSave:n,accounts:r,categories:i,existingRT:a})=>{const[o,l]=R.useState(""),[c,d]=R.useState(""),[f,h]=R.useState(pe.EXPENSE),[v,_]=R.useState(""),[b,S]=R.useState(""),[w,A]=R.useState(""),[O,T]=R.useState("monthly"),[I,E]=R.useState("30"),[P,N]=R.useState(ht()),[D,B]=R.useState(""),[q,L]=R.useState(""),[W,J]=R.useState(!1),[H,F]=R.useState(""),[Z,Y]=R.useState({});R.useEffect(()=>{var j,Q,de,_e,ce,Ie;t&&(a?(l(a.description),d(a.amount.toString()),h(a.type),_(a.category_id||""),S(a.account_id),A(a.to_account_id||""),T(a.frequency),E(((j=a.custom_interval_days)==null?void 0:j.toString())||"30"),N(a.start_date),B(a.end_date||""),L(((Q=a.occurrences)==null?void 0:Q.toString())||""),J(a.is_paused||!1),F(a.notes||"")):(l(""),d(""),h(pe.EXPENSE),_(((de=i.filter(Je=>Je.type===pe.EXPENSE)[0])==null?void 0:de.id)||""),S(((_e=r[0])==null?void 0:_e.id)||""),A(((ce=r[1])==null?void 0:ce.id)||((Ie=r[0])==null?void 0:Ie.id)||""),T("monthly"),E("30"),N(ht()),B(""),L(""),J(!1),F("")),Y({}))},[a,t,r,i]);const G=()=>{const j={};return o.trim()||(j.description="Descrição é obrigatória."),(!c||parseFloat(c)<=0)&&(j.amount="Valor deve ser positivo."),f!==pe.TRANSFER&&!v&&(j.categoryId="Categoria é obrigatória."),b||(j.accountId="Conta é obrigatória."),f===pe.TRANSFER&&!w&&(j.toAccountId="Conta de destino é obrigatória."),f===pe.TRANSFER&&b===w&&(j.toAccountId="Contas não podem ser iguais."),P||(j.startDate="Data de início é obrigatória."),D&&P>D&&(j.endDate="Data final deve ser após data inicial."),q&&parseInt(q)<=0&&(j.occurrences="Ocorrências deve ser positivo."),O==="custom_days"&&(!I||parseInt(I)<=0)&&(j.customIntervalDays="Intervalo de dias deve ser positivo."),Y(j),Object.keys(j).length===0},te=()=>{if(!G())return;const j=q?parseInt(q):void 0,Q={id:(a==null?void 0:a.id)||Qe(),description:o.trim(),amount:parseFloat(c),type:f,category_id:f===pe.TRANSFER?void 0:v,account_id:b,to_account_id:f===pe.TRANSFER?w:void 0,frequency:O,custom_interval_days:O==="custom_days"?parseInt(I):void 0,start_date:P,end_date:D||void 0,occurrences:j,remaining_occurrences:a!=null&&a.id?a.remaining_occurrences:j,next_due_date:a!=null&&a.id?a.next_due_date:Boe(P),last_posted_date:a==null?void 0:a.last_posted_date,is_paused:W||!1,notes:H.trim()||void 0};n(Q),e()},ae=i.filter(j=>j.type===f);return y.jsx(cn,{isOpen:t,onClose:e,title:a?"Editar Transação Recorrente":"Nova Transação Recorrente",size:"lg",children:y.jsxs("form",{onSubmit:j=>{j.preventDefault(),te()},className:"space-y-4",children:[y.jsx(Ve,{label:"Descrição",id:"rtDescription",value:o,onChange:j=>l(j.target.value),error:Z.description,required:!0}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(Ve,{label:"Valor",id:"rtAmount",type:"number",step:"0.01",value:c,onChange:j=>d(j.target.value),error:Z.amount,required:!0}),y.jsx(_t,{label:"Tipo",id:"rtType",options:Sh,value:f,onChange:j=>h(j.target.value)})]}),f!==pe.TRANSFER&&y.jsx(_t,{label:"Categoria",id:"rtCategory",options:ae.map(j=>({value:j.id,label:j.name})),value:v,onChange:j=>_(j.target.value),error:Z.categoryId,placeholder:"Selecione uma categoria",disabled:ae.length===0}),y.jsx(_t,{label:f===pe.TRANSFER?"Conta de Origem":"Conta",id:"rtAccountId",options:r.map(j=>({value:j.id,label:j.name})),value:b,onChange:j=>S(j.target.value),error:Z.accountId,placeholder:"Selecione uma conta",disabled:r.length===0}),f===pe.TRANSFER&&y.jsx(_t,{label:"Conta de Destino",id:"rtToAccountId",options:r.map(j=>({value:j.id,label:j.name})),value:w,onChange:j=>A(j.target.value),error:Z.toAccountId,placeholder:"Selecione conta de destino",disabled:r.length===0}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(_t,{label:"Frequência",id:"rtFrequency",options:Loe,value:O,onChange:j=>T(j.target.value)}),O==="custom_days"&&y.jsx(Ve,{label:"Intervalo (dias)",id:"rtCustomInterval",type:"number",min:"1",value:I,onChange:j=>E(j.target.value),error:Z.customIntervalDays})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(Ve,{label:"Data de Início",id:"rtStartDate",type:"date",value:P,onChange:j=>N(j.target.value),error:Z.startDate,required:!0}),y.jsx(Ve,{label:"Data Final (Opcional)",id:"rtEndDate",type:"date",value:D,onChange:j=>B(j.target.value),error:Z.endDate})]}),y.jsx(Ve,{label:"Número de Ocorrências (Opcional)",id:"rtOccurrences",type:"number",min:"1",value:q,onChange:j=>L(j.target.value),error:Z.occurrences,placeholder:"Deixe em branco para indefinido (use Data Final)"}),y.jsx(bc,{label:"Notas (Opcional)",id:"rtNotes",value:H,onChange:j=>F(j.target.value),rows:2}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"rtIsPaused",checked:W,onChange:j=>J(j.target.checked),className:"h-4 w-4 text-primary rounded border-neutral/50 focus:ring-primary dark:text-primaryDark dark:border-neutralDark/50 dark:focus:ring-primaryDark"}),y.jsx("label",{htmlFor:"rtIsPaused",className:"ml-2 block text-sm text-textMuted dark:text-textMutedDark",children:"Pausar esta recorrência"})]}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(ge,{type:"submit",variant:"primary",children:a?"Salvar Alterações":"Criar Recorrência"})]})]})})},qoe=({recurringTransactions:t,accounts:e,categories:n,onAddRecurringTransaction:r,onUpdateRecurringTransaction:i,onDeleteRecurringTransaction:a,onProcessRecurringTransactions:o,isPrivacyModeEnabled:l})=>{const[c,d]=R.useState(!1),[f,h]=R.useState(null),[v,_]=R.useState(!1),[b,S]=R.useState(null),w=()=>{h(null),d(!0)},A=D=>{h(D),d(!0)},O=async()=>{_(!0),S("Processando...");try{const D=await o();D.errors.length>0?S(`Processamento concluído. ${D.count} transações lançadas. Erros: ${D.errors.join(", ")}`):D.count>0?S(`${D.count} transações recorrentes foram lançadas com sucesso!`):S("Nenhuma transação recorrente pendente para lançar.")}catch(D){S("Erro ao processar transações recorrentes."),console.error(D)}_(!1),setTimeout(()=>S(null),7e3)},T=R.useMemo(()=>[...t].sort((D,B)=>new Date(D.next_due_date).getTime()-new Date(B.next_due_date).getTime()),[t]),I=ht(),E=T.filter(D=>!D.is_paused&&D.next_due_date>=I),P=T.filter(D=>!D.is_paused&&D.next_due_date<I),N=T.filter(D=>D.is_paused);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações Recorrentes"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(ge,{onClick:O,variant:"secondary",disabled:v,children:v?"Processando...":"Lançar Pendentes"}),y.jsxs(ge,{onClick:w,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Nova Recorrência"]})]})]}),b&&y.jsx("div",{className:`p-3 rounded-md text-sm ${b.includes("Erro")||b.includes("Erros:")?"bg-destructive/10 text-destructiveDark":"bg-secondary/10 text-secondaryDark"}`,children:b}),t.length===0?y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação recorrente cadastrada."}):y.jsxs(y.Fragment,{children:[P.length>0&&y.jsxs("div",{children:[y.jsxs("h2",{className:"text-lg font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Pendentes / Atrasadas (",P.length,")"]}),y.jsx("ul",{className:"space-y-3",children:P.map(D=>y.jsx(px,{rt:D,accounts:e,categories:n,onEdit:A,onDelete:a,isPrivacyModeEnabled:l},D.id))})]}),E.length>0&&y.jsxs("div",{children:[y.jsxs("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mt-6 mb-2",children:["Próximas (",E.length,")"]}),y.jsx("ul",{className:"space-y-3",children:E.map(D=>y.jsx(px,{rt:D,accounts:e,categories:n,onEdit:A,onDelete:a,isPrivacyModeEnabled:l},D.id))})]}),N.length>0&&y.jsxs("div",{children:[y.jsxs("h2",{className:"text-lg font-semibold text-textMuted dark:text-textMutedDark mt-6 mb-2",children:["Pausadas (",N.length,")"]}),y.jsx("ul",{className:"space-y-3",children:N.map(D=>y.jsx(px,{rt:D,accounts:e,categories:n,onEdit:A,onDelete:a,isPrivacyModeEnabled:l},D.id))})]})]}),y.jsx(Foe,{isOpen:c,onClose:()=>d(!1),onSave:f?i:r,accounts:e,categories:n,existingRT:f})]})},Uoe=({loan:t,repayments:e,accounts:n,creditCards:r,onEdit:i,onDelete:a,onRegisterRepayment:o,isPrivacyModeEnabled:l})=>{var A,O;const c=e.reduce((T,I)=>T+I.amount_paid,0),d=t.total_amount_to_reimburse-c;let f="PENDING",h="text-amber-600 dark:text-amber-500",v="bg-amber-100 dark:bg-amber-500/20",_="bg-amber-500";c>=t.total_amount_to_reimburse?(f="PAID",h="text-secondary dark:text-secondaryDark",v="bg-emerald-100 dark:bg-emerald-500/20",_="bg-secondary"):c>0&&(f="PARTIALLY_PAID",h="text-blue-600 dark:text-blue-500",v="bg-blue-100 dark:bg-blue-500/20",_="bg-blue-500");const b=t.total_amount_to_reimburse>0?Math.min(c/t.total_amount_to_reimburse*100,100):0,S=t.funding_source==="account"&&t.linked_account_id?(A=n.find(T=>T.id===t.linked_account_id))==null?void 0:A.name:null,w=t.funding_source==="creditCard"&&t.linked_credit_card_id?(O=r.find(T=>T.id===t.linked_credit_card_id))==null?void 0:O.name:null;return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[y.jsx(yb,{className:"w-5 h-5 text-primary dark:text-primaryDark"}),y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.person_name}),y.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${v} ${h}`,children:f==="PENDING"?"Pendente":f==="PARTIALLY_PAID"?"Parcialmente Pago":"Pago"})]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Emprestado em: ",jn(t.loan_date)]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a Reembolsar: ",y.jsx("span",{className:"font-semibold",children:he(t.total_amount_to_reimburse,"BRL","pt-BR",l)})]}),t.description&&y.jsx("p",{className:"text-xs italic text-neutral dark:text-neutralDark mt-1",children:t.description})]}),y.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>i(t),"aria-label":"Editar Empréstimo",className:"!p-1.5",children:y.jsx(Fr,{className:"w-4 h-4"})}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>a(t.id),"aria-label":"Excluir Empréstimo",className:"!p-1.5",disabled:c>0&&f!=="PAID",title:c>0&&f!=="PAID"?"Exclua os pagamentos primeiro ou quite o empréstimo":"Excluir Empréstimo",children:y.jsx(Br,{className:`w-4 h-4 ${c>0&&f!=="PAID"?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Pago: ",he(c,"BRL","pt-BR",l)]}),y.jsxs("span",{className:`font-semibold ${d<=0?h:"text-destructive dark:text-destructiveDark"}`,children:["Pendente: ",he(Math.max(0,d),"BRL","pt-BR",l)]})]}),y.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:y.jsx("div",{className:`h-2.5 rounded-full ${_}`,style:{width:`${b}%`}})})]}),y.jsxs("div",{className:"text-xs text-textMuted dark:text-textMutedDark pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[y.jsx("p",{children:y.jsx("strong",{children:"Origem do Dinheiro:"})}),t.funding_source==="account"&&y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["Conta: ",S||"N/A"]}),y.jsxs("p",{children:["Valor Entregue da Conta: ",he(t.amount_delivered_from_account||0,"BRL","pt-BR",l)]})]}),t.funding_source==="creditCard"&&y.jsxs(y.Fragment,{children:[y.jsxs("p",{children:["Cartão de Crédito: ",w||"N/A"]}),y.jsxs("p",{children:["Valor Líquido Entregue: ",he(t.amount_delivered_from_credit||0,"BRL","pt-BR",l)]}),y.jsxs("p",{children:["Custo no Cartão (Fatura): ",he(t.cost_on_credit_card||0,"BRL","pt-BR",l)]})]})]}),f!=="PAID"&&y.jsx("div",{className:"flex justify-start pt-2",children:y.jsxs(ge,{size:"sm",variant:"secondary",onClick:()=>o(t),children:[y.jsx(kn,{className:"w-4 h-4 mr-1"})," Registrar Pagamento Recebido"]})})]})},Voe=({isOpen:t,onClose:e,onSave:n,accounts:r,creditCards:i,existingLoan:a})=>{const[o,l]=R.useState(""),[c,d]=R.useState(ht()),[f,h]=R.useState(""),[v,_]=R.useState(""),[b,S]=R.useState("account"),[w,A]=R.useState(""),[O,T]=R.useState(""),[I,E]=R.useState(""),[P,N]=R.useState(""),[D,B]=R.useState(""),[q,L]=R.useState("1"),[W,J]=R.useState({});R.useEffect(()=>{var Y,G,te;t&&(a?(l(a.person_name),d(a.loan_date),h(a.description||""),_(a.total_amount_to_reimburse.toString()),S(a.funding_source),a.funding_source==="account"?(A(((Y=a.amount_delivered_from_account)==null?void 0:Y.toString())||""),T(a.linked_account_id||"")):(A(""),T("")),a.funding_source==="creditCard"?(E(((G=a.amount_delivered_from_credit)==null?void 0:G.toString())||""),N(((te=a.cost_on_credit_card)==null?void 0:te.toString())||""),B(a.linked_credit_card_id||"")):(E(""),N(""),B(""))):(l(""),d(ht()),h(""),_(""),S("account"),A(""),T(r.length>0?r[0].id:""),E(""),N(""),B(i.length>0?i[0].id:""),L("1")),J({}))},[a,t,r,i]);const H=()=>{const Y={};o.trim()||(Y.personName="Nome da pessoa é obrigatório."),c||(Y.loanDate="Data do empréstimo é obrigatória.");const G=parseFloat(v);if((isNaN(G)||G<=0)&&(Y.totalAmountToReimburse="Valor a ser reembolsado deve ser positivo."),b==="account"){O||(Y.linkedAccountId="Conta de origem é obrigatória.");const te=parseFloat(w);(isNaN(te)||te<=0)&&(Y.amountDeliveredFromAccount="Valor entregue deve ser positivo.")}else if(b==="creditCard"){D||(Y.linkedCreditCardId="Cartão de crédito é obrigatório.");const te=parseFloat(I);(isNaN(te)||te<=0)&&(Y.amountDeliveredFromCredit="Valor entregue (líquido) deve ser positivo.");const ae=parseFloat(P);(isNaN(ae)||ae<=0)&&(Y.costOnCreditCard="Custo no cartão deve ser positivo."),te>ae&&(Y.amountDeliveredFromCredit="Valor entregue não pode ser maior que o custo no cartão.");const j=parseInt(q,10);(isNaN(j)||j<=0)&&(Y.numberOfInstallments="Número de parcelas deve ser positivo.")}return J(Y),Object.keys(Y).length===0},F=()=>{if(!H())return;const Y={person_name:o.trim(),loan_date:c,description:f.trim()||void 0,total_amount_to_reimburse:parseFloat(v),funding_source:b};let G;b==="account"?G={...Y,amount_delivered_from_account:parseFloat(w),linked_account_id:O}:G={...Y,amount_delivered_from_credit:parseFloat(I),cost_on_credit_card:parseFloat(P),linked_credit_card_id:D};const te=a?{...G,id:a.id}:G;n(te,b==="creditCard"?parseInt(q):void 0),e()},Z=[{value:"account",label:"Dinheiro de uma Conta"},{value:"creditCard",label:"Crédito (Convertido em Dinheiro)"}];return y.jsx(cn,{isOpen:t,onClose:e,title:a?"Editar Empréstimo":"Novo Empréstimo",size:"lg",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Ve,{label:"Nome da Pessoa",id:"personName",value:o,onChange:Y=>l(Y.target.value),error:W.personName,required:!0}),y.jsx(Ve,{label:"Data do Empréstimo",id:"loanDate",type:"date",value:c,onChange:Y=>d(Y.target.value),error:W.loanDate,required:!0}),y.jsx(bc,{label:"Descrição (Opcional)",id:"loanDescription",value:f,onChange:Y=>h(Y.target.value),rows:2}),y.jsx(Ve,{label:"Valor Total a Ser Reembolsado por Você (R$)",id:"totalAmountToReimburse",type:"number",step:"0.01",value:v,onChange:Y=>_(Y.target.value),error:W.totalAmountToReimburse,placeholder:"Ex: 270.00",required:!0}),y.jsx(_t,{label:"Origem do Dinheiro",id:"fundingSource",options:Z,value:b,onChange:Y=>S(Y.target.value)}),b==="account"&&y.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[y.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Saída de Conta)"}),y.jsx(_t,{label:"Conta de Origem",id:"linkedAccountId",options:r.map(Y=>({value:Y.id,label:Y.name})),value:O,onChange:Y=>T(Y.target.value),error:W.linkedAccountId,disabled:r.length===0,required:!0}),y.jsx(Ve,{label:"Valor Efetivamente Entregue (R$)",id:"amountDeliveredFromAccount",type:"number",step:"0.01",value:w,onChange:Y=>A(Y.target.value),error:W.amountDeliveredFromAccount,placeholder:"Ex: 250.00",required:!0})]}),b==="creditCard"&&y.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[y.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Uso de Crédito)"}),y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:'Use esta opção se você usou um serviço do cartão para sacar/transferir crédito, incorrendo em taxas. O "Custo Real no Cartão" será lançado como uma compra parcelada.'}),y.jsx(_t,{label:"Cartão de Crédito Utilizado",id:"linkedCreditCardId",options:i.map(Y=>({value:Y.id,label:Y.name})),value:D,onChange:Y=>B(Y.target.value),error:W.linkedCreditCardId,disabled:i.length===0,required:!0}),y.jsx(Ve,{label:"Valor Efetivamente Entregue à Pessoa (R$)",id:"amountDeliveredFromCredit",type:"number",step:"0.01",value:I,onChange:Y=>E(Y.target.value),error:W.amountDeliveredFromCredit,placeholder:`Ex: ${he(250)} (valor líquido recebido pela pessoa)`,required:!0}),y.jsx(Ve,{label:"Custo Real no Cartão (com taxas) (R$)",id:"costOnCreditCard",type:"number",step:"0.01",value:P,onChange:Y=>{N(Y.target.value),!a&&!v&&_(Y.target.value)},error:W.costOnCreditCard,placeholder:"Ex: 270.00 (valor total que virá na fatura)",required:!0}),y.jsx(Ve,{label:"Número de Parcelas no Cartão",id:"numberOfInstallments",type:"number",min:"1",value:q,onChange:Y=>L(Y.target.value),error:W.numberOfInstallments,required:!0,disabled:!!a&&!!a.linked_installment_purchase_id,title:a&&a.linked_installment_purchase_id?"Número de parcelas não pode ser alterado após a criação da compra vinculada.":""})]}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(ge,{type:"button",variant:"primary",onClick:F,children:"Salvar Empréstimo"})]})]})})},zoe=({isOpen:t,onClose:e,onSave:n,loan:r,accounts:i})=>{const[a,o]=R.useState(""),[l,c]=R.useState(ht()),[d,f]=R.useState(""),[h,v]=R.useState(""),[_,b]=R.useState({});R.useEffect(()=>{t&&(o(""),c(ht()),f(i.length>0?i[0].id:""),v(""),b({}))},[t,i]);const S=()=>{const A={},O=parseFloat(a);return(isNaN(O)||O<=0)&&(A.amountPaid="Valor pago deve ser positivo."),l||(A.repaymentDate="Data do pagamento é obrigatória."),d||(A.creditedAccountId="Conta de crédito é obrigatória."),b(A),Object.keys(A).length===0},w=()=>{if(!S())return;const A={repayment_date:l,amount_paid:parseFloat(a),notes:h.trim()||void 0,credited_account_id:d};n(A,r.id),e()};return y.jsx(cn,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.person_name}`,children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Ve,{label:"Valor Recebido (R$)",id:"repaymentAmount",type:"number",step:"0.01",value:a,onChange:A=>o(A.target.value),error:_.amountPaid,required:!0}),y.jsx(Ve,{label:"Data do Recebimento",id:"repaymentDate",type:"date",value:l,onChange:A=>c(A.target.value),error:_.repaymentDate,required:!0}),y.jsx(_t,{label:"Conta Creditada (Onde o dinheiro entrou)",id:"creditedAccountId",options:i.map(A=>({value:A.id,label:A.name})),value:d,onChange:A=>f(A.target.value),error:_.creditedAccountId,disabled:i.length===0,required:!0}),y.jsx(bc,{label:"Notas (Opcional)",id:"repaymentNotes",value:h,onChange:A=>v(A.target.value),rows:2}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(ge,{type:"button",variant:"primary",onClick:w,children:"Salvar Pagamento"})]})]})})},Goe=({loans:t,loanRepayments:e,accounts:n,creditCards:r,onAddLoan:i,onUpdateLoan:a,onDeleteLoan:o,onAddLoanRepayment:l,isPrivacyModeEnabled:c})=>{const[d,f]=R.useState(!1),[h,v]=R.useState(null),[_,b]=R.useState(!1),[S,w]=R.useState(null),A=()=>{v(null),f(!0)},O=N=>{v(N),f(!0)},T=(N,D)=>{h&&N.id?a({...h,...N}):i(N,D)},I=N=>{w(N),b(!0)},E=R.useMemo(()=>t.reduce((N,D)=>{const B=e.filter(q=>q.loan_id===D.id).reduce((q,L)=>q+L.amount_paid,0);return N+(D.total_amount_to_reimburse-B)},0),[t,e]),P=R.useMemo(()=>[...t].sort((N,D)=>new Date(D.loan_date).getTime()-new Date(N.loan_date).getTime()),[t]);return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Empréstimos Concedidos"}),t.length>0&&y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a receber: ",y.jsx("span",{className:"font-semibold text-primary dark:text-primaryDark",children:he(E,"BRL","pt-BR",c)})]})]}),y.jsxs(ge,{onClick:A,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Novo Empréstimo"]})]}),P.length>0?y.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:P.map(N=>y.jsx(Uoe,{loan:N,repayments:e.filter(D=>D.loan_id===N.id),accounts:n,creditCards:r,onEdit:O,onDelete:o,onRegisterRepayment:I,isPrivacyModeEnabled:c},N.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:'Nenhum empréstimo registrado. Clique em "Novo Empréstimo" para começar.'}),d&&y.jsx(Voe,{isOpen:d,onClose:()=>f(!1),onSave:T,accounts:n,creditCards:r,existingLoan:h}),_&&S&&y.jsx(zoe,{isOpen:_,onClose:()=>b(!1),onSave:l,loan:S,accounts:n})]})},db=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3.697-3.697c-.022-.021-.041-.044-.06-.067H6.75c-1.136 0-2.097-.847-2.193-1.98a18.75 18.75 0 0 1-.072-1.02c0-.884.284-1.5 2.097-1.5H13.5c.884 0 1.5-.284 2.097-1.5 1.136 0 2.1.847 2.193 1.98.027.34.052.68.072 1.02z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h-.008v.008H3.75V12zm0-3.75h.008v.008H3.75V8.25zm0 7.5h.008v.008H3.75v-.008zM4.5 6H15a2.25 2.25 0 0 1 2.25 2.25v1.5A2.25 2.25 0 0 1 15 12H4.5A2.25 2.25 0 0 1 2.25 9.75v-1.5A2.25 2.25 0 0 1 4.5 6z"})]}),Hoe=({aiConfig:t,setAiConfig:e,insights:n,onFetchGeneralAdvice:r,onUpdateInsight:i,isPrivacyModeEnabled:a,onFetchRecurringPaymentCandidates:o,onFetchSavingOpportunities:l,onFetchCashFlowProjection:c})=>{var H;const[d,f]=R.useState(((H=t.monthlyIncome)==null?void 0:H.toString())||""),[h,v]=R.useState(!1),[_,b]=R.useState(""),[S,w]=R.useState(""),[A,O]=R.useState(pe.EXPENSE),[T,I]=R.useState(ht(new Date(Date.now()+7*24*60*60*1e3))),[E,P]=R.useState(!1),N=()=>{e({isEnabled:!t.isEnabled})},D=()=>{const F=parseFloat(d);!isNaN(F)&&F>0?(e({monthlyIncome:F}),v(!1)):d===""?(e({monthlyIncome:null}),v(!1)):alert("Por favor, insira um valor de renda válido ou deixe em branco.")};K.useEffect(()=>{var F;f(((F=t.monthlyIncome)==null?void 0:F.toString())||"")},[t.monthlyIncome]);const B=[...n].sort((F,Z)=>new Date(Z.timestamp).getTime()-new Date(F.timestamp).getTime()),q=F=>y.jsx("p",{className:"text-textBase dark:text-textBaseDark whitespace-pre-wrap",children:F.content}),L=F=>{switch(F){case"budget_recommendation":case"saving_opportunity_suggestion":return{icon:y.jsx(ao,{className:"w-5 h-5 mr-2 text-yellow-500 dark:text-yellow-400 flex-shrink-0"}),borderColorClass:"border-yellow-500 dark:border-yellow-400",bgColorClass:"bg-yellow-400/10 dark:bg-yellow-400/15"};case"recurring_payment_candidate":return{icon:y.jsx(bh,{className:"w-5 h-5 mr-2 text-teal-500 dark:text-teal-400 flex-shrink-0"}),borderColorClass:"border-teal-500 dark:border-teal-400",bgColorClass:"bg-teal-500/10 dark:bg-teal-400/15"};case"cash_flow_projection":return{icon:y.jsx(H_,{className:"w-5 h-5 mr-2 text-indigo-500 dark:text-indigo-400 flex-shrink-0"}),borderColorClass:"border-indigo-500 dark:border-indigo-400",bgColorClass:"bg-indigo-500/10 dark:bg-indigo-400/15"};case"spending_anomaly_category":case"budget_overspend_projection":case"unusual_transaction_value":case"budget_warning":return{icon:y.jsx(gf,{className:"w-5 h-5 mr-2 text-amber-600 dark:text-amber-500 flex-shrink-0"}),borderColorClass:"border-amber-600 dark:border-amber-500",bgColorClass:"bg-amber-600/10 dark:bg-amber-500/15"};case"error_message":return{icon:y.jsx(gf,{className:"w-5 h-5 mr-2 text-destructive dark:text-destructiveDark flex-shrink-0"}),borderColorClass:"border-destructive dark:border-destructiveDark",bgColorClass:"bg-destructive/10 dark:bg-destructiveDark/15"};default:return{icon:y.jsx(db,{className:"w-5 h-5 mr-2 text-primary dark:text-primaryDark flex-shrink-0"}),borderColorClass:"border-primary dark:border-primaryDark",bgColorClass:"bg-primary/5 dark:bg-primaryDark/10"}}},W=F=>{F.is_read||i({...F,is_read:!0})},J=()=>{let F;E&&S&&parseFloat(S)>0&&T&&(F={description:_.trim()||(A===pe.EXPENSE?"Despesa Simulada":"Receita Simulada"),amount:parseFloat(S),type:A,date:T}),c(30,F)};return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(db,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"AI Coach Financeiro"})]}),t.apiKeyStatus!=="unavailable"&&y.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[y.jsx("span",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:t.isEnabled?"Coach Ativado":"Coach Desativado"}),y.jsxs("div",{className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${t.isEnabled?"bg-primary dark:bg-primaryDark":"bg-neutral/30 dark:bg-neutralDark/40"}`,children:[y.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${t.isEnabled?"translate-x-6":"translate-x-1"}`}),y.jsx("input",{type:"checkbox",className:"absolute opacity-0 w-0 h-0",checked:t.isEnabled,onChange:N})]})]})]}),t.apiKeyStatus==="unavailable"&&y.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[y.jsx("strong",{className:"font-bold",children:"API Key Indisponível! "}),y.jsx("span",{className:"block sm:inline",children:"A funcionalidade do AI Coach está desativada. A chave da API Gemini (process.env.GEMINI_API_KEY) não foi configurada no ambiente. Sem ela, o AI Coach não pode operar."})]}),t.apiKeyStatus==="error"&&y.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[y.jsx("strong",{className:"font-bold",children:"Erro na API! "}),y.jsx("span",{className:"block sm:inline",children:"Ocorreu um erro ao tentar inicializar ou usar a API Gemini. Verifique o console para mais detalhes."})]}),t.apiKeyStatus==="available"&&y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Renda Mensal (para Sugestões)"}),t.monthlyIncome&&!h?y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Sua renda mensal salva:",y.jsx("span",{className:"font-bold text-lg text-primary dark:text-primaryDark ml-2",children:he(t.monthlyIncome,"BRL","pt-BR",a)})]}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>v(!0),children:"Editar Renda"})]}):y.jsxs("div",{className:"space-y-3",children:[y.jsx(Ve,{label:"Informe sua renda mensal estimada",id:"monthlyIncome",type:"number",placeholder:a?he(0,"BRL","pt-BR",!0).replace("0,00","Ex: 3500.00"):"Ex: 3500.00",value:d,onChange:F=>f(F.target.value),containerClassName:"max-w-xs"}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(ge,{variant:"primary",size:"sm",onClick:D,children:"Salvar Renda"}),t.monthlyIncome&&y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>v(!1),children:"Cancelar"})]}),y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Esta informação ajuda o AI Coach a fornecer sugestões de orçamento mais personalizadas."})]})]}),t.isEnabled&&t.apiKeyStatus==="available"&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Conselhos e Análises"}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.jsxs(ge,{onClick:r,variant:"ghost",size:"sm",children:[y.jsx(ao,{className:"w-4 h-4 mr-1.5"})," Novo Conselho"]}),y.jsxs(ge,{onClick:o,variant:"ghost",size:"sm",children:[y.jsx(bh,{className:"w-4 h-4 mr-1.5"})," Analisar Recorrências"]}),y.jsxs(ge,{onClick:l,variant:"ghost",size:"sm",children:[y.jsx(Sw,{className:"w-4 h-4 mr-1.5"})," Oportunidades de Economia"]})]})]}),y.jsxs("div",{className:"mt-6 pt-4 border-t border-borderBase dark:border-borderBaseDark",children:[y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mb-2",children:"Previsão de Fluxo de Caixa"}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>P(!E),className:"mb-3 text-sm",children:E?"Esconder Simulação":"Adicionar Simulação à Previsão"}),E&&y.jsxs("div",{className:"space-y-3 p-3 mb-4 border border-dashed border-neutral/50 dark:border-neutralDark/50 rounded-md",children:[y.jsx("h4",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Simular Transação Futura (Opcional)"}),y.jsx(Ve,{label:"Descrição (Opcional)",value:_,onChange:F=>b(F.target.value),placeholder:"Ex: Bônus Inesperado, Compra de Presente"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[y.jsx(Ve,{label:"Valor Simulado",type:"number",value:S,onChange:F=>w(F.target.value),placeholder:"Ex: 500"}),y.jsx(_t,{label:"Tipo",options:Sh.filter(F=>F.value!==pe.TRANSFER),value:A,onChange:F=>O(F.target.value)}),y.jsx(Ve,{label:"Data Simulado",type:"date",value:T,onChange:F=>I(F.target.value)})]})]}),y.jsxs(ge,{onClick:J,variant:"secondary",size:"sm",className:"w-full sm:w-auto",children:[y.jsx(H_,{className:"w-4 h-4 mr-1.5"}),"Gerar Previsão de Caixa (30d) ",E&&S?"com Simulação":""]})]}),B.length===0?y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8 mt-4",children:"Nenhum conselho ou comentário do AI Coach ainda. Interaja com o app ou peça uma nova análise!"}):y.jsx("ul",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 mt-4",children:B.map(F=>{const Z=L(F.type);return y.jsx("li",{className:`p-4 rounded-lg shadow-sm border-l-4
                                    ${Z.borderColorClass} ${Z.bgColorClass}
                                    ${F.isLoading?"opacity-60 animate-pulse":""}
                                    ${!F.is_read&&!F.isLoading?"cursor-pointer hover:shadow-md":""}`,onClick:()=>W(F),onKeyDown:Y=>{(Y.key==="Enter"||Y.key===" ")&&W(F)},tabIndex:!F.is_read&&!F.isLoading?0:void 0,role:!F.is_read&&!F.isLoading?"button":void 0,"aria-label":!F.is_read&&!F.isLoading?"Marcar como lido":void 0,children:y.jsxs("div",{className:"flex items-start",children:[Z.icon,y.jsxs("div",{className:"flex-1",children:[q(F),y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1.5",children:[jn(F.timestamp,"pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),F.related_transaction_id&&y.jsx("span",{className:"ml-2",children:" (Ref. Transação)"}),F.related_category_id&&F.type==="budget_recommendation"&&y.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),F.related_category_id&&(F.type==="spending_anomaly_category"||F.type==="budget_overspend_projection"||F.type==="unusual_transaction_value")&&y.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),!F.is_read&&!F.isLoading&&y.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Novo"})]})]})]})},F.id)})})]})}),!t.isEnabled&&t.apiKeyStatus==="available"&&y.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-700/20 border border-yellow-400 dark:border-yellow-600 text-yellow-700 dark:text-yellow-300 px-4 py-3 rounded-lg",role:"alert",children:y.jsx("p",{children:"O AI Coach está atualmente desativado. Ative-o acima para receber dicas e comentários personalizados."})})]})},Woe=({className:t="w-5 h-5",style:e})=>y.jsxs("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),y.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),wj=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),Koe=({onLoginWithGoogle:t,isLoading:e})=>y.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background dark:bg-backgroundDark p-4 text-textBase dark:text-textBaseDark",children:[y.jsxs("div",{className:"w-full max-w-sm bg-surface dark:bg-surfaceDark shadow-2xl rounded-xl p-8 space-y-8 text-center",children:[y.jsx(wj,{className:"w-20 h-20 text-primary dark:text-primaryDark mx-auto mb-4"}),y.jsxs("h1",{className:"text-3xl font-bold text-textBase dark:text-textBaseDark",children:["Bem-vindo ao ",Cx]}),y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Faça login com sua conta Google para acessar suas finanças."}),y.jsxs(ge,{variant:"primary",size:"lg",className:"w-full !py-3 flex items-center justify-center !bg-white !text-neutral-700 hover:!bg-gray-100 border border-gray-300 dark:!bg-slate-700 dark:!text-slate-200 dark:hover:!bg-slate-600 dark:border-slate-500",onClick:t,disabled:e,children:[y.jsx(Woe,{className:"w-5 h-5 mr-3"}),e?"Conectando...":"Entrar com Google"]}),y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark pt-4",children:"Ao continuar, você concorda com nossos Termos de Serviço e Política de Privacidade (simulados)."})]}),y.jsx("footer",{className:"mt-8 text-center text-xs text-textMuted dark:text-textMutedDark",children:y.jsxs("p",{children:["© ",new Date().getFullYear()," ",Cx,". Todos os direitos reservados."]})})]}),Sj=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6V5.25m0 0A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25v.75m0 0a2.25 2.25 0 0 1-2.25 2.25h-13.5A2.25 2.25 0 0 1 3 6m18 0v12.75A2.25 2.25 0 0 1 18.75 21H5.25A2.25 2.25 0 0 1 3 18.75V6.75m15-3h-15"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 12H18m-2.25 3H18m-2.25-3a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM12 6.75h.008v.008H12V6.75Z"})]}),Yoe=[{value:"credit_card_balance",label:"Saldo de Cartão de Crédito"},{value:"personal_loan",label:"Empréstimo Pessoal"},{value:"student_loan",label:"Empréstimo Estudantil"},{value:"mortgage",label:"Hipoteca / Financiamento Imob."},{value:"car_loan",label:"Financiamento de Veículo"},{value:"other",label:"Outra Dívida"}],Joe=({isOpen:t,onClose:e,onSave:n,existingDebt:r})=>{const[i,a]=R.useState(""),[o,l]=R.useState("other"),[c,d]=R.useState(""),[f,h]=R.useState(""),[v,_]=R.useState(""),[b,S]=R.useState(""),[w,A]=R.useState({});R.useEffect(()=>{var I;t&&(r?(a(r.name),l(r.type),d(r.initial_balance.toString()),h(r.interest_rate_annual.toString()),_(r.minimum_payment.toString()),S(((I=r.due_date_day_of_month)==null?void 0:I.toString())||"")):(a(""),l("other"),d(""),h(""),_(""),S("")),A({}))},[r,t]);const O=()=>{const I={};i.trim()||(I.name="Nome da dívida é obrigatório.");const E=parseFloat(c);(isNaN(E)||E<=0)&&(I.initialBalance="Saldo inicial deve ser positivo.");const P=parseFloat(f);(isNaN(P)||P<0)&&(I.interestRateAnnual="Taxa de juros deve ser um número não negativo.");const N=parseFloat(v);if((isNaN(N)||N<=0)&&(I.minimumPayment="Pagamento mínimo deve ser positivo."),b){const D=parseInt(b,10);(isNaN(D)||D<1||D>31)&&(I.dueDateDayOfMonth="Dia de vencimento deve ser entre 1 e 31.")}return A(I),Object.keys(I).length===0},T=()=>{if(!O())return;const I={name:i.trim(),type:o,initial_balance:parseFloat(c),interest_rate_annual:parseFloat(f),minimum_payment:parseFloat(v),due_date_day_of_month:b?parseInt(b,10):void 0},E=r?{...I,id:r.id}:{...I,id:Qe()};n(E),e()};return y.jsx(cn,{isOpen:t,onClose:e,title:r?"Editar Dívida":"Nova Dívida",size:"lg",children:y.jsxs("div",{className:"space-y-4",children:[y.jsx(Ve,{label:"Nome da Dívida",id:"debtName",value:i,onChange:I=>a(I.target.value),error:w.name,placeholder:"Ex: Cartão XP Fatura, Financiamento Carro",required:!0}),y.jsx(_t,{label:"Tipo de Dívida",id:"debtType",options:Yoe,value:o,onChange:I=>l(I.target.value),required:!0}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(Ve,{label:"Saldo Devedor Inicial (R$)",id:"initialBalance",type:"number",step:"0.01",value:c,onChange:I=>d(I.target.value),error:w.initialBalance,required:!0}),y.jsx(Ve,{label:"Taxa de Juros Anual (%)",id:"interestRateAnnual",type:"number",step:"0.01",value:f,onChange:I=>h(I.target.value),error:w.interestRateAnnual,placeholder:"Ex: 19.9 para 19.9%",required:!0})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(Ve,{label:"Pagamento Mínimo Mensal (R$)",id:"minimumPayment",type:"number",step:"0.01",value:v,onChange:I=>_(I.target.value),error:w.minimumPayment,required:!0}),y.jsx(Ve,{label:"Dia de Vencimento (Opcional)",id:"dueDateDayOfMonth",type:"number",min:"1",max:"31",value:b,onChange:I=>S(I.target.value),error:w.dueDateDayOfMonth,placeholder:"Ex: 15"})]}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(ge,{type:"button",variant:"primary",onClick:T,children:r?"Salvar Alterações":"Adicionar Dívida"})]})]})})},Xoe=({isOpen:t,onClose:e,onSave:n,debt:r,accounts:i})=>{const[a,o]=R.useState(""),[l,c]=R.useState(ht()),[d,f]=R.useState(""),[h,v]=R.useState(!1),[_,b]=R.useState(""),[S,w]=R.useState({});R.useEffect(()=>{t&&(o(""),c(ht()),f(""),v(!1),b(i.length>0?i[0].id:""),w({}))},[t,i]);const A=()=>{const T={},I=parseFloat(a);return isNaN(I)||I<=0?T.amountPaid="Valor pago deve ser positivo.":I>r.current_balance,l||(T.paymentDate="Data do pagamento é obrigatória."),h&&!_&&(T.linkedAccountId="Conta de origem da despesa é obrigatória."),w(T),Object.keys(T).length===0},O=()=>{if(!A())return;const T={debt_id:r.id,payment_date:l,amount_paid:parseFloat(a),notes:d.trim()||void 0};n(T,h,_),e()};return y.jsx(cn,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.name}`,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Saldo Devedor Atual: ",y.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:r.current_balance})]}),y.jsx(Ve,{label:"Valor Pago (R$)",id:"paymentAmount",type:"number",step:"0.01",value:a,onChange:T=>o(T.target.value),error:S.amountPaid,required:!0}),y.jsx(Ve,{label:"Data do Pagamento",id:"paymentDate",type:"date",value:l,onChange:T=>c(T.target.value),error:S.paymentDate,required:!0}),y.jsx(bc,{label:"Notas (Opcional)",id:"paymentNotes",value:d,onChange:T=>f(T.target.value),rows:2}),i.length>0&&y.jsxs("div",{className:"pt-2",children:[y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",checked:h,onChange:T=>v(T.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark"}),y.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Registrar como despesa em uma conta?"})]}),h&&y.jsx(_t,{containerClassName:"mt-2",label:"Conta de Origem da Despesa",id:"linkedExpenseAccount",options:i.map(T=>({value:T.id,label:T.name})),value:_,onChange:T=>b(T.target.value),error:S.linkedAccountId,placeholder:"Selecione uma conta"})]}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(ge,{type:"button",variant:"primary",onClick:O,children:"Salvar Pagamento"})]})]})})},Zoe=(t,e,n)=>{let r=JSON.parse(JSON.stringify(t)).filter(d=>d.current_balance>0&&!d.is_archived).map(d=>({...d,workingBalance:d.current_balance,interestPaidThisDebt:0,monthsToPayoffThisDebt:0,monthlyPaymentsLog:[]})),i=0,a=0,o=0;const l=600,c=[];for(;r.some(d=>d.workingBalance>0)&&i<l;){i++;let d=e;for(const f of r){if(f.workingBalance<=0)continue;const h=f.interest_rate_annual/100/12,v=f.workingBalance*h;f.workingBalance+=v,f.interestPaidThisDebt+=v,a+=v}for(const f of r){if(f.workingBalance<=0)continue;const h=Math.min(f.workingBalance,f.minimum_payment);f.workingBalance-=h,o+=h-(f.workingBalance<h?f.workingBalance*(f.interest_rate_annual/100/12):0),f.monthlyPaymentsLog.push({month:i,payment:h,interest:f.workingBalance<h?f.workingBalance*(f.interest_rate_annual/100/12):0,principal:h-(f.workingBalance<h?f.workingBalance*(f.interest_rate_annual/100/12):0),remainingBalance:f.workingBalance}),f.workingBalance<=0&&(d+=f.minimum_payment,f.monthsToPayoffThisDebt=i,c.push({debtId:f.id,monthsToPayoffThisDebt:f.monthsToPayoffThisDebt,interestPaidThisDebt:f.interestPaidThisDebt,principalPaidThisDebt:f.initial_balance,monthlyPayments:f.monthlyPaymentsLog}))}if(r=r.filter(f=>f.workingBalance>0),r.length===0)break;if(d>0&&(n==="snowball"?r.sort((f,h)=>f.workingBalance-h.workingBalance):n==="avalanche"&&r.sort((f,h)=>h.interest_rate_annual-f.interest_rate_annual),r.length>0)){const f=r[0],h=Math.min(f.workingBalance,d);f.workingBalance-=h,o+=h,d-=h;const v=f.monthlyPaymentsLog.findIndex(_=>_.month===i);v>-1?(f.monthlyPaymentsLog[v].payment+=h,f.monthlyPaymentsLog[v].principal+=h,f.monthlyPaymentsLog[v].remainingBalance=f.workingBalance):f.monthlyPaymentsLog.push({month:i,payment:h,interest:0,principal:h,remainingBalance:f.workingBalance}),f.workingBalance<=0&&(f.monthsToPayoffThisDebt=i,c.push({debtId:f.id,monthsToPayoffThisDebt:f.monthsToPayoffThisDebt,interestPaidThisDebt:f.interestPaidThisDebt,principalPaidThisDebt:f.initial_balance,monthlyPayments:f.monthlyPaymentsLog}),r=r.filter(_=>_.workingBalance>0))}}return t.forEach(d=>{if(!c.find(f=>f.debtId===d.id)){const f=r.find(h=>h.id===d.id)||t.find(h=>h.id===d.id);c.push({debtId:d.id,monthsToPayoffThisDebt:(f==null?void 0:f.workingBalance)>0&&i===l?l:(f==null?void 0:f.monthsToPayoffThisDebt)||i,interestPaidThisDebt:(f==null?void 0:f.interestPaidThisDebt)||0,principalPaidThisDebt:d.initial_balance-((f==null?void 0:f.workingBalance)||0),monthlyPayments:(f==null?void 0:f.monthlyPaymentsLog)||[]})}}),{strategy:n,monthsToPayoff:i>=l&&r.some(d=>d.workingBalance>0)?-1:i,totalInterestPaid:a,totalPrincipalPaid:t.reduce((d,f)=>d+f.initial_balance,0)-r.reduce((d,f)=>d+f.workingBalance,0),totalPaid:a+(t.reduce((d,f)=>d+f.initial_balance,0)-r.reduce((d,f)=>d+f.workingBalance,0)),payoffDetails:c.sort((d,f)=>d.monthsToPayoffThisDebt-f.monthsToPayoffThisDebt)}},Qoe=({debt:t,onRegisterPayment:e,onEdit:n,onDelete:r,hasPayments:i,isPrivacyModeEnabled:a})=>{const o=t.initial_balance>0?Math.max(0,Math.min((t.initial_balance-t.current_balance)/t.initial_balance*100,100)):0;return y.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name}),y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:t.type==="credit_card_balance"?"Saldo de Cartão":t.type==="personal_loan"?"Empréstimo Pessoal":"Outra Dívida"})]}),y.jsxs("div",{className:"flex space-x-1",children:[y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Dívida",className:"!p-1.5",children:y.jsx(Fr,{className:"w-4 h-4"})}),y.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Dívida",className:"!p-1.5",disabled:i,title:i?"Exclua os pagamentos desta dívida primeiro":"Excluir Dívida",children:y.jsx(Br,{className:`w-4 h-4 ${i?"text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-xl font-bold text-destructive dark:text-destructiveDark",children:["Saldo Devedor: ",he(t.current_balance,"BRL","pt-BR",a)]}),y.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Taxa de Juros: ",t.interest_rate_annual,"% a.a. | Mínimo: ",he(t.minimum_payment,"BRL","pt-BR",a)]}),t.due_date_day_of_month&&y.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Vencimento usual: Dia ",t.due_date_day_of_month]})]}),t.initial_balance>0&&y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[y.jsx("span",{children:"Progresso"}),y.jsxs("span",{children:[o.toFixed(0),"%"]})]}),y.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:y.jsx("div",{className:"h-2 rounded-full bg-secondary dark:bg-secondaryDark",style:{width:`${o}%`}})})]}),t.current_balance>0&&y.jsxs(ge,{variant:"secondary",size:"sm",onClick:()=>e(t),children:[y.jsx(kn,{className:"w-4 h-4 mr-1"})," Registrar Pagamento"]}),t.current_balance<=0&&y.jsx("p",{className:"text-sm font-semibold text-secondary dark:text-secondaryDark",children:"Dívida Quitada!"})]})},ese=({debts:t,debtPayments:e,accounts:n,onAddDebt:r,onUpdateDebt:i,onDeleteDebt:a,onAddDebtPayment:o,onFetchDebtStrategyExplanation:l,onFetchDebtProjectionSummary:c,isPrivacyModeEnabled:d})=>{var _e;const[f,h]=R.useState(!1),[v,_]=R.useState(null),[b,S]=R.useState(!1),[w,A]=R.useState(null),[O,T]=R.useState("0"),[I,E]=R.useState("snowball"),[P,N]=R.useState(null),[D,B]=R.useState(!1),[q,L]=R.useState(!1),[W,J]=R.useState(!1),H=()=>{_(null),h(!0)},F=ce=>{_(ce),h(!0)},Z=ce=>{A(ce),S(!0)},Y=R.useMemo(()=>t.filter(ce=>!ce.is_archived).reduce((ce,Ie)=>ce+Ie.current_balance,0),[t]),G=R.useMemo(()=>t.filter(ce=>!ce.is_archived&&ce.current_balance>0).reduce((ce,Ie)=>ce+Ie.minimum_payment,0),[t]),te=ce=>e.some(Ie=>Ie.debt_id===ce),ae=()=>{B(!0),N(null);const ce=t.filter(Je=>!Je.is_archived&&Je.current_balance>0);if(ce.length===0){alert("Nenhuma dívida ativa para calcular o plano."),B(!1);return}const Ie=Zoe(ce,parseFloat(O)||0,I);N(Ie),B(!1)},j=async ce=>{L(!0),await l(ce)},Q=async()=>{P&&(J(!0),await c(P,t.filter(ce=>!ce.is_archived&&ce.current_balance>0),I))},de=[{value:"minimums",label:"Apenas Pagamentos Mínimos"},{value:"snowball",label:"Bola de Neve (Menor Saldo Primeiro)"},{value:"avalanche",label:"Avalanche (Maior Juros Primeiro)"}];return y.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(Sj,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),y.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Planejador de Dívidas"})]}),y.jsxs(ge,{onClick:H,variant:"primary",children:[y.jsx(kn,{className:"w-5 h-5 mr-2"}),"Adicionar Dívida"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"TOTAL DE DÍVIDAS ATUAIS"}),y.jsx("p",{className:"text-3xl font-bold text-destructive dark:text-destructiveDark",children:he(Y,"BRL","pt-BR",d)})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[y.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SOMA DOS PAGAMENTOS MÍNIMOS"}),y.jsxs("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-500",children:[he(G,"BRL","pt-BR",d)," / mês"]})]})]}),y.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30 space-y-4",children:[y.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Estratégia de Quitação"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[y.jsx(Ve,{label:"Pagamento Extra Mensal (R$)",id:"extraPayment",type:"number",step:"0.01",min:"0",value:O,onChange:ce=>T(ce.target.value),placeholder:"Ex: 100.00"}),y.jsx(_t,{label:"Escolha a Estratégia",id:"debtStrategy",options:de,value:I,onChange:ce=>E(ce.target.value)})]}),y.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[y.jsxs(ge,{variant:"ghost",size:"sm",onClick:()=>j("snowball"),className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline",children:[y.jsx(ao,{className:"w-3.5 h-3.5 mr-1"})," Entenda: Bola de Neve"]}),y.jsxs(ge,{variant:"ghost",size:"sm",onClick:()=>j("avalanche"),className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline",children:[y.jsx(ao,{className:"w-3.5 h-3.5 mr-1"})," Entenda: Avalanche"]})]}),y.jsx(ge,{onClick:ae,variant:"primary",disabled:D,className:"w-full sm:w-auto",children:D?"Calculando...":"Calcular Plano de Quitação"}),P&&y.jsxs("div",{className:"mt-4 pt-4 border-t border-borderBase dark:border-borderBaseDark space-y-3",children:[y.jsxs("h3",{className:"text-lg font-semibold",children:["Resultado da Projeção (",(_e=de.find(ce=>ce.value===I))==null?void 0:_e.label,"):"]}),y.jsxs("p",{children:["Tempo para quitar todas as dívidas: ",y.jsxs("span",{className:"font-bold",children:[(P.monthsToPayoff/12).toFixed(1)," anos"]})," (",P.monthsToPayoff," meses)"]}),y.jsxs("p",{children:["Total de Juros Pagos: ",y.jsx("span",{className:"font-bold",children:he(P.totalInterestPaid,"BRL","pt-BR",d)})]}),y.jsxs("p",{children:["Total Principal Pago: ",y.jsx("span",{className:"font-bold",children:he(P.totalPrincipalPaid,"BRL","pt-BR",d)})]}),y.jsx("h4",{className:"text-md font-semibold mt-2",children:"Ordem de Quitação:"}),y.jsx("ul",{className:"list-decimal list-inside text-sm space-y-1",children:P.payoffDetails.map(ce=>{const Ie=t.find(Je=>Je.id===ce.debtId);return y.jsxs("li",{children:[y.jsx("strong",{children:(Ie==null?void 0:Ie.name)||"Dívida Desconhecida"}),": Quitada em ",ce.monthsToPayoffThisDebt," meses. Juros pagos nesta dívida: ",he(ce.interestPaidThisDebt,"BRL","pt-BR",d),"."]},ce.debtId)})}),y.jsxs(ge,{variant:"ghost",size:"sm",onClick:Q,className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline mt-2",children:[y.jsx(ao,{className:"w-3.5 h-3.5 mr-1"})," Obter Resumo da IA sobre este plano"]})]})]}),t.filter(ce=>!ce.is_archived).length>0?y.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.filter(ce=>!ce.is_archived).sort((ce,Ie)=>ce.name.localeCompare(Ie.name)).map(ce=>y.jsx(Qoe,{debt:ce,onRegisterPayment:Z,onEdit:F,onDelete:a,hasPayments:te(ce.id),isPrivacyModeEnabled:d},ce.id))}):y.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma dívida cadastrada. Adicione suas dívidas para começar a planejar!"}),f&&y.jsx(Joe,{isOpen:f,onClose:()=>h(!1),onSave:v?ce=>i({...ce,id:v.id}):r,existingDebt:v}),b&&w&&y.jsx(Xoe,{isOpen:b,onClose:()=>S(!1),onSave:o,debt:w,accounts:n}),y.jsx(cn,{isOpen:q,onClose:()=>L(!1),title:"Explicação da Estratégia (IA)",children:y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Buscando explicação da IA... Verifique o AI Coach para a resposta completa."})}),y.jsx(cn,{isOpen:W,onClose:()=>J(!1),title:"Resumo do Plano (IA)",children:y.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Buscando resumo da IA... Verifique o AI Coach para a resposta completa."})})]})},tse=({onSubmit:t,onCancel:e,accounts:n,creditCards:r,categories:i,tags:a,initialTransaction:o,isPrivacyModeEnabled:l})=>{var Y;const[c,d]=R.useState((o==null?void 0:o.type)||pe.EXPENSE),[f,h]=R.useState((o==null?void 0:o.amount.toString())||""),[v,_]=R.useState((o==null?void 0:o.category_id)||""),[b,S]=R.useState((o==null?void 0:o.description)||""),[w,A]=R.useState((o==null?void 0:o.date)||ht()),[O,T]=R.useState((o==null?void 0:o.account_id)||(n.length>0?n[0].id:"")),[I,E]=R.useState((o==null?void 0:o.to_account_id)||(n.length>1?n[1].id:"")),[P,N]=R.useState((o==null?void 0:o.tag_ids)||[]),[D,B]=R.useState({}),q=R.useMemo(()=>{const G=n.map(ae=>({value:ae.id,label:`Conta: ${ae.name}`,type:"account"})),te=r.map(ae=>({value:ae.id,label:`Cartão: ${ae.name}`,type:"creditCard"}));return[...G,...te]},[n,r]);R.useEffect(()=>{var G,te,ae,j;o?(d(o.type),h(o.amount.toString()),_(o.category_id||""),S(o.description||""),A(o.date),T(o.account_id),E(o.to_account_id||""),N(o.tag_ids||[])):(d(pe.EXPENSE),h(""),_(((G=i.filter(Q=>Q.type===pe.EXPENSE)[0])==null?void 0:G.id)||""),S(""),A(ht()),T(((te=q[0])==null?void 0:te.value)||""),E(((ae=n[1])==null?void 0:ae.id)||((j=n[0])==null?void 0:j.id)||""),N([]))},[o,n,i,q]),R.useEffect(()=>{var te;if(c!==pe.TRANSFER){const ae=i.find(j=>j.id===v);if(!ae||ae.type!==c){const j=i.find(Q=>Q.type===c);_((j==null?void 0:j.id)||"")}}const G=q.find(ae=>ae.value===O);(G==null?void 0:G.type)==="creditCard"&&(c===pe.INCOME||c===pe.TRANSFER)&&T(((te=n[0])==null?void 0:te.id)||"")},[c,v,i,O,n,q]);const L=()=>{const G={};(!f||parseFloat(f)<=0)&&(G.amount="Valor deve ser maior que zero.");const te=q.find(ae=>ae.value===O);return c!==pe.TRANSFER&&!v&&(te==null?void 0:te.type)!=="creditCard"&&(v||(G.categoryId="Categoria é obrigatória.")),O||(G.sourceId="Origem (Conta/Cartão) é obrigatória."),c===pe.TRANSFER&&!I&&(G.toAccountId="Conta de destino é obrigatória."),c===pe.TRANSFER&&O===I&&(G.toAccountId="Conta de origem e destino não podem ser iguais."),c===pe.TRANSFER&&(te==null?void 0:te.type)==="creditCard"&&(G.sourceId="Transferências não podem originar de um cartão de crédito."),w||(G.date="Data é obrigatória."),B(G),Object.keys(G).length===0},W=G=>{if(G.preventDefault(),!L())return;const te={...o?{id:o.id}:{},type:c,amount:parseFloat(f),category_id:c===pe.TRANSFER?void 0:v,description:b,date:w,account_id:O,to_account_id:c===pe.TRANSFER?I:void 0,tag_ids:P.length>0?P:void 0};t(te)},J=G=>{const te=G.target.options,ae=[];for(let j=0,Q=te.length;j<Q;j++)te[j].selected&&ae.push(te[j].value);N(ae)},H=i.filter(G=>G.type===c),F=a.map(G=>({value:G.id,label:G.name})),Z=((Y=q.find(G=>G.value===O))==null?void 0:Y.type)==="creditCard";return y.jsxs("form",{onSubmit:W,className:"space-y-4",children:[y.jsx(_t,{label:"Tipo",id:"type",options:Sh,value:c,onChange:G=>d(G.target.value)}),y.jsx(Ve,{label:"Valor",id:"amount",type:"number",step:"0.01",value:f,onChange:G=>h(G.target.value),error:D.amount,placeholder:l?he(0,"BRL","pt-BR",!0).replace("0,00","Ex: 123.45"):"Ex: 123.45",required:!0}),c!==pe.TRANSFER&&y.jsx(_t,{label:Z&&c===pe.EXPENSE?"Categoria (Opcional para Débito Direto no Cartão)":"Categoria",id:"category",options:H.map(G=>({value:G.id,label:G.name})),value:v,onChange:G=>_(G.target.value),error:D.categoryId,placeholder:"Selecione uma categoria",disabled:H.length===0}),y.jsx(Ve,{label:"Descrição (Opcional)",id:"description",type:"text",value:b,onChange:G=>S(G.target.value),placeholder:Z&&c===pe.EXPENSE?"Ex: Academia, Assinatura Spotify (será usado na fatura)":"Ex: Compras no mercado"}),y.jsx(Ve,{label:"Data",id:"date",type:"date",value:w,onChange:G=>A(G.target.value),error:D.date,required:!0}),y.jsx(_t,{label:c===pe.TRANSFER?"Debitar de (Conta)":"Debitar de (Conta / Cartão)",id:"sourceId",options:c===pe.TRANSFER?q.filter(G=>G.type==="account"):q,value:O,onChange:G=>T(G.target.value),error:D.sourceId,placeholder:"Selecione uma origem",disabled:q.length===0}),c===pe.TRANSFER&&y.jsx(_t,{label:"Conta de Destino",id:"toAccountId",options:n.map(G=>({value:G.id,label:G.name})),value:I,onChange:G=>E(G.target.value),error:D.toAccountId,placeholder:"Selecione uma conta de destino",disabled:n.length===0}),a.length>0&&y.jsx(_t,{label:"Tags (Opcional, segure Ctrl/Cmd para selecionar várias)",id:"tags",multiple:!0,options:F,value:P,onChange:J,containerClassName:"h-auto",className:"h-24"}),y.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[y.jsx(ge,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),y.jsx(ge,{type:"submit",variant:"primary",children:o?"Salvar Alterações":"Adicionar Transação"})]})]})},nse=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-6.364-.386 1.591-1.591M3 12h2.25m.386-6.364 1.591 1.591M12 12a2.25 2.25 0 0 0-2.25 2.25 2.25 2.25 0 0 0 2.25 2.25A2.25 2.25 0 0 0 14.25 12 2.25 2.25 0 0 0 12 12Z"})}),rse=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),ise=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25Z"})}),ase=({theme:t,setTheme:e})=>{const n=[{name:"light",label:"Claro",icon:y.jsx(nse,{className:"w-4 h-4"})},{name:"dark",label:"Escuro",icon:y.jsx(rse,{className:"w-4 h-4"})},{name:"system",label:"Sistema",icon:y.jsx(ise,{className:"w-4 h-4"})}];return y.jsxs("div",{className:"p-2",children:[y.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark mb-1 px-1",children:"Tema"}),y.jsx("div",{className:"flex items-center justify-around bg-neutral/10 dark:bg-neutralDark/20 rounded-md p-1",children:n.map(r=>y.jsxs(ge,{variant:"ghost",size:"sm",onClick:()=>e(r.name),className:`flex-1 !px-2 !py-1 text-xs transition-all duration-200 ease-in-out
                        ${t===r.name?"!bg-primary/20 dark:!bg-primaryDark/30 !text-primary dark:!text-primaryDark":"hover:!bg-neutral/20 dark:hover:!bg-neutralDark/30 !text-textMuted dark:!text-textMutedDark"}`,title:`Mudar para tema ${r.label.toLowerCase()}`,"aria-pressed":t===r.name,children:[K.cloneElement(r.icon,{className:"w-4 h-4 sm:mr-1"}),y.jsx("span",{className:"hidden sm:inline",children:r.label})]},r.name))})]})},ose=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),sse=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93s.844.179 1.259.038l.821-.393c.55-.263 1.18.055 1.39.606l.548 1.004c.21.55-.056 1.18-.607 1.39l-.82.393c-.415.198-.688.598-.758 1.038s.038.844.179 1.259l.393.821c.263.55.055 1.18-.606 1.39l-1.004.548c-.55.21-1.18-.056-1.39-.607l-.393-.82c-.198-.415-.598-.688-1.038-.758s-.844-.038-1.259.179l-.821.393c-.55.263-1.18-.055-1.39-.606l-.548-1.004c-.21-.55.056-1.18.607-1.39l.82-.393c.415-.198.688.598-.758-1.038s-.038-.844-.179-1.259l-.393-.821c-.263-.55-.055-1.18.606-1.39l1.004-.548c.55-.21 1.18.056 1.39.607l.393.82c.198.415.598.688 1.038.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433l-.002-.003c-.043-.073-.086-.146-.129-.219l-.821-.393c-.415-.198-.688-.598-.758-1.038s.038-.844-.179-1.259l.393-.821A.991.991 0 0 0 12 3c-.55 0-1.02.398-1.11.94l-.149.894c-.07.424-.384.764-.78.93s-.844.179-1.259.038l-.821-.393a.991.991 0 0 0-1.433.287l-.003.002c-.073.043-.146.086-.219.129l-.393.821c-.198-.415-.598-.688-1.038.758s-.844-.038-1.259.179l-.821.393a.991.991 0 0 0-.287 1.433l.002.003c.043.073.086.146.129.219l.821.393c.415.198.688.598.758 1.038s-.038.844-.179-1.259l-.393.821a.991.991 0 0 0 1.433.287l.003-.002c.073-.043.146-.086.219-.129l.393-.821c.198-.415.598-.688 1.038-.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433L10.343 3.94Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})]}),lse=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5L12 14.25L7.5 16.5V3.75m9 0H18A2.25 2.25 0 0 1 20.25 6v12A2.25 2.25 0 0 1 18 20.25H6A2.25 2.25 0 0 1 3.75 18V6A2.25 2.25 0 0 1 6 3.75h1.5m9 0h-9"})}),use=({className:t="w-6 h-6",style:e})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),cse=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}),dse=({className:t="w-6 h-6",style:e})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"})}),fse=()=>{var Pa;const{addToast:t}=CM(),[e,n]=R.useState(null),[r,i]=R.useState(null),[a,o]=R.useState(!0),[l,c]=R.useState(null),[d,f]=R.useState("system"),[h,v]=R.useState(!1),[_,b]=R.useState({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),[S,w]=R.useState([]),[A,O]=R.useState([]),[T,I]=R.useState([]),[E,P]=R.useState([]),[N,D]=R.useState([]),[B,q]=R.useState([]),[L,W]=R.useState([]),[J,H]=R.useState([]),[F,Z]=R.useState([]),[Y,G]=R.useState([]),[te,ae]=R.useState([]),[j,Q]=R.useState([]),[de,_e]=R.useState([]),[ce,Ie]=R.useState([]),[Je,He]=R.useState([]),[ye,Be]=R.useState(!0),[ze,fe]=R.useState("DASHBOARD"),[yt,tt]=R.useState(!1),[Tt,bt]=R.useState(null),qt=R.useMemo(()=>{var $;return(($=r==null?void 0:r.user_metadata)==null?void 0:$.full_name)||(r==null?void 0:r.email)||"Usuário"},[r]);R.useEffect(()=>{o(!0),Ae.auth.getSession().then(({data:{session:V}})=>{n(V),i((V==null?void 0:V.user)??null),o(!1)});const{data:{subscription:$}}=Ae.auth.onAuthStateChange((V,U)=>{n(U),i((U==null?void 0:U.user)??null),o(!1),V==="SIGNED_OUT"&&(fe("LOGIN"),w([]),O([]),I([]),P([]),D([]),q([]),W([]),H([]),Z([]),G([]),ae([]),Q([]),_e([]),Ie([]),He([]),f("system"),v(!1),b({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),t("Você foi desconectado.","info"))});return()=>$.unsubscribe()},[t]);const Ln=R.useCallback(async $=>{var V,U;Be(!0);try{const{data:re,error:ne}=await Ae.from("user_preferences").select("*").eq("user_id",$).single();if(ne&&ne.code!=="PGRST116")throw ne;if(re)f(re.theme),v(re.is_privacy_mode_enabled),b({isEnabled:re.ai_is_enabled,monthlyIncome:re.ai_monthly_income,autoBackupToFileEnabled:re.ai_auto_backup_enabled,apiKeyStatus:ei()?"available":"unavailable"});else{const Jt={theme:"system",is_privacy_mode_enabled:!1,ai_is_enabled:!1,ai_monthly_income:null,ai_auto_backup_enabled:!1},{error:hn}=await Ae.from("user_preferences").insert({user_id:$,...Jt});if(hn)throw hn;f(Jt.theme),v(Jt.is_privacy_mode_enabled),b({isEnabled:Jt.ai_is_enabled,monthlyIncome:Jt.ai_monthly_income,autoBackupToFileEnabled:Jt.ai_auto_backup_enabled,apiKeyStatus:ei()?"available":"unavailable"})}const[ue,Ee,xe,Fe,Ce,ke,lt,fn,ai,Ao,Po,Oo,Oa,Ui,sr]=await Promise.all([Ae.from("transactions").select("*").eq("user_id",$).order("date",{ascending:!1}),Ae.from("accounts").select("*").eq("user_id",$).order("name"),Ae.from("categories").select("*").eq("user_id",$).order("name"),Ae.from("credit_cards").select("*").eq("user_id",$).order("name"),Ae.from("installment_purchases").select("*").eq("user_id",$).order("purchase_date",{ascending:!1}),Ae.from("money_boxes").select("*").eq("user_id",$).order("name"),Ae.from("money_box_transactions").select("*").eq("user_id",$).order("date",{ascending:!1}),Ae.from("future_purchases").select("*").eq("user_id",$).order("created_at",{ascending:!1}),Ae.from("tags").select("*").eq("user_id",$).order("name"),Ae.from("recurring_transactions").select("*").eq("user_id",$).order("next_due_date"),Ae.from("loans").select("*").eq("user_id",$).order("loan_date",{ascending:!1}),Ae.from("loan_repayments").select("*").eq("user_id",$).order("repayment_date",{ascending:!1}),Ae.from("ai_insights").select("*").eq("user_id",$).order("timestamp",{ascending:!1}),Ae.from("debts").select("*").eq("user_id",$).order("created_at",{ascending:!1}),Ae.from("debt_payments").select("*").eq("user_id",$).order("payment_date",{ascending:!1})]);if(ue.error)throw ue.error;if(w(ue.data),Ee.error)throw Ee.error;if(O(Ee.data),xe.error)throw xe.error;if(I(xe.data),Fe.error)throw Fe.error;if(P(Fe.data),Ce.error)throw Ce.error;if(D(Ce.data),ke.error)throw ke.error;if(q(ke.data),lt.error)throw lt.error;if(W(lt.data),fn.error)throw fn.error;if(H(fn.data),ai.error)throw ai.error;if(Z(ai.data),Ao.error)throw Ao.error;if(G(Ao.data),Po.error)throw Po.error;if(ae(Po.data),Oo.error)throw Oo.error;if(Q(Oo.data),Oa.error)throw Oa.error;if(_e(Oa.data),Ui.error)throw Ui.error;if(Ie(Ui.data),sr.error)throw sr.error;if(He(sr.data),((V=Ee.data)==null?void 0:V.length)===0){const Jt=CB($).map(oi=>({...oi,user_id:$})),{data:hn,error:Cr}=await Ae.from("accounts").insert(Jt).select();if(Cr)throw Cr;hn&&O(hn)}if(((U=xe.data)==null?void 0:U.length)===0){const Jt=SB($).map(oi=>({...oi,user_id:$})),{data:hn,error:Cr}=await Ae.from("categories").insert(Jt).select();if(Cr)throw Cr;hn&&I(hn)}fe("DASHBOARD")}catch(re){console.error("Error fetching user data:",re),t(`Erro ao carregar dados: ${re.message}`,"error")}finally{Be(!1)}},[t]);R.useEffect(()=>{r&&!a?Ln(r.id):!r&&!a&&(fe("LOGIN"),Be(!1))},[r,a,Ln]);const En=R.useCallback(async($,V,U)=>{const{error:re}=await Ae.from("user_preferences").update({[V]:U,updated_at:new Date().toISOString()}).eq("user_id",$);re&&(console.error(`Error updating user preference ${V}:`,re),t(`Erro ao salvar preferência (${V}): ${re.message}`,"error"))},[t]),ar=R.useCallback($=>{f($),r&&En(r.id,"theme",$)},[r,En]),yn=R.useCallback(()=>{const $=!h;v($),r&&En(r.id,"is_privacy_mode_enabled",$)},[h,r,En]),Bn=R.useCallback($=>{const V={};$.isEnabled!==void 0&&(V.ai_is_enabled=$.isEnabled),$.monthlyIncome!==void 0&&(V.ai_monthly_income=$.monthlyIncome),$.autoBackupToFileEnabled!==void 0&&(V.ai_auto_backup_enabled=$.autoBackupToFileEnabled),b(U=>({...U,...$})),r&&Object.keys(V).length>0&&Ae.from("user_preferences").update({...V,updated_at:new Date().toISOString()}).eq("user_id",r.id).then(({error:U})=>{U&&(console.error("Error updating AI config in preferences:",U),t(`Erro ao salvar configurações da IA: ${U.message}`,"error"))})},[r,t]);R.useEffect(()=>{const $=V=>{V==="dark"||V==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};if($(d),d==="system"){const V=window.matchMedia("(prefers-color-scheme: dark)"),U=()=>$("system");return V.addEventListener("change",U),()=>V.removeEventListener("change",U)}},[d]);const Di=async()=>{try{c(null);const{error:$}=await Ae.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://thiago3005.github.io/controle-financeiro/"}});if($)throw $}catch($){console.error("Error signing in with Google:",$),c($.message||"Falha ao fazer login com Google."),t($.message||"Falha ao fazer login com Google.","error")}},Ta=async()=>{try{const{error:$}=await Ae.auth.signOut();if($)throw $}catch($){console.error("Error signing out:",$),t($.message||"Falha ao sair.","error")}},Sr=R.useCallback($=>{if(!r)return 0;const V=A.find(U=>U.id===$);return V?S.reduce((U,re)=>{if(re.account_id===$){if(re.type===pe.INCOME)return U+re.amount;if(re.type===pe.EXPENSE||re.type===pe.TRANSFER)return U-re.amount}else if(re.to_account_id===$&&re.type===pe.TRANSFER)return U+re.amount;return U},V.initial_balance):0},[A,S,r]),Ri=R.useCallback($=>r?L.reduce((V,U)=>{if(U.money_box_id===$){if(U.type===rr.DEPOSIT)return V+U.amount;if(U.type===rr.WITHDRAWAL)return V-U.amount}return V},0):0,[L,r]),Ut=R.useCallback($=>{if(!r)return null;const V=new Date,U=ht(V),re=V.getDate(),ne=V.getFullYear(),ue=V.getMonth(),Ee=new Date(ne,ue+1,0).getDate();let xe=[...S];if($){const Ce={id:`simulated-${Qe()}`,user_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),type:$.type,amount:$.amount,date:$.date,description:$.description,account_id:"simulated_account"};xe.push(Ce)}const Fe=()=>d==="system"?typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":d;return{currentDate:U,dayOfMonth:re,daysInMonth:Ee,accounts:A.map(Ce=>({id:Ce.id,name:Ce.name})),accountBalances:A.map(Ce=>({accountId:Ce.id,balance:Sr(Ce.id)})),categories:T.map(Ce=>({id:Ce.id,name:Ce.name,type:Ce.type,monthly_budget:Ce.monthly_budget})),transactions:xe,moneyBoxes:B.map(Ce=>({id:Ce.id,name:Ce.name,goal_amount:Ce.goal_amount})),moneyBoxBalances:B.map(Ce=>({moneyBoxId:Ce.id,balance:Ri(Ce.id)})),loans:te.map(Ce=>({id:Ce.id,person_name:Ce.person_name,total_amount_to_reimburse:Ce.total_amount_to_reimburse})),outstandingLoanBalances:te.map(Ce=>{const ke=j.filter(lt=>lt.loan_id===Ce.id).reduce((lt,fn)=>lt+fn.amount_paid,0);return{loanId:Ce.id,outstanding:Ce.total_amount_to_reimburse-ke}}),recurringTransactions:Y.map(Ce=>({id:Ce.id,description:Ce.description,amount:Ce.amount,type:Ce.type,next_due_date:Ce.next_due_date,frequency:Ce.frequency,category_id:Ce.category_id})),futurePurchases:J.map(Ce=>({id:Ce.id,name:Ce.name,estimated_cost:Ce.estimated_cost,priority:Ce.priority,status:Ce.status})),theme:Fe(),monthlyIncome:_.monthlyIncome,simulatedTransactionData:$,debts:ce}},[r,A,S,T,B,L,te,j,Y,J,d,_.monthlyIncome,ce,Sr,Ri]),wt=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("ai_insights").insert({...$,user_id:r.id}).select().single();U?t(`Erro ao salvar insight: ${U.message}`,"error"):V&&_e(re=>[V,...re].sort((ne,ue)=>new Date(ue.timestamp).getTime()-new Date(ne.timestamp).getTime()))},wc=R.useCallback(async()=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const $=Ut();if(!$)return;const V={timestamp:new Date().toISOString(),type:"general_advice",content:"Buscando novo conselho...",is_read:!1,isLoading:!0},U=Qe();_e(ne=>[{...V,id:U,user_id:r.id,created_at:"",updated_at:""},...ne]);const re=await ooe($);_e(ne=>ne.filter(ue=>ue.id!==U)),re&&wt(re)},[r,_.isEnabled,_.apiKeyStatus,Ut,wt]),ji=R.useCallback(async $=>{var xe,Fe,Ce;if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const V=Ut();if(!V)return;const U={timestamp:new Date().toISOString(),type:"transaction_comment",content:`Analisando transação: ${$.description||$.type}...`,related_transaction_id:$.id,is_read:!1,isLoading:!0},re=Qe();_e(ke=>[{...U,id:re,user_id:r.id,created_at:"",updated_at:""},...ke]);const ne=$.category_id?(xe=T.find(ke=>ke.id===$.category_id))==null?void 0:xe.name:void 0,ue=((Fe=A.find(ke=>ke.id===$.account_id))==null?void 0:Fe.name)||((Ce=E.find(ke=>ke.id===$.account_id))==null?void 0:Ce.name),Ee=await soe($,V,ne,ue);_e(ke=>ke.filter(lt=>lt.id!==re)),Ee&&wt(Ee)},[r,_.isEnabled,_.apiKeyStatus,T,A,E,Ut,wt]),$i=R.useCallback(async $=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available"||$.type!==pe.EXPENSE||!$.category_id)return;const V=Ut();if(!V)return;const U=T.find(xe=>xe.id===$.category_id);if(!U)return;const re=$.date.substring(0,7),ue=S.filter(xe=>xe.category_id===U.id&&xe.date.startsWith(re)&&xe.type===pe.EXPENSE).reduce((xe,Fe)=>xe+Fe.amount,0);if(U.monthly_budget&&U.monthly_budget>0){const xe=U.monthly_budget/V.daysInMonth*V.dayOfMonth;if(ue>xe*1.2){const Fe=await doe(U.name,ue,xe,U.monthly_budget,V,U.id);Fe&&wt(Fe)}}if(U.monthly_budget&&U.monthly_budget>0&&V.dayOfMonth>0){const xe=ue/V.dayOfMonth*V.daysInMonth,Fe=V.daysInMonth-V.dayOfMonth;if(xe>U.monthly_budget*1.05){const Ce=await foe(U.name,ue,U.monthly_budget,Fe,xe,V,U.id);Ce&&wt(Ce)}}const Ee=S.filter(xe=>xe.category_id===U.id&&xe.id!==$.id).slice(0,20);if(Ee.length>5){const xe=await moe($,U.name,Ee);xe&&wt(xe)}},[r,_,T,S,Ut,wt]),pp=R.useCallback(async()=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const $=Ut();if(!$)return;const V={timestamp:new Date().toISOString(),type:"recurring_payment_candidate",content:"Analisando possíveis despesas recorrentes não cadastradas...",is_read:!1,isLoading:!0},U=Qe();_e(ne=>[{...V,id:U,user_id:r.id,created_at:"",updated_at:""},...ne]);const re=await hoe(S,Y,$);_e(ne=>ne.filter(ue=>ue.id!==U)),re?wt(re):t("Nenhuma nova despesa recorrente óbvia encontrada.","info")},[r,_,S,Y,Ut,wt,t]),Sc=R.useCallback(async()=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const $=Ut();if(!$)return;const V={timestamp:new Date().toISOString(),type:"saving_opportunity_suggestion",content:"Buscando oportunidades de economia...",is_read:!1,isLoading:!0},U=Qe();_e(ne=>[{...V,id:U,user_id:r.id,created_at:"",updated_at:""},...ne]);const re=await poe(S,T,B,$);_e(ne=>ne.filter(ue=>ue.id!==U)),re?wt(re):t("Nenhuma oportunidade clara de economia encontrada no momento.","info")},[r,_,S,T,B,Ut,wt,t]),Cc=R.useCallback(async($=30,V)=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const U=Ut(V);if(!U)return;const re={timestamp:new Date().toISOString(),type:"cash_flow_projection",content:`Gerando projeção de fluxo de caixa para os próximos ${$} dias${V?" (com simulação)":""}...`,is_read:!1,isLoading:!0},ne=Qe();_e(Ee=>[{...re,id:ne,user_id:r.id,created_at:"",updated_at:""},...Ee]);const ue=await goe(U,$);_e(Ee=>Ee.filter(xe=>xe.id!==ne)),ue&&wt(ue)},[r,_,Ut,wt]),mp=R.useCallback(async($,V)=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available"||!_.monthlyIncome)return t("Renda mensal não informada ou IA desativada.","warning"),null;const U=Ut();if(!U)return null;const re=T.find(xe=>xe.name===$&&xe.type===pe.EXPENSE),ne={timestamp:new Date().toISOString(),type:"budget_recommendation",content:`Calculando sugestão de orçamento para ${$}...`,related_category_id:re==null?void 0:re.id,is_read:!1,isLoading:!0},ue=Qe();_e(xe=>[{...ne,id:ue,user_id:r.id,created_at:"",updated_at:""},...xe]);const Ee=await loe($,_.monthlyIncome,V,U);if(_e(xe=>xe.filter(Fe=>Fe.id!==ue)),Ee&&"suggestedBudget"in Ee&&typeof Ee.suggestedBudget=="number"){const xe={content:`Sugestão para ${$}: ${he(Ee.suggestedBudget)}`,related_category_id:re==null?void 0:re.id,timestamp:new Date().toISOString(),type:"budget_recommendation",is_read:!1};return wt(xe),Ee.suggestedBudget}else Ee&&"content"in Ee&&wt(Ee);return null},[r,_,T,Ut,t,wt]),pl=R.useCallback(async $=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available"){t("AI Coach desativado ou API Key indisponível.","warning");return}const V=J.find(ne=>ne.id===$);if(!V)return;const U=Ut();if(!U)return;H(ne=>ne.map(ue=>ue.id===$?{...ue,status:"AI_ANALYZING"}:ue));const re=await uoe(V,U);if(re&&"analysisText"in re){const{data:ne,error:ue}=await Ae.from("future_purchases").update({status:re.recommendedStatus,ai_analysis:re.analysisText,ai_analyzed_at:new Date().toISOString()}).eq("id",$).eq("user_id",r.id).select().single();ue||!ne?(t(`Erro ao atualizar compra futura: ${(ue==null?void 0:ue.message)||"Falha"}`,"error"),H(Ee=>Ee.map(xe=>xe.id===$?{...xe,status:V.status}:xe))):(H(Ee=>Ee.map(xe=>xe.id===$?ne:xe)),t(`Análise para "${V.name}" concluída!`,"info"))}else re&&"content"in re&&(wt(re),H(ne=>ne.map(ue=>ue.id===$?{...ue,status:V.status}:ue)))},[r,_,J,Ut,t,wt]),wo=async $=>{var ne;if(!r)return;const V={...$,user_id:r.id},{data:U,error:re}=await Ae.from("transactions").insert(V).select().single();if(re){t(`Erro: ${re.message}`,"error");return}if(U&&(w(Ee=>[U,...Ee].sort((xe,Fe)=>new Date(Fe.date).getTime()-new Date(xe.date).getTime())),tt(!1),ji(U),$i(U),t("Transação adicionada!","success"),E.some(Ee=>Ee.id===U.account_id)&&U.type===pe.EXPENSE)){const Ee={credit_card_id:U.account_id,description:`Débito na Fatura: ${U.description||((ne=T.find(xe=>xe.id===U.category_id))==null?void 0:ne.name)||"Despesa no Cartão"}`,purchase_date:U.date,total_amount:U.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:U.id};await Fi(Ee,!1)}},ml=async $=>{var ne,ue,Ee;if(!r||!$.id)return;const V=S.find(xe=>xe.id===$.id);if(!V){t("Erro: Transação original não encontrada.","error");return}const{data:U,error:re}=await Ae.from("transactions").update($).eq("id",$.id).eq("user_id",r.id).select().single();if(re){t(`Erro ao atualizar transação: ${re.message}`,"error");return}if(U){w(ke=>ke.map(lt=>lt.id===U.id?U:lt).sort((lt,fn)=>new Date(fn.date).getTime()-new Date(lt.date).getTime())),tt(!1),bt(null),ji(U),$i(U),t("Transação atualizada!","success");const xe=E.some(ke=>ke.id===V.account_id)&&V.type===pe.EXPENSE,Fe=E.some(ke=>ke.id===U.account_id)&&U.type===pe.EXPENSE,Ce=N.find(ke=>ke.linked_transaction_id===V.id&&ke.number_of_installments===1);if(xe&&!Fe&&Ce)await qi(Ce.id,!1);else if(!xe&&Fe){const ke={credit_card_id:U.account_id,description:`Débito na Fatura: ${U.description||((ne=T.find(lt=>lt.id===U.category_id))==null?void 0:ne.name)||"Despesa no Cartão"}`,purchase_date:U.date,total_amount:U.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:U.id};await Fi(ke,!1)}else if(xe&&Fe&&Ce){if(V.account_id!==U.account_id&&Ce){await qi(Ce.id,!1);const ke={credit_card_id:U.account_id,description:`Débito na Fatura: ${U.description||((ue=T.find(lt=>lt.id===U.category_id))==null?void 0:ue.name)||"Despesa no Cartão"}`,purchase_date:U.date,total_amount:U.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:U.id};await Fi(ke,!1)}else if(Ce){const ke={...Ce,description:`Débito na Fatura: ${U.description||((Ee=T.find(lt=>lt.id===U.category_id))==null?void 0:Ee.name)||"Despesa no Cartão"}`,purchase_date:U.date,total_amount:U.amount};await ri(ke,!1)}}}},gl=async $=>{if(r&&window.confirm("Excluir esta transação?")){L.find(re=>re.linked_transaction_id===$);const V=N.find(re=>re.linked_transaction_id===$&&re.number_of_installments===1);V&&await qi(V.id,!1);const{error:U}=await Ae.from("transactions").delete().eq("id",$).eq("user_id",r.id);U?t(`Erro: ${U.message}`,"error"):(w(re=>re.filter(ne=>ne.id!==$)),t("Transação excluída!","success"))}},vl=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("accounts").insert({...$,user_id:r.id}).select().single();U?t(`Erro: ${U.message}`,"error"):V&&(O(re=>[...re,V].sort((ne,ue)=>ne.name.localeCompare(ue.name))),t("Conta adicionada!","success"))},Li=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("accounts").update($).eq("id",$.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):V&&(O(re=>re.map(ne=>ne.id===V.id?V:ne).sort((ne,ue)=>ne.name.localeCompare(ue.name))),t("Conta atualizada!","success"))},Bi=async $=>{if(r){if(S.some(V=>V.account_id===$||V.to_account_id===$)||Y.some(V=>V.account_id===$||V.to_account_id===$)||te.some(V=>V.linked_account_id===$||j.some(U=>U.loan_id===V.id&&U.credited_account_id===$))||L.some(V=>{var U;return((U=S.find(re=>re.id===V.linked_transaction_id))==null?void 0:U.account_id)===$})||Je.some(V=>{var U;return((U=S.find(re=>re.id===V.linked_expense_transaction_id))==null?void 0:U.account_id)===$})){t("Conta em uso. Remova/reatribua transações, recorrências, empréstimos ou pagamentos de dívidas primeiro.","error");return}if(window.confirm("Excluir esta conta?")){const{error:V}=await Ae.from("accounts").delete().eq("id",$).eq("user_id",r.id);V?t(`Erro: ${V.message}`,"error"):(O(U=>U.filter(re=>re.id!==$)),t("Conta excluída!","success"))}}},Tc=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("categories").insert({...$,user_id:r.id}).select().single();U?t(`Erro: ${U.message}`,"error"):V&&(I(re=>[...re,V].sort((ne,ue)=>ne.name.localeCompare(ue.name))),t("Categoria adicionada!","success"))},kc=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("categories").update($).eq("id",$.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):V&&(I(re=>re.map(ne=>ne.id===V.id?V:ne).sort((ne,ue)=>ne.name.localeCompare(ue.name))),t("Categoria atualizada!","success"))},Ec=async $=>{if(r){if(S.some(V=>V.category_id===$)||Y.some(V=>V.category_id===$)){t("Categoria em uso. Remova/reatribua transações ou recorrências primeiro.","error");return}if(window.confirm("Excluir esta categoria?")){const{error:V}=await Ae.from("categories").delete().eq("id",$).eq("user_id",r.id);V?t(`Erro: ${V.message}`,"error"):(I(U=>U.filter(re=>re.id!==$)),t("Categoria excluída!","success"))}}},Ac=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("credit_cards").insert({...$,user_id:r.id}).select().single();U?t(`Erro: ${U.message}`,"error"):V&&(P(re=>[...re,V].sort((ne,ue)=>ne.name.localeCompare(ue.name))),t("Cartão adicionado!","success"))},Pc=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("credit_cards").update($).eq("id",$.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):V&&(P(re=>re.map(ne=>ne.id===V.id?V:ne).sort((ne,ue)=>ne.name.localeCompare(ue.name))),t("Cartão atualizado!","success"))},yl=async $=>{if(r){if(N.some(V=>V.credit_card_id===$)||te.some(V=>V.linked_credit_card_id===$)||S.some(V=>V.account_id===$&&V.type===pe.EXPENSE)){t("Cartão em uso em compras, empréstimos ou débitos diretos. Remova-os primeiro.","error");return}if(window.confirm("Excluir este cartão?")){const{error:V}=await Ae.from("credit_cards").delete().eq("id",$).eq("user_id",r.id);V?t(`Erro: ${V.message}`,"error"):(P(U=>U.filter(re=>re.id!==$)),t("Cartão excluído!","success"))}}},Fi=async($,V=!0)=>{if(!r)return;const{data:U,error:re}=await Ae.from("installment_purchases").insert({...$,user_id:r.id}).select().single();re?t(`Erro: ${re.message}`,"error"):U&&(D(ne=>[...ne,U].sort((ue,Ee)=>new Date(Ee.purchase_date).getTime()-new Date(ue.purchase_date).getTime())),V&&t("Compra parcelada adicionada!","success"))},ri=async($,V=!0)=>{if(!r)return;const{data:U,error:re}=await Ae.from("installment_purchases").update($).eq("id",$.id).eq("user_id",r.id).select().single();re?t(`Erro: ${re.message}`,"error"):U&&(D(ne=>ne.map(ue=>ue.id===U.id?U:ue).sort((ue,Ee)=>new Date(Ee.purchase_date).getTime()-new Date(ue.purchase_date).getTime())),V&&t("Compra parcelada atualizada!","success"))},qi=async($,V=!0)=>{if(!r)return;const U=N.find(ne=>ne.id===$);if(te.some(ne=>ne.linked_installment_purchase_id===$)){t("Esta compra parcelada está vinculada a um empréstimo. Remova o vínculo no empréstimo primeiro.","error");return}const re=U!=null&&U.linked_transaction_id&&U.number_of_installments===1&&V?"Excluir esta compra e a transação de despesa original vinculada?":"Excluir esta compra parcelada?";if(window.confirm(re)){if(U!=null&&U.linked_transaction_id&&U.number_of_installments===1&&V){const{error:ue}=await Ae.from("transactions").delete().eq("id",U.linked_transaction_id).eq("user_id",r.id);ue?t(`Erro ao excluir transação vinculada: ${ue.message}`,"error"):w(Ee=>Ee.filter(xe=>xe.id!==U.linked_transaction_id))}const{error:ne}=await Ae.from("installment_purchases").delete().eq("id",$).eq("user_id",r.id);ne?t(`Erro ao excluir compra: ${ne.message}`,"error"):(D(ue=>ue.filter(Ee=>Ee.id!==$)),t("Compra parcelada excluída!","success"))}},ka=async $=>{if(!r)return;const V=N.find(U=>U.id===$);if(V&&V.installments_paid<V.number_of_installments){const U={...V,installments_paid:V.installments_paid+1};await ri(U)}},gp=async $=>{if(!r)return;const V=E.find(ne=>ne.id===$);if(!V){t("Cartão não encontrado.","error");return}const U=bM(N,V,new Date);if(U.length===0){t("Nenhuma parcela elegível para pagamento neste ciclo.","info");return}const re=U.map(ne=>{const ue={...ne,installments_paid:ne.installments_paid+1};return Ae.from("installment_purchases").update({installments_paid:ue.installments_paid,updated_at:new Date().toISOString()}).eq("id",ne.id).eq("user_id",r.id).select().single()});try{const ne=await Promise.all(re),ue=[];let Ee=0;ne.forEach(xe=>{xe.error?(Ee++,console.error("Error updating installment:",xe.error)):xe.data&&ue.push(xe.data)}),ue.length>0&&(D(xe=>xe.map(Fe=>ue.find(ke=>ke.id===Fe.id)||Fe).sort((Fe,Ce)=>new Date(Ce.purchase_date).getTime()-new Date(Fe.purchase_date).getTime())),t(`${ue.length} parcela(s) da fatura marcada(s) como paga(s)!`,"success")),Ee>0&&t(`Falha ao pagar ${Ee} parcela(s).`,"error")}catch(ne){t(`Erro ao processar pagamento das parcelas: ${ne.message}`,"error")}},Ea=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("money_boxes").insert({...$,user_id:r.id}).select().single();U?t(`Erro: ${U.message}`,"error"):V&&(q(re=>[...re,V].sort((ne,ue)=>ne.name.localeCompare(ue.name))),t("Caixinha adicionada!","success"))},So=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("money_boxes").update($).eq("id",$.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):V&&(q(re=>re.map(ne=>ne.id===V.id?V:ne).sort((ne,ue)=>ne.name.localeCompare(ue.name))),t("Caixinha atualizada!","success"))},Co=async $=>{if(r){if(L.some(V=>V.money_box_id===$)){t("Caixinha possui transações. Exclua as transações primeiro.","error");return}if(window.confirm("Excluir esta caixinha?")){const{error:V}=await Ae.from("money_boxes").delete().eq("id",$).eq("user_id",r.id);V?t(`Erro ao excluir caixinha: ${V.message}`,"error"):(q(U=>U.filter(re=>re.id!==$)),t("Caixinha excluída!","success"))}}},xl=async($,V,U)=>{var Ee;if(!r)return;let re;if(V&&U){const xe=$.type===rr.DEPOSIT?pe.EXPENSE:pe.INCOME,Fe=`${$.type===rr.DEPOSIT?"Depósito para":"Saque de"} Caixinha: ${((Ee=B.find(lt=>lt.id===$.money_box_id))==null?void 0:Ee.name)||"N/A"}`,{data:Ce,error:ke}=await Ae.from("transactions").insert({user_id:r.id,type:xe,amount:$.amount,date:$.date,account_id:U,description:Fe}).select().single();if(ke||!Ce){t(`Erro ao criar transação principal: ${(ke==null?void 0:ke.message)||"Falha"}`,"error");return}re=Ce.id,w(lt=>[Ce,...lt].sort((fn,ai)=>new Date(ai.date).getTime()-new Date(fn.date).getTime()))}const{data:ne,error:ue}=await Ae.from("money_box_transactions").insert({...$,user_id:r.id,linked_transaction_id:re}).select().single();ue?t(`Erro ao adicionar transação da caixinha: ${ue.message}`,"error"):ne&&(W(xe=>[...xe,ne]),t("Transação da caixinha adicionada!","success"))},vp=async($,V)=>{if(r&&window.confirm(`Excluir esta transação da caixinha? ${V?"\\nA transação principal vinculada NÃO será excluída automaticamente por esta ação.":""}`)){const{error:U}=await Ae.from("money_box_transactions").delete().eq("id",$).eq("user_id",r.id);U?t(`Erro: ${U.message}`,"error"):(W(re=>re.filter(ne=>ne.id!==$)),t("Transação da caixinha excluída!","success"))}},yp=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("tags").insert({...$,user_id:r.id}).select().single();U?t(`Erro: ${U.message}`,"error"):V&&(Z(re=>[...re,V].sort((ne,ue)=>ne.name.localeCompare(ue.name))),t("Tag adicionada!","success"))},xp=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("tags").update($).eq("id",$.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):V&&(Z(re=>re.map(ne=>ne.id===V.id?V:ne).sort((ne,ue)=>ne.name.localeCompare(ue.name))),t("Tag atualizada!","success"))},ii=async $=>{if(r){if(S.some(V=>{var U;return(U=V.tag_ids)==null?void 0:U.includes($)})){t("Tag em uso. Remova-a das transações primeiro.","error");return}if(window.confirm("Excluir esta tag?")){const{error:V}=await Ae.from("tags").delete().eq("id",$).eq("user_id",r.id);V?t(`Erro: ${V.message}`,"error"):(Z(U=>U.filter(re=>re.id!==$)),t("Tag excluída!","success"))}}},Oc=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("recurring_transactions").insert({...$,user_id:r.id}).select().single();U?t(`Erro: ${U.message}`,"error"):V&&(G(re=>[...re,V].sort((ne,ue)=>new Date(ne.next_due_date).getTime()-new Date(ue.next_due_date).getTime())),t("Recorrência adicionada!","success"))},Ic=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("recurring_transactions").update($).eq("id",$.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):V&&(G(re=>re.map(ne=>ne.id===V.id?V:ne).sort((ne,ue)=>new Date(ne.next_due_date).getTime()-new Date(ue.next_due_date).getTime())),t("Recorrência atualizada!","success"))},_p=async $=>{if(r&&window.confirm("Excluir esta recorrência?")){const{error:V}=await Ae.from("recurring_transactions").delete().eq("id",$).eq("user_id",r.id);V?t(`Erro: ${V.message}`,"error"):(G(U=>U.filter(re=>re.id!==$)),t("Recorrência excluída!","success"))}},Nc=async()=>{if(!r)return{count:0,errors:["Usuário não logado."]};const $=ht(),V=Y.filter(ne=>!ne.is_paused&&ne.next_due_date<=$&&(ne.remaining_occurrences===void 0||ne.remaining_occurrences>0));let U=0;const re=[];for(const ne of V){const ue={type:ne.type,amount:ne.amount,category_id:ne.category_id,description:`Rec: ${ne.description}`,date:ne.next_due_date,account_id:ne.account_id,to_account_id:ne.to_account_id};await wo(ue);const Ee=xoe(ne.next_due_date,ne.frequency,ne.custom_interval_days),xe={last_posted_date:ne.next_due_date,next_due_date:Ee,remaining_occurrences:ne.remaining_occurrences!==void 0?Math.max(0,ne.remaining_occurrences-1):void 0},{error:Fe}=await Ae.from("recurring_transactions").update(xe).eq("id",ne.id).eq("user_id",r.id);Fe?re.push(`Erro ao atualizar ${ne.description}: ${Fe.message}`):(G(Ce=>Ce.map(ke=>ke.id===ne.id?{...ke,...xe}:ke).sort((ke,lt)=>new Date(ke.next_due_date).getTime()-new Date(lt.next_due_date).getTime())),U++)}return{count:U,errors:re}},Mc=async($,V)=>{if(!r)return;let U,re;if($.funding_source==="account"&&$.linked_account_id&&$.amount_delivered_from_account){const{data:xe,error:Fe}=await Ae.from("transactions").insert({user_id:r.id,type:pe.EXPENSE,amount:$.amount_delivered_from_account,date:$.loan_date,account_id:$.linked_account_id,description:`Empréstimo para ${$.person_name}`}).select().single();if(Fe||!xe){t(`Erro ao criar despesa vinculada: ${(Fe==null?void 0:Fe.message)||"Falha"}`,"error");return}U=xe.id,w(Ce=>[xe,...Ce].sort((ke,lt)=>new Date(lt.date).getTime()-new Date(ke.date).getTime()))}else if($.funding_source==="creditCard"&&$.linked_credit_card_id&&$.cost_on_credit_card&&V){const xe={credit_card_id:$.linked_credit_card_id,description:`Empréstimo (crédito) para ${$.person_name}`,purchase_date:$.loan_date,total_amount:$.cost_on_credit_card,number_of_installments:V,installments_paid:0};await Fi(xe,!1);const Fe=N.sort((Ce,ke)=>new Date(ke.created_at).getTime()-new Date(Ce.created_at).getTime())[0];Fe!=null&&Fe.description.startsWith(`Empréstimo (crédito) para ${$.person_name}`)?re=Fe.id:t("Aviso: Não foi possível vincular automaticamente a compra parcelada ao empréstimo. Verifique manualmente.","warning")}const ne={...$,user_id:r.id,linked_expense_transaction_id:U,linked_installment_purchase_id:re},{data:ue,error:Ee}=await Ae.from("loans").insert(ne).select().single();Ee?t(`Erro ao adicionar empréstimo: ${Ee.message}`,"error"):ue&&(ae(xe=>[...xe,ue].sort((Fe,Ce)=>new Date(Ce.loan_date).getTime()-new Date(Fe.loan_date).getTime())),t("Empréstimo adicionado!","success"))},Dc=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("loans").update($).eq("id",$.id).eq("user_id",r.id).select().single();U?t(`Erro: ${U.message}`,"error"):V&&(ae(re=>re.map(ne=>ne.id===V.id?V:ne).sort((ne,ue)=>new Date(ue.loan_date).getTime()-new Date(ne.loan_date).getTime())),t("Empréstimo atualizado!","success"))},Rc=async $=>{if(r){if(j.some(V=>V.loan_id===$)){t("Este empréstimo possui pagamentos. Exclua os pagamentos primeiro.","error");return}if(window.confirm("Excluir este empréstimo? Isso também excluirá a despesa/compra parcelada vinculada, se houver.")){const V=te.find(re=>re.id===$);V!=null&&V.linked_expense_transaction_id&&(await Ae.from("transactions").delete().eq("id",V.linked_expense_transaction_id).eq("user_id",r.id),w(re=>re.filter(ne=>ne.id!==V.linked_expense_transaction_id))),V!=null&&V.linked_installment_purchase_id&&(await Ae.from("installment_purchases").delete().eq("id",V.linked_installment_purchase_id).eq("user_id",r.id),D(re=>re.filter(ne=>ne.id!==V.linked_installment_purchase_id)));const{error:U}=await Ae.from("loans").delete().eq("id",$).eq("user_id",r.id);U?t(`Erro ao excluir empréstimo: ${U.message}`,"error"):(ae(re=>re.filter(ne=>ne.id!==$)),t("Empréstimo excluído!","success"))}}},bp=async($,V)=>{if(!r)return;const U=te.find(Fe=>Fe.id===V);if(!U){t("Empréstimo não encontrado.","error");return}const{data:re,error:ne}=await Ae.from("transactions").insert({user_id:r.id,type:pe.INCOME,amount:$.amount_paid,date:$.repayment_date,account_id:$.credited_account_id,description:`Recebimento empréstimo de ${U.person_name}`}).select().single();if(ne||!re){t(`Erro ao criar receita vinculada: ${(ne==null?void 0:ne.message)||"Falha"}`,"error");return}w(Fe=>[re,...Fe].sort((Ce,ke)=>new Date(ke.date).getTime()-new Date(Ce.date).getTime()));const ue={...$,user_id:r.id,loan_id:V,linked_income_transaction_id:re.id},{data:Ee,error:xe}=await Ae.from("loan_repayments").insert(ue).select().single();xe?t(`Erro ao adicionar pagamento: ${xe.message}`,"error"):Ee&&(Q(Fe=>[...Fe,Ee]),t("Pagamento registrado!","success"))},wp=async $=>{if(!r)return;const V={...$,user_id:r.id,status:"PLANNED"},{data:U,error:re}=await Ae.from("future_purchases").insert(V).select().single();re?t(`Erro: ${re.message}`,"error"):U&&(H(ne=>[...ne,U]),t("Compra futura adicionada!","success"))},Lt=async $=>{if(!r)return;const V=J.find(ue=>ue.id===$.id);if(!V)return;const U={...V,...$},{data:re,error:ne}=await Ae.from("future_purchases").update(U).eq("id",U.id).eq("user_id",r.id).select().single();ne?t(`Erro: ${ne.message}`,"error"):re&&(H(ue=>ue.map(Ee=>Ee.id===re.id?re:Ee)),t("Compra futura atualizada!","success"))},Sp=async $=>{if(r&&window.confirm("Excluir esta compra futura?")){const{error:V}=await Ae.from("future_purchases").delete().eq("id",$).eq("user_id",r.id);V?t(`Erro: ${V.message}`,"error"):(H(U=>U.filter(re=>re.id!==$)),t("Compra futura excluída!","success"))}},_l=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("ai_insights").update({is_read:$.is_read}).eq("id",$.id).eq("user_id",r.id).select().single();U?t(`Erro ao atualizar insight: ${U.message}`,"error"):V&&_e(re=>re.map(ne=>ne.id===V.id?V:ne).sort((ne,ue)=>new Date(ue.timestamp).getTime()-new Date(ne.timestamp).getTime()))},jc=async $=>{if(!r)return;const V={...$,user_id:r.id,current_balance:$.initial_balance,is_archived:!1},{data:U,error:re}=await Ae.from("debts").insert(V).select().single();re?t(`Erro ao adicionar dívida: ${re.message}`,"error"):U&&(Ie(ne=>[...ne,U].sort((ue,Ee)=>new Date(Ee.created_at).getTime()-new Date(ue.created_at).getTime())),t("Dívida adicionada!","success"))},Aa=async $=>{if(!r)return;const{data:V,error:U}=await Ae.from("debts").update($).eq("id",$.id).eq("user_id",r.id).select().single();U?t(`Erro ao atualizar dívida: ${U.message}`,"error"):V&&(Ie(re=>re.map(ne=>ne.id===V.id?V:ne)),t("Dívida atualizada!","success"))},Cp=async $=>{if(r){if(Je.some(V=>V.debt_id===$)){t("Esta dívida possui pagamentos registrados. Exclua os pagamentos primeiro.","error");return}if(window.confirm("Excluir esta dívida?")){const{error:V}=await Ae.from("debts").delete().eq("id",$).eq("user_id",r.id);V?t(`Erro ao excluir dívida: ${V.message}`,"error"):(Ie(U=>U.filter(re=>re.id!==$)),t("Dívida excluída!","success"))}}},$c=async($,V,U)=>{var Fe;if(!r)return;const re=ce.find(Ce=>Ce.id===$.debt_id);if(!re){t("Dívida não encontrada.","error");return}let ne;if(V&&U){const Ce={type:pe.EXPENSE,amount:$.amount_paid,category_id:(Fe=T.find(fn=>fn.name.toLowerCase().includes("pagamento de dívida")||fn.name.toLowerCase().includes("empréstimo")))==null?void 0:Fe.id,description:`Pagamento: ${re.name}`,date:$.payment_date,account_id:U},{data:ke,error:lt}=await Ae.from("transactions").insert({...Ce,user_id:r.id}).select().single();if(lt||!ke){t(`Erro ao criar despesa vinculada: ${(lt==null?void 0:lt.message)||"Falha"}`,"error");return}ne=ke.id,w(fn=>[ke,...fn])}const ue={...$,user_id:r.id,linked_expense_transaction_id:ne},{data:Ee,error:xe}=await Ae.from("debt_payments").insert(ue).select().single();if(xe){t(`Erro ao registrar pagamento da dívida: ${xe.message}`,"error");return}if(Ee){He(ke=>[...ke,Ee]);const Ce={...re,current_balance:Math.max(0,re.current_balance-Ee.amount_paid)};await Aa(Ce),t("Pagamento da dívida registrado!","success")}},To=R.useCallback(async $=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const V={timestamp:new Date().toISOString(),type:"debt_strategy_explanation",content:`Buscando explicação para a estratégia: ${$}...`,related_debt_strategy:$,is_read:!1,isLoading:!0},U=Qe();_e(ne=>[{...V,id:U,user_id:r.id,created_at:"",updated_at:""},...ne]);const re=await voe($);_e(ne=>ne.filter(ue=>ue.id!==U)),re?wt(re):t(`Não foi possível buscar explicação para a estratégia ${$}.`,"warning")},[r,_,wt,t]),or=R.useCallback(async($,V,U)=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const re=Ut();if(!re)return;const ne={timestamp:new Date().toISOString(),type:"debt_projection_summary",content:"Gerando resumo do plano de quitação de dívidas...",related_debt_strategy:U,is_read:!1,isLoading:!0},ue=Qe();_e(xe=>[{...ne,id:ue,user_id:r.id,created_at:"",updated_at:""},...xe]);const Ee=await yoe($,V,re);_e(xe=>xe.filter(Fe=>Fe.id!==ue)),Ee?wt(Ee):t("Não foi possível gerar um resumo para o plano de dívidas.","warning")},[r,_,Ut,wt,t]),ko=()=>{bt(null),tt(!0)},Yn=$=>{bt($),tt(!0)},Lc=[{view:"DASHBOARD",label:"Painel Geral",icon:y.jsx(HR,{})},{view:"TRANSACTIONS",label:"Transações",icon:y.jsx(ose,{})},{view:"ACCOUNTS",label:"Contas",icon:y.jsx(sc,{})},{view:"CATEGORIES",label:"Categorias",icon:y.jsx(WR,{})},{view:"CREDIT_CARDS",label:"Cartões de Crédito",icon:y.jsx(sc,{})},{view:"MONEY_BOXES",label:"Caixinhas",icon:y.jsx(bj,{})},{view:"FUTURE_PURCHASES",label:"Compras Futuras",icon:y.jsx(Pw,{})},{view:"TAGS",label:"Tags",icon:y.jsx(lse,{})},{view:"RECURRING_TRANSACTIONS",label:"Recorrências",icon:y.jsx(bh,{})},{view:"LOANS",label:"Empréstimos",icon:y.jsx(yb,{})},{view:"DEBT_PLANNER",label:"Planejador Dívidas",icon:y.jsx(Sj,{})},{view:"AI_COACH",label:"AI Coach",icon:y.jsx(db,{})},{view:"DATA_MANAGEMENT",label:"Dados",icon:y.jsx(sse,{})}],Tp=Lc.filter($=>["DASHBOARD","TRANSACTIONS","AI_COACH","DEBT_PLANNER","ACCOUNTS"].includes($.view)).slice(0,5);if(a||r&&ye)return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background dark:bg-backgroundDark",children:y.jsx("p",{className:"text-lg text-textMuted dark:text-textMutedDark",children:"Carregando..."})});if(!r)return y.jsx(Koe,{onLoginWithGoogle:Di,isLoading:a});const Bc=$=>{Y.find(U=>U.id===$)?fe("RECURRING_TRANSACTIONS"):t("Transação recorrente não encontrada.","warning")},Eo=()=>{switch(ze){case"DASHBOARD":return y.jsx(CI,{transactions:S,accounts:A,categories:T,creditCards:E,installmentPurchases:N,moneyBoxes:B,loans:te,loanRepayments:j,recurringTransactions:Y,onAddTransaction:ko,calculateAccountBalance:Sr,calculateMoneyBoxBalance:Ri,onViewRecurringTransaction:Bc,isPrivacyModeEnabled:h});case"TRANSACTIONS":return y.jsx(tX,{transactions:S,accounts:A,categories:T,tags:F,installmentPurchases:N,onAddTransaction:ko,onEditTransaction:Yn,onDeleteTransaction:gl,isLoading:ye,isPrivacyModeEnabled:h});case"ACCOUNTS":return y.jsx(rX,{accounts:A,transactions:S,onAddAccount:vl,onUpdateAccount:Li,onDeleteAccount:Bi,calculateAccountBalance:Sr,isPrivacyModeEnabled:h});case"CREDIT_CARDS":return y.jsx(_oe,{creditCards:E,installmentPurchases:N,aiConfig:_,onAddCreditCard:Ac,onUpdateCreditCard:Pc,onDeleteCreditCard:yl,onAddInstallmentPurchase:Fi,onUpdateInstallmentPurchase:ri,onDeleteInstallmentPurchase:qi,onMarkInstallmentPaid:ka,onPayMonthlyInstallments:gp,isPrivacyModeEnabled:h});case"CATEGORIES":return y.jsx(iX,{categories:T,transactions:S,aiConfig:_,onAddCategory:Tc,onUpdateCategory:kc,onDeleteCategory:Ec,onSuggestBudget:mp,isPrivacyModeEnabled:h});case"MONEY_BOXES":return y.jsx(Toe,{moneyBoxes:B,moneyBoxTransactions:L,accounts:A,onAddMoneyBox:Ea,onUpdateMoneyBox:So,onDeleteMoneyBox:Co,onAddMoneyBoxTransaction:xl,onDeleteMoneyBoxTransaction:vp,calculateMoneyBoxBalance:Ri,isPrivacyModeEnabled:h});case"FUTURE_PURCHASES":return y.jsx(Moe,{futurePurchases:J,onAddFuturePurchase:wp,onUpdateFuturePurchase:Lt,onDeleteFuturePurchase:Sp,onAnalyzeFuturePurchase:pl,isPrivacyModeEnabled:h});case"TAGS":return y.jsx($oe,{tags:F,transactions:S,onAddTag:yp,onUpdateTag:xp,onDeleteTag:ii});case"RECURRING_TRANSACTIONS":return y.jsx(qoe,{recurringTransactions:Y,accounts:A,categories:T,onAddRecurringTransaction:Oc,onUpdateRecurringTransaction:Ic,onDeleteRecurringTransaction:_p,onProcessRecurringTransactions:Nc,isPrivacyModeEnabled:h});case"LOANS":return y.jsx(Goe,{loans:te,loanRepayments:j,accounts:A,creditCards:E,onAddLoan:Mc,onUpdateLoan:Dc,onDeleteLoan:Rc,onAddLoanRepayment:bp,isPrivacyModeEnabled:h});case"DEBT_PLANNER":return y.jsx(ese,{debts:ce,debtPayments:Je,accounts:A,onAddDebt:jc,onUpdateDebt:Aa,onDeleteDebt:Cp,onAddDebtPayment:$c,onFetchDebtStrategyExplanation:To,onFetchDebtProjectionSummary:or,isPrivacyModeEnabled:h});case"AI_COACH":return y.jsx(Hoe,{aiConfig:_,setAiConfig:Bn,insights:de,onFetchGeneralAdvice:wc,onUpdateInsight:_l,isPrivacyModeEnabled:h,onFetchRecurringPaymentCandidates:pp,onFetchSavingOpportunities:Sc,onFetchCashFlowProjection:Cc});case"DATA_MANAGEMENT":return y.jsx(Doe,{allData:{transactions:S,accounts:A,categories:T,creditCards:E,installmentPurchases:N,moneyBoxes:B,moneyBoxTransactions:L,futurePurchases:J,tags:F,recurringTransactions:Y,loans:te,loanRepayments:j,aiInsights:de,debts:ce,debtPayments:Je},userPreferencesToExport:{theme:d,is_privacy_mode_enabled:h,ai_is_enabled:_.isEnabled,ai_monthly_income:_.monthlyIncome,ai_auto_backup_enabled:_.autoBackupToFileEnabled},activeProfileName:qt,setAiConfig:Bn,user:r});default:return fe("DASHBOARD"),y.jsx(CI,{transactions:S,accounts:A,categories:T,creditCards:E,installmentPurchases:N,moneyBoxes:B,loans:te,loanRepayments:j,recurringTransactions:Y,onAddTransaction:ko,calculateAccountBalance:Sr,calculateMoneyBoxBalance:Ri,onViewRecurringTransaction:Bc,isPrivacyModeEnabled:h})}};return y.jsxs("div",{className:"min-h-screen bg-background text-textBase dark:bg-backgroundDark dark:text-textBaseDark flex flex-col md:flex-row transition-colors duration-300",children:[y.jsxs("nav",{className:"hidden md:flex flex-col w-64 bg-surface dark:bg-surfaceDark border-r border-borderBase dark:border-borderBaseDark p-4 fixed top-0 left-0 h-full shadow-lg dark:shadow-neutralDark/40 overflow-y-auto",children:[y.jsxs("div",{className:"px-2 py-3 mb-1",children:[y.jsx("h1",{className:"text-2xl font-bold text-primary dark:text-primaryDark",children:Cx}),y.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[(Pa=r==null?void 0:r.user_metadata)!=null&&Pa.avatar_url?y.jsx("img",{src:r.user_metadata.avatar_url,alt:"Avatar",className:"w-8 h-8 rounded-full"}):y.jsx(wj,{className:"w-8 h-8 text-textMuted dark:text-textMutedDark"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-textBase dark:text-textBaseDark truncate",title:qt,children:qt}),y.jsxs(ge,{variant:"ghost",size:"sm",onClick:yn,className:"!p-1 text-xs text-textMuted dark:text-textMutedDark hover:text-primary dark:hover:text-primaryDark",children:[h?y.jsx(cse,{className:"w-4 h-4 mr-1"}):y.jsx(use,{className:"w-4 h-4 mr-1"}),h?"Modo Privado":"Normal"]})]})]})]}),y.jsx("div",{className:"flex-grow space-y-1",children:Lc.map($=>$.view==="AI_COACH"&&_.apiKeyStatus==="unavailable"?null:y.jsxs(ge,{variant:"ghost",onClick:()=>fe($.view),className:`w-full flex items-center justify-start px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
                                ${ze===$.view?"!bg-primary/10 !text-primary dark:!bg-primaryDark/20 dark:!text-primaryDark":"!text-textMuted dark:!text-textMutedDark hover:!bg-neutral/5 dark:hover:!bg-neutralDark/10 hover:!text-textBase dark:hover:!text-textBaseDark"}`,"aria-current":ze===$.view?"page":void 0,children:[K.cloneElement($.icon,{className:"w-5 h-5 mr-3 flex-shrink-0"}),y.jsx("span",{className:"flex-1 truncate",children:$.label}),$.view==="AI_COACH"&&_.isEnabled&&_.apiKeyStatus==="available"&&y.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full",title:"AI Coach Ativado"})]},$.view))}),y.jsxs("div",{className:"mt-auto pt-2 space-y-2",children:[y.jsxs(ge,{variant:"ghost",onClick:Ta,className:"w-full flex items-center justify-start px-3 py-2.5 rounded-lg text-sm font-medium text-textMuted dark:text-textMutedDark hover:bg-neutral/5 dark:hover:bg-neutralDark/10 hover:!text-destructive dark:hover:!text-destructiveDark",title:"Sair",children:[y.jsx(dse,{className:"w-5 h-5 mr-3 flex-shrink-0"}),y.jsx("span",{className:"flex-1 truncate",children:"Sair"})]}),y.jsx(ase,{theme:d,setTheme:ar})]})]}),y.jsx("main",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:Eo()}),y.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-surface dark:bg-surfaceDark border-t border-borderBase dark:border-borderBaseDark shadow-top p-1 grid grid-cols-5 gap-1 z-20",children:Tp.map($=>$.view==="AI_COACH"&&_.apiKeyStatus==="unavailable"?y.jsx("div",{className:"flex flex-col items-center justify-center p-1.5 rounded-md opacity-50",children:"..."},$.view):y.jsxs(ge,{variant:"ghost",onClick:()=>fe($.view),title:$.label,className:`flex flex-col items-center justify-center p-1.5 rounded-md relative
                          ${ze===$.view?"!text-primary dark:!text-primaryDark !bg-primary/10 dark:!bg-primaryDark/20":"!text-textMuted dark:!text-textMutedDark hover:!text-primary dark:hover:!text-primaryDark"}`,"aria-current":ze===$.view?"page":void 0,children:[K.cloneElement($.icon,{className:"w-5 h-5 mb-0.5"}),y.jsx("span",{className:"text-[10px] leading-tight text-center",children:$.label}),$.view==="AI_COACH"&&_.isEnabled&&_.apiKeyStatus==="available"&&y.jsx("span",{className:"absolute top-1 right-1 w-1.5 h-1.5 bg-green-500 rounded-full"})]},$.view))}),y.jsx(ge,{onClick:ko,title:"Nova Transação",variant:"primary",className:"md:hidden fixed bottom-16 right-4 text-white rounded-full p-3 shadow-lg z-30 hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors","aria-label":"Adicionar Nova Transação",children:y.jsx(kn,{className:"w-7 h-7"})}),y.jsx(cn,{isOpen:yt,onClose:()=>{tt(!1),bt(null)},title:Tt?"Editar Transação":"Nova Transação",size:"lg",children:y.jsx(tse,{onSubmit:Tt?ml:$=>wo($),onCancel:()=>{tt(!1),bt(null)},accounts:A,creditCards:E,categories:T,tags:F,initialTransaction:Tt,isPrivacyModeEnabled:h})})]})},hse=()=>y.jsx(EB,{children:y.jsx(fse,{})}),Cj=document.getElementById("root");if(!Cj)throw new Error("Could not find root element to mount to");const pse=hL.createRoot(Cj);pse.render(y.jsx(K.StrictMode,{children:y.jsx(hse,{})}));
