(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function eB(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var _v={exports:{}},Wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function tB(){if(_C)return Wu;_C=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:s,ref:a!==void 0?a:null,props:i}}return Wu.Fragment=e,Wu.jsx=n,Wu.jsxs=n,Wu}var wC;function nB(){return wC||(wC=1,_v.exports=tB()),_v.exports}var x=nB(),wv={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function rB(){if(SC)return Qe;SC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function y(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function T(U,K,ae){this.props=U,this.context=K,this.refs=A,this.updater=ae||_}T.prototype.isReactComponent={},T.prototype.setState=function(U,K){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,K,"setState")},T.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function O(){}O.prototype=T.prototype;function M(U,K,ae){this.props=U,this.context=K,this.refs=A,this.updater=ae||_}var C=M.prototype=new O;C.constructor=M,S(C,T.prototype),C.isPureReactComponent=!0;var D=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function P(U,K,ae,ce,ye,Pe){return ae=Pe.ref,{$$typeof:t,type:U,key:K,ref:ae!==void 0?ae:null,props:Pe}}function I(U,K){return P(U.type,K,void 0,void 0,void 0,U.props)}function F(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function z(U){var K={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ae){return K[ae]})}var B=/\/+/g;function W(U,K){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):K.toString(36)}function Q(){}function Y(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(Q,Q):(U.status="pending",U.then(function(K){U.status==="pending"&&(U.status="fulfilled",U.value=K)},function(K){U.status==="pending"&&(U.status="rejected",U.reason=K)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function q(U,K,ae,ce,ye){var Pe=typeof U;(Pe==="undefined"||Pe==="boolean")&&(U=null);var Oe=!1;if(U===null)Oe=!0;else switch(Pe){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(U.$$typeof){case t:case e:Oe=!0;break;case h:return Oe=U._init,q(Oe(U._payload),K,ae,ce,ye)}}if(Oe)return ye=ye(U),Oe=ce===""?"."+W(U,0):ce,D(ye)?(ae="",Oe!=null&&(ae=Oe.replace(B,"$&/")+"/"),q(ye,K,ae,"",function(Ae){return Ae})):ye!=null&&(F(ye)&&(ye=I(ye,ae+(ye.key==null||U&&U.key===ye.key?"":(""+ye.key).replace(B,"$&/")+"/")+Oe)),K.push(ye)),1;Oe=0;var At=ce===""?".":ce+":";if(D(U))for(var Ze=0;Ze<U.length;Ze++)ce=U[Ze],Pe=At+W(ce,Ze),Oe+=q(ce,K,ae,Pe,ye);else if(Ze=y(U),typeof Ze=="function")for(U=Ze.call(U),Ze=0;!(ce=U.next()).done;)ce=ce.value,Pe=At+W(ce,Ze++),Oe+=q(ce,K,ae,Pe,ye);else if(Pe==="object"){if(typeof U.then=="function")return q(Y(U),K,ae,ce,ye);throw K=String(U),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function $(U,K,ae){if(U==null)return U;var ce=[],ye=0;return q(U,ce,"","",function(Pe){return K.call(ae,Pe,ye++)}),ce}function V(U){if(U._status===-1){var K=U._result;K=K(),K.then(function(ae){(U._status===0||U._status===-1)&&(U._status=1,U._result=ae)},function(ae){(U._status===0||U._status===-1)&&(U._status=2,U._result=ae)}),U._status===-1&&(U._status=0,U._result=K)}if(U._status===1)return U._result.default;throw U._result}var J=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function oe(){}return Qe.Children={map:$,forEach:function(U,K,ae){$(U,function(){K.apply(this,arguments)},ae)},count:function(U){var K=0;return $(U,function(){K++}),K},toArray:function(U){return $(U,function(K){return K})||[]},only:function(U){if(!F(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Qe.Component=T,Qe.Fragment=n,Qe.Profiler=a,Qe.PureComponent=M,Qe.StrictMode=r,Qe.Suspense=c,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return E.H.useMemoCache(U)}},Qe.cache=function(U){return function(){return U.apply(null,arguments)}},Qe.cloneElement=function(U,K,ae){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=S({},U.props),ye=U.key,Pe=void 0;if(K!=null)for(Oe in K.ref!==void 0&&(Pe=void 0),K.key!==void 0&&(ye=""+K.key),K)!k.call(K,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&K.ref===void 0||(ce[Oe]=K[Oe]);var Oe=arguments.length-2;if(Oe===1)ce.children=ae;else if(1<Oe){for(var At=Array(Oe),Ze=0;Ze<Oe;Ze++)At[Ze]=arguments[Ze+2];ce.children=At}return P(U.type,ye,void 0,void 0,Pe,ce)},Qe.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:i,_context:U},U},Qe.createElement=function(U,K,ae){var ce,ye={},Pe=null;if(K!=null)for(ce in K.key!==void 0&&(Pe=""+K.key),K)k.call(K,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ye[ce]=K[ce]);var Oe=arguments.length-2;if(Oe===1)ye.children=ae;else if(1<Oe){for(var At=Array(Oe),Ze=0;Ze<Oe;Ze++)At[Ze]=arguments[Ze+2];ye.children=At}if(U&&U.defaultProps)for(ce in Oe=U.defaultProps,Oe)ye[ce]===void 0&&(ye[ce]=Oe[ce]);return P(U,Pe,void 0,void 0,null,ye)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(U){return{$$typeof:u,render:U}},Qe.isValidElement=F,Qe.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:V}},Qe.memo=function(U,K){return{$$typeof:d,type:U,compare:K===void 0?null:K}},Qe.startTransition=function(U){var K=E.T,ae={};E.T=ae;try{var ce=U(),ye=E.S;ye!==null&&ye(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(oe,J)}catch(Pe){J(Pe)}finally{E.T=K}},Qe.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Qe.use=function(U){return E.H.use(U)},Qe.useActionState=function(U,K,ae){return E.H.useActionState(U,K,ae)},Qe.useCallback=function(U,K){return E.H.useCallback(U,K)},Qe.useContext=function(U){return E.H.useContext(U)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(U,K){return E.H.useDeferredValue(U,K)},Qe.useEffect=function(U,K,ae){var ce=E.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(U,K)},Qe.useId=function(){return E.H.useId()},Qe.useImperativeHandle=function(U,K,ae){return E.H.useImperativeHandle(U,K,ae)},Qe.useInsertionEffect=function(U,K){return E.H.useInsertionEffect(U,K)},Qe.useLayoutEffect=function(U,K){return E.H.useLayoutEffect(U,K)},Qe.useMemo=function(U,K){return E.H.useMemo(U,K)},Qe.useOptimistic=function(U,K){return E.H.useOptimistic(U,K)},Qe.useReducer=function(U,K,ae){return E.H.useReducer(U,K,ae)},Qe.useRef=function(U){return E.H.useRef(U)},Qe.useState=function(U){return E.H.useState(U)},Qe.useSyncExternalStore=function(U,K,ae){return E.H.useSyncExternalStore(U,K,ae)},Qe.useTransition=function(){return E.H.useTransition()},Qe.version="19.1.0",Qe}var TC;function Pw(){return TC||(TC=1,wv.exports=rB()),wv.exports}var j=Pw();const Z=vt(j);var Sv={exports:{}},Xu={},Tv={exports:{}},Av={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC;function aB(){return AC||(AC=1,function(t){function e($,V){var J=$.length;$.push(V);e:for(;0<J;){var oe=J-1>>>1,U=$[oe];if(0<a(U,V))$[oe]=V,$[J]=U,J=oe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var V=$[0],J=$.pop();if(J!==V){$[0]=J;e:for(var oe=0,U=$.length,K=U>>>1;oe<K;){var ae=2*(oe+1)-1,ce=$[ae],ye=ae+1,Pe=$[ye];if(0>a(ce,J))ye<U&&0>a(Pe,ce)?($[oe]=Pe,$[ye]=J,oe=ye):($[oe]=ce,$[ae]=J,oe=ae);else if(ye<U&&0>a(Pe,J))$[oe]=Pe,$[ye]=J,oe=ye;else break e}}return V}function a($,V){var J=$.sortIndex-V.sortIndex;return J!==0?J:$.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],d=[],h=1,p=null,y=3,_=!1,S=!1,A=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D($){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=$)r(d),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(d)}}function E($){if(A=!1,D($),!S)if(n(c)!==null)S=!0,k||(k=!0,W());else{var V=n(d);V!==null&&q(E,V.startTime-$)}}var k=!1,P=-1,I=5,F=-1;function z(){return T?!0:!(t.unstable_now()-F<I)}function B(){if(T=!1,k){var $=t.unstable_now();F=$;var V=!0;try{e:{S=!1,A&&(A=!1,M(P),P=-1),_=!0;var J=y;try{t:{for(D($),p=n(c);p!==null&&!(p.expirationTime>$&&z());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,y=p.priorityLevel;var U=oe(p.expirationTime<=$);if($=t.unstable_now(),typeof U=="function"){p.callback=U,D($),V=!0;break t}p===n(c)&&r(c),D($)}else r(c);p=n(c)}if(p!==null)V=!0;else{var K=n(d);K!==null&&q(E,K.startTime-$),V=!1}}break e}finally{p=null,y=J,_=!1}V=void 0}}finally{V?W():k=!1}}}var W;if(typeof C=="function")W=function(){C(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=B,W=function(){Y.postMessage(null)}}else W=function(){O(B,0)};function q($,V){P=O(function(){$(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function($){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var J=y;y=V;try{return $()}finally{y=J}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function($,V){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=y;y=$;try{return V()}finally{y=J}},t.unstable_scheduleCallback=function($,V,J){var oe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?oe+J:oe):J=oe,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=J+U,$={id:h++,callback:V,priorityLevel:$,startTime:J,expirationTime:U,sortIndex:-1},J>oe?($.sortIndex=J,e(d,$),n(c)===null&&$===n(d)&&(A?(M(P),P=-1):A=!0,q(E,J-oe))):($.sortIndex=U,e(c,$),S||_||(S=!0,k||(k=!0,W()))),$},t.unstable_shouldYield=z,t.unstable_wrapCallback=function($){var V=y;return function(){var J=y;y=V;try{return $.apply(this,arguments)}finally{y=J}}}}(Av)),Av}var CC;function iB(){return CC||(CC=1,Tv.exports=aB()),Tv.exports}var Cv={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC;function oB(){if(EC)return En;EC=1;var t=Pw();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(c,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:c,containerInfo:d,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,En.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(c,d,null,h)},En.flushSync=function(c){var d=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=h,r.d.f()}},En.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},En.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},En.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,p=u(h,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:_}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:y,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},En.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},En.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=u(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},En.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},En.requestFormReset=function(c){r.d.r(c)},En.unstable_batchedUpdates=function(c,d){return c(d)},En.useFormState=function(c,d,h){return s.H.useFormState(c,d,h)},En.useFormStatus=function(){return s.H.useHostTransitionStatus()},En.version="19.1.0",En}var kC;function sB(){if(kC)return Cv.exports;kC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cv.exports=oB(),Cv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function lB(){if(OC)return Xu;OC=1;var t=iB(),e=Pw(),n=sB();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(r(188))}function c(o){var l=o.alternate;if(!l){if(l=i(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,m=l;;){var b=f.return;if(b===null)break;var w=b.alternate;if(w===null){if(m=b.return,m!==null){f=m;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===f)return u(b),o;if(w===m)return u(b),l;w=w.sibling}throw Error(r(188))}if(f.return!==m.return)f=b,m=w;else{for(var N=!1,R=b.child;R;){if(R===f){N=!0,f=b,m=w;break}if(R===m){N=!0,m=b,f=w;break}R=R.sibling}if(!N){for(R=w.child;R;){if(R===f){N=!0,f=w,m=b;break}if(R===m){N=!0,m=w,f=b;break}R=R.sibling}if(!N)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function d(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=d(o),l!==null)return l;o=o.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=B&&o[B]||o["@@iterator"],typeof o=="function"?o:null)}var Q=Symbol.for("react.client.reference");function Y(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case E:return"Suspense";case k:return"SuspenseList";case F:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case C:return(o.displayName||"Context")+".Provider";case M:return(o._context.displayName||"Context")+".Consumer";case D:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return l=o.displayName||null,l!==null?l:Y(o.type)||"Memo";case I:l=o._payload,o=o._init;try{return Y(o(l))}catch{}}return null}var q=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},oe=[],U=-1;function K(o){return{current:o}}function ae(o){0>U||(o.current=oe[U],oe[U]=null,U--)}function ce(o,l){U++,oe[U]=o.current,o.current=l}var ye=K(null),Pe=K(null),Oe=K(null),At=K(null);function Ze(o,l){switch(ce(Oe,l),ce(Pe,o),ce(ye,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?WA(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=WA(l),o=XA(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ae(ye),ce(ye,o)}function Ae(){ae(ye),ae(Pe),ae(Oe)}function Ve(o){o.memoizedState!==null&&ce(At,o);var l=ye.current,f=XA(l,o.type);l!==f&&(ce(Pe,o),ce(ye,f))}function qe(o){Pe.current===o&&(ae(ye),ae(Pe)),At.current===o&&(ae(At),zu._currentValue=J)}var ge=Object.prototype.hasOwnProperty,Ct=t.unstable_scheduleCallback,Xe=t.unstable_cancelCallback,Ft=t.unstable_shouldYield,Pt=t.unstable_requestPaint,_t=t.unstable_now,tr=t.unstable_getCurrentPriorityLevel,zn=t.unstable_ImmediatePriority,ma=t.unstable_UserBlockingPriority,Gn=t.unstable_NormalPriority,mr=t.unstable_LowPriority,Xa=t.unstable_IdlePriority,Ho=t.log,Zr=t.unstable_setDisableYieldValue,Ir=null,yt=null;function Et(o){if(typeof Ho=="function"&&Zr(o),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Ir,o)}catch{}}var Pn=Math.clz32?Math.clz32:pp,wd=Math.log,Sd=Math.LN2;function pp(o){return o>>>=0,o===0?32:31-(wd(o)/Sd|0)|0}var Ko=256,Yo=4194304;function pa(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Wo(o,l,f){var m=o.pendingLanes;if(m===0)return 0;var b=0,w=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var R=m&134217727;return R!==0?(m=R&~w,m!==0?b=pa(m):(N&=R,N!==0?b=pa(N):f||(f=R&~o,f!==0&&(b=pa(f))))):(R=m&~w,R!==0?b=pa(R):N!==0?b=pa(N):f||(f=m&~o,f!==0&&(b=pa(f)))),b===0?0:l!==0&&l!==b&&(l&w)===0&&(w=b&-b,f=l&-l,w>=f||w===32&&(f&4194048)!==0)?l:b}function Za(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function gp(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Td(){var o=Ko;return Ko<<=1,(Ko&4194048)===0&&(Ko=256),o}function Ad(){var o=Yo;return Yo<<=1,(Yo&62914560)===0&&(Yo=4194304),o}function Hl(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function Hi(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function vp(o,l,f,m,b,w){var N=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var R=o.entanglements,X=o.expirationTimes,se=o.hiddenUpdates;for(f=N&~f;0<f;){var fe=31-Pn(f),pe=1<<fe;R[fe]=0,X[fe]=-1;var le=se[fe];if(le!==null)for(se[fe]=null,fe=0;fe<le.length;fe++){var ue=le[fe];ue!==null&&(ue.lane&=-536870913)}f&=~pe}m!==0&&Cd(o,m,0),w!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=w&~(N&~l))}function Cd(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var m=31-Pn(l);o.entangledLanes|=l,o.entanglements[m]=o.entanglements[m]|1073741824|f&4194090}function Ed(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var m=31-Pn(f),b=1<<m;b&l|o[m]&l&&(o[m]|=l),f&=~b}}function Kl(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Yl(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function kd(){var o=V.p;return o!==0?o:(o=window.event,o===void 0?32:pC(o.type))}function Ki(o,l){var f=V.p;try{return V.p=o,l()}finally{V.p=f}}var pr=Math.random().toString(36).slice(2),Zt="__reactFiber$"+pr,An="__reactProps$"+pr,Ja="__reactContainer$"+pr,Wl="__reactEvents$"+pr,yp="__reactListeners$"+pr,bp="__reactHandles$"+pr,Od="__reactResources$"+pr,Yi="__reactMarker$"+pr;function Xl(o){delete o[Zt],delete o[An],delete o[Wl],delete o[yp],delete o[bp]}function Qa(o){var l=o[Zt];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Ja]||f[Zt]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=eC(o);o!==null;){if(f=o[Zt])return f;o=eC(o)}return l}o=f,f=o.parentNode}return null}function ei(o){if(o=o[Zt]||o[Ja]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function Wi(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function ti(o){var l=o[Od];return l||(l=o[Od]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function tn(o){o[Yi]=!0}var Md=new Set,Dd={};function ga(o,l){ni(o,l),ni(o+"Capture",l)}function ni(o,l){for(Dd[o]=l,o=0;o<l.length;o++)Md.add(l[o])}var xp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nd={},Pd={};function _p(o){return ge.call(Pd,o)?!0:ge.call(Nd,o)?!1:xp.test(o)?Pd[o]=!0:(Nd[o]=!0,!1)}function Xo(o,l,f){if(_p(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function Zo(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function gr(o,l,f,m){if(m===null)o.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+m)}}var Zl,Rd;function jr(o){if(Zl===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Zl=l&&l[1]||"",Rd=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zl+o+Rd}var Jl=!1;function Jo(o,l){if(!o||Jl)return"";Jl=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ue){var le=ue}Reflect.construct(o,[],pe)}else{try{pe.call()}catch(ue){le=ue}o.call(pe.prototype)}}else{try{throw Error()}catch(ue){le=ue}(pe=o())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ue){if(ue&&le&&typeof ue.stack=="string")return[ue.stack,le.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),N=w[0],R=w[1];if(N&&R){var X=N.split(`
`),se=R.split(`
`);for(b=m=0;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;for(;b<se.length&&!se[b].includes("DetermineComponentFrameRoot");)b++;if(m===X.length||b===se.length)for(m=X.length-1,b=se.length-1;1<=m&&0<=b&&X[m]!==se[b];)b--;for(;1<=m&&0<=b;m--,b--)if(X[m]!==se[b]){if(m!==1||b!==1)do if(m--,b--,0>b||X[m]!==se[b]){var fe=`
`+X[m].replace(" at new "," at ");return o.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",o.displayName)),fe}while(1<=m&&0<=b);break}}}finally{Jl=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?jr(f):""}function wp(o){switch(o.tag){case 26:case 27:case 5:return jr(o.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 15:return Jo(o.type,!1);case 11:return Jo(o.type.render,!1);case 1:return Jo(o.type,!0);case 31:return jr("Activity");default:return""}}function Ql(o){try{var l="";do l+=wp(o),o=o.return;while(o);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Hn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function eu(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function L(o){var l=eu(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,w=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return b.call(this)},set:function(N){m=""+N,w.call(this,N)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(N){m=""+N},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function H(o){o._valueTracker||(o._valueTracker=L(o))}function G(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),m="";return o&&(m=eu(o)?o.checked?"true":"false":o.value),o=m,o!==f?(l.setValue(o),!0):!1}function ne(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var re=/[\n"\\]/g;function he(o){return o.replace(re,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ce(o,l,f,m,b,w,N,R){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),l!=null?N==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Hn(l)):o.value!==""+Hn(l)&&(o.value=""+Hn(l)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),l!=null?Ie(o,N,Hn(l)):f!=null?Ie(o,N,Hn(f)):m!=null&&o.removeAttribute("value"),b==null&&w!=null&&(o.defaultChecked=!!w),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.name=""+Hn(R):o.removeAttribute("name")}function _e(o,l,f,m,b,w,N,R){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),l!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;f=f!=null?""+Hn(f):"",l=l!=null?""+Hn(l):f,R||l===o.value||(o.value=l),o.defaultValue=l}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=R?o.checked:!!m,o.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N)}function Ie(o,l,f){l==="number"&&ne(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function we(o,l,f,m){if(o=o.options,l){l={};for(var b=0;b<f.length;b++)l["$"+f[b]]=!0;for(f=0;f<o.length;f++)b=l.hasOwnProperty("$"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&m&&(o[f].defaultSelected=!0)}else{for(f=""+Hn(f),l=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,m&&(o[b].defaultSelected=!0);return}l!==null||o[b].disabled||(l=o[b])}l!==null&&(l.selected=!0)}}function je(o,l,f){if(l!=null&&(l=""+Hn(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+Hn(f):""}function ut(o,l,f,m){if(l==null){if(m!=null){if(f!=null)throw Error(r(92));if(q(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),l=f}f=Hn(l),o.defaultValue=f,m=o.textContent,m===f&&m!==""&&m!==null&&(o.value=m)}function Jt(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var Xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(o,l,f){var m=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":m?o.setProperty(l,f):typeof f!="number"||f===0||Xi.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function es(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var b in l)m=l[b],l.hasOwnProperty(b)&&f[b]!==m&&Qo(o,b,m)}else for(var w in l)l.hasOwnProperty(w)&&Qo(o,w,l[w])}function Zi(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(o){return nu.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Kn=null;function vr(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yr=null,Jr=null;function ZS(o){var l=ei(o);if(l&&(o=l.stateNode)){var f=o[An]||null;e:switch(o=l.stateNode,l.type){case"input":if(Ce(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+he(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var m=f[l];if(m!==o&&m.form===o.form){var b=m[An]||null;if(!b)throw Error(r(90));Ce(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<f.length;l++)m=f[l],m.form===o.form&&G(m)}break e;case"textarea":je(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&we(o,!!f.multiple,l,!1)}}}var Sp=!1;function JS(o,l,f){if(Sp)return o(l,f);Sp=!0;try{var m=o(l);return m}finally{if(Sp=!1,(yr!==null||Jr!==null)&&(xf(),yr&&(l=yr,o=Jr,Jr=yr=null,ZS(l),o)))for(l=0;l<o.length;l++)ZS(o[l])}}function ru(o,l){var f=o.stateNode;if(f===null)return null;var m=f[An]||null;if(m===null)return null;f=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tp=!1;if(va)try{var au={};Object.defineProperty(au,"passive",{get:function(){Tp=!0}}),window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{Tp=!1}var ai=null,Ap=null,Id=null;function QS(){if(Id)return Id;var o,l=Ap,f=l.length,m,b="value"in ai?ai.value:ai.textContent,w=b.length;for(o=0;o<f&&l[o]===b[o];o++);var N=f-o;for(m=1;m<=N&&l[f-m]===b[w-m];m++);return Id=b.slice(o,1<m?1-m:void 0)}function jd(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function $d(){return!0}function e1(){return!1}function Yn(o){function l(f,m,b,w,N){this._reactName=f,this._targetInst=b,this.type=m,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var R in o)o.hasOwnProperty(R)&&(f=o[R],this[R]=f?f(w):w[R]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?$d:e1,this.isPropagationStopped=e1,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=$d)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=$d)},persist:function(){},isPersistent:$d}),l}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ld=Yn(Ji),iu=h({},Ji,{view:0,detail:0}),eL=Yn(iu),Cp,Ep,ou,Bd=h({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Op,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ou&&(ou&&o.type==="mousemove"?(Cp=o.screenX-ou.screenX,Ep=o.screenY-ou.screenY):Ep=Cp=0,ou=o),Cp)},movementY:function(o){return"movementY"in o?o.movementY:Ep}}),t1=Yn(Bd),tL=h({},Bd,{dataTransfer:0}),nL=Yn(tL),rL=h({},iu,{relatedTarget:0}),kp=Yn(rL),aL=h({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),iL=Yn(aL),oL=h({},Ji,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),sL=Yn(oL),lL=h({},Ji,{data:0}),n1=Yn(lL),uL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fL(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=dL[o])?!!l[o]:!1}function Op(){return fL}var hL=h({},iu,{key:function(o){if(o.key){var l=uL[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=jd(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?cL[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Op,charCode:function(o){return o.type==="keypress"?jd(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?jd(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),mL=Yn(hL),pL=h({},Bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r1=Yn(pL),gL=h({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Op}),vL=Yn(gL),yL=h({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),bL=Yn(yL),xL=h({},Bd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),_L=Yn(xL),wL=h({},Ji,{newState:0,oldState:0}),SL=Yn(wL),TL=[9,13,27,32],Mp=va&&"CompositionEvent"in window,su=null;va&&"documentMode"in document&&(su=document.documentMode);var AL=va&&"TextEvent"in window&&!su,a1=va&&(!Mp||su&&8<su&&11>=su),i1=" ",o1=!1;function s1(o,l){switch(o){case"keyup":return TL.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ts=!1;function CL(o,l){switch(o){case"compositionend":return l1(l);case"keypress":return l.which!==32?null:(o1=!0,i1);case"textInput":return o=l.data,o===i1&&o1?null:o;default:return null}}function EL(o,l){if(ts)return o==="compositionend"||!Mp&&s1(o,l)?(o=QS(),Id=Ap=ai=null,ts=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return a1&&l.locale!=="ko"?null:l.data;default:return null}}var kL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!kL[o.type]:l==="textarea"}function c1(o,l,f,m){yr?Jr?Jr.push(m):Jr=[m]:yr=m,l=Cf(l,"onChange"),0<l.length&&(f=new Ld("onChange","change",null,f,m),o.push({event:f,listeners:l}))}var lu=null,uu=null;function OL(o){zA(o,0)}function qd(o){var l=Wi(o);if(G(l))return o}function d1(o,l){if(o==="change")return l}var f1=!1;if(va){var Dp;if(va){var Np="oninput"in document;if(!Np){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),Np=typeof h1.oninput=="function"}Dp=Np}else Dp=!1;f1=Dp&&(!document.documentMode||9<document.documentMode)}function m1(){lu&&(lu.detachEvent("onpropertychange",p1),uu=lu=null)}function p1(o){if(o.propertyName==="value"&&qd(uu)){var l=[];c1(l,uu,o,vr(o)),JS(OL,l)}}function ML(o,l,f){o==="focusin"?(m1(),lu=l,uu=f,lu.attachEvent("onpropertychange",p1)):o==="focusout"&&m1()}function DL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return qd(uu)}function NL(o,l){if(o==="click")return qd(l)}function PL(o,l){if(o==="input"||o==="change")return qd(l)}function RL(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var nr=typeof Object.is=="function"?Object.is:RL;function cu(o,l){if(nr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var b=f[m];if(!ge.call(l,b)||!nr(o[b],l[b]))return!1}return!0}function g1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function v1(o,l){var f=g1(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=l&&m>=l)return{node:f,offset:l-o};o=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=g1(f)}}function y1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?y1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function b1(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=ne(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=ne(o.document)}return l}function Pp(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var IL=va&&"documentMode"in document&&11>=document.documentMode,ns=null,Rp=null,du=null,Ip=!1;function x1(o,l,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ip||ns==null||ns!==ne(m)||(m=ns,"selectionStart"in m&&Pp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),du&&cu(du,m)||(du=m,m=Cf(Rp,"onSelect"),0<m.length&&(l=new Ld("onSelect","select",null,l,f),o.push({event:l,listeners:m}),l.target=ns)))}function Qi(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var rs={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},jp={},_1={};va&&(_1=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function eo(o){if(jp[o])return jp[o];if(!rs[o])return o;var l=rs[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in _1)return jp[o]=l[f];return o}var w1=eo("animationend"),S1=eo("animationiteration"),T1=eo("animationstart"),jL=eo("transitionrun"),$L=eo("transitionstart"),LL=eo("transitioncancel"),A1=eo("transitionend"),C1=new Map,$p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$p.push("scrollEnd");function $r(o,l){C1.set(o,l),ga(l,[o])}var E1=new WeakMap;function br(o,l){if(typeof o=="object"&&o!==null){var f=E1.get(o);return f!==void 0?f:(l={value:o,source:l,stack:Ql(l)},E1.set(o,l),l)}return{value:o,source:l,stack:Ql(l)}}var xr=[],as=0,Lp=0;function Ud(){for(var o=as,l=Lp=as=0;l<o;){var f=xr[l];xr[l++]=null;var m=xr[l];xr[l++]=null;var b=xr[l];xr[l++]=null;var w=xr[l];if(xr[l++]=null,m!==null&&b!==null){var N=m.pending;N===null?b.next=b:(b.next=N.next,N.next=b),m.pending=b}w!==0&&k1(f,b,w)}}function Fd(o,l,f,m){xr[as++]=o,xr[as++]=l,xr[as++]=f,xr[as++]=m,Lp|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Bp(o,l,f,m){return Fd(o,l,f,m),Vd(o)}function is(o,l){return Fd(o,null,null,l),Vd(o)}function k1(o,l,f){o.lanes|=f;var m=o.alternate;m!==null&&(m.lanes|=f);for(var b=!1,w=o.return;w!==null;)w.childLanes|=f,m=w.alternate,m!==null&&(m.childLanes|=f),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(b=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,b&&l!==null&&(b=31-Pn(f),o=w.hiddenUpdates,m=o[b],m===null?o[b]=[l]:m.push(l),l.lane=f|536870912),w):null}function Vd(o){if(50<ju)throw ju=0,Gg=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var os={};function BL(o,l,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(o,l,f,m){return new BL(o,l,f,m)}function qp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ya(o,l){var f=o.alternate;return f===null?(f=rr(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function O1(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function zd(o,l,f,m,b,w){var N=0;if(m=o,typeof o=="function")qp(o)&&(N=1);else if(typeof o=="string")N=U3(o,f,ye.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case F:return o=rr(31,f,l,b),o.elementType=F,o.lanes=w,o;case S:return to(f.children,b,w,l);case A:N=8,b|=24;break;case T:return o=rr(12,f,l,b|2),o.elementType=T,o.lanes=w,o;case E:return o=rr(13,f,l,b),o.elementType=E,o.lanes=w,o;case k:return o=rr(19,f,l,b),o.elementType=k,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:case C:N=10;break e;case M:N=9;break e;case D:N=11;break e;case P:N=14;break e;case I:N=16,m=null;break e}N=29,f=Error(r(130,o===null?"null":typeof o,"")),m=null}return l=rr(N,f,l,b),l.elementType=o,l.type=m,l.lanes=w,l}function to(o,l,f,m){return o=rr(7,o,m,l),o.lanes=f,o}function Up(o,l,f){return o=rr(6,o,null,l),o.lanes=f,o}function Fp(o,l,f){return l=rr(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var ss=[],ls=0,Gd=null,Hd=0,_r=[],wr=0,no=null,ba=1,xa="";function ro(o,l){ss[ls++]=Hd,ss[ls++]=Gd,Gd=o,Hd=l}function M1(o,l,f){_r[wr++]=ba,_r[wr++]=xa,_r[wr++]=no,no=o;var m=ba;o=xa;var b=32-Pn(m)-1;m&=~(1<<b),f+=1;var w=32-Pn(l)+b;if(30<w){var N=b-b%5;w=(m&(1<<N)-1).toString(32),m>>=N,b-=N,ba=1<<32-Pn(l)+b|f<<b|m,xa=w+o}else ba=1<<w|f<<b|m,xa=o}function Vp(o){o.return!==null&&(ro(o,1),M1(o,1,0))}function zp(o){for(;o===Gd;)Gd=ss[--ls],ss[ls]=null,Hd=ss[--ls],ss[ls]=null;for(;o===no;)no=_r[--wr],_r[wr]=null,xa=_r[--wr],_r[wr]=null,ba=_r[--wr],_r[wr]=null}var Rn=null,Yt=null,gt=!1,ao=null,Qr=!1,Gp=Error(r(519));function io(o){var l=Error(r(418,""));throw mu(br(l,o)),Gp}function D1(o){var l=o.stateNode,f=o.type,m=o.memoizedProps;switch(l[Zt]=o,l[An]=m,f){case"dialog":it("cancel",l),it("close",l);break;case"iframe":case"object":case"embed":it("load",l);break;case"video":case"audio":for(f=0;f<Lu.length;f++)it(Lu[f],l);break;case"source":it("error",l);break;case"img":case"image":case"link":it("error",l),it("load",l);break;case"details":it("toggle",l);break;case"input":it("invalid",l),_e(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),H(l);break;case"select":it("invalid",l);break;case"textarea":it("invalid",l),ut(l,m.value,m.defaultValue,m.children),H(l)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||m.suppressHydrationWarning===!0||YA(l.textContent,f)?(m.popover!=null&&(it("beforetoggle",l),it("toggle",l)),m.onScroll!=null&&it("scroll",l),m.onScrollEnd!=null&&it("scrollend",l),m.onClick!=null&&(l.onclick=Ef),l=!0):l=!1,l||io(o)}function N1(o){for(Rn=o.return;Rn;)switch(Rn.tag){case 5:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Rn=Rn.return}}function fu(o){if(o!==Rn)return!1;if(!gt)return N1(o),gt=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||sv(o.type,o.memoizedProps)),f=!f),f&&Yt&&io(o),N1(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(l===0){Yt=Br(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;o=o.nextSibling}Yt=null}}else l===27?(l=Yt,xi(o.type)?(o=dv,dv=null,Yt=o):Yt=l):Yt=Rn?Br(o.stateNode.nextSibling):null;return!0}function hu(){Yt=Rn=null,gt=!1}function P1(){var o=ao;return o!==null&&(Zn===null?Zn=o:Zn.push.apply(Zn,o),ao=null),o}function mu(o){ao===null?ao=[o]:ao.push(o)}var Hp=K(null),oo=null,_a=null;function ii(o,l,f){ce(Hp,l._currentValue),l._currentValue=f}function wa(o){o._currentValue=Hp.current,ae(Hp)}function Kp(o,l,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===f)break;o=o.return}}function Yp(o,l,f,m){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var w=b.dependencies;if(w!==null){var N=b.child;w=w.firstContext;e:for(;w!==null;){var R=w;w=b;for(var X=0;X<l.length;X++)if(R.context===l[X]){w.lanes|=f,R=w.alternate,R!==null&&(R.lanes|=f),Kp(w.return,f,o),m||(N=null);break e}w=R.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(r(341));N.lanes|=f,w=N.alternate,w!==null&&(w.lanes|=f),Kp(N,f,o),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===o){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function pu(o,l,f,m){o=null;for(var b=l,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var R=b.type;nr(b.pendingProps.value,N.value)||(o!==null?o.push(R):o=[R])}}else if(b===At.current){if(N=b.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(zu):o=[zu])}b=b.return}o!==null&&Yp(l,o,f,m),l.flags|=262144}function Kd(o){for(o=o.firstContext;o!==null;){if(!nr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function so(o){oo=o,_a=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Cn(o){return R1(oo,o)}function Yd(o,l){return oo===null&&so(o),R1(o,l)}function R1(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},_a===null){if(o===null)throw Error(r(308));_a=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else _a=_a.next=l;return f}var qL=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,m){o.push(m)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},UL=t.unstable_scheduleCallback,FL=t.unstable_NormalPriority,ln={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wp(){return{controller:new qL,data:new Map,refCount:0}}function gu(o){o.refCount--,o.refCount===0&&UL(FL,function(){o.controller.abort()})}var vu=null,Xp=0,us=0,cs=null;function VL(o,l){if(vu===null){var f=vu=[];Xp=0,us=Jg(),cs={status:"pending",value:void 0,then:function(m){f.push(m)}}}return Xp++,l.then(I1,I1),l}function I1(){if(--Xp===0&&vu!==null){cs!==null&&(cs.status="fulfilled");var o=vu;vu=null,us=0,cs=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function zL(o,l){var f=[],m={status:"pending",value:null,reason:null,then:function(b){f.push(b)}};return o.then(function(){m.status="fulfilled",m.value=l;for(var b=0;b<f.length;b++)(0,f[b])(l)},function(b){for(m.status="rejected",m.reason=b,b=0;b<f.length;b++)(0,f[b])(void 0)}),m}var j1=$.S;$.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&VL(o,l),j1!==null&&j1(o,l)};var lo=K(null);function Zp(){var o=lo.current;return o!==null?o:jt.pooledCache}function Wd(o,l){l===null?ce(lo,lo.current):ce(lo,l.pool)}function $1(){var o=Zp();return o===null?null:{parent:ln._currentValue,pool:o}}var yu=Error(r(460)),L1=Error(r(474)),Xd=Error(r(542)),Jp={then:function(){}};function B1(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Zd(){}function q1(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(Zd,Zd),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,F1(o),o;default:if(typeof l.status=="string")l.then(Zd,Zd);else{if(o=jt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(m){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=m}},function(m){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,F1(o),o}throw bu=l,yu}}var bu=null;function U1(){if(bu===null)throw Error(r(459));var o=bu;return bu=null,o}function F1(o){if(o===yu||o===Xd)throw Error(r(483))}var oi=!1;function Qp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eg(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function si(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function li(o,l,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(wt&2)!==0){var b=m.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),m.pending=l,l=Vd(o),k1(o,null,f),l}return Fd(o,m,l,f),Vd(o)}function xu(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var m=l.lanes;m&=o.pendingLanes,f|=m,l.lanes=f,Ed(o,f)}}function tg(o,l){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var b=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var N={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?b=w=N:w=w.next=N,f=f.next}while(f!==null);w===null?b=w=l:w=w.next=l}else b=w=l;f={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var ng=!1;function _u(){if(ng){var o=cs;if(o!==null)throw o}}function wu(o,l,f,m){ng=!1;var b=o.updateQueue;oi=!1;var w=b.firstBaseUpdate,N=b.lastBaseUpdate,R=b.shared.pending;if(R!==null){b.shared.pending=null;var X=R,se=X.next;X.next=null,N===null?w=se:N.next=se,N=X;var fe=o.alternate;fe!==null&&(fe=fe.updateQueue,R=fe.lastBaseUpdate,R!==N&&(R===null?fe.firstBaseUpdate=se:R.next=se,fe.lastBaseUpdate=X))}if(w!==null){var pe=b.baseState;N=0,fe=se=X=null,R=w;do{var le=R.lane&-536870913,ue=le!==R.lane;if(ue?(dt&le)===le:(m&le)===le){le!==0&&le===us&&(ng=!0),fe!==null&&(fe=fe.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var ze=o,Le=R;le=l;var Mt=f;switch(Le.tag){case 1:if(ze=Le.payload,typeof ze=="function"){pe=ze.call(Mt,pe,le);break e}pe=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Le.payload,le=typeof ze=="function"?ze.call(Mt,pe,le):ze,le==null)break e;pe=h({},pe,le);break e;case 2:oi=!0}}le=R.callback,le!==null&&(o.flags|=64,ue&&(o.flags|=8192),ue=b.callbacks,ue===null?b.callbacks=[le]:ue.push(le))}else ue={lane:le,tag:R.tag,payload:R.payload,callback:R.callback,next:null},fe===null?(se=fe=ue,X=pe):fe=fe.next=ue,N|=le;if(R=R.next,R===null){if(R=b.shared.pending,R===null)break;ue=R,R=ue.next,ue.next=null,b.lastBaseUpdate=ue,b.shared.pending=null}}while(!0);fe===null&&(X=pe),b.baseState=X,b.firstBaseUpdate=se,b.lastBaseUpdate=fe,w===null&&(b.shared.lanes=0),gi|=N,o.lanes=N,o.memoizedState=pe}}function V1(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function z1(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)V1(f[o],l)}var ds=K(null),Jd=K(0);function G1(o,l){o=Oa,ce(Jd,o),ce(ds,l),Oa=o|l.baseLanes}function rg(){ce(Jd,Oa),ce(ds,ds.current)}function ag(){Oa=Jd.current,ae(ds),ae(Jd)}var ui=0,tt=null,kt=null,nn=null,Qd=!1,fs=!1,uo=!1,ef=0,Su=0,hs=null,GL=0;function Qt(){throw Error(r(321))}function ig(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!nr(o[f],l[f]))return!1;return!0}function og(o,l,f,m,b,w){return ui=w,tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$.H=o===null||o.memoizedState===null?kT:OT,uo=!1,w=f(m,b),uo=!1,fs&&(w=K1(l,f,m,b)),H1(o),w}function H1(o){$.H=sf;var l=kt!==null&&kt.next!==null;if(ui=0,nn=kt=tt=null,Qd=!1,Su=0,hs=null,l)throw Error(r(300));o===null||hn||(o=o.dependencies,o!==null&&Kd(o)&&(hn=!0))}function K1(o,l,f,m){tt=o;var b=0;do{if(fs&&(hs=null),Su=0,fs=!1,25<=b)throw Error(r(301));if(b+=1,nn=kt=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}$.H=JL,w=l(f,m)}while(fs);return w}function HL(){var o=$.H,l=o.useState()[0];return l=typeof l.then=="function"?Tu(l):l,o=o.useState()[0],(kt!==null?kt.memoizedState:null)!==o&&(tt.flags|=1024),l}function sg(){var o=ef!==0;return ef=0,o}function lg(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function ug(o){if(Qd){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Qd=!1}ui=0,nn=kt=tt=null,fs=!1,Su=ef=0,hs=null}function Wn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?tt.memoizedState=nn=o:nn=nn.next=o,nn}function rn(){if(kt===null){var o=tt.alternate;o=o!==null?o.memoizedState:null}else o=kt.next;var l=nn===null?tt.memoizedState:nn.next;if(l!==null)nn=l,kt=o;else{if(o===null)throw tt.alternate===null?Error(r(467)):Error(r(310));kt=o,o={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},nn===null?tt.memoizedState=nn=o:nn=nn.next=o}return nn}function cg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tu(o){var l=Su;return Su+=1,hs===null&&(hs=[]),o=q1(hs,o,l),l=tt,(nn===null?l.memoizedState:nn.next)===null&&(l=l.alternate,$.H=l===null||l.memoizedState===null?kT:OT),o}function tf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Tu(o);if(o.$$typeof===C)return Cn(o)}throw Error(r(438,String(o)))}function dg(o){var l=null,f=tt.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var m=tt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=cg(),tt.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),m=0;m<o;m++)f[m]=z;return l.index++,f}function Sa(o,l){return typeof l=="function"?l(o):l}function nf(o){var l=rn();return fg(l,kt,o)}function fg(o,l,f){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var b=o.baseQueue,w=m.pending;if(w!==null){if(b!==null){var N=b.next;b.next=w.next,w.next=N}l.baseQueue=b=w,m.pending=null}if(w=o.baseState,b===null)o.memoizedState=w;else{l=b.next;var R=N=null,X=null,se=l,fe=!1;do{var pe=se.lane&-536870913;if(pe!==se.lane?(dt&pe)===pe:(ui&pe)===pe){var le=se.revertLane;if(le===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),pe===us&&(fe=!0);else if((ui&le)===le){se=se.next,le===us&&(fe=!0);continue}else pe={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},X===null?(R=X=pe,N=w):X=X.next=pe,tt.lanes|=le,gi|=le;pe=se.action,uo&&f(w,pe),w=se.hasEagerState?se.eagerState:f(w,pe)}else le={lane:pe,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},X===null?(R=X=le,N=w):X=X.next=le,tt.lanes|=pe,gi|=pe;se=se.next}while(se!==null&&se!==l);if(X===null?N=w:X.next=R,!nr(w,o.memoizedState)&&(hn=!0,fe&&(f=cs,f!==null)))throw f;o.memoizedState=w,o.baseState=N,o.baseQueue=X,m.lastRenderedState=w}return b===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function hg(o){var l=rn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var m=f.dispatch,b=f.pending,w=l.memoizedState;if(b!==null){f.pending=null;var N=b=b.next;do w=o(w,N.action),N=N.next;while(N!==b);nr(w,l.memoizedState)||(hn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),f.lastRenderedState=w}return[w,m]}function Y1(o,l,f){var m=tt,b=rn(),w=gt;if(w){if(f===void 0)throw Error(r(407));f=f()}else f=l();var N=!nr((kt||b).memoizedState,f);N&&(b.memoizedState=f,hn=!0),b=b.queue;var R=Z1.bind(null,m,b,o);if(Au(2048,8,R,[o]),b.getSnapshot!==l||N||nn!==null&&nn.memoizedState.tag&1){if(m.flags|=2048,ms(9,rf(),X1.bind(null,m,b,f,l),null),jt===null)throw Error(r(349));w||(ui&124)!==0||W1(m,l,f)}return f}function W1(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=tt.updateQueue,l===null?(l=cg(),tt.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function X1(o,l,f,m){l.value=f,l.getSnapshot=m,J1(l)&&Q1(o)}function Z1(o,l,f){return f(function(){J1(l)&&Q1(o)})}function J1(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!nr(o,f)}catch{return!0}}function Q1(o){var l=is(o,2);l!==null&&lr(l,o,2)}function mg(o){var l=Wn();if(typeof o=="function"){var f=o;if(o=f(),uo){Et(!0);try{f()}finally{Et(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:o},l}function eT(o,l,f,m){return o.baseState=f,fg(o,kt,typeof m=="function"?m:Sa)}function KL(o,l,f,m,b){if(of(o))throw Error(r(485));if(o=l.action,o!==null){var w={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};$.T!==null?f(!0):w.isTransition=!1,m(w),f=l.pending,f===null?(w.next=l.pending=w,tT(l,w)):(w.next=f.next,l.pending=f.next=w)}}function tT(o,l){var f=l.action,m=l.payload,b=o.state;if(l.isTransition){var w=$.T,N={};$.T=N;try{var R=f(b,m),X=$.S;X!==null&&X(N,R),nT(o,l,R)}catch(se){pg(o,l,se)}finally{$.T=w}}else try{w=f(b,m),nT(o,l,w)}catch(se){pg(o,l,se)}}function nT(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){rT(o,l,m)},function(m){return pg(o,l,m)}):rT(o,l,f)}function rT(o,l,f){l.status="fulfilled",l.value=f,aT(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,tT(o,f)))}function pg(o,l,f){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=f,aT(l),l=l.next;while(l!==m)}o.action=null}function aT(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function iT(o,l){return l}function oT(o,l){if(gt){var f=jt.formState;if(f!==null){e:{var m=tt;if(gt){if(Yt){t:{for(var b=Yt,w=Qr;b.nodeType!==8;){if(!w){b=null;break t}if(b=Br(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){Yt=Br(b.nextSibling),m=b.data==="F!";break e}}io(m)}m=!1}m&&(l=f[0])}}return f=Wn(),f.memoizedState=f.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iT,lastRenderedState:l},f.queue=m,f=AT.bind(null,tt,m),m.dispatch=f,m=mg(!1),w=xg.bind(null,tt,!1,m.queue),m=Wn(),b={state:l,dispatch:null,action:o,pending:null},m.queue=b,f=KL.bind(null,tt,b,w,f),b.dispatch=f,m.memoizedState=o,[l,f,!1]}function sT(o){var l=rn();return lT(l,kt,o)}function lT(o,l,f){if(l=fg(o,l,iT)[0],o=nf(Sa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Tu(l)}catch(N){throw N===yu?Xd:N}else m=l;l=rn();var b=l.queue,w=b.dispatch;return f!==l.memoizedState&&(tt.flags|=2048,ms(9,rf(),YL.bind(null,b,f),null)),[m,w,o]}function YL(o,l){o.action=l}function uT(o){var l=rn(),f=kt;if(f!==null)return lT(l,f,o);rn(),l=l.memoizedState,f=rn();var m=f.queue.dispatch;return f.memoizedState=o,[l,m,!1]}function ms(o,l,f,m){return o={tag:o,create:f,deps:m,inst:l,next:null},l=tt.updateQueue,l===null&&(l=cg(),tt.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,l.lastEffect=o),o}function rf(){return{destroy:void 0,resource:void 0}}function cT(){return rn().memoizedState}function af(o,l,f,m){var b=Wn();m=m===void 0?null:m,tt.flags|=o,b.memoizedState=ms(1|l,rf(),f,m)}function Au(o,l,f,m){var b=rn();m=m===void 0?null:m;var w=b.memoizedState.inst;kt!==null&&m!==null&&ig(m,kt.memoizedState.deps)?b.memoizedState=ms(l,w,f,m):(tt.flags|=o,b.memoizedState=ms(1|l,w,f,m))}function dT(o,l){af(8390656,8,o,l)}function fT(o,l){Au(2048,8,o,l)}function hT(o,l){return Au(4,2,o,l)}function mT(o,l){return Au(4,4,o,l)}function pT(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function gT(o,l,f){f=f!=null?f.concat([o]):null,Au(4,4,pT.bind(null,l,o),f)}function gg(){}function vT(o,l){var f=rn();l=l===void 0?null:l;var m=f.memoizedState;return l!==null&&ig(l,m[1])?m[0]:(f.memoizedState=[o,l],o)}function yT(o,l){var f=rn();l=l===void 0?null:l;var m=f.memoizedState;if(l!==null&&ig(l,m[1]))return m[0];if(m=o(),uo){Et(!0);try{o()}finally{Et(!1)}}return f.memoizedState=[m,l],m}function vg(o,l,f){return f===void 0||(ui&1073741824)!==0?o.memoizedState=l:(o.memoizedState=f,o=_A(),tt.lanes|=o,gi|=o,f)}function bT(o,l,f,m){return nr(f,l)?f:ds.current!==null?(o=vg(o,f,m),nr(o,l)||(hn=!0),o):(ui&42)===0?(hn=!0,o.memoizedState=f):(o=_A(),tt.lanes|=o,gi|=o,l)}function xT(o,l,f,m,b){var w=V.p;V.p=w!==0&&8>w?w:8;var N=$.T,R={};$.T=R,xg(o,!1,l,f);try{var X=b(),se=$.S;if(se!==null&&se(R,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var fe=zL(X,m);Cu(o,l,fe,sr(o))}else Cu(o,l,m,sr(o))}catch(pe){Cu(o,l,{then:function(){},status:"rejected",reason:pe},sr())}finally{V.p=w,$.T=N}}function WL(){}function yg(o,l,f,m){if(o.tag!==5)throw Error(r(476));var b=_T(o).queue;xT(o,b,l,J,f===null?WL:function(){return wT(o),f(m)})}function _T(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:J},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function wT(o){var l=_T(o).next.queue;Cu(o,l,{},sr())}function bg(){return Cn(zu)}function ST(){return rn().memoizedState}function TT(){return rn().memoizedState}function XL(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=sr();o=si(f);var m=li(l,o,f);m!==null&&(lr(m,l,f),xu(m,l,f)),l={cache:Wp()},o.payload=l;return}l=l.return}}function ZL(o,l,f){var m=sr();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},of(o)?CT(l,f):(f=Bp(o,l,f,m),f!==null&&(lr(f,o,m),ET(f,l,m)))}function AT(o,l,f){var m=sr();Cu(o,l,f,m)}function Cu(o,l,f,m){var b={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(of(o))CT(l,b);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var N=l.lastRenderedState,R=w(N,f);if(b.hasEagerState=!0,b.eagerState=R,nr(R,N))return Fd(o,l,b,0),jt===null&&Ud(),!1}catch{}finally{}if(f=Bp(o,l,b,m),f!==null)return lr(f,o,m),ET(f,l,m),!0}return!1}function xg(o,l,f,m){if(m={lane:2,revertLane:Jg(),action:m,hasEagerState:!1,eagerState:null,next:null},of(o)){if(l)throw Error(r(479))}else l=Bp(o,f,m,2),l!==null&&lr(l,o,2)}function of(o){var l=o.alternate;return o===tt||l!==null&&l===tt}function CT(o,l){fs=Qd=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function ET(o,l,f){if((f&4194048)!==0){var m=l.lanes;m&=o.pendingLanes,f|=m,l.lanes=f,Ed(o,f)}}var sf={readContext:Cn,use:tf,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},kT={readContext:Cn,use:tf,useCallback:function(o,l){return Wn().memoizedState=[o,l===void 0?null:l],o},useContext:Cn,useEffect:dT,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,af(4194308,4,pT.bind(null,l,o),f)},useLayoutEffect:function(o,l){return af(4194308,4,o,l)},useInsertionEffect:function(o,l){af(4,2,o,l)},useMemo:function(o,l){var f=Wn();l=l===void 0?null:l;var m=o();if(uo){Et(!0);try{o()}finally{Et(!1)}}return f.memoizedState=[m,l],m},useReducer:function(o,l,f){var m=Wn();if(f!==void 0){var b=f(l);if(uo){Et(!0);try{f(l)}finally{Et(!1)}}}else b=l;return m.memoizedState=m.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},m.queue=o,o=o.dispatch=ZL.bind(null,tt,o),[m.memoizedState,o]},useRef:function(o){var l=Wn();return o={current:o},l.memoizedState=o},useState:function(o){o=mg(o);var l=o.queue,f=AT.bind(null,tt,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:gg,useDeferredValue:function(o,l){var f=Wn();return vg(f,o,l)},useTransition:function(){var o=mg(!1);return o=xT.bind(null,tt,o.queue,!0,!1),Wn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var m=tt,b=Wn();if(gt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),jt===null)throw Error(r(349));(dt&124)!==0||W1(m,l,f)}b.memoizedState=f;var w={value:f,getSnapshot:l};return b.queue=w,dT(Z1.bind(null,m,w,o),[o]),m.flags|=2048,ms(9,rf(),X1.bind(null,m,w,f,l),null),f},useId:function(){var o=Wn(),l=jt.identifierPrefix;if(gt){var f=xa,m=ba;f=(m&~(1<<32-Pn(m)-1)).toString(32)+f,l="«"+l+"R"+f,f=ef++,0<f&&(l+="H"+f.toString(32)),l+="»"}else f=GL++,l="«"+l+"r"+f.toString(32)+"»";return o.memoizedState=l},useHostTransitionStatus:bg,useFormState:oT,useActionState:oT,useOptimistic:function(o){var l=Wn();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=xg.bind(null,tt,!0,f),f.dispatch=l,[o,l]},useMemoCache:dg,useCacheRefresh:function(){return Wn().memoizedState=XL.bind(null,tt)}},OT={readContext:Cn,use:tf,useCallback:vT,useContext:Cn,useEffect:fT,useImperativeHandle:gT,useInsertionEffect:hT,useLayoutEffect:mT,useMemo:yT,useReducer:nf,useRef:cT,useState:function(){return nf(Sa)},useDebugValue:gg,useDeferredValue:function(o,l){var f=rn();return bT(f,kt.memoizedState,o,l)},useTransition:function(){var o=nf(Sa)[0],l=rn().memoizedState;return[typeof o=="boolean"?o:Tu(o),l]},useSyncExternalStore:Y1,useId:ST,useHostTransitionStatus:bg,useFormState:sT,useActionState:sT,useOptimistic:function(o,l){var f=rn();return eT(f,kt,o,l)},useMemoCache:dg,useCacheRefresh:TT},JL={readContext:Cn,use:tf,useCallback:vT,useContext:Cn,useEffect:fT,useImperativeHandle:gT,useInsertionEffect:hT,useLayoutEffect:mT,useMemo:yT,useReducer:hg,useRef:cT,useState:function(){return hg(Sa)},useDebugValue:gg,useDeferredValue:function(o,l){var f=rn();return kt===null?vg(f,o,l):bT(f,kt.memoizedState,o,l)},useTransition:function(){var o=hg(Sa)[0],l=rn().memoizedState;return[typeof o=="boolean"?o:Tu(o),l]},useSyncExternalStore:Y1,useId:ST,useHostTransitionStatus:bg,useFormState:uT,useActionState:uT,useOptimistic:function(o,l){var f=rn();return kt!==null?eT(f,kt,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:dg,useCacheRefresh:TT},ps=null,Eu=0;function lf(o){var l=Eu;return Eu+=1,ps===null&&(ps=[]),q1(ps,o,l)}function ku(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function uf(o,l){throw l.$$typeof===p?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function MT(o){var l=o._init;return l(o._payload)}function DT(o){function l(te,ee){if(o){var ie=te.deletions;ie===null?(te.deletions=[ee],te.flags|=16):ie.push(ee)}}function f(te,ee){if(!o)return null;for(;ee!==null;)l(te,ee),ee=ee.sibling;return null}function m(te){for(var ee=new Map;te!==null;)te.key!==null?ee.set(te.key,te):ee.set(te.index,te),te=te.sibling;return ee}function b(te,ee){return te=ya(te,ee),te.index=0,te.sibling=null,te}function w(te,ee,ie){return te.index=ie,o?(ie=te.alternate,ie!==null?(ie=ie.index,ie<ee?(te.flags|=67108866,ee):ie):(te.flags|=67108866,ee)):(te.flags|=1048576,ee)}function N(te){return o&&te.alternate===null&&(te.flags|=67108866),te}function R(te,ee,ie,me){return ee===null||ee.tag!==6?(ee=Up(ie,te.mode,me),ee.return=te,ee):(ee=b(ee,ie),ee.return=te,ee)}function X(te,ee,ie,me){var De=ie.type;return De===S?fe(te,ee,ie.props.children,me,ie.key):ee!==null&&(ee.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===I&&MT(De)===ee.type)?(ee=b(ee,ie.props),ku(ee,ie),ee.return=te,ee):(ee=zd(ie.type,ie.key,ie.props,null,te.mode,me),ku(ee,ie),ee.return=te,ee)}function se(te,ee,ie,me){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ie.containerInfo||ee.stateNode.implementation!==ie.implementation?(ee=Fp(ie,te.mode,me),ee.return=te,ee):(ee=b(ee,ie.children||[]),ee.return=te,ee)}function fe(te,ee,ie,me,De){return ee===null||ee.tag!==7?(ee=to(ie,te.mode,me,De),ee.return=te,ee):(ee=b(ee,ie),ee.return=te,ee)}function pe(te,ee,ie){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=Up(""+ee,te.mode,ie),ee.return=te,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:return ie=zd(ee.type,ee.key,ee.props,null,te.mode,ie),ku(ie,ee),ie.return=te,ie;case _:return ee=Fp(ee,te.mode,ie),ee.return=te,ee;case I:var me=ee._init;return ee=me(ee._payload),pe(te,ee,ie)}if(q(ee)||W(ee))return ee=to(ee,te.mode,ie,null),ee.return=te,ee;if(typeof ee.then=="function")return pe(te,lf(ee),ie);if(ee.$$typeof===C)return pe(te,Yd(te,ee),ie);uf(te,ee)}return null}function le(te,ee,ie,me){var De=ee!==null?ee.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return De!==null?null:R(te,ee,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case y:return ie.key===De?X(te,ee,ie,me):null;case _:return ie.key===De?se(te,ee,ie,me):null;case I:return De=ie._init,ie=De(ie._payload),le(te,ee,ie,me)}if(q(ie)||W(ie))return De!==null?null:fe(te,ee,ie,me,null);if(typeof ie.then=="function")return le(te,ee,lf(ie),me);if(ie.$$typeof===C)return le(te,ee,Yd(te,ie),me);uf(te,ie)}return null}function ue(te,ee,ie,me,De){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return te=te.get(ie)||null,R(ee,te,""+me,De);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case y:return te=te.get(me.key===null?ie:me.key)||null,X(ee,te,me,De);case _:return te=te.get(me.key===null?ie:me.key)||null,se(ee,te,me,De);case I:var nt=me._init;return me=nt(me._payload),ue(te,ee,ie,me,De)}if(q(me)||W(me))return te=te.get(ie)||null,fe(ee,te,me,De,null);if(typeof me.then=="function")return ue(te,ee,ie,lf(me),De);if(me.$$typeof===C)return ue(te,ee,ie,Yd(ee,me),De);uf(ee,me)}return null}function ze(te,ee,ie,me){for(var De=null,nt=null,$e=ee,Ue=ee=0,pn=null;$e!==null&&Ue<ie.length;Ue++){$e.index>Ue?(pn=$e,$e=null):pn=$e.sibling;var ft=le(te,$e,ie[Ue],me);if(ft===null){$e===null&&($e=pn);break}o&&$e&&ft.alternate===null&&l(te,$e),ee=w(ft,ee,Ue),nt===null?De=ft:nt.sibling=ft,nt=ft,$e=pn}if(Ue===ie.length)return f(te,$e),gt&&ro(te,Ue),De;if($e===null){for(;Ue<ie.length;Ue++)$e=pe(te,ie[Ue],me),$e!==null&&(ee=w($e,ee,Ue),nt===null?De=$e:nt.sibling=$e,nt=$e);return gt&&ro(te,Ue),De}for($e=m($e);Ue<ie.length;Ue++)pn=ue($e,te,Ue,ie[Ue],me),pn!==null&&(o&&pn.alternate!==null&&$e.delete(pn.key===null?Ue:pn.key),ee=w(pn,ee,Ue),nt===null?De=pn:nt.sibling=pn,nt=pn);return o&&$e.forEach(function(Ai){return l(te,Ai)}),gt&&ro(te,Ue),De}function Le(te,ee,ie,me){if(ie==null)throw Error(r(151));for(var De=null,nt=null,$e=ee,Ue=ee=0,pn=null,ft=ie.next();$e!==null&&!ft.done;Ue++,ft=ie.next()){$e.index>Ue?(pn=$e,$e=null):pn=$e.sibling;var Ai=le(te,$e,ft.value,me);if(Ai===null){$e===null&&($e=pn);break}o&&$e&&Ai.alternate===null&&l(te,$e),ee=w(Ai,ee,Ue),nt===null?De=Ai:nt.sibling=Ai,nt=Ai,$e=pn}if(ft.done)return f(te,$e),gt&&ro(te,Ue),De;if($e===null){for(;!ft.done;Ue++,ft=ie.next())ft=pe(te,ft.value,me),ft!==null&&(ee=w(ft,ee,Ue),nt===null?De=ft:nt.sibling=ft,nt=ft);return gt&&ro(te,Ue),De}for($e=m($e);!ft.done;Ue++,ft=ie.next())ft=ue($e,te,Ue,ft.value,me),ft!==null&&(o&&ft.alternate!==null&&$e.delete(ft.key===null?Ue:ft.key),ee=w(ft,ee,Ue),nt===null?De=ft:nt.sibling=ft,nt=ft);return o&&$e.forEach(function(Q3){return l(te,Q3)}),gt&&ro(te,Ue),De}function Mt(te,ee,ie,me){if(typeof ie=="object"&&ie!==null&&ie.type===S&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case y:e:{for(var De=ie.key;ee!==null;){if(ee.key===De){if(De=ie.type,De===S){if(ee.tag===7){f(te,ee.sibling),me=b(ee,ie.props.children),me.return=te,te=me;break e}}else if(ee.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===I&&MT(De)===ee.type){f(te,ee.sibling),me=b(ee,ie.props),ku(me,ie),me.return=te,te=me;break e}f(te,ee);break}else l(te,ee);ee=ee.sibling}ie.type===S?(me=to(ie.props.children,te.mode,me,ie.key),me.return=te,te=me):(me=zd(ie.type,ie.key,ie.props,null,te.mode,me),ku(me,ie),me.return=te,te=me)}return N(te);case _:e:{for(De=ie.key;ee!==null;){if(ee.key===De)if(ee.tag===4&&ee.stateNode.containerInfo===ie.containerInfo&&ee.stateNode.implementation===ie.implementation){f(te,ee.sibling),me=b(ee,ie.children||[]),me.return=te,te=me;break e}else{f(te,ee);break}else l(te,ee);ee=ee.sibling}me=Fp(ie,te.mode,me),me.return=te,te=me}return N(te);case I:return De=ie._init,ie=De(ie._payload),Mt(te,ee,ie,me)}if(q(ie))return ze(te,ee,ie,me);if(W(ie)){if(De=W(ie),typeof De!="function")throw Error(r(150));return ie=De.call(ie),Le(te,ee,ie,me)}if(typeof ie.then=="function")return Mt(te,ee,lf(ie),me);if(ie.$$typeof===C)return Mt(te,ee,Yd(te,ie),me);uf(te,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,ee!==null&&ee.tag===6?(f(te,ee.sibling),me=b(ee,ie),me.return=te,te=me):(f(te,ee),me=Up(ie,te.mode,me),me.return=te,te=me),N(te)):f(te,ee)}return function(te,ee,ie,me){try{Eu=0;var De=Mt(te,ee,ie,me);return ps=null,De}catch($e){if($e===yu||$e===Xd)throw $e;var nt=rr(29,$e,null,te.mode);return nt.lanes=me,nt.return=te,nt}finally{}}}var gs=DT(!0),NT=DT(!1),Sr=K(null),ea=null;function ci(o){var l=o.alternate;ce(un,un.current&1),ce(Sr,o),ea===null&&(l===null||ds.current!==null||l.memoizedState!==null)&&(ea=o)}function PT(o){if(o.tag===22){if(ce(un,un.current),ce(Sr,o),ea===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(ea=o)}}else di()}function di(){ce(un,un.current),ce(Sr,Sr.current)}function Ta(o){ae(Sr),ea===o&&(ea=null),ae(un)}var un=K(0);function cf(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||cv(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function _g(o,l,f,m){l=o.memoizedState,f=f(m,l),f=f==null?l:h({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var wg={enqueueSetState:function(o,l,f){o=o._reactInternals;var m=sr(),b=si(m);b.payload=l,f!=null&&(b.callback=f),l=li(o,b,m),l!==null&&(lr(l,o,m),xu(l,o,m))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var m=sr(),b=si(m);b.tag=1,b.payload=l,f!=null&&(b.callback=f),l=li(o,b,m),l!==null&&(lr(l,o,m),xu(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=sr(),m=si(f);m.tag=2,l!=null&&(m.callback=l),l=li(o,m,f),l!==null&&(lr(l,o,f),xu(l,o,f))}};function RT(o,l,f,m,b,w,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,w,N):l.prototype&&l.prototype.isPureReactComponent?!cu(f,m)||!cu(b,w):!0}function IT(o,l,f,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==o&&wg.enqueueReplaceState(l,l.state,null)}function co(o,l){var f=l;if("ref"in l){f={};for(var m in l)m!=="ref"&&(f[m]=l[m])}if(o=o.defaultProps){f===l&&(f=h({},f));for(var b in o)f[b]===void 0&&(f[b]=o[b])}return f}var df=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function jT(o){df(o)}function $T(o){console.error(o)}function LT(o){df(o)}function ff(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function BT(o,l,f){try{var m=o.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Sg(o,l,f){return f=si(f),f.tag=3,f.payload={element:null},f.callback=function(){ff(o,l)},f}function qT(o){return o=si(o),o.tag=3,o}function UT(o,l,f,m){var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var w=m.value;o.payload=function(){return b(w)},o.callback=function(){BT(l,f,m)}}var N=f.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){BT(l,f,m),typeof b!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var R=m.stack;this.componentDidCatch(m.value,{componentStack:R!==null?R:""})})}function QL(o,l,f,m,b){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=f.alternate,l!==null&&pu(l,f,b,!0),f=Sr.current,f!==null){switch(f.tag){case 13:return ea===null?Kg():f.alternate===null&&Wt===0&&(Wt=3),f.flags&=-257,f.flags|=65536,f.lanes=b,m===Jp?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([m]):l.add(m),Wg(o,m,b)),!1;case 22:return f.flags|=65536,m===Jp?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([m]):f.add(m)),Wg(o,m,b)),!1}throw Error(r(435,f.tag))}return Wg(o,m,b),Kg(),!1}if(gt)return l=Sr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,m!==Gp&&(o=Error(r(422),{cause:m}),mu(br(o,f)))):(m!==Gp&&(l=Error(r(423),{cause:m}),mu(br(l,f))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,m=br(m,f),b=Sg(o.stateNode,m,b),tg(o,b),Wt!==4&&(Wt=2)),!1;var w=Error(r(520),{cause:m});if(w=br(w,f),Iu===null?Iu=[w]:Iu.push(w),Wt!==4&&(Wt=2),l===null)return!0;m=br(m,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=b&-b,f.lanes|=o,o=Sg(f.stateNode,m,o),tg(f,o),!1;case 1:if(l=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vi===null||!vi.has(w))))return f.flags|=65536,b&=-b,f.lanes|=b,b=qT(b),UT(b,o,f,m),tg(f,b),!1}f=f.return}while(f!==null);return!1}var FT=Error(r(461)),hn=!1;function _n(o,l,f,m){l.child=o===null?NT(l,null,f,m):gs(l,o.child,f,m)}function VT(o,l,f,m,b){f=f.render;var w=l.ref;if("ref"in m){var N={};for(var R in m)R!=="ref"&&(N[R]=m[R])}else N=m;return so(l),m=og(o,l,f,N,w,b),R=sg(),o!==null&&!hn?(lg(o,l,b),Aa(o,l,b)):(gt&&R&&Vp(l),l.flags|=1,_n(o,l,m,b),l.child)}function zT(o,l,f,m,b){if(o===null){var w=f.type;return typeof w=="function"&&!qp(w)&&w.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=w,GT(o,l,w,m,b)):(o=zd(f.type,null,m,l,l.mode,b),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,!Dg(o,b)){var N=w.memoizedProps;if(f=f.compare,f=f!==null?f:cu,f(N,m)&&o.ref===l.ref)return Aa(o,l,b)}return l.flags|=1,o=ya(w,m),o.ref=l.ref,o.return=l,l.child=o}function GT(o,l,f,m,b){if(o!==null){var w=o.memoizedProps;if(cu(w,m)&&o.ref===l.ref)if(hn=!1,l.pendingProps=m=w,Dg(o,b))(o.flags&131072)!==0&&(hn=!0);else return l.lanes=o.lanes,Aa(o,l,b)}return Tg(o,l,f,m,b)}function HT(o,l,f){var m=l.pendingProps,b=m.children,w=o!==null?o.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=w!==null?w.baseLanes|f:f,o!==null){for(b=l.child=o.child,w=0;b!==null;)w=w|b.lanes|b.childLanes,b=b.sibling;l.childLanes=w&~m}else l.childLanes=0,l.child=null;return KT(o,l,m,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Wd(l,w!==null?w.cachePool:null),w!==null?G1(l,w):rg(),PT(l);else return l.lanes=l.childLanes=536870912,KT(o,l,w!==null?w.baseLanes|f:f,f)}else w!==null?(Wd(l,w.cachePool),G1(l,w),di(),l.memoizedState=null):(o!==null&&Wd(l,null),rg(),di());return _n(o,l,b,f),l.child}function KT(o,l,f,m){var b=Zp();return b=b===null?null:{parent:ln._currentValue,pool:b},l.memoizedState={baseLanes:f,cachePool:b},o!==null&&Wd(l,null),rg(),PT(l),o!==null&&pu(o,l,m,!0),null}function hf(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function Tg(o,l,f,m,b){return so(l),f=og(o,l,f,m,void 0,b),m=sg(),o!==null&&!hn?(lg(o,l,b),Aa(o,l,b)):(gt&&m&&Vp(l),l.flags|=1,_n(o,l,f,b),l.child)}function YT(o,l,f,m,b,w){return so(l),l.updateQueue=null,f=K1(l,m,f,b),H1(o),m=sg(),o!==null&&!hn?(lg(o,l,w),Aa(o,l,w)):(gt&&m&&Vp(l),l.flags|=1,_n(o,l,f,w),l.child)}function WT(o,l,f,m,b){if(so(l),l.stateNode===null){var w=os,N=f.contextType;typeof N=="object"&&N!==null&&(w=Cn(N)),w=new f(m,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=wg,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=m,w.state=l.memoizedState,w.refs={},Qp(l),N=f.contextType,w.context=typeof N=="object"&&N!==null?Cn(N):os,w.state=l.memoizedState,N=f.getDerivedStateFromProps,typeof N=="function"&&(_g(l,f,N,m),w.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&wg.enqueueReplaceState(w,w.state,null),wu(l,m,w,b),_u(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(o===null){w=l.stateNode;var R=l.memoizedProps,X=co(f,R);w.props=X;var se=w.context,fe=f.contextType;N=os,typeof fe=="object"&&fe!==null&&(N=Cn(fe));var pe=f.getDerivedStateFromProps;fe=typeof pe=="function"||typeof w.getSnapshotBeforeUpdate=="function",R=l.pendingProps!==R,fe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R||se!==N)&&IT(l,w,m,N),oi=!1;var le=l.memoizedState;w.state=le,wu(l,m,w,b),_u(),se=l.memoizedState,R||le!==se||oi?(typeof pe=="function"&&(_g(l,f,pe,m),se=l.memoizedState),(X=oi||RT(l,f,X,m,le,se,N))?(fe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=se),w.props=m,w.state=se,w.context=N,m=X):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{w=l.stateNode,eg(o,l),N=l.memoizedProps,fe=co(f,N),w.props=fe,pe=l.pendingProps,le=w.context,se=f.contextType,X=os,typeof se=="object"&&se!==null&&(X=Cn(se)),R=f.getDerivedStateFromProps,(se=typeof R=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==pe||le!==X)&&IT(l,w,m,X),oi=!1,le=l.memoizedState,w.state=le,wu(l,m,w,b),_u();var ue=l.memoizedState;N!==pe||le!==ue||oi||o!==null&&o.dependencies!==null&&Kd(o.dependencies)?(typeof R=="function"&&(_g(l,f,R,m),ue=l.memoizedState),(fe=oi||RT(l,f,fe,m,le,ue,X)||o!==null&&o.dependencies!==null&&Kd(o.dependencies))?(se||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,ue,X),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,ue,X)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===o.memoizedProps&&le===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&le===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ue),w.props=m,w.state=ue,w.context=X,m=fe):(typeof w.componentDidUpdate!="function"||N===o.memoizedProps&&le===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&le===o.memoizedState||(l.flags|=1024),m=!1)}return w=m,hf(o,l),m=(l.flags&128)!==0,w||m?(w=l.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,o!==null&&m?(l.child=gs(l,o.child,null,b),l.child=gs(l,null,f,b)):_n(o,l,f,b),l.memoizedState=w.state,o=l.child):o=Aa(o,l,b),o}function XT(o,l,f,m){return hu(),l.flags|=256,_n(o,l,f,m),l.child}var Ag={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cg(o){return{baseLanes:o,cachePool:$1()}}function Eg(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=Tr),o}function ZT(o,l,f){var m=l.pendingProps,b=!1,w=(l.flags&128)!==0,N;if((N=w)||(N=o!==null&&o.memoizedState===null?!1:(un.current&2)!==0),N&&(b=!0,l.flags&=-129),N=(l.flags&32)!==0,l.flags&=-33,o===null){if(gt){if(b?ci(l):di(),gt){var R=Yt,X;if(X=R){e:{for(X=R,R=Qr;X.nodeType!==8;){if(!R){R=null;break e}if(X=Br(X.nextSibling),X===null){R=null;break e}}R=X}R!==null?(l.memoizedState={dehydrated:R,treeContext:no!==null?{id:ba,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},X=rr(18,null,null,0),X.stateNode=R,X.return=l,l.child=X,Rn=l,Yt=null,X=!0):X=!1}X||io(l)}if(R=l.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return cv(R)?l.lanes=32:l.lanes=536870912,null;Ta(l)}return R=m.children,m=m.fallback,b?(di(),b=l.mode,R=mf({mode:"hidden",children:R},b),m=to(m,b,f,null),R.return=l,m.return=l,R.sibling=m,l.child=R,b=l.child,b.memoizedState=Cg(f),b.childLanes=Eg(o,N,f),l.memoizedState=Ag,m):(ci(l),kg(l,R))}if(X=o.memoizedState,X!==null&&(R=X.dehydrated,R!==null)){if(w)l.flags&256?(ci(l),l.flags&=-257,l=Og(o,l,f)):l.memoizedState!==null?(di(),l.child=o.child,l.flags|=128,l=null):(di(),b=m.fallback,R=l.mode,m=mf({mode:"visible",children:m.children},R),b=to(b,R,f,null),b.flags|=2,m.return=l,b.return=l,m.sibling=b,l.child=m,gs(l,o.child,null,f),m=l.child,m.memoizedState=Cg(f),m.childLanes=Eg(o,N,f),l.memoizedState=Ag,l=b);else if(ci(l),cv(R)){if(N=R.nextSibling&&R.nextSibling.dataset,N)var se=N.dgst;N=se,m=Error(r(419)),m.stack="",m.digest=N,mu({value:m,source:null,stack:null}),l=Og(o,l,f)}else if(hn||pu(o,l,f,!1),N=(f&o.childLanes)!==0,hn||N){if(N=jt,N!==null&&(m=f&-f,m=(m&42)!==0?1:Kl(m),m=(m&(N.suspendedLanes|f))!==0?0:m,m!==0&&m!==X.retryLane))throw X.retryLane=m,is(o,m),lr(N,o,m),FT;R.data==="$?"||Kg(),l=Og(o,l,f)}else R.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=X.treeContext,Yt=Br(R.nextSibling),Rn=l,gt=!0,ao=null,Qr=!1,o!==null&&(_r[wr++]=ba,_r[wr++]=xa,_r[wr++]=no,ba=o.id,xa=o.overflow,no=l),l=kg(l,m.children),l.flags|=4096);return l}return b?(di(),b=m.fallback,R=l.mode,X=o.child,se=X.sibling,m=ya(X,{mode:"hidden",children:m.children}),m.subtreeFlags=X.subtreeFlags&65011712,se!==null?b=ya(se,b):(b=to(b,R,f,null),b.flags|=2),b.return=l,m.return=l,m.sibling=b,l.child=m,m=b,b=l.child,R=o.child.memoizedState,R===null?R=Cg(f):(X=R.cachePool,X!==null?(se=ln._currentValue,X=X.parent!==se?{parent:se,pool:se}:X):X=$1(),R={baseLanes:R.baseLanes|f,cachePool:X}),b.memoizedState=R,b.childLanes=Eg(o,N,f),l.memoizedState=Ag,m):(ci(l),f=o.child,o=f.sibling,f=ya(f,{mode:"visible",children:m.children}),f.return=l,f.sibling=null,o!==null&&(N=l.deletions,N===null?(l.deletions=[o],l.flags|=16):N.push(o)),l.child=f,l.memoizedState=null,f)}function kg(o,l){return l=mf({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function mf(o,l){return o=rr(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Og(o,l,f){return gs(l,o.child,null,f),o=kg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function JT(o,l,f){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Kp(o.return,l,f)}function Mg(o,l,f,m,b){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:b}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=f,w.tailMode=b)}function QT(o,l,f){var m=l.pendingProps,b=m.revealOrder,w=m.tail;if(_n(o,l,m.children,f),m=un.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&JT(o,f,l);else if(o.tag===19)JT(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}switch(ce(un,m),b){case"forwards":for(f=l.child,b=null;f!==null;)o=f.alternate,o!==null&&cf(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=l.child,l.child=null):(b=f.sibling,f.sibling=null),Mg(l,!1,b,f,w);break;case"backwards":for(f=null,b=l.child,l.child=null;b!==null;){if(o=b.alternate,o!==null&&cf(o)===null){l.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}Mg(l,!0,f,null,w);break;case"together":Mg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Aa(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),gi|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(pu(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=ya(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=ya(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function Dg(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Kd(o)))}function e3(o,l,f){switch(l.tag){case 3:Ze(l,l.stateNode.containerInfo),ii(l,ln,o.memoizedState.cache),hu();break;case 27:case 5:Ve(l);break;case 4:Ze(l,l.stateNode.containerInfo);break;case 10:ii(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(ci(l),l.flags|=128,null):(f&l.child.childLanes)!==0?ZT(o,l,f):(ci(l),o=Aa(o,l,f),o!==null?o.sibling:null);ci(l);break;case 19:var b=(o.flags&128)!==0;if(m=(f&l.childLanes)!==0,m||(pu(o,l,f,!1),m=(f&l.childLanes)!==0),b){if(m)return QT(o,l,f);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ce(un,un.current),m)break;return null;case 22:case 23:return l.lanes=0,HT(o,l,f);case 24:ii(l,ln,o.memoizedState.cache)}return Aa(o,l,f)}function eA(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)hn=!0;else{if(!Dg(o,f)&&(l.flags&128)===0)return hn=!1,e3(o,l,f);hn=(o.flags&131072)!==0}else hn=!1,gt&&(l.flags&1048576)!==0&&M1(l,Hd,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var m=l.elementType,b=m._init;if(m=b(m._payload),l.type=m,typeof m=="function")qp(m)?(o=co(m,o),l.tag=1,l=WT(null,l,m,o,f)):(l.tag=0,l=Tg(null,l,m,o,f));else{if(m!=null){if(b=m.$$typeof,b===D){l.tag=11,l=VT(null,l,m,o,f);break e}else if(b===P){l.tag=14,l=zT(null,l,m,o,f);break e}}throw l=Y(m)||m,Error(r(306,l,""))}}return l;case 0:return Tg(o,l,l.type,l.pendingProps,f);case 1:return m=l.type,b=co(m,l.pendingProps),WT(o,l,m,b,f);case 3:e:{if(Ze(l,l.stateNode.containerInfo),o===null)throw Error(r(387));m=l.pendingProps;var w=l.memoizedState;b=w.element,eg(o,l),wu(l,m,null,f);var N=l.memoizedState;if(m=N.cache,ii(l,ln,m),m!==w.cache&&Yp(l,[ln],f,!0),_u(),m=N.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:N.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=XT(o,l,m,f);break e}else if(m!==b){b=br(Error(r(424)),l),mu(b),l=XT(o,l,m,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Yt=Br(o.firstChild),Rn=l,gt=!0,ao=null,Qr=!0,f=NT(l,null,m,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(hu(),m===b){l=Aa(o,l,f);break e}_n(o,l,m,f)}l=l.child}return l;case 26:return hf(o,l),o===null?(f=aC(l.type,null,l.pendingProps,null))?l.memoizedState=f:gt||(f=l.type,o=l.pendingProps,m=kf(Oe.current).createElement(f),m[Zt]=l,m[An]=o,Sn(m,f,o),tn(m),l.stateNode=m):l.memoizedState=aC(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ve(l),o===null&&gt&&(m=l.stateNode=tC(l.type,l.pendingProps,Oe.current),Rn=l,Qr=!0,b=Yt,xi(l.type)?(dv=b,Yt=Br(m.firstChild)):Yt=b),_n(o,l,l.pendingProps.children,f),hf(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&gt&&((b=m=Yt)&&(m=k3(m,l.type,l.pendingProps,Qr),m!==null?(l.stateNode=m,Rn=l,Yt=Br(m.firstChild),Qr=!1,b=!0):b=!1),b||io(l)),Ve(l),b=l.type,w=l.pendingProps,N=o!==null?o.memoizedProps:null,m=w.children,sv(b,w)?m=null:N!==null&&sv(b,N)&&(l.flags|=32),l.memoizedState!==null&&(b=og(o,l,HL,null,null,f),zu._currentValue=b),hf(o,l),_n(o,l,m,f),l.child;case 6:return o===null&&gt&&((o=f=Yt)&&(f=O3(f,l.pendingProps,Qr),f!==null?(l.stateNode=f,Rn=l,Yt=null,o=!0):o=!1),o||io(l)),null;case 13:return ZT(o,l,f);case 4:return Ze(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=gs(l,null,m,f):_n(o,l,m,f),l.child;case 11:return VT(o,l,l.type,l.pendingProps,f);case 7:return _n(o,l,l.pendingProps,f),l.child;case 8:return _n(o,l,l.pendingProps.children,f),l.child;case 12:return _n(o,l,l.pendingProps.children,f),l.child;case 10:return m=l.pendingProps,ii(l,l.type,m.value),_n(o,l,m.children,f),l.child;case 9:return b=l.type._context,m=l.pendingProps.children,so(l),b=Cn(b),m=m(b),l.flags|=1,_n(o,l,m,f),l.child;case 14:return zT(o,l,l.type,l.pendingProps,f);case 15:return GT(o,l,l.type,l.pendingProps,f);case 19:return QT(o,l,f);case 31:return m=l.pendingProps,f=l.mode,m={mode:m.mode,children:m.children},o===null?(f=mf(m,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=ya(o.child,m),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return HT(o,l,f);case 24:return so(l),m=Cn(ln),o===null?(b=Zp(),b===null&&(b=jt,w=Wp(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=f),b=w),l.memoizedState={parent:m,cache:b},Qp(l),ii(l,ln,b)):((o.lanes&f)!==0&&(eg(o,l),wu(l,null,null,f),_u()),b=o.memoizedState,w=l.memoizedState,b.parent!==m?(b={parent:m,cache:m},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),ii(l,ln,m)):(m=w.cache,ii(l,ln,m),m!==b.cache&&Yp(l,[ln],f,!0))),_n(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ca(o){o.flags|=4}function tA(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!uC(l)){if(l=Sr.current,l!==null&&((dt&4194048)===dt?ea!==null:(dt&62914560)!==dt&&(dt&536870912)===0||l!==ea))throw bu=Jp,L1;o.flags|=8192}}function pf(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Ad():536870912,o.lanes|=l,xs|=l)}function Ou(o,l){if(!gt)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Kt(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(l)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=m,o.childLanes=f,l}function t3(o,l,f){var m=l.pendingProps;switch(zp(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(l),null;case 1:return Kt(l),null;case 3:return f=l.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),wa(ln),Ae(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(fu(l)?Ca(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,P1())),Kt(l),null;case 26:return f=l.memoizedState,o===null?(Ca(l),f!==null?(Kt(l),tA(l,f)):(Kt(l),l.flags&=-16777217)):f?f!==o.memoizedState?(Ca(l),Kt(l),tA(l,f)):(Kt(l),l.flags&=-16777217):(o.memoizedProps!==m&&Ca(l),Kt(l),l.flags&=-16777217),null;case 27:qe(l),f=Oe.current;var b=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==m&&Ca(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Kt(l),null}o=ye.current,fu(l)?D1(l):(o=tC(b,m,f),l.stateNode=o,Ca(l))}return Kt(l),null;case 5:if(qe(l),f=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&Ca(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Kt(l),null}if(o=ye.current,fu(l))D1(l);else{switch(b=kf(Oe.current),o){case 1:o=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=b.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof m.is=="string"?b.createElement("select",{is:m.is}):b.createElement("select"),m.multiple?o.multiple=!0:m.size&&(o.size=m.size);break;default:o=typeof m.is=="string"?b.createElement(f,{is:m.is}):b.createElement(f)}}o[Zt]=l,o[An]=m;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)o.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=o;e:switch(Sn(o,f,m),f){case"button":case"input":case"select":case"textarea":o=!!m.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ca(l)}}return Kt(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==m&&Ca(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(o=Oe.current,fu(l)){if(o=l.stateNode,f=l.memoizedProps,m=null,b=Rn,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}o[Zt]=l,o=!!(o.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||YA(o.nodeValue,f)),o||io(l)}else o=kf(o).createTextNode(m),o[Zt]=l,l.stateNode=o}return Kt(l),null;case 13:if(m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=fu(l),m!==null&&m.dehydrated!==null){if(o===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Zt]=l}else hu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Kt(l),b=!1}else b=P1(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(Ta(l),l):(Ta(l),null)}if(Ta(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=m!==null,o=o!==null&&o.memoizedState!==null,f){m=l.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==b&&(m.flags|=2048)}return f!==o&&f&&(l.child.flags|=8192),pf(l,l.updateQueue),Kt(l),null;case 4:return Ae(),o===null&&nv(l.stateNode.containerInfo),Kt(l),null;case 10:return wa(l.type),Kt(l),null;case 19:if(ae(un),b=l.memoizedState,b===null)return Kt(l),null;if(m=(l.flags&128)!==0,w=b.rendering,w===null)if(m)Ou(b,!1);else{if(Wt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(w=cf(o),w!==null){for(l.flags|=128,Ou(b,!1),o=w.updateQueue,l.updateQueue=o,pf(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)O1(f,o),f=f.sibling;return ce(un,un.current&1|2),l.child}o=o.sibling}b.tail!==null&&_t()>yf&&(l.flags|=128,m=!0,Ou(b,!1),l.lanes=4194304)}else{if(!m)if(o=cf(w),o!==null){if(l.flags|=128,m=!0,o=o.updateQueue,l.updateQueue=o,pf(l,o),Ou(b,!0),b.tail===null&&b.tailMode==="hidden"&&!w.alternate&&!gt)return Kt(l),null}else 2*_t()-b.renderingStartTime>yf&&f!==536870912&&(l.flags|=128,m=!0,Ou(b,!1),l.lanes=4194304);b.isBackwards?(w.sibling=l.child,l.child=w):(o=b.last,o!==null?o.sibling=w:l.child=w,b.last=w)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=_t(),l.sibling=null,o=un.current,ce(un,m?o&1|2:o&1),l):(Kt(l),null);case 22:case 23:return Ta(l),ag(),m=l.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(f&536870912)!==0&&(l.flags&128)===0&&(Kt(l),l.subtreeFlags&6&&(l.flags|=8192)):Kt(l),f=l.updateQueue,f!==null&&pf(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048),o!==null&&ae(lo),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),wa(ln),Kt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function n3(o,l){switch(zp(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return wa(ln),Ae(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return qe(l),null;case 13:if(Ta(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));hu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return ae(un),null;case 4:return Ae(),null;case 10:return wa(l.type),null;case 22:case 23:return Ta(l),ag(),o!==null&&ae(lo),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return wa(ln),null;case 25:return null;default:return null}}function nA(o,l){switch(zp(l),l.tag){case 3:wa(ln),Ae();break;case 26:case 27:case 5:qe(l);break;case 4:Ae();break;case 13:Ta(l);break;case 19:ae(un);break;case 10:wa(l.type);break;case 22:case 23:Ta(l),ag(),o!==null&&ae(lo);break;case 24:wa(ln)}}function Mu(o,l){try{var f=l.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var b=m.next;f=b;do{if((f.tag&o)===o){m=void 0;var w=f.create,N=f.inst;m=w(),N.destroy=m}f=f.next}while(f!==b)}}catch(R){Rt(l,l.return,R)}}function fi(o,l,f){try{var m=l.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var w=b.next;m=w;do{if((m.tag&o)===o){var N=m.inst,R=N.destroy;if(R!==void 0){N.destroy=void 0,b=l;var X=f,se=R;try{se()}catch(fe){Rt(b,X,fe)}}}m=m.next}while(m!==w)}}catch(fe){Rt(l,l.return,fe)}}function rA(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{z1(l,f)}catch(m){Rt(o,o.return,m)}}}function aA(o,l,f){f.props=co(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(m){Rt(o,l,m)}}function Du(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof f=="function"?o.refCleanup=f(m):f.current=m}}catch(b){Rt(o,l,b)}}function ta(o,l){var f=o.ref,m=o.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(b){Rt(o,l,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(b){Rt(o,l,b)}else f.current=null}function iA(o){var l=o.type,f=o.memoizedProps,m=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(b){Rt(o,o.return,b)}}function Ng(o,l,f){try{var m=o.stateNode;S3(m,o.type,f,l),m[An]=l}catch(b){Rt(o,o.return,b)}}function oA(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&xi(o.type)||o.tag===4}function Pg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||oA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&xi(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Rg(o,l,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Ef));else if(m!==4&&(m===27&&xi(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(Rg(o,l,f),o=o.sibling;o!==null;)Rg(o,l,f),o=o.sibling}function gf(o,l,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(m!==4&&(m===27&&xi(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(gf(o,l,f),o=o.sibling;o!==null;)gf(o,l,f),o=o.sibling}function sA(o){var l=o.stateNode,f=o.memoizedProps;try{for(var m=o.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Sn(l,m,f),l[Zt]=o,l[An]=f}catch(w){Rt(o,o.return,w)}}var Ea=!1,en=!1,Ig=!1,lA=typeof WeakSet=="function"?WeakSet:Set,mn=null;function r3(o,l){if(o=o.containerInfo,iv=Rf,o=b1(o),Pp(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var b=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var N=0,R=-1,X=-1,se=0,fe=0,pe=o,le=null;t:for(;;){for(var ue;pe!==f||b!==0&&pe.nodeType!==3||(R=N+b),pe!==w||m!==0&&pe.nodeType!==3||(X=N+m),pe.nodeType===3&&(N+=pe.nodeValue.length),(ue=pe.firstChild)!==null;)le=pe,pe=ue;for(;;){if(pe===o)break t;if(le===f&&++se===b&&(R=N),le===w&&++fe===m&&(X=N),(ue=pe.nextSibling)!==null)break;pe=le,le=pe.parentNode}pe=ue}f=R===-1||X===-1?null:{start:R,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for(ov={focusedElem:o,selectionRange:f},Rf=!1,mn=l;mn!==null;)if(l=mn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,mn=o;else for(;mn!==null;){switch(l=mn,w=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,f=l,b=w.memoizedProps,w=w.memoizedState,m=f.stateNode;try{var ze=co(f.type,b,f.elementType===f.type);o=m.getSnapshotBeforeUpdate(ze,w),m.__reactInternalSnapshotBeforeUpdate=o}catch(Le){Rt(f,f.return,Le)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)uv(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":uv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,mn=o;break}mn=l.return}}function uA(o,l,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:hi(o,f),m&4&&Mu(5,f);break;case 1:if(hi(o,f),m&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(N){Rt(f,f.return,N)}else{var b=co(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(b,l,o.__reactInternalSnapshotBeforeUpdate)}catch(N){Rt(f,f.return,N)}}m&64&&rA(f),m&512&&Du(f,f.return);break;case 3:if(hi(o,f),m&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{z1(o,l)}catch(N){Rt(f,f.return,N)}}break;case 27:l===null&&m&4&&sA(f);case 26:case 5:hi(o,f),l===null&&m&4&&iA(f),m&512&&Du(f,f.return);break;case 12:hi(o,f);break;case 13:hi(o,f),m&4&&fA(o,f),m&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=f3.bind(null,f),M3(o,f))));break;case 22:if(m=f.memoizedState!==null||Ea,!m){l=l!==null&&l.memoizedState!==null||en,b=Ea;var w=en;Ea=m,(en=l)&&!w?mi(o,f,(f.subtreeFlags&8772)!==0):hi(o,f),Ea=b,en=w}break;case 30:break;default:hi(o,f)}}function cA(o){var l=o.alternate;l!==null&&(o.alternate=null,cA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Xl(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Gt=null,Xn=!1;function ka(o,l,f){for(f=f.child;f!==null;)dA(o,l,f),f=f.sibling}function dA(o,l,f){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Ir,f)}catch{}switch(f.tag){case 26:en||ta(f,l),ka(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:en||ta(f,l);var m=Gt,b=Xn;xi(f.type)&&(Gt=f.stateNode,Xn=!1),ka(o,l,f),qu(f.stateNode),Gt=m,Xn=b;break;case 5:en||ta(f,l);case 6:if(m=Gt,b=Xn,Gt=null,ka(o,l,f),Gt=m,Xn=b,Gt!==null)if(Xn)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(f.stateNode)}catch(w){Rt(f,l,w)}else try{Gt.removeChild(f.stateNode)}catch(w){Rt(f,l,w)}break;case 18:Gt!==null&&(Xn?(o=Gt,QA(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Yu(o)):QA(Gt,f.stateNode));break;case 4:m=Gt,b=Xn,Gt=f.stateNode.containerInfo,Xn=!0,ka(o,l,f),Gt=m,Xn=b;break;case 0:case 11:case 14:case 15:en||fi(2,f,l),en||fi(4,f,l),ka(o,l,f);break;case 1:en||(ta(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"&&aA(f,l,m)),ka(o,l,f);break;case 21:ka(o,l,f);break;case 22:en=(m=en)||f.memoizedState!==null,ka(o,l,f),en=m;break;default:ka(o,l,f)}}function fA(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Yu(o)}catch(f){Rt(l,l.return,f)}}function a3(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new lA),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new lA),l;default:throw Error(r(435,o.tag))}}function jg(o,l){var f=a3(o);l.forEach(function(m){var b=h3.bind(null,o,m);f.has(m)||(f.add(m),m.then(b,b))})}function ar(o,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var b=f[m],w=o,N=l,R=N;e:for(;R!==null;){switch(R.tag){case 27:if(xi(R.type)){Gt=R.stateNode,Xn=!1;break e}break;case 5:Gt=R.stateNode,Xn=!1;break e;case 3:case 4:Gt=R.stateNode.containerInfo,Xn=!0;break e}R=R.return}if(Gt===null)throw Error(r(160));dA(w,N,b),Gt=null,Xn=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)hA(l,o),l=l.sibling}var Lr=null;function hA(o,l){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ar(l,o),ir(o),m&4&&(fi(3,o,o.return),Mu(3,o),fi(5,o,o.return));break;case 1:ar(l,o),ir(o),m&512&&(en||f===null||ta(f,f.return)),m&64&&Ea&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var b=Lr;if(ar(l,o),ir(o),m&512&&(en||f===null||ta(f,f.return)),m&4){var w=f!==null?f.memoizedState:null;if(m=o.memoizedState,f===null)if(m===null)if(o.stateNode===null){e:{m=o.type,f=o.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":w=b.getElementsByTagName("title")[0],(!w||w[Yi]||w[Zt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(m),b.head.insertBefore(w,b.querySelector("head > title"))),Sn(w,m,f),w[Zt]=o,tn(w),m=w;break e;case"link":var N=sC("link","href",b).get(m+(f.href||""));if(N){for(var R=0;R<N.length;R++)if(w=N[R],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){N.splice(R,1);break t}}w=b.createElement(m),Sn(w,m,f),b.head.appendChild(w);break;case"meta":if(N=sC("meta","content",b).get(m+(f.content||""))){for(R=0;R<N.length;R++)if(w=N[R],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){N.splice(R,1);break t}}w=b.createElement(m),Sn(w,m,f),b.head.appendChild(w);break;default:throw Error(r(468,m))}w[Zt]=o,tn(w),m=w}o.stateNode=m}else lC(b,o.type,o.stateNode);else o.stateNode=oC(b,m,o.memoizedProps);else w!==m?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,m===null?lC(b,o.type,o.stateNode):oC(b,m,o.memoizedProps)):m===null&&o.stateNode!==null&&Ng(o,o.memoizedProps,f.memoizedProps)}break;case 27:ar(l,o),ir(o),m&512&&(en||f===null||ta(f,f.return)),f!==null&&m&4&&Ng(o,o.memoizedProps,f.memoizedProps);break;case 5:if(ar(l,o),ir(o),m&512&&(en||f===null||ta(f,f.return)),o.flags&32){b=o.stateNode;try{Jt(b,"")}catch(ue){Rt(o,o.return,ue)}}m&4&&o.stateNode!=null&&(b=o.memoizedProps,Ng(o,b,f!==null?f.memoizedProps:b)),m&1024&&(Ig=!0);break;case 6:if(ar(l,o),ir(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,f=o.stateNode;try{f.nodeValue=m}catch(ue){Rt(o,o.return,ue)}}break;case 3:if(Df=null,b=Lr,Lr=Of(l.containerInfo),ar(l,o),Lr=b,ir(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Yu(l.containerInfo)}catch(ue){Rt(o,o.return,ue)}Ig&&(Ig=!1,mA(o));break;case 4:m=Lr,Lr=Of(o.stateNode.containerInfo),ar(l,o),ir(o),Lr=m;break;case 12:ar(l,o),ir(o);break;case 13:ar(l,o),ir(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Fg=_t()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,jg(o,m)));break;case 22:b=o.memoizedState!==null;var X=f!==null&&f.memoizedState!==null,se=Ea,fe=en;if(Ea=se||b,en=fe||X,ar(l,o),en=fe,Ea=se,ir(o),m&8192)e:for(l=o.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(f===null||X||Ea||en||fo(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){X=f=l;try{if(w=X.stateNode,b)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{R=X.stateNode;var pe=X.memoizedProps.style,le=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;R.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ue){Rt(X,X.return,ue)}}}else if(l.tag===6){if(f===null){X=l;try{X.stateNode.nodeValue=b?"":X.memoizedProps}catch(ue){Rt(X,X.return,ue)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=o.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,jg(o,f))));break;case 19:ar(l,o),ir(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,jg(o,m)));break;case 30:break;case 21:break;default:ar(l,o),ir(o)}}function ir(o){var l=o.flags;if(l&2){try{for(var f,m=o.return;m!==null;){if(oA(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var b=f.stateNode,w=Pg(o);gf(o,w,b);break;case 5:var N=f.stateNode;f.flags&32&&(Jt(N,""),f.flags&=-33);var R=Pg(o);gf(o,R,N);break;case 3:case 4:var X=f.stateNode.containerInfo,se=Pg(o);Rg(o,se,X);break;default:throw Error(r(161))}}catch(fe){Rt(o,o.return,fe)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function mA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;mA(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function hi(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)uA(o,l.alternate,l),l=l.sibling}function fo(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:fi(4,l,l.return),fo(l);break;case 1:ta(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&aA(l,l.return,f),fo(l);break;case 27:qu(l.stateNode);case 26:case 5:ta(l,l.return),fo(l);break;case 22:l.memoizedState===null&&fo(l);break;case 30:fo(l);break;default:fo(l)}o=o.sibling}}function mi(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,b=o,w=l,N=w.flags;switch(w.tag){case 0:case 11:case 15:mi(b,w,f),Mu(4,w);break;case 1:if(mi(b,w,f),m=w,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(se){Rt(m,m.return,se)}if(m=w,b=m.updateQueue,b!==null){var R=m.stateNode;try{var X=b.shared.hiddenCallbacks;if(X!==null)for(b.shared.hiddenCallbacks=null,b=0;b<X.length;b++)V1(X[b],R)}catch(se){Rt(m,m.return,se)}}f&&N&64&&rA(w),Du(w,w.return);break;case 27:sA(w);case 26:case 5:mi(b,w,f),f&&m===null&&N&4&&iA(w),Du(w,w.return);break;case 12:mi(b,w,f);break;case 13:mi(b,w,f),f&&N&4&&fA(b,w);break;case 22:w.memoizedState===null&&mi(b,w,f),Du(w,w.return);break;case 30:break;default:mi(b,w,f)}l=l.sibling}}function $g(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&gu(f))}function Lg(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&gu(o))}function na(o,l,f,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)pA(o,l,f,m),l=l.sibling}function pA(o,l,f,m){var b=l.flags;switch(l.tag){case 0:case 11:case 15:na(o,l,f,m),b&2048&&Mu(9,l);break;case 1:na(o,l,f,m);break;case 3:na(o,l,f,m),b&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&gu(o)));break;case 12:if(b&2048){na(o,l,f,m),o=l.stateNode;try{var w=l.memoizedProps,N=w.id,R=w.onPostCommit;typeof R=="function"&&R(N,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(X){Rt(l,l.return,X)}}else na(o,l,f,m);break;case 13:na(o,l,f,m);break;case 23:break;case 22:w=l.stateNode,N=l.alternate,l.memoizedState!==null?w._visibility&2?na(o,l,f,m):Nu(o,l):w._visibility&2?na(o,l,f,m):(w._visibility|=2,vs(o,l,f,m,(l.subtreeFlags&10256)!==0)),b&2048&&$g(N,l);break;case 24:na(o,l,f,m),b&2048&&Lg(l.alternate,l);break;default:na(o,l,f,m)}}function vs(o,l,f,m,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=o,N=l,R=f,X=m,se=N.flags;switch(N.tag){case 0:case 11:case 15:vs(w,N,R,X,b),Mu(8,N);break;case 23:break;case 22:var fe=N.stateNode;N.memoizedState!==null?fe._visibility&2?vs(w,N,R,X,b):Nu(w,N):(fe._visibility|=2,vs(w,N,R,X,b)),b&&se&2048&&$g(N.alternate,N);break;case 24:vs(w,N,R,X,b),b&&se&2048&&Lg(N.alternate,N);break;default:vs(w,N,R,X,b)}l=l.sibling}}function Nu(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,m=l,b=m.flags;switch(m.tag){case 22:Nu(f,m),b&2048&&$g(m.alternate,m);break;case 24:Nu(f,m),b&2048&&Lg(m.alternate,m);break;default:Nu(f,m)}l=l.sibling}}var Pu=8192;function ys(o){if(o.subtreeFlags&Pu)for(o=o.child;o!==null;)gA(o),o=o.sibling}function gA(o){switch(o.tag){case 26:ys(o),o.flags&Pu&&o.memoizedState!==null&&V3(Lr,o.memoizedState,o.memoizedProps);break;case 5:ys(o);break;case 3:case 4:var l=Lr;Lr=Of(o.stateNode.containerInfo),ys(o),Lr=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=Pu,Pu=16777216,ys(o),Pu=l):ys(o));break;default:ys(o)}}function vA(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Ru(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];mn=m,bA(m,o)}vA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yA(o),o=o.sibling}function yA(o){switch(o.tag){case 0:case 11:case 15:Ru(o),o.flags&2048&&fi(9,o,o.return);break;case 3:Ru(o);break;case 12:Ru(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,vf(o)):Ru(o);break;default:Ru(o)}}function vf(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];mn=m,bA(m,o)}vA(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:fi(8,l,l.return),vf(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,vf(l));break;default:vf(l)}o=o.sibling}}function bA(o,l){for(;mn!==null;){var f=mn;switch(f.tag){case 0:case 11:case 15:fi(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:gu(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,mn=m;else e:for(f=o;mn!==null;){m=mn;var b=m.sibling,w=m.return;if(cA(m),m===f){mn=null;break e}if(b!==null){b.return=w,mn=b;break e}mn=w}}}var i3={getCacheForType:function(o){var l=Cn(ln),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f}},o3=typeof WeakMap=="function"?WeakMap:Map,wt=0,jt=null,at=null,dt=0,St=0,or=null,pi=!1,bs=!1,Bg=!1,Oa=0,Wt=0,gi=0,ho=0,qg=0,Tr=0,xs=0,Iu=null,Zn=null,Ug=!1,Fg=0,yf=1/0,bf=null,vi=null,wn=0,yi=null,_s=null,ws=0,Vg=0,zg=null,xA=null,ju=0,Gg=null;function sr(){if((wt&2)!==0&&dt!==0)return dt&-dt;if($.T!==null){var o=us;return o!==0?o:Jg()}return kd()}function _A(){Tr===0&&(Tr=(dt&536870912)===0||gt?Td():536870912);var o=Sr.current;return o!==null&&(o.flags|=32),Tr}function lr(o,l,f){(o===jt&&(St===2||St===9)||o.cancelPendingCommit!==null)&&(Ss(o,0),bi(o,dt,Tr,!1)),Hi(o,f),((wt&2)===0||o!==jt)&&(o===jt&&((wt&2)===0&&(ho|=f),Wt===4&&bi(o,dt,Tr,!1)),ra(o))}function wA(o,l,f){if((wt&6)!==0)throw Error(r(327));var m=!f&&(l&124)===0&&(l&o.expiredLanes)===0||Za(o,l),b=m?u3(o,l):Yg(o,l,!0),w=m;do{if(b===0){bs&&!m&&bi(o,l,0,!1);break}else{if(f=o.current.alternate,w&&!s3(f)){b=Yg(o,l,!1),w=!1;continue}if(b===2){if(w=l,o.errorRecoveryDisabledLanes&w)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){l=N;e:{var R=o;b=Iu;var X=R.current.memoizedState.isDehydrated;if(X&&(Ss(R,N).flags|=256),N=Yg(R,N,!1),N!==2){if(Bg&&!X){R.errorRecoveryDisabledLanes|=w,ho|=w,b=4;break e}w=Zn,Zn=b,w!==null&&(Zn===null?Zn=w:Zn.push.apply(Zn,w))}b=N}if(w=!1,b!==2)continue}}if(b===1){Ss(o,0),bi(o,l,0,!0);break}e:{switch(m=o,w=b,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:bi(m,l,Tr,!pi);break e;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=Fg+300-_t(),10<b)){if(bi(m,l,Tr,!pi),Wo(m,0,!0)!==0)break e;m.timeoutHandle=ZA(SA.bind(null,m,f,Zn,bf,Ug,l,Tr,ho,xs,pi,w,2,-0,0),b);break e}SA(m,f,Zn,bf,Ug,l,Tr,ho,xs,pi,w,0,-0,0)}}break}while(!0);ra(o)}function SA(o,l,f,m,b,w,N,R,X,se,fe,pe,le,ue){if(o.timeoutHandle=-1,pe=l.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(Vu={stylesheets:null,count:0,unsuspend:F3},gA(l),pe=z3(),pe!==null)){o.cancelPendingCommit=pe(MA.bind(null,o,l,w,f,m,b,N,R,X,fe,1,le,ue)),bi(o,w,N,!se);return}MA(o,l,w,f,m,b,N,R,X)}function s3(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var b=f[m],w=b.getSnapshot;b=b.value;try{if(!nr(w(),b))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function bi(o,l,f,m){l&=~qg,l&=~ho,o.suspendedLanes|=l,o.pingedLanes&=~l,m&&(o.warmLanes|=l),m=o.expirationTimes;for(var b=l;0<b;){var w=31-Pn(b),N=1<<w;m[w]=-1,b&=~N}f!==0&&Cd(o,f,l)}function xf(){return(wt&6)===0?($u(0),!1):!0}function Hg(){if(at!==null){if(St===0)var o=at.return;else o=at,_a=oo=null,ug(o),ps=null,Eu=0,o=at;for(;o!==null;)nA(o.alternate,o),o=o.return;at=null}}function Ss(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,A3(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Hg(),jt=o,at=f=ya(o.current,null),dt=l,St=0,or=null,pi=!1,bs=Za(o,l),Bg=!1,xs=Tr=qg=ho=gi=Wt=0,Zn=Iu=null,Ug=!1,(l&8)!==0&&(l|=l&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=l;0<m;){var b=31-Pn(m),w=1<<b;l|=o[b],m&=~w}return Oa=l,Ud(),f}function TA(o,l){tt=null,$.H=sf,l===yu||l===Xd?(l=U1(),St=3):l===L1?(l=U1(),St=4):St=l===FT?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,or=l,at===null&&(Wt=1,ff(o,br(l,o.current)))}function AA(){var o=$.H;return $.H=sf,o===null?sf:o}function CA(){var o=$.A;return $.A=i3,o}function Kg(){Wt=4,pi||(dt&4194048)!==dt&&Sr.current!==null||(bs=!0),(gi&134217727)===0&&(ho&134217727)===0||jt===null||bi(jt,dt,Tr,!1)}function Yg(o,l,f){var m=wt;wt|=2;var b=AA(),w=CA();(jt!==o||dt!==l)&&(bf=null,Ss(o,l)),l=!1;var N=Wt;e:do try{if(St!==0&&at!==null){var R=at,X=or;switch(St){case 8:Hg(),N=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(l=!0);var se=St;if(St=0,or=null,Ts(o,R,X,se),f&&bs){N=0;break e}break;default:se=St,St=0,or=null,Ts(o,R,X,se)}}l3(),N=Wt;break}catch(fe){TA(o,fe)}while(!0);return l&&o.shellSuspendCounter++,_a=oo=null,wt=m,$.H=b,$.A=w,at===null&&(jt=null,dt=0,Ud()),N}function l3(){for(;at!==null;)EA(at)}function u3(o,l){var f=wt;wt|=2;var m=AA(),b=CA();jt!==o||dt!==l?(bf=null,yf=_t()+500,Ss(o,l)):bs=Za(o,l);e:do try{if(St!==0&&at!==null){l=at;var w=or;t:switch(St){case 1:St=0,or=null,Ts(o,l,w,1);break;case 2:case 9:if(B1(w)){St=0,or=null,kA(l);break}l=function(){St!==2&&St!==9||jt!==o||(St=7),ra(o)},w.then(l,l);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:B1(w)?(St=0,or=null,kA(l)):(St=0,or=null,Ts(o,l,w,7));break;case 5:var N=null;switch(at.tag){case 26:N=at.memoizedState;case 5:case 27:var R=at;if(!N||uC(N)){St=0,or=null;var X=R.sibling;if(X!==null)at=X;else{var se=R.return;se!==null?(at=se,_f(se)):at=null}break t}}St=0,or=null,Ts(o,l,w,5);break;case 6:St=0,or=null,Ts(o,l,w,6);break;case 8:Hg(),Wt=6;break e;default:throw Error(r(462))}}c3();break}catch(fe){TA(o,fe)}while(!0);return _a=oo=null,$.H=m,$.A=b,wt=f,at!==null?0:(jt=null,dt=0,Ud(),Wt)}function c3(){for(;at!==null&&!Ft();)EA(at)}function EA(o){var l=eA(o.alternate,o,Oa);o.memoizedProps=o.pendingProps,l===null?_f(o):at=l}function kA(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=YT(f,l,l.pendingProps,l.type,void 0,dt);break;case 11:l=YT(f,l,l.pendingProps,l.type.render,l.ref,dt);break;case 5:ug(l);default:nA(f,l),l=at=O1(l,Oa),l=eA(f,l,Oa)}o.memoizedProps=o.pendingProps,l===null?_f(o):at=l}function Ts(o,l,f,m){_a=oo=null,ug(l),ps=null,Eu=0;var b=l.return;try{if(QL(o,b,l,f,dt)){Wt=1,ff(o,br(f,o.current)),at=null;return}}catch(w){if(b!==null)throw at=b,w;Wt=1,ff(o,br(f,o.current)),at=null;return}l.flags&32768?(gt||m===1?o=!0:bs||(dt&536870912)!==0?o=!1:(pi=o=!0,(m===2||m===9||m===3||m===6)&&(m=Sr.current,m!==null&&m.tag===13&&(m.flags|=16384))),OA(l,o)):_f(l)}function _f(o){var l=o;do{if((l.flags&32768)!==0){OA(l,pi);return}o=l.return;var f=t3(l.alternate,l,Oa);if(f!==null){at=f;return}if(l=l.sibling,l!==null){at=l;return}at=l=o}while(l!==null);Wt===0&&(Wt=5)}function OA(o,l){do{var f=n3(o.alternate,o);if(f!==null){f.flags&=32767,at=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){at=o;return}at=o=f}while(o!==null);Wt=6,at=null}function MA(o,l,f,m,b,w,N,R,X){o.cancelPendingCommit=null;do wf();while(wn!==0);if((wt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=Lp,vp(o,f,w,N,R,X),o===jt&&(at=jt=null,dt=0),_s=l,yi=o,ws=f,Vg=w,zg=b,xA=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,m3(Gn,function(){return IA(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=$.T,$.T=null,b=V.p,V.p=2,N=wt,wt|=4;try{r3(o,l,f)}finally{wt=N,V.p=b,$.T=m}}wn=1,DA(),NA(),PA()}}function DA(){if(wn===1){wn=0;var o=yi,l=_s,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=$.T,$.T=null;var m=V.p;V.p=2;var b=wt;wt|=4;try{hA(l,o);var w=ov,N=b1(o.containerInfo),R=w.focusedElem,X=w.selectionRange;if(N!==R&&R&&R.ownerDocument&&y1(R.ownerDocument.documentElement,R)){if(X!==null&&Pp(R)){var se=X.start,fe=X.end;if(fe===void 0&&(fe=se),"selectionStart"in R)R.selectionStart=se,R.selectionEnd=Math.min(fe,R.value.length);else{var pe=R.ownerDocument||document,le=pe&&pe.defaultView||window;if(le.getSelection){var ue=le.getSelection(),ze=R.textContent.length,Le=Math.min(X.start,ze),Mt=X.end===void 0?Le:Math.min(X.end,ze);!ue.extend&&Le>Mt&&(N=Mt,Mt=Le,Le=N);var te=v1(R,Le),ee=v1(R,Mt);if(te&&ee&&(ue.rangeCount!==1||ue.anchorNode!==te.node||ue.anchorOffset!==te.offset||ue.focusNode!==ee.node||ue.focusOffset!==ee.offset)){var ie=pe.createRange();ie.setStart(te.node,te.offset),ue.removeAllRanges(),Le>Mt?(ue.addRange(ie),ue.extend(ee.node,ee.offset)):(ie.setEnd(ee.node,ee.offset),ue.addRange(ie))}}}}for(pe=[],ue=R;ue=ue.parentNode;)ue.nodeType===1&&pe.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<pe.length;R++){var me=pe[R];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Rf=!!iv,ov=iv=null}finally{wt=b,V.p=m,$.T=f}}o.current=l,wn=2}}function NA(){if(wn===2){wn=0;var o=yi,l=_s,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=$.T,$.T=null;var m=V.p;V.p=2;var b=wt;wt|=4;try{uA(o,l.alternate,l)}finally{wt=b,V.p=m,$.T=f}}wn=3}}function PA(){if(wn===4||wn===3){wn=0,Pt();var o=yi,l=_s,f=ws,m=xA;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?wn=5:(wn=0,_s=yi=null,RA(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(vi=null),Yl(f),l=l.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Ir,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=$.T,b=V.p,V.p=2,$.T=null;try{for(var w=o.onRecoverableError,N=0;N<m.length;N++){var R=m[N];w(R.value,{componentStack:R.stack})}}finally{$.T=l,V.p=b}}(ws&3)!==0&&wf(),ra(o),b=o.pendingLanes,(f&4194090)!==0&&(b&42)!==0?o===Gg?ju++:(ju=0,Gg=o):ju=0,$u(0)}}function RA(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,gu(l)))}function wf(o){return DA(),NA(),PA(),IA()}function IA(){if(wn!==5)return!1;var o=yi,l=Vg;Vg=0;var f=Yl(ws),m=$.T,b=V.p;try{V.p=32>f?32:f,$.T=null,f=zg,zg=null;var w=yi,N=ws;if(wn=0,_s=yi=null,ws=0,(wt&6)!==0)throw Error(r(331));var R=wt;if(wt|=4,yA(w.current),pA(w,w.current,N,f),wt=R,$u(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Ir,w)}catch{}return!0}finally{V.p=b,$.T=m,RA(o,l)}}function jA(o,l,f){l=br(f,l),l=Sg(o.stateNode,l,2),o=li(o,l,2),o!==null&&(Hi(o,2),ra(o))}function Rt(o,l,f){if(o.tag===3)jA(o,o,f);else for(;l!==null;){if(l.tag===3){jA(l,o,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(vi===null||!vi.has(m))){o=br(f,o),f=qT(2),m=li(l,f,2),m!==null&&(UT(f,m,l,o),Hi(m,2),ra(m));break}}l=l.return}}function Wg(o,l,f){var m=o.pingCache;if(m===null){m=o.pingCache=new o3;var b=new Set;m.set(l,b)}else b=m.get(l),b===void 0&&(b=new Set,m.set(l,b));b.has(f)||(Bg=!0,b.add(f),o=d3.bind(null,o,l,f),l.then(o,o))}function d3(o,l,f){var m=o.pingCache;m!==null&&m.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,jt===o&&(dt&f)===f&&(Wt===4||Wt===3&&(dt&62914560)===dt&&300>_t()-Fg?(wt&2)===0&&Ss(o,0):qg|=f,xs===dt&&(xs=0)),ra(o)}function $A(o,l){l===0&&(l=Ad()),o=is(o,l),o!==null&&(Hi(o,l),ra(o))}function f3(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),$A(o,f)}function h3(o,l){var f=0;switch(o.tag){case 13:var m=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),$A(o,f)}function m3(o,l){return Ct(o,l)}var Sf=null,As=null,Xg=!1,Tf=!1,Zg=!1,mo=0;function ra(o){o!==As&&o.next===null&&(As===null?Sf=As=o:As=As.next=o),Tf=!0,Xg||(Xg=!0,g3())}function $u(o,l){if(!Zg&&Tf){Zg=!0;do for(var f=!1,m=Sf;m!==null;){if(o!==0){var b=m.pendingLanes;if(b===0)var w=0;else{var N=m.suspendedLanes,R=m.pingedLanes;w=(1<<31-Pn(42|o)+1)-1,w&=b&~(N&~R),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,UA(m,w))}else w=dt,w=Wo(m,m===jt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Za(m,w)||(f=!0,UA(m,w));m=m.next}while(f);Zg=!1}}function p3(){LA()}function LA(){Tf=Xg=!1;var o=0;mo!==0&&(T3()&&(o=mo),mo=0);for(var l=_t(),f=null,m=Sf;m!==null;){var b=m.next,w=BA(m,l);w===0?(m.next=null,f===null?Sf=b:f.next=b,b===null&&(As=f)):(f=m,(o!==0||(w&3)!==0)&&(Tf=!0)),m=b}$u(o)}function BA(o,l){for(var f=o.suspendedLanes,m=o.pingedLanes,b=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var N=31-Pn(w),R=1<<N,X=b[N];X===-1?((R&f)===0||(R&m)!==0)&&(b[N]=gp(R,l)):X<=l&&(o.expiredLanes|=R),w&=~R}if(l=jt,f=dt,f=Wo(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,f===0||o===l&&(St===2||St===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&Xe(m),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Za(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(m!==null&&Xe(m),Yl(f)){case 2:case 8:f=ma;break;case 32:f=Gn;break;case 268435456:f=Xa;break;default:f=Gn}return m=qA.bind(null,o),f=Ct(f,m),o.callbackPriority=l,o.callbackNode=f,l}return m!==null&&m!==null&&Xe(m),o.callbackPriority=2,o.callbackNode=null,2}function qA(o,l){if(wn!==0&&wn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(wf()&&o.callbackNode!==f)return null;var m=dt;return m=Wo(o,o===jt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(wA(o,m,l),BA(o,_t()),o.callbackNode!=null&&o.callbackNode===f?qA.bind(null,o):null)}function UA(o,l){if(wf())return null;wA(o,l,!0)}function g3(){C3(function(){(wt&6)!==0?Ct(zn,p3):LA()})}function Jg(){return mo===0&&(mo=Td()),mo}function FA(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ri(""+o)}function VA(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function v3(o,l,f,m,b){if(l==="submit"&&f&&f.stateNode===b){var w=FA((b[An]||null).action),N=m.submitter;N&&(l=(l=N[An]||null)?FA(l.formAction):N.getAttribute("formAction"),l!==null&&(w=l,N=null));var R=new Ld("action","action",null,m,b);o.push({event:R,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(mo!==0){var X=N?VA(b,N):new FormData(b);yg(f,{pending:!0,data:X,method:b.method,action:w},null,X)}}else typeof w=="function"&&(R.preventDefault(),X=N?VA(b,N):new FormData(b),yg(f,{pending:!0,data:X,method:b.method,action:w},w,X))},currentTarget:b}]})}}for(var Qg=0;Qg<$p.length;Qg++){var ev=$p[Qg],y3=ev.toLowerCase(),b3=ev[0].toUpperCase()+ev.slice(1);$r(y3,"on"+b3)}$r(w1,"onAnimationEnd"),$r(S1,"onAnimationIteration"),$r(T1,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(jL,"onTransitionRun"),$r($L,"onTransitionStart"),$r(LL,"onTransitionCancel"),$r(A1,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function zA(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],b=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var N=m.length-1;0<=N;N--){var R=m[N],X=R.instance,se=R.currentTarget;if(R=R.listener,X!==w&&b.isPropagationStopped())break e;w=R,b.currentTarget=se;try{w(b)}catch(fe){df(fe)}b.currentTarget=null,w=X}else for(N=0;N<m.length;N++){if(R=m[N],X=R.instance,se=R.currentTarget,R=R.listener,X!==w&&b.isPropagationStopped())break e;w=R,b.currentTarget=se;try{w(b)}catch(fe){df(fe)}b.currentTarget=null,w=X}}}}function it(o,l){var f=l[Wl];f===void 0&&(f=l[Wl]=new Set);var m=o+"__bubble";f.has(m)||(GA(l,o,2,!1),f.add(m))}function tv(o,l,f){var m=0;l&&(m|=4),GA(f,o,m,l)}var Af="_reactListening"+Math.random().toString(36).slice(2);function nv(o){if(!o[Af]){o[Af]=!0,Md.forEach(function(f){f!=="selectionchange"&&(x3.has(f)||tv(f,!1,o),tv(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Af]||(l[Af]=!0,tv("selectionchange",!1,l))}}function GA(o,l,f,m){switch(pC(l)){case 2:var b=K3;break;case 8:b=Y3;break;default:b=gv}f=b.bind(null,l,f,o),b=void 0,!Tp||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),m?b!==void 0?o.addEventListener(l,f,{capture:!0,passive:b}):o.addEventListener(l,f,!0):b!==void 0?o.addEventListener(l,f,{passive:b}):o.addEventListener(l,f,!1)}function rv(o,l,f,m,b){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var R=m.stateNode.containerInfo;if(R===b)break;if(N===4)for(N=m.return;N!==null;){var X=N.tag;if((X===3||X===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;R!==null;){if(N=Qa(R),N===null)return;if(X=N.tag,X===5||X===6||X===26||X===27){m=w=N;continue e}R=R.parentNode}}m=m.return}JS(function(){var se=w,fe=vr(f),pe=[];e:{var le=C1.get(o);if(le!==void 0){var ue=Ld,ze=o;switch(o){case"keypress":if(jd(f)===0)break e;case"keydown":case"keyup":ue=mL;break;case"focusin":ze="focus",ue=kp;break;case"focusout":ze="blur",ue=kp;break;case"beforeblur":case"afterblur":ue=kp;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=t1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=nL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=vL;break;case w1:case S1:case T1:ue=iL;break;case A1:ue=bL;break;case"scroll":case"scrollend":ue=eL;break;case"wheel":ue=_L;break;case"copy":case"cut":case"paste":ue=sL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=r1;break;case"toggle":case"beforetoggle":ue=SL}var Le=(l&4)!==0,Mt=!Le&&(o==="scroll"||o==="scrollend"),te=Le?le!==null?le+"Capture":null:le;Le=[];for(var ee=se,ie;ee!==null;){var me=ee;if(ie=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ie===null||te===null||(me=ru(ee,te),me!=null&&Le.push(Bu(ee,me,ie))),Mt)break;ee=ee.return}0<Le.length&&(le=new ue(le,ze,null,f,fe),pe.push({event:le,listeners:Le}))}}if((l&7)===0){e:{if(le=o==="mouseover"||o==="pointerover",ue=o==="mouseout"||o==="pointerout",le&&f!==Kn&&(ze=f.relatedTarget||f.fromElement)&&(Qa(ze)||ze[Ja]))break e;if((ue||le)&&(le=fe.window===fe?fe:(le=fe.ownerDocument)?le.defaultView||le.parentWindow:window,ue?(ze=f.relatedTarget||f.toElement,ue=se,ze=ze?Qa(ze):null,ze!==null&&(Mt=i(ze),Le=ze.tag,ze!==Mt||Le!==5&&Le!==27&&Le!==6)&&(ze=null)):(ue=null,ze=se),ue!==ze)){if(Le=t1,me="onMouseLeave",te="onMouseEnter",ee="mouse",(o==="pointerout"||o==="pointerover")&&(Le=r1,me="onPointerLeave",te="onPointerEnter",ee="pointer"),Mt=ue==null?le:Wi(ue),ie=ze==null?le:Wi(ze),le=new Le(me,ee+"leave",ue,f,fe),le.target=Mt,le.relatedTarget=ie,me=null,Qa(fe)===se&&(Le=new Le(te,ee+"enter",ze,f,fe),Le.target=ie,Le.relatedTarget=Mt,me=Le),Mt=me,ue&&ze)t:{for(Le=ue,te=ze,ee=0,ie=Le;ie;ie=Cs(ie))ee++;for(ie=0,me=te;me;me=Cs(me))ie++;for(;0<ee-ie;)Le=Cs(Le),ee--;for(;0<ie-ee;)te=Cs(te),ie--;for(;ee--;){if(Le===te||te!==null&&Le===te.alternate)break t;Le=Cs(Le),te=Cs(te)}Le=null}else Le=null;ue!==null&&HA(pe,le,ue,Le,!1),ze!==null&&Mt!==null&&HA(pe,Mt,ze,Le,!0)}}e:{if(le=se?Wi(se):window,ue=le.nodeName&&le.nodeName.toLowerCase(),ue==="select"||ue==="input"&&le.type==="file")var De=d1;else if(u1(le))if(f1)De=PL;else{De=DL;var nt=ML}else ue=le.nodeName,!ue||ue.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?se&&Zi(se.elementType)&&(De=d1):De=NL;if(De&&(De=De(o,se))){c1(pe,De,f,fe);break e}nt&&nt(o,le,se),o==="focusout"&&se&&le.type==="number"&&se.memoizedProps.value!=null&&Ie(le,"number",le.value)}switch(nt=se?Wi(se):window,o){case"focusin":(u1(nt)||nt.contentEditable==="true")&&(ns=nt,Rp=se,du=null);break;case"focusout":du=Rp=ns=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,x1(pe,f,fe);break;case"selectionchange":if(IL)break;case"keydown":case"keyup":x1(pe,f,fe)}var $e;if(Mp)e:{switch(o){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else ts?s1(o,f)&&(Ue="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Ue="onCompositionStart");Ue&&(a1&&f.locale!=="ko"&&(ts||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&ts&&($e=QS()):(ai=fe,Ap="value"in ai?ai.value:ai.textContent,ts=!0)),nt=Cf(se,Ue),0<nt.length&&(Ue=new n1(Ue,o,null,f,fe),pe.push({event:Ue,listeners:nt}),$e?Ue.data=$e:($e=l1(f),$e!==null&&(Ue.data=$e)))),($e=AL?CL(o,f):EL(o,f))&&(Ue=Cf(se,"onBeforeInput"),0<Ue.length&&(nt=new n1("onBeforeInput","beforeinput",null,f,fe),pe.push({event:nt,listeners:Ue}),nt.data=$e)),v3(pe,o,se,f,fe)}zA(pe,l)})}function Bu(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Cf(o,l){for(var f=l+"Capture",m=[];o!==null;){var b=o,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=ru(o,f),b!=null&&m.unshift(Bu(o,b,w)),b=ru(o,l),b!=null&&m.push(Bu(o,b,w))),o.tag===3)return m;o=o.return}return[]}function Cs(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function HA(o,l,f,m,b){for(var w=l._reactName,N=[];f!==null&&f!==m;){var R=f,X=R.alternate,se=R.stateNode;if(R=R.tag,X!==null&&X===m)break;R!==5&&R!==26&&R!==27||se===null||(X=se,b?(se=ru(f,w),se!=null&&N.unshift(Bu(f,se,X))):b||(se=ru(f,w),se!=null&&N.push(Bu(f,se,X)))),f=f.return}N.length!==0&&o.push({event:l,listeners:N})}var _3=/\r\n?/g,w3=/\u0000|\uFFFD/g;function KA(o){return(typeof o=="string"?o:""+o).replace(_3,`
`).replace(w3,"")}function YA(o,l){return l=KA(l),KA(o)===l}function Ef(){}function Ot(o,l,f,m,b,w){switch(f){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Jt(o,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Jt(o,""+m);break;case"className":Zo(o,"class",m);break;case"tabIndex":Zo(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Zo(o,f,m);break;case"style":es(o,m,w);break;case"data":if(l!=="object"){Zo(o,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=ri(""+m),o.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(l!=="input"&&Ot(o,l,"name",b.name,b,null),Ot(o,l,"formEncType",b.formEncType,b,null),Ot(o,l,"formMethod",b.formMethod,b,null),Ot(o,l,"formTarget",b.formTarget,b,null)):(Ot(o,l,"encType",b.encType,b,null),Ot(o,l,"method",b.method,b,null),Ot(o,l,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=ri(""+m),o.setAttribute(f,m);break;case"onClick":m!=null&&(o.onclick=Ef);break;case"onScroll":m!=null&&it("scroll",o);break;case"onScrollEnd":m!=null&&it("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}f=ri(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""+m):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":m===!0?o.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,m):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(f,m):o.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(f):o.setAttribute(f,m);break;case"popover":it("beforetoggle",o),it("toggle",o),Xo(o,"popover",m);break;case"xlinkActuate":gr(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":gr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":gr(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":gr(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":gr(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":gr(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":gr(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":gr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":gr(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Xo(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=tu.get(f)||f,Xo(o,f,m))}}function av(o,l,f,m,b,w){switch(f){case"style":es(o,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof m=="string"?Jt(o,m):(typeof m=="number"||typeof m=="bigint")&&Jt(o,""+m);break;case"onScroll":m!=null&&it("scroll",o);break;case"onScrollEnd":m!=null&&it("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Ef);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dd.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(b=f.endsWith("Capture"),l=f.slice(2,b?f.length-7:void 0),w=o[An]||null,w=w!=null?w[f]:null,typeof w=="function"&&o.removeEventListener(l,w,b),typeof m=="function")){typeof w!="function"&&w!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,m,b);break e}f in o?o[f]=m:m===!0?o.setAttribute(f,""):Xo(o,f,m)}}}function Sn(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",o),it("load",o);var m=!1,b=!1,w;for(w in f)if(f.hasOwnProperty(w)){var N=f[w];if(N!=null)switch(w){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ot(o,l,w,N,f,null)}}b&&Ot(o,l,"srcSet",f.srcSet,f,null),m&&Ot(o,l,"src",f.src,f,null);return;case"input":it("invalid",o);var R=w=N=b=null,X=null,se=null;for(m in f)if(f.hasOwnProperty(m)){var fe=f[m];if(fe!=null)switch(m){case"name":b=fe;break;case"type":N=fe;break;case"checked":X=fe;break;case"defaultChecked":se=fe;break;case"value":w=fe;break;case"defaultValue":R=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,l));break;default:Ot(o,l,m,fe,f,null)}}_e(o,w,R,X,se,N,b,!1),H(o);return;case"select":it("invalid",o),m=N=w=null;for(b in f)if(f.hasOwnProperty(b)&&(R=f[b],R!=null))switch(b){case"value":w=R;break;case"defaultValue":N=R;break;case"multiple":m=R;default:Ot(o,l,b,R,f,null)}l=w,f=N,o.multiple=!!m,l!=null?we(o,!!m,l,!1):f!=null&&we(o,!!m,f,!0);return;case"textarea":it("invalid",o),w=b=m=null;for(N in f)if(f.hasOwnProperty(N)&&(R=f[N],R!=null))switch(N){case"value":m=R;break;case"defaultValue":b=R;break;case"children":w=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:Ot(o,l,N,R,f,null)}ut(o,m,b,w),H(o);return;case"option":for(X in f)if(f.hasOwnProperty(X)&&(m=f[X],m!=null))switch(X){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ot(o,l,X,m,f,null)}return;case"dialog":it("beforetoggle",o),it("toggle",o),it("cancel",o),it("close",o);break;case"iframe":case"object":it("load",o);break;case"video":case"audio":for(m=0;m<Lu.length;m++)it(Lu[m],o);break;case"image":it("error",o),it("load",o);break;case"details":it("toggle",o);break;case"embed":case"source":case"link":it("error",o),it("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in f)if(f.hasOwnProperty(se)&&(m=f[se],m!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ot(o,l,se,m,f,null)}return;default:if(Zi(l)){for(fe in f)f.hasOwnProperty(fe)&&(m=f[fe],m!==void 0&&av(o,l,fe,m,f,void 0));return}}for(R in f)f.hasOwnProperty(R)&&(m=f[R],m!=null&&Ot(o,l,R,m,f,null))}function S3(o,l,f,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,N=null,R=null,X=null,se=null,fe=null;for(ue in f){var pe=f[ue];if(f.hasOwnProperty(ue)&&pe!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":X=pe;default:m.hasOwnProperty(ue)||Ot(o,l,ue,null,m,pe)}}for(var le in m){var ue=m[le];if(pe=f[le],m.hasOwnProperty(le)&&(ue!=null||pe!=null))switch(le){case"type":w=ue;break;case"name":b=ue;break;case"checked":se=ue;break;case"defaultChecked":fe=ue;break;case"value":N=ue;break;case"defaultValue":R=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:ue!==pe&&Ot(o,l,le,ue,m,pe)}}Ce(o,N,R,X,se,fe,w,b);return;case"select":ue=N=R=le=null;for(w in f)if(X=f[w],f.hasOwnProperty(w)&&X!=null)switch(w){case"value":break;case"multiple":ue=X;default:m.hasOwnProperty(w)||Ot(o,l,w,null,m,X)}for(b in m)if(w=m[b],X=f[b],m.hasOwnProperty(b)&&(w!=null||X!=null))switch(b){case"value":le=w;break;case"defaultValue":R=w;break;case"multiple":N=w;default:w!==X&&Ot(o,l,b,w,m,X)}l=R,f=N,m=ue,le!=null?we(o,!!f,le,!1):!!m!=!!f&&(l!=null?we(o,!!f,l,!0):we(o,!!f,f?[]:"",!1));return;case"textarea":ue=le=null;for(R in f)if(b=f[R],f.hasOwnProperty(R)&&b!=null&&!m.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ot(o,l,R,null,m,b)}for(N in m)if(b=m[N],w=f[N],m.hasOwnProperty(N)&&(b!=null||w!=null))switch(N){case"value":le=b;break;case"defaultValue":ue=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==w&&Ot(o,l,N,b,m,w)}je(o,le,ue);return;case"option":for(var ze in f)if(le=f[ze],f.hasOwnProperty(ze)&&le!=null&&!m.hasOwnProperty(ze))switch(ze){case"selected":o.selected=!1;break;default:Ot(o,l,ze,null,m,le)}for(X in m)if(le=m[X],ue=f[X],m.hasOwnProperty(X)&&le!==ue&&(le!=null||ue!=null))switch(X){case"selected":o.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Ot(o,l,X,le,m,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in f)le=f[Le],f.hasOwnProperty(Le)&&le!=null&&!m.hasOwnProperty(Le)&&Ot(o,l,Le,null,m,le);for(se in m)if(le=m[se],ue=f[se],m.hasOwnProperty(se)&&le!==ue&&(le!=null||ue!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:Ot(o,l,se,le,m,ue)}return;default:if(Zi(l)){for(var Mt in f)le=f[Mt],f.hasOwnProperty(Mt)&&le!==void 0&&!m.hasOwnProperty(Mt)&&av(o,l,Mt,void 0,m,le);for(fe in m)le=m[fe],ue=f[fe],!m.hasOwnProperty(fe)||le===ue||le===void 0&&ue===void 0||av(o,l,fe,le,m,ue);return}}for(var te in f)le=f[te],f.hasOwnProperty(te)&&le!=null&&!m.hasOwnProperty(te)&&Ot(o,l,te,null,m,le);for(pe in m)le=m[pe],ue=f[pe],!m.hasOwnProperty(pe)||le===ue||le==null&&ue==null||Ot(o,l,pe,le,m,ue)}var iv=null,ov=null;function kf(o){return o.nodeType===9?o:o.ownerDocument}function WA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XA(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function sv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var lv=null;function T3(){var o=window.event;return o&&o.type==="popstate"?o===lv?!1:(lv=o,!0):(lv=null,!1)}var ZA=typeof setTimeout=="function"?setTimeout:void 0,A3=typeof clearTimeout=="function"?clearTimeout:void 0,JA=typeof Promise=="function"?Promise:void 0,C3=typeof queueMicrotask=="function"?queueMicrotask:typeof JA<"u"?function(o){return JA.resolve(null).then(o).catch(E3)}:ZA;function E3(o){setTimeout(function(){throw o})}function xi(o){return o==="head"}function QA(o,l){var f=l,m=0,b=0;do{var w=f.nextSibling;if(o.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(0<m&&8>m){f=m;var N=o.ownerDocument;if(f&1&&qu(N.documentElement),f&2&&qu(N.body),f&4)for(f=N.head,qu(f),N=f.firstChild;N;){var R=N.nextSibling,X=N.nodeName;N[Yi]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=R}}if(b===0){o.removeChild(w),Yu(l);return}b--}else f==="$"||f==="$?"||f==="$!"?b++:m=f.charCodeAt(0)-48;else m=0;f=w}while(f);Yu(l)}function uv(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":uv(f),Xl(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function k3(o,l,f,m){for(;o.nodeType===1;){var b=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Yi])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=Br(o.nextSibling),o===null)break}return null}function O3(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Br(o.nextSibling),o===null))return null;return o}function cv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function M3(o,l){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")l();else{var m=function(){l(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function Br(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var dv=null;function eC(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}function tC(o,l,f){switch(l=kf(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function qu(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Xl(o)}var Ar=new Map,nC=new Set;function Of(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ma=V.d;V.d={f:D3,r:N3,D:P3,C:R3,L:I3,m:j3,X:L3,S:$3,M:B3};function D3(){var o=Ma.f(),l=xf();return o||l}function N3(o){var l=ei(o);l!==null&&l.tag===5&&l.type==="form"?wT(l):Ma.r(o)}var Es=typeof document>"u"?null:document;function rC(o,l,f){var m=Es;if(m&&typeof l=="string"&&l){var b=he(l);b='link[rel="'+o+'"][href="'+b+'"]',typeof f=="string"&&(b+='[crossorigin="'+f+'"]'),nC.has(b)||(nC.add(b),o={rel:o,crossOrigin:f,href:l},m.querySelector(b)===null&&(l=m.createElement("link"),Sn(l,"link",o),tn(l),m.head.appendChild(l)))}}function P3(o){Ma.D(o),rC("dns-prefetch",o,null)}function R3(o,l){Ma.C(o,l),rC("preconnect",o,l)}function I3(o,l,f){Ma.L(o,l,f);var m=Es;if(m&&o&&l){var b='link[rel="preload"][as="'+he(l)+'"]';l==="image"&&f&&f.imageSrcSet?(b+='[imagesrcset="'+he(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(b+='[imagesizes="'+he(f.imageSizes)+'"]')):b+='[href="'+he(o)+'"]';var w=b;switch(l){case"style":w=ks(o);break;case"script":w=Os(o)}Ar.has(w)||(o=h({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),Ar.set(w,o),m.querySelector(b)!==null||l==="style"&&m.querySelector(Uu(w))||l==="script"&&m.querySelector(Fu(w))||(l=m.createElement("link"),Sn(l,"link",o),tn(l),m.head.appendChild(l)))}}function j3(o,l){Ma.m(o,l);var f=Es;if(f&&o){var m=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+he(m)+'"][href="'+he(o)+'"]',w=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Os(o)}if(!Ar.has(w)&&(o=h({rel:"modulepreload",href:o},l),Ar.set(w,o),f.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Fu(w)))return}m=f.createElement("link"),Sn(m,"link",o),tn(m),f.head.appendChild(m)}}}function $3(o,l,f){Ma.S(o,l,f);var m=Es;if(m&&o){var b=ti(m).hoistableStyles,w=ks(o);l=l||"default";var N=b.get(w);if(!N){var R={loading:0,preload:null};if(N=m.querySelector(Uu(w)))R.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":l},f),(f=Ar.get(w))&&fv(o,f);var X=N=m.createElement("link");tn(X),Sn(X,"link",o),X._p=new Promise(function(se,fe){X.onload=se,X.onerror=fe}),X.addEventListener("load",function(){R.loading|=1}),X.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Mf(N,l,m)}N={type:"stylesheet",instance:N,count:1,state:R},b.set(w,N)}}}function L3(o,l){Ma.X(o,l);var f=Es;if(f&&o){var m=ti(f).hoistableScripts,b=Os(o),w=m.get(b);w||(w=f.querySelector(Fu(b)),w||(o=h({src:o,async:!0},l),(l=Ar.get(b))&&hv(o,l),w=f.createElement("script"),tn(w),Sn(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(b,w))}}function B3(o,l){Ma.M(o,l);var f=Es;if(f&&o){var m=ti(f).hoistableScripts,b=Os(o),w=m.get(b);w||(w=f.querySelector(Fu(b)),w||(o=h({src:o,async:!0,type:"module"},l),(l=Ar.get(b))&&hv(o,l),w=f.createElement("script"),tn(w),Sn(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(b,w))}}function aC(o,l,f,m){var b=(b=Oe.current)?Of(b):null;if(!b)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=ks(f.href),f=ti(b).hoistableStyles,m=f.get(l),m||(m={type:"style",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=ks(f.href);var w=ti(b).hoistableStyles,N=w.get(o);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,N),(w=b.querySelector(Uu(o)))&&!w._p&&(N.instance=w,N.state.loading=5),Ar.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ar.set(o,f),w||q3(b,o,f,N.state))),l&&m===null)throw Error(r(528,""));return N}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Os(f),f=ti(b).hoistableScripts,m=f.get(l),m||(m={type:"script",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function ks(o){return'href="'+he(o)+'"'}function Uu(o){return'link[rel="stylesheet"]['+o+"]"}function iC(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function q3(o,l,f,m){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=o.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Sn(l,"link",f),tn(l),o.head.appendChild(l))}function Os(o){return'[src="'+he(o)+'"]'}function Fu(o){return"script[async]"+o}function oC(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var m=o.querySelector('style[data-href~="'+he(f.href)+'"]');if(m)return l.instance=m,tn(m),m;var b=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),tn(m),Sn(m,"style",b),Mf(m,f.precedence,o),l.instance=m;case"stylesheet":b=ks(f.href);var w=o.querySelector(Uu(b));if(w)return l.state.loading|=4,l.instance=w,tn(w),w;m=iC(f),(b=Ar.get(b))&&fv(m,b),w=(o.ownerDocument||o).createElement("link"),tn(w);var N=w;return N._p=new Promise(function(R,X){N.onload=R,N.onerror=X}),Sn(w,"link",m),l.state.loading|=4,Mf(w,f.precedence,o),l.instance=w;case"script":return w=Os(f.src),(b=o.querySelector(Fu(w)))?(l.instance=b,tn(b),b):(m=f,(b=Ar.get(w))&&(m=h({},f),hv(m,b)),o=o.ownerDocument||o,b=o.createElement("script"),tn(b),Sn(b,"link",m),o.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Mf(m,f.precedence,o));return l.instance}function Mf(o,l,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,w=b,N=0;N<m.length;N++){var R=m[N];if(R.dataset.precedence===l)w=R;else if(w!==b)break}w?w.parentNode.insertBefore(o,w.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function fv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function hv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Df=null;function sC(o,l,f){if(Df===null){var m=new Map,b=Df=new Map;b.set(f,m)}else b=Df,m=b.get(f),m||(m=new Map,b.set(f,m));if(m.has(o))return m;for(m.set(o,null),f=f.getElementsByTagName(o),b=0;b<f.length;b++){var w=f[b];if(!(w[Yi]||w[Zt]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(l)||"";N=o+N;var R=m.get(N);R?R.push(w):m.set(N,[w])}}return m}function lC(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function U3(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function uC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Vu=null;function F3(){}function V3(o,l,f){if(Vu===null)throw Error(r(475));var m=Vu;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=ks(f.href),w=o.querySelector(Uu(b));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(m.count++,m=Nf.bind(m),o.then(m,m)),l.state.loading|=4,l.instance=w,tn(w);return}w=o.ownerDocument||o,f=iC(f),(b=Ar.get(b))&&fv(f,b),w=w.createElement("link"),tn(w);var N=w;N._p=new Promise(function(R,X){N.onload=R,N.onerror=X}),Sn(w,"link",f),l.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=Nf.bind(m),o.addEventListener("load",l),o.addEventListener("error",l))}}function z3(){if(Vu===null)throw Error(r(475));var o=Vu;return o.stylesheets&&o.count===0&&mv(o,o.stylesheets),0<o.count?function(l){var f=setTimeout(function(){if(o.stylesheets&&mv(o,o.stylesheets),o.unsuspend){var m=o.unsuspend;o.unsuspend=null,m()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f)}}:null}function Nf(){if(this.count--,this.count===0){if(this.stylesheets)mv(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Pf=null;function mv(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Pf=new Map,l.forEach(G3,o),Pf=null,Nf.call(o))}function G3(o,l){if(!(l.state.loading&4)){var f=Pf.get(o);if(f)var m=f.get(null);else{f=new Map,Pf.set(o,f);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var N=b[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(f.set(N.dataset.precedence,N),m=N)}m&&f.set(null,m)}b=l.instance,N=b.getAttribute("data-precedence"),w=f.get(N)||m,w===m&&f.set(null,b),f.set(N,b),this.count++,m=Nf.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),w?w.parentNode.insertBefore(b,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),l.state.loading|=4}}var zu={$$typeof:C,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function H3(o,l,f,m,b,w,N,R){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.hiddenUpdates=Hl(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function cC(o,l,f,m,b,w,N,R,X,se,fe,pe){return o=new H3(o,l,f,N,R,X,se,pe),l=1,w===!0&&(l|=24),w=rr(3,null,null,l),o.current=w,w.stateNode=o,l=Wp(),l.refCount++,o.pooledCache=l,l.refCount++,w.memoizedState={element:m,isDehydrated:f,cache:l},Qp(w),o}function dC(o){return o?(o=os,o):os}function fC(o,l,f,m,b,w){b=dC(b),m.context===null?m.context=b:m.pendingContext=b,m=si(l),m.payload={element:f},w=w===void 0?null:w,w!==null&&(m.callback=w),f=li(o,m,l),f!==null&&(lr(f,o,l),xu(f,o,l))}function hC(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function pv(o,l){hC(o,l),(o=o.alternate)&&hC(o,l)}function mC(o){if(o.tag===13){var l=is(o,67108864);l!==null&&lr(l,o,67108864),pv(o,67108864)}}var Rf=!0;function K3(o,l,f,m){var b=$.T;$.T=null;var w=V.p;try{V.p=2,gv(o,l,f,m)}finally{V.p=w,$.T=b}}function Y3(o,l,f,m){var b=$.T;$.T=null;var w=V.p;try{V.p=8,gv(o,l,f,m)}finally{V.p=w,$.T=b}}function gv(o,l,f,m){if(Rf){var b=vv(m);if(b===null)rv(o,l,m,If,f),gC(o,m);else if(X3(b,o,l,f,m))m.stopPropagation();else if(gC(o,m),l&4&&-1<W3.indexOf(o)){for(;b!==null;){var w=ei(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=pa(w.pendingLanes);if(N!==0){var R=w;for(R.pendingLanes|=2,R.entangledLanes|=2;N;){var X=1<<31-Pn(N);R.entanglements[1]|=X,N&=~X}ra(w),(wt&6)===0&&(yf=_t()+500,$u(0))}}break;case 13:R=is(w,2),R!==null&&lr(R,w,2),xf(),pv(w,2)}if(w=vv(m),w===null&&rv(o,l,m,If,f),w===b)break;b=w}b!==null&&m.stopPropagation()}else rv(o,l,m,null,f)}}function vv(o){return o=vr(o),yv(o)}var If=null;function yv(o){if(If=null,o=Qa(o),o!==null){var l=i(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=s(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return If=o,null}function pC(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tr()){case zn:return 2;case ma:return 8;case Gn:case mr:return 32;case Xa:return 268435456;default:return 32}default:return 32}}var bv=!1,_i=null,wi=null,Si=null,Gu=new Map,Hu=new Map,Ti=[],W3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gC(o,l){switch(o){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Gu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(l.pointerId)}}function Ku(o,l,f,m,b,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:f,eventSystemFlags:m,nativeEvent:w,targetContainers:[b]},l!==null&&(l=ei(l),l!==null&&mC(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),o)}function X3(o,l,f,m,b){switch(l){case"focusin":return _i=Ku(_i,o,l,f,m,b),!0;case"dragenter":return wi=Ku(wi,o,l,f,m,b),!0;case"mouseover":return Si=Ku(Si,o,l,f,m,b),!0;case"pointerover":var w=b.pointerId;return Gu.set(w,Ku(Gu.get(w)||null,o,l,f,m,b)),!0;case"gotpointercapture":return w=b.pointerId,Hu.set(w,Ku(Hu.get(w)||null,o,l,f,m,b)),!0}return!1}function vC(o){var l=Qa(o.target);if(l!==null){var f=i(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){o.blockedOn=l,Ki(o.priority,function(){if(f.tag===13){var m=sr();m=Kl(m);var b=is(f,m);b!==null&&lr(b,f,m),pv(f,m)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function jf(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=vv(o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);Kn=m,f.target.dispatchEvent(m),Kn=null}else return l=ei(f),l!==null&&mC(l),o.blockedOn=f,!1;l.shift()}return!0}function yC(o,l,f){jf(o)&&f.delete(l)}function Z3(){bv=!1,_i!==null&&jf(_i)&&(_i=null),wi!==null&&jf(wi)&&(wi=null),Si!==null&&jf(Si)&&(Si=null),Gu.forEach(yC),Hu.forEach(yC)}function $f(o,l){o.blockedOn===l&&(o.blockedOn=null,bv||(bv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Z3)))}var Lf=null;function bC(o){Lf!==o&&(Lf=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lf===o&&(Lf=null);for(var l=0;l<o.length;l+=3){var f=o[l],m=o[l+1],b=o[l+2];if(typeof m!="function"){if(yv(m||f)===null)continue;break}var w=ei(f);w!==null&&(o.splice(l,3),l-=3,yg(w,{pending:!0,data:b,method:f.method,action:m},m,b))}}))}function Yu(o){function l(X){return $f(X,o)}_i!==null&&$f(_i,o),wi!==null&&$f(wi,o),Si!==null&&$f(Si,o),Gu.forEach(l),Hu.forEach(l);for(var f=0;f<Ti.length;f++){var m=Ti[f];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Ti.length&&(f=Ti[0],f.blockedOn===null);)vC(f),f.blockedOn===null&&Ti.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var b=f[m],w=f[m+1],N=b[An]||null;if(typeof w=="function")N||bC(f);else if(N){var R=null;if(w&&w.hasAttribute("formAction")){if(b=w,N=w[An]||null)R=N.formAction;else if(yv(b)!==null)continue}else R=N.action;typeof R=="function"?f[m+1]=R:(f.splice(m,3),m-=3),bC(f)}}}function xv(o){this._internalRoot=o}Bf.prototype.render=xv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,m=sr();fC(f,m,o,l,null,null)},Bf.prototype.unmount=xv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;fC(o.current,2,null,o,null,null),xf(),l[Ja]=null}};function Bf(o){this._internalRoot=o}Bf.prototype.unstable_scheduleHydration=function(o){if(o){var l=kd();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Ti.length&&l!==0&&l<Ti[f].priority;f++);Ti.splice(f,0,o),f===0&&vC(o)}};var xC=e.version;if(xC!=="19.1.0")throw Error(r(527,xC,"19.1.0"));V.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(l),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var J3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qf.isDisabled&&qf.supportsFiber)try{Ir=qf.inject(J3),yt=qf}catch{}}return Xu.createRoot=function(o,l){if(!a(o))throw Error(r(299));var f=!1,m="",b=jT,w=$T,N=LT,R=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(R=l.unstable_transitionCallbacks)),l=cC(o,1,!1,null,null,f,m,b,w,N,R,null),o[Ja]=l.current,nv(o),new xv(l)},Xu.hydrateRoot=function(o,l,f){if(!a(o))throw Error(r(299));var m=!1,b="",w=jT,N=$T,R=LT,X=null,se=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(N=f.onCaughtError),f.onRecoverableError!==void 0&&(R=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(X=f.unstable_transitionCallbacks),f.formState!==void 0&&(se=f.formState)),l=cC(o,1,!0,l,f??null,m,b,w,N,R,X,se),l.context=dC(null),f=l.current,m=sr(),m=Kl(m),b=si(m),b.callback=null,li(f,b,m),f=m,l.current.lanes=f,Hi(l,f),ra(l),o[Ja]=l.current,nv(o),new Bf(l)},Xu.version="19.1.0",Xu}var MC;function uB(){if(MC)return Sv.exports;MC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sv.exports=lB(),Sv.exports}var cB=uB();const dB=vt(cB),fB="modulepreload",hB=function(t){return"/controle-financeiro/"+t},DC={},ud=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let s=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=s(n.map(d=>{if(d=hB(d),d in DC)return;DC[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":fB,h||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),h)return new Promise((_,S)=>{y.addEventListener("load",_),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return a.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},mB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ud(async()=>{const{default:r}=await Promise.resolve().then(()=>Rl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Rw extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class pB extends Rw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gB extends Rw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vB extends Rw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $x;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($x||($x={}));var yB=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{d(r.next(h))}catch(p){s(p)}}function c(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?i(h.value):a(h.value).then(u,c)}d((r=r.apply(t,e||[])).next())})};class bB{constructor(e,{headers:n={},customFetch:r,region:a=$x.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=mB(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return yB(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=n;let u={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(u["x-region"]=c);let d;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(u["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(u["Content-Type"]="application/json",d=JSON.stringify(s)));const h=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:d}).catch(S=>{throw new pB(S)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new gB(h);if(!h.ok)throw new vB(h);let y=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield h.json():y==="application/octet-stream"?_=yield h.blob():y==="text/event-stream"?_=h:y==="multipart/form-data"?_=yield h.formData():_=yield h.text(),{data:_,error:null}}catch(a){return{data:null,error:a}}})}}var gn={},Ms={},Ds={},Ns={},Ps={},Rs={},xB=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rl=xB();const _B=rl.fetch,MR=rl.fetch.bind(rl),DR=rl.Headers,wB=rl.Request,SB=rl.Response,Rl=Object.freeze(Object.defineProperty({__proto__:null,Headers:DR,Request:wB,Response:SB,default:MR,fetch:_B},Symbol.toStringTag,{value:"Module"})),TB=eB(Rl);var Ff={},NC;function NR(){if(NC)return Ff;NC=1,Object.defineProperty(Ff,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ff.default=t,Ff}var PC;function PR(){if(PC)return Rs;PC=1;var t=Rs&&Rs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Rs,"__esModule",{value:!0});const e=t(TB),n=t(NR());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=Object.assign({},this.headers),this.headers[i]=s,this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,y;let _=null,S=null,A=null,T=d.status,O=d.statusText;if(d.ok){if(this.method!=="HEAD"){const E=await d.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=E:S=JSON.parse(E))}const C=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),D=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");C&&D&&D.length>1&&(A=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(_={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,A=null,T=406,O="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const C=await d.text();try{_=JSON.parse(C),Array.isArray(_)&&d.status===404&&(S=[],_=null,T=200,O="OK")}catch{d.status===404&&C===""?(T=204,O="No Content"):_={message:C}}if(_&&this.isMaybeSingle&&(!((y=_==null?void 0:_.details)===null||y===void 0)&&y.includes("0 rows"))&&(_=null,T=200,O="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:S,count:A,status:T,statusText:O}});return this.shouldThrowOnError||(c=c.catch(d=>{var h,p,y;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(p=d==null?void 0:d.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=d==null?void 0:d.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,s)}returns(){return this}overrideTypes(){return this}}return Rs.default=r,Rs}var RC;function RR(){if(RC)return Ps;RC=1;var t=Ps&&Ps.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ps,"__esModule",{value:!0});const e=t(PR());class n extends e.default{select(a){let i=!1;const s=(a??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:u,referencedTable:c=u}={}){const d=c?`${c}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:u=s}={}){const c=typeof u>"u"?"offset":`${u}.offset`,d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(d,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:u=!1,wal:c=!1,format:d="text"}={}){var h;const p=[a?"analyze":null,i?"verbose":null,s?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${y}"; options=${p};`,d==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ps.default=n,Ps}var IC;function Iw(){if(IC)return Ns;IC=1;var t=Ns&&Ns.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ns,"__esModule",{value:!0});const e=t(RR());class n extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${d}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const u=s?`${s}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return Ns.default=n,Ns}var jC;function IR(){if(jC)return Ds;jC=1;var t=Ds&&Ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ds,"__esModule",{value:!0});const e=t(Iw());class n{constructor(a,{headers:i={},schema:s,fetch:u}){this.url=a,this.headers=i,this.schema=s,this.fetch=u}select(a,{head:i=!1,count:s}={}){const u=i?"HEAD":"GET";let c=!1;const d=(a??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),s&&(this.headers.Prefer=`count=${s}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:s=!0}={}){const u="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),s||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(a)){const d=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:u,defaultToNull:c=!0}={}){const d="POST",h=[`resolution=${s?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(a)){const p=a.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(p.length>0){const y=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const s="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),this.headers.Prefer=u.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",s=[];return a&&s.push(`count=${a}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ds.default=n,Ds}var Zu={},Ju={},$C;function AB(){return $C||($C=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.version=void 0,Ju.version="0.0.0-automated"),Ju}var LC;function CB(){if(LC)return Zu;LC=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.DEFAULT_HEADERS=void 0;const t=AB();return Zu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Zu}var BC;function EB(){if(BC)return Ms;BC=1;var t=Ms&&Ms.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ms,"__esModule",{value:!0});const e=t(IR()),n=t(Iw()),r=CB();class a{constructor(s,{headers:u={},schema:c,fetch:d}={}){this.url=s,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=c,this.fetch=d}from(s){const u=new URL(`${this.url}/${s}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,u={},{head:c=!1,get:d=!1,count:h}={}){let p;const y=new URL(`${this.url}/rpc/${s}`);let _;c||d?(p=c?"HEAD":"GET",Object.entries(u).filter(([A,T])=>T!==void 0).map(([A,T])=>[A,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([A,T])=>{y.searchParams.append(A,T)})):(p="POST",_=u);const S=Object.assign({},this.headers);return h&&(S.Prefer=`count=${h}`),new n.default({method:p,url:y,headers:S,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return Ms.default=a,Ms}var qC;function kB(){if(qC)return gn;qC=1;var t=gn&&gn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(gn,"__esModule",{value:!0}),gn.PostgrestError=gn.PostgrestBuilder=gn.PostgrestTransformBuilder=gn.PostgrestFilterBuilder=gn.PostgrestQueryBuilder=gn.PostgrestClient=void 0;const e=t(EB());gn.PostgrestClient=e.default;const n=t(IR());gn.PostgrestQueryBuilder=n.default;const r=t(Iw());gn.PostgrestFilterBuilder=r.default;const a=t(RR());gn.PostgrestTransformBuilder=a.default;const i=t(PR());gn.PostgrestBuilder=i.default;const s=t(NR());return gn.PostgrestError=s.default,gn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},gn}var OB=kB();const MB=vt(OB),{PostgrestClient:DB,PostgrestQueryBuilder:lce,PostgrestFilterBuilder:uce,PostgrestTransformBuilder:cce,PostgrestBuilder:dce,PostgrestError:fce}=MB;let Lx;typeof window>"u"?Lx=require("ws"):Lx=window.WebSocket;const NB="2.11.10",PB={"X-Client-Info":`realtime-js/${NB}`},RB="1.0.0",jR=1e4,IB=1e3;var Zs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zs||(Zs={}));var jn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jn||(jn={}));var Fr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Fr||(Fr={}));var Bx;(function(t){t.websocket="websocket"})(Bx||(Bx={}));var So;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(So||(So={}));class jB{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const a=n.getUint8(1),i=n.getUint8(2);let s=this.HEADER_LENGTH+2;const u=r.decode(e.slice(s,s+a));s=s+a;const c=r.decode(e.slice(s,s+i));s=s+i;const d=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:u,event:c,payload:d}}}class $R{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $t;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($t||($t={}));const UC=(t,e,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,s)=>(i[s]=$B(s,t,e,a),i),{})},$B=(t,e,n,r)=>{const a=e.find(u=>u.name===t),i=a==null?void 0:a.type,s=n[t];return i&&!r.includes(i)?LR(i,s):qx(s)},LR=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return UB(e,n)}switch(t){case $t.bool:return LB(e);case $t.float4:case $t.float8:case $t.int2:case $t.int4:case $t.int8:case $t.numeric:case $t.oid:return BB(e);case $t.json:case $t.jsonb:return qB(e);case $t.timestamp:return FB(e);case $t.abstime:case $t.date:case $t.daterange:case $t.int4range:case $t.int8range:case $t.money:case $t.reltime:case $t.text:case $t.time:case $t.timestamptz:case $t.timetz:case $t.tsrange:case $t.tstzrange:return qx(e);default:return qx(e)}},qx=t=>t,LB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},BB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},UB=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(u=>LR(e,u))}return t},FB=t=>typeof t=="string"?t.replace(" ","T"):t,BR=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ev{constructor(e,n,r={},a=jR){this.channel=e,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var FC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(FC||(FC={}));class pc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=pc.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=pc.syncDiff(this.state,a,i,s),u())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,a){const i=this.cloneDeep(e),s=this.transformState(n),u={},c={};return this.map(i,(d,h)=>{s[d]||(c[d]=h)}),this.map(s,(d,h)=>{const p=i[d];if(p){const y=h.map(T=>T.presence_ref),_=p.map(T=>T.presence_ref),S=h.filter(T=>_.indexOf(T.presence_ref)<0),A=p.filter(T=>y.indexOf(T.presence_ref)<0);S.length>0&&(u[d]=S),A.length>0&&(c[d]=A)}else u[d]=h}),this.syncDiff(i,{joins:u,leaves:c},r,a)}static syncDiff(e,n,r,a){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(u,c)=>{var d;const h=(d=e[u])!==null&&d!==void 0?d:[];if(e[u]=this.cloneDeep(c),h.length>0){const p=e[u].map(_=>_.presence_ref),y=h.filter(_=>p.indexOf(_.presence_ref)<0);e[u].unshift(...y)}r(u,h,c)}),this.map(s,(u,c)=>{let d=e[u];if(!d)return;const h=c.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),e[u]=d,a(u,d,c),d.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const a=e[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var VC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(VC||(VC={}));var zC;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(zC||(zC={}));var Pa;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Pa||(Pa={}));class jw{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=jn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ev(this,Fr.join,this.params,this.timeout),this.rejoinTimer=new $R(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new pc(this),this.broadcastEndpointURL=BR(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:u}}=this.params;this._onError(h=>e==null?void 0:e(Pa.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Pa.CLOSED));const c={},d={broadcast:i,presence:s,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&a!==void 0?a:[],private:u};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){e==null||e(Pa.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(p=y==null?void 0:y.length)!==null&&p!==void 0?p:0,S=[];for(let A=0;A<_;A++){const T=y[A],{filter:{event:O,schema:M,table:C,filter:D}}=T,E=h&&h[A];if(E&&E.event===O&&E.schema===M&&E.table===C&&E.filter===D)S.push(Object.assign(Object.assign({},T),{id:E.id}));else{this.unsubscribe(),this.state=jn.errored,e==null||e(Pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Pa.SUBSCRIBED);return}}).receive("error",h=>{this.state=jn.errored,e==null||e(Pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,u,c;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const a=new Ev(this,Fr.leave,{},e);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ev(this,e,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var a,i;const s=e.toLocaleLowerCase(),{close:u,error:c,leave:d,join:h}=Fr;if(r&&[u,c,d,h].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var S,A,T;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(A=_.filter)===null||A===void 0?void 0:A.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===s}).map(_=>_.callback(y,r)):(i=this.bindings[s])===null||i===void 0||i.filter(_=>{var S,A,T,O,M,C;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in _){const D=_.id,E=(S=_.filter)===null||S===void 0?void 0:S.event;return D&&((A=n.ids)===null||A===void 0?void 0:A.includes(D))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const D=(M=(O=_==null?void 0:_.filter)===null||O===void 0?void 0:O.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return D==="*"||D===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===s}).map(_=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:A,table:T,commit_timestamp:O,type:M,errors:C}=S;y=Object.assign(Object.assign({},{schema:A,table:T,commit_timestamp:O,eventType:M,new:{},old:{},errors:C}),this._getPayloadRecords(S))}_.callback(y,r)})}_isClosed(){return this.state===jn.closed}_isJoined(){return this.state===jn.joined}_isJoining(){return this.state===jn.joining}_isLeaving(){return this.state===jn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const a=e.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&jw.isEqual(a.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fr.close,{},e)}_onError(e){this._on(Fr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=UC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=UC(e.columns,e.old_record)),n}}const GC=()=>{},VB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zB{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=PB,this.params={},this.timeout=jR,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=GC,this.ref=0,this.logger=GC,this.conn=null,this.sendBuffer=[],this.serializer=new jB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...u)=>ud(async()=>{const{default:c}=await Promise.resolve().then(()=>Rl);return{default:c}},void 0).then(({default:c})=>c(...u)):s=fetch,(...u)=>s(...u)},this.endPoint=`${e}/${Bx.websocket}`,this.httpEndpoint=BR(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $R(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Lx),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new GB(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RB}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zs.connecting:return So.Connecting;case Zs.open:return So.Open;case Zs.closing:return So.Closing;default:return So.Closed}}isConnected(){return this.connectionState()===So.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new jw(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:a,ref:i}=e,s=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Fr.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(IB,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:a,payload:i,ref:s}=n;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${a} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${r}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([VB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class GB{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Zs.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class $w extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function vn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class HB extends $w{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ux extends $w{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var KB=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{d(r.next(h))}catch(p){s(p)}}function c(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?i(h.value):a(h.value).then(u,c)}d((r=r.apply(t,e||[])).next())})};const qR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ud(async()=>{const{default:r}=await Promise.resolve().then(()=>Rl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},YB=()=>KB(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ud(()=>Promise.resolve().then(()=>Rl),void 0)).Response:Response}),Fx=t=>{if(Array.isArray(t))return t.map(n=>Fx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=Fx(r)}),e};var qo=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{d(r.next(h))}catch(p){s(p)}}function c(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?i(h.value):a(h.value).then(u,c)}d((r=r.apply(t,e||[])).next())})};const kv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),WB=(t,e,n)=>qo(void 0,void 0,void 0,function*(){const r=yield YB();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(a=>{e(new HB(kv(a),t.status||500))}).catch(a=>{e(new Ux(kv(a),a))}):e(new Ux(kv(t),t))}),XB=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function cd(t,e,n,r,a,i){return qo(this,void 0,void 0,function*(){return new Promise((s,u)=>{t(n,XB(e,r,a,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>WB(c,u,r))})})}function mh(t,e,n,r){return qo(this,void 0,void 0,function*(){return cd(t,"GET",e,n,r)})}function Ei(t,e,n,r,a){return qo(this,void 0,void 0,function*(){return cd(t,"POST",e,r,a,n)})}function ZB(t,e,n,r,a){return qo(this,void 0,void 0,function*(){return cd(t,"PUT",e,r,a,n)})}function JB(t,e,n,r){return qo(this,void 0,void 0,function*(){return cd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function UR(t,e,n,r,a){return qo(this,void 0,void 0,function*(){return cd(t,"DELETE",e,r,a,n)})}var Jn=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{d(r.next(h))}catch(p){s(p)}}function c(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?i(h.value):a(h.value).then(u,c)}d((r=r.apply(t,e||[])).next())})};const QB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class e4{constructor(e,n={},r,a){this.url=e,this.headers=n,this.bucketId=r,this.fetch=qR(a)}uploadOrUpdate(e,n,r,a){return Jn(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},HC),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(u=Object.assign(Object.assign({},u),a.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:i,headers:u},s!=null&&s.duplex?{duplex:s.duplex}:{})),y=yield p.json();return p.ok?{data:{path:d,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(i){if(vn(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Jn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,a){return Jn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${s}`);u.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:HC.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield this.fetch(u.toString(),{method:"PUT",body:c,headers:h}),y=yield p.json();return p.ok?{data:{path:i,fullPath:y.Key},error:null}:{data:null,error:y}}catch(c){if(vn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Jn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield Ei(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),s=new URL(this.url+i.url),u=s.searchParams.get("token");if(!u)throw new $w("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:u},error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Jn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Jn(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(vn(a))return{data:null,error:a};throw a}})}copy(e,n,r){return Jn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ei(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(vn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,r){return Jn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Ei(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(vn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,r){return Jn(this,void 0,void 0,function*(){try{const a=yield Ei(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(vn(a))return{data:null,error:a};throw a}})}download(e,n){return Jn(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=i?`?${i}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield mh(this.fetch,`${this.url}/${a}/${u}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(vn(u))return{data:null,error:u};throw u}})}info(e){return Jn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield mh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Fx(r),error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}})}exists(e){return Jn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield JB(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(vn(r)&&r instanceof Ux){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${d}`)}}}remove(e){return Jn(this,void 0,void 0,function*(){try{return{data:yield UR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Jn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},QB),n),{prefix:e||""});return{data:yield Ei(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(vn(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const t4="2.7.1",n4={"X-Client-Info":`storage-js/${t4}`};var Is=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{d(r.next(h))}catch(p){s(p)}}function c(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?i(h.value):a(h.value).then(u,c)}d((r=r.apply(t,e||[])).next())})};class r4{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},n4),n),this.fetch=qR(r)}listBuckets(){return Is(this,void 0,void 0,function*(){try{return{data:yield mh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(vn(e))return{data:null,error:e};throw e}})}getBucket(e){return Is(this,void 0,void 0,function*(){try{return{data:yield mh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Is(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Is(this,void 0,void 0,function*(){try{return{data:yield ZB(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(vn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Is(this,void 0,void 0,function*(){try{return{data:yield Ei(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Is(this,void 0,void 0,function*(){try{return{data:yield UR(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(vn(n))return{data:null,error:n};throw n}})}}class a4 extends r4{constructor(e,n={},r){super(e,n,r)}from(e){return new e4(this.url,this.headers,e,this.fetch)}}const i4="2.50.0";let uc="";typeof Deno<"u"?uc="deno":typeof document<"u"?uc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?uc="react-native":uc="node";const o4={"X-Client-Info":`supabase-js-${uc}/${i4}`},s4={headers:o4},l4={schema:"public"},u4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c4={};var d4=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{d(r.next(h))}catch(p){s(p)}}function c(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?i(h.value):a(h.value).then(u,c)}d((r=r.apply(t,e||[])).next())})};const f4=t=>{let e;return t?e=t:typeof fetch>"u"?e=MR:e=fetch,(...n)=>e(...n)},h4=()=>typeof Headers>"u"?DR:Headers,m4=(t,e,n)=>{const r=f4(n),a=h4();return(i,s)=>d4(void 0,void 0,void 0,function*(){var u;const c=(u=yield e())!==null&&u!==void 0?u:t;let d=new a(s==null?void 0:s.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:d}))})};var p4=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{d(r.next(h))}catch(p){s(p)}}function c(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?i(h.value):a(h.value).then(u,c)}d((r=r.apply(t,e||[])).next())})};function g4(t){return t.endsWith("/")?t:t+"/"}function v4(t,e){var n,r;const{db:a,auth:i,realtime:s,global:u}=t,{db:c,auth:d,realtime:h,global:p}=e,y={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},h),s),global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>p4(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const FR="2.70.0",Vs=30*1e3,Vx=3,Ov=Vx*Vs,y4="http://localhost:9999",b4="supabase.auth.token",x4={"X-Client-Info":`gotrue-js/${FR}`},zx="X-Supabase-Api-Version",VR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,w4=6e5;class Lw extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class S4 extends Lw{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function T4(t){return Je(t)&&t.name==="AuthApiError"}class zR extends Lw{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class qi extends Lw{constructor(e,n,r,a){super(e,r,a),this.name=n,this.status=r}}class Ci extends qi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A4(t){return Je(t)&&t.name==="AuthSessionMissingError"}class Vf extends qi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zf extends qi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Gf extends qi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function C4(t){return Je(t)&&t.name==="AuthImplicitGrantRedirectError"}class KC extends qi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gx extends qi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Mv(t){return Je(t)&&t.name==="AuthRetryableFetchError"}class YC extends qi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class gc extends qi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ph="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),WC=` 	
\r=`.split(""),E4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<WC.length;e+=1)t[WC[e].charCodeAt(0)]=-2;for(let e=0;e<ph.length;e+=1)t[ph[e].charCodeAt(0)]=e;return t})();function XC(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ph[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ph[r]),e.queuedBits-=6}}function GR(t,e,n){const r=E4[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ZC(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{M4(s,r,n)};for(let s=0;s<t.length;s+=1)GR(t.charCodeAt(s),a,i);return e.join("")}function k4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function O4(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}k4(r,e)}}function M4(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function D4(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)GR(t.charCodeAt(a),n,r);return new Uint8Array(e)}function N4(t){const e=[];return O4(t,n=>e.push(n)),new Uint8Array(e)}function P4(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};return t.forEach(a=>XC(a,n,r)),XC(null,n,r),e.join("")}function R4(t){return Math.round(Date.now()/1e3)+t}function I4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ur=()=>typeof window<"u"&&typeof document<"u",po={tested:!1,writable:!1},vc=()=>{if(!Ur())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(po.tested)return po.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),po.tested=!0,po.writable=!0}catch{po.tested=!0,po.writable=!1}return po.writable};function j4(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{e[a]=r}),e}const HR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ud(async()=>{const{default:r}=await Promise.resolve().then(()=>Rl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},$4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",KR=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Hf=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Kf=async(t,e)=>{await t.removeItem(e)};class Sm{constructor(){this.promise=new Sm.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Sm.promiseConstructor=Promise;function Dv(t){const e=t.split(".");if(e.length!==3)throw new gc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!_4.test(e[r]))throw new gc("JWT not in base64url format");return{header:JSON.parse(ZC(e[0])),payload:JSON.parse(ZC(e[1])),signature:D4(e[2]),raw:{header:e[0],payload:e[1]}}}async function L4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function B4(t,e){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function q4(t){return("0"+t.toString(16)).substr(-2)}function U4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,q4).join("")}async function F4(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function V4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await F4(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function js(t,e,n=!1){const r=U4();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await KR(t,`${e}-code-verifier`,a);const i=await V4(r);return[i,r===i?"plain":"s256"]}const z4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function G4(t){const e=t.headers.get(zx);if(!e||!e.match(z4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function H4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function K4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Y4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $s(t){if(!Y4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var W4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const xo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),X4=[502,503,504];async function JC(t){var e;if(!$4(t))throw new Gx(xo(t),0);if(X4.includes(t.status))throw new Gx(xo(t),t.status);let n;try{n=await t.json()}catch(i){throw new zR(xo(i),i)}let r;const a=G4(t);if(a&&a.getTime()>=VR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new YC(xo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ci}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new YC(xo(n),t.status,n.weak_password.reasons);throw new S4(xo(n),t.status||500,r)}const Z4=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function ot(t,e,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[zx]||(i[zx]=VR["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const s=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await J4(t,e,n+u,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function J4(t,e,n,r,a,i){const s=Z4(e,r,a,i);let u;try{u=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new Gx(xo(c),0)}if(u.ok||await JC(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await JC(c)}}function Na(t){var e;let n=null;nq(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=R4(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function QC(t){const e=Na(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Di(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Q4(t){return{data:t,error:null}}function eq(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=t,s=W4(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:u,user:c},error:null}}function tq(t){return t}function nq(t){return t.access_token&&t.refresh_token&&t.expires_in}const Nv=["global","local","others"];var rq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};class aq{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=HR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Nv[0]){if(Nv.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nv.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Di})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=rq(e,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:eq,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Je(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Di})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,a,i,s,u,c;try{const d={nextPage:null,lastPage:0,total:0},h=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:tq});if(h.error)throw h.error;const p=await h.json(),y=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(S=>{const A=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);d[`${T}Page`]=A}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Je(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){$s(e);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Di})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){$s(e);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Di})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){$s(e);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Di})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){$s(e.userId);try{const{data:n,error:r}=await ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _deleteFactor(e){$s(e.userId),$s(e.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}}const iq={getItem:t=>vc()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{vc()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{vc()&&globalThis.localStorage.removeItem(t)}};function eE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function oq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ls={debug:!!(globalThis&&vc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class YR extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sq extends YR{}async function lq(t,e,n){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sq(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ls.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}oq();const uq={url:y4,storageKey:b4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tE(t,e,n){return await n()}class Ac{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ac.nextInstanceID,Ac.nextInstanceID+=1,this.instanceID>0&&Ur()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},uq),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new aq({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=HR(a.fetch),this.lock=a.lock||tE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ur()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lq:this.lock=tE,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:vc()?this.storage=iq:(this.memoryStorage={},this.storage=eE(this.memoryStorage)):(this.memoryStorage={},this.storage=eE(this.memoryStorage)),Ur()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${FR}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=j4(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ur()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),C4(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Je(n)?{error:n}:{error:new zR("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,a;try{const i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Na}),{data:s,error:u}=i;if(u||!s)return{data:{user:null,session:null},error:u};const c=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Je(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,a;try{let i;if("email"in e){const{email:h,password:p,options:y}=e;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await js(this.storage,this.storageKey)),i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:h,password:p,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:_,code_challenge_method:S},xform:Na})}else if("phone"in e){const{phone:h,password:p,options:y}=e;i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Na})}else throw new zf("You must provide either an email or phone number and a password");const{data:s,error:u}=i;if(u||!s)return{data:{user:null,session:null},error:u};const c=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Je(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:s,options:u}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:QC})}else if("phone"in e){const{phone:i,password:s,options:u}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:QC})}else throw new zf("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Vf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,a,i,s,u,c,d,h,p,y,_;let S,A;if("message"in e)S=e.message,A=e.signature;else{const{chain:T,wallet:O,statement:M,options:C}=e;let D;if(Ur())if(typeof O=="object")D=O;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))D=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=O}const E=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const k=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),M?{statement:M}:null));let P;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")P=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)P=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)S=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),A=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${E.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(a=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=C==null?void 0:C.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((s=C==null?void 0:C.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((d=C==null?void 0:C.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(h=C==null?void 0:C.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const k=await D.signMessage(new TextEncoder().encode(S),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=k}}try{const{data:T,error:O}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:P4(A)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Na});if(O)throw O;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Vf}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:O})}catch(T){if(Je(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const n=await Hf(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:s}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Na});if(await Kf(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Vf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(Je(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:a,access_token:i,nonce:s}=e,u=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Na}),{data:c,error:d}=u;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Vf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,a,i,s;try{if("email"in e){const{email:u,options:c}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await js(this.storage,this.storageKey));const{error:p}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:u,options:c}=e,{data:d,error:h}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new zf("You must provide either an email or phone number.")}catch(u){if(Je(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let a,i;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:u}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Na});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,d=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Je(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var n,r,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await js(this.storage,this.storageKey)),await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:Q4})}catch(i){if(Je(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ci;const{error:a}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Je(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:i}=e,{error:s}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:a,options:i}=e,{data:s,error:u}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:u}}throw new zf("You must provide either an email or phone number and a type")}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Hf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ov:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,h)=>(!s&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,h))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Di}):await this._useSession(async n=>{var r,a,i;const{data:s,error:u}=n;if(u)throw u;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ci}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Di})})}catch(n){if(Je(n))return A4(n)&&(await this._removeSession(),await Kf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new Ci;const s=a.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await js(this.storage,this.storageKey));const{data:d,error:h}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:s.access_token,xform:Di});if(h)throw h;return s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ci;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:s}=Dv(e.access_token);if(s.exp&&(r=s.exp,a=r<=n),a){const{session:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Je(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:u}=n;if(u)throw u;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ci;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Je(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ur())throw new Gf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new KC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new KC("No code detected.");const{data:M,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:u,expires_at:c,token_type:d}=e;if(!i||!u||!s||!d)throw new Gf("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let y=h+p;c&&(y=parseInt(c));const _=y-h;_*1e3<=Vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${p}s`);const S=y-p;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,h);const{data:A,error:T}=await this._getUser(i);if(T)throw T;const O={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:p,expires_at:y,refresh_token:s,token_type:d,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(r){if(Je(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Hf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const s=(r=a.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:u}=await this.admin.signOut(s,e);if(u&&!(T4(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Kf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=I4(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await js(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Je(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var s,u,c,d,h;const{data:p,error:y}=i;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",_,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return Ur()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Je(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,a;const{data:i,error:s}=n;if(s)throw s;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await B4(async a=>(a>0&&await L4(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Na})),(a,i)=>{const s=200*Math.pow(2,a);return i&&Mv(i)&&Date.now()+s-r<Vs})}catch(r){if(this._debug(n,"error",r),Je(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ur()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Hf(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Ov;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ov}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Mv(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ci;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Sm;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Ci;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={session:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),Je(i)){const s={session:null,error:i};return Mv(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await KR(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Kf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ur()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/Vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Vs}ms, refresh threshold is ${Vx} ticks`),a<=Vx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof YR)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ur()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,s]=await js(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(u.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:s,error:u}=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:u})})}catch(n){if(Je(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Je(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],a=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Dv(a.access_token);let u=null;s.aal&&(u=s.aal);let c=u;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=s.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r||(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+w4>Date.now()))return r;const{data:a,error:i}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new gc("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),r=a.keys.find(s=>s.kid===e),!r)throw new gc("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:_,error:S}=await this.getSession();if(S||!_.session)return{data:null,error:S};r=_.session.access_token}const{header:a,payload:i,signature:s,raw:{header:u,payload:c}}=Dv(r);if(H4(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:a,signature:s},error:null}}const d=K4(a.alg),h=await this.fetchJwk(a.kid,n),p=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,s,N4(`${u}.${c}`)))throw new gc("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}}Ac.nextInstanceID=0;const cq=Ac;class dq extends cq{constructor(e){super(e)}}var fq=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{d(r.next(h))}catch(p){s(p)}}function c(h){try{d(r.throw(h))}catch(p){s(p)}}function d(h){h.done?i(h.value):a(h.value).then(u,c)}d((r=r.apply(t,e||[])).next())})};class hq{constructor(e,n,r){var a,i,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=g4(e),c=new URL(u);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:l4,realtime:c4,auth:Object.assign(Object.assign({},u4),{storageKey:d}),global:s4},p=v4(r??{},h);this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=p.auth)!==null&&s!==void 0?s:{},this.headers,p.global.fetch),this.fetch=m4(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new DB(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new bB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new a4(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return fq(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:i,flowType:s,lock:u,debug:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dq({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,flowType:s,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new zB(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mq=(t,e,n)=>new hq(t,e,n),pq="https://kezqwaibstyhvxpdhdts.supabase.co",gq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtlenF3YWlic3R5aHZ4cGRoZHRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2ODU0NTEsImV4cCI6MjA1OTI2MTQ1MX0.f8lcr89hUJLsQYdHWE6tFlijL7PtHKI3w7KtG-PGgb8",Ee=mq(pq,gq);var ve=(t=>(t.INCOME="INCOME",t.EXPENSE="EXPENSE",t.TRANSFER="TRANSFER",t))(ve||{}),fr=(t=>(t.DEPOSIT="DEPOSIT",t.WITHDRAWAL="WITHDRAWAL",t))(fr||{});const vq=[{name:"Salário"},{name:"Vendas"},{name:"Investimentos"},{name:"Presente"},{name:"Outras Receitas"}],yq=[{name:"Alimentação"},{name:"Transporte"},{name:"Moradia"},{name:"Lazer"},{name:"Saúde"},{name:"Educação"},{name:"Compras"},{name:"Impostos"},{name:"Água"},{name:"Luz"},{name:"Outras Despesas"}],bq=[{name:"Carteira",initial_balance:0},{name:"Banco Principal",initial_balance:1e3}],Hx="Meu Financeiro",Tm=[{value:ve.INCOME,label:"Receita"},{value:ve.EXPENSE,label:"Despesa"},{value:ve.TRANSFER,label:"Transferência"}],xq=[{value:"all",label:"Todo o Período"},{value:"today",label:"Hoje"},{value:"current_month",label:"Este Mês"},{value:"last_7_days",label:"Últimos 7 Dias"},{value:"last_30_days",label:"Últimos 30 Dias"}],_q=t=>{const e=vq.map(r=>({...r,user_id:t,type:ve.INCOME})),n=yq.map(r=>({...r,user_id:t,type:ve.EXPENSE}));return[...e,...n]},wq=t=>bq.map(e=>({...e,user_id:t})),st=()=>crypto.randomUUID(),Un=(t,e="pt-BR",n)=>{const r=new Date(t.includes("T")?t:t+"T00:00:00"),a={year:"numeric",month:"short",day:"numeric"},i=n?{...a,...n}:a;return r.toLocaleDateString(e,i)},xe=(t,e="BRL",n="pt-BR",r=!1)=>{var a;return r?`${((a=new Intl.NumberFormat(n,{style:"currency",currency:e}).formatToParts(0).find(s=>s.type==="currency"))==null?void 0:a.value)||"$"} ****,**`:new Intl.NumberFormat(n,{style:"currency",currency:e}).format(t)},mt=(t=new Date)=>(typeof t=="string"?new Date(t.includes("T")?t:t+"T00:00:00"):t).toISOString().split("T")[0],WR=(t,e,n)=>{const r=new Date(t+"T00:00:00");let a=r.getMonth()+e,i=r.getFullYear();a>11&&(i+=Math.floor(a/12),a=a%12);const u=r.getMonth()+1+(e-1);i=r.getFullYear(),a=u,a>11&&(i+=Math.floor(a/12),a=a%12);const c=new Date(i,a,1),d=new Date(i,a+1,0).getDate(),h=Math.min(n,d);return c.setDate(h),c},XR=(t,e,n)=>{if(!t||!e)return[];const r=[],a=n.getFullYear(),i=n.getMonth();let s=new Date(a,i,e.closing_day);n.getDate()>e.closing_day&&s.setMonth(i+1);let u=new Date(s.getFullYear(),s.getMonth(),e.due_day);e.due_day<e.closing_day&&u.setMonth(s.getMonth()+1);for(const c of t)if(c.installments_paid<c.number_of_installments){const d=c.installments_paid+1,h=WR(c.purchase_date,d,e.due_day);if(h<=u){let p=new Date(u);p.setMonth(p.getMonth()-1),(h>p||h.getFullYear()===u.getFullYear()&&h.getMonth()===u.getMonth())&&r.push(c)}}return r.filter((c,d,h)=>h.findIndex(p=>p.id===c.id)===d)},ZR=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),nE=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),Kx=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15L15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),gh=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"})}),Sq=({id:t,message:e,type:n,onDismiss:r})=>{let a="bg-primary dark:bg-primaryDark",i="text-white",s=nE;switch(n){case"success":a="bg-secondary dark:bg-secondaryDark",s=Kx;break;case"warning":a="bg-amber-500 dark:bg-amber-600",s=gh;break;case"error":a="bg-destructive dark:bg-destructiveDark",s=gh;break;case"info":default:a="bg-blue-500 dark:bg-blue-600",s=nE;break}return x.jsxs("div",{role:"alert","aria-live":"assertive","aria-atomic":"true",className:`relative flex items-start w-full max-w-sm p-4 rounded-lg shadow-2xl ${a} ${i} transform transition-all duration-300 ease-in-out animate-fadeIn`,children:[x.jsx("div",{className:"flex-shrink-0 mr-3",children:x.jsx(s,{className:"w-6 h-6"})}),x.jsx("div",{className:"flex-grow text-sm font-medium",children:e}),x.jsx("button",{onClick:()=>r(t),"aria-label":"Fechar notificação",className:"ml-3 -mr-1 -my-1 p-1 rounded-md hover:bg-black/20 focus:outline-none focus:ring-2 focus:ring-white/50 transition-colors",children:x.jsx(ZR,{className:"w-5 h-5"})}),x.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},Tq=({toasts:t,removeToast:e})=>t.length?x.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"fixed top-4 right-4 z-[100] space-y-3 w-full max-w-sm pointer-events-none",children:t.map(n=>x.jsx("div",{className:"pointer-events-auto",children:x.jsx(Sq,{...n,onDismiss:e})},n.id))}):null,JR=j.createContext(void 0),QR=()=>{const t=j.useContext(JR);if(!t)throw new Error("useToasts must be used within a ToastProvider");return t},Aq=({children:t})=>{const[e,n]=j.useState([]),r=j.useCallback((i,s,u=5e3)=>{const c=st();n(d=>[{id:c,message:i,type:s,duration:u},...d.slice(0,4)]),u&&setTimeout(()=>{a(c)},u)},[]),a=j.useCallback(i=>{n(s=>s.filter(u=>u.id!==i))},[]);return x.jsxs(JR.Provider,{value:{addToast:r},children:[t,x.jsx(Tq,{toasts:e,removeToast:a})]})},Dn=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Cq=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52M6.25 4.97A48.416 48.416 0 0 1 12 4.5c2.291 0 4.545.16 6.75.47m-13.5 0C4.146 5.116 3.146 5.29 2.25 5.5m3.75-.48a25.293 25.293 0 0 0-3.75.48M12 12.75h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0-9h.008v.008H12V9.75Z"})}),Bw=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-3.741-5.602M12 12.75a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 0H7.5M12 12.75V15m0 0H7.5M12 15A6.75 6.75 0 0 0 5.25 9.75M12 15A6.75 6.75 0 0 1 18.75 9.75M12 2.25A6.75 6.75 0 0 0 5.25 9m6.75-6.75v1.5m0 1.5V9m0-3a2.25 2.25 0 0 0-2.25-2.25H7.5A2.25 2.25 0 0 0 5.25 6m13.5 6.75a2.25 2.25 0 0 0-2.25-2.25H15a2.25 2.25 0 0 0-2.25 2.25m3.75 0v1.5m0 1.5V18m0-3a2.25 2.25 0 0 0-2.25-2.25H15A2.25 2.25 0 0 0 12.75 15m3.75 0h-3.75M3.375 19.5a2.25 2.25 0 0 1 2.25-2.25H10.5a2.25 2.25 0 0 1 2.25 2.25"})}),be=({variant:t="primary",size:e="md",children:n,className:r,...a})=>{const i="font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-backgroundDark transition-colors duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center";let s="";switch(t){case"primary":s="bg-primary text-white hover:bg-blue-700 dark:bg-primaryDark dark:hover:bg-blue-600 focus:ring-primary dark:focus:ring-primaryDark";break;case"secondary":s="bg-secondary text-white hover:bg-emerald-700 dark:bg-secondaryDark dark:hover:bg-emerald-600 focus:ring-secondary dark:focus:ring-secondaryDark";break;case"danger":s="bg-destructive text-white hover:bg-red-700 dark:bg-destructiveDark dark:hover:bg-red-600 focus:ring-destructive dark:focus:ring-destructiveDark";break;case"ghost":s="bg-transparent text-textBase dark:text-textBaseDark hover:bg-neutral/10 dark:hover:bg-neutralDark/20 focus:ring-neutral dark:focus:ring-neutralDark";break}let u="";switch(e){case"sm":u="px-3 py-1.5 text-sm";break;case"md":u="px-4 py-2 text-base";break;case"lg":u="px-6 py-3 text-lg";break}return x.jsx("button",{className:`${i} ${s} ${u} ${r||""}`,...a,children:n})};function eI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=eI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=eI(t))&&(r&&(r+=" "),r+=e);return r}var Pv,rE;function er(){if(rE)return Pv;rE=1;var t=Array.isArray;return Pv=t,Pv}var Rv,aE;function tI(){if(aE)return Rv;aE=1;var t=typeof Uf=="object"&&Uf&&Uf.Object===Object&&Uf;return Rv=t,Rv}var Iv,iE;function fa(){if(iE)return Iv;iE=1;var t=tI(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Iv=n,Iv}var jv,oE;function dd(){if(oE)return jv;oE=1;var t=fa(),e=t.Symbol;return jv=e,jv}var $v,sE;function Eq(){if(sE)return $v;sE=1;var t=dd(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function i(s){var u=n.call(s,a),c=s[a];try{s[a]=void 0;var d=!0}catch{}var h=r.call(s);return d&&(u?s[a]=c:delete s[a]),h}return $v=i,$v}var Lv,lE;function kq(){if(lE)return Lv;lE=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Lv=n,Lv}var Bv,uE;function Ga(){if(uE)return Bv;uE=1;var t=dd(),e=Eq(),n=kq(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?a:r:i&&i in Object(u)?e(u):n(u)}return Bv=s,Bv}var qv,cE;function Ha(){if(cE)return qv;cE=1;function t(e){return e!=null&&typeof e=="object"}return qv=t,qv}var Uv,dE;function Il(){if(dE)return Uv;dE=1;var t=Ga(),e=Ha(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return Uv=r,Uv}var Fv,fE;function qw(){if(fE)return Fv;fE=1;var t=er(),e=Il(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,s){if(t(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||s!=null&&i in Object(s)}return Fv=a,Fv}var Vv,hE;function Ui(){if(hE)return Vv;hE=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Vv=t,Vv}var zv,mE;function Uw(){if(mE)return zv;mE=1;var t=Ga(),e=Ui(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==r||c==a||c==n||c==i}return zv=s,zv}var Gv,pE;function Oq(){if(pE)return Gv;pE=1;var t=fa(),e=t["__core-js_shared__"];return Gv=e,Gv}var Hv,gE;function Mq(){if(gE)return Hv;gE=1;var t=Oq(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Hv=n,Hv}var Kv,vE;function nI(){if(vE)return Kv;vE=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Kv=n,Kv}var Yv,yE;function Dq(){if(yE)return Yv;yE=1;var t=Uw(),e=Mq(),n=Ui(),r=nI(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,d=u.hasOwnProperty,h=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var _=t(y)?h:i;return _.test(r(y))}return Yv=p,Yv}var Wv,bE;function Nq(){if(bE)return Wv;bE=1;function t(e,n){return e==null?void 0:e[n]}return Wv=t,Wv}var Xv,xE;function Uo(){if(xE)return Xv;xE=1;var t=Dq(),e=Nq();function n(r,a){var i=e(r,a);return t(i)?i:void 0}return Xv=n,Xv}var Zv,_E;function Am(){if(_E)return Zv;_E=1;var t=Uo(),e=t(Object,"create");return Zv=e,Zv}var Jv,wE;function Pq(){if(wE)return Jv;wE=1;var t=Am();function e(){this.__data__=t?t(null):{},this.size=0}return Jv=e,Jv}var Qv,SE;function Rq(){if(SE)return Qv;SE=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Qv=t,Qv}var ey,TE;function Iq(){if(TE)return ey;TE=1;var t=Am(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var s=this.__data__;if(t){var u=s[i];return u===e?void 0:u}return r.call(s,i)?s[i]:void 0}return ey=a,ey}var ty,AE;function jq(){if(AE)return ty;AE=1;var t=Am(),e=Object.prototype,n=e.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return ty=r,ty}var ny,CE;function $q(){if(CE)return ny;CE=1;var t=Am(),e="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?e:a,this}return ny=n,ny}var ry,EE;function Lq(){if(EE)return ry;EE=1;var t=Pq(),e=Rq(),n=Iq(),r=jq(),a=$q();function i(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var d=s[u];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,ry=i,ry}var ay,kE;function Bq(){if(kE)return ay;kE=1;function t(){this.__data__=[],this.size=0}return ay=t,ay}var iy,OE;function Fw(){if(OE)return iy;OE=1;function t(e,n){return e===n||e!==e&&n!==n}return iy=t,iy}var oy,ME;function Cm(){if(ME)return oy;ME=1;var t=Fw();function e(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return oy=e,oy}var sy,DE;function qq(){if(DE)return sy;DE=1;var t=Cm(),e=Array.prototype,n=e.splice;function r(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var u=i.length-1;return s==u?i.pop():n.call(i,s,1),--this.size,!0}return sy=r,sy}var ly,NE;function Uq(){if(NE)return ly;NE=1;var t=Cm();function e(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return ly=e,ly}var uy,PE;function Fq(){if(PE)return uy;PE=1;var t=Cm();function e(n){return t(this.__data__,n)>-1}return uy=e,uy}var cy,RE;function Vq(){if(RE)return cy;RE=1;var t=Cm();function e(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return cy=e,cy}var dy,IE;function Em(){if(IE)return dy;IE=1;var t=Bq(),e=qq(),n=Uq(),r=Fq(),a=Vq();function i(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var d=s[u];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,dy=i,dy}var fy,jE;function Vw(){if(jE)return fy;jE=1;var t=Uo(),e=fa(),n=t(e,"Map");return fy=n,fy}var hy,$E;function zq(){if($E)return hy;$E=1;var t=Lq(),e=Em(),n=Vw();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return hy=r,hy}var my,LE;function Gq(){if(LE)return my;LE=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return my=t,my}var py,BE;function km(){if(BE)return py;BE=1;var t=Gq();function e(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return py=e,py}var gy,qE;function Hq(){if(qE)return gy;qE=1;var t=km();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return gy=e,gy}var vy,UE;function Kq(){if(UE)return vy;UE=1;var t=km();function e(n){return t(this,n).get(n)}return vy=e,vy}var yy,FE;function Yq(){if(FE)return yy;FE=1;var t=km();function e(n){return t(this,n).has(n)}return yy=e,yy}var by,VE;function Wq(){if(VE)return by;VE=1;var t=km();function e(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return by=e,by}var xy,zE;function zw(){if(zE)return xy;zE=1;var t=zq(),e=Hq(),n=Kq(),r=Yq(),a=Wq();function i(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var d=s[u];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,xy=i,xy}var _y,GE;function rI(){if(GE)return _y;GE=1;var t=zw(),e="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,u=a?a.apply(this,s):s[0],c=i.cache;if(c.has(u))return c.get(u);var d=r.apply(this,s);return i.cache=c.set(u,d)||c,d};return i.cache=new(n.Cache||t),i}return n.Cache=t,_y=n,_y}var wy,HE;function Xq(){if(HE)return wy;HE=1;var t=rI(),e=500;function n(r){var a=t(r,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return wy=n,wy}var Sy,KE;function Zq(){if(KE)return Sy;KE=1;var t=Xq(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,u,c,d){i.push(c?d.replace(n,"$1"):u||s)}),i});return Sy=r,Sy}var Ty,YE;function Gw(){if(YE)return Ty;YE=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=n(e[r],r,e);return i}return Ty=t,Ty}var Ay,WE;function Jq(){if(WE)return Ay;WE=1;var t=dd(),e=Gw(),n=er(),r=Il(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return e(u,s)+"";if(r(u))return i?i.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return Ay=s,Ay}var Cy,XE;function aI(){if(XE)return Cy;XE=1;var t=Jq();function e(n){return n==null?"":t(n)}return Cy=e,Cy}var Ey,ZE;function iI(){if(ZE)return Ey;ZE=1;var t=er(),e=qw(),n=Zq(),r=aI();function a(i,s){return t(i)?i:e(i,s)?[i]:n(r(i))}return Ey=a,Ey}var ky,JE;function Om(){if(JE)return ky;JE=1;var t=Il();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return ky=e,ky}var Oy,QE;function Hw(){if(QE)return Oy;QE=1;var t=iI(),e=Om();function n(r,a){a=t(a,r);for(var i=0,s=a.length;r!=null&&i<s;)r=r[e(a[i++])];return i&&i==s?r:void 0}return Oy=n,Oy}var My,ek;function oI(){if(ek)return My;ek=1;var t=Hw();function e(n,r,a){var i=n==null?void 0:t(n,r);return i===void 0?a:i}return My=e,My}var Qq=oI();const hr=vt(Qq);var Dy,tk;function eU(){if(tk)return Dy;tk=1;function t(e){return e==null}return Dy=t,Dy}var tU=eU();const lt=vt(tU);var Ny,nk;function nU(){if(nk)return Ny;nk=1;var t=Ga(),e=er(),n=Ha(),r="[object String]";function a(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return Ny=a,Ny}var rU=nU();const Do=vt(rU);var aU=Uw();const Ke=vt(aU);var iU=Ui();const jl=vt(iU);var Py={exports:{}},bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk;function oU(){if(rk)return bt;rk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function A(T){if(typeof T=="object"&&T!==null){var O=T.$$typeof;switch(O){case t:switch(T=T.type,T){case n:case a:case r:case d:case h:return T;default:switch(T=T&&T.$$typeof,T){case u:case s:case c:case y:case p:case i:return T;default:return O}}case e:return O}}}return bt.ContextConsumer=s,bt.ContextProvider=i,bt.Element=t,bt.ForwardRef=c,bt.Fragment=n,bt.Lazy=y,bt.Memo=p,bt.Portal=e,bt.Profiler=a,bt.StrictMode=r,bt.Suspense=d,bt.SuspenseList=h,bt.isAsyncMode=function(){return!1},bt.isConcurrentMode=function(){return!1},bt.isContextConsumer=function(T){return A(T)===s},bt.isContextProvider=function(T){return A(T)===i},bt.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},bt.isForwardRef=function(T){return A(T)===c},bt.isFragment=function(T){return A(T)===n},bt.isLazy=function(T){return A(T)===y},bt.isMemo=function(T){return A(T)===p},bt.isPortal=function(T){return A(T)===e},bt.isProfiler=function(T){return A(T)===a},bt.isStrictMode=function(T){return A(T)===r},bt.isSuspense=function(T){return A(T)===d},bt.isSuspenseList=function(T){return A(T)===h},bt.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===a||T===r||T===d||T===h||T===_||typeof T=="object"&&T!==null&&(T.$$typeof===y||T.$$typeof===p||T.$$typeof===i||T.$$typeof===s||T.$$typeof===c||T.$$typeof===S||T.getModuleId!==void 0)},bt.typeOf=A,bt}var ak;function sU(){return ak||(ak=1,Py.exports=oU()),Py.exports}var lU=sU(),Ry,ik;function sI(){if(ik)return Ry;ik=1;var t=Ga(),e=Ha(),n="[object Number]";function r(a){return typeof a=="number"||e(a)&&t(a)==n}return Ry=r,Ry}var Iy,ok;function uU(){if(ok)return Iy;ok=1;var t=sI();function e(n){return t(n)&&n!=+n}return Iy=e,Iy}var cU=uU();const fd=vt(cU);var dU=sI();const fU=vt(dU);var $n=function(e){return e===0?0:e>0?1:-1},Ao=function(e){return Do(e)&&e.indexOf("%")===e.length-1},Te=function(e){return fU(e)&&!fd(e)},dn=function(e){return Te(e)||Do(e)},hU=0,hd=function(e){var n=++hU;return"".concat(e||"").concat(n)},Ln=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&!Do(e))return r;var i;if(Ao(e)){var s=e.indexOf("%");i=n*parseFloat(e.slice(0,s))/100}else i=+e;return fd(i)&&(i=r),a&&i>n&&(i=n),i},Ni=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},mU=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},a=0;a<n;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1},ki=function(e,n){return Te(e)&&Te(n)?function(r){return e+r*(n-e)}:function(){return n}};function Yx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):hr(r,e))===n})}var pU=function(e,n){return Te(e)&&Te(n)?e-n:Do(e)&&Do(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Js(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Wx(t){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wx(t)}var gU=["viewBox","children"],vU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],sk=["points","pathLength"],jy={svg:gU,polygon:sk,polyline:sk},Kw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!jl(r))return null;var a={};return Object.keys(r).forEach(function(i){Kw.includes(i)&&(a[i]=n||function(s){return r[i](r,s)})}),a},yU=function(e,n,r){return function(a){return e(n,r,a),null}},No=function(e,n,r){if(!jl(e)||Wx(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];Kw.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=yU(s,n,r))}),a},bU=["children"],xU=["children"];function lk(t,e){if(t==null)return{};var n=_U(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _U(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},La=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ck=null,$y=null,Yw=function t(e){if(e===ck&&Array.isArray($y))return $y;var n=[];return j.Children.forEach(e,function(r){lt(r)||(lU.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),$y=n,ck=e,n};function Dr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(a){return La(a)}):r=[La(e)],Yw(t).forEach(function(a){var i=hr(a,"type.displayName")||hr(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function cr(t,e){var n=Dr(t,e);return n&&n[0]}var dk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,a=n.height;return!(!Te(r)||r<=0||!Te(a)||a<=0)},wU=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],SU=function(e){return e&&e.type&&Do(e.type)&&wU.indexOf(e.type)>=0},TU=function(e,n,r,a){var i,s=(i=jy==null?void 0:jy[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Ke(e)&&(a&&s.includes(n)||vU.includes(n))||r&&Kw.includes(n)},He=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(j.isValidElement(e)&&(a=e.props),!jl(a))return null;var i={};return Object.keys(a).forEach(function(s){var u;TU((u=a)===null||u===void 0?void 0:u[s],s,n,r)&&(i[s]=a[s])}),i},Xx=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return fk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=e[a],s=n[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!fk(i,s))return!1}return!0},fk=function(e,n){if(lt(e)&&lt(n))return!0;if(!lt(e)&&!lt(n)){var r=e.props||{},a=r.children,i=lk(r,bU),s=n.props||{},u=s.children,c=lk(s,xU);return a&&u?Js(i,c)&&Xx(a,u):!a&&!u?Js(i,c):!1}return!1},hk=function(e,n){var r=[],a={};return Yw(e).forEach(function(i,s){if(SU(i))r.push(i);else if(i){var u=La(i.type),c=n[u]||{},d=c.handler,h=c.once;if(d&&(!h||!a[u])){var p=d(i,u,s);r.push(p),a[u]=!0}}}),r},AU=function(e){var n=e&&e.type;return n&&uk[n]?uk[n]:null},CU=function(e,n){return Yw(n).indexOf(e)},EU=["children","width","height","viewBox","className","style","title","desc"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zx.apply(this,arguments)}function kU(t,e){if(t==null)return{};var n=OU(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jx(t){var e=t.children,n=t.width,r=t.height,a=t.viewBox,i=t.className,s=t.style,u=t.title,c=t.desc,d=kU(t,EU),h=a||{width:n,height:r,x:0,y:0},p=rt("recharts-surface",i);return Z.createElement("svg",Zx({},He(d,!0,"svg"),{className:p,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Z.createElement("title",null,u),Z.createElement("desc",null,c),e)}var MU=["children","className"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qx.apply(this,arguments)}function DU(t,e){if(t==null)return{};var n=NU(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Tt=Z.forwardRef(function(t,e){var n=t.children,r=t.className,a=DU(t,MU),i=rt("recharts-layer",r);return Z.createElement("g",Qx({className:i},He(a,!0),{ref:e}),n)}),Hr=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]},Ly,mk;function PU(){if(mk)return Ly;mk=1;function t(e,n,r){var a=-1,i=e.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+n];return s}return Ly=t,Ly}var By,pk;function RU(){if(pk)return By;pk=1;var t=PU();function e(n,r,a){var i=n.length;return a=a===void 0?i:a,!r&&a>=i?n:t(n,r,a)}return By=e,By}var qy,gk;function lI(){if(gk)return qy;gk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+a+i+"]");function c(d){return u.test(d)}return qy=c,qy}var Uy,vk;function IU(){if(vk)return Uy;vk=1;function t(e){return e.split("")}return Uy=t,Uy}var Fy,yk;function jU(){if(yk)return Fy;yk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="["+t+"]",u="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+u+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",S=d+"?",A="["+i+"]?",T="(?:"+_+"(?:"+[h,p,y].join("|")+")"+A+S+")*",O=A+S+T,M="(?:"+[h+u+"?",u,p,y,s].join("|")+")",C=RegExp(c+"(?="+c+")|"+M+O,"g");function D(E){return E.match(C)||[]}return Fy=D,Fy}var Vy,bk;function $U(){if(bk)return Vy;bk=1;var t=IU(),e=lI(),n=jU();function r(a){return e(a)?n(a):t(a)}return Vy=r,Vy}var zy,xk;function LU(){if(xk)return zy;xk=1;var t=RU(),e=lI(),n=$U(),r=aI();function a(i){return function(s){s=r(s);var u=e(s)?n(s):void 0,c=u?u[0]:s.charAt(0),d=u?t(u,1).join(""):s.slice(1);return c[i]()+d}}return zy=a,zy}var Gy,_k;function BU(){if(_k)return Gy;_k=1;var t=LU(),e=t("toUpperCase");return Gy=e,Gy}var qU=BU();const Mm=vt(qU);function Bt(t){return function(){return t}}const uI=Math.cos,yh=Math.sin,Xr=Math.sqrt,bh=Math.PI,Dm=2*bh,e_=Math.PI,t_=2*e_,_o=1e-6,UU=t_-_o;function cI(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function FU(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cI;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class VU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cI:FU(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,s){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,u=this._y1,c=r-e,d=a-n,h=s-e,p=u-n,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>_o)if(!(Math.abs(p*c-d*h)>_o)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-s,S=a-u,A=c*c+d*d,T=_*_+S*S,O=Math.sqrt(A),M=Math.sqrt(y),C=i*Math.tan((e_-Math.acos((A+y-T)/(2*O*M)))/2),D=C/M,E=C/O;Math.abs(D-1)>_o&&this._append`L${e+D*h},${n+D*p}`,this._append`A${i},${i},0,0,${+(p*_>h*S)},${this._x1=e+E*c},${this._y1=n+E*d}`}}arc(e,n,r,a,i,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),c=r*Math.sin(a),d=e+u,h=n+c,p=1^s,y=s?a-i:i-a;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>_o||Math.abs(this._y1-h)>_o)&&this._append`L${d},${h}`,r&&(y<0&&(y=y%t_+t_),y>UU?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=d},${this._y1=h}`:y>_o&&this._append`A${r},${r},0,${+(y>=e_)},${p},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Ww(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new VU(e)}function Xw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function dI(t){this._context=t}dI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nm(t){return new dI(t)}function fI(t){return t[0]}function hI(t){return t[1]}function mI(t,e){var n=Bt(!0),r=null,a=Nm,i=null,s=Ww(u);t=typeof t=="function"?t:t===void 0?fI:Bt(t),e=typeof e=="function"?e:e===void 0?hI:Bt(e);function u(c){var d,h=(c=Xw(c)).length,p,y=!1,_;for(r==null&&(i=a(_=s())),d=0;d<=h;++d)!(d<h&&n(p=c[d],d,c))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+t(p,d,c),+e(p,d,c));if(_)return i=null,_+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Bt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Bt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Bt(!!c),u):n},u.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),u):a},u.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),u):r},u}function Yf(t,e,n){var r=null,a=Bt(!0),i=null,s=Nm,u=null,c=Ww(d);t=typeof t=="function"?t:t===void 0?fI:Bt(+t),e=typeof e=="function"?e:Bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?hI:Bt(+n);function d(p){var y,_,S,A=(p=Xw(p)).length,T,O=!1,M,C=new Array(A),D=new Array(A);for(i==null&&(u=s(M=c())),y=0;y<=A;++y){if(!(y<A&&a(T=p[y],y,p))===O)if(O=!O)_=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=_;--S)u.point(C[S],D[S]);u.lineEnd(),u.areaEnd()}O&&(C[y]=+t(T,y,p),D[y]=+e(T,y,p),u.point(r?+r(T,y,p):C[y],n?+n(T,y,p):D[y]))}if(M)return u=null,M+""||null}function h(){return mI().defined(a).curve(s).context(i)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Bt(+p),r=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Bt(+p),d):t},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Bt(+p),d):r},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Bt(+p),n=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Bt(+p),d):e},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Bt(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(p){return arguments.length?(a=typeof p=="function"?p:Bt(!!p),d):a},d.curve=function(p){return arguments.length?(s=p,i!=null&&(u=s(i)),d):s},d.context=function(p){return arguments.length?(p==null?i=u=null:u=s(i=p),d):i},d}class pI{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zU(t){return new pI(t,!0)}function GU(t){return new pI(t,!1)}const Zw={draw(t,e){const n=Xr(e/bh);t.moveTo(n,0),t.arc(0,0,n,0,Dm)}},HU={draw(t,e){const n=Xr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},gI=Xr(1/3),KU=gI*2,YU={draw(t,e){const n=Xr(e/KU),r=n*gI;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},WU={draw(t,e){const n=Xr(e),r=-n/2;t.rect(r,r,n,n)}},XU=.8908130915292852,vI=yh(bh/10)/yh(7*bh/10),ZU=yh(Dm/10)*vI,JU=-uI(Dm/10)*vI,QU={draw(t,e){const n=Xr(e*XU),r=ZU*n,a=JU*n;t.moveTo(0,-n),t.lineTo(r,a);for(let i=1;i<5;++i){const s=Dm*i/5,u=uI(s),c=yh(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*a,c*r+u*a)}t.closePath()}},Hy=Xr(3),e6={draw(t,e){const n=-Xr(e/(Hy*3));t.moveTo(0,n*2),t.lineTo(-Hy*n,-n),t.lineTo(Hy*n,-n),t.closePath()}},Cr=-.5,Er=Xr(3)/2,n_=1/Xr(12),t6=(n_/2+1)*3,n6={draw(t,e){const n=Xr(e/t6),r=n/2,a=n*n_,i=r,s=n*n_+n,u=-i,c=s;t.moveTo(r,a),t.lineTo(i,s),t.lineTo(u,c),t.lineTo(Cr*r-Er*a,Er*r+Cr*a),t.lineTo(Cr*i-Er*s,Er*i+Cr*s),t.lineTo(Cr*u-Er*c,Er*u+Cr*c),t.lineTo(Cr*r+Er*a,Cr*a-Er*r),t.lineTo(Cr*i+Er*s,Cr*s-Er*i),t.lineTo(Cr*u+Er*c,Cr*c-Er*u),t.closePath()}};function r6(t,e){let n=null,r=Ww(a);t=typeof t=="function"?t:Bt(t||Zw),e=typeof e=="function"?e:Bt(e===void 0?64:+e);function a(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Bt(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Bt(+i),a):e},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function xh(){}function _h(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yI(t){this._context=t}yI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_h(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_h(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function a6(t){return new yI(t)}function bI(t){this._context=t}bI.prototype={areaStart:xh,areaEnd:xh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_h(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function i6(t){return new bI(t)}function xI(t){this._context=t}xI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_h(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function o6(t){return new xI(t)}function _I(t){this._context=t}_I.prototype={areaStart:xh,areaEnd:xh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function s6(t){return new _I(t)}function wk(t){return t<0?-1:1}function Sk(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),s=(n-t._y1)/(a||r<0&&-0),u=(i*a+s*r)/(r+a);return(wk(i)+wk(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(u))||0}function Tk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ky(t,e,n){var r=t._x0,a=t._y0,i=t._x1,s=t._y1,u=(i-r)/3;t._context.bezierCurveTo(r+u,a+u*e,i-u,s-u*n,i,s)}function wh(t){this._context=t}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ky(this,this._t0,Tk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ky(this,Tk(this,n=Sk(this,t,e)),n);break;default:Ky(this,this._t0,n=Sk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function wI(t){this._context=new SI(t)}(wI.prototype=Object.create(wh.prototype)).point=function(t,e){wh.prototype.point.call(this,e,t)};function SI(t){this._context=t}SI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};function l6(t){return new wh(t)}function u6(t){return new wI(t)}function TI(t){this._context=t}TI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Ak(t),a=Ak(e),i=0,s=1;s<n;++i,++s)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ak(t){var e,n=t.length-1,r,a=new Array(n),i=new Array(n),s=new Array(n);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,i[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/i[e-1],i[e]-=r,s[e]-=r*s[e-1];for(a[n-1]=s[n-1]/i[n-1],e=n-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function c6(t){return new TI(t)}function Pm(t,e){this._context=t,this._t=e}Pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function d6(t){return new Pm(t,.5)}function f6(t){return new Pm(t,0)}function h6(t){return new Pm(t,1)}function al(t,e){if((s=t.length)>1)for(var n=1,r,a,i=t[e[0]],s,u=i.length;n<s;++n)for(a=i,i=t[e[n]],r=0;r<u;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function r_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function m6(t,e){return t[e]}function p6(t){const e=[];return e.key=t,e}function g6(){var t=Bt([]),e=r_,n=al,r=m6;function a(i){var s=Array.from(t.apply(this,arguments),p6),u,c=s.length,d=-1,h;for(const p of i)for(u=0,++d;u<c;++u)(s[u][d]=[0,+r(p,s[u].key,d,i)]).data=p;for(u=0,h=Xw(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Bt(Array.from(i)),a):t},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Bt(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?r_:typeof i=="function"?i:Bt(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(n=i??al,a):n},a}function v6(t,e){if((r=t.length)>0){for(var n,r,a=0,i=t[0].length,s;a<i;++a){for(s=n=0;n<r;++n)s+=t[n][a][1]||0;if(s)for(n=0;n<r;++n)t[n][a][1]/=s}al(t,e)}}function y6(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,i=r.length;n<i;++n){for(var s=0,u=0;s<a;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}al(t,e)}}function b6(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,i,s;r<i;++r){for(var u=0,c=0,d=0;u<s;++u){for(var h=t[e[u]],p=h[r][1]||0,y=h[r-1][1]||0,_=(p-y)/2,S=0;S<u;++S){var A=t[e[S]],T=A[r][1]||0,O=A[r-1][1]||0;_+=T-O}c+=p,d+=_*p}a[r-1][1]+=a[r-1][0]=n,c&&(n-=d/c)}a[r-1][1]+=a[r-1][0]=n,al(t,e)}}function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}var x6=["type","size","sizeType"];function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a_.apply(this,arguments)}function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){_6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _6(t,e,n){return e=w6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w6(t){var e=S6(t,"string");return Cc(e)=="symbol"?e:e+""}function S6(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T6(t,e){if(t==null)return{};var n=A6(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var AI={symbolCircle:Zw,symbolCross:HU,symbolDiamond:YU,symbolSquare:WU,symbolStar:QU,symbolTriangle:e6,symbolWye:n6},C6=Math.PI/180,E6=function(e){var n="symbol".concat(Mm(e));return AI[n]||Zw},k6=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*C6;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},O6=function(e,n){AI["symbol".concat(Mm(e))]=n},Jw=function(e){var n=e.type,r=n===void 0?"circle":n,a=e.size,i=a===void 0?64:a,s=e.sizeType,u=s===void 0?"area":s,c=T6(e,x6),d=Ek(Ek({},c),{},{type:r,size:i,sizeType:u}),h=function(){var T=E6(r),O=r6().type(T).size(k6(i,u,r));return O()},p=d.className,y=d.cx,_=d.cy,S=He(d,!0);return y===+y&&_===+_&&i===+i?Z.createElement("path",a_({},S,{className:rt("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(_,")"),d:h()})):null};Jw.registerSymbol=O6;function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(this,arguments)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function M6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){Ec(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EI(r.key),r)}}function P6(t,e,n){return e&&N6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R6(t,e,n){return e=Sh(e),I6(t,CI()?Reflect.construct(e,n||[],Sh(t).constructor):e.apply(t,n))}function I6(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j6(t)}function j6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CI=function(){return!!t})()}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sh(t)}function $6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o_(t,e)}function o_(t,e){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},o_(t,e)}function Ec(t,e,n){return e=EI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EI(t){var e=L6(t,"string");return il(e)=="symbol"?e:e+""}function L6(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kr=32,Qw=function(t){function e(){return D6(this,e),R6(this,e,arguments)}return $6(e,t),P6(e,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=kr/2,s=kr/6,u=kr/3,c=r.inactive?a:r.color;if(r.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:kr,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(kr,"M").concat(2*u,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return Z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(kr/8,"h").concat(kr,"v").concat(kr*3/4,"h").concat(-kr,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(r.legendIcon)){var d=M6({},r);return delete d.legendIcon,Z.cloneElement(r.legendIcon,d)}return Z.createElement(Jw,{fill:c,cx:i,cy:i,size:kr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,s=a.iconSize,u=a.layout,c=a.formatter,d=a.inactiveColor,h={x:0,y:0,width:kr,height:kr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(_,S){var A=_.formatter||c,T=rt(Ec(Ec({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",_.inactive));if(_.type==="none")return null;var O=Ke(_.value)?null:_.value;Hr(!Ke(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var M=_.inactive?d:_.color;return Z.createElement("li",i_({className:T,style:p,key:"legend-item-".concat(S)},No(r.props,_,S)),Z.createElement(Jx,{width:s,height:s,viewBox:h,style:y},r.renderIcon(_)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:M}},A?A(O,_,S):O))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,s=r.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(j.PureComponent);Ec(Qw,"displayName","Legend");Ec(Qw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Yy,Ok;function B6(){if(Ok)return Yy;Ok=1;var t=Em();function e(){this.__data__=new t,this.size=0}return Yy=e,Yy}var Wy,Mk;function q6(){if(Mk)return Wy;Mk=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Wy=t,Wy}var Xy,Dk;function U6(){if(Dk)return Xy;Dk=1;function t(e){return this.__data__.get(e)}return Xy=t,Xy}var Zy,Nk;function F6(){if(Nk)return Zy;Nk=1;function t(e){return this.__data__.has(e)}return Zy=t,Zy}var Jy,Pk;function V6(){if(Pk)return Jy;Pk=1;var t=Em(),e=Vw(),n=zw(),r=200;function a(i,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<r-1)return c.push([i,s]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(i,s),this.size=u.size,this}return Jy=a,Jy}var Qy,Rk;function kI(){if(Rk)return Qy;Rk=1;var t=Em(),e=B6(),n=q6(),r=U6(),a=F6(),i=V6();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,Qy=s,Qy}var e0,Ik;function z6(){if(Ik)return e0;Ik=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return e0=e,e0}var t0,jk;function G6(){if(jk)return t0;jk=1;function t(e){return this.__data__.has(e)}return t0=t,t0}var n0,$k;function OI(){if($k)return n0;$k=1;var t=zw(),e=z6(),n=G6();function r(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,n0=r,n0}var r0,Lk;function MI(){if(Lk)return r0;Lk=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(e[r],r,e))return!0;return!1}return r0=t,r0}var a0,Bk;function DI(){if(Bk)return a0;Bk=1;function t(e,n){return e.has(n)}return a0=t,a0}var i0,qk;function NI(){if(qk)return i0;qk=1;var t=OI(),e=MI(),n=DI(),r=1,a=2;function i(s,u,c,d,h,p){var y=c&r,_=s.length,S=u.length;if(_!=S&&!(y&&S>_))return!1;var A=p.get(s),T=p.get(u);if(A&&T)return A==u&&T==s;var O=-1,M=!0,C=c&a?new t:void 0;for(p.set(s,u),p.set(u,s);++O<_;){var D=s[O],E=u[O];if(d)var k=y?d(E,D,O,u,s,p):d(D,E,O,s,u,p);if(k!==void 0){if(k)continue;M=!1;break}if(C){if(!e(u,function(P,I){if(!n(C,I)&&(D===P||h(D,P,c,d,p)))return C.push(I)})){M=!1;break}}else if(!(D===E||h(D,E,c,d,p))){M=!1;break}}return p.delete(s),p.delete(u),M}return i0=i,i0}var o0,Uk;function H6(){if(Uk)return o0;Uk=1;var t=fa(),e=t.Uint8Array;return o0=e,o0}var s0,Fk;function K6(){if(Fk)return s0;Fk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a,i){r[++n]=[i,a]}),r}return s0=t,s0}var l0,Vk;function eS(){if(Vk)return l0;Vk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a){r[++n]=a}),r}return l0=t,l0}var u0,zk;function Y6(){if(zk)return u0;zk=1;var t=dd(),e=H6(),n=Fw(),r=NI(),a=K6(),i=eS(),s=1,u=2,c="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Map]",y="[object Number]",_="[object RegExp]",S="[object Set]",A="[object String]",T="[object Symbol]",O="[object ArrayBuffer]",M="[object DataView]",C=t?t.prototype:void 0,D=C?C.valueOf:void 0;function E(k,P,I,F,z,B,W){switch(I){case M:if(k.byteLength!=P.byteLength||k.byteOffset!=P.byteOffset)return!1;k=k.buffer,P=P.buffer;case O:return!(k.byteLength!=P.byteLength||!B(new e(k),new e(P)));case c:case d:case y:return n(+k,+P);case h:return k.name==P.name&&k.message==P.message;case _:case A:return k==P+"";case p:var Q=a;case S:var Y=F&s;if(Q||(Q=i),k.size!=P.size&&!Y)return!1;var q=W.get(k);if(q)return q==P;F|=u,W.set(k,P);var $=r(Q(k),Q(P),F,z,B,W);return W.delete(k),$;case T:if(D)return D.call(k)==D.call(P)}return!1}return u0=E,u0}var c0,Gk;function PI(){if(Gk)return c0;Gk=1;function t(e,n){for(var r=-1,a=n.length,i=e.length;++r<a;)e[i+r]=n[r];return e}return c0=t,c0}var d0,Hk;function W6(){if(Hk)return d0;Hk=1;var t=PI(),e=er();function n(r,a,i){var s=a(r);return e(r)?s:t(s,i(r))}return d0=n,d0}var f0,Kk;function X6(){if(Kk)return f0;Kk=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=0,s=[];++r<a;){var u=e[r];n(u,r,e)&&(s[i++]=u)}return s}return f0=t,f0}var h0,Yk;function Z6(){if(Yk)return h0;Yk=1;function t(){return[]}return h0=t,h0}var m0,Wk;function J6(){if(Wk)return m0;Wk=1;var t=X6(),e=Z6(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(u){return r.call(s,u)}))}:e;return m0=i,m0}var p0,Xk;function Q6(){if(Xk)return p0;Xk=1;function t(e,n){for(var r=-1,a=Array(e);++r<e;)a[r]=n(r);return a}return p0=t,p0}var g0,Zk;function e8(){if(Zk)return g0;Zk=1;var t=Ga(),e=Ha(),n="[object Arguments]";function r(a){return e(a)&&t(a)==n}return g0=r,g0}var v0,Jk;function tS(){if(Jk)return v0;Jk=1;var t=e8(),e=Ha(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!a.call(s,"callee")};return v0=i,v0}var cc={exports:{}},y0,Qk;function t8(){if(Qk)return y0;Qk=1;function t(){return!1}return y0=t,y0}cc.exports;var eO;function RI(){return eO||(eO=1,function(t,e){var n=fa(),r=t8(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,u=s?n.Buffer:void 0,c=u?u.isBuffer:void 0,d=c||r;t.exports=d}(cc,cc.exports)),cc.exports}var b0,tO;function nS(){if(tO)return b0;tO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<a}return b0=n,b0}var x0,nO;function rS(){if(nO)return x0;nO=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return x0=e,x0}var _0,rO;function n8(){if(rO)return _0;rO=1;var t=Ga(),e=rS(),n=Ha(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",d="[object Map]",h="[object Number]",p="[object Object]",y="[object RegExp]",_="[object Set]",S="[object String]",A="[object WeakMap]",T="[object ArrayBuffer]",O="[object DataView]",M="[object Float32Array]",C="[object Float64Array]",D="[object Int8Array]",E="[object Int16Array]",k="[object Int32Array]",P="[object Uint8Array]",I="[object Uint8ClampedArray]",F="[object Uint16Array]",z="[object Uint32Array]",B={};B[M]=B[C]=B[D]=B[E]=B[k]=B[P]=B[I]=B[F]=B[z]=!0,B[r]=B[a]=B[T]=B[i]=B[O]=B[s]=B[u]=B[c]=B[d]=B[h]=B[p]=B[y]=B[_]=B[S]=B[A]=!1;function W(Q){return n(Q)&&e(Q.length)&&!!B[t(Q)]}return _0=W,_0}var w0,aO;function II(){if(aO)return w0;aO=1;function t(e){return function(n){return e(n)}}return w0=t,w0}var dc={exports:{}};dc.exports;var iO;function r8(){return iO||(iO=1,function(t,e){var n=tI(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,s=i&&n.process,u=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=u}(dc,dc.exports)),dc.exports}var S0,oO;function jI(){if(oO)return S0;oO=1;var t=n8(),e=II(),n=r8(),r=n&&n.isTypedArray,a=r?e(r):t;return S0=a,S0}var T0,sO;function a8(){if(sO)return T0;sO=1;var t=Q6(),e=tS(),n=er(),r=RI(),a=nS(),i=jI(),s=Object.prototype,u=s.hasOwnProperty;function c(d,h){var p=n(d),y=!p&&e(d),_=!p&&!y&&r(d),S=!p&&!y&&!_&&i(d),A=p||y||_||S,T=A?t(d.length,String):[],O=T.length;for(var M in d)(h||u.call(d,M))&&!(A&&(M=="length"||_&&(M=="offset"||M=="parent")||S&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||a(M,O)))&&T.push(M);return T}return T0=c,T0}var A0,lO;function i8(){if(lO)return A0;lO=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return A0=e,A0}var C0,uO;function $I(){if(uO)return C0;uO=1;function t(e,n){return function(r){return e(n(r))}}return C0=t,C0}var E0,cO;function o8(){if(cO)return E0;cO=1;var t=$I(),e=t(Object.keys,Object);return E0=e,E0}var k0,dO;function s8(){if(dO)return k0;dO=1;var t=i8(),e=o8(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var u in Object(i))r.call(i,u)&&u!="constructor"&&s.push(u);return s}return k0=a,k0}var O0,fO;function md(){if(fO)return O0;fO=1;var t=Uw(),e=rS();function n(r){return r!=null&&e(r.length)&&!t(r)}return O0=n,O0}var M0,hO;function Rm(){if(hO)return M0;hO=1;var t=a8(),e=s8(),n=md();function r(a){return n(a)?t(a):e(a)}return M0=r,M0}var D0,mO;function l8(){if(mO)return D0;mO=1;var t=W6(),e=J6(),n=Rm();function r(a){return t(a,n,e)}return D0=r,D0}var N0,pO;function u8(){if(pO)return N0;pO=1;var t=l8(),e=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,s,u,c,d,h){var p=u&e,y=t(i),_=y.length,S=t(s),A=S.length;if(_!=A&&!p)return!1;for(var T=_;T--;){var O=y[T];if(!(p?O in s:r.call(s,O)))return!1}var M=h.get(i),C=h.get(s);if(M&&C)return M==s&&C==i;var D=!0;h.set(i,s),h.set(s,i);for(var E=p;++T<_;){O=y[T];var k=i[O],P=s[O];if(c)var I=p?c(P,k,O,s,i,h):c(k,P,O,i,s,h);if(!(I===void 0?k===P||d(k,P,u,c,h):I)){D=!1;break}E||(E=O=="constructor")}if(D&&!E){var F=i.constructor,z=s.constructor;F!=z&&"constructor"in i&&"constructor"in s&&!(typeof F=="function"&&F instanceof F&&typeof z=="function"&&z instanceof z)&&(D=!1)}return h.delete(i),h.delete(s),D}return N0=a,N0}var P0,gO;function c8(){if(gO)return P0;gO=1;var t=Uo(),e=fa(),n=t(e,"DataView");return P0=n,P0}var R0,vO;function d8(){if(vO)return R0;vO=1;var t=Uo(),e=fa(),n=t(e,"Promise");return R0=n,R0}var I0,yO;function LI(){if(yO)return I0;yO=1;var t=Uo(),e=fa(),n=t(e,"Set");return I0=n,I0}var j0,bO;function f8(){if(bO)return j0;bO=1;var t=Uo(),e=fa(),n=t(e,"WeakMap");return j0=n,j0}var $0,xO;function h8(){if(xO)return $0;xO=1;var t=c8(),e=Vw(),n=d8(),r=LI(),a=f8(),i=Ga(),s=nI(),u="[object Map]",c="[object Object]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",y="[object DataView]",_=s(t),S=s(e),A=s(n),T=s(r),O=s(a),M=i;return(t&&M(new t(new ArrayBuffer(1)))!=y||e&&M(new e)!=u||n&&M(n.resolve())!=d||r&&M(new r)!=h||a&&M(new a)!=p)&&(M=function(C){var D=i(C),E=D==c?C.constructor:void 0,k=E?s(E):"";if(k)switch(k){case _:return y;case S:return u;case A:return d;case T:return h;case O:return p}return D}),$0=M,$0}var L0,_O;function m8(){if(_O)return L0;_O=1;var t=kI(),e=NI(),n=Y6(),r=u8(),a=h8(),i=er(),s=RI(),u=jI(),c=1,d="[object Arguments]",h="[object Array]",p="[object Object]",y=Object.prototype,_=y.hasOwnProperty;function S(A,T,O,M,C,D){var E=i(A),k=i(T),P=E?h:a(A),I=k?h:a(T);P=P==d?p:P,I=I==d?p:I;var F=P==p,z=I==p,B=P==I;if(B&&s(A)){if(!s(T))return!1;E=!0,F=!1}if(B&&!F)return D||(D=new t),E||u(A)?e(A,T,O,M,C,D):n(A,T,P,O,M,C,D);if(!(O&c)){var W=F&&_.call(A,"__wrapped__"),Q=z&&_.call(T,"__wrapped__");if(W||Q){var Y=W?A.value():A,q=Q?T.value():T;return D||(D=new t),C(Y,q,O,M,D)}}return B?(D||(D=new t),r(A,T,O,M,C,D)):!1}return L0=S,L0}var B0,wO;function aS(){if(wO)return B0;wO=1;var t=m8(),e=Ha();function n(r,a,i,s,u){return r===a?!0:r==null||a==null||!e(r)&&!e(a)?r!==r&&a!==a:t(r,a,i,s,n,u)}return B0=n,B0}var q0,SO;function p8(){if(SO)return q0;SO=1;var t=kI(),e=aS(),n=1,r=2;function a(i,s,u,c){var d=u.length,h=d,p=!c;if(i==null)return!h;for(i=Object(i);d--;){var y=u[d];if(p&&y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++d<h;){y=u[d];var _=y[0],S=i[_],A=y[1];if(p&&y[2]){if(S===void 0&&!(_ in i))return!1}else{var T=new t;if(c)var O=c(S,A,_,i,s,T);if(!(O===void 0?e(A,S,n|r,c,T):O))return!1}}return!0}return q0=a,q0}var U0,TO;function BI(){if(TO)return U0;TO=1;var t=Ui();function e(n){return n===n&&!t(n)}return U0=e,U0}var F0,AO;function g8(){if(AO)return F0;AO=1;var t=BI(),e=Rm();function n(r){for(var a=e(r),i=a.length;i--;){var s=a[i],u=r[s];a[i]=[s,u,t(u)]}return a}return F0=n,F0}var V0,CO;function qI(){if(CO)return V0;CO=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return V0=t,V0}var z0,EO;function v8(){if(EO)return z0;EO=1;var t=p8(),e=g8(),n=qI();function r(a){var i=e(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return z0=r,z0}var G0,kO;function y8(){if(kO)return G0;kO=1;function t(e,n){return e!=null&&n in Object(e)}return G0=t,G0}var H0,OO;function b8(){if(OO)return H0;OO=1;var t=iI(),e=tS(),n=er(),r=nS(),a=rS(),i=Om();function s(u,c,d){c=t(c,u);for(var h=-1,p=c.length,y=!1;++h<p;){var _=i(c[h]);if(!(y=u!=null&&d(u,_)))break;u=u[_]}return y||++h!=p?y:(p=u==null?0:u.length,!!p&&a(p)&&r(_,p)&&(n(u)||e(u)))}return H0=s,H0}var K0,MO;function x8(){if(MO)return K0;MO=1;var t=y8(),e=b8();function n(r,a){return r!=null&&e(r,a,t)}return K0=n,K0}var Y0,DO;function _8(){if(DO)return Y0;DO=1;var t=aS(),e=oI(),n=x8(),r=qw(),a=BI(),i=qI(),s=Om(),u=1,c=2;function d(h,p){return r(h)&&a(p)?i(s(h),p):function(y){var _=e(y,h);return _===void 0&&_===p?n(y,h):t(p,_,u|c)}}return Y0=d,Y0}var W0,NO;function $l(){if(NO)return W0;NO=1;function t(e){return e}return W0=t,W0}var X0,PO;function w8(){if(PO)return X0;PO=1;function t(e){return function(n){return n==null?void 0:n[e]}}return X0=t,X0}var Z0,RO;function S8(){if(RO)return Z0;RO=1;var t=Hw();function e(n){return function(r){return t(r,n)}}return Z0=e,Z0}var J0,IO;function T8(){if(IO)return J0;IO=1;var t=w8(),e=S8(),n=qw(),r=Om();function a(i){return n(i)?t(r(i)):e(i)}return J0=a,J0}var Q0,jO;function ha(){if(jO)return Q0;jO=1;var t=v8(),e=_8(),n=$l(),r=er(),a=T8();function i(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):a(s)}return Q0=i,Q0}var eb,$O;function UI(){if($O)return eb;$O=1;function t(e,n,r,a){for(var i=e.length,s=r+(a?1:-1);a?s--:++s<i;)if(n(e[s],s,e))return s;return-1}return eb=t,eb}var tb,LO;function A8(){if(LO)return tb;LO=1;function t(e){return e!==e}return tb=t,tb}var nb,BO;function C8(){if(BO)return nb;BO=1;function t(e,n,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}return nb=t,nb}var rb,qO;function E8(){if(qO)return rb;qO=1;var t=UI(),e=A8(),n=C8();function r(a,i,s){return i===i?n(a,i,s):t(a,e,s)}return rb=r,rb}var ab,UO;function k8(){if(UO)return ab;UO=1;var t=E8();function e(n,r){var a=n==null?0:n.length;return!!a&&t(n,r,0)>-1}return ab=e,ab}var ib,FO;function O8(){if(FO)return ib;FO=1;function t(e,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(n,e[a]))return!0;return!1}return ib=t,ib}var ob,VO;function M8(){if(VO)return ob;VO=1;function t(){}return ob=t,ob}var sb,zO;function D8(){if(zO)return sb;zO=1;var t=LI(),e=M8(),n=eS(),r=1/0,a=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return sb=a,sb}var lb,GO;function N8(){if(GO)return lb;GO=1;var t=OI(),e=k8(),n=O8(),r=DI(),a=D8(),i=eS(),s=200;function u(c,d,h){var p=-1,y=e,_=c.length,S=!0,A=[],T=A;if(h)S=!1,y=n;else if(_>=s){var O=d?null:a(c);if(O)return i(O);S=!1,y=r,T=new t}else T=d?[]:A;e:for(;++p<_;){var M=c[p],C=d?d(M):M;if(M=h||M!==0?M:0,S&&C===C){for(var D=T.length;D--;)if(T[D]===C)continue e;d&&T.push(C),A.push(M)}else y(T,C,h)||(T!==A&&T.push(C),A.push(M))}return A}return lb=u,lb}var ub,HO;function P8(){if(HO)return ub;HO=1;var t=ha(),e=N8();function n(r,a){return r&&r.length?e(r,t(a,2)):[]}return ub=n,ub}var R8=P8();const KO=vt(R8);function FI(t,e,n){return e===!0?KO(t,n):Ke(e)?KO(t,e):t}function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}var I8=["ref"];function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){Im(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zI(r.key),r)}}function $8(t,e,n){return e&&WO(t.prototype,e),n&&WO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function L8(t,e,n){return e=Th(e),B8(t,VI()?Reflect.construct(e,n||[],Th(t).constructor):e.apply(t,n))}function B8(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q8(t)}function q8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VI=function(){return!!t})()}function Th(t){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Th(t)}function U8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s_(t,e)}function s_(t,e){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},s_(t,e)}function Im(t,e,n){return e=zI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zI(t){var e=F8(t,"string");return ol(e)=="symbol"?e:e+""}function F8(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function V8(t,e){if(t==null)return{};var n=z8(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G8(t){return t.value}function H8(t,e){if(Z.isValidElement(t))return Z.cloneElement(t,e);if(typeof t=="function")return Z.createElement(t,e);e.ref;var n=V8(e,I8);return Z.createElement(Qw,n)}var XO=1,Ri=function(t){function e(){var n;j8(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=L8(this,e,[].concat(a)),Im(n,"lastBoundingBox",{width:-1,height:-1}),n}return U8(e,t),$8(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>XO||Math.abs(a.height-this.lastBoundingBox.height)>XO)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Da({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,s=a.align,u=a.verticalAlign,c=a.margin,d=a.chartWidth,h=a.chartHeight,p,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&i==="vertical"){var _=this.getBBoxSnapshot();p={left:((d||0)-_.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();y={top:((h||0)-S.height)/2}}else y=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Da(Da({},p),y)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,s=a.width,u=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,h=a.payload,p=Da(Da({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return Z.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(_){r.wrapperNode=_}},H8(i,Da(Da({},this.props),{},{payload:FI(h,d,G8)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Da(Da({},this.defaultProps),r.props),s=i.layout;return s==="vertical"&&Te(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||a}:null}}])}(j.PureComponent);Im(Ri,"displayName","Legend");Im(Ri,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cb,ZO;function K8(){if(ZO)return cb;ZO=1;var t=dd(),e=tS(),n=er(),r=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||e(i)||!!(r&&i&&i[r])}return cb=a,cb}var db,JO;function GI(){if(JO)return db;JO=1;var t=PI(),e=K8();function n(r,a,i,s,u){var c=-1,d=r.length;for(i||(i=e),u||(u=[]);++c<d;){var h=r[c];a>0&&i(h)?a>1?n(h,a-1,i,s,u):t(u,h):s||(u[u.length]=h)}return u}return db=n,db}var fb,QO;function Y8(){if(QO)return fb;QO=1;function t(e){return function(n,r,a){for(var i=-1,s=Object(n),u=a(n),c=u.length;c--;){var d=u[e?c:++i];if(r(s[d],d,s)===!1)break}return n}}return fb=t,fb}var hb,eM;function W8(){if(eM)return hb;eM=1;var t=Y8(),e=t();return hb=e,hb}var mb,tM;function HI(){if(tM)return mb;tM=1;var t=W8(),e=Rm();function n(r,a){return r&&t(r,a,e)}return mb=n,mb}var pb,nM;function X8(){if(nM)return pb;nM=1;var t=md();function e(n,r){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var s=a.length,u=r?s:-1,c=Object(a);(r?u--:++u<s)&&i(c[u],u,c)!==!1;);return a}}return pb=e,pb}var gb,rM;function iS(){if(rM)return gb;rM=1;var t=HI(),e=X8(),n=e(t);return gb=n,gb}var vb,aM;function KI(){if(aM)return vb;aM=1;var t=iS(),e=md();function n(r,a){var i=-1,s=e(r)?Array(r.length):[];return t(r,function(u,c,d){s[++i]=a(u,c,d)}),s}return vb=n,vb}var yb,iM;function Z8(){if(iM)return yb;iM=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return yb=t,yb}var bb,oM;function J8(){if(oM)return bb;oM=1;var t=Il();function e(n,r){if(n!==r){var a=n!==void 0,i=n===null,s=n===n,u=t(n),c=r!==void 0,d=r===null,h=r===r,p=t(r);if(!d&&!p&&!u&&n>r||u&&c&&h&&!d&&!p||i&&c&&h||!a&&h||!s)return 1;if(!i&&!u&&!p&&n<r||p&&a&&s&&!i&&!u||d&&a&&s||!c&&s||!h)return-1}return 0}return bb=e,bb}var xb,sM;function Q8(){if(sM)return xb;sM=1;var t=J8();function e(n,r,a){for(var i=-1,s=n.criteria,u=r.criteria,c=s.length,d=a.length;++i<c;){var h=t(s[i],u[i]);if(h){if(i>=d)return h;var p=a[i];return h*(p=="desc"?-1:1)}}return n.index-r.index}return xb=e,xb}var _b,lM;function eF(){if(lM)return _b;lM=1;var t=Gw(),e=Hw(),n=ha(),r=KI(),a=Z8(),i=II(),s=Q8(),u=$l(),c=er();function d(h,p,y){p.length?p=t(p,function(A){return c(A)?function(T){return e(T,A.length===1?A[0]:A)}:A}):p=[u];var _=-1;p=t(p,i(n));var S=r(h,function(A,T,O){var M=t(p,function(C){return C(A)});return{criteria:M,index:++_,value:A}});return a(S,function(A,T){return s(A,T,y)})}return _b=d,_b}var wb,uM;function tF(){if(uM)return wb;uM=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return wb=t,wb}var Sb,cM;function nF(){if(cM)return Sb;cM=1;var t=tF(),e=Math.max;function n(r,a,i){return a=e(a===void 0?r.length-1:a,0),function(){for(var s=arguments,u=-1,c=e(s.length-a,0),d=Array(c);++u<c;)d[u]=s[a+u];u=-1;for(var h=Array(a+1);++u<a;)h[u]=s[u];return h[a]=i(d),t(r,this,h)}}return Sb=n,Sb}var Tb,dM;function rF(){if(dM)return Tb;dM=1;function t(e){return function(){return e}}return Tb=t,Tb}var Ab,fM;function YI(){if(fM)return Ab;fM=1;var t=Uo(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Ab=e,Ab}var Cb,hM;function aF(){if(hM)return Cb;hM=1;var t=rF(),e=YI(),n=$l(),r=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return Cb=r,Cb}var Eb,mM;function iF(){if(mM)return Eb;mM=1;var t=800,e=16,n=Date.now;function r(a){var i=0,s=0;return function(){var u=n(),c=e-(u-s);if(s=u,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Eb=r,Eb}var kb,pM;function oF(){if(pM)return kb;pM=1;var t=aF(),e=iF(),n=e(t);return kb=n,kb}var Ob,gM;function sF(){if(gM)return Ob;gM=1;var t=$l(),e=nF(),n=oF();function r(a,i){return n(e(a,i,t),a+"")}return Ob=r,Ob}var Mb,vM;function jm(){if(vM)return Mb;vM=1;var t=Fw(),e=md(),n=nS(),r=Ui();function a(i,s,u){if(!r(u))return!1;var c=typeof s;return(c=="number"?e(u)&&n(s,u.length):c=="string"&&s in u)?t(u[s],i):!1}return Mb=a,Mb}var Db,yM;function lF(){if(yM)return Db;yM=1;var t=GI(),e=eF(),n=sF(),r=jm(),a=n(function(i,s){if(i==null)return[];var u=s.length;return u>1&&r(i,s[0],s[1])?s=[]:u>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return Db=a,Db}var uF=lF();const oS=vt(uF);function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l_.apply(this,arguments)}function cF(t,e){return mF(t)||hF(t,e)||fF(t,e)||dF()}function dF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fF(t,e){if(t){if(typeof t=="string")return bM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bM(t,e)}}function bM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hF(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw a}}return u}}function mF(t){if(Array.isArray(t))return t}function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(n),!0).forEach(function(r){pF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pF(t,e,n){return e=gF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gF(t){var e=vF(t,"string");return kc(e)=="symbol"?e:e+""}function vF(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yF(t){return Array.isArray(t)&&dn(t[0])&&dn(t[1])?t.join(" ~ "):t}var bF=function(e){var n=e.separator,r=n===void 0?" : ":n,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,d=c===void 0?{}:c,h=e.payload,p=e.formatter,y=e.itemSorter,_=e.wrapperClassName,S=e.labelClassName,A=e.label,T=e.labelFormatter,O=e.accessibilityLayer,M=O===void 0?!1:O,C=function(){if(h&&h.length){var W={padding:0,margin:0},Q=(y?oS(h,y):h).map(function(Y,q){if(Y.type==="none")return null;var $=Nb({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},u),V=Y.formatter||p||yF,J=Y.value,oe=Y.name,U=J,K=oe;if(V&&U!=null&&K!=null){var ae=V(J,oe,Y,q,h);if(Array.isArray(ae)){var ce=cF(ae,2);U=ce[0],K=ce[1]}else U=ae}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:$},dn(K)?Z.createElement("span",{className:"recharts-tooltip-item-name"},K):null,dn(K)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},U),Z.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:W},Q)}return null},D=Nb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=Nb({margin:0},d),k=!lt(A),P=k?A:"",I=rt("recharts-default-tooltip",_),F=rt("recharts-tooltip-label",S);k&&T&&h!==void 0&&h!==null&&(P=T(A,h));var z=M?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",l_({className:I,style:D},z),Z.createElement("p",{className:F,style:E},Z.isValidElement(P)?P:"".concat(P)),C())};function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function Wf(t,e,n){return e=xF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xF(t){var e=_F(t,"string");return Oc(e)=="symbol"?e:e+""}function _F(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qu="recharts-tooltip-wrapper",wF={visibility:"hidden"};function SF(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return rt(Qu,Wf(Wf(Wf(Wf({},"".concat(Qu,"-right"),Te(n)&&e&&Te(e.x)&&n>=e.x),"".concat(Qu,"-left"),Te(n)&&e&&Te(e.x)&&n<e.x),"".concat(Qu,"-bottom"),Te(r)&&e&&Te(e.y)&&r>=e.y),"".concat(Qu,"-top"),Te(r)&&e&&Te(e.y)&&r<e.y))}function _M(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&Te(i[r]))return i[r];var h=n[r]-u-a,p=n[r]+a;if(e[r])return s[r]?h:p;if(s[r]){var y=h,_=c[r];return y<_?Math.max(p,c[r]):Math.max(h,c[r])}var S=p+u,A=c[r]+d;return S>A?Math.max(h,c[r]):Math.max(p,c[r])}function TF(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function AF(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,d,h,p;return s.height>0&&s.width>0&&n?(h=_M({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=_M({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=TF({translateX:h,translateY:p,useTranslate3d:u})):d=wF,{cssProperties:d,cssClasses:SF({translateX:h,translateY:p,coordinate:n})}}function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function SM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){c_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XI(r.key),r)}}function kF(t,e,n){return e&&EF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OF(t,e,n){return e=Ah(e),MF(t,WI()?Reflect.construct(e,n||[],Ah(t).constructor):e.apply(t,n))}function MF(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DF(t)}function DF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WI=function(){return!!t})()}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ah(t)}function NF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u_(t,e)}function u_(t,e){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},u_(t,e)}function c_(t,e,n){return e=XI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XI(t){var e=PF(t,"string");return sl(e)=="symbol"?e:e+""}function PF(t,e){if(sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TM=1,RF=function(t){function e(){var n;CF(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=OF(this,e,[].concat(a)),c_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),c_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,d,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(d=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),n}return NF(e,t),kF(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>TM||Math.abs(r.height-this.state.lastBoundingBox.height)>TM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,u=a.animationDuration,c=a.animationEasing,d=a.children,h=a.coordinate,p=a.hasPayload,y=a.isAnimationActive,_=a.offset,S=a.position,A=a.reverseDirection,T=a.useTranslate3d,O=a.viewBox,M=a.wrapperStyle,C=AF({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:_,position:S,reverseDirection:A,tooltipBox:this.state.lastBoundingBox,useTranslate3d:T,viewBox:O}),D=C.cssClasses,E=C.cssProperties,k=SM(SM({transition:y&&i?"transform ".concat(u,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&p?"visible":"hidden",position:"absolute",top:0,left:0},M);return Z.createElement("div",{tabIndex:-1,className:D,style:k,ref:function(I){r.wrapperNode=I}},d)}}])}(j.PureComponent),IF=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ll={isSsr:IF()};function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function CM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(n),!0).forEach(function(r){sS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JI(r.key),r)}}function LF(t,e,n){return e&&$F(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BF(t,e,n){return e=Ch(e),qF(t,ZI()?Reflect.construct(e,n||[],Ch(t).constructor):e.apply(t,n))}function qF(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UF(t)}function UF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZI=function(){return!!t})()}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ch(t)}function FF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},d_(t,e)}function sS(t,e,n){return e=JI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JI(t){var e=VF(t,"string");return ll(e)=="symbol"?e:e+""}function VF(t,e){if(ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zF(t){return t.dataKey}function GF(t,e){return Z.isValidElement(t)?Z.cloneElement(t,e):typeof t=="function"?Z.createElement(t,e):Z.createElement(bF,e)}var Vr=function(t){function e(){return jF(this,e),BF(this,e,arguments)}return FF(e,t),LF(e,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,u=a.animationDuration,c=a.animationEasing,d=a.content,h=a.coordinate,p=a.filterNull,y=a.isAnimationActive,_=a.offset,S=a.payload,A=a.payloadUniqBy,T=a.position,O=a.reverseDirection,M=a.useTranslate3d,C=a.viewBox,D=a.wrapperStyle,E=S??[];p&&E.length&&(E=FI(S.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),A,zF));var k=E.length>0;return Z.createElement(RF,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:y,active:i,coordinate:h,hasPayload:k,offset:_,position:T,reverseDirection:O,useTranslate3d:M,viewBox:C,wrapperStyle:D},GF(d,CM(CM({},this.props),{},{payload:E})))}}])}(j.PureComponent);sS(Vr,"displayName","Tooltip");sS(Vr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ll.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Pb,EM;function HF(){if(EM)return Pb;EM=1;var t=fa(),e=function(){return t.Date.now()};return Pb=e,Pb}var Rb,kM;function KF(){if(kM)return Rb;kM=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Rb=e,Rb}var Ib,OM;function YF(){if(OM)return Ib;OM=1;var t=KF(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Ib=n,Ib}var jb,MM;function QI(){if(MM)return jb;MM=1;var t=YF(),e=Ui(),n=Il(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=e(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=t(d);var p=i.test(d);return p||s.test(d)?u(d.slice(2),p?2:8):a.test(d)?r:+d}return jb=c,jb}var $b,DM;function WF(){if(DM)return $b;DM=1;var t=Ui(),e=HF(),n=QI(),r="Expected a function",a=Math.max,i=Math.min;function s(u,c,d){var h,p,y,_,S,A,T=0,O=!1,M=!1,C=!0;if(typeof u!="function")throw new TypeError(r);c=n(c)||0,t(d)&&(O=!!d.leading,M="maxWait"in d,y=M?a(n(d.maxWait)||0,c):y,C="trailing"in d?!!d.trailing:C);function D(Q){var Y=h,q=p;return h=p=void 0,T=Q,_=u.apply(q,Y),_}function E(Q){return T=Q,S=setTimeout(I,c),O?D(Q):_}function k(Q){var Y=Q-A,q=Q-T,$=c-Y;return M?i($,y-q):$}function P(Q){var Y=Q-A,q=Q-T;return A===void 0||Y>=c||Y<0||M&&q>=y}function I(){var Q=e();if(P(Q))return F(Q);S=setTimeout(I,k(Q))}function F(Q){return S=void 0,C&&h?D(Q):(h=p=void 0,_)}function z(){S!==void 0&&clearTimeout(S),T=0,h=A=p=S=void 0}function B(){return S===void 0?_:F(e())}function W(){var Q=e(),Y=P(Q);if(h=arguments,p=this,A=Q,Y){if(S===void 0)return E(A);if(M)return clearTimeout(S),S=setTimeout(I,c),D(A)}return S===void 0&&(S=setTimeout(I,c)),_}return W.cancel=z,W.flush=B,W}return $b=s,$b}var Lb,NM;function XF(){if(NM)return Lb;NM=1;var t=WF(),e=Ui(),n="Expected a function";function r(a,i,s){var u=!0,c=!0;if(typeof a!="function")throw new TypeError(n);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(a,i,{leading:u,maxWait:i,trailing:c})}return Lb=r,Lb}var ZF=XF();const ej=vt(ZF);function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){JF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JF(t,e,n){return e=QF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QF(t){var e=e9(t,"string");return Mc(e)=="symbol"?e:e+""}function e9(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t9(t,e){return i9(t)||a9(t,e)||r9(t,e)||n9()}function n9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9(t,e){if(t){if(typeof t=="string")return RM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RM(t,e)}}function RM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw a}}return u}}function i9(t){if(Array.isArray(t))return t}var tj=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=t.width,s=i===void 0?"100%":i,u=t.height,c=u===void 0?"100%":u,d=t.minWidth,h=d===void 0?0:d,p=t.minHeight,y=t.maxHeight,_=t.children,S=t.debounce,A=S===void 0?0:S,T=t.id,O=t.className,M=t.onResize,C=t.style,D=C===void 0?{}:C,E=j.useRef(null),k=j.useRef();k.current=M,j.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var P=j.useState({containerWidth:a.width,containerHeight:a.height}),I=t9(P,2),F=I[0],z=I[1],B=j.useCallback(function(Q,Y){z(function(q){var $=Math.round(Q),V=Math.round(Y);return q.containerWidth===$&&q.containerHeight===V?q:{containerWidth:$,containerHeight:V}})},[]);j.useEffect(function(){var Q=function(oe){var U,K=oe[0].contentRect,ae=K.width,ce=K.height;B(ae,ce),(U=k.current)===null||U===void 0||U.call(k,ae,ce)};A>0&&(Q=ej(Q,A,{trailing:!0,leading:!1}));var Y=new ResizeObserver(Q),q=E.current.getBoundingClientRect(),$=q.width,V=q.height;return B($,V),Y.observe(E.current),function(){Y.disconnect()}},[B,A]);var W=j.useMemo(function(){var Q=F.containerWidth,Y=F.containerHeight;if(Q<0||Y<0)return null;Hr(Ao(s)||Ao(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Hr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=Ao(s)?Q:s,$=Ao(c)?Y:c;n&&n>0&&(q?$=q/n:$&&(q=$*n),y&&$>y&&($=y)),Hr(q>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,$,s,c,h,p,n);var V=!Array.isArray(_)&&La(_.type).endsWith("Chart");return Z.Children.map(_,function(J){return Z.isValidElement(J)?j.cloneElement(J,Xf({width:q,height:$},V?{style:Xf({height:"100%",width:"100%",maxHeight:$,maxWidth:q},J.props.style)}:{})):J})},[n,_,c,y,p,h,F,s]);return Z.createElement("div",{id:T?"".concat(T):void 0,className:rt("recharts-responsive-container",O),style:Xf(Xf({},D),{},{width:s,height:c,minWidth:h,minHeight:p,maxHeight:y}),ref:E},W)}),$m=function(e){return null};$m.displayName="Cell";function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function f_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){o9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o9(t,e,n){return e=s9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t){var e=l9(t,"string");return Dc(e)=="symbol"?e:e+""}function l9(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bs={widthCache:{},cacheCount:0},u9=2e3,c9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jM="recharts_measurement_span";function d9(t){var e=f_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var yc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ll.isSsr)return{width:0,height:0};var r=d9(n),a=JSON.stringify({text:e,copyStyle:r});if(Bs.widthCache[a])return Bs.widthCache[a];try{var i=document.getElementById(jM);i||(i=document.createElement("span"),i.setAttribute("id",jM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=f_(f_({},c9),r);Object.assign(i.style,s),i.textContent="".concat(e);var u=i.getBoundingClientRect(),c={width:u.width,height:u.height};return Bs.widthCache[a]=c,++Bs.cacheCount>u9&&(Bs.cacheCount=0,Bs.widthCache={}),c}catch{return{width:0,height:0}}},f9=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function Eh(t,e){return g9(t)||p9(t,e)||m9(t,e)||h9()}function h9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m9(t,e){if(t){if(typeof t=="string")return $M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $M(t,e)}}function $M(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw a}}return u}}function g9(t){if(Array.isArray(t))return t}function v9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b9(r.key),r)}}function y9(t,e,n){return e&&LM(t.prototype,e),n&&LM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b9(t){var e=x9(t,"string");return Nc(e)=="symbol"?e:e+""}function x9(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,w9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},S9=Object.keys(nj),Gs="NaN";function T9(t,e){return t*nj[e]}var Zf=function(){function t(e,n){v9(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!_9.test(n)&&(this.num=NaN,this.unit=""),S9.includes(n)&&(this.num=T9(e,n),this.unit="px")}return y9(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=w9.exec(n))!==null&&r!==void 0?r:[],i=Eh(a,3),s=i[1],u=i[2];return new t(parseFloat(s),u??"")}}])}();function rj(t){if(t.includes(Gs))return Gs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=BM.exec(e))!==null&&n!==void 0?n:[],a=Eh(r,4),i=a[1],s=a[2],u=a[3],c=Zf.parse(i??""),d=Zf.parse(u??""),h=s==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return Gs;e=e.replace(BM,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,y=(p=qM.exec(e))!==null&&p!==void 0?p:[],_=Eh(y,4),S=_[1],A=_[2],T=_[3],O=Zf.parse(S??""),M=Zf.parse(T??""),C=A==="+"?O.add(M):O.subtract(M);if(C.isNaN())return Gs;e=e.replace(qM,C.toString())}return e}var UM=/\(([^()]*)\)/;function A9(t){for(var e=t;e.includes("(");){var n=UM.exec(e),r=Eh(n,2),a=r[1];e=e.replace(UM,rj(a))}return e}function C9(t){var e=t.replace(/\s+/g,"");return e=A9(e),e=rj(e),e}function E9(t){try{return C9(t)}catch{return Gs}}function Bb(t){var e=E9(t.slice(5,-1));return e===Gs?"":e}var k9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],O9=["dx","dy","angle","className","breakAll"];function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}function FM(t,e){if(t==null)return{};var n=M9(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VM(t,e){return R9(t)||P9(t,e)||N9(t,e)||D9()}function D9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N9(t,e){if(t){if(typeof t=="string")return zM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zM(t,e)}}function zM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw a}}return u}}function R9(t){if(Array.isArray(t))return t}var aj=/[ \f\n\r\t\v\u2028\u2029]+/,ij=function(e){var n=e.children,r=e.breakAll,a=e.style;try{var i=[];lt(n)||(r?i=n.toString().split(""):i=n.toString().split(aj));var s=i.map(function(c){return{word:c,width:yc(c,a).width}}),u=r?0:yc(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},I9=function(e,n,r,a,i){var s=e.maxLines,u=e.children,c=e.style,d=e.breakAll,h=Te(s),p=u,y=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function($,V){var J=V.word,oe=V.width,U=$[$.length-1];if(U&&(a==null||i||U.width+oe+r<Number(a)))U.words.push(J),U.width+=oe+r;else{var K={words:[J],width:oe};$.push(K)}return $},[])},_=y(n),S=function(q){return q.reduce(function($,V){return $.width>V.width?$:V})};if(!h)return _;for(var A="…",T=function(q){var $=p.slice(0,q),V=ij({breakAll:d,style:c,children:$+A}).wordsWithComputedWidth,J=y(V),oe=J.length>s||S(J).width>Number(a);return[oe,J]},O=0,M=p.length-1,C=0,D;O<=M&&C<=p.length-1;){var E=Math.floor((O+M)/2),k=E-1,P=T(k),I=VM(P,2),F=I[0],z=I[1],B=T(E),W=VM(B,1),Q=W[0];if(!F&&!Q&&(O=E+1),F&&Q&&(M=E-1),!F&&Q){D=z;break}C++}return D||_},GM=function(e){var n=lt(e)?[]:e.toString().split(aj);return[{words:n}]},j9=function(e){var n=e.width,r=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,u=e.maxLines;if((n||r)&&!Ll.isSsr){var c,d,h=ij({breakAll:s,children:a,style:i});if(h){var p=h.wordsWithComputedWidth,y=h.spaceWidth;c=p,d=y}else return GM(a);return I9({breakAll:s,children:a,maxLines:u,style:i},c,d,n,r)}return GM(a)},HM="#808080",Po=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,d=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,y=e.textAnchor,_=y===void 0?"start":y,S=e.verticalAnchor,A=S===void 0?"end":S,T=e.fill,O=T===void 0?HM:T,M=FM(e,k9),C=j.useMemo(function(){return j9({breakAll:M.breakAll,children:M.children,maxLines:M.maxLines,scaleToFit:p,style:M.style,width:M.width})},[M.breakAll,M.children,M.maxLines,p,M.style,M.width]),D=M.dx,E=M.dy,k=M.angle,P=M.className,I=M.breakAll,F=FM(M,O9);if(!dn(r)||!dn(i))return null;var z=r+(Te(D)?D:0),B=i+(Te(E)?E:0),W;switch(A){case"start":W=Bb("calc(".concat(d,")"));break;case"middle":W=Bb("calc(".concat((C.length-1)/2," * -").concat(u," + (").concat(d," / 2))"));break;default:W=Bb("calc(".concat(C.length-1," * -").concat(u,")"));break}var Q=[];if(p){var Y=C[0].width,q=M.width;Q.push("scale(".concat((Te(q)?q/Y:1)/Y,")"))}return k&&Q.push("rotate(".concat(k,", ").concat(z,", ").concat(B,")")),Q.length&&(F.transform=Q.join(" ")),Z.createElement("text",h_({},He(F,!0),{x:z,y:B,className:rt("recharts-text",P),textAnchor:_,fill:O.includes("url")?HM:O}),C.map(function($,V){var J=$.words.join(I?"":" ");return Z.createElement("tspan",{x:z,dy:V===0?W:u,key:"".concat(J,"-").concat(V)},J)}))};function Ii(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $9(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lS(t){let e,n,r;t.length!==2?(e=Ii,n=(u,c)=>Ii(t(u),c),r=(u,c)=>t(u)-c):(e=t===Ii||t===$9?t:L9,n=t,r=t);function a(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const p=d+h>>>1;n(u[p],c)<0?d=p+1:h=p}while(d<h)}return d}function i(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const p=d+h>>>1;n(u[p],c)<=0?d=p+1:h=p}while(d<h)}return d}function s(u,c,d=0,h=u.length){const p=a(u,c,d,h-1);return p>d&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:a,center:s,right:i}}function L9(){return 0}function oj(t){return t===null?NaN:+t}function*B9(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const q9=lS(Ii),pd=q9.right;lS(oj).center;class KM extends Map{constructor(e,n=V9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(YM(this,e))}has(e){return super.has(YM(this,e))}set(e,n){return super.set(U9(this,e),n)}delete(e){return super.delete(F9(this,e))}}function YM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function U9({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function F9({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function V9(t){return t!==null&&typeof t=="object"?t.valueOf():t}function z9(t=Ii){if(t===Ii)return sj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function sj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const G9=Math.sqrt(50),H9=Math.sqrt(10),K9=Math.sqrt(2);function kh(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=G9?10:i>=H9?5:i>=K9?2:1;let u,c,d;return a<0?(d=Math.pow(10,-a)/s,u=Math.round(t*d),c=Math.round(e*d),u/d<t&&++u,c/d>e&&--c,d=-d):(d=Math.pow(10,a)*s,u=Math.round(t/d),c=Math.round(e/d),u*d<t&&++u,c*d>e&&--c),c<u&&.5<=n&&n<2?kh(t,e,n*2):[u,c,d]}function m_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,s]=r?kh(e,t,n):kh(t,e,n);if(!(i>=a))return[];const u=i-a+1,c=new Array(u);if(r)if(s<0)for(let d=0;d<u;++d)c[d]=(i-d)/-s;else for(let d=0;d<u;++d)c[d]=(i-d)*s;else if(s<0)for(let d=0;d<u;++d)c[d]=(a+d)/-s;else for(let d=0;d<u;++d)c[d]=(a+d)*s;return c}function p_(t,e,n){return e=+e,t=+t,n=+n,kh(t,e,n)[2]}function g_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?p_(e,t,n):p_(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function WM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function XM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function lj(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?sj:z9(a);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(c-p)/c)*(d-c/2<0?-1:1),_=Math.max(n,Math.floor(e-d*p/c+y)),S=Math.min(r,Math.floor(e+(c-d)*p/c+y));lj(t,e,_,S,a)}const i=t[e];let s=n,u=r;for(ec(t,n,e),a(t[r],i)>0&&ec(t,n,r);s<u;){for(ec(t,s,u),++s,--u;a(t[s],i)<0;)++s;for(;a(t[u],i)>0;)--u}a(t[n],i)===0?ec(t,n,u):(++u,ec(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function ec(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Y9(t,e,n){if(t=Float64Array.from(B9(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return XM(t);if(e>=1)return WM(t);var r,a=(r-1)*e,i=Math.floor(a),s=WM(lj(t,i).subarray(0,i+1)),u=XM(t.subarray(i+1));return s+(u-s)*(a-i)}}function W9(t,e,n=oj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),s=+n(t[i],i,t),u=+n(t[i+1],i+1,t);return s+(u-s)*(a-i)}}function X9(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function Pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ka(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const v_=Symbol("implicit");function uS(){var t=new KM,e=[],n=[],r=v_;function a(i){let s=t.get(i);if(s===void 0){if(r!==v_)return r;t.set(i,s=e.push(i)-1)}return n[s%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new KM;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return uS(e,n).unknown(r)},Pr.apply(a,arguments),a}function Pc(){var t=uS().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,s,u=!1,c=0,d=0,h=.5;delete t.unknown;function p(){var y=e().length,_=a<r,S=_?a:r,A=_?r:a;i=(A-S)/Math.max(1,y-c+d*2),u&&(i=Math.floor(i)),S+=(A-S-i*(y-c))*h,s=i*(1-c),u&&(S=Math.round(S),s=Math.round(s));var T=X9(y).map(function(O){return S+i*O});return n(_?T.reverse():T)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,a]=y,r=+r,a=+a,p()):[r,a]},t.rangeRound=function(y){return[r,a]=y,r=+r,a=+a,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(y){return arguments.length?(u=!!y,p()):u},t.padding=function(y){return arguments.length?(c=Math.min(1,d=+y),p()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),p()):c},t.paddingOuter=function(y){return arguments.length?(d=+y,p()):d},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return Pc(e(),[r,a]).round(u).paddingInner(c).paddingOuter(d).align(h)},Pr.apply(p(),arguments)}function uj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return uj(e())},t}function bc(){return uj(Pc.apply(null,arguments).paddingInner(1))}function cS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gd(){}var Rc=.7,Oh=1/Rc,Qs="\\s*([+-]?\\d+)\\s*",Ic="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z9=/^#([0-9a-f]{3,8})$/,J9=new RegExp(`^rgb\\(${Qs},${Qs},${Qs}\\)$`),Q9=new RegExp(`^rgb\\(${sa},${sa},${sa}\\)$`),eV=new RegExp(`^rgba\\(${Qs},${Qs},${Qs},${Ic}\\)$`),tV=new RegExp(`^rgba\\(${sa},${sa},${sa},${Ic}\\)$`),nV=new RegExp(`^hsl\\(${Ic},${sa},${sa}\\)$`),rV=new RegExp(`^hsla\\(${Ic},${sa},${sa},${Ic}\\)$`),ZM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cS(gd,jc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:JM,formatHex:JM,formatHex8:aV,formatHsl:iV,formatRgb:QM,toString:QM});function JM(){return this.rgb().formatHex()}function aV(){return this.rgb().formatHex8()}function iV(){return dj(this).formatHsl()}function QM(){return this.rgb().formatRgb()}function jc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Z9.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?eD(e):n===3?new Qn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=J9.exec(t))?new Qn(e[1],e[2],e[3],1):(e=Q9.exec(t))?new Qn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eV.exec(t))?Jf(e[1],e[2],e[3],e[4]):(e=tV.exec(t))?Jf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nV.exec(t))?rD(e[1],e[2]/100,e[3]/100,1):(e=rV.exec(t))?rD(e[1],e[2]/100,e[3]/100,e[4]):ZM.hasOwnProperty(t)?eD(ZM[t]):t==="transparent"?new Qn(NaN,NaN,NaN,0):null}function eD(t){return new Qn(t>>16&255,t>>8&255,t&255,1)}function Jf(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qn(t,e,n,r)}function oV(t){return t instanceof gd||(t=jc(t)),t?(t=t.rgb(),new Qn(t.r,t.g,t.b,t.opacity)):new Qn}function y_(t,e,n,r){return arguments.length===1?oV(t):new Qn(t,e,n,r??1)}function Qn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cS(Qn,y_,cj(gd,{brighter(t){return t=t==null?Oh:Math.pow(Oh,t),new Qn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rc:Math.pow(Rc,t),new Qn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qn(Oo(this.r),Oo(this.g),Oo(this.b),Mh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tD,formatHex:tD,formatHex8:sV,formatRgb:nD,toString:nD}));function tD(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}`}function sV(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}${Co((isNaN(this.opacity)?1:this.opacity)*255)}`}function nD(){const t=Mh(this.opacity);return`${t===1?"rgb(":"rgba("}${Oo(this.r)}, ${Oo(this.g)}, ${Oo(this.b)}${t===1?")":`, ${t})`}`}function Mh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Oo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Co(t){return t=Oo(t),(t<16?"0":"")+t.toString(16)}function rD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gr(t,e,n,r)}function dj(t){if(t instanceof Gr)return new Gr(t.h,t.s,t.l,t.opacity);if(t instanceof gd||(t=jc(t)),!t)return new Gr;if(t instanceof Gr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,u=i-a,c=(i+a)/2;return u?(e===i?s=(n-r)/u+(n<r)*6:n===i?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?i+a:2-i-a,s*=60):u=c>0&&c<1?0:s,new Gr(s,u,c,t.opacity)}function lV(t,e,n,r){return arguments.length===1?dj(t):new Gr(t,e,n,r??1)}function Gr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cS(Gr,lV,cj(gd,{brighter(t){return t=t==null?Oh:Math.pow(Oh,t),new Gr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rc:Math.pow(Rc,t),new Gr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Qn(qb(t>=240?t-240:t+120,a,r),qb(t,a,r),qb(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Gr(aD(this.h),Qf(this.s),Qf(this.l),Mh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Mh(this.opacity);return`${t===1?"hsl(":"hsla("}${aD(this.h)}, ${Qf(this.s)*100}%, ${Qf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aD(t){return t=(t||0)%360,t<0?t+360:t}function Qf(t){return Math.max(0,Math.min(1,t||0))}function qb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dS=t=>()=>t;function uV(t,e){return function(n){return t+n*e}}function cV(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function dV(t){return(t=+t)==1?fj:function(e,n){return n-e?cV(e,n,t):dS(isNaN(e)?n:e)}}function fj(t,e){var n=e-t;return n?uV(t,n):dS(isNaN(t)?e:t)}const iD=function t(e){var n=dV(e);function r(a,i){var s=n((a=y_(a)).r,(i=y_(i)).r),u=n(a.g,i.g),c=n(a.b,i.b),d=fj(a.opacity,i.opacity);return function(h){return a.r=s(h),a.g=u(h),a.b=c(h),a.opacity=d(h),a+""}}return r.gamma=t,r}(1);function fV(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function hV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mV(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)a[s]=Bl(t[s],e[s]);for(;s<n;++s)i[s]=e[s];return function(u){for(s=0;s<r;++s)i[s]=a[s](u);return i}}function pV(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Dh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gV(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Bl(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var b_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ub=new RegExp(b_.source,"g");function vV(t){return function(){return t}}function yV(t){return function(e){return t(e)+""}}function bV(t,e){var n=b_.lastIndex=Ub.lastIndex=0,r,a,i,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=b_.exec(t))&&(a=Ub.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),u[s]?u[s]+=i:u[++s]=i),(r=r[0])===(a=a[0])?u[s]?u[s]+=a:u[++s]=a:(u[++s]=null,c.push({i:s,x:Dh(r,a)})),n=Ub.lastIndex;return n<e.length&&(i=e.slice(n),u[s]?u[s]+=i:u[++s]=i),u.length<2?c[0]?yV(c[0].x):vV(e):(e=c.length,function(d){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(d);return u.join("")})}function Bl(t,e){var n=typeof e,r;return e==null||n==="boolean"?dS(e):(n==="number"?Dh:n==="string"?(r=jc(e))?(e=r,iD):bV:e instanceof jc?iD:e instanceof Date?pV:hV(e)?fV:Array.isArray(e)?mV:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gV:Dh)(t,e)}function fS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function xV(t,e){e===void 0&&(e=t,t=Bl);for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return i[u](s-u)}}function _V(t){return function(){return t}}function Nh(t){return+t}var oD=[0,1];function Bn(t){return t}function x_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_V(isNaN(e)?NaN:.5)}function wV(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function SV(t,e,n){var r=t[0],a=t[1],i=e[0],s=e[1];return a<r?(r=x_(a,r),i=n(s,i)):(r=x_(r,a),i=n(i,s)),function(u){return i(r(u))}}function TV(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=x_(t[s],t[s+1]),i[s]=n(e[s],e[s+1]);return function(u){var c=pd(t,u,1,r)-1;return i[c](a[c](u))}}function vd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Lm(){var t=oD,e=oD,n=Bl,r,a,i,s=Bn,u,c,d;function h(){var y=Math.min(t.length,e.length);return s!==Bn&&(s=wV(t[0],t[y-1])),u=y>2?TV:SV,c=d=null,p}function p(y){return y==null||isNaN(y=+y)?i:(c||(c=u(t.map(r),e,n)))(r(s(y)))}return p.invert=function(y){return s(a((d||(d=u(e,t.map(r),Dh)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Nh),h()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=fS,h()},p.clamp=function(y){return arguments.length?(s=y?!0:Bn,h()):s!==Bn},p.interpolate=function(y){return arguments.length?(n=y,h()):n},p.unknown=function(y){return arguments.length?(i=y,p):i},function(y,_){return r=y,a=_,h()}}function hS(){return Lm()(Bn,Bn)}function AV(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ph(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ul(t){return t=Ph(Math.abs(t)),t?t[1]:NaN}function CV(t,e){return function(n,r){for(var a=n.length,i=[],s=0,u=t[0],c=0;a>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),i.push(n.substring(a-=u,a+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return i.reverse().join(e)}}function EV(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var kV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $c(t){if(!(e=kV.exec(t)))throw new Error("invalid format: "+t);var e;return new mS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$c.prototype=mS.prototype;function mS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OV(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var hj;function MV(t,e){var n=Ph(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(hj=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ph(t,Math.max(0,e+i-1))[0]}function sD(t,e){var n=Ph(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const lD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:AV,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sD(t*100,e),r:sD,s:MV,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uD(t){return t}var cD=Array.prototype.map,dD=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function DV(t){var e=t.grouping===void 0||t.thousands===void 0?uD:CV(cD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?uD:EV(cD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(p){p=$c(p);var y=p.fill,_=p.align,S=p.sign,A=p.symbol,T=p.zero,O=p.width,M=p.comma,C=p.precision,D=p.trim,E=p.type;E==="n"?(M=!0,E="g"):lD[E]||(C===void 0&&(C=12),D=!0,E="g"),(T||y==="0"&&_==="=")&&(T=!0,y="0",_="=");var k=A==="$"?n:A==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",P=A==="$"?r:/[%p]/.test(E)?s:"",I=lD[E],F=/[defgprs%]/.test(E);C=C===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function z(B){var W=k,Q=P,Y,q,$;if(E==="c")Q=I(B)+Q,B="";else{B=+B;var V=B<0||1/B<0;if(B=isNaN(B)?c:I(Math.abs(B),C),D&&(B=OV(B)),V&&+B==0&&S!=="+"&&(V=!1),W=(V?S==="("?S:u:S==="-"||S==="("?"":S)+W,Q=(E==="s"?dD[8+hj/3]:"")+Q+(V&&S==="("?")":""),F){for(Y=-1,q=B.length;++Y<q;)if($=B.charCodeAt(Y),48>$||$>57){Q=($===46?a+B.slice(Y+1):B.slice(Y))+Q,B=B.slice(0,Y);break}}}M&&!T&&(B=e(B,1/0));var J=W.length+B.length+Q.length,oe=J<O?new Array(O-J+1).join(y):"";switch(M&&T&&(B=e(oe+B,oe.length?O-Q.length:1/0),oe=""),_){case"<":B=W+B+Q+oe;break;case"=":B=W+oe+B+Q;break;case"^":B=oe.slice(0,J=oe.length>>1)+W+B+Q+oe.slice(J);break;default:B=oe+W+B+Q;break}return i(B)}return z.toString=function(){return p+""},z}function h(p,y){var _=d((p=$c(p),p.type="f",p)),S=Math.max(-8,Math.min(8,Math.floor(ul(y)/3)))*3,A=Math.pow(10,-S),T=dD[8+S/3];return function(O){return _(A*O)+T}}return{format:d,formatPrefix:h}}var eh,pS,mj;NV({thousands:",",grouping:[3],currency:["$",""]});function NV(t){return eh=DV(t),pS=eh.format,mj=eh.formatPrefix,eh}function PV(t){return Math.max(0,-ul(Math.abs(t)))}function RV(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ul(e)/3)))*3-ul(Math.abs(t)))}function IV(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ul(e)-ul(t))+1}function pj(t,e,n,r){var a=g_(t,e,n),i;switch(r=$c(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=RV(a,s))&&(r.precision=i),mj(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=IV(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=PV(a))&&(r.precision=i-(r.type==="%")*2);break}}return pS(r)}function Fi(t){var e=t.domain;return t.ticks=function(n){var r=e();return m_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return pj(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,s=r[a],u=r[i],c,d,h=10;for(u<s&&(d=s,s=u,u=d,d=a,a=i,i=d);h-- >0;){if(d=p_(s,u,n),d===c)return r[a]=s,r[i]=u,e(r);if(d>0)s=Math.floor(s/d)*d,u=Math.ceil(u/d)*d;else if(d<0)s=Math.ceil(s*d)/d,u=Math.floor(u*d)/d;else break;c=d}return t},t}function Rh(){var t=hS();return t.copy=function(){return vd(t,Rh())},Pr.apply(t,arguments),Fi(t)}function gj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Nh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return gj(t).unknown(e)},t=arguments.length?Array.from(t,Nh):[0,1],Fi(n)}function vj(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],s;return i<a&&(s=n,n=r,r=s,s=a,a=i,i=s),t[n]=e.floor(a),t[r]=e.ceil(i),t}function fD(t){return Math.log(t)}function hD(t){return Math.exp(t)}function jV(t){return-Math.log(-t)}function $V(t){return-Math.exp(-t)}function LV(t){return isFinite(t)?+("1e"+t):t<0?0:t}function BV(t){return t===10?LV:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qV(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function mD(t){return(e,n)=>-t(-e,n)}function gS(t){const e=t(fD,hD),n=e.domain;let r=10,a,i;function s(){return a=qV(r),i=BV(r),n()[0]<0?(a=mD(a),i=mD(i),t(jV,$V)):t(fD,hD),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let d=c[0],h=c[c.length-1];const p=h<d;p&&([d,h]=[h,d]);let y=a(d),_=a(h),S,A;const T=u==null?10:+u;let O=[];if(!(r%1)&&_-y<T){if(y=Math.floor(y),_=Math.ceil(_),d>0){for(;y<=_;++y)for(S=1;S<r;++S)if(A=y<0?S/i(-y):S*i(y),!(A<d)){if(A>h)break;O.push(A)}}else for(;y<=_;++y)for(S=r-1;S>=1;--S)if(A=y>0?S/i(-y):S*i(y),!(A<d)){if(A>h)break;O.push(A)}O.length*2<T&&(O=m_(d,h,T))}else O=m_(y,_,Math.min(_-y,T)).map(i);return p?O.reverse():O},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=$c(c)).precision==null&&(c.trim=!0),c=pS(c)),u===1/0)return c;const d=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/i(Math.round(a(h)));return p*r<r-.5&&(p*=r),p<=d?c(h):""}},e.nice=()=>n(vj(n(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),e}function yj(){const t=gS(Lm()).domain([1,10]);return t.copy=()=>vd(t,yj()).base(t.base()),Pr.apply(t,arguments),t}function pD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vS(t){var e=1,n=t(pD(e),gD(e));return n.constant=function(r){return arguments.length?t(pD(e=+r),gD(e)):e},Fi(n)}function bj(){var t=vS(Lm());return t.copy=function(){return vd(t,bj()).constant(t.constant())},Pr.apply(t,arguments)}function vD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function UV(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function FV(t){return t<0?-t*t:t*t}function yS(t){var e=t(Bn,Bn),n=1;function r(){return n===1?t(Bn,Bn):n===.5?t(UV,FV):t(vD(n),vD(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Fi(e)}function bS(){var t=yS(Lm());return t.copy=function(){return vd(t,bS()).exponent(t.exponent())},Pr.apply(t,arguments),t}function VV(){return bS.apply(null,arguments).exponent(.5)}function yD(t){return Math.sign(t)*t*t}function zV(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function xj(){var t=hS(),e=[0,1],n=!1,r;function a(i){var s=zV(t(i));return isNaN(s)?r:n?Math.round(s):s}return a.invert=function(i){return t.invert(yD(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Nh)).map(yD)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return xj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Pr.apply(a,arguments),Fi(a)}function _j(){var t=[],e=[],n=[],r;function a(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=W9(t,s/u);return i}function i(s){return s==null||isNaN(s=+s)?r:e[pd(n,s)]}return i.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ii),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return _j().domain(t).range(e).unknown(r)},Pr.apply(i,arguments)}function wj(){var t=0,e=1,n=1,r=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[pd(r,c,0,n)]:i}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,u()):a.slice()},s.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return wj().domain([t,e]).range(a).unknown(i)},Pr.apply(Fi(s),arguments)}function Sj(){var t=[.5],e=[0,1],n,r=1;function a(i){return i!=null&&i<=i?e[pd(t,i,0,r)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Sj().domain(t).range(e).unknown(n)},Pr.apply(a,arguments)}const Fb=new Date,Vb=new Date;function fn(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),u=a.ceil(i);return i-s<u-i?s:u},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,u)=>{const c=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<s)||!(u>0))return c;let d;do c.push(d=new Date(+i)),e(i,u),t(i);while(d<i&&i<s);return c},a.filter=i=>fn(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!i(s););else for(;--u>=0;)for(;e(s,1),!i(s););}),n&&(a.count=(i,s)=>(Fb.setTime(+i),Vb.setTime(+s),t(Fb),t(Vb),Math.floor(n(Fb,Vb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?s=>r(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Ih=fn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ih.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?fn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ih);Ih.range;const Ia=1e3,Mr=Ia*60,ja=Mr*60,qa=ja*24,xS=qa*7,bD=qa*30,zb=qa*365,Eo=fn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ia)},(t,e)=>(e-t)/Ia,t=>t.getUTCSeconds());Eo.range;const _S=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ia)},(t,e)=>{t.setTime(+t+e*Mr)},(t,e)=>(e-t)/Mr,t=>t.getMinutes());_S.range;const wS=fn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Mr)},(t,e)=>(e-t)/Mr,t=>t.getUTCMinutes());wS.range;const SS=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ia-t.getMinutes()*Mr)},(t,e)=>{t.setTime(+t+e*ja)},(t,e)=>(e-t)/ja,t=>t.getHours());SS.range;const TS=fn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ja)},(t,e)=>(e-t)/ja,t=>t.getUTCHours());TS.range;const yd=fn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mr)/qa,t=>t.getDate()-1);yd.range;const Bm=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qa,t=>t.getUTCDate()-1);Bm.range;const Tj=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qa,t=>Math.floor(t/qa));Tj.range;function Fo(t){return fn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Mr)/xS)}const qm=Fo(0),jh=Fo(1),GV=Fo(2),HV=Fo(3),cl=Fo(4),KV=Fo(5),YV=Fo(6);qm.range;jh.range;GV.range;HV.range;cl.range;KV.range;YV.range;function Vo(t){return fn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/xS)}const Um=Vo(0),$h=Vo(1),WV=Vo(2),XV=Vo(3),dl=Vo(4),ZV=Vo(5),JV=Vo(6);Um.range;$h.range;WV.range;XV.range;dl.range;ZV.range;JV.range;const AS=fn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());AS.range;const CS=fn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CS.range;const Ua=fn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ua.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ua.range;const Fa=fn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fa.range;function Aj(t,e,n,r,a,i){const s=[[Eo,1,Ia],[Eo,5,5*Ia],[Eo,15,15*Ia],[Eo,30,30*Ia],[i,1,Mr],[i,5,5*Mr],[i,15,15*Mr],[i,30,30*Mr],[a,1,ja],[a,3,3*ja],[a,6,6*ja],[a,12,12*ja],[r,1,qa],[r,2,2*qa],[n,1,xS],[e,1,bD],[e,3,3*bD],[t,1,zb]];function u(d,h,p){const y=h<d;y&&([d,h]=[h,d]);const _=p&&typeof p.range=="function"?p:c(d,h,p),S=_?_.range(d,+h+1):[];return y?S.reverse():S}function c(d,h,p){const y=Math.abs(h-d)/p,_=lS(([,,T])=>T).right(s,y);if(_===s.length)return t.every(g_(d/zb,h/zb,p));if(_===0)return Ih.every(Math.max(g_(d,h,p),1));const[S,A]=s[y/s[_-1][2]<s[_][2]/y?_-1:_];return S.every(A)}return[u,c]}const[QV,e7]=Aj(Fa,CS,Um,Tj,TS,wS),[t7,n7]=Aj(Ua,AS,qm,yd,SS,_S);function Gb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Hb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function tc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function r7(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,d=nc(a),h=rc(a),p=nc(i),y=rc(i),_=nc(s),S=rc(s),A=nc(u),T=rc(u),O=nc(c),M=rc(c),C={a:V,A:J,b:oe,B:U,c:null,d:AD,e:AD,f:C7,g:j7,G:L7,H:S7,I:T7,j:A7,L:Cj,m:E7,M:k7,p:K,q:ae,Q:kD,s:OD,S:O7,u:M7,U:D7,V:N7,w:P7,W:R7,x:null,X:null,y:I7,Y:$7,Z:B7,"%":ED},D={a:ce,A:ye,b:Pe,B:Oe,c:null,d:CD,e:CD,f:V7,g:Q7,G:tz,H:q7,I:U7,j:F7,L:kj,m:z7,M:G7,p:At,q:Ze,Q:kD,s:OD,S:H7,u:K7,U:Y7,V:W7,w:X7,W:Z7,x:null,X:null,y:J7,Y:ez,Z:nz,"%":ED},E={a:z,A:B,b:W,B:Q,c:Y,d:SD,e:SD,f:b7,g:wD,G:_D,H:TD,I:TD,j:p7,L:y7,m:m7,M:g7,p:F,q:h7,Q:_7,s:w7,S:v7,u:l7,U:u7,V:c7,w:s7,W:d7,x:q,X:$,y:wD,Y:_D,Z:f7,"%":x7};C.x=k(n,C),C.X=k(r,C),C.c=k(e,C),D.x=k(n,D),D.X=k(r,D),D.c=k(e,D);function k(Ae,Ve){return function(qe){var ge=[],Ct=-1,Xe=0,Ft=Ae.length,Pt,_t,tr;for(qe instanceof Date||(qe=new Date(+qe));++Ct<Ft;)Ae.charCodeAt(Ct)===37&&(ge.push(Ae.slice(Xe,Ct)),(_t=xD[Pt=Ae.charAt(++Ct)])!=null?Pt=Ae.charAt(++Ct):_t=Pt==="e"?" ":"0",(tr=Ve[Pt])&&(Pt=tr(qe,_t)),ge.push(Pt),Xe=Ct+1);return ge.push(Ae.slice(Xe,Ct)),ge.join("")}}function P(Ae,Ve){return function(qe){var ge=tc(1900,void 0,1),Ct=I(ge,Ae,qe+="",0),Xe,Ft;if(Ct!=qe.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Ve&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Xe=Hb(tc(ge.y,0,1)),Ft=Xe.getUTCDay(),Xe=Ft>4||Ft===0?$h.ceil(Xe):$h(Xe),Xe=Bm.offset(Xe,(ge.V-1)*7),ge.y=Xe.getUTCFullYear(),ge.m=Xe.getUTCMonth(),ge.d=Xe.getUTCDate()+(ge.w+6)%7):(Xe=Gb(tc(ge.y,0,1)),Ft=Xe.getDay(),Xe=Ft>4||Ft===0?jh.ceil(Xe):jh(Xe),Xe=yd.offset(Xe,(ge.V-1)*7),ge.y=Xe.getFullYear(),ge.m=Xe.getMonth(),ge.d=Xe.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),Ft="Z"in ge?Hb(tc(ge.y,0,1)).getUTCDay():Gb(tc(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(Ft+5)%7:ge.w+ge.U*7-(Ft+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,Hb(ge)):Gb(ge)}}function I(Ae,Ve,qe,ge){for(var Ct=0,Xe=Ve.length,Ft=qe.length,Pt,_t;Ct<Xe;){if(ge>=Ft)return-1;if(Pt=Ve.charCodeAt(Ct++),Pt===37){if(Pt=Ve.charAt(Ct++),_t=E[Pt in xD?Ve.charAt(Ct++):Pt],!_t||(ge=_t(Ae,qe,ge))<0)return-1}else if(Pt!=qe.charCodeAt(ge++))return-1}return ge}function F(Ae,Ve,qe){var ge=d.exec(Ve.slice(qe));return ge?(Ae.p=h.get(ge[0].toLowerCase()),qe+ge[0].length):-1}function z(Ae,Ve,qe){var ge=_.exec(Ve.slice(qe));return ge?(Ae.w=S.get(ge[0].toLowerCase()),qe+ge[0].length):-1}function B(Ae,Ve,qe){var ge=p.exec(Ve.slice(qe));return ge?(Ae.w=y.get(ge[0].toLowerCase()),qe+ge[0].length):-1}function W(Ae,Ve,qe){var ge=O.exec(Ve.slice(qe));return ge?(Ae.m=M.get(ge[0].toLowerCase()),qe+ge[0].length):-1}function Q(Ae,Ve,qe){var ge=A.exec(Ve.slice(qe));return ge?(Ae.m=T.get(ge[0].toLowerCase()),qe+ge[0].length):-1}function Y(Ae,Ve,qe){return I(Ae,e,Ve,qe)}function q(Ae,Ve,qe){return I(Ae,n,Ve,qe)}function $(Ae,Ve,qe){return I(Ae,r,Ve,qe)}function V(Ae){return s[Ae.getDay()]}function J(Ae){return i[Ae.getDay()]}function oe(Ae){return c[Ae.getMonth()]}function U(Ae){return u[Ae.getMonth()]}function K(Ae){return a[+(Ae.getHours()>=12)]}function ae(Ae){return 1+~~(Ae.getMonth()/3)}function ce(Ae){return s[Ae.getUTCDay()]}function ye(Ae){return i[Ae.getUTCDay()]}function Pe(Ae){return c[Ae.getUTCMonth()]}function Oe(Ae){return u[Ae.getUTCMonth()]}function At(Ae){return a[+(Ae.getUTCHours()>=12)]}function Ze(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var Ve=k(Ae+="",C);return Ve.toString=function(){return Ae},Ve},parse:function(Ae){var Ve=P(Ae+="",!1);return Ve.toString=function(){return Ae},Ve},utcFormat:function(Ae){var Ve=k(Ae+="",D);return Ve.toString=function(){return Ae},Ve},utcParse:function(Ae){var Ve=P(Ae+="",!0);return Ve.toString=function(){return Ae},Ve}}}var xD={"-":"",_:" ",0:"0"},xn=/^\s*\d+/,a7=/^%/,i7=/[\\^$*+?|[\]().{}]/g;function pt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function o7(t){return t.replace(i7,"\\$&")}function nc(t){return new RegExp("^(?:"+t.map(o7).join("|")+")","i")}function rc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function s7(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function l7(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function u7(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function c7(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function d7(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _D(t,e,n){var r=xn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wD(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function f7(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function h7(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function m7(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function SD(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function p7(t,e,n){var r=xn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function TD(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function g7(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function v7(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function y7(t,e,n){var r=xn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function b7(t,e,n){var r=xn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function x7(t,e,n){var r=a7.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _7(t,e,n){var r=xn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function w7(t,e,n){var r=xn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function AD(t,e){return pt(t.getDate(),e,2)}function S7(t,e){return pt(t.getHours(),e,2)}function T7(t,e){return pt(t.getHours()%12||12,e,2)}function A7(t,e){return pt(1+yd.count(Ua(t),t),e,3)}function Cj(t,e){return pt(t.getMilliseconds(),e,3)}function C7(t,e){return Cj(t,e)+"000"}function E7(t,e){return pt(t.getMonth()+1,e,2)}function k7(t,e){return pt(t.getMinutes(),e,2)}function O7(t,e){return pt(t.getSeconds(),e,2)}function M7(t){var e=t.getDay();return e===0?7:e}function D7(t,e){return pt(qm.count(Ua(t)-1,t),e,2)}function Ej(t){var e=t.getDay();return e>=4||e===0?cl(t):cl.ceil(t)}function N7(t,e){return t=Ej(t),pt(cl.count(Ua(t),t)+(Ua(t).getDay()===4),e,2)}function P7(t){return t.getDay()}function R7(t,e){return pt(jh.count(Ua(t)-1,t),e,2)}function I7(t,e){return pt(t.getFullYear()%100,e,2)}function j7(t,e){return t=Ej(t),pt(t.getFullYear()%100,e,2)}function $7(t,e){return pt(t.getFullYear()%1e4,e,4)}function L7(t,e){var n=t.getDay();return t=n>=4||n===0?cl(t):cl.ceil(t),pt(t.getFullYear()%1e4,e,4)}function B7(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function CD(t,e){return pt(t.getUTCDate(),e,2)}function q7(t,e){return pt(t.getUTCHours(),e,2)}function U7(t,e){return pt(t.getUTCHours()%12||12,e,2)}function F7(t,e){return pt(1+Bm.count(Fa(t),t),e,3)}function kj(t,e){return pt(t.getUTCMilliseconds(),e,3)}function V7(t,e){return kj(t,e)+"000"}function z7(t,e){return pt(t.getUTCMonth()+1,e,2)}function G7(t,e){return pt(t.getUTCMinutes(),e,2)}function H7(t,e){return pt(t.getUTCSeconds(),e,2)}function K7(t){var e=t.getUTCDay();return e===0?7:e}function Y7(t,e){return pt(Um.count(Fa(t)-1,t),e,2)}function Oj(t){var e=t.getUTCDay();return e>=4||e===0?dl(t):dl.ceil(t)}function W7(t,e){return t=Oj(t),pt(dl.count(Fa(t),t)+(Fa(t).getUTCDay()===4),e,2)}function X7(t){return t.getUTCDay()}function Z7(t,e){return pt($h.count(Fa(t)-1,t),e,2)}function J7(t,e){return pt(t.getUTCFullYear()%100,e,2)}function Q7(t,e){return t=Oj(t),pt(t.getUTCFullYear()%100,e,2)}function ez(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function tz(t,e){var n=t.getUTCDay();return t=n>=4||n===0?dl(t):dl.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function nz(){return"+0000"}function ED(){return"%"}function kD(t){return+t}function OD(t){return Math.floor(+t/1e3)}var qs,Mj,Dj;rz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rz(t){return qs=r7(t),Mj=qs.format,qs.parse,Dj=qs.utcFormat,qs.utcParse,qs}function az(t){return new Date(t)}function iz(t){return t instanceof Date?+t:+new Date(+t)}function ES(t,e,n,r,a,i,s,u,c,d){var h=hS(),p=h.invert,y=h.domain,_=d(".%L"),S=d(":%S"),A=d("%I:%M"),T=d("%I %p"),O=d("%a %d"),M=d("%b %d"),C=d("%B"),D=d("%Y");function E(k){return(c(k)<k?_:u(k)<k?S:s(k)<k?A:i(k)<k?T:r(k)<k?a(k)<k?O:M:n(k)<k?C:D)(k)}return h.invert=function(k){return new Date(p(k))},h.domain=function(k){return arguments.length?y(Array.from(k,iz)):y().map(az)},h.ticks=function(k){var P=y();return t(P[0],P[P.length-1],k??10)},h.tickFormat=function(k,P){return P==null?E:d(P)},h.nice=function(k){var P=y();return(!k||typeof k.range!="function")&&(k=e(P[0],P[P.length-1],k??10)),k?y(vj(P,k)):h},h.copy=function(){return vd(h,ES(t,e,n,r,a,i,s,u,c,d))},h}function oz(){return Pr.apply(ES(t7,n7,Ua,AS,qm,yd,SS,_S,Eo,Mj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sz(){return Pr.apply(ES(QV,e7,Fa,CS,Um,Bm,TS,wS,Eo,Dj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fm(){var t=0,e=1,n,r,a,i,s=Bn,u=!1,c;function d(p){return p==null||isNaN(p=+p)?c:s(a===0?.5:(p=(i(p)-n)*a,u?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,n=i(t=+t),r=i(e=+e),a=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(p){return arguments.length?(u=!!p,d):u},d.interpolator=function(p){return arguments.length?(s=p,d):s};function h(p){return function(y){var _,S;return arguments.length?([_,S]=y,s=p(_,S),d):[s(0),s(1)]}}return d.range=h(Bl),d.rangeRound=h(fS),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return i=p,n=p(t),r=p(e),a=n===r?0:1/(r-n),d}}function Vi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Nj(){var t=Fi(Fm()(Bn));return t.copy=function(){return Vi(t,Nj())},Ka.apply(t,arguments)}function Pj(){var t=gS(Fm()).domain([1,10]);return t.copy=function(){return Vi(t,Pj()).base(t.base())},Ka.apply(t,arguments)}function Rj(){var t=vS(Fm());return t.copy=function(){return Vi(t,Rj()).constant(t.constant())},Ka.apply(t,arguments)}function kS(){var t=yS(Fm());return t.copy=function(){return Vi(t,kS()).exponent(t.exponent())},Ka.apply(t,arguments)}function lz(){return kS.apply(null,arguments).exponent(.5)}function Ij(){var t=[],e=Bn;function n(r){if(r!=null&&!isNaN(r=+r))return e((pd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ii),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>Y9(t,i/r))},n.copy=function(){return Ij(e).domain(t)},Ka.apply(n,arguments)}function Vm(){var t=0,e=.5,n=1,r=1,a,i,s,u,c,d=Bn,h,p=!1,y;function _(A){return isNaN(A=+A)?y:(A=.5+((A=+h(A))-i)*(r*A<r*i?u:c),d(p?Math.max(0,Math.min(1,A)):A))}_.domain=function(A){return arguments.length?([t,e,n]=A,a=h(t=+t),i=h(e=+e),s=h(n=+n),u=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),r=i<a?-1:1,_):[t,e,n]},_.clamp=function(A){return arguments.length?(p=!!A,_):p},_.interpolator=function(A){return arguments.length?(d=A,_):d};function S(A){return function(T){var O,M,C;return arguments.length?([O,M,C]=T,d=xV(A,[O,M,C]),_):[d(0),d(.5),d(1)]}}return _.range=S(Bl),_.rangeRound=S(fS),_.unknown=function(A){return arguments.length?(y=A,_):y},function(A){return h=A,a=A(t),i=A(e),s=A(n),u=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),r=i<a?-1:1,_}}function jj(){var t=Fi(Vm()(Bn));return t.copy=function(){return Vi(t,jj())},Ka.apply(t,arguments)}function $j(){var t=gS(Vm()).domain([.1,1,10]);return t.copy=function(){return Vi(t,$j()).base(t.base())},Ka.apply(t,arguments)}function Lj(){var t=vS(Vm());return t.copy=function(){return Vi(t,Lj()).constant(t.constant())},Ka.apply(t,arguments)}function OS(){var t=yS(Vm());return t.copy=function(){return Vi(t,OS()).exponent(t.exponent())},Ka.apply(t,arguments)}function uz(){return OS.apply(null,arguments).exponent(.5)}const MD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Pc,scaleDiverging:jj,scaleDivergingLog:$j,scaleDivergingPow:OS,scaleDivergingSqrt:uz,scaleDivergingSymlog:Lj,scaleIdentity:gj,scaleImplicit:v_,scaleLinear:Rh,scaleLog:yj,scaleOrdinal:uS,scalePoint:bc,scalePow:bS,scaleQuantile:_j,scaleQuantize:wj,scaleRadial:xj,scaleSequential:Nj,scaleSequentialLog:Pj,scaleSequentialPow:kS,scaleSequentialQuantile:Ij,scaleSequentialSqrt:lz,scaleSequentialSymlog:Rj,scaleSqrt:VV,scaleSymlog:bj,scaleThreshold:Sj,scaleTime:oz,scaleUtc:sz,tickFormat:pj},Symbol.toStringTag,{value:"Module"}));var Kb,DD;function zm(){if(DD)return Kb;DD=1;var t=Il();function e(n,r,a){for(var i=-1,s=n.length;++i<s;){var u=n[i],c=r(u);if(c!=null&&(d===void 0?c===c&&!t(c):a(c,d)))var d=c,h=u}return h}return Kb=e,Kb}var Yb,ND;function Bj(){if(ND)return Yb;ND=1;function t(e,n){return e>n}return Yb=t,Yb}var Wb,PD;function cz(){if(PD)return Wb;PD=1;var t=zm(),e=Bj(),n=$l();function r(a){return a&&a.length?t(a,n,e):void 0}return Wb=r,Wb}var dz=cz();const Gm=vt(dz);var Xb,RD;function qj(){if(RD)return Xb;RD=1;function t(e,n){return e<n}return Xb=t,Xb}var Zb,ID;function fz(){if(ID)return Zb;ID=1;var t=zm(),e=qj(),n=$l();function r(a){return a&&a.length?t(a,n,e):void 0}return Zb=r,Zb}var hz=fz();const Hm=vt(hz);var Jb,jD;function mz(){if(jD)return Jb;jD=1;var t=Gw(),e=ha(),n=KI(),r=er();function a(i,s){var u=r(i)?t:n;return u(i,e(s,3))}return Jb=a,Jb}var Qb,$D;function pz(){if($D)return Qb;$D=1;var t=GI(),e=mz();function n(r,a){return t(e(r,a),1)}return Qb=n,Qb}var gz=pz();const vz=vt(gz);var ex,LD;function yz(){if(LD)return ex;LD=1;var t=aS();function e(n,r){return t(n,r)}return ex=e,ex}var bz=yz();const Km=vt(bz);var ql=1e9,xz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},DS,Ht=!0,Nr="[DecimalError] ",Mo=Nr+"Invalid argument: ",MS=Nr+"Exponent out of range: ",Ul=Math.floor,wo=Math.pow,_z=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dr,yn=1e7,zt=7,Uj=9007199254740991,Lh=Ul(Uj/zt),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,n,r,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*zt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(t){return Ba(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,n=e.constructor;return It(Ba(e,new n(t),0,1),n.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return sn(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,n=this,r=n.constructor,a=r.precision,i=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(dr))throw Error(Nr+"NaN");if(n.s<1)throw Error(Nr+(n.s?"NaN":"-Infinity"));return n.eq(dr)?new r(0):(Ht=!1,e=Ba(Lc(n,i),Lc(t,i),i),Ht=!0,It(e,a))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zj(e,t):Fj(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Nr+"NaN");return n.s?(Ht=!1,e=Ba(n,t,0,1).times(t),Ht=!0,n.minus(e)):It(new r(n),a)};Me.naturalExponential=Me.exp=function(){return Vj(this)};Me.naturalLogarithm=Me.ln=function(){return Lc(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Fj(e,t):zj(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Mo+t);if(e=sn(a)+1,r=a.d.length-1,n=r*zt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Me.squareRoot=Me.sqrt=function(){var t,e,n,r,a,i,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Nr+"NaN")}for(t=sn(u),Ht=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=aa(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Ul((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(a.toString()),n=c.precision,a=s=n+3;;)if(i=r,r=i.plus(Ba(u,i,s+2)).times(.5),aa(i.d).slice(0,s)===(e=aa(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(It(i,n+1,0),i.times(i).eq(u)){r=i;break}}else if(e!="9999")break;s+=4}return Ht=!0,It(r,n)};Me.times=Me.mul=function(t){var e,n,r,a,i,s,u,c,d,h=this,p=h.constructor,y=h.d,_=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=y.length,d=_.length,c<d&&(i=y,y=_,_=i,s=c,c=d,d=s),i=[],s=c+d,r=s;r--;)i.push(0);for(r=d;--r>=0;){for(e=0,a=c+r;a>r;)u=i[a]+_[r]*y[a-r-1]+e,i[a--]=u%yn|0,e=u/yn|0;i[a]=(i[a]+e)%yn|0}for(;!i[--s];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,Ht?It(t,p.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ca(t,0,ql),e===void 0?e=r.rounding:ca(e,0,8),It(n,t+sn(n)+1,e))};Me.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=Ro(r,!0):(ca(t,0,ql),e===void 0?e=a.rounding:ca(e,0,8),r=It(new a(r),t+1,e),n=Ro(r,!0,t+1)),n};Me.toFixed=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?Ro(a):(ca(t,0,ql),e===void 0?e=i.rounding:ca(e,0,8),r=It(new i(a),t+sn(a)+1,e),n=Ro(r.abs(),!1,t+sn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return It(new e(t),sn(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,n,r,a,i,s,u=this,c=u.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(dr);if(u=new c(u),!u.s){if(t.s<1)throw Error(Nr+"Infinity");return u}if(u.eq(dr))return u;if(r=c.precision,t.eq(dr))return It(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,i=u.s,s){if((n=h<0?-h:h)<=Uj){for(a=new c(dr),e=Math.ceil(r/zt+4),Ht=!1;n%2&&(a=a.times(u),qD(a.d,e)),n=Ul(n/2),n!==0;)u=u.times(u),qD(u.d,e);return Ht=!0,t.s<0?new c(dr).div(a):It(a,r)}}else if(i<0)throw Error(Nr+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Ht=!1,a=t.times(Lc(u,r+d)),Ht=!0,a=Vj(a),a.s=i,a};Me.toPrecision=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?(n=sn(a),r=Ro(a,n<=i.toExpNeg||n>=i.toExpPos)):(ca(t,1,ql),e===void 0?e=i.rounding:ca(e,0,8),a=It(new i(a),t,e),n=sn(a),r=Ro(a,t<=n||n<=i.toExpNeg,t)),r};Me.toSignificantDigits=Me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ca(t,1,ql),e===void 0?e=r.rounding:ca(e,0,8)),It(new r(n),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=sn(t),n=t.constructor;return Ro(t,e<=n.toExpNeg||e>=n.toExpPos)};function Fj(t,e){var n,r,a,i,s,u,c,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ht?It(e,p):e;if(c=t.d,d=e.d,s=t.e,a=e.e,c=c.slice(),i=s-a,i){for(i<0?(r=c,i=-i,u=d.length):(r=d,a=s,u=c.length),s=Math.ceil(p/zt),u=s>u?s+1:u+1,i>u&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(u=c.length,i=d.length,u-i<0&&(i=u,r=d,d=c,c=r),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/yn|0,c[i]%=yn;for(n&&(c.unshift(n),++a),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=a,Ht?It(e,p):e}function ca(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Mo+t)}function aa(t){var e,n,r,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)r=t[e]+"",n=zt-r.length,n&&(i+=Oi(n)),i+=r;s=t[e],r=s+"",n=zt-r.length,n&&(i+=Oi(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ba=function(){function t(r,a){var i,s=0,u=r.length;for(r=r.slice();u--;)i=r[u]*a+s,r[u]=i%yn|0,s=i/yn|0;return s&&r.unshift(s),r}function e(r,a,i,s){var u,c;if(i!=s)c=i>s?1:-1;else for(u=c=0;u<i;u++)if(r[u]!=a[u]){c=r[u]>a[u]?1:-1;break}return c}function n(r,a,i){for(var s=0;i--;)r[i]-=s,s=r[i]<a[i]?1:0,r[i]=s*yn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,s){var u,c,d,h,p,y,_,S,A,T,O,M,C,D,E,k,P,I,F=r.constructor,z=r.s==a.s?1:-1,B=r.d,W=a.d;if(!r.s)return new F(r);if(!a.s)throw Error(Nr+"Division by zero");for(c=r.e-a.e,P=W.length,E=B.length,_=new F(z),S=_.d=[],d=0;W[d]==(B[d]||0);)++d;if(W[d]>(B[d]||0)&&--c,i==null?M=i=F.precision:s?M=i+(sn(r)-sn(a))+1:M=i,M<0)return new F(0);if(M=M/zt+2|0,d=0,P==1)for(h=0,W=W[0],M++;(d<E||h)&&M--;d++)C=h*yn+(B[d]||0),S[d]=C/W|0,h=C%W|0;else{for(h=yn/(W[0]+1)|0,h>1&&(W=t(W,h),B=t(B,h),P=W.length,E=B.length),D=P,A=B.slice(0,P),T=A.length;T<P;)A[T++]=0;I=W.slice(),I.unshift(0),k=W[0],W[1]>=yn/2&&++k;do h=0,u=e(W,A,P,T),u<0?(O=A[0],P!=T&&(O=O*yn+(A[1]||0)),h=O/k|0,h>1?(h>=yn&&(h=yn-1),p=t(W,h),y=p.length,T=A.length,u=e(p,A,y,T),u==1&&(h--,n(p,P<y?I:W,y))):(h==0&&(u=h=1),p=W.slice()),y=p.length,y<T&&p.unshift(0),n(A,p,T),u==-1&&(T=A.length,u=e(W,A,P,T),u<1&&(h++,n(A,P<T?I:W,T))),T=A.length):u===0&&(h++,A=[0]),S[d++]=h,u&&A[0]?A[T++]=B[D]||0:(A=[B[D]],T=1);while((D++<E||A[0]!==void 0)&&M--)}return S[0]||S.shift(),_.e=c,It(_,s?i+sn(_)+1:i)}}();function Vj(t,e){var n,r,a,i,s,u,c=0,d=0,h=t.constructor,p=h.precision;if(sn(t)>16)throw Error(MS+sn(t));if(!t.s)return new h(dr);for(Ht=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(r=Math.log(wo(2,d))/Math.LN10*2+5|0,u+=r,n=a=i=new h(dr),h.precision=u;;){if(a=It(a.times(t),u),n=n.times(++c),s=i.plus(Ba(a,n,u)),aa(s.d).slice(0,u)===aa(i.d).slice(0,u)){for(;d--;)i=It(i.times(i),u);return h.precision=p,e==null?(Ht=!0,It(i,p)):i}i=s}}function sn(t){for(var e=t.e*zt,n=t.d[0];n>=10;n/=10)e++;return e}function tx(t,e,n){if(e>t.LN10.sd())throw Ht=!0,n&&(t.precision=n),Error(Nr+"LN10 precision limit exceeded");return It(new t(t.LN10),e)}function Oi(t){for(var e="";t--;)e+="0";return e}function Lc(t,e){var n,r,a,i,s,u,c,d,h,p=1,y=10,_=t,S=_.d,A=_.constructor,T=A.precision;if(_.s<1)throw Error(Nr+(_.s?"NaN":"-Infinity"));if(_.eq(dr))return new A(0);if(e==null?(Ht=!1,d=T):d=e,_.eq(10))return e==null&&(Ht=!0),tx(A,d);if(d+=y,A.precision=d,n=aa(S),r=n.charAt(0),i=sn(_),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=aa(_.d),r=n.charAt(0),p++;i=sn(_),r>1?(_=new A("0."+n),i++):_=new A(r+"."+n.slice(1))}else return c=tx(A,d+2,T).times(i+""),_=Lc(new A(r+"."+n.slice(1)),d-y).plus(c),A.precision=T,e==null?(Ht=!0,It(_,T)):_;for(u=s=_=Ba(_.minus(dr),_.plus(dr),d),h=It(_.times(_),d),a=3;;){if(s=It(s.times(h),d),c=u.plus(Ba(s,new A(a),d)),aa(c.d).slice(0,d)===aa(u.d).slice(0,d))return u=u.times(2),i!==0&&(u=u.plus(tx(A,d+2,T).times(i+""))),u=Ba(u,new A(p),d),A.precision=T,e==null?(Ht=!0,It(u,T)):u;u=c,a+=2}}function BD(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Ul(n/zt),t.d=[],r=(n+1)%zt,n<0&&(r+=zt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=zt;r<a;)t.d.push(+e.slice(r,r+=zt));e=e.slice(r),r=zt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Ht&&(t.e>Lh||t.e<-Lh))throw Error(MS+n)}else t.s=0,t.e=0,t.d=[0];return t}function It(t,e,n){var r,a,i,s,u,c,d,h,p=t.d;for(s=1,i=p[0];i>=10;i/=10)s++;if(r=e-s,r<0)r+=zt,a=e,d=p[h=0];else{if(h=Math.ceil((r+1)/zt),i=p.length,h>=i)return t;for(d=i=p[h],s=1;i>=10;i/=10)s++;r%=zt,a=r-zt+s}if(n!==void 0&&(i=wo(10,s-a-1),u=d/i%10|0,c=e<0||p[h+1]!==void 0||d%i,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?a>0?d/wo(10,s-a):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(i=sn(t),p.length=1,e=e-i-1,p[0]=wo(10,(zt-e%zt)%zt),t.e=Ul(-e/zt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,i=1,h--):(p.length=h+1,i=wo(10,zt-r),p[h]=a>0?(d/wo(10,s-a)%wo(10,a)|0)*i:0),c)for(;;)if(h==0){(p[0]+=i)==yn&&(p[0]=1,++t.e);break}else{if(p[h]+=i,p[h]!=yn)break;p[h--]=0,i=1}for(r=p.length;p[--r]===0;)p.pop();if(Ht&&(t.e>Lh||t.e<-Lh))throw Error(MS+sn(t));return t}function zj(t,e){var n,r,a,i,s,u,c,d,h,p,y=t.constructor,_=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ht?It(e,_):e;if(c=t.d,p=e.d,r=e.e,d=t.e,c=c.slice(),s=d-r,s){for(h=s<0,h?(n=c,s=-s,u=p.length):(n=p,r=d,u=c.length),a=Math.max(Math.ceil(_/zt),u)+2,s>a&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for(a=c.length,u=p.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(c[a]!=p[a]){h=c[a]<p[a];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,a=p.length-u;a>0;--a)c[u++]=0;for(a=p.length;a>s;){if(c[--a]<p[a]){for(i=a;i&&c[--i]===0;)c[i]=yn-1;--c[i],c[a]+=yn}c[a]-=p[a]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Ht?It(e,_):e):new y(0)}function Ro(t,e,n){var r,a=sn(t),i=aa(t.d),s=i.length;return e?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+Oi(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Oi(-a-1)+i,n&&(r=n-s)>0&&(i+=Oi(r))):a>=s?(i+=Oi(a+1-s),n&&(r=n-a-1)>0&&(i=i+"."+Oi(r))):((r=a+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(a+1===s&&(i+="."),i+=Oi(r))),t.s<0?"-"+i:i}function qD(t,e){if(t.length>e)return t.length=e,!0}function Gj(t){var e,n,r;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Mo+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return BD(s,i.toString())}else if(typeof i!="string")throw Error(Mo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,_z.test(i))BD(s,i);else throw Error(Mo+i)}if(a.prototype=Me,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Gj,a.config=a.set=wz,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function wz(t){if(!t||typeof t!="object")throw Error(Nr+"Object expected");var e,n,r,a=["precision",1,ql,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Ul(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(Mo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Mo+n+": "+r);return this}var DS=Gj(xz);dr=new DS(1);const Dt=DS;function Sz(t){return Ez(t)||Cz(t)||Az(t)||Tz()}function Tz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Az(t,e){if(t){if(typeof t=="string")return __(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(t,e)}}function Cz(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ez(t){if(Array.isArray(t))return __(t)}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kz=function(e){return e},Hj={},Kj=function(e){return e===Hj},UD=function(e){return function n(){return arguments.length===0||arguments.length===1&&Kj(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Oz=function t(e,n){return e===1?n:UD(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var s=a.filter(function(u){return u!==Hj}).length;return s>=e?n.apply(void 0,a):t(e-s,UD(function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];var h=a.map(function(p){return Kj(p)?c.shift():p});return n.apply(void 0,Sz(h).concat(c))}))})},Ym=function(e){return Oz(e.length,e)},w_=function(e,n){for(var r=[],a=e;a<n;++a)r[a-e]=a;return r},Mz=Ym(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Dz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return kz;var a=n.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(u,c){return c(u)},i.apply(void 0,arguments))}},S_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Yj=function(e){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n&&i.every(function(u,c){return u===n[c]})||(n=i,r=e.apply(void 0,i)),r}};function Nz(t){var e;return t===0?e=1:e=Math.floor(new Dt(t).abs().log(10).toNumber())+1,e}function Pz(t,e,n){for(var r=new Dt(t),a=0,i=[];r.lt(e)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var Rz=Ym(function(t,e,n){var r=+t,a=+e;return r+n*(a-r)}),Iz=Ym(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),jz=Ym(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Wm={rangeStep:Pz,getDigitCount:Nz,interpolateNumber:Rz,uninterpolateNumber:Iz,uninterpolateTruncation:jz};function T_(t){return Bz(t)||Lz(t)||Wj(t)||$z()}function $z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lz(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Bz(t){if(Array.isArray(t))return A_(t)}function Bc(t,e){return Fz(t)||Uz(t,e)||Wj(t,e)||qz()}function qz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wj(t,e){if(t){if(typeof t=="string")return A_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A_(t,e)}}function A_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uz(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),u;!(r=(u=s.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(a)throw i}}return n}}function Fz(t){if(Array.isArray(t))return t}function Xj(t){var e=Bc(t,2),n=e[0],r=e[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function Zj(t,e,n){if(t.lte(0))return new Dt(0);var r=Wm.getDigitCount(t.toNumber()),a=new Dt(10).pow(r),i=t.div(a),s=r!==1?.05:.1,u=new Dt(Math.ceil(i.div(s).toNumber())).add(n).mul(s),c=u.mul(a);return e?c:new Dt(Math.ceil(c))}function Vz(t,e,n){var r=1,a=new Dt(t);if(!a.isint()&&n){var i=Math.abs(t);i<1?(r=new Dt(10).pow(Wm.getDigitCount(t)-1),a=new Dt(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Dt(Math.floor(t)))}else t===0?a=new Dt(Math.floor((e-1)/2)):n||(a=new Dt(Math.floor(t)));var s=Math.floor((e-1)/2),u=Dz(Mz(function(c){return a.add(new Dt(c-s).mul(r)).toNumber()}),w_);return u(0,e)}function Jj(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var i=Zj(new Dt(e).sub(t).div(n-1),r,a),s;t<=0&&e>=0?s=new Dt(0):(s=new Dt(t).add(e).div(2),s=s.sub(new Dt(s).mod(i)));var u=Math.ceil(s.sub(t).div(i).toNumber()),c=Math.ceil(new Dt(e).sub(s).div(i).toNumber()),d=u+c+1;return d>n?Jj(t,e,n,r,a+1):(d<n&&(c=e>0?c+(n-d):c,u=e>0?u:u+(n-d)),{step:i,tickMin:s.sub(new Dt(u).mul(i)),tickMax:s.add(new Dt(c).mul(i))})}function zz(t){var e=Bc(t,2),n=e[0],r=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),u=Xj([n,r]),c=Bc(u,2),d=c[0],h=c[1];if(d===-1/0||h===1/0){var p=h===1/0?[d].concat(T_(w_(0,a-1).map(function(){return 1/0}))):[].concat(T_(w_(0,a-1).map(function(){return-1/0})),[h]);return n>r?S_(p):p}if(d===h)return Vz(d,a,i);var y=Jj(d,h,s,i),_=y.step,S=y.tickMin,A=y.tickMax,T=Wm.rangeStep(S,A.add(new Dt(.1).mul(_)),_);return n>r?S_(T):T}function Gz(t,e){var n=Bc(t,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Xj([r,a]),u=Bc(s,2),c=u[0],d=u[1];if(c===-1/0||d===1/0)return[r,a];if(c===d)return[c];var h=Math.max(e,2),p=Zj(new Dt(d).sub(c).div(h-1),i,0),y=[].concat(T_(Wm.rangeStep(new Dt(c),new Dt(d).sub(new Dt(.99).mul(p)),p)),[d]);return r>a?S_(y):y}var Hz=Yj(zz),Kz=Yj(Gz),Yz="Invariant failed";function Io(t,e){throw new Error(Yz)}var Wz=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(this,arguments)}function Xz(t,e){return eG(t)||Qz(t,e)||Jz(t,e)||Zz()}function Zz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jz(t,e){if(t){if(typeof t=="string")return FD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FD(t,e)}}function FD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw a}}return u}}function eG(t){if(Array.isArray(t))return t}function tG(t,e){if(t==null)return{};var n=nG(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t5(r.key),r)}}function iG(t,e,n){return e&&aG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oG(t,e,n){return e=qh(e),sG(t,Qj()?Reflect.construct(e,n||[],qh(t).constructor):e.apply(t,n))}function sG(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lG(t)}function lG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qj=function(){return!!t})()}function qh(t){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qh(t)}function uG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},C_(t,e)}function e5(t,e,n){return e=t5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t5(t){var e=cG(t,"string");return fl(e)=="symbol"?e:e+""}function cG(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xm=function(t){function e(){return rG(this,e),oG(this,e,arguments)}return uG(e,t),iG(e,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,s=r.width,u=r.dataKey,c=r.data,d=r.dataPointFormatter,h=r.xAxis,p=r.yAxis,y=tG(r,Wz),_=He(y,!1);this.props.direction==="x"&&h.type!=="number"&&Io();var S=c.map(function(A){var T=d(A,u),O=T.x,M=T.y,C=T.value,D=T.errorVal;if(!D)return null;var E=[],k,P;if(Array.isArray(D)){var I=Xz(D,2);k=I[0],P=I[1]}else k=P=D;if(i==="vertical"){var F=h.scale,z=M+a,B=z+s,W=z-s,Q=F(C-k),Y=F(C+P);E.push({x1:Y,y1:B,x2:Y,y2:W}),E.push({x1:Q,y1:z,x2:Y,y2:z}),E.push({x1:Q,y1:B,x2:Q,y2:W})}else if(i==="horizontal"){var q=p.scale,$=O+a,V=$-s,J=$+s,oe=q(C-k),U=q(C+P);E.push({x1:V,y1:U,x2:J,y2:U}),E.push({x1:$,y1:oe,x2:$,y2:U}),E.push({x1:V,y1:oe,x2:J,y2:oe})}return Z.createElement(Tt,Bh({className:"recharts-errorBar",key:"bar-".concat(E.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},_),E.map(function(K){return Z.createElement("line",Bh({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return Z.createElement(Tt,{className:"recharts-errorBars"},S)}}])}(Z.Component);e5(Xm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});e5(Xm,"displayName","ErrorBar");function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function go(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){dG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dG(t,e,n){return e=fG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fG(t){var e=hG(t,"string");return qc(e)=="symbol"?e:e+""}function hG(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n5=function(e){var n=e.children,r=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=cr(n,Ri);if(!s)return null;var u=Ri.defaultProps,c=u!==void 0?go(go({},u),s.props):{},d;return s.props&&s.props.payload?d=s.props&&s.props.payload:i==="children"?d=(r||[]).reduce(function(h,p){var y=p.item,_=p.props,S=_.sectors||_.data||[];return h.concat(S.map(function(A){return{type:s.props.iconType||y.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):d=(r||[]).map(function(h){var p=h.item,y=p.type.defaultProps,_=y!==void 0?go(go({},y),p.props):{},S=_.dataKey,A=_.name,T=_.legendType,O=_.hide;return{inactive:O,dataKey:S,type:c.iconType||T||"square",color:NS(p),value:A||S,payload:_}}),go(go(go({},c),Ri.getWithHeight(s,a)),{},{payload:d,item:s})};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function zD(t){return vG(t)||gG(t)||pG(t)||mG()}function mG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pG(t,e){if(t){if(typeof t=="string")return E_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(t,e)}}function gG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vG(t){if(Array.isArray(t))return E_(t)}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){el(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function el(t,e,n){return e=yG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yG(t){var e=bG(t,"string");return Uc(e)=="symbol"?e:e+""}function bG(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mn(t,e,n){return lt(t)||lt(e)?n:dn(e)?hr(t,e,n):Ke(e)?e(t):n}function xc(t,e,n,r){var a=vz(t,function(u){return Mn(u,e)});if(n==="number"){var i=a.filter(function(u){return Te(u)||parseFloat(u)});return i.length?[Hm(i),Gm(i)]:[1/0,-1/0]}var s=r?a.filter(function(u){return!lt(u)}):a;return s.map(function(u){return dn(u)||u instanceof Date?u:""})}var xG=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<u;d++){var h=d>0?a[d-1].coordinate:a[u-1].coordinate,p=a[d].coordinate,y=d>=u-1?a[0].coordinate:a[d+1].coordinate,_=void 0;if($n(p-h)!==$n(y-p)){var S=[];if($n(y-p)===$n(c[1]-c[0])){_=y;var A=p+c[1]-c[0];S[0]=Math.min(A,(A+h)/2),S[1]=Math.max(A,(A+h)/2)}else{_=h;var T=y+c[1]-c[0];S[0]=Math.min(p,(T+p)/2),S[1]=Math.max(p,(T+p)/2)}var O=[Math.min(p,(_+p)/2),Math.max(p,(_+p)/2)];if(e>O[0]&&e<=O[1]||e>=S[0]&&e<=S[1]){s=a[d].index;break}}else{var M=Math.min(h,y),C=Math.max(h,y);if(e>(M+p)/2&&e<=(C+p)/2){s=a[d].index;break}}}else for(var D=0;D<u;D++)if(D===0&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D>0&&D<u-1&&e>(r[D].coordinate+r[D-1].coordinate)/2&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D===u-1&&e>(r[D].coordinate+r[D-1].coordinate)/2){s=r[D].index;break}return s},NS=function(e){var n,r=e,a=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Xt(Xt({},e.type.defaultProps),e.props):e.props,s=i.stroke,u=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},_G=function(e){var n=e.barSize,r=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},u=Object.keys(i),c=0,d=u.length;c<d;c++)for(var h=i[u[c]].stackGroups,p=Object.keys(h),y=0,_=p.length;y<_;y++){var S=h[p[y]],A=S.items,T=S.cateAxisId,O=A.filter(function(P){return La(P.type).indexOf("Bar")>=0});if(O&&O.length){var M=O[0].type.defaultProps,C=M!==void 0?Xt(Xt({},M),O[0].props):O[0].props,D=C.barSize,E=C[T];s[E]||(s[E]=[]);var k=lt(D)?n:D;s[E].push({item:O[0],stackList:O.slice(1),barSize:lt(k)?void 0:Ln(k,r,0)})}}return s},wG=function(e){var n=e.barGap,r=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,u=e.maxBarSize,c=s.length;if(c<1)return null;var d=Ln(n,a,0,!0),h,p=[];if(s[0].barSize===+s[0].barSize){var y=!1,_=a/c,S=s.reduce(function(D,E){return D+E.barSize||0},0);S+=(c-1)*d,S>=a&&(S-=(c-1)*d,d=0),S>=a&&_>0&&(y=!0,_*=.9,S=c*_);var A=(a-S)/2>>0,T={offset:A-d,size:0};h=s.reduce(function(D,E){var k={item:E.item,position:{offset:T.offset+T.size+d,size:y?_:E.barSize}},P=[].concat(zD(D),[k]);return T=P[P.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){P.push({item:I,position:T})}),P},p)}else{var O=Ln(r,a,0,!0);a-2*O-(c-1)*d<=0&&(d=0);var M=(a-2*O-(c-1)*d)/c;M>1&&(M>>=0);var C=u===+u?Math.min(M,u):M;h=s.reduce(function(D,E,k){var P=[].concat(zD(D),[{item:E.item,position:{offset:O+(M+d)*k+(M-C)/2,size:C}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){P.push({item:I,position:P[P.length-1].position})}),P},p)}return h},SG=function(e,n,r,a){var i=r.children,s=r.width,u=r.margin,c=s-(u.left||0)-(u.right||0),d=n5({children:i,legendWidth:c});if(d){var h=a||{},p=h.width,y=h.height,_=d.align,S=d.verticalAlign,A=d.layout;if((A==="vertical"||A==="horizontal"&&S==="middle")&&_!=="center"&&Te(e[_]))return Xt(Xt({},e),{},el({},_,e[_]+(p||0)));if((A==="horizontal"||A==="vertical"&&_==="center")&&S!=="middle"&&Te(e[S]))return Xt(Xt({},e),{},el({},S,e[S]+(y||0)))}return e},TG=function(e,n,r){return lt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},r5=function(e,n,r,a,i){var s=n.props.children,u=Dr(s,Xm).filter(function(d){return TG(a,i,d.props.direction)});if(u&&u.length){var c=u.map(function(d){return d.props.dataKey});return e.reduce(function(d,h){var p=Mn(h,r);if(lt(p))return d;var y=Array.isArray(p)?[Hm(p),Gm(p)]:[p,p],_=c.reduce(function(S,A){var T=Mn(h,A,0),O=y[0]-Math.abs(Array.isArray(T)?T[0]:T),M=y[1]+Math.abs(Array.isArray(T)?T[1]:T);return[Math.min(O,S[0]),Math.max(M,S[1])]},[1/0,-1/0]);return[Math.min(_[0],d[0]),Math.max(_[1],d[1])]},[1/0,-1/0])}return null},AG=function(e,n,r,a,i){var s=n.map(function(u){return r5(e,u,r,i,a)}).filter(function(u){return!lt(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},a5=function(e,n,r,a,i){var s=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&r5(e,c,d,a)||xc(e,d,r,i)});if(r==="number")return s.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,d){for(var h=0,p=d.length;h<p;h++)u[d[h]]||(u[d[h]]=!0,c.push(d[h]));return c},[])},i5=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},o5=function(e,n,r,a){if(a)return e.map(function(c){return c.coordinate});var i,s,u=e.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(s=!0),c.coordinate});return i||u.push(n),s||u.push(r),u},$a=function(e,n,r){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(n||r)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?$n(u[0]-u[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var y=i?i.indexOf(p):p;return{coordinate:a(y)+d,value:p,offset:d}});return h.filter(function(p){return!fd(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,y){return{coordinate:a(p)+d,value:p,index:y,offset:d}}):a.ticks&&!r?a.ticks(e.tickCount).map(function(p){return{coordinate:a(p)+d,value:p,offset:d}}):a.domain().map(function(p,y){return{coordinate:a(p)+d,value:i?i[p]:p,index:y,offset:d}})},nx=new WeakMap,th=function(e,n){if(typeof n!="function")return e;nx.has(e)||nx.set(e,new WeakMap);var r=nx.get(e);if(r.has(n))return r.get(n);var a=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},s5=function(e,n,r){var a=e.scale,i=e.type,s=e.layout,u=e.axisType;if(a==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Pc(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:Rh(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:bc(),realScaleType:"point"}:i==="category"?{scale:Pc(),realScaleType:"band"}:{scale:Rh(),realScaleType:"linear"};if(Do(a)){var c="scale".concat(Mm(a));return{scale:(MD[c]||bc)(),realScaleType:MD[c]?c:"point"}}return Ke(a)?{scale:a}:{scale:bc(),realScaleType:"point"}},HD=1e-4,l5=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,a=e.range(),i=Math.min(a[0],a[1])-HD,s=Math.max(a[0],a[1])+HD,u=e(n[0]),c=e(n[r-1]);(u<i||u>s||c<i||c>s)&&e.domain([n[0],n[r-1]])}},CG=function(e,n){if(!e)return null;for(var r=0,a=e.length;r<a;r++)if(e[r].item===n)return e[r].position;return null},EG=function(e,n){if(!n||n.length!==2||!Te(n[0])||!Te(n[1]))return e;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!Te(e[0])||e[0]<r)&&(i[0]=r),(!Te(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},kG=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,s=0,u=0;u<n;++u){var c=fd(e[u][r][1])?e[u][r][0]:e[u][r][1];c>=0?(e[u][r][0]=i,e[u][r][1]=i+c,i=e[u][r][1]):(e[u][r][0]=s,e[u][r][1]=s+c,s=e[u][r][1])}},OG=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,s=0;s<n;++s){var u=fd(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=i,e[s][r][1]=i+u,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},MG={sign:kG,expand:v6,none:al,silhouette:y6,wiggle:b6,positive:OG},DG=function(e,n,r){var a=n.map(function(u){return u.props.dataKey}),i=MG[r],s=g6().keys(a).value(function(u,c){return+Mn(u,c,0)}).order(r_).offset(i);return s(e)},NG=function(e,n,r,a,i,s){if(!e)return null;var u=s?n.reverse():n,c={},d=u.reduce(function(p,y){var _,S=(_=y.type)!==null&&_!==void 0&&_.defaultProps?Xt(Xt({},y.type.defaultProps),y.props):y.props,A=S.stackId,T=S.hide;if(T)return p;var O=S[r],M=p[O]||{hasStack:!1,stackGroups:{}};if(dn(A)){var C=M.stackGroups[A]||{numericAxisId:r,cateAxisId:a,items:[]};C.items.push(y),M.hasStack=!0,M.stackGroups[A]=C}else M.stackGroups[hd("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[y]};return Xt(Xt({},p),{},el({},O,M))},c),h={};return Object.keys(d).reduce(function(p,y){var _=d[y];if(_.hasStack){var S={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(A,T){var O=_.stackGroups[T];return Xt(Xt({},A),{},el({},T,{numericAxisId:r,cateAxisId:a,items:O.items,stackedData:DG(e,O.items,i)}))},S)}return Xt(Xt({},p),{},el({},y,_))},h)},u5=function(e,n){var r=n.realScaleType,a=n.type,i=n.tickCount,s=n.originalDomain,u=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var d=e.domain();if(!d.length)return null;var h=Hz(d,i,u);return e.domain([Hm(h),Gm(h)]),{niceTicks:h}}if(i&&a==="number"){var p=e.domain(),y=Kz(p,i,u);return{niceTicks:y}}return null},KD=function(e){var n=e.axis,r=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+a:null;var c=Mn(s,n.dataKey,n.domain[u]);return lt(c)?null:n.scale(c)-i/2+a},PG=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},RG=function(e,n){var r,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Xt(Xt({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(dn(i)){var s=n[i];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},IG=function(e){return e.reduce(function(n,r){return[Hm(r.concat([n[0]]).filter(Te)),Gm(r.concat([n[1]]).filter(Te))]},[1/0,-1/0])},c5=function(e,n,r){return Object.keys(e).reduce(function(a,i){var s=e[i],u=s.stackedData,c=u.reduce(function(d,h){var p=IG(h.slice(n,r+1));return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},YD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k_=function(e,n,r){if(Ke(e))return e(n,r);if(!Array.isArray(e))return n;var a=[];if(Te(e[0]))a[0]=r?e[0]:Math.min(e[0],n[0]);else if(YD.test(e[0])){var i=+YD.exec(e[0])[1];a[0]=n[0]-i}else Ke(e[0])?a[0]=e[0](n[0]):a[0]=n[0];if(Te(e[1]))a[1]=r?e[1]:Math.max(e[1],n[1]);else if(WD.test(e[1])){var s=+WD.exec(e[1])[1];a[1]=n[1]+s}else Ke(e[1])?a[1]=e[1](n[1]):a[1]=n[1];return a},Uh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&n&&n.length>=2){for(var i=oS(n,function(p){return p.coordinate}),s=1/0,u=1,c=i.length;u<c;u++){var d=i[u],h=i[u-1];s=Math.min((d.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},XD=function(e,n,r){return!e||!e.length||Km(e,hr(r,"type.defaultProps.domain"))?n:e},d5=function(e,n){var r=e.type.defaultProps?Xt(Xt({},e.type.defaultProps),e.props):e.props,a=r.dataKey,i=r.name,s=r.unit,u=r.formatter,c=r.tooltipType,d=r.chartType,h=r.hide;return Xt(Xt({},He(e,!1)),{},{dataKey:a,unit:s,formatter:u,name:i||a,color:NS(e),value:Mn(n,a),type:c,payload:n,chartType:d,hide:h})};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){f5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f5(t,e,n){return e=jG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jG(t){var e=$G(t,"string");return Fc(e)=="symbol"?e:e+""}function $G(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LG(t,e){return FG(t)||UG(t,e)||qG(t,e)||BG()}function BG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qG(t,e){if(t){if(typeof t=="string")return JD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JD(t,e)}}function JD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw a}}return u}}function FG(t){if(Array.isArray(t))return t}var Fh=Math.PI/180,VG=function(e){return e*180/Math.PI},qt=function(e,n,r,a){return{x:e+Math.cos(-Fh*a)*r,y:n+Math.sin(-Fh*a)*r}},h5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},zG=function(e,n,r,a,i){var s=e.width,u=e.height,c=e.startAngle,d=e.endAngle,h=Ln(e.cx,s,s/2),p=Ln(e.cy,u,u/2),y=h5(s,u,r),_=Ln(e.innerRadius,y,0),S=Ln(e.outerRadius,y,y*.8),A=Object.keys(n);return A.reduce(function(T,O){var M=n[O],C=M.domain,D=M.reversed,E;if(lt(M.range))a==="angleAxis"?E=[c,d]:a==="radiusAxis"&&(E=[_,S]),D&&(E=[E[1],E[0]]);else{E=M.range;var k=E,P=LG(k,2);c=P[0],d=P[1]}var I=s5(M,i),F=I.realScaleType,z=I.scale;z.domain(C).range(E),l5(z);var B=u5(z,Ra(Ra({},M),{},{realScaleType:F})),W=Ra(Ra(Ra({},M),B),{},{range:E,radius:S,realScaleType:F,scale:z,cx:h,cy:p,innerRadius:_,outerRadius:S,startAngle:c,endAngle:d});return Ra(Ra({},T),{},f5({},O,W))},{})},GG=function(e,n){var r=e.x,a=e.y,i=n.x,s=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-s,2))},HG=function(e,n){var r=e.x,a=e.y,i=n.cx,s=n.cy,u=GG({x:r,y:a},{x:i,y:s});if(u<=0)return{radius:u};var c=(r-i)/u,d=Math.acos(c);return a>s&&(d=2*Math.PI-d),{radius:u,angle:VG(d),angleInRadian:d}},KG=function(e){var n=e.startAngle,r=e.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),s=Math.min(a,i);return{startAngle:n-s*360,endAngle:r-s*360}},YG=function(e,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),s=Math.floor(a/360),u=Math.min(i,s);return e+u*360},QD=function(e,n){var r=e.x,a=e.y,i=HG({x:r,y:a},n),s=i.radius,u=i.angle,c=n.innerRadius,d=n.outerRadius;if(s<c||s>d)return!1;if(s===0)return!0;var h=KG(n),p=h.startAngle,y=h.endAngle,_=u,S;if(p<=y){for(;_>y;)_-=360;for(;_<p;)_+=360;S=_>=p&&_<=y}else{for(;_>p;)_-=360;for(;_<y;)_+=360;S=_>=y&&_<=p}return S?Ra(Ra({},n),{},{radius:s,angle:YG(_,n)}):null},m5=function(e){return!j.isValidElement(e)&&!Ke(e)&&typeof e!="boolean"?e.className:""};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}var WG=["offset"];function XG(t){return eH(t)||QG(t)||JG(t)||ZG()}function ZG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JG(t,e){if(t){if(typeof t=="string")return O_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O_(t,e)}}function QG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eH(t){if(Array.isArray(t))return O_(t)}function O_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tH(t,e){if(t==null)return{};var n=nH(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){rH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rH(t,e,n){return e=aH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aH(t){var e=iH(t,"string");return Vc(e)=="symbol"?e:e+""}function iH(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(this,arguments)}var oH=function(e){var n=e.value,r=e.formatter,a=lt(e.children)?n:e.children;return Ke(r)?r(a):a},sH=function(e,n){var r=$n(n-e),a=Math.min(Math.abs(n-e),360);return r*a},lH=function(e,n,r){var a=e.position,i=e.viewBox,s=e.offset,u=e.className,c=i,d=c.cx,h=c.cy,p=c.innerRadius,y=c.outerRadius,_=c.startAngle,S=c.endAngle,A=c.clockWise,T=(p+y)/2,O=sH(_,S),M=O>=0?1:-1,C,D;a==="insideStart"?(C=_+M*s,D=A):a==="insideEnd"?(C=S-M*s,D=!A):a==="end"&&(C=S+M*s,D=A),D=O<=0?D:!D;var E=qt(d,h,T,C),k=qt(d,h,T,C+(D?1:-1)*359),P="M".concat(E.x,",").concat(E.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(D?0:1,`,
    `).concat(k.x,",").concat(k.y),I=lt(e.id)?hd("recharts-radial-line-"):e.id;return Z.createElement("text",zc({},r,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",u)}),Z.createElement("defs",null,Z.createElement("path",{id:I,d:P})),Z.createElement("textPath",{xlinkHref:"#".concat(I)},n))},uH=function(e){var n=e.viewBox,r=e.offset,a=e.position,i=n,s=i.cx,u=i.cy,c=i.innerRadius,d=i.outerRadius,h=i.startAngle,p=i.endAngle,y=(h+p)/2;if(a==="outside"){var _=qt(s,u,d+r,y),S=_.x,A=_.y;return{x:S,y:A,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var T=(c+d)/2,O=qt(s,u,T,y),M=O.x,C=O.y;return{x:M,y:C,textAnchor:"middle",verticalAnchor:"middle"}},cH=function(e){var n=e.viewBox,r=e.parentViewBox,a=e.offset,i=e.position,s=n,u=s.x,c=s.y,d=s.width,h=s.height,p=h>=0?1:-1,y=p*a,_=p>0?"end":"start",S=p>0?"start":"end",A=d>=0?1:-1,T=A*a,O=A>0?"end":"start",M=A>0?"start":"end";if(i==="top"){var C={x:u+d/2,y:c-p*a,textAnchor:"middle",verticalAnchor:_};return cn(cn({},C),r?{height:Math.max(c-r.y,0),width:d}:{})}if(i==="bottom"){var D={x:u+d/2,y:c+h+y,textAnchor:"middle",verticalAnchor:S};return cn(cn({},D),r?{height:Math.max(r.y+r.height-(c+h),0),width:d}:{})}if(i==="left"){var E={x:u-T,y:c+h/2,textAnchor:O,verticalAnchor:"middle"};return cn(cn({},E),r?{width:Math.max(E.x-r.x,0),height:h}:{})}if(i==="right"){var k={x:u+d+T,y:c+h/2,textAnchor:M,verticalAnchor:"middle"};return cn(cn({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:h}:{})}var P=r?{width:d,height:h}:{};return i==="insideLeft"?cn({x:u+T,y:c+h/2,textAnchor:M,verticalAnchor:"middle"},P):i==="insideRight"?cn({x:u+d-T,y:c+h/2,textAnchor:O,verticalAnchor:"middle"},P):i==="insideTop"?cn({x:u+d/2,y:c+y,textAnchor:"middle",verticalAnchor:S},P):i==="insideBottom"?cn({x:u+d/2,y:c+h-y,textAnchor:"middle",verticalAnchor:_},P):i==="insideTopLeft"?cn({x:u+T,y:c+y,textAnchor:M,verticalAnchor:S},P):i==="insideTopRight"?cn({x:u+d-T,y:c+y,textAnchor:O,verticalAnchor:S},P):i==="insideBottomLeft"?cn({x:u+T,y:c+h-y,textAnchor:M,verticalAnchor:_},P):i==="insideBottomRight"?cn({x:u+d-T,y:c+h-y,textAnchor:O,verticalAnchor:_},P):jl(i)&&(Te(i.x)||Ao(i.x))&&(Te(i.y)||Ao(i.y))?cn({x:u+Ln(i.x,d),y:c+Ln(i.y,h),textAnchor:"end",verticalAnchor:"end"},P):cn({x:u+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},dH=function(e){return"cx"in e&&Te(e.cx)};function bn(t){var e=t.offset,n=e===void 0?5:e,r=tH(t,WG),a=cn({offset:n},r),i=a.viewBox,s=a.position,u=a.value,c=a.children,d=a.content,h=a.className,p=h===void 0?"":h,y=a.textBreakAll;if(!i||lt(u)&&lt(c)&&!j.isValidElement(d)&&!Ke(d))return null;if(j.isValidElement(d))return j.cloneElement(d,a);var _;if(Ke(d)){if(_=j.createElement(d,a),j.isValidElement(_))return _}else _=oH(a);var S=dH(i),A=He(a,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return lH(a,_,A);var T=S?uH(a):cH(a);return Z.createElement(Po,zc({className:rt("recharts-label",p)},A,T,{breakAll:y}),_)}bn.displayName="Label";var p5=function(e){var n=e.cx,r=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,d=e.innerRadius,h=e.outerRadius,p=e.x,y=e.y,_=e.top,S=e.left,A=e.width,T=e.height,O=e.clockWise,M=e.labelViewBox;if(M)return M;if(Te(A)&&Te(T)){if(Te(p)&&Te(y))return{x:p,y,width:A,height:T};if(Te(_)&&Te(S))return{x:_,y:S,width:A,height:T}}return Te(p)&&Te(y)?{x:p,y,width:0,height:0}:Te(n)&&Te(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:s||a||0,innerRadius:d||0,outerRadius:h||c||u||0,clockWise:O}:e.viewBox?e.viewBox:{}},fH=function(e,n){return e?e===!0?Z.createElement(bn,{key:"label-implicit",viewBox:n}):dn(e)?Z.createElement(bn,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===bn?j.cloneElement(e,{key:"label-implicit",viewBox:n}):Z.createElement(bn,{key:"label-implicit",content:e,viewBox:n}):Ke(e)?Z.createElement(bn,{key:"label-implicit",content:e,viewBox:n}):jl(e)?Z.createElement(bn,zc({viewBox:n},e,{key:"label-implicit"})):null:null},hH=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=p5(e),s=Dr(a,bn).map(function(c,d){return j.cloneElement(c,{viewBox:n||i,key:"label-".concat(d)})});if(!r)return s;var u=fH(e.label,n||i);return[u].concat(XG(s))};bn.parseViewBox=p5;bn.renderCallByParent=hH;var rx,tN;function mH(){if(tN)return rx;tN=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return rx=t,rx}var pH=mH();const gH=vt(pH);function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}var vH=["valueAccessor"],yH=["data","dataKey","clockWise","id","textBreakAll"];function bH(t){return SH(t)||wH(t)||_H(t)||xH()}function xH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _H(t,e){if(t){if(typeof t=="string")return M_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M_(t,e)}}function wH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SH(t){if(Array.isArray(t))return M_(t)}function M_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){TH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TH(t,e,n){return e=AH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AH(t){var e=CH(t,"string");return Gc(e)=="symbol"?e:e+""}function CH(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aN(t,e){if(t==null)return{};var n=EH(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kH=function(e){return Array.isArray(e.value)?gH(e.value):e.value};function ji(t){var e=t.valueAccessor,n=e===void 0?kH:e,r=aN(t,vH),a=r.data,i=r.dataKey,s=r.clockWise,u=r.id,c=r.textBreakAll,d=aN(r,yH);return!a||!a.length?null:Z.createElement(Tt,{className:"recharts-label-list"},a.map(function(h,p){var y=lt(i)?n(h,p):Mn(h&&h.payload,i),_=lt(u)?{}:{id:"".concat(u,"-").concat(p)};return Z.createElement(bn,Vh({},He(h,!0),d,_,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:bn.parseViewBox(lt(s)?h:rN(rN({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}ji.displayName="LabelList";function OH(t,e){return t?t===!0?Z.createElement(ji,{key:"labelList-implicit",data:e}):Z.isValidElement(t)||Ke(t)?Z.createElement(ji,{key:"labelList-implicit",data:e,content:t}):jl(t)?Z.createElement(ji,Vh({data:e},t,{key:"labelList-implicit"})):null:null}function MH(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,a=Dr(r,ji).map(function(s,u){return j.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!n)return a;var i=OH(t.label,e);return[i].concat(bH(a))}ji.renderCallByParent=MH;function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}function iN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function oN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(n),!0).forEach(function(r){DH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DH(t,e,n){return e=NH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NH(t){var e=PH(t,"string");return Hc(e)=="symbol"?e:e+""}function PH(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RH=function(e,n){var r=$n(n-e),a=Math.min(Math.abs(n-e),359.999);return r*a},nh=function(e){var n=e.cx,r=e.cy,a=e.radius,i=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,h=c*(u?1:-1)+a,p=Math.asin(c/h)/Fh,y=d?i:i+s*p,_=qt(n,r,h,y),S=qt(n,r,a,y),A=d?i-s*p:i,T=qt(n,r,h*Math.cos(p*Fh),A);return{center:_,circleTangency:S,lineTangency:T,theta:p}},g5=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,u=e.endAngle,c=RH(s,u),d=s+c,h=qt(n,r,i,s),p=qt(n,r,i,d),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(a>0){var _=qt(n,r,a,s),S=qt(n,r,a,d);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=d),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},IH=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,h=e.endAngle,p=$n(h-d),y=nh({cx:n,cy:r,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:c}),_=y.circleTangency,S=y.lineTangency,A=y.theta,T=nh({cx:n,cy:r,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:c}),O=T.circleTangency,M=T.lineTangency,C=T.theta,D=c?Math.abs(d-h):Math.abs(d-h)-A-C;if(D<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):g5({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:d,endAngle:h});var E="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(p<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
  `);if(a>0){var k=nh({cx:n,cy:r,radius:a,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),P=k.circleTangency,I=k.lineTangency,F=k.theta,z=nh({cx:n,cy:r,radius:a,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),B=z.circleTangency,W=z.lineTangency,Q=z.theta,Y=c?Math.abs(d-h):Math.abs(d-h)-F-Q;if(Y<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(W.x,",").concat(W.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(Y>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},jH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},v5=function(e){var n=oN(oN({},jH),e),r=n.cx,a=n.cy,i=n.innerRadius,s=n.outerRadius,u=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,y=n.className;if(s<i||h===p)return null;var _=rt("recharts-sector",y),S=s-i,A=Ln(u,S,0,!0),T;return A>0&&Math.abs(h-p)<360?T=IH({cx:r,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(A,S/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:p}):T=g5({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),Z.createElement("path",D_({},He(n,!0),{className:_,d:T,role:"img"}))};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){$H(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $H(t,e,n){return e=LH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LH(t){var e=BH(t,"string");return Kc(e)=="symbol"?e:e+""}function BH(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uN={curveBasisClosed:i6,curveBasisOpen:o6,curveBasis:a6,curveBumpX:zU,curveBumpY:GU,curveLinearClosed:s6,curveLinear:Nm,curveMonotoneX:l6,curveMonotoneY:u6,curveNatural:c6,curveStep:d6,curveStepAfter:h6,curveStepBefore:f6},rh=function(e){return e.x===+e.x&&e.y===+e.y},ac=function(e){return e.x},ic=function(e){return e.y},qH=function(e,n){if(Ke(e))return e;var r="curve".concat(Mm(e));return(r==="curveMonotone"||r==="curveBump")&&n?uN["".concat(r).concat(n==="vertical"?"Y":"X")]:uN[r]||Nm},UH=function(e){var n=e.type,r=n===void 0?"linear":n,a=e.points,i=a===void 0?[]:a,s=e.baseLine,u=e.layout,c=e.connectNulls,d=c===void 0?!1:c,h=qH(r,u),p=d?i.filter(function(A){return rh(A)}):i,y;if(Array.isArray(s)){var _=d?s.filter(function(A){return rh(A)}):s,S=p.map(function(A,T){return lN(lN({},A),{},{base:_[T]})});return u==="vertical"?y=Yf().y(ic).x1(ac).x0(function(A){return A.base.x}):y=Yf().x(ac).y1(ic).y0(function(A){return A.base.y}),y.defined(rh).curve(h),y(S)}return u==="vertical"&&Te(s)?y=Yf().y(ic).x1(ac).x0(s):Te(s)?y=Yf().x(ac).y1(ic).y0(s):y=mI().x(ac).y(ic),y.defined(rh).curve(h),y(p)},P_=function(e){var n=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var s=r&&r.length?UH(e):a;return Z.createElement("path",N_({},He(e,!1),vh(e),{className:rt("recharts-curve",n),d:s,ref:i}))},ax={exports:{}},ix,cN;function FH(){if(cN)return ix;cN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ix=t,ix}var ox,dN;function VH(){if(dN)return ox;dN=1;var t=FH();function e(){}function n(){}return n.resetWarningCache=e,ox=function(){function r(s,u,c,d,h,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},ox}var fN;function zH(){return fN||(fN=1,ax.exports=VH()()),ax.exports}var GH=zH();const xt=vt(GH);var HH=Object.getOwnPropertyNames,KH=Object.getOwnPropertySymbols,YH=Object.prototype.hasOwnProperty;function hN(t,e){return function(r,a,i){return t(r,a,i)&&e(r,a,i)}}function ah(t){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,a);var i=a.cache,s=i.get(n),u=i.get(r);if(s&&u)return s===r&&u===n;i.set(n,r),i.set(r,n);var c=t(n,r,a);return i.delete(n),i.delete(r),c}}function mN(t){return HH(t).concat(KH(t))}var WH=Object.hasOwn||function(t,e){return YH.call(t,e)};function zo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var XH="__v",ZH="__o",JH="_owner",pN=Object.getOwnPropertyDescriptor,gN=Object.keys;function QH(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function eK(t,e){return zo(t.getTime(),e.getTime())}function tK(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function nK(t,e){return t===e}function vN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.entries(),s,u,c=0;(s=i.next())&&!s.done;){for(var d=e.entries(),h=!1,p=0;(u=d.next())&&!u.done;){if(a[p]){p++;continue}var y=s.value,_=u.value;if(n.equals(y[0],_[0],c,p,t,e,n)&&n.equals(y[1],_[1],y[0],_[0],t,e,n)){h=a[p]=!0;break}p++}if(!h)return!1;c++}return!0}var rK=zo;function aK(t,e,n){var r=gN(t),a=r.length;if(gN(e).length!==a)return!1;for(;a-- >0;)if(!y5(t,e,n,r[a]))return!1;return!0}function oc(t,e,n){var r=mN(t),a=r.length;if(mN(e).length!==a)return!1;for(var i,s,u;a-- >0;)if(i=r[a],!y5(t,e,n,i)||(s=pN(t,i),u=pN(e,i),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function iK(t,e){return zo(t.valueOf(),e.valueOf())}function oK(t,e){return t.source===e.source&&t.flags===e.flags}function yN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.values(),s,u;(s=i.next())&&!s.done;){for(var c=e.values(),d=!1,h=0;(u=c.next())&&!u.done;){if(!a[h]&&n.equals(s.value,u.value,s.value,u.value,t,e,n)){d=a[h]=!0;break}h++}if(!d)return!1}return!0}function sK(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function lK(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function y5(t,e,n,r){return(r===JH||r===ZH||r===XH)&&(t.$$typeof||e.$$typeof)?!0:WH(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var uK="[object Arguments]",cK="[object Boolean]",dK="[object Date]",fK="[object Error]",hK="[object Map]",mK="[object Number]",pK="[object Object]",gK="[object RegExp]",vK="[object Set]",yK="[object String]",bK="[object URL]",xK=Array.isArray,bN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,xN=Object.assign,_K=Object.prototype.toString.call.bind(Object.prototype.toString);function wK(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,u=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,h=t.areSetsEqual,p=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(S,A,T){if(S===A)return!0;if(S==null||A==null)return!1;var O=typeof S;if(O!==typeof A)return!1;if(O!=="object")return O==="number"?s(S,A,T):O==="function"?a(S,A,T):!1;var M=S.constructor;if(M!==A.constructor)return!1;if(M===Object)return u(S,A,T);if(xK(S))return e(S,A,T);if(bN!=null&&bN(S))return p(S,A,T);if(M===Date)return n(S,A,T);if(M===RegExp)return d(S,A,T);if(M===Map)return i(S,A,T);if(M===Set)return h(S,A,T);var C=_K(S);return C===dK?n(S,A,T):C===gK?d(S,A,T):C===hK?i(S,A,T):C===vK?h(S,A,T):C===pK?typeof S.then!="function"&&typeof A.then!="function"&&u(S,A,T):C===bK?y(S,A,T):C===fK?r(S,A,T):C===uK?u(S,A,T):C===cK||C===mK||C===yK?c(S,A,T):!1}}function SK(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,a={areArraysEqual:r?oc:QH,areDatesEqual:eK,areErrorsEqual:tK,areFunctionsEqual:nK,areMapsEqual:r?hN(vN,oc):vN,areNumbersEqual:rK,areObjectsEqual:r?oc:aK,arePrimitiveWrappersEqual:iK,areRegExpsEqual:oK,areSetsEqual:r?hN(yN,oc):yN,areTypedArraysEqual:r?oc:sK,areUrlsEqual:lK};if(n&&(a=xN({},a,n(a))),e){var i=ah(a.areArraysEqual),s=ah(a.areMapsEqual),u=ah(a.areObjectsEqual),c=ah(a.areSetsEqual);a=xN({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:u,areSetsEqual:c})}return a}function TK(t){return function(e,n,r,a,i,s,u){return t(e,n,u)}}function AK(t){var e=t.circular,n=t.comparator,r=t.createState,a=t.equals,i=t.strict;if(r)return function(c,d){var h=r(),p=h.cache,y=p===void 0?e?new WeakMap:void 0:p,_=h.meta;return n(c,d,{cache:y,equals:a,meta:_,strict:i})};if(e)return function(c,d){return n(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return n(c,d,s)}}var CK=zi();zi({strict:!0});zi({circular:!0});zi({circular:!0,strict:!0});zi({createInternalComparator:function(){return zo}});zi({strict:!0,createInternalComparator:function(){return zo}});zi({circular:!0,createInternalComparator:function(){return zo}});zi({circular:!0,createInternalComparator:function(){return zo},strict:!0});function zi(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,u=SK(t),c=wK(u),d=r?r(c):TK(c);return AK({circular:n,comparator:c,createState:a,equals:d,strict:s})}function EK(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function _N(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>e?(t(i),n=-1):EK(a)};requestAnimationFrame(r)}function R_(t){"@babel/helpers - typeof";return R_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R_(t)}function kK(t){return NK(t)||DK(t)||MK(t)||OK()}function OK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(t,e){if(t){if(typeof t=="string")return wN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wN(t,e)}}function wN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NK(t){if(Array.isArray(t))return t}function PK(){var t={},e=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var s=i,u=kK(s),c=u[0],d=u.slice(1);if(typeof c=="number"){_N(a.bind(null,d),c);return}a(c),_N(a.bind(null,d));return}R_(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function TN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(r){b5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b5(t,e,n){return e=RK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RK(t){var e=IK(t,"string");return Yc(e)==="symbol"?e:String(e)}function IK(t,e){if(Yc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jK=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},$K=function(e){return e},LK=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},_c=function(e,n){return Object.keys(n).reduce(function(r,a){return TN(TN({},r),{},b5({},a,e(a,n[a])))},{})},AN=function(e,n,r){return e.map(function(a){return"".concat(LK(a)," ").concat(n,"ms ").concat(r)}).join(",")};function BK(t,e){return FK(t)||UK(t,e)||x5(t,e)||qK()}function qK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw a}}return u}}function FK(t){if(Array.isArray(t))return t}function VK(t){return HK(t)||GK(t)||x5(t)||zK()}function zK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x5(t,e){if(t){if(typeof t=="string")return I_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(t,e)}}function GK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HK(t){if(Array.isArray(t))return I_(t)}function I_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zh=1e-4,_5=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},w5=function(e,n){return e.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},CN=function(e,n){return function(r){var a=_5(e,n);return w5(a,r)}},KK=function(e,n){return function(r){var a=_5(e,n),i=[].concat(VK(a.map(function(s,u){return s*u}).slice(1)),[0]);return w5(i,r)}},EN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0],i=n[1],s=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,s=1,u=1;break;case"ease":a=.25,i=.1,s=.25,u=1;break;case"ease-in":a=.42,i=0,s=1,u=1;break;case"ease-out":a=.42,i=0,s=.58,u=1;break;case"ease-in-out":a=0,i=0,s=.58,u=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(T){return parseFloat(T)}),h=BK(d,4);a=h[0],i=h[1],s=h[2],u=h[3]}}}var p=CN(a,s),y=CN(i,u),_=KK(a,s),S=function(O){return O>1?1:O<0?0:O},A=function(O){for(var M=O>1?1:O,C=M,D=0;D<8;++D){var E=p(C)-M,k=_(C);if(Math.abs(E-M)<zh||k<zh)return y(C);C=S(C-E/k)}return y(C)};return A.isStepper=!1,A},YK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,a=e.damping,i=a===void 0?8:a,s=e.dt,u=s===void 0?17:s,c=function(h,p,y){var _=-(h-p)*r,S=y*i,A=y+(_-S)*u/1e3,T=y*u/1e3+h;return Math.abs(T-p)<zh&&Math.abs(A)<zh?[p,0]:[T,A]};return c.isStepper=!0,c.dt=u,c},WK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EN(a);case"spring":return YK();default:if(a.split("(")[0]==="cubic-bezier")return EN(a)}return typeof a=="function"?a:null};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function kN(t){return JK(t)||ZK(t)||S5(t)||XK()}function XK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JK(t){if(Array.isArray(t))return $_(t)}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){j_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j_(t,e,n){return e=QK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QK(t){var e=eY(t,"string");return Wc(e)==="symbol"?e:String(e)}function eY(t,e){if(Wc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tY(t,e){return aY(t)||rY(t,e)||S5(t,e)||nY()}function nY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S5(t,e){if(t){if(typeof t=="string")return $_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(t,e)}}function $_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw a}}return u}}function aY(t){if(Array.isArray(t))return t}var Gh=function(e,n,r){return e+(n-e)*r},L_=function(e){var n=e.from,r=e.to;return n!==r},iY=function t(e,n,r){var a=_c(function(i,s){if(L_(s)){var u=e(s.from,s.to,s.velocity),c=tY(u,2),d=c[0],h=c[1];return Tn(Tn({},s),{},{from:d,velocity:h})}return s},n);return r<1?_c(function(i,s){return L_(s)?Tn(Tn({},s),{},{velocity:Gh(s.velocity,a[i].velocity,r),from:Gh(s.from,a[i].from,r)}):s},n):t(e,a,r-1)};const oY=function(t,e,n,r,a){var i=jK(t,e),s=i.reduce(function(T,O){return Tn(Tn({},T),{},j_({},O,[t[O],e[O]]))},{}),u=i.reduce(function(T,O){return Tn(Tn({},T),{},j_({},O,{from:t[O],velocity:0,to:e[O]}))},{}),c=-1,d,h,p=function(){return null},y=function(){return _c(function(O,M){return M.from},u)},_=function(){return!Object.values(u).filter(L_).length},S=function(O){d||(d=O);var M=O-d,C=M/n.dt;u=iY(n,u,C),a(Tn(Tn(Tn({},t),e),y())),d=O,_()||(c=requestAnimationFrame(p))},A=function(O){h||(h=O);var M=(O-h)/r,C=_c(function(E,k){return Gh.apply(void 0,kN(k).concat([n(M)]))},s);if(a(Tn(Tn(Tn({},t),e),C)),M<1)c=requestAnimationFrame(p);else{var D=_c(function(E,k){return Gh.apply(void 0,kN(k).concat([n(1)]))},s);a(Tn(Tn(Tn({},t),e),D))}};return p=n.isStepper?S:A,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}var sY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lY(t,e){if(t==null)return{};var n=uY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uY(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function sx(t){return hY(t)||fY(t)||dY(t)||cY()}function cY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dY(t,e){if(t){if(typeof t=="string")return B_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(t,e)}}function fY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hY(t){if(Array.isArray(t))return B_(t)}function B_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){fc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fc(t,e,n){return e=T5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T5(r.key),r)}}function gY(t,e,n){return e&&pY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T5(t){var e=vY(t,"string");return hl(e)==="symbol"?e:String(e)}function vY(t,e){if(hl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},q_(t,e)}function bY(t){var e=xY();return function(){var r=Hh(t),a;if(e){var i=Hh(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return U_(this,a)}}function U_(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F_(t)}function F_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hh(t){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hh(t)}var Va=function(t){yY(n,t);var e=bY(n);function n(r,a){var i;mY(this,n),i=e.call(this,r,a);var s=i.props,u=s.isActive,c=s.attributeName,d=s.from,h=s.to,p=s.steps,y=s.children,_=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(F_(i)),i.changeStyle=i.changeStyle.bind(F_(i)),!u||_<=0)return i.state={style:{}},typeof y=="function"&&(i.state={style:h}),U_(i);if(p&&p.length)i.state={style:p[0].style};else if(d){if(typeof y=="function")return i.state={style:d},U_(i);i.state={style:c?fc({},c,d):d}}else i.state={style:{}};return i}return gY(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,u=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,h=i.to,p=i.from,y=this.state.style;if(u){if(!s){var _={style:c?fc({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(_);return}if(!(CK(a.to,h)&&a.canBegin&&a.isActive)){var S=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=S||d?p:a.to;if(this.state&&y){var T={style:c?fc({},c,A):A};(c&&y[c]!==A||!c&&y!==A)&&this.setState(T)}this.runAnimation(qr(qr({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,u=a.to,c=a.duration,d=a.easing,h=a.begin,p=a.onAnimationEnd,y=a.onAnimationStart,_=oY(s,u,WK(d),c,this.changeStyle),S=function(){i.stopJSAnimation=_()};this.manager.start([y,h,S,c,p])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,u=a.begin,c=a.onAnimationStart,d=s[0],h=d.style,p=d.duration,y=p===void 0?0:p,_=function(A,T,O){if(O===0)return A;var M=T.duration,C=T.easing,D=C===void 0?"ease":C,E=T.style,k=T.properties,P=T.onAnimationEnd,I=O>0?s[O-1]:T,F=k||Object.keys(E);if(typeof D=="function"||D==="spring")return[].concat(sx(A),[i.runJSAnimation.bind(i,{from:I.style,to:E,duration:M,easing:D}),M]);var z=AN(F,M,D),B=qr(qr(qr({},I.style),E),{},{transition:z});return[].concat(sx(A),[B,M,P]).filter($K)};return this.manager.start([c].concat(sx(s.reduce(_,[h,Math.max(y,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=PK());var i=a.begin,s=a.duration,u=a.attributeName,c=a.to,d=a.easing,h=a.onAnimationStart,p=a.onAnimationEnd,y=a.steps,_=a.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof d=="function"||typeof _=="function"||d==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var A=u?fc({},u,c):c,T=AN(Object.keys(A),s,d);S.start([h,i,qr(qr({},A),{},{transition:T}),s,p])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=lY(a,sY),d=j.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!u||d===0||s<=0)return i;var p=function(_){var S=_.props,A=S.style,T=A===void 0?{}:A,O=S.className,M=j.cloneElement(_,qr(qr({},c),{},{style:qr(qr({},T),h),className:O}));return M};return d===1?p(j.Children.only(i)):Z.createElement("div",null,j.Children.map(i,function(y){return p(y)}))}}]),n}(j.PureComponent);Va.displayName="Animate";Va.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Va.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}function _Y(t,e){return AY(t)||TY(t,e)||SY(t,e)||wY()}function wY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SY(t,e){if(t){if(typeof t=="string")return DN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DN(t,e)}}function DN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw a}}return u}}function AY(t){if(Array.isArray(t))return t}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function PN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){CY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CY(t,e,n){return e=EY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EY(t){var e=kY(t,"string");return Xc(e)=="symbol"?e:e+""}function kY(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RN=function(e,n,r,a,i){var s=Math.min(Math.abs(r)/2,Math.abs(a)/2),u=a>=0?1:-1,c=r>=0?1:-1,d=a>=0&&r>=0||a<0&&r<0?1:0,h;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],y=0,_=4;y<_;y++)p[y]=i[y]>s?s:i[y];h="M".concat(e,",").concat(n+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+c*p[0],",").concat(n)),h+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+u*p[1])),h+="L ".concat(e+r,",").concat(n+a-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+r-c*p[2],",").concat(n+a)),h+="L ".concat(e+c*p[3],",").concat(n+a),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+a-u*p[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var S=Math.min(s,i);h="M ".concat(e,",").concat(n+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+c*S,",").concat(n,`
            L `).concat(e+r-c*S,",").concat(n,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+r,",").concat(n+u*S,`
            L `).concat(e+r,",").concat(n+a-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e+r-c*S,",").concat(n+a,`
            L `).concat(e+c*S,",").concat(n+a,`
            A `).concat(S,",").concat(S,",0,0,").concat(d,",").concat(e,",").concat(n+a-u*S," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return h},OY=function(e,n){if(!e||!n)return!1;var r=e.x,a=e.y,i=n.x,s=n.y,u=n.width,c=n.height;if(Math.abs(u)>0&&Math.abs(c)>0){var d=Math.min(i,i+u),h=Math.max(i,i+u),p=Math.min(s,s+c),y=Math.max(s,s+c);return r>=d&&r<=h&&a>=p&&a<=y}return!1},MY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PS=function(e){var n=PN(PN({},MY),e),r=j.useRef(),a=j.useState(-1),i=_Y(a,2),s=i[0],u=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&u(D)}catch{}},[]);var c=n.x,d=n.y,h=n.width,p=n.height,y=n.radius,_=n.className,S=n.animationEasing,A=n.animationDuration,T=n.animationBegin,O=n.isAnimationActive,M=n.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||p!==+p||h===0||p===0)return null;var C=rt("recharts-rectangle",_);return M?Z.createElement(Va,{canBegin:s>0,from:{width:h,height:p,x:c,y:d},to:{width:h,height:p,x:c,y:d},duration:A,animationEasing:S,isActive:M},function(D){var E=D.width,k=D.height,P=D.x,I=D.y;return Z.createElement(Va,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:A,isActive:O,easing:S},Z.createElement("path",Kh({},He(n,!0),{className:C,d:RN(P,I,E,k,y),ref:r})))}):Z.createElement("path",Kh({},He(n,!0),{className:C,d:RN(c,d,h,p,y)}))},DY=["points","className","baseLinePoints","connectNulls"];function Hs(){return Hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hs.apply(this,arguments)}function NY(t,e){if(t==null)return{};var n=PY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IN(t){return $Y(t)||jY(t)||IY(t)||RY()}function RY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IY(t,e){if(t){if(typeof t=="string")return V_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(t,e)}}function jY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Y(t){if(Array.isArray(t))return V_(t)}function V_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jN=function(e){return e&&e.x===+e.x&&e.y===+e.y},LY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){jN(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),jN(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},wc=function(e,n){var r=LY(e);n&&(r=[r.reduce(function(i,s){return[].concat(IN(i),IN(s))},[])]);var a=r.map(function(i){return i.reduce(function(s,u,c){return"".concat(s).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},BY=function(e,n,r){var a=wc(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(wc(n.reverse(),r).slice(1))},qY=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,s=NY(e,DY);if(!n||!n.length)return null;var u=rt("recharts-polygon",r);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",d=BY(n,a,i);return Z.createElement("g",{className:u},Z.createElement("path",Hs({},He(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",stroke:"none",d})),c?Z.createElement("path",Hs({},He(s,!0),{fill:"none",d:wc(n,i)})):null,c?Z.createElement("path",Hs({},He(s,!0),{fill:"none",d:wc(a,i)})):null)}var h=wc(n,i);return Z.createElement("path",Hs({},He(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(this,arguments)}var RS=function(e){var n=e.cx,r=e.cy,a=e.r,i=e.className,s=rt("recharts-dot",i);return n===+n&&r===+r&&a===+a?Z.createElement("circle",z_({},He(e,!1),vh(e),{className:s,cx:n,cy:r,r:a})):null};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}var UY=["x","y","top","left","width","height","className"];function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(this,arguments)}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function FY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){VY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VY(t,e,n){return e=zY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zY(t){var e=GY(t,"string");return Zc(e)=="symbol"?e:e+""}function GY(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HY(t,e){if(t==null)return{};var n=KY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var YY=function(e,n,r,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(n,"h").concat(r)},WY=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,s=e.top,u=s===void 0?0:s,c=e.left,d=c===void 0?0:c,h=e.width,p=h===void 0?0:h,y=e.height,_=y===void 0?0:y,S=e.className,A=HY(e,UY),T=FY({x:r,y:i,top:u,left:d,width:p,height:_},A);return!Te(r)||!Te(i)||!Te(p)||!Te(_)||!Te(u)||!Te(d)?null:Z.createElement("path",G_({},He(T,!0),{className:rt("recharts-cross",S),d:YY(r,i,p,_,u,d)}))},lx,LN;function XY(){if(LN)return lx;LN=1;var t=zm(),e=Bj(),n=ha();function r(a,i){return a&&a.length?t(a,n(i,2),e):void 0}return lx=r,lx}var ZY=XY();const JY=vt(ZY);var ux,BN;function QY(){if(BN)return ux;BN=1;var t=zm(),e=ha(),n=qj();function r(a,i){return a&&a.length?t(a,e(i,2),n):void 0}return ux=r,ux}var eW=QY();const tW=vt(eW);var nW=["cx","cy","angle","ticks","axisLine"],rW=["ticks","tick","angle","tickFormatter","stroke"];function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sc.apply(this,arguments)}function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(r){Zm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UN(t,e){if(t==null)return{};var n=aW(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C5(r.key),r)}}function oW(t,e,n){return e&&FN(t.prototype,e),n&&FN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sW(t,e,n){return e=Yh(e),lW(t,A5()?Reflect.construct(e,n||[],Yh(t).constructor):e.apply(t,n))}function lW(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uW(t)}function uW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A5=function(){return!!t})()}function Yh(t){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yh(t)}function cW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},H_(t,e)}function Zm(t,e,n){return e=C5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C5(t){var e=dW(t,"string");return ml(e)=="symbol"?e:e+""}function dW(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jm=function(t){function e(){return iW(this,e),sW(this,e,arguments)}return cW(e,t),oW(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,s=i.angle,u=i.cx,c=i.cy;return qt(u,c,a,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,u=r.ticks,c=JY(u,function(h){return h.coordinate||0}),d=tW(u,function(h){return h.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,u=r.ticks,c=r.axisLine,d=UN(r,nW),h=u.reduce(function(S,A){return[Math.min(S[0],A.coordinate),Math.max(S[1],A.coordinate)]},[1/0,-1/0]),p=qt(a,i,h[0],s),y=qt(a,i,h[1],s),_=vo(vo(vo({},He(d,!1)),{},{fill:"none"},He(c,!1)),{},{x1:p.x,y1:p.y,x2:y.x,y2:y.y});return Z.createElement("line",Sc({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,u=a.angle,c=a.tickFormatter,d=a.stroke,h=UN(a,rW),p=this.getTickTextAnchor(),y=He(h,!1),_=He(s,!1),S=i.map(function(A,T){var O=r.getTickValueCoord(A),M=vo(vo(vo(vo({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(O.x,", ").concat(O.y,")")},y),{},{stroke:"none",fill:d},_),{},{index:T},O),{},{payload:A});return Z.createElement(Tt,Sc({className:rt("recharts-polar-radius-axis-tick",m5(s)),key:"tick-".concat(A.coordinate)},No(r.props,A,T)),e.renderTickItem(s,M,c?c(A.value,T):A.value))});return Z.createElement(Tt,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,s=r.tick;return!a||!a.length?null:Z.createElement(Tt,{className:rt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),bn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var s;return Z.isValidElement(r)?s=Z.cloneElement(r,a):Ke(r)?s=r(a):s=Z.createElement(Po,Sc({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(j.PureComponent);Zm(Jm,"displayName","PolarRadiusAxis");Zm(Jm,"axisType","radiusAxis");Zm(Jm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function To(){return To=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},To.apply(this,arguments)}function VN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(n),!0).forEach(function(r){Qm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k5(r.key),r)}}function hW(t,e,n){return e&&zN(t.prototype,e),n&&zN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mW(t,e,n){return e=Wh(e),pW(t,E5()?Reflect.construct(e,n||[],Wh(t).constructor):e.apply(t,n))}function pW(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gW(t)}function gW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E5=function(){return!!t})()}function Wh(t){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wh(t)}function vW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},K_(t,e)}function Qm(t,e,n){return e=k5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k5(t){var e=yW(t,"string");return pl(e)=="symbol"?e:e+""}function yW(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bW=Math.PI/180,GN=1e-5,ep=function(t){function e(){return fW(this,e),mW(this,e,arguments)}return vW(e,t),hW(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,s=a.cy,u=a.radius,c=a.orientation,d=a.tickSize,h=d||8,p=qt(i,s,u,r.coordinate),y=qt(i,s,u+(c==="inner"?-1:1)*h,r.coordinate);return{x1:p.x,y1:p.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*bW),s;return i>GN?s=a==="outer"?"start":"end":i<-GN?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.radius,u=r.axisLine,c=r.axisLineType,d=yo(yo({},He(this.props,!1)),{},{fill:"none"},He(u,!1));if(c==="circle")return Z.createElement(RS,To({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:s}));var h=this.props.ticks,p=h.map(function(y){return qt(a,i,s,y.coordinate)});return Z.createElement(qY,To({className:"recharts-polar-angle-axis-line"},d,{points:p}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,u=a.tickLine,c=a.tickFormatter,d=a.stroke,h=He(this.props,!1),p=He(s,!1),y=yo(yo({},h),{},{fill:"none"},He(u,!1)),_=i.map(function(S,A){var T=r.getTickLineCoord(S),O=r.getTickTextAnchor(S),M=yo(yo(yo({textAnchor:O},h),{},{stroke:"none",fill:d},p),{},{index:A,payload:S,x:T.x2,y:T.y2});return Z.createElement(Tt,To({className:rt("recharts-polar-angle-axis-tick",m5(s)),key:"tick-".concat(S.coordinate)},No(r.props,S,A)),u&&Z.createElement("line",To({className:"recharts-polar-angle-axis-tick-line"},y,T)),s&&e.renderTickItem(s,M,c?c(S.value,A):S.value))});return Z.createElement(Tt,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,s=r.axisLine;return i<=0||!a||!a.length?null:Z.createElement(Tt,{className:rt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var s;return Z.isValidElement(r)?s=Z.cloneElement(r,a):Ke(r)?s=r(a):s=Z.createElement(Po,To({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(j.PureComponent);Qm(ep,"displayName","PolarAngleAxis");Qm(ep,"axisType","angleAxis");Qm(ep,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var cx,HN;function xW(){if(HN)return cx;HN=1;var t=$I(),e=t(Object.getPrototypeOf,Object);return cx=e,cx}var dx,KN;function _W(){if(KN)return dx;KN=1;var t=Ga(),e=xW(),n=Ha(),r="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,u=i.hasOwnProperty,c=s.call(Object);function d(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var y=u.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==c}return dx=d,dx}var wW=_W();const SW=vt(wW);var fx,YN;function TW(){if(YN)return fx;YN=1;var t=Ga(),e=Ha(),n="[object Boolean]";function r(a){return a===!0||a===!1||e(a)&&t(a)==n}return fx=r,fx}var AW=TW();const CW=vt(AW);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(this,arguments)}function EW(t,e){return DW(t)||MW(t,e)||OW(t,e)||kW()}function kW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OW(t,e){if(t){if(typeof t=="string")return WN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WN(t,e)}}function WN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw a}}return u}}function DW(t){if(Array.isArray(t))return t}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ZN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){NW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NW(t,e,n){return e=PW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PW(t){var e=RW(t,"string");return Jc(e)=="symbol"?e:e+""}function RW(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JN=function(e,n,r,a,i){var s=r-a,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-s/2,",").concat(n+i),u+="L ".concat(e+r-s/2-a,",").concat(n+i),u+="L ".concat(e,",").concat(n," Z"),u},IW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jW=function(e){var n=ZN(ZN({},IW),e),r=j.useRef(),a=j.useState(-1),i=EW(a,2),s=i[0],u=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&u(C)}catch{}},[]);var c=n.x,d=n.y,h=n.upperWidth,p=n.lowerWidth,y=n.height,_=n.className,S=n.animationEasing,A=n.animationDuration,T=n.animationBegin,O=n.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||p!==+p||y!==+y||h===0&&p===0||y===0)return null;var M=rt("recharts-trapezoid",_);return O?Z.createElement(Va,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:d},to:{upperWidth:h,lowerWidth:p,height:y,x:c,y:d},duration:A,animationEasing:S,isActive:O},function(C){var D=C.upperWidth,E=C.lowerWidth,k=C.height,P=C.x,I=C.y;return Z.createElement(Va,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:A,easing:S},Z.createElement("path",Xh({},He(n,!0),{className:M,d:JN(P,I,D,E,k),ref:r})))}):Z.createElement("g",null,Z.createElement("path",Xh({},He(n,!0),{className:M,d:JN(c,d,h,p,y)})))},$W=["option","shapeType","propTransformer","activeClassName","isActive"];function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function LW(t,e){if(t==null)return{};var n=BW(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(r){qW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qW(t,e,n){return e=UW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UW(t){var e=FW(t,"string");return Qc(e)=="symbol"?e:e+""}function FW(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VW(t,e){return Zh(Zh({},e),t)}function zW(t,e){return t==="symbols"}function e2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Z.createElement(PS,n);case"trapezoid":return Z.createElement(jW,n);case"sector":return Z.createElement(v5,n);case"symbols":if(zW(e))return Z.createElement(Jw,n);break;default:return null}}function GW(t){return j.isValidElement(t)?t.props:t}function O5(t){var e=t.option,n=t.shapeType,r=t.propTransformer,a=r===void 0?VW:r,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,u=t.isActive,c=LW(t,$W),d;if(j.isValidElement(e))d=j.cloneElement(e,Zh(Zh({},c),GW(e)));else if(Ke(e))d=e(c);else if(SW(e)&&!CW(e)){var h=a(e,c);d=Z.createElement(e2,{shapeType:n,elementProps:h})}else{var p=c;d=Z.createElement(e2,{shapeType:n,elementProps:p})}return u?Z.createElement(Tt,{className:s},d):d}function tp(t,e){return e!=null&&"trapezoids"in t.props}function np(t,e){return e!=null&&"sectors"in t.props}function ed(t,e){return e!=null&&"points"in t.props}function HW(t,e){var n,r,a=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return a&&i}function KW(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function YW(t,e){var n=t.x===e.x,r=t.y===e.y,a=t.z===e.z;return n&&r&&a}function WW(t,e){var n;return tp(t,e)?n=HW:np(t,e)?n=KW:ed(t,e)&&(n=YW),n}function XW(t,e){var n;return tp(t,e)?n="trapezoids":np(t,e)?n="sectors":ed(t,e)&&(n="points"),n}function ZW(t,e){if(tp(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(np(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ed(t,e)?e.payload:{}}function JW(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,a=XW(n,e),i=ZW(n,e),s=r.filter(function(c,d){var h=Km(i,c),p=n.props[a].filter(function(S){var A=WW(n,e);return A(S,e)}),y=n.props[a].indexOf(p[p.length-1]),_=d===y;return h&&_}),u=r.indexOf(s[s.length-1]);return u}var ch;function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ks.apply(this,arguments)}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D5(r.key),r)}}function eX(t,e,n){return e&&n2(t.prototype,e),n&&n2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tX(t,e,n){return e=Jh(e),nX(t,M5()?Reflect.construct(e,n||[],Jh(t).constructor):e.apply(t,n))}function nX(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rX(t)}function rX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M5=function(){return!!t})()}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jh(t)}function aX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}function Y_(t,e){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Y_(t,e)}function Or(t,e,n){return e=D5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D5(t){var e=iX(t,"string");return gl(e)=="symbol"?e:e+""}function iX(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ya=function(t){function e(n){var r;return QW(this,e),r=tX(this,e,[n]),Or(r,"pieRef",null),Or(r,"sectorRefs",[]),Or(r,"id",hd("recharts-pie-")),Or(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ke(a)&&a()}),Or(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ke(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return aX(e,t),eX(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,u=i.labelLine,c=i.dataKey,d=i.valueKey,h=He(this.props,!1),p=He(s,!1),y=He(u,!1),_=s&&s.offsetRadius||20,S=r.map(function(A,T){var O=(A.startAngle+A.endAngle)/2,M=qt(A.cx,A.cy,A.outerRadius+_,O),C=Lt(Lt(Lt(Lt({},h),A),{},{stroke:"none"},p),{},{index:T,textAnchor:e.getTextAnchor(M.x,A.cx)},M),D=Lt(Lt(Lt(Lt({},h),A),{},{fill:"none",stroke:A.fill},y),{},{index:T,points:[qt(A.cx,A.cy,A.outerRadius,O),M]}),E=c;return lt(c)&&lt(d)?E="value":lt(c)&&(E=d),Z.createElement(Tt,{key:"label-".concat(A.startAngle,"-").concat(A.endAngle,"-").concat(A.midAngle,"-").concat(T)},u&&e.renderLabelLineItem(u,D,"line"),e.renderLabelItem(s,C,Mn(A,E)))});return Z.createElement(Tt,{className:"recharts-pie-labels"},S)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,s=i.activeShape,u=i.blendStroke,c=i.inactiveShape;return r.map(function(d,h){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var p=a.isActiveIndex(h),y=c&&a.hasActiveIndex()?c:null,_=p?s:y,S=Lt(Lt({},d),{},{stroke:u?d.fill:d.stroke,tabIndex:-1});return Z.createElement(Tt,Ks({ref:function(T){T&&!a.sectorRefs.includes(T)&&a.sectorRefs.push(T)},tabIndex:-1,className:"recharts-pie-sector"},No(a.props,d,h),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(h)}),Z.createElement(O5,Ks({option:_,isActive:p,shapeType:"sector"},S)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,s=a.isAnimationActive,u=a.animationBegin,c=a.animationDuration,d=a.animationEasing,h=a.animationId,p=this.state,y=p.prevSectors,_=p.prevIsAnimationActive;return Z.createElement(Va,{begin:u,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(S){var A=S.t,T=[],O=i&&i[0],M=O.startAngle;return i.forEach(function(C,D){var E=y&&y[D],k=D>0?hr(C,"paddingAngle",0):0;if(E){var P=ki(E.endAngle-E.startAngle,C.endAngle-C.startAngle),I=Lt(Lt({},C),{},{startAngle:M+k,endAngle:M+P(A)+k});T.push(I),M=I.endAngle}else{var F=C.endAngle,z=C.startAngle,B=ki(0,F-z),W=B(A),Q=Lt(Lt({},C),{},{startAngle:M+k,endAngle:M+W+k});T.push(Q),M=Q.endAngle}}),Z.createElement(Tt,null,r.renderSectorsStatically(T))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Km(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,s=a.sectors,u=a.className,c=a.label,d=a.cx,h=a.cy,p=a.innerRadius,y=a.outerRadius,_=a.isAnimationActive,S=this.state.isAnimationFinished;if(i||!s||!s.length||!Te(d)||!Te(h)||!Te(p)||!Te(y))return null;var A=rt("recharts-pie",u);return Z.createElement(Tt,{tabIndex:this.props.rootTabIndex,className:A,ref:function(O){r.pieRef=O}},this.renderSectors(),c&&this.renderLabels(s),bn.renderCallByParent(this.props,null,!1),(!_||S)&&ji.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(Z.isValidElement(r))return Z.cloneElement(r,a);if(Ke(r))return r(a);var s=rt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Z.createElement(P_,Ks({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,a,i){if(Z.isValidElement(r))return Z.cloneElement(r,a);var s=i;if(Ke(r)&&(s=r(a),Z.isValidElement(s)))return s;var u=rt("recharts-pie-label-text",typeof r!="boolean"&&!Ke(r)?r.className:"");return Z.createElement(Po,Ks({},a,{alignmentBaseline:"middle",className:u}),s)}}])}(j.PureComponent);ch=Ya;Or(Ya,"displayName","Pie");Or(Ya,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ll.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Or(Ya,"parseDeltaAngle",function(t,e){var n=$n(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Or(Ya,"getRealPieData",function(t){var e=t.data,n=t.children,r=He(t,!1),a=Dr(n,$m);return e&&e.length?e.map(function(i,s){return Lt(Lt(Lt({payload:i},r),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return Lt(Lt({},r),i.props)}):[]});Or(Ya,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,a=e.width,i=e.height,s=h5(a,i),u=r+Ln(t.cx,a,a/2),c=n+Ln(t.cy,i,i/2),d=Ln(t.innerRadius,s,0),h=Ln(t.outerRadius,s,s*.8),p=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:u,cy:c,innerRadius:d,outerRadius:h,maxRadius:p}});Or(Ya,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Lt(Lt({},e.type.defaultProps),e.props):e.props,a=ch.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,s=r.startAngle,u=r.endAngle,c=r.paddingAngle,d=r.dataKey,h=r.nameKey,p=r.valueKey,y=r.tooltipType,_=Math.abs(r.minAngle),S=ch.parseCoordinateOfPie(r,n),A=ch.parseDeltaAngle(s,u),T=Math.abs(A),O=d;lt(d)&&lt(p)?(Hr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O="value"):lt(d)&&(Hr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O=p);var M=a.filter(function(I){return Mn(I,O,0)!==0}).length,C=(T>=360?M:M-1)*c,D=T-M*_-C,E=a.reduce(function(I,F){var z=Mn(F,O,0);return I+(Te(z)?z:0)},0),k;if(E>0){var P;k=a.map(function(I,F){var z=Mn(I,O,0),B=Mn(I,h,F),W=(Te(z)?z:0)/E,Q;F?Q=P.endAngle+$n(A)*c*(z!==0?1:0):Q=s;var Y=Q+$n(A)*((z!==0?_:0)+W*D),q=(Q+Y)/2,$=(S.innerRadius+S.outerRadius)/2,V=[{name:B,value:z,payload:I,dataKey:O,type:y}],J=qt(S.cx,S.cy,$,q);return P=Lt(Lt(Lt({percent:W,cornerRadius:i,name:B,tooltipPayload:V,midAngle:q,middleRadius:$,tooltipPosition:J},I),S),{},{value:Mn(I,O),startAngle:Q,endAngle:Y,payload:I,paddingAngle:$n(A)*c}),P})}return Lt(Lt({},S),{},{sectors:k,data:a})});var hx,r2;function oX(){if(r2)return hx;r2=1;var t=Math.ceil,e=Math.max;function n(r,a,i,s){for(var u=-1,c=e(t((a-r)/(i||1)),0),d=Array(c);c--;)d[s?c:++u]=r,r+=i;return d}return hx=n,hx}var mx,a2;function N5(){if(a2)return mx;a2=1;var t=QI(),e=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*n}return a===a?a:0}return mx=r,mx}var px,i2;function sX(){if(i2)return px;i2=1;var t=oX(),e=jm(),n=N5();function r(a){return function(i,s,u){return u&&typeof u!="number"&&e(i,s,u)&&(s=u=void 0),i=n(i),s===void 0?(s=i,i=0):s=n(s),u=u===void 0?i<s?1:-1:n(u),t(i,s,u,a)}}return px=r,px}var gx,o2;function lX(){if(o2)return gx;o2=1;var t=sX(),e=t();return gx=e,gx}var uX=lX();const Qh=vt(uX);function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function s2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function l2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(n),!0).forEach(function(r){P5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P5(t,e,n){return e=cX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cX(t){var e=dX(t,"string");return td(e)=="symbol"?e:e+""}function dX(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fX=["Webkit","Moz","O","ms"],hX=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=fX.reduce(function(i,s){return l2(l2({},i),{},P5({},s+r,n))},{});return a[e]=n,a};function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},em.apply(this,arguments)}function u2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(n),!0).forEach(function(r){ur(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I5(r.key),r)}}function pX(t,e,n){return e&&c2(t.prototype,e),n&&c2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gX(t,e,n){return e=tm(e),vX(t,R5()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function vX(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yX(t)}function yX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R5=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function bX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W_(t,e)}function W_(t,e){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},W_(t,e)}function ur(t,e,n){return e=I5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I5(t){var e=xX(t,"string");return vl(e)=="symbol"?e:e+""}function xX(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _X=function(e){var n=e.data,r=e.startIndex,a=e.endIndex,i=e.x,s=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=bc().domain(Qh(0,c)).range([i,i+s-u]),h=d.domain().map(function(p){return d(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(a),scale:d,scaleValues:h}},d2=function(e){return e.changedTouches&&!!e.changedTouches.length},yl=function(t){function e(n){var r;return mX(this,e),r=gX(this,e,[n]),ur(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),ur(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),ur(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,s=a.onDragEnd,u=a.startIndex;s==null||s({endIndex:i,startIndex:u})}),r.detachDragEndListener()}),ur(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ur(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ur(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ur(r,"handleSlideDragStart",function(a){var i=d2(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return bX(e,t),pX(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,s=this.state.scaleValues,u=this.props,c=u.gap,d=u.data,h=d.length-1,p=Math.min(a,i),y=Math.max(a,i),_=e.getIndexInRange(s,p),S=e.getIndexInRange(s,y);return{startIndex:_-_%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,s=a.tickFormatter,u=a.dataKey,c=Mn(i[r],u,r);return Ke(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,s=a.startX,u=a.endX,c=this.props,d=c.x,h=c.width,p=c.travellerWidth,y=c.startIndex,_=c.endIndex,S=c.onChange,A=r.pageX-i;A>0?A=Math.min(A,d+h-p-u,d+h-p-s):A<0&&(A=Math.max(A,d-s,d-u));var T=this.getIndex({startX:s+A,endX:u+A});(T.startIndex!==y||T.endIndex!==_)&&S&&S(T),this.setState({startX:s+A,endX:u+A,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=d2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,u=a.endX,c=a.startX,d=this.state[s],h=this.props,p=h.x,y=h.width,_=h.travellerWidth,S=h.onChange,A=h.gap,T=h.data,O={startX:this.state.startX,endX:this.state.endX},M=r.pageX-i;M>0?M=Math.min(M,p+y-_-d):M<0&&(M=Math.max(M,p-d)),O[s]=d+M;var C=this.getIndex(O),D=C.startIndex,E=C.endIndex,k=function(){var I=T.length-1;return s==="startX"&&(u>c?D%A===0:E%A===0)||u<c&&E===I||s==="endX"&&(u>c?E%A===0:D%A===0)||u>c&&E===I};this.setState(ur(ur({},s,d+M),"brushMoveStartX",r.pageX),function(){S&&k()&&S(C)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,s=this.state,u=s.scaleValues,c=s.startX,d=s.endX,h=this.state[a],p=u.indexOf(h);if(p!==-1){var y=p+r;if(!(y===-1||y>=u.length)){var _=u[y];a==="startX"&&_>=d||a==="endX"&&_<=c||this.setState(ur({},a,_),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,c=r.fill,d=r.stroke;return Z.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:s,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,c=r.data,d=r.children,h=r.padding,p=j.Children.only(d);return p?Z.cloneElement(p,{x:a,y:i,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,s,u=this,c=this.props,d=c.y,h=c.travellerWidth,p=c.height,y=c.traveller,_=c.ariaLabel,S=c.data,A=c.startIndex,T=c.endIndex,O=Math.max(r,this.props.x),M=vx(vx({},He(this.props,!1)),{},{x:O,y:d,width:h,height:p}),C=_||"Min value: ".concat((i=S[A])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=S[T])===null||s===void 0?void 0:s.name);return Z.createElement(Tt,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),u.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,M))}},{key:"renderSlide",value:function(r,a){var i=this.props,s=i.y,u=i.height,c=i.stroke,d=i.travellerWidth,h=Math.min(r,a)+d,p=Math.max(Math.abs(a-r)-d,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:p,height:u})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,s=r.y,u=r.height,c=r.travellerWidth,d=r.stroke,h=this.state,p=h.startX,y=h.endX,_=5,S={pointerEvents:"none",fill:d};return Z.createElement(Tt,{className:"recharts-brush-texts"},Z.createElement(Po,em({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-_,y:s+u/2},S),this.getTextOfTick(a)),Z.createElement(Po,em({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+c+_,y:s+u/2},S),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,s=r.children,u=r.x,c=r.y,d=r.width,h=r.height,p=r.alwaysShowText,y=this.state,_=y.startX,S=y.endX,A=y.isTextActive,T=y.isSlideMoving,O=y.isTravellerMoving,M=y.isTravellerFocused;if(!a||!a.length||!Te(u)||!Te(c)||!Te(d)||!Te(h)||d<=0||h<=0)return null;var C=rt("recharts-brush",i),D=Z.Children.count(s)===1,E=hX("userSelect","none");return Z.createElement(Tt,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(_,S),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(S,"endX"),(A||T||O||M||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,s=r.width,u=r.height,c=r.stroke,d=Math.floor(i+u/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:a,y:i,width:s,height:u,fill:c,stroke:"none"}),Z.createElement("line",{x1:a+1,y1:d,x2:a+s-1,y2:d,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:a+1,y1:d+2,x2:a+s-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return Z.isValidElement(r)?i=Z.cloneElement(r,a):Ke(r)?i=r(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,s=r.width,u=r.x,c=r.travellerWidth,d=r.updateId,h=r.startIndex,p=r.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return vx({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:u,prevWidth:s},i&&i.length?_X({data:i,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||u!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([u,u+s-c]);var y=a.scale.domain().map(function(_){return a.scale(_)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:u,prevWidth:s,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,s=0,u=i-1;u-s>1;){var c=Math.floor((s+u)/2);r[c]>a?u=c:s=c}return a>=r[u]?u:s}}])}(j.PureComponent);ur(yl,"displayName","Brush");ur(yl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var yx,f2;function wX(){if(f2)return yx;f2=1;var t=iS();function e(n,r){var a;return t(n,function(i,s,u){return a=r(i,s,u),!a}),!!a}return yx=e,yx}var bx,h2;function SX(){if(h2)return bx;h2=1;var t=MI(),e=ha(),n=wX(),r=er(),a=jm();function i(s,u,c){var d=r(s)?t:n;return c&&a(s,u,c)&&(u=void 0),d(s,e(u,3))}return bx=i,bx}var TX=SX();const AX=vt(TX);var la=function(e,n){var r=e.alwaysShow,a=e.ifOverflow;return r&&(a="extendDomain"),a===n},xx,m2;function CX(){if(m2)return xx;m2=1;var t=YI();function e(n,r,a){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return xx=e,xx}var _x,p2;function EX(){if(p2)return _x;p2=1;var t=CX(),e=HI(),n=ha();function r(a,i){var s={};return i=n(i,3),e(a,function(u,c,d){t(s,c,i(u,c,d))}),s}return _x=r,_x}var kX=EX();const OX=vt(kX);var wx,g2;function MX(){if(g2)return wx;g2=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!n(e[r],r,e))return!1;return!0}return wx=t,wx}var Sx,v2;function DX(){if(v2)return Sx;v2=1;var t=iS();function e(n,r){var a=!0;return t(n,function(i,s,u){return a=!!r(i,s,u),a}),a}return Sx=e,Sx}var Tx,y2;function NX(){if(y2)return Tx;y2=1;var t=MX(),e=DX(),n=ha(),r=er(),a=jm();function i(s,u,c){var d=r(s)?t:e;return c&&a(s,u,c)&&(u=void 0),d(s,n(u,3))}return Tx=i,Tx}var PX=NX();const j5=vt(PX);var RX=["x","y"];function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(this,arguments)}function b2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(n),!0).forEach(function(r){IX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IX(t,e,n){return e=jX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jX(t){var e=$X(t,"string");return nd(e)=="symbol"?e:e+""}function $X(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LX(t,e){if(t==null)return{};var n=BX(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qX(t,e){var n=t.x,r=t.y,a=LX(t,RX),i="".concat(n),s=parseInt(i,10),u="".concat(r),c=parseInt(u,10),d="".concat(e.height||a.height),h=parseInt(d,10),p="".concat(e.width||a.width),y=parseInt(p,10);return sc(sc(sc(sc(sc({},e),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function x2(t){return Z.createElement(O5,X_({shapeType:"rectangle",propTransformer:qX,activeClassName:"recharts-active-bar"},t))}var UX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof e=="number")return e;var i=typeof r=="number";return i?e(r,a):(i||Io(),n)}},FX=["value","background"],$5;function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function VX(t,e){if(t==null)return{};var n=zX(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nm.apply(this,arguments)}function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){Pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B5(r.key),r)}}function HX(t,e,n){return e&&w2(t.prototype,e),n&&w2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KX(t,e,n){return e=rm(e),YX(t,L5()?Reflect.construct(e,n||[],rm(t).constructor):e.apply(t,n))}function YX(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WX(t)}function WX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L5=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rm(t)}function XX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Z_(t,e)}function Pi(t,e,n){return e=B5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B5(t){var e=ZX(t,"string");return bl(e)=="symbol"?e:e+""}function ZX(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Go=function(t){function e(){var n;GX(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=KX(this,e,[].concat(a)),Pi(n,"state",{isAnimationFinished:!1}),Pi(n,"id",hd("recharts-bar-")),Pi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Pi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return XX(e,t),HX(e,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,s=i.shape,u=i.dataKey,c=i.activeIndex,d=i.activeBar,h=He(this.props,!1);return r&&r.map(function(p,y){var _=y===c,S=_?d:s,A=an(an(an({},h),p),{},{isActive:_,option:S,index:y,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Z.createElement(Tt,nm({className:"recharts-bar-rectangle"},No(a.props,p,y),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(y)}),Z.createElement(x2,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,s=a.layout,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,p=a.animationId,y=this.state.prevData;return Z.createElement(Va,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t,A=i.map(function(T,O){var M=y&&y[O];if(M){var C=ki(M.x,T.x),D=ki(M.y,T.y),E=ki(M.width,T.width),k=ki(M.height,T.height);return an(an({},T),{},{x:C(S),y:D(S),width:E(S),height:k(S)})}if(s==="horizontal"){var P=ki(0,T.height),I=P(S);return an(an({},T),{},{y:T.y+T.height-I,height:I})}var F=ki(0,T.width),z=F(S);return an(an({},T),{},{width:z})});return Z.createElement(Tt,null,r.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Km(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,s=a.dataKey,u=a.activeIndex,c=He(this.props.background,!1);return i.map(function(d,h){d.value;var p=d.background,y=VX(d,FX);if(!p)return null;var _=an(an(an(an(an({},y),{},{fill:"#eee"},p),c),No(r.props,d,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return Z.createElement(x2,nm({key:"background-bar-".concat(h),option:r.props.background,isActive:h===u},_))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,u=i.xAxis,c=i.yAxis,d=i.layout,h=i.children,p=Dr(h,Xm);if(!p)return null;var y=d==="vertical"?s[0].height/2:s[0].width/2,_=function(T,O){var M=Array.isArray(T.value)?T.value[1]:T.value;return{x:T.x,y:T.y,value:M,errorVal:Mn(T,O)}},S={clipPath:r?"url(#clipPath-".concat(a,")"):null};return Z.createElement(Tt,S,p.map(function(A){return Z.cloneElement(A,{key:"error-bar-".concat(a,"-").concat(A.props.dataKey),data:s,xAxis:u,yAxis:c,layout:d,offset:y,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,s=r.className,u=r.xAxis,c=r.yAxis,d=r.left,h=r.top,p=r.width,y=r.height,_=r.isAnimationActive,S=r.background,A=r.id;if(a||!i||!i.length)return null;var T=this.state.isAnimationFinished,O=rt("recharts-bar",s),M=u&&u.allowDataOverflow,C=c&&c.allowDataOverflow,D=M||C,E=lt(A)?this.id:A;return Z.createElement(Tt,{className:O},M||C?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(E)},Z.createElement("rect",{x:M?d:d-p/2,y:C?h:h-y/2,width:M?p:p*2,height:C?y:y*2}))):null,Z.createElement(Tt,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(E,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,E),(!_||T)&&ji.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(j.PureComponent);$5=Go;Pi(Go,"displayName","Bar");Pi(Go,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ll.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pi(Go,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,h=t.dataStartIndex,p=t.displayedData,y=t.offset,_=CG(r,n);if(!_)return null;var S=e.layout,A=n.type.defaultProps,T=A!==void 0?an(an({},A),n.props):n.props,O=T.dataKey,M=T.children,C=T.minPointSize,D=S==="horizontal"?s:i,E=d?D.scale.domain():null,k=PG({numericAxis:D}),P=Dr(M,$m),I=p.map(function(F,z){var B,W,Q,Y,q,$;d?B=EG(d[h+z],E):(B=Mn(F,O),Array.isArray(B)||(B=[k,B]));var V=UX(C,$5.defaultProps.minPointSize)(B[1],z);if(S==="horizontal"){var J,oe=[s.scale(B[0]),s.scale(B[1])],U=oe[0],K=oe[1];W=KD({axis:i,ticks:u,bandSize:a,offset:_.offset,entry:F,index:z}),Q=(J=K??U)!==null&&J!==void 0?J:void 0,Y=_.size;var ae=U-K;if(q=Number.isNaN(ae)?0:ae,$={x:W,y:s.y,width:Y,height:s.height},Math.abs(V)>0&&Math.abs(q)<Math.abs(V)){var ce=$n(q||V)*(Math.abs(V)-Math.abs(q));Q-=ce,q+=ce}}else{var ye=[i.scale(B[0]),i.scale(B[1])],Pe=ye[0],Oe=ye[1];if(W=Pe,Q=KD({axis:s,ticks:c,bandSize:a,offset:_.offset,entry:F,index:z}),Y=Oe-Pe,q=_.size,$={x:i.x,y:Q,width:i.width,height:q},Math.abs(V)>0&&Math.abs(Y)<Math.abs(V)){var At=$n(Y||V)*(Math.abs(V)-Math.abs(Y));Y+=At}}return an(an(an({},F),{},{x:W,y:Q,width:Y,height:q,value:d?B:B[1],payload:F,background:$},P&&P[z]&&P[z].props),{},{tooltipPayload:[d5(n,F)],tooltipPosition:{x:W+Y/2,y:Q+q/2}})});return an({data:I,layout:S},y)});function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function JX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q5(r.key),r)}}function QX(t,e,n){return e&&S2(t.prototype,e),n&&S2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){rp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rp(t,e,n){return e=q5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q5(t){var e=eZ(t,"string");return rd(e)=="symbol"?e:e+""}function eZ(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tZ=function(e,n,r,a,i){var s=e.width,u=e.height,c=e.layout,d=e.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},y=!!cr(d,Go);return h.reduce(function(_,S){var A=n[S],T=A.orientation,O=A.domain,M=A.padding,C=M===void 0?{}:M,D=A.mirror,E=A.reversed,k="".concat(T).concat(D?"Mirror":""),P,I,F,z,B;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var W=O[1]-O[0],Q=1/0,Y=A.categoricalDomain.sort(pU);if(Y.forEach(function(ye,Pe){Pe>0&&(Q=Math.min((ye||0)-(Y[Pe-1]||0),Q))}),Number.isFinite(Q)){var q=Q/W,$=A.layout==="vertical"?r.height:r.width;if(A.padding==="gap"&&(P=q*$/2),A.padding==="no-gap"){var V=Ln(e.barCategoryGap,q*$),J=q*$/2;P=J-V-(J-V)/$*V}}}a==="xAxis"?I=[r.left+(C.left||0)+(P||0),r.left+r.width-(C.right||0)-(P||0)]:a==="yAxis"?I=c==="horizontal"?[r.top+r.height-(C.bottom||0),r.top+(C.top||0)]:[r.top+(C.top||0)+(P||0),r.top+r.height-(C.bottom||0)-(P||0)]:I=A.range,E&&(I=[I[1],I[0]]);var oe=s5(A,i,y),U=oe.scale,K=oe.realScaleType;U.domain(O).range(I),l5(U);var ae=u5(U,zr(zr({},A),{},{realScaleType:K}));a==="xAxis"?(B=T==="top"&&!D||T==="bottom"&&D,F=r.left,z=p[k]-B*A.height):a==="yAxis"&&(B=T==="left"&&!D||T==="right"&&D,F=p[k]-B*A.width,z=r.top);var ce=zr(zr(zr({},A),ae),{},{realScaleType:K,x:F,y:z,scale:U,width:a==="xAxis"?r.width:A.width,height:a==="yAxis"?r.height:A.height});return ce.bandSize=Uh(ce,ae),!A.hide&&a==="xAxis"?p[k]+=(B?-1:1)*ce.height:A.hide||(p[k]+=(B?-1:1)*ce.width),zr(zr({},_),{},rp({},S,ce))},{})},U5=function(e,n){var r=e.x,a=e.y,i=n.x,s=n.y;return{x:Math.min(r,i),y:Math.min(a,s),width:Math.abs(i-r),height:Math.abs(s-a)}},nZ=function(e){var n=e.x1,r=e.y1,a=e.x2,i=e.y2;return U5({x:n,y:r},{x:a,y:i})},F5=function(){function t(e){JX(this,t),this.scale=e}return QX(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new t(n)}}])}();rp(F5,"EPS",1e-4);var IS=function(e){var n=Object.keys(e).reduce(function(r,a){return zr(zr({},r),{},rp({},a,F5.create(e[a])))},{});return zr(zr({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,u=i.position;return OX(a,function(c,d){return n[d].apply(c,{bandAware:s,position:u})})},isInRange:function(a){return j5(a,function(i,s){return n[s].isInRange(i)})}})};function rZ(t){return(t%180+180)%180}var aZ=function(e){var n=e.width,r=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=rZ(a),s=i*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Ax,A2;function iZ(){if(A2)return Ax;A2=1;var t=ha(),e=md(),n=Rm();function r(a){return function(i,s,u){var c=Object(i);if(!e(i)){var d=t(s,3);i=n(i),s=function(p){return d(c[p],p,c)}}var h=a(i,s,u);return h>-1?c[d?i[h]:h]:void 0}}return Ax=r,Ax}var Cx,C2;function oZ(){if(C2)return Cx;C2=1;var t=N5();function e(n){var r=t(n),a=r%1;return r===r?a?r-a:r:0}return Cx=e,Cx}var Ex,E2;function sZ(){if(E2)return Ex;E2=1;var t=UI(),e=ha(),n=oZ(),r=Math.max;function a(i,s,u){var c=i==null?0:i.length;if(!c)return-1;var d=u==null?0:n(u);return d<0&&(d=r(c+d,0)),t(i,e(s,3),d)}return Ex=a,Ex}var kx,k2;function lZ(){if(k2)return kx;k2=1;var t=iZ(),e=sZ(),n=t(e);return kx=n,kx}var uZ=lZ();const cZ=vt(uZ);var dZ=rI();const fZ=vt(dZ);var hZ=fZ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),jS=j.createContext(void 0),$S=j.createContext(void 0),V5=j.createContext(void 0),z5=j.createContext({}),G5=j.createContext(void 0),H5=j.createContext(0),K5=j.createContext(0),O2=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,s=e.clipPathId,u=e.children,c=e.width,d=e.height,h=hZ(i);return Z.createElement(jS.Provider,{value:r},Z.createElement($S.Provider,{value:a},Z.createElement(z5.Provider,{value:i},Z.createElement(V5.Provider,{value:h},Z.createElement(G5.Provider,{value:s},Z.createElement(H5.Provider,{value:d},Z.createElement(K5.Provider,{value:c},u)))))))},mZ=function(){return j.useContext(G5)},Y5=function(e){var n=j.useContext(jS);n==null&&Io();var r=n[e];return r==null&&Io(),r},pZ=function(){var e=j.useContext(jS);return Ni(e)},gZ=function(){var e=j.useContext($S),n=cZ(e,function(r){return j5(r.domain,Number.isFinite)});return n||Ni(e)},W5=function(e){var n=j.useContext($S);n==null&&Io();var r=n[e];return r==null&&Io(),r},vZ=function(){var e=j.useContext(V5);return e},yZ=function(){return j.useContext(z5)},LS=function(){return j.useContext(K5)},BS=function(){return j.useContext(H5)};function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function bZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z5(r.key),r)}}function _Z(t,e,n){return e&&xZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wZ(t,e,n){return e=am(e),SZ(t,X5()?Reflect.construct(e,n||[],am(t).constructor):e.apply(t,n))}function SZ(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TZ(t)}function TZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X5=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},am(t)}function AZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},J_(t,e)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function D2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){qS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qS(t,e,n){return e=Z5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z5(t){var e=CZ(t,"string");return xl(e)=="symbol"?e:e+""}function CZ(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function EZ(t,e){return DZ(t)||MZ(t,e)||OZ(t,e)||kZ()}function kZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OZ(t,e){if(t){if(typeof t=="string")return N2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N2(t,e)}}function N2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw a}}return u}}function DZ(t){if(Array.isArray(t))return t}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}var NZ=function(e,n){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,n):Ke(e)?r=e(n):r=Z.createElement("line",Q_({},n,{className:"recharts-reference-line-line"})),r},PZ=function(e,n,r,a,i,s,u,c,d){var h=i.x,p=i.y,y=i.width,_=i.height;if(r){var S=d.y,A=e.y.apply(S,{position:s});if(la(d,"discard")&&!e.y.isInRange(A))return null;var T=[{x:h+y,y:A},{x:h,y:A}];return c==="left"?T.reverse():T}if(n){var O=d.x,M=e.x.apply(O,{position:s});if(la(d,"discard")&&!e.x.isInRange(M))return null;var C=[{x:M,y:p+_},{x:M,y:p}];return u==="top"?C.reverse():C}if(a){var D=d.segment,E=D.map(function(k){return e.apply(k,{position:s})});return la(d,"discard")&&AX(E,function(k){return!e.isInRange(k)})?null:E}return null};function RZ(t){var e=t.x,n=t.y,r=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,d=mZ(),h=Y5(a),p=W5(i),y=vZ();if(!d||!y)return null;Hr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=IS({x:h.scale,y:p.scale}),S=dn(e),A=dn(n),T=r&&r.length===2,O=PZ(_,S,A,T,y,t.position,h.orientation,p.orientation,t);if(!O)return null;var M=EZ(O,2),C=M[0],D=C.x,E=C.y,k=M[1],P=k.x,I=k.y,F=la(t,"hidden")?"url(#".concat(d,")"):void 0,z=D2(D2({clipPath:F},He(t,!0)),{},{x1:D,y1:E,x2:P,y2:I});return Z.createElement(Tt,{className:rt("recharts-reference-line",u)},NZ(s,z),bn.renderCallByParent(t,nZ({x1:D,y1:E,x2:P,y2:I})))}var US=function(t){function e(){return bZ(this,e),wZ(this,e,arguments)}return AZ(e,t),_Z(e,[{key:"render",value:function(){return Z.createElement(RZ,this.props)}}])}(Z.Component);qS(US,"displayName","ReferenceLine");qS(US,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function R2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){ap(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q5(r.key),r)}}function $Z(t,e,n){return e&&jZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LZ(t,e,n){return e=im(e),BZ(t,J5()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function BZ(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qZ(t)}function qZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J5=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function UZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},tw(t,e)}function ap(t,e,n){return e=Q5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q5(t){var e=FZ(t,"string");return _l(e)=="symbol"?e:e+""}function FZ(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VZ=function(e){var n=e.x,r=e.y,a=e.xAxis,i=e.yAxis,s=IS({x:a.scale,y:i.scale}),u=s.apply({x:n,y:r},{bandAware:!0});return la(e,"discard")&&!s.isInRange(u)?null:u},ip=function(t){function e(){return IZ(this,e),LZ(this,e,arguments)}return UZ(e,t),$Z(e,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,s=r.r,u=r.alwaysShow,c=r.clipPathId,d=dn(a),h=dn(i);if(Hr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var p=VZ(this.props);if(!p)return null;var y=p.x,_=p.y,S=this.props,A=S.shape,T=S.className,O=la(this.props,"hidden")?"url(#".concat(c,")"):void 0,M=R2(R2({clipPath:O},He(this.props,!0)),{},{cx:y,cy:_});return Z.createElement(Tt,{className:rt("recharts-reference-dot",T)},e.renderDot(A,M),bn.renderCallByParent(this.props,{x:y-s,y:_-s,width:2*s,height:2*s}))}}])}(Z.Component);ap(ip,"displayName","ReferenceDot");ap(ip,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ap(ip,"renderDot",function(t,e){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,e):Ke(t)?n=t(e):n=Z.createElement(RS,ew({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(this,arguments)}function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function j2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){op(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t$(r.key),r)}}function HZ(t,e,n){return e&&GZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KZ(t,e,n){return e=om(e),YZ(t,e$()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function YZ(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WZ(t)}function WZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function XZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rw(t,e)}function rw(t,e){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},rw(t,e)}function op(t,e,n){return e=t$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t$(t){var e=ZZ(t,"string");return wl(e)=="symbol"?e:e+""}function ZZ(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JZ=function(e,n,r,a,i){var s=i.x1,u=i.x2,c=i.y1,d=i.y2,h=i.xAxis,p=i.yAxis;if(!h||!p)return null;var y=IS({x:h.scale,y:p.scale}),_={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:n?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(d,{position:"end"}):y.y.rangeMax};return la(i,"discard")&&(!y.isInRange(_)||!y.isInRange(S))?null:U5(_,S)},sp=function(t){function e(){return zZ(this,e),KZ(this,e,arguments)}return XZ(e,t),HZ(e,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,s=r.y1,u=r.y2,c=r.className,d=r.alwaysShow,h=r.clipPathId;Hr(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=dn(a),y=dn(i),_=dn(s),S=dn(u),A=this.props.shape;if(!p&&!y&&!_&&!S&&!A)return null;var T=JZ(p,y,_,S,this.props);if(!T&&!A)return null;var O=la(this.props,"hidden")?"url(#".concat(h,")"):void 0;return Z.createElement(Tt,{className:rt("recharts-reference-area",c)},e.renderRect(A,j2(j2({clipPath:O},He(this.props,!0)),T)),bn.renderCallByParent(this.props,T))}}])}(Z.Component);op(sp,"displayName","ReferenceArea");op(sp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});op(sp,"renderRect",function(t,e){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,e):Ke(t)?n=t(e):n=Z.createElement(PS,nw({},e,{className:"recharts-reference-area-rect"})),n});function n$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function QZ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return aZ(r,n)}function eJ(t,e,n){var r=n==="width",a=t.x,i=t.y,s=t.width,u=t.height;return e===1?{start:r?a:i,end:r?a+s:i+u}:{start:r?a+s:i+u,end:r?a:i}}function sm(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-a)<=0}function tJ(t,e){return n$(t,e+1)}function nJ(t,e,n,r,a){for(var i=(r||[]).slice(),s=e.start,u=e.end,c=0,d=1,h=s,p=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:n$(r,d)};var A=c,T,O=function(){return T===void 0&&(T=n(S,A)),T},M=S.coordinate,C=c===0||sm(t,M,O,h,u);C||(c=0,h=s,d+=1),C&&(h=M+t*(O()/2+a),c+=d)},y;d<=i.length;)if(y=p(),y)return y.v;return[]}function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){rJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rJ(t,e,n){return e=aJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aJ(t){var e=iJ(t,"string");return ad(e)=="symbol"?e:e+""}function iJ(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oJ(t,e,n,r,a){for(var i=(r||[]).slice(),s=i.length,u=e.start,c=e.end,d=function(y){var _=i[y],S,A=function(){return S===void 0&&(S=n(_,y)),S};if(y===s-1){var T=t*(_.coordinate+t*A()/2-c);i[y]=_=kn(kn({},_),{},{tickCoord:T>0?_.coordinate-T*t:_.coordinate})}else i[y]=_=kn(kn({},_),{},{tickCoord:_.coordinate});var O=sm(t,_.tickCoord,A,u,c);O&&(c=_.tickCoord-t*(A()/2+a),i[y]=kn(kn({},_),{},{isShow:!0}))},h=s-1;h>=0;h--)d(h);return i}function sJ(t,e,n,r,a,i){var s=(r||[]).slice(),u=s.length,c=e.start,d=e.end;if(i){var h=r[u-1],p=n(h,u-1),y=t*(h.coordinate+t*p/2-d);s[u-1]=h=kn(kn({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var _=sm(t,h.tickCoord,function(){return p},c,d);_&&(d=h.tickCoord-t*(p/2+a),s[u-1]=kn(kn({},h),{},{isShow:!0}))}for(var S=i?u-1:u,A=function(M){var C=s[M],D,E=function(){return D===void 0&&(D=n(C,M)),D};if(M===0){var k=t*(C.coordinate-t*E()/2-c);s[M]=C=kn(kn({},C),{},{tickCoord:k<0?C.coordinate-k*t:C.coordinate})}else s[M]=C=kn(kn({},C),{},{tickCoord:C.coordinate});var P=sm(t,C.tickCoord,E,c,d);P&&(c=C.tickCoord+t*(E()/2+a),s[M]=kn(kn({},C),{},{isShow:!0}))},T=0;T<S;T++)A(T);return s}function FS(t,e,n){var r=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,u=t.orientation,c=t.interval,d=t.tickFormatter,h=t.unit,p=t.angle;if(!a||!a.length||!r)return[];if(Te(c)||Ll.isSsr)return tJ(a,typeof c=="number"&&Te(c)?c:0);var y=[],_=u==="top"||u==="bottom"?"width":"height",S=h&&_==="width"?yc(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(C,D){var E=Ke(d)?d(C.value,D):C.value;return _==="width"?QZ(yc(E,{fontSize:e,letterSpacing:n}),S,p):yc(E,{fontSize:e,letterSpacing:n})[_]},T=a.length>=2?$n(a[1].coordinate-a[0].coordinate):1,O=eJ(i,T,_);return c==="equidistantPreserveStart"?nJ(T,O,A,a,s):(c==="preserveStart"||c==="preserveStartEnd"?y=sJ(T,O,A,a,s,c==="preserveStartEnd"):y=oJ(T,O,A,a,s),y.filter(function(M){return M.isShow}))}var lJ=["viewBox"],uJ=["viewBox"],cJ=["ticks"];function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ys.apply(this,arguments)}function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){VS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ox(t,e){if(t==null)return{};var n=dJ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a$(r.key),r)}}function hJ(t,e,n){return e&&B2(t.prototype,e),n&&B2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mJ(t,e,n){return e=lm(e),pJ(t,r$()?Reflect.construct(e,n||[],lm(t).constructor):e.apply(t,n))}function pJ(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gJ(t)}function gJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r$=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lm(t)}function vJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aw(t,e)}function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},aw(t,e)}function VS(t,e,n){return e=a$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a$(t){var e=yJ(t,"string");return Sl(e)=="symbol"?e:e+""}function yJ(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fl=function(t){function e(n){var r;return fJ(this,e),r=mJ(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return vJ(e,t),hJ(e,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,s=Ox(r,lJ),u=this.props,c=u.viewBox,d=Ox(u,uJ);return!Js(i,c)||!Js(s,d)||!Js(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,s=a.y,u=a.width,c=a.height,d=a.orientation,h=a.tickSize,p=a.mirror,y=a.tickMargin,_,S,A,T,O,M,C=p?-1:1,D=r.tickSize||h,E=Te(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":_=S=r.coordinate,T=s+ +!p*c,A=T-C*D,M=A-C*y,O=E;break;case"left":A=T=r.coordinate,S=i+ +!p*u,_=S-C*D,O=_-C*y,M=E;break;case"right":A=T=r.coordinate,S=i+ +p*u,_=S+C*D,O=_+C*y,M=E;break;default:_=S=r.coordinate,T=s+ +p*c,A=T+C*D,M=A+C*y,O=E;break}return{line:{x1:_,y1:A,x2:S,y2:T},tick:{x:O,y:M}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,c=r.orientation,d=r.mirror,h=r.axisLine,p=In(In(In({},He(this.props,!1)),He(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!d||c==="bottom"&&d);p=In(In({},p),{},{x1:a,y1:i+y*u,x2:a+s,y2:i+y*u})}else{var _=+(c==="left"&&!d||c==="right"&&d);p=In(In({},p),{},{x1:a+_*s,y1:i,x2:a+_*s,y2:i+u})}return Z.createElement("line",Ys({},p,{className:rt("recharts-cartesian-axis-line",hr(h,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var s=this,u=this.props,c=u.tickLine,d=u.stroke,h=u.tick,p=u.tickFormatter,y=u.unit,_=FS(In(In({},this.props),{},{ticks:r}),a,i),S=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),T=He(this.props,!1),O=He(h,!1),M=In(In({},T),{},{fill:"none"},He(c,!1)),C=_.map(function(D,E){var k=s.getTickLineCoord(D),P=k.line,I=k.tick,F=In(In(In(In({textAnchor:S,verticalAnchor:A},T),{},{stroke:"none",fill:d},O),I),{},{index:E,payload:D,visibleTicksCount:_.length,tickFormatter:p});return Z.createElement(Tt,Ys({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},No(s.props,D,E)),c&&Z.createElement("line",Ys({},M,P,{className:rt("recharts-cartesian-axis-tick-line",hr(c,"className"))})),h&&e.renderTickItem(h,F,"".concat(Ke(p)?p(D.value,E):D.value).concat(y||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,s=a.width,u=a.height,c=a.ticksGenerator,d=a.className,h=a.hide;if(h)return null;var p=this.props,y=p.ticks,_=Ox(p,cJ),S=y;return Ke(c)&&(S=y&&y.length>0?c(this.props):c(_)),s<=0||u<=0||!S||!S.length?null:Z.createElement(Tt,{className:rt("recharts-cartesian-axis",d),ref:function(T){r.layerReference=T}},i&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),bn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var s;return Z.isValidElement(r)?s=Z.cloneElement(r,a):Ke(r)?s=r(a):s=Z.createElement(Po,Ys({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(j.Component);VS(Fl,"displayName","CartesianAxis");VS(Fl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bJ=["x1","y1","x2","y2","key"],xJ=["offset"];function jo(t){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(t)}function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){_J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _J(t,e,n){return e=wJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wJ(t){var e=SJ(t,"string");return jo(e)=="symbol"?e:e+""}function SJ(t,e){if(jo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ko(){return ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ko.apply(this,arguments)}function U2(t,e){if(t==null)return{};var n=TJ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var AJ=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,a=e.x,i=e.y,s=e.width,u=e.height,c=e.ry;return Z.createElement("rect",{x:a,y:i,ry:c,width:s,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function i$(t,e){var n;if(Z.isValidElement(t))n=Z.cloneElement(t,e);else if(Ke(t))n=t(e);else{var r=e.x1,a=e.y1,i=e.x2,s=e.y2,u=e.key,c=U2(e,bJ),d=He(c,!1);d.offset;var h=U2(d,xJ);n=Z.createElement("line",ko({},h,{x1:r,y1:a,x2:i,y2:s,fill:"none",key:u}))}return n}function CJ(t){var e=t.x,n=t.width,r=t.horizontal,a=r===void 0?!0:r,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(u,c){var d=On(On({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return i$(a,d)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function EJ(t){var e=t.y,n=t.height,r=t.vertical,a=r===void 0?!0:r,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(u,c){var d=On(On({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return i$(a,d)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function kJ(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,a=t.y,i=t.width,s=t.height,u=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var h=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,_){return y-_});a!==h[0]&&h.unshift(0);var p=h.map(function(y,_){var S=!h[_+1],A=S?a+s-y:h[_+1]-y;if(A<=0)return null;var T=_%e.length;return Z.createElement("rect",{key:"react-".concat(_),y,x:r,height:A,width:i,stroke:"none",fill:e[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function OJ(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,u=t.width,c=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var h=d.map(function(y){return Math.round(y+i-i)}).sort(function(y,_){return y-_});i!==h[0]&&h.unshift(0);var p=h.map(function(y,_){var S=!h[_+1],A=S?i+u-y:h[_+1]-y;if(A<=0)return null;var T=_%r.length;return Z.createElement("rect",{key:"react-".concat(_),x:y,y:s,width:A,height:c,stroke:"none",fill:r[T],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var MJ=function(e,n){var r=e.xAxis,a=e.width,i=e.height,s=e.offset;return o5(FS(On(On(On({},Fl.defaultProps),r),{},{ticks:$a(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,n)},DJ=function(e,n){var r=e.yAxis,a=e.width,i=e.height,s=e.offset;return o5(FS(On(On(On({},Fl.defaultProps),r),{},{ticks:$a(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,n)},Us={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function o$(t){var e,n,r,a,i,s,u=LS(),c=BS(),d=yZ(),h=On(On({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Us.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Us.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Us.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Us.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Us.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Us.verticalFill,x:Te(t.x)?t.x:d.left,y:Te(t.y)?t.y:d.top,width:Te(t.width)?t.width:d.width,height:Te(t.height)?t.height:d.height}),p=h.x,y=h.y,_=h.width,S=h.height,A=h.syncWithTicks,T=h.horizontalValues,O=h.verticalValues,M=pZ(),C=gZ();if(!Te(_)||_<=0||!Te(S)||S<=0||!Te(p)||p!==+p||!Te(y)||y!==+y)return null;var D=h.verticalCoordinatesGenerator||MJ,E=h.horizontalCoordinatesGenerator||DJ,k=h.horizontalPoints,P=h.verticalPoints;if((!k||!k.length)&&Ke(E)){var I=T&&T.length,F=E({yAxis:C?On(On({},C),{},{ticks:I?T:C.ticks}):void 0,width:u,height:c,offset:d},I?!0:A);Hr(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(jo(F),"]")),Array.isArray(F)&&(k=F)}if((!P||!P.length)&&Ke(D)){var z=O&&O.length,B=D({xAxis:M?On(On({},M),{},{ticks:z?O:M.ticks}):void 0,width:u,height:c,offset:d},z?!0:A);Hr(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(jo(B),"]")),Array.isArray(B)&&(P=B)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement(AJ,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),Z.createElement(CJ,ko({},h,{offset:d,horizontalPoints:k,xAxis:M,yAxis:C})),Z.createElement(EJ,ko({},h,{offset:d,verticalPoints:P,xAxis:M,yAxis:C})),Z.createElement(kJ,ko({},h,{horizontalPoints:k})),Z.createElement(OJ,ko({},h,{verticalPoints:P})))}o$.displayName="CartesianGrid";function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function NJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u$(r.key),r)}}function RJ(t,e,n){return e&&PJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IJ(t,e,n){return e=um(e),jJ(t,s$()?Reflect.construct(e,n||[],um(t).constructor):e.apply(t,n))}function jJ(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $J(t)}function $J(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s$=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},um(t)}function LJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iw(t,e)}function iw(t,e){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},iw(t,e)}function l$(t,e,n){return e=u$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u$(t){var e=BJ(t,"string");return Tl(e)=="symbol"?e:e+""}function BJ(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function qJ(t){var e=t.xAxisId,n=LS(),r=BS(),a=Y5(e);return a==null?null:Z.createElement(Fl,ow({},a,{className:rt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return $a(s,!0)}}))}var lp=function(t){function e(){return NJ(this,e),IJ(this,e,arguments)}return LJ(e,t),RJ(e,[{key:"render",value:function(){return Z.createElement(qJ,this.props)}}])}(Z.Component);l$(lp,"displayName","XAxis");l$(lp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function UJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f$(r.key),r)}}function VJ(t,e,n){return e&&FJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zJ(t,e,n){return e=cm(e),GJ(t,c$()?Reflect.construct(e,n||[],cm(t).constructor):e.apply(t,n))}function GJ(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HJ(t)}function HJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c$=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cm(t)}function KJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sw(t,e)}function sw(t,e){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},sw(t,e)}function d$(t,e,n){return e=f$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f$(t){var e=YJ(t,"string");return Al(e)=="symbol"?e:e+""}function YJ(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}var WJ=function(e){var n=e.yAxisId,r=LS(),a=BS(),i=W5(n);return i==null?null:Z.createElement(Fl,lw({},i,{className:rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(u){return $a(u,!0)}}))},up=function(t){function e(){return UJ(this,e),zJ(this,e,arguments)}return KJ(e,t),VJ(e,[{key:"render",value:function(){return Z.createElement(WJ,this.props)}}])}(Z.Component);d$(up,"displayName","YAxis");d$(up,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function F2(t){return QJ(t)||JJ(t)||ZJ(t)||XJ()}function XJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJ(t,e){if(t){if(typeof t=="string")return uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uw(t,e)}}function JJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QJ(t){if(Array.isArray(t))return uw(t)}function uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cw=function(e,n,r,a,i){var s=Dr(e,US),u=Dr(e,ip),c=[].concat(F2(s),F2(u)),d=Dr(e,sp),h="".concat(a,"Id"),p=a[0],y=n;if(c.length&&(y=c.reduce(function(A,T){if(T.props[h]===r&&la(T.props,"extendDomain")&&Te(T.props[p])){var O=T.props[p];return[Math.min(A[0],O),Math.max(A[1],O)]}return A},y)),d.length){var _="".concat(p,"1"),S="".concat(p,"2");y=d.reduce(function(A,T){if(T.props[h]===r&&la(T.props,"extendDomain")&&Te(T.props[_])&&Te(T.props[S])){var O=T.props[_],M=T.props[S];return[Math.min(A[0],O,M),Math.max(A[1],O,M)]}return A},y)}return i&&i.length&&(y=i.reduce(function(A,T){return Te(T)?[Math.min(A[0],T),Math.max(A[1],T)]:A},y)),y},Mx={exports:{}},V2;function eQ(){return V2||(V2=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function i(c,d,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new a(h,p||c,y),S=n?n+d:d;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],_]:c._events[S].push(_):(c._events[S]=_,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)e.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,_=p.length,S=new Array(_);y<_;y++)S[y]=p[y].fn;return S},u.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(d,h,p,y,_,S){var A=n?n+d:d;if(!this._events[A])return!1;var T=this._events[A],O=arguments.length,M,C;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),O){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,p),!0;case 4:return T.fn.call(T.context,h,p,y),!0;case 5:return T.fn.call(T.context,h,p,y,_),!0;case 6:return T.fn.call(T.context,h,p,y,_,S),!0}for(C=1,M=new Array(O-1);C<O;C++)M[C-1]=arguments[C];T.fn.apply(T.context,M)}else{var D=T.length,E;for(C=0;C<D;C++)switch(T[C].once&&this.removeListener(d,T[C].fn,void 0,!0),O){case 1:T[C].fn.call(T[C].context);break;case 2:T[C].fn.call(T[C].context,h);break;case 3:T[C].fn.call(T[C].context,h,p);break;case 4:T[C].fn.call(T[C].context,h,p,y);break;default:if(!M)for(E=1,M=new Array(O-1);E<O;E++)M[E-1]=arguments[E];T[C].fn.apply(T[C].context,M)}}return!0},u.prototype.on=function(d,h,p){return i(this,d,h,p,!1)},u.prototype.once=function(d,h,p){return i(this,d,h,p,!0)},u.prototype.removeListener=function(d,h,p,y){var _=n?n+d:d;if(!this._events[_])return this;if(!h)return s(this,_),this;var S=this._events[_];if(S.fn)S.fn===h&&(!y||S.once)&&(!p||S.context===p)&&s(this,_);else{for(var A=0,T=[],O=S.length;A<O;A++)(S[A].fn!==h||y&&!S[A].once||p&&S[A].context!==p)&&T.push(S[A]);T.length?this._events[_]=T.length===1?T[0]:T:s(this,_)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(Mx)),Mx.exports}var tQ=eQ();const nQ=vt(tQ);var Dx=new nQ,Nx="recharts.syncMouseEvents";function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function rQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h$(r.key),r)}}function iQ(t,e,n){return e&&aQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Px(t,e,n){return e=h$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h$(t){var e=oQ(t,"string");return id(e)=="symbol"?e:e+""}function oQ(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sQ=function(){function t(){rQ(this,t),Px(this,"activeIndex",0),Px(this,"coordinateList",[]),Px(this,"layout","horizontal")}return iQ(t,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,s=n.container,u=s===void 0?null:s,c=n.layout,d=c===void 0?null:c,h=n.offset,p=h===void 0?null:h,y=n.mouseHandlerCallback,_=y===void 0?null:y;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=d??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,u=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=i+c+d,y=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])}();function lQ(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],a=t==null?void 0:t[1];if(r&&a&&Te(r)&&Te(a))return!0}return!1}function uQ(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function m$(t){var e=t.cx,n=t.cy,r=t.radius,a=t.startAngle,i=t.endAngle,s=qt(e,n,r,a),u=qt(e,n,r,i);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:a,endAngle:i}}function cQ(t,e,n){var r,a,i,s;if(t==="horizontal")r=e.x,i=r,a=n.top,s=n.top+n.height;else if(t==="vertical")a=e.y,s=a,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,d=e.innerRadius,h=e.outerRadius,p=e.angle,y=qt(u,c,d,p),_=qt(u,c,h,p);r=y.x,a=y.y,i=_.x,s=_.y}else return m$(e);return[{x:r,y:a},{x:i,y:s}]}function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(n),!0).forEach(function(r){dQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dQ(t,e,n){return e=fQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fQ(t){var e=hQ(t,"string");return od(e)=="symbol"?e:e+""}function hQ(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mQ(t){var e,n,r=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,d=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,y=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!i||!s||y!=="ScatterChart"&&a!=="axis")return null;var S,A=P_;if(y==="ScatterChart")S=s,A=WY;else if(y==="BarChart")S=uQ(p,s,c,h),A=PS;else if(p==="radial"){var T=m$(s),O=T.cx,M=T.cy,C=T.radius,D=T.startAngle,E=T.endAngle;S={cx:O,cy:M,startAngle:D,endAngle:E,innerRadius:C,outerRadius:C},A=v5}else S={points:cQ(p,s,c)},A=P_;var k=ih(ih(ih(ih({stroke:"#ccc",pointerEvents:"none"},c),S),He(_,!1)),{},{payload:u,payloadIndex:d,className:rt("recharts-tooltip-cursor",_.className)});return j.isValidElement(_)?j.cloneElement(_,k):j.createElement(A,k)}var pQ=["item"],gQ=["children","className","width","height","style","compact","title","desc"];function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ws.apply(this,arguments)}function G2(t,e){return bQ(t)||yQ(t,e)||g$(t,e)||vQ()}function vQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){d=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw a}}return u}}function bQ(t){if(Array.isArray(t))return t}function H2(t,e){if(t==null)return{};var n=xQ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v$(r.key),r)}}function SQ(t,e,n){return e&&wQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TQ(t,e,n){return e=dm(e),AQ(t,p$()?Reflect.construct(e,n||[],dm(t).constructor):e.apply(t,n))}function AQ(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CQ(t)}function CQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p$=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dm(t)}function EQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},dw(t,e)}function El(t){return MQ(t)||OQ(t)||g$(t)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g$(t,e){if(t){if(typeof t=="string")return fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fw(t,e)}}function OQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MQ(t){if(Array.isArray(t))return fw(t)}function fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){Fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fe(t,e,n){return e=v$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v$(t){var e=DQ(t,"string");return Cl(e)=="symbol"?e:e+""}function DQ(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NQ={xAxis:["bottom","top"],yAxis:["left","right"]},PQ={width:"100%",height:"100%"},y$={x:0,y:0};function oh(t){return t}var RQ=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},IQ=function(e,n,r,a){var i=n.find(function(h){return h&&h.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,u=a.radius;return de(de(de({},a),qt(a.cx,a.cy,u,s)),{},{angle:s,radius:u})}var c=i.coordinate,d=a.angle;return de(de(de({},a),qt(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return y$},cp=function(e,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,s=(r??[]).reduce(function(u,c){var d=c.props.data;return d&&d.length?[].concat(El(u),El(d)):u},[]);return s.length>0?s:e&&e.length&&Te(a)&&Te(i)?e.slice(a,i+1):[]};function b$(t){return t==="number"?[0,"auto"]:void 0}var hw=function(e,n,r,a){var i=e.graphicalItems,s=e.tooltipAxis,u=cp(n,e);return r<0||!i||!i.length||r>=u.length?null:i.reduce(function(c,d){var h,p=(h=d.props.data)!==null&&h!==void 0?h:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var _=p===void 0?u:p;y=Yx(_,s.dataKey,a)}else y=p&&p[r]||u[r];return y?[].concat(El(c),[d5(d,y)]):c},[])},Y2=function(e,n,r,a){var i=a||{x:e.chartX,y:e.chartY},s=RQ(i,r),u=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,h=xG(s,u,d,c);if(h>=0&&d){var p=d[h]&&d[h].value,y=hw(e,n,h,p),_=IQ(r,u,h,i);return{activeTooltipIndex:h,activeLabel:p,activePayload:y,activeCoordinate:_}}return null},jQ=function(e,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.layout,p=e.children,y=e.stackOffset,_=i5(h,i);return r.reduce(function(S,A){var T,O=A.type.defaultProps!==void 0?de(de({},A.type.defaultProps),A.props):A.props,M=O.type,C=O.dataKey,D=O.allowDataOverflow,E=O.allowDuplicatedCategory,k=O.scale,P=O.ticks,I=O.includeHidden,F=O[s];if(S[F])return S;var z=cp(e.data,{graphicalItems:a.filter(function(ae){var ce,ye=s in ae.props?ae.props[s]:(ce=ae.type.defaultProps)===null||ce===void 0?void 0:ce[s];return ye===F}),dataStartIndex:c,dataEndIndex:d}),B=z.length,W,Q,Y;lQ(O.domain,D,M)&&(W=k_(O.domain,null,D),_&&(M==="number"||k!=="auto")&&(Y=xc(z,C,"category")));var q=b$(M);if(!W||W.length===0){var $,V=($=O.domain)!==null&&$!==void 0?$:q;if(C){if(W=xc(z,C,M),M==="category"&&_){var J=mU(W);E&&J?(Q=W,W=Qh(0,B)):E||(W=XD(V,W,A).reduce(function(ae,ce){return ae.indexOf(ce)>=0?ae:[].concat(El(ae),[ce])},[]))}else if(M==="category")E?W=W.filter(function(ae){return ae!==""&&!lt(ae)}):W=XD(V,W,A).reduce(function(ae,ce){return ae.indexOf(ce)>=0||ce===""||lt(ce)?ae:[].concat(El(ae),[ce])},[]);else if(M==="number"){var oe=AG(z,a.filter(function(ae){var ce,ye,Pe=s in ae.props?ae.props[s]:(ce=ae.type.defaultProps)===null||ce===void 0?void 0:ce[s],Oe="hide"in ae.props?ae.props.hide:(ye=ae.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return Pe===F&&(I||!Oe)}),C,i,h);oe&&(W=oe)}_&&(M==="number"||k!=="auto")&&(Y=xc(z,C,"category"))}else _?W=Qh(0,B):u&&u[F]&&u[F].hasStack&&M==="number"?W=y==="expand"?[0,1]:c5(u[F].stackGroups,c,d):W=a5(z,a.filter(function(ae){var ce=s in ae.props?ae.props[s]:ae.type.defaultProps[s],ye="hide"in ae.props?ae.props.hide:ae.type.defaultProps.hide;return ce===F&&(I||!ye)}),M,h,!0);if(M==="number")W=cw(p,W,F,i,P),V&&(W=k_(V,W,D));else if(M==="category"&&V){var U=V,K=W.every(function(ae){return U.indexOf(ae)>=0});K&&(W=U)}}return de(de({},S),{},Fe({},F,de(de({},O),{},{axisType:i,domain:W,categoricalDomain:Y,duplicateDomain:Q,originalDomain:(T=O.domain)!==null&&T!==void 0?T:q,isCategorical:_,layout:h})))},{})},$Q=function(e,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.layout,p=e.children,y=cp(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),_=y.length,S=i5(h,i),A=-1;return r.reduce(function(T,O){var M=O.type.defaultProps!==void 0?de(de({},O.type.defaultProps),O.props):O.props,C=M[s],D=b$("number");if(!T[C]){A++;var E;return S?E=Qh(0,_):u&&u[C]&&u[C].hasStack?(E=c5(u[C].stackGroups,c,d),E=cw(p,E,C,i)):(E=k_(D,a5(y,r.filter(function(k){var P,I,F=s in k.props?k.props[s]:(P=k.type.defaultProps)===null||P===void 0?void 0:P[s],z="hide"in k.props?k.props.hide:(I=k.type.defaultProps)===null||I===void 0?void 0:I.hide;return F===C&&!z}),"number",h),a.defaultProps.allowDataOverflow),E=cw(p,E,C,i)),de(de({},T),{},Fe({},C,de(de({axisType:i},a.defaultProps),{},{hide:!0,orientation:hr(NQ,"".concat(i,".").concat(A%2),null),domain:E,originalDomain:D,isCategorical:S,layout:h})))}return T},{})},LQ=function(e,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,s=n.graphicalItems,u=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,h=e.children,p="".concat(a,"Id"),y=Dr(h,i),_={};return y&&y.length?_=jQ(e,{axes:y,graphicalItems:s,axisType:a,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:d}):s&&s.length&&(_=$Q(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:d})),_},BQ=function(e){var n=Ni(e),r=$a(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:oS(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Uh(n,r)}},W2=function(e){var n=e.children,r=e.defaultShowTooltip,a=cr(n,yl),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},qQ=function(e){return!e||!e.length?!1:e.some(function(n){var r=La(n&&n.type);return r&&r.indexOf("Bar")>=0})},X2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},UQ=function(e,n){var r=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,u=e.yAxisMap,c=u===void 0?{}:u,d=r.width,h=r.height,p=r.children,y=r.margin||{},_=cr(p,yl),S=cr(p,Ri),A=Object.keys(c).reduce(function(E,k){var P=c[k],I=P.orientation;return!P.mirror&&!P.hide?de(de({},E),{},Fe({},I,E[I]+P.width)):E},{left:y.left||0,right:y.right||0}),T=Object.keys(s).reduce(function(E,k){var P=s[k],I=P.orientation;return!P.mirror&&!P.hide?de(de({},E),{},Fe({},I,hr(E,"".concat(I))+P.height)):E},{top:y.top||0,bottom:y.bottom||0}),O=de(de({},T),A),M=O.bottom;_&&(O.bottom+=_.props.height||yl.defaultProps.height),S&&n&&(O=SG(O,a,r,n));var C=d-O.left-O.right,D=h-O.top-O.bottom;return de(de({brushBottom:M},O),{},{width:Math.max(C,0),height:Math.max(D,0)})},FQ=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},x$=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,d=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,y=function(O,M){var C=M.graphicalItems,D=M.stackGroups,E=M.offset,k=M.updateId,P=M.dataStartIndex,I=M.dataEndIndex,F=O.barSize,z=O.layout,B=O.barGap,W=O.barCategoryGap,Q=O.maxBarSize,Y=X2(z),q=Y.numericAxisName,$=Y.cateAxisName,V=qQ(C),J=[];return C.forEach(function(oe,U){var K=cp(O.data,{graphicalItems:[oe],dataStartIndex:P,dataEndIndex:I}),ae=oe.type.defaultProps!==void 0?de(de({},oe.type.defaultProps),oe.props):oe.props,ce=ae.dataKey,ye=ae.maxBarSize,Pe=ae["".concat(q,"Id")],Oe=ae["".concat($,"Id")],At={},Ze=c.reduce(function(Gn,mr){var Xa=M["".concat(mr.axisType,"Map")],Ho=ae["".concat(mr.axisType,"Id")];Xa&&Xa[Ho]||mr.axisType==="zAxis"||Io();var Zr=Xa[Ho];return de(de({},Gn),{},Fe(Fe({},mr.axisType,Zr),"".concat(mr.axisType,"Ticks"),$a(Zr)))},At),Ae=Ze[$],Ve=Ze["".concat($,"Ticks")],qe=D&&D[Pe]&&D[Pe].hasStack&&RG(oe,D[Pe].stackGroups),ge=La(oe.type).indexOf("Bar")>=0,Ct=Uh(Ae,Ve),Xe=[],Ft=V&&_G({barSize:F,stackGroups:D,totalSize:FQ(Ze,$)});if(ge){var Pt,_t,tr=lt(ye)?Q:ye,zn=(Pt=(_t=Uh(Ae,Ve,!0))!==null&&_t!==void 0?_t:tr)!==null&&Pt!==void 0?Pt:0;Xe=wG({barGap:B,barCategoryGap:W,bandSize:zn!==Ct?zn:Ct,sizeList:Ft[Oe],maxBarSize:tr}),zn!==Ct&&(Xe=Xe.map(function(Gn){return de(de({},Gn),{},{position:de(de({},Gn.position),{},{offset:Gn.position.offset-zn/2})})}))}var ma=oe&&oe.type&&oe.type.getComposedData;ma&&J.push({props:de(de({},ma(de(de({},Ze),{},{displayedData:K,props:O,dataKey:ce,item:oe,bandSize:Ct,barPosition:Xe,offset:E,stackedData:qe,layout:z,dataStartIndex:P,dataEndIndex:I}))),{},Fe(Fe(Fe({key:oe.key||"item-".concat(U)},q,Ze[q]),$,Ze[$]),"animationId",k)),childIndex:CU(oe,O.children),item:oe})}),J},_=function(O,M){var C=O.props,D=O.dataStartIndex,E=O.dataEndIndex,k=O.updateId;if(!dk({props:C}))return null;var P=C.children,I=C.layout,F=C.stackOffset,z=C.data,B=C.reverseStackOrder,W=X2(I),Q=W.numericAxisName,Y=W.cateAxisName,q=Dr(P,r),$=NG(z,q,"".concat(Q,"Id"),"".concat(Y,"Id"),F,B),V=c.reduce(function(ae,ce){var ye="".concat(ce.axisType,"Map");return de(de({},ae),{},Fe({},ye,LQ(C,de(de({},ce),{},{graphicalItems:q,stackGroups:ce.axisType===Q&&$,dataStartIndex:D,dataEndIndex:E}))))},{}),J=UQ(de(de({},V),{},{props:C,graphicalItems:q}),M==null?void 0:M.legendBBox);Object.keys(V).forEach(function(ae){V[ae]=h(C,V[ae],J,ae.replace("Map",""),n)});var oe=V["".concat(Y,"Map")],U=BQ(oe),K=y(C,de(de({},V),{},{dataStartIndex:D,dataEndIndex:E,updateId:k,graphicalItems:q,stackGroups:$,offset:J}));return de(de({formattedGraphicalItems:K,graphicalItems:q,offset:J,stackGroups:$},U),V)},S=function(T){function O(M){var C,D,E;return _Q(this,O),E=TQ(this,O,[M]),Fe(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(E,"accessibilityManager",new sQ),Fe(E,"handleLegendBBoxUpdate",function(k){if(k){var P=E.state,I=P.dataStartIndex,F=P.dataEndIndex,z=P.updateId;E.setState(de({legendBBox:k},_({props:E.props,dataStartIndex:I,dataEndIndex:F,updateId:z},de(de({},E.state),{},{legendBBox:k}))))}}),Fe(E,"handleReceiveSyncEvent",function(k,P,I){if(E.props.syncId===k){if(I===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(P)}}),Fe(E,"handleBrushChange",function(k){var P=k.startIndex,I=k.endIndex;if(P!==E.state.dataStartIndex||I!==E.state.dataEndIndex){var F=E.state.updateId;E.setState(function(){return de({dataStartIndex:P,dataEndIndex:I},_({props:E.props,dataStartIndex:P,dataEndIndex:I,updateId:F},E.state))}),E.triggerSyncEvent({dataStartIndex:P,dataEndIndex:I})}}),Fe(E,"handleMouseEnter",function(k){var P=E.getMouseInfo(k);if(P){var I=de(de({},P),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var F=E.props.onMouseEnter;Ke(F)&&F(I,k)}}),Fe(E,"triggeredAfterMouseMove",function(k){var P=E.getMouseInfo(k),I=P?de(de({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(I),E.triggerSyncEvent(I);var F=E.props.onMouseMove;Ke(F)&&F(I,k)}),Fe(E,"handleItemMouseEnter",function(k){E.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Fe(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Fe(E,"handleMouseMove",function(k){k.persist(),E.throttleTriggeredAfterMouseMove(k)}),Fe(E,"handleMouseLeave",function(k){E.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};E.setState(P),E.triggerSyncEvent(P);var I=E.props.onMouseLeave;Ke(I)&&I(P,k)}),Fe(E,"handleOuterEvent",function(k){var P=AU(k),I=hr(E.props,"".concat(P));if(P&&Ke(I)){var F,z;/.*touch.*/i.test(P)?z=E.getMouseInfo(k.changedTouches[0]):z=E.getMouseInfo(k),I((F=z)!==null&&F!==void 0?F:{},k)}}),Fe(E,"handleClick",function(k){var P=E.getMouseInfo(k);if(P){var I=de(de({},P),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var F=E.props.onClick;Ke(F)&&F(I,k)}}),Fe(E,"handleMouseDown",function(k){var P=E.props.onMouseDown;if(Ke(P)){var I=E.getMouseInfo(k);P(I,k)}}),Fe(E,"handleMouseUp",function(k){var P=E.props.onMouseUp;if(Ke(P)){var I=E.getMouseInfo(k);P(I,k)}}),Fe(E,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Fe(E,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&E.handleMouseDown(k.changedTouches[0])}),Fe(E,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&E.handleMouseUp(k.changedTouches[0])}),Fe(E,"handleDoubleClick",function(k){var P=E.props.onDoubleClick;if(Ke(P)){var I=E.getMouseInfo(k);P(I,k)}}),Fe(E,"handleContextMenu",function(k){var P=E.props.onContextMenu;if(Ke(P)){var I=E.getMouseInfo(k);P(I,k)}}),Fe(E,"triggerSyncEvent",function(k){E.props.syncId!==void 0&&Dx.emit(Nx,E.props.syncId,k,E.eventEmitterSymbol)}),Fe(E,"applySyncEvent",function(k){var P=E.props,I=P.layout,F=P.syncMethod,z=E.state.updateId,B=k.dataStartIndex,W=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)E.setState(de({dataStartIndex:B,dataEndIndex:W},_({props:E.props,dataStartIndex:B,dataEndIndex:W,updateId:z},E.state)));else if(k.activeTooltipIndex!==void 0){var Q=k.chartX,Y=k.chartY,q=k.activeTooltipIndex,$=E.state,V=$.offset,J=$.tooltipTicks;if(!V)return;if(typeof F=="function")q=F(J,k);else if(F==="value"){q=-1;for(var oe=0;oe<J.length;oe++)if(J[oe].value===k.activeLabel){q=oe;break}}var U=de(de({},V),{},{x:V.left,y:V.top}),K=Math.min(Q,U.x+U.width),ae=Math.min(Y,U.y+U.height),ce=J[q]&&J[q].value,ye=hw(E.state,E.props.data,q),Pe=J[q]?{x:I==="horizontal"?J[q].coordinate:K,y:I==="horizontal"?ae:J[q].coordinate}:y$;E.setState(de(de({},k),{},{activeLabel:ce,activeCoordinate:Pe,activePayload:ye,activeTooltipIndex:q}))}else E.setState(k)}),Fe(E,"renderCursor",function(k){var P,I=E.state,F=I.isTooltipActive,z=I.activeCoordinate,B=I.activePayload,W=I.offset,Q=I.activeTooltipIndex,Y=I.tooltipAxisBandSize,q=E.getTooltipEventType(),$=(P=k.props.active)!==null&&P!==void 0?P:F,V=E.props.layout,J=k.key||"_recharts-cursor";return Z.createElement(mQ,{key:J,activeCoordinate:z,activePayload:B,activeTooltipIndex:Q,chartName:n,element:k,isActive:$,layout:V,offset:W,tooltipAxisBandSize:Y,tooltipEventType:q})}),Fe(E,"renderPolarAxis",function(k,P,I){var F=hr(k,"type.axisType"),z=hr(E.state,"".concat(F,"Map")),B=k.type.defaultProps,W=B!==void 0?de(de({},B),k.props):k.props,Q=z&&z[W["".concat(F,"Id")]];return j.cloneElement(k,de(de({},Q),{},{className:rt(F,Q.className),key:k.key||"".concat(P,"-").concat(I),ticks:$a(Q,!0)}))}),Fe(E,"renderPolarGrid",function(k){var P=k.props,I=P.radialLines,F=P.polarAngles,z=P.polarRadius,B=E.state,W=B.radiusAxisMap,Q=B.angleAxisMap,Y=Ni(W),q=Ni(Q),$=q.cx,V=q.cy,J=q.innerRadius,oe=q.outerRadius;return j.cloneElement(k,{polarAngles:Array.isArray(F)?F:$a(q,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(z)?z:$a(Y,!0).map(function(U){return U.coordinate}),cx:$,cy:V,innerRadius:J,outerRadius:oe,key:k.key||"polar-grid",radialLines:I})}),Fe(E,"renderLegend",function(){var k=E.state.formattedGraphicalItems,P=E.props,I=P.children,F=P.width,z=P.height,B=E.props.margin||{},W=F-(B.left||0)-(B.right||0),Q=n5({children:I,formattedGraphicalItems:k,legendWidth:W,legendContent:d});if(!Q)return null;var Y=Q.item,q=H2(Q,pQ);return j.cloneElement(Y,de(de({},q),{},{chartWidth:F,chartHeight:z,margin:B,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Fe(E,"renderTooltip",function(){var k,P=E.props,I=P.children,F=P.accessibilityLayer,z=cr(I,Vr);if(!z)return null;var B=E.state,W=B.isTooltipActive,Q=B.activeCoordinate,Y=B.activePayload,q=B.activeLabel,$=B.offset,V=(k=z.props.active)!==null&&k!==void 0?k:W;return j.cloneElement(z,{viewBox:de(de({},$),{},{x:$.left,y:$.top}),active:V,label:q,payload:V?Y:[],coordinate:Q,accessibilityLayer:F})}),Fe(E,"renderBrush",function(k){var P=E.props,I=P.margin,F=P.data,z=E.state,B=z.offset,W=z.dataStartIndex,Q=z.dataEndIndex,Y=z.updateId;return j.cloneElement(k,{key:k.key||"_recharts-brush",onChange:th(E.handleBrushChange,k.props.onChange),data:F,x:Te(k.props.x)?k.props.x:B.left,y:Te(k.props.y)?k.props.y:B.top+B.height+B.brushBottom-(I.bottom||0),width:Te(k.props.width)?k.props.width:B.width,startIndex:W,endIndex:Q,updateId:"brush-".concat(Y)})}),Fe(E,"renderReferenceElement",function(k,P,I){if(!k)return null;var F=E,z=F.clipPathId,B=E.state,W=B.xAxisMap,Q=B.yAxisMap,Y=B.offset,q=k.type.defaultProps||{},$=k.props,V=$.xAxisId,J=V===void 0?q.xAxisId:V,oe=$.yAxisId,U=oe===void 0?q.yAxisId:oe;return j.cloneElement(k,{key:k.key||"".concat(P,"-").concat(I),xAxis:W[J],yAxis:Q[U],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:z})}),Fe(E,"renderActivePoints",function(k){var P=k.item,I=k.activePoint,F=k.basePoint,z=k.childIndex,B=k.isRange,W=[],Q=P.props.key,Y=P.item.type.defaultProps!==void 0?de(de({},P.item.type.defaultProps),P.item.props):P.item.props,q=Y.activeDot,$=Y.dataKey,V=de(de({index:z,dataKey:$,cx:I.x,cy:I.y,r:4,fill:NS(P.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},He(q,!1)),vh(q));return W.push(O.renderActiveDot(q,V,"".concat(Q,"-activePoint-").concat(z))),F?W.push(O.renderActiveDot(q,de(de({},V),{},{cx:F.x,cy:F.y}),"".concat(Q,"-basePoint-").concat(z))):B&&W.push(null),W}),Fe(E,"renderGraphicChild",function(k,P,I){var F=E.filterFormatItem(k,P,I);if(!F)return null;var z=E.getTooltipEventType(),B=E.state,W=B.isTooltipActive,Q=B.tooltipAxis,Y=B.activeTooltipIndex,q=B.activeLabel,$=E.props.children,V=cr($,Vr),J=F.props,oe=J.points,U=J.isRange,K=J.baseLine,ae=F.item.type.defaultProps!==void 0?de(de({},F.item.type.defaultProps),F.item.props):F.item.props,ce=ae.activeDot,ye=ae.hide,Pe=ae.activeBar,Oe=ae.activeShape,At=!!(!ye&&W&&V&&(ce||Pe||Oe)),Ze={};z!=="axis"&&V&&V.props.trigger==="click"?Ze={onClick:th(E.handleItemMouseEnter,k.props.onClick)}:z!=="axis"&&(Ze={onMouseLeave:th(E.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:th(E.handleItemMouseEnter,k.props.onMouseEnter)});var Ae=j.cloneElement(k,de(de({},F.props),Ze));function Ve(mr){return typeof Q.dataKey=="function"?Q.dataKey(mr.payload):null}if(At)if(Y>=0){var qe,ge;if(Q.dataKey&&!Q.allowDuplicatedCategory){var Ct=typeof Q.dataKey=="function"?Ve:"payload.".concat(Q.dataKey.toString());qe=Yx(oe,Ct,q),ge=U&&K&&Yx(K,Ct,q)}else qe=oe==null?void 0:oe[Y],ge=U&&K&&K[Y];if(Oe||Pe){var Xe=k.props.activeIndex!==void 0?k.props.activeIndex:Y;return[j.cloneElement(k,de(de(de({},F.props),Ze),{},{activeIndex:Xe})),null,null]}if(!lt(qe))return[Ae].concat(El(E.renderActivePoints({item:F,activePoint:qe,basePoint:ge,childIndex:Y,isRange:U})))}else{var Ft,Pt=(Ft=E.getItemByXY(E.state.activeCoordinate))!==null&&Ft!==void 0?Ft:{graphicalItem:Ae},_t=Pt.graphicalItem,tr=_t.item,zn=tr===void 0?k:tr,ma=_t.childIndex,Gn=de(de(de({},F.props),Ze),{},{activeIndex:ma});return[j.cloneElement(zn,Gn),null,null]}return U?[Ae,null,null]:[Ae,null]}),Fe(E,"renderCustomized",function(k,P,I){return j.cloneElement(k,de(de({key:"recharts-customized-".concat(I)},E.props),E.state))}),Fe(E,"renderMap",{CartesianGrid:{handler:oh,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:oh},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:oh},YAxis:{handler:oh},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((C=M.id)!==null&&C!==void 0?C:hd("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=ej(E.triggeredAfterMouseMove,(D=M.throttleDelay)!==null&&D!==void 0?D:1e3/60),E.state={},E}return EQ(O,T),SQ(O,[{key:"componentDidMount",value:function(){var C,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,D=C.children,E=C.data,k=C.height,P=C.layout,I=cr(D,Vr);if(I){var F=I.props.defaultIndex;if(!(typeof F!="number"||F<0||F>this.state.tooltipTicks.length-1)){var z=this.state.tooltipTicks[F]&&this.state.tooltipTicks[F].value,B=hw(this.state,E,F,z),W=this.state.tooltipTicks[F].coordinate,Q=(this.state.offset.top+k)/2,Y=P==="horizontal",q=Y?{x:W,y:Q}:{y:W,x:Q},$=this.state.formattedGraphicalItems.find(function(J){var oe=J.item;return oe.type.name==="Scatter"});$&&(q=de(de({},q),$.props.points[F].tooltipPosition),B=$.props.points[F].tooltipPayload);var V={activeTooltipIndex:F,isTooltipActive:!0,activeLabel:z,activePayload:B,activeCoordinate:q};this.setState(V),this.renderCursor(I),this.accessibilityManager.setIndex(F)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var E,k;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(C){Xx([cr(C.children,Vr)],[cr(this.props.children,Vr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=cr(this.props.children,Vr);if(C&&typeof C.props.shared=="boolean"){var D=C.props.shared?"axis":"item";return u.indexOf(D)>=0?D:i}return i}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var D=this.container,E=D.getBoundingClientRect(),k=f9(E),P={chartX:Math.round(C.pageX-k.left),chartY:Math.round(C.pageY-k.top)},I=E.width/D.offsetWidth||1,F=this.inRange(P.chartX,P.chartY,I);if(!F)return null;var z=this.state,B=z.xAxisMap,W=z.yAxisMap,Q=this.getTooltipEventType(),Y=Y2(this.state,this.props.data,this.props.layout,F);if(Q!=="axis"&&B&&W){var q=Ni(B).scale,$=Ni(W).scale,V=q&&q.invert?q.invert(P.chartX):null,J=$&&$.invert?$.invert(P.chartY):null;return de(de({},P),{},{xValue:V,yValue:J},Y)}return Y?de(de({},P),Y):null}},{key:"inRange",value:function(C,D){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,P=C/E,I=D/E;if(k==="horizontal"||k==="vertical"){var F=this.state.offset,z=P>=F.left&&P<=F.left+F.width&&I>=F.top&&I<=F.top+F.height;return z?{x:P,y:I}:null}var B=this.state,W=B.angleAxisMap,Q=B.radiusAxisMap;if(W&&Q){var Y=Ni(W);return QD({x:P,y:I},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,D=this.getTooltipEventType(),E=cr(C,Vr),k={};E&&D==="axis"&&(E.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=vh(this.props,this.handleOuterEvent);return de(de({},P),k)}},{key:"addListener",value:function(){Dx.on(Nx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Dx.removeListener(Nx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,D,E){for(var k=this.state.formattedGraphicalItems,P=0,I=k.length;P<I;P++){var F=k[P];if(F.item===C||F.props.key===C.key||D===La(F.item.type)&&E===F.childIndex)return F}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,D=this.state.offset,E=D.left,k=D.top,P=D.height,I=D.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:C},Z.createElement("rect",{x:E,y:k,height:P,width:I})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(D,E){var k=G2(E,2),P=k[0],I=k[1];return de(de({},D),{},Fe({},P,I.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(D,E){var k=G2(E,2),P=k[0],I=k[1];return de(de({},D),{},Fe({},P,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[C])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(C){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[C])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(C){var D=this.state,E=D.formattedGraphicalItems,k=D.activeItem;if(E&&E.length)for(var P=0,I=E.length;P<I;P++){var F=E[P],z=F.props,B=F.item,W=B.type.defaultProps!==void 0?de(de({},B.type.defaultProps),B.props):B.props,Q=La(B.type);if(Q==="Bar"){var Y=(z.data||[]).find(function(J){return OY(C,J)});if(Y)return{graphicalItem:F,payload:Y}}else if(Q==="RadialBar"){var q=(z.data||[]).find(function(J){return QD(C,J)});if(q)return{graphicalItem:F,payload:q}}else if(tp(F,k)||np(F,k)||ed(F,k)){var $=JW({graphicalItem:F,activeTooltipItem:k,itemData:W.data}),V=W.activeIndex===void 0?$:W.activeIndex;return{graphicalItem:de(de({},F),{},{childIndex:V}),payload:ed(F,k)?W.data[$]:F.props.data[$]}}}return null}},{key:"render",value:function(){var C=this;if(!dk(this))return null;var D=this.props,E=D.children,k=D.className,P=D.width,I=D.height,F=D.style,z=D.compact,B=D.title,W=D.desc,Q=H2(D,gQ),Y=He(Q,!1);if(z)return Z.createElement(O2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(Jx,Ws({},Y,{width:P,height:I,title:B,desc:W}),this.renderClipPath(),hk(E,this.renderMap)));if(this.props.accessibilityLayer){var q,$;Y.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,Y.role=($=this.props.role)!==null&&$!==void 0?$:"application",Y.onKeyDown=function(J){C.accessibilityManager.keyboardEvent(J)},Y.onFocus=function(){C.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return Z.createElement(O2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",Ws({className:rt("recharts-wrapper",k),style:de({position:"relative",cursor:"default",width:P,height:I},F)},V,{ref:function(oe){C.container=oe}}),Z.createElement(Jx,Ws({},Y,{width:P,height:I,title:B,desc:W,style:PQ}),this.renderClipPath(),hk(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Fe(S,"displayName",n),Fe(S,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Fe(S,"getDerivedStateFromProps",function(T,O){var M=T.dataKey,C=T.data,D=T.children,E=T.width,k=T.height,P=T.layout,I=T.stackOffset,F=T.margin,z=O.dataStartIndex,B=O.dataEndIndex;if(O.updateId===void 0){var W=W2(T);return de(de(de({},W),{},{updateId:0},_(de(de({props:T},W),{},{updateId:0}),O)),{},{prevDataKey:M,prevData:C,prevWidth:E,prevHeight:k,prevLayout:P,prevStackOffset:I,prevMargin:F,prevChildren:D})}if(M!==O.prevDataKey||C!==O.prevData||E!==O.prevWidth||k!==O.prevHeight||P!==O.prevLayout||I!==O.prevStackOffset||!Js(F,O.prevMargin)){var Q=W2(T),Y={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},q=de(de({},Y2(O,C,P)),{},{updateId:O.updateId+1}),$=de(de(de({},Q),Y),q);return de(de(de({},$),_(de({props:T},$),O)),{},{prevDataKey:M,prevData:C,prevWidth:E,prevHeight:k,prevLayout:P,prevStackOffset:I,prevMargin:F,prevChildren:D})}if(!Xx(D,O.prevChildren)){var V,J,oe,U,K=cr(D,yl),ae=K&&(V=(J=K.props)===null||J===void 0?void 0:J.startIndex)!==null&&V!==void 0?V:z,ce=K&&(oe=(U=K.props)===null||U===void 0?void 0:U.endIndex)!==null&&oe!==void 0?oe:B,ye=ae!==z||ce!==B,Pe=!lt(C),Oe=Pe&&!ye?O.updateId:O.updateId+1;return de(de({updateId:Oe},_(de(de({props:T},O),{},{updateId:Oe,dataStartIndex:ae,dataEndIndex:ce}),O)),{},{prevChildren:D,dataStartIndex:ae,dataEndIndex:ce})}return null}),Fe(S,"renderActiveDot",function(T,O,M){var C;return j.isValidElement(T)?C=j.cloneElement(T,O):Ke(T)?C=T(O):C=Z.createElement(RS,O),Z.createElement(Tt,{className:"recharts-active-dot",key:M},C)});var A=j.forwardRef(function(O,M){return Z.createElement(S,Ws({},O,{ref:M}))});return A.displayName=S.displayName,A},VQ=x$({chartName:"BarChart",GraphicalChild:Go,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:lp},{axisType:"yAxis",AxisComp:up}],formatAxisMap:tZ}),zQ=x$({chartName:"PieChart",GraphicalChild:Ya,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ep},{axisType:"radiusAxis",AxisComp:Jm}],formatAxisMap:zG,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Z2=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82ca9d","#ffc658","#a4de6c","#d0ed57","#ff7300","#4CAF50","#F44336","#E91E63","#9C27B0","#3F51B5"],GQ=({active:t,payload:e})=>t&&e&&e.length?x.jsx("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:x.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:`${e[0].name} : ${xe(e[0].value)}`})}):null,HQ=({transactions:t,categories:e,type:n,month:r})=>{const a=Z.useMemo(()=>{const i=t.filter(u=>u.type===n&&u.date.startsWith(r)&&u.category_id),s={};return i.forEach(u=>{u.category_id&&(s[u.category_id]=(s[u.category_id]||0)+u.amount)}),Object.entries(s).map(([u,c])=>{const d=e.find(h=>h.id===u);return{name:d?d.name:"Desconhecido",value:c}}).sort((u,c)=>c.value-u.value)},[t,e,n,r]);return a.length===0?x.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",n===ve.INCOME?"receitas":"despesas"," este mês."]}):x.jsx("div",{className:"w-full h-80 md:h-96",children:x.jsx(tj,{width:"100%",height:"100%",children:x.jsxs(zQ,{children:[x.jsx(Ya,{data:a,cx:"50%",cy:"50%",labelLine:!1,outerRadius:"80%",fill:"#8884d8",dataKey:"value",nameKey:"name",label:({cx:i,cy:s,midAngle:u,innerRadius:c,outerRadius:d,percent:h,index:p})=>{const y=Math.PI/180,_=c+(d-c)*.5,S=i+_*Math.cos(-u*y),A=s+_*Math.sin(-u*y),T=document.documentElement.classList.contains("dark");return h*100<5?null:x.jsx("text",{x:S,y:A,fill:"#FFF",textAnchor:S>i?"start":"end",dominantBaseline:"central",fontSize:"12px",children:`${(h*100).toFixed(0)}%`})},children:a.map((i,s)=>x.jsx($m,{fill:Z2[s%Z2.length]},`cell-${s}`))}),x.jsx(Vr,{content:x.jsx(GQ,{})}),x.jsx(Ri,{formatter:(i,s)=>x.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:i})})]})})})},KQ=({active:t,payload:e,label:n})=>t&&e&&e.length?x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:[x.jsxs("p",{className:"text-sm font-semibold text-textBase dark:text-textBaseDark",children:["Dia ",n]}),x.jsxs("p",{className:`text-sm ${e[0].fill==="#00C49F"?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:[e[0].name,": ",xe(e[0].value)]})]}):null,YQ=({transactions:t,type:e,month:n})=>{const r=Z.useMemo(()=>{const[s,u]=n.split("-").map(Number),c=new Date(s,u,0).getDate(),d=Array.from({length:c},(h,p)=>({name:(p+1).toString().padStart(2,"0"),value:0}));return t.forEach(h=>{if(h.type===e&&h.date.startsWith(n)){const p=parseInt(h.date.split("-")[2],10)-1;p>=0&&p<c&&(d[p].value+=h.amount)}}),d},[t,e,n]);if(r.every(s=>s.value===0))return x.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",e===ve.INCOME?"receitas":"despesas"," este mês."]});const a=s=>s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(0)}K`:s.toString(),i=e===ve.INCOME?"#00C49F":"#FF8042";return x.jsx("div",{className:"w-full h-80 md:h-96",children:x.jsx(tj,{width:"100%",height:"100%",children:x.jsxs(VQ,{data:r,margin:{top:5,right:0,left:-10,bottom:5},children:[x.jsx(o$,{strokeDasharray:"3 3",strokeOpacity:.2,className:"stroke-neutral dark:stroke-neutralDark"}),x.jsx(lp,{dataKey:"name",tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",interval:"preserveStartEnd"}),x.jsx(up,{tickFormatter:a,tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",width:45}),x.jsx(Vr,{content:x.jsx(KQ,{}),cursor:{fill:"rgba(128, 128, 128, 0.1)"}}),x.jsx(Ri,{payload:[{value:e===ve.INCOME?"Receitas":"Despesas",type:"square",color:i}],formatter:s=>x.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:s})}),x.jsx(Go,{dataKey:"value",name:e===ve.INCOME?"Receitas":"Despesas",fill:i,radius:[4,4,0,0]})]})})})},_$=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})]}),WQ=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),XQ=({className:t="w-5 h-5",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 10.5h19.5M4.5 3v2.25M19.5 3v2.25"})]}),mw=({className:t="w-5 h-5",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75h.008v.008H12V6.75Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75h.008v.008H12v-.008Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75h.008v.008H12V18.75Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Z"})]}),J2=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 11.25a.75.75 0 0 1 0-1.5m1.259 5.25a.75.75 0 0 1 0-1.5m15.257 1.5a.75.75 0 0 1 0-1.5M16.5 6.375a.75.75 0 0 1 0-1.5m-9.75 1.5a.75.75 0 0 1 0-1.5M21 9.75A.75.75 0 0 1 20.25 9M12 3.75a.75.75 0 0 1 .75-.75M3.75 9A.75.75 0 0 1 3 9.75m1.5-4.5a.75.75 0 0 1-.75-.75"})}),ZQ=({recurringTransactions:t,accounts:e,categories:n,onViewTransaction:r,isPrivacyModeEnabled:a})=>{const i=mt(new Date),s=mt(new Date(new Date().setDate(new Date().getDate()+7))),u=t.filter(p=>!p.is_paused&&(!p.end_date||p.end_date>=i)&&(p.remaining_occurrences===void 0||p.remaining_occurrences>0)),c=u.filter(p=>p.next_due_date<i).sort((p,y)=>new Date(p.next_due_date).getTime()-new Date(y.next_due_date).getTime()),d=u.filter(p=>p.next_due_date>=i&&p.next_due_date<=s).sort((p,y)=>new Date(p.next_due_date).getTime()-new Date(y.next_due_date).getTime());if(c.length===0&&d.length===0)return x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex items-center mb-3",children:[x.jsx(J2,{className:"w-6 h-6 text-secondary dark:text-secondaryDark mr-2"}),x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),x.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark text-center py-3",children:"Nenhuma conta vencida ou próxima do vencimento. Tudo em dia!"})]});const h=(p,y)=>{const _=e.find(O=>O.id===p.account_id),S=p.category_id?n.find(O=>O.id===p.category_id):null,A=p.type===ve.EXPENSE?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark",T=p.type===ve.EXPENSE?"-":"+";return x.jsx("li",{className:`p-3 rounded-md border-l-4 ${y?"border-destructive dark:border-destructiveDark bg-destructive/5 dark:bg-destructiveDark/10":"border-amber-500 dark:border-amber-400 bg-amber-500/5 dark:bg-amber-400/10"} hover:shadow-sm transition-shadow`,onClick:()=>r&&r(p.id),role:r?"button":void 0,tabIndex:r?0:void 0,"aria-label":`Ver detalhes de ${p.description}`,children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[y?x.jsx(XQ,{className:"w-5 h-5 text-destructive dark:text-destructiveDark flex-shrink-0"}):x.jsx(mw,{className:"w-5 h-5 text-amber-500 dark:text-amber-400 flex-shrink-0"}),x.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:p.description})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-7",children:["Vence em: ",Un(p.next_due_date),_&&` (${_.name})`,S&&` - ${S.name}`]})]}),x.jsxs("span",{className:`text-md font-bold ${A}`,children:[T,xe(p.amount,"BRL","pt-BR",a)]})]})},p.id)};return x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex items-center mb-4",children:[x.jsx(J2,{className:"w-6 h-6 text-primary dark:text-primaryDark mr-2"}),x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),x.jsxs("div",{className:"space-y-4",children:[c.length>0&&x.jsxs("div",{children:[x.jsxs("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Vencidas (",c.length,")"]}),x.jsx("ul",{className:"space-y-2",children:c.map(p=>h(p,!0))})]}),d.length>0&&x.jsxs("div",{children:[x.jsxs("h3",{className:`text-md font-semibold text-amber-600 dark:text-amber-500 mb-2 ${c.length>0?"mt-4":""}`,children:["Próximas (7 dias) (",d.length,")"]}),x.jsx("ul",{className:"space-y-2",children:d.map(p=>h(p,!1))})]})]})]})},Q2=({transactions:t,accounts:e,categories:n,creditCards:r,installmentPurchases:a,moneyBoxes:i,loans:s,loanRepayments:u,recurringTransactions:c,onAddTransaction:d,calculateAccountBalance:h,calculateMoneyBoxBalance:p,onViewRecurringTransaction:y,isPrivacyModeEnabled:_})=>{const[S,A]=j.useState(ve.EXPENSE),[T,O]=j.useState("pie"),M=mt(new Date).substring(0,7),C=j.useMemo(()=>e.reduce((B,W)=>B+h(W.id),0),[e,h]),D=j.useMemo(()=>i.reduce((B,W)=>B+p(W.id),0),[i,p]),E=j.useMemo(()=>a.reduce((B,W)=>{if(W.installments_paid>=W.number_of_installments)return B;const Q=W.total_amount/W.number_of_installments,Y=W.number_of_installments-W.installments_paid;return B+Q*Y},0),[a]),k=j.useMemo(()=>s.reduce((B,W)=>{const Q=u.filter(Y=>Y.loan_id===W.id).reduce((Y,q)=>Y+q.amount_paid,0);return B+(W.total_amount_to_reimburse-Q)},0),[s,u]),P=j.useMemo(()=>C+D+k-E,[C,D,k,E]),I=j.useMemo(()=>[...t].sort((B,W)=>new Date(W.date).getTime()-new Date(B.date).getTime()).slice(0,5),[t]),F=j.useMemo(()=>n.filter(B=>B.type===ve.EXPENSE&&B.monthly_budget&&B.monthly_budget>0),[n]),z=j.useMemo(()=>{const B=F.reduce((Q,Y)=>Q+(Y.monthly_budget||0),0);let W=0;return F.forEach(Q=>{const Y=t.filter(q=>q.category_id===Q.id&&q.date.startsWith(M)&&q.type===ve.EXPENSE).reduce((q,$)=>q+$.amount,0);W+=Y}),{totalBudgeted:B,totalSpentInBudgetedCategories:W}},[F,t,M]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Painel Geral"}),x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Bem-vindo ao seu controle financeiro."})]}),x.jsxs(be,{onClick:d,variant:"primary",size:"lg",children:[x.jsx(Dn,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO TOTAL (CONTAS)"}),x.jsx("p",{className:`text-3xl font-bold ${C>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:xe(C,"BRL","pt-BR",_)})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO CAIXINHAS"}),x.jsx("p",{className:`text-3xl font-bold ${D>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:xe(D,"BRL","pt-BR",_)})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex items-center w-full justify-between",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"A RECEBER (EMPRÉSTIMOS)"}),x.jsx(Bw,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),x.jsx("p",{className:"text-3xl font-bold text-primary dark:text-primaryDark",children:xe(k,"BRL","pt-BR",_)})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30 flex flex-col items-start",children:[x.jsxs("div",{className:"flex items-center w-full justify-between",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"PATRIMÔNIO LÍQUIDO"}),x.jsx(Cq,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),x.jsx("p",{className:`text-3xl font-bold ${P>=0?"text-primary dark:text-primaryDark":"text-destructive dark:text-destructiveDark"}`,children:xe(P,"BRL","pt-BR",_)}),!_&&x.jsxs("div",{className:"text-xs mt-1 space-y-0.5",children:[E>0&&x.jsxs("p",{className:"text-destructive dark:text-destructiveDark/80",children:["Dívida Cartões: ",xe(E)]}),k>0&&x.jsxs("p",{className:"text-primary dark:text-primaryDark/80",children:["Empréstimos a Receber: ",xe(k)]})]})]})]}),x.jsx(ZQ,{recurringTransactions:c,accounts:e,categories:n,onViewTransaction:y,isPrivacyModeEnabled:_}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[x.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:["Resumo Mensal (",M.split("-")[1],"/",M.split("-")[0],")"]}),x.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[x.jsx(be,{variant:S===ve.EXPENSE?"primary":"ghost",size:"sm",onClick:()=>A(ve.EXPENSE),children:"Despesas"}),x.jsx(be,{variant:S===ve.INCOME?"secondary":"ghost",size:"sm",onClick:()=>A(ve.INCOME),children:"Receitas"}),x.jsx("div",{className:"h-6 border-l border-borderBase dark:border-borderBaseDark mx-1 sm:mx-2"}),x.jsx(be,{variant:T==="pie"?"primary":"ghost",size:"sm",onClick:()=>O("pie"),className:"!px-2",title:"Gráfico de Pizza",children:x.jsx(_$,{className:"w-4 h-4"})}),x.jsx(be,{variant:T==="bar"?"primary":"ghost",size:"sm",onClick:()=>O("bar"),className:"!px-2",title:"Gráfico de Barras",children:x.jsx(WQ,{className:"w-4 h-4"})})]})]}),_?x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Gráficos ocultos em Modo Privacidade."}):T==="pie"?x.jsx(HQ,{transactions:t,categories:n.filter(B=>B.type===S),type:S,month:M}):x.jsx(YQ,{transactions:t,type:S,month:M})]}),F.length>0&&x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:["Orçamento Mensal (",M.split("-")[1],"/",M.split("-")[0],")"]}),x.jsxs("div",{className:"mb-3",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsxs("span",{children:["Total Gasto (Orçado): ",xe(z.totalSpentInBudgetedCategories,"BRL","pt-BR",_)]}),x.jsxs("span",{children:["Total Orçado: ",xe(z.totalBudgeted,"BRL","pt-BR",_)]})]}),!_&&z.totalBudgeted>0&&x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 mt-1 dark:progress-bar-bg",children:x.jsx("div",{className:`h-2.5 rounded-full ${z.totalSpentInBudgetedCategories>z.totalBudgeted?"bg-destructive":"bg-primary dark:bg-primaryDark"}`,style:{width:`${Math.min(z.totalSpentInBudgetedCategories/z.totalBudgeted*100,100)}%`}})}),_&&x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center",children:"Progresso oculto em Modo Privacidade."})]}),x.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto",children:F.map(B=>{const W=t.filter(q=>q.category_id===B.id&&q.date.startsWith(M)&&q.type===ve.EXPENSE).reduce((q,$)=>q+$.amount,0),Q=B.monthly_budget?Math.min(W/B.monthly_budget*100,100):0,Y=B.monthly_budget?W>B.monthly_budget:!1;return x.jsxs("li",{className:"text-sm",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:B.name}),x.jsxs("span",{className:Y?"text-destructive dark:text-destructiveDark":"",children:[xe(W,"BRL","pt-BR",_)," / ",xe(B.monthly_budget||0,"BRL","pt-BR",_)]})]}),!_&&B.monthly_budget&&B.monthly_budget>0&&x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-1.5 mt-0.5 dark:progress-bar-bg",children:x.jsx("div",{className:`h-1.5 rounded-full ${Y?"bg-destructive":"bg-secondary dark:bg-secondaryDark"}`,style:{width:`${Q}%`}})})]},B.id)})})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:"Transações Recentes"}),I.length>0?x.jsx("ul",{className:"space-y-3",children:I.map(B=>{const W=e.find($=>$.id===B.account_id),Q=n.find($=>$.id===B.category_id);let Y="text-textBase dark:text-textBaseDark";B.type===ve.INCOME?Y="text-secondary dark:text-secondaryDark":B.type===ve.EXPENSE&&(Y="text-destructive dark:text-destructiveDark");let q=B.description||(B.type===ve.TRANSFER?"Transferência":Q==null?void 0:Q.name)||"Transação";if(B.type===ve.TRANSFER){const $=e.find(V=>V.id===B.to_account_id);q+=` para ${($==null?void 0:$.name)||"N/A"}`}return x.jsxs("li",{className:"flex justify-between items-center py-2 border-b border-borderBase/50 dark:border-borderBaseDark/50 last:border-b-0",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-textBase dark:text-textBaseDark",children:q}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[W==null?void 0:W.name," • ",Un(B.date)]})]}),x.jsx("p",{className:`font-semibold ${Y}`,children:xe(B.amount,"BRL","pt-BR",_)})]},B.id)})}):x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Nenhuma transação recente."})]})]})},Yr=({className:t="w-5 h-5",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79M5.25 5.79h13.5"})}),Wr=({className:t="w-5 h-5",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),sd=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})}),JQ=({transaction:t,accounts:e,categories:n,tags:r,installmentPurchases:a,onEdit:i,onDelete:s,isPrivacyModeEnabled:u})=>{const{type:c,amount:d,category_id:h,description:p,date:y,account_id:_,to_account_id:S,tag_ids:A}=t,T=e.find(z=>z.id===_),O=S?e.find(z=>z.id===S):null,M=h?n.find(z=>z.id===h):null,C=A?r.filter(z=>A.includes(z.id)):[];let D="text-textBase dark:text-textBaseDark",E="";c===ve.INCOME?(D="text-secondary dark:text-secondaryDark",E="+"):c===ve.EXPENSE&&(D="text-destructive dark:text-destructiveDark",E="-");const k=p||(M==null?void 0:M.name)||c,P=[];T&&P.push(T.name),c===ve.TRANSFER&&O?P.push(`➔ ${O.name}`):M&&c!==ve.TRANSFER&&P.push(M.name);const I=z=>{if(!z)return"text-textBase dark:text-textBaseDark";try{const B=parseInt(z.slice(1,3),16),W=parseInt(z.slice(3,5),16),Q=parseInt(z.slice(5,7),16);return(.299*B+.587*W+.114*Q)/255>.5?"text-neutral-800":"text-white"}catch{return"text-white"}},F=a.some(z=>z.linked_transaction_id===t.id&&z.number_of_installments===1);return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-2 sm:space-y-0",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsxs("span",{className:`font-semibold text-lg ${D}`,children:[E,xe(d,"BRL","pt-BR",u)]}),x.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:k}),F&&x.jsxs("span",{title:"Débito em fatura de cartão",className:"ml-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300 px-1.5 py-0.5 rounded-full inline-flex items-center",children:[x.jsx(sd,{className:"w-3 h-3 mr-1"})," Cartão"]})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[Un(y)," ",x.jsx("span",{className:"mx-1",children:"•"})," ",P.join(" ")]}),p&&M&&c!==ve.TRANSFER&&x.jsx("p",{className:"text-xs text-neutral/70 dark:text-neutralDark/70 italic mt-1",children:p}),C.length>0&&x.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:C.map(z=>x.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full border
                            ${z.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:z.color?{backgroundColor:z.color,borderColor:z.color}:{},children:x.jsx("span",{className:z.color?I(z.color):"text-textBase dark:text-textBaseDark",children:z.name})},z.id))})]}),x.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>i(t),"aria-label":"Editar",children:x.jsx(Wr,{className:"w-4 h-4"})}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>s(t.id),"aria-label":"Excluir",children:x.jsx(Yr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})},Nt=({label:t,id:e,error:n,className:r,containerClassName:a,options:i,placeholder:s,...u})=>x.jsxs("div",{className:a,children:[t&&x.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),x.jsxs("select",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...u,children:[s&&x.jsx("option",{value:"",children:s}),i.map(h=>x.jsx("option",{value:h.value,children:h.label},h.value))]}),n&&x.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),Be=({label:t,id:e,error:n,className:r,containerClassName:a,...i})=>x.jsxs("div",{className:a,children:[t&&x.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),x.jsx("input",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...i}),n&&x.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),QQ=({transactions:t,accounts:e,categories:n,tags:r,installmentPurchases:a,onAddTransaction:i,onEditTransaction:s,onDeleteTransaction:u,isLoading:c,isPrivacyModeEnabled:d})=>{const[h,p]=j.useState("all"),[y,_]=j.useState("all"),[S,A]=j.useState("all"),[T,O]=j.useState("all"),[M,C]=j.useState([]),[D,E]=j.useState(""),[k,P]=j.useState("desc"),I=[{value:"all",label:"Todas as Contas"},...e.map(q=>({value:q.id,label:q.name}))],F=[{value:"all",label:"Todas as Categorias"},...n.map(q=>({value:q.id,label:q.name}))],z=[{value:"all",label:"Todos os Tipos"},...Tm],B=r.map(q=>({value:q.id,label:q.name})),W=j.useMemo(()=>{let q=[...t];if(h!=="all"){const $=new Date;let V=null,J=new Date($.getFullYear(),$.getMonth(),$.getDate(),23,59,59,999);if(h==="today"?V=new Date($.getFullYear(),$.getMonth(),$.getDate()):h==="current_month"?(V=new Date($.getFullYear(),$.getMonth(),1),J=new Date($.getFullYear(),$.getMonth()+1,0,23,59,59,999)):h==="last_7_days"?(V=new Date($),V.setDate($.getDate()-6),V.setHours(0,0,0,0)):h==="last_30_days"&&(V=new Date($),V.setDate($.getDate()-29),V.setHours(0,0,0,0)),V){const oe=mt(V),U=mt(J);q=q.filter(K=>K.date>=oe&&K.date<=U)}}if(y!=="all"&&(q=q.filter($=>$.type===y)),S!=="all"&&(q=q.filter($=>$.account_id===S||$.to_account_id===S)),T!=="all"&&(q=q.filter($=>$.category_id===T)),M.length>0&&(q=q.filter($=>$.tag_ids&&$.tag_ids.some(V=>M.includes(V)))),D.trim()!==""){const $=D.toLowerCase();q=q.filter(V=>{var J;return V.description&&V.description.toLowerCase().includes($)||V.category_id&&((J=n.find(oe=>oe.id===V.category_id))==null?void 0:J.name.toLowerCase().includes($))})}return q.sort(($,V)=>{const J=new Date($.date).getTime(),oe=new Date(V.date).getTime();return k==="desc"?oe-J:J-oe}),q},[t,h,y,S,T,M,D,n,k]),Q=j.useCallback(()=>P(q=>q==="asc"?"desc":"asc"),[]),Y=q=>{const $=q.target.options,V=[];for(let J=0,oe=$.length;J<oe;J++)$[J].selected&&V.push($[J].value);C(V)};return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações"}),x.jsxs(be,{onClick:i,variant:"primary",children:[x.jsx(Dn,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-6 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx(Nt,{label:"Período",options:xq,value:h,onChange:q=>p(q.target.value)}),x.jsx(Nt,{label:"Tipo",options:z,value:y,onChange:q=>_(q.target.value)}),x.jsx(Nt,{label:"Conta",options:I,value:S,onChange:q=>A(q.target.value)}),x.jsx(Nt,{label:"Categoria",options:F,value:T,onChange:q=>O(q.target.value),disabled:y===ve.TRANSFER.toString()}),r.length>0&&x.jsx(Nt,{label:"Tags",options:B,value:M,onChange:Y,multiple:!0,className:"h-24",placeholder:"Todas as Tags"}),x.jsx(Be,{label:"Buscar Descrição",type:"text",placeholder:"Ex: Supermercado",value:D,onChange:q=>E(q.target.value),containerClassName:r.length===0?"lg:col-span-2":""})]}),x.jsx("div",{className:"flex justify-end",children:x.jsxs(be,{variant:"ghost",size:"sm",onClick:Q,children:["Ordenar por Data: ",k==="desc"?"Mais Recentes":"Mais Antigas"]})}),c&&x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Carregando transações..."}),!c&&W.length>0?x.jsx("ul",{className:"space-y-3",children:W.map(q=>x.jsx(JQ,{transaction:q,accounts:e,categories:n,tags:r,installmentPurchases:a,onEdit:s,onDelete:u,isPrivacyModeEnabled:d},q.id))}):!c&&x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação encontrada com os filtros aplicados."})]})},eee=({account:t,balance:e,onEdit:n,onDelete:r,transactionCount:a,isPrivacyModeEnabled:i})=>x.jsx("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(sd,{className:"w-6 h-6 text-primary dark:text-primaryDark"}),x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),x.jsx("p",{className:`text-2xl font-bold mt-1 ${e>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:xe(e,"BRL","pt-BR",i)}),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1",children:["Saldo Inicial: ",xe(t.initial_balance,"BRL","pt-BR",i)]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[x.jsxs("div",{className:"flex space-x-2",children:[x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Conta",children:x.jsx(Wr,{className:"w-4 h-4"})}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Conta",disabled:a>0,title:a>0?"Não pode excluir contas com transações associadas":"Excluir conta",children:x.jsx(Yr,{className:`w-4 h-4 ${a>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),a>0&&x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Possui ",a," transaçõe(s)"]})]})]})}),Nn=({isOpen:t,onClose:e,title:n,children:r,size:a="md"})=>{if(!t)return null;let i="max-w-md";return a==="sm"&&(i="max-w-sm"),a==="lg"&&(i="max-w-lg"),a==="xl"&&(i="max-w-xl"),x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 dark:bg-opacity-70 backdrop-blur-sm p-4",children:x.jsxs("div",{className:`bg-surface dark:bg-surfaceDark rounded-lg shadow-xl dark:shadow-neutralDark/50 w-full ${i} transform transition-all flex flex-col max-h-[85vh]`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[x.jsxs("div",{id:"modal-title",className:"flex items-center justify-between px-6 py-4 border-b border-borderBase dark:border-borderBaseDark flex-shrink-0",children:[x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n}),x.jsx("button",{onClick:e,className:"text-textMuted dark:text-textMutedDark hover:text-textBase dark:hover:text-textBaseDark transition-colors","aria-label":"Fechar modal",children:x.jsx(ZR,{className:"w-5 h-5"})})]}),x.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:r})]})})},tee=({accounts:t,transactions:e,onAddAccount:n,onUpdateAccount:r,onDeleteAccount:a,calculateAccountBalance:i,isPrivacyModeEnabled:s})=>{const[u,c]=j.useState(!1),[d,h]=j.useState(null),[p,y]=j.useState(""),[_,S]=j.useState("0"),[A,T]=j.useState(""),O=()=>{h(null),y(""),S("0"),T(""),c(!0)},M=k=>{h(k),y(k.name),S(k.initial_balance.toString()),T(""),c(!0)},C=()=>{c(!1),h(null)},D=()=>{if(!p.trim()){T("Nome da conta é obrigatório.");return}const k=parseFloat(_);if(isNaN(k)){T("Saldo inicial inválido.");return}T(""),d?r({...d,name:p,initial_balance:k}):n({name:p,initial_balance:k}),C()},E=k=>e.filter(P=>P.account_id===k||P.to_account_id===k).length;return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Contas"}),x.jsxs(be,{onClick:O,variant:"primary",children:[x.jsx(Dn,{className:"w-5 h-5 mr-2"}),"Nova Conta"]})]}),t.length>0?x.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(k=>x.jsx(eee,{account:k,balance:i(k.id),onEdit:M,onDelete:a,transactionCount:E(k.id),isPrivacyModeEnabled:s},k.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma conta cadastrada. Adicione uma para começar!"}),x.jsx(Nn,{isOpen:u,onClose:C,title:d?"Editar Conta":"Nova Conta",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Be,{label:"Nome da Conta",id:"accountName",type:"text",value:p,onChange:k=>y(k.target.value),placeholder:"Ex: Carteira, Banco X",required:!0}),x.jsx(Be,{label:"Saldo Inicial",id:"initialBalance",type:"number",step:"0.01",value:_,onChange:k=>S(k.target.value),placeholder:s?xe(0,"BRL","pt-BR",!0).replace("0,00","Ex: 1000.00"):"Ex: 1000.00",required:!0}),A&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:A}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{variant:"ghost",onClick:C,children:"Cancelar"}),x.jsx(be,{variant:"primary",onClick:D,children:"Salvar"})]})]})})]})},w$=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),eP=({category:t,transactions:e,onEdit:n,onDelete:r,transactionCount:a,isPrivacyModeEnabled:i})=>{const s=t.type===ve.INCOME?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",u=t.type===ve.INCOME?"Receita":"Despesa",c=mt().substring(0,7),d=t.type===ve.EXPENSE&&t.monthly_budget?e.filter(y=>y.category_id===t.id&&y.date.startsWith(c)&&y.type===ve.EXPENSE).reduce((y,_)=>y+_.amount,0):0,h=t.monthly_budget&&t.monthly_budget>0?Math.min(d/t.monthly_budget*100,100):0,p=t.monthly_budget&&d>t.monthly_budget;return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(w$,{className:`w-5 h-5 ${s}`}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.name}),x.jsx("p",{className:`text-xs font-semibold ${s}`,children:u})]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[x.jsxs("div",{className:"flex space-x-2",children:[x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Categoria",className:"!p-1.5",children:x.jsx(Wr,{className:"w-4 h-4"})}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Categoria",className:"!p-1.5",disabled:a>0,title:a>0?"Não pode excluir categorias com transações associadas":"Excluir categoria",children:x.jsx(Yr,{className:`w-4 h-4 ${a>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),a>0&&x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Usada em ",a," trans."]})]})]}),t.type===ve.EXPENSE&&t.monthly_budget&&t.monthly_budget>0&&x.jsxs("div",{className:"mt-3 pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[x.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[x.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Orçamento Mensal: ",xe(t.monthly_budget,"BRL","pt-BR",i)]}),x.jsxs("span",{className:`font-medium ${p?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark"}`,children:["Gasto: ",xe(d,"BRL","pt-BR",i)]})]}),x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:x.jsx("div",{className:`h-2 rounded-full ${p?"bg-destructive dark:bg-destructiveDark":"bg-primary dark:bg-primaryDark"}`,style:{width:`${h}%`}})}),p&&x.jsx("p",{className:"text-xs text-destructive dark:text-destructiveDark mt-1 text-right",children:"Orçamento excedido!"})]})]})},fm=({className:t="w-5 h-5",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.355a12.053 12.053 0 0 1-4.5 0M12 3V1.5M12 16.5h.008v.008H12V16.5Zm-4.508-2.656L6.292 12.64a9.018 9.018 0 0 1-.365-2.074 9.028 9.028 0 0 1 .365-2.073l1.208-1.208m5.832 5.46L17.708 12.36a9.018 9.018 0 0 0 .365-2.074 9.028 9.028 0 0 0-.365-2.073L16.5 6.992M12 1.5a9 9 0 0 0-9 9c0 2.21.81 4.286 2.186 5.885L6.9 17.72A9.03 9.03 0 0 0 12 22.5a9.03 9.03 0 0 0 5.1-4.78l1.714-1.335A8.973 8.973 0 0 0 21 10.5a9 9 0 0 0-9-9Z"})}),nee=({categories:t,transactions:e,aiConfig:n,onAddCategory:r,onUpdateCategory:a,onDeleteCategory:i,onSuggestBudget:s,isPrivacyModeEnabled:u})=>{const[c,d]=j.useState(!1),[h,p]=j.useState(null),[y,_]=j.useState(""),[S,A]=j.useState(ve.EXPENSE),[T,O]=j.useState(""),[M,C]=j.useState(""),[D,E]=j.useState(!1),k=()=>{p(null),_(""),A(ve.EXPENSE),O(""),C(""),d(!0)},P=Y=>{var q;p(Y),_(Y.name),A(Y.type),O(((q=Y.monthly_budget)==null?void 0:q.toString())||""),C(""),d(!0)},I=()=>{d(!1),p(null)},F=()=>{if(!y.trim()){C("Nome da categoria é obrigatório.");return}const Y=T?parseFloat(T):void 0;if(S===ve.EXPENSE&&T&&(isNaN(Y)||Y<0)){C("Orçamento mensal deve ser um número positivo ou vazio.");return}C(""),h?a({...h,name:y.trim(),type:S,monthly_budget:S===ve.EXPENSE?Y:void 0}):r({name:y.trim(),type:S,monthly_budget:S===ve.EXPENSE?Y:void 0}),I()},z=Y=>e.filter(q=>q.category_id===Y).length,B=async()=>{if(!y.trim()&&!h){C("Por favor, insira um nome para a categoria antes de sugerir um orçamento.");return}C(""),E(!0);const Y=t.filter($=>$.type===ve.EXPENSE&&$.id!==(h==null?void 0:h.id)&&$.monthly_budget).map($=>({name:$.name,budget:$.monthly_budget})),q=await s((h==null?void 0:h.name)||y,Y);q!==null?O(q.toString()):C("Não foi possível sugerir um orçamento no momento."),E(!1)},W=t.filter(Y=>Y.type===ve.INCOME).sort((Y,q)=>Y.name.localeCompare(q.name)),Q=t.filter(Y=>Y.type===ve.EXPENSE).sort((Y,q)=>Y.name.localeCompare(q.name));return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Categorias"}),x.jsxs(be,{onClick:k,variant:"primary",children:[x.jsx(Dn,{className:"w-5 h-5 mr-2"}),"Nova Categoria"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Receitas (",W.length,")"]}),W.length>0?x.jsx("ul",{className:"space-y-3",children:W.map(Y=>x.jsx(eP,{category:Y,transactions:e,onEdit:P,onDelete:i,transactionCount:z(Y.id),isPrivacyModeEnabled:u},Y.id))}):x.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de receita."})]}),x.jsxs("div",{children:[x.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Despesas (",Q.length,")"]}),Q.length>0?x.jsx("ul",{className:"space-y-3",children:Q.map(Y=>x.jsx(eP,{category:Y,transactions:e,onEdit:P,onDelete:i,transactionCount:z(Y.id),isPrivacyModeEnabled:u},Y.id))}):x.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de despesa."})]})]}),x.jsx(Nn,{isOpen:c,onClose:I,title:h?"Editar Categoria":"Nova Categoria",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Be,{label:"Nome da Categoria",id:"categoryName",type:"text",value:y,onChange:Y=>_(Y.target.value),placeholder:"Ex: Alimentação, Salário",required:!0}),x.jsx(Nt,{label:"Tipo de Categoria",id:"categoryType",options:[{value:ve.INCOME,label:"Receita"},{value:ve.EXPENSE,label:"Despesa"}],value:S,onChange:Y=>{A(Y.target.value),Y.target.value===ve.INCOME&&O("")},required:!0}),S===ve.EXPENSE&&x.jsxs("div",{className:"space-y-1",children:[x.jsx(Be,{label:"Orçamento Mensal (Opcional)",id:"monthlyBudget",type:"number",step:"0.01",value:T,onChange:Y=>O(Y.target.value),placeholder:u?xe(0,"BRL","pt-BR",!0).replace("0,00","Ex: 500.00"):"Ex: 500.00"}),n.isEnabled&&n.apiKeyStatus==="available"&&n.monthlyIncome&&n.monthlyIncome>0&&x.jsxs(be,{type:"button",variant:"ghost",size:"sm",onClick:B,disabled:D,className:"text-primary dark:text-primaryDark !mt-1.5",children:[x.jsx(fm,{className:"w-4 h-4 mr-1.5"}),D?"Sugerindo...":"Sugerir com IA"]})]}),M&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:M}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{variant:"ghost",onClick:I,children:"Cancelar"}),x.jsx(be,{variant:"primary",onClick:F,children:"Salvar"})]})]})})]})},zS=({className:t="w-5 h-5",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25zM12 2.25L11.187 5.104a4.502 4.502 0 00-3.09 3.09L5.25 9l2.846.813a4.502 4.502 0 003.09 3.09L12 15.75l.813-2.846a4.502 4.502 0 003.09-3.09L18.75 9l-2.846-.813a4.502 4.502 0 00-3.09-3.09L12 2.25z"})]}),ree=({card:t,installmentPurchases:e,onEditCard:n,onDeleteCard:r,onAddInstallmentPurchase:a,onEditInstallmentPurchase:i,onDeleteInstallmentPurchase:s,onMarkInstallmentPaid:u,onGetBestPurchaseDay:c,onPayMonthlyInstallments:d,isAIFeatureEnabled:h,isPrivacyModeEnabled:p})=>{const[y,_]=j.useState(!1),S=e.filter(M=>M.credit_card_id===t.id),A=S.reduce((M,C)=>{if(C.installments_paid>=C.number_of_installments)return M;const D=C.total_amount/C.number_of_installments,E=C.number_of_installments-C.installments_paid;return M+D*E},0),T=t.card_limit-A,O=Z.useMemo(()=>XR(S,t,new Date),[S,t]);return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow-lg hover:shadow-xl dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx(sd,{className:"w-7 h-7 text-primary dark:text-primaryDark"}),x.jsx("h3",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Limite Total: ",xe(t.card_limit,"BRL","pt-BR",p)]}),x.jsxs("p",{className:`text-md font-medium ${T>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:["Disponível: ",xe(T,"BRL","pt-BR",p)]}),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Fechamento: Dia ",t.closing_day," | Vencimento: Dia ",t.due_day]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1.5",children:[x.jsxs("div",{className:"flex space-x-1",children:[x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Cartão",className:"!p-1.5",children:x.jsx(Wr,{className:"w-4 h-4"})}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Cartão",className:"!p-1.5",disabled:S.length>0,title:S.length>0?"Exclua as compras parceladas primeiro":"Excluir cartão",children:x.jsx(Yr,{className:`w-4 h-4 ${S.length>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),x.jsxs(be,{size:"sm",variant:"secondary",onClick:()=>a(t),className:"!text-xs !py-1 !px-2.5",children:[x.jsx(Dn,{className:"w-4 h-4 mr-1"})," Novo Parcelamento"]})]})]}),x.jsxs("div",{className:"space-y-2",children:[h&&x.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>c(t.id),className:"text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !text-xs",title:"Ver melhor dia para compra com IA",children:[x.jsx(zS,{className:"w-4 h-4 mr-1.5"})," Melhor Dia para Compra (IA)"]}),O.length>0&&x.jsxs(be,{variant:"primary",size:"sm",onClick:()=>d(t.id),className:"w-full !text-xs",children:["Pagar Parcelas da Fatura (",O.length,")"]})]}),S.length>0&&x.jsx("div",{className:"mt-2",children:x.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>_(!y),className:"text-sm text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !font-normal",children:[y?"Ocultar":"Mostrar"," ",S.length," Compra(s) Parcelada(s)"]})}),y&&S.length>0&&x.jsxs("div",{className:"mt-2 pt-3 border-t border-borderBase/50 dark:border-borderBaseDark/50 space-y-3",children:[x.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark",children:"Detalhes dos Parcelamentos:"}),x.jsx("ul",{className:"space-y-3 max-h-72 overflow-y-auto pr-1",children:S.map(M=>{const C=M.total_amount/M.number_of_installments,D=M.installments_paid>=M.number_of_installments,E=M.installments_paid+1,k=D?null:WR(M.purchase_date,E,t.due_day),P=O.some(I=>I.id===M.id);return x.jsxs("li",{className:`p-3 rounded-md ${D?"bg-green-500/10 dark:bg-green-500/20 opacity-70":"bg-surface dark:bg-surfaceDark shadow-sm border border-borderBase dark:border-borderBaseDark"}`,children:[x.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[x.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:M.description}),x.jsxs("div",{className:"flex space-x-1",children:[x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>i(M,t),"aria-label":"Editar Compra",className:"!p-1",children:x.jsx(Wr,{className:"w-3.5 h-3.5"})}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>s(M.id),"aria-label":"Excluir Compra",className:"!p-1",children:x.jsx(Yr,{className:"w-3.5 h-3.5 text-destructive dark:text-destructiveDark"})})]})]}),x.jsxs("div",{className:"text-sm space-y-0.5",children:[x.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Parcela: ",x.jsx("span",{className:"font-medium",children:xe(C,"BRL","pt-BR",p)}),x.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:[" (",M.installments_paid,"/",M.number_of_installments," pagas)"]})]}),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Total: ",xe(M.total_amount,"BRL","pt-BR",p)," | Compra: ",Un(M.purchase_date)]}),k&&!D&&x.jsxs("p",{className:`text-xs font-medium ${P?"text-red-600 dark:text-red-400":"text-textMuted dark:text-textMutedDark"}`,children:["Próx. Venc. Parcela: ",Un(mt(k))]})]}),!D&&x.jsxs(be,{size:"sm",variant:P?"primary":"ghost",onClick:()=>u(M.id),className:`text-xs py-1 px-2 mt-2.5 w-full sm:w-auto ${P?"":"border border-borderBase dark:border-borderBaseDark"}`,children:[P?x.jsx(Kx,{className:"w-4 h-4 mr-1"}):null,"Pagar Parcela (",E,")"]}),D&&x.jsxs("p",{className:"text-xs text-secondary dark:text-secondaryDark mt-2 font-medium flex items-center",children:[x.jsx(Kx,{className:"w-4 h-4 mr-1"})," Compra Totalmente Paga"]})]},M.id)})})]}),y&&S.length===0&&x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center py-2",children:"Nenhuma compra parcelada para este cartão."})]})},aee=({isOpen:t,onClose:e,onSave:n,existingCard:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState(""),[c,d]=j.useState(""),[h,p]=j.useState(""),[y,_]=j.useState({});j.useEffect(()=>{r?(i(r.name),u(r.card_limit.toString()),d(r.closing_day.toString()),p(r.due_day.toString())):(i(""),u(""),d(""),p("")),_({})},[r,t]);const S=()=>{const T={};a.trim()||(T.name="Nome do cartão é obrigatório.");const O=parseFloat(s);(isNaN(O)||O<=0)&&(T.limit="Limite deve ser um número positivo.");const M=parseInt(c,10);(isNaN(M)||M<1||M>31)&&(T.closingDay="Dia de fechamento deve ser entre 1 e 31.");const C=parseInt(h,10);return(isNaN(C)||C<1||C>31)&&(T.dueDay="Dia de vencimento deve ser entre 1 e 31."),_(T),Object.keys(T).length===0},A=()=>{if(!S())return;const T={id:(r==null?void 0:r.id)||st(),name:a.trim(),card_limit:parseFloat(s),closing_day:parseInt(c,10),due_day:parseInt(h,10)};n(T),e()};return x.jsx(Nn,{isOpen:t,onClose:e,title:r?"Editar Cartão de Crédito":"Novo Cartão de Crédito",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Be,{label:"Nome do Cartão",id:"cardName",value:a,onChange:T=>i(T.target.value),error:y.name,placeholder:"Ex: Cartão Principal, Cartão Viagem"}),x.jsx(Be,{label:"Limite do Cartão (R$)",id:"cardLimit",type:"number",step:"0.01",value:s,onChange:T=>u(T.target.value),error:y.limit,placeholder:"Ex: 5000.00"}),x.jsx(Be,{label:"Dia de Fechamento da Fatura",id:"cardClosingDay",type:"number",min:"1",max:"31",value:c,onChange:T=>d(T.target.value),error:y.closingDay,placeholder:"Ex: 25"}),x.jsx(Be,{label:"Dia de Vencimento da Fatura",id:"cardDueDay",type:"number",min:"1",max:"31",value:h,onChange:T=>p(T.target.value),error:y.dueDay,placeholder:"Ex: 10"}),y.form&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:y.form}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(be,{variant:"primary",onClick:A,children:"Salvar Cartão"})]})]})})},iee=({isOpen:t,onClose:e,onSave:n,creditCard:r,existingPurchase:a})=>{const[i,s]=j.useState(""),[u,c]=j.useState(mt()),[d,h]=j.useState(""),[p,y]=j.useState(""),[_,S]=j.useState("0"),[A,T]=j.useState({});j.useEffect(()=>{a?(s(a.description),c(a.purchase_date),h(a.total_amount.toString()),y(a.number_of_installments.toString()),S(a.installments_paid.toString())):(s(""),c(mt()),h(""),y(""),S("0")),T({})},[a,t]);const O=()=>{const C={};i.trim()||(C.description="Descrição é obrigatória."),u||(C.purchaseDate="Data da compra é obrigatória.");const D=parseFloat(d);(isNaN(D)||D<=0)&&(C.totalAmount="Valor total deve ser positivo.");const E=parseInt(p,10);(isNaN(E)||E<=0)&&(C.numberOfInstallments="Número de parcelas deve ser positivo.");const k=parseInt(_,10);return(isNaN(k)||k<0||E>0&&k>E)&&(C.installmentsPaid="Parcelas pagas inválido."),T(C),Object.keys(C).length===0},M=()=>{if(!O())return;const C={id:(a==null?void 0:a.id)||st(),credit_card_id:r.id,description:i.trim(),purchase_date:u,total_amount:parseFloat(d),number_of_installments:parseInt(p,10),installments_paid:parseInt(_,10)};n(C),e()};return x.jsxs(Nn,{isOpen:t,onClose:e,title:a?"Editar Compra Parcelada":"Nova Compra Parcelada",children:[x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark mb-3",children:["Cartão: ",x.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:r.name})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(Be,{label:"Descrição da Compra",id:"purchaseDescription",value:i,onChange:C=>s(C.target.value),error:A.description,placeholder:"Ex: Celular Novo, Geladeira"}),x.jsx(Be,{label:"Data da Compra",id:"purchaseDate",type:"date",value:u,onChange:C=>c(C.target.value),error:A.purchaseDate}),x.jsx(Be,{label:"Valor Total (R$)",id:"totalAmount",type:"number",step:"0.01",value:d,onChange:C=>h(C.target.value),error:A.totalAmount,placeholder:"Ex: 1200.00"}),x.jsx(Be,{label:"Número de Parcelas",id:"numberOfInstallments",type:"number",min:"1",value:p,onChange:C=>y(C.target.value),error:A.numberOfInstallments,placeholder:"Ex: 12"}),a&&x.jsx(Be,{label:"Parcelas Pagas",id:"installmentsPaid",type:"number",min:"0",max:p||void 0,value:_,onChange:C=>S(C.target.value),error:A.installmentsPaid}),A.form&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:A.form}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(be,{variant:"primary",onClick:M,children:"Salvar Compra"})]})]})]})},oee=({isOpen:t,onClose:e,advice:n,isLoading:r,cardName:a})=>x.jsxs(Nn,{isOpen:t,onClose:e,title:`Melhor Dia para Compra ${a?`(${a})`:""}`,size:"md",children:[r&&x.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 p-6",children:[x.jsx(zS,{className:"w-12 h-12 text-primary dark:text-primaryDark animate-pulse"}),x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Analisando o melhor dia para sua compra..."}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Aguarde um momento."})]}),!r&&n&&x.jsxs("div",{className:"space-y-4 p-2",children:[n.error?x.jsxs("div",{className:"bg-destructive/10 dark:bg-destructiveDark/20 p-4 rounded-md border-l-4 border-destructive dark:border-destructiveDark",children:[x.jsx("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-1",children:"Erro ao Analisar"}),x.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:n.explanation||"Não foi possível obter a sugestão no momento."})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Melhor dia para sua próxima compra:"}),x.jsx("p",{className:"text-2xl font-bold text-primary dark:text-primaryDark my-1",children:n.bestPurchaseDay||"N/A"})]}),x.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-4 rounded-md",children:[x.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Pagamento estimado para:"}),x.jsx("p",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n.paymentDueDate||"N/A"})]}),x.jsxs("div",{className:"mt-3",children:[x.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"Por quê?"}),x.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark bg-surface p-3 rounded-md shadow-inner dark:bg-surfaceDark/50",children:n.explanation||"Informação não disponível."})]})]}),x.jsx("div",{className:"flex justify-end pt-3",children:x.jsx(be,{variant:"primary",onClick:e,children:"Entendido"})})]}),!r&&!n&&x.jsxs("div",{className:"text-center p-6",children:[x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Não foi possível carregar a sugestão."}),x.jsx(be,{variant:"ghost",onClick:e,className:"mt-4",children:"Fechar"})]})]});var ht;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),s={};for(const u of i)s[u]=a[u];return t.objectValues(s)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},t.find=(a,i)=>{for(const s of a)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ht||(ht={}));var tP;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(tP||(tP={}));const Ne=ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mi=t=>{switch(typeof t){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return Number.isNaN(t)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(t)?Ne.array:t===null?Ne.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ne.promise:typeof Map<"u"&&t instanceof Map?Ne.map:typeof Set<"u"&&t instanceof Set?Ne.set:typeof Date<"u"&&t instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},Se=ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class za extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let u=r,c=0;for(;c<s.path.length;){const d=s.path[c];c===s.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(n(s))):u[d]=u[d]||{_errors:[]},u=u[d],c++}}};return a(this),r}static assert(e){if(!(e instanceof za))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}za.create=t=>new za(t);const pw=(t,e)=>{let n;switch(t.code){case Se.invalid_type:t.received===Ne.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Se.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ht.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:n=`Unrecognized key(s) in object: ${ht.joinValues(t.keys,", ")}`;break;case Se.invalid_union:n="Invalid input";break;case Se.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ht.joinValues(t.options)}`;break;case Se.invalid_enum_value:n=`Invalid enum value. Expected ${ht.joinValues(t.options)}, received '${t.received}'`;break;case Se.invalid_arguments:n="Invalid function arguments";break;case Se.invalid_return_type:n="Invalid function return type";break;case Se.invalid_date:n="Invalid date";break;case Se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ht.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Se.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Se.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Se.custom:n="Invalid input";break;case Se.invalid_intersection_types:n="Intersection results could not be merged";break;case Se.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Se.not_finite:n="Number must be finite";break;default:n=e.defaultError,ht.assertNever(t)}return{message:n}};let see=pw;function lee(){return see}const uee=t=>{const{data:e,path:n,errorMaps:r,issueData:a}=t,i=[...n,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let u="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)u=d(s,{data:e,defaultError:u}).message;return{...a,path:i,message:u}};function ke(t,e){const n=lee(),r=uee({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===pw?void 0:pw].filter(a=>!!a)});t.common.issues.push(r)}class Fn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const a of n){if(a.status==="aborted")return We;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const a of n){const i=await a.key,s=await a.value;r.push({key:i,value:s})}return Fn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const a of n){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return We;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(r[i.value]=s.value)}return{status:e.value,value:r}}}const We=Object.freeze({status:"aborted"}),hc=t=>({status:"dirty",value:t}),Rr=t=>({status:"valid",value:t}),nP=t=>t.status==="aborted",rP=t=>t.status==="dirty",kl=t=>t.status==="valid",hm=t=>typeof Promise<"u"&&t instanceof Promise;var Re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Re||(Re={}));class da{constructor(e,n,r,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const aP=(t,e)=>{if(kl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new za(t.common.issues);return this._error=n,this._error}}};function et(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:a}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(s,u)=>{const{message:c}=t;return s.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??r??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:c??n??u.defaultError}},description:a}}class ct{get description(){return this._def.description}_getType(e){return Mi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Fn,ctx:{common:e.parent.common,data:e.data,parsedType:Mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(hm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)},a=this._parseSync({data:e,path:r.path,parent:r});return aP(r,a)}"~validate"(e){var r,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return kl(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(a=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>kl(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)},a=this._parse({data:e,path:r.path,parent:r}),i=await(hm(a)?a:Promise.resolve(a));return aP(r,i)}refine(e,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const s=e(a),u=()=>i.addIssue({code:Se.custom,...r(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(e){return new Dl({schema:this,typeName:Ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return $i.create(this,this._def)}nullable(){return Nl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ua.create(this)}promise(){return ym.create(this,this._def)}or(e){return pm.create([this,e],this._def)}and(e){return gm.create(this,e,this._def)}transform(e){return new Dl({...et(this._def),schema:this,typeName:Ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new bw({...et(this._def),innerType:this,defaultValue:n,typeName:Ye.ZodDefault})}brand(){return new Nee({typeName:Ye.ZodBranded,type:this,...et(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new xw({...et(this._def),innerType:this,catchValue:n,typeName:Ye.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return GS.create(this,e)}readonly(){return _w.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cee=/^c[^\s-]{8,}$/i,dee=/^[0-9a-z]+$/,fee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mee=/^[a-z0-9_-]{21}$/i,pee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,gee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Rx;const bee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_ee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,See=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Tee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,S$="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Aee=new RegExp(`^${S$}$`);function T$(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Cee(t){return new RegExp(`^${T$(t)}$`)}function Eee(t){let e=`${S$}T${T$(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function kee(t,e){return!!((e==="v4"||!e)&&bee.test(t)||(e==="v6"||!e)&&_ee.test(t))}function Oee(t,e){if(!pee.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function Mee(t,e){return!!((e==="v4"||!e)&&xee.test(t)||(e==="v6"||!e)&&wee.test(t))}class ia extends ct{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ne.string){const i=this._getOrReturnCtx(e);return ke(i,{code:Se.invalid_type,expected:Ne.string,received:i.parsedType}),We}const r=new Fn;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),ke(a,{code:Se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),ke(a,{code:Se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,u=e.data.length<i.value;(s||u)&&(a=this._getOrReturnCtx(e,a),s?ke(a,{code:Se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&ke(a,{code:Se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")vee.test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"email",code:Se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Rx||(Rx=new RegExp(yee,"u")),Rx.test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"emoji",code:Se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")hee.test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"uuid",code:Se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")mee.test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"nanoid",code:Se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")cee.test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"cuid",code:Se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")dee.test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"cuid2",code:Se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")fee.test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"ulid",code:Se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),ke(a,{validation:"url",code:Se.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"regex",code:Se.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),ke(a,{code:Se.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),ke(a,{code:Se.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),ke(a,{code:Se.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Eee(i).test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{code:Se.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Aee.test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{code:Se.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Cee(i).test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{code:Se.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?gee.test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"duration",code:Se.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?kee(e.data,i.version)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"ip",code:Se.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Oee(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"jwt",code:Se.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Mee(e.data,i.version)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"cidr",code:Se.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?See.test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"base64",code:Se.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Tee.test(e.data)||(a=this._getOrReturnCtx(e,a),ke(a,{validation:"base64url",code:Se.invalid_string,message:i.message}),r.dirty()):ht.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(a=>e.test(a),{validation:n,code:Se.invalid_string,...Re.errToObj(r)})}_addCheck(e){return new ia({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Re.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Re.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Re.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Re.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Re.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Re.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Re.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Re.errToObj(n)})}nonempty(e){return this.min(1,Re.errToObj(e))}trim(){return new ia({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ia({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ia({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ia.create=t=>new ia({checks:[],typeName:Ye.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...et(t)});function Dee(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=n>r?n:r,i=Number.parseInt(t.toFixed(a).replace(".","")),s=Number.parseInt(e.toFixed(a).replace(".",""));return i%s/10**a}class $o extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ne.number){const i=this._getOrReturnCtx(e);return ke(i,{code:Se.invalid_type,expected:Ne.number,received:i.parsedType}),We}let r;const a=new Fn;for(const i of this._def.checks)i.kind==="int"?ht.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ke(r,{code:Se.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ke(r,{code:Se.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ke(r,{code:Se.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Dee(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ke(r,{code:Se.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ke(r,{code:Se.not_finite,message:i.message}),a.dirty()):ht.assertNever(i);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Re.toString(n))}setLimit(e,n,r,a){return new $o({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Re.toString(a)}]})}_addCheck(e){return new $o({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ht.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}$o.create=t=>new $o({checks:[],typeName:Ye.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...et(t)});class Lo extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ne.bigint)return this._getInvalidInput(e);let r;const a=new Fn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ke(r,{code:Se.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ke(r,{code:Se.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ke(r,{code:Se.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ht.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ke(n,{code:Se.invalid_type,expected:Ne.bigint,received:n.parsedType}),We}gte(e,n){return this.setLimit("min",e,!0,Re.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Re.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Re.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Re.toString(n))}setLimit(e,n,r,a){return new Lo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Re.toString(a)}]})}_addCheck(e){return new Lo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Lo.create=t=>new Lo({checks:[],typeName:Ye.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...et(t)});class mm extends ct{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ne.boolean){const r=this._getOrReturnCtx(e);return ke(r,{code:Se.invalid_type,expected:Ne.boolean,received:r.parsedType}),We}return Rr(e.data)}}mm.create=t=>new mm({typeName:Ye.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...et(t)});class Ol extends ct{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ne.date){const i=this._getOrReturnCtx(e);return ke(i,{code:Se.invalid_type,expected:Ne.date,received:i.parsedType}),We}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ke(i,{code:Se.invalid_date}),We}const r=new Fn;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),ke(a,{code:Se.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),ke(a,{code:Se.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ht.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ol({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Re.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Re.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ol.create=t=>new Ol({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ye.ZodDate,...et(t)});class iP extends ct{_parse(e){if(this._getType(e)!==Ne.symbol){const r=this._getOrReturnCtx(e);return ke(r,{code:Se.invalid_type,expected:Ne.symbol,received:r.parsedType}),We}return Rr(e.data)}}iP.create=t=>new iP({typeName:Ye.ZodSymbol,...et(t)});class oP extends ct{_parse(e){if(this._getType(e)!==Ne.undefined){const r=this._getOrReturnCtx(e);return ke(r,{code:Se.invalid_type,expected:Ne.undefined,received:r.parsedType}),We}return Rr(e.data)}}oP.create=t=>new oP({typeName:Ye.ZodUndefined,...et(t)});class sP extends ct{_parse(e){if(this._getType(e)!==Ne.null){const r=this._getOrReturnCtx(e);return ke(r,{code:Se.invalid_type,expected:Ne.null,received:r.parsedType}),We}return Rr(e.data)}}sP.create=t=>new sP({typeName:Ye.ZodNull,...et(t)});class lP extends ct{constructor(){super(...arguments),this._any=!0}_parse(e){return Rr(e.data)}}lP.create=t=>new lP({typeName:Ye.ZodAny,...et(t)});class gw extends ct{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Rr(e.data)}}gw.create=t=>new gw({typeName:Ye.ZodUnknown,...et(t)});class Li extends ct{_parse(e){const n=this._getOrReturnCtx(e);return ke(n,{code:Se.invalid_type,expected:Ne.never,received:n.parsedType}),We}}Li.create=t=>new Li({typeName:Ye.ZodNever,...et(t)});class uP extends ct{_parse(e){if(this._getType(e)!==Ne.undefined){const r=this._getOrReturnCtx(e);return ke(r,{code:Se.invalid_type,expected:Ne.void,received:r.parsedType}),We}return Rr(e.data)}}uP.create=t=>new uP({typeName:Ye.ZodVoid,...et(t)});class ua extends ct{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),a=this._def;if(n.parsedType!==Ne.array)return ke(n,{code:Se.invalid_type,expected:Ne.array,received:n.parsedType}),We;if(a.exactLength!==null){const s=n.data.length>a.exactLength.value,u=n.data.length<a.exactLength.value;(s||u)&&(ke(n,{code:s?Se.too_big:Se.too_small,minimum:u?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(ke(n,{code:Se.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(ke(n,{code:Se.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,u)=>a.type._parseAsync(new da(n,s,n.path,u)))).then(s=>Fn.mergeArray(r,s));const i=[...n.data].map((s,u)=>a.type._parseSync(new da(n,s,n.path,u)));return Fn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ua({...this._def,minLength:{value:e,message:Re.toString(n)}})}max(e,n){return new ua({...this._def,maxLength:{value:e,message:Re.toString(n)}})}length(e,n){return new ua({...this._def,exactLength:{value:e,message:Re.toString(n)}})}nonempty(e){return this.min(1,e)}}ua.create=(t,e)=>new ua({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ye.ZodArray,...et(e)});function zs(t){if(t instanceof on){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=$i.create(zs(r))}return new on({...t._def,shape:()=>e})}else return t instanceof ua?new ua({...t._def,type:zs(t.element)}):t instanceof $i?$i.create(zs(t.unwrap())):t instanceof Nl?Nl.create(zs(t.unwrap())):t instanceof Bo?Bo.create(t.items.map(e=>zs(e))):t}class on extends ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ht.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ne.object){const d=this._getOrReturnCtx(e);return ke(d,{code:Se.invalid_type,expected:Ne.object,received:d.parsedType}),We}const{status:r,ctx:a}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof Li&&this._def.unknownKeys==="strip"))for(const d in a.data)s.includes(d)||u.push(d);const c=[];for(const d of s){const h=i[d],p=a.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new da(a,p,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Li){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of u)c.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(d==="strict")u.length>0&&(ke(a,{code:Se.unrecognized_keys,keys:u}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of u){const p=a.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new da(a,p,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const p=await h.key,y=await h.value;d.push({key:p,value:y,alwaysSet:h.alwaysSet})}return d}).then(d=>Fn.mergeObjectSync(r,d)):Fn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Re.errToObj,new on({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s;const a=((s=(i=this._def).errorMap)==null?void 0:s.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Re.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new on({...this._def,unknownKeys:"strip"})}passthrough(){return new on({...this._def,unknownKeys:"passthrough"})}extend(e){return new on({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new on({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ye.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new on({...this._def,catchall:e})}pick(e){const n={};for(const r of ht.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new on({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ht.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new on({...this._def,shape:()=>n})}deepPartial(){return zs(this)}partial(e){const n={};for(const r of ht.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?n[r]=a:n[r]=a.optional()}return new on({...this._def,shape:()=>n})}required(e){const n={};for(const r of ht.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof $i;)i=i._def.innerType;n[r]=i}return new on({...this._def,shape:()=>n})}keyof(){return A$(ht.objectKeys(this.shape))}}on.create=(t,e)=>new on({shape:()=>t,unknownKeys:"strip",catchall:Li.create(),typeName:Ye.ZodObject,...et(e)});on.strictCreate=(t,e)=>new on({shape:()=>t,unknownKeys:"strict",catchall:Li.create(),typeName:Ye.ZodObject,...et(e)});on.lazycreate=(t,e)=>new on({shape:t,unknownKeys:"strip",catchall:Li.create(),typeName:Ye.ZodObject,...et(e)});class pm extends ct{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function a(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const s=i.map(u=>new za(u.ctx.common.issues));return ke(n,{code:Se.invalid_union,unionErrors:s}),We}if(n.common.async)return Promise.all(r.map(async i=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&s.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const u=s.map(c=>new za(c));return ke(n,{code:Se.invalid_union,unionErrors:u}),We}}get options(){return this._def.options}}pm.create=(t,e)=>new pm({options:t,typeName:Ye.ZodUnion,...et(e)});function vw(t,e){const n=Mi(t),r=Mi(e);if(t===e)return{valid:!0,data:t};if(n===Ne.object&&r===Ne.object){const a=ht.objectKeys(e),i=ht.objectKeys(t).filter(u=>a.indexOf(u)!==-1),s={...t,...e};for(const u of i){const c=vw(t[u],e[u]);if(!c.valid)return{valid:!1};s[u]=c.data}return{valid:!0,data:s}}else if(n===Ne.array&&r===Ne.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const s=t[i],u=e[i],c=vw(s,u);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===Ne.date&&r===Ne.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class gm extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=(i,s)=>{if(nP(i)||nP(s))return We;const u=vw(i.value,s.value);return u.valid?((rP(i)||rP(s))&&n.dirty(),{status:n.value,value:u.data}):(ke(r,{code:Se.invalid_intersection_types}),We)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}gm.create=(t,e,n)=>new gm({left:t,right:e,typeName:Ye.ZodIntersection,...et(n)});class Bo extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.array)return ke(r,{code:Se.invalid_type,expected:Ne.array,received:r.parsedType}),We;if(r.data.length<this._def.items.length)return ke(r,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),We;!this._def.rest&&r.data.length>this._def.items.length&&(ke(r,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((s,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new da(r,s,r.path,u)):null}).filter(s=>!!s);return r.common.async?Promise.all(i).then(s=>Fn.mergeArray(n,s)):Fn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Bo({...this._def,rest:e})}}Bo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bo({items:t,typeName:Ye.ZodTuple,rest:null,...et(e)})};class vm extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.object)return ke(r,{code:Se.invalid_type,expected:Ne.object,received:r.parsedType}),We;const a=[],i=this._def.keyType,s=this._def.valueType;for(const u in r.data)a.push({key:i._parse(new da(r,u,r.path,u)),value:s._parse(new da(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?Fn.mergeObjectAsync(n,a):Fn.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ct?new vm({keyType:e,valueType:n,typeName:Ye.ZodRecord,...et(r)}):new vm({keyType:ia.create(),valueType:e,typeName:Ye.ZodRecord,...et(n)})}}class cP extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.map)return ke(r,{code:Se.invalid_type,expected:Ne.map,received:r.parsedType}),We;const a=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([u,c],d)=>({key:a._parse(new da(r,u,r.path,[d,"key"])),value:i._parse(new da(r,c,r.path,[d,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of s){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return We;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(d.value,h.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const c of s){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return We;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(d.value,h.value)}return{status:n.value,value:u}}}}cP.create=(t,e,n)=>new cP({valueType:e,keyType:t,typeName:Ye.ZodMap,...et(n)});class ld extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.set)return ke(r,{code:Se.invalid_type,expected:Ne.set,received:r.parsedType}),We;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(ke(r,{code:Se.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(ke(r,{code:Se.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function s(c){const d=new Set;for(const h of c){if(h.status==="aborted")return We;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const u=[...r.data.values()].map((c,d)=>i._parse(new da(r,c,r.path,d)));return r.common.async?Promise.all(u).then(c=>s(c)):s(u)}min(e,n){return new ld({...this._def,minSize:{value:e,message:Re.toString(n)}})}max(e,n){return new ld({...this._def,maxSize:{value:e,message:Re.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ld.create=(t,e)=>new ld({valueType:t,minSize:null,maxSize:null,typeName:Ye.ZodSet,...et(e)});class yw extends ct{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}yw.create=(t,e)=>new yw({getter:t,typeName:Ye.ZodLazy,...et(e)});class dP extends ct{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ke(n,{received:n.data,code:Se.invalid_literal,expected:this._def.value}),We}return{status:"valid",value:e.data}}get value(){return this._def.value}}dP.create=(t,e)=>new dP({value:t,typeName:Ye.ZodLiteral,...et(e)});function A$(t,e){return new Ml({values:t,typeName:Ye.ZodEnum,...et(e)})}class Ml extends ct{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ke(n,{expected:ht.joinValues(r),received:n.parsedType,code:Se.invalid_type}),We}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ke(n,{received:n.data,code:Se.invalid_enum_value,options:r}),We}return Rr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ml.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ml.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ml.create=A$;class fP extends ct{_parse(e){const n=ht.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ne.string&&r.parsedType!==Ne.number){const a=ht.objectValues(n);return ke(r,{expected:ht.joinValues(a),received:r.parsedType,code:Se.invalid_type}),We}if(this._cache||(this._cache=new Set(ht.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=ht.objectValues(n);return ke(r,{received:r.data,code:Se.invalid_enum_value,options:a}),We}return Rr(e.data)}get enum(){return this._def.values}}fP.create=(t,e)=>new fP({values:t,typeName:Ye.ZodNativeEnum,...et(e)});class ym extends ct{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.promise&&n.common.async===!1)return ke(n,{code:Se.invalid_type,expected:Ne.promise,received:n.parsedType}),We;const r=n.parsedType===Ne.promise?n.data:Promise.resolve(n.data);return Rr(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ym.create=(t,e)=>new ym({type:t,typeName:Ye.ZodPromise,...et(e)});class Dl extends ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:s=>{ke(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(r.data,i);if(r.common.async)return Promise.resolve(s).then(async u=>{if(n.value==="aborted")return We;const c=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return c.status==="aborted"?We:c.status==="dirty"||n.value==="dirty"?hc(c.value):c});{if(n.value==="aborted")return We;const u=this._def.schema._parseSync({data:s,path:r.path,parent:r});return u.status==="aborted"?We:u.status==="dirty"||n.value==="dirty"?hc(u.value):u}}if(a.type==="refinement"){const s=u=>{const c=a.refinement(u,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?We:(u.status==="dirty"&&n.dirty(),s(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?We:(u.status==="dirty"&&n.dirty(),s(u.value).then(()=>({status:n.value,value:u.value}))))}if(a.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!kl(s))return We;const u=a.transform(s.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>kl(s)?Promise.resolve(a.transform(s.value,i)).then(u=>({status:n.value,value:u})):We);ht.assertNever(a)}}Dl.create=(t,e,n)=>new Dl({schema:t,typeName:Ye.ZodEffects,effect:e,...et(n)});Dl.createWithPreprocess=(t,e,n)=>new Dl({schema:e,effect:{type:"preprocess",transform:t},typeName:Ye.ZodEffects,...et(n)});class $i extends ct{_parse(e){return this._getType(e)===Ne.undefined?Rr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$i.create=(t,e)=>new $i({innerType:t,typeName:Ye.ZodOptional,...et(e)});class Nl extends ct{_parse(e){return this._getType(e)===Ne.null?Rr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Nl.create=(t,e)=>new Nl({innerType:t,typeName:Ye.ZodNullable,...et(e)});class bw extends ct{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ne.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}bw.create=(t,e)=>new bw({innerType:t,typeName:Ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...et(e)});class xw extends ct{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return hm(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new za(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new za(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}xw.create=(t,e)=>new xw({innerType:t,typeName:Ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...et(e)});class hP extends ct{_parse(e){if(this._getType(e)!==Ne.nan){const r=this._getOrReturnCtx(e);return ke(r,{code:Se.invalid_type,expected:Ne.nan,received:r.parsedType}),We}return{status:"valid",value:e.data}}}hP.create=t=>new hP({typeName:Ye.ZodNaN,...et(t)});class Nee extends ct{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class GS extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?We:i.status==="dirty"?(n.dirty(),hc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?We:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,n){return new GS({in:e,out:n,typeName:Ye.ZodPipeline})}}class _w extends ct{_parse(e){const n=this._def.innerType._parse(e),r=a=>(kl(a)&&(a.value=Object.freeze(a.value)),a);return hm(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}_w.create=(t,e)=>new _w({innerType:t,typeName:Ye.ZodReadonly,...et(e)});var Ye;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ye||(Ye={}));const bo=ia.create,mP=$o.create;Lo.create;const Pee=mm.create;Ol.create;const pP=gw.create;Li.create;const mc=ua.create,Ree=on.create,Iee=pm.create;gm.create;Bo.create;const jee=vm.create,$ee=yw.create,Lee=Ml.create;ym.create;$i.create;Nl.create;const Fs={string:t=>ia.create({...t,coerce:!0}),number:t=>$o.create({...t,coerce:!0}),boolean:t=>mm.create({...t,coerce:!0}),bigint:t=>Lo.create({...t,coerce:!0}),date:t=>Ol.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Bee,qee;function Uee(){return{geminiUrl:Bee,vertexUrl:qee}}function Fee(t,e,n){var r,a,i;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=Uee();return t.vertexai?(a=s.vertexUrl)!==null&&a!==void 0?a:e:(i=s.geminiUrl)!==null&&i!==void 0?i:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vl{}function Ge(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const i=e[a];return i!=null?String(i):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function v(t,e,n){for(let i=0;i<e.length-1;i++){const s=e[i];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];v(h,e.slice(i+1),n[d])}else for(const d of c)v(d,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];v(c[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],a=t[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function g(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const i=t[a];return Array.isArray(i)?i.map(s=>g(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gP;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gP||(gP={}));var vP;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(vP||(vP={}));var oa;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(oa||(oa={}));var yP;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(yP||(yP={}));var bP;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(bP||(bP={}));var xP;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(xP||(xP={}));var _P;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(_P||(_P={}));var wP;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(wP||(wP={}));var SP;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(SP||(SP={}));var TP;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(TP||(TP={}));var AP;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(AP||(AP={}));var CP;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(CP||(CP={}));var EP;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(EP||(EP={}));var bm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(bm||(bm={}));var kP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(kP||(kP={}));var ww;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ww||(ww={}));var OP;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(OP||(OP={}));var MP;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(MP||(MP={}));var DP;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(DP||(DP={}));var NP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(NP||(NP={}));var PP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(PP||(PP={}));var RP;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(RP||(RP={}));var IP;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(IP||(IP={}));var jP;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(jP||(jP={}));var $P;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})($P||($P={}));var LP;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(LP||(LP={}));var BP;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(BP||(BP={}));var qP;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(qP||(qP={}));var UP;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(UP||(UP={}));var FP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(FP||(FP={}));var VP;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(VP||(VP={}));var zP;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(zP||(zP={}));var GP;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(GP||(GP={}));var HP;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(HP||(HP={}));var KP;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(KP||(KP={}));var YP;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(YP||(YP={}));var WP;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(WP||(WP={}));var XP;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(XP||(XP={}));var Xs;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Xs||(Xs={}));class lc{get text(){var e,n,r,a,i,s,u,c;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const p=[];for(const y of(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[_,S]of Object.entries(y))_!=="text"&&_!=="thought"&&(S!==null||S!==void 0)&&p.push(_);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,d+=y.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,a,i,s,u,c;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const p of(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[y,_]of Object.entries(p))y!=="inlineData"&&(_!==null||_!==void 0)&&h.push(y);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,a,i,s,u,c;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,a,i,s,u,c,d;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,a,i,s,u,c,d;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class ZP{}class JP{}class Vee{}class zee{}class QP{}class eR{}class tR{}class Gee{}class nR{}class rR{}class aR{}class Hee{}class Sw{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Kee{}class Yee{}class Wee{get text(){var e,n,r;let a="",i=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,a+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?a:void 0}get data(){var e,n,r;let a="";const i=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&i.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(a+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Xee{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ut(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function C$(t,e){const n=Ut(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function E$(t,e){return Array.isArray(e)?e.map(n=>xm(t,n)):[xm(t,e)]}function xm(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Zee(t,e){const n=xm(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Jee(t,e){const n=xm(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function iR(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function k$(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>iR(t,n)):[iR(t,e)]}function Tw(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function oR(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function sR(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function qn(t,e){if(e==null)throw new Error("ContentUnion is required");return Tw(e)?e:{role:"user",parts:k$(t,e)}}function O$(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=qn(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=qn(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>qn(t,n)):[qn(t,e)]}function Kr(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(oR(e)||sR(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[qn(t,e)]}const n=[],r=[],a=Tw(e[0]);for(const i of e){const s=Tw(i);if(s!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)n.push(i);else{if(oR(i)||sR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return a||n.push({role:"user",parts:k$(t,r)}),n}const Qee=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),lR=Lee(["string","number","integer","object","array","boolean","null"]),ete=Iee([lR,mc(lR)]);function tte(t=!0){const e=$ee(()=>{const n=Ree({type:ete.optional(),format:bo().optional(),title:bo().optional(),description:bo().optional(),default:pP().optional(),items:e.optional(),minItems:Fs.string().optional(),maxItems:Fs.string().optional(),enum:mc(pP()).optional(),properties:jee(bo(),e).optional(),required:mc(bo()).optional(),minProperties:Fs.string().optional(),maxProperties:Fs.string().optional(),propertyOrdering:mc(bo()).optional(),minimum:mP().optional(),maximum:mP().optional(),minLength:Fs.string().optional(),maxLength:Fs.string().optional(),pattern:bo().optional(),anyOf:mc(e).optional(),additionalProperties:Pee().optional()});return t?n.strict():n});return e}function nte(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(oa).includes(n[0].toUpperCase())?n[0].toUpperCase():oa.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(oa).includes(r.toUpperCase())?r.toUpperCase():oa.TYPE_UNSPECIFIED})}}function tl(t){const e={},n=["items"],r=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&nte(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(oa).includes(u.toUpperCase())?u.toUpperCase():oa.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=tl(u);else if(r.includes(s)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(tl(d))}e[s]=c}else if(a.includes(s)){const c={};for(const[d,h]of Object.entries(u))c[d]=tl(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function _m(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=tte().parse(e);return tl(n)}else return tl(e)}function M$(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function HS(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function bd(t,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=_m(t,n.parameters)),n.response&&(n.response=_m(t,n.response));return e}function xd(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of e)n.push(r);return n}function rte(t,e,n,r=1){const a=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:a?`${n}/${e}`:e}function Gi(t,e){if(typeof e!="string")throw new Error("name must be a string");return rte(t,e,"cachedContents")}function D$(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Wa(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function ate(t){return t!=null&&typeof t=="object"&&"name"in t}function ite(t){return t!=null&&typeof t=="object"&&"video"in t}function ote(t){return t!=null&&typeof t=="object"&&"uri"in t}function N$(t,e){var n;let r;if(ate(e)&&(r=e.name),!(ote(e)&&(r=e.uri,r===void 0))&&!(ite(e)&&(r=(n=e.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function P$(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function R$(t,e){for(const n of["models","tunedModels","publisherModels"])if(ste(e,n))return e[n];return[]}function ste(t,e){return t!==null&&typeof t=="object"&&e in t}function lte(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:tl(dp(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ute(t,e={}){const n=[],r=new Set;for(const a of t){const i=a.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const s=lte(a,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function cte(t){const e=[];for(const n of t)e.push(dp(n));return e}function dte(t){const e={};for(const[n,r]of Object.entries(t)){const a=r;e[n]=dp(a)}return e}function dp(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),a={};for(const[i,s]of Object.entries(t))if(e.has(i))a[i]=dp(s);else if(n.has(i))a[i]=cte(s);else if(r.has(i))a[i]=dte(s);else if(i==="type"){const u=s.toUpperCase();a[i]=Object.values(oa).includes(u)?u:oa.TYPE_UNSPECIFIED}else Qee.has(i)&&(a[i]=s);return a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fte(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function hte(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function mte(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function pte(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],fte(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],hte(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],mte(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const d=g(e,["executableCode"]);d!=null&&v(n,["executableCode"],d);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function uR(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>pte(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function gte(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function vte(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function yte(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],vte(t,r)),n}function bte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function xte(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],bte(t,r)),n}function _te(){return{}}function wte(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>gte(t,d))),v(n,["functionDeclarations"],c)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],yte(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],xte(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],_te());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function Ste(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Tte(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Ate(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Tte(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Cte(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],Ste(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Ate(t,a)),n}function Ete(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const s=g(e,["displayName"]);n!==void 0&&s!=null&&v(n,["displayName"],s);const u=g(e,["contents"]);if(n!==void 0&&u!=null){let p=Kr(t,u);Array.isArray(p)&&(p=p.map(y=>uR(t,y))),v(n,["contents"],p)}const c=g(e,["systemInstruction"]);n!==void 0&&c!=null&&v(n,["systemInstruction"],uR(t,qn(t,c)));const d=g(e,["tools"]);if(n!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(y=>wte(t,y))),v(n,["tools"],p)}const h=g(e,["toolConfig"]);if(n!==void 0&&h!=null&&v(n,["toolConfig"],Cte(t,h)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function kte(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],C$(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Ete(t,a,n)),n}function Ote(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],Gi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Mte(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],Gi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Dte(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);return n!==void 0&&i!=null&&v(n,["expireTime"],i),r}function Nte(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],Gi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Dte(t,a,n)),n}function Pte(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function Rte(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Pte(t,r,n)),n}function Ite(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function jte(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function $te(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Lte(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Ite(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],jte(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],$te(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const d=g(e,["executableCode"]);d!=null&&v(n,["executableCode"],d);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function cR(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Lte(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Bte(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function qte(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Ute(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],qte(t,r)),n}function Fte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Vte(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Fte(t,r)),n}function zte(){return{}}function Gte(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function Hte(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],Gte(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const c=g(e,["oidcConfig"]);return c!=null&&v(n,["oidcConfig"],c),n}function Kte(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],Hte(t,r)),n}function Yte(){return{}}function Wte(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(y=>Bte(t,y))),v(n,["functionDeclarations"],p)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],Ute(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],Vte(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],zte());const c=g(e,["googleMaps"]);c!=null&&v(n,["googleMaps"],Kte(t,c)),g(e,["urlContext"])!=null&&v(n,["urlContext"],Yte());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function Xte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Zte(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Jte(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Zte(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Qte(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],Xte(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Jte(t,a)),n}function ene(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const s=g(e,["displayName"]);n!==void 0&&s!=null&&v(n,["displayName"],s);const u=g(e,["contents"]);if(n!==void 0&&u!=null){let y=Kr(t,u);Array.isArray(y)&&(y=y.map(_=>cR(t,_))),v(n,["contents"],y)}const c=g(e,["systemInstruction"]);n!==void 0&&c!=null&&v(n,["systemInstruction"],cR(t,qn(t,c)));const d=g(e,["tools"]);if(n!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(_=>Wte(t,_))),v(n,["tools"],y)}const h=g(e,["toolConfig"]);n!==void 0&&h!=null&&v(n,["toolConfig"],Qte(t,h));const p=g(e,["kmsKeyName"]);return n!==void 0&&p!=null&&v(n,["encryption_spec","kmsKeyName"],p),r}function tne(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],C$(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],ene(t,a,n)),n}function nne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],Gi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function rne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],Gi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function ane(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);return n!==void 0&&i!=null&&v(n,["expireTime"],i),r}function ine(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],Gi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],ane(t,a,n)),n}function one(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function sne(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],one(t,r,n)),n}function dh(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["model"]);i!=null&&v(n,["model"],i);const s=g(e,["createTime"]);s!=null&&v(n,["createTime"],s);const u=g(e,["updateTime"]);u!=null&&v(n,["updateTime"],u);const c=g(e,["expireTime"]);c!=null&&v(n,["expireTime"],c);const d=g(e,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function lne(){return{}}function une(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>dh(t,s))),v(n,["cachedContents"],i)}return n}function fh(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["model"]);i!=null&&v(n,["model"],i);const s=g(e,["createTime"]);s!=null&&v(n,["createTime"],s);const u=g(e,["updateTime"]);u!=null&&v(n,["updateTime"],u);const c=g(e,["expireTime"]);c!=null&&v(n,["expireTime"],c);const d=g(e,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function cne(){return{}}function dne(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>fh(t,s))),v(n,["cachedContents"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Pl||(Pl={}));class fp{constructor(e,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,a)}init(e,n,r){var a,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(a=s.config)===null||a===void 0?void 0:a.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fne extends Vl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fp(Pl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=tne(this.apiClient,e);return u=Ge("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>fh(this.apiClient,h))}else{const d=kte(this.apiClient,e);return u=Ge("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>dh(this.apiClient,h))}}async get(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=nne(this.apiClient,e);return u=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>fh(this.apiClient,h))}else{const d=Ote(this.apiClient,e);return u=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>dh(this.apiClient,h))}}async delete(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=rne(this.apiClient,e);return u=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(()=>{const h=cne(),p=new rR;return Object.assign(p,h),p})}else{const d=Mte(this.apiClient,e);return u=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=lne(),p=new rR;return Object.assign(p,h),p})}}async update(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=ine(this.apiClient,e);return u=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>fh(this.apiClient,h))}else{const d=Nte(this.apiClient,e);return u=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>dh(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=sne(this.apiClient,e);return u=Ge("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=dne(this.apiClient,h),y=new aR;return Object.assign(y,p),y})}else{const d=Rte(this.apiClient,e);return u=Ge("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=une(this.apiClient,h),y=new aR;return Object.assign(y,p),y})}}}function dR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vt(t){return this instanceof Vt?(this.v=t,this):new Vt(t)}function nl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(_){return function(S){return Promise.resolve(S).then(_,p)}}function u(_,S){r[_]&&(a[_]=function(A){return new Promise(function(T,O){i.push([_,A,T,O])>1||c(_,A)})},S&&(a[_]=S(a[_])))}function c(_,S){try{d(r[_](S))}catch(A){y(i[0][3],A)}}function d(_){_.value instanceof Vt?Promise.resolve(_.value.v).then(h,p):y(i[0][2],_)}function h(_){c("next",_)}function p(_){c("throw",_)}function y(_,S){_(S),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Tc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dR=="function"?dR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(u,c){s=t[i](s),a(u,c,s.done,s.value)})}}function a(i,s,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hne(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:I$(n)}function I$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function mne(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function fR(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const a=[];let i=!0;for(;r<n&&t[r].role==="model";)a.push(t[r]),i&&!I$(t[r])&&(i=!1),r++;i?e.push(...a):e.pop()}return e}class pne{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new gne(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class gne{constructor(e,n,r,a={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=a,this.history=i,this.sendPromise=Promise.resolve(),mne(i)}async sendMessage(e){var n;await this.sendPromise;const r=qn(this.apiClient,e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,u;const c=await a,d=(s=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let y=[];h!=null&&(y=(u=h.slice(p))!==null&&u!==void 0?u:[]);const _=d?[d]:[];this.recordHistory(r,_,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var n;await this.sendPromise;const r=qn(this.apiClient,e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const i=await a;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?fR(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,a;return nl(this,arguments,function*(){var s,u,c,d;const h=[];try{for(var p=!0,y=Tc(e),_;_=yield Vt(y.next()),s=_.done,!s;p=!0){d=_.value,p=!1;const S=d;if(hne(S)){const A=(a=(r=S.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;A!==void 0&&h.push(A)}yield yield Vt(S)}}catch(S){u={error:S}}finally{try{!p&&!s&&(c=y.return)&&(yield Vt(c.call(y)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let a=[];n.length>0&&n.every(i=>i.role!==void 0)?a=n:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...fR(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vne(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function yne(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],vne(t,r,n)),n}function bne(t,e){const n={},r=g(e,["details"]);r!=null&&v(n,["details"],r);const a=g(e,["message"]);a!=null&&v(n,["message"],a);const i=g(e,["code"]);return i!=null&&v(n,["code"],i),n}function xne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["mimeType"]);i!=null&&v(n,["mimeType"],i);const s=g(e,["sizeBytes"]);s!=null&&v(n,["sizeBytes"],s);const u=g(e,["createTime"]);u!=null&&v(n,["createTime"],u);const c=g(e,["expirationTime"]);c!=null&&v(n,["expirationTime"],c);const d=g(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=g(e,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const p=g(e,["uri"]);p!=null&&v(n,["uri"],p);const y=g(e,["downloadUri"]);y!=null&&v(n,["downloadUri"],y);const _=g(e,["state"]);_!=null&&v(n,["state"],_);const S=g(e,["source"]);S!=null&&v(n,["source"],S);const A=g(e,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const T=g(e,["error"]);return T!=null&&v(n,["error"],bne(t,T)),n}function _ne(t,e){const n={},r=g(e,["file"]);r!=null&&v(n,["file"],xne(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function wne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","file"],N$(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Sne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","file"],N$(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Tne(t,e){const n={},r=g(e,["details"]);r!=null&&v(n,["details"],r);const a=g(e,["message"]);a!=null&&v(n,["message"],a);const i=g(e,["code"]);return i!=null&&v(n,["code"],i),n}function Aw(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["mimeType"]);i!=null&&v(n,["mimeType"],i);const s=g(e,["sizeBytes"]);s!=null&&v(n,["sizeBytes"],s);const u=g(e,["createTime"]);u!=null&&v(n,["createTime"],u);const c=g(e,["expirationTime"]);c!=null&&v(n,["expirationTime"],c);const d=g(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=g(e,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const p=g(e,["uri"]);p!=null&&v(n,["uri"],p);const y=g(e,["downloadUri"]);y!=null&&v(n,["downloadUri"],y);const _=g(e,["state"]);_!=null&&v(n,["state"],_);const S=g(e,["source"]);S!=null&&v(n,["source"],S);const A=g(e,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const T=g(e,["error"]);return T!=null&&v(n,["error"],Tne(t,T)),n}function Ane(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["files"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>Aw(t,s))),v(n,["files"],i)}return n}function Cne(){return{}}function Ene(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kne extends Vl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fp(Pl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Aw(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yne(this.apiClient,e);return i=Ge("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=Ane(this.apiClient,c),h=new Hee;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_ne(this.apiClient,e);return i=Ge("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(()=>{const c=Cne(),d=new Kee;return Object.assign(d,c),d})}}async get(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wne(this.apiClient,e);return i=Ge("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Aw(this.apiClient,c))}}async delete(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sne(this.apiClient,e);return i=Ge("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(()=>{const c=Ene(),d=new Yee;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function One(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function Mne(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function j$(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],One(t,r)),n}function Dne(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Mne(t,r)),n}function Nne(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],j$(t,a)),n}function Pne(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Nne(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function Rne(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],j$(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],Pne(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function Ine(t,e){const n={},r=g(e,["voiceConfig"]);if(r!=null&&v(n,["voiceConfig"],Dne(t,r)),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function jne(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function $ne(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Lne(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Bne(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function qne(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Une(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Fne(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],jne(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Lne(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],qne(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const d=g(e,["executableCode"]);d!=null&&v(n,["executableCode"],d);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Vne(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],$ne(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Bne(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Une(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const d=g(e,["executableCode"]);d!=null&&v(n,["executableCode"],d);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function zne(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Fne(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Gne(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Vne(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Hne(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function Kne(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function Yne(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Wne(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Xne(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Yne(t,r)),n}function Zne(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Wne(t,r)),n}function Jne(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Qne(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function ere(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Jne(t,r)),n}function tre(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Qne(t,r)),n}function nre(){return{}}function rre(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function are(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],rre(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const c=g(e,["oidcConfig"]);return c!=null&&v(n,["oidcConfig"],c),n}function ire(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],are(t,r)),n}function ore(){return{}}function sre(){return{}}function lre(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Hne(t,d))),v(n,["functionDeclarations"],c)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],Xne(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],ere(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],ore());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function ure(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(y=>Kne(t,y))),v(n,["functionDeclarations"],p)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],Zne(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],tre(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],nre());const c=g(e,["googleMaps"]);c!=null&&v(n,["googleMaps"],ire(t,c)),g(e,["urlContext"])!=null&&v(n,["urlContext"],sre());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function cre(t,e){const n={},r=g(e,["handle"]);if(r!=null&&v(n,["handle"],r),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function dre(t,e){const n={},r=g(e,["handle"]);r!=null&&v(n,["handle"],r);const a=g(e,["transparent"]);return a!=null&&v(n,["transparent"],a),n}function hR(){return{}}function mR(){return{}}function fre(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function hre(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function mre(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],fre(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function pre(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],hre(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function gre(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function vre(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function yre(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],gre(t,a)),n}function bre(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],vre(t,a)),n}function xre(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function _re(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function wre(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const c=g(e,["topK"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","topK"],c);const d=g(e,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const p=g(e,["seed"]);n!==void 0&&p!=null&&v(n,["setup","generationConfig","seed"],p);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],Rne(t,HS(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],zne(t,qn(t,S)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let k=xd(t,A);Array.isArray(k)&&(k=k.map(P=>lre(t,bd(t,P)))),v(n,["setup","tools"],k)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],cre(t,T));const O=g(e,["inputAudioTranscription"]);n!==void 0&&O!=null&&v(n,["setup","inputAudioTranscription"],hR());const M=g(e,["outputAudioTranscription"]);n!==void 0&&M!=null&&v(n,["setup","outputAudioTranscription"],hR());const C=g(e,["realtimeInputConfig"]);n!==void 0&&C!=null&&v(n,["setup","realtimeInputConfig"],mre(t,C));const D=g(e,["contextWindowCompression"]);n!==void 0&&D!=null&&v(n,["setup","contextWindowCompression"],yre(t,D));const E=g(e,["proactivity"]);return n!==void 0&&E!=null&&v(n,["setup","proactivity"],xre(t,E)),r}function Sre(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const c=g(e,["topK"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","topK"],c);const d=g(e,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const p=g(e,["seed"]);n!==void 0&&p!=null&&v(n,["setup","generationConfig","seed"],p);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],Ine(t,HS(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],Gne(t,qn(t,S)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let k=xd(t,A);Array.isArray(k)&&(k=k.map(P=>ure(t,bd(t,P)))),v(n,["setup","tools"],k)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],dre(t,T));const O=g(e,["inputAudioTranscription"]);n!==void 0&&O!=null&&v(n,["setup","inputAudioTranscription"],mR());const M=g(e,["outputAudioTranscription"]);n!==void 0&&M!=null&&v(n,["setup","outputAudioTranscription"],mR());const C=g(e,["realtimeInputConfig"]);n!==void 0&&C!=null&&v(n,["setup","realtimeInputConfig"],pre(t,C));const D=g(e,["contextWindowCompression"]);n!==void 0&&D!=null&&v(n,["setup","contextWindowCompression"],bre(t,D));const E=g(e,["proactivity"]);return n!==void 0&&E!=null&&v(n,["setup","proactivity"],_re(t,E)),r}function Tre(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Ut(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],wre(t,a,n)),n}function Are(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Ut(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Sre(t,a,n)),n}function Cre(){return{}}function Ere(){return{}}function kre(){return{}}function Ore(){return{}}function Mre(t,e){const n={},r=g(e,["media"]);r!=null&&v(n,["mediaChunks"],E$(t,r));const a=g(e,["audio"]);a!=null&&v(n,["audio"],Jee(t,a));const i=g(e,["audioStreamEnd"]);i!=null&&v(n,["audioStreamEnd"],i);const s=g(e,["video"]);s!=null&&v(n,["video"],Zee(t,s));const u=g(e,["text"]);return u!=null&&v(n,["text"],u),g(e,["activityStart"])!=null&&v(n,["activityStart"],Cre()),g(e,["activityEnd"])!=null&&v(n,["activityEnd"],kre()),n}function Dre(t,e){const n={},r=g(e,["media"]);if(r!=null&&v(n,["mediaChunks"],E$(t,r)),g(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const a=g(e,["audioStreamEnd"]);if(a!=null&&v(n,["audioStreamEnd"],a),g(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(g(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return g(e,["activityStart"])!=null&&v(n,["activityStart"],Ere()),g(e,["activityEnd"])!=null&&v(n,["activityEnd"],Ore()),n}function $$(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["weight"]);return a!=null&&v(n,["weight"],a),n}function Nre(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>$$(t,i))),v(n,["weightedPrompts"],a)}return n}function L$(t,e){const n={},r=g(e,["temperature"]);r!=null&&v(n,["temperature"],r);const a=g(e,["topK"]);a!=null&&v(n,["topK"],a);const i=g(e,["seed"]);i!=null&&v(n,["seed"],i);const s=g(e,["guidance"]);s!=null&&v(n,["guidance"],s);const u=g(e,["bpm"]);u!=null&&v(n,["bpm"],u);const c=g(e,["density"]);c!=null&&v(n,["density"],c);const d=g(e,["brightness"]);d!=null&&v(n,["brightness"],d);const h=g(e,["scale"]);h!=null&&v(n,["scale"],h);const p=g(e,["muteBass"]);p!=null&&v(n,["muteBass"],p);const y=g(e,["muteDrums"]);y!=null&&v(n,["muteDrums"],y);const _=g(e,["onlyBassAndDrums"]);return _!=null&&v(n,["onlyBassAndDrums"],_),n}function Pre(t,e){const n={},r=g(e,["musicGenerationConfig"]);return r!=null&&v(n,["musicGenerationConfig"],L$(t,r)),n}function B$(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["model"],r),n}function q$(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>$$(t,i))),v(n,["weightedPrompts"],a)}return n}function Cw(t,e){const n={},r=g(e,["setup"]);r!=null&&v(n,["setup"],B$(t,r));const a=g(e,["clientContent"]);a!=null&&v(n,["clientContent"],q$(t,a));const i=g(e,["musicGenerationConfig"]);i!=null&&v(n,["musicGenerationConfig"],L$(t,i));const s=g(e,["playbackControl"]);return s!=null&&v(n,["playbackControl"],s),n}function Rre(){return{}}function Ire(){return{}}function jre(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function $re(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Lre(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Bre(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function qre(t,e){const n={},r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Ure(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Fre(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],jre(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Lre(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],qre(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const d=g(e,["executableCode"]);d!=null&&v(n,["executableCode"],d);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Vre(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],$re(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Bre(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Ure(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const d=g(e,["executableCode"]);d!=null&&v(n,["executableCode"],d);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function zre(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Fre(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Gre(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Vre(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function pR(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["finished"]);return a!=null&&v(n,["finished"],a),n}function gR(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["finished"]);return a!=null&&v(n,["finished"],a),n}function Hre(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function Kre(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Hre(t,i))),v(n,["urlMetadata"],a)}return n}function Yre(t,e){const n={},r=g(e,["modelTurn"]);r!=null&&v(n,["modelTurn"],zre(t,r));const a=g(e,["turnComplete"]);a!=null&&v(n,["turnComplete"],a);const i=g(e,["interrupted"]);i!=null&&v(n,["interrupted"],i);const s=g(e,["groundingMetadata"]);s!=null&&v(n,["groundingMetadata"],s);const u=g(e,["generationComplete"]);u!=null&&v(n,["generationComplete"],u);const c=g(e,["inputTranscription"]);c!=null&&v(n,["inputTranscription"],pR(t,c));const d=g(e,["outputTranscription"]);d!=null&&v(n,["outputTranscription"],pR(t,d));const h=g(e,["urlContextMetadata"]);return h!=null&&v(n,["urlContextMetadata"],Kre(t,h)),n}function Wre(t,e){const n={},r=g(e,["modelTurn"]);r!=null&&v(n,["modelTurn"],Gre(t,r));const a=g(e,["turnComplete"]);a!=null&&v(n,["turnComplete"],a);const i=g(e,["interrupted"]);i!=null&&v(n,["interrupted"],i);const s=g(e,["groundingMetadata"]);s!=null&&v(n,["groundingMetadata"],s);const u=g(e,["generationComplete"]);u!=null&&v(n,["generationComplete"],u);const c=g(e,["inputTranscription"]);c!=null&&v(n,["inputTranscription"],gR(t,c));const d=g(e,["outputTranscription"]);return d!=null&&v(n,["outputTranscription"],gR(t,d)),n}function Xre(t,e){const n={},r=g(e,["id"]);r!=null&&v(n,["id"],r);const a=g(e,["args"]);a!=null&&v(n,["args"],a);const i=g(e,["name"]);return i!=null&&v(n,["name"],i),n}function Zre(t,e){const n={},r=g(e,["args"]);r!=null&&v(n,["args"],r);const a=g(e,["name"]);return a!=null&&v(n,["name"],a),n}function Jre(t,e){const n={},r=g(e,["functionCalls"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Xre(t,i))),v(n,["functionCalls"],a)}return n}function Qre(t,e){const n={},r=g(e,["functionCalls"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Zre(t,i))),v(n,["functionCalls"],a)}return n}function eae(t,e){const n={},r=g(e,["ids"]);return r!=null&&v(n,["ids"],r),n}function tae(t,e){const n={},r=g(e,["ids"]);return r!=null&&v(n,["ids"],r),n}function sh(t,e){const n={},r=g(e,["modality"]);r!=null&&v(n,["modality"],r);const a=g(e,["tokenCount"]);return a!=null&&v(n,["tokenCount"],a),n}function lh(t,e){const n={},r=g(e,["modality"]);r!=null&&v(n,["modality"],r);const a=g(e,["tokenCount"]);return a!=null&&v(n,["tokenCount"],a),n}function nae(t,e){const n={},r=g(e,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const a=g(e,["cachedContentTokenCount"]);a!=null&&v(n,["cachedContentTokenCount"],a);const i=g(e,["responseTokenCount"]);i!=null&&v(n,["responseTokenCount"],i);const s=g(e,["toolUsePromptTokenCount"]);s!=null&&v(n,["toolUsePromptTokenCount"],s);const u=g(e,["thoughtsTokenCount"]);u!=null&&v(n,["thoughtsTokenCount"],u);const c=g(e,["totalTokenCount"]);c!=null&&v(n,["totalTokenCount"],c);const d=g(e,["promptTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>sh(t,S))),v(n,["promptTokensDetails"],_)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>sh(t,S))),v(n,["cacheTokensDetails"],_)}const p=g(e,["responseTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(S=>sh(t,S))),v(n,["responseTokensDetails"],_)}const y=g(e,["toolUsePromptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>sh(t,S))),v(n,["toolUsePromptTokensDetails"],_)}return n}function rae(t,e){const n={},r=g(e,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const a=g(e,["cachedContentTokenCount"]);a!=null&&v(n,["cachedContentTokenCount"],a);const i=g(e,["candidatesTokenCount"]);i!=null&&v(n,["responseTokenCount"],i);const s=g(e,["toolUsePromptTokenCount"]);s!=null&&v(n,["toolUsePromptTokenCount"],s);const u=g(e,["thoughtsTokenCount"]);u!=null&&v(n,["thoughtsTokenCount"],u);const c=g(e,["totalTokenCount"]);c!=null&&v(n,["totalTokenCount"],c);const d=g(e,["promptTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(A=>lh(t,A))),v(n,["promptTokensDetails"],S)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(A=>lh(t,A))),v(n,["cacheTokensDetails"],S)}const p=g(e,["candidatesTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(A=>lh(t,A))),v(n,["responseTokensDetails"],S)}const y=g(e,["toolUsePromptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(A=>lh(t,A))),v(n,["toolUsePromptTokensDetails"],S)}const _=g(e,["trafficType"]);return _!=null&&v(n,["trafficType"],_),n}function aae(t,e){const n={},r=g(e,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function iae(t,e){const n={},r=g(e,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function oae(t,e){const n={},r=g(e,["newHandle"]);r!=null&&v(n,["newHandle"],r);const a=g(e,["resumable"]);a!=null&&v(n,["resumable"],a);const i=g(e,["lastConsumedClientMessageIndex"]);return i!=null&&v(n,["lastConsumedClientMessageIndex"],i),n}function sae(t,e){const n={},r=g(e,["newHandle"]);r!=null&&v(n,["newHandle"],r);const a=g(e,["resumable"]);a!=null&&v(n,["resumable"],a);const i=g(e,["lastConsumedClientMessageIndex"]);return i!=null&&v(n,["lastConsumedClientMessageIndex"],i),n}function lae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],Rre());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],Yre(t,a));const i=g(e,["toolCall"]);i!=null&&v(n,["toolCall"],Jre(t,i));const s=g(e,["toolCallCancellation"]);s!=null&&v(n,["toolCallCancellation"],eae(t,s));const u=g(e,["usageMetadata"]);u!=null&&v(n,["usageMetadata"],nae(t,u));const c=g(e,["goAway"]);c!=null&&v(n,["goAway"],aae(t,c));const d=g(e,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],oae(t,d)),n}function uae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],Ire());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],Wre(t,a));const i=g(e,["toolCall"]);i!=null&&v(n,["toolCall"],Qre(t,i));const s=g(e,["toolCallCancellation"]);s!=null&&v(n,["toolCallCancellation"],tae(t,s));const u=g(e,["usageMetadata"]);u!=null&&v(n,["usageMetadata"],rae(t,u));const c=g(e,["goAway"]);c!=null&&v(n,["goAway"],iae(t,c));const d=g(e,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],sae(t,d)),n}function cae(){return{}}function dae(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["weight"]);return a!=null&&v(n,["weight"],a),n}function fae(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>dae(t,i))),v(n,["weightedPrompts"],a)}return n}function hae(t,e){const n={},r=g(e,["temperature"]);r!=null&&v(n,["temperature"],r);const a=g(e,["topK"]);a!=null&&v(n,["topK"],a);const i=g(e,["seed"]);i!=null&&v(n,["seed"],i);const s=g(e,["guidance"]);s!=null&&v(n,["guidance"],s);const u=g(e,["bpm"]);u!=null&&v(n,["bpm"],u);const c=g(e,["density"]);c!=null&&v(n,["density"],c);const d=g(e,["brightness"]);d!=null&&v(n,["brightness"],d);const h=g(e,["scale"]);h!=null&&v(n,["scale"],h);const p=g(e,["muteBass"]);p!=null&&v(n,["muteBass"],p);const y=g(e,["muteDrums"]);y!=null&&v(n,["muteDrums"],y);const _=g(e,["onlyBassAndDrums"]);return _!=null&&v(n,["onlyBassAndDrums"],_),n}function mae(t,e){const n={},r=g(e,["clientContent"]);r!=null&&v(n,["clientContent"],fae(t,r));const a=g(e,["musicGenerationConfig"]);return a!=null&&v(n,["musicGenerationConfig"],hae(t,a)),n}function pae(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);a!=null&&v(n,["mimeType"],a);const i=g(e,["sourceMetadata"]);return i!=null&&v(n,["sourceMetadata"],mae(t,i)),n}function gae(t,e){const n={},r=g(e,["audioChunks"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>pae(t,i))),v(n,["audioChunks"],a)}return n}function vae(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["filteredReason"]);return a!=null&&v(n,["filteredReason"],a),n}function yae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],cae());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],gae(t,a));const i=g(e,["filteredPrompt"]);return i!=null&&v(n,["filteredPrompt"],vae(t,i)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bae(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function xae(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function _ae(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function wae(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],bae(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],xae(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],_ae(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const d=g(e,["executableCode"]);d!=null&&v(n,["executableCode"],d);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function hp(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>wae(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Sae(t,e){const n={},r=g(e,["anyOf"]);r!=null&&v(n,["anyOf"],r);const a=g(e,["default"]);a!=null&&v(n,["default"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["enum"]);s!=null&&v(n,["enum"],s);const u=g(e,["example"]);u!=null&&v(n,["example"],u);const c=g(e,["format"]);c!=null&&v(n,["format"],c);const d=g(e,["items"]);d!=null&&v(n,["items"],d);const h=g(e,["maxItems"]);h!=null&&v(n,["maxItems"],h);const p=g(e,["maxLength"]);p!=null&&v(n,["maxLength"],p);const y=g(e,["maxProperties"]);y!=null&&v(n,["maxProperties"],y);const _=g(e,["maximum"]);_!=null&&v(n,["maximum"],_);const S=g(e,["minItems"]);S!=null&&v(n,["minItems"],S);const A=g(e,["minLength"]);A!=null&&v(n,["minLength"],A);const T=g(e,["minProperties"]);T!=null&&v(n,["minProperties"],T);const O=g(e,["minimum"]);O!=null&&v(n,["minimum"],O);const M=g(e,["nullable"]);M!=null&&v(n,["nullable"],M);const C=g(e,["pattern"]);C!=null&&v(n,["pattern"],C);const D=g(e,["properties"]);D!=null&&v(n,["properties"],D);const E=g(e,["propertyOrdering"]);E!=null&&v(n,["propertyOrdering"],E);const k=g(e,["required"]);k!=null&&v(n,["required"],k);const P=g(e,["title"]);P!=null&&v(n,["title"],P);const I=g(e,["type"]);return I!=null&&v(n,["type"],I),n}function Tae(t,e){const n={};if(g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["category"]);r!=null&&v(n,["category"],r);const a=g(e,["threshold"]);return a!=null&&v(n,["threshold"],a),n}function Aae(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function Cae(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Eae(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Cae(t,r)),n}function kae(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Oae(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],kae(t,r)),n}function Mae(){return{}}function Dae(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Aae(t,d))),v(n,["functionDeclarations"],c)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],Eae(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],Oae(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],Mae());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function Nae(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Pae(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Rae(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Pae(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Iae(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],Nae(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Rae(t,a)),n}function jae(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function U$(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],jae(t,r)),n}function $ae(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],U$(t,a)),n}function Lae(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>$ae(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function Bae(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],U$(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],Lae(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function qae(t,e){const n={},r=g(e,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const a=g(e,["thinkingBudget"]);return a!=null&&v(n,["thinkingBudget"],a),n}function Uae(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],hp(t,qn(t,a)));const i=g(e,["temperature"]);i!=null&&v(r,["temperature"],i);const s=g(e,["topP"]);s!=null&&v(r,["topP"],s);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=g(e,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const p=g(e,["responseLogprobs"]);p!=null&&v(r,["responseLogprobs"],p);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const _=g(e,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const S=g(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const A=g(e,["seed"]);A!=null&&v(r,["seed"],A);const T=g(e,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const O=g(e,["responseSchema"]);if(O!=null&&v(r,["responseSchema"],Sae(t,_m(t,O))),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=g(e,["safetySettings"]);if(n!==void 0&&M!=null){let z=M;Array.isArray(z)&&(z=z.map(B=>Tae(t,B))),v(n,["safetySettings"],z)}const C=g(e,["tools"]);if(n!==void 0&&C!=null){let z=xd(t,C);Array.isArray(z)&&(z=z.map(B=>Dae(t,bd(t,B)))),v(n,["tools"],z)}const D=g(e,["toolConfig"]);if(n!==void 0&&D!=null&&v(n,["toolConfig"],Iae(t,D)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=g(e,["cachedContent"]);n!==void 0&&E!=null&&v(n,["cachedContent"],Gi(t,E));const k=g(e,["responseModalities"]);k!=null&&v(r,["responseModalities"],k);const P=g(e,["mediaResolution"]);P!=null&&v(r,["mediaResolution"],P);const I=g(e,["speechConfig"]);if(I!=null&&v(r,["speechConfig"],Bae(t,M$(t,I))),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=g(e,["thinkingConfig"]);return F!=null&&v(r,["thinkingConfig"],qae(t,F)),r}function vR(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["contents"]);if(a!=null){let s=Kr(t,a);Array.isArray(s)&&(s=s.map(u=>hp(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["generationConfig"],Uae(t,i,n)),n}function Fae(t,e,n){const r={},a=g(e,["taskType"]);n!==void 0&&a!=null&&v(n,["requests[]","taskType"],a);const i=g(e,["title"]);n!==void 0&&i!=null&&v(n,["requests[]","title"],i);const s=g(e,["outputDimensionality"]);if(n!==void 0&&s!=null&&v(n,["requests[]","outputDimensionality"],s),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Vae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["contents"]);a!=null&&v(n,["requests[]","content"],O$(t,a));const i=g(e,["config"]);i!=null&&v(n,["config"],Fae(t,i,n));const s=g(e,["model"]);return s!==void 0&&v(n,["requests[]","model"],Ut(t,s)),n}function zae(t,e,n){const r={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=g(e,["numberOfImages"]);n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a);const i=g(e,["aspectRatio"]);n!==void 0&&i!=null&&v(n,["parameters","aspectRatio"],i);const s=g(e,["guidanceScale"]);if(n!==void 0&&s!=null&&v(n,["parameters","guidanceScale"],s),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=g(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&v(n,["parameters","safetySetting"],u);const c=g(e,["personGeneration"]);n!==void 0&&c!=null&&v(n,["parameters","personGeneration"],c);const d=g(e,["includeSafetyAttributes"]);n!==void 0&&d!=null&&v(n,["parameters","includeSafetyAttributes"],d);const h=g(e,["includeRaiReason"]);n!==void 0&&h!=null&&v(n,["parameters","includeRaiReason"],h);const p=g(e,["language"]);n!==void 0&&p!=null&&v(n,["parameters","language"],p);const y=g(e,["outputMimeType"]);n!==void 0&&y!=null&&v(n,["parameters","outputOptions","mimeType"],y);const _=g(e,["outputCompressionQuality"]);if(n!==void 0&&_!=null&&v(n,["parameters","outputOptions","compressionQuality"],_),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Gae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],zae(t,i,n)),n}function Hae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Ut(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Kae(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],P$(t,u)),r}function Yae(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Kae(t,r,n)),n}function Wae(t,e,n){const r={},a=g(e,["displayName"]);n!==void 0&&a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);n!==void 0&&i!=null&&v(n,["description"],i);const s=g(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&v(n,["defaultCheckpointId"],s),r}function Xae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Ut(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Wae(t,a,n)),n}function Zae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Ut(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Jae(t,e){const n={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Qae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["contents"]);if(a!=null){let s=Kr(t,a);Array.isArray(s)&&(s=s.map(u=>hp(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],Jae(t,i)),n}function eie(t,e){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=g(e,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],Wa(t,r));const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function tie(t,e,n){const r={},a=g(e,["numberOfVideos"]);if(n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(e,["durationSeconds"]);if(n!==void 0&&i!=null&&v(n,["parameters","durationSeconds"],i),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=g(e,["aspectRatio"]);if(n!==void 0&&s!=null&&v(n,["parameters","aspectRatio"],s),g(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=g(e,["personGeneration"]);if(n!==void 0&&u!=null&&v(n,["parameters","personGeneration"],u),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=g(e,["negativePrompt"]);n!==void 0&&c!=null&&v(n,["parameters","negativePrompt"],c);const d=g(e,["enhancePrompt"]);if(n!==void 0&&d!=null&&v(n,["parameters","enhancePrompt"],d),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(g(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return r}function nie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["image"]);if(i!=null&&v(n,["instances[0]","image"],eie(t,i)),g(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=g(e,["config"]);return s!=null&&v(n,["config"],tie(t,s,n)),n}function rie(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function aie(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function iie(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function oie(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],rie(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],aie(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],iie(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const d=g(e,["executableCode"]);d!=null&&v(n,["executableCode"],d);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function zl(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>oie(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function sie(t,e){const n={},r=g(e,["anyOf"]);r!=null&&v(n,["anyOf"],r);const a=g(e,["default"]);a!=null&&v(n,["default"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["enum"]);s!=null&&v(n,["enum"],s);const u=g(e,["example"]);u!=null&&v(n,["example"],u);const c=g(e,["format"]);c!=null&&v(n,["format"],c);const d=g(e,["items"]);d!=null&&v(n,["items"],d);const h=g(e,["maxItems"]);h!=null&&v(n,["maxItems"],h);const p=g(e,["maxLength"]);p!=null&&v(n,["maxLength"],p);const y=g(e,["maxProperties"]);y!=null&&v(n,["maxProperties"],y);const _=g(e,["maximum"]);_!=null&&v(n,["maximum"],_);const S=g(e,["minItems"]);S!=null&&v(n,["minItems"],S);const A=g(e,["minLength"]);A!=null&&v(n,["minLength"],A);const T=g(e,["minProperties"]);T!=null&&v(n,["minProperties"],T);const O=g(e,["minimum"]);O!=null&&v(n,["minimum"],O);const M=g(e,["nullable"]);M!=null&&v(n,["nullable"],M);const C=g(e,["pattern"]);C!=null&&v(n,["pattern"],C);const D=g(e,["properties"]);D!=null&&v(n,["properties"],D);const E=g(e,["propertyOrdering"]);E!=null&&v(n,["propertyOrdering"],E);const k=g(e,["required"]);k!=null&&v(n,["required"],k);const P=g(e,["title"]);P!=null&&v(n,["title"],P);const I=g(e,["type"]);return I!=null&&v(n,["type"],I),n}function lie(t,e){const n={},r=g(e,["featureSelectionPreference"]);return r!=null&&v(n,["featureSelectionPreference"],r),n}function uie(t,e){const n={},r=g(e,["method"]);r!=null&&v(n,["method"],r);const a=g(e,["category"]);a!=null&&v(n,["category"],a);const i=g(e,["threshold"]);return i!=null&&v(n,["threshold"],i),n}function cie(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function die(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function fie(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],die(t,r)),n}function hie(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function mie(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],hie(t,r)),n}function pie(){return{}}function gie(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function vie(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],gie(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const c=g(e,["oidcConfig"]);return c!=null&&v(n,["oidcConfig"],c),n}function yie(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],vie(t,r)),n}function bie(){return{}}function F$(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(y=>cie(t,y))),v(n,["functionDeclarations"],p)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],fie(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],mie(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],pie());const c=g(e,["googleMaps"]);c!=null&&v(n,["googleMaps"],yie(t,c)),g(e,["urlContext"])!=null&&v(n,["urlContext"],bie());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function xie(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function _ie(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function wie(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],_ie(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Sie(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],xie(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],wie(t,a)),n}function Tie(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function Aie(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Tie(t,r)),n}function Cie(t,e){const n={},r=g(e,["voiceConfig"]);if(r!=null&&v(n,["voiceConfig"],Aie(t,r)),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Eie(t,e){const n={},r=g(e,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const a=g(e,["thinkingBudget"]);return a!=null&&v(n,["thinkingBudget"],a),n}function kie(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],zl(t,qn(t,a)));const i=g(e,["temperature"]);i!=null&&v(r,["temperature"],i);const s=g(e,["topP"]);s!=null&&v(r,["topP"],s);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=g(e,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const p=g(e,["responseLogprobs"]);p!=null&&v(r,["responseLogprobs"],p);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const _=g(e,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const S=g(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const A=g(e,["seed"]);A!=null&&v(r,["seed"],A);const T=g(e,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const O=g(e,["responseSchema"]);O!=null&&v(r,["responseSchema"],sie(t,_m(t,O)));const M=g(e,["routingConfig"]);M!=null&&v(r,["routingConfig"],M);const C=g(e,["modelSelectionConfig"]);C!=null&&v(r,["modelConfig"],lie(t,C));const D=g(e,["safetySettings"]);if(n!==void 0&&D!=null){let Y=D;Array.isArray(Y)&&(Y=Y.map(q=>uie(t,q))),v(n,["safetySettings"],Y)}const E=g(e,["tools"]);if(n!==void 0&&E!=null){let Y=xd(t,E);Array.isArray(Y)&&(Y=Y.map(q=>F$(t,bd(t,q)))),v(n,["tools"],Y)}const k=g(e,["toolConfig"]);n!==void 0&&k!=null&&v(n,["toolConfig"],Sie(t,k));const P=g(e,["labels"]);n!==void 0&&P!=null&&v(n,["labels"],P);const I=g(e,["cachedContent"]);n!==void 0&&I!=null&&v(n,["cachedContent"],Gi(t,I));const F=g(e,["responseModalities"]);F!=null&&v(r,["responseModalities"],F);const z=g(e,["mediaResolution"]);z!=null&&v(r,["mediaResolution"],z);const B=g(e,["speechConfig"]);B!=null&&v(r,["speechConfig"],Cie(t,M$(t,B)));const W=g(e,["audioTimestamp"]);W!=null&&v(r,["audioTimestamp"],W);const Q=g(e,["thinkingConfig"]);return Q!=null&&v(r,["thinkingConfig"],Eie(t,Q)),r}function yR(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["contents"]);if(a!=null){let s=Kr(t,a);Array.isArray(s)&&(s=s.map(u=>zl(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["generationConfig"],kie(t,i,n)),n}function Oie(t,e,n){const r={},a=g(e,["taskType"]);n!==void 0&&a!=null&&v(n,["instances[]","task_type"],a);const i=g(e,["title"]);n!==void 0&&i!=null&&v(n,["instances[]","title"],i);const s=g(e,["outputDimensionality"]);n!==void 0&&s!=null&&v(n,["parameters","outputDimensionality"],s);const u=g(e,["mimeType"]);n!==void 0&&u!=null&&v(n,["instances[]","mimeType"],u);const c=g(e,["autoTruncate"]);return n!==void 0&&c!=null&&v(n,["parameters","autoTruncate"],c),r}function Mie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["contents"]);a!=null&&v(n,["instances[]","content"],O$(t,a));const i=g(e,["config"]);return i!=null&&v(n,["config"],Oie(t,i,n)),n}function Die(t,e,n){const r={},a=g(e,["outputGcsUri"]);n!==void 0&&a!=null&&v(n,["parameters","storageUri"],a);const i=g(e,["negativePrompt"]);n!==void 0&&i!=null&&v(n,["parameters","negativePrompt"],i);const s=g(e,["numberOfImages"]);n!==void 0&&s!=null&&v(n,["parameters","sampleCount"],s);const u=g(e,["aspectRatio"]);n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u);const c=g(e,["guidanceScale"]);n!==void 0&&c!=null&&v(n,["parameters","guidanceScale"],c);const d=g(e,["seed"]);n!==void 0&&d!=null&&v(n,["parameters","seed"],d);const h=g(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const p=g(e,["personGeneration"]);n!==void 0&&p!=null&&v(n,["parameters","personGeneration"],p);const y=g(e,["includeSafetyAttributes"]);n!==void 0&&y!=null&&v(n,["parameters","includeSafetyAttributes"],y);const _=g(e,["includeRaiReason"]);n!==void 0&&_!=null&&v(n,["parameters","includeRaiReason"],_);const S=g(e,["language"]);n!==void 0&&S!=null&&v(n,["parameters","language"],S);const A=g(e,["outputMimeType"]);n!==void 0&&A!=null&&v(n,["parameters","outputOptions","mimeType"],A);const T=g(e,["outputCompressionQuality"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","compressionQuality"],T);const O=g(e,["addWatermark"]);n!==void 0&&O!=null&&v(n,["parameters","addWatermark"],O);const M=g(e,["enhancePrompt"]);return n!==void 0&&M!=null&&v(n,["parameters","enhancePrompt"],M),r}function Nie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],Die(t,i,n)),n}function mp(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["imageBytes"]);a!=null&&v(n,["bytesBase64Encoded"],Wa(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Pie(t,e){const n={},r=g(e,["maskMode"]);r!=null&&v(n,["maskMode"],r);const a=g(e,["segmentationClasses"]);a!=null&&v(n,["maskClasses"],a);const i=g(e,["maskDilation"]);return i!=null&&v(n,["dilation"],i),n}function Rie(t,e){const n={},r=g(e,["controlType"]);r!=null&&v(n,["controlType"],r);const a=g(e,["enableControlImageComputation"]);return a!=null&&v(n,["computeControl"],a),n}function Iie(t,e){const n={},r=g(e,["styleDescription"]);return r!=null&&v(n,["styleDescription"],r),n}function jie(t,e){const n={},r=g(e,["subjectType"]);r!=null&&v(n,["subjectType"],r);const a=g(e,["subjectDescription"]);return a!=null&&v(n,["subjectDescription"],a),n}function $ie(t,e){const n={},r=g(e,["referenceImage"]);r!=null&&v(n,["referenceImage"],mp(t,r));const a=g(e,["referenceId"]);a!=null&&v(n,["referenceId"],a);const i=g(e,["referenceType"]);i!=null&&v(n,["referenceType"],i);const s=g(e,["maskImageConfig"]);s!=null&&v(n,["maskImageConfig"],Pie(t,s));const u=g(e,["controlImageConfig"]);u!=null&&v(n,["controlImageConfig"],Rie(t,u));const c=g(e,["styleImageConfig"]);c!=null&&v(n,["styleImageConfig"],Iie(t,c));const d=g(e,["subjectImageConfig"]);return d!=null&&v(n,["subjectImageConfig"],jie(t,d)),n}function Lie(t,e,n){const r={},a=g(e,["outputGcsUri"]);n!==void 0&&a!=null&&v(n,["parameters","storageUri"],a);const i=g(e,["negativePrompt"]);n!==void 0&&i!=null&&v(n,["parameters","negativePrompt"],i);const s=g(e,["numberOfImages"]);n!==void 0&&s!=null&&v(n,["parameters","sampleCount"],s);const u=g(e,["aspectRatio"]);n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u);const c=g(e,["guidanceScale"]);n!==void 0&&c!=null&&v(n,["parameters","guidanceScale"],c);const d=g(e,["seed"]);n!==void 0&&d!=null&&v(n,["parameters","seed"],d);const h=g(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const p=g(e,["personGeneration"]);n!==void 0&&p!=null&&v(n,["parameters","personGeneration"],p);const y=g(e,["includeSafetyAttributes"]);n!==void 0&&y!=null&&v(n,["parameters","includeSafetyAttributes"],y);const _=g(e,["includeRaiReason"]);n!==void 0&&_!=null&&v(n,["parameters","includeRaiReason"],_);const S=g(e,["language"]);n!==void 0&&S!=null&&v(n,["parameters","language"],S);const A=g(e,["outputMimeType"]);n!==void 0&&A!=null&&v(n,["parameters","outputOptions","mimeType"],A);const T=g(e,["outputCompressionQuality"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","compressionQuality"],T);const O=g(e,["editMode"]);n!==void 0&&O!=null&&v(n,["parameters","editMode"],O);const M=g(e,["baseSteps"]);return n!==void 0&&M!=null&&v(n,["parameters","editConfig","baseSteps"],M),r}function Bie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>$ie(t,c))),v(n,["instances[0]","referenceImages"],u)}const s=g(e,["config"]);return s!=null&&v(n,["config"],Lie(t,s,n)),n}function qie(t,e,n){const r={},a=g(e,["includeRaiReason"]);n!==void 0&&a!=null&&v(n,["parameters","includeRaiReason"],a);const i=g(e,["outputMimeType"]);n!==void 0&&i!=null&&v(n,["parameters","outputOptions","mimeType"],i);const s=g(e,["outputCompressionQuality"]);n!==void 0&&s!=null&&v(n,["parameters","outputOptions","compressionQuality"],s);const u=g(e,["numberOfImages"]);n!==void 0&&u!=null&&v(n,["parameters","sampleCount"],u);const c=g(e,["mode"]);return n!==void 0&&c!=null&&v(n,["parameters","mode"],c),r}function Uie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["image"]);a!=null&&v(n,["instances[0]","image"],mp(t,a));const i=g(e,["upscaleFactor"]);i!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=g(e,["config"]);return s!=null&&v(n,["config"],qie(t,s,n)),n}function Fie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Ut(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Vie(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],P$(t,u)),r}function zie(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Vie(t,r,n)),n}function Gie(t,e,n){const r={},a=g(e,["displayName"]);n!==void 0&&a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);n!==void 0&&i!=null&&v(n,["description"],i);const s=g(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&v(n,["defaultCheckpointId"],s),r}function Hie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Gie(t,a,n)),n}function Kie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Ut(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Yie(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],zl(t,qn(t,a)));const i=g(e,["tools"]);if(n!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>F$(t,c))),v(n,["tools"],u)}const s=g(e,["generationConfig"]);return n!==void 0&&s!=null&&v(n,["generationConfig"],s),r}function Wie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["contents"]);if(a!=null){let s=Kr(t,a);Array.isArray(s)&&(s=s.map(u=>zl(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],Yie(t,i,n)),n}function Xie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["contents"]);if(a!=null){let s=Kr(t,a);Array.isArray(s)&&(s=s.map(u=>zl(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],i),n}function Zie(t,e){const n={},r=g(e,["uri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["videoBytes"]);a!=null&&v(n,["bytesBase64Encoded"],Wa(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Jie(t,e,n){const r={},a=g(e,["numberOfVideos"]);n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a);const i=g(e,["outputGcsUri"]);n!==void 0&&i!=null&&v(n,["parameters","storageUri"],i);const s=g(e,["fps"]);n!==void 0&&s!=null&&v(n,["parameters","fps"],s);const u=g(e,["durationSeconds"]);n!==void 0&&u!=null&&v(n,["parameters","durationSeconds"],u);const c=g(e,["seed"]);n!==void 0&&c!=null&&v(n,["parameters","seed"],c);const d=g(e,["aspectRatio"]);n!==void 0&&d!=null&&v(n,["parameters","aspectRatio"],d);const h=g(e,["resolution"]);n!==void 0&&h!=null&&v(n,["parameters","resolution"],h);const p=g(e,["personGeneration"]);n!==void 0&&p!=null&&v(n,["parameters","personGeneration"],p);const y=g(e,["pubsubTopic"]);n!==void 0&&y!=null&&v(n,["parameters","pubsubTopic"],y);const _=g(e,["negativePrompt"]);n!==void 0&&_!=null&&v(n,["parameters","negativePrompt"],_);const S=g(e,["enhancePrompt"]);n!==void 0&&S!=null&&v(n,["parameters","enhancePrompt"],S);const A=g(e,["generateAudio"]);n!==void 0&&A!=null&&v(n,["parameters","generateAudio"],A);const T=g(e,["lastFrame"]);return n!==void 0&&T!=null&&v(n,["instances[0]","lastFrame"],mp(t,T)),r}function Qie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Ut(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["image"]);i!=null&&v(n,["instances[0]","image"],mp(t,i));const s=g(e,["video"]);s!=null&&v(n,["instances[0]","video"],Zie(t,s));const u=g(e,["config"]);return u!=null&&v(n,["config"],Jie(t,u,n)),n}function eoe(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function toe(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function noe(t,e){const n={},r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function roe(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],eoe(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],toe(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],noe(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const d=g(e,["executableCode"]);d!=null&&v(n,["executableCode"],d);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function aoe(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>roe(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function ioe(t,e){const n={},r=g(e,["citationSources"]);return r!=null&&v(n,["citations"],r),n}function ooe(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function soe(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>ooe(t,i))),v(n,["urlMetadata"],a)}return n}function loe(t,e){const n={},r=g(e,["content"]);r!=null&&v(n,["content"],aoe(t,r));const a=g(e,["citationMetadata"]);a!=null&&v(n,["citationMetadata"],ioe(t,a));const i=g(e,["tokenCount"]);i!=null&&v(n,["tokenCount"],i);const s=g(e,["finishReason"]);s!=null&&v(n,["finishReason"],s);const u=g(e,["urlContextMetadata"]);u!=null&&v(n,["urlContextMetadata"],soe(t,u));const c=g(e,["avgLogprobs"]);c!=null&&v(n,["avgLogprobs"],c);const d=g(e,["groundingMetadata"]);d!=null&&v(n,["groundingMetadata"],d);const h=g(e,["index"]);h!=null&&v(n,["index"],h);const p=g(e,["logprobsResult"]);p!=null&&v(n,["logprobsResult"],p);const y=g(e,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function bR(t,e){const n={},r=g(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>loe(t,c))),v(n,["candidates"],u)}const a=g(e,["modelVersion"]);a!=null&&v(n,["modelVersion"],a);const i=g(e,["promptFeedback"]);i!=null&&v(n,["promptFeedback"],i);const s=g(e,["usageMetadata"]);return s!=null&&v(n,["usageMetadata"],s),n}function uoe(t,e){const n={},r=g(e,["values"]);return r!=null&&v(n,["values"],r),n}function coe(){return{}}function doe(t,e){const n={},r=g(e,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>uoe(t,s))),v(n,["embeddings"],i)}return g(e,["metadata"])!=null&&v(n,["metadata"],coe()),n}function foe(t,e){const n={},r=g(e,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],Wa(t,r));const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function V$(t,e){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const a=g(e,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const i=g(e,["contentType"]);return i!=null&&v(n,["contentType"],i),n}function hoe(t,e){const n={},r=g(e,["_self"]);r!=null&&v(n,["image"],foe(t,r));const a=g(e,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const i=g(e,["_self"]);return i!=null&&v(n,["safetyAttributes"],V$(t,i)),n}function moe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>hoe(t,s))),v(n,["generatedImages"],i)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],V$(t,a)),n}function poe(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["updateTime"]);return i!=null&&v(n,["updateTime"],i),n}function Ew(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["version"]);s!=null&&v(n,["version"],s);const u=g(e,["_self"]);u!=null&&v(n,["tunedModelInfo"],poe(t,u));const c=g(e,["inputTokenLimit"]);c!=null&&v(n,["inputTokenLimit"],c);const d=g(e,["outputTokenLimit"]);d!=null&&v(n,["outputTokenLimit"],d);const h=g(e,["supportedGenerationMethods"]);return h!=null&&v(n,["supportedActions"],h),n}function goe(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["_self"]);if(a!=null){let i=R$(t,a);Array.isArray(i)&&(i=i.map(s=>Ew(t,s))),v(n,["models"],i)}return n}function voe(){return{}}function yoe(t,e){const n={},r=g(e,["totalTokens"]);r!=null&&v(n,["totalTokens"],r);const a=g(e,["cachedContentTokenCount"]);return a!=null&&v(n,["cachedContentTokenCount"],a),n}function boe(t,e){const n={},r=g(e,["video","uri"]);r!=null&&v(n,["uri"],r);const a=g(e,["video","encodedVideo"]);a!=null&&v(n,["videoBytes"],Wa(t,a));const i=g(e,["encoding"]);return i!=null&&v(n,["mimeType"],i),n}function xoe(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],boe(t,r)),n}function _oe(t,e){const n={},r=g(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>xoe(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function woe(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response","generateVideoResponse"]);return u!=null&&v(n,["response"],_oe(t,u)),n}function Soe(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Toe(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Aoe(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Coe(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Soe(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Toe(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Aoe(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const d=g(e,["executableCode"]);d!=null&&v(n,["executableCode"],d);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Eoe(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Coe(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function koe(t,e){const n={},r=g(e,["citations"]);return r!=null&&v(n,["citations"],r),n}function Ooe(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function Moe(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Ooe(t,i))),v(n,["urlMetadata"],a)}return n}function Doe(t,e){const n={},r=g(e,["content"]);r!=null&&v(n,["content"],Eoe(t,r));const a=g(e,["citationMetadata"]);a!=null&&v(n,["citationMetadata"],koe(t,a));const i=g(e,["finishMessage"]);i!=null&&v(n,["finishMessage"],i);const s=g(e,["finishReason"]);s!=null&&v(n,["finishReason"],s);const u=g(e,["urlContextMetadata"]);u!=null&&v(n,["urlContextMetadata"],Moe(t,u));const c=g(e,["avgLogprobs"]);c!=null&&v(n,["avgLogprobs"],c);const d=g(e,["groundingMetadata"]);d!=null&&v(n,["groundingMetadata"],d);const h=g(e,["index"]);h!=null&&v(n,["index"],h);const p=g(e,["logprobsResult"]);p!=null&&v(n,["logprobsResult"],p);const y=g(e,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function xR(t,e){const n={},r=g(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>Doe(t,h))),v(n,["candidates"],d)}const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["responseId"]);i!=null&&v(n,["responseId"],i);const s=g(e,["modelVersion"]);s!=null&&v(n,["modelVersion"],s);const u=g(e,["promptFeedback"]);u!=null&&v(n,["promptFeedback"],u);const c=g(e,["usageMetadata"]);return c!=null&&v(n,["usageMetadata"],c),n}function Noe(t,e){const n={},r=g(e,["truncated"]);r!=null&&v(n,["truncated"],r);const a=g(e,["token_count"]);return a!=null&&v(n,["tokenCount"],a),n}function Poe(t,e){const n={},r=g(e,["values"]);r!=null&&v(n,["values"],r);const a=g(e,["statistics"]);return a!=null&&v(n,["statistics"],Noe(t,a)),n}function Roe(t,e){const n={},r=g(e,["billableCharacterCount"]);return r!=null&&v(n,["billableCharacterCount"],r),n}function Ioe(t,e){const n={},r=g(e,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Poe(t,s))),v(n,["embeddings"],i)}const a=g(e,["metadata"]);return a!=null&&v(n,["metadata"],Roe(t,a)),n}function joe(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["imageBytes"],Wa(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function z$(t,e){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const a=g(e,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const i=g(e,["contentType"]);return i!=null&&v(n,["contentType"],i),n}function KS(t,e){const n={},r=g(e,["_self"]);r!=null&&v(n,["image"],joe(t,r));const a=g(e,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const i=g(e,["_self"]);i!=null&&v(n,["safetyAttributes"],z$(t,i));const s=g(e,["prompt"]);return s!=null&&v(n,["enhancedPrompt"],s),n}function $oe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>KS(t,s))),v(n,["generatedImages"],i)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],z$(t,a)),n}function Loe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>KS(t,i))),v(n,["generatedImages"],a)}return n}function Boe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>KS(t,i))),v(n,["generatedImages"],a)}return n}function qoe(t,e){const n={},r=g(e,["endpoint"]);r!=null&&v(n,["name"],r);const a=g(e,["deployedModelId"]);return a!=null&&v(n,["deployedModelId"],a),n}function Uoe(t,e){const n={},r=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["updateTime"]);return i!=null&&v(n,["updateTime"],i),n}function Foe(t,e){const n={},r=g(e,["checkpointId"]);r!=null&&v(n,["checkpointId"],r);const a=g(e,["epoch"]);a!=null&&v(n,["epoch"],a);const i=g(e,["step"]);return i!=null&&v(n,["step"],i),n}function kw(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["versionId"]);s!=null&&v(n,["version"],s);const u=g(e,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(_=>qoe(t,_))),v(n,["endpoints"],y)}const c=g(e,["labels"]);c!=null&&v(n,["labels"],c);const d=g(e,["_self"]);d!=null&&v(n,["tunedModelInfo"],Uoe(t,d));const h=g(e,["defaultCheckpointId"]);h!=null&&v(n,["defaultCheckpointId"],h);const p=g(e,["checkpoints"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(_=>Foe(t,_))),v(n,["checkpoints"],y)}return n}function Voe(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["_self"]);if(a!=null){let i=R$(t,a);Array.isArray(i)&&(i=i.map(s=>kw(t,s))),v(n,["models"],i)}return n}function zoe(){return{}}function Goe(t,e){const n={},r=g(e,["totalTokens"]);return r!=null&&v(n,["totalTokens"],r),n}function Hoe(t,e){const n={},r=g(e,["tokensInfo"]);return r!=null&&v(n,["tokensInfo"],r),n}function Koe(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["uri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["videoBytes"],Wa(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Yoe(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Koe(t,r)),n}function Woe(t,e){const n={},r=g(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Yoe(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function Xoe(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],Woe(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zoe="Content-Type",Joe="X-Server-Timeout",Qoe="User-Agent",Ow="x-goog-api-client",ese="1.5.1",tse=`google-genai-sdk/${ese}`,nse="v1beta1",rse="v1beta",_R=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class G$ extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Mw extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class ase{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:nse,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:rse,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))a.searchParams.append(s,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.unaryApiCall(a,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[a,i]of Object.entries(n))typeof i=="object"?r[a]=Object.assign(Object.assign({},r[a]),i):i!==void 0&&(r[a]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.streamApiCall(a,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const a=new AbortController,i=a.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>a.abort(),n.timeout),r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=i}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await wR(a),new Sw(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await wR(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var n;return nl(this,arguments,function*(){const a=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield Vt(a.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=i.decode(c);try{const p=JSON.parse(d);if("error"in p){const y=JSON.parse(JSON.stringify(p.error)),_=y.status,S=y.code,A=`got status: ${_}. ${JSON.stringify(p)}`;if(S>=400&&S<500)throw new G$(A);if(S>=500&&S<600)throw new Mw(A)}}catch(p){const y=p;if(y.name==="ClientError"||y.name==="ServerError")throw p}s+=d;let h=s.match(_R);for(;h;){const p=h[1];try{const y=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Vt(new Sw(y)),s=s.slice(h[0].length),h=s.match(_R)}catch(y){throw new Error(`exception parsing stream chunk ${p}. ${y}`)}}}}finally{a.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=tse+" "+this.clientOptions.userAgentExtra;return e[Qoe]=n,e[Ow]=n,e[Zoe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))n.append(r,a);e.timeout&&e.timeout>0&&n.append(Joe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const i=this.clientOptions.uploader,s=await i.stat(e);a.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=u;const c=await this.fetchUploadUrl(a,n);return i.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let a={};n!=null&&n.httpOptions?a=n.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},s=await this.request({path:Ge("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:a});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function wR(t){var e;if(t===void 0)throw new Mw("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let a;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await t.json():a={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=`got status: ${n} ${r}. ${JSON.stringify(a)}`;throw n>=400&&n<500?new G$(i):n>=500&&n<600?new Mw(i):new Error(i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ise="mcp_used/unknown";function H$(t){for(const e of t)if(YS(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function K$(t){var e;const n=(e=t[Ow])!==null&&e!==void 0?e:"";t[Ow]=(n+` ${ise}`).trimStart()}function ose(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>YS(a)))!==null&&r!==void 0?r:!1}function sse(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>!YS(a)))!==null&&r!==void 0?r:!1}function YS(t){return t!==null&&typeof t=="object"&&t instanceof WS}function lse(t,e=100){return nl(this,arguments,function*(){let r,a=0;for(;a<e;){const i=yield Vt(t.listTools({cursor:r}));for(const s of i.tools)yield yield Vt(s),a++;if(!i.nextCursor)break;r=i.nextCursor}})}class WS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new WS(e,n)}async initialize(){var e,n,r,a;if(this.mcpTools.length>0)return;const i={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Tc(lse(h))),d;d=await c.next(),e=d.done,!e;u=!0){a=d.value,u=!1;const p=a;s.push(p);const y=p.name;if(i[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);i[y]=h}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),ute(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const s=await a.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function use(t,e,n){const r=new Xee;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data);const i=yae(t,a);Object.assign(r,i),e(r)}class cse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=hse(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(C=>{d=C}),p=e.callbacks,y=function(){d({})},_=this.apiClient,S={onopen:y,onmessage:C=>{use(_,p.onmessage,C)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(C){}},A=this.webSocketFactory.create(c,fse(s),S);A.connect(),await h;const T=Ut(this.apiClient,e.model),O=B$(this.apiClient,{model:T}),M=Cw(this.apiClient,{setup:O});return A.send(JSON.stringify(M)),new dse(A,this.apiClient)}}class dse{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Nre(this.apiClient,e),r=q$(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Pre(this.apiClient,e),r=Cw(this.apiClient,n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=Cw(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Xs.PLAY)}pause(){this.sendPlaybackControl(Xs.PAUSE)}stop(){this.sendPlaybackControl(Xs.STOP)}resetContext(){this.sendPlaybackControl(Xs.RESET_CONTEXT)}close(){this.conn.close()}}function fse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function hse(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mse="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pse(t,e,n){const r=new Wee;let a;if(n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),t.isVertexAI()){const i=uae(t,a);Object.assign(r,i)}else{const i=lae(t,a);Object.assign(r,i)}e(r)}class gse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new cse(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,a,i,s,u;const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&H$(e.config.tools)&&K$(p);const y=xse(p);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y);else{const F=this.apiClient.getApiKey();let z="BidiGenerateContent",B="key";F!=null&&F.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),z="BidiGenerateContentConstrained",B="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${z}?${B}=${F}`}let _=()=>{};const S=new Promise(F=>{_=F}),A=e.callbacks,T=function(){var F;(F=A==null?void 0:A.onopen)===null||F===void 0||F.call(A),_({})},O=this.apiClient,M={onopen:T,onmessage:F=>{pse(O,A.onmessage,F)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(F){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(F){}},C=this.webSocketFactory.create(h,bse(y),M);C.connect(),await S;let D=Ut(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const F=this.apiClient.getProject(),z=this.apiClient.getLocation();D=`projects/${F}/locations/${z}/`+D}let E={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[bm.AUDIO]}:e.config.responseModalities=[bm.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],P=[];for(const F of k)if(this.isCallableTool(F)){const z=F;P.push(await z.tool())}else P.push(F);P.length>0&&(e.config.tools=P);const I={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?E=Are(this.apiClient,I):E=Tre(this.apiClient,I),delete E.config,C.send(JSON.stringify(E)),new yse(C,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const vse={turnComplete:!0};class yse{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Kr(e,n.turns),e.isVertexAI()?r=r.map(a=>zl(e,a)):r=r.map(a=>hp(e,a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(mse)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},vse),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Dre(this.apiClient,e)}:n={realtimeInput:Mre(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function bse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function xse(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SR=10;function TR(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(hh(s)){a=!0;break}if(!a)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function hh(t){return"callTool"in t&&typeof t.callTool=="function"}function AR(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _se extends Vl{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,a,i,s,u;const c=await this.processParamsForMcpUsage(n);if(!ose(n)||TR(n.config))return await this.generateContentInternal(c);if(sse(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,h;const p=Kr(this.apiClient,c.contents),y=(i=(a=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&i!==void 0?i:SR;let _=0;for(;_<y&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const S=d.candidates[0].content,A=[];for(const T of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(hh(T)){const M=await T.callTool(d.functionCalls);A.push(...M)}_++,h={role:"user",parts:A},c.contents=Kr(this.apiClient,c.contents),c.contents.push(S),c.contents.push(h),AR(c.config)&&(p.push(S),p.push(h))}return AR(c.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{if(TR(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let i;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((a=c==null?void 0:c.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:s.push(c);let u;return i?u={generatedImages:s,positivePromptSafetyAttributes:i}:u={generatedImages:s},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new fp(Pl.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(a)}}async processParamsForMcpUsage(e){var n,r,a;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const s=await Promise.all(i.map(async c=>hh(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&H$(e.config.tools)){const c=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),K$(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,a;const i=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(hh(s)){const u=s,c=await u.tool();for(const d of(a=c.functionDeclarations)!==null&&a!==void 0?a:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(e){var n,r,a;const i=(a=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:SR;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,h,p){var y,_;return nl(this,arguments,function*(){for(var S,A,T,O;u<i;){s&&(u++,s=!1);const E=yield Vt(d.processParamsForMcpUsage(p)),k=yield Vt(d.generateContentStreamInternal(E)),P=[],I=[];try{for(var M=!0,C=(A=void 0,Tc(k)),D;D=yield Vt(C.next()),S=D.done,!S;M=!0){O=D.value,M=!1;const F=O;if(yield yield Vt(F),F.candidates&&(!((y=F.candidates[0])===null||y===void 0)&&y.content)){I.push(F.candidates[0].content);for(const z of(_=F.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(u<i&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(z.functionCall.name)){const B=yield Vt(h.get(z.functionCall.name).callTool([z.functionCall]));P.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(F){A={error:F}}finally{try{!M&&!S&&(T=C.return)&&(yield Vt(T.call(C)))}finally{if(A)throw A.error}}if(P.length>0){s=!0;const F=new lc;F.candidates=[{content:{role:"user",parts:P}}],yield yield Vt(F);const z=[];z.push(...I),z.push({role:"user",parts:P});const B=Kr(d.apiClient,p.contents).concat(z);p.contents=B}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=yR(this.apiClient,e);return u=Ge("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=xR(this.apiClient,h),y=new lc;return Object.assign(y,p),y})}else{const d=vR(this.apiClient,e);return u=Ge("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=bR(this.apiClient,h),y=new lc;return Object.assign(y,p),y})}}async generateContentStreamInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=yR(this.apiClient,e);u=Ge("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return s=h.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return nl(this,arguments,function*(){var y,_,S,A;try{for(var T=!0,O=Tc(p),M;M=yield Vt(O.next()),y=M.done,!y;T=!0){A=M.value,T=!1;const D=xR(h,yield Vt(A.json())),E=new lc;Object.assign(E,D),yield yield Vt(E)}}catch(C){_={error:C}}finally{try{!T&&!y&&(S=O.return)&&(yield Vt(S.call(O)))}finally{if(_)throw _.error}}})})}else{const d=vR(this.apiClient,e);u=Ge("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return s=h.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return nl(this,arguments,function*(){var y,_,S,A;try{for(var T=!0,O=Tc(p),M;M=yield Vt(O.next()),y=M.done,!y;T=!0){A=M.value,T=!1;const D=bR(h,yield Vt(A.json())),E=new lc;Object.assign(E,D),yield yield Vt(E)}}catch(C){_={error:C}}finally{try{!T&&!y&&(S=O.return)&&(yield Vt(S.call(O)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Mie(this.apiClient,e);return u=Ge("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Ioe(this.apiClient,h),y=new ZP;return Object.assign(y,p),y})}else{const d=Vae(this.apiClient,e);return u=Ge("{model}:batchEmbedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=doe(this.apiClient,h),y=new ZP;return Object.assign(y,p),y})}}async generateImagesInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Nie(this.apiClient,e);return u=Ge("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=$oe(this.apiClient,h),y=new JP;return Object.assign(y,p),y})}else{const d=Gae(this.apiClient,e);return u=Ge("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=moe(this.apiClient,h),y=new JP;return Object.assign(y,p),y})}}async editImageInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Bie(this.apiClient,e);return i=Ge("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=Loe(this.apiClient,c),h=new Vee;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Uie(this.apiClient,e);return i=Ge("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=Boe(this.apiClient,c),h=new zee;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Fie(this.apiClient,e);return u=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>kw(this.apiClient,h))}else{const d=Hae(this.apiClient,e);return u=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Ew(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=zie(this.apiClient,e);return u=Ge("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Voe(this.apiClient,h),y=new QP;return Object.assign(y,p),y})}else{const d=Yae(this.apiClient,e);return u=Ge("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=goe(this.apiClient,h),y=new QP;return Object.assign(y,p),y})}}async update(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Hie(this.apiClient,e);return u=Ge("{model}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>kw(this.apiClient,h))}else{const d=Xae(this.apiClient,e);return u=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Ew(this.apiClient,h))}}async delete(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Kie(this.apiClient,e);return u=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(()=>{const h=zoe(),p=new eR;return Object.assign(p,h),p})}else{const d=Zae(this.apiClient,e);return u=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=voe(),p=new eR;return Object.assign(p,h),p})}}async countTokens(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Wie(this.apiClient,e);return u=Ge("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Goe(this.apiClient,h),y=new tR;return Object.assign(y,p),y})}else{const d=Qae(this.apiClient,e);return u=Ge("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=yoe(this.apiClient,h),y=new tR;return Object.assign(y,p),y})}}async computeTokens(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Xie(this.apiClient,e);return i=Ge("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=Hoe(this.apiClient,c),h=new Gee;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Qie(this.apiClient,e);return u=Ge("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Xoe(this.apiClient,h))}else{const d=nie(this.apiClient,e);return u=Ge("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>woe(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wse(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Sse(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Tse(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["operationName"],r);const a=g(e,["resourceName"]);a!=null&&v(n,["_url","resourceName"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],i),n}function Ase(t,e){const n={},r=g(e,["video","uri"]);r!=null&&v(n,["uri"],r);const a=g(e,["video","encodedVideo"]);a!=null&&v(n,["videoBytes"],Wa(t,a));const i=g(e,["encoding"]);return i!=null&&v(n,["mimeType"],i),n}function Cse(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Ase(t,r)),n}function Ese(t,e){const n={},r=g(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Cse(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function kse(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response","generateVideoResponse"]);return u!=null&&v(n,["response"],Ese(t,u)),n}function Ose(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["uri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["videoBytes"],Wa(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Mse(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Ose(t,r)),n}function Dse(t,e){const n={},r=g(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Mse(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function CR(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],Dse(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nse extends Vl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let i;return r&&"httpOptions"in r&&(i=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:i}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Sse(this.apiClient,e);return u=Ge("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>CR(this.apiClient,h))}else{const d=wse(this.apiClient,e);return u=Ge("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>kse(this.apiClient,h))}}async fetchPredictVideosOperationInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Tse(this.apiClient,e);return i=Ge("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>CR(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pse(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function Y$(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Pse(t,r)),n}function Rse(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],Y$(t,a)),n}function Ise(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Rse(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function jse(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],Y$(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],Ise(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function $se(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Lse(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Bse(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function qse(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],$se(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Lse(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Bse(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const d=g(e,["executableCode"]);d!=null&&v(n,["executableCode"],d);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Use(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>qse(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Fse(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function Vse(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function zse(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Vse(t,r)),n}function Gse(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Hse(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Gse(t,r)),n}function Kse(){return{}}function Yse(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Fse(t,d))),v(n,["functionDeclarations"],c)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],zse(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],Hse(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],Kse());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function Wse(t,e){const n={},r=g(e,["handle"]);if(r!=null&&v(n,["handle"],r),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function ER(){return{}}function Xse(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function Zse(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],Xse(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function Jse(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function Qse(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],Jse(t,a)),n}function ele(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function tle(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const c=g(e,["topK"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","topK"],c);const d=g(e,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const p=g(e,["seed"]);n!==void 0&&p!=null&&v(n,["setup","generationConfig","seed"],p);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],jse(t,HS(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],Use(t,qn(t,S)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let k=xd(t,A);Array.isArray(k)&&(k=k.map(P=>Yse(t,bd(t,P)))),v(n,["setup","tools"],k)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],Wse(t,T));const O=g(e,["inputAudioTranscription"]);n!==void 0&&O!=null&&v(n,["setup","inputAudioTranscription"],ER());const M=g(e,["outputAudioTranscription"]);n!==void 0&&M!=null&&v(n,["setup","outputAudioTranscription"],ER());const C=g(e,["realtimeInputConfig"]);n!==void 0&&C!=null&&v(n,["setup","realtimeInputConfig"],Zse(t,C));const D=g(e,["contextWindowCompression"]);n!==void 0&&D!=null&&v(n,["setup","contextWindowCompression"],Qse(t,D));const E=g(e,["proactivity"]);return n!==void 0&&E!=null&&v(n,["setup","proactivity"],ele(t,E)),r}function nle(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Ut(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],tle(t,a,n)),n}function rle(t,e,n){const r={},a=g(e,["expireTime"]);n!==void 0&&a!=null&&v(n,["expireTime"],a);const i=g(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&v(n,["newSessionExpireTime"],i);const s=g(e,["uses"]);n!==void 0&&s!=null&&v(n,["uses"],s);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],nle(t,u));const c=g(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&v(n,["fieldMask"],c),r}function ale(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],rle(t,r,n)),n}function ile(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["name"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ole(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(i=>`${n}.${i}`);e.push(...a)}else e.push(n)}return e.join(",")}function sle(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(n){const i=ole(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];a.length>0&&(u=a.map(d=>s.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class lle extends Vl{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=ale(this.apiClient,e);i=Ge("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=sle(u,e.config);return a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>ile(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ule(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function cle(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);return n!==void 0&&s!=null&&v(n,["_query","filter"],s),r}function dle(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],cle(t,r,n)),n}function fle(t,e){const n={},r=g(e,["textInput"]);r!=null&&v(n,["textInput"],r);const a=g(e,["output"]);return a!=null&&v(n,["output"],a),n}function hle(t,e){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>fle(t,i))),v(n,["examples","examples"],a)}return n}function mle(t,e,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=g(e,["tunedModelDisplayName"]);if(n!==void 0&&a!=null&&v(n,["displayName"],a),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=g(e,["epochCount"]);n!==void 0&&i!=null&&v(n,["tuningTask","hyperparameters","epochCount"],i);const s=g(e,["learningRateMultiplier"]);if(s!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);n!==void 0&&u!=null&&v(n,["tuningTask","hyperparameters","batchSize"],u);const c=g(e,["learningRate"]);return n!==void 0&&c!=null&&v(n,["tuningTask","hyperparameters","learningRate"],c),r}function ple(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["trainingDataset"]);a!=null&&v(n,["tuningTask","trainingData"],hle(t,a));const i=g(e,["config"]);return i!=null&&v(n,["config"],mle(t,i,n)),n}function gle(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function vle(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);return n!==void 0&&s!=null&&v(n,["_query","filter"],s),r}function yle(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],vle(t,r,n)),n}function ble(t,e,n){const r={},a=g(e,["gcsUri"]);if(n!==void 0&&a!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],a),g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function xle(t,e){const n={},r=g(e,["gcsUri"]);return r!=null&&v(n,["validationDatasetUri"],r),n}function _le(t,e,n){const r={},a=g(e,["validationDataset"]);n!==void 0&&a!=null&&v(n,["supervisedTuningSpec"],xle(t,a));const i=g(e,["tunedModelDisplayName"]);n!==void 0&&i!=null&&v(n,["tunedModelDisplayName"],i);const s=g(e,["description"]);n!==void 0&&s!=null&&v(n,["description"],s);const u=g(e,["epochCount"]);n!==void 0&&u!=null&&v(n,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=g(e,["learningRateMultiplier"]);n!==void 0&&c!=null&&v(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const d=g(e,["exportLastCheckpointOnly"]);n!==void 0&&d!=null&&v(n,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const h=g(e,["adapterSize"]);if(n!==void 0&&h!=null&&v(n,["supervisedTuningSpec","hyperParameters","adapterSize"],h),g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function wle(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["trainingDataset"]);a!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],ble(t,a,n));const i=g(e,["config"]);return i!=null&&v(n,["config"],_le(t,i,n)),n}function Sle(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["model"],r);const a=g(e,["name"]);return a!=null&&v(n,["endpoint"],a),n}function W$(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["state"]);a!=null&&v(n,["state"],D$(t,a));const i=g(e,["createTime"]);i!=null&&v(n,["createTime"],i);const s=g(e,["tuningTask","startTime"]);s!=null&&v(n,["startTime"],s);const u=g(e,["tuningTask","completeTime"]);u!=null&&v(n,["endTime"],u);const c=g(e,["updateTime"]);c!=null&&v(n,["updateTime"],c);const d=g(e,["description"]);d!=null&&v(n,["description"],d);const h=g(e,["baseModel"]);h!=null&&v(n,["baseModel"],h);const p=g(e,["_self"]);p!=null&&v(n,["tunedModel"],Sle(t,p));const y=g(e,["distillationSpec"]);y!=null&&v(n,["distillationSpec"],y);const _=g(e,["experiment"]);_!=null&&v(n,["experiment"],_);const S=g(e,["labels"]);S!=null&&v(n,["labels"],S);const A=g(e,["pipelineJob"]);A!=null&&v(n,["pipelineJob"],A);const T=g(e,["serviceAccount"]);T!=null&&v(n,["serviceAccount"],T);const O=g(e,["tunedModelDisplayName"]);return O!=null&&v(n,["tunedModelDisplayName"],O),n}function Tle(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["tunedModels"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>W$(t,s))),v(n,["tuningJobs"],i)}return n}function Ale(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);return s!=null&&v(n,["error"],s),n}function Cle(t,e){const n={},r=g(e,["checkpointId"]);r!=null&&v(n,["checkpointId"],r);const a=g(e,["epoch"]);a!=null&&v(n,["epoch"],a);const i=g(e,["step"]);i!=null&&v(n,["step"],i);const s=g(e,["endpoint"]);return s!=null&&v(n,["endpoint"],s),n}function Ele(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],r);const a=g(e,["endpoint"]);a!=null&&v(n,["endpoint"],a);const i=g(e,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Cle(t,u))),v(n,["checkpoints"],s)}return n}function Dw(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["state"]);a!=null&&v(n,["state"],D$(t,a));const i=g(e,["createTime"]);i!=null&&v(n,["createTime"],i);const s=g(e,["startTime"]);s!=null&&v(n,["startTime"],s);const u=g(e,["endTime"]);u!=null&&v(n,["endTime"],u);const c=g(e,["updateTime"]);c!=null&&v(n,["updateTime"],c);const d=g(e,["error"]);d!=null&&v(n,["error"],d);const h=g(e,["description"]);h!=null&&v(n,["description"],h);const p=g(e,["baseModel"]);p!=null&&v(n,["baseModel"],p);const y=g(e,["tunedModel"]);y!=null&&v(n,["tunedModel"],Ele(t,y));const _=g(e,["supervisedTuningSpec"]);_!=null&&v(n,["supervisedTuningSpec"],_);const S=g(e,["tuningDataStats"]);S!=null&&v(n,["tuningDataStats"],S);const A=g(e,["encryptionSpec"]);A!=null&&v(n,["encryptionSpec"],A);const T=g(e,["partnerModelTuningSpec"]);T!=null&&v(n,["partnerModelTuningSpec"],T);const O=g(e,["distillationSpec"]);O!=null&&v(n,["distillationSpec"],O);const M=g(e,["experiment"]);M!=null&&v(n,["experiment"],M);const C=g(e,["labels"]);C!=null&&v(n,["labels"],C);const D=g(e,["pipelineJob"]);D!=null&&v(n,["pipelineJob"],D);const E=g(e,["serviceAccount"]);E!=null&&v(n,["serviceAccount"],E);const k=g(e,["tunedModelDisplayName"]);return k!=null&&v(n,["tunedModelDisplayName"],k),n}function kle(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["tuningJobs"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>Dw(t,s))),v(n,["tuningJobs"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ole extends Vl{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new fp(Pl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let a="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?a=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(a=r.name.split("/operations/")[0]),{name:a,state:ww.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=gle(this.apiClient,e);return u=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Dw(this.apiClient,h))}else{const d=ule(this.apiClient,e);return u=Ge("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>W$(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=yle(this.apiClient,e);return u=Ge("tuningJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=kle(this.apiClient,h),y=new nR;return Object.assign(y,p),y})}else{const d=dle(this.apiClient,e);return u=Ge("tunedModels",d._url),c=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Tle(this.apiClient,h),y=new nR;return Object.assign(y,p),y})}}async tuneInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=wle(this.apiClient,e);return i=Ge("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Dw(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ple(this.apiClient,e);return i=Ge("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Ale(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mle{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Dle=1024*1024*8,Nle=3,Ple=1e3,Rle=2,Ix="x-goog-upload-status";async function Ile(t,e,n){var r,a,i;let s=0,u=0,c=new Sw(new Response),d="upload";for(s=t.size;u<s;){const p=Math.min(Dle,s-u),y=t.slice(u,u+p);u+p>=s&&(d+=", finalize");let _=0,S=Ple;for(;_<Nle&&(c=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[Ix]));)_++,await $le(S),S=S*Rle;if(u+=p,((a=c==null?void 0:c.headers)===null||a===void 0?void 0:a[Ix])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(c==null?void 0:c.json());if(((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[Ix])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function jle(t){return{size:t.size,type:t.type}}function $le(t){return new Promise(e=>setTimeout(e,t))}class Lle{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ile(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jle(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ble{create(e,n,r){return new qle(e,n,r)}}class qle{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kR="x-goog-api-key";class Ule{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(kR)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(kR,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fle="gl-node/";class Vle{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Fee(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new Ule(this.apiKey);this.apiClient=new ase({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Fle+"web",uploader:new Lle,downloader:new Mle}),this.models=new _se(this.apiClient),this.live=new gse(this.apiClient,a,new Ble),this.chats=new pne(this.models,this.apiClient),this.caches=new fne(this.apiClient),this.files=new kne(this.apiClient),this.operations=new Nse(this.apiClient),this.authTokens=new lle(this.apiClient),this.tunings=new Ole(this.apiClient)}}const zle="AIzaSyCfl6CKDNyhWMrsIl15kp_IVT2rr_38B1E";let Vn=null;try{Vn=new Vle({apiKey:zle})}catch(t){console.error("Failed to initialize GoogleGenAI:",t),Vn=null}const Bi=()=>!!Vn,Gle=t=>`Você é um assistente financeiro amigável e prestativo para um aplicativo de finanças pessoais.
Data Atual: ${t.currentDate}.
Renda Mensal Informada: ${t.monthlyIncome?`${xe(t.monthlyIncome)} BRL`:"Não informada"}.

Resumo Financeiro do Usuário:
Contas:
${t.accounts.map(n=>{const r=t.accountBalances.find(a=>a.accountId===n.id);return`- ${n.name}: Saldo ${r?xe(r.balance):"N/A"}`}).join(`
`)}

Caixinhas de Dinheiro (Metas):
${t.moneyBoxes&&t.moneyBoxes.length>0?t.moneyBoxes.map(n=>{var a;const r=(a=t.moneyBoxBalances)==null?void 0:a.find(i=>i.moneyBoxId===n.id);return`- ${n.name}: ${xe(r?r.balance:0)} ${n.goal_amount?`(Meta: ${xe(n.goal_amount)})`:""}`}).join(`
`):"Nenhuma caixinha configurada."}

Orçamentos (Despesas):
${t.categories.filter(n=>n.type==="EXPENSE"&&n.monthly_budget).map(n=>`- ${n.name}: Orçamento ${xe(n.monthly_budget||0)}`).join(`
`)||"Nenhum orçamento de despesa configurado."}

Compras Futuras Planejadas:
${t.futurePurchases&&t.futurePurchases.length>0?t.futurePurchases.map(n=>`- ${n.name} (Custo: ${xe(n.estimated_cost)}, Prioridade: ${n.priority}, Status: ${n.status})`).join(`
`):"Nenhuma compra futura planejada."}


Com base neste resumo, forneça uma dica financeira principal, observação ou sugestão para o usuário hoje.
Seja conciso (1-2 frases), prático e encorajador. Não faça perguntas. Não use markdown.
Exemplos de tom: "Lembre-se de verificar seus gastos com Lazer este mês!" ou "Você está indo bem em sua meta de Viagem!".
Dica:`,Hle=(t,e,n,r)=>{var c;const a=e.accountBalances.find(d=>d.accountId===t.account_id),i=a?xe(a.balance):"N/A";let s=`Você é um assistente financeiro. O usuário acabou de registrar uma ${t.type==="INCOME"?"receita":t.type==="EXPENSE"?"despesa":"transferência"}.
Detalhes: Valor ${xe(t.amount)} ${t.description?`descrita como "${t.description}"`:""} na conta "${r||"N/A"}".
${n?`Categoria: "${n}".`:""}
Saldo atual da conta "${r||"N/A"}": ${i}.
`;if(t.type==="EXPENSE"&&n){const d=e.categories.find(h=>h.name===n&&h.type==="EXPENSE");d!=null&&d.monthly_budget&&(s+=`Orçamento para "${n}": ${xe(d.monthly_budget)}. `)}const u=e.moneyBoxes&&e.moneyBoxes.find(d=>t.description&&d.name.toLowerCase().includes(t.description.toLowerCase().substring(0,5))||n&&d.name.toLowerCase().includes(n.toLowerCase().substring(0,5)));if(u){const d=(c=e.moneyBoxBalances)==null?void 0:c.find(h=>h.moneyBoxId===u.id);s+=`Lembre-se da sua caixinha "${u.name}" (Saldo: ${xe(d?d.balance:0)}${u.goal_amount?`, Meta: ${xe(u.goal_amount)}`:""}). `}return s+=`Forneça um breve comentário ou sugestão (máx 1 frase). Não use markdown. Não faça perguntas.
Exemplo: "Ótimo! Continue assim." ou "Fique de olho nos gastos com Comida." ou "Considere guardar uma parte na sua caixinha Viagem."
Comentário:`,s},Kle=(t,e,n,r)=>{var i;return`Você é um assistente financeiro. O usuário tem uma renda mensal de ${xe(e)}.
Ele está pedindo uma sugestão de orçamento para a categoria de despesa: "${t}".

Orçamentos de despesa já definidos pelo usuário:
${n.length>0?n.map(s=>`- ${s.name}: ${xe(s.budget||0)}`).join(`
`):"Nenhum outro orçamento definido."}

Contexto financeiro adicional:
Saldo total em contas: ${xe(r.accountBalances.reduce((s,u)=>s+u.balance,0))}
Total em caixinhas (metas): ${xe(((i=r.moneyBoxBalances)==null?void 0:i.reduce((s,u)=>s+u.balance,0))||0)}

Baseado na renda mensal, nos orçamentos existentes e nos princípios de finanças pessoais (como a regra 50/30/20, mas de forma flexível e adaptada à realidade brasileira), sugira um valor de orçamento mensal para a categoria "${t}".
Responda APENAS com um objeto JSON contendo a chave "suggestedBudget" e o valor numérico sugerido. Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"suggestedBudget": 350}
Sugestão:`},Yle=(t,e)=>{var i,s;const n=e.accountBalances.reduce((u,c)=>u+c.balance,0),r=((i=e.moneyBoxBalances)==null?void 0:i.reduce((u,c)=>u+c.balance,0))||0;return`Você é um assistente financeiro. O usuário deseja comprar "${t.name}", que custa aproximadamente ${xe(t.estimated_cost)}. A prioridade é ${t.priority}.
Data Atual: ${e.currentDate}.
Renda Mensal: ${e.monthlyIncome?xe(e.monthlyIncome):"Não informada"}.
Saldo Total em Contas: ${xe(n)}.
Total Guardado em Caixinhas/Metas: ${xe(r)}.

Orçamentos de Despesa Mensais:
${e.categories.filter(u=>u.type===ve.EXPENSE&&u.monthly_budget).map(u=>`- ${u.name}: ${xe(u.monthly_budget||0)}`).join(`
`)||"Nenhum."}

Outras Compras Futuras Planejadas:
${((s=e.futurePurchases)==null?void 0:s.filter(u=>u.id!==t.id).map(u=>`- ${u.name} (Custo: ${xe(u.estimated_cost)}, Prioridade: ${u.priority})`).join(`
`))||"Nenhuma outra."}

Analise a viabilidade desta compra ("${t.name}").
Considere se o usuário tem fundos suficientes, se a compra impactaria significativamente seus orçamentos ou outras metas.
Se a renda não for informada, baseie-se nos saldos e economias.
Forneça uma análise concisa (2-3 frases) e sugira um status. Status possíveis: ACHIEVABLE_SOON (se viável em breve ou agora), NOT_RECOMMENDED_NOW (se deve adiar), PLANNED (manter como planejado se a análise não for conclusiva ou se depender de mais economia).

Responda APENAS com um objeto JSON contendo as chaves "analysisText" (string com sua análise) e "recommendedStatus" (string com um dos status: 'ACHIEVABLE_SOON', 'NOT_RECOMMENDED_NOW', 'PLANNED').
Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"analysisText": "Comprar ${t.name} parece razoável agora, considerando seus saldos. Lembre-se de ajustar seu orçamento de Lazer.", "recommendedStatus": "ACHIEVABLE_SOON"}
Análise:`},Wle=(t,e)=>`Você é um especialista em finanças e cartões de crédito.
O usuário quer saber o melhor dia para fazer uma compra com o cartão de crédito para maximizar o período sem juros e ter o maior prazo para pagar.

Dados do Cartão de Crédito:
- Dia de Fechamento da Fatura: ${t.closing_day} (Ex: 20, significa dia 20 de cada mês)
- Dia de Vencimento da Fatura: ${t.due_day} (Ex: 05, significa dia 05 de cada mês, geralmente no mês seguinte ao fechamento)

Data Atual: ${e} (Formato: YYYY-MM-DD)

Instruções:
1.  Identifique o próximo ciclo de fatura. O melhor dia para comprar é geralmente o dia imediatamente após o fechamento da fatura atual (se a data atual for ANTES ou NO DIA do fechamento do mês corrente) ou o dia após o fechamento da fatura do próximo mês (se a data atual for APÓS o fechamento do mês corrente).
2.  Determine a data exata (DD de MMMM de YYYY) para este "melhor dia para comprar".
3.  Determine a data exata (DD de MMMM de YYYY) em que o pagamento da fatura (contendo essa compra) seria devido.
4.  Forneça uma explicação clara e concisa (1-2 frases) do porquê esta data é vantajosa, mencionando o prazo estendido.

Responda APENAS com um objeto JSON com as seguintes chaves:
- "bestPurchaseDay": "string" (Data formatada como "DD de MMMM de YYYY", ex: "21 de Julho de 2024")
- "paymentDueDate": "string" (Data formatada como "DD de MMMM de YYYY", ex: "05 de Setembro de 2024")
- "explanation": "string" (Explicação concisa)
- "error": "string" (Opcional: preencha apenas se não puder calcular ou se os dados forem inválidos/inconsistentes)

Exemplo de Cálculo (Data Atual: 2024-07-18, Fechamento: dia 20, Vencimento: dia 05):
- A fatura atual fecha em 20 de Julho de 2024.
- O melhor dia para comprar é 21 de Julho de 2024.
- Essa compra entraria na fatura que fecha em 20 de Agosto de 2024.
- O pagamento dessa fatura seria em 05 de Setembro de 2024.

Exemplo de Cálculo (Data Atual: 2024-07-25, Fechamento: dia 20, Vencimento: dia 05):
- A fatura de Julho já fechou (em 20 de Julho).
- O próximo fechamento é 20 de Agosto.
- O melhor dia para comprar é 21 de Agosto de 2024.
- Essa compra entraria na fatura que fecha em 20 de Setembro de 2024.
- O pagamento dessa fatura seria em 05 de Outubro de 2024.`,Xle=(t,e,n,r,a)=>`Você é um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Mês: ${xe(e)}
${r?`Orçamento Mensal para esta Categoria: ${xe(r)}.`:"Orçamento não definido para esta categoria."}
${r&&a?`Hoje é dia ${a.dayOfMonth} de ${a.daysInMonth} do mês. Proporcionalmente, o gasto esperado até agora seria em torno de ${xe(n)}.`:""}

Com base no gasto atual, ele está significativamente acima do esperado para esta altura do mês ou do orçamento proporcional?
Se sim, forneça um alerta CURTO e DIRETO (1-2 frases). Ex: "Atenção: Seus gastos com ${t} (${xe(e)}) já ultrapassaram o esperado para esta data (${xe(n)})." ou "Gastos com ${t} estão X% acima do esperado para hoje."
Se não houver anomalia clara, ou se o gasto estiver dentro do esperado/orçamento, responda APENAS com a palavra "NORMAL".
Não faça perguntas. Não use markdown.
Alerta:`,Zle=(t,e,n,r,a,i)=>`Você é um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Mês: ${xe(e)}
Orçamento Mensal para esta Categoria: ${xe(n)}
${i?`Hoje é dia ${i.dayOfMonth} de ${i.daysInMonth} do mês. Faltam ${r} dias.`:""}
Projeção de Gasto Total no Mês (mantendo o ritmo atual): ${xe(a)}

Com base no ritmo atual de gastos, há uma projeção de que o orçamento para "${t}" será estourado este mês?
Se sim, forneça um alerta CURTO e DIRETO (1-2 frases), mencionando o possível valor do estouro. Ex: "Alerta: Mantendo este ritmo, seus gastos com ${t} podem exceder o orçamento em cerca de ${xe(a-n)} este mês."
Se não houver projeção clara de estouro, ou se a projeção estiver dentro do orçamento, responda APENAS com a palavra "NORMAL".
Não faça perguntas. Não use markdown.
Alerta:`,Jle=(t,e,n)=>{const r=new Date(n.currentDate);r.setDate(r.getDate()-90);const a=t.filter(i=>i.date>=mt(r)&&i.type===ve.EXPENSE);return`Você é um assistente financeiro que ajuda a identificar despesas recorrentes não cadastradas.
  Analise o histórico de despesas do usuário dos últimos 90 dias (data atual: ${n.currentDate}).
  Procure por pagamentos que se repetem com valores e descrições similares em intervalos regulares (ex: mensais, semanais).
  
  Despesas Recorrentes já cadastradas (NÃO SUGIRA ESTAS):
  ${e.length>0?e.map(i=>`- "${i.description}" (${xe(i.amount)}, ${i.frequency})`).join(`
`):"Nenhuma."}

  Histórico de Transações de Despesa (Últimos 90 dias):
  ${a.map(i=>{var s;return`- Data: ${i.date}, Descrição: "${i.description||((s=n.categories.find(u=>u.id===i.category_id))==null?void 0:s.name)||"Despesa"}", Valor: ${xe(i.amount)}`}).slice(0,30).join(`
`)} 
  ${a.length>30?`
... (e mais ${a.length-30} transações)`:""}

  Se encontrar UMA despesa que parece ser recorrente mas NÃO ESTÁ na lista de já cadastradas, sugira registrá-la.
  Seja específico: "Notei pagamentos para '{Nome do Serviço/Descrição}' de aproximadamente {Valor} em datas como {Data1}, {Data2}. Gostaria de cadastrar como despesa recorrente?"
  Se encontrar múltiplas, sugira a mais óbvia ou mais frequente.
  Se não encontrar nenhuma candidata clara, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas diretas no final, apenas a sugestão como no exemplo.
  Sugestão:`},Qle=(t,e,n,r)=>{const a=new Date(r.currentDate);a.setMonth(a.getMonth()-1);const i=t.filter(d=>d.type===ve.EXPENSE&&d.date>=mt(a));let s=`Você é um coach financeiro que ajuda usuários a encontrar oportunidades de economia.
  Renda Mensal: ${r.monthlyIncome?xe(r.monthlyIncome):"Não informada"}.
  Data Atual: ${r.currentDate}.

  Metas de Economia (Caixinhas):
  ${n.length>0?n.map(d=>`- ${d.name}${d.goal_amount?` (Meta: ${xe(d.goal_amount)})`:""}`).join(`
`):"Nenhuma meta de economia ativa."}

  Gastos do Último Mês (Top 5 categorias por frequência, excluindo essenciais como aluguel, contas fixas de casa):
  `;const u={};i.forEach(d=>{var h;if(d.category_id){const p=((h=e.find(y=>y.id===d.category_id))==null?void 0:h.name)||"Outros";if(["Moradia","Aluguel","Condomínio","Impostos","Luz","Água","Gás","Internet Fixa","Saúde","Educação"].includes(p))return;u[d.category_id]||(u[d.category_id]={total:0,count:0,name:p}),u[d.category_id].total+=d.amount,u[d.category_id].count++}});const c=Object.values(u).sort((d,h)=>h.count-d.count).slice(0,5);return s+=c.map(d=>`- ${d.name}: ${xe(d.total)} em ${d.count} transações`).join(`
`)||"Nenhum gasto relevante encontrado.",s+=`

Identifique UMA categoria onde o usuário parece ter gastos pequenos e frequentes que, somados, são significativos (ex: cafés diários, lanches, delivery, apps de transporte).
  Sugira uma pequena mudança de hábito que poderia gerar economia. Se houver metas (Caixinhas), tente vincular a economia a uma delas.
  Seja prático e positivo. Ex: "Seus gastos com 'Delivery' somaram ${xe(150)} no último mês. Que tal reduzir para uma vez por semana e direcionar ${xe(75)} para sua meta 'Viagem'?"
  Se não houver oportunidade clara ou dados suficientes, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas.
  Sugestão:`,s},eue=(t,e,n,r)=>{const a=n.filter(i=>i.id!==t.id).slice(0,10).map(i=>xe(i.amount));return`Você é um assistente financeiro que detecta transações de valor incomum.
  O usuário registrou uma despesa:
  - Descrição: "${t.description||e}"
  - Categoria: "${e}"
  - Valor: ${xe(t.amount)}
  - Data: ${t.date}

  Valores de despesas recentes nesta categoria ("${e}"): ${a.length>0?a.join(", "):"Nenhuma outra recente."}
  
  O valor desta transação (${xe(t.amount)}) é significativamente mais alto que o normal para esta categoria, baseado nas amostras?
  Se sim, forneça um alerta CURTO. Ex: "Alerta: O valor de ${xe(t.amount)} para ${e} parece mais alto que seus gastos usuais nesta categoria. Está correto?"
  Se o valor parecer normal ou não houver dados suficientes para comparar, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas no final, apenas o alerta como no exemplo.
  Alerta:`},tue=(t,e)=>{var d,h;const n=new Date(t.currentDate);n.setDate(n.getDate()+e);const r=mt(n),a=(d=t.recurringTransactions)==null?void 0:d.filter(p=>p.next_due_date<=r).sort((p,y)=>new Date(p.next_due_date).getTime()-new Date(y.next_due_date).getTime()).map(p=>`- ${p.type===ve.INCOME?"Receita":"Despesa"}: ${p.description} (${xe(p.amount)}) em ${Un(p.next_due_date)}`).join(`
`),i=new Date(t.currentDate);i.setMonth(i.getMonth()-1);const s=(h=t.transactions)==null?void 0:h.filter(p=>{var y;return p.type===ve.EXPENSE&&p.date>=mt(i)&&!((y=t.recurringTransactions)!=null&&y.some(_=>{var S;return _.description.toLowerCase().includes(((S=p.description)==null?void 0:S.toLowerCase())||"xxxx")}))}).reduce((p,y)=>{var S;const _=((S=t.categories.find(A=>A.id===y.category_id))==null?void 0:S.name)||"Outras Despesas";return p[_]=(p[_]||0)+y.amount,p},{}),u=s?Object.entries(s).map(([p,y])=>`- ${p}: aprox. ${xe(y)}/mês`).join(`
`):"Nenhum padrão recente de gastos discricionários encontrado.";let c="";if(t.simulatedTransactionData){const p=t.simulatedTransactionData;c=`
Considere também a seguinte transação SIMULADA para esta projeção:
- Tipo: ${p.type===ve.INCOME?"Receita":"Despesa"}
- Valor: ${xe(p.amount)}
- Data: ${Un(p.date)}
- Descrição: ${p.description||(p.type===ve.INCOME?"Receita Simulada":"Despesa Simulada")}
Esta simulação NÃO está salva, use-a apenas para esta projeção.`}return`Você é um assistente financeiro. Preveja o fluxo de caixa do usuário para os próximos ${e} dias.
Data Atual: ${t.currentDate}.
Projeção até: ${Un(r)}.
Renda Mensal Informada: ${t.monthlyIncome?xe(t.monthlyIncome):"Não informada (use apenas recorrências e histórico)"}.
${c}

Saldos Atuais das Contas Principais:
${t.accounts.map(p=>{const y=t.accountBalances.find(_=>_.accountId===p.id);return`- ${p.name}: ${y?xe(y.balance):"N/A"}`}).join(`
`)}
Saldo Total Combinado: ${xe(t.accountBalances.reduce((p,y)=>p+y.balance,0))}

Transações Recorrentes Programadas (Receitas e Despesas) no Período:
${a||"Nenhuma transação recorrente programada no período."}

Padrão de Gastos Discricionários Recentes (último mês, não recorrentes):
${u}

Analise essas informações e forneça uma projeção textual do fluxo de caixa.
Destaque:
1.  Um resumo geral (ex: "Seu saldo deve permanecer positivo", "Prevê-se um aperto financeiro em meados de [Mês]").
2.  Principais entradas e saídas esperadas e suas datas.
3.  Qualquer data onde o saldo possa ficar perigosamente baixo ou negativo, se aplicável.
Se uma simulação foi fornecida, mencione brevemente o impacto dela.
Seja conciso (3-5 frases). Não use markdown. Responda apenas com a projeção. Se não puder projetar confiavelmente, diga "Não foi possível gerar uma projeção de fluxo de caixa detalhada com os dados atuais."
Projeção:`},Gl=async(t,e,n)=>{var r;if(!Vn||!Bi())return console.warn(`Gemini API not available for ${e}.`),null;try{const i=(r=(await Vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:t})).text)==null?void 0:r.trim();return i&&i.toUpperCase()!=="NORMAL"?i:null}catch(a){return console.error(`Error fetching ${e} from Gemini:`,a),null}},nue=async t=>{var n;if(!Vn||!Bi())return console.warn("Gemini API not available for fetchGeneralAdvice."),{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada.",is_read:!1};const e=Gle(t);try{const a=(n=(await Vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:e})).text)==null?void 0:n.trim();return a?{id:st(),timestamp:new Date().toISOString(),type:"general_advice",content:a,is_read:!1}:{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter um conselho geral no momento (resposta vazia).",is_read:!1}}catch(r){console.error("Error fetching general advice from Gemini:",r);let a="Desculpe, não consegui buscar um conselho geral no momento.";return r instanceof Error&&(a+=` Detalhe: ${r.message}`),{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:a,is_read:!1}}},rue=async(t,e,n,r)=>{var i;if(!Vn||!Bi())return console.warn("Gemini API not available for fetchCommentForTransaction."),{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para comentar transação.",related_transaction_id:t.id,is_read:!1};const a=Hle(t,e,n,r);try{const u=(i=(await Vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:a})).text)==null?void 0:i.trim();return u?{id:st(),timestamp:new Date().toISOString(),type:"transaction_comment",content:u,related_transaction_id:t.id,is_read:!1}:{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível gerar um comentário para esta transação (resposta vazia).",related_transaction_id:t.id,is_read:!1}}catch(s){console.error("Error fetching transaction comment from Gemini:",s);let u="Desculpe, não consegui gerar um comentário para esta transação.";return s instanceof Error&&(u+=` Detalhe: ${s.message}`),{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:u,related_transaction_id:t.id,is_read:!1}}},aue=async(t,e,n,r)=>{var i;if(!Vn||!Bi())return console.warn("Gemini API not available for fetchBudgetSuggestion."),{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para sugerir orçamentos.",is_read:!1};if(!e||e<=0)return{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:"Por favor, informe sua renda mensal na tela do AI Coach para receber sugestões de orçamento.",is_read:!1};const a=Kle(t,e,n,r);try{let u=((i=(await Vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:a,config:{responseMimeType:"application/json"}})).text)==null?void 0:i.trim())||"";const c=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,d=u.match(c);d&&d[2]&&(u=d[2].trim());const h=JSON.parse(u);return h&&typeof h.suggestedBudget=="number"&&h.suggestedBudget>=0?{suggestedBudget:h.suggestedBudget}:{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma sugestão de orçamento válida no momento (resposta inválida da IA).",is_read:!1}}catch(s){console.error("Error fetching budget suggestion from Gemini:",s);let u="Desculpe, não consegui buscar uma sugestão de orçamento.";return s instanceof Error&&(u+=` Detalhe: ${s.message}`),{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:u,is_read:!1}}},iue=async(t,e)=>{var r;if(!Vn||!Bi())return{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para analisar compra futura.",related_future_purchase_id:t.id,is_read:!1};const n=Yle(t,e);try{let i=((r=(await Vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const s=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,u=i.match(s);u&&u[2]&&(i=u[2].trim());const c=JSON.parse(i);return c&&typeof c.analysisText=="string"&&typeof c.recommendedStatus=="string"&&["ACHIEVABLE_SOON","NOT_RECOMMENDED_NOW","PLANNED"].includes(c.recommendedStatus)?{analysisText:c.analysisText,recommendedStatus:c.recommendedStatus}:{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma análise válida da IA para esta compra (resposta inválida).",related_future_purchase_id:t.id,is_read:!1}}catch(a){console.error("Error fetching future purchase analysis from Gemini:",a);let i="Desculpe, não consegui analisar esta compra futura no momento.";return a instanceof Error&&(i+=` Detalhe: ${a.message}`),{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:i,related_future_purchase_id:t.id,is_read:!1}}},oue=async(t,e)=>{var r;if(!Vn||!Bi())return console.warn("Gemini API not available for fetchBestPurchaseDayAdvice."),{bestPurchaseDay:"",paymentDueDate:"",explanation:"AI Coach desativado ou API Key não configurada.",error:"AI Coach desativado ou API Key não configurada."};const n=Wle(t,e);try{let i=((r=(await Vn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const s=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,u=i.match(s);u&&u[2]&&(i=u[2].trim());const c=JSON.parse(i);return c.error?(console.warn("Gemini returned an error for best purchase day:",c.error),{...c,explanation:c.error}):c.bestPurchaseDay&&c.paymentDueDate&&c.explanation?c:{bestPurchaseDay:"",paymentDueDate:"",explanation:"Não foi possível determinar o melhor dia para compra (resposta inválida da IA).",error:"Resposta inválida da IA."}}catch(a){console.error("Error fetching best purchase day advice from Gemini:",a);let i="Desculpe, não consegui determinar o melhor dia para compra no momento.";return a instanceof Error&&(i+=` Detalhe: ${a.message}`),{bestPurchaseDay:"",paymentDueDate:"",explanation:i,error:i}}},sue=async(t,e,n,r,a,i)=>{const s=Xle(t,e,n,r,a),u=await Gl(s,"spending_anomaly_category");return u?{id:st(),timestamp:new Date().toISOString(),type:"spending_anomaly_category",content:u,related_category_id:i,is_read:!1}:null},lue=async(t,e,n,r,a,i,s)=>{const u=Zle(t,e,n,r,a,i),c=await Gl(u,"budget_overspend_projection");return c?{id:st(),timestamp:new Date().toISOString(),type:"budget_overspend_projection",content:c,related_category_id:s,is_read:!1}:null},uue=async(t,e,n)=>{const r=Jle(t,e.map(i=>({description:i.description,amount:i.amount,type:i.type,frequency:i.frequency,category_id:i.category_id})),n),a=await Gl(r,"recurring_payment_candidate");return a?{id:st(),timestamp:new Date().toISOString(),type:"recurring_payment_candidate",content:a,is_read:!1}:null},cue=async(t,e,n,r)=>{const a=Qle(t,e.map(s=>({id:s.id,name:s.name,type:s.type})),n.map(s=>({id:s.id,name:s.name,goal_amount:s.goal_amount})),r),i=await Gl(a,"saving_opportunity_suggestion");return i?{id:st(),timestamp:new Date().toISOString(),type:"saving_opportunity_suggestion",content:i,is_read:!1}:null},due=async(t,e,n,r)=>{const a=eue(t,e,n),i=await Gl(a,"unusual_transaction_value",t.category_id);return i?{id:st(),timestamp:new Date().toISOString(),type:"unusual_transaction_value",content:i,related_transaction_id:t.id,related_category_id:t.category_id,is_read:!1}:null},fue=async(t,e)=>{const n=tue(t,e),r=await Gl(n,"cash_flow_projection");return r?{id:st(),timestamp:new Date().toISOString(),type:"cash_flow_projection",content:r,is_read:!1}:{id:st(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível gerar uma projeção de fluxo de caixa com os dados atuais.",is_read:!1}},hue=(t,e,n)=>{const r=new Date(t+"T00:00:00");switch(e){case"daily":r.setDate(r.getDate()+1);break;case"weekly":r.setDate(r.getDate()+7);break;case"monthly":r.setMonth(r.getMonth()+1);break;case"yearly":r.setFullYear(r.getFullYear()+1);break;case"custom_days":r.setDate(r.getDate()+(n||1));break}return mt(r)},mue=({creditCards:t,installmentPurchases:e,aiConfig:n,onAddCreditCard:r,onUpdateCreditCard:a,onDeleteCreditCard:i,onAddInstallmentPurchase:s,onUpdateInstallmentPurchase:u,onDeleteInstallmentPurchase:c,onMarkInstallmentPaid:d,onPayMonthlyInstallments:h,isPrivacyModeEnabled:p})=>{const{addToast:y}=QR(),[_,S]=j.useState(!1),[A,T]=j.useState(null),[O,M]=j.useState(!1),[C,D]=j.useState(null),[E,k]=j.useState(null),[P,I]=j.useState(!1),[F,z]=j.useState(null),[B,W]=j.useState(!1),[Q,Y]=j.useState(null),q=()=>{T(null),S(!0)},$=ae=>{T(ae),S(!0)},V=ae=>{A?a({...ae,user_id:A.user_id,created_at:A.created_at,updated_at:new Date().toISOString()}):r(ae)},J=ae=>{k(ae),D(null),M(!0)},oe=(ae,ce)=>{k(ce),D(ae),M(!0)},U=ae=>{C?u({...ae,user_id:C.user_id,created_at:C.created_at,updated_at:new Date().toISOString()}):s(ae)},K=j.useCallback(async ae=>{if(!n.isEnabled||n.apiKeyStatus!=="available"){y("AI Coach desativado ou API Key indisponível.","warning");return}const ce=t.find(Pe=>Pe.id===ae);if(!ce)return;Y(ce),W(!0),I(!0),z(null);const ye=await oue({name:ce.name,closing_day:ce.closing_day,due_day:ce.due_day},mt());z(ye),W(!1),ye!=null&&ye.error&&y(ye.explanation||"Erro ao buscar sugestão da IA.","error")},[n,t,y]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Cartões de Crédito"}),x.jsxs(be,{onClick:q,variant:"primary",children:[x.jsx(Dn,{className:"w-5 h-5 mr-2"}),"Novo Cartão"]})]}),t.length>0?x.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(ae=>x.jsx(ree,{card:ae,installmentPurchases:e.filter(ce=>ce.credit_card_id===ae.id),onEditCard:$,onDeleteCard:i,onAddInstallmentPurchase:J,onEditInstallmentPurchase:oe,onDeleteInstallmentPurchase:c,onMarkInstallmentPaid:d,onGetBestPurchaseDay:K,onPayMonthlyInstallments:h,isAIFeatureEnabled:n.isEnabled&&n.apiKeyStatus==="available",isPrivacyModeEnabled:p},ae.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhum cartão de crédito cadastrado."}),x.jsx(aee,{isOpen:_,onClose:()=>S(!1),onSave:V,existingCard:A}),E&&x.jsx(iee,{isOpen:O,onClose:()=>M(!1),onSave:U,creditCard:E,existingPurchase:C}),x.jsx(oee,{isOpen:P,onClose:()=>I(!1),advice:F,isLoading:B,cardName:Q==null?void 0:Q.name})]})},X$=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h13.5m-13.5 4.5h13.5m-13.5 4.5h13.5m3-13.5V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v3.75m13.5 0v3.75m-13.5-3.75v3.75m1.5-9V3.75c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125V5.25m-3 0h3m6 0v2.25m0 0v1.5m0 0v1.5m0 0V15m0 0v-1.5m0 0V9.75M7.5 5.25h9M7.5 12h9m-9 4.5h9M5.25 19.5h13.5a2.25 2.25 0 0 0 2.25-2.25V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v12a2.25 2.25 0 0 0 2.25 2.25Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h-3m3 0V12m0 0v-2.25"})]}),pue=({moneyBox:t,balance:e,onEdit:n,onDelete:r,onOpenTransactionModal:a,onOpenHistoryModal:i,isPrivacyModeEnabled:s,hasTransactions:u})=>{const c=t.goal_amount&&t.goal_amount>0?Math.min(e/t.goal_amount*100,100):0,d=t.color?{borderLeftColor:t.color,borderLeftWidth:"4px"}:{},h=t.color?{backgroundColor:t.color}:{backgroundColor:"var(--color-primary)"};return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",style:d,children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx(X$,{className:"w-6 h-6",style:{color:t.color||"currentColor"}}),x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),x.jsx("p",{className:"text-2xl font-bold",style:{color:t.color||"var(--color-primary)"},children:xe(e,"BRL","pt-BR",s)}),t.goal_amount&&t.goal_amount>0&&x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Meta: ",xe(t.goal_amount,"BRL","pt-BR",s)]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[x.jsxs("div",{className:"flex space-x-1",children:[x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Caixinha",className:"!p-1.5",children:x.jsx(Wr,{className:"w-4 h-4"})}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Caixinha",className:"!p-1.5",disabled:u,title:u?"Não pode excluir caixinhas com transações":"Excluir caixinha",children:x.jsx(Yr,{className:`w-4 h-4 ${u?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>i(t),"aria-label":"Ver Histórico",className:"text-xs !px-2 !py-1",children:"Histórico"})]})]}),t.goal_amount&&t.goal_amount>0&&x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:x.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${c}%`,...h}})}),x.jsxs("div",{className:"flex justify-start space-x-2 pt-1",children:[x.jsxs(be,{size:"sm",variant:"secondary",onClick:()=>a(t,fr.DEPOSIT),className:"!bg-opacity-80 dark:!bg-opacity-80",style:t.color?{backgroundColor:t.color}:{},children:[x.jsx(Dn,{className:"w-4 h-4 mr-1"})," Depositar"]}),x.jsx(be,{size:"sm",variant:"ghost",onClick:()=>a(t,fr.WITHDRAWAL),className:"border border-borderBase dark:border-borderBaseDark",children:"Sacar"})]})]})},uh=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],gue=({isOpen:t,onClose:e,onSave:n,existingMoneyBox:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState(""),[c,d]=j.useState(uh[0]),[h,p]=j.useState({});j.useEffect(()=>{var S;r?(i(r.name),u(((S=r.goal_amount)==null?void 0:S.toString())||""),d(r.color||uh[0])):(i(""),u(""),d(uh[0])),p({})},[r,t]);const y=()=>{const S={};return a.trim()||(S.name="Nome da caixinha é obrigatório."),s&&(isNaN(parseFloat(s))||parseFloat(s)<0)&&(S.goalAmount="Meta deve ser um número positivo ou vazio."),p(S),Object.keys(S).length===0},_=()=>{if(!y())return;const S={id:(r==null?void 0:r.id)||st(),name:a.trim(),goal_amount:s?parseFloat(s):void 0,icon:"piggy-bank",color:c};n(S),e()};return x.jsx(Nn,{isOpen:t,onClose:e,title:r?"Editar Caixinha":"Nova Caixinha",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Be,{label:"Nome da Caixinha",id:"moneyBoxName",value:a,onChange:S=>i(S.target.value),error:h.name,placeholder:"Ex: Reserva de Emergência, Viagem"}),x.jsx(Be,{label:"Meta de Valor (Opcional)",id:"moneyBoxGoal",type:"number",step:"0.01",value:s,onChange:S=>u(S.target.value),error:h.goalAmount,placeholder:"Ex: 1000.00"}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"moneyBoxColor",className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor de Destaque"}),x.jsx("div",{className:"flex space-x-2",children:uh.map(S=>x.jsx("button",{type:"button",onClick:()=>d(S),className:`w-8 h-8 rounded-full border-2 ${c===S?"border-primary dark:border-primaryDark ring-2 ring-primary dark:ring-primaryDark ring-offset-2 dark:ring-offset-surfaceDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:S},"aria-label":`Selecionar cor ${S}`,"aria-pressed":c===S},S))})]}),h.form&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:h.form}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(be,{variant:"primary",onClick:_,children:"Salvar Caixinha"})]})]})})},vue=({isOpen:t,onClose:e,onSave:n,moneyBox:r,accounts:a,transactionType:i})=>{const[s,u]=j.useState(""),[c,d]=j.useState(mt()),[h,p]=j.useState(""),[y,_]=j.useState(""),[S,A]=j.useState(!1),[T,O]=j.useState({});j.useEffect(()=>{t&&(u(""),d(mt()),p(""),_(a.length>0?a[0].id:""),A(!1),O({}))},[t,a]);const M=()=>{const k={};return(!s||parseFloat(s)<=0)&&(k.amount="Valor deve ser positivo."),c||(k.date="Data é obrigatória."),S&&!y&&(k.linkedAccountId="Conta para vínculo é obrigatória."),O(k),Object.keys(k).length===0},C=()=>{if(!M())return;const k={money_box_id:r.id,type:i,amount:parseFloat(s),date:c,description:h.trim()||void 0};n(k,S,y),e()},D=i===fr.DEPOSIT?"Depositar na Caixinha":"Sacar da Caixinha",E=i===fr.DEPOSIT?"Registrar como despesa na conta:":"Registrar como receita na conta:";return x.jsx(Nn,{isOpen:t,onClose:e,title:`${D}: ${r.name}`,children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Be,{label:"Valor",id:"mbAmount",type:"number",step:"0.01",value:s,onChange:k=>u(k.target.value),error:T.amount,required:!0}),x.jsx(Be,{label:"Data",id:"mbDate",type:"date",value:c,onChange:k=>d(k.target.value),error:T.date,required:!0}),x.jsx(Be,{label:"Descrição (Opcional)",id:"mbDescription",type:"text",value:h,onChange:k=>p(k.target.value)}),a.length>0&&x.jsxs("div",{className:"pt-2",children:[x.jsxs("label",{className:"flex items-center space-x-2",children:[x.jsx("input",{type:"checkbox",checked:S,onChange:k=>A(k.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark"}),x.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:i===fr.DEPOSIT?"Vincular a uma despesa de conta?":"Vincular a uma receita em conta?"})]}),S&&x.jsx(Nt,{containerClassName:"mt-2",label:E,id:"mbLinkedAccount",options:a.map(k=>({value:k.id,label:k.name})),value:y,onChange:k=>_(k.target.value),error:T.linkedAccountId,placeholder:"Selecione uma conta"})]}),T.form&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:T.form}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(be,{type:"button",variant:"primary",onClick:C,children:i===fr.DEPOSIT?"Depositar":"Sacar"})]})]})})},yue=({isOpen:t,onClose:e,moneyBox:n,transactions:r,onDeleteTransaction:a,isPrivacyModeEnabled:i})=>{const s=r.filter(u=>u.money_box_id===n.id).sort((u,c)=>new Date(c.date).getTime()-new Date(u.date).getTime());return x.jsx(Nn,{isOpen:t,onClose:e,title:`Histórico: ${n.name}`,size:"lg",children:s.length===0?x.jsx("p",{className:"text-textMuted dark:text-textMutedDark text-center py-4",children:"Nenhuma transação nesta caixinha ainda."}):x.jsx("ul",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:s.map(u=>{const c=u.type===fr.DEPOSIT,d=c?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",h=c?"+":"-";return x.jsx("li",{className:"p-3 bg-surface/50 dark:bg-surfaceDark/50 rounded-md",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("p",{className:`font-semibold ${d}`,children:[h," ",xe(u.amount,"BRL","pt-BR",i)]}),x.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:Un(u.date)}),u.description&&x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark italic",children:u.description}),u.linked_transaction_id&&x.jsx("p",{className:"text-xs text-neutral dark:text-neutralDark",children:"(Vinculado a uma transação principal)"})]}),x.jsx("button",{onClick:()=>{window.confirm(`Excluir esta transação da caixinha? ${u.linked_transaction_id?"\\nA transação principal vinculada NÃO será excluída automaticamente por esta ação.":""}`)&&a(u.id,u.linked_transaction_id)},className:"text-xs text-destructive dark:text-destructiveDark hover:underline","aria-label":"Excluir transação da caixinha",title:"Excluir transação da caixinha",children:"Excluir"})]})},u.id)})})})},bue=({moneyBoxes:t,moneyBoxTransactions:e,accounts:n,onAddMoneyBox:r,onUpdateMoneyBox:a,onDeleteMoneyBox:i,onAddMoneyBoxTransaction:s,onDeleteMoneyBoxTransaction:u,calculateMoneyBoxBalance:c,isPrivacyModeEnabled:d})=>{const[h,p]=j.useState(!1),[y,_]=j.useState(null),[S,A]=j.useState(!1),[T,O]=j.useState(null),[M,C]=j.useState(fr.DEPOSIT),[D,E]=j.useState(!1),[k,P]=j.useState(null),I=()=>{_(null),p(!0)},F=Y=>{_(Y),p(!0)},z=(Y,q)=>{O(Y),C(q),A(!0)},B=Y=>{P(Y),E(!0)},W=Y=>{i(Y)},Q=j.useMemo(()=>t.reduce((Y,q)=>Y+c(q.id),0),[t,c]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Minhas Caixinhas"}),t.length>0&&x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total guardado: ",x.jsx("span",{className:"font-semibold text-secondary dark:text-secondaryDark",children:xe(Q,"BRL","pt-BR",d)})]})]}),x.jsxs(be,{onClick:I,variant:"primary",children:[x.jsx(Dn,{className:"w-5 h-5 mr-2"}),"Nova Caixinha"]})]}),t.length>0?x.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(Y=>x.jsx(pue,{moneyBox:Y,balance:c(Y.id),onEdit:F,onDelete:W,onOpenTransactionModal:z,onOpenHistoryModal:B,isPrivacyModeEnabled:d,hasTransactions:e.some(q=>q.money_box_id===Y.id)},Y.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma caixinha criada. Crie uma para começar a guardar dinheiro!"}),x.jsx(gue,{isOpen:h,onClose:()=>p(!1),onSave:y?a:r,existingMoneyBox:y}),T&&x.jsx(vue,{isOpen:S,onClose:()=>A(!1),onSave:s,moneyBox:T,accounts:n,transactionType:M}),k&&x.jsx(yue,{isOpen:D,onClose:()=>E(!1),moneyBox:k,transactions:e,onDeleteTransaction:u,isPrivacyModeEnabled:d})]})},XS=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})}),xue=t=>{switch(t){case"PLANNED":return{text:"Planejado",colorClasses:"bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300"};case"CONSIDERING":return{text:"Considerando",colorClasses:"bg-gray-100 text-gray-700 dark:bg-gray-700/30 dark:text-gray-300"};case"ACHIEVABLE_SOON":return{text:"Viável em Breve",colorClasses:"bg-green-100 text-green-700 dark:bg-green-700/30 dark:text-green-300"};case"NOT_RECOMMENDED_NOW":return{text:"Adiar Compra",colorClasses:"bg-red-100 text-red-700 dark:bg-red-700/30 dark:text-red-300"};case"AI_ANALYZING":return{text:"Analisando...",colorClasses:"bg-yellow-100 text-yellow-700 dark:bg-yellow-700/30 dark:text-yellow-300 animate-pulse"};default:return{text:"Desconhecido",colorClasses:"bg-gray-200 text-gray-800"}}},_ue={low:"Baixa",medium:"Média",high:"Alta"},wue=({purchase:t,onEdit:e,onDelete:n,onAnalyze:r,isPrivacyModeEnabled:a})=>{const{name:i,estimated_cost:s,priority:u,notes:c,status:d,created_at:h,ai_analysis:p,ai_analyzed_at:y}=t,_=xue(d);return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx(XS,{className:"w-5 h-5 text-primary dark:text-primaryDark flex-shrink-0"}),x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:i})]}),x.jsx("p",{className:"text-xl font-bold text-primary dark:text-primaryDark",children:xe(s,"BRL","pt-BR",a)}),x.jsxs("div",{className:"flex items-center space-x-2 text-xs text-textMuted dark:text-textMutedDark mt-0.5",children:[x.jsxs("span",{children:["Prioridade: ",_ue[u]]}),x.jsx("span",{children:"•"}),x.jsxs("span",{children:["Criado em: ",Un(h)]})]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[x.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${_.colorClasses}`,children:_.text}),x.jsxs("div",{className:"flex space-x-1 mt-1",children:[x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>e(t),"aria-label":"Editar Compra Futura",className:"!p-1.5",children:x.jsx(Wr,{className:"w-4 h-4"})}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t.id),"aria-label":"Excluir Compra Futura",className:"!p-1.5",children:x.jsx(Yr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})]}),c&&x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark italic border-t border-borderBase/30 dark:border-borderBaseDark/30 pt-2 mt-2",children:["Notas: ",c]}),p&&x.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-3 rounded-md mt-2 border-l-4 border-primary dark:border-primaryDark",children:[x.jsxs("p",{className:"text-sm font-semibold text-primary dark:text-primaryDark mb-1",children:["Análise da IA (",y?Un(y,"pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Recente","):"]}),x.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:p})]}),x.jsx("div",{className:"pt-2 border-t border-borderBase/30 dark:border-borderBaseDark/30 mt-auto",children:x.jsxs(be,{variant:"secondary",size:"sm",onClick:()=>r(t.id),disabled:d==="AI_ANALYZING",className:"w-full sm:w-auto",children:[x.jsx(fm,{className:"w-4 h-4 mr-1.5"}),d==="AI_ANALYZING"?"Analisando...":"Analisar com IA"]})})]})},_d=({label:t,id:e,error:n,className:r,containerClassName:a,...i})=>x.jsxs("div",{className:a,children:[t&&x.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),x.jsx("textarea",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...i}),n&&x.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),Sue=[{value:"low",label:"Baixa"},{value:"medium",label:"Média"},{value:"high",label:"Alta"}],Tue=({isOpen:t,onClose:e,onSave:n,existingPurchase:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState(""),[c,d]=j.useState("medium"),[h,p]=j.useState(""),[y,_]=j.useState({});j.useEffect(()=>{t&&(r?(i(r.name),u(r.estimated_cost.toString()),d(r.priority),p(r.notes||"")):(i(""),u(""),d("medium"),p("")),_({}))},[r,t]);const S=()=>{const T={};a.trim()||(T.name="Nome do item é obrigatório.");const O=parseFloat(s);return(isNaN(O)||O<=0)&&(T.estimatedCost="Custo estimado deve ser um número positivo."),_(T),Object.keys(T).length===0},A=()=>{if(!S())return;const T={name:a.trim(),estimated_cost:parseFloat(s),priority:c,notes:h.trim()||void 0},O=r?{...T,id:r.id}:{...T,id:st()};n(O),e()};return x.jsx(Nn,{isOpen:t,onClose:e,title:r?"Editar Compra Futura":"Nova Compra Futura",size:"md",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Be,{label:"Nome do Item/Objetivo",id:"fpName",value:a,onChange:T=>i(T.target.value),error:y.name,placeholder:"Ex: Novo Celular, Viagem para a Praia",required:!0}),x.jsx(Be,{label:"Custo Estimado (R$)",id:"fpEstimatedCost",type:"number",step:"0.01",value:s,onChange:T=>u(T.target.value),error:y.estimatedCost,placeholder:"Ex: 2500.00",required:!0}),x.jsx(Nt,{label:"Prioridade",id:"fpPriority",options:Sue,value:c,onChange:T=>d(T.target.value)}),x.jsx(_d,{label:"Notas (Opcional)",id:"fpNotes",value:h,onChange:T=>p(T.target.value),rows:3,placeholder:"Detalhes adicionais, link do produto, etc."}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(be,{type:"button",variant:"primary",onClick:A,children:r?"Salvar Alterações":"Adicionar Compra"})]})]})})},Aue=[{value:"all",label:"Todas Prioridades"},{value:"high",label:"Alta"},{value:"medium",label:"Média"},{value:"low",label:"Baixa"}],Cue=[{value:"all",label:"Todos Status"},{value:"PLANNED",label:"Planejado"},{value:"CONSIDERING",label:"Considerando"},{value:"ACHIEVABLE_SOON",label:"Viável em Breve"},{value:"NOT_RECOMMENDED_NOW",label:"Adiar Compra"},{value:"AI_ANALYZING",label:"Analisando"}],Eue=({futurePurchases:t,onAddFuturePurchase:e,onUpdateFuturePurchase:n,onDeleteFuturePurchase:r,onAnalyzeFuturePurchase:a,isPrivacyModeEnabled:i})=>{const[s,u]=j.useState(!1),[c,d]=j.useState(null),[h,p]=j.useState("all"),[y,_]=j.useState("all"),[S,A]=j.useState("date_desc"),T=()=>{d(null),u(!0)},O=C=>{d(C),u(!0)},M=j.useMemo(()=>{let C=[...t];return h!=="all"&&(C=C.filter(D=>D.priority===h)),y!=="all"&&(C=C.filter(D=>D.status===y)),C.sort((D,E)=>{switch(S){case"cost_desc":return E.estimated_cost-D.estimated_cost;case"cost_asc":return D.estimated_cost-E.estimated_cost;case"date_asc":return new Date(D.created_at).getTime()-new Date(E.created_at).getTime();case"date_desc":default:return new Date(E.created_at).getTime()-new Date(D.created_at).getTime()}}),C},[t,h,y,S]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(XS,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Compras Futuras & Objetivos"})]}),x.jsxs(be,{onClick:T,variant:"primary",children:[x.jsx(Dn,{className:"w-5 h-5 mr-2"}),"Adicionar Compra Desejada"]})]}),t.length>0&&x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx(Nt,{label:"Filtrar por Prioridade",options:Aue,value:h,onChange:C=>p(C.target.value)}),x.jsx(Nt,{label:"Filtrar por Status",options:Cue,value:y,onChange:C=>_(C.target.value)}),x.jsx(Nt,{label:"Ordenar Por",options:[{value:"date_desc",label:"Mais Recentes Primeiro"},{value:"date_asc",label:"Mais Antigos Primeiro"},{value:"cost_desc",label:"Maior Custo"},{value:"cost_asc",label:"Menor Custo"}],value:S,onChange:C=>A(C.target.value)})]}),M.length>0?x.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(C=>x.jsx(wue,{purchase:C,onEdit:O,onDelete:r,onAnalyze:a,isPrivacyModeEnabled:i},C.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:t.length===0?"Nenhuma compra futura planejada. Adicione uma para começar!":"Nenhuma compra encontrada com os filtros aplicados."}),x.jsx(Tue,{isOpen:s,onClose:()=>u(!1),onSave:c?C=>n({...C,id:c.id}):e,existingPurchase:c})]})},kue=({allData:t,userPreferencesToExport:e,activeProfileName:n,user:r})=>{const a=async()=>{if(!r){alert("Nenhum usuário logado para exportar dados.");return}const i=n?n.replace(/\s+/g,"_"):"usuario_desconhecido",s={profileName:n||"N/A",exportedAt:new Date().toISOString(),supabaseSchemaVersion:"2.0",userPreferences:e,...t},u=JSON.stringify(s,null,2),c=new Blob([u],{type:"application/json"}),d=URL.createObjectURL(c),h=document.createElement("a");h.href=d,h.download=`financeiro_pessoal_${i}_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(d)};return x.jsxs("div",{className:"space-y-8 p-4 md:p-6",children:[x.jsxs("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:["Gerenciamento de Dados: ",x.jsx("span",{className:"text-primary dark:text-primaryDark",children:n})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Exportar Dados"}),x.jsxs("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:["Faça um backup completo dos seus dados (",n,") em um arquivo JSON."]}),x.jsx(be,{onClick:a,variant:"secondary",children:"Exportar Todos os Dados (.json)"})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Importar Dados"}),x.jsx("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:"A importação de dados a partir de um arquivo JSON não é suportada nesta versão do aplicativo. Para restaurar dados, considere utilizar ferramentas de gerenciamento de banco de dados diretamente com o Supabase, se aplicável."})]}),e&&x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Backup Automático em Arquivo (Local)"}),x.jsxs("p",{className:"text-textMuted dark:text-textMutedDark",children:[e.ai_auto_backup_enabled?"Backup automático local em arquivo está ATIVADO.":"Backup automático local em arquivo está DESATIVADO.",x.jsx("span",{className:"block text-xs",children:"Isso é um backup extra em arquivo JSON no seu dispositivo, independente da sincronização com o Supabase."})]})]})]})},Oue=({tag:t,transactionCount:e,onEdit:n,onDelete:r})=>{t.color&&(t.color,t.color),t.color,t.color;const i=(s=>{if(!s)return"text-textBase dark:text-textBaseDark";const u=parseInt(s.slice(1,3),16),c=parseInt(s.slice(3,5),16),d=parseInt(s.slice(5,7),16);return(.299*u+.587*c+.114*d)/255>.5?"text-neutral-800":"text-white"})(t.color);return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-3 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex justify-between items-center",children:[x.jsx("div",{className:"flex items-center",children:x.jsx("span",{className:`text-xs font-semibold mr-3 px-2.5 py-1 rounded-full inline-block border
                        ${t.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:t.color?{backgroundColor:t.color,borderColor:t.color}:{},children:x.jsx("span",{className:t.color?i:"text-textBase dark:text-textBaseDark",children:t.name})})}),x.jsxs("div",{className:"flex items-center space-x-1",children:[e>0&&x.jsxs("span",{className:"text-xs text-textMuted dark:text-textMutedDark mr-2",children:["(",e," trans.)"]}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Tag",className:"!p-1.5",children:x.jsx(Wr,{className:"w-4 h-4"})}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Tag",className:"!p-1.5",disabled:e>0,title:e>0?"Não é possível excluir tags em uso":"Excluir Tag",children:x.jsx(Yr,{className:`w-4 h-4 ${e>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]})},OR=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6","#A3A3A3"],Mue=({isOpen:t,onClose:e,onSave:n,existingTag:r,allTagNames:a=[]})=>{const[i,s]=j.useState(""),[u,c]=j.useState(void 0),[d,h]=j.useState("");j.useEffect(()=>{t&&(r?(s(r.name),c(r.color)):(s(""),c(OR[0])),h(""))},[r,t]);const p=()=>{const y=i.trim();if(!y){h("Nome da tag é obrigatório.");return}if(a.filter(S=>r?S.toLowerCase()!==r.name.toLowerCase():!0).includes(y.toLowerCase())){h("Já existe uma tag com este nome.");return}h(""),n({id:(r==null?void 0:r.id)||st(),name:y,color:u}),e()};return x.jsx(Nn,{isOpen:t,onClose:e,title:r?"Editar Tag":"Nova Tag",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Be,{label:"Nome da Tag",id:"tagName",value:i,onChange:y=>s(y.target.value),error:d,placeholder:"Ex: Viagem, Pessoal, Urgente"}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor (Opcional)"}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[OR.map(y=>x.jsx("button",{type:"button",onClick:()=>c(y),className:`w-7 h-7 rounded-full border-2 transition-all
                            ${u===y?"ring-2 ring-offset-2 dark:ring-offset-surfaceDark border-primary dark:border-primaryDark ring-primary dark:ring-primaryDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:y},"aria-label":`Selecionar cor ${y}`,"aria-pressed":u===y},y)),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>c(void 0),className:`h-7 px-2 ${u?"":"bg-neutral/20 dark:bg-neutralDark/30"}`,title:"Remover cor",children:"Sem Cor"})]})]}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(be,{variant:"primary",onClick:p,children:"Salvar"})]})]})})},Due=({tags:t,transactions:e,onAddTag:n,onUpdateTag:r,onDeleteTag:a})=>{const[i,s]=j.useState(!1),[u,c]=j.useState(null),d=()=>{c(null),s(!0)},h=_=>{c(_),s(!0)},p=_=>e.filter(S=>{var A;return(A=S.tag_ids)==null?void 0:A.includes(_)}).length,y=t.map(_=>_.name);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Tags"}),x.jsxs(be,{onClick:d,variant:"primary",children:[x.jsx(Dn,{className:"w-5 h-5 mr-2"}),"Nova Tag"]})]}),t.length>0?x.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(_=>x.jsx(Oue,{tag:_,transactionCount:p(_.id),onEdit:h,onDelete:a},_.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma tag cadastrada. Crie tags para organizar melhor suas transações!"}),x.jsx(Mue,{isOpen:i,onClose:()=>s(!1),onSave:u?r:n,existingTag:u,allTagNames:y})]})},wm=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),jx=({rt:t,accounts:e,categories:n,onEdit:r,onDelete:a,onTogglePause:i,isPrivacyModeEnabled:s})=>{const u=e.find(y=>y.id===t.account_id),c=t.category_id?n.find(y=>y.id===t.category_id):null;let d="text-textBase dark:text-textBaseDark",h="";t.type===ve.INCOME?(d="text-secondary dark:text-secondaryDark",h="+"):t.type===ve.EXPENSE&&(d="text-destructive dark:text-destructiveDark",h="-");const p={daily:"Diariamente",weekly:"Semanalmente",monthly:"Mensalmente",yearly:"Anualmente",custom_days:`A cada ${t.custom_interval_days} dias`};return x.jsx("li",{className:`bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 ${t.is_paused?"opacity-60":""}`,children:x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[x.jsx(wm,{className:`w-5 h-5 ${t.is_paused?"text-textMuted dark:text-textMutedDark":"text-primary dark:text-primaryDark"}`}),x.jsxs("span",{className:`font-semibold text-lg ${d}`,children:[h,xe(t.amount,"BRL","pt-BR",s)]}),x.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.description})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-8",children:[p[t.frequency]," • Próximo: ",Un(t.next_due_date),t.end_date&&` &bull; Termina em: ${Un(t.end_date)}`,t.remaining_occurrences!==void 0&&t.occurrences&&` &bull; (${t.remaining_occurrences}/${t.occurrences} restantes)`]}),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark ml-8",children:["Conta: ",(u==null?void 0:u.name)||"N/A",c&&` &bull; Categoria: ${c.name}`,t.is_paused&&x.jsx("span",{className:"font-semibold text-amber-600 dark:text-amber-500",children:" (Pausado)"})]}),t.notes&&x.jsxs("p",{className:"text-xs italic text-neutral dark:text-neutralDark ml-8 mt-1",children:["Nota: ",t.notes]})]}),x.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t),"aria-label":"Editar Recorrência",children:x.jsx(Wr,{className:"w-4 h-4"})}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>a(t.id),"aria-label":"Excluir Recorrência",children:x.jsx(Yr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})})},Nue=[{value:"daily",label:"Diariamente"},{value:"weekly",label:"Semanalmente"},{value:"monthly",label:"Mensalmente"},{value:"yearly",label:"Anualmente"},{value:"custom_days",label:"Dias Personalizados"}],Pue=(t,e,n,r)=>mt(new Date(t+"T00:00:00")),Rue=({isOpen:t,onClose:e,onSave:n,accounts:r,categories:a,existingRT:i})=>{const[s,u]=j.useState(""),[c,d]=j.useState(""),[h,p]=j.useState(ve.EXPENSE),[y,_]=j.useState(""),[S,A]=j.useState(""),[T,O]=j.useState(""),[M,C]=j.useState("monthly"),[D,E]=j.useState("30"),[k,P]=j.useState(mt()),[I,F]=j.useState(""),[z,B]=j.useState(""),[W,Q]=j.useState(!1),[Y,q]=j.useState(""),[$,V]=j.useState({});j.useEffect(()=>{var K,ae,ce,ye,Pe,Oe;t&&(i?(u(i.description),d(i.amount.toString()),p(i.type),_(i.category_id||""),A(i.account_id),O(i.to_account_id||""),C(i.frequency),E(((K=i.custom_interval_days)==null?void 0:K.toString())||"30"),P(i.start_date),F(i.end_date||""),B(((ae=i.occurrences)==null?void 0:ae.toString())||""),Q(i.is_paused||!1),q(i.notes||"")):(u(""),d(""),p(ve.EXPENSE),_(((ce=a.filter(At=>At.type===ve.EXPENSE)[0])==null?void 0:ce.id)||""),A(((ye=r[0])==null?void 0:ye.id)||""),O(((Pe=r[1])==null?void 0:Pe.id)||((Oe=r[0])==null?void 0:Oe.id)||""),C("monthly"),E("30"),P(mt()),F(""),B(""),Q(!1),q("")),V({}))},[i,t,r,a]);const J=()=>{const K={};return s.trim()||(K.description="Descrição é obrigatória."),(!c||parseFloat(c)<=0)&&(K.amount="Valor deve ser positivo."),h!==ve.TRANSFER&&!y&&(K.categoryId="Categoria é obrigatória."),S||(K.accountId="Conta é obrigatória."),h===ve.TRANSFER&&!T&&(K.toAccountId="Conta de destino é obrigatória."),h===ve.TRANSFER&&S===T&&(K.toAccountId="Contas não podem ser iguais."),k||(K.startDate="Data de início é obrigatória."),I&&k>I&&(K.endDate="Data final deve ser após data inicial."),z&&parseInt(z)<=0&&(K.occurrences="Ocorrências deve ser positivo."),M==="custom_days"&&(!D||parseInt(D)<=0)&&(K.customIntervalDays="Intervalo de dias deve ser positivo."),V(K),Object.keys(K).length===0},oe=()=>{if(!J())return;const K=z?parseInt(z):void 0,ae={id:(i==null?void 0:i.id)||st(),description:s.trim(),amount:parseFloat(c),type:h,category_id:h===ve.TRANSFER?void 0:y,account_id:S,to_account_id:h===ve.TRANSFER?T:void 0,frequency:M,custom_interval_days:M==="custom_days"?parseInt(D):void 0,start_date:k,end_date:I||void 0,occurrences:K,remaining_occurrences:i!=null&&i.id?i.remaining_occurrences:K,next_due_date:i!=null&&i.id?i.next_due_date:Pue(k),last_posted_date:i==null?void 0:i.last_posted_date,is_paused:W||!1,notes:Y.trim()||void 0};n(ae),e()},U=a.filter(K=>K.type===h);return x.jsx(Nn,{isOpen:t,onClose:e,title:i?"Editar Transação Recorrente":"Nova Transação Recorrente",size:"lg",children:x.jsxs("form",{onSubmit:K=>{K.preventDefault(),oe()},className:"space-y-4",children:[x.jsx(Be,{label:"Descrição",id:"rtDescription",value:s,onChange:K=>u(K.target.value),error:$.description,required:!0}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(Be,{label:"Valor",id:"rtAmount",type:"number",step:"0.01",value:c,onChange:K=>d(K.target.value),error:$.amount,required:!0}),x.jsx(Nt,{label:"Tipo",id:"rtType",options:Tm,value:h,onChange:K=>p(K.target.value)})]}),h!==ve.TRANSFER&&x.jsx(Nt,{label:"Categoria",id:"rtCategory",options:U.map(K=>({value:K.id,label:K.name})),value:y,onChange:K=>_(K.target.value),error:$.categoryId,placeholder:"Selecione uma categoria",disabled:U.length===0}),x.jsx(Nt,{label:h===ve.TRANSFER?"Conta de Origem":"Conta",id:"rtAccountId",options:r.map(K=>({value:K.id,label:K.name})),value:S,onChange:K=>A(K.target.value),error:$.accountId,placeholder:"Selecione uma conta",disabled:r.length===0}),h===ve.TRANSFER&&x.jsx(Nt,{label:"Conta de Destino",id:"rtToAccountId",options:r.map(K=>({value:K.id,label:K.name})),value:T,onChange:K=>O(K.target.value),error:$.toAccountId,placeholder:"Selecione conta de destino",disabled:r.length===0}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(Nt,{label:"Frequência",id:"rtFrequency",options:Nue,value:M,onChange:K=>C(K.target.value)}),M==="custom_days"&&x.jsx(Be,{label:"Intervalo (dias)",id:"rtCustomInterval",type:"number",min:"1",value:D,onChange:K=>E(K.target.value),error:$.customIntervalDays})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(Be,{label:"Data de Início",id:"rtStartDate",type:"date",value:k,onChange:K=>P(K.target.value),error:$.startDate,required:!0}),x.jsx(Be,{label:"Data Final (Opcional)",id:"rtEndDate",type:"date",value:I,onChange:K=>F(K.target.value),error:$.endDate})]}),x.jsx(Be,{label:"Número de Ocorrências (Opcional)",id:"rtOccurrences",type:"number",min:"1",value:z,onChange:K=>B(K.target.value),error:$.occurrences,placeholder:"Deixe em branco para indefinido (use Data Final)"}),x.jsx(_d,{label:"Notas (Opcional)",id:"rtNotes",value:Y,onChange:K=>q(K.target.value),rows:2}),x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",id:"rtIsPaused",checked:W,onChange:K=>Q(K.target.checked),className:"h-4 w-4 text-primary rounded border-neutral/50 focus:ring-primary dark:text-primaryDark dark:border-neutralDark/50 dark:focus:ring-primaryDark"}),x.jsx("label",{htmlFor:"rtIsPaused",className:"ml-2 block text-sm text-textMuted dark:text-textMutedDark",children:"Pausar esta recorrência"})]}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(be,{type:"submit",variant:"primary",children:i?"Salvar Alterações":"Criar Recorrência"})]})]})})},Iue=({recurringTransactions:t,accounts:e,categories:n,onAddRecurringTransaction:r,onUpdateRecurringTransaction:a,onDeleteRecurringTransaction:i,onProcessRecurringTransactions:s,isPrivacyModeEnabled:u})=>{const[c,d]=j.useState(!1),[h,p]=j.useState(null),[y,_]=j.useState(!1),[S,A]=j.useState(null),T=()=>{p(null),d(!0)},O=I=>{p(I),d(!0)},M=async()=>{_(!0),A("Processando...");try{const I=await s();I.errors.length>0?A(`Processamento concluído. ${I.count} transações lançadas. Erros: ${I.errors.join(", ")}`):I.count>0?A(`${I.count} transações recorrentes foram lançadas com sucesso!`):A("Nenhuma transação recorrente pendente para lançar.")}catch(I){A("Erro ao processar transações recorrentes."),console.error(I)}_(!1),setTimeout(()=>A(null),7e3)},C=j.useMemo(()=>[...t].sort((I,F)=>new Date(I.next_due_date).getTime()-new Date(F.next_due_date).getTime()),[t]),D=mt(),E=C.filter(I=>!I.is_paused&&I.next_due_date>=D),k=C.filter(I=>!I.is_paused&&I.next_due_date<D),P=C.filter(I=>I.is_paused);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações Recorrentes"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(be,{onClick:M,variant:"secondary",disabled:y,children:y?"Processando...":"Lançar Pendentes"}),x.jsxs(be,{onClick:T,variant:"primary",children:[x.jsx(Dn,{className:"w-5 h-5 mr-2"}),"Nova Recorrência"]})]})]}),S&&x.jsx("div",{className:`p-3 rounded-md text-sm ${S.includes("Erro")||S.includes("Erros:")?"bg-destructive/10 text-destructiveDark":"bg-secondary/10 text-secondaryDark"}`,children:S}),t.length===0?x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação recorrente cadastrada."}):x.jsxs(x.Fragment,{children:[k.length>0&&x.jsxs("div",{children:[x.jsxs("h2",{className:"text-lg font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Pendentes / Atrasadas (",k.length,")"]}),x.jsx("ul",{className:"space-y-3",children:k.map(I=>x.jsx(jx,{rt:I,accounts:e,categories:n,onEdit:O,onDelete:i,isPrivacyModeEnabled:u},I.id))})]}),E.length>0&&x.jsxs("div",{children:[x.jsxs("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mt-6 mb-2",children:["Próximas (",E.length,")"]}),x.jsx("ul",{className:"space-y-3",children:E.map(I=>x.jsx(jx,{rt:I,accounts:e,categories:n,onEdit:O,onDelete:i,isPrivacyModeEnabled:u},I.id))})]}),P.length>0&&x.jsxs("div",{children:[x.jsxs("h2",{className:"text-lg font-semibold text-textMuted dark:text-textMutedDark mt-6 mb-2",children:["Pausadas (",P.length,")"]}),x.jsx("ul",{className:"space-y-3",children:P.map(I=>x.jsx(jx,{rt:I,accounts:e,categories:n,onEdit:O,onDelete:i,isPrivacyModeEnabled:u},I.id))})]})]}),x.jsx(Rue,{isOpen:c,onClose:()=>d(!1),onSave:h?a:r,accounts:e,categories:n,existingRT:h})]})},jue=({loan:t,repayments:e,accounts:n,creditCards:r,onEdit:a,onDelete:i,onRegisterRepayment:s,isPrivacyModeEnabled:u})=>{var O,M;const c=e.reduce((C,D)=>C+D.amount_paid,0),d=t.total_amount_to_reimburse-c;let h="PENDING",p="text-amber-600 dark:text-amber-500",y="bg-amber-100 dark:bg-amber-500/20",_="bg-amber-500";c>=t.total_amount_to_reimburse?(h="PAID",p="text-secondary dark:text-secondaryDark",y="bg-emerald-100 dark:bg-emerald-500/20",_="bg-secondary"):c>0&&(h="PARTIALLY_PAID",p="text-blue-600 dark:text-blue-500",y="bg-blue-100 dark:bg-blue-500/20",_="bg-blue-500");const S=t.total_amount_to_reimburse>0?Math.min(c/t.total_amount_to_reimburse*100,100):0,A=t.funding_source==="account"&&t.linked_account_id?(O=n.find(C=>C.id===t.linked_account_id))==null?void 0:O.name:null,T=t.funding_source==="creditCard"&&t.linked_credit_card_id?(M=r.find(C=>C.id===t.linked_credit_card_id))==null?void 0:M.name:null;return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx(Bw,{className:"w-5 h-5 text-primary dark:text-primaryDark"}),x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.person_name}),x.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${y} ${p}`,children:h==="PENDING"?"Pendente":h==="PARTIALLY_PAID"?"Parcialmente Pago":"Pago"})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Emprestado em: ",Un(t.loan_date)]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a Reembolsar: ",x.jsx("span",{className:"font-semibold",children:xe(t.total_amount_to_reimburse,"BRL","pt-BR",u)})]}),t.description&&x.jsx("p",{className:"text-xs italic text-neutral dark:text-neutralDark mt-1",children:t.description})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>a(t),"aria-label":"Editar Empréstimo",className:"!p-1.5",children:x.jsx(Wr,{className:"w-4 h-4"})}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>i(t.id),"aria-label":"Excluir Empréstimo",className:"!p-1.5",disabled:c>0&&h!=="PAID",title:c>0&&h!=="PAID"?"Exclua os pagamentos primeiro ou quite o empréstimo":"Excluir Empréstimo",children:x.jsx(Yr,{className:`w-4 h-4 ${c>0&&h!=="PAID"?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Pago: ",xe(c,"BRL","pt-BR",u)]}),x.jsxs("span",{className:`font-semibold ${d<=0?p:"text-destructive dark:text-destructiveDark"}`,children:["Pendente: ",xe(Math.max(0,d),"BRL","pt-BR",u)]})]}),x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:x.jsx("div",{className:`h-2.5 rounded-full ${_}`,style:{width:`${S}%`}})})]}),x.jsxs("div",{className:"text-xs text-textMuted dark:text-textMutedDark pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[x.jsx("p",{children:x.jsx("strong",{children:"Origem do Dinheiro:"})}),t.funding_source==="account"&&x.jsxs(x.Fragment,{children:[x.jsxs("p",{children:["Conta: ",A||"N/A"]}),x.jsxs("p",{children:["Valor Entregue da Conta: ",xe(t.amount_delivered_from_account||0,"BRL","pt-BR",u)]})]}),t.funding_source==="creditCard"&&x.jsxs(x.Fragment,{children:[x.jsxs("p",{children:["Cartão de Crédito: ",T||"N/A"]}),x.jsxs("p",{children:["Valor Líquido Entregue: ",xe(t.amount_delivered_from_credit||0,"BRL","pt-BR",u)]}),x.jsxs("p",{children:["Custo no Cartão (Fatura): ",xe(t.cost_on_credit_card||0,"BRL","pt-BR",u)]})]})]}),h!=="PAID"&&x.jsx("div",{className:"flex justify-start pt-2",children:x.jsxs(be,{size:"sm",variant:"secondary",onClick:()=>s(t),children:[x.jsx(Dn,{className:"w-4 h-4 mr-1"})," Registrar Pagamento Recebido"]})})]})},$ue=({isOpen:t,onClose:e,onSave:n,accounts:r,creditCards:a,existingLoan:i})=>{const[s,u]=j.useState(""),[c,d]=j.useState(mt()),[h,p]=j.useState(""),[y,_]=j.useState(""),[S,A]=j.useState("account"),[T,O]=j.useState(""),[M,C]=j.useState(""),[D,E]=j.useState(""),[k,P]=j.useState(""),[I,F]=j.useState(""),[z,B]=j.useState("1"),[W,Q]=j.useState({});j.useEffect(()=>{var V,J,oe;t&&(i?(u(i.person_name),d(i.loan_date),p(i.description||""),_(i.total_amount_to_reimburse.toString()),A(i.funding_source),i.funding_source==="account"?(O(((V=i.amount_delivered_from_account)==null?void 0:V.toString())||""),C(i.linked_account_id||"")):(O(""),C("")),i.funding_source==="creditCard"?(E(((J=i.amount_delivered_from_credit)==null?void 0:J.toString())||""),P(((oe=i.cost_on_credit_card)==null?void 0:oe.toString())||""),F(i.linked_credit_card_id||"")):(E(""),P(""),F(""))):(u(""),d(mt()),p(""),_(""),A("account"),O(""),C(r.length>0?r[0].id:""),E(""),P(""),F(a.length>0?a[0].id:""),B("1")),Q({}))},[i,t,r,a]);const Y=()=>{const V={};s.trim()||(V.personName="Nome da pessoa é obrigatório."),c||(V.loanDate="Data do empréstimo é obrigatória.");const J=parseFloat(y);if((isNaN(J)||J<=0)&&(V.totalAmountToReimburse="Valor a ser reembolsado deve ser positivo."),S==="account"){M||(V.linkedAccountId="Conta de origem é obrigatória.");const oe=parseFloat(T);(isNaN(oe)||oe<=0)&&(V.amountDeliveredFromAccount="Valor entregue deve ser positivo.")}else if(S==="creditCard"){I||(V.linkedCreditCardId="Cartão de crédito é obrigatório.");const oe=parseFloat(D);(isNaN(oe)||oe<=0)&&(V.amountDeliveredFromCredit="Valor entregue (líquido) deve ser positivo.");const U=parseFloat(k);(isNaN(U)||U<=0)&&(V.costOnCreditCard="Custo no cartão deve ser positivo."),oe>U&&(V.amountDeliveredFromCredit="Valor entregue não pode ser maior que o custo no cartão.");const K=parseInt(z,10);(isNaN(K)||K<=0)&&(V.numberOfInstallments="Número de parcelas deve ser positivo.")}return Q(V),Object.keys(V).length===0},q=()=>{if(!Y())return;const V={person_name:s.trim(),loan_date:c,description:h.trim()||void 0,total_amount_to_reimburse:parseFloat(y),funding_source:S};let J;S==="account"?J={...V,amount_delivered_from_account:parseFloat(T),linked_account_id:M}:J={...V,amount_delivered_from_credit:parseFloat(D),cost_on_credit_card:parseFloat(k),linked_credit_card_id:I};const oe=i?{...J,id:i.id}:J;n(oe,S==="creditCard"?parseInt(z):void 0),e()},$=[{value:"account",label:"Dinheiro de uma Conta"},{value:"creditCard",label:"Crédito (Convertido em Dinheiro)"}];return x.jsx(Nn,{isOpen:t,onClose:e,title:i?"Editar Empréstimo":"Novo Empréstimo",size:"lg",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Be,{label:"Nome da Pessoa",id:"personName",value:s,onChange:V=>u(V.target.value),error:W.personName,required:!0}),x.jsx(Be,{label:"Data do Empréstimo",id:"loanDate",type:"date",value:c,onChange:V=>d(V.target.value),error:W.loanDate,required:!0}),x.jsx(_d,{label:"Descrição (Opcional)",id:"loanDescription",value:h,onChange:V=>p(V.target.value),rows:2}),x.jsx(Be,{label:"Valor Total a Ser Reembolsado por Você (R$)",id:"totalAmountToReimburse",type:"number",step:"0.01",value:y,onChange:V=>_(V.target.value),error:W.totalAmountToReimburse,placeholder:"Ex: 270.00",required:!0}),x.jsx(Nt,{label:"Origem do Dinheiro",id:"fundingSource",options:$,value:S,onChange:V=>A(V.target.value)}),S==="account"&&x.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[x.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Saída de Conta)"}),x.jsx(Nt,{label:"Conta de Origem",id:"linkedAccountId",options:r.map(V=>({value:V.id,label:V.name})),value:M,onChange:V=>C(V.target.value),error:W.linkedAccountId,disabled:r.length===0,required:!0}),x.jsx(Be,{label:"Valor Efetivamente Entregue (R$)",id:"amountDeliveredFromAccount",type:"number",step:"0.01",value:T,onChange:V=>O(V.target.value),error:W.amountDeliveredFromAccount,placeholder:"Ex: 250.00",required:!0})]}),S==="creditCard"&&x.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[x.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Uso de Crédito)"}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:'Use esta opção se você usou um serviço do cartão para sacar/transferir crédito, incorrendo em taxas. O "Custo Real no Cartão" será lançado como uma compra parcelada.'}),x.jsx(Nt,{label:"Cartão de Crédito Utilizado",id:"linkedCreditCardId",options:a.map(V=>({value:V.id,label:V.name})),value:I,onChange:V=>F(V.target.value),error:W.linkedCreditCardId,disabled:a.length===0,required:!0}),x.jsx(Be,{label:"Valor Efetivamente Entregue à Pessoa (R$)",id:"amountDeliveredFromCredit",type:"number",step:"0.01",value:D,onChange:V=>E(V.target.value),error:W.amountDeliveredFromCredit,placeholder:`Ex: ${xe(250)} (valor líquido recebido pela pessoa)`,required:!0}),x.jsx(Be,{label:"Custo Real no Cartão (com taxas) (R$)",id:"costOnCreditCard",type:"number",step:"0.01",value:k,onChange:V=>{P(V.target.value),!i&&!y&&_(V.target.value)},error:W.costOnCreditCard,placeholder:"Ex: 270.00 (valor total que virá na fatura)",required:!0}),x.jsx(Be,{label:"Número de Parcelas no Cartão",id:"numberOfInstallments",type:"number",min:"1",value:z,onChange:V=>B(V.target.value),error:W.numberOfInstallments,required:!0,disabled:!!i&&!!i.linked_installment_purchase_id,title:i&&i.linked_installment_purchase_id?"Número de parcelas não pode ser alterado após a criação da compra vinculada.":""})]}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(be,{type:"button",variant:"primary",onClick:q,children:"Salvar Empréstimo"})]})]})})},Lue=({isOpen:t,onClose:e,onSave:n,loan:r,accounts:a})=>{const[i,s]=j.useState(""),[u,c]=j.useState(mt()),[d,h]=j.useState(""),[p,y]=j.useState(""),[_,S]=j.useState({});j.useEffect(()=>{t&&(s(""),c(mt()),h(a.length>0?a[0].id:""),y(""),S({}))},[t,a]);const A=()=>{const O={},M=parseFloat(i);return(isNaN(M)||M<=0)&&(O.amountPaid="Valor pago deve ser positivo."),u||(O.repaymentDate="Data do pagamento é obrigatória."),d||(O.creditedAccountId="Conta de crédito é obrigatória."),S(O),Object.keys(O).length===0},T=()=>{if(!A())return;const O={repayment_date:u,amount_paid:parseFloat(i),notes:p.trim()||void 0,credited_account_id:d};n(O,r.id),e()};return x.jsx(Nn,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.person_name}`,children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Be,{label:"Valor Recebido (R$)",id:"repaymentAmount",type:"number",step:"0.01",value:i,onChange:O=>s(O.target.value),error:_.amountPaid,required:!0}),x.jsx(Be,{label:"Data do Recebimento",id:"repaymentDate",type:"date",value:u,onChange:O=>c(O.target.value),error:_.repaymentDate,required:!0}),x.jsx(Nt,{label:"Conta Creditada (Onde o dinheiro entrou)",id:"creditedAccountId",options:a.map(O=>({value:O.id,label:O.name})),value:d,onChange:O=>h(O.target.value),error:_.creditedAccountId,disabled:a.length===0,required:!0}),x.jsx(_d,{label:"Notas (Opcional)",id:"repaymentNotes",value:p,onChange:O=>y(O.target.value),rows:2}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(be,{type:"button",variant:"primary",onClick:T,children:"Salvar Pagamento"})]})]})})},Bue=({loans:t,loanRepayments:e,accounts:n,creditCards:r,onAddLoan:a,onUpdateLoan:i,onDeleteLoan:s,onAddLoanRepayment:u,isPrivacyModeEnabled:c})=>{const[d,h]=j.useState(!1),[p,y]=j.useState(null),[_,S]=j.useState(!1),[A,T]=j.useState(null),O=()=>{y(null),h(!0)},M=P=>{y(P),h(!0)},C=(P,I)=>{p&&P.id?i({...p,...P}):a(P,I)},D=P=>{T(P),S(!0)},E=j.useMemo(()=>t.reduce((P,I)=>{const F=e.filter(z=>z.loan_id===I.id).reduce((z,B)=>z+B.amount_paid,0);return P+(I.total_amount_to_reimburse-F)},0),[t,e]),k=j.useMemo(()=>[...t].sort((P,I)=>new Date(I.loan_date).getTime()-new Date(P.loan_date).getTime()),[t]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Empréstimos Concedidos"}),t.length>0&&x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a receber: ",x.jsx("span",{className:"font-semibold text-primary dark:text-primaryDark",children:xe(E,"BRL","pt-BR",c)})]})]}),x.jsxs(be,{onClick:O,variant:"primary",children:[x.jsx(Dn,{className:"w-5 h-5 mr-2"}),"Novo Empréstimo"]})]}),k.length>0?x.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:k.map(P=>x.jsx(jue,{loan:P,repayments:e.filter(I=>I.loan_id===P.id),accounts:n,creditCards:r,onEdit:M,onDelete:s,onRegisterRepayment:D,isPrivacyModeEnabled:c},P.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:'Nenhum empréstimo registrado. Clique em "Novo Empréstimo" para começar.'}),d&&x.jsx($ue,{isOpen:d,onClose:()=>h(!1),onSave:C,accounts:n,creditCards:r,existingLoan:p}),_&&A&&x.jsx(Lue,{isOpen:_,onClose:()=>S(!1),onSave:u,loan:A,accounts:n})]})},Nw=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3.697-3.697c-.022-.021-.041-.044-.06-.067H6.75c-1.136 0-2.097-.847-2.193-1.98a18.75 18.75 0 0 1-.072-1.02c0-.884.284-1.5 2.097-1.5H13.5c.884 0 1.5-.284 2.097-1.5 1.136 0 2.1.847 2.193 1.98.027.34.052.68.072 1.02z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h-.008v.008H3.75V12zm0-3.75h.008v.008H3.75V8.25zm0 7.5h.008v.008H3.75v-.008zM4.5 6H15a2.25 2.25 0 0 1 2.25 2.25v1.5A2.25 2.25 0 0 1 15 12H4.5A2.25 2.25 0 0 1 2.25 9.75v-1.5A2.25 2.25 0 0 1 4.5 6z"})]}),que=({aiConfig:t,setAiConfig:e,insights:n,onFetchGeneralAdvice:r,onUpdateInsight:a,isPrivacyModeEnabled:i,onFetchRecurringPaymentCandidates:s,onFetchSavingOpportunities:u,onFetchCashFlowProjection:c})=>{var Y;const[d,h]=j.useState(((Y=t.monthlyIncome)==null?void 0:Y.toString())||""),[p,y]=j.useState(!1),[_,S]=j.useState(""),[A,T]=j.useState(""),[O,M]=j.useState(ve.EXPENSE),[C,D]=j.useState(mt(new Date(Date.now()+7*24*60*60*1e3))),[E,k]=j.useState(!1),P=()=>{e({isEnabled:!t.isEnabled})},I=()=>{const q=parseFloat(d);!isNaN(q)&&q>0?(e({monthlyIncome:q}),y(!1)):d===""?(e({monthlyIncome:null}),y(!1)):alert("Por favor, insira um valor de renda válido ou deixe em branco.")};Z.useEffect(()=>{var q;h(((q=t.monthlyIncome)==null?void 0:q.toString())||"")},[t.monthlyIncome]);const F=[...n].sort((q,$)=>new Date($.timestamp).getTime()-new Date(q.timestamp).getTime()),z=q=>x.jsx("p",{className:"text-textBase dark:text-textBaseDark whitespace-pre-wrap",children:q.content}),B=q=>{switch(q){case"budget_recommendation":case"saving_opportunity_suggestion":return{icon:x.jsx(fm,{className:"w-5 h-5 mr-2 text-yellow-500 dark:text-yellow-400 flex-shrink-0"}),borderColorClass:"border-yellow-500 dark:border-yellow-400",bgColorClass:"bg-yellow-400/10 dark:bg-yellow-400/15"};case"recurring_payment_candidate":return{icon:x.jsx(wm,{className:"w-5 h-5 mr-2 text-teal-500 dark:text-teal-400 flex-shrink-0"}),borderColorClass:"border-teal-500 dark:border-teal-400",bgColorClass:"bg-teal-500/10 dark:bg-teal-400/15"};case"cash_flow_projection":return{icon:x.jsx(mw,{className:"w-5 h-5 mr-2 text-indigo-500 dark:text-indigo-400 flex-shrink-0"}),borderColorClass:"border-indigo-500 dark:border-indigo-400",bgColorClass:"bg-indigo-500/10 dark:bg-indigo-400/15"};case"spending_anomaly_category":case"budget_overspend_projection":case"unusual_transaction_value":case"budget_warning":return{icon:x.jsx(gh,{className:"w-5 h-5 mr-2 text-amber-600 dark:text-amber-500 flex-shrink-0"}),borderColorClass:"border-amber-600 dark:border-amber-500",bgColorClass:"bg-amber-600/10 dark:bg-amber-500/15"};case"error_message":return{icon:x.jsx(gh,{className:"w-5 h-5 mr-2 text-destructive dark:text-destructiveDark flex-shrink-0"}),borderColorClass:"border-destructive dark:border-destructiveDark",bgColorClass:"bg-destructive/10 dark:bg-destructiveDark/15"};default:return{icon:x.jsx(Nw,{className:"w-5 h-5 mr-2 text-primary dark:text-primaryDark flex-shrink-0"}),borderColorClass:"border-primary dark:border-primaryDark",bgColorClass:"bg-primary/5 dark:bg-primaryDark/10"}}},W=q=>{q.is_read||a({...q,is_read:!0})},Q=()=>{let q;E&&A&&parseFloat(A)>0&&C&&(q={description:_.trim()||(O===ve.EXPENSE?"Despesa Simulada":"Receita Simulada"),amount:parseFloat(A),type:O,date:C}),c(30,q)};return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(Nw,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"AI Coach Financeiro"})]}),t.apiKeyStatus!=="unavailable"&&x.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[x.jsx("span",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:t.isEnabled?"Coach Ativado":"Coach Desativado"}),x.jsxs("div",{className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${t.isEnabled?"bg-primary dark:bg-primaryDark":"bg-neutral/30 dark:bg-neutralDark/40"}`,children:[x.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${t.isEnabled?"translate-x-6":"translate-x-1"}`}),x.jsx("input",{type:"checkbox",className:"absolute opacity-0 w-0 h-0",checked:t.isEnabled,onChange:P})]})]})]}),t.apiKeyStatus==="unavailable"&&x.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[x.jsx("strong",{className:"font-bold",children:"API Key Indisponível! "}),x.jsx("span",{className:"block sm:inline",children:"A funcionalidade do AI Coach está desativada. A chave da API Gemini (process.env.GEMINI_API_KEY) não foi configurada no ambiente. Sem ela, o AI Coach não pode operar."})]}),t.apiKeyStatus==="error"&&x.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[x.jsx("strong",{className:"font-bold",children:"Erro na API! "}),x.jsx("span",{className:"block sm:inline",children:"Ocorreu um erro ao tentar inicializar ou usar a API Gemini. Verifique o console para mais detalhes."})]}),t.apiKeyStatus==="available"&&x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Renda Mensal (para Sugestões)"}),t.monthlyIncome&&!p?x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Sua renda mensal salva:",x.jsx("span",{className:"font-bold text-lg text-primary dark:text-primaryDark ml-2",children:xe(t.monthlyIncome,"BRL","pt-BR",i)})]}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>y(!0),children:"Editar Renda"})]}):x.jsxs("div",{className:"space-y-3",children:[x.jsx(Be,{label:"Informe sua renda mensal estimada",id:"monthlyIncome",type:"number",placeholder:i?xe(0,"BRL","pt-BR",!0).replace("0,00","Ex: 3500.00"):"Ex: 3500.00",value:d,onChange:q=>h(q.target.value),containerClassName:"max-w-xs"}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx(be,{variant:"primary",size:"sm",onClick:I,children:"Salvar Renda"}),t.monthlyIncome&&x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>y(!1),children:"Cancelar"})]}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Esta informação ajuda o AI Coach a fornecer sugestões de orçamento mais personalizadas."})]})]}),t.isEnabled&&t.apiKeyStatus==="available"&&x.jsx(x.Fragment,{children:x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Conselhos e Análises"}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsxs(be,{onClick:r,variant:"ghost",size:"sm",children:[x.jsx(fm,{className:"w-4 h-4 mr-1.5"})," Novo Conselho"]}),x.jsxs(be,{onClick:s,variant:"ghost",size:"sm",children:[x.jsx(wm,{className:"w-4 h-4 mr-1.5"})," Analisar Recorrências"]}),x.jsxs(be,{onClick:u,variant:"ghost",size:"sm",children:[x.jsx(zS,{className:"w-4 h-4 mr-1.5"})," Oportunidades de Economia"]})]})]}),x.jsxs("div",{className:"mt-6 pt-4 border-t border-borderBase dark:border-borderBaseDark",children:[x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mb-2",children:"Previsão de Fluxo de Caixa"}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>k(!E),className:"mb-3 text-sm",children:E?"Esconder Simulação":"Adicionar Simulação à Previsão"}),E&&x.jsxs("div",{className:"space-y-3 p-3 mb-4 border border-dashed border-neutral/50 dark:border-neutralDark/50 rounded-md",children:[x.jsx("h4",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Simular Transação Futura (Opcional)"}),x.jsx(Be,{label:"Descrição (Opcional)",value:_,onChange:q=>S(q.target.value),placeholder:"Ex: Bônus Inesperado, Compra de Presente"}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[x.jsx(Be,{label:"Valor Simulado",type:"number",value:A,onChange:q=>T(q.target.value),placeholder:"Ex: 500"}),x.jsx(Nt,{label:"Tipo",options:Tm.filter(q=>q.value!==ve.TRANSFER),value:O,onChange:q=>M(q.target.value)}),x.jsx(Be,{label:"Data Simulado",type:"date",value:C,onChange:q=>D(q.target.value)})]})]}),x.jsxs(be,{onClick:Q,variant:"secondary",size:"sm",className:"w-full sm:w-auto",children:[x.jsx(mw,{className:"w-4 h-4 mr-1.5"}),"Gerar Previsão de Caixa (30d) ",E&&A?"com Simulação":""]})]}),F.length===0?x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8 mt-4",children:"Nenhum conselho ou comentário do AI Coach ainda. Interaja com o app ou peça uma nova análise!"}):x.jsx("ul",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 mt-4",children:F.map(q=>{const $=B(q.type);return x.jsx("li",{className:`p-4 rounded-lg shadow-sm border-l-4
                                    ${$.borderColorClass} ${$.bgColorClass}
                                    ${q.isLoading?"opacity-60 animate-pulse":""}
                                    ${!q.is_read&&!q.isLoading?"cursor-pointer hover:shadow-md":""}`,onClick:()=>W(q),onKeyDown:V=>{(V.key==="Enter"||V.key===" ")&&W(q)},tabIndex:!q.is_read&&!q.isLoading?0:void 0,role:!q.is_read&&!q.isLoading?"button":void 0,"aria-label":!q.is_read&&!q.isLoading?"Marcar como lido":void 0,children:x.jsxs("div",{className:"flex items-start",children:[$.icon,x.jsxs("div",{className:"flex-1",children:[z(q),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1.5",children:[Un(q.timestamp,"pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),q.related_transaction_id&&x.jsx("span",{className:"ml-2",children:" (Ref. Transação)"}),q.related_category_id&&q.type==="budget_recommendation"&&x.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),q.related_category_id&&(q.type==="spending_anomaly_category"||q.type==="budget_overspend_projection"||q.type==="unusual_transaction_value")&&x.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),!q.is_read&&!q.isLoading&&x.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Novo"})]})]})]})},q.id)})})]})}),!t.isEnabled&&t.apiKeyStatus==="available"&&x.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-700/20 border border-yellow-400 dark:border-yellow-600 text-yellow-700 dark:text-yellow-300 px-4 py-3 rounded-lg",role:"alert",children:x.jsx("p",{children:"O AI Coach está atualmente desativado. Ative-o acima para receber dicas e comentários personalizados."})})]})},Uue=({className:t="w-5 h-5",style:e})=>x.jsxs("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),x.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),x.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),x.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),x.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),Z$=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),Fue=({onLoginWithGoogle:t,isLoading:e})=>x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background dark:bg-backgroundDark p-4 text-textBase dark:text-textBaseDark",children:[x.jsxs("div",{className:"w-full max-w-sm bg-surface dark:bg-surfaceDark shadow-2xl rounded-xl p-8 space-y-8 text-center",children:[x.jsx(Z$,{className:"w-20 h-20 text-primary dark:text-primaryDark mx-auto mb-4"}),x.jsxs("h1",{className:"text-3xl font-bold text-textBase dark:text-textBaseDark",children:["Bem-vindo ao ",Hx]}),x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Faça login com sua conta Google para acessar suas finanças."}),x.jsxs(be,{variant:"primary",size:"lg",className:"w-full !py-3 flex items-center justify-center !bg-white !text-neutral-700 hover:!bg-gray-100 border border-gray-300 dark:!bg-slate-700 dark:!text-slate-200 dark:hover:!bg-slate-600 dark:border-slate-500",onClick:t,disabled:e,children:[x.jsx(Uue,{className:"w-5 h-5 mr-3"}),e?"Conectando...":"Entrar com Google"]}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark pt-4",children:"Ao continuar, você concorda com nossos Termos de Serviço e Política de Privacidade (simulados)."})]}),x.jsx("footer",{className:"mt-8 text-center text-xs text-textMuted dark:text-textMutedDark",children:x.jsxs("p",{children:["© ",new Date().getFullYear()," ",Hx,". Todos os direitos reservados."]})})]}),J$=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6V5.25m0 0A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25v.75m0 0a2.25 2.25 0 0 1-2.25 2.25h-13.5A2.25 2.25 0 0 1 3 6m18 0v12.75A2.25 2.25 0 0 1 18.75 21H5.25A2.25 2.25 0 0 1 3 18.75V6.75m15-3h-15"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 12H18m-2.25 3H18m-2.25-3a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM12 6.75h.008v.008H12V6.75Z"})]}),Vue=[{value:"credit_card_balance",label:"Saldo de Cartão de Crédito"},{value:"personal_loan",label:"Empréstimo Pessoal"},{value:"student_loan",label:"Empréstimo Estudantil"},{value:"mortgage",label:"Hipoteca / Financiamento Imob."},{value:"car_loan",label:"Financiamento de Veículo"},{value:"other",label:"Outra Dívida"}],zue=({isOpen:t,onClose:e,onSave:n,existingDebt:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState("other"),[c,d]=j.useState(""),[h,p]=j.useState(""),[y,_]=j.useState(""),[S,A]=j.useState(""),[T,O]=j.useState({});j.useEffect(()=>{var D;t&&(r?(i(r.name),u(r.type),d(r.initial_balance.toString()),p(r.interest_rate_annual.toString()),_(r.minimum_payment.toString()),A(((D=r.due_date_day_of_month)==null?void 0:D.toString())||"")):(i(""),u("other"),d(""),p(""),_(""),A("")),O({}))},[r,t]);const M=()=>{const D={};a.trim()||(D.name="Nome da dívida é obrigatório.");const E=parseFloat(c);(isNaN(E)||E<=0)&&(D.initialBalance="Saldo inicial deve ser positivo.");const k=parseFloat(h);(isNaN(k)||k<0)&&(D.interestRateAnnual="Taxa de juros deve ser um número não negativo.");const P=parseFloat(y);if((isNaN(P)||P<=0)&&(D.minimumPayment="Pagamento mínimo deve ser positivo."),S){const I=parseInt(S,10);(isNaN(I)||I<1||I>31)&&(D.dueDateDayOfMonth="Dia de vencimento deve ser entre 1 e 31.")}return O(D),Object.keys(D).length===0},C=()=>{if(!M())return;const D={name:a.trim(),type:s,initial_balance:parseFloat(c),interest_rate_annual:parseFloat(h),minimum_payment:parseFloat(y),due_date_day_of_month:S?parseInt(S,10):void 0},E=r?{...D,id:r.id}:{...D,id:st()};n(E),e()};return x.jsx(Nn,{isOpen:t,onClose:e,title:r?"Editar Dívida":"Nova Dívida",size:"lg",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Be,{label:"Nome da Dívida",id:"debtName",value:a,onChange:D=>i(D.target.value),error:T.name,placeholder:"Ex: Cartão XP Fatura, Financiamento Carro",required:!0}),x.jsx(Nt,{label:"Tipo de Dívida",id:"debtType",options:Vue,value:s,onChange:D=>u(D.target.value),required:!0}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(Be,{label:"Saldo Devedor Inicial (R$)",id:"initialBalance",type:"number",step:"0.01",value:c,onChange:D=>d(D.target.value),error:T.initialBalance,required:!0}),x.jsx(Be,{label:"Taxa de Juros Anual (%)",id:"interestRateAnnual",type:"number",step:"0.01",value:h,onChange:D=>p(D.target.value),error:T.interestRateAnnual,placeholder:"Ex: 19.9 para 19.9%",required:!0})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(Be,{label:"Pagamento Mínimo Mensal (R$)",id:"minimumPayment",type:"number",step:"0.01",value:y,onChange:D=>_(D.target.value),error:T.minimumPayment,required:!0}),x.jsx(Be,{label:"Dia de Vencimento (Opcional)",id:"dueDateDayOfMonth",type:"number",min:"1",max:"31",value:S,onChange:D=>A(D.target.value),error:T.dueDateDayOfMonth,placeholder:"Ex: 15"})]}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(be,{type:"button",variant:"primary",onClick:C,children:r?"Salvar Alterações":"Adicionar Dívida"})]})]})})},Gue=({isOpen:t,onClose:e,onSave:n,debt:r,accounts:a})=>{const[i,s]=j.useState(""),[u,c]=j.useState(mt()),[d,h]=j.useState(""),[p,y]=j.useState(!1),[_,S]=j.useState(""),[A,T]=j.useState({});j.useEffect(()=>{t&&(s(""),c(mt()),h(""),y(!1),S(a.length>0?a[0].id:""),T({}))},[t,a]);const O=()=>{const C={},D=parseFloat(i);return isNaN(D)||D<=0?C.amountPaid="Valor pago deve ser positivo.":D>r.current_balance,u||(C.paymentDate="Data do pagamento é obrigatória."),p&&!_&&(C.linkedAccountId="Conta de origem da despesa é obrigatória."),T(C),Object.keys(C).length===0},M=()=>{if(!O())return;const C={debt_id:r.id,payment_date:u,amount_paid:parseFloat(i),notes:d.trim()||void 0};n(C,p,_),e()};return x.jsx(Nn,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.name}`,children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Saldo Devedor Atual: ",x.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:r.current_balance})]}),x.jsx(Be,{label:"Valor Pago (R$)",id:"paymentAmount",type:"number",step:"0.01",value:i,onChange:C=>s(C.target.value),error:A.amountPaid,required:!0}),x.jsx(Be,{label:"Data do Pagamento",id:"paymentDate",type:"date",value:u,onChange:C=>c(C.target.value),error:A.paymentDate,required:!0}),x.jsx(_d,{label:"Notas (Opcional)",id:"paymentNotes",value:d,onChange:C=>h(C.target.value),rows:2}),a.length>0&&x.jsxs("div",{className:"pt-2",children:[x.jsxs("label",{className:"flex items-center space-x-2",children:[x.jsx("input",{type:"checkbox",checked:p,onChange:C=>y(C.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark"}),x.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Registrar como despesa em uma conta?"})]}),p&&x.jsx(Nt,{containerClassName:"mt-2",label:"Conta de Origem da Despesa",id:"linkedExpenseAccount",options:a.map(C=>({value:C.id,label:C.name})),value:_,onChange:C=>S(C.target.value),error:A.linkedAccountId,placeholder:"Selecione uma conta"})]}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(be,{type:"button",variant:"primary",onClick:M,children:"Salvar Pagamento"})]})]})})},Hue=({debt:t,onRegisterPayment:e,onEdit:n,onDelete:r,hasPayments:a,isPrivacyModeEnabled:i})=>{const s=t.initial_balance>0?Math.max(0,Math.min((t.initial_balance-t.current_balance)/t.initial_balance*100,100)):0;return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:t.type==="credit_card_balance"?"Saldo de Cartão":t.type==="personal_loan"?"Empréstimo Pessoal":"Outra Dívida"})]}),x.jsxs("div",{className:"flex space-x-1",children:[x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Dívida",className:"!p-1.5",children:x.jsx(Wr,{className:"w-4 h-4"})}),x.jsx(be,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Dívida",className:"!p-1.5",disabled:a,title:a?"Exclua os pagamentos desta dívida primeiro":"Excluir Dívida",children:x.jsx(Yr,{className:`w-4 h-4 ${a?"text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),x.jsxs("div",{children:[x.jsxs("p",{className:"text-xl font-bold text-destructive dark:text-destructiveDark",children:["Saldo Devedor: ",xe(t.current_balance,"BRL","pt-BR",i)]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Taxa de Juros: ",t.interest_rate_annual,"% a.a. | Mínimo: ",xe(t.minimum_payment,"BRL","pt-BR",i)]}),t.due_date_day_of_month&&x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Vencimento usual: Dia ",t.due_date_day_of_month]})]}),t.initial_balance>0&&x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[x.jsx("span",{children:"Progresso"}),x.jsxs("span",{children:[s.toFixed(0),"%"]})]}),x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:x.jsx("div",{className:"h-2 rounded-full bg-secondary dark:bg-secondaryDark",style:{width:`${s}%`}})})]}),t.current_balance>0&&x.jsxs(be,{variant:"secondary",size:"sm",onClick:()=>e(t),children:[x.jsx(Dn,{className:"w-4 h-4 mr-1"})," Registrar Pagamento"]}),t.current_balance<=0&&x.jsx("p",{className:"text-sm font-semibold text-secondary dark:text-secondaryDark",children:"Dívida Quitada!"})]})},Kue=({debts:t,debtPayments:e,accounts:n,onAddDebt:r,onUpdateDebt:a,onDeleteDebt:i,onAddDebtPayment:s,isPrivacyModeEnabled:u})=>{const[c,d]=j.useState(!1),[h,p]=j.useState(null),[y,_]=j.useState(!1),[S,A]=j.useState(null),T=()=>{p(null),d(!0)},O=k=>{p(k),d(!0)},M=k=>{A(k),_(!0)},C=j.useMemo(()=>t.filter(k=>!k.is_archived).reduce((k,P)=>k+P.current_balance,0),[t]),D=j.useMemo(()=>t.filter(k=>!k.is_archived&&k.current_balance>0).reduce((k,P)=>k+P.minimum_payment,0),[t]),E=k=>e.some(P=>P.debt_id===k);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(J$,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Planejador de Dívidas"})]}),x.jsxs(be,{onClick:T,variant:"primary",children:[x.jsx(Dn,{className:"w-5 h-5 mr-2"}),"Adicionar Dívida"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"TOTAL DE DÍVIDAS ATUAIS"}),x.jsx("p",{className:"text-3xl font-bold text-destructive dark:text-destructiveDark",children:xe(C,"BRL","pt-BR",u)})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SOMA DOS PAGAMENTOS MÍNIMOS"}),x.jsxs("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-500",children:[xe(D,"BRL","pt-BR",u)," / mês"]})]})]}),t.filter(k=>!k.is_archived).length>0?x.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.filter(k=>!k.is_archived).sort((k,P)=>k.name.localeCompare(P.name)).map(k=>x.jsx(Hue,{debt:k,onRegisterPayment:M,onEdit:O,onDelete:i,hasPayments:E(k.id),isPrivacyModeEnabled:u},k.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma dívida cadastrada. Adicione suas dívidas para começar a planejar!"}),c&&x.jsx(zue,{isOpen:c,onClose:()=>d(!1),onSave:h?k=>a({...k,id:h.id}):r,existingDebt:h}),y&&S&&x.jsx(Gue,{isOpen:y,onClose:()=>_(!1),onSave:s,debt:S,accounts:n}),x.jsx("p",{className:"text-xs text-center text-textMuted dark:text-textMutedDark py-4",children:"Funcionalidades avançadas como estratégias de pagamento (Bola de Neve, Avalanche) e projeções detalhadas serão adicionadas em breve."})]})},Yue=({onSubmit:t,onCancel:e,accounts:n,creditCards:r,categories:a,tags:i,initialTransaction:s,isPrivacyModeEnabled:u})=>{var V;const[c,d]=j.useState((s==null?void 0:s.type)||ve.EXPENSE),[h,p]=j.useState((s==null?void 0:s.amount.toString())||""),[y,_]=j.useState((s==null?void 0:s.category_id)||""),[S,A]=j.useState((s==null?void 0:s.description)||""),[T,O]=j.useState((s==null?void 0:s.date)||mt()),[M,C]=j.useState((s==null?void 0:s.account_id)||(n.length>0?n[0].id:"")),[D,E]=j.useState((s==null?void 0:s.to_account_id)||(n.length>1?n[1].id:"")),[k,P]=j.useState((s==null?void 0:s.tag_ids)||[]),[I,F]=j.useState({}),z=j.useMemo(()=>{const J=n.map(U=>({value:U.id,label:`Conta: ${U.name}`,type:"account"})),oe=r.map(U=>({value:U.id,label:`Cartão: ${U.name}`,type:"creditCard"}));return[...J,...oe]},[n,r]);j.useEffect(()=>{var J,oe,U,K;s?(d(s.type),p(s.amount.toString()),_(s.category_id||""),A(s.description||""),O(s.date),C(s.account_id),E(s.to_account_id||""),P(s.tag_ids||[])):(d(ve.EXPENSE),p(""),_(((J=a.filter(ae=>ae.type===ve.EXPENSE)[0])==null?void 0:J.id)||""),A(""),O(mt()),C(((oe=z[0])==null?void 0:oe.value)||""),E(((U=n[1])==null?void 0:U.id)||((K=n[0])==null?void 0:K.id)||""),P([]))},[s,n,a,z]),j.useEffect(()=>{var oe;if(c!==ve.TRANSFER){const U=a.find(K=>K.id===y);if(!U||U.type!==c){const K=a.find(ae=>ae.type===c);_((K==null?void 0:K.id)||"")}}const J=z.find(U=>U.value===M);(J==null?void 0:J.type)==="creditCard"&&(c===ve.INCOME||c===ve.TRANSFER)&&C(((oe=n[0])==null?void 0:oe.id)||"")},[c,y,a,M,n,z]);const B=()=>{const J={};(!h||parseFloat(h)<=0)&&(J.amount="Valor deve ser maior que zero.");const oe=z.find(U=>U.value===M);return c!==ve.TRANSFER&&!y&&(oe==null?void 0:oe.type)!=="creditCard"&&(y||(J.categoryId="Categoria é obrigatória.")),M||(J.sourceId="Origem (Conta/Cartão) é obrigatória."),c===ve.TRANSFER&&!D&&(J.toAccountId="Conta de destino é obrigatória."),c===ve.TRANSFER&&M===D&&(J.toAccountId="Conta de origem e destino não podem ser iguais."),c===ve.TRANSFER&&(oe==null?void 0:oe.type)==="creditCard"&&(J.sourceId="Transferências não podem originar de um cartão de crédito."),T||(J.date="Data é obrigatória."),F(J),Object.keys(J).length===0},W=J=>{if(J.preventDefault(),!B())return;const oe={...s?{id:s.id}:{},type:c,amount:parseFloat(h),category_id:c===ve.TRANSFER?void 0:y,description:S,date:T,account_id:M,to_account_id:c===ve.TRANSFER?D:void 0,tag_ids:k.length>0?k:void 0};t(oe)},Q=J=>{const oe=J.target.options,U=[];for(let K=0,ae=oe.length;K<ae;K++)oe[K].selected&&U.push(oe[K].value);P(U)},Y=a.filter(J=>J.type===c),q=i.map(J=>({value:J.id,label:J.name})),$=((V=z.find(J=>J.value===M))==null?void 0:V.type)==="creditCard";return x.jsxs("form",{onSubmit:W,className:"space-y-4",children:[x.jsx(Nt,{label:"Tipo",id:"type",options:Tm,value:c,onChange:J=>d(J.target.value)}),x.jsx(Be,{label:"Valor",id:"amount",type:"number",step:"0.01",value:h,onChange:J=>p(J.target.value),error:I.amount,placeholder:u?xe(0,"BRL","pt-BR",!0).replace("0,00","Ex: 123.45"):"Ex: 123.45",required:!0}),c!==ve.TRANSFER&&x.jsx(Nt,{label:$&&c===ve.EXPENSE?"Categoria (Opcional para Débito Direto no Cartão)":"Categoria",id:"category",options:Y.map(J=>({value:J.id,label:J.name})),value:y,onChange:J=>_(J.target.value),error:I.categoryId,placeholder:"Selecione uma categoria",disabled:Y.length===0}),x.jsx(Be,{label:"Descrição (Opcional)",id:"description",type:"text",value:S,onChange:J=>A(J.target.value),placeholder:$&&c===ve.EXPENSE?"Ex: Academia, Assinatura Spotify (será usado na fatura)":"Ex: Compras no mercado"}),x.jsx(Be,{label:"Data",id:"date",type:"date",value:T,onChange:J=>O(J.target.value),error:I.date,required:!0}),x.jsx(Nt,{label:c===ve.TRANSFER?"Debitar de (Conta)":"Debitar de (Conta / Cartão)",id:"sourceId",options:c===ve.TRANSFER?z.filter(J=>J.type==="account"):z,value:M,onChange:J=>C(J.target.value),error:I.sourceId,placeholder:"Selecione uma origem",disabled:z.length===0}),c===ve.TRANSFER&&x.jsx(Nt,{label:"Conta de Destino",id:"toAccountId",options:n.map(J=>({value:J.id,label:J.name})),value:D,onChange:J=>E(J.target.value),error:I.toAccountId,placeholder:"Selecione uma conta de destino",disabled:n.length===0}),i.length>0&&x.jsx(Nt,{label:"Tags (Opcional, segure Ctrl/Cmd para selecionar várias)",id:"tags",multiple:!0,options:q,value:k,onChange:Q,containerClassName:"h-auto",className:"h-24"}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(be,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(be,{type:"submit",variant:"primary",children:s?"Salvar Alterações":"Adicionar Transação"})]})]})},Wue=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-6.364-.386 1.591-1.591M3 12h2.25m.386-6.364 1.591 1.591M12 12a2.25 2.25 0 0 0-2.25 2.25 2.25 2.25 0 0 0 2.25 2.25A2.25 2.25 0 0 0 14.25 12 2.25 2.25 0 0 0 12 12Z"})}),Xue=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),Zue=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25Z"})}),Jue=({theme:t,setTheme:e})=>{const n=[{name:"light",label:"Claro",icon:x.jsx(Wue,{className:"w-4 h-4"})},{name:"dark",label:"Escuro",icon:x.jsx(Xue,{className:"w-4 h-4"})},{name:"system",label:"Sistema",icon:x.jsx(Zue,{className:"w-4 h-4"})}];return x.jsxs("div",{className:"p-2",children:[x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark mb-1 px-1",children:"Tema"}),x.jsx("div",{className:"flex items-center justify-around bg-neutral/10 dark:bg-neutralDark/20 rounded-md p-1",children:n.map(r=>x.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>e(r.name),className:`flex-1 !px-2 !py-1 text-xs transition-all duration-200 ease-in-out
                        ${t===r.name?"!bg-primary/20 dark:!bg-primaryDark/30 !text-primary dark:!text-primaryDark":"hover:!bg-neutral/20 dark:hover:!bg-neutralDark/30 !text-textMuted dark:!text-textMutedDark"}`,title:`Mudar para tema ${r.label.toLowerCase()}`,"aria-pressed":t===r.name,children:[Z.cloneElement(r.icon,{className:"w-4 h-4 sm:mr-1"}),x.jsx("span",{className:"hidden sm:inline",children:r.label})]},r.name))})]})},Que=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),ece=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93s.844.179 1.259.038l.821-.393c.55-.263 1.18.055 1.39.606l.548 1.004c.21.55-.056 1.18-.607 1.39l-.82.393c-.415.198-.688.598-.758 1.038s.038.844.179 1.259l.393.821c.263.55.055 1.18-.606 1.39l-1.004.548c-.55.21-1.18-.056-1.39-.607l-.393-.82c-.198-.415-.598-.688-1.038-.758s-.844-.038-1.259.179l-.821.393c-.55.263-1.18-.055-1.39-.606l-.548-1.004c-.21-.55.056-1.18.607-1.39l.82-.393c.415-.198.688.598-.758-1.038s-.038-.844-.179-1.259l-.393-.821c-.263-.55-.055-1.18.606-1.39l1.004-.548c.55-.21 1.18.056 1.39.607l.393.82c.198.415.598.688 1.038.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433l-.002-.003c-.043-.073-.086-.146-.129-.219l-.821-.393c-.415-.198-.688-.598-.758-1.038s.038-.844-.179-1.259l.393-.821A.991.991 0 0 0 12 3c-.55 0-1.02.398-1.11.94l-.149.894c-.07.424-.384.764-.78.93s-.844.179-1.259.038l-.821-.393a.991.991 0 0 0-1.433.287l-.003.002c-.073.043-.146.086-.219.129l-.393.821c-.198-.415-.598-.688-1.038.758s-.844-.038-1.259.179l-.821.393a.991.991 0 0 0-.287 1.433l.002.003c.043.073.086.146.129.219l.821.393c.415.198.688.598.758 1.038s-.038.844-.179-1.259l-.393.821a.991.991 0 0 0 1.433.287l.003-.002c.073-.043.146-.086.219-.129l.393-.821c.198-.415.598-.688 1.038-.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433L10.343 3.94Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})]}),tce=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5L12 14.25L7.5 16.5V3.75m9 0H18A2.25 2.25 0 0 1 20.25 6v12A2.25 2.25 0 0 1 18 20.25H6A2.25 2.25 0 0 1 3.75 18V6A2.25 2.25 0 0 1 6 3.75h1.5m9 0h-9"})}),nce=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),rce=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}),ace=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"})}),ice=()=>{var eu;const{addToast:t}=QR(),[e,n]=j.useState(null),[r,a]=j.useState(null),[i,s]=j.useState(!0),[u,c]=j.useState(null),[d,h]=j.useState("system"),[p,y]=j.useState(!1),[_,S]=j.useState({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),[A,T]=j.useState([]),[O,M]=j.useState([]),[C,D]=j.useState([]),[E,k]=j.useState([]),[P,I]=j.useState([]),[F,z]=j.useState([]),[B,W]=j.useState([]),[Q,Y]=j.useState([]),[q,$]=j.useState([]),[V,J]=j.useState([]),[oe,U]=j.useState([]),[K,ae]=j.useState([]),[ce,ye]=j.useState([]),[Pe,Oe]=j.useState([]),[At,Ze]=j.useState([]),[Ae,Ve]=j.useState(!0),[qe,ge]=j.useState("DASHBOARD"),[Ct,Xe]=j.useState(!1),[Ft,Pt]=j.useState(null),_t=j.useMemo(()=>{var L;return((L=r==null?void 0:r.user_metadata)==null?void 0:L.full_name)||(r==null?void 0:r.email)||"Usuário"},[r]);j.useEffect(()=>{s(!0),Ee.auth.getSession().then(({data:{session:H}})=>{n(H),a((H==null?void 0:H.user)??null),s(!1)});const{data:{subscription:L}}=Ee.auth.onAuthStateChange((H,G)=>{n(G),a((G==null?void 0:G.user)??null),s(!1),H==="SIGNED_OUT"&&(ge("LOGIN"),T([]),M([]),D([]),k([]),I([]),z([]),W([]),Y([]),$([]),J([]),U([]),ae([]),ye([]),Oe([]),Ze([]),h("system"),y(!1),S({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),t("Você foi desconectado.","info"))});return()=>L.unsubscribe()},[t]);const tr=j.useCallback(async L=>{var H,G;Ve(!0);try{const{data:ne,error:re}=await Ee.from("user_preferences").select("*").eq("user_id",L).single();if(re&&re.code!=="PGRST116")throw re;if(ne)h(ne.theme),y(ne.is_privacy_mode_enabled),S({isEnabled:ne.ai_is_enabled,monthlyIncome:ne.ai_monthly_income,autoBackupToFileEnabled:ne.ai_auto_backup_enabled,apiKeyStatus:Bi()?"available":"unavailable"});else{const Kn={theme:"system",is_privacy_mode_enabled:!1,ai_is_enabled:!1,ai_monthly_income:null,ai_auto_backup_enabled:!1},{error:vr}=await Ee.from("user_preferences").insert({user_id:L,...Kn});if(vr)throw vr;h(Kn.theme),y(Kn.is_privacy_mode_enabled),S({isEnabled:Kn.ai_is_enabled,monthlyIncome:Kn.ai_monthly_income,autoBackupToFileEnabled:Kn.ai_auto_backup_enabled,apiKeyStatus:Bi()?"available":"unavailable"})}const[he,Ce,_e,Ie,we,je,ut,Jt,Xi,Qo,es,Zi,tu,nu,ri]=await Promise.all([Ee.from("transactions").select("*").eq("user_id",L).order("date",{ascending:!1}),Ee.from("accounts").select("*").eq("user_id",L).order("name"),Ee.from("categories").select("*").eq("user_id",L).order("name"),Ee.from("credit_cards").select("*").eq("user_id",L).order("name"),Ee.from("installment_purchases").select("*").eq("user_id",L).order("purchase_date",{ascending:!1}),Ee.from("money_boxes").select("*").eq("user_id",L).order("name"),Ee.from("money_box_transactions").select("*").eq("user_id",L).order("date",{ascending:!1}),Ee.from("future_purchases").select("*").eq("user_id",L).order("created_at",{ascending:!1}),Ee.from("tags").select("*").eq("user_id",L).order("name"),Ee.from("recurring_transactions").select("*").eq("user_id",L).order("next_due_date"),Ee.from("loans").select("*").eq("user_id",L).order("loan_date",{ascending:!1}),Ee.from("loan_repayments").select("*").eq("user_id",L).order("repayment_date",{ascending:!1}),Ee.from("ai_insights").select("*").eq("user_id",L).order("timestamp",{ascending:!1}),Ee.from("debts").select("*").eq("user_id",L).order("created_at",{ascending:!1}),Ee.from("debt_payments").select("*").eq("user_id",L).order("payment_date",{ascending:!1})]);if(he.error)throw he.error;if(T(he.data),Ce.error)throw Ce.error;if(M(Ce.data),_e.error)throw _e.error;if(D(_e.data),Ie.error)throw Ie.error;if(k(Ie.data),we.error)throw we.error;if(I(we.data),je.error)throw je.error;if(z(je.data),ut.error)throw ut.error;if(W(ut.data),Jt.error)throw Jt.error;if(Y(Jt.data),Xi.error)throw Xi.error;if($(Xi.data),Qo.error)throw Qo.error;if(J(Qo.data),es.error)throw es.error;if(U(es.data),Zi.error)throw Zi.error;if(ae(Zi.data),tu.error)throw tu.error;if(ye(tu.data),nu.error)throw nu.error;if(Oe(nu.data),ri.error)throw ri.error;if(Ze(ri.data),((H=Ce.data)==null?void 0:H.length)===0){const Kn=wq(L).map(Jr=>({...Jr,user_id:L})),{data:vr,error:yr}=await Ee.from("accounts").insert(Kn).select();if(yr)throw yr;vr&&M(vr)}if(((G=_e.data)==null?void 0:G.length)===0){const Kn=_q(L).map(Jr=>({...Jr,user_id:L})),{data:vr,error:yr}=await Ee.from("categories").insert(Kn).select();if(yr)throw yr;vr&&D(vr)}ge("DASHBOARD")}catch(ne){console.error("Error fetching user data:",ne),t(`Erro ao carregar dados: ${ne.message}`,"error")}finally{Ve(!1)}},[t]);j.useEffect(()=>{r&&!i?tr(r.id):!r&&!i&&(ge("LOGIN"),Ve(!1))},[r,i,tr]);const zn=j.useCallback(async(L,H,G)=>{const{error:ne}=await Ee.from("user_preferences").update({[H]:G,updated_at:new Date().toISOString()}).eq("user_id",L);ne&&(console.error(`Error updating user preference ${H}:`,ne),t(`Erro ao salvar preferência (${H}): ${ne.message}`,"error"))},[t]),ma=j.useCallback(L=>{h(L),r&&zn(r.id,"theme",L)},[r,zn]),Gn=j.useCallback(()=>{const L=!p;y(L),r&&zn(r.id,"is_privacy_mode_enabled",L)},[p,r,zn]),mr=j.useCallback(L=>{const H={};L.isEnabled!==void 0&&(H.ai_is_enabled=L.isEnabled),L.monthlyIncome!==void 0&&(H.ai_monthly_income=L.monthlyIncome),L.autoBackupToFileEnabled!==void 0&&(H.ai_auto_backup_enabled=L.autoBackupToFileEnabled),S(G=>({...G,...L})),r&&Object.keys(H).length>0&&Ee.from("user_preferences").update({...H,updated_at:new Date().toISOString()}).eq("user_id",r.id).then(({error:G})=>{G&&(console.error("Error updating AI config in preferences:",G),t(`Erro ao salvar configurações da IA: ${G.message}`,"error"))})},[r,t]);j.useEffect(()=>{const L=H=>{H==="dark"||H==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};if(L(d),d==="system"){const H=window.matchMedia("(prefers-color-scheme: dark)"),G=()=>L("system");return H.addEventListener("change",G),()=>H.removeEventListener("change",G)}},[d]);const Xa=async()=>{try{c(null);const{error:L}=await Ee.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://thiago3005.github.io/controle-financeiro/"}});if(L)throw L}catch(L){console.error("Error signing in with Google:",L),c(L.message||"Falha ao fazer login com Google."),t(L.message||"Falha ao fazer login com Google.","error")}},Ho=async()=>{try{const{error:L}=await Ee.auth.signOut();if(L)throw L}catch(L){console.error("Error signing out:",L),t(L.message||"Falha ao sair.","error")}},Zr=j.useCallback(L=>{if(!r)return 0;const H=O.find(G=>G.id===L);return H?A.reduce((G,ne)=>{if(ne.account_id===L){if(ne.type===ve.INCOME)return G+ne.amount;if(ne.type===ve.EXPENSE||ne.type===ve.TRANSFER)return G-ne.amount}else if(ne.to_account_id===L&&ne.type===ve.TRANSFER)return G+ne.amount;return G},H.initial_balance):0},[O,A,r]),Ir=j.useCallback(L=>r?B.reduce((H,G)=>{if(G.money_box_id===L){if(G.type===fr.DEPOSIT)return H+G.amount;if(G.type===fr.WITHDRAWAL)return H-G.amount}return H},0):0,[B,r]),yt=j.useCallback(L=>{if(!r)return null;const H=new Date,G=mt(H),ne=H.getDate(),re=H.getFullYear(),he=H.getMonth(),Ce=new Date(re,he+1,0).getDate();let _e=[...A];if(L){const we={id:`simulated-${st()}`,user_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),type:L.type,amount:L.amount,date:L.date,description:L.description,account_id:"simulated_account"};_e.push(we)}const Ie=()=>d==="system"?typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":d;return{currentDate:G,dayOfMonth:ne,daysInMonth:Ce,accounts:O.map(we=>({id:we.id,name:we.name})),accountBalances:O.map(we=>({accountId:we.id,balance:Zr(we.id)})),categories:C.map(we=>({id:we.id,name:we.name,type:we.type,monthly_budget:we.monthly_budget})),transactions:_e,moneyBoxes:F.map(we=>({id:we.id,name:we.name,goal_amount:we.goal_amount})),moneyBoxBalances:F.map(we=>({moneyBoxId:we.id,balance:Ir(we.id)})),loans:oe.map(we=>({id:we.id,person_name:we.person_name,total_amount_to_reimburse:we.total_amount_to_reimburse})),outstandingLoanBalances:oe.map(we=>{const je=K.filter(ut=>ut.loan_id===we.id).reduce((ut,Jt)=>ut+Jt.amount_paid,0);return{loanId:we.id,outstanding:we.total_amount_to_reimburse-je}}),recurringTransactions:V.map(we=>({id:we.id,description:we.description,amount:we.amount,type:we.type,next_due_date:we.next_due_date,frequency:we.frequency,category_id:we.category_id})),futurePurchases:Q.map(we=>({id:we.id,name:we.name,estimated_cost:we.estimated_cost,priority:we.priority,status:we.status})),theme:Ie(),monthlyIncome:_.monthlyIncome,simulatedTransactionData:L}},[r,O,A,C,F,B,oe,K,V,Q,d,_.monthlyIncome,Zr,Ir]),Et=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("ai_insights").insert({...L,user_id:r.id}).select().single();G?t(`Erro ao salvar insight: ${G.message}`,"error"):H&&ye(ne=>[H,...ne].sort((re,he)=>new Date(he.timestamp).getTime()-new Date(re.timestamp).getTime()))},Pn=j.useCallback(async()=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const L=yt();if(!L)return;const H={timestamp:new Date().toISOString(),type:"general_advice",content:"Buscando novo conselho...",is_read:!1,isLoading:!0},G=st();ye(re=>[{...H,id:G,user_id:r.id,created_at:"",updated_at:""},...re]);const ne=await nue(L);ye(re=>re.filter(he=>he.id!==G)),ne&&Et(ne)},[r,_.isEnabled,_.apiKeyStatus,yt,Et]),wd=j.useCallback(async L=>{var _e,Ie,we;if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const H=yt();if(!H)return;const G={timestamp:new Date().toISOString(),type:"transaction_comment",content:`Analisando transação: ${L.description||L.type}...`,related_transaction_id:L.id,is_read:!1,isLoading:!0},ne=st();ye(je=>[{...G,id:ne,user_id:r.id,created_at:"",updated_at:""},...je]);const re=L.category_id?(_e=C.find(je=>je.id===L.category_id))==null?void 0:_e.name:void 0,he=((Ie=O.find(je=>je.id===L.account_id))==null?void 0:Ie.name)||((we=E.find(je=>je.id===L.account_id))==null?void 0:we.name),Ce=await rue(L,H,re,he);ye(je=>je.filter(ut=>ut.id!==ne)),Ce&&Et(Ce)},[r,_.isEnabled,_.apiKeyStatus,C,O,E,yt,Et]),Sd=j.useCallback(async L=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available"||L.type!==ve.EXPENSE||!L.category_id)return;const H=yt();if(!H)return;const G=C.find(_e=>_e.id===L.category_id);if(!G)return;const ne=L.date.substring(0,7),he=A.filter(_e=>_e.category_id===G.id&&_e.date.startsWith(ne)&&_e.type===ve.EXPENSE).reduce((_e,Ie)=>_e+Ie.amount,0);if(G.monthly_budget&&G.monthly_budget>0){const _e=G.monthly_budget/H.daysInMonth*H.dayOfMonth;if(he>_e*1.2){const Ie=await sue(G.name,he,_e,G.monthly_budget,H,G.id);Ie&&Et(Ie)}}if(G.monthly_budget&&G.monthly_budget>0&&H.dayOfMonth>0){const _e=he/H.dayOfMonth*H.daysInMonth,Ie=H.daysInMonth-H.dayOfMonth;if(_e>G.monthly_budget*1.05){const we=await lue(G.name,he,G.monthly_budget,Ie,_e,H,G.id);we&&Et(we)}}const Ce=A.filter(_e=>_e.category_id===G.id&&_e.id!==L.id).slice(0,20);if(Ce.length>5){const _e=await due(L,G.name,Ce);_e&&Et(_e)}},[r,_,C,A,yt,Et]),pp=j.useCallback(async()=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const L=yt();if(!L)return;const H={timestamp:new Date().toISOString(),type:"recurring_payment_candidate",content:"Analisando possíveis despesas recorrentes não cadastradas...",is_read:!1,isLoading:!0},G=st();ye(re=>[{...H,id:G,user_id:r.id,created_at:"",updated_at:""},...re]);const ne=await uue(A,V,L);ye(re=>re.filter(he=>he.id!==G)),ne?Et(ne):t("Nenhuma nova despesa recorrente óbvia encontrada.","info")},[r,_,A,V,yt,Et,t]),Ko=j.useCallback(async()=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const L=yt();if(!L)return;const H={timestamp:new Date().toISOString(),type:"saving_opportunity_suggestion",content:"Buscando oportunidades de economia...",is_read:!1,isLoading:!0},G=st();ye(re=>[{...H,id:G,user_id:r.id,created_at:"",updated_at:""},...re]);const ne=await cue(A,C,F,L);ye(re=>re.filter(he=>he.id!==G)),ne?Et(ne):t("Nenhuma oportunidade clara de economia encontrada no momento.","info")},[r,_,A,C,F,yt,Et,t]),Yo=j.useCallback(async(L=30,H)=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const G=yt(H);if(!G)return;const ne={timestamp:new Date().toISOString(),type:"cash_flow_projection",content:`Gerando projeção de fluxo de caixa para os próximos ${L} dias${H?" (com simulação)":""}...`,is_read:!1,isLoading:!0},re=st();ye(Ce=>[{...ne,id:re,user_id:r.id,created_at:"",updated_at:""},...Ce]);const he=await fue(G,L);ye(Ce=>Ce.filter(_e=>_e.id!==re)),he&&Et(he)},[r,_,yt,Et]),pa=j.useCallback(async(L,H)=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available"||!_.monthlyIncome)return t("Renda mensal não informada ou IA desativada.","warning"),null;const G=yt();if(!G)return null;const ne=C.find(_e=>_e.name===L&&_e.type===ve.EXPENSE),re={timestamp:new Date().toISOString(),type:"budget_recommendation",content:`Calculando sugestão de orçamento para ${L}...`,related_category_id:ne==null?void 0:ne.id,is_read:!1,isLoading:!0},he=st();ye(_e=>[{...re,id:he,user_id:r.id,created_at:"",updated_at:""},..._e]);const Ce=await aue(L,_.monthlyIncome,H,G);if(ye(_e=>_e.filter(Ie=>Ie.id!==he)),Ce&&"suggestedBudget"in Ce&&typeof Ce.suggestedBudget=="number"){const _e={content:`Sugestão para ${L}: ${xe(Ce.suggestedBudget)}`,related_category_id:ne==null?void 0:ne.id,timestamp:new Date().toISOString(),type:"budget_recommendation",is_read:!1};return Et(_e),Ce.suggestedBudget}else Ce&&"content"in Ce&&Et(Ce);return null},[r,_,C,yt,t,Et]),Wo=j.useCallback(async L=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available"){t("AI Coach desativado ou API Key indisponível.","warning");return}const H=Q.find(re=>re.id===L);if(!H)return;const G=yt();if(!G)return;Y(re=>re.map(he=>he.id===L?{...he,status:"AI_ANALYZING"}:he));const ne=await iue(H,G);if(ne&&"analysisText"in ne){const{data:re,error:he}=await Ee.from("future_purchases").update({status:ne.recommendedStatus,ai_analysis:ne.analysisText,ai_analyzed_at:new Date().toISOString()}).eq("id",L).eq("user_id",r.id).select().single();he||!re?(t(`Erro ao atualizar compra futura: ${(he==null?void 0:he.message)||"Falha"}`,"error"),Y(Ce=>Ce.map(_e=>_e.id===L?{..._e,status:H.status}:_e))):(Y(Ce=>Ce.map(_e=>_e.id===L?re:_e)),t(`Análise para "${H.name}" concluída!`,"info"))}else ne&&"content"in ne&&(Et(ne),Y(re=>re.map(he=>he.id===L?{...he,status:H.status}:he)))},[r,_,Q,yt,t,Et]),Za=async L=>{var re;if(!r)return;const H={...L,user_id:r.id},{data:G,error:ne}=await Ee.from("transactions").insert(H).select().single();if(ne){t(`Erro: ${ne.message}`,"error");return}if(G&&(T(Ce=>[G,...Ce].sort((_e,Ie)=>new Date(Ie.date).getTime()-new Date(_e.date).getTime())),Xe(!1),wd(G),Sd(G),t("Transação adicionada!","success"),E.some(Ce=>Ce.id===G.account_id)&&G.type===ve.EXPENSE)){const Ce={credit_card_id:G.account_id,description:`Débito na Fatura: ${G.description||((re=C.find(_e=>_e.id===G.category_id))==null?void 0:re.name)||"Despesa no Cartão"}`,purchase_date:G.date,total_amount:G.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:G.id};await Ki(Ce,!1)}},gp=async L=>{var re,he,Ce;if(!r||!L.id)return;const H=A.find(_e=>_e.id===L.id);if(!H){t("Erro: Transação original não encontrada.","error");return}const{data:G,error:ne}=await Ee.from("transactions").update(L).eq("id",L.id).eq("user_id",r.id).select().single();if(ne){t(`Erro ao atualizar transação: ${ne.message}`,"error");return}if(G){T(je=>je.map(ut=>ut.id===G.id?G:ut).sort((ut,Jt)=>new Date(Jt.date).getTime()-new Date(ut.date).getTime())),Xe(!1),Pt(null),wd(G),Sd(G),t("Transação atualizada!","success");const _e=E.some(je=>je.id===H.account_id)&&H.type===ve.EXPENSE,Ie=E.some(je=>je.id===G.account_id)&&G.type===ve.EXPENSE,we=P.find(je=>je.linked_transaction_id===H.id&&je.number_of_installments===1);if(_e&&!Ie&&we)await Zt(we.id,!1);else if(!_e&&Ie){const je={credit_card_id:G.account_id,description:`Débito na Fatura: ${G.description||((re=C.find(ut=>ut.id===G.category_id))==null?void 0:re.name)||"Despesa no Cartão"}`,purchase_date:G.date,total_amount:G.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:G.id};await Ki(je,!1)}else if(_e&&Ie&&we){if(H.account_id!==G.account_id&&we){await Zt(we.id,!1);const je={credit_card_id:G.account_id,description:`Débito na Fatura: ${G.description||((he=C.find(ut=>ut.id===G.category_id))==null?void 0:he.name)||"Despesa no Cartão"}`,purchase_date:G.date,total_amount:G.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:G.id};await Ki(je,!1)}else if(we){const je={...we,description:`Débito na Fatura: ${G.description||((Ce=C.find(ut=>ut.id===G.category_id))==null?void 0:Ce.name)||"Despesa no Cartão"}`,purchase_date:G.date,total_amount:G.amount};await pr(je,!1)}}}},Td=async L=>{if(r&&window.confirm("Excluir esta transação?")){B.find(ne=>ne.linked_transaction_id===L);const H=P.find(ne=>ne.linked_transaction_id===L&&ne.number_of_installments===1);H&&await Zt(H.id,!1);const{error:G}=await Ee.from("transactions").delete().eq("id",L).eq("user_id",r.id);G?t(`Erro: ${G.message}`,"error"):(T(ne=>ne.filter(re=>re.id!==L)),t("Transação excluída!","success"))}},Ad=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("accounts").insert({...L,user_id:r.id}).select().single();G?t(`Erro: ${G.message}`,"error"):H&&(M(ne=>[...ne,H].sort((re,he)=>re.name.localeCompare(he.name))),t("Conta adicionada!","success"))},Hl=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("accounts").update(L).eq("id",L.id).eq("user_id",r.id).select().single();G?t(`Erro: ${G.message}`,"error"):H&&(M(ne=>ne.map(re=>re.id===H.id?H:re).sort((re,he)=>re.name.localeCompare(he.name))),t("Conta atualizada!","success"))},Hi=async L=>{if(r){if(A.some(H=>H.account_id===L||H.to_account_id===L)||V.some(H=>H.account_id===L||H.to_account_id===L)||oe.some(H=>H.linked_account_id===L||K.some(G=>G.loan_id===H.id&&G.credited_account_id===L))||B.some(H=>{var G;return((G=A.find(ne=>ne.id===H.linked_transaction_id))==null?void 0:G.account_id)===L})||At.some(H=>{var G;return((G=A.find(ne=>ne.id===H.linked_expense_transaction_id))==null?void 0:G.account_id)===L})){t("Conta em uso. Remova/reatribua transações, recorrências, empréstimos ou pagamentos de dívidas primeiro.","error");return}if(window.confirm("Excluir esta conta?")){const{error:H}=await Ee.from("accounts").delete().eq("id",L).eq("user_id",r.id);H?t(`Erro: ${H.message}`,"error"):(M(G=>G.filter(ne=>ne.id!==L)),t("Conta excluída!","success"))}}},vp=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("categories").insert({...L,user_id:r.id}).select().single();G?t(`Erro: ${G.message}`,"error"):H&&(D(ne=>[...ne,H].sort((re,he)=>re.name.localeCompare(he.name))),t("Categoria adicionada!","success"))},Cd=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("categories").update(L).eq("id",L.id).eq("user_id",r.id).select().single();G?t(`Erro: ${G.message}`,"error"):H&&(D(ne=>ne.map(re=>re.id===H.id?H:re).sort((re,he)=>re.name.localeCompare(he.name))),t("Categoria atualizada!","success"))},Ed=async L=>{if(r){if(A.some(H=>H.category_id===L)||V.some(H=>H.category_id===L)){t("Categoria em uso. Remova/reatribua transações ou recorrências primeiro.","error");return}if(window.confirm("Excluir esta categoria?")){const{error:H}=await Ee.from("categories").delete().eq("id",L).eq("user_id",r.id);H?t(`Erro: ${H.message}`,"error"):(D(G=>G.filter(ne=>ne.id!==L)),t("Categoria excluída!","success"))}}},Kl=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("credit_cards").insert({...L,user_id:r.id}).select().single();G?t(`Erro: ${G.message}`,"error"):H&&(k(ne=>[...ne,H].sort((re,he)=>re.name.localeCompare(he.name))),t("Cartão adicionado!","success"))},Yl=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("credit_cards").update(L).eq("id",L.id).eq("user_id",r.id).select().single();G?t(`Erro: ${G.message}`,"error"):H&&(k(ne=>ne.map(re=>re.id===H.id?H:re).sort((re,he)=>re.name.localeCompare(he.name))),t("Cartão atualizado!","success"))},kd=async L=>{if(r){if(P.some(H=>H.credit_card_id===L)||oe.some(H=>H.linked_credit_card_id===L)||A.some(H=>H.account_id===L&&H.type===ve.EXPENSE)){t("Cartão em uso em compras, empréstimos ou débitos diretos. Remova-os primeiro.","error");return}if(window.confirm("Excluir este cartão?")){const{error:H}=await Ee.from("credit_cards").delete().eq("id",L).eq("user_id",r.id);H?t(`Erro: ${H.message}`,"error"):(k(G=>G.filter(ne=>ne.id!==L)),t("Cartão excluído!","success"))}}},Ki=async(L,H=!0)=>{if(!r)return;const{data:G,error:ne}=await Ee.from("installment_purchases").insert({...L,user_id:r.id}).select().single();ne?t(`Erro: ${ne.message}`,"error"):G&&(I(re=>[...re,G].sort((he,Ce)=>new Date(Ce.purchase_date).getTime()-new Date(he.purchase_date).getTime())),H&&t("Compra parcelada adicionada!","success"))},pr=async(L,H=!0)=>{if(!r)return;const{data:G,error:ne}=await Ee.from("installment_purchases").update(L).eq("id",L.id).eq("user_id",r.id).select().single();ne?t(`Erro: ${ne.message}`,"error"):G&&(I(re=>re.map(he=>he.id===G.id?G:he).sort((he,Ce)=>new Date(Ce.purchase_date).getTime()-new Date(he.purchase_date).getTime())),H&&t("Compra parcelada atualizada!","success"))},Zt=async(L,H=!0)=>{if(!r)return;const G=P.find(re=>re.id===L);if(oe.some(re=>re.linked_installment_purchase_id===L)){t("Esta compra parcelada está vinculada a um empréstimo. Remova o vínculo no empréstimo primeiro.","error");return}const ne=G!=null&&G.linked_transaction_id&&G.number_of_installments===1&&H?"Excluir esta compra e a transação de despesa original vinculada?":"Excluir esta compra parcelada?";if(window.confirm(ne)){if(G!=null&&G.linked_transaction_id&&G.number_of_installments===1&&H){const{error:he}=await Ee.from("transactions").delete().eq("id",G.linked_transaction_id).eq("user_id",r.id);he?t(`Erro ao excluir transação vinculada: ${he.message}`,"error"):T(Ce=>Ce.filter(_e=>_e.id!==G.linked_transaction_id))}const{error:re}=await Ee.from("installment_purchases").delete().eq("id",L).eq("user_id",r.id);re?t(`Erro ao excluir compra: ${re.message}`,"error"):(I(he=>he.filter(Ce=>Ce.id!==L)),t("Compra parcelada excluída!","success"))}},An=async L=>{if(!r)return;const H=P.find(G=>G.id===L);if(H&&H.installments_paid<H.number_of_installments){const G={...H,installments_paid:H.installments_paid+1};await pr(G)}},Ja=async L=>{if(!r)return;const H=E.find(re=>re.id===L);if(!H){t("Cartão não encontrado.","error");return}const G=XR(P,H,new Date);if(G.length===0){t("Nenhuma parcela elegível para pagamento neste ciclo.","info");return}const ne=G.map(re=>{const he={...re,installments_paid:re.installments_paid+1};return Ee.from("installment_purchases").update({installments_paid:he.installments_paid,updated_at:new Date().toISOString()}).eq("id",re.id).eq("user_id",r.id).select().single()});try{const re=await Promise.all(ne),he=[];let Ce=0;re.forEach(_e=>{_e.error?(Ce++,console.error("Error updating installment:",_e.error)):_e.data&&he.push(_e.data)}),he.length>0&&(I(_e=>_e.map(Ie=>he.find(je=>je.id===Ie.id)||Ie).sort((Ie,we)=>new Date(we.purchase_date).getTime()-new Date(Ie.purchase_date).getTime())),t(`${he.length} parcela(s) da fatura marcada(s) como paga(s)!`,"success")),Ce>0&&t(`Falha ao pagar ${Ce} parcela(s).`,"error")}catch(re){t(`Erro ao processar pagamento das parcelas: ${re.message}`,"error")}},Wl=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("money_boxes").insert({...L,user_id:r.id}).select().single();G?t(`Erro: ${G.message}`,"error"):H&&(z(ne=>[...ne,H].sort((re,he)=>re.name.localeCompare(he.name))),t("Caixinha adicionada!","success"))},yp=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("money_boxes").update(L).eq("id",L.id).eq("user_id",r.id).select().single();G?t(`Erro: ${G.message}`,"error"):H&&(z(ne=>ne.map(re=>re.id===H.id?H:re).sort((re,he)=>re.name.localeCompare(he.name))),t("Caixinha atualizada!","success"))},bp=async L=>{if(r){if(B.some(H=>H.money_box_id===L)){t("Caixinha possui transações. Exclua as transações primeiro.","error");return}if(window.confirm("Excluir esta caixinha?")){const{error:H}=await Ee.from("money_boxes").delete().eq("id",L).eq("user_id",r.id);H?t(`Erro ao excluir caixinha: ${H.message}`,"error"):(z(G=>G.filter(ne=>ne.id!==L)),t("Caixinha excluída!","success"))}}},Od=async(L,H,G)=>{var Ce;if(!r)return;let ne;if(H&&G){const _e=L.type===fr.DEPOSIT?ve.EXPENSE:ve.INCOME,Ie=`${L.type===fr.DEPOSIT?"Depósito para":"Saque de"} Caixinha: ${((Ce=F.find(ut=>ut.id===L.money_box_id))==null?void 0:Ce.name)||"N/A"}`,{data:we,error:je}=await Ee.from("transactions").insert({user_id:r.id,type:_e,amount:L.amount,date:L.date,account_id:G,description:Ie}).select().single();if(je||!we){t(`Erro ao criar transação principal: ${(je==null?void 0:je.message)||"Falha"}`,"error");return}ne=we.id,T(ut=>[we,...ut].sort((Jt,Xi)=>new Date(Xi.date).getTime()-new Date(Jt.date).getTime()))}const{data:re,error:he}=await Ee.from("money_box_transactions").insert({...L,user_id:r.id,linked_transaction_id:ne}).select().single();he?t(`Erro ao adicionar transação da caixinha: ${he.message}`,"error"):re&&(W(_e=>[..._e,re]),t("Transação da caixinha adicionada!","success"))},Yi=async(L,H)=>{if(r&&window.confirm(`Excluir esta transação da caixinha? ${H?"\\nA transação principal vinculada NÃO será excluída automaticamente por esta ação.":""}`)){const{error:G}=await Ee.from("money_box_transactions").delete().eq("id",L).eq("user_id",r.id);G?t(`Erro: ${G.message}`,"error"):(W(ne=>ne.filter(re=>re.id!==L)),t("Transação da caixinha excluída!","success"))}},Xl=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("tags").insert({...L,user_id:r.id}).select().single();G?t(`Erro: ${G.message}`,"error"):H&&($(ne=>[...ne,H].sort((re,he)=>re.name.localeCompare(he.name))),t("Tag adicionada!","success"))},Qa=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("tags").update(L).eq("id",L.id).eq("user_id",r.id).select().single();G?t(`Erro: ${G.message}`,"error"):H&&($(ne=>ne.map(re=>re.id===H.id?H:re).sort((re,he)=>re.name.localeCompare(he.name))),t("Tag atualizada!","success"))},ei=async L=>{if(r){if(A.some(H=>{var G;return(G=H.tag_ids)==null?void 0:G.includes(L)})){t("Tag em uso. Remova-a das transações primeiro.","error");return}if(window.confirm("Excluir esta tag?")){const{error:H}=await Ee.from("tags").delete().eq("id",L).eq("user_id",r.id);H?t(`Erro: ${H.message}`,"error"):($(G=>G.filter(ne=>ne.id!==L)),t("Tag excluída!","success"))}}},Wi=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("recurring_transactions").insert({...L,user_id:r.id}).select().single();G?t(`Erro: ${G.message}`,"error"):H&&(J(ne=>[...ne,H].sort((re,he)=>new Date(re.next_due_date).getTime()-new Date(he.next_due_date).getTime())),t("Recorrência adicionada!","success"))},ti=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("recurring_transactions").update(L).eq("id",L.id).eq("user_id",r.id).select().single();G?t(`Erro: ${G.message}`,"error"):H&&(J(ne=>ne.map(re=>re.id===H.id?H:re).sort((re,he)=>new Date(re.next_due_date).getTime()-new Date(he.next_due_date).getTime())),t("Recorrência atualizada!","success"))},tn=async L=>{if(r&&window.confirm("Excluir esta recorrência?")){const{error:H}=await Ee.from("recurring_transactions").delete().eq("id",L).eq("user_id",r.id);H?t(`Erro: ${H.message}`,"error"):(J(G=>G.filter(ne=>ne.id!==L)),t("Recorrência excluída!","success"))}},Md=async()=>{if(!r)return{count:0,errors:["Usuário não logado."]};const L=mt(),H=V.filter(re=>!re.is_paused&&re.next_due_date<=L&&(re.remaining_occurrences===void 0||re.remaining_occurrences>0));let G=0;const ne=[];for(const re of H){const he={type:re.type,amount:re.amount,category_id:re.category_id,description:`Rec: ${re.description}`,date:re.next_due_date,account_id:re.account_id,to_account_id:re.to_account_id};await Za(he);const Ce=hue(re.next_due_date,re.frequency,re.custom_interval_days),_e={last_posted_date:re.next_due_date,next_due_date:Ce,remaining_occurrences:re.remaining_occurrences!==void 0?Math.max(0,re.remaining_occurrences-1):void 0},{error:Ie}=await Ee.from("recurring_transactions").update(_e).eq("id",re.id).eq("user_id",r.id);Ie?ne.push(`Erro ao atualizar ${re.description}: ${Ie.message}`):(J(we=>we.map(je=>je.id===re.id?{...je,..._e}:je).sort((je,ut)=>new Date(je.next_due_date).getTime()-new Date(ut.next_due_date).getTime())),G++)}return{count:G,errors:ne}},Dd=async(L,H)=>{if(!r)return;let G,ne;if(L.funding_source==="account"&&L.linked_account_id&&L.amount_delivered_from_account){const{data:_e,error:Ie}=await Ee.from("transactions").insert({user_id:r.id,type:ve.EXPENSE,amount:L.amount_delivered_from_account,date:L.loan_date,account_id:L.linked_account_id,description:`Empréstimo para ${L.person_name}`}).select().single();if(Ie||!_e){t(`Erro ao criar despesa vinculada: ${(Ie==null?void 0:Ie.message)||"Falha"}`,"error");return}G=_e.id,T(we=>[_e,...we].sort((je,ut)=>new Date(ut.date).getTime()-new Date(je.date).getTime()))}else if(L.funding_source==="creditCard"&&L.linked_credit_card_id&&L.cost_on_credit_card&&H){const _e={credit_card_id:L.linked_credit_card_id,description:`Empréstimo (crédito) para ${L.person_name}`,purchase_date:L.loan_date,total_amount:L.cost_on_credit_card,number_of_installments:H,installments_paid:0};await Ki(_e,!1);const Ie=P.sort((we,je)=>new Date(je.created_at).getTime()-new Date(we.created_at).getTime())[0];Ie!=null&&Ie.description.startsWith(`Empréstimo (crédito) para ${L.person_name}`)?ne=Ie.id:t("Aviso: Não foi possível vincular automaticamente a compra parcelada ao empréstimo. Verifique manualmente.","warning")}const re={...L,user_id:r.id,linked_expense_transaction_id:G,linked_installment_purchase_id:ne},{data:he,error:Ce}=await Ee.from("loans").insert(re).select().single();Ce?t(`Erro ao adicionar empréstimo: ${Ce.message}`,"error"):he&&(U(_e=>[..._e,he].sort((Ie,we)=>new Date(we.loan_date).getTime()-new Date(Ie.loan_date).getTime())),t("Empréstimo adicionado!","success"))},ga=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("loans").update(L).eq("id",L.id).eq("user_id",r.id).select().single();G?t(`Erro: ${G.message}`,"error"):H&&(U(ne=>ne.map(re=>re.id===H.id?H:re).sort((re,he)=>new Date(he.loan_date).getTime()-new Date(re.loan_date).getTime())),t("Empréstimo atualizado!","success"))},ni=async L=>{if(r){if(K.some(H=>H.loan_id===L)){t("Este empréstimo possui pagamentos. Exclua os pagamentos primeiro.","error");return}if(window.confirm("Excluir este empréstimo? Isso também excluirá a despesa/compra parcelada vinculada, se houver.")){const H=oe.find(ne=>ne.id===L);H!=null&&H.linked_expense_transaction_id&&(await Ee.from("transactions").delete().eq("id",H.linked_expense_transaction_id).eq("user_id",r.id),T(ne=>ne.filter(re=>re.id!==H.linked_expense_transaction_id))),H!=null&&H.linked_installment_purchase_id&&(await Ee.from("installment_purchases").delete().eq("id",H.linked_installment_purchase_id).eq("user_id",r.id),I(ne=>ne.filter(re=>re.id!==H.linked_installment_purchase_id)));const{error:G}=await Ee.from("loans").delete().eq("id",L).eq("user_id",r.id);G?t(`Erro ao excluir empréstimo: ${G.message}`,"error"):(U(ne=>ne.filter(re=>re.id!==L)),t("Empréstimo excluído!","success"))}}},xp=async(L,H)=>{if(!r)return;const G=oe.find(Ie=>Ie.id===H);if(!G){t("Empréstimo não encontrado.","error");return}const{data:ne,error:re}=await Ee.from("transactions").insert({user_id:r.id,type:ve.INCOME,amount:L.amount_paid,date:L.repayment_date,account_id:L.credited_account_id,description:`Recebimento empréstimo de ${G.person_name}`}).select().single();if(re||!ne){t(`Erro ao criar receita vinculada: ${(re==null?void 0:re.message)||"Falha"}`,"error");return}T(Ie=>[ne,...Ie].sort((we,je)=>new Date(je.date).getTime()-new Date(we.date).getTime()));const he={...L,user_id:r.id,loan_id:H,linked_income_transaction_id:ne.id},{data:Ce,error:_e}=await Ee.from("loan_repayments").insert(he).select().single();_e?t(`Erro ao adicionar pagamento: ${_e.message}`,"error"):Ce&&(ae(Ie=>[...Ie,Ce]),t("Pagamento registrado!","success"))},Nd=async L=>{if(!r)return;const H={...L,user_id:r.id,status:"PLANNED"},{data:G,error:ne}=await Ee.from("future_purchases").insert(H).select().single();ne?t(`Erro: ${ne.message}`,"error"):G&&(Y(re=>[...re,G]),t("Compra futura adicionada!","success"))},Pd=async L=>{if(!r)return;const H=Q.find(he=>he.id===L.id);if(!H)return;const G={...H,...L},{data:ne,error:re}=await Ee.from("future_purchases").update(G).eq("id",G.id).eq("user_id",r.id).select().single();re?t(`Erro: ${re.message}`,"error"):ne&&(Y(he=>he.map(Ce=>Ce.id===ne.id?ne:Ce)),t("Compra futura atualizada!","success"))},_p=async L=>{if(r&&window.confirm("Excluir esta compra futura?")){const{error:H}=await Ee.from("future_purchases").delete().eq("id",L).eq("user_id",r.id);H?t(`Erro: ${H.message}`,"error"):(Y(G=>G.filter(ne=>ne.id!==L)),t("Compra futura excluída!","success"))}},Xo=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("ai_insights").update({is_read:L.is_read}).eq("id",L.id).eq("user_id",r.id).select().single();G?t(`Erro ao atualizar insight: ${G.message}`,"error"):H&&ye(ne=>ne.map(re=>re.id===H.id?H:re).sort((re,he)=>new Date(he.timestamp).getTime()-new Date(re.timestamp).getTime()))},Zo=async L=>{if(!r)return;const H={...L,user_id:r.id,current_balance:L.initial_balance,is_archived:!1},{data:G,error:ne}=await Ee.from("debts").insert(H).select().single();ne?t(`Erro ao adicionar dívida: ${ne.message}`,"error"):G&&(Oe(re=>[...re,G].sort((he,Ce)=>new Date(Ce.created_at).getTime()-new Date(he.created_at).getTime())),t("Dívida adicionada!","success"))},gr=async L=>{if(!r)return;const{data:H,error:G}=await Ee.from("debts").update(L).eq("id",L.id).eq("user_id",r.id).select().single();G?t(`Erro ao atualizar dívida: ${G.message}`,"error"):H&&(Oe(ne=>ne.map(re=>re.id===H.id?H:re)),t("Dívida atualizada!","success"))},Zl=async L=>{if(r){if(At.some(H=>H.debt_id===L)){t("Esta dívida possui pagamentos registrados. Exclua os pagamentos primeiro.","error");return}if(window.confirm("Excluir esta dívida?")){const{error:H}=await Ee.from("debts").delete().eq("id",L).eq("user_id",r.id);H?t(`Erro ao excluir dívida: ${H.message}`,"error"):(Oe(G=>G.filter(ne=>ne.id!==L)),t("Dívida excluída!","success"))}}},Rd=async(L,H,G)=>{var Ie;if(!r)return;const ne=Pe.find(we=>we.id===L.debt_id);if(!ne){t("Dívida não encontrada.","error");return}let re;if(H&&G){const we={type:ve.EXPENSE,amount:L.amount_paid,category_id:(Ie=C.find(Jt=>Jt.name.toLowerCase().includes("pagamento de dívida")||Jt.name.toLowerCase().includes("empréstimo")))==null?void 0:Ie.id,description:`Pagamento: ${ne.name}`,date:L.payment_date,account_id:G},{data:je,error:ut}=await Ee.from("transactions").insert({...we,user_id:r.id}).select().single();if(ut||!je){t(`Erro ao criar despesa vinculada: ${(ut==null?void 0:ut.message)||"Falha"}`,"error");return}re=je.id,T(Jt=>[je,...Jt])}const he={...L,user_id:r.id,linked_expense_transaction_id:re},{data:Ce,error:_e}=await Ee.from("debt_payments").insert(he).select().single();if(_e){t(`Erro ao registrar pagamento da dívida: ${_e.message}`,"error");return}if(Ce){Ze(je=>[...je,Ce]);const we={...ne,current_balance:Math.max(0,ne.current_balance-Ce.amount_paid)};await gr(we),t("Pagamento da dívida registrado!","success")}},jr=()=>{Pt(null),Xe(!0)},Jl=L=>{Pt(L),Xe(!0)},Jo=[{view:"DASHBOARD",label:"Painel Geral",icon:x.jsx(_$,{})},{view:"TRANSACTIONS",label:"Transações",icon:x.jsx(Que,{})},{view:"ACCOUNTS",label:"Contas",icon:x.jsx(sd,{})},{view:"CATEGORIES",label:"Categorias",icon:x.jsx(w$,{})},{view:"CREDIT_CARDS",label:"Cartões de Crédito",icon:x.jsx(sd,{})},{view:"MONEY_BOXES",label:"Caixinhas",icon:x.jsx(X$,{})},{view:"FUTURE_PURCHASES",label:"Compras Futuras",icon:x.jsx(XS,{})},{view:"TAGS",label:"Tags",icon:x.jsx(tce,{})},{view:"RECURRING_TRANSACTIONS",label:"Recorrências",icon:x.jsx(wm,{})},{view:"LOANS",label:"Empréstimos",icon:x.jsx(Bw,{})},{view:"DEBT_PLANNER",label:"Planejador Dívidas",icon:x.jsx(J$,{})},{view:"AI_COACH",label:"AI Coach",icon:x.jsx(Nw,{})},{view:"DATA_MANAGEMENT",label:"Dados",icon:x.jsx(ece,{})}],wp=Jo.filter(L=>["DASHBOARD","TRANSACTIONS","AI_COACH","DEBT_PLANNER","ACCOUNTS"].includes(L.view)).slice(0,5);if(i||r&&Ae)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background dark:bg-backgroundDark",children:x.jsx("p",{className:"text-lg text-textMuted dark:text-textMutedDark",children:"Carregando..."})});if(!r)return x.jsx(Fue,{onLoginWithGoogle:Xa,isLoading:i});const Ql=L=>{V.find(G=>G.id===L)?ge("RECURRING_TRANSACTIONS"):t("Transação recorrente não encontrada.","warning")},Hn=()=>{switch(qe){case"DASHBOARD":return x.jsx(Q2,{transactions:A,accounts:O,categories:C,creditCards:E,installmentPurchases:P,moneyBoxes:F,loans:oe,loanRepayments:K,recurringTransactions:V,onAddTransaction:jr,calculateAccountBalance:Zr,calculateMoneyBoxBalance:Ir,onViewRecurringTransaction:Ql,isPrivacyModeEnabled:p});case"TRANSACTIONS":return x.jsx(QQ,{transactions:A,accounts:O,categories:C,tags:q,installmentPurchases:P,onAddTransaction:jr,onEditTransaction:Jl,onDeleteTransaction:Td,isLoading:Ae,isPrivacyModeEnabled:p});case"ACCOUNTS":return x.jsx(tee,{accounts:O,transactions:A,onAddAccount:Ad,onUpdateAccount:Hl,onDeleteAccount:Hi,calculateAccountBalance:Zr,isPrivacyModeEnabled:p});case"CREDIT_CARDS":return x.jsx(mue,{creditCards:E,installmentPurchases:P,aiConfig:_,onAddCreditCard:Kl,onUpdateCreditCard:Yl,onDeleteCreditCard:kd,onAddInstallmentPurchase:Ki,onUpdateInstallmentPurchase:pr,onDeleteInstallmentPurchase:Zt,onMarkInstallmentPaid:An,onPayMonthlyInstallments:Ja,isPrivacyModeEnabled:p});case"CATEGORIES":return x.jsx(nee,{categories:C,transactions:A,aiConfig:_,onAddCategory:vp,onUpdateCategory:Cd,onDeleteCategory:Ed,onSuggestBudget:pa,isPrivacyModeEnabled:p});case"MONEY_BOXES":return x.jsx(bue,{moneyBoxes:F,moneyBoxTransactions:B,accounts:O,onAddMoneyBox:Wl,onUpdateMoneyBox:yp,onDeleteMoneyBox:bp,onAddMoneyBoxTransaction:Od,onDeleteMoneyBoxTransaction:Yi,calculateMoneyBoxBalance:Ir,isPrivacyModeEnabled:p});case"FUTURE_PURCHASES":return x.jsx(Eue,{futurePurchases:Q,onAddFuturePurchase:Nd,onUpdateFuturePurchase:Pd,onDeleteFuturePurchase:_p,onAnalyzeFuturePurchase:Wo,isPrivacyModeEnabled:p});case"TAGS":return x.jsx(Due,{tags:q,transactions:A,onAddTag:Xl,onUpdateTag:Qa,onDeleteTag:ei});case"RECURRING_TRANSACTIONS":return x.jsx(Iue,{recurringTransactions:V,accounts:O,categories:C,onAddRecurringTransaction:Wi,onUpdateRecurringTransaction:ti,onDeleteRecurringTransaction:tn,onProcessRecurringTransactions:Md,isPrivacyModeEnabled:p});case"LOANS":return x.jsx(Bue,{loans:oe,loanRepayments:K,accounts:O,creditCards:E,onAddLoan:Dd,onUpdateLoan:ga,onDeleteLoan:ni,onAddLoanRepayment:xp,isPrivacyModeEnabled:p});case"DEBT_PLANNER":return x.jsx(Kue,{debts:Pe,debtPayments:At,accounts:O,onAddDebt:Zo,onUpdateDebt:gr,onDeleteDebt:Zl,onAddDebtPayment:Rd,isPrivacyModeEnabled:p});case"AI_COACH":return x.jsx(que,{aiConfig:_,setAiConfig:mr,insights:ce,onFetchGeneralAdvice:Pn,onUpdateInsight:Xo,isPrivacyModeEnabled:p,onFetchRecurringPaymentCandidates:pp,onFetchSavingOpportunities:Ko,onFetchCashFlowProjection:Yo});case"DATA_MANAGEMENT":return x.jsx(kue,{allData:{transactions:A,accounts:O,categories:C,creditCards:E,installmentPurchases:P,moneyBoxes:F,moneyBoxTransactions:B,futurePurchases:Q,tags:q,recurringTransactions:V,loans:oe,loanRepayments:K,aiInsights:ce,debts:Pe,debtPayments:At},userPreferencesToExport:{theme:d,is_privacy_mode_enabled:p,ai_is_enabled:_.isEnabled,ai_monthly_income:_.monthlyIncome,ai_auto_backup_enabled:_.autoBackupToFileEnabled},activeProfileName:_t,setAiConfig:mr,user:r});default:return ge("DASHBOARD"),x.jsx(Q2,{transactions:A,accounts:O,categories:C,creditCards:E,installmentPurchases:P,moneyBoxes:F,loans:oe,loanRepayments:K,recurringTransactions:V,onAddTransaction:jr,calculateAccountBalance:Zr,calculateMoneyBoxBalance:Ir,onViewRecurringTransaction:Ql,isPrivacyModeEnabled:p})}};return x.jsxs("div",{className:"min-h-screen bg-background text-textBase dark:bg-backgroundDark dark:text-textBaseDark flex flex-col md:flex-row transition-colors duration-300",children:[x.jsxs("nav",{className:"hidden md:flex flex-col w-64 bg-surface dark:bg-surfaceDark border-r border-borderBase dark:border-borderBaseDark p-4 fixed top-0 left-0 h-full shadow-lg dark:shadow-neutralDark/40 overflow-y-auto",children:[x.jsxs("div",{className:"px-2 py-3 mb-1",children:[x.jsx("h1",{className:"text-2xl font-bold text-primary dark:text-primaryDark",children:Hx}),x.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[(eu=r==null?void 0:r.user_metadata)!=null&&eu.avatar_url?x.jsx("img",{src:r.user_metadata.avatar_url,alt:"Avatar",className:"w-8 h-8 rounded-full"}):x.jsx(Z$,{className:"w-8 h-8 text-textMuted dark:text-textMutedDark"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-textBase dark:text-textBaseDark truncate",title:_t,children:_t}),x.jsxs(be,{variant:"ghost",size:"sm",onClick:Gn,className:"!p-1 text-xs text-textMuted dark:text-textMutedDark hover:text-primary dark:hover:text-primaryDark",children:[p?x.jsx(rce,{className:"w-4 h-4 mr-1"}):x.jsx(nce,{className:"w-4 h-4 mr-1"}),p?"Modo Privado":"Normal"]})]})]})]}),x.jsx("div",{className:"flex-grow space-y-1",children:Jo.map(L=>L.view==="AI_COACH"&&_.apiKeyStatus==="unavailable"?null:x.jsxs(be,{variant:"ghost",onClick:()=>ge(L.view),className:`w-full flex items-center justify-start px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
                                ${qe===L.view?"!bg-primary/10 !text-primary dark:!bg-primaryDark/20 dark:!text-primaryDark":"!text-textMuted dark:!text-textMutedDark hover:!bg-neutral/5 dark:hover:!bg-neutralDark/10 hover:!text-textBase dark:hover:!text-textBaseDark"}`,"aria-current":qe===L.view?"page":void 0,children:[Z.cloneElement(L.icon,{className:"w-5 h-5 mr-3 flex-shrink-0"}),x.jsx("span",{className:"flex-1 truncate",children:L.label}),L.view==="AI_COACH"&&_.isEnabled&&_.apiKeyStatus==="available"&&x.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full",title:"AI Coach Ativado"})]},L.view))}),x.jsxs("div",{className:"mt-auto pt-2 space-y-2",children:[x.jsxs(be,{variant:"ghost",onClick:Ho,className:"w-full flex items-center justify-start px-3 py-2.5 rounded-lg text-sm font-medium text-textMuted dark:text-textMutedDark hover:bg-neutral/5 dark:hover:bg-neutralDark/10 hover:!text-destructive dark:hover:!text-destructiveDark",title:"Sair",children:[x.jsx(ace,{className:"w-5 h-5 mr-3 flex-shrink-0"}),x.jsx("span",{className:"flex-1 truncate",children:"Sair"})]}),x.jsx(Jue,{theme:d,setTheme:ma})]})]}),x.jsx("main",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:Hn()}),x.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-surface dark:bg-surfaceDark border-t border-borderBase dark:border-borderBaseDark shadow-top p-1 grid grid-cols-5 gap-1 z-20",children:wp.map(L=>L.view==="AI_COACH"&&_.apiKeyStatus==="unavailable"?x.jsx("div",{className:"flex flex-col items-center justify-center p-1.5 rounded-md opacity-50",children:"..."},L.view):x.jsxs(be,{variant:"ghost",onClick:()=>ge(L.view),title:L.label,className:`flex flex-col items-center justify-center p-1.5 rounded-md relative
                          ${qe===L.view?"!text-primary dark:!text-primaryDark !bg-primary/10 dark:!bg-primaryDark/20":"!text-textMuted dark:!text-textMutedDark hover:!text-primary dark:hover:!text-primaryDark"}`,"aria-current":qe===L.view?"page":void 0,children:[Z.cloneElement(L.icon,{className:"w-5 h-5 mb-0.5"}),x.jsx("span",{className:"text-[10px] leading-tight text-center",children:L.label}),L.view==="AI_COACH"&&_.isEnabled&&_.apiKeyStatus==="available"&&x.jsx("span",{className:"absolute top-1 right-1 w-1.5 h-1.5 bg-green-500 rounded-full"})]},L.view))}),x.jsx(be,{onClick:jr,title:"Nova Transação",variant:"primary",className:"md:hidden fixed bottom-16 right-4 text-white rounded-full p-3 shadow-lg z-30 hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors","aria-label":"Adicionar Nova Transação",children:x.jsx(Dn,{className:"w-7 h-7"})}),x.jsx(Nn,{isOpen:Ct,onClose:()=>{Xe(!1),Pt(null)},title:Ft?"Editar Transação":"Nova Transação",size:"lg",children:x.jsx(Yue,{onSubmit:Ft?gp:L=>Za(L),onCancel:()=>{Xe(!1),Pt(null)},accounts:O,creditCards:E,categories:C,tags:q,initialTransaction:Ft,isPrivacyModeEnabled:p})})]})},oce=()=>x.jsx(Aq,{children:x.jsx(ice,{})}),Q$=document.getElementById("root");if(!Q$)throw new Error("Could not find root element to mount to");const sce=dB.createRoot(Q$);sce.render(x.jsx(Z.StrictMode,{children:x.jsx(oce,{})}));
