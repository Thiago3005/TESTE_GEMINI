(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Z3(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var cv={exports:{}},Uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function J3(){if(hE)return Uu;hE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:s,ref:a!==void 0?a:null,props:i}}return Uu.Fragment=e,Uu.jsx=n,Uu.jsxs=n,Uu}var pE;function Q3(){return pE||(pE=1,cv.exports=J3()),cv.exports}var x=Q3(),fv={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function eB(){if(mE)return Ze;mE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function T($,G,ne){this.props=$,this.context=G,this.refs=A,this.updater=ne||_}T.prototype.isReactComponent={},T.prototype.setState=function($,G){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,G,"setState")},T.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function C(){}C.prototype=T.prototype;function O($,G,ne){this.props=$,this.context=G,this.refs=A,this.updater=ne||_}var E=O.prototype=new C;E.constructor=O,S(E,T.prototype),E.isPureReactComponent=!0;var N=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function P($,G,ne,ce,ge,De){return ne=De.ref,{$$typeof:t,type:$,key:G,ref:ne!==void 0?ne:null,props:De}}function I($,G){return P($.type,G,void 0,void 0,void 0,$.props)}function B($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function V($){var G={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ne){return G[ne]})}var L=/\/+/g;function W($,G){return typeof $=="object"&&$!==null&&$.key!=null?V(""+$.key):G.toString(36)}function Q(){}function Y($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(Q,Q):($.status="pending",$.then(function(G){$.status==="pending"&&($.status="fulfilled",$.value=G)},function(G){$.status==="pending"&&($.status="rejected",$.reason=G)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function H($,G,ne,ce,ge){var De=typeof $;(De==="undefined"||De==="boolean")&&($=null);var Ce=!1;if($===null)Ce=!0;else switch(De){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch($.$$typeof){case t:case e:Ce=!0;break;case h:return Ce=$._init,H(Ce($._payload),G,ne,ce,ge)}}if(Ce)return ge=ge($),Ce=ce===""?"."+W($,0):ce,N(ge)?(ne="",Ce!=null&&(ne=Ce.replace(L,"$&/")+"/"),H(ge,G,ne,"",function(we){return we})):ge!=null&&(B(ge)&&(ge=I(ge,ne+(ge.key==null||$&&$.key===ge.key?"":(""+ge.key).replace(L,"$&/")+"/")+Ce)),G.push(ge)),1;Ce=0;var yt=ce===""?".":ce+":";if(N($))for(var ze=0;ze<$.length;ze++)ce=$[ze],De=yt+W(ce,ze),Ce+=H(ce,G,ne,De,ge);else if(ze=y($),typeof ze=="function")for($=ze.call($),ze=0;!(ce=$.next()).done;)ce=ce.value,De=yt+W(ce,ze++),Ce+=H(ce,G,ne,De,ge);else if(De==="object"){if(typeof $.then=="function")return H(Y($),G,ne,ce,ge);throw G=String($),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function j($,G,ne){if($==null)return $;var ce=[],ge=0;return H($,ce,"","",function(De){return G.call(ne,De,ge++)}),ce}function F($){if($._status===-1){var G=$._result;G=G(),G.then(function(ne){($._status===0||$._status===-1)&&($._status=1,$._result=ne)},function(ne){($._status===0||$._status===-1)&&($._status=2,$._result=ne)}),$._status===-1&&($._status=0,$._result=G)}if($._status===1)return $._result.default;throw $._result}var Z=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function ae(){}return Ze.Children={map:j,forEach:function($,G,ne){j($,function(){G.apply(this,arguments)},ne)},count:function($){var G=0;return j($,function(){G++}),G},toArray:function($){return j($,function(G){return G})||[]},only:function($){if(!B($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ze.Component=T,Ze.Fragment=n,Ze.Profiler=a,Ze.PureComponent=O,Ze.StrictMode=r,Ze.Suspense=c,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ze.__COMPILER_RUNTIME={__proto__:null,c:function($){return k.H.useMemoCache($)}},Ze.cache=function($){return function(){return $.apply(null,arguments)}},Ze.cloneElement=function($,G,ne){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ce=S({},$.props),ge=$.key,De=void 0;if(G!=null)for(Ce in G.ref!==void 0&&(De=void 0),G.key!==void 0&&(ge=""+G.key),G)!M.call(G,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&G.ref===void 0||(ce[Ce]=G[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=ne;else if(1<Ce){for(var yt=Array(Ce),ze=0;ze<Ce;ze++)yt[ze]=arguments[ze+2];ce.children=yt}return P($.type,ge,void 0,void 0,De,ce)},Ze.createContext=function($){return $={$$typeof:s,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:i,_context:$},$},Ze.createElement=function($,G,ne){var ce,ge={},De=null;if(G!=null)for(ce in G.key!==void 0&&(De=""+G.key),G)M.call(G,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ge[ce]=G[ce]);var Ce=arguments.length-2;if(Ce===1)ge.children=ne;else if(1<Ce){for(var yt=Array(Ce),ze=0;ze<Ce;ze++)yt[ze]=arguments[ze+2];ge.children=yt}if($&&$.defaultProps)for(ce in Ce=$.defaultProps,Ce)ge[ce]===void 0&&(ge[ce]=Ce[ce]);return P($,De,void 0,void 0,null,ge)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function($){return{$$typeof:u,render:$}},Ze.isValidElement=B,Ze.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:F}},Ze.memo=function($,G){return{$$typeof:f,type:$,compare:G===void 0?null:G}},Ze.startTransition=function($){var G=k.T,ne={};k.T=ne;try{var ce=$(),ge=k.S;ge!==null&&ge(ne,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ae,Z)}catch(De){Z(De)}finally{k.T=G}},Ze.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ze.use=function($){return k.H.use($)},Ze.useActionState=function($,G,ne){return k.H.useActionState($,G,ne)},Ze.useCallback=function($,G){return k.H.useCallback($,G)},Ze.useContext=function($){return k.H.useContext($)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function($,G){return k.H.useDeferredValue($,G)},Ze.useEffect=function($,G,ne){var ce=k.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect($,G)},Ze.useId=function(){return k.H.useId()},Ze.useImperativeHandle=function($,G,ne){return k.H.useImperativeHandle($,G,ne)},Ze.useInsertionEffect=function($,G){return k.H.useInsertionEffect($,G)},Ze.useLayoutEffect=function($,G){return k.H.useLayoutEffect($,G)},Ze.useMemo=function($,G){return k.H.useMemo($,G)},Ze.useOptimistic=function($,G){return k.H.useOptimistic($,G)},Ze.useReducer=function($,G,ne){return k.H.useReducer($,G,ne)},Ze.useRef=function($){return k.H.useRef($)},Ze.useState=function($){return k.H.useState($)},Ze.useSyncExternalStore=function($,G,ne){return k.H.useSyncExternalStore($,G,ne)},Ze.useTransition=function(){return k.H.useTransition()},Ze.version="19.1.0",Ze}var gE;function xw(){return gE||(gE=1,fv.exports=eB()),fv.exports}var q=xw();const X=pt(q);var dv={exports:{}},Fu={},hv={exports:{}},pv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function tB(){return vE||(vE=1,function(t){function e(j,F){var Z=j.length;j.push(F);e:for(;0<Z;){var ae=Z-1>>>1,$=j[ae];if(0<a($,F))j[ae]=F,j[Z]=$,Z=ae;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var F=j[0],Z=j.pop();if(Z!==F){j[0]=Z;e:for(var ae=0,$=j.length,G=$>>>1;ae<G;){var ne=2*(ae+1)-1,ce=j[ne],ge=ne+1,De=j[ge];if(0>a(ce,Z))ge<$&&0>a(De,ce)?(j[ae]=De,j[ge]=Z,ae=ge):(j[ae]=ce,j[ne]=Z,ae=ne);else if(ge<$&&0>a(De,Z))j[ae]=De,j[ge]=Z,ae=ge;else break e}}return F}function a(j,F){var Z=j.sortIndex-F.sortIndex;return Z!==0?Z:j.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,m=null,y=3,_=!1,S=!1,A=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function N(j){for(var F=n(f);F!==null;){if(F.callback===null)r(f);else if(F.startTime<=j)r(f),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(f)}}function k(j){if(A=!1,N(j),!S)if(n(c)!==null)S=!0,M||(M=!0,W());else{var F=n(f);F!==null&&H(k,F.startTime-j)}}var M=!1,P=-1,I=5,B=-1;function V(){return T?!0:!(t.unstable_now()-B<I)}function L(){if(T=!1,M){var j=t.unstable_now();B=j;var F=!0;try{e:{S=!1,A&&(A=!1,O(P),P=-1),_=!0;var Z=y;try{t:{for(N(j),m=n(c);m!==null&&!(m.expirationTime>j&&V());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,y=m.priorityLevel;var $=ae(m.expirationTime<=j);if(j=t.unstable_now(),typeof $=="function"){m.callback=$,N(j),F=!0;break t}m===n(c)&&r(c),N(j)}else r(c);m=n(c)}if(m!==null)F=!0;else{var G=n(f);G!==null&&H(k,G.startTime-j),F=!1}}break e}finally{m=null,y=Z,_=!1}F=void 0}}finally{F?W():M=!1}}}var W;if(typeof E=="function")W=function(){E(L)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=L,W=function(){Y.postMessage(null)}}else W=function(){C(L,0)};function H(j,F){P=C(function(){j(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(j){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var Z=y;y=F;try{return j()}finally{y=Z}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Z=y;y=j;try{return F()}finally{y=Z}},t.unstable_scheduleCallback=function(j,F,Z){var ae=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ae+Z:ae):Z=ae,j){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Z+$,j={id:h++,callback:F,priorityLevel:j,startTime:Z,expirationTime:$,sortIndex:-1},Z>ae?(j.sortIndex=Z,e(f,j),n(c)===null&&j===n(f)&&(A?(O(P),P=-1):A=!0,H(k,Z-ae))):(j.sortIndex=$,e(c,j),S||_||(S=!0,M||(M=!0,W()))),j},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(j){var F=y;return function(){var Z=y;y=F;try{return j.apply(this,arguments)}finally{y=Z}}}}(pv)),pv}var yE;function nB(){return yE||(yE=1,hv.exports=tB()),hv.exports}var mv={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function rB(){if(bE)return An;bE=1;var t=xw();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(c,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,An.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return i(c,f,null,h)},An.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},An.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},An.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},An.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:_}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:y,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},An.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},An.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},An.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},An.requestFormReset=function(c){r.d.r(c)},An.unstable_batchedUpdates=function(c,f){return c(f)},An.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},An.useFormStatus=function(){return s.H.useHostTransitionStatus()},An.version="19.1.0",An}var xE;function aB(){if(xE)return mv.exports;xE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mv.exports=rB(),mv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function iB(){if(_E)return Fu;_E=1;var t=nB(),e=xw(),n=aB();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(r(188))}function c(o){var l=o.alternate;if(!l){if(l=i(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,p=l;;){var b=d.return;if(b===null)break;var w=b.alternate;if(w===null){if(p=b.return,p!==null){d=p;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===d)return u(b),o;if(w===p)return u(b),l;w=w.sibling}throw Error(r(188))}if(d.return!==p.return)d=b,p=w;else{for(var D=!1,R=b.child;R;){if(R===d){D=!0,d=b,p=w;break}if(R===p){D=!0,p=b,d=w;break}R=R.sibling}if(!D){for(R=w.child;R;){if(R===d){D=!0,d=w,p=b;break}if(R===p){D=!0,p=w,d=b;break}R=R.sibling}if(!D)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function f(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=f(o),l!==null)return l;o=o.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),E=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=L&&o[L]||o["@@iterator"],typeof o=="function"?o:null)}var Q=Symbol.for("react.client.reference");function Y(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case M:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case E:return(o.displayName||"Context")+".Provider";case O:return(o._context.displayName||"Context")+".Consumer";case N:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return l=o.displayName||null,l!==null?l:Y(o.type)||"Memo";case I:l=o._payload,o=o._init;try{return Y(o(l))}catch{}}return null}var H=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ae=[],$=-1;function G(o){return{current:o}}function ne(o){0>$||(o.current=ae[$],ae[$]=null,$--)}function ce(o,l){$++,ae[$]=o.current,o.current=l}var ge=G(null),De=G(null),Ce=G(null),yt=G(null);function ze(o,l){switch(ce(Ce,l),ce(De,o),ce(ge,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?UA(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=UA(l),o=FA(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ne(ge),ce(ge,o)}function we(){ne(ge),ne(De),ne(Ce)}function je(o){o.memoizedState!==null&&ce(yt,o);var l=ge.current,d=FA(l,o.type);l!==d&&(ce(De,o),ce(ge,d))}function qe(o){De.current===o&&(ne(ge),ne(De)),yt.current===o&&(ne(yt),ju._currentValue=Z)}var me=Object.prototype.hasOwnProperty,mt=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,Mt=t.unstable_shouldYield,zt=t.unstable_requestPaint,Ct=t.unstable_now,Zn=t.unstable_getCurrentPriorityLevel,Dr=t.unstable_ImmediatePriority,pa=t.unstable_UserBlockingPriority,On=t.unstable_NormalPriority,Nr=t.unstable_LowPriority,ei=t.unstable_IdlePriority,Ho=t.log,Ko=t.unstable_setDisableYieldValue,Gi=null,Mn=null;function Hr(o){if(typeof Ho=="function"&&Ko(o),Mn&&typeof Mn.setStrictMode=="function")try{Mn.setStrictMode(Gi,o)}catch{}}var Dn=Math.clz32?Math.clz32:nm,em=Math.log,tm=Math.LN2;function nm(o){return o>>>=0,o===0?32:31-(em(o)/tm|0)|0}var Kr=256,ti=4194304;function fr(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Yo(o,l,d){var p=o.pendingLanes;if(p===0)return 0;var b=0,w=o.suspendedLanes,D=o.pingedLanes;o=o.warmLanes;var R=p&134217727;return R!==0?(p=R&~w,p!==0?b=fr(p):(D&=R,D!==0?b=fr(D):d||(d=R&~o,d!==0&&(b=fr(d))))):(R=p&~w,R!==0?b=fr(R):D!==0?b=fr(D):d||(d=p&~o,d!==0&&(b=fr(d)))),b===0?0:l!==0&&l!==b&&(l&w)===0&&(w=b&-b,d=l&-l,w>=d||w===32&&(d&4194048)!==0)?l:b}function Hi(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function rm(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pf(){var o=Kr;return Kr<<=1,(Kr&4194048)===0&&(Kr=256),o}function mf(){var o=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),o}function Vl(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Ki(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function am(o,l,d,p,b,w){var D=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var R=o.entanglements,K=o.expirationTimes,ie=o.hiddenUpdates;for(d=D&~d;0<d;){var de=31-Dn(d),pe=1<<de;R[de]=0,K[de]=-1;var se=ie[de];if(se!==null)for(ie[de]=null,de=0;de<se.length;de++){var le=se[de];le!==null&&(le.lane&=-536870913)}d&=~pe}p!==0&&gf(o,p,0),w!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=w&~(D&~l))}function gf(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var p=31-Dn(l);o.entangledLanes|=l,o.entanglements[p]=o.entanglements[p]|1073741824|d&4194090}function vf(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var p=31-Dn(d),b=1<<p;b&l|o[p]&l&&(o[p]|=l),d&=~b}}function zl(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Gl(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function yf(){var o=F.p;return o!==0?o:(o=window.event,o===void 0?32:sE(o.type))}function im(o,l){var d=F.p;try{return F.p=o,l()}finally{F.p=d}}var Yr=Math.random().toString(36).slice(2),un="__reactFiber$"+Yr,wn="__reactProps$"+Yr,ni="__reactContainer$"+Yr,Hl="__reactEvents$"+Yr,om="__reactListeners$"+Yr,sm="__reactHandles$"+Yr,dr="__reactResources$"+Yr,Yi="__reactMarker$"+Yr;function ma(o){delete o[un],delete o[wn],delete o[Hl],delete o[om],delete o[sm]}function hr(o){var l=o[un];if(l)return l;for(var d=o.parentNode;d;){if(l=d[ni]||d[un]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=HA(o);o!==null;){if(d=o[un])return d;o=HA(o)}return l}o=d,d=o.parentNode}return null}function Nn(o){if(o=o[un]||o[ni]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function Wi(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function ga(o){var l=o[dr];return l||(l=o[dr]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Zt(o){o[Yi]=!0}var bf=new Set,Xi={};function va(o,l){ya(o,l),ya(o+"Capture",l)}function ya(o,l){for(Xi[o]=l,o=0;o<l.length;o++)bf.add(l[o])}var lm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kl={},xf={};function _f(o){return me.call(xf,o)?!0:me.call(Kl,o)?!1:lm.test(o)?xf[o]=!0:(Kl[o]=!0,!1)}function U(o,l,d){if(_f(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function z(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function J(o,l,d,p){if(p===null)o.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+p)}}var ue,oe;function ve(o){if(ue===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ue=l&&l[1]||"",oe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+o+oe}var Re=!1;function ke(o,l){if(!o||Re)return"";Re=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(le){var se=le}Reflect.construct(o,[],pe)}else{try{pe.call()}catch(le){se=le}o.call(pe.prototype)}}else{try{throw Error()}catch(le){se=le}(pe=o())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(le){if(le&&se&&typeof le.stack=="string")return[le.stack,se.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),D=w[0],R=w[1];if(D&&R){var K=D.split(`
`),ie=R.split(`
`);for(b=p=0;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;for(;b<ie.length&&!ie[b].includes("DetermineComponentFrameRoot");)b++;if(p===K.length||b===ie.length)for(p=K.length-1,b=ie.length-1;1<=p&&0<=b&&K[p]!==ie[b];)b--;for(;1<=p&&0<=b;p--,b--)if(K[p]!==ie[b]){if(p!==1||b!==1)do if(p--,b--,0>b||K[p]!==ie[b]){var de=`
`+K[p].replace(" at new "," at ");return o.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",o.displayName)),de}while(1<=p&&0<=b);break}}}finally{Re=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?ve(d):""}function We(o){switch(o.tag){case 26:case 27:case 5:return ve(o.type);case 16:return ve("Lazy");case 13:return ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return ke(o.type,!1);case 11:return ke(o.type.render,!1);case 1:return ke(o.type,!0);case 31:return ve("Activity");default:return""}}function Ye(o){try{var l="";do l+=We(o),o=o.return;while(o);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Ne(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function bt(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ba(o){var l=bt(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,w=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return b.call(this)},set:function(D){p=""+D,w.call(this,D)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Wr(o){o._valueTracker||(o._valueTracker=ba(o))}function Wo(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return o&&(p=bt(o)?o.checked?"true":"false":o.value),o=p,o!==d?(l.setValue(o),!0):!1}function ri(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Yl=/[\n"\\]/g;function Sn(o){return o.replace(Yl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Un(o,l,d,p,b,w,D,R){o.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.type=D:o.removeAttribute("type"),l!=null?D==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Ne(l)):o.value!==""+Ne(l)&&(o.value=""+Ne(l)):D!=="submit"&&D!=="reset"||o.removeAttribute("value"),l!=null?xa(o,D,Ne(l)):d!=null?xa(o,D,Ne(d)):p!=null&&o.removeAttribute("value"),b==null&&w!=null&&(o.defaultChecked=!!w),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.name=""+Ne(R):o.removeAttribute("name")}function Pr(o,l,d,p,b,w,D,R){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),l!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;d=d!=null?""+Ne(d):"",l=l!=null?""+Ne(l):d,R||l===o.value||(o.value=l),o.defaultValue=l}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=R?o.checked:!!p,o.defaultChecked=!!p,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.name=D)}function xa(o,l,d){l==="number"&&ri(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Xr(o,l,d,p){if(o=o.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<o.length;d++)b=l.hasOwnProperty("$"+o[d].value),o[d].selected!==b&&(o[d].selected=b),b&&p&&(o[d].defaultSelected=!0)}else{for(d=""+Ne(d),l=null,b=0;b<o.length;b++){if(o[b].value===d){o[b].selected=!0,p&&(o[b].defaultSelected=!0);return}l!==null||o[b].disabled||(l=o[b])}l!==null&&(l.selected=!0)}}function BS(o,l,d){if(l!=null&&(l=""+Ne(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+Ne(d):""}function qS(o,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(r(92));if(H(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=Ne(l),o.defaultValue=d,p=o.textContent,p===d&&p!==""&&p!==null&&(o.value=p)}function Xo(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var YL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function US(o,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":p?o.setProperty(l,d):typeof d!="number"||d===0||YL.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function FS(o,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var b in l)p=l[b],l.hasOwnProperty(b)&&d[b]!==p&&US(o,b,p)}else for(var w in l)l.hasOwnProperty(w)&&US(o,w,l[w])}function um(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),XL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wf(o){return XL.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var cm=null;function fm(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zo=null,Jo=null;function VS(o){var l=Nn(o);if(l&&(o=l.stateNode)){var d=o[wn]||null;e:switch(o=l.stateNode,l.type){case"input":if(Un(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Sn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==o&&p.form===o.form){var b=p[wn]||null;if(!b)throw Error(r(90));Un(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===o.form&&Wo(p)}break e;case"textarea":BS(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Xr(o,!!d.multiple,l,!1)}}}var dm=!1;function zS(o,l,d){if(dm)return o(l,d);dm=!0;try{var p=o(l);return p}finally{if(dm=!1,(Zo!==null||Jo!==null)&&(sd(),Zo&&(l=Zo,o=Jo,Jo=Zo=null,VS(l),o)))for(l=0;l<o.length;l++)VS(o[l])}}function Wl(o,l){var d=o.stateNode;if(d===null)return null;var p=d[wn]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var _a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hm=!1;if(_a)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){hm=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{hm=!1}var ai=null,pm=null,Sf=null;function GS(){if(Sf)return Sf;var o,l=pm,d=l.length,p,b="value"in ai?ai.value:ai.textContent,w=b.length;for(o=0;o<d&&l[o]===b[o];o++);var D=d-o;for(p=1;p<=D&&l[d-p]===b[w-p];p++);return Sf=b.slice(o,1<p?1-p:void 0)}function Tf(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Af(){return!0}function HS(){return!1}function Fn(o){function l(d,p,b,w,D){this._reactName=d,this._targetInst=b,this.type=p,this.nativeEvent=w,this.target=D,this.currentTarget=null;for(var R in o)o.hasOwnProperty(R)&&(d=o[R],this[R]=d?d(w):w[R]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Af:HS,this.isPropagationStopped=HS,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Af)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Af)},persist:function(){},isPersistent:Af}),l}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ef=Fn(Zi),Zl=h({},Zi,{view:0,detail:0}),ZL=Fn(Zl),mm,gm,Jl,Cf=h({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ym,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Jl&&(Jl&&o.type==="mousemove"?(mm=o.screenX-Jl.screenX,gm=o.screenY-Jl.screenY):gm=mm=0,Jl=o),mm)},movementY:function(o){return"movementY"in o?o.movementY:gm}}),KS=Fn(Cf),JL=h({},Cf,{dataTransfer:0}),QL=Fn(JL),e$=h({},Zl,{relatedTarget:0}),vm=Fn(e$),t$=h({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),n$=Fn(t$),r$=h({},Zi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),a$=Fn(r$),i$=h({},Zi,{data:0}),YS=Fn(i$),o$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u$(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=l$[o])?!!l[o]:!1}function ym(){return u$}var c$=h({},Zl,{key:function(o){if(o.key){var l=o$[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Tf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?s$[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ym,charCode:function(o){return o.type==="keypress"?Tf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Tf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),f$=Fn(c$),d$=h({},Cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WS=Fn(d$),h$=h({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ym}),p$=Fn(h$),m$=h({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),g$=Fn(m$),v$=h({},Cf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),y$=Fn(v$),b$=h({},Zi,{newState:0,oldState:0}),x$=Fn(b$),_$=[9,13,27,32],bm=_a&&"CompositionEvent"in window,Ql=null;_a&&"documentMode"in document&&(Ql=document.documentMode);var w$=_a&&"TextEvent"in window&&!Ql,XS=_a&&(!bm||Ql&&8<Ql&&11>=Ql),ZS=" ",JS=!1;function QS(o,l){switch(o){case"keyup":return _$.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Qo=!1;function S$(o,l){switch(o){case"compositionend":return e1(l);case"keypress":return l.which!==32?null:(JS=!0,ZS);case"textInput":return o=l.data,o===ZS&&JS?null:o;default:return null}}function T$(o,l){if(Qo)return o==="compositionend"||!bm&&QS(o,l)?(o=GS(),Sf=pm=ai=null,Qo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return XS&&l.locale!=="ko"?null:l.data;default:return null}}var A$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!A$[o.type]:l==="textarea"}function n1(o,l,d,p){Zo?Jo?Jo.push(p):Jo=[p]:Zo=p,l=hd(l,"onChange"),0<l.length&&(d=new Ef("onChange","change",null,d,p),o.push({event:d,listeners:l}))}var eu=null,tu=null;function E$(o){jA(o,0)}function kf(o){var l=Wi(o);if(Wo(l))return o}function r1(o,l){if(o==="change")return l}var a1=!1;if(_a){var xm;if(_a){var _m="oninput"in document;if(!_m){var i1=document.createElement("div");i1.setAttribute("oninput","return;"),_m=typeof i1.oninput=="function"}xm=_m}else xm=!1;a1=xm&&(!document.documentMode||9<document.documentMode)}function o1(){eu&&(eu.detachEvent("onpropertychange",s1),tu=eu=null)}function s1(o){if(o.propertyName==="value"&&kf(tu)){var l=[];n1(l,tu,o,fm(o)),zS(E$,l)}}function C$(o,l,d){o==="focusin"?(o1(),eu=l,tu=d,eu.attachEvent("onpropertychange",s1)):o==="focusout"&&o1()}function k$(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return kf(tu)}function O$(o,l){if(o==="click")return kf(l)}function M$(o,l){if(o==="input"||o==="change")return kf(l)}function D$(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Jn=typeof Object.is=="function"?Object.is:D$;function nu(o,l){if(Jn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var b=d[p];if(!me.call(l,b)||!Jn(o[b],l[b]))return!1}return!0}function l1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function u1(o,l){var d=l1(o);o=0;for(var p;d;){if(d.nodeType===3){if(p=o+d.textContent.length,o<=l&&p>=l)return{node:d,offset:l-o};o=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=l1(d)}}function c1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?c1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function f1(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=ri(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=ri(o.document)}return l}function wm(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var N$=_a&&"documentMode"in document&&11>=document.documentMode,es=null,Sm=null,ru=null,Tm=!1;function d1(o,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Tm||es==null||es!==ri(p)||(p=es,"selectionStart"in p&&wm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ru&&nu(ru,p)||(ru=p,p=hd(Sm,"onSelect"),0<p.length&&(l=new Ef("onSelect","select",null,l,d),o.push({event:l,listeners:p}),l.target=es)))}function Ji(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var ts={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},Am={},h1={};_a&&(h1=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function Qi(o){if(Am[o])return Am[o];if(!ts[o])return o;var l=ts[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in h1)return Am[o]=l[d];return o}var p1=Qi("animationend"),m1=Qi("animationiteration"),g1=Qi("animationstart"),P$=Qi("transitionrun"),R$=Qi("transitionstart"),I$=Qi("transitioncancel"),v1=Qi("transitionend"),y1=new Map,Em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Em.push("scrollEnd");function Rr(o,l){y1.set(o,l),va(l,[o])}var b1=new WeakMap;function pr(o,l){if(typeof o=="object"&&o!==null){var d=b1.get(o);return d!==void 0?d:(l={value:o,source:l,stack:Ye(l)},b1.set(o,l),l)}return{value:o,source:l,stack:Ye(l)}}var mr=[],ns=0,Cm=0;function Of(){for(var o=ns,l=Cm=ns=0;l<o;){var d=mr[l];mr[l++]=null;var p=mr[l];mr[l++]=null;var b=mr[l];mr[l++]=null;var w=mr[l];if(mr[l++]=null,p!==null&&b!==null){var D=p.pending;D===null?b.next=b:(b.next=D.next,D.next=b),p.pending=b}w!==0&&x1(d,b,w)}}function Mf(o,l,d,p){mr[ns++]=o,mr[ns++]=l,mr[ns++]=d,mr[ns++]=p,Cm|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function km(o,l,d,p){return Mf(o,l,d,p),Df(o)}function rs(o,l){return Mf(o,null,null,l),Df(o)}function x1(o,l,d){o.lanes|=d;var p=o.alternate;p!==null&&(p.lanes|=d);for(var b=!1,w=o.return;w!==null;)w.childLanes|=d,p=w.alternate,p!==null&&(p.childLanes|=d),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(b=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,b&&l!==null&&(b=31-Dn(d),o=w.hiddenUpdates,p=o[b],p===null?o[b]=[l]:p.push(l),l.lane=d|536870912),w):null}function Df(o){if(50<ku)throw ku=0,Rg=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var as={};function j$(o,l,d,p){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(o,l,d,p){return new j$(o,l,d,p)}function Om(o){return o=o.prototype,!(!o||!o.isReactComponent)}function wa(o,l){var d=o.alternate;return d===null?(d=Qn(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function _1(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Nf(o,l,d,p,b,w){var D=0;if(p=o,typeof o=="function")Om(o)&&(D=1);else if(typeof o=="string")D=$3(o,d,ge.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=Qn(31,d,l,b),o.elementType=B,o.lanes=w,o;case S:return eo(d.children,b,w,l);case A:D=8,b|=24;break;case T:return o=Qn(12,d,l,b|2),o.elementType=T,o.lanes=w,o;case k:return o=Qn(13,d,l,b),o.elementType=k,o.lanes=w,o;case M:return o=Qn(19,d,l,b),o.elementType=M,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:case E:D=10;break e;case O:D=9;break e;case N:D=11;break e;case P:D=14;break e;case I:D=16,p=null;break e}D=29,d=Error(r(130,o===null?"null":typeof o,"")),p=null}return l=Qn(D,d,l,b),l.elementType=o,l.type=p,l.lanes=w,l}function eo(o,l,d,p){return o=Qn(7,o,p,l),o.lanes=d,o}function Mm(o,l,d){return o=Qn(6,o,null,l),o.lanes=d,o}function Dm(o,l,d){return l=Qn(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var is=[],os=0,Pf=null,Rf=0,gr=[],vr=0,to=null,Sa=1,Ta="";function no(o,l){is[os++]=Rf,is[os++]=Pf,Pf=o,Rf=l}function w1(o,l,d){gr[vr++]=Sa,gr[vr++]=Ta,gr[vr++]=to,to=o;var p=Sa;o=Ta;var b=32-Dn(p)-1;p&=~(1<<b),d+=1;var w=32-Dn(l)+b;if(30<w){var D=b-b%5;w=(p&(1<<D)-1).toString(32),p>>=D,b-=D,Sa=1<<32-Dn(l)+b|d<<b|p,Ta=w+o}else Sa=1<<w|d<<b|p,Ta=o}function Nm(o){o.return!==null&&(no(o,1),w1(o,1,0))}function Pm(o){for(;o===Pf;)Pf=is[--os],is[os]=null,Rf=is[--os],is[os]=null;for(;o===to;)to=gr[--vr],gr[vr]=null,Ta=gr[--vr],gr[vr]=null,Sa=gr[--vr],gr[vr]=null}var Pn=null,Ht=null,ht=!1,ro=null,Zr=!1,Rm=Error(r(519));function ao(o){var l=Error(r(418,""));throw ou(pr(l,o)),Rm}function S1(o){var l=o.stateNode,d=o.type,p=o.memoizedProps;switch(l[un]=o,l[wn]=p,d){case"dialog":it("cancel",l),it("close",l);break;case"iframe":case"object":case"embed":it("load",l);break;case"video":case"audio":for(d=0;d<Mu.length;d++)it(Mu[d],l);break;case"source":it("error",l);break;case"img":case"image":case"link":it("error",l),it("load",l);break;case"details":it("toggle",l);break;case"input":it("invalid",l),Pr(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Wr(l);break;case"select":it("invalid",l);break;case"textarea":it("invalid",l),qS(l,p.value,p.defaultValue,p.children),Wr(l)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||qA(l.textContent,d)?(p.popover!=null&&(it("beforetoggle",l),it("toggle",l)),p.onScroll!=null&&it("scroll",l),p.onScrollEnd!=null&&it("scrollend",l),p.onClick!=null&&(l.onclick=pd),l=!0):l=!1,l||ao(o)}function T1(o){for(Pn=o.return;Pn;)switch(Pn.tag){case 5:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:Pn=Pn.return}}function au(o){if(o!==Pn)return!1;if(!ht)return T1(o),ht=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||Xg(o.type,o.memoizedProps)),d=!d),d&&Ht&&ao(o),T1(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(d=o.data,d==="/$"){if(l===0){Ht=jr(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;o=o.nextSibling}Ht=null}}else l===27?(l=Ht,xi(o.type)?(o=ev,ev=null,Ht=o):Ht=l):Ht=Pn?jr(o.stateNode.nextSibling):null;return!0}function iu(){Ht=Pn=null,ht=!1}function A1(){var o=ro;return o!==null&&(Gn===null?Gn=o:Gn.push.apply(Gn,o),ro=null),o}function ou(o){ro===null?ro=[o]:ro.push(o)}var Im=G(null),io=null,Aa=null;function ii(o,l,d){ce(Im,l._currentValue),l._currentValue=d}function Ea(o){o._currentValue=Im.current,ne(Im)}function jm(o,l,d){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===d)break;o=o.return}}function Lm(o,l,d,p){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var w=b.dependencies;if(w!==null){var D=b.child;w=w.firstContext;e:for(;w!==null;){var R=w;w=b;for(var K=0;K<l.length;K++)if(R.context===l[K]){w.lanes|=d,R=w.alternate,R!==null&&(R.lanes|=d),jm(w.return,d,o),p||(D=null);break e}w=R.next}}else if(b.tag===18){if(D=b.return,D===null)throw Error(r(341));D.lanes|=d,w=D.alternate,w!==null&&(w.lanes|=d),jm(D,d,o),D=null}else D=b.child;if(D!==null)D.return=b;else for(D=b;D!==null;){if(D===o){D=null;break}if(b=D.sibling,b!==null){b.return=D.return,D=b;break}D=D.return}b=D}}function su(o,l,d,p){o=null;for(var b=l,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var D=b.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var R=b.type;Jn(b.pendingProps.value,D.value)||(o!==null?o.push(R):o=[R])}}else if(b===yt.current){if(D=b.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(ju):o=[ju])}b=b.return}o!==null&&Lm(l,o,d,p),l.flags|=262144}function If(o){for(o=o.firstContext;o!==null;){if(!Jn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function oo(o){io=o,Aa=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Tn(o){return E1(io,o)}function jf(o,l){return io===null&&oo(o),E1(o,l)}function E1(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Aa===null){if(o===null)throw Error(r(308));Aa=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Aa=Aa.next=l;return d}var L$=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,p){o.push(p)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},$$=t.unstable_scheduleCallback,B$=t.unstable_NormalPriority,rn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $m(){return{controller:new L$,data:new Map,refCount:0}}function lu(o){o.refCount--,o.refCount===0&&$$(B$,function(){o.controller.abort()})}var uu=null,Bm=0,ss=0,ls=null;function q$(o,l){if(uu===null){var d=uu=[];Bm=0,ss=Ug(),ls={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Bm++,l.then(C1,C1),l}function C1(){if(--Bm===0&&uu!==null){ls!==null&&(ls.status="fulfilled");var o=uu;uu=null,ss=0,ls=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function U$(o,l){var d=[],p={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return o.then(function(){p.status="fulfilled",p.value=l;for(var b=0;b<d.length;b++)(0,d[b])(l)},function(b){for(p.status="rejected",p.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),p}var k1=j.S;j.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&q$(o,l),k1!==null&&k1(o,l)};var so=G(null);function qm(){var o=so.current;return o!==null?o:Dt.pooledCache}function Lf(o,l){l===null?ce(so,so.current):ce(so,l.pool)}function O1(){var o=qm();return o===null?null:{parent:rn._currentValue,pool:o}}var cu=Error(r(460)),M1=Error(r(474)),$f=Error(r(542)),Um={then:function(){}};function D1(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Bf(){}function N1(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(Bf,Bf),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,R1(o),o;default:if(typeof l.status=="string")l.then(Bf,Bf);else{if(o=Dt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(p){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=p}},function(p){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,R1(o),o}throw fu=l,cu}}var fu=null;function P1(){if(fu===null)throw Error(r(459));var o=fu;return fu=null,o}function R1(o){if(o===cu||o===$f)throw Error(r(483))}var oi=!1;function Fm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vm(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function si(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function li(o,l,d){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(xt&2)!==0){var b=p.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),p.pending=l,l=Df(o),x1(o,null,d),l}return Mf(o,p,l,d),Df(o)}function du(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=o.pendingLanes,d|=p,l.lanes=d,vf(o,d)}}function zm(o,l){var d=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var b=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?b=w=D:w=w.next=D,d=d.next}while(d!==null);w===null?b=w=l:w=w.next=l}else b=w=l;d={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var Gm=!1;function hu(){if(Gm){var o=ls;if(o!==null)throw o}}function pu(o,l,d,p){Gm=!1;var b=o.updateQueue;oi=!1;var w=b.firstBaseUpdate,D=b.lastBaseUpdate,R=b.shared.pending;if(R!==null){b.shared.pending=null;var K=R,ie=K.next;K.next=null,D===null?w=ie:D.next=ie,D=K;var de=o.alternate;de!==null&&(de=de.updateQueue,R=de.lastBaseUpdate,R!==D&&(R===null?de.firstBaseUpdate=ie:R.next=ie,de.lastBaseUpdate=K))}if(w!==null){var pe=b.baseState;D=0,de=ie=K=null,R=w;do{var se=R.lane&-536870913,le=se!==R.lane;if(le?(ut&se)===se:(p&se)===se){se!==0&&se===ss&&(Gm=!0),de!==null&&(de=de.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ue=o,Le=R;se=l;var At=d;switch(Le.tag){case 1:if(Ue=Le.payload,typeof Ue=="function"){pe=Ue.call(At,pe,se);break e}pe=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Le.payload,se=typeof Ue=="function"?Ue.call(At,pe,se):Ue,se==null)break e;pe=h({},pe,se);break e;case 2:oi=!0}}se=R.callback,se!==null&&(o.flags|=64,le&&(o.flags|=8192),le=b.callbacks,le===null?b.callbacks=[se]:le.push(se))}else le={lane:se,tag:R.tag,payload:R.payload,callback:R.callback,next:null},de===null?(ie=de=le,K=pe):de=de.next=le,D|=se;if(R=R.next,R===null){if(R=b.shared.pending,R===null)break;le=R,R=le.next,le.next=null,b.lastBaseUpdate=le,b.shared.pending=null}}while(!0);de===null&&(K=pe),b.baseState=K,b.firstBaseUpdate=ie,b.lastBaseUpdate=de,w===null&&(b.shared.lanes=0),gi|=D,o.lanes=D,o.memoizedState=pe}}function I1(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function j1(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)I1(d[o],l)}var us=G(null),qf=G(0);function L1(o,l){o=Pa,ce(qf,o),ce(us,l),Pa=o|l.baseLanes}function Hm(){ce(qf,Pa),ce(us,us.current)}function Km(){Pa=qf.current,ne(us),ne(qf)}var ui=0,tt=null,St=null,Jt=null,Uf=!1,cs=!1,lo=!1,Ff=0,mu=0,fs=null,F$=0;function Wt(){throw Error(r(321))}function Ym(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Jn(o[d],l[d]))return!1;return!0}function Wm(o,l,d,p,b,w){return ui=w,tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,j.H=o===null||o.memoizedState===null?xT:_T,lo=!1,w=d(p,b),lo=!1,cs&&(w=B1(l,d,p,b)),$1(o),w}function $1(o){j.H=Yf;var l=St!==null&&St.next!==null;if(ui=0,Jt=St=tt=null,Uf=!1,mu=0,fs=null,l)throw Error(r(300));o===null||cn||(o=o.dependencies,o!==null&&If(o)&&(cn=!0))}function B1(o,l,d,p){tt=o;var b=0;do{if(cs&&(fs=null),mu=0,cs=!1,25<=b)throw Error(r(301));if(b+=1,Jt=St=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}j.H=W$,w=l(d,p)}while(cs);return w}function V$(){var o=j.H,l=o.useState()[0];return l=typeof l.then=="function"?gu(l):l,o=o.useState()[0],(St!==null?St.memoizedState:null)!==o&&(tt.flags|=1024),l}function Xm(){var o=Ff!==0;return Ff=0,o}function Zm(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function Jm(o){if(Uf){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Uf=!1}ui=0,Jt=St=tt=null,cs=!1,mu=Ff=0,fs=null}function Vn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?tt.memoizedState=Jt=o:Jt=Jt.next=o,Jt}function Qt(){if(St===null){var o=tt.alternate;o=o!==null?o.memoizedState:null}else o=St.next;var l=Jt===null?tt.memoizedState:Jt.next;if(l!==null)Jt=l,St=o;else{if(o===null)throw tt.alternate===null?Error(r(467)):Error(r(310));St=o,o={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Jt===null?tt.memoizedState=Jt=o:Jt=Jt.next=o}return Jt}function Qm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gu(o){var l=mu;return mu+=1,fs===null&&(fs=[]),o=N1(fs,o,l),l=tt,(Jt===null?l.memoizedState:Jt.next)===null&&(l=l.alternate,j.H=l===null||l.memoizedState===null?xT:_T),o}function Vf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return gu(o);if(o.$$typeof===E)return Tn(o)}throw Error(r(438,String(o)))}function eg(o){var l=null,d=tt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=tt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Qm(),tt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),p=0;p<o;p++)d[p]=V;return l.index++,d}function Ca(o,l){return typeof l=="function"?l(o):l}function zf(o){var l=Qt();return tg(l,St,o)}function tg(o,l,d){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var b=o.baseQueue,w=p.pending;if(w!==null){if(b!==null){var D=b.next;b.next=w.next,w.next=D}l.baseQueue=b=w,p.pending=null}if(w=o.baseState,b===null)o.memoizedState=w;else{l=b.next;var R=D=null,K=null,ie=l,de=!1;do{var pe=ie.lane&-536870913;if(pe!==ie.lane?(ut&pe)===pe:(ui&pe)===pe){var se=ie.revertLane;if(se===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),pe===ss&&(de=!0);else if((ui&se)===se){ie=ie.next,se===ss&&(de=!0);continue}else pe={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},K===null?(R=K=pe,D=w):K=K.next=pe,tt.lanes|=se,gi|=se;pe=ie.action,lo&&d(w,pe),w=ie.hasEagerState?ie.eagerState:d(w,pe)}else se={lane:pe,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},K===null?(R=K=se,D=w):K=K.next=se,tt.lanes|=pe,gi|=pe;ie=ie.next}while(ie!==null&&ie!==l);if(K===null?D=w:K.next=R,!Jn(w,o.memoizedState)&&(cn=!0,de&&(d=ls,d!==null)))throw d;o.memoizedState=w,o.baseState=D,o.baseQueue=K,p.lastRenderedState=w}return b===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function ng(o){var l=Qt(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var p=d.dispatch,b=d.pending,w=l.memoizedState;if(b!==null){d.pending=null;var D=b=b.next;do w=o(w,D.action),D=D.next;while(D!==b);Jn(w,l.memoizedState)||(cn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,p]}function q1(o,l,d){var p=tt,b=Qt(),w=ht;if(w){if(d===void 0)throw Error(r(407));d=d()}else d=l();var D=!Jn((St||b).memoizedState,d);D&&(b.memoizedState=d,cn=!0),b=b.queue;var R=V1.bind(null,p,b,o);if(vu(2048,8,R,[o]),b.getSnapshot!==l||D||Jt!==null&&Jt.memoizedState.tag&1){if(p.flags|=2048,ds(9,Gf(),F1.bind(null,p,b,d,l),null),Dt===null)throw Error(r(349));w||(ui&124)!==0||U1(p,l,d)}return d}function U1(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=tt.updateQueue,l===null?(l=Qm(),tt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function F1(o,l,d,p){l.value=d,l.getSnapshot=p,z1(l)&&G1(o)}function V1(o,l,d){return d(function(){z1(l)&&G1(o)})}function z1(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Jn(o,d)}catch{return!0}}function G1(o){var l=rs(o,2);l!==null&&ar(l,o,2)}function rg(o){var l=Vn();if(typeof o=="function"){var d=o;if(o=d(),lo){Hr(!0);try{d()}finally{Hr(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:o},l}function H1(o,l,d,p){return o.baseState=d,tg(o,St,typeof p=="function"?p:Ca)}function z$(o,l,d,p,b){if(Kf(o))throw Error(r(485));if(o=l.action,o!==null){var w={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){w.listeners.push(D)}};j.T!==null?d(!0):w.isTransition=!1,p(w),d=l.pending,d===null?(w.next=l.pending=w,K1(l,w)):(w.next=d.next,l.pending=d.next=w)}}function K1(o,l){var d=l.action,p=l.payload,b=o.state;if(l.isTransition){var w=j.T,D={};j.T=D;try{var R=d(b,p),K=j.S;K!==null&&K(D,R),Y1(o,l,R)}catch(ie){ag(o,l,ie)}finally{j.T=w}}else try{w=d(b,p),Y1(o,l,w)}catch(ie){ag(o,l,ie)}}function Y1(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){W1(o,l,p)},function(p){return ag(o,l,p)}):W1(o,l,d)}function W1(o,l,d){l.status="fulfilled",l.value=d,X1(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,K1(o,d)))}function ag(o,l,d){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,X1(l),l=l.next;while(l!==p)}o.action=null}function X1(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function Z1(o,l){return l}function J1(o,l){if(ht){var d=Dt.formState;if(d!==null){e:{var p=tt;if(ht){if(Ht){t:{for(var b=Ht,w=Zr;b.nodeType!==8;){if(!w){b=null;break t}if(b=jr(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){Ht=jr(b.nextSibling),p=b.data==="F!";break e}}ao(p)}p=!1}p&&(l=d[0])}}return d=Vn(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z1,lastRenderedState:l},d.queue=p,d=vT.bind(null,tt,p),p.dispatch=d,p=rg(!1),w=ug.bind(null,tt,!1,p.queue),p=Vn(),b={state:l,dispatch:null,action:o,pending:null},p.queue=b,d=z$.bind(null,tt,b,w,d),b.dispatch=d,p.memoizedState=o,[l,d,!1]}function Q1(o){var l=Qt();return eT(l,St,o)}function eT(o,l,d){if(l=tg(o,l,Z1)[0],o=zf(Ca)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=gu(l)}catch(D){throw D===cu?$f:D}else p=l;l=Qt();var b=l.queue,w=b.dispatch;return d!==l.memoizedState&&(tt.flags|=2048,ds(9,Gf(),G$.bind(null,b,d),null)),[p,w,o]}function G$(o,l){o.action=l}function tT(o){var l=Qt(),d=St;if(d!==null)return eT(l,d,o);Qt(),l=l.memoizedState,d=Qt();var p=d.queue.dispatch;return d.memoizedState=o,[l,p,!1]}function ds(o,l,d,p){return o={tag:o,create:d,deps:p,inst:l,next:null},l=tt.updateQueue,l===null&&(l=Qm(),tt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(p=d.next,d.next=o,o.next=p,l.lastEffect=o),o}function Gf(){return{destroy:void 0,resource:void 0}}function nT(){return Qt().memoizedState}function Hf(o,l,d,p){var b=Vn();p=p===void 0?null:p,tt.flags|=o,b.memoizedState=ds(1|l,Gf(),d,p)}function vu(o,l,d,p){var b=Qt();p=p===void 0?null:p;var w=b.memoizedState.inst;St!==null&&p!==null&&Ym(p,St.memoizedState.deps)?b.memoizedState=ds(l,w,d,p):(tt.flags|=o,b.memoizedState=ds(1|l,w,d,p))}function rT(o,l){Hf(8390656,8,o,l)}function aT(o,l){vu(2048,8,o,l)}function iT(o,l){return vu(4,2,o,l)}function oT(o,l){return vu(4,4,o,l)}function sT(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function lT(o,l,d){d=d!=null?d.concat([o]):null,vu(4,4,sT.bind(null,l,o),d)}function ig(){}function uT(o,l){var d=Qt();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&Ym(l,p[1])?p[0]:(d.memoizedState=[o,l],o)}function cT(o,l){var d=Qt();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&Ym(l,p[1]))return p[0];if(p=o(),lo){Hr(!0);try{o()}finally{Hr(!1)}}return d.memoizedState=[p,l],p}function og(o,l,d){return d===void 0||(ui&1073741824)!==0?o.memoizedState=l:(o.memoizedState=d,o=hA(),tt.lanes|=o,gi|=o,d)}function fT(o,l,d,p){return Jn(d,l)?d:us.current!==null?(o=og(o,d,p),Jn(o,l)||(cn=!0),o):(ui&42)===0?(cn=!0,o.memoizedState=d):(o=hA(),tt.lanes|=o,gi|=o,l)}function dT(o,l,d,p,b){var w=F.p;F.p=w!==0&&8>w?w:8;var D=j.T,R={};j.T=R,ug(o,!1,l,d);try{var K=b(),ie=j.S;if(ie!==null&&ie(R,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var de=U$(K,p);yu(o,l,de,rr(o))}else yu(o,l,p,rr(o))}catch(pe){yu(o,l,{then:function(){},status:"rejected",reason:pe},rr())}finally{F.p=w,j.T=D}}function H$(){}function sg(o,l,d,p){if(o.tag!==5)throw Error(r(476));var b=hT(o).queue;dT(o,b,l,Z,d===null?H$:function(){return pT(o),d(p)})}function hT(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:Z},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function pT(o){var l=hT(o).next.queue;yu(o,l,{},rr())}function lg(){return Tn(ju)}function mT(){return Qt().memoizedState}function gT(){return Qt().memoizedState}function K$(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=rr();o=si(d);var p=li(l,o,d);p!==null&&(ar(p,l,d),du(p,l,d)),l={cache:$m()},o.payload=l;return}l=l.return}}function Y$(o,l,d){var p=rr();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Kf(o)?yT(l,d):(d=km(o,l,d,p),d!==null&&(ar(d,o,p),bT(d,l,p)))}function vT(o,l,d){var p=rr();yu(o,l,d,p)}function yu(o,l,d,p){var b={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Kf(o))yT(l,b);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var D=l.lastRenderedState,R=w(D,d);if(b.hasEagerState=!0,b.eagerState=R,Jn(R,D))return Mf(o,l,b,0),Dt===null&&Of(),!1}catch{}finally{}if(d=km(o,l,b,p),d!==null)return ar(d,o,p),bT(d,l,p),!0}return!1}function ug(o,l,d,p){if(p={lane:2,revertLane:Ug(),action:p,hasEagerState:!1,eagerState:null,next:null},Kf(o)){if(l)throw Error(r(479))}else l=km(o,d,p,2),l!==null&&ar(l,o,2)}function Kf(o){var l=o.alternate;return o===tt||l!==null&&l===tt}function yT(o,l){cs=Uf=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function bT(o,l,d){if((d&4194048)!==0){var p=l.lanes;p&=o.pendingLanes,d|=p,l.lanes=d,vf(o,d)}}var Yf={readContext:Tn,use:Vf,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},xT={readContext:Tn,use:Vf,useCallback:function(o,l){return Vn().memoizedState=[o,l===void 0?null:l],o},useContext:Tn,useEffect:rT,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,Hf(4194308,4,sT.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Hf(4194308,4,o,l)},useInsertionEffect:function(o,l){Hf(4,2,o,l)},useMemo:function(o,l){var d=Vn();l=l===void 0?null:l;var p=o();if(lo){Hr(!0);try{o()}finally{Hr(!1)}}return d.memoizedState=[p,l],p},useReducer:function(o,l,d){var p=Vn();if(d!==void 0){var b=d(l);if(lo){Hr(!0);try{d(l)}finally{Hr(!1)}}}else b=l;return p.memoizedState=p.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},p.queue=o,o=o.dispatch=Y$.bind(null,tt,o),[p.memoizedState,o]},useRef:function(o){var l=Vn();return o={current:o},l.memoizedState=o},useState:function(o){o=rg(o);var l=o.queue,d=vT.bind(null,tt,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:ig,useDeferredValue:function(o,l){var d=Vn();return og(d,o,l)},useTransition:function(){var o=rg(!1);return o=dT.bind(null,tt,o.queue,!0,!1),Vn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var p=tt,b=Vn();if(ht){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Dt===null)throw Error(r(349));(ut&124)!==0||U1(p,l,d)}b.memoizedState=d;var w={value:d,getSnapshot:l};return b.queue=w,rT(V1.bind(null,p,w,o),[o]),p.flags|=2048,ds(9,Gf(),F1.bind(null,p,w,d,l),null),d},useId:function(){var o=Vn(),l=Dt.identifierPrefix;if(ht){var d=Ta,p=Sa;d=(p&~(1<<32-Dn(p)-1)).toString(32)+d,l="«"+l+"R"+d,d=Ff++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=F$++,l="«"+l+"r"+d.toString(32)+"»";return o.memoizedState=l},useHostTransitionStatus:lg,useFormState:J1,useActionState:J1,useOptimistic:function(o){var l=Vn();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=ug.bind(null,tt,!0,d),d.dispatch=l,[o,l]},useMemoCache:eg,useCacheRefresh:function(){return Vn().memoizedState=K$.bind(null,tt)}},_T={readContext:Tn,use:Vf,useCallback:uT,useContext:Tn,useEffect:aT,useImperativeHandle:lT,useInsertionEffect:iT,useLayoutEffect:oT,useMemo:cT,useReducer:zf,useRef:nT,useState:function(){return zf(Ca)},useDebugValue:ig,useDeferredValue:function(o,l){var d=Qt();return fT(d,St.memoizedState,o,l)},useTransition:function(){var o=zf(Ca)[0],l=Qt().memoizedState;return[typeof o=="boolean"?o:gu(o),l]},useSyncExternalStore:q1,useId:mT,useHostTransitionStatus:lg,useFormState:Q1,useActionState:Q1,useOptimistic:function(o,l){var d=Qt();return H1(d,St,o,l)},useMemoCache:eg,useCacheRefresh:gT},W$={readContext:Tn,use:Vf,useCallback:uT,useContext:Tn,useEffect:aT,useImperativeHandle:lT,useInsertionEffect:iT,useLayoutEffect:oT,useMemo:cT,useReducer:ng,useRef:nT,useState:function(){return ng(Ca)},useDebugValue:ig,useDeferredValue:function(o,l){var d=Qt();return St===null?og(d,o,l):fT(d,St.memoizedState,o,l)},useTransition:function(){var o=ng(Ca)[0],l=Qt().memoizedState;return[typeof o=="boolean"?o:gu(o),l]},useSyncExternalStore:q1,useId:mT,useHostTransitionStatus:lg,useFormState:tT,useActionState:tT,useOptimistic:function(o,l){var d=Qt();return St!==null?H1(d,St,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:eg,useCacheRefresh:gT},hs=null,bu=0;function Wf(o){var l=bu;return bu+=1,hs===null&&(hs=[]),N1(hs,o,l)}function xu(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Xf(o,l){throw l.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function wT(o){var l=o._init;return l(o._payload)}function ST(o){function l(te,ee){if(o){var re=te.deletions;re===null?(te.deletions=[ee],te.flags|=16):re.push(ee)}}function d(te,ee){if(!o)return null;for(;ee!==null;)l(te,ee),ee=ee.sibling;return null}function p(te){for(var ee=new Map;te!==null;)te.key!==null?ee.set(te.key,te):ee.set(te.index,te),te=te.sibling;return ee}function b(te,ee){return te=wa(te,ee),te.index=0,te.sibling=null,te}function w(te,ee,re){return te.index=re,o?(re=te.alternate,re!==null?(re=re.index,re<ee?(te.flags|=67108866,ee):re):(te.flags|=67108866,ee)):(te.flags|=1048576,ee)}function D(te){return o&&te.alternate===null&&(te.flags|=67108866),te}function R(te,ee,re,he){return ee===null||ee.tag!==6?(ee=Mm(re,te.mode,he),ee.return=te,ee):(ee=b(ee,re),ee.return=te,ee)}function K(te,ee,re,he){var Oe=re.type;return Oe===S?de(te,ee,re.props.children,he,re.key):ee!==null&&(ee.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&wT(Oe)===ee.type)?(ee=b(ee,re.props),xu(ee,re),ee.return=te,ee):(ee=Nf(re.type,re.key,re.props,null,te.mode,he),xu(ee,re),ee.return=te,ee)}function ie(te,ee,re,he){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==re.containerInfo||ee.stateNode.implementation!==re.implementation?(ee=Dm(re,te.mode,he),ee.return=te,ee):(ee=b(ee,re.children||[]),ee.return=te,ee)}function de(te,ee,re,he,Oe){return ee===null||ee.tag!==7?(ee=eo(re,te.mode,he,Oe),ee.return=te,ee):(ee=b(ee,re),ee.return=te,ee)}function pe(te,ee,re){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=Mm(""+ee,te.mode,re),ee.return=te,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:return re=Nf(ee.type,ee.key,ee.props,null,te.mode,re),xu(re,ee),re.return=te,re;case _:return ee=Dm(ee,te.mode,re),ee.return=te,ee;case I:var he=ee._init;return ee=he(ee._payload),pe(te,ee,re)}if(H(ee)||W(ee))return ee=eo(ee,te.mode,re,null),ee.return=te,ee;if(typeof ee.then=="function")return pe(te,Wf(ee),re);if(ee.$$typeof===E)return pe(te,jf(te,ee),re);Xf(te,ee)}return null}function se(te,ee,re,he){var Oe=ee!==null?ee.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Oe!==null?null:R(te,ee,""+re,he);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return re.key===Oe?K(te,ee,re,he):null;case _:return re.key===Oe?ie(te,ee,re,he):null;case I:return Oe=re._init,re=Oe(re._payload),se(te,ee,re,he)}if(H(re)||W(re))return Oe!==null?null:de(te,ee,re,he,null);if(typeof re.then=="function")return se(te,ee,Wf(re),he);if(re.$$typeof===E)return se(te,ee,jf(te,re),he);Xf(te,re)}return null}function le(te,ee,re,he,Oe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return te=te.get(re)||null,R(ee,te,""+he,Oe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case y:return te=te.get(he.key===null?re:he.key)||null,K(ee,te,he,Oe);case _:return te=te.get(he.key===null?re:he.key)||null,ie(ee,te,he,Oe);case I:var nt=he._init;return he=nt(he._payload),le(te,ee,re,he,Oe)}if(H(he)||W(he))return te=te.get(re)||null,de(ee,te,he,Oe,null);if(typeof he.then=="function")return le(te,ee,re,Wf(he),Oe);if(he.$$typeof===E)return le(te,ee,re,jf(ee,he),Oe);Xf(ee,he)}return null}function Ue(te,ee,re,he){for(var Oe=null,nt=null,Ie=ee,$e=ee=0,dn=null;Ie!==null&&$e<re.length;$e++){Ie.index>$e?(dn=Ie,Ie=null):dn=Ie.sibling;var ct=se(te,Ie,re[$e],he);if(ct===null){Ie===null&&(Ie=dn);break}o&&Ie&&ct.alternate===null&&l(te,Ie),ee=w(ct,ee,$e),nt===null?Oe=ct:nt.sibling=ct,nt=ct,Ie=dn}if($e===re.length)return d(te,Ie),ht&&no(te,$e),Oe;if(Ie===null){for(;$e<re.length;$e++)Ie=pe(te,re[$e],he),Ie!==null&&(ee=w(Ie,ee,$e),nt===null?Oe=Ie:nt.sibling=Ie,nt=Ie);return ht&&no(te,$e),Oe}for(Ie=p(Ie);$e<re.length;$e++)dn=le(Ie,te,$e,re[$e],he),dn!==null&&(o&&dn.alternate!==null&&Ie.delete(dn.key===null?$e:dn.key),ee=w(dn,ee,$e),nt===null?Oe=dn:nt.sibling=dn,nt=dn);return o&&Ie.forEach(function(Ai){return l(te,Ai)}),ht&&no(te,$e),Oe}function Le(te,ee,re,he){if(re==null)throw Error(r(151));for(var Oe=null,nt=null,Ie=ee,$e=ee=0,dn=null,ct=re.next();Ie!==null&&!ct.done;$e++,ct=re.next()){Ie.index>$e?(dn=Ie,Ie=null):dn=Ie.sibling;var Ai=se(te,Ie,ct.value,he);if(Ai===null){Ie===null&&(Ie=dn);break}o&&Ie&&Ai.alternate===null&&l(te,Ie),ee=w(Ai,ee,$e),nt===null?Oe=Ai:nt.sibling=Ai,nt=Ai,Ie=dn}if(ct.done)return d(te,Ie),ht&&no(te,$e),Oe;if(Ie===null){for(;!ct.done;$e++,ct=re.next())ct=pe(te,ct.value,he),ct!==null&&(ee=w(ct,ee,$e),nt===null?Oe=ct:nt.sibling=ct,nt=ct);return ht&&no(te,$e),Oe}for(Ie=p(Ie);!ct.done;$e++,ct=re.next())ct=le(Ie,te,$e,ct.value,he),ct!==null&&(o&&ct.alternate!==null&&Ie.delete(ct.key===null?$e:ct.key),ee=w(ct,ee,$e),nt===null?Oe=ct:nt.sibling=ct,nt=ct);return o&&Ie.forEach(function(X3){return l(te,X3)}),ht&&no(te,$e),Oe}function At(te,ee,re,he){if(typeof re=="object"&&re!==null&&re.type===S&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case y:e:{for(var Oe=re.key;ee!==null;){if(ee.key===Oe){if(Oe=re.type,Oe===S){if(ee.tag===7){d(te,ee.sibling),he=b(ee,re.props.children),he.return=te,te=he;break e}}else if(ee.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&wT(Oe)===ee.type){d(te,ee.sibling),he=b(ee,re.props),xu(he,re),he.return=te,te=he;break e}d(te,ee);break}else l(te,ee);ee=ee.sibling}re.type===S?(he=eo(re.props.children,te.mode,he,re.key),he.return=te,te=he):(he=Nf(re.type,re.key,re.props,null,te.mode,he),xu(he,re),he.return=te,te=he)}return D(te);case _:e:{for(Oe=re.key;ee!==null;){if(ee.key===Oe)if(ee.tag===4&&ee.stateNode.containerInfo===re.containerInfo&&ee.stateNode.implementation===re.implementation){d(te,ee.sibling),he=b(ee,re.children||[]),he.return=te,te=he;break e}else{d(te,ee);break}else l(te,ee);ee=ee.sibling}he=Dm(re,te.mode,he),he.return=te,te=he}return D(te);case I:return Oe=re._init,re=Oe(re._payload),At(te,ee,re,he)}if(H(re))return Ue(te,ee,re,he);if(W(re)){if(Oe=W(re),typeof Oe!="function")throw Error(r(150));return re=Oe.call(re),Le(te,ee,re,he)}if(typeof re.then=="function")return At(te,ee,Wf(re),he);if(re.$$typeof===E)return At(te,ee,jf(te,re),he);Xf(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,ee!==null&&ee.tag===6?(d(te,ee.sibling),he=b(ee,re),he.return=te,te=he):(d(te,ee),he=Mm(re,te.mode,he),he.return=te,te=he),D(te)):d(te,ee)}return function(te,ee,re,he){try{bu=0;var Oe=At(te,ee,re,he);return hs=null,Oe}catch(Ie){if(Ie===cu||Ie===$f)throw Ie;var nt=Qn(29,Ie,null,te.mode);return nt.lanes=he,nt.return=te,nt}finally{}}}var ps=ST(!0),TT=ST(!1),yr=G(null),Jr=null;function ci(o){var l=o.alternate;ce(an,an.current&1),ce(yr,o),Jr===null&&(l===null||us.current!==null||l.memoizedState!==null)&&(Jr=o)}function AT(o){if(o.tag===22){if(ce(an,an.current),ce(yr,o),Jr===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Jr=o)}}else fi()}function fi(){ce(an,an.current),ce(yr,yr.current)}function ka(o){ne(yr),Jr===o&&(Jr=null),ne(an)}var an=G(0);function Zf(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||Qg(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function cg(o,l,d,p){l=o.memoizedState,d=d(p,l),d=d==null?l:h({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var fg={enqueueSetState:function(o,l,d){o=o._reactInternals;var p=rr(),b=si(p);b.payload=l,d!=null&&(b.callback=d),l=li(o,b,p),l!==null&&(ar(l,o,p),du(l,o,p))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var p=rr(),b=si(p);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=li(o,b,p),l!==null&&(ar(l,o,p),du(l,o,p))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=rr(),p=si(d);p.tag=2,l!=null&&(p.callback=l),l=li(o,p,d),l!==null&&(ar(l,o,d),du(l,o,d))}};function ET(o,l,d,p,b,w,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,D):l.prototype&&l.prototype.isPureReactComponent?!nu(d,p)||!nu(b,w):!0}function CT(o,l,d,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==o&&fg.enqueueReplaceState(l,l.state,null)}function uo(o,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(o=o.defaultProps){d===l&&(d=h({},d));for(var b in o)d[b]===void 0&&(d[b]=o[b])}return d}var Jf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function kT(o){Jf(o)}function OT(o){console.error(o)}function MT(o){Jf(o)}function Qf(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function DT(o,l,d){try{var p=o.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function dg(o,l,d){return d=si(d),d.tag=3,d.payload={element:null},d.callback=function(){Qf(o,l)},d}function NT(o){return o=si(o),o.tag=3,o}function PT(o,l,d,p){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var w=p.value;o.payload=function(){return b(w)},o.callback=function(){DT(l,d,p)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(o.callback=function(){DT(l,d,p),typeof b!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var R=p.stack;this.componentDidCatch(p.value,{componentStack:R!==null?R:""})})}function X$(o,l,d,p,b){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&su(l,d,b,!0),d=yr.current,d!==null){switch(d.tag){case 13:return Jr===null?jg():d.alternate===null&&Kt===0&&(Kt=3),d.flags&=-257,d.flags|=65536,d.lanes=b,p===Um?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),$g(o,p,b)),!1;case 22:return d.flags|=65536,p===Um?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),$g(o,p,b)),!1}throw Error(r(435,d.tag))}return $g(o,p,b),jg(),!1}if(ht)return l=yr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,p!==Rm&&(o=Error(r(422),{cause:p}),ou(pr(o,d)))):(p!==Rm&&(l=Error(r(423),{cause:p}),ou(pr(l,d))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,p=pr(p,d),b=dg(o.stateNode,p,b),zm(o,b),Kt!==4&&(Kt=2)),!1;var w=Error(r(520),{cause:p});if(w=pr(w,d),Cu===null?Cu=[w]:Cu.push(w),Kt!==4&&(Kt=2),l===null)return!0;p=pr(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=b&-b,d.lanes|=o,o=dg(d.stateNode,p,o),zm(d,o),!1;case 1:if(l=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vi===null||!vi.has(w))))return d.flags|=65536,b&=-b,d.lanes|=b,b=NT(b),PT(b,o,d,p),zm(d,b),!1}d=d.return}while(d!==null);return!1}var RT=Error(r(461)),cn=!1;function yn(o,l,d,p){l.child=o===null?TT(l,null,d,p):ps(l,o.child,d,p)}function IT(o,l,d,p,b){d=d.render;var w=l.ref;if("ref"in p){var D={};for(var R in p)R!=="ref"&&(D[R]=p[R])}else D=p;return oo(l),p=Wm(o,l,d,D,w,b),R=Xm(),o!==null&&!cn?(Zm(o,l,b),Oa(o,l,b)):(ht&&R&&Nm(l),l.flags|=1,yn(o,l,p,b),l.child)}function jT(o,l,d,p,b){if(o===null){var w=d.type;return typeof w=="function"&&!Om(w)&&w.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=w,LT(o,l,w,p,b)):(o=Nf(d.type,null,p,l,l.mode,b),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,!xg(o,b)){var D=w.memoizedProps;if(d=d.compare,d=d!==null?d:nu,d(D,p)&&o.ref===l.ref)return Oa(o,l,b)}return l.flags|=1,o=wa(w,p),o.ref=l.ref,o.return=l,l.child=o}function LT(o,l,d,p,b){if(o!==null){var w=o.memoizedProps;if(nu(w,p)&&o.ref===l.ref)if(cn=!1,l.pendingProps=p=w,xg(o,b))(o.flags&131072)!==0&&(cn=!0);else return l.lanes=o.lanes,Oa(o,l,b)}return hg(o,l,d,p,b)}function $T(o,l,d){var p=l.pendingProps,b=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=w!==null?w.baseLanes|d:d,o!==null){for(b=l.child=o.child,w=0;b!==null;)w=w|b.lanes|b.childLanes,b=b.sibling;l.childLanes=w&~p}else l.childLanes=0,l.child=null;return BT(o,l,p,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Lf(l,w!==null?w.cachePool:null),w!==null?L1(l,w):Hm(),AT(l);else return l.lanes=l.childLanes=536870912,BT(o,l,w!==null?w.baseLanes|d:d,d)}else w!==null?(Lf(l,w.cachePool),L1(l,w),fi(),l.memoizedState=null):(o!==null&&Lf(l,null),Hm(),fi());return yn(o,l,b,d),l.child}function BT(o,l,d,p){var b=qm();return b=b===null?null:{parent:rn._currentValue,pool:b},l.memoizedState={baseLanes:d,cachePool:b},o!==null&&Lf(l,null),Hm(),AT(l),o!==null&&su(o,l,p,!0),null}function ed(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function hg(o,l,d,p,b){return oo(l),d=Wm(o,l,d,p,void 0,b),p=Xm(),o!==null&&!cn?(Zm(o,l,b),Oa(o,l,b)):(ht&&p&&Nm(l),l.flags|=1,yn(o,l,d,b),l.child)}function qT(o,l,d,p,b,w){return oo(l),l.updateQueue=null,d=B1(l,p,d,b),$1(o),p=Xm(),o!==null&&!cn?(Zm(o,l,w),Oa(o,l,w)):(ht&&p&&Nm(l),l.flags|=1,yn(o,l,d,w),l.child)}function UT(o,l,d,p,b){if(oo(l),l.stateNode===null){var w=as,D=d.contextType;typeof D=="object"&&D!==null&&(w=Tn(D)),w=new d(p,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=fg,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=p,w.state=l.memoizedState,w.refs={},Fm(l),D=d.contextType,w.context=typeof D=="object"&&D!==null?Tn(D):as,w.state=l.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(cg(l,d,D,p),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(D=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),D!==w.state&&fg.enqueueReplaceState(w,w.state,null),pu(l,p,w,b),hu(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(o===null){w=l.stateNode;var R=l.memoizedProps,K=uo(d,R);w.props=K;var ie=w.context,de=d.contextType;D=as,typeof de=="object"&&de!==null&&(D=Tn(de));var pe=d.getDerivedStateFromProps;de=typeof pe=="function"||typeof w.getSnapshotBeforeUpdate=="function",R=l.pendingProps!==R,de||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R||ie!==D)&&CT(l,w,p,D),oi=!1;var se=l.memoizedState;w.state=se,pu(l,p,w,b),hu(),ie=l.memoizedState,R||se!==ie||oi?(typeof pe=="function"&&(cg(l,d,pe,p),ie=l.memoizedState),(K=oi||ET(l,d,K,p,se,ie,D))?(de||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=ie),w.props=p,w.state=ie,w.context=D,p=K):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{w=l.stateNode,Vm(o,l),D=l.memoizedProps,de=uo(d,D),w.props=de,pe=l.pendingProps,se=w.context,ie=d.contextType,K=as,typeof ie=="object"&&ie!==null&&(K=Tn(ie)),R=d.getDerivedStateFromProps,(ie=typeof R=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D!==pe||se!==K)&&CT(l,w,p,K),oi=!1,se=l.memoizedState,w.state=se,pu(l,p,w,b),hu();var le=l.memoizedState;D!==pe||se!==le||oi||o!==null&&o.dependencies!==null&&If(o.dependencies)?(typeof R=="function"&&(cg(l,d,R,p),le=l.memoizedState),(de=oi||ET(l,d,de,p,se,le,K)||o!==null&&o.dependencies!==null&&If(o.dependencies))?(ie||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,le,K),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,le,K)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=le),w.props=p,w.state=le,w.context=K,p=de):(typeof w.componentDidUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),p=!1)}return w=p,ed(o,l),p=(l.flags&128)!==0,w||p?(w=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,o!==null&&p?(l.child=ps(l,o.child,null,b),l.child=ps(l,null,d,b)):yn(o,l,d,b),l.memoizedState=w.state,o=l.child):o=Oa(o,l,b),o}function FT(o,l,d,p){return iu(),l.flags|=256,yn(o,l,d,p),l.child}var pg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mg(o){return{baseLanes:o,cachePool:O1()}}function gg(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=br),o}function VT(o,l,d){var p=l.pendingProps,b=!1,w=(l.flags&128)!==0,D;if((D=w)||(D=o!==null&&o.memoizedState===null?!1:(an.current&2)!==0),D&&(b=!0,l.flags&=-129),D=(l.flags&32)!==0,l.flags&=-33,o===null){if(ht){if(b?ci(l):fi(),ht){var R=Ht,K;if(K=R){e:{for(K=R,R=Zr;K.nodeType!==8;){if(!R){R=null;break e}if(K=jr(K.nextSibling),K===null){R=null;break e}}R=K}R!==null?(l.memoizedState={dehydrated:R,treeContext:to!==null?{id:Sa,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},K=Qn(18,null,null,0),K.stateNode=R,K.return=l,l.child=K,Pn=l,Ht=null,K=!0):K=!1}K||ao(l)}if(R=l.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Qg(R)?l.lanes=32:l.lanes=536870912,null;ka(l)}return R=p.children,p=p.fallback,b?(fi(),b=l.mode,R=td({mode:"hidden",children:R},b),p=eo(p,b,d,null),R.return=l,p.return=l,R.sibling=p,l.child=R,b=l.child,b.memoizedState=mg(d),b.childLanes=gg(o,D,d),l.memoizedState=pg,p):(ci(l),vg(l,R))}if(K=o.memoizedState,K!==null&&(R=K.dehydrated,R!==null)){if(w)l.flags&256?(ci(l),l.flags&=-257,l=yg(o,l,d)):l.memoizedState!==null?(fi(),l.child=o.child,l.flags|=128,l=null):(fi(),b=p.fallback,R=l.mode,p=td({mode:"visible",children:p.children},R),b=eo(b,R,d,null),b.flags|=2,p.return=l,b.return=l,p.sibling=b,l.child=p,ps(l,o.child,null,d),p=l.child,p.memoizedState=mg(d),p.childLanes=gg(o,D,d),l.memoizedState=pg,l=b);else if(ci(l),Qg(R)){if(D=R.nextSibling&&R.nextSibling.dataset,D)var ie=D.dgst;D=ie,p=Error(r(419)),p.stack="",p.digest=D,ou({value:p,source:null,stack:null}),l=yg(o,l,d)}else if(cn||su(o,l,d,!1),D=(d&o.childLanes)!==0,cn||D){if(D=Dt,D!==null&&(p=d&-d,p=(p&42)!==0?1:zl(p),p=(p&(D.suspendedLanes|d))!==0?0:p,p!==0&&p!==K.retryLane))throw K.retryLane=p,rs(o,p),ar(D,o,p),RT;R.data==="$?"||jg(),l=yg(o,l,d)}else R.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=K.treeContext,Ht=jr(R.nextSibling),Pn=l,ht=!0,ro=null,Zr=!1,o!==null&&(gr[vr++]=Sa,gr[vr++]=Ta,gr[vr++]=to,Sa=o.id,Ta=o.overflow,to=l),l=vg(l,p.children),l.flags|=4096);return l}return b?(fi(),b=p.fallback,R=l.mode,K=o.child,ie=K.sibling,p=wa(K,{mode:"hidden",children:p.children}),p.subtreeFlags=K.subtreeFlags&65011712,ie!==null?b=wa(ie,b):(b=eo(b,R,d,null),b.flags|=2),b.return=l,p.return=l,p.sibling=b,l.child=p,p=b,b=l.child,R=o.child.memoizedState,R===null?R=mg(d):(K=R.cachePool,K!==null?(ie=rn._currentValue,K=K.parent!==ie?{parent:ie,pool:ie}:K):K=O1(),R={baseLanes:R.baseLanes|d,cachePool:K}),b.memoizedState=R,b.childLanes=gg(o,D,d),l.memoizedState=pg,p):(ci(l),d=o.child,o=d.sibling,d=wa(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,o!==null&&(D=l.deletions,D===null?(l.deletions=[o],l.flags|=16):D.push(o)),l.child=d,l.memoizedState=null,d)}function vg(o,l){return l=td({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function td(o,l){return o=Qn(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function yg(o,l,d){return ps(l,o.child,null,d),o=vg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function zT(o,l,d){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),jm(o.return,l,d)}function bg(o,l,d,p,b){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:b}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=d,w.tailMode=b)}function GT(o,l,d){var p=l.pendingProps,b=p.revealOrder,w=p.tail;if(yn(o,l,p.children,d),p=an.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&zT(o,d,l);else if(o.tag===19)zT(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}switch(ce(an,p),b){case"forwards":for(d=l.child,b=null;d!==null;)o=d.alternate,o!==null&&Zf(o)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),bg(l,!1,b,d,w);break;case"backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(o=b.alternate,o!==null&&Zf(o)===null){l.child=b;break}o=b.sibling,b.sibling=d,d=b,b=o}bg(l,!0,d,null,w);break;case"together":bg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Oa(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),gi|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(su(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=wa(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=wa(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function xg(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&If(o)))}function Z$(o,l,d){switch(l.tag){case 3:ze(l,l.stateNode.containerInfo),ii(l,rn,o.memoizedState.cache),iu();break;case 27:case 5:je(l);break;case 4:ze(l,l.stateNode.containerInfo);break;case 10:ii(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(ci(l),l.flags|=128,null):(d&l.child.childLanes)!==0?VT(o,l,d):(ci(l),o=Oa(o,l,d),o!==null?o.sibling:null);ci(l);break;case 19:var b=(o.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(su(o,l,d,!1),p=(d&l.childLanes)!==0),b){if(p)return GT(o,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ce(an,an.current),p)break;return null;case 22:case 23:return l.lanes=0,$T(o,l,d);case 24:ii(l,rn,o.memoizedState.cache)}return Oa(o,l,d)}function HT(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)cn=!0;else{if(!xg(o,d)&&(l.flags&128)===0)return cn=!1,Z$(o,l,d);cn=(o.flags&131072)!==0}else cn=!1,ht&&(l.flags&1048576)!==0&&w1(l,Rf,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var p=l.elementType,b=p._init;if(p=b(p._payload),l.type=p,typeof p=="function")Om(p)?(o=uo(p,o),l.tag=1,l=UT(null,l,p,o,d)):(l.tag=0,l=hg(null,l,p,o,d));else{if(p!=null){if(b=p.$$typeof,b===N){l.tag=11,l=IT(null,l,p,o,d);break e}else if(b===P){l.tag=14,l=jT(null,l,p,o,d);break e}}throw l=Y(p)||p,Error(r(306,l,""))}}return l;case 0:return hg(o,l,l.type,l.pendingProps,d);case 1:return p=l.type,b=uo(p,l.pendingProps),UT(o,l,p,b,d);case 3:e:{if(ze(l,l.stateNode.containerInfo),o===null)throw Error(r(387));p=l.pendingProps;var w=l.memoizedState;b=w.element,Vm(o,l),pu(l,p,null,d);var D=l.memoizedState;if(p=D.cache,ii(l,rn,p),p!==w.cache&&Lm(l,[rn],d,!0),hu(),p=D.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:D.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=FT(o,l,p,d);break e}else if(p!==b){b=pr(Error(r(424)),l),ou(b),l=FT(o,l,p,d);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ht=jr(o.firstChild),Pn=l,ht=!0,ro=null,Zr=!0,d=TT(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(iu(),p===b){l=Oa(o,l,d);break e}yn(o,l,p,d)}l=l.child}return l;case 26:return ed(o,l),o===null?(d=XA(l.type,null,l.pendingProps,null))?l.memoizedState=d:ht||(d=l.type,o=l.pendingProps,p=md(Ce.current).createElement(d),p[un]=l,p[wn]=o,xn(p,d,o),Zt(p),l.stateNode=p):l.memoizedState=XA(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return je(l),o===null&&ht&&(p=l.stateNode=KA(l.type,l.pendingProps,Ce.current),Pn=l,Zr=!0,b=Ht,xi(l.type)?(ev=b,Ht=jr(p.firstChild)):Ht=b),yn(o,l,l.pendingProps.children,d),ed(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&ht&&((b=p=Ht)&&(p=A3(p,l.type,l.pendingProps,Zr),p!==null?(l.stateNode=p,Pn=l,Ht=jr(p.firstChild),Zr=!1,b=!0):b=!1),b||ao(l)),je(l),b=l.type,w=l.pendingProps,D=o!==null?o.memoizedProps:null,p=w.children,Xg(b,w)?p=null:D!==null&&Xg(b,D)&&(l.flags|=32),l.memoizedState!==null&&(b=Wm(o,l,V$,null,null,d),ju._currentValue=b),ed(o,l),yn(o,l,p,d),l.child;case 6:return o===null&&ht&&((o=d=Ht)&&(d=E3(d,l.pendingProps,Zr),d!==null?(l.stateNode=d,Pn=l,Ht=null,o=!0):o=!1),o||ao(l)),null;case 13:return VT(o,l,d);case 4:return ze(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=ps(l,null,p,d):yn(o,l,p,d),l.child;case 11:return IT(o,l,l.type,l.pendingProps,d);case 7:return yn(o,l,l.pendingProps,d),l.child;case 8:return yn(o,l,l.pendingProps.children,d),l.child;case 12:return yn(o,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,ii(l,l.type,p.value),yn(o,l,p.children,d),l.child;case 9:return b=l.type._context,p=l.pendingProps.children,oo(l),b=Tn(b),p=p(b),l.flags|=1,yn(o,l,p,d),l.child;case 14:return jT(o,l,l.type,l.pendingProps,d);case 15:return LT(o,l,l.type,l.pendingProps,d);case 19:return GT(o,l,d);case 31:return p=l.pendingProps,d=l.mode,p={mode:p.mode,children:p.children},o===null?(d=td(p,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=wa(o.child,p),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return $T(o,l,d);case 24:return oo(l),p=Tn(rn),o===null?(b=qm(),b===null&&(b=Dt,w=$m(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=d),b=w),l.memoizedState={parent:p,cache:b},Fm(l),ii(l,rn,b)):((o.lanes&d)!==0&&(Vm(o,l),pu(l,null,null,d),hu()),b=o.memoizedState,w=l.memoizedState,b.parent!==p?(b={parent:p,cache:p},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),ii(l,rn,p)):(p=w.cache,ii(l,rn,p),p!==b.cache&&Lm(l,[rn],d,!0))),yn(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ma(o){o.flags|=4}function KT(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!tE(l)){if(l=yr.current,l!==null&&((ut&4194048)===ut?Jr!==null:(ut&62914560)!==ut&&(ut&536870912)===0||l!==Jr))throw fu=Um,M1;o.flags|=8192}}function nd(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?mf():536870912,o.lanes|=l,ys|=l)}function _u(o,l){if(!ht)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Gt(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,p=0;if(l)for(var b=o.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=p,o.childLanes=d,l}function J$(o,l,d){var p=l.pendingProps;switch(Pm(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(l),null;case 1:return Gt(l),null;case 3:return d=l.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Ea(rn),we(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(au(l)?Ma(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,A1())),Gt(l),null;case 26:return d=l.memoizedState,o===null?(Ma(l),d!==null?(Gt(l),KT(l,d)):(Gt(l),l.flags&=-16777217)):d?d!==o.memoizedState?(Ma(l),Gt(l),KT(l,d)):(Gt(l),l.flags&=-16777217):(o.memoizedProps!==p&&Ma(l),Gt(l),l.flags&=-16777217),null;case 27:qe(l),d=Ce.current;var b=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==p&&Ma(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Gt(l),null}o=ge.current,au(l)?S1(l):(o=KA(b,p,d),l.stateNode=o,Ma(l))}return Gt(l),null;case 5:if(qe(l),d=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&Ma(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Gt(l),null}if(o=ge.current,au(l))S1(l);else{switch(b=md(Ce.current),o){case 1:o=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:o=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":o=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":o=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":o=b.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof p.is=="string"?b.createElement("select",{is:p.is}):b.createElement("select"),p.multiple?o.multiple=!0:p.size&&(o.size=p.size);break;default:o=typeof p.is=="string"?b.createElement(d,{is:p.is}):b.createElement(d)}}o[un]=l,o[wn]=p;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)o.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=o;e:switch(xn(o,d,p),d){case"button":case"input":case"select":case"textarea":o=!!p.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ma(l)}}return Gt(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==p&&Ma(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(o=Ce.current,au(l)){if(o=l.stateNode,d=l.memoizedProps,p=null,b=Pn,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}o[un]=l,o=!!(o.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||qA(o.nodeValue,d)),o||ao(l)}else o=md(o).createTextNode(p),o[un]=l,l.stateNode=o}return Gt(l),null;case 13:if(p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=au(l),p!==null&&p.dehydrated!==null){if(o===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[un]=l}else iu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Gt(l),b=!1}else b=A1(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(ka(l),l):(ka(l),null)}if(ka(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=p!==null,o=o!==null&&o.memoizedState!==null,d){p=l.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool);var w=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==b&&(p.flags|=2048)}return d!==o&&d&&(l.child.flags|=8192),nd(l,l.updateQueue),Gt(l),null;case 4:return we(),o===null&&Gg(l.stateNode.containerInfo),Gt(l),null;case 10:return Ea(l.type),Gt(l),null;case 19:if(ne(an),b=l.memoizedState,b===null)return Gt(l),null;if(p=(l.flags&128)!==0,w=b.rendering,w===null)if(p)_u(b,!1);else{if(Kt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(w=Zf(o),w!==null){for(l.flags|=128,_u(b,!1),o=w.updateQueue,l.updateQueue=o,nd(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)_1(d,o),d=d.sibling;return ce(an,an.current&1|2),l.child}o=o.sibling}b.tail!==null&&Ct()>id&&(l.flags|=128,p=!0,_u(b,!1),l.lanes=4194304)}else{if(!p)if(o=Zf(w),o!==null){if(l.flags|=128,p=!0,o=o.updateQueue,l.updateQueue=o,nd(l,o),_u(b,!0),b.tail===null&&b.tailMode==="hidden"&&!w.alternate&&!ht)return Gt(l),null}else 2*Ct()-b.renderingStartTime>id&&d!==536870912&&(l.flags|=128,p=!0,_u(b,!1),l.lanes=4194304);b.isBackwards?(w.sibling=l.child,l.child=w):(o=b.last,o!==null?o.sibling=w:l.child=w,b.last=w)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=Ct(),l.sibling=null,o=an.current,ce(an,p?o&1|2:o&1),l):(Gt(l),null);case 22:case 23:return ka(l),Km(),p=l.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(Gt(l),l.subtreeFlags&6&&(l.flags|=8192)):Gt(l),d=l.updateQueue,d!==null&&nd(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),o!==null&&ne(so),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ea(rn),Gt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function Q$(o,l){switch(Pm(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ea(rn),we(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return qe(l),null;case 13:if(ka(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));iu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return ne(an),null;case 4:return we(),null;case 10:return Ea(l.type),null;case 22:case 23:return ka(l),Km(),o!==null&&ne(so),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Ea(rn),null;case 25:return null;default:return null}}function YT(o,l){switch(Pm(l),l.tag){case 3:Ea(rn),we();break;case 26:case 27:case 5:qe(l);break;case 4:we();break;case 13:ka(l);break;case 19:ne(an);break;case 10:Ea(l.type);break;case 22:case 23:ka(l),Km(),o!==null&&ne(so);break;case 24:Ea(rn)}}function wu(o,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&o)===o){p=void 0;var w=d.create,D=d.inst;p=w(),D.destroy=p}d=d.next}while(d!==b)}}catch(R){kt(l,l.return,R)}}function di(o,l,d){try{var p=l.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var w=b.next;p=w;do{if((p.tag&o)===o){var D=p.inst,R=D.destroy;if(R!==void 0){D.destroy=void 0,b=l;var K=d,ie=R;try{ie()}catch(de){kt(b,K,de)}}}p=p.next}while(p!==w)}}catch(de){kt(l,l.return,de)}}function WT(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{j1(l,d)}catch(p){kt(o,o.return,p)}}}function XT(o,l,d){d.props=uo(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(p){kt(o,l,p)}}function Su(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof d=="function"?o.refCleanup=d(p):d.current=p}}catch(b){kt(o,l,b)}}function Qr(o,l){var d=o.ref,p=o.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(b){kt(o,l,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){kt(o,l,b)}else d.current=null}function ZT(o){var l=o.type,d=o.memoizedProps,p=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(b){kt(o,o.return,b)}}function _g(o,l,d){try{var p=o.stateNode;x3(p,o.type,d,l),p[wn]=l}catch(b){kt(o,o.return,b)}}function JT(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&xi(o.type)||o.tag===4}function wg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||JT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&xi(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Sg(o,l,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=pd));else if(p!==4&&(p===27&&xi(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for(Sg(o,l,d),o=o.sibling;o!==null;)Sg(o,l,d),o=o.sibling}function rd(o,l,d){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(p!==4&&(p===27&&xi(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(rd(o,l,d),o=o.sibling;o!==null;)rd(o,l,d),o=o.sibling}function QT(o){var l=o.stateNode,d=o.memoizedProps;try{for(var p=o.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);xn(l,p,d),l[un]=o,l[wn]=d}catch(w){kt(o,o.return,w)}}var Da=!1,Xt=!1,Tg=!1,eA=typeof WeakSet=="function"?WeakSet:Set,fn=null;function e3(o,l){if(o=o.containerInfo,Yg=_d,o=f1(o),wm(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var b=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var D=0,R=-1,K=-1,ie=0,de=0,pe=o,se=null;t:for(;;){for(var le;pe!==d||b!==0&&pe.nodeType!==3||(R=D+b),pe!==w||p!==0&&pe.nodeType!==3||(K=D+p),pe.nodeType===3&&(D+=pe.nodeValue.length),(le=pe.firstChild)!==null;)se=pe,pe=le;for(;;){if(pe===o)break t;if(se===d&&++ie===b&&(R=D),se===w&&++de===p&&(K=D),(le=pe.nextSibling)!==null)break;pe=se,se=pe.parentNode}pe=le}d=R===-1||K===-1?null:{start:R,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(Wg={focusedElem:o,selectionRange:d},_d=!1,fn=l;fn!==null;)if(l=fn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,fn=o;else for(;fn!==null;){switch(l=fn,w=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,d=l,b=w.memoizedProps,w=w.memoizedState,p=d.stateNode;try{var Ue=uo(d.type,b,d.elementType===d.type);o=p.getSnapshotBeforeUpdate(Ue,w),p.__reactInternalSnapshotBeforeUpdate=o}catch(Le){kt(d,d.return,Le)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)Jg(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Jg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,fn=o;break}fn=l.return}}function tA(o,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:hi(o,d),p&4&&wu(5,d);break;case 1:if(hi(o,d),p&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(D){kt(d,d.return,D)}else{var b=uo(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(b,l,o.__reactInternalSnapshotBeforeUpdate)}catch(D){kt(d,d.return,D)}}p&64&&WT(d),p&512&&Su(d,d.return);break;case 3:if(hi(o,d),p&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{j1(o,l)}catch(D){kt(d,d.return,D)}}break;case 27:l===null&&p&4&&QT(d);case 26:case 5:hi(o,d),l===null&&p&4&&ZT(d),p&512&&Su(d,d.return);break;case 12:hi(o,d);break;case 13:hi(o,d),p&4&&aA(o,d),p&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=u3.bind(null,d),C3(o,d))));break;case 22:if(p=d.memoizedState!==null||Da,!p){l=l!==null&&l.memoizedState!==null||Xt,b=Da;var w=Xt;Da=p,(Xt=l)&&!w?pi(o,d,(d.subtreeFlags&8772)!==0):hi(o,d),Da=b,Xt=w}break;case 30:break;default:hi(o,d)}}function nA(o){var l=o.alternate;l!==null&&(o.alternate=null,nA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&ma(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ft=null,zn=!1;function Na(o,l,d){for(d=d.child;d!==null;)rA(o,l,d),d=d.sibling}function rA(o,l,d){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Gi,d)}catch{}switch(d.tag){case 26:Xt||Qr(d,l),Na(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Xt||Qr(d,l);var p=Ft,b=zn;xi(d.type)&&(Ft=d.stateNode,zn=!1),Na(o,l,d),Nu(d.stateNode),Ft=p,zn=b;break;case 5:Xt||Qr(d,l);case 6:if(p=Ft,b=zn,Ft=null,Na(o,l,d),Ft=p,zn=b,Ft!==null)if(zn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(d.stateNode)}catch(w){kt(d,l,w)}else try{Ft.removeChild(d.stateNode)}catch(w){kt(d,l,w)}break;case 18:Ft!==null&&(zn?(o=Ft,GA(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),qu(o)):GA(Ft,d.stateNode));break;case 4:p=Ft,b=zn,Ft=d.stateNode.containerInfo,zn=!0,Na(o,l,d),Ft=p,zn=b;break;case 0:case 11:case 14:case 15:Xt||di(2,d,l),Xt||di(4,d,l),Na(o,l,d);break;case 1:Xt||(Qr(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&XT(d,l,p)),Na(o,l,d);break;case 21:Na(o,l,d);break;case 22:Xt=(p=Xt)||d.memoizedState!==null,Na(o,l,d),Xt=p;break;default:Na(o,l,d)}}function aA(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{qu(o)}catch(d){kt(l,l.return,d)}}function t3(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new eA),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new eA),l;default:throw Error(r(435,o.tag))}}function Ag(o,l){var d=t3(o);l.forEach(function(p){var b=c3.bind(null,o,p);d.has(p)||(d.add(p),p.then(b,b))})}function er(o,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var b=d[p],w=o,D=l,R=D;e:for(;R!==null;){switch(R.tag){case 27:if(xi(R.type)){Ft=R.stateNode,zn=!1;break e}break;case 5:Ft=R.stateNode,zn=!1;break e;case 3:case 4:Ft=R.stateNode.containerInfo,zn=!0;break e}R=R.return}if(Ft===null)throw Error(r(160));rA(w,D,b),Ft=null,zn=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)iA(l,o),l=l.sibling}var Ir=null;function iA(o,l){var d=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:er(l,o),tr(o),p&4&&(di(3,o,o.return),wu(3,o),di(5,o,o.return));break;case 1:er(l,o),tr(o),p&512&&(Xt||d===null||Qr(d,d.return)),p&64&&Da&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var b=Ir;if(er(l,o),tr(o),p&512&&(Xt||d===null||Qr(d,d.return)),p&4){var w=d!==null?d.memoizedState:null;if(p=o.memoizedState,d===null)if(p===null)if(o.stateNode===null){e:{p=o.type,d=o.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":w=b.getElementsByTagName("title")[0],(!w||w[Yi]||w[un]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(p),b.head.insertBefore(w,b.querySelector("head > title"))),xn(w,p,d),w[un]=o,Zt(w),p=w;break e;case"link":var D=QA("link","href",b).get(p+(d.href||""));if(D){for(var R=0;R<D.length;R++)if(w=D[R],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(R,1);break t}}w=b.createElement(p),xn(w,p,d),b.head.appendChild(w);break;case"meta":if(D=QA("meta","content",b).get(p+(d.content||""))){for(R=0;R<D.length;R++)if(w=D[R],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(R,1);break t}}w=b.createElement(p),xn(w,p,d),b.head.appendChild(w);break;default:throw Error(r(468,p))}w[un]=o,Zt(w),p=w}o.stateNode=p}else eE(b,o.type,o.stateNode);else o.stateNode=JA(b,p,o.memoizedProps);else w!==p?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,p===null?eE(b,o.type,o.stateNode):JA(b,p,o.memoizedProps)):p===null&&o.stateNode!==null&&_g(o,o.memoizedProps,d.memoizedProps)}break;case 27:er(l,o),tr(o),p&512&&(Xt||d===null||Qr(d,d.return)),d!==null&&p&4&&_g(o,o.memoizedProps,d.memoizedProps);break;case 5:if(er(l,o),tr(o),p&512&&(Xt||d===null||Qr(d,d.return)),o.flags&32){b=o.stateNode;try{Xo(b,"")}catch(le){kt(o,o.return,le)}}p&4&&o.stateNode!=null&&(b=o.memoizedProps,_g(o,b,d!==null?d.memoizedProps:b)),p&1024&&(Tg=!0);break;case 6:if(er(l,o),tr(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,d=o.stateNode;try{d.nodeValue=p}catch(le){kt(o,o.return,le)}}break;case 3:if(yd=null,b=Ir,Ir=gd(l.containerInfo),er(l,o),Ir=b,tr(o),p&4&&d!==null&&d.memoizedState.isDehydrated)try{qu(l.containerInfo)}catch(le){kt(o,o.return,le)}Tg&&(Tg=!1,oA(o));break;case 4:p=Ir,Ir=gd(o.stateNode.containerInfo),er(l,o),tr(o),Ir=p;break;case 12:er(l,o),tr(o);break;case 13:er(l,o),tr(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Dg=Ct()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Ag(o,p)));break;case 22:b=o.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,ie=Da,de=Xt;if(Da=ie||b,Xt=de||K,er(l,o),Xt=de,Da=ie,tr(o),p&8192)e:for(l=o.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(d===null||K||Da||Xt||co(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){K=d=l;try{if(w=K.stateNode,b)D=w.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{R=K.stateNode;var pe=K.memoizedProps.style,se=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;R.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(le){kt(K,K.return,le)}}}else if(l.tag===6){if(d===null){K=l;try{K.stateNode.nodeValue=b?"":K.memoizedProps}catch(le){kt(K,K.return,le)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=o.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Ag(o,d))));break;case 19:er(l,o),tr(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Ag(o,p)));break;case 30:break;case 21:break;default:er(l,o),tr(o)}}function tr(o){var l=o.flags;if(l&2){try{for(var d,p=o.return;p!==null;){if(JT(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var b=d.stateNode,w=wg(o);rd(o,w,b);break;case 5:var D=d.stateNode;d.flags&32&&(Xo(D,""),d.flags&=-33);var R=wg(o);rd(o,R,D);break;case 3:case 4:var K=d.stateNode.containerInfo,ie=wg(o);Sg(o,ie,K);break;default:throw Error(r(161))}}catch(de){kt(o,o.return,de)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function oA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;oA(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function hi(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)tA(o,l.alternate,l),l=l.sibling}function co(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:di(4,l,l.return),co(l);break;case 1:Qr(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&XT(l,l.return,d),co(l);break;case 27:Nu(l.stateNode);case 26:case 5:Qr(l,l.return),co(l);break;case 22:l.memoizedState===null&&co(l);break;case 30:co(l);break;default:co(l)}o=o.sibling}}function pi(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,b=o,w=l,D=w.flags;switch(w.tag){case 0:case 11:case 15:pi(b,w,d),wu(4,w);break;case 1:if(pi(b,w,d),p=w,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ie){kt(p,p.return,ie)}if(p=w,b=p.updateQueue,b!==null){var R=p.stateNode;try{var K=b.shared.hiddenCallbacks;if(K!==null)for(b.shared.hiddenCallbacks=null,b=0;b<K.length;b++)I1(K[b],R)}catch(ie){kt(p,p.return,ie)}}d&&D&64&&WT(w),Su(w,w.return);break;case 27:QT(w);case 26:case 5:pi(b,w,d),d&&p===null&&D&4&&ZT(w),Su(w,w.return);break;case 12:pi(b,w,d);break;case 13:pi(b,w,d),d&&D&4&&aA(b,w);break;case 22:w.memoizedState===null&&pi(b,w,d),Su(w,w.return);break;case 30:break;default:pi(b,w,d)}l=l.sibling}}function Eg(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&lu(d))}function Cg(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&lu(o))}function ea(o,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)sA(o,l,d,p),l=l.sibling}function sA(o,l,d,p){var b=l.flags;switch(l.tag){case 0:case 11:case 15:ea(o,l,d,p),b&2048&&wu(9,l);break;case 1:ea(o,l,d,p);break;case 3:ea(o,l,d,p),b&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&lu(o)));break;case 12:if(b&2048){ea(o,l,d,p),o=l.stateNode;try{var w=l.memoizedProps,D=w.id,R=w.onPostCommit;typeof R=="function"&&R(D,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(K){kt(l,l.return,K)}}else ea(o,l,d,p);break;case 13:ea(o,l,d,p);break;case 23:break;case 22:w=l.stateNode,D=l.alternate,l.memoizedState!==null?w._visibility&2?ea(o,l,d,p):Tu(o,l):w._visibility&2?ea(o,l,d,p):(w._visibility|=2,ms(o,l,d,p,(l.subtreeFlags&10256)!==0)),b&2048&&Eg(D,l);break;case 24:ea(o,l,d,p),b&2048&&Cg(l.alternate,l);break;default:ea(o,l,d,p)}}function ms(o,l,d,p,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=o,D=l,R=d,K=p,ie=D.flags;switch(D.tag){case 0:case 11:case 15:ms(w,D,R,K,b),wu(8,D);break;case 23:break;case 22:var de=D.stateNode;D.memoizedState!==null?de._visibility&2?ms(w,D,R,K,b):Tu(w,D):(de._visibility|=2,ms(w,D,R,K,b)),b&&ie&2048&&Eg(D.alternate,D);break;case 24:ms(w,D,R,K,b),b&&ie&2048&&Cg(D.alternate,D);break;default:ms(w,D,R,K,b)}l=l.sibling}}function Tu(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,p=l,b=p.flags;switch(p.tag){case 22:Tu(d,p),b&2048&&Eg(p.alternate,p);break;case 24:Tu(d,p),b&2048&&Cg(p.alternate,p);break;default:Tu(d,p)}l=l.sibling}}var Au=8192;function gs(o){if(o.subtreeFlags&Au)for(o=o.child;o!==null;)lA(o),o=o.sibling}function lA(o){switch(o.tag){case 26:gs(o),o.flags&Au&&o.memoizedState!==null&&q3(Ir,o.memoizedState,o.memoizedProps);break;case 5:gs(o);break;case 3:case 4:var l=Ir;Ir=gd(o.stateNode.containerInfo),gs(o),Ir=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=Au,Au=16777216,gs(o),Au=l):gs(o));break;default:gs(o)}}function uA(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Eu(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];fn=p,fA(p,o)}uA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)cA(o),o=o.sibling}function cA(o){switch(o.tag){case 0:case 11:case 15:Eu(o),o.flags&2048&&di(9,o,o.return);break;case 3:Eu(o);break;case 12:Eu(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,ad(o)):Eu(o);break;default:Eu(o)}}function ad(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];fn=p,fA(p,o)}uA(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:di(8,l,l.return),ad(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,ad(l));break;default:ad(l)}o=o.sibling}}function fA(o,l){for(;fn!==null;){var d=fn;switch(d.tag){case 0:case 11:case 15:di(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:lu(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,fn=p;else e:for(d=o;fn!==null;){p=fn;var b=p.sibling,w=p.return;if(nA(p),p===d){fn=null;break e}if(b!==null){b.return=w,fn=b;break e}fn=w}}}var n3={getCacheForType:function(o){var l=Tn(rn),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d}},r3=typeof WeakMap=="function"?WeakMap:Map,xt=0,Dt=null,at=null,ut=0,_t=0,nr=null,mi=!1,vs=!1,kg=!1,Pa=0,Kt=0,gi=0,fo=0,Og=0,br=0,ys=0,Cu=null,Gn=null,Mg=!1,Dg=0,id=1/0,od=null,vi=null,bn=0,yi=null,bs=null,xs=0,Ng=0,Pg=null,dA=null,ku=0,Rg=null;function rr(){if((xt&2)!==0&&ut!==0)return ut&-ut;if(j.T!==null){var o=ss;return o!==0?o:Ug()}return yf()}function hA(){br===0&&(br=(ut&536870912)===0||ht?pf():536870912);var o=yr.current;return o!==null&&(o.flags|=32),br}function ar(o,l,d){(o===Dt&&(_t===2||_t===9)||o.cancelPendingCommit!==null)&&(_s(o,0),bi(o,ut,br,!1)),Ki(o,d),((xt&2)===0||o!==Dt)&&(o===Dt&&((xt&2)===0&&(fo|=d),Kt===4&&bi(o,ut,br,!1)),ta(o))}function pA(o,l,d){if((xt&6)!==0)throw Error(r(327));var p=!d&&(l&124)===0&&(l&o.expiredLanes)===0||Hi(o,l),b=p?o3(o,l):Lg(o,l,!0),w=p;do{if(b===0){vs&&!p&&bi(o,l,0,!1);break}else{if(d=o.current.alternate,w&&!a3(d)){b=Lg(o,l,!1),w=!1;continue}if(b===2){if(w=l,o.errorRecoveryDisabledLanes&w)var D=0;else D=o.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){l=D;e:{var R=o;b=Cu;var K=R.current.memoizedState.isDehydrated;if(K&&(_s(R,D).flags|=256),D=Lg(R,D,!1),D!==2){if(kg&&!K){R.errorRecoveryDisabledLanes|=w,fo|=w,b=4;break e}w=Gn,Gn=b,w!==null&&(Gn===null?Gn=w:Gn.push.apply(Gn,w))}b=D}if(w=!1,b!==2)continue}}if(b===1){_s(o,0),bi(o,l,0,!0);break}e:{switch(p=o,w=b,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:bi(p,l,br,!mi);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=Dg+300-Ct(),10<b)){if(bi(p,l,br,!mi),Yo(p,0,!0)!==0)break e;p.timeoutHandle=VA(mA.bind(null,p,d,Gn,od,Mg,l,br,fo,ys,mi,w,2,-0,0),b);break e}mA(p,d,Gn,od,Mg,l,br,fo,ys,mi,w,0,-0,0)}}break}while(!0);ta(o)}function mA(o,l,d,p,b,w,D,R,K,ie,de,pe,se,le){if(o.timeoutHandle=-1,pe=l.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(Iu={stylesheets:null,count:0,unsuspend:B3},lA(l),pe=U3(),pe!==null)){o.cancelPendingCommit=pe(wA.bind(null,o,l,w,d,p,b,D,R,K,de,1,se,le)),bi(o,w,D,!ie);return}wA(o,l,w,d,p,b,D,R,K)}function a3(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var b=d[p],w=b.getSnapshot;b=b.value;try{if(!Jn(w(),b))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function bi(o,l,d,p){l&=~Og,l&=~fo,o.suspendedLanes|=l,o.pingedLanes&=~l,p&&(o.warmLanes|=l),p=o.expirationTimes;for(var b=l;0<b;){var w=31-Dn(b),D=1<<w;p[w]=-1,b&=~D}d!==0&&gf(o,d,l)}function sd(){return(xt&6)===0?(Ou(0),!1):!0}function Ig(){if(at!==null){if(_t===0)var o=at.return;else o=at,Aa=io=null,Jm(o),hs=null,bu=0,o=at;for(;o!==null;)YT(o.alternate,o),o=o.return;at=null}}function _s(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,w3(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),Ig(),Dt=o,at=d=wa(o.current,null),ut=l,_t=0,nr=null,mi=!1,vs=Hi(o,l),kg=!1,ys=br=Og=fo=gi=Kt=0,Gn=Cu=null,Mg=!1,(l&8)!==0&&(l|=l&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=l;0<p;){var b=31-Dn(p),w=1<<b;l|=o[b],p&=~w}return Pa=l,Of(),d}function gA(o,l){tt=null,j.H=Yf,l===cu||l===$f?(l=P1(),_t=3):l===M1?(l=P1(),_t=4):_t=l===RT?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,nr=l,at===null&&(Kt=1,Qf(o,pr(l,o.current)))}function vA(){var o=j.H;return j.H=Yf,o===null?Yf:o}function yA(){var o=j.A;return j.A=n3,o}function jg(){Kt=4,mi||(ut&4194048)!==ut&&yr.current!==null||(vs=!0),(gi&134217727)===0&&(fo&134217727)===0||Dt===null||bi(Dt,ut,br,!1)}function Lg(o,l,d){var p=xt;xt|=2;var b=vA(),w=yA();(Dt!==o||ut!==l)&&(od=null,_s(o,l)),l=!1;var D=Kt;e:do try{if(_t!==0&&at!==null){var R=at,K=nr;switch(_t){case 8:Ig(),D=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(l=!0);var ie=_t;if(_t=0,nr=null,ws(o,R,K,ie),d&&vs){D=0;break e}break;default:ie=_t,_t=0,nr=null,ws(o,R,K,ie)}}i3(),D=Kt;break}catch(de){gA(o,de)}while(!0);return l&&o.shellSuspendCounter++,Aa=io=null,xt=p,j.H=b,j.A=w,at===null&&(Dt=null,ut=0,Of()),D}function i3(){for(;at!==null;)bA(at)}function o3(o,l){var d=xt;xt|=2;var p=vA(),b=yA();Dt!==o||ut!==l?(od=null,id=Ct()+500,_s(o,l)):vs=Hi(o,l);e:do try{if(_t!==0&&at!==null){l=at;var w=nr;t:switch(_t){case 1:_t=0,nr=null,ws(o,l,w,1);break;case 2:case 9:if(D1(w)){_t=0,nr=null,xA(l);break}l=function(){_t!==2&&_t!==9||Dt!==o||(_t=7),ta(o)},w.then(l,l);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:D1(w)?(_t=0,nr=null,xA(l)):(_t=0,nr=null,ws(o,l,w,7));break;case 5:var D=null;switch(at.tag){case 26:D=at.memoizedState;case 5:case 27:var R=at;if(!D||tE(D)){_t=0,nr=null;var K=R.sibling;if(K!==null)at=K;else{var ie=R.return;ie!==null?(at=ie,ld(ie)):at=null}break t}}_t=0,nr=null,ws(o,l,w,5);break;case 6:_t=0,nr=null,ws(o,l,w,6);break;case 8:Ig(),Kt=6;break e;default:throw Error(r(462))}}s3();break}catch(de){gA(o,de)}while(!0);return Aa=io=null,j.H=p,j.A=b,xt=d,at!==null?0:(Dt=null,ut=0,Of(),Kt)}function s3(){for(;at!==null&&!Mt();)bA(at)}function bA(o){var l=HT(o.alternate,o,Pa);o.memoizedProps=o.pendingProps,l===null?ld(o):at=l}function xA(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=qT(d,l,l.pendingProps,l.type,void 0,ut);break;case 11:l=qT(d,l,l.pendingProps,l.type.render,l.ref,ut);break;case 5:Jm(l);default:YT(d,l),l=at=_1(l,Pa),l=HT(d,l,Pa)}o.memoizedProps=o.pendingProps,l===null?ld(o):at=l}function ws(o,l,d,p){Aa=io=null,Jm(l),hs=null,bu=0;var b=l.return;try{if(X$(o,b,l,d,ut)){Kt=1,Qf(o,pr(d,o.current)),at=null;return}}catch(w){if(b!==null)throw at=b,w;Kt=1,Qf(o,pr(d,o.current)),at=null;return}l.flags&32768?(ht||p===1?o=!0:vs||(ut&536870912)!==0?o=!1:(mi=o=!0,(p===2||p===9||p===3||p===6)&&(p=yr.current,p!==null&&p.tag===13&&(p.flags|=16384))),_A(l,o)):ld(l)}function ld(o){var l=o;do{if((l.flags&32768)!==0){_A(l,mi);return}o=l.return;var d=J$(l.alternate,l,Pa);if(d!==null){at=d;return}if(l=l.sibling,l!==null){at=l;return}at=l=o}while(l!==null);Kt===0&&(Kt=5)}function _A(o,l){do{var d=Q$(o.alternate,o);if(d!==null){d.flags&=32767,at=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){at=o;return}at=o=d}while(o!==null);Kt=6,at=null}function wA(o,l,d,p,b,w,D,R,K){o.cancelPendingCommit=null;do ud();while(bn!==0);if((xt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=Cm,am(o,d,w,D,R,K),o===Dt&&(at=Dt=null,ut=0),bs=l,yi=o,xs=d,Ng=w,Pg=b,dA=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,f3(On,function(){return CA(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=j.T,j.T=null,b=F.p,F.p=2,D=xt,xt|=4;try{e3(o,l,d)}finally{xt=D,F.p=b,j.T=p}}bn=1,SA(),TA(),AA()}}function SA(){if(bn===1){bn=0;var o=yi,l=bs,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=j.T,j.T=null;var p=F.p;F.p=2;var b=xt;xt|=4;try{iA(l,o);var w=Wg,D=f1(o.containerInfo),R=w.focusedElem,K=w.selectionRange;if(D!==R&&R&&R.ownerDocument&&c1(R.ownerDocument.documentElement,R)){if(K!==null&&wm(R)){var ie=K.start,de=K.end;if(de===void 0&&(de=ie),"selectionStart"in R)R.selectionStart=ie,R.selectionEnd=Math.min(de,R.value.length);else{var pe=R.ownerDocument||document,se=pe&&pe.defaultView||window;if(se.getSelection){var le=se.getSelection(),Ue=R.textContent.length,Le=Math.min(K.start,Ue),At=K.end===void 0?Le:Math.min(K.end,Ue);!le.extend&&Le>At&&(D=At,At=Le,Le=D);var te=u1(R,Le),ee=u1(R,At);if(te&&ee&&(le.rangeCount!==1||le.anchorNode!==te.node||le.anchorOffset!==te.offset||le.focusNode!==ee.node||le.focusOffset!==ee.offset)){var re=pe.createRange();re.setStart(te.node,te.offset),le.removeAllRanges(),Le>At?(le.addRange(re),le.extend(ee.node,ee.offset)):(re.setEnd(ee.node,ee.offset),le.addRange(re))}}}}for(pe=[],le=R;le=le.parentNode;)le.nodeType===1&&pe.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<pe.length;R++){var he=pe[R];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}_d=!!Yg,Wg=Yg=null}finally{xt=b,F.p=p,j.T=d}}o.current=l,bn=2}}function TA(){if(bn===2){bn=0;var o=yi,l=bs,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=j.T,j.T=null;var p=F.p;F.p=2;var b=xt;xt|=4;try{tA(o,l.alternate,l)}finally{xt=b,F.p=p,j.T=d}}bn=3}}function AA(){if(bn===4||bn===3){bn=0,zt();var o=yi,l=bs,d=xs,p=dA;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?bn=5:(bn=0,bs=yi=null,EA(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(vi=null),Gl(d),l=l.stateNode,Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Gi,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=j.T,b=F.p,F.p=2,j.T=null;try{for(var w=o.onRecoverableError,D=0;D<p.length;D++){var R=p[D];w(R.value,{componentStack:R.stack})}}finally{j.T=l,F.p=b}}(xs&3)!==0&&ud(),ta(o),b=o.pendingLanes,(d&4194090)!==0&&(b&42)!==0?o===Rg?ku++:(ku=0,Rg=o):ku=0,Ou(0)}}function EA(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,lu(l)))}function ud(o){return SA(),TA(),AA(),CA()}function CA(){if(bn!==5)return!1;var o=yi,l=Ng;Ng=0;var d=Gl(xs),p=j.T,b=F.p;try{F.p=32>d?32:d,j.T=null,d=Pg,Pg=null;var w=yi,D=xs;if(bn=0,bs=yi=null,xs=0,(xt&6)!==0)throw Error(r(331));var R=xt;if(xt|=4,cA(w.current),sA(w,w.current,D,d),xt=R,Ou(0,!1),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Gi,w)}catch{}return!0}finally{F.p=b,j.T=p,EA(o,l)}}function kA(o,l,d){l=pr(d,l),l=dg(o.stateNode,l,2),o=li(o,l,2),o!==null&&(Ki(o,2),ta(o))}function kt(o,l,d){if(o.tag===3)kA(o,o,d);else for(;l!==null;){if(l.tag===3){kA(l,o,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(vi===null||!vi.has(p))){o=pr(d,o),d=NT(2),p=li(l,d,2),p!==null&&(PT(d,p,l,o),Ki(p,2),ta(p));break}}l=l.return}}function $g(o,l,d){var p=o.pingCache;if(p===null){p=o.pingCache=new r3;var b=new Set;p.set(l,b)}else b=p.get(l),b===void 0&&(b=new Set,p.set(l,b));b.has(d)||(kg=!0,b.add(d),o=l3.bind(null,o,l,d),l.then(o,o))}function l3(o,l,d){var p=o.pingCache;p!==null&&p.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Dt===o&&(ut&d)===d&&(Kt===4||Kt===3&&(ut&62914560)===ut&&300>Ct()-Dg?(xt&2)===0&&_s(o,0):Og|=d,ys===ut&&(ys=0)),ta(o)}function OA(o,l){l===0&&(l=mf()),o=rs(o,l),o!==null&&(Ki(o,l),ta(o))}function u3(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),OA(o,d)}function c3(o,l){var d=0;switch(o.tag){case 13:var p=o.stateNode,b=o.memoizedState;b!==null&&(d=b.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),OA(o,d)}function f3(o,l){return mt(o,l)}var cd=null,Ss=null,Bg=!1,fd=!1,qg=!1,ho=0;function ta(o){o!==Ss&&o.next===null&&(Ss===null?cd=Ss=o:Ss=Ss.next=o),fd=!0,Bg||(Bg=!0,h3())}function Ou(o,l){if(!qg&&fd){qg=!0;do for(var d=!1,p=cd;p!==null;){if(o!==0){var b=p.pendingLanes;if(b===0)var w=0;else{var D=p.suspendedLanes,R=p.pingedLanes;w=(1<<31-Dn(42|o)+1)-1,w&=b&~(D&~R),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,PA(p,w))}else w=ut,w=Yo(p,p===Dt?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||Hi(p,w)||(d=!0,PA(p,w));p=p.next}while(d);qg=!1}}function d3(){MA()}function MA(){fd=Bg=!1;var o=0;ho!==0&&(_3()&&(o=ho),ho=0);for(var l=Ct(),d=null,p=cd;p!==null;){var b=p.next,w=DA(p,l);w===0?(p.next=null,d===null?cd=b:d.next=b,b===null&&(Ss=d)):(d=p,(o!==0||(w&3)!==0)&&(fd=!0)),p=b}Ou(o)}function DA(o,l){for(var d=o.suspendedLanes,p=o.pingedLanes,b=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var D=31-Dn(w),R=1<<D,K=b[D];K===-1?((R&d)===0||(R&p)!==0)&&(b[D]=rm(R,l)):K<=l&&(o.expiredLanes|=R),w&=~R}if(l=Dt,d=ut,d=Yo(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,d===0||o===l&&(_t===2||_t===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Qe(p),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Hi(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(p!==null&&Qe(p),Gl(d)){case 2:case 8:d=pa;break;case 32:d=On;break;case 268435456:d=ei;break;default:d=On}return p=NA.bind(null,o),d=mt(d,p),o.callbackPriority=l,o.callbackNode=d,l}return p!==null&&p!==null&&Qe(p),o.callbackPriority=2,o.callbackNode=null,2}function NA(o,l){if(bn!==0&&bn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(ud()&&o.callbackNode!==d)return null;var p=ut;return p=Yo(o,o===Dt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(pA(o,p,l),DA(o,Ct()),o.callbackNode!=null&&o.callbackNode===d?NA.bind(null,o):null)}function PA(o,l){if(ud())return null;pA(o,l,!0)}function h3(){S3(function(){(xt&6)!==0?mt(Dr,d3):MA()})}function Ug(){return ho===0&&(ho=pf()),ho}function RA(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:wf(""+o)}function IA(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function p3(o,l,d,p,b){if(l==="submit"&&d&&d.stateNode===b){var w=RA((b[wn]||null).action),D=p.submitter;D&&(l=(l=D[wn]||null)?RA(l.formAction):D.getAttribute("formAction"),l!==null&&(w=l,D=null));var R=new Ef("action","action",null,p,b);o.push({event:R,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ho!==0){var K=D?IA(b,D):new FormData(b);sg(d,{pending:!0,data:K,method:b.method,action:w},null,K)}}else typeof w=="function"&&(R.preventDefault(),K=D?IA(b,D):new FormData(b),sg(d,{pending:!0,data:K,method:b.method,action:w},w,K))},currentTarget:b}]})}}for(var Fg=0;Fg<Em.length;Fg++){var Vg=Em[Fg],m3=Vg.toLowerCase(),g3=Vg[0].toUpperCase()+Vg.slice(1);Rr(m3,"on"+g3)}Rr(p1,"onAnimationEnd"),Rr(m1,"onAnimationIteration"),Rr(g1,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(P$,"onTransitionRun"),Rr(R$,"onTransitionStart"),Rr(I$,"onTransitionCancel"),Rr(v1,"onTransitionEnd"),ya("onMouseEnter",["mouseout","mouseover"]),ya("onMouseLeave",["mouseout","mouseover"]),ya("onPointerEnter",["pointerout","pointerover"]),ya("onPointerLeave",["pointerout","pointerover"]),va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),va("onBeforeInput",["compositionend","keypress","textInput","paste"]),va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function jA(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var p=o[d],b=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var D=p.length-1;0<=D;D--){var R=p[D],K=R.instance,ie=R.currentTarget;if(R=R.listener,K!==w&&b.isPropagationStopped())break e;w=R,b.currentTarget=ie;try{w(b)}catch(de){Jf(de)}b.currentTarget=null,w=K}else for(D=0;D<p.length;D++){if(R=p[D],K=R.instance,ie=R.currentTarget,R=R.listener,K!==w&&b.isPropagationStopped())break e;w=R,b.currentTarget=ie;try{w(b)}catch(de){Jf(de)}b.currentTarget=null,w=K}}}}function it(o,l){var d=l[Hl];d===void 0&&(d=l[Hl]=new Set);var p=o+"__bubble";d.has(p)||(LA(l,o,2,!1),d.add(p))}function zg(o,l,d){var p=0;l&&(p|=4),LA(d,o,p,l)}var dd="_reactListening"+Math.random().toString(36).slice(2);function Gg(o){if(!o[dd]){o[dd]=!0,bf.forEach(function(d){d!=="selectionchange"&&(v3.has(d)||zg(d,!1,o),zg(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[dd]||(l[dd]=!0,zg("selectionchange",!1,l))}}function LA(o,l,d,p){switch(sE(l)){case 2:var b=z3;break;case 8:b=G3;break;default:b=iv}d=b.bind(null,l,d,o),b=void 0,!hm||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),p?b!==void 0?o.addEventListener(l,d,{capture:!0,passive:b}):o.addEventListener(l,d,!0):b!==void 0?o.addEventListener(l,d,{passive:b}):o.addEventListener(l,d,!1)}function Hg(o,l,d,p,b){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var R=p.stateNode.containerInfo;if(R===b)break;if(D===4)for(D=p.return;D!==null;){var K=D.tag;if((K===3||K===4)&&D.stateNode.containerInfo===b)return;D=D.return}for(;R!==null;){if(D=hr(R),D===null)return;if(K=D.tag,K===5||K===6||K===26||K===27){p=w=D;continue e}R=R.parentNode}}p=p.return}zS(function(){var ie=w,de=fm(d),pe=[];e:{var se=y1.get(o);if(se!==void 0){var le=Ef,Ue=o;switch(o){case"keypress":if(Tf(d)===0)break e;case"keydown":case"keyup":le=f$;break;case"focusin":Ue="focus",le=vm;break;case"focusout":Ue="blur",le=vm;break;case"beforeblur":case"afterblur":le=vm;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=KS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=QL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=p$;break;case p1:case m1:case g1:le=n$;break;case v1:le=g$;break;case"scroll":case"scrollend":le=ZL;break;case"wheel":le=y$;break;case"copy":case"cut":case"paste":le=a$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=WS;break;case"toggle":case"beforetoggle":le=x$}var Le=(l&4)!==0,At=!Le&&(o==="scroll"||o==="scrollend"),te=Le?se!==null?se+"Capture":null:se;Le=[];for(var ee=ie,re;ee!==null;){var he=ee;if(re=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||re===null||te===null||(he=Wl(ee,te),he!=null&&Le.push(Du(ee,he,re))),At)break;ee=ee.return}0<Le.length&&(se=new le(se,Ue,null,d,de),pe.push({event:se,listeners:Le}))}}if((l&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",le=o==="mouseout"||o==="pointerout",se&&d!==cm&&(Ue=d.relatedTarget||d.fromElement)&&(hr(Ue)||Ue[ni]))break e;if((le||se)&&(se=de.window===de?de:(se=de.ownerDocument)?se.defaultView||se.parentWindow:window,le?(Ue=d.relatedTarget||d.toElement,le=ie,Ue=Ue?hr(Ue):null,Ue!==null&&(At=i(Ue),Le=Ue.tag,Ue!==At||Le!==5&&Le!==27&&Le!==6)&&(Ue=null)):(le=null,Ue=ie),le!==Ue)){if(Le=KS,he="onMouseLeave",te="onMouseEnter",ee="mouse",(o==="pointerout"||o==="pointerover")&&(Le=WS,he="onPointerLeave",te="onPointerEnter",ee="pointer"),At=le==null?se:Wi(le),re=Ue==null?se:Wi(Ue),se=new Le(he,ee+"leave",le,d,de),se.target=At,se.relatedTarget=re,he=null,hr(de)===ie&&(Le=new Le(te,ee+"enter",Ue,d,de),Le.target=re,Le.relatedTarget=At,he=Le),At=he,le&&Ue)t:{for(Le=le,te=Ue,ee=0,re=Le;re;re=Ts(re))ee++;for(re=0,he=te;he;he=Ts(he))re++;for(;0<ee-re;)Le=Ts(Le),ee--;for(;0<re-ee;)te=Ts(te),re--;for(;ee--;){if(Le===te||te!==null&&Le===te.alternate)break t;Le=Ts(Le),te=Ts(te)}Le=null}else Le=null;le!==null&&$A(pe,se,le,Le,!1),Ue!==null&&At!==null&&$A(pe,At,Ue,Le,!0)}}e:{if(se=ie?Wi(ie):window,le=se.nodeName&&se.nodeName.toLowerCase(),le==="select"||le==="input"&&se.type==="file")var Oe=r1;else if(t1(se))if(a1)Oe=M$;else{Oe=k$;var nt=C$}else le=se.nodeName,!le||le.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ie&&um(ie.elementType)&&(Oe=r1):Oe=O$;if(Oe&&(Oe=Oe(o,ie))){n1(pe,Oe,d,de);break e}nt&&nt(o,se,ie),o==="focusout"&&ie&&se.type==="number"&&ie.memoizedProps.value!=null&&xa(se,"number",se.value)}switch(nt=ie?Wi(ie):window,o){case"focusin":(t1(nt)||nt.contentEditable==="true")&&(es=nt,Sm=ie,ru=null);break;case"focusout":ru=Sm=es=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,d1(pe,d,de);break;case"selectionchange":if(N$)break;case"keydown":case"keyup":d1(pe,d,de)}var Ie;if(bm)e:{switch(o){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Qo?QS(o,d)&&($e="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&($e="onCompositionStart");$e&&(XS&&d.locale!=="ko"&&(Qo||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Qo&&(Ie=GS()):(ai=de,pm="value"in ai?ai.value:ai.textContent,Qo=!0)),nt=hd(ie,$e),0<nt.length&&($e=new YS($e,o,null,d,de),pe.push({event:$e,listeners:nt}),Ie?$e.data=Ie:(Ie=e1(d),Ie!==null&&($e.data=Ie)))),(Ie=w$?S$(o,d):T$(o,d))&&($e=hd(ie,"onBeforeInput"),0<$e.length&&(nt=new YS("onBeforeInput","beforeinput",null,d,de),pe.push({event:nt,listeners:$e}),nt.data=Ie)),p3(pe,o,ie,d,de)}jA(pe,l)})}function Du(o,l,d){return{instance:o,listener:l,currentTarget:d}}function hd(o,l){for(var d=l+"Capture",p=[];o!==null;){var b=o,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=Wl(o,d),b!=null&&p.unshift(Du(o,b,w)),b=Wl(o,l),b!=null&&p.push(Du(o,b,w))),o.tag===3)return p;o=o.return}return[]}function Ts(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function $A(o,l,d,p,b){for(var w=l._reactName,D=[];d!==null&&d!==p;){var R=d,K=R.alternate,ie=R.stateNode;if(R=R.tag,K!==null&&K===p)break;R!==5&&R!==26&&R!==27||ie===null||(K=ie,b?(ie=Wl(d,w),ie!=null&&D.unshift(Du(d,ie,K))):b||(ie=Wl(d,w),ie!=null&&D.push(Du(d,ie,K)))),d=d.return}D.length!==0&&o.push({event:l,listeners:D})}var y3=/\r\n?/g,b3=/\u0000|\uFFFD/g;function BA(o){return(typeof o=="string"?o:""+o).replace(y3,`
`).replace(b3,"")}function qA(o,l){return l=BA(l),BA(o)===l}function pd(){}function Tt(o,l,d,p,b,w){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Xo(o,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Xo(o,""+p);break;case"className":z(o,"class",p);break;case"tabIndex":z(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":z(o,d,p);break;case"style":FS(o,p,w);break;case"data":if(l!=="object"){z(o,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=wf(""+p),o.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(l!=="input"&&Tt(o,l,"name",b.name,b,null),Tt(o,l,"formEncType",b.formEncType,b,null),Tt(o,l,"formMethod",b.formMethod,b,null),Tt(o,l,"formTarget",b.formTarget,b,null)):(Tt(o,l,"encType",b.encType,b,null),Tt(o,l,"method",b.method,b,null),Tt(o,l,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(d);break}p=wf(""+p),o.setAttribute(d,p);break;case"onClick":p!=null&&(o.onclick=pd);break;case"onScroll":p!=null&&it("scroll",o);break;case"onScrollEnd":p!=null&&it("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}d=wf(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""+p):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":p===!0?o.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(d,p):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(d,p):o.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(d):o.setAttribute(d,p);break;case"popover":it("beforetoggle",o),it("toggle",o),U(o,"popover",p);break;case"xlinkActuate":J(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":J(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":J(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":J(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":J(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":J(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":J(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":J(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":J(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":U(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=WL.get(d)||d,U(o,d,p))}}function Kg(o,l,d,p,b,w){switch(d){case"style":FS(o,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof p=="string"?Xo(o,p):(typeof p=="number"||typeof p=="bigint")&&Xo(o,""+p);break;case"onScroll":p!=null&&it("scroll",o);break;case"onScrollEnd":p!=null&&it("scrollend",o);break;case"onClick":p!=null&&(o.onclick=pd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xi.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),l=d.slice(2,b?d.length-7:void 0),w=o[wn]||null,w=w!=null?w[d]:null,typeof w=="function"&&o.removeEventListener(l,w,b),typeof p=="function")){typeof w!="function"&&w!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,p,b);break e}d in o?o[d]=p:p===!0?o.setAttribute(d,""):U(o,d,p)}}}function xn(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",o),it("load",o);var p=!1,b=!1,w;for(w in d)if(d.hasOwnProperty(w)){var D=d[w];if(D!=null)switch(w){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Tt(o,l,w,D,d,null)}}b&&Tt(o,l,"srcSet",d.srcSet,d,null),p&&Tt(o,l,"src",d.src,d,null);return;case"input":it("invalid",o);var R=w=D=b=null,K=null,ie=null;for(p in d)if(d.hasOwnProperty(p)){var de=d[p];if(de!=null)switch(p){case"name":b=de;break;case"type":D=de;break;case"checked":K=de;break;case"defaultChecked":ie=de;break;case"value":w=de;break;case"defaultValue":R=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,l));break;default:Tt(o,l,p,de,d,null)}}Pr(o,w,R,K,ie,D,b,!1),Wr(o);return;case"select":it("invalid",o),p=D=w=null;for(b in d)if(d.hasOwnProperty(b)&&(R=d[b],R!=null))switch(b){case"value":w=R;break;case"defaultValue":D=R;break;case"multiple":p=R;default:Tt(o,l,b,R,d,null)}l=w,d=D,o.multiple=!!p,l!=null?Xr(o,!!p,l,!1):d!=null&&Xr(o,!!p,d,!0);return;case"textarea":it("invalid",o),w=b=p=null;for(D in d)if(d.hasOwnProperty(D)&&(R=d[D],R!=null))switch(D){case"value":p=R;break;case"defaultValue":b=R;break;case"children":w=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:Tt(o,l,D,R,d,null)}qS(o,p,b,w),Wr(o);return;case"option":for(K in d)if(d.hasOwnProperty(K)&&(p=d[K],p!=null))switch(K){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Tt(o,l,K,p,d,null)}return;case"dialog":it("beforetoggle",o),it("toggle",o),it("cancel",o),it("close",o);break;case"iframe":case"object":it("load",o);break;case"video":case"audio":for(p=0;p<Mu.length;p++)it(Mu[p],o);break;case"image":it("error",o),it("load",o);break;case"details":it("toggle",o);break;case"embed":case"source":case"link":it("error",o),it("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in d)if(d.hasOwnProperty(ie)&&(p=d[ie],p!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Tt(o,l,ie,p,d,null)}return;default:if(um(l)){for(de in d)d.hasOwnProperty(de)&&(p=d[de],p!==void 0&&Kg(o,l,de,p,d,void 0));return}}for(R in d)d.hasOwnProperty(R)&&(p=d[R],p!=null&&Tt(o,l,R,p,d,null))}function x3(o,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,D=null,R=null,K=null,ie=null,de=null;for(le in d){var pe=d[le];if(d.hasOwnProperty(le)&&pe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":K=pe;default:p.hasOwnProperty(le)||Tt(o,l,le,null,p,pe)}}for(var se in p){var le=p[se];if(pe=d[se],p.hasOwnProperty(se)&&(le!=null||pe!=null))switch(se){case"type":w=le;break;case"name":b=le;break;case"checked":ie=le;break;case"defaultChecked":de=le;break;case"value":D=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:le!==pe&&Tt(o,l,se,le,p,pe)}}Un(o,D,R,K,ie,de,w,b);return;case"select":le=D=R=se=null;for(w in d)if(K=d[w],d.hasOwnProperty(w)&&K!=null)switch(w){case"value":break;case"multiple":le=K;default:p.hasOwnProperty(w)||Tt(o,l,w,null,p,K)}for(b in p)if(w=p[b],K=d[b],p.hasOwnProperty(b)&&(w!=null||K!=null))switch(b){case"value":se=w;break;case"defaultValue":R=w;break;case"multiple":D=w;default:w!==K&&Tt(o,l,b,w,p,K)}l=R,d=D,p=le,se!=null?Xr(o,!!d,se,!1):!!p!=!!d&&(l!=null?Xr(o,!!d,l,!0):Xr(o,!!d,d?[]:"",!1));return;case"textarea":le=se=null;for(R in d)if(b=d[R],d.hasOwnProperty(R)&&b!=null&&!p.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Tt(o,l,R,null,p,b)}for(D in p)if(b=p[D],w=d[D],p.hasOwnProperty(D)&&(b!=null||w!=null))switch(D){case"value":se=b;break;case"defaultValue":le=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==w&&Tt(o,l,D,b,p,w)}BS(o,se,le);return;case"option":for(var Ue in d)if(se=d[Ue],d.hasOwnProperty(Ue)&&se!=null&&!p.hasOwnProperty(Ue))switch(Ue){case"selected":o.selected=!1;break;default:Tt(o,l,Ue,null,p,se)}for(K in p)if(se=p[K],le=d[K],p.hasOwnProperty(K)&&se!==le&&(se!=null||le!=null))switch(K){case"selected":o.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Tt(o,l,K,se,p,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in d)se=d[Le],d.hasOwnProperty(Le)&&se!=null&&!p.hasOwnProperty(Le)&&Tt(o,l,Le,null,p,se);for(ie in p)if(se=p[ie],le=d[ie],p.hasOwnProperty(ie)&&se!==le&&(se!=null||le!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,l));break;default:Tt(o,l,ie,se,p,le)}return;default:if(um(l)){for(var At in d)se=d[At],d.hasOwnProperty(At)&&se!==void 0&&!p.hasOwnProperty(At)&&Kg(o,l,At,void 0,p,se);for(de in p)se=p[de],le=d[de],!p.hasOwnProperty(de)||se===le||se===void 0&&le===void 0||Kg(o,l,de,se,p,le);return}}for(var te in d)se=d[te],d.hasOwnProperty(te)&&se!=null&&!p.hasOwnProperty(te)&&Tt(o,l,te,null,p,se);for(pe in p)se=p[pe],le=d[pe],!p.hasOwnProperty(pe)||se===le||se==null&&le==null||Tt(o,l,pe,se,p,le)}var Yg=null,Wg=null;function md(o){return o.nodeType===9?o:o.ownerDocument}function UA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FA(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function Xg(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Zg=null;function _3(){var o=window.event;return o&&o.type==="popstate"?o===Zg?!1:(Zg=o,!0):(Zg=null,!1)}var VA=typeof setTimeout=="function"?setTimeout:void 0,w3=typeof clearTimeout=="function"?clearTimeout:void 0,zA=typeof Promise=="function"?Promise:void 0,S3=typeof queueMicrotask=="function"?queueMicrotask:typeof zA<"u"?function(o){return zA.resolve(null).then(o).catch(T3)}:VA;function T3(o){setTimeout(function(){throw o})}function xi(o){return o==="head"}function GA(o,l){var d=l,p=0,b=0;do{var w=d.nextSibling;if(o.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(0<p&&8>p){d=p;var D=o.ownerDocument;if(d&1&&Nu(D.documentElement),d&2&&Nu(D.body),d&4)for(d=D.head,Nu(d),D=d.firstChild;D;){var R=D.nextSibling,K=D.nodeName;D[Yi]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=R}}if(b===0){o.removeChild(w),qu(l);return}b--}else d==="$"||d==="$?"||d==="$!"?b++:p=d.charCodeAt(0)-48;else p=0;d=w}while(d);qu(l)}function Jg(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Jg(d),ma(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function A3(o,l,d,p){for(;o.nodeType===1;){var b=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[Yi])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=jr(o.nextSibling),o===null)break}return null}function E3(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=jr(o.nextSibling),o===null))return null;return o}function Qg(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function C3(o,l){var d=o.ownerDocument;if(o.data!=="$?"||d.readyState==="complete")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function jr(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var ev=null;function HA(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}function KA(o,l,d){switch(l=md(d),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Nu(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);ma(o)}var xr=new Map,YA=new Set;function gd(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ra=F.d;F.d={f:k3,r:O3,D:M3,C:D3,L:N3,m:P3,X:I3,S:R3,M:j3};function k3(){var o=Ra.f(),l=sd();return o||l}function O3(o){var l=Nn(o);l!==null&&l.tag===5&&l.type==="form"?pT(l):Ra.r(o)}var As=typeof document>"u"?null:document;function WA(o,l,d){var p=As;if(p&&typeof l=="string"&&l){var b=Sn(l);b='link[rel="'+o+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),YA.has(b)||(YA.add(b),o={rel:o,crossOrigin:d,href:l},p.querySelector(b)===null&&(l=p.createElement("link"),xn(l,"link",o),Zt(l),p.head.appendChild(l)))}}function M3(o){Ra.D(o),WA("dns-prefetch",o,null)}function D3(o,l){Ra.C(o,l),WA("preconnect",o,l)}function N3(o,l,d){Ra.L(o,l,d);var p=As;if(p&&o&&l){var b='link[rel="preload"][as="'+Sn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Sn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Sn(d.imageSizes)+'"]')):b+='[href="'+Sn(o)+'"]';var w=b;switch(l){case"style":w=Es(o);break;case"script":w=Cs(o)}xr.has(w)||(o=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),xr.set(w,o),p.querySelector(b)!==null||l==="style"&&p.querySelector(Pu(w))||l==="script"&&p.querySelector(Ru(w))||(l=p.createElement("link"),xn(l,"link",o),Zt(l),p.head.appendChild(l)))}}function P3(o,l){Ra.m(o,l);var d=As;if(d&&o){var p=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Sn(p)+'"][href="'+Sn(o)+'"]',w=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Cs(o)}if(!xr.has(w)&&(o=h({rel:"modulepreload",href:o},l),xr.set(w,o),d.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ru(w)))return}p=d.createElement("link"),xn(p,"link",o),Zt(p),d.head.appendChild(p)}}}function R3(o,l,d){Ra.S(o,l,d);var p=As;if(p&&o){var b=ga(p).hoistableStyles,w=Es(o);l=l||"default";var D=b.get(w);if(!D){var R={loading:0,preload:null};if(D=p.querySelector(Pu(w)))R.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":l},d),(d=xr.get(w))&&tv(o,d);var K=D=p.createElement("link");Zt(K),xn(K,"link",o),K._p=new Promise(function(ie,de){K.onload=ie,K.onerror=de}),K.addEventListener("load",function(){R.loading|=1}),K.addEventListener("error",function(){R.loading|=2}),R.loading|=4,vd(D,l,p)}D={type:"stylesheet",instance:D,count:1,state:R},b.set(w,D)}}}function I3(o,l){Ra.X(o,l);var d=As;if(d&&o){var p=ga(d).hoistableScripts,b=Cs(o),w=p.get(b);w||(w=d.querySelector(Ru(b)),w||(o=h({src:o,async:!0},l),(l=xr.get(b))&&nv(o,l),w=d.createElement("script"),Zt(w),xn(w,"link",o),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function j3(o,l){Ra.M(o,l);var d=As;if(d&&o){var p=ga(d).hoistableScripts,b=Cs(o),w=p.get(b);w||(w=d.querySelector(Ru(b)),w||(o=h({src:o,async:!0,type:"module"},l),(l=xr.get(b))&&nv(o,l),w=d.createElement("script"),Zt(w),xn(w,"link",o),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function XA(o,l,d,p){var b=(b=Ce.current)?gd(b):null;if(!b)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Es(d.href),d=ga(b).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=Es(d.href);var w=ga(b).hoistableStyles,D=w.get(o);if(D||(b=b.ownerDocument||b,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,D),(w=b.querySelector(Pu(o)))&&!w._p&&(D.instance=w,D.state.loading=5),xr.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},xr.set(o,d),w||L3(b,o,d,D.state))),l&&p===null)throw Error(r(528,""));return D}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Cs(d),d=ga(b).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Es(o){return'href="'+Sn(o)+'"'}function Pu(o){return'link[rel="stylesheet"]['+o+"]"}function ZA(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function L3(o,l,d,p){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=o.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),xn(l,"link",d),Zt(l),o.head.appendChild(l))}function Cs(o){return'[src="'+Sn(o)+'"]'}function Ru(o){return"script[async]"+o}function JA(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=o.querySelector('style[data-href~="'+Sn(d.href)+'"]');if(p)return l.instance=p,Zt(p),p;var b=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Zt(p),xn(p,"style",b),vd(p,d.precedence,o),l.instance=p;case"stylesheet":b=Es(d.href);var w=o.querySelector(Pu(b));if(w)return l.state.loading|=4,l.instance=w,Zt(w),w;p=ZA(d),(b=xr.get(b))&&tv(p,b),w=(o.ownerDocument||o).createElement("link"),Zt(w);var D=w;return D._p=new Promise(function(R,K){D.onload=R,D.onerror=K}),xn(w,"link",p),l.state.loading|=4,vd(w,d.precedence,o),l.instance=w;case"script":return w=Cs(d.src),(b=o.querySelector(Ru(w)))?(l.instance=b,Zt(b),b):(p=d,(b=xr.get(w))&&(p=h({},d),nv(p,b)),o=o.ownerDocument||o,b=o.createElement("script"),Zt(b),xn(b,"link",p),o.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,vd(p,d.precedence,o));return l.instance}function vd(o,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,w=b,D=0;D<p.length;D++){var R=p[D];if(R.dataset.precedence===l)w=R;else if(w!==b)break}w?w.parentNode.insertBefore(o,w.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function tv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function nv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var yd=null;function QA(o,l,d){if(yd===null){var p=new Map,b=yd=new Map;b.set(d,p)}else b=yd,p=b.get(d),p||(p=new Map,b.set(d,p));if(p.has(o))return p;for(p.set(o,null),d=d.getElementsByTagName(o),b=0;b<d.length;b++){var w=d[b];if(!(w[Yi]||w[un]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var D=w.getAttribute(l)||"";D=o+D;var R=p.get(D);R?R.push(w):p.set(D,[w])}}return p}function eE(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function $3(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function tE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Iu=null;function B3(){}function q3(o,l,d){if(Iu===null)throw Error(r(475));var p=Iu;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=Es(d.href),w=o.querySelector(Pu(b));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(p.count++,p=bd.bind(p),o.then(p,p)),l.state.loading|=4,l.instance=w,Zt(w);return}w=o.ownerDocument||o,d=ZA(d),(b=xr.get(b))&&tv(d,b),w=w.createElement("link"),Zt(w);var D=w;D._p=new Promise(function(R,K){D.onload=R,D.onerror=K}),xn(w,"link",d),l.instance=w}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=bd.bind(p),o.addEventListener("load",l),o.addEventListener("error",l))}}function U3(){if(Iu===null)throw Error(r(475));var o=Iu;return o.stylesheets&&o.count===0&&rv(o,o.stylesheets),0<o.count?function(l){var d=setTimeout(function(){if(o.stylesheets&&rv(o,o.stylesheets),o.unsuspend){var p=o.unsuspend;o.unsuspend=null,p()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(d)}}:null}function bd(){if(this.count--,this.count===0){if(this.stylesheets)rv(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var xd=null;function rv(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,xd=new Map,l.forEach(F3,o),xd=null,bd.call(o))}function F3(o,l){if(!(l.state.loading&4)){var d=xd.get(o);if(d)var p=d.get(null);else{d=new Map,xd.set(o,d);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var D=b[w];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),p=D)}p&&d.set(null,p)}b=l.instance,D=b.getAttribute("data-precedence"),w=d.get(D)||p,w===p&&d.set(null,b),d.set(D,b),this.count++,p=bd.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),w?w.parentNode.insertBefore(b,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),l.state.loading|=4}}var ju={$$typeof:E,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function V3(o,l,d,p,b,w,D,R){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.hiddenUpdates=Vl(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function nE(o,l,d,p,b,w,D,R,K,ie,de,pe){return o=new V3(o,l,d,D,R,K,ie,pe),l=1,w===!0&&(l|=24),w=Qn(3,null,null,l),o.current=w,w.stateNode=o,l=$m(),l.refCount++,o.pooledCache=l,l.refCount++,w.memoizedState={element:p,isDehydrated:d,cache:l},Fm(w),o}function rE(o){return o?(o=as,o):as}function aE(o,l,d,p,b,w){b=rE(b),p.context===null?p.context=b:p.pendingContext=b,p=si(l),p.payload={element:d},w=w===void 0?null:w,w!==null&&(p.callback=w),d=li(o,p,l),d!==null&&(ar(d,o,l),du(d,o,l))}function iE(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function av(o,l){iE(o,l),(o=o.alternate)&&iE(o,l)}function oE(o){if(o.tag===13){var l=rs(o,67108864);l!==null&&ar(l,o,67108864),av(o,67108864)}}var _d=!0;function z3(o,l,d,p){var b=j.T;j.T=null;var w=F.p;try{F.p=2,iv(o,l,d,p)}finally{F.p=w,j.T=b}}function G3(o,l,d,p){var b=j.T;j.T=null;var w=F.p;try{F.p=8,iv(o,l,d,p)}finally{F.p=w,j.T=b}}function iv(o,l,d,p){if(_d){var b=ov(p);if(b===null)Hg(o,l,p,wd,d),lE(o,p);else if(K3(b,o,l,d,p))p.stopPropagation();else if(lE(o,p),l&4&&-1<H3.indexOf(o)){for(;b!==null;){var w=Nn(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var D=fr(w.pendingLanes);if(D!==0){var R=w;for(R.pendingLanes|=2,R.entangledLanes|=2;D;){var K=1<<31-Dn(D);R.entanglements[1]|=K,D&=~K}ta(w),(xt&6)===0&&(id=Ct()+500,Ou(0))}}break;case 13:R=rs(w,2),R!==null&&ar(R,w,2),sd(),av(w,2)}if(w=ov(p),w===null&&Hg(o,l,p,wd,d),w===b)break;b=w}b!==null&&p.stopPropagation()}else Hg(o,l,p,null,d)}}function ov(o){return o=fm(o),sv(o)}var wd=null;function sv(o){if(wd=null,o=hr(o),o!==null){var l=i(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=s(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return wd=o,null}function sE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zn()){case Dr:return 2;case pa:return 8;case On:case Nr:return 32;case ei:return 268435456;default:return 32}default:return 32}}var lv=!1,_i=null,wi=null,Si=null,Lu=new Map,$u=new Map,Ti=[],H3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lE(o,l){switch(o){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Lu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":$u.delete(l.pointerId)}}function Bu(o,l,d,p,b,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:w,targetContainers:[b]},l!==null&&(l=Nn(l),l!==null&&oE(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),o)}function K3(o,l,d,p,b){switch(l){case"focusin":return _i=Bu(_i,o,l,d,p,b),!0;case"dragenter":return wi=Bu(wi,o,l,d,p,b),!0;case"mouseover":return Si=Bu(Si,o,l,d,p,b),!0;case"pointerover":var w=b.pointerId;return Lu.set(w,Bu(Lu.get(w)||null,o,l,d,p,b)),!0;case"gotpointercapture":return w=b.pointerId,$u.set(w,Bu($u.get(w)||null,o,l,d,p,b)),!0}return!1}function uE(o){var l=hr(o.target);if(l!==null){var d=i(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){o.blockedOn=l,im(o.priority,function(){if(d.tag===13){var p=rr();p=zl(p);var b=rs(d,p);b!==null&&ar(b,d,p),av(d,p)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Sd(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=ov(o.nativeEvent);if(d===null){d=o.nativeEvent;var p=new d.constructor(d.type,d);cm=p,d.target.dispatchEvent(p),cm=null}else return l=Nn(d),l!==null&&oE(l),o.blockedOn=d,!1;l.shift()}return!0}function cE(o,l,d){Sd(o)&&d.delete(l)}function Y3(){lv=!1,_i!==null&&Sd(_i)&&(_i=null),wi!==null&&Sd(wi)&&(wi=null),Si!==null&&Sd(Si)&&(Si=null),Lu.forEach(cE),$u.forEach(cE)}function Td(o,l){o.blockedOn===l&&(o.blockedOn=null,lv||(lv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Y3)))}var Ad=null;function fE(o){Ad!==o&&(Ad=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ad===o&&(Ad=null);for(var l=0;l<o.length;l+=3){var d=o[l],p=o[l+1],b=o[l+2];if(typeof p!="function"){if(sv(p||d)===null)continue;break}var w=Nn(d);w!==null&&(o.splice(l,3),l-=3,sg(w,{pending:!0,data:b,method:d.method,action:p},p,b))}}))}function qu(o){function l(K){return Td(K,o)}_i!==null&&Td(_i,o),wi!==null&&Td(wi,o),Si!==null&&Td(Si,o),Lu.forEach(l),$u.forEach(l);for(var d=0;d<Ti.length;d++){var p=Ti[d];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Ti.length&&(d=Ti[0],d.blockedOn===null);)uE(d),d.blockedOn===null&&Ti.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var b=d[p],w=d[p+1],D=b[wn]||null;if(typeof w=="function")D||fE(d);else if(D){var R=null;if(w&&w.hasAttribute("formAction")){if(b=w,D=w[wn]||null)R=D.formAction;else if(sv(b)!==null)continue}else R=D.action;typeof R=="function"?d[p+1]=R:(d.splice(p,3),p-=3),fE(d)}}}function uv(o){this._internalRoot=o}Ed.prototype.render=uv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,p=rr();aE(d,p,o,l,null,null)},Ed.prototype.unmount=uv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;aE(o.current,2,null,o,null,null),sd(),l[ni]=null}};function Ed(o){this._internalRoot=o}Ed.prototype.unstable_scheduleHydration=function(o){if(o){var l=yf();o={blockedOn:null,target:o,priority:l};for(var d=0;d<Ti.length&&l!==0&&l<Ti[d].priority;d++);Ti.splice(d,0,o),d===0&&uE(o)}};var dE=e.version;if(dE!=="19.1.0")throw Error(r(527,dE,"19.1.0"));F.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(l),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var W3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{Gi=Cd.inject(W3),Mn=Cd}catch{}}return Fu.createRoot=function(o,l){if(!a(o))throw Error(r(299));var d=!1,p="",b=kT,w=OT,D=MT,R=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(R=l.unstable_transitionCallbacks)),l=nE(o,1,!1,null,null,d,p,b,w,D,R,null),o[ni]=l.current,Gg(o),new uv(l)},Fu.hydrateRoot=function(o,l,d){if(!a(o))throw Error(r(299));var p=!1,b="",w=kT,D=OT,R=MT,K=null,ie=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(R=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(K=d.unstable_transitionCallbacks),d.formState!==void 0&&(ie=d.formState)),l=nE(o,1,!0,l,d??null,p,b,w,D,R,K,ie),l.context=rE(null),d=l.current,p=rr(),p=zl(p),b=si(p),b.callback=null,li(d,b,p),d=p,l.current.lanes=d,Ki(l,d),ta(l),o[ni]=l.current,Gg(o),new Ed(l)},Fu.version="19.1.0",Fu}var wE;function oB(){if(wE)return dv.exports;wE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dv.exports=iB(),dv.exports}var sB=oB();const lB=pt(sB),uB="modulepreload",cB=function(t){return"/controle-financeiro/"+t},SE={},tf=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let s=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=s(n.map(f=>{if(f=cB(f),f in SE)return;SE[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":uB,h||(y.as="script"),y.crossOrigin="",y.href=f,c&&y.setAttribute("nonce",c),document.head.appendChild(y),h)return new Promise((_,S)=>{y.addEventListener("load",_),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return a.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},fB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tf(async()=>{const{default:r}=await Promise.resolve().then(()=>Nl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class _w extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class dB extends _w{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hB extends _w{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pB extends _w{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ex;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ex||(Ex={}));var mB=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{f(r.next(h))}catch(m){s(m)}}function c(h){try{f(r.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};class gB{constructor(e,{headers:n={},customFetch:r,region:a=Ex.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=fB(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return mB(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=n;let u={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(u["x-region"]=c);let f;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=s):typeof s=="string"?(u["Content-Type"]="text/plain",f=s):typeof FormData<"u"&&s instanceof FormData?f=s:(u["Content-Type"]="application/json",f=JSON.stringify(s)));const h=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:f}).catch(S=>{throw new dB(S)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new hB(h);if(!h.ok)throw new pB(h);let y=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield h.json():y==="application/octet-stream"?_=yield h.blob():y==="text/event-stream"?_=h:y==="multipart/form-data"?_=yield h.formData():_=yield h.text(),{data:_,error:null}}catch(a){return{data:null,error:a}}})}}var hn={},ks={},Os={},Ms={},Ds={},Ns={},vB=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tl=vB();const yB=tl.fetch,SR=tl.fetch.bind(tl),TR=tl.Headers,bB=tl.Request,xB=tl.Response,Nl=Object.freeze(Object.defineProperty({__proto__:null,Headers:TR,Request:bB,Response:xB,default:SR,fetch:yB},Symbol.toStringTag,{value:"Module"})),_B=Z3(Nl);var Od={},TE;function AR(){if(TE)return Od;TE=1,Object.defineProperty(Od,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Od.default=t,Od}var AE;function ER(){if(AE)return Ns;AE=1;var t=Ns&&Ns.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ns,"__esModule",{value:!0});const e=t(_B),n=t(AR());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=Object.assign({},this.headers),this.headers[i]=s,this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,m,y;let _=null,S=null,A=null,T=f.status,C=f.statusText;if(f.ok){if(this.method!=="HEAD"){const k=await f.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=k:S=JSON.parse(k))}const E=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),N=(m=f.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");E&&N&&N.length>1&&(A=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(_={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,A=null,T=406,C="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const E=await f.text();try{_=JSON.parse(E),Array.isArray(_)&&f.status===404&&(S=[],_=null,T=200,C="OK")}catch{f.status===404&&E===""?(T=204,C="No Content"):_={message:E}}if(_&&this.isMaybeSingle&&(!((y=_==null?void 0:_.details)===null||y===void 0)&&y.includes("0 rows"))&&(_=null,T=200,C="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:S,count:A,status:T,statusText:C}});return this.shouldThrowOnError||(c=c.catch(f=>{var h,m,y;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(y=f==null?void 0:f.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,s)}returns(){return this}overrideTypes(){return this}}return Ns.default=r,Ns}var EE;function CR(){if(EE)return Ds;EE=1;var t=Ds&&Ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ds,"__esModule",{value:!0});const e=t(ER());class n extends e.default{select(a){let i=!1;const s=(a??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:u=s}={}){const c=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(f,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:u=!1,wal:c=!1,format:f="text"}={}){var h;const m=[a?"analyze":null,i?"verbose":null,s?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${y}"; options=${m};`,f==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ds.default=n,Ds}var CE;function ww(){if(CE)return Ms;CE=1;var t=Ms&&Ms.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ms,"__esModule",{value:!0});const e=t(CR());class n extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const f=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${f}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const u=s?`${s}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return Ms.default=n,Ms}var kE;function kR(){if(kE)return Os;kE=1;var t=Os&&Os.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Os,"__esModule",{value:!0});const e=t(ww());class n{constructor(a,{headers:i={},schema:s,fetch:u}){this.url=a,this.headers=i,this.schema=s,this.fetch=u}select(a,{head:i=!1,count:s}={}){const u=i?"HEAD":"GET";let c=!1;const f=(a??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",f),s&&(this.headers.Prefer=`count=${s}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:s=!0}={}){const u="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),s||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:u,defaultToNull:c=!0}={}){const f="POST",h=[`resolution=${s?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(a)){const m=a.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(m.length>0){const y=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const s="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),this.headers.Prefer=u.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",s=[];return a&&s.push(`count=${a}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Os.default=n,Os}var Vu={},zu={},OE;function wB(){return OE||(OE=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.version=void 0,zu.version="0.0.0-automated"),zu}var ME;function SB(){if(ME)return Vu;ME=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.DEFAULT_HEADERS=void 0;const t=wB();return Vu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Vu}var DE;function TB(){if(DE)return ks;DE=1;var t=ks&&ks.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ks,"__esModule",{value:!0});const e=t(kR()),n=t(ww()),r=SB();class a{constructor(s,{headers:u={},schema:c,fetch:f}={}){this.url=s,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=c,this.fetch=f}from(s){const u=new URL(`${this.url}/${s}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,u={},{head:c=!1,get:f=!1,count:h}={}){let m;const y=new URL(`${this.url}/rpc/${s}`);let _;c||f?(m=c?"HEAD":"GET",Object.entries(u).filter(([A,T])=>T!==void 0).map(([A,T])=>[A,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([A,T])=>{y.searchParams.append(A,T)})):(m="POST",_=u);const S=Object.assign({},this.headers);return h&&(S.Prefer=`count=${h}`),new n.default({method:m,url:y,headers:S,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return ks.default=a,ks}var NE;function AB(){if(NE)return hn;NE=1;var t=hn&&hn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(hn,"__esModule",{value:!0}),hn.PostgrestError=hn.PostgrestBuilder=hn.PostgrestTransformBuilder=hn.PostgrestFilterBuilder=hn.PostgrestQueryBuilder=hn.PostgrestClient=void 0;const e=t(TB());hn.PostgrestClient=e.default;const n=t(kR());hn.PostgrestQueryBuilder=n.default;const r=t(ww());hn.PostgrestFilterBuilder=r.default;const a=t(CR());hn.PostgrestTransformBuilder=a.default;const i=t(ER());hn.PostgrestBuilder=i.default;const s=t(AR());return hn.PostgrestError=s.default,hn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},hn}var EB=AB();const CB=pt(EB),{PostgrestClient:kB,PostgrestQueryBuilder:Vue,PostgrestFilterBuilder:zue,PostgrestTransformBuilder:Gue,PostgrestBuilder:Hue,PostgrestError:Kue}=CB;let Cx;typeof window>"u"?Cx=require("ws"):Cx=window.WebSocket;const OB="2.11.10",MB={"X-Client-Info":`realtime-js/${OB}`},DB="1.0.0",OR=1e4,NB=1e3;var Ws;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ws||(Ws={}));var In;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(In||(In={}));var Br;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Br||(Br={}));var kx;(function(t){t.websocket="websocket"})(kx||(kx={}));var wo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(wo||(wo={}));class PB{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const a=n.getUint8(1),i=n.getUint8(2);let s=this.HEADER_LENGTH+2;const u=r.decode(e.slice(s,s+a));s=s+a;const c=r.decode(e.slice(s,s+i));s=s+i;const f=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:u,event:c,payload:f}}}class MR{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Nt||(Nt={}));const PE=(t,e,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,s)=>(i[s]=RB(s,t,e,a),i),{})},RB=(t,e,n,r)=>{const a=e.find(u=>u.name===t),i=a==null?void 0:a.type,s=n[t];return i&&!r.includes(i)?DR(i,s):Ox(s)},DR=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $B(e,n)}switch(t){case Nt.bool:return IB(e);case Nt.float4:case Nt.float8:case Nt.int2:case Nt.int4:case Nt.int8:case Nt.numeric:case Nt.oid:return jB(e);case Nt.json:case Nt.jsonb:return LB(e);case Nt.timestamp:return BB(e);case Nt.abstime:case Nt.date:case Nt.daterange:case Nt.int4range:case Nt.int8range:case Nt.money:case Nt.reltime:case Nt.text:case Nt.time:case Nt.timestamptz:case Nt.timetz:case Nt.tsrange:case Nt.tstzrange:return Ox(e);default:return Ox(e)}},Ox=t=>t,IB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},jB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},LB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},$B=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(u=>DR(e,u))}return t},BB=t=>typeof t=="string"?t.replace(" ","T"):t,NR=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class gv{constructor(e,n,r={},a=OR){this.channel=e,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var RE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(RE||(RE={}));class sc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=sc.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=sc.syncDiff(this.state,a,i,s),u())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,a){const i=this.cloneDeep(e),s=this.transformState(n),u={},c={};return this.map(i,(f,h)=>{s[f]||(c[f]=h)}),this.map(s,(f,h)=>{const m=i[f];if(m){const y=h.map(T=>T.presence_ref),_=m.map(T=>T.presence_ref),S=h.filter(T=>_.indexOf(T.presence_ref)<0),A=m.filter(T=>y.indexOf(T.presence_ref)<0);S.length>0&&(u[f]=S),A.length>0&&(c[f]=A)}else u[f]=h}),this.syncDiff(i,{joins:u,leaves:c},r,a)}static syncDiff(e,n,r,a){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(u,c)=>{var f;const h=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(c),h.length>0){const m=e[u].map(_=>_.presence_ref),y=h.filter(_=>m.indexOf(_.presence_ref)<0);e[u].unshift(...y)}r(u,h,c)}),this.map(s,(u,c)=>{let f=e[u];if(!f)return;const h=c.map(m=>m.presence_ref);f=f.filter(m=>h.indexOf(m.presence_ref)<0),e[u]=f,a(u,f,c),f.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const a=e[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var IE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(IE||(IE={}));var jE;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(jE||(jE={}));var La;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(La||(La={}));class Sw{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=In.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new gv(this,Br.join,this.params,this.timeout),this.rejoinTimer=new MR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=In.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=In.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=In.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=In.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Br.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new sc(this),this.broadcastEndpointURL=NR(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:u}}=this.params;this._onError(h=>e==null?void 0:e(La.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(La.CLOSED));const c={},f={broadcast:i,presence:s,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&a!==void 0?a:[],private:u};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){e==null||e(La.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,S=[];for(let A=0;A<_;A++){const T=y[A],{filter:{event:C,schema:O,table:E,filter:N}}=T,k=h&&h[A];if(k&&k.event===C&&k.schema===O&&k.table===E&&k.filter===N)S.push(Object.assign(Object.assign({},T),{id:k.id}));else{this.unsubscribe(),this.state=In.errored,e==null||e(La.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(La.SUBSCRIBED);return}}).receive("error",h=>{this.state=In.errored,e==null||e(La.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(La.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,u,c;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=In.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Br.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const a=new gv(this,Br.leave,{},e);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new gv(this,e,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var a,i;const s=e.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=Br;if(r&&[u,c,f,h].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var S,A,T;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(A=_.filter)===null||A===void 0?void 0:A.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===s}).map(_=>_.callback(y,r)):(i=this.bindings[s])===null||i===void 0||i.filter(_=>{var S,A,T,C,O,E;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in _){const N=_.id,k=(S=_.filter)===null||S===void 0?void 0:S.event;return N&&((A=n.ids)===null||A===void 0?void 0:A.includes(N))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const N=(O=(C=_==null?void 0:_.filter)===null||C===void 0?void 0:C.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return N==="*"||N===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===s}).map(_=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:A,table:T,commit_timestamp:C,type:O,errors:E}=S;y=Object.assign(Object.assign({},{schema:A,table:T,commit_timestamp:C,eventType:O,new:{},old:{},errors:E}),this._getPayloadRecords(S))}_.callback(y,r)})}_isClosed(){return this.state===In.closed}_isJoined(){return this.state===In.joined}_isJoining(){return this.state===In.joining}_isLeaving(){return this.state===In.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const a=e.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Sw.isEqual(a.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Br.close,{},e)}_onError(e){this._on(Br.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=In.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=PE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=PE(e.columns,e.old_record)),n}}const LE=()=>{},qB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class UB{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=MB,this.params={},this.timeout=OR,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=LE,this.ref=0,this.logger=LE,this.conn=null,this.sendBuffer=[],this.serializer=new PB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...u)=>tf(async()=>{const{default:c}=await Promise.resolve().then(()=>Nl);return{default:c}},void 0).then(({default:c})=>c(...u)):s=fetch,(...u)=>s(...u)},this.endPoint=`${e}/${kx.websocket}`,this.httpEndpoint=NR(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new MR(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Cx),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new FB(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DB}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ws.connecting:return wo.Connecting;case Ws.open:return wo.Open;case Ws.closing:return wo.Closing;default:return wo.Closed}}isConnected(){return this.connectionState()===wo.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new Sw(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:a,ref:i}=e,s=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Br.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(NB,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:a,payload:i,ref:s}=n;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${a} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Br.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${r}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([qB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class FB{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ws.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Tw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class VB extends Tw{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Mx extends Tw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var zB=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{f(r.next(h))}catch(m){s(m)}}function c(h){try{f(r.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};const PR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tf(async()=>{const{default:r}=await Promise.resolve().then(()=>Nl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},GB=()=>zB(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tf(()=>Promise.resolve().then(()=>Nl),void 0)).Response:Response}),Dx=t=>{if(Array.isArray(t))return t.map(n=>Dx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=Dx(r)}),e};var qo=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{f(r.next(h))}catch(m){s(m)}}function c(h){try{f(r.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};const vv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HB=(t,e,n)=>qo(void 0,void 0,void 0,function*(){const r=yield GB();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(a=>{e(new VB(vv(a),t.status||500))}).catch(a=>{e(new Mx(vv(a),a))}):e(new Mx(vv(t),t))}),KB=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function nf(t,e,n,r,a,i){return qo(this,void 0,void 0,function*(){return new Promise((s,u)=>{t(n,KB(e,r,a,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>HB(c,u,r))})})}function nh(t,e,n,r){return qo(this,void 0,void 0,function*(){return nf(t,"GET",e,n,r)})}function Ci(t,e,n,r,a){return qo(this,void 0,void 0,function*(){return nf(t,"POST",e,r,a,n)})}function YB(t,e,n,r,a){return qo(this,void 0,void 0,function*(){return nf(t,"PUT",e,r,a,n)})}function WB(t,e,n,r){return qo(this,void 0,void 0,function*(){return nf(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function RR(t,e,n,r,a){return qo(this,void 0,void 0,function*(){return nf(t,"DELETE",e,r,a,n)})}var Hn=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{f(r.next(h))}catch(m){s(m)}}function c(h){try{f(r.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};const XB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$E={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZB{constructor(e,n={},r,a){this.url=e,this.headers=n,this.bucketId=r,this.fetch=PR(a)}uploadOrUpdate(e,n,r,a){return Hn(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},$E),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(u=Object.assign(Object.assign({},u),a.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),m=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:i,headers:u},s!=null&&s.duplex?{duplex:s.duplex}:{})),y=yield m.json();return m.ok?{data:{path:f,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(i){if(pn(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,a){return Hn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${s}`);u.searchParams.set("token",n);try{let c;const f=Object.assign({upsert:$E.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const m=yield this.fetch(u.toString(),{method:"PUT",body:c,headers:h}),y=yield m.json();return m.ok?{data:{path:i,fullPath:y.Key},error:null}:{data:null,error:y}}catch(c){if(pn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Hn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield Ci(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),s=new URL(this.url+i.url),u=s.searchParams.get("token");if(!u)throw new Tw("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:u},error:null}}catch(r){if(pn(r))return{data:null,error:r};throw r}})}update(e,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(pn(a))return{data:null,error:a};throw a}})}copy(e,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ci(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(pn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,r){return Hn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Ci(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(pn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,r){return Hn(this,void 0,void 0,function*(){try{const a=yield Ci(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(pn(a))return{data:null,error:a};throw a}})}download(e,n){return Hn(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=i?`?${i}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield nh(this.fetch,`${this.url}/${a}/${u}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(pn(u))return{data:null,error:u};throw u}})}info(e){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield nh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Dx(r),error:null}}catch(r){if(pn(r))return{data:null,error:r};throw r}})}exists(e){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield WB(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(pn(r)&&r instanceof Mx){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield RR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(pn(n))return{data:null,error:n};throw n}})}list(e,n,r){return Hn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},XB),n),{prefix:e||""});return{data:yield Ci(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(pn(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const JB="2.7.1",QB={"X-Client-Info":`storage-js/${JB}`};var Ps=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{f(r.next(h))}catch(m){s(m)}}function c(h){try{f(r.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};class e4{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},QB),n),this.fetch=PR(r)}listBuckets(){return Ps(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(pn(e))return{data:null,error:e};throw e}})}getBucket(e){return Ps(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(pn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ps(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ps(this,void 0,void 0,function*(){try{return{data:yield YB(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ps(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(pn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ps(this,void 0,void 0,function*(){try{return{data:yield RR(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(pn(n))return{data:null,error:n};throw n}})}}class t4 extends e4{constructor(e,n={},r){super(e,n,r)}from(e){return new ZB(this.url,this.headers,e,this.fetch)}}const n4="2.50.0";let tc="";typeof Deno<"u"?tc="deno":typeof document<"u"?tc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tc="react-native":tc="node";const r4={"X-Client-Info":`supabase-js-${tc}/${n4}`},a4={headers:r4},i4={schema:"public"},o4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s4={};var l4=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{f(r.next(h))}catch(m){s(m)}}function c(h){try{f(r.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};const u4=t=>{let e;return t?e=t:typeof fetch>"u"?e=SR:e=fetch,(...n)=>e(...n)},c4=()=>typeof Headers>"u"?TR:Headers,f4=(t,e,n)=>{const r=u4(n),a=c4();return(i,s)=>l4(void 0,void 0,void 0,function*(){var u;const c=(u=yield e())!==null&&u!==void 0?u:t;let f=new a(s==null?void 0:s.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:f}))})};var d4=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{f(r.next(h))}catch(m){s(m)}}function c(h){try{f(r.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};function h4(t){return t.endsWith("/")?t:t+"/"}function p4(t,e){var n,r;const{db:a,auth:i,realtime:s,global:u}=t,{db:c,auth:f,realtime:h,global:m}=e,y={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},f),i),realtime:Object.assign(Object.assign({},h),s),global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>d4(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const IR="2.70.0",Us=30*1e3,Nx=3,yv=Nx*Us,m4="http://localhost:9999",g4="supabase.auth.token",v4={"X-Client-Info":`gotrue-js/${IR}`},Px="X-Supabase-Api-Version",jR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},y4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,b4=6e5;class Aw extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Xe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class x4 extends Aw{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function _4(t){return Xe(t)&&t.name==="AuthApiError"}class LR extends Aw{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Bi extends Aw{constructor(e,n,r,a){super(e,r,a),this.name=n,this.status=r}}class Ei extends Bi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function w4(t){return Xe(t)&&t.name==="AuthSessionMissingError"}class Md extends Bi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dd extends Bi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Nd extends Bi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function S4(t){return Xe(t)&&t.name==="AuthImplicitGrantRedirectError"}class BE extends Bi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rx extends Bi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function bv(t){return Xe(t)&&t.name==="AuthRetryableFetchError"}class qE extends Bi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class lc extends Bi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const rh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UE=` 	
\r=`.split(""),T4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<UE.length;e+=1)t[UE[e].charCodeAt(0)]=-2;for(let e=0;e<rh.length;e+=1)t[rh[e].charCodeAt(0)]=e;return t})();function FE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(rh[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(rh[r]),e.queuedBits-=6}}function $R(t,e,n){const r=T4[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function VE(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{C4(s,r,n)};for(let s=0;s<t.length;s+=1)$R(t.charCodeAt(s),a,i);return e.join("")}function A4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function E4(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}A4(r,e)}}function C4(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function k4(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)$R(t.charCodeAt(a),n,r);return new Uint8Array(e)}function O4(t){const e=[];return E4(t,n=>e.push(n)),new Uint8Array(e)}function M4(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};return t.forEach(a=>FE(a,n,r)),FE(null,n,r),e.join("")}function D4(t){return Math.round(Date.now()/1e3)+t}function N4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $r=()=>typeof window<"u"&&typeof document<"u",po={tested:!1,writable:!1},uc=()=>{if(!$r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(po.tested)return po.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),po.tested=!0,po.writable=!0}catch{po.tested=!0,po.writable=!1}return po.writable};function P4(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{e[a]=r}),e}const BR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tf(async()=>{const{default:r}=await Promise.resolve().then(()=>Nl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},R4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qR=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Pd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rd=async(t,e)=>{await t.removeItem(e)};class lp{constructor(){this.promise=new lp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}lp.promiseConstructor=Promise;function xv(t){const e=t.split(".");if(e.length!==3)throw new lc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!y4.test(e[r]))throw new lc("JWT not in base64url format");return{header:JSON.parse(VE(e[0])),payload:JSON.parse(VE(e[1])),signature:k4(e[2]),raw:{header:e[0],payload:e[1]}}}async function I4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function j4(t,e){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function L4(t){return("0"+t.toString(16)).substr(-2)}function $4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,L4).join("")}async function B4(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function q4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await B4(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rs(t,e,n=!1){const r=$4();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await qR(t,`${e}-code-verifier`,a);const i=await q4(r);return[i,r===i?"plain":"s256"]}const U4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function F4(t){const e=t.headers.get(Px);if(!e||!e.match(U4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function V4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function z4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const G4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Is(t){if(!G4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var H4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const bo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),K4=[502,503,504];async function zE(t){var e;if(!R4(t))throw new Rx(bo(t),0);if(K4.includes(t.status))throw new Rx(bo(t),t.status);let n;try{n=await t.json()}catch(i){throw new LR(bo(i),i)}let r;const a=F4(t);if(a&&a.getTime()>=jR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new qE(bo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ei}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new qE(bo(n),t.status,n.weak_password.reasons);throw new x4(bo(n),t.status||500,r)}const Y4=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function ot(t,e,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[Px]||(i[Px]=jR["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const s=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await W4(t,e,n+u,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function W4(t,e,n,r,a,i){const s=Y4(e,r,a,i);let u;try{u=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new Rx(bo(c),0)}if(u.ok||await zE(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await zE(c)}}function ja(t){var e;let n=null;Q4(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=D4(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function GE(t){const e=ja(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Di(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function X4(t){return{data:t,error:null}}function Z4(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=t,s=H4(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:u,user:c},error:null}}function J4(t){return t}function Q4(t){return t.access_token&&t.refresh_token&&t.expires_in}const _v=["global","local","others"];var eq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};class tq{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=BR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=_v[0]){if(_v.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_v.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Di})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=eq(e,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Z4,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Di})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,a,i,s,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:J4});if(h.error)throw h.error;const m=await h.json(),y=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return _.length>0&&(_.forEach(S=>{const A=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);f[`${T}Page`]=A}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Xe(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Is(e);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Di})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Is(e);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Di})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Is(e);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Di})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Is(e.userId);try{const{data:n,error:r}=await ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Is(e.userId),Is(e.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}}const nq={getItem:t=>uc()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{uc()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{uc()&&globalThis.localStorage.removeItem(t)}};function HE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function rq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const js={debug:!!(globalThis&&uc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class UR extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class aq extends UR{}async function iq(t,e,n){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new aq(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(js.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}rq();const oq={url:m4,storageKey:g4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function KE(t,e,n){return await n()}class vc{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vc.nextInstanceID,vc.nextInstanceID+=1,this.instanceID>0&&$r()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},oq),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new tq({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=BR(a.fetch),this.lock=a.lock||KE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:$r()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=iq:this.lock=KE,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:uc()?this.storage=nq:(this.memoryStorage={},this.storage=HE(this.memoryStorage)):(this.memoryStorage={},this.storage=HE(this.memoryStorage)),$r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${IR}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=P4(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),$r()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),S4(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Xe(n)?{error:n}:{error:new LR("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,a;try{const i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:ja}),{data:s,error:u}=i;if(u||!s)return{data:{user:null,session:null},error:u};const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(i){if(Xe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,a;try{let i;if("email"in e){const{email:h,password:m,options:y}=e;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await Rs(this.storage,this.storageKey)),i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:h,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:_,code_challenge_method:S},xform:ja})}else if("phone"in e){const{phone:h,password:m,options:y}=e;i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:ja})}else throw new Dd("You must provide either an email or phone number and a password");const{data:s,error:u}=i;if(u||!s)return{data:{user:null,session:null},error:u};const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(i){if(Xe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:s,options:u}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:GE})}else if("phone"in e){const{phone:i,password:s,options:u}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:GE})}else throw new Dd("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Md}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(Xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,a,i,s,u,c,f,h,m,y,_;let S,A;if("message"in e)S=e.message,A=e.signature;else{const{chain:T,wallet:C,statement:O,options:E}=e;let N;if($r())if(typeof C=="object")N=C;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))N=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=C}const k=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const M=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),O?{statement:O}:null));let P;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")P=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)P=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)S=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),A=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${k.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(a=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((s=E==null?void 0:E.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((m=(h=E==null?void 0:E.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...E.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const M=await N.signMessage(new TextEncoder().encode(S),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=M}}try{const{data:T,error:C}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:M4(A)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ja});if(C)throw C;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Md}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:C})}catch(T){if(Xe(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const n=await Pd(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:s}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ja});if(await Rd(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Md}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(Xe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:a,access_token:i,nonce:s}=e,u=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ja}),{data:c,error:f}=u;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Md}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(n){if(Xe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,a,i,s;try{if("email"in e){const{email:u,options:c}=e;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Rs(this.storage,this.storageKey));const{error:m}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:u,options:c}=e,{data:f,error:h}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new Dd("You must provide either an email or phone number.")}catch(u){if(Xe(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let a,i;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:u}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ja});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,f=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(a){if(Xe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var n,r,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Rs(this.storage,this.storageKey)),await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:X4})}catch(i){if(Xe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ei;const{error:a}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Xe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:i}=e,{error:s}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:a,options:i}=e,{data:s,error:u}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:u}}throw new Dd("You must provide either an email or phone number and a type")}catch(n){if(Xe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Pd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<yv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,f,h)=>(!s&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,h))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Di}):await this._useSession(async n=>{var r,a,i;const{data:s,error:u}=n;if(u)throw u;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ei}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Di})})}catch(n){if(Xe(n))return w4(n)&&(await this._removeSession(),await Rd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new Ei;const s=a.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await Rs(this.storage,this.storageKey));const{data:f,error:h}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:s.access_token,xform:Di});if(h)throw h;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ei;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:s}=xv(e.access_token);if(s.exp&&(r=s.exp,a=r<=n),a){const{session:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Xe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:u}=n;if(u)throw u;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ei;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Xe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!$r())throw new Nd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Nd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new BE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new BE("No code detected.");const{data:O,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:u,expires_at:c,token_type:f}=e;if(!i||!u||!s||!f)throw new Nd("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let y=h+m;c&&(y=parseInt(c));const _=y-h;_*1e3<=Us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const S=y-m;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,h);const{data:A,error:T}=await this._getUser(i);if(T)throw T;const C={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:y,refresh_token:s,token_type:f,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(r){if(Xe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Pd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const s=(r=a.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:u}=await this.admin.signOut(s,e);if(u&&!(_4(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Rd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=N4(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Rs(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Xe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var s,u,c,f,h;const{data:m,error:y}=i;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",_,{headers:this.headers,jwt:(h=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return $r()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Xe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,a;const{data:i,error:s}=n;if(s)throw s;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await j4(async a=>(a>0&&await I4(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ja})),(a,i)=>{const s=200*Math.pow(2,a);return i&&bv(i)&&Date.now()+s-r<Us})}catch(r){if(this._debug(n,"error",r),Xe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),$r()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Pd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<yv;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${yv}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),bv(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new lp;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Ei;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={session:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),Xe(i)){const s={session:null,error:i};return bv(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await qR(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Rd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$r()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Us);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/Us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Us}ms, refresh threshold is ${Nx} ticks`),a<=Nx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof UR)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$r()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,s]=await Rs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(u.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:f}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:s,error:u}=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:u})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],a=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=xv(a.access_token);let u=null;s.aal&&(u=s.aal);let c=u;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=s.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r||(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+b4>Date.now()))return r;const{data:a,error:i}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new lc("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),r=a.keys.find(s=>s.kid===e),!r)throw new lc("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:_,error:S}=await this.getSession();if(S||!_.session)return{data:null,error:S};r=_.session.access_token}const{header:a,payload:i,signature:s,raw:{header:u,payload:c}}=xv(r);if(V4(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:a,signature:s},error:null}}const f=z4(a.alg),h=await this.fetchJwk(a.kid,n),m=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,s,O4(`${u}.${c}`)))throw new lc("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}}vc.nextInstanceID=0;const sq=vc;class lq extends sq{constructor(e){super(e)}}var uq=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{f(r.next(h))}catch(m){s(m)}}function c(h){try{f(r.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};class cq{constructor(e,n,r){var a,i,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=h4(e),c=new URL(u);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:i4,realtime:s4,auth:Object.assign(Object.assign({},o4),{storageKey:f}),global:a4},m=p4(r??{},h);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=m.auth)!==null&&s!==void 0?s:{},this.headers,m.global.fetch),this.fetch=f4(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new kB(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new gB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new t4(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return uq(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:i,flowType:s,lock:u,debug:c},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lq({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,flowType:s,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new UB(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fq=(t,e,n)=>new cq(t,e,n),dq="https://kezqwaibstyhvxpdhdts.supabase.co",hq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtlenF3YWlic3R5aHZ4cGRoZHRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2ODU0NTEsImV4cCI6MjA1OTI2MTQ1MX0.f8lcr89hUJLsQYdHWE6tFlijL7PtHKI3w7KtG-PGgb8",Te=fq(dq,hq);var ye=(t=>(t.INCOME="INCOME",t.EXPENSE="EXPENSE",t.TRANSFER="TRANSFER",t))(ye||{}),lr=(t=>(t.DEPOSIT="DEPOSIT",t.WITHDRAWAL="WITHDRAWAL",t))(lr||{});const pq=[{name:"Salário"},{name:"Vendas"},{name:"Investimentos"},{name:"Presente"},{name:"Outras Receitas"}],mq=[{name:"Alimentação"},{name:"Transporte"},{name:"Moradia"},{name:"Lazer"},{name:"Saúde"},{name:"Educação"},{name:"Compras"},{name:"Impostos"},{name:"Água"},{name:"Luz"},{name:"Outras Despesas"}],gq=[{name:"Carteira",initial_balance:0},{name:"Banco Principal",initial_balance:1e3}],Ix="Meu Financeiro",Ew=[{value:ye.INCOME,label:"Receita"},{value:ye.EXPENSE,label:"Despesa"},{value:ye.TRANSFER,label:"Transferência"}],vq=[{value:"all",label:"Todo o Período"},{value:"today",label:"Hoje"},{value:"current_month",label:"Este Mês"},{value:"last_7_days",label:"Últimos 7 Dias"},{value:"last_30_days",label:"Últimos 30 Dias"}],yq=t=>{const e=pq.map(r=>({...r,user_id:t,type:ye.INCOME})),n=mq.map(r=>({...r,user_id:t,type:ye.EXPENSE}));return[...e,...n]},bq=t=>gq.map(e=>({...e,user_id:t})),It=()=>crypto.randomUUID(),Cr=(t,e="pt-BR",n)=>{const r=new Date(t.includes("T")?t:t+"T00:00:00"),a={year:"numeric",month:"short",day:"numeric"},i=n?{...a,...n}:a;return r.toLocaleDateString(e,i)},Ae=(t,e="BRL",n="pt-BR",r=!1)=>{var a;return r?`${((a=new Intl.NumberFormat(n,{style:"currency",currency:e}).formatToParts(0).find(s=>s.type==="currency"))==null?void 0:a.value)||"$"} ****,**`:new Intl.NumberFormat(n,{style:"currency",currency:e}).format(t)},Ut=(t=new Date)=>(typeof t=="string"?new Date(t.includes("T")?t:t+"T00:00:00"):t).toISOString().split("T")[0],FR=(t,e,n)=>{const r=new Date(t+"T00:00:00");let a=r.getMonth()+e,i=r.getFullYear();a>11&&(i+=Math.floor(a/12),a=a%12);const u=r.getMonth()+1+(e-1);i=r.getFullYear(),a=u,a>11&&(i+=Math.floor(a/12),a=a%12);const c=new Date(i,a,1),f=new Date(i,a+1,0).getDate(),h=Math.min(n,f);return c.setDate(h),c},VR=(t,e,n)=>{if(!t||!e)return[];const r=[],a=n.getFullYear(),i=n.getMonth();let s=new Date(a,i,e.closing_day);n.getDate()>e.closing_day&&s.setMonth(i+1);let u=new Date(s.getFullYear(),s.getMonth(),e.due_day);e.due_day<e.closing_day&&u.setMonth(s.getMonth()+1);for(const c of t)if(c.installments_paid<c.number_of_installments){const f=c.installments_paid+1,h=FR(c.purchase_date,f,e.due_day);if(h<=u){let m=new Date(u);m.setMonth(m.getMonth()-1),(h>m||h.getFullYear()===u.getFullYear()&&h.getMonth()===u.getMonth())&&r.push(c)}}return r.filter((c,f,h)=>h.findIndex(m=>m.id===c.id)===f)},zR=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),YE=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),jx=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15L15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),WE=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"})}),xq=({id:t,message:e,type:n,onDismiss:r})=>{let a="bg-primary dark:bg-primaryDark",i="text-white",s=YE;switch(n){case"success":a="bg-secondary dark:bg-secondaryDark",s=jx;break;case"warning":a="bg-amber-500 dark:bg-amber-600",s=WE;break;case"error":a="bg-destructive dark:bg-destructiveDark",s=WE;break;case"info":default:a="bg-blue-500 dark:bg-blue-600",s=YE;break}return x.jsxs("div",{role:"alert","aria-live":"assertive","aria-atomic":"true",className:`relative flex items-start w-full max-w-sm p-4 rounded-lg shadow-2xl ${a} ${i} transform transition-all duration-300 ease-in-out animate-fadeIn`,children:[x.jsx("div",{className:"flex-shrink-0 mr-3",children:x.jsx(s,{className:"w-6 h-6"})}),x.jsx("div",{className:"flex-grow text-sm font-medium",children:e}),x.jsx("button",{onClick:()=>r(t),"aria-label":"Fechar notificação",className:"ml-3 -mr-1 -my-1 p-1 rounded-md hover:bg-black/20 focus:outline-none focus:ring-2 focus:ring-white/50 transition-colors",children:x.jsx(zR,{className:"w-5 h-5"})}),x.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},_q=({toasts:t,removeToast:e})=>t.length?x.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"fixed top-4 right-4 z-[100] space-y-3 w-full max-w-sm pointer-events-none",children:t.map(n=>x.jsx("div",{className:"pointer-events-auto",children:x.jsx(xq,{...n,onDismiss:e})},n.id))}):null,GR=q.createContext(void 0),HR=()=>{const t=q.useContext(GR);if(!t)throw new Error("useToasts must be used within a ToastProvider");return t},wq=({children:t})=>{const[e,n]=q.useState([]),r=q.useCallback((i,s,u=5e3)=>{const c=It();n(f=>[{id:c,message:i,type:s,duration:u},...f.slice(0,4)]),u&&setTimeout(()=>{a(c)},u)},[]),a=q.useCallback(i=>{n(s=>s.filter(u=>u.id!==i))},[]);return x.jsxs(GR.Provider,{value:{addToast:r},children:[t,x.jsx(_q,{toasts:e,removeToast:a})]})},Yn=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Sq=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52M6.25 4.97A48.416 48.416 0 0 1 12 4.5c2.291 0 4.545.16 6.75.47m-13.5 0C4.146 5.116 3.146 5.29 2.25 5.5m3.75-.48a25.293 25.293 0 0 0-3.75.48M12 12.75h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0-9h.008v.008H12V9.75Z"})}),Cw=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-3.741-5.602M12 12.75a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 0H7.5M12 12.75V15m0 0H7.5M12 15A6.75 6.75 0 0 0 5.25 9.75M12 15A6.75 6.75 0 0 1 18.75 9.75M12 2.25A6.75 6.75 0 0 0 5.25 9m6.75-6.75v1.5m0 1.5V9m0-3a2.25 2.25 0 0 0-2.25-2.25H7.5A2.25 2.25 0 0 0 5.25 6m13.5 6.75a2.25 2.25 0 0 0-2.25-2.25H15a2.25 2.25 0 0 0-2.25 2.25m3.75 0v1.5m0 1.5V18m0-3a2.25 2.25 0 0 0-2.25-2.25H15A2.25 2.25 0 0 0 12.75 15m3.75 0h-3.75M3.375 19.5a2.25 2.25 0 0 1 2.25-2.25H10.5a2.25 2.25 0 0 1 2.25 2.25"})}),_e=({variant:t="primary",size:e="md",children:n,className:r,...a})=>{const i="font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-backgroundDark transition-colors duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center";let s="";switch(t){case"primary":s="bg-primary text-white hover:bg-blue-700 dark:bg-primaryDark dark:hover:bg-blue-600 focus:ring-primary dark:focus:ring-primaryDark";break;case"secondary":s="bg-secondary text-white hover:bg-emerald-700 dark:bg-secondaryDark dark:hover:bg-emerald-600 focus:ring-secondary dark:focus:ring-secondaryDark";break;case"danger":s="bg-destructive text-white hover:bg-red-700 dark:bg-destructiveDark dark:hover:bg-red-600 focus:ring-destructive dark:focus:ring-destructiveDark";break;case"ghost":s="bg-transparent text-textBase dark:text-textBaseDark hover:bg-neutral/10 dark:hover:bg-neutralDark/20 focus:ring-neutral dark:focus:ring-neutralDark";break}let u="";switch(e){case"sm":u="px-3 py-1.5 text-sm";break;case"md":u="px-4 py-2 text-base";break;case"lg":u="px-6 py-3 text-lg";break}return x.jsx("button",{className:`${i} ${s} ${u} ${r||""}`,...a,children:n})};function KR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=KR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=KR(t))&&(r&&(r+=" "),r+=e);return r}var wv,XE;function Wn(){if(XE)return wv;XE=1;var t=Array.isArray;return wv=t,wv}var Sv,ZE;function YR(){if(ZE)return Sv;ZE=1;var t=typeof kd=="object"&&kd&&kd.Object===Object&&kd;return Sv=t,Sv}var Tv,JE;function da(){if(JE)return Tv;JE=1;var t=YR(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Tv=n,Tv}var Av,QE;function rf(){if(QE)return Av;QE=1;var t=da(),e=t.Symbol;return Av=e,Av}var Ev,eC;function Tq(){if(eC)return Ev;eC=1;var t=rf(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function i(s){var u=n.call(s,a),c=s[a];try{s[a]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(u?s[a]=c:delete s[a]),h}return Ev=i,Ev}var Cv,tC;function Aq(){if(tC)return Cv;tC=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Cv=n,Cv}var kv,nC;function Wa(){if(nC)return kv;nC=1;var t=rf(),e=Tq(),n=Aq(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?a:r:i&&i in Object(u)?e(u):n(u)}return kv=s,kv}var Ov,rC;function Xa(){if(rC)return Ov;rC=1;function t(e){return e!=null&&typeof e=="object"}return Ov=t,Ov}var Mv,aC;function Pl(){if(aC)return Mv;aC=1;var t=Wa(),e=Xa(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return Mv=r,Mv}var Dv,iC;function kw(){if(iC)return Dv;iC=1;var t=Wn(),e=Pl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,s){if(t(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||s!=null&&i in Object(s)}return Dv=a,Dv}var Nv,oC;function qi(){if(oC)return Nv;oC=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Nv=t,Nv}var Pv,sC;function Ow(){if(sC)return Pv;sC=1;var t=Wa(),e=qi(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==r||c==a||c==n||c==i}return Pv=s,Pv}var Rv,lC;function Eq(){if(lC)return Rv;lC=1;var t=da(),e=t["__core-js_shared__"];return Rv=e,Rv}var Iv,uC;function Cq(){if(uC)return Iv;uC=1;var t=Eq(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Iv=n,Iv}var jv,cC;function WR(){if(cC)return jv;cC=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return jv=n,jv}var Lv,fC;function kq(){if(fC)return Lv;fC=1;var t=Ow(),e=Cq(),n=qi(),r=WR(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!n(y)||e(y))return!1;var _=t(y)?h:i;return _.test(r(y))}return Lv=m,Lv}var $v,dC;function Oq(){if(dC)return $v;dC=1;function t(e,n){return e==null?void 0:e[n]}return $v=t,$v}var Bv,hC;function Uo(){if(hC)return Bv;hC=1;var t=kq(),e=Oq();function n(r,a){var i=e(r,a);return t(i)?i:void 0}return Bv=n,Bv}var qv,pC;function up(){if(pC)return qv;pC=1;var t=Uo(),e=t(Object,"create");return qv=e,qv}var Uv,mC;function Mq(){if(mC)return Uv;mC=1;var t=up();function e(){this.__data__=t?t(null):{},this.size=0}return Uv=e,Uv}var Fv,gC;function Dq(){if(gC)return Fv;gC=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Fv=t,Fv}var Vv,vC;function Nq(){if(vC)return Vv;vC=1;var t=up(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var s=this.__data__;if(t){var u=s[i];return u===e?void 0:u}return r.call(s,i)?s[i]:void 0}return Vv=a,Vv}var zv,yC;function Pq(){if(yC)return zv;yC=1;var t=up(),e=Object.prototype,n=e.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return zv=r,zv}var Gv,bC;function Rq(){if(bC)return Gv;bC=1;var t=up(),e="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?e:a,this}return Gv=n,Gv}var Hv,xC;function Iq(){if(xC)return Hv;xC=1;var t=Mq(),e=Dq(),n=Nq(),r=Pq(),a=Rq();function i(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Hv=i,Hv}var Kv,_C;function jq(){if(_C)return Kv;_C=1;function t(){this.__data__=[],this.size=0}return Kv=t,Kv}var Yv,wC;function Mw(){if(wC)return Yv;wC=1;function t(e,n){return e===n||e!==e&&n!==n}return Yv=t,Yv}var Wv,SC;function cp(){if(SC)return Wv;SC=1;var t=Mw();function e(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return Wv=e,Wv}var Xv,TC;function Lq(){if(TC)return Xv;TC=1;var t=cp(),e=Array.prototype,n=e.splice;function r(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var u=i.length-1;return s==u?i.pop():n.call(i,s,1),--this.size,!0}return Xv=r,Xv}var Zv,AC;function $q(){if(AC)return Zv;AC=1;var t=cp();function e(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return Zv=e,Zv}var Jv,EC;function Bq(){if(EC)return Jv;EC=1;var t=cp();function e(n){return t(this.__data__,n)>-1}return Jv=e,Jv}var Qv,CC;function qq(){if(CC)return Qv;CC=1;var t=cp();function e(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return Qv=e,Qv}var ey,kC;function fp(){if(kC)return ey;kC=1;var t=jq(),e=Lq(),n=$q(),r=Bq(),a=qq();function i(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,ey=i,ey}var ty,OC;function Dw(){if(OC)return ty;OC=1;var t=Uo(),e=da(),n=t(e,"Map");return ty=n,ty}var ny,MC;function Uq(){if(MC)return ny;MC=1;var t=Iq(),e=fp(),n=Dw();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return ny=r,ny}var ry,DC;function Fq(){if(DC)return ry;DC=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return ry=t,ry}var ay,NC;function dp(){if(NC)return ay;NC=1;var t=Fq();function e(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return ay=e,ay}var iy,PC;function Vq(){if(PC)return iy;PC=1;var t=dp();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return iy=e,iy}var oy,RC;function zq(){if(RC)return oy;RC=1;var t=dp();function e(n){return t(this,n).get(n)}return oy=e,oy}var sy,IC;function Gq(){if(IC)return sy;IC=1;var t=dp();function e(n){return t(this,n).has(n)}return sy=e,sy}var ly,jC;function Hq(){if(jC)return ly;jC=1;var t=dp();function e(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return ly=e,ly}var uy,LC;function Nw(){if(LC)return uy;LC=1;var t=Uq(),e=Vq(),n=zq(),r=Gq(),a=Hq();function i(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,uy=i,uy}var cy,$C;function XR(){if($C)return cy;$C=1;var t=Nw(),e="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,u=a?a.apply(this,s):s[0],c=i.cache;if(c.has(u))return c.get(u);var f=r.apply(this,s);return i.cache=c.set(u,f)||c,f};return i.cache=new(n.Cache||t),i}return n.Cache=t,cy=n,cy}var fy,BC;function Kq(){if(BC)return fy;BC=1;var t=XR(),e=500;function n(r){var a=t(r,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return fy=n,fy}var dy,qC;function Yq(){if(qC)return dy;qC=1;var t=Kq(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,u,c,f){i.push(c?f.replace(n,"$1"):u||s)}),i});return dy=r,dy}var hy,UC;function Pw(){if(UC)return hy;UC=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=n(e[r],r,e);return i}return hy=t,hy}var py,FC;function Wq(){if(FC)return py;FC=1;var t=rf(),e=Pw(),n=Wn(),r=Pl(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return e(u,s)+"";if(r(u))return i?i.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return py=s,py}var my,VC;function ZR(){if(VC)return my;VC=1;var t=Wq();function e(n){return n==null?"":t(n)}return my=e,my}var gy,zC;function JR(){if(zC)return gy;zC=1;var t=Wn(),e=kw(),n=Yq(),r=ZR();function a(i,s){return t(i)?i:e(i,s)?[i]:n(r(i))}return gy=a,gy}var vy,GC;function hp(){if(GC)return vy;GC=1;var t=Pl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return vy=e,vy}var yy,HC;function Rw(){if(HC)return yy;HC=1;var t=JR(),e=hp();function n(r,a){a=t(a,r);for(var i=0,s=a.length;r!=null&&i<s;)r=r[e(a[i++])];return i&&i==s?r:void 0}return yy=n,yy}var by,KC;function QR(){if(KC)return by;KC=1;var t=Rw();function e(n,r,a){var i=n==null?void 0:t(n,r);return i===void 0?a:i}return by=e,by}var Xq=QR();const ur=pt(Xq);var xy,YC;function Zq(){if(YC)return xy;YC=1;function t(e){return e==null}return xy=t,xy}var Jq=Zq();const st=pt(Jq);var _y,WC;function Qq(){if(WC)return _y;WC=1;var t=Wa(),e=Wn(),n=Xa(),r="[object String]";function a(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return _y=a,_y}var eU=Qq();const Mo=pt(eU);var tU=Ow();const Ge=pt(tU);var nU=qi();const Rl=pt(nU);var wy={exports:{}},gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC;function rU(){if(XC)return gt;XC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function A(T){if(typeof T=="object"&&T!==null){var C=T.$$typeof;switch(C){case t:switch(T=T.type,T){case n:case a:case r:case f:case h:return T;default:switch(T=T&&T.$$typeof,T){case u:case s:case c:case y:case m:case i:return T;default:return C}}case e:return C}}}return gt.ContextConsumer=s,gt.ContextProvider=i,gt.Element=t,gt.ForwardRef=c,gt.Fragment=n,gt.Lazy=y,gt.Memo=m,gt.Portal=e,gt.Profiler=a,gt.StrictMode=r,gt.Suspense=f,gt.SuspenseList=h,gt.isAsyncMode=function(){return!1},gt.isConcurrentMode=function(){return!1},gt.isContextConsumer=function(T){return A(T)===s},gt.isContextProvider=function(T){return A(T)===i},gt.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},gt.isForwardRef=function(T){return A(T)===c},gt.isFragment=function(T){return A(T)===n},gt.isLazy=function(T){return A(T)===y},gt.isMemo=function(T){return A(T)===m},gt.isPortal=function(T){return A(T)===e},gt.isProfiler=function(T){return A(T)===a},gt.isStrictMode=function(T){return A(T)===r},gt.isSuspense=function(T){return A(T)===f},gt.isSuspenseList=function(T){return A(T)===h},gt.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===a||T===r||T===f||T===h||T===_||typeof T=="object"&&T!==null&&(T.$$typeof===y||T.$$typeof===m||T.$$typeof===i||T.$$typeof===s||T.$$typeof===c||T.$$typeof===S||T.getModuleId!==void 0)},gt.typeOf=A,gt}var ZC;function aU(){return ZC||(ZC=1,wy.exports=rU()),wy.exports}var iU=aU(),Sy,JC;function eI(){if(JC)return Sy;JC=1;var t=Wa(),e=Xa(),n="[object Number]";function r(a){return typeof a=="number"||e(a)&&t(a)==n}return Sy=r,Sy}var Ty,QC;function oU(){if(QC)return Ty;QC=1;var t=eI();function e(n){return t(n)&&n!=+n}return Ty=e,Ty}var sU=oU();const af=pt(sU);var lU=eI();const uU=pt(lU);var jn=function(e){return e===0?0:e>0?1:-1},To=function(e){return Mo(e)&&e.indexOf("%")===e.length-1},xe=function(e){return uU(e)&&!af(e)},sn=function(e){return xe(e)||Mo(e)},cU=0,of=function(e){var n=++cU;return"".concat(e||"").concat(n)},Ln=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&!Mo(e))return r;var i;if(To(e)){var s=e.indexOf("%");i=n*parseFloat(e.slice(0,s))/100}else i=+e;return af(i)&&(i=r),a&&i>n&&(i=n),i},Ni=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},fU=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},a=0;a<n;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1},ki=function(e,n){return xe(e)&&xe(n)?function(r){return e+r*(n-e)}:function(){return n}};function Lx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ur(r,e))===n})}var dU=function(e,n){return xe(e)&&xe(n)?e-n:Mo(e)&&Mo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Xs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function $x(t){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$x(t)}var hU=["viewBox","children"],pU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ek=["points","pathLength"],Ay={svg:hU,polygon:ek,polyline:ek},Iw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ah=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(q.isValidElement(e)&&(r=e.props),!Rl(r))return null;var a={};return Object.keys(r).forEach(function(i){Iw.includes(i)&&(a[i]=n||function(s){return r[i](r,s)})}),a},mU=function(e,n,r){return function(a){return e(n,r,a),null}},Do=function(e,n,r){if(!Rl(e)||$x(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];Iw.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=mU(s,n,r))}),a},gU=["children"],vU=["children"];function tk(t,e){if(t==null)return{};var n=yU(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Fa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},rk=null,Ey=null,jw=function t(e){if(e===rk&&Array.isArray(Ey))return Ey;var n=[];return q.Children.forEach(e,function(r){st(r)||(iU.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Ey=n,rk=e,n};function Er(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(a){return Fa(a)}):r=[Fa(e)],jw(t).forEach(function(a){var i=ur(a,"type.displayName")||ur(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function or(t,e){var n=Er(t,e);return n&&n[0]}var ak=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,a=n.height;return!(!xe(r)||r<=0||!xe(a)||a<=0)},bU=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xU=function(e){return e&&e.type&&Mo(e.type)&&bU.indexOf(e.type)>=0},_U=function(e,n,r,a){var i,s=(i=Ay==null?void 0:Ay[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Ge(e)&&(a&&s.includes(n)||pU.includes(n))||r&&Iw.includes(n)},Ve=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(q.isValidElement(e)&&(a=e.props),!Rl(a))return null;var i={};return Object.keys(a).forEach(function(s){var u;_U((u=a)===null||u===void 0?void 0:u[s],s,n,r)&&(i[s]=a[s])}),i},Bx=function t(e,n){if(e===n)return!0;var r=q.Children.count(e);if(r!==q.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ik(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=e[a],s=n[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!ik(i,s))return!1}return!0},ik=function(e,n){if(st(e)&&st(n))return!0;if(!st(e)&&!st(n)){var r=e.props||{},a=r.children,i=tk(r,gU),s=n.props||{},u=s.children,c=tk(s,vU);return a&&u?Xs(i,c)&&Bx(a,u):!a&&!u?Xs(i,c):!1}return!1},ok=function(e,n){var r=[],a={};return jw(e).forEach(function(i,s){if(xU(i))r.push(i);else if(i){var u=Fa(i.type),c=n[u]||{},f=c.handler,h=c.once;if(f&&(!h||!a[u])){var m=f(i,u,s);r.push(m),a[u]=!0}}}),r},wU=function(e){var n=e&&e.type;return n&&nk[n]?nk[n]:null},SU=function(e,n){return jw(n).indexOf(e)},TU=["children","width","height","viewBox","className","style","title","desc"];function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(this,arguments)}function AU(t,e){if(t==null)return{};var n=EU(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ux(t){var e=t.children,n=t.width,r=t.height,a=t.viewBox,i=t.className,s=t.style,u=t.title,c=t.desc,f=AU(t,TU),h=a||{width:n,height:r,x:0,y:0},m=rt("recharts-surface",i);return X.createElement("svg",qx({},Ve(f,!0,"svg"),{className:m,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),X.createElement("title",null,u),X.createElement("desc",null,c),e)}var CU=["children","className"];function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fx.apply(this,arguments)}function kU(t,e){if(t==null)return{};var n=OU(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wt=X.forwardRef(function(t,e){var n=t.children,r=t.className,a=kU(t,CU),i=rt("recharts-layer",r);return X.createElement("g",Fx({className:i},Ve(a,!0),{ref:e}),n)}),Vr=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]},Cy,sk;function MU(){if(sk)return Cy;sk=1;function t(e,n,r){var a=-1,i=e.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+n];return s}return Cy=t,Cy}var ky,lk;function DU(){if(lk)return ky;lk=1;var t=MU();function e(n,r,a){var i=n.length;return a=a===void 0?i:a,!r&&a>=i?n:t(n,r,a)}return ky=e,ky}var Oy,uk;function tI(){if(uk)return Oy;uk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+a+i+"]");function c(f){return u.test(f)}return Oy=c,Oy}var My,ck;function NU(){if(ck)return My;ck=1;function t(e){return e.split("")}return My=t,My}var Dy,fk;function PU(){if(fk)return Dy;fk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="["+t+"]",u="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",S=f+"?",A="["+i+"]?",T="(?:"+_+"(?:"+[h,m,y].join("|")+")"+A+S+")*",C=A+S+T,O="(?:"+[h+u+"?",u,m,y,s].join("|")+")",E=RegExp(c+"(?="+c+")|"+O+C,"g");function N(k){return k.match(E)||[]}return Dy=N,Dy}var Ny,dk;function RU(){if(dk)return Ny;dk=1;var t=NU(),e=tI(),n=PU();function r(a){return e(a)?n(a):t(a)}return Ny=r,Ny}var Py,hk;function IU(){if(hk)return Py;hk=1;var t=DU(),e=tI(),n=RU(),r=ZR();function a(i){return function(s){s=r(s);var u=e(s)?n(s):void 0,c=u?u[0]:s.charAt(0),f=u?t(u,1).join(""):s.slice(1);return c[i]()+f}}return Py=a,Py}var Ry,pk;function jU(){if(pk)return Ry;pk=1;var t=IU(),e=t("toUpperCase");return Ry=e,Ry}var LU=jU();const pp=pt(LU);function Rt(t){return function(){return t}}const nI=Math.cos,ih=Math.sin,Gr=Math.sqrt,oh=Math.PI,mp=2*oh,Vx=Math.PI,zx=2*Vx,xo=1e-6,$U=zx-xo;function rI(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function BU(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return rI;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class qU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?rI:BU(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,s){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,u=this._y1,c=r-e,f=a-n,h=s-e,m=u-n,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>xo)if(!(Math.abs(m*c-f*h)>xo)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-s,S=a-u,A=c*c+f*f,T=_*_+S*S,C=Math.sqrt(A),O=Math.sqrt(y),E=i*Math.tan((Vx-Math.acos((A+y-T)/(2*C*O)))/2),N=E/O,k=E/C;Math.abs(N-1)>xo&&this._append`L${e+N*h},${n+N*m}`,this._append`A${i},${i},0,0,${+(m*_>h*S)},${this._x1=e+k*c},${this._y1=n+k*f}`}}arc(e,n,r,a,i,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),c=r*Math.sin(a),f=e+u,h=n+c,m=1^s,y=s?a-i:i-a;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>xo||Math.abs(this._y1-h)>xo)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%zx+zx),y>$U?this._append`A${r},${r},0,1,${m},${e-u},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:y>xo&&this._append`A${r},${r},0,${+(y>=Vx)},${m},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Lw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new qU(e)}function $w(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aI(t){this._context=t}aI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function gp(t){return new aI(t)}function iI(t){return t[0]}function oI(t){return t[1]}function sI(t,e){var n=Rt(!0),r=null,a=gp,i=null,s=Lw(u);t=typeof t=="function"?t:t===void 0?iI:Rt(t),e=typeof e=="function"?e:e===void 0?oI:Rt(e);function u(c){var f,h=(c=$w(c)).length,m,y=!1,_;for(r==null&&(i=a(_=s())),f=0;f<=h;++f)!(f<h&&n(m=c[f],f,c))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+t(m,f,c),+e(m,f,c));if(_)return i=null,_+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Rt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Rt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Rt(!!c),u):n},u.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),u):a},u.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),u):r},u}function Id(t,e,n){var r=null,a=Rt(!0),i=null,s=gp,u=null,c=Lw(f);t=typeof t=="function"?t:t===void 0?iI:Rt(+t),e=typeof e=="function"?e:Rt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?oI:Rt(+n);function f(m){var y,_,S,A=(m=$w(m)).length,T,C=!1,O,E=new Array(A),N=new Array(A);for(i==null&&(u=s(O=c())),y=0;y<=A;++y){if(!(y<A&&a(T=m[y],y,m))===C)if(C=!C)_=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=_;--S)u.point(E[S],N[S]);u.lineEnd(),u.areaEnd()}C&&(E[y]=+t(T,y,m),N[y]=+e(T,y,m),u.point(r?+r(T,y,m):E[y],n?+n(T,y,m):N[y]))}if(O)return u=null,O+""||null}function h(){return sI().defined(a).curve(s).context(i)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Rt(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Rt(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Rt(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:Rt(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Rt(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Rt(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Rt(!!m),f):a},f.curve=function(m){return arguments.length?(s=m,i!=null&&(u=s(i)),f):s},f.context=function(m){return arguments.length?(m==null?i=u=null:u=s(i=m),f):i},f}class lI{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function UU(t){return new lI(t,!0)}function FU(t){return new lI(t,!1)}const Bw={draw(t,e){const n=Gr(e/oh);t.moveTo(n,0),t.arc(0,0,n,0,mp)}},VU={draw(t,e){const n=Gr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},uI=Gr(1/3),zU=uI*2,GU={draw(t,e){const n=Gr(e/zU),r=n*uI;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},HU={draw(t,e){const n=Gr(e),r=-n/2;t.rect(r,r,n,n)}},KU=.8908130915292852,cI=ih(oh/10)/ih(7*oh/10),YU=ih(mp/10)*cI,WU=-nI(mp/10)*cI,XU={draw(t,e){const n=Gr(e*KU),r=YU*n,a=WU*n;t.moveTo(0,-n),t.lineTo(r,a);for(let i=1;i<5;++i){const s=mp*i/5,u=nI(s),c=ih(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*a,c*r+u*a)}t.closePath()}},Iy=Gr(3),ZU={draw(t,e){const n=-Gr(e/(Iy*3));t.moveTo(0,n*2),t.lineTo(-Iy*n,-n),t.lineTo(Iy*n,-n),t.closePath()}},_r=-.5,wr=Gr(3)/2,Gx=1/Gr(12),JU=(Gx/2+1)*3,QU={draw(t,e){const n=Gr(e/JU),r=n/2,a=n*Gx,i=r,s=n*Gx+n,u=-i,c=s;t.moveTo(r,a),t.lineTo(i,s),t.lineTo(u,c),t.lineTo(_r*r-wr*a,wr*r+_r*a),t.lineTo(_r*i-wr*s,wr*i+_r*s),t.lineTo(_r*u-wr*c,wr*u+_r*c),t.lineTo(_r*r+wr*a,_r*a-wr*r),t.lineTo(_r*i+wr*s,_r*s-wr*i),t.lineTo(_r*u+wr*c,_r*c-wr*u),t.closePath()}};function e8(t,e){let n=null,r=Lw(a);t=typeof t=="function"?t:Rt(t||Bw),e=typeof e=="function"?e:Rt(e===void 0?64:+e);function a(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Rt(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Rt(+i),a):e},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function sh(){}function lh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fI(t){this._context=t}fI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t8(t){return new fI(t)}function dI(t){this._context=t}dI.prototype={areaStart:sh,areaEnd:sh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function n8(t){return new dI(t)}function hI(t){this._context=t}hI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function r8(t){return new hI(t)}function pI(t){this._context=t}pI.prototype={areaStart:sh,areaEnd:sh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function a8(t){return new pI(t)}function mk(t){return t<0?-1:1}function gk(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),s=(n-t._y1)/(a||r<0&&-0),u=(i*a+s*r)/(r+a);return(mk(i)+mk(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(u))||0}function vk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function jy(t,e,n){var r=t._x0,a=t._y0,i=t._x1,s=t._y1,u=(i-r)/3;t._context.bezierCurveTo(r+u,a+u*e,i-u,s-u*n,i,s)}function uh(t){this._context=t}uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jy(this,this._t0,vk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,jy(this,vk(this,n=gk(this,t,e)),n);break;default:jy(this,this._t0,n=gk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function mI(t){this._context=new gI(t)}(mI.prototype=Object.create(uh.prototype)).point=function(t,e){uh.prototype.point.call(this,e,t)};function gI(t){this._context=t}gI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};function i8(t){return new uh(t)}function o8(t){return new mI(t)}function vI(t){this._context=t}vI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=yk(t),a=yk(e),i=0,s=1;s<n;++i,++s)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yk(t){var e,n=t.length-1,r,a=new Array(n),i=new Array(n),s=new Array(n);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,i[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/i[e-1],i[e]-=r,s[e]-=r*s[e-1];for(a[n-1]=s[n-1]/i[n-1],e=n-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function s8(t){return new vI(t)}function vp(t,e){this._context=t,this._t=e}vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function l8(t){return new vp(t,.5)}function u8(t){return new vp(t,0)}function c8(t){return new vp(t,1)}function nl(t,e){if((s=t.length)>1)for(var n=1,r,a,i=t[e[0]],s,u=i.length;n<s;++n)for(a=i,i=t[e[n]],r=0;r<u;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Hx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function f8(t,e){return t[e]}function d8(t){const e=[];return e.key=t,e}function h8(){var t=Rt([]),e=Hx,n=nl,r=f8;function a(i){var s=Array.from(t.apply(this,arguments),d8),u,c=s.length,f=-1,h;for(const m of i)for(u=0,++f;u<c;++u)(s[u][f]=[0,+r(m,s[u].key,f,i)]).data=m;for(u=0,h=$w(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Rt(Array.from(i)),a):t},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Rt(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?Hx:typeof i=="function"?i:Rt(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(n=i??nl,a):n},a}function p8(t,e){if((r=t.length)>0){for(var n,r,a=0,i=t[0].length,s;a<i;++a){for(s=n=0;n<r;++n)s+=t[n][a][1]||0;if(s)for(n=0;n<r;++n)t[n][a][1]/=s}nl(t,e)}}function m8(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,i=r.length;n<i;++n){for(var s=0,u=0;s<a;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}nl(t,e)}}function g8(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,i,s;r<i;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],m=h[r][1]||0,y=h[r-1][1]||0,_=(m-y)/2,S=0;S<u;++S){var A=t[e[S]],T=A[r][1]||0,C=A[r-1][1]||0;_+=T-C}c+=m,f+=_*m}a[r-1][1]+=a[r-1][0]=n,c&&(n-=f/c)}a[r-1][1]+=a[r-1][0]=n,nl(t,e)}}function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}var v8=["type","size","sizeType"];function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kx.apply(this,arguments)}function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){y8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y8(t,e,n){return e=b8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b8(t){var e=x8(t,"string");return yc(e)=="symbol"?e:e+""}function x8(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _8(t,e){if(t==null)return{};var n=w8(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yI={symbolCircle:Bw,symbolCross:VU,symbolDiamond:GU,symbolSquare:HU,symbolStar:XU,symbolTriangle:ZU,symbolWye:QU},S8=Math.PI/180,T8=function(e){var n="symbol".concat(pp(e));return yI[n]||Bw},A8=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*S8;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},E8=function(e,n){yI["symbol".concat(pp(e))]=n},qw=function(e){var n=e.type,r=n===void 0?"circle":n,a=e.size,i=a===void 0?64:a,s=e.sizeType,u=s===void 0?"area":s,c=_8(e,v8),f=xk(xk({},c),{},{type:r,size:i,sizeType:u}),h=function(){var T=T8(r),C=e8().type(T).size(A8(i,u,r));return C()},m=f.className,y=f.cx,_=f.cy,S=Ve(f,!0);return y===+y&&_===+_&&i===+i?X.createElement("path",Kx({},S,{className:rt("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(_,")"),d:h()})):null};qw.registerSymbol=E8;function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(this,arguments)}function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function C8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){bc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xI(r.key),r)}}function M8(t,e,n){return e&&O8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D8(t,e,n){return e=ch(e),N8(t,bI()?Reflect.construct(e,n||[],ch(t).constructor):e.apply(t,n))}function N8(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P8(t)}function P8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bI=function(){return!!t})()}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ch(t)}function R8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wx(t,e)}function Wx(t,e){return Wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Wx(t,e)}function bc(t,e,n){return e=xI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xI(t){var e=I8(t,"string");return rl(e)=="symbol"?e:e+""}function I8(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sr=32,Uw=function(t){function e(){return k8(this,e),D8(this,e,arguments)}return R8(e,t),M8(e,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=Sr/2,s=Sr/6,u=Sr/3,c=r.inactive?a:r.color;if(r.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:Sr,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(Sr,"M").concat(2*u,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return X.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Sr/8,"h").concat(Sr,"v").concat(Sr*3/4,"h").concat(-Sr,"z"),className:"recharts-legend-icon"});if(X.isValidElement(r.legendIcon)){var f=C8({},r);return delete f.legendIcon,X.cloneElement(r.legendIcon,f)}return X.createElement(qw,{fill:c,cx:i,cy:i,size:Sr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,s=a.iconSize,u=a.layout,c=a.formatter,f=a.inactiveColor,h={x:0,y:0,width:Sr,height:Sr},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(_,S){var A=_.formatter||c,T=rt(bc(bc({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",_.inactive));if(_.type==="none")return null;var C=Ge(_.value)?null:_.value;Vr(!Ge(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=_.inactive?f:_.color;return X.createElement("li",Yx({className:T,style:m,key:"legend-item-".concat(S)},Do(r.props,_,S)),X.createElement(Ux,{width:s,height:s,viewBox:h,style:y},r.renderIcon(_)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},A?A(C,_,S):C))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,s=r.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(q.PureComponent);bc(Uw,"displayName","Legend");bc(Uw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ly,wk;function j8(){if(wk)return Ly;wk=1;var t=fp();function e(){this.__data__=new t,this.size=0}return Ly=e,Ly}var $y,Sk;function L8(){if(Sk)return $y;Sk=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return $y=t,$y}var By,Tk;function $8(){if(Tk)return By;Tk=1;function t(e){return this.__data__.get(e)}return By=t,By}var qy,Ak;function B8(){if(Ak)return qy;Ak=1;function t(e){return this.__data__.has(e)}return qy=t,qy}var Uy,Ek;function q8(){if(Ek)return Uy;Ek=1;var t=fp(),e=Dw(),n=Nw(),r=200;function a(i,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<r-1)return c.push([i,s]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(i,s),this.size=u.size,this}return Uy=a,Uy}var Fy,Ck;function _I(){if(Ck)return Fy;Ck=1;var t=fp(),e=j8(),n=L8(),r=$8(),a=B8(),i=q8();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,Fy=s,Fy}var Vy,kk;function U8(){if(kk)return Vy;kk=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Vy=e,Vy}var zy,Ok;function F8(){if(Ok)return zy;Ok=1;function t(e){return this.__data__.has(e)}return zy=t,zy}var Gy,Mk;function wI(){if(Mk)return Gy;Mk=1;var t=Nw(),e=U8(),n=F8();function r(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Gy=r,Gy}var Hy,Dk;function SI(){if(Dk)return Hy;Dk=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(e[r],r,e))return!0;return!1}return Hy=t,Hy}var Ky,Nk;function TI(){if(Nk)return Ky;Nk=1;function t(e,n){return e.has(n)}return Ky=t,Ky}var Yy,Pk;function AI(){if(Pk)return Yy;Pk=1;var t=wI(),e=SI(),n=TI(),r=1,a=2;function i(s,u,c,f,h,m){var y=c&r,_=s.length,S=u.length;if(_!=S&&!(y&&S>_))return!1;var A=m.get(s),T=m.get(u);if(A&&T)return A==u&&T==s;var C=-1,O=!0,E=c&a?new t:void 0;for(m.set(s,u),m.set(u,s);++C<_;){var N=s[C],k=u[C];if(f)var M=y?f(k,N,C,u,s,m):f(N,k,C,s,u,m);if(M!==void 0){if(M)continue;O=!1;break}if(E){if(!e(u,function(P,I){if(!n(E,I)&&(N===P||h(N,P,c,f,m)))return E.push(I)})){O=!1;break}}else if(!(N===k||h(N,k,c,f,m))){O=!1;break}}return m.delete(s),m.delete(u),O}return Yy=i,Yy}var Wy,Rk;function V8(){if(Rk)return Wy;Rk=1;var t=da(),e=t.Uint8Array;return Wy=e,Wy}var Xy,Ik;function z8(){if(Ik)return Xy;Ik=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a,i){r[++n]=[i,a]}),r}return Xy=t,Xy}var Zy,jk;function Fw(){if(jk)return Zy;jk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a){r[++n]=a}),r}return Zy=t,Zy}var Jy,Lk;function G8(){if(Lk)return Jy;Lk=1;var t=rf(),e=V8(),n=Mw(),r=AI(),a=z8(),i=Fw(),s=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",_="[object RegExp]",S="[object Set]",A="[object String]",T="[object Symbol]",C="[object ArrayBuffer]",O="[object DataView]",E=t?t.prototype:void 0,N=E?E.valueOf:void 0;function k(M,P,I,B,V,L,W){switch(I){case O:if(M.byteLength!=P.byteLength||M.byteOffset!=P.byteOffset)return!1;M=M.buffer,P=P.buffer;case C:return!(M.byteLength!=P.byteLength||!L(new e(M),new e(P)));case c:case f:case y:return n(+M,+P);case h:return M.name==P.name&&M.message==P.message;case _:case A:return M==P+"";case m:var Q=a;case S:var Y=B&s;if(Q||(Q=i),M.size!=P.size&&!Y)return!1;var H=W.get(M);if(H)return H==P;B|=u,W.set(M,P);var j=r(Q(M),Q(P),B,V,L,W);return W.delete(M),j;case T:if(N)return N.call(M)==N.call(P)}return!1}return Jy=k,Jy}var Qy,$k;function EI(){if($k)return Qy;$k=1;function t(e,n){for(var r=-1,a=n.length,i=e.length;++r<a;)e[i+r]=n[r];return e}return Qy=t,Qy}var e0,Bk;function H8(){if(Bk)return e0;Bk=1;var t=EI(),e=Wn();function n(r,a,i){var s=a(r);return e(r)?s:t(s,i(r))}return e0=n,e0}var t0,qk;function K8(){if(qk)return t0;qk=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=0,s=[];++r<a;){var u=e[r];n(u,r,e)&&(s[i++]=u)}return s}return t0=t,t0}var n0,Uk;function Y8(){if(Uk)return n0;Uk=1;function t(){return[]}return n0=t,n0}var r0,Fk;function W8(){if(Fk)return r0;Fk=1;var t=K8(),e=Y8(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(u){return r.call(s,u)}))}:e;return r0=i,r0}var a0,Vk;function X8(){if(Vk)return a0;Vk=1;function t(e,n){for(var r=-1,a=Array(e);++r<e;)a[r]=n(r);return a}return a0=t,a0}var i0,zk;function Z8(){if(zk)return i0;zk=1;var t=Wa(),e=Xa(),n="[object Arguments]";function r(a){return e(a)&&t(a)==n}return i0=r,i0}var o0,Gk;function Vw(){if(Gk)return o0;Gk=1;var t=Z8(),e=Xa(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!a.call(s,"callee")};return o0=i,o0}var nc={exports:{}},s0,Hk;function J8(){if(Hk)return s0;Hk=1;function t(){return!1}return s0=t,s0}nc.exports;var Kk;function CI(){return Kk||(Kk=1,function(t,e){var n=da(),r=J8(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,u=s?n.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||r;t.exports=f}(nc,nc.exports)),nc.exports}var l0,Yk;function zw(){if(Yk)return l0;Yk=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<a}return l0=n,l0}var u0,Wk;function Gw(){if(Wk)return u0;Wk=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return u0=e,u0}var c0,Xk;function Q8(){if(Xk)return c0;Xk=1;var t=Wa(),e=Gw(),n=Xa(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",y="[object RegExp]",_="[object Set]",S="[object String]",A="[object WeakMap]",T="[object ArrayBuffer]",C="[object DataView]",O="[object Float32Array]",E="[object Float64Array]",N="[object Int8Array]",k="[object Int16Array]",M="[object Int32Array]",P="[object Uint8Array]",I="[object Uint8ClampedArray]",B="[object Uint16Array]",V="[object Uint32Array]",L={};L[O]=L[E]=L[N]=L[k]=L[M]=L[P]=L[I]=L[B]=L[V]=!0,L[r]=L[a]=L[T]=L[i]=L[C]=L[s]=L[u]=L[c]=L[f]=L[h]=L[m]=L[y]=L[_]=L[S]=L[A]=!1;function W(Q){return n(Q)&&e(Q.length)&&!!L[t(Q)]}return c0=W,c0}var f0,Zk;function kI(){if(Zk)return f0;Zk=1;function t(e){return function(n){return e(n)}}return f0=t,f0}var rc={exports:{}};rc.exports;var Jk;function e6(){return Jk||(Jk=1,function(t,e){var n=YR(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,s=i&&n.process,u=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=u}(rc,rc.exports)),rc.exports}var d0,Qk;function OI(){if(Qk)return d0;Qk=1;var t=Q8(),e=kI(),n=e6(),r=n&&n.isTypedArray,a=r?e(r):t;return d0=a,d0}var h0,eO;function t6(){if(eO)return h0;eO=1;var t=X8(),e=Vw(),n=Wn(),r=CI(),a=zw(),i=OI(),s=Object.prototype,u=s.hasOwnProperty;function c(f,h){var m=n(f),y=!m&&e(f),_=!m&&!y&&r(f),S=!m&&!y&&!_&&i(f),A=m||y||_||S,T=A?t(f.length,String):[],C=T.length;for(var O in f)(h||u.call(f,O))&&!(A&&(O=="length"||_&&(O=="offset"||O=="parent")||S&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||a(O,C)))&&T.push(O);return T}return h0=c,h0}var p0,tO;function n6(){if(tO)return p0;tO=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return p0=e,p0}var m0,nO;function MI(){if(nO)return m0;nO=1;function t(e,n){return function(r){return e(n(r))}}return m0=t,m0}var g0,rO;function r6(){if(rO)return g0;rO=1;var t=MI(),e=t(Object.keys,Object);return g0=e,g0}var v0,aO;function a6(){if(aO)return v0;aO=1;var t=n6(),e=r6(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var u in Object(i))r.call(i,u)&&u!="constructor"&&s.push(u);return s}return v0=a,v0}var y0,iO;function sf(){if(iO)return y0;iO=1;var t=Ow(),e=Gw();function n(r){return r!=null&&e(r.length)&&!t(r)}return y0=n,y0}var b0,oO;function yp(){if(oO)return b0;oO=1;var t=t6(),e=a6(),n=sf();function r(a){return n(a)?t(a):e(a)}return b0=r,b0}var x0,sO;function i6(){if(sO)return x0;sO=1;var t=H8(),e=W8(),n=yp();function r(a){return t(a,n,e)}return x0=r,x0}var _0,lO;function o6(){if(lO)return _0;lO=1;var t=i6(),e=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,s,u,c,f,h){var m=u&e,y=t(i),_=y.length,S=t(s),A=S.length;if(_!=A&&!m)return!1;for(var T=_;T--;){var C=y[T];if(!(m?C in s:r.call(s,C)))return!1}var O=h.get(i),E=h.get(s);if(O&&E)return O==s&&E==i;var N=!0;h.set(i,s),h.set(s,i);for(var k=m;++T<_;){C=y[T];var M=i[C],P=s[C];if(c)var I=m?c(P,M,C,s,i,h):c(M,P,C,i,s,h);if(!(I===void 0?M===P||f(M,P,u,c,h):I)){N=!1;break}k||(k=C=="constructor")}if(N&&!k){var B=i.constructor,V=s.constructor;B!=V&&"constructor"in i&&"constructor"in s&&!(typeof B=="function"&&B instanceof B&&typeof V=="function"&&V instanceof V)&&(N=!1)}return h.delete(i),h.delete(s),N}return _0=a,_0}var w0,uO;function s6(){if(uO)return w0;uO=1;var t=Uo(),e=da(),n=t(e,"DataView");return w0=n,w0}var S0,cO;function l6(){if(cO)return S0;cO=1;var t=Uo(),e=da(),n=t(e,"Promise");return S0=n,S0}var T0,fO;function DI(){if(fO)return T0;fO=1;var t=Uo(),e=da(),n=t(e,"Set");return T0=n,T0}var A0,dO;function u6(){if(dO)return A0;dO=1;var t=Uo(),e=da(),n=t(e,"WeakMap");return A0=n,A0}var E0,hO;function c6(){if(hO)return E0;hO=1;var t=s6(),e=Dw(),n=l6(),r=DI(),a=u6(),i=Wa(),s=WR(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",y="[object DataView]",_=s(t),S=s(e),A=s(n),T=s(r),C=s(a),O=i;return(t&&O(new t(new ArrayBuffer(1)))!=y||e&&O(new e)!=u||n&&O(n.resolve())!=f||r&&O(new r)!=h||a&&O(new a)!=m)&&(O=function(E){var N=i(E),k=N==c?E.constructor:void 0,M=k?s(k):"";if(M)switch(M){case _:return y;case S:return u;case A:return f;case T:return h;case C:return m}return N}),E0=O,E0}var C0,pO;function f6(){if(pO)return C0;pO=1;var t=_I(),e=AI(),n=G8(),r=o6(),a=c6(),i=Wn(),s=CI(),u=OI(),c=1,f="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,_=y.hasOwnProperty;function S(A,T,C,O,E,N){var k=i(A),M=i(T),P=k?h:a(A),I=M?h:a(T);P=P==f?m:P,I=I==f?m:I;var B=P==m,V=I==m,L=P==I;if(L&&s(A)){if(!s(T))return!1;k=!0,B=!1}if(L&&!B)return N||(N=new t),k||u(A)?e(A,T,C,O,E,N):n(A,T,P,C,O,E,N);if(!(C&c)){var W=B&&_.call(A,"__wrapped__"),Q=V&&_.call(T,"__wrapped__");if(W||Q){var Y=W?A.value():A,H=Q?T.value():T;return N||(N=new t),E(Y,H,C,O,N)}}return L?(N||(N=new t),r(A,T,C,O,E,N)):!1}return C0=S,C0}var k0,mO;function Hw(){if(mO)return k0;mO=1;var t=f6(),e=Xa();function n(r,a,i,s,u){return r===a?!0:r==null||a==null||!e(r)&&!e(a)?r!==r&&a!==a:t(r,a,i,s,n,u)}return k0=n,k0}var O0,gO;function d6(){if(gO)return O0;gO=1;var t=_I(),e=Hw(),n=1,r=2;function a(i,s,u,c){var f=u.length,h=f,m=!c;if(i==null)return!h;for(i=Object(i);f--;){var y=u[f];if(m&&y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++f<h;){y=u[f];var _=y[0],S=i[_],A=y[1];if(m&&y[2]){if(S===void 0&&!(_ in i))return!1}else{var T=new t;if(c)var C=c(S,A,_,i,s,T);if(!(C===void 0?e(A,S,n|r,c,T):C))return!1}}return!0}return O0=a,O0}var M0,vO;function NI(){if(vO)return M0;vO=1;var t=qi();function e(n){return n===n&&!t(n)}return M0=e,M0}var D0,yO;function h6(){if(yO)return D0;yO=1;var t=NI(),e=yp();function n(r){for(var a=e(r),i=a.length;i--;){var s=a[i],u=r[s];a[i]=[s,u,t(u)]}return a}return D0=n,D0}var N0,bO;function PI(){if(bO)return N0;bO=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return N0=t,N0}var P0,xO;function p6(){if(xO)return P0;xO=1;var t=d6(),e=h6(),n=PI();function r(a){var i=e(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return P0=r,P0}var R0,_O;function m6(){if(_O)return R0;_O=1;function t(e,n){return e!=null&&n in Object(e)}return R0=t,R0}var I0,wO;function g6(){if(wO)return I0;wO=1;var t=JR(),e=Vw(),n=Wn(),r=zw(),a=Gw(),i=hp();function s(u,c,f){c=t(c,u);for(var h=-1,m=c.length,y=!1;++h<m;){var _=i(c[h]);if(!(y=u!=null&&f(u,_)))break;u=u[_]}return y||++h!=m?y:(m=u==null?0:u.length,!!m&&a(m)&&r(_,m)&&(n(u)||e(u)))}return I0=s,I0}var j0,SO;function v6(){if(SO)return j0;SO=1;var t=m6(),e=g6();function n(r,a){return r!=null&&e(r,a,t)}return j0=n,j0}var L0,TO;function y6(){if(TO)return L0;TO=1;var t=Hw(),e=QR(),n=v6(),r=kw(),a=NI(),i=PI(),s=hp(),u=1,c=2;function f(h,m){return r(h)&&a(m)?i(s(h),m):function(y){var _=e(y,h);return _===void 0&&_===m?n(y,h):t(m,_,u|c)}}return L0=f,L0}var $0,AO;function Il(){if(AO)return $0;AO=1;function t(e){return e}return $0=t,$0}var B0,EO;function b6(){if(EO)return B0;EO=1;function t(e){return function(n){return n==null?void 0:n[e]}}return B0=t,B0}var q0,CO;function x6(){if(CO)return q0;CO=1;var t=Rw();function e(n){return function(r){return t(r,n)}}return q0=e,q0}var U0,kO;function _6(){if(kO)return U0;kO=1;var t=b6(),e=x6(),n=kw(),r=hp();function a(i){return n(i)?t(r(i)):e(i)}return U0=a,U0}var F0,OO;function ha(){if(OO)return F0;OO=1;var t=p6(),e=y6(),n=Il(),r=Wn(),a=_6();function i(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):a(s)}return F0=i,F0}var V0,MO;function RI(){if(MO)return V0;MO=1;function t(e,n,r,a){for(var i=e.length,s=r+(a?1:-1);a?s--:++s<i;)if(n(e[s],s,e))return s;return-1}return V0=t,V0}var z0,DO;function w6(){if(DO)return z0;DO=1;function t(e){return e!==e}return z0=t,z0}var G0,NO;function S6(){if(NO)return G0;NO=1;function t(e,n,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}return G0=t,G0}var H0,PO;function T6(){if(PO)return H0;PO=1;var t=RI(),e=w6(),n=S6();function r(a,i,s){return i===i?n(a,i,s):t(a,e,s)}return H0=r,H0}var K0,RO;function A6(){if(RO)return K0;RO=1;var t=T6();function e(n,r){var a=n==null?0:n.length;return!!a&&t(n,r,0)>-1}return K0=e,K0}var Y0,IO;function E6(){if(IO)return Y0;IO=1;function t(e,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(n,e[a]))return!0;return!1}return Y0=t,Y0}var W0,jO;function C6(){if(jO)return W0;jO=1;function t(){}return W0=t,W0}var X0,LO;function k6(){if(LO)return X0;LO=1;var t=DI(),e=C6(),n=Fw(),r=1/0,a=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return X0=a,X0}var Z0,$O;function O6(){if($O)return Z0;$O=1;var t=wI(),e=A6(),n=E6(),r=TI(),a=k6(),i=Fw(),s=200;function u(c,f,h){var m=-1,y=e,_=c.length,S=!0,A=[],T=A;if(h)S=!1,y=n;else if(_>=s){var C=f?null:a(c);if(C)return i(C);S=!1,y=r,T=new t}else T=f?[]:A;e:for(;++m<_;){var O=c[m],E=f?f(O):O;if(O=h||O!==0?O:0,S&&E===E){for(var N=T.length;N--;)if(T[N]===E)continue e;f&&T.push(E),A.push(O)}else y(T,E,h)||(T!==A&&T.push(E),A.push(O))}return A}return Z0=u,Z0}var J0,BO;function M6(){if(BO)return J0;BO=1;var t=ha(),e=O6();function n(r,a){return r&&r.length?e(r,t(a,2)):[]}return J0=n,J0}var D6=M6();const qO=pt(D6);function II(t,e,n){return e===!0?qO(t,n):Ge(e)?qO(t,e):t}function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}var N6=["ref"];function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){bp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LI(r.key),r)}}function R6(t,e,n){return e&&FO(t.prototype,e),n&&FO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I6(t,e,n){return e=fh(e),j6(t,jI()?Reflect.construct(e,n||[],fh(t).constructor):e.apply(t,n))}function j6(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L6(t)}function L6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jI=function(){return!!t})()}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fh(t)}function $6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xx(t,e)}function Xx(t,e){return Xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Xx(t,e)}function bp(t,e,n){return e=LI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LI(t){var e=B6(t,"string");return al(e)=="symbol"?e:e+""}function B6(t,e){if(al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function q6(t,e){if(t==null)return{};var n=U6(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function U6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function F6(t){return t.value}function V6(t,e){if(X.isValidElement(t))return X.cloneElement(t,e);if(typeof t=="function")return X.createElement(t,e);e.ref;var n=q6(e,N6);return X.createElement(Uw,n)}var VO=1,Ri=function(t){function e(){var n;P6(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=I6(this,e,[].concat(a)),bp(n,"lastBoundingBox",{width:-1,height:-1}),n}return $6(e,t),R6(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>VO||Math.abs(a.height-this.lastBoundingBox.height)>VO)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ia({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,s=a.align,u=a.verticalAlign,c=a.margin,f=a.chartWidth,h=a.chartHeight,m,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&i==="vertical"){var _=this.getBBoxSnapshot();m={left:((f||0)-_.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();y={top:((h||0)-S.height)/2}}else y=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ia(Ia({},m),y)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,s=a.width,u=a.height,c=a.wrapperStyle,f=a.payloadUniqBy,h=a.payload,m=Ia(Ia({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return X.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(_){r.wrapperNode=_}},V6(i,Ia(Ia({},this.props),{},{payload:II(h,f,F6)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Ia(Ia({},this.defaultProps),r.props),s=i.layout;return s==="vertical"&&xe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||a}:null}}])}(q.PureComponent);bp(Ri,"displayName","Legend");bp(Ri,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Q0,zO;function z6(){if(zO)return Q0;zO=1;var t=rf(),e=Vw(),n=Wn(),r=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||e(i)||!!(r&&i&&i[r])}return Q0=a,Q0}var eb,GO;function $I(){if(GO)return eb;GO=1;var t=EI(),e=z6();function n(r,a,i,s,u){var c=-1,f=r.length;for(i||(i=e),u||(u=[]);++c<f;){var h=r[c];a>0&&i(h)?a>1?n(h,a-1,i,s,u):t(u,h):s||(u[u.length]=h)}return u}return eb=n,eb}var tb,HO;function G6(){if(HO)return tb;HO=1;function t(e){return function(n,r,a){for(var i=-1,s=Object(n),u=a(n),c=u.length;c--;){var f=u[e?c:++i];if(r(s[f],f,s)===!1)break}return n}}return tb=t,tb}var nb,KO;function H6(){if(KO)return nb;KO=1;var t=G6(),e=t();return nb=e,nb}var rb,YO;function BI(){if(YO)return rb;YO=1;var t=H6(),e=yp();function n(r,a){return r&&t(r,a,e)}return rb=n,rb}var ab,WO;function K6(){if(WO)return ab;WO=1;var t=sf();function e(n,r){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var s=a.length,u=r?s:-1,c=Object(a);(r?u--:++u<s)&&i(c[u],u,c)!==!1;);return a}}return ab=e,ab}var ib,XO;function Kw(){if(XO)return ib;XO=1;var t=BI(),e=K6(),n=e(t);return ib=n,ib}var ob,ZO;function qI(){if(ZO)return ob;ZO=1;var t=Kw(),e=sf();function n(r,a){var i=-1,s=e(r)?Array(r.length):[];return t(r,function(u,c,f){s[++i]=a(u,c,f)}),s}return ob=n,ob}var sb,JO;function Y6(){if(JO)return sb;JO=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return sb=t,sb}var lb,QO;function W6(){if(QO)return lb;QO=1;var t=Pl();function e(n,r){if(n!==r){var a=n!==void 0,i=n===null,s=n===n,u=t(n),c=r!==void 0,f=r===null,h=r===r,m=t(r);if(!f&&!m&&!u&&n>r||u&&c&&h&&!f&&!m||i&&c&&h||!a&&h||!s)return 1;if(!i&&!u&&!m&&n<r||m&&a&&s&&!i&&!u||f&&a&&s||!c&&s||!h)return-1}return 0}return lb=e,lb}var ub,eM;function X6(){if(eM)return ub;eM=1;var t=W6();function e(n,r,a){for(var i=-1,s=n.criteria,u=r.criteria,c=s.length,f=a.length;++i<c;){var h=t(s[i],u[i]);if(h){if(i>=f)return h;var m=a[i];return h*(m=="desc"?-1:1)}}return n.index-r.index}return ub=e,ub}var cb,tM;function Z6(){if(tM)return cb;tM=1;var t=Pw(),e=Rw(),n=ha(),r=qI(),a=Y6(),i=kI(),s=X6(),u=Il(),c=Wn();function f(h,m,y){m.length?m=t(m,function(A){return c(A)?function(T){return e(T,A.length===1?A[0]:A)}:A}):m=[u];var _=-1;m=t(m,i(n));var S=r(h,function(A,T,C){var O=t(m,function(E){return E(A)});return{criteria:O,index:++_,value:A}});return a(S,function(A,T){return s(A,T,y)})}return cb=f,cb}var fb,nM;function J6(){if(nM)return fb;nM=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return fb=t,fb}var db,rM;function Q6(){if(rM)return db;rM=1;var t=J6(),e=Math.max;function n(r,a,i){return a=e(a===void 0?r.length-1:a,0),function(){for(var s=arguments,u=-1,c=e(s.length-a,0),f=Array(c);++u<c;)f[u]=s[a+u];u=-1;for(var h=Array(a+1);++u<a;)h[u]=s[u];return h[a]=i(f),t(r,this,h)}}return db=n,db}var hb,aM;function eF(){if(aM)return hb;aM=1;function t(e){return function(){return e}}return hb=t,hb}var pb,iM;function UI(){if(iM)return pb;iM=1;var t=Uo(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return pb=e,pb}var mb,oM;function tF(){if(oM)return mb;oM=1;var t=eF(),e=UI(),n=Il(),r=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return mb=r,mb}var gb,sM;function nF(){if(sM)return gb;sM=1;var t=800,e=16,n=Date.now;function r(a){var i=0,s=0;return function(){var u=n(),c=e-(u-s);if(s=u,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return gb=r,gb}var vb,lM;function rF(){if(lM)return vb;lM=1;var t=tF(),e=nF(),n=e(t);return vb=n,vb}var yb,uM;function aF(){if(uM)return yb;uM=1;var t=Il(),e=Q6(),n=rF();function r(a,i){return n(e(a,i,t),a+"")}return yb=r,yb}var bb,cM;function xp(){if(cM)return bb;cM=1;var t=Mw(),e=sf(),n=zw(),r=qi();function a(i,s,u){if(!r(u))return!1;var c=typeof s;return(c=="number"?e(u)&&n(s,u.length):c=="string"&&s in u)?t(u[s],i):!1}return bb=a,bb}var xb,fM;function iF(){if(fM)return xb;fM=1;var t=$I(),e=Z6(),n=aF(),r=xp(),a=n(function(i,s){if(i==null)return[];var u=s.length;return u>1&&r(i,s[0],s[1])?s=[]:u>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return xb=a,xb}var oF=iF();const Yw=pt(oF);function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zx.apply(this,arguments)}function sF(t,e){return fF(t)||cF(t,e)||uF(t,e)||lF()}function lF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uF(t,e){if(t){if(typeof t=="string")return dM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dM(t,e)}}function dM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cF(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw a}}return u}}function fF(t){if(Array.isArray(t))return t}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){dF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dF(t,e,n){return e=hF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hF(t){var e=pF(t,"string");return xc(e)=="symbol"?e:e+""}function pF(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mF(t){return Array.isArray(t)&&sn(t[0])&&sn(t[1])?t.join(" ~ "):t}var gF=function(e){var n=e.separator,r=n===void 0?" : ":n,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,m=e.formatter,y=e.itemSorter,_=e.wrapperClassName,S=e.labelClassName,A=e.label,T=e.labelFormatter,C=e.accessibilityLayer,O=C===void 0?!1:C,E=function(){if(h&&h.length){var W={padding:0,margin:0},Q=(y?Yw(h,y):h).map(function(Y,H){if(Y.type==="none")return null;var j=_b({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},u),F=Y.formatter||m||mF,Z=Y.value,ae=Y.name,$=Z,G=ae;if(F&&$!=null&&G!=null){var ne=F(Z,ae,Y,H,h);if(Array.isArray(ne)){var ce=sF(ne,2);$=ce[0],G=ce[1]}else $=ne}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:j},sn(G)?X.createElement("span",{className:"recharts-tooltip-item-name"},G):null,sn(G)?X.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,X.createElement("span",{className:"recharts-tooltip-item-value"},$),X.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:W},Q)}return null},N=_b({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),k=_b({margin:0},f),M=!st(A),P=M?A:"",I=rt("recharts-default-tooltip",_),B=rt("recharts-tooltip-label",S);M&&T&&h!==void 0&&h!==null&&(P=T(A,h));var V=O?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",Zx({className:I,style:N},V),X.createElement("p",{className:B,style:k},X.isValidElement(P)?P:"".concat(P)),E())};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function jd(t,e,n){return e=vF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vF(t){var e=yF(t,"string");return _c(e)=="symbol"?e:e+""}function yF(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gu="recharts-tooltip-wrapper",bF={visibility:"hidden"};function xF(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return rt(Gu,jd(jd(jd(jd({},"".concat(Gu,"-right"),xe(n)&&e&&xe(e.x)&&n>=e.x),"".concat(Gu,"-left"),xe(n)&&e&&xe(e.x)&&n<e.x),"".concat(Gu,"-bottom"),xe(r)&&e&&xe(e.y)&&r>=e.y),"".concat(Gu,"-top"),xe(r)&&e&&xe(e.y)&&r<e.y))}function pM(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(i&&xe(i[r]))return i[r];var h=n[r]-u-a,m=n[r]+a;if(e[r])return s[r]?h:m;if(s[r]){var y=h,_=c[r];return y<_?Math.max(m,c[r]):Math.max(h,c[r])}var S=m+u,A=c[r]+f;return S>A?Math.max(h,c[r]):Math.max(m,c[r])}function _F(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wF(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,m;return s.height>0&&s.width>0&&n?(h=pM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=pM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=_F({translateX:h,translateY:m,useTranslate3d:u})):f=bF,{cssProperties:f,cssClasses:xF({translateX:h,translateY:m,coordinate:n})}}function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){Qx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VI(r.key),r)}}function AF(t,e,n){return e&&TF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EF(t,e,n){return e=dh(e),CF(t,FI()?Reflect.construct(e,n||[],dh(t).constructor):e.apply(t,n))}function CF(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kF(t)}function kF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FI=function(){return!!t})()}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dh(t)}function OF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jx(t,e)}function Jx(t,e){return Jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Jx(t,e)}function Qx(t,e,n){return e=VI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VI(t){var e=MF(t,"string");return il(e)=="symbol"?e:e+""}function MF(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vM=1,DF=function(t){function e(){var n;SF(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=EF(this,e,[].concat(a)),Qx(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Qx(n,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return OF(e,t),AF(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>vM||Math.abs(r.height-this.state.lastBoundingBox.height)>vM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,u=a.animationDuration,c=a.animationEasing,f=a.children,h=a.coordinate,m=a.hasPayload,y=a.isAnimationActive,_=a.offset,S=a.position,A=a.reverseDirection,T=a.useTranslate3d,C=a.viewBox,O=a.wrapperStyle,E=wF({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:_,position:S,reverseDirection:A,tooltipBox:this.state.lastBoundingBox,useTranslate3d:T,viewBox:C}),N=E.cssClasses,k=E.cssProperties,M=gM(gM({transition:y&&i?"transform ".concat(u,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},O);return X.createElement("div",{tabIndex:-1,className:N,style:M,ref:function(I){r.wrapperNode=I}},f)}}])}(q.PureComponent),NF=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},jl={isSsr:NF()};function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){Ww(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GI(r.key),r)}}function IF(t,e,n){return e&&RF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jF(t,e,n){return e=hh(e),LF(t,zI()?Reflect.construct(e,n||[],hh(t).constructor):e.apply(t,n))}function LF(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $F(t)}function $F(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zI=function(){return!!t})()}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hh(t)}function BF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e_(t,e)}function e_(t,e){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},e_(t,e)}function Ww(t,e,n){return e=GI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GI(t){var e=qF(t,"string");return ol(e)=="symbol"?e:e+""}function qF(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UF(t){return t.dataKey}function FF(t,e){return X.isValidElement(t)?X.cloneElement(t,e):typeof t=="function"?X.createElement(t,e):X.createElement(gF,e)}var qr=function(t){function e(){return PF(this,e),jF(this,e,arguments)}return BF(e,t),IF(e,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,u=a.animationDuration,c=a.animationEasing,f=a.content,h=a.coordinate,m=a.filterNull,y=a.isAnimationActive,_=a.offset,S=a.payload,A=a.payloadUniqBy,T=a.position,C=a.reverseDirection,O=a.useTranslate3d,E=a.viewBox,N=a.wrapperStyle,k=S??[];m&&k.length&&(k=II(S.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),A,UF));var M=k.length>0;return X.createElement(DF,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:y,active:i,coordinate:h,hasPayload:M,offset:_,position:T,reverseDirection:C,useTranslate3d:O,viewBox:E,wrapperStyle:N},FF(f,bM(bM({},this.props),{},{payload:k})))}}])}(q.PureComponent);Ww(qr,"displayName","Tooltip");Ww(qr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!jl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wb,xM;function VF(){if(xM)return wb;xM=1;var t=da(),e=function(){return t.Date.now()};return wb=e,wb}var Sb,_M;function zF(){if(_M)return Sb;_M=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Sb=e,Sb}var Tb,wM;function GF(){if(wM)return Tb;wM=1;var t=zF(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Tb=n,Tb}var Ab,SM;function HI(){if(SM)return Ab;SM=1;var t=GF(),e=qi(),n=Pl(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=i.test(f);return m||s.test(f)?u(f.slice(2),m?2:8):a.test(f)?r:+f}return Ab=c,Ab}var Eb,TM;function HF(){if(TM)return Eb;TM=1;var t=qi(),e=VF(),n=HI(),r="Expected a function",a=Math.max,i=Math.min;function s(u,c,f){var h,m,y,_,S,A,T=0,C=!1,O=!1,E=!0;if(typeof u!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(C=!!f.leading,O="maxWait"in f,y=O?a(n(f.maxWait)||0,c):y,E="trailing"in f?!!f.trailing:E);function N(Q){var Y=h,H=m;return h=m=void 0,T=Q,_=u.apply(H,Y),_}function k(Q){return T=Q,S=setTimeout(I,c),C?N(Q):_}function M(Q){var Y=Q-A,H=Q-T,j=c-Y;return O?i(j,y-H):j}function P(Q){var Y=Q-A,H=Q-T;return A===void 0||Y>=c||Y<0||O&&H>=y}function I(){var Q=e();if(P(Q))return B(Q);S=setTimeout(I,M(Q))}function B(Q){return S=void 0,E&&h?N(Q):(h=m=void 0,_)}function V(){S!==void 0&&clearTimeout(S),T=0,h=A=m=S=void 0}function L(){return S===void 0?_:B(e())}function W(){var Q=e(),Y=P(Q);if(h=arguments,m=this,A=Q,Y){if(S===void 0)return k(A);if(O)return clearTimeout(S),S=setTimeout(I,c),N(A)}return S===void 0&&(S=setTimeout(I,c)),_}return W.cancel=V,W.flush=L,W}return Eb=s,Eb}var Cb,AM;function KF(){if(AM)return Cb;AM=1;var t=HF(),e=qi(),n="Expected a function";function r(a,i,s){var u=!0,c=!0;if(typeof a!="function")throw new TypeError(n);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(a,i,{leading:u,maxWait:i,trailing:c})}return Cb=r,Cb}var YF=KF();const KI=pt(YF);function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){WF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WF(t,e,n){return e=XF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XF(t){var e=ZF(t,"string");return wc(e)=="symbol"?e:e+""}function ZF(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JF(t,e){return n9(t)||t9(t,e)||e9(t,e)||QF()}function QF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9(t,e){if(t){if(typeof t=="string")return CM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CM(t,e)}}function CM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw a}}return u}}function n9(t){if(Array.isArray(t))return t}var YI=q.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=t.width,s=i===void 0?"100%":i,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,y=t.maxHeight,_=t.children,S=t.debounce,A=S===void 0?0:S,T=t.id,C=t.className,O=t.onResize,E=t.style,N=E===void 0?{}:E,k=q.useRef(null),M=q.useRef();M.current=O,q.useImperativeHandle(e,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var P=q.useState({containerWidth:a.width,containerHeight:a.height}),I=JF(P,2),B=I[0],V=I[1],L=q.useCallback(function(Q,Y){V(function(H){var j=Math.round(Q),F=Math.round(Y);return H.containerWidth===j&&H.containerHeight===F?H:{containerWidth:j,containerHeight:F}})},[]);q.useEffect(function(){var Q=function(ae){var $,G=ae[0].contentRect,ne=G.width,ce=G.height;L(ne,ce),($=M.current)===null||$===void 0||$.call(M,ne,ce)};A>0&&(Q=KI(Q,A,{trailing:!0,leading:!1}));var Y=new ResizeObserver(Q),H=k.current.getBoundingClientRect(),j=H.width,F=H.height;return L(j,F),Y.observe(k.current),function(){Y.disconnect()}},[L,A]);var W=q.useMemo(function(){var Q=B.containerWidth,Y=B.containerHeight;if(Q<0||Y<0)return null;Vr(To(s)||To(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Vr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var H=To(s)?Q:s,j=To(c)?Y:c;n&&n>0&&(H?j=H/n:j&&(H=j*n),y&&j>y&&(j=y)),Vr(H>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,j,s,c,h,m,n);var F=!Array.isArray(_)&&Fa(_.type).endsWith("Chart");return X.Children.map(_,function(Z){return X.isValidElement(Z)?q.cloneElement(Z,Ld({width:H,height:j},F?{style:Ld({height:"100%",width:"100%",maxHeight:j,maxWidth:H},Z.props.style)}:{})):Z})},[n,_,c,y,m,h,B,s]);return X.createElement("div",{id:T?"".concat(T):void 0,className:rt("recharts-responsive-container",C),style:Ld(Ld({},N),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:y}),ref:k},W)}),_p=function(e){return null};_p.displayName="Cell";function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function t_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){r9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r9(t,e,n){return e=a9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a9(t){var e=i9(t,"string");return Sc(e)=="symbol"?e:e+""}function i9(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ls={widthCache:{},cacheCount:0},o9=2e3,s9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OM="recharts_measurement_span";function l9(t){var e=t_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var cc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jl.isSsr)return{width:0,height:0};var r=l9(n),a=JSON.stringify({text:e,copyStyle:r});if(Ls.widthCache[a])return Ls.widthCache[a];try{var i=document.getElementById(OM);i||(i=document.createElement("span"),i.setAttribute("id",OM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=t_(t_({},s9),r);Object.assign(i.style,s),i.textContent="".concat(e);var u=i.getBoundingClientRect(),c={width:u.width,height:u.height};return Ls.widthCache[a]=c,++Ls.cacheCount>o9&&(Ls.cacheCount=0,Ls.widthCache={}),c}catch{return{width:0,height:0}}},u9=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function ph(t,e){return h9(t)||d9(t,e)||f9(t,e)||c9()}function c9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f9(t,e){if(t){if(typeof t=="string")return MM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MM(t,e)}}function MM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw a}}return u}}function h9(t){if(Array.isArray(t))return t}function p9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g9(r.key),r)}}function m9(t,e,n){return e&&DM(t.prototype,e),n&&DM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function g9(t){var e=v9(t,"string");return Tc(e)=="symbol"?e:e+""}function v9(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,y9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,b9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},x9=Object.keys(WI),Vs="NaN";function _9(t,e){return t*WI[e]}var $d=function(){function t(e,n){p9(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!y9.test(n)&&(this.num=NaN,this.unit=""),x9.includes(n)&&(this.num=_9(e,n),this.unit="px")}return m9(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=b9.exec(n))!==null&&r!==void 0?r:[],i=ph(a,3),s=i[1],u=i[2];return new t(parseFloat(s),u??"")}}])}();function XI(t){if(t.includes(Vs))return Vs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=NM.exec(e))!==null&&n!==void 0?n:[],a=ph(r,4),i=a[1],s=a[2],u=a[3],c=$d.parse(i??""),f=$d.parse(u??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return Vs;e=e.replace(NM,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=PM.exec(e))!==null&&m!==void 0?m:[],_=ph(y,4),S=_[1],A=_[2],T=_[3],C=$d.parse(S??""),O=$d.parse(T??""),E=A==="+"?C.add(O):C.subtract(O);if(E.isNaN())return Vs;e=e.replace(PM,E.toString())}return e}var RM=/\(([^()]*)\)/;function w9(t){for(var e=t;e.includes("(");){var n=RM.exec(e),r=ph(n,2),a=r[1];e=e.replace(RM,XI(a))}return e}function S9(t){var e=t.replace(/\s+/g,"");return e=w9(e),e=XI(e),e}function T9(t){try{return S9(t)}catch{return Vs}}function kb(t){var e=T9(t.slice(5,-1));return e===Vs?"":e}var A9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],E9=["dx","dy","angle","className","breakAll"];function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n_.apply(this,arguments)}function IM(t,e){if(t==null)return{};var n=C9(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jM(t,e){return D9(t)||M9(t,e)||O9(t,e)||k9()}function k9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O9(t,e){if(t){if(typeof t=="string")return LM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LM(t,e)}}function LM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw a}}return u}}function D9(t){if(Array.isArray(t))return t}var ZI=/[ \f\n\r\t\v\u2028\u2029]+/,JI=function(e){var n=e.children,r=e.breakAll,a=e.style;try{var i=[];st(n)||(r?i=n.toString().split(""):i=n.toString().split(ZI));var s=i.map(function(c){return{word:c,width:cc(c,a).width}}),u=r?0:cc(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},N9=function(e,n,r,a,i){var s=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=xe(s),m=u,y=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(j,F){var Z=F.word,ae=F.width,$=j[j.length-1];if($&&(a==null||i||$.width+ae+r<Number(a)))$.words.push(Z),$.width+=ae+r;else{var G={words:[Z],width:ae};j.push(G)}return j},[])},_=y(n),S=function(H){return H.reduce(function(j,F){return j.width>F.width?j:F})};if(!h)return _;for(var A="…",T=function(H){var j=m.slice(0,H),F=JI({breakAll:f,style:c,children:j+A}).wordsWithComputedWidth,Z=y(F),ae=Z.length>s||S(Z).width>Number(a);return[ae,Z]},C=0,O=m.length-1,E=0,N;C<=O&&E<=m.length-1;){var k=Math.floor((C+O)/2),M=k-1,P=T(M),I=jM(P,2),B=I[0],V=I[1],L=T(k),W=jM(L,1),Q=W[0];if(!B&&!Q&&(C=k+1),B&&Q&&(O=k-1),!B&&Q){N=V;break}E++}return N||_},$M=function(e){var n=st(e)?[]:e.toString().split(ZI);return[{words:n}]},P9=function(e){var n=e.width,r=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,u=e.maxLines;if((n||r)&&!jl.isSsr){var c,f,h=JI({breakAll:s,children:a,style:i});if(h){var m=h.wordsWithComputedWidth,y=h.spaceWidth;c=m,f=y}else return $M(a);return N9({breakAll:s,children:a,maxLines:u,style:i},c,f,n,r)}return $M(a)},BM="#808080",No=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,y=e.textAnchor,_=y===void 0?"start":y,S=e.verticalAnchor,A=S===void 0?"end":S,T=e.fill,C=T===void 0?BM:T,O=IM(e,A9),E=q.useMemo(function(){return P9({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:m,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,m,O.style,O.width]),N=O.dx,k=O.dy,M=O.angle,P=O.className,I=O.breakAll,B=IM(O,E9);if(!sn(r)||!sn(i))return null;var V=r+(xe(N)?N:0),L=i+(xe(k)?k:0),W;switch(A){case"start":W=kb("calc(".concat(f,")"));break;case"middle":W=kb("calc(".concat((E.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:W=kb("calc(".concat(E.length-1," * -").concat(u,")"));break}var Q=[];if(m){var Y=E[0].width,H=O.width;Q.push("scale(".concat((xe(H)?H/Y:1)/Y,")"))}return M&&Q.push("rotate(".concat(M,", ").concat(V,", ").concat(L,")")),Q.length&&(B.transform=Q.join(" ")),X.createElement("text",n_({},Ve(B,!0),{x:V,y:L,className:rt("recharts-text",P),textAnchor:_,fill:C.includes("url")?BM:C}),E.map(function(j,F){var Z=j.words.join(I?"":" ");return X.createElement("tspan",{x:V,dy:F===0?W:u,key:"".concat(Z,"-").concat(F)},Z)}))};function Ii(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function R9(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xw(t){let e,n,r;t.length!==2?(e=Ii,n=(u,c)=>Ii(t(u),c),r=(u,c)=>t(u)-c):(e=t===Ii||t===R9?t:I9,n=t,r=t);function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(u[m],c)<0?f=m+1:h=m}while(f<h)}return f}function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(u[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(u,c,f=0,h=u.length){const m=a(u,c,f,h-1);return m>f&&r(u[m-1],c)>-r(u[m],c)?m-1:m}return{left:a,center:s,right:i}}function I9(){return 0}function QI(t){return t===null?NaN:+t}function*j9(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const L9=Xw(Ii),lf=L9.right;Xw(QI).center;class qM extends Map{constructor(e,n=q9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(UM(this,e))}has(e){return super.has(UM(this,e))}set(e,n){return super.set($9(this,e),n)}delete(e){return super.delete(B9(this,e))}}function UM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function $9({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function B9({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function q9(t){return t!==null&&typeof t=="object"?t.valueOf():t}function U9(t=Ii){if(t===Ii)return ej;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ej(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const F9=Math.sqrt(50),V9=Math.sqrt(10),z9=Math.sqrt(2);function mh(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=F9?10:i>=V9?5:i>=z9?2:1;let u,c,f;return a<0?(f=Math.pow(10,-a)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,a)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?mh(t,e,n*2):[u,c,f]}function r_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,s]=r?mh(e,t,n):mh(t,e,n);if(!(i>=a))return[];const u=i-a+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(i-f)/-s;else for(let f=0;f<u;++f)c[f]=(i-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(a+f)/-s;else for(let f=0;f<u;++f)c[f]=(a+f)*s;return c}function a_(t,e,n){return e=+e,t=+t,n=+n,mh(t,e,n)[2]}function i_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?a_(e,t,n):a_(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function FM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function VM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function tj(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?ej:U9(a);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),_=Math.max(n,Math.floor(e-f*m/c+y)),S=Math.min(r,Math.floor(e+(c-f)*m/c+y));tj(t,e,_,S,a)}const i=t[e];let s=n,u=r;for(Hu(t,n,e),a(t[r],i)>0&&Hu(t,n,r);s<u;){for(Hu(t,s,u),++s,--u;a(t[s],i)<0;)++s;for(;a(t[u],i)>0;)--u}a(t[n],i)===0?Hu(t,n,u):(++u,Hu(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Hu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function G9(t,e,n){if(t=Float64Array.from(j9(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return VM(t);if(e>=1)return FM(t);var r,a=(r-1)*e,i=Math.floor(a),s=FM(tj(t,i).subarray(0,i+1)),u=VM(t.subarray(i+1));return s+(u-s)*(a-i)}}function H9(t,e,n=QI){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),s=+n(t[i],i,t),u=+n(t[i+1],i+1,t);return s+(u-s)*(a-i)}}function K9(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function Or(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Za(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const o_=Symbol("implicit");function Zw(){var t=new qM,e=[],n=[],r=o_;function a(i){let s=t.get(i);if(s===void 0){if(r!==o_)return r;t.set(i,s=e.push(i)-1)}return n[s%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new qM;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Zw(e,n).unknown(r)},Or.apply(a,arguments),a}function Ac(){var t=Zw().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var y=e().length,_=a<r,S=_?a:r,A=_?r:a;i=(A-S)/Math.max(1,y-c+f*2),u&&(i=Math.floor(i)),S+=(A-S-i*(y-c))*h,s=i*(1-c),u&&(S=Math.round(S),s=Math.round(s));var T=K9(y).map(function(C){return S+i*C});return n(_?T.reverse():T)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([r,a]=y,r=+r,a=+a,m()):[r,a]},t.rangeRound=function(y){return[r,a]=y,r=+r,a=+a,u=!0,m()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(y){return arguments.length?(u=!!y,m()):u},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),m()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,m()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},t.copy=function(){return Ac(e(),[r,a]).round(u).paddingInner(c).paddingOuter(f).align(h)},Or.apply(m(),arguments)}function nj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nj(e())},t}function fc(){return nj(Ac.apply(null,arguments).paddingInner(1))}function Jw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function uf(){}var Ec=.7,gh=1/Ec,Zs="\\s*([+-]?\\d+)\\s*",Cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ia="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Y9=/^#([0-9a-f]{3,8})$/,W9=new RegExp(`^rgb\\(${Zs},${Zs},${Zs}\\)$`),X9=new RegExp(`^rgb\\(${ia},${ia},${ia}\\)$`),Z9=new RegExp(`^rgba\\(${Zs},${Zs},${Zs},${Cc}\\)$`),J9=new RegExp(`^rgba\\(${ia},${ia},${ia},${Cc}\\)$`),Q9=new RegExp(`^hsl\\(${Cc},${ia},${ia}\\)$`),eV=new RegExp(`^hsla\\(${Cc},${ia},${ia},${Cc}\\)$`),zM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jw(uf,kc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:GM,formatHex:GM,formatHex8:tV,formatHsl:nV,formatRgb:HM,toString:HM});function GM(){return this.rgb().formatHex()}function tV(){return this.rgb().formatHex8()}function nV(){return aj(this).formatHsl()}function HM(){return this.rgb().formatRgb()}function kc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Y9.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?KM(e):n===3?new Kn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=W9.exec(t))?new Kn(e[1],e[2],e[3],1):(e=X9.exec(t))?new Kn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Z9.exec(t))?Bd(e[1],e[2],e[3],e[4]):(e=J9.exec(t))?Bd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Q9.exec(t))?XM(e[1],e[2]/100,e[3]/100,1):(e=eV.exec(t))?XM(e[1],e[2]/100,e[3]/100,e[4]):zM.hasOwnProperty(t)?KM(zM[t]):t==="transparent"?new Kn(NaN,NaN,NaN,0):null}function KM(t){return new Kn(t>>16&255,t>>8&255,t&255,1)}function Bd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kn(t,e,n,r)}function rV(t){return t instanceof uf||(t=kc(t)),t?(t=t.rgb(),new Kn(t.r,t.g,t.b,t.opacity)):new Kn}function s_(t,e,n,r){return arguments.length===1?rV(t):new Kn(t,e,n,r??1)}function Kn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Jw(Kn,s_,rj(uf,{brighter(t){return t=t==null?gh:Math.pow(gh,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ec:Math.pow(Ec,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kn(ko(this.r),ko(this.g),ko(this.b),vh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YM,formatHex:YM,formatHex8:aV,formatRgb:WM,toString:WM}));function YM(){return`#${Ao(this.r)}${Ao(this.g)}${Ao(this.b)}`}function aV(){return`#${Ao(this.r)}${Ao(this.g)}${Ao(this.b)}${Ao((isNaN(this.opacity)?1:this.opacity)*255)}`}function WM(){const t=vh(this.opacity);return`${t===1?"rgb(":"rgba("}${ko(this.r)}, ${ko(this.g)}, ${ko(this.b)}${t===1?")":`, ${t})`}`}function vh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ko(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ao(t){return t=ko(t),(t<16?"0":"")+t.toString(16)}function XM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Fr(t,e,n,r)}function aj(t){if(t instanceof Fr)return new Fr(t.h,t.s,t.l,t.opacity);if(t instanceof uf||(t=kc(t)),!t)return new Fr;if(t instanceof Fr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,u=i-a,c=(i+a)/2;return u?(e===i?s=(n-r)/u+(n<r)*6:n===i?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?i+a:2-i-a,s*=60):u=c>0&&c<1?0:s,new Fr(s,u,c,t.opacity)}function iV(t,e,n,r){return arguments.length===1?aj(t):new Fr(t,e,n,r??1)}function Fr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Jw(Fr,iV,rj(uf,{brighter(t){return t=t==null?gh:Math.pow(gh,t),new Fr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ec:Math.pow(Ec,t),new Fr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Kn(Ob(t>=240?t-240:t+120,a,r),Ob(t,a,r),Ob(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Fr(ZM(this.h),qd(this.s),qd(this.l),vh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vh(this.opacity);return`${t===1?"hsl(":"hsla("}${ZM(this.h)}, ${qd(this.s)*100}%, ${qd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ZM(t){return t=(t||0)%360,t<0?t+360:t}function qd(t){return Math.max(0,Math.min(1,t||0))}function Ob(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Qw=t=>()=>t;function oV(t,e){return function(n){return t+n*e}}function sV(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function lV(t){return(t=+t)==1?ij:function(e,n){return n-e?sV(e,n,t):Qw(isNaN(e)?n:e)}}function ij(t,e){var n=e-t;return n?oV(t,n):Qw(isNaN(t)?e:t)}const JM=function t(e){var n=lV(e);function r(a,i){var s=n((a=s_(a)).r,(i=s_(i)).r),u=n(a.g,i.g),c=n(a.b,i.b),f=ij(a.opacity,i.opacity);return function(h){return a.r=s(h),a.g=u(h),a.b=c(h),a.opacity=f(h),a+""}}return r.gamma=t,r}(1);function uV(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function cV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fV(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)a[s]=Ll(t[s],e[s]);for(;s<n;++s)i[s]=e[s];return function(u){for(s=0;s<r;++s)i[s]=a[s](u);return i}}function dV(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function yh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function hV(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Ll(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var l_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mb=new RegExp(l_.source,"g");function pV(t){return function(){return t}}function mV(t){return function(e){return t(e)+""}}function gV(t,e){var n=l_.lastIndex=Mb.lastIndex=0,r,a,i,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=l_.exec(t))&&(a=Mb.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),u[s]?u[s]+=i:u[++s]=i),(r=r[0])===(a=a[0])?u[s]?u[s]+=a:u[++s]=a:(u[++s]=null,c.push({i:s,x:yh(r,a)})),n=Mb.lastIndex;return n<e.length&&(i=e.slice(n),u[s]?u[s]+=i:u[++s]=i),u.length<2?c[0]?mV(c[0].x):pV(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)u[(m=c[h]).i]=m.x(f);return u.join("")})}function Ll(t,e){var n=typeof e,r;return e==null||n==="boolean"?Qw(e):(n==="number"?yh:n==="string"?(r=kc(e))?(e=r,JM):gV:e instanceof kc?JM:e instanceof Date?dV:cV(e)?uV:Array.isArray(e)?fV:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?hV:yh)(t,e)}function eS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function vV(t,e){e===void 0&&(e=t,t=Ll);for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return i[u](s-u)}}function yV(t){return function(){return t}}function bh(t){return+t}var QM=[0,1];function $n(t){return t}function u_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:yV(isNaN(e)?NaN:.5)}function bV(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xV(t,e,n){var r=t[0],a=t[1],i=e[0],s=e[1];return a<r?(r=u_(a,r),i=n(s,i)):(r=u_(r,a),i=n(i,s)),function(u){return i(r(u))}}function _V(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=u_(t[s],t[s+1]),i[s]=n(e[s],e[s+1]);return function(u){var c=lf(t,u,1,r)-1;return i[c](a[c](u))}}function cf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wp(){var t=QM,e=QM,n=Ll,r,a,i,s=$n,u,c,f;function h(){var y=Math.min(t.length,e.length);return s!==$n&&(s=bV(t[0],t[y-1])),u=y>2?_V:xV,c=f=null,m}function m(y){return y==null||isNaN(y=+y)?i:(c||(c=u(t.map(r),e,n)))(r(s(y)))}return m.invert=function(y){return s(a((f||(f=u(e,t.map(r),yh)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,bh),h()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),n=eS,h()},m.clamp=function(y){return arguments.length?(s=y?!0:$n,h()):s!==$n},m.interpolate=function(y){return arguments.length?(n=y,h()):n},m.unknown=function(y){return arguments.length?(i=y,m):i},function(y,_){return r=y,a=_,h()}}function tS(){return wp()($n,$n)}function wV(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function sl(t){return t=xh(Math.abs(t)),t?t[1]:NaN}function SV(t,e){return function(n,r){for(var a=n.length,i=[],s=0,u=t[0],c=0;a>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),i.push(n.substring(a-=u,a+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return i.reverse().join(e)}}function TV(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var AV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oc(t){if(!(e=AV.exec(t)))throw new Error("invalid format: "+t);var e;return new nS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Oc.prototype=nS.prototype;function nS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function EV(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var oj;function CV(t,e){var n=xh(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(oj=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+xh(t,Math.max(0,e+i-1))[0]}function eD(t,e){var n=xh(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const tD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wV,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>eD(t*100,e),r:eD,s:CV,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nD(t){return t}var rD=Array.prototype.map,aD=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function kV(t){var e=t.grouping===void 0||t.thousands===void 0?nD:SV(rD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?nD:TV(rD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Oc(m);var y=m.fill,_=m.align,S=m.sign,A=m.symbol,T=m.zero,C=m.width,O=m.comma,E=m.precision,N=m.trim,k=m.type;k==="n"?(O=!0,k="g"):tD[k]||(E===void 0&&(E=12),N=!0,k="g"),(T||y==="0"&&_==="=")&&(T=!0,y="0",_="=");var M=A==="$"?n:A==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",P=A==="$"?r:/[%p]/.test(k)?s:"",I=tD[k],B=/[defgprs%]/.test(k);E=E===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function V(L){var W=M,Q=P,Y,H,j;if(k==="c")Q=I(L)+Q,L="";else{L=+L;var F=L<0||1/L<0;if(L=isNaN(L)?c:I(Math.abs(L),E),N&&(L=EV(L)),F&&+L==0&&S!=="+"&&(F=!1),W=(F?S==="("?S:u:S==="-"||S==="("?"":S)+W,Q=(k==="s"?aD[8+oj/3]:"")+Q+(F&&S==="("?")":""),B){for(Y=-1,H=L.length;++Y<H;)if(j=L.charCodeAt(Y),48>j||j>57){Q=(j===46?a+L.slice(Y+1):L.slice(Y))+Q,L=L.slice(0,Y);break}}}O&&!T&&(L=e(L,1/0));var Z=W.length+L.length+Q.length,ae=Z<C?new Array(C-Z+1).join(y):"";switch(O&&T&&(L=e(ae+L,ae.length?C-Q.length:1/0),ae=""),_){case"<":L=W+L+Q+ae;break;case"=":L=W+ae+L+Q;break;case"^":L=ae.slice(0,Z=ae.length>>1)+W+L+Q+ae.slice(Z);break;default:L=ae+W+L+Q;break}return i(L)}return V.toString=function(){return m+""},V}function h(m,y){var _=f((m=Oc(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(sl(y)/3)))*3,A=Math.pow(10,-S),T=aD[8+S/3];return function(C){return _(A*C)+T}}return{format:f,formatPrefix:h}}var Ud,rS,sj;OV({thousands:",",grouping:[3],currency:["$",""]});function OV(t){return Ud=kV(t),rS=Ud.format,sj=Ud.formatPrefix,Ud}function MV(t){return Math.max(0,-sl(Math.abs(t)))}function DV(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sl(e)/3)))*3-sl(Math.abs(t)))}function NV(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sl(e)-sl(t))+1}function lj(t,e,n,r){var a=i_(t,e,n),i;switch(r=Oc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=DV(a,s))&&(r.precision=i),sj(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=NV(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=MV(a))&&(r.precision=i-(r.type==="%")*2);break}}return rS(r)}function Ui(t){var e=t.domain;return t.ticks=function(n){var r=e();return r_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return lj(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,s=r[a],u=r[i],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=a,a=i,i=f);h-- >0;){if(f=a_(s,u,n),f===c)return r[a]=s,r[i]=u,e(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function _h(){var t=tS();return t.copy=function(){return cf(t,_h())},Or.apply(t,arguments),Ui(t)}function uj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,bh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return uj(t).unknown(e)},t=arguments.length?Array.from(t,bh):[0,1],Ui(n)}function cj(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],s;return i<a&&(s=n,n=r,r=s,s=a,a=i,i=s),t[n]=e.floor(a),t[r]=e.ceil(i),t}function iD(t){return Math.log(t)}function oD(t){return Math.exp(t)}function PV(t){return-Math.log(-t)}function RV(t){return-Math.exp(-t)}function IV(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jV(t){return t===10?IV:t===Math.E?Math.exp:e=>Math.pow(t,e)}function LV(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function sD(t){return(e,n)=>-t(-e,n)}function aS(t){const e=t(iD,oD),n=e.domain;let r=10,a,i;function s(){return a=LV(r),i=jV(r),n()[0]<0?(a=sD(a),i=sD(i),t(PV,RV)):t(iD,oD),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let y=a(f),_=a(h),S,A;const T=u==null?10:+u;let C=[];if(!(r%1)&&_-y<T){if(y=Math.floor(y),_=Math.ceil(_),f>0){for(;y<=_;++y)for(S=1;S<r;++S)if(A=y<0?S/i(-y):S*i(y),!(A<f)){if(A>h)break;C.push(A)}}else for(;y<=_;++y)for(S=r-1;S>=1;--S)if(A=y>0?S/i(-y):S*i(y),!(A<f)){if(A>h)break;C.push(A)}C.length*2<T&&(C=r_(f,h,T))}else C=r_(y,_,Math.min(_-y,T)).map(i);return m?C.reverse():C},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Oc(c)).precision==null&&(c.trim=!0),c=rS(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/i(Math.round(a(h)));return m*r<r-.5&&(m*=r),m<=f?c(h):""}},e.nice=()=>n(cj(n(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),e}function fj(){const t=aS(wp()).domain([1,10]);return t.copy=()=>cf(t,fj()).base(t.base()),Or.apply(t,arguments),t}function lD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iS(t){var e=1,n=t(lD(e),uD(e));return n.constant=function(r){return arguments.length?t(lD(e=+r),uD(e)):e},Ui(n)}function dj(){var t=iS(wp());return t.copy=function(){return cf(t,dj()).constant(t.constant())},Or.apply(t,arguments)}function cD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $V(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function BV(t){return t<0?-t*t:t*t}function oS(t){var e=t($n,$n),n=1;function r(){return n===1?t($n,$n):n===.5?t($V,BV):t(cD(n),cD(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Ui(e)}function sS(){var t=oS(wp());return t.copy=function(){return cf(t,sS()).exponent(t.exponent())},Or.apply(t,arguments),t}function qV(){return sS.apply(null,arguments).exponent(.5)}function fD(t){return Math.sign(t)*t*t}function UV(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function hj(){var t=tS(),e=[0,1],n=!1,r;function a(i){var s=UV(t(i));return isNaN(s)?r:n?Math.round(s):s}return a.invert=function(i){return t.invert(fD(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,bh)).map(fD)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return hj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Or.apply(a,arguments),Ui(a)}function pj(){var t=[],e=[],n=[],r;function a(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=H9(t,s/u);return i}function i(s){return s==null||isNaN(s=+s)?r:e[lf(n,s)]}return i.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ii),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return pj().domain(t).range(e).unknown(r)},Or.apply(i,arguments)}function mj(){var t=0,e=1,n=1,r=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[lf(r,c,0,n)]:i}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,u()):a.slice()},s.invertExtent=function(c){var f=a.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return mj().domain([t,e]).range(a).unknown(i)},Or.apply(Ui(s),arguments)}function gj(){var t=[.5],e=[0,1],n,r=1;function a(i){return i!=null&&i<=i?e[lf(t,i,0,r)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return gj().domain(t).range(e).unknown(n)},Or.apply(a,arguments)}const Db=new Date,Nb=new Date;function ln(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),u=a.ceil(i);return i-s<u-i?s:u},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,u)=>{const c=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<s)||!(u>0))return c;let f;do c.push(f=new Date(+i)),e(i,u),t(i);while(f<i&&i<s);return c},a.filter=i=>ln(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!i(s););else for(;--u>=0;)for(;e(s,1),!i(s););}),n&&(a.count=(i,s)=>(Db.setTime(+i),Nb.setTime(+s),t(Db),t(Nb),Math.floor(n(Db,Nb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?s=>r(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const wh=ln(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ln(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):wh);wh.range;const Ba=1e3,Ar=Ba*60,qa=Ar*60,za=qa*24,lS=za*7,dD=za*30,Pb=za*365,Eo=ln(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getUTCSeconds());Eo.range;const uS=ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ba)},(t,e)=>{t.setTime(+t+e*Ar)},(t,e)=>(e-t)/Ar,t=>t.getMinutes());uS.range;const cS=ln(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ar)},(t,e)=>(e-t)/Ar,t=>t.getUTCMinutes());cS.range;const fS=ln(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ba-t.getMinutes()*Ar)},(t,e)=>{t.setTime(+t+e*qa)},(t,e)=>(e-t)/qa,t=>t.getHours());fS.range;const dS=ln(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*qa)},(t,e)=>(e-t)/qa,t=>t.getUTCHours());dS.range;const ff=ln(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ar)/za,t=>t.getDate()-1);ff.range;const Sp=ln(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/za,t=>t.getUTCDate()-1);Sp.range;const vj=ln(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/za,t=>Math.floor(t/za));vj.range;function Fo(t){return ln(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ar)/lS)}const Tp=Fo(0),Sh=Fo(1),FV=Fo(2),VV=Fo(3),ll=Fo(4),zV=Fo(5),GV=Fo(6);Tp.range;Sh.range;FV.range;VV.range;ll.range;zV.range;GV.range;function Vo(t){return ln(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/lS)}const Ap=Vo(0),Th=Vo(1),HV=Vo(2),KV=Vo(3),ul=Vo(4),YV=Vo(5),WV=Vo(6);Ap.range;Th.range;HV.range;KV.range;ul.range;YV.range;WV.range;const hS=ln(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hS.range;const pS=ln(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pS.range;const Ga=ln(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ga.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ln(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ga.range;const Ha=ln(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ha.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ln(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ha.range;function yj(t,e,n,r,a,i){const s=[[Eo,1,Ba],[Eo,5,5*Ba],[Eo,15,15*Ba],[Eo,30,30*Ba],[i,1,Ar],[i,5,5*Ar],[i,15,15*Ar],[i,30,30*Ar],[a,1,qa],[a,3,3*qa],[a,6,6*qa],[a,12,12*qa],[r,1,za],[r,2,2*za],[n,1,lS],[e,1,dD],[e,3,3*dD],[t,1,Pb]];function u(f,h,m){const y=h<f;y&&([f,h]=[h,f]);const _=m&&typeof m.range=="function"?m:c(f,h,m),S=_?_.range(f,+h+1):[];return y?S.reverse():S}function c(f,h,m){const y=Math.abs(h-f)/m,_=Xw(([,,T])=>T).right(s,y);if(_===s.length)return t.every(i_(f/Pb,h/Pb,m));if(_===0)return wh.every(Math.max(i_(f,h,m),1));const[S,A]=s[y/s[_-1][2]<s[_][2]/y?_-1:_];return S.every(A)}return[u,c]}const[XV,ZV]=yj(Ha,pS,Ap,vj,dS,cS),[JV,QV]=yj(Ga,hS,Tp,ff,fS,uS);function Rb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ib(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ku(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function e7(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=Yu(a),h=Wu(a),m=Yu(i),y=Wu(i),_=Yu(s),S=Wu(s),A=Yu(u),T=Wu(u),C=Yu(c),O=Wu(c),E={a:F,A:Z,b:ae,B:$,c:null,d:yD,e:yD,f:S7,g:P7,G:I7,H:x7,I:_7,j:w7,L:bj,m:T7,M:A7,p:G,q:ne,Q:_D,s:wD,S:E7,u:C7,U:k7,V:O7,w:M7,W:D7,x:null,X:null,y:N7,Y:R7,Z:j7,"%":xD},N={a:ce,A:ge,b:De,B:Ce,c:null,d:bD,e:bD,f:q7,g:X7,G:J7,H:L7,I:$7,j:B7,L:_j,m:U7,M:F7,p:yt,q:ze,Q:_D,s:wD,S:V7,u:z7,U:G7,V:H7,w:K7,W:Y7,x:null,X:null,y:W7,Y:Z7,Z:Q7,"%":xD},k={a:V,A:L,b:W,B:Q,c:Y,d:gD,e:gD,f:g7,g:mD,G:pD,H:vD,I:vD,j:d7,L:m7,m:f7,M:h7,p:B,q:c7,Q:y7,s:b7,S:p7,u:i7,U:o7,V:s7,w:a7,W:l7,x:H,X:j,y:mD,Y:pD,Z:u7,"%":v7};E.x=M(n,E),E.X=M(r,E),E.c=M(e,E),N.x=M(n,N),N.X=M(r,N),N.c=M(e,N);function M(we,je){return function(qe){var me=[],mt=-1,Qe=0,Mt=we.length,zt,Ct,Zn;for(qe instanceof Date||(qe=new Date(+qe));++mt<Mt;)we.charCodeAt(mt)===37&&(me.push(we.slice(Qe,mt)),(Ct=hD[zt=we.charAt(++mt)])!=null?zt=we.charAt(++mt):Ct=zt==="e"?" ":"0",(Zn=je[zt])&&(zt=Zn(qe,Ct)),me.push(zt),Qe=mt+1);return me.push(we.slice(Qe,mt)),me.join("")}}function P(we,je){return function(qe){var me=Ku(1900,void 0,1),mt=I(me,we,qe+="",0),Qe,Mt;if(mt!=qe.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(je&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Qe=Ib(Ku(me.y,0,1)),Mt=Qe.getUTCDay(),Qe=Mt>4||Mt===0?Th.ceil(Qe):Th(Qe),Qe=Sp.offset(Qe,(me.V-1)*7),me.y=Qe.getUTCFullYear(),me.m=Qe.getUTCMonth(),me.d=Qe.getUTCDate()+(me.w+6)%7):(Qe=Rb(Ku(me.y,0,1)),Mt=Qe.getDay(),Qe=Mt>4||Mt===0?Sh.ceil(Qe):Sh(Qe),Qe=ff.offset(Qe,(me.V-1)*7),me.y=Qe.getFullYear(),me.m=Qe.getMonth(),me.d=Qe.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Mt="Z"in me?Ib(Ku(me.y,0,1)).getUTCDay():Rb(Ku(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Mt+5)%7:me.w+me.U*7-(Mt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,Ib(me)):Rb(me)}}function I(we,je,qe,me){for(var mt=0,Qe=je.length,Mt=qe.length,zt,Ct;mt<Qe;){if(me>=Mt)return-1;if(zt=je.charCodeAt(mt++),zt===37){if(zt=je.charAt(mt++),Ct=k[zt in hD?je.charAt(mt++):zt],!Ct||(me=Ct(we,qe,me))<0)return-1}else if(zt!=qe.charCodeAt(me++))return-1}return me}function B(we,je,qe){var me=f.exec(je.slice(qe));return me?(we.p=h.get(me[0].toLowerCase()),qe+me[0].length):-1}function V(we,je,qe){var me=_.exec(je.slice(qe));return me?(we.w=S.get(me[0].toLowerCase()),qe+me[0].length):-1}function L(we,je,qe){var me=m.exec(je.slice(qe));return me?(we.w=y.get(me[0].toLowerCase()),qe+me[0].length):-1}function W(we,je,qe){var me=C.exec(je.slice(qe));return me?(we.m=O.get(me[0].toLowerCase()),qe+me[0].length):-1}function Q(we,je,qe){var me=A.exec(je.slice(qe));return me?(we.m=T.get(me[0].toLowerCase()),qe+me[0].length):-1}function Y(we,je,qe){return I(we,e,je,qe)}function H(we,je,qe){return I(we,n,je,qe)}function j(we,je,qe){return I(we,r,je,qe)}function F(we){return s[we.getDay()]}function Z(we){return i[we.getDay()]}function ae(we){return c[we.getMonth()]}function $(we){return u[we.getMonth()]}function G(we){return a[+(we.getHours()>=12)]}function ne(we){return 1+~~(we.getMonth()/3)}function ce(we){return s[we.getUTCDay()]}function ge(we){return i[we.getUTCDay()]}function De(we){return c[we.getUTCMonth()]}function Ce(we){return u[we.getUTCMonth()]}function yt(we){return a[+(we.getUTCHours()>=12)]}function ze(we){return 1+~~(we.getUTCMonth()/3)}return{format:function(we){var je=M(we+="",E);return je.toString=function(){return we},je},parse:function(we){var je=P(we+="",!1);return je.toString=function(){return we},je},utcFormat:function(we){var je=M(we+="",N);return je.toString=function(){return we},je},utcParse:function(we){var je=P(we+="",!0);return je.toString=function(){return we},je}}}var hD={"-":"",_:" ",0:"0"},vn=/^\s*\d+/,t7=/^%/,n7=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function r7(t){return t.replace(n7,"\\$&")}function Yu(t){return new RegExp("^(?:"+t.map(r7).join("|")+")","i")}function Wu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function a7(t,e,n){var r=vn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function i7(t,e,n){var r=vn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function o7(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function s7(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function l7(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pD(t,e,n){var r=vn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function mD(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function u7(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function c7(t,e,n){var r=vn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function f7(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function gD(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function d7(t,e,n){var r=vn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vD(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function h7(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function p7(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function m7(t,e,n){var r=vn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function g7(t,e,n){var r=vn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function v7(t,e,n){var r=t7.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function y7(t,e,n){var r=vn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function b7(t,e,n){var r=vn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function yD(t,e){return dt(t.getDate(),e,2)}function x7(t,e){return dt(t.getHours(),e,2)}function _7(t,e){return dt(t.getHours()%12||12,e,2)}function w7(t,e){return dt(1+ff.count(Ga(t),t),e,3)}function bj(t,e){return dt(t.getMilliseconds(),e,3)}function S7(t,e){return bj(t,e)+"000"}function T7(t,e){return dt(t.getMonth()+1,e,2)}function A7(t,e){return dt(t.getMinutes(),e,2)}function E7(t,e){return dt(t.getSeconds(),e,2)}function C7(t){var e=t.getDay();return e===0?7:e}function k7(t,e){return dt(Tp.count(Ga(t)-1,t),e,2)}function xj(t){var e=t.getDay();return e>=4||e===0?ll(t):ll.ceil(t)}function O7(t,e){return t=xj(t),dt(ll.count(Ga(t),t)+(Ga(t).getDay()===4),e,2)}function M7(t){return t.getDay()}function D7(t,e){return dt(Sh.count(Ga(t)-1,t),e,2)}function N7(t,e){return dt(t.getFullYear()%100,e,2)}function P7(t,e){return t=xj(t),dt(t.getFullYear()%100,e,2)}function R7(t,e){return dt(t.getFullYear()%1e4,e,4)}function I7(t,e){var n=t.getDay();return t=n>=4||n===0?ll(t):ll.ceil(t),dt(t.getFullYear()%1e4,e,4)}function j7(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function bD(t,e){return dt(t.getUTCDate(),e,2)}function L7(t,e){return dt(t.getUTCHours(),e,2)}function $7(t,e){return dt(t.getUTCHours()%12||12,e,2)}function B7(t,e){return dt(1+Sp.count(Ha(t),t),e,3)}function _j(t,e){return dt(t.getUTCMilliseconds(),e,3)}function q7(t,e){return _j(t,e)+"000"}function U7(t,e){return dt(t.getUTCMonth()+1,e,2)}function F7(t,e){return dt(t.getUTCMinutes(),e,2)}function V7(t,e){return dt(t.getUTCSeconds(),e,2)}function z7(t){var e=t.getUTCDay();return e===0?7:e}function G7(t,e){return dt(Ap.count(Ha(t)-1,t),e,2)}function wj(t){var e=t.getUTCDay();return e>=4||e===0?ul(t):ul.ceil(t)}function H7(t,e){return t=wj(t),dt(ul.count(Ha(t),t)+(Ha(t).getUTCDay()===4),e,2)}function K7(t){return t.getUTCDay()}function Y7(t,e){return dt(Th.count(Ha(t)-1,t),e,2)}function W7(t,e){return dt(t.getUTCFullYear()%100,e,2)}function X7(t,e){return t=wj(t),dt(t.getUTCFullYear()%100,e,2)}function Z7(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function J7(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ul(t):ul.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function Q7(){return"+0000"}function xD(){return"%"}function _D(t){return+t}function wD(t){return Math.floor(+t/1e3)}var $s,Sj,Tj;ez({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ez(t){return $s=e7(t),Sj=$s.format,$s.parse,Tj=$s.utcFormat,$s.utcParse,$s}function tz(t){return new Date(t)}function nz(t){return t instanceof Date?+t:+new Date(+t)}function mS(t,e,n,r,a,i,s,u,c,f){var h=tS(),m=h.invert,y=h.domain,_=f(".%L"),S=f(":%S"),A=f("%I:%M"),T=f("%I %p"),C=f("%a %d"),O=f("%b %d"),E=f("%B"),N=f("%Y");function k(M){return(c(M)<M?_:u(M)<M?S:s(M)<M?A:i(M)<M?T:r(M)<M?a(M)<M?C:O:n(M)<M?E:N)(M)}return h.invert=function(M){return new Date(m(M))},h.domain=function(M){return arguments.length?y(Array.from(M,nz)):y().map(tz)},h.ticks=function(M){var P=y();return t(P[0],P[P.length-1],M??10)},h.tickFormat=function(M,P){return P==null?k:f(P)},h.nice=function(M){var P=y();return(!M||typeof M.range!="function")&&(M=e(P[0],P[P.length-1],M??10)),M?y(cj(P,M)):h},h.copy=function(){return cf(h,mS(t,e,n,r,a,i,s,u,c,f))},h}function rz(){return Or.apply(mS(JV,QV,Ga,hS,Tp,ff,fS,uS,Eo,Sj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function az(){return Or.apply(mS(XV,ZV,Ha,pS,Ap,Sp,dS,cS,Eo,Tj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ep(){var t=0,e=1,n,r,a,i,s=$n,u=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(a===0?.5:(m=(i(m)-n)*a,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=i(t=+t),r=i(e=+e),a=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(y){var _,S;return arguments.length?([_,S]=y,s=m(_,S),f):[s(0),s(1)]}}return f.range=h(Ll),f.rangeRound=h(eS),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return i=m,n=m(t),r=m(e),a=n===r?0:1/(r-n),f}}function Fi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Aj(){var t=Ui(Ep()($n));return t.copy=function(){return Fi(t,Aj())},Za.apply(t,arguments)}function Ej(){var t=aS(Ep()).domain([1,10]);return t.copy=function(){return Fi(t,Ej()).base(t.base())},Za.apply(t,arguments)}function Cj(){var t=iS(Ep());return t.copy=function(){return Fi(t,Cj()).constant(t.constant())},Za.apply(t,arguments)}function gS(){var t=oS(Ep());return t.copy=function(){return Fi(t,gS()).exponent(t.exponent())},Za.apply(t,arguments)}function iz(){return gS.apply(null,arguments).exponent(.5)}function kj(){var t=[],e=$n;function n(r){if(r!=null&&!isNaN(r=+r))return e((lf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ii),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>G9(t,i/r))},n.copy=function(){return kj(e).domain(t)},Za.apply(n,arguments)}function Cp(){var t=0,e=.5,n=1,r=1,a,i,s,u,c,f=$n,h,m=!1,y;function _(A){return isNaN(A=+A)?y:(A=.5+((A=+h(A))-i)*(r*A<r*i?u:c),f(m?Math.max(0,Math.min(1,A)):A))}_.domain=function(A){return arguments.length?([t,e,n]=A,a=h(t=+t),i=h(e=+e),s=h(n=+n),u=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),r=i<a?-1:1,_):[t,e,n]},_.clamp=function(A){return arguments.length?(m=!!A,_):m},_.interpolator=function(A){return arguments.length?(f=A,_):f};function S(A){return function(T){var C,O,E;return arguments.length?([C,O,E]=T,f=vV(A,[C,O,E]),_):[f(0),f(.5),f(1)]}}return _.range=S(Ll),_.rangeRound=S(eS),_.unknown=function(A){return arguments.length?(y=A,_):y},function(A){return h=A,a=A(t),i=A(e),s=A(n),u=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),r=i<a?-1:1,_}}function Oj(){var t=Ui(Cp()($n));return t.copy=function(){return Fi(t,Oj())},Za.apply(t,arguments)}function Mj(){var t=aS(Cp()).domain([.1,1,10]);return t.copy=function(){return Fi(t,Mj()).base(t.base())},Za.apply(t,arguments)}function Dj(){var t=iS(Cp());return t.copy=function(){return Fi(t,Dj()).constant(t.constant())},Za.apply(t,arguments)}function vS(){var t=oS(Cp());return t.copy=function(){return Fi(t,vS()).exponent(t.exponent())},Za.apply(t,arguments)}function oz(){return vS.apply(null,arguments).exponent(.5)}const SD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ac,scaleDiverging:Oj,scaleDivergingLog:Mj,scaleDivergingPow:vS,scaleDivergingSqrt:oz,scaleDivergingSymlog:Dj,scaleIdentity:uj,scaleImplicit:o_,scaleLinear:_h,scaleLog:fj,scaleOrdinal:Zw,scalePoint:fc,scalePow:sS,scaleQuantile:pj,scaleQuantize:mj,scaleRadial:hj,scaleSequential:Aj,scaleSequentialLog:Ej,scaleSequentialPow:gS,scaleSequentialQuantile:kj,scaleSequentialSqrt:iz,scaleSequentialSymlog:Cj,scaleSqrt:qV,scaleSymlog:dj,scaleThreshold:gj,scaleTime:rz,scaleUtc:az,tickFormat:lj},Symbol.toStringTag,{value:"Module"}));var jb,TD;function kp(){if(TD)return jb;TD=1;var t=Pl();function e(n,r,a){for(var i=-1,s=n.length;++i<s;){var u=n[i],c=r(u);if(c!=null&&(f===void 0?c===c&&!t(c):a(c,f)))var f=c,h=u}return h}return jb=e,jb}var Lb,AD;function Nj(){if(AD)return Lb;AD=1;function t(e,n){return e>n}return Lb=t,Lb}var $b,ED;function sz(){if(ED)return $b;ED=1;var t=kp(),e=Nj(),n=Il();function r(a){return a&&a.length?t(a,n,e):void 0}return $b=r,$b}var lz=sz();const Op=pt(lz);var Bb,CD;function Pj(){if(CD)return Bb;CD=1;function t(e,n){return e<n}return Bb=t,Bb}var qb,kD;function uz(){if(kD)return qb;kD=1;var t=kp(),e=Pj(),n=Il();function r(a){return a&&a.length?t(a,n,e):void 0}return qb=r,qb}var cz=uz();const Mp=pt(cz);var Ub,OD;function fz(){if(OD)return Ub;OD=1;var t=Pw(),e=ha(),n=qI(),r=Wn();function a(i,s){var u=r(i)?t:n;return u(i,e(s,3))}return Ub=a,Ub}var Fb,MD;function dz(){if(MD)return Fb;MD=1;var t=$I(),e=fz();function n(r,a){return t(e(r,a),1)}return Fb=n,Fb}var hz=dz();const pz=pt(hz);var Vb,DD;function mz(){if(DD)return Vb;DD=1;var t=Hw();function e(n,r){return t(n,r)}return Vb=e,Vb}var gz=mz();const Dp=pt(gz);var $l=1e9,vz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bS,Vt=!0,kr="[DecimalError] ",Oo=kr+"Invalid argument: ",yS=kr+"Exponent out of range: ",Bl=Math.floor,_o=Math.pow,yz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sr,mn=1e7,Bt=7,Rj=9007199254740991,Ah=Bl(Rj/Bt),Ee={};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ee.comparedTo=Ee.cmp=function(t){var e,n,r,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Bt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(t){return Va(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.idiv=function(t){var e=this,n=e.constructor;return Ot(Va(e,new n(t),0,1),n.precision)};Ee.equals=Ee.eq=function(t){return!this.cmp(t)};Ee.exponent=function(){return nn(this)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){return this.cmp(t)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,n=this,r=n.constructor,a=r.precision,i=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(sr))throw Error(kr+"NaN");if(n.s<1)throw Error(kr+(n.s?"NaN":"-Infinity"));return n.eq(sr)?new r(0):(Vt=!1,e=Va(Mc(n,i),Mc(t,i),i),Vt=!0,Ot(e,a))};Ee.minus=Ee.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Lj(e,t):Ij(e,(t.s=-t.s,t))};Ee.modulo=Ee.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(kr+"NaN");return n.s?(Vt=!1,e=Va(n,t,0,1).times(t),Vt=!0,n.minus(e)):Ot(new r(n),a)};Ee.naturalExponential=Ee.exp=function(){return jj(this)};Ee.naturalLogarithm=Ee.ln=function(){return Mc(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ee.plus=Ee.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ij(e,t):Lj(e,(t.s=-t.s,t))};Ee.precision=Ee.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Oo+t);if(e=nn(a)+1,r=a.d.length-1,n=r*Bt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ee.squareRoot=Ee.sqrt=function(){var t,e,n,r,a,i,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(kr+"NaN")}for(t=nn(u),Vt=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=na(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Bl((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(a.toString()),n=c.precision,a=s=n+3;;)if(i=r,r=i.plus(Va(u,i,s+2)).times(.5),na(i.d).slice(0,s)===(e=na(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(Ot(i,n+1,0),i.times(i).eq(u)){r=i;break}}else if(e!="9999")break;s+=4}return Vt=!0,Ot(r,n)};Ee.times=Ee.mul=function(t){var e,n,r,a,i,s,u,c,f,h=this,m=h.constructor,y=h.d,_=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=y.length,f=_.length,c<f&&(i=y,y=_,_=i,s=c,c=f,f=s),i=[],s=c+f,r=s;r--;)i.push(0);for(r=f;--r>=0;){for(e=0,a=c+r;a>r;)u=i[a]+_[r]*y[a-r-1]+e,i[a--]=u%mn|0,e=u/mn|0;i[a]=(i[a]+e)%mn|0}for(;!i[--s];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,Vt?Ot(t,m.precision):t};Ee.toDecimalPlaces=Ee.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(la(t,0,$l),e===void 0?e=r.rounding:la(e,0,8),Ot(n,t+nn(n)+1,e))};Ee.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=Po(r,!0):(la(t,0,$l),e===void 0?e=a.rounding:la(e,0,8),r=Ot(new a(r),t+1,e),n=Po(r,!0,t+1)),n};Ee.toFixed=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?Po(a):(la(t,0,$l),e===void 0?e=i.rounding:la(e,0,8),r=Ot(new i(a),t+nn(a)+1,e),n=Po(r.abs(),!1,t+nn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var t=this,e=t.constructor;return Ot(new e(t),nn(t)+1,e.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(t){var e,n,r,a,i,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(sr);if(u=new c(u),!u.s){if(t.s<1)throw Error(kr+"Infinity");return u}if(u.eq(sr))return u;if(r=c.precision,t.eq(sr))return Ot(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,i=u.s,s){if((n=h<0?-h:h)<=Rj){for(a=new c(sr),e=Math.ceil(r/Bt+4),Vt=!1;n%2&&(a=a.times(u),PD(a.d,e)),n=Bl(n/2),n!==0;)u=u.times(u),PD(u.d,e);return Vt=!0,t.s<0?new c(sr).div(a):Ot(a,r)}}else if(i<0)throw Error(kr+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Vt=!1,a=t.times(Mc(u,r+f)),Vt=!0,a=jj(a),a.s=i,a};Ee.toPrecision=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?(n=nn(a),r=Po(a,n<=i.toExpNeg||n>=i.toExpPos)):(la(t,1,$l),e===void 0?e=i.rounding:la(e,0,8),a=Ot(new i(a),t,e),n=nn(a),r=Po(a,t<=n||n<=i.toExpNeg,t)),r};Ee.toSignificantDigits=Ee.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(la(t,1,$l),e===void 0?e=r.rounding:la(e,0,8)),Ot(new r(n),t,e)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=nn(t),n=t.constructor;return Po(t,e<=n.toExpNeg||e>=n.toExpPos)};function Ij(t,e){var n,r,a,i,s,u,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Vt?Ot(e,m):e;if(c=t.d,f=e.d,s=t.e,a=e.e,c=c.slice(),i=s-a,i){for(i<0?(r=c,i=-i,u=f.length):(r=f,a=s,u=c.length),s=Math.ceil(m/Bt),u=s>u?s+1:u+1,i>u&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(u=c.length,i=f.length,u-i<0&&(i=u,r=f,f=c,c=r),n=0;i;)n=(c[--i]=c[i]+f[i]+n)/mn|0,c[i]%=mn;for(n&&(c.unshift(n),++a),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=a,Vt?Ot(e,m):e}function la(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Oo+t)}function na(t){var e,n,r,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)r=t[e]+"",n=Bt-r.length,n&&(i+=Oi(n)),i+=r;s=t[e],r=s+"",n=Bt-r.length,n&&(i+=Oi(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Va=function(){function t(r,a){var i,s=0,u=r.length;for(r=r.slice();u--;)i=r[u]*a+s,r[u]=i%mn|0,s=i/mn|0;return s&&r.unshift(s),r}function e(r,a,i,s){var u,c;if(i!=s)c=i>s?1:-1;else for(u=c=0;u<i;u++)if(r[u]!=a[u]){c=r[u]>a[u]?1:-1;break}return c}function n(r,a,i){for(var s=0;i--;)r[i]-=s,s=r[i]<a[i]?1:0,r[i]=s*mn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,s){var u,c,f,h,m,y,_,S,A,T,C,O,E,N,k,M,P,I,B=r.constructor,V=r.s==a.s?1:-1,L=r.d,W=a.d;if(!r.s)return new B(r);if(!a.s)throw Error(kr+"Division by zero");for(c=r.e-a.e,P=W.length,k=L.length,_=new B(V),S=_.d=[],f=0;W[f]==(L[f]||0);)++f;if(W[f]>(L[f]||0)&&--c,i==null?O=i=B.precision:s?O=i+(nn(r)-nn(a))+1:O=i,O<0)return new B(0);if(O=O/Bt+2|0,f=0,P==1)for(h=0,W=W[0],O++;(f<k||h)&&O--;f++)E=h*mn+(L[f]||0),S[f]=E/W|0,h=E%W|0;else{for(h=mn/(W[0]+1)|0,h>1&&(W=t(W,h),L=t(L,h),P=W.length,k=L.length),N=P,A=L.slice(0,P),T=A.length;T<P;)A[T++]=0;I=W.slice(),I.unshift(0),M=W[0],W[1]>=mn/2&&++M;do h=0,u=e(W,A,P,T),u<0?(C=A[0],P!=T&&(C=C*mn+(A[1]||0)),h=C/M|0,h>1?(h>=mn&&(h=mn-1),m=t(W,h),y=m.length,T=A.length,u=e(m,A,y,T),u==1&&(h--,n(m,P<y?I:W,y))):(h==0&&(u=h=1),m=W.slice()),y=m.length,y<T&&m.unshift(0),n(A,m,T),u==-1&&(T=A.length,u=e(W,A,P,T),u<1&&(h++,n(A,P<T?I:W,T))),T=A.length):u===0&&(h++,A=[0]),S[f++]=h,u&&A[0]?A[T++]=L[N]||0:(A=[L[N]],T=1);while((N++<k||A[0]!==void 0)&&O--)}return S[0]||S.shift(),_.e=c,Ot(_,s?i+nn(_)+1:i)}}();function jj(t,e){var n,r,a,i,s,u,c=0,f=0,h=t.constructor,m=h.precision;if(nn(t)>16)throw Error(yS+nn(t));if(!t.s)return new h(sr);for(Vt=!1,u=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(_o(2,f))/Math.LN10*2+5|0,u+=r,n=a=i=new h(sr),h.precision=u;;){if(a=Ot(a.times(t),u),n=n.times(++c),s=i.plus(Va(a,n,u)),na(s.d).slice(0,u)===na(i.d).slice(0,u)){for(;f--;)i=Ot(i.times(i),u);return h.precision=m,e==null?(Vt=!0,Ot(i,m)):i}i=s}}function nn(t){for(var e=t.e*Bt,n=t.d[0];n>=10;n/=10)e++;return e}function zb(t,e,n){if(e>t.LN10.sd())throw Vt=!0,n&&(t.precision=n),Error(kr+"LN10 precision limit exceeded");return Ot(new t(t.LN10),e)}function Oi(t){for(var e="";t--;)e+="0";return e}function Mc(t,e){var n,r,a,i,s,u,c,f,h,m=1,y=10,_=t,S=_.d,A=_.constructor,T=A.precision;if(_.s<1)throw Error(kr+(_.s?"NaN":"-Infinity"));if(_.eq(sr))return new A(0);if(e==null?(Vt=!1,f=T):f=e,_.eq(10))return e==null&&(Vt=!0),zb(A,f);if(f+=y,A.precision=f,n=na(S),r=n.charAt(0),i=nn(_),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=na(_.d),r=n.charAt(0),m++;i=nn(_),r>1?(_=new A("0."+n),i++):_=new A(r+"."+n.slice(1))}else return c=zb(A,f+2,T).times(i+""),_=Mc(new A(r+"."+n.slice(1)),f-y).plus(c),A.precision=T,e==null?(Vt=!0,Ot(_,T)):_;for(u=s=_=Va(_.minus(sr),_.plus(sr),f),h=Ot(_.times(_),f),a=3;;){if(s=Ot(s.times(h),f),c=u.plus(Va(s,new A(a),f)),na(c.d).slice(0,f)===na(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(zb(A,f+2,T).times(i+""))),u=Va(u,new A(m),f),A.precision=T,e==null?(Vt=!0,Ot(u,T)):u;u=c,a+=2}}function ND(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Bl(n/Bt),t.d=[],r=(n+1)%Bt,n<0&&(r+=Bt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Bt;r<a;)t.d.push(+e.slice(r,r+=Bt));e=e.slice(r),r=Bt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Vt&&(t.e>Ah||t.e<-Ah))throw Error(yS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ot(t,e,n){var r,a,i,s,u,c,f,h,m=t.d;for(s=1,i=m[0];i>=10;i/=10)s++;if(r=e-s,r<0)r+=Bt,a=e,f=m[h=0];else{if(h=Math.ceil((r+1)/Bt),i=m.length,h>=i)return t;for(f=i=m[h],s=1;i>=10;i/=10)s++;r%=Bt,a=r-Bt+s}if(n!==void 0&&(i=_o(10,s-a-1),u=f/i%10|0,c=e<0||m[h+1]!==void 0||f%i,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?a>0?f/_o(10,s-a):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(i=nn(t),m.length=1,e=e-i-1,m[0]=_o(10,(Bt-e%Bt)%Bt),t.e=Bl(-e/Bt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,i=1,h--):(m.length=h+1,i=_o(10,Bt-r),m[h]=a>0?(f/_o(10,s-a)%_o(10,a)|0)*i:0),c)for(;;)if(h==0){(m[0]+=i)==mn&&(m[0]=1,++t.e);break}else{if(m[h]+=i,m[h]!=mn)break;m[h--]=0,i=1}for(r=m.length;m[--r]===0;)m.pop();if(Vt&&(t.e>Ah||t.e<-Ah))throw Error(yS+nn(t));return t}function Lj(t,e){var n,r,a,i,s,u,c,f,h,m,y=t.constructor,_=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Vt?Ot(e,_):e;if(c=t.d,m=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,u=m.length):(n=m,r=f,u=c.length),a=Math.max(Math.ceil(_/Bt),u)+2,s>a&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for(a=c.length,u=m.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(c[a]!=m[a]){h=c[a]<m[a];break}s=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),u=c.length,a=m.length-u;a>0;--a)c[u++]=0;for(a=m.length;a>s;){if(c[--a]<m[a]){for(i=a;i&&c[--i]===0;)c[i]=mn-1;--c[i],c[a]+=mn}c[a]-=m[a]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Vt?Ot(e,_):e):new y(0)}function Po(t,e,n){var r,a=nn(t),i=na(t.d),s=i.length;return e?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+Oi(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Oi(-a-1)+i,n&&(r=n-s)>0&&(i+=Oi(r))):a>=s?(i+=Oi(a+1-s),n&&(r=n-a-1)>0&&(i=i+"."+Oi(r))):((r=a+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(a+1===s&&(i+="."),i+=Oi(r))),t.s<0?"-"+i:i}function PD(t,e){if(t.length>e)return t.length=e,!0}function $j(t){var e,n,r;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Oo+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return ND(s,i.toString())}else if(typeof i!="string")throw Error(Oo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,yz.test(i))ND(s,i);else throw Error(Oo+i)}if(a.prototype=Ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$j,a.config=a.set=bz,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function bz(t){if(!t||typeof t!="object")throw Error(kr+"Object expected");var e,n,r,a=["precision",1,$l,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Bl(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(Oo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Oo+n+": "+r);return this}var bS=$j(vz);sr=new bS(1);const Et=bS;function xz(t){return Tz(t)||Sz(t)||wz(t)||_z()}function _z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wz(t,e){if(t){if(typeof t=="string")return c_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(t,e)}}function Sz(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Tz(t){if(Array.isArray(t))return c_(t)}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Az=function(e){return e},Bj={},qj=function(e){return e===Bj},RD=function(e){return function n(){return arguments.length===0||arguments.length===1&&qj(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Ez=function t(e,n){return e===1?n:RD(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var s=a.filter(function(u){return u!==Bj}).length;return s>=e?n.apply(void 0,a):t(e-s,RD(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=a.map(function(m){return qj(m)?c.shift():m});return n.apply(void 0,xz(h).concat(c))}))})},Np=function(e){return Ez(e.length,e)},f_=function(e,n){for(var r=[],a=e;a<n;++a)r[a-e]=a;return r},Cz=Np(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),kz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Az;var a=n.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(u,c){return c(u)},i.apply(void 0,arguments))}},d_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Uj=function(e){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n&&i.every(function(u,c){return u===n[c]})||(n=i,r=e.apply(void 0,i)),r}};function Oz(t){var e;return t===0?e=1:e=Math.floor(new Et(t).abs().log(10).toNumber())+1,e}function Mz(t,e,n){for(var r=new Et(t),a=0,i=[];r.lt(e)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var Dz=Np(function(t,e,n){var r=+t,a=+e;return r+n*(a-r)}),Nz=Np(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Pz=Np(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Pp={rangeStep:Mz,getDigitCount:Oz,interpolateNumber:Dz,uninterpolateNumber:Nz,uninterpolateTruncation:Pz};function h_(t){return jz(t)||Iz(t)||Fj(t)||Rz()}function Rz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iz(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jz(t){if(Array.isArray(t))return p_(t)}function Dc(t,e){return Bz(t)||$z(t,e)||Fj(t,e)||Lz()}function Lz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fj(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $z(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),u;!(r=(u=s.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(a)throw i}}return n}}function Bz(t){if(Array.isArray(t))return t}function Vj(t){var e=Dc(t,2),n=e[0],r=e[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function zj(t,e,n){if(t.lte(0))return new Et(0);var r=Pp.getDigitCount(t.toNumber()),a=new Et(10).pow(r),i=t.div(a),s=r!==1?.05:.1,u=new Et(Math.ceil(i.div(s).toNumber())).add(n).mul(s),c=u.mul(a);return e?c:new Et(Math.ceil(c))}function qz(t,e,n){var r=1,a=new Et(t);if(!a.isint()&&n){var i=Math.abs(t);i<1?(r=new Et(10).pow(Pp.getDigitCount(t)-1),a=new Et(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Et(Math.floor(t)))}else t===0?a=new Et(Math.floor((e-1)/2)):n||(a=new Et(Math.floor(t)));var s=Math.floor((e-1)/2),u=kz(Cz(function(c){return a.add(new Et(c-s).mul(r)).toNumber()}),f_);return u(0,e)}function Gj(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var i=zj(new Et(e).sub(t).div(n-1),r,a),s;t<=0&&e>=0?s=new Et(0):(s=new Et(t).add(e).div(2),s=s.sub(new Et(s).mod(i)));var u=Math.ceil(s.sub(t).div(i).toNumber()),c=Math.ceil(new Et(e).sub(s).div(i).toNumber()),f=u+c+1;return f>n?Gj(t,e,n,r,a+1):(f<n&&(c=e>0?c+(n-f):c,u=e>0?u:u+(n-f)),{step:i,tickMin:s.sub(new Et(u).mul(i)),tickMax:s.add(new Et(c).mul(i))})}function Uz(t){var e=Dc(t,2),n=e[0],r=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),u=Vj([n,r]),c=Dc(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(h_(f_(0,a-1).map(function(){return 1/0}))):[].concat(h_(f_(0,a-1).map(function(){return-1/0})),[h]);return n>r?d_(m):m}if(f===h)return qz(f,a,i);var y=Gj(f,h,s,i),_=y.step,S=y.tickMin,A=y.tickMax,T=Pp.rangeStep(S,A.add(new Et(.1).mul(_)),_);return n>r?d_(T):T}function Fz(t,e){var n=Dc(t,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Vj([r,a]),u=Dc(s,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[r,a];if(c===f)return[c];var h=Math.max(e,2),m=zj(new Et(f).sub(c).div(h-1),i,0),y=[].concat(h_(Pp.rangeStep(new Et(c),new Et(f).sub(new Et(.99).mul(m)),m)),[f]);return r>a?d_(y):y}var Vz=Uj(Uz),zz=Uj(Fz),Gz="Invariant failed";function Ro(t,e){throw new Error(Gz)}var Hz=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eh.apply(this,arguments)}function Kz(t,e){return Zz(t)||Xz(t,e)||Wz(t,e)||Yz()}function Yz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wz(t,e){if(t){if(typeof t=="string")return ID(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ID(t,e)}}function ID(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw a}}return u}}function Zz(t){if(Array.isArray(t))return t}function Jz(t,e){if(t==null)return{};var n=Qz(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yj(r.key),r)}}function nG(t,e,n){return e&&tG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rG(t,e,n){return e=Ch(e),aG(t,Hj()?Reflect.construct(e,n||[],Ch(t).constructor):e.apply(t,n))}function aG(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iG(t)}function iG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hj=function(){return!!t})()}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ch(t)}function oG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},m_(t,e)}function Kj(t,e,n){return e=Yj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yj(t){var e=sG(t,"string");return cl(e)=="symbol"?e:e+""}function sG(t,e){if(cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rp=function(t){function e(){return eG(this,e),rG(this,e,arguments)}return oG(e,t),nG(e,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,s=r.width,u=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,y=Jz(r,Hz),_=Ve(y,!1);this.props.direction==="x"&&h.type!=="number"&&Ro();var S=c.map(function(A){var T=f(A,u),C=T.x,O=T.y,E=T.value,N=T.errorVal;if(!N)return null;var k=[],M,P;if(Array.isArray(N)){var I=Kz(N,2);M=I[0],P=I[1]}else M=P=N;if(i==="vertical"){var B=h.scale,V=O+a,L=V+s,W=V-s,Q=B(E-M),Y=B(E+P);k.push({x1:Y,y1:L,x2:Y,y2:W}),k.push({x1:Q,y1:V,x2:Y,y2:V}),k.push({x1:Q,y1:L,x2:Q,y2:W})}else if(i==="horizontal"){var H=m.scale,j=C+a,F=j-s,Z=j+s,ae=H(E-M),$=H(E+P);k.push({x1:F,y1:$,x2:Z,y2:$}),k.push({x1:j,y1:ae,x2:j,y2:$}),k.push({x1:F,y1:ae,x2:Z,y2:ae})}return X.createElement(wt,Eh({className:"recharts-errorBar",key:"bar-".concat(k.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},_),k.map(function(G){return X.createElement("line",Eh({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return X.createElement(wt,{className:"recharts-errorBars"},S)}}])}(X.Component);Kj(Rp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Kj(Rp,"displayName","ErrorBar");function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){lG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lG(t,e,n){return e=uG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uG(t){var e=cG(t,"string");return Nc(e)=="symbol"?e:e+""}function cG(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wj=function(e){var n=e.children,r=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=or(n,Ri);if(!s)return null;var u=Ri.defaultProps,c=u!==void 0?mo(mo({},u),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:i==="children"?f=(r||[]).reduce(function(h,m){var y=m.item,_=m.props,S=_.sectors||_.data||[];return h.concat(S.map(function(A){return{type:s.props.iconType||y.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):f=(r||[]).map(function(h){var m=h.item,y=m.type.defaultProps,_=y!==void 0?mo(mo({},y),m.props):{},S=_.dataKey,A=_.name,T=_.legendType,C=_.hide;return{inactive:C,dataKey:S,type:c.iconType||T||"square",color:xS(m),value:A||S,payload:_}}),mo(mo(mo({},c),Ri.getWithHeight(s,a)),{},{payload:f,item:s})};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function LD(t){return pG(t)||hG(t)||dG(t)||fG()}function fG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dG(t,e){if(t){if(typeof t=="string")return g_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(t,e)}}function hG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pG(t){if(Array.isArray(t))return g_(t)}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){Js(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Js(t,e,n){return e=mG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mG(t){var e=gG(t,"string");return Pc(e)=="symbol"?e:e+""}function gG(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kn(t,e,n){return st(t)||st(e)?n:sn(e)?ur(t,e,n):Ge(e)?e(t):n}function dc(t,e,n,r){var a=pz(t,function(u){return kn(u,e)});if(n==="number"){var i=a.filter(function(u){return xe(u)||parseFloat(u)});return i.length?[Mp(i),Op(i)]:[1/0,-1/0]}var s=r?a.filter(function(u){return!st(u)}):a;return s.map(function(u){return sn(u)||u instanceof Date?u:""})}var vG=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,f=0;f<u;f++){var h=f>0?a[f-1].coordinate:a[u-1].coordinate,m=a[f].coordinate,y=f>=u-1?a[0].coordinate:a[f+1].coordinate,_=void 0;if(jn(m-h)!==jn(y-m)){var S=[];if(jn(y-m)===jn(c[1]-c[0])){_=y;var A=m+c[1]-c[0];S[0]=Math.min(A,(A+h)/2),S[1]=Math.max(A,(A+h)/2)}else{_=h;var T=y+c[1]-c[0];S[0]=Math.min(m,(T+m)/2),S[1]=Math.max(m,(T+m)/2)}var C=[Math.min(m,(_+m)/2),Math.max(m,(_+m)/2)];if(e>C[0]&&e<=C[1]||e>=S[0]&&e<=S[1]){s=a[f].index;break}}else{var O=Math.min(h,y),E=Math.max(h,y);if(e>(O+m)/2&&e<=(E+m)/2){s=a[f].index;break}}}else for(var N=0;N<u;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<u-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===u-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},xS=function(e){var n,r=e,a=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,s=i.stroke,u=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},yG=function(e){var n=e.barSize,r=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},u=Object.keys(i),c=0,f=u.length;c<f;c++)for(var h=i[u[c]].stackGroups,m=Object.keys(h),y=0,_=m.length;y<_;y++){var S=h[m[y]],A=S.items,T=S.cateAxisId,C=A.filter(function(P){return Fa(P.type).indexOf("Bar")>=0});if(C&&C.length){var O=C[0].type.defaultProps,E=O!==void 0?Yt(Yt({},O),C[0].props):C[0].props,N=E.barSize,k=E[T];s[k]||(s[k]=[]);var M=st(N)?n:N;s[k].push({item:C[0],stackList:C.slice(1),barSize:st(M)?void 0:Ln(M,r,0)})}}return s},bG=function(e){var n=e.barGap,r=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,u=e.maxBarSize,c=s.length;if(c<1)return null;var f=Ln(n,a,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var y=!1,_=a/c,S=s.reduce(function(N,k){return N+k.barSize||0},0);S+=(c-1)*f,S>=a&&(S-=(c-1)*f,f=0),S>=a&&_>0&&(y=!0,_*=.9,S=c*_);var A=(a-S)/2>>0,T={offset:A-f,size:0};h=s.reduce(function(N,k){var M={item:k.item,position:{offset:T.offset+T.size+f,size:y?_:k.barSize}},P=[].concat(LD(N),[M]);return T=P[P.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(I){P.push({item:I,position:T})}),P},m)}else{var C=Ln(r,a,0,!0);a-2*C-(c-1)*f<=0&&(f=0);var O=(a-2*C-(c-1)*f)/c;O>1&&(O>>=0);var E=u===+u?Math.min(O,u):O;h=s.reduce(function(N,k,M){var P=[].concat(LD(N),[{item:k.item,position:{offset:C+(O+f)*M+(O-E)/2,size:E}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(I){P.push({item:I,position:P[P.length-1].position})}),P},m)}return h},xG=function(e,n,r,a){var i=r.children,s=r.width,u=r.margin,c=s-(u.left||0)-(u.right||0),f=Wj({children:i,legendWidth:c});if(f){var h=a||{},m=h.width,y=h.height,_=f.align,S=f.verticalAlign,A=f.layout;if((A==="vertical"||A==="horizontal"&&S==="middle")&&_!=="center"&&xe(e[_]))return Yt(Yt({},e),{},Js({},_,e[_]+(m||0)));if((A==="horizontal"||A==="vertical"&&_==="center")&&S!=="middle"&&xe(e[S]))return Yt(Yt({},e),{},Js({},S,e[S]+(y||0)))}return e},_G=function(e,n,r){return st(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Xj=function(e,n,r,a,i){var s=n.props.children,u=Er(s,Rp).filter(function(f){return _G(a,i,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=kn(h,r);if(st(m))return f;var y=Array.isArray(m)?[Mp(m),Op(m)]:[m,m],_=c.reduce(function(S,A){var T=kn(h,A,0),C=y[0]-Math.abs(Array.isArray(T)?T[0]:T),O=y[1]+Math.abs(Array.isArray(T)?T[1]:T);return[Math.min(C,S[0]),Math.max(O,S[1])]},[1/0,-1/0]);return[Math.min(_[0],f[0]),Math.max(_[1],f[1])]},[1/0,-1/0])}return null},wG=function(e,n,r,a,i){var s=n.map(function(u){return Xj(e,u,r,i,a)}).filter(function(u){return!st(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},Zj=function(e,n,r,a,i){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&Xj(e,c,f,a)||dc(e,f,r,i)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,f){for(var h=0,m=f.length;h<m;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},Jj=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Qj=function(e,n,r,a){if(a)return e.map(function(c){return c.coordinate});var i,s,u=e.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(s=!0),c.coordinate});return i||u.push(n),s||u.push(r),u},Ua=function(e,n,r){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,f=(n||r)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?jn(u[0]-u[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var y=i?i.indexOf(m):m;return{coordinate:a(y)+f,value:m,offset:f}});return h.filter(function(m){return!af(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:a(m)+f,value:m,index:y,offset:f}}):a.ticks&&!r?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+f,value:m,offset:f}}):a.domain().map(function(m,y){return{coordinate:a(m)+f,value:i?i[m]:m,index:y,offset:f}})},Gb=new WeakMap,Fd=function(e,n){if(typeof n!="function")return e;Gb.has(e)||Gb.set(e,new WeakMap);var r=Gb.get(e);if(r.has(n))return r.get(n);var a=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},e5=function(e,n,r){var a=e.scale,i=e.type,s=e.layout,u=e.axisType;if(a==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Ac(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:_h(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:fc(),realScaleType:"point"}:i==="category"?{scale:Ac(),realScaleType:"band"}:{scale:_h(),realScaleType:"linear"};if(Mo(a)){var c="scale".concat(pp(a));return{scale:(SD[c]||fc)(),realScaleType:SD[c]?c:"point"}}return Ge(a)?{scale:a}:{scale:fc(),realScaleType:"point"}},BD=1e-4,t5=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,a=e.range(),i=Math.min(a[0],a[1])-BD,s=Math.max(a[0],a[1])+BD,u=e(n[0]),c=e(n[r-1]);(u<i||u>s||c<i||c>s)&&e.domain([n[0],n[r-1]])}},SG=function(e,n){if(!e)return null;for(var r=0,a=e.length;r<a;r++)if(e[r].item===n)return e[r].position;return null},TG=function(e,n){if(!n||n.length!==2||!xe(n[0])||!xe(n[1]))return e;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!xe(e[0])||e[0]<r)&&(i[0]=r),(!xe(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},AG=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,s=0,u=0;u<n;++u){var c=af(e[u][r][1])?e[u][r][0]:e[u][r][1];c>=0?(e[u][r][0]=i,e[u][r][1]=i+c,i=e[u][r][1]):(e[u][r][0]=s,e[u][r][1]=s+c,s=e[u][r][1])}},EG=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,s=0;s<n;++s){var u=af(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=i,e[s][r][1]=i+u,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},CG={sign:AG,expand:p8,none:nl,silhouette:m8,wiggle:g8,positive:EG},kG=function(e,n,r){var a=n.map(function(u){return u.props.dataKey}),i=CG[r],s=h8().keys(a).value(function(u,c){return+kn(u,c,0)}).order(Hx).offset(i);return s(e)},OG=function(e,n,r,a,i,s){if(!e)return null;var u=s?n.reverse():n,c={},f=u.reduce(function(m,y){var _,S=(_=y.type)!==null&&_!==void 0&&_.defaultProps?Yt(Yt({},y.type.defaultProps),y.props):y.props,A=S.stackId,T=S.hide;if(T)return m;var C=S[r],O=m[C]||{hasStack:!1,stackGroups:{}};if(sn(A)){var E=O.stackGroups[A]||{numericAxisId:r,cateAxisId:a,items:[]};E.items.push(y),O.hasStack=!0,O.stackGroups[A]=E}else O.stackGroups[of("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[y]};return Yt(Yt({},m),{},Js({},C,O))},c),h={};return Object.keys(f).reduce(function(m,y){var _=f[y];if(_.hasStack){var S={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(A,T){var C=_.stackGroups[T];return Yt(Yt({},A),{},Js({},T,{numericAxisId:r,cateAxisId:a,items:C.items,stackedData:kG(e,C.items,i)}))},S)}return Yt(Yt({},m),{},Js({},y,_))},h)},n5=function(e,n){var r=n.realScaleType,a=n.type,i=n.tickCount,s=n.originalDomain,u=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=Vz(f,i,u);return e.domain([Mp(h),Op(h)]),{niceTicks:h}}if(i&&a==="number"){var m=e.domain(),y=zz(m,i,u);return{niceTicks:y}}return null},qD=function(e){var n=e.axis,r=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+a:null;var c=kn(s,n.dataKey,n.domain[u]);return st(c)?null:n.scale(c)-i/2+a},MG=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},DG=function(e,n){var r,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(sn(i)){var s=n[i];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},NG=function(e){return e.reduce(function(n,r){return[Mp(r.concat([n[0]]).filter(xe)),Op(r.concat([n[1]]).filter(xe))]},[1/0,-1/0])},r5=function(e,n,r){return Object.keys(e).reduce(function(a,i){var s=e[i],u=s.stackedData,c=u.reduce(function(f,h){var m=NG(h.slice(n,r+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},UD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v_=function(e,n,r){if(Ge(e))return e(n,r);if(!Array.isArray(e))return n;var a=[];if(xe(e[0]))a[0]=r?e[0]:Math.min(e[0],n[0]);else if(UD.test(e[0])){var i=+UD.exec(e[0])[1];a[0]=n[0]-i}else Ge(e[0])?a[0]=e[0](n[0]):a[0]=n[0];if(xe(e[1]))a[1]=r?e[1]:Math.max(e[1],n[1]);else if(FD.test(e[1])){var s=+FD.exec(e[1])[1];a[1]=n[1]+s}else Ge(e[1])?a[1]=e[1](n[1]):a[1]=n[1];return a},kh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&n&&n.length>=2){for(var i=Yw(n,function(m){return m.coordinate}),s=1/0,u=1,c=i.length;u<c;u++){var f=i[u],h=i[u-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},VD=function(e,n,r){return!e||!e.length||Dp(e,ur(r,"type.defaultProps.domain"))?n:e},a5=function(e,n){var r=e.type.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,a=r.dataKey,i=r.name,s=r.unit,u=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return Yt(Yt({},Ve(e,!1)),{},{dataKey:a,unit:s,formatter:u,name:i||a,color:xS(e),value:kn(n,a),type:c,payload:n,chartType:f,hide:h})};function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){i5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i5(t,e,n){return e=PG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PG(t){var e=RG(t,"string");return Rc(e)=="symbol"?e:e+""}function RG(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IG(t,e){return BG(t)||$G(t,e)||LG(t,e)||jG()}function jG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LG(t,e){if(t){if(typeof t=="string")return GD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GD(t,e)}}function GD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $G(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw a}}return u}}function BG(t){if(Array.isArray(t))return t}var Oh=Math.PI/180,qG=function(e){return e*180/Math.PI},jt=function(e,n,r,a){return{x:e+Math.cos(-Oh*a)*r,y:n+Math.sin(-Oh*a)*r}},o5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},UG=function(e,n,r,a,i){var s=e.width,u=e.height,c=e.startAngle,f=e.endAngle,h=Ln(e.cx,s,s/2),m=Ln(e.cy,u,u/2),y=o5(s,u,r),_=Ln(e.innerRadius,y,0),S=Ln(e.outerRadius,y,y*.8),A=Object.keys(n);return A.reduce(function(T,C){var O=n[C],E=O.domain,N=O.reversed,k;if(st(O.range))a==="angleAxis"?k=[c,f]:a==="radiusAxis"&&(k=[_,S]),N&&(k=[k[1],k[0]]);else{k=O.range;var M=k,P=IG(M,2);c=P[0],f=P[1]}var I=e5(O,i),B=I.realScaleType,V=I.scale;V.domain(E).range(k),t5(V);var L=n5(V,$a($a({},O),{},{realScaleType:B})),W=$a($a($a({},O),L),{},{range:k,radius:S,realScaleType:B,scale:V,cx:h,cy:m,innerRadius:_,outerRadius:S,startAngle:c,endAngle:f});return $a($a({},T),{},i5({},C,W))},{})},FG=function(e,n){var r=e.x,a=e.y,i=n.x,s=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-s,2))},VG=function(e,n){var r=e.x,a=e.y,i=n.cx,s=n.cy,u=FG({x:r,y:a},{x:i,y:s});if(u<=0)return{radius:u};var c=(r-i)/u,f=Math.acos(c);return a>s&&(f=2*Math.PI-f),{radius:u,angle:qG(f),angleInRadian:f}},zG=function(e){var n=e.startAngle,r=e.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),s=Math.min(a,i);return{startAngle:n-s*360,endAngle:r-s*360}},GG=function(e,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),s=Math.floor(a/360),u=Math.min(i,s);return e+u*360},HD=function(e,n){var r=e.x,a=e.y,i=VG({x:r,y:a},n),s=i.radius,u=i.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=zG(n),m=h.startAngle,y=h.endAngle,_=u,S;if(m<=y){for(;_>y;)_-=360;for(;_<m;)_+=360;S=_>=m&&_<=y}else{for(;_>m;)_-=360;for(;_<y;)_+=360;S=_>=y&&_<=m}return S?$a($a({},n),{},{radius:s,angle:GG(_,n)}):null},s5=function(e){return!q.isValidElement(e)&&!Ge(e)&&typeof e!="boolean"?e.className:""};function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}var HG=["offset"];function KG(t){return ZG(t)||XG(t)||WG(t)||YG()}function YG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WG(t,e){if(t){if(typeof t=="string")return y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y_(t,e)}}function XG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZG(t){if(Array.isArray(t))return y_(t)}function y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JG(t,e){if(t==null)return{};var n=QG(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){eH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eH(t,e,n){return e=tH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tH(t){var e=nH(t,"string");return Ic(e)=="symbol"?e:e+""}function nH(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(this,arguments)}var rH=function(e){var n=e.value,r=e.formatter,a=st(e.children)?n:e.children;return Ge(r)?r(a):a},aH=function(e,n){var r=jn(n-e),a=Math.min(Math.abs(n-e),360);return r*a},iH=function(e,n,r){var a=e.position,i=e.viewBox,s=e.offset,u=e.className,c=i,f=c.cx,h=c.cy,m=c.innerRadius,y=c.outerRadius,_=c.startAngle,S=c.endAngle,A=c.clockWise,T=(m+y)/2,C=aH(_,S),O=C>=0?1:-1,E,N;a==="insideStart"?(E=_+O*s,N=A):a==="insideEnd"?(E=S-O*s,N=!A):a==="end"&&(E=S+O*s,N=A),N=C<=0?N:!N;var k=jt(f,h,T,E),M=jt(f,h,T,E+(N?1:-1)*359),P="M".concat(k.x,",").concat(k.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(N?0:1,`,
    `).concat(M.x,",").concat(M.y),I=st(e.id)?of("recharts-radial-line-"):e.id;return X.createElement("text",jc({},r,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",u)}),X.createElement("defs",null,X.createElement("path",{id:I,d:P})),X.createElement("textPath",{xlinkHref:"#".concat(I)},n))},oH=function(e){var n=e.viewBox,r=e.offset,a=e.position,i=n,s=i.cx,u=i.cy,c=i.innerRadius,f=i.outerRadius,h=i.startAngle,m=i.endAngle,y=(h+m)/2;if(a==="outside"){var _=jt(s,u,f+r,y),S=_.x,A=_.y;return{x:S,y:A,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var T=(c+f)/2,C=jt(s,u,T,y),O=C.x,E=C.y;return{x:O,y:E,textAnchor:"middle",verticalAnchor:"middle"}},sH=function(e){var n=e.viewBox,r=e.parentViewBox,a=e.offset,i=e.position,s=n,u=s.x,c=s.y,f=s.width,h=s.height,m=h>=0?1:-1,y=m*a,_=m>0?"end":"start",S=m>0?"start":"end",A=f>=0?1:-1,T=A*a,C=A>0?"end":"start",O=A>0?"start":"end";if(i==="top"){var E={x:u+f/2,y:c-m*a,textAnchor:"middle",verticalAnchor:_};return on(on({},E),r?{height:Math.max(c-r.y,0),width:f}:{})}if(i==="bottom"){var N={x:u+f/2,y:c+h+y,textAnchor:"middle",verticalAnchor:S};return on(on({},N),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(i==="left"){var k={x:u-T,y:c+h/2,textAnchor:C,verticalAnchor:"middle"};return on(on({},k),r?{width:Math.max(k.x-r.x,0),height:h}:{})}if(i==="right"){var M={x:u+f+T,y:c+h/2,textAnchor:O,verticalAnchor:"middle"};return on(on({},M),r?{width:Math.max(r.x+r.width-M.x,0),height:h}:{})}var P=r?{width:f,height:h}:{};return i==="insideLeft"?on({x:u+T,y:c+h/2,textAnchor:O,verticalAnchor:"middle"},P):i==="insideRight"?on({x:u+f-T,y:c+h/2,textAnchor:C,verticalAnchor:"middle"},P):i==="insideTop"?on({x:u+f/2,y:c+y,textAnchor:"middle",verticalAnchor:S},P):i==="insideBottom"?on({x:u+f/2,y:c+h-y,textAnchor:"middle",verticalAnchor:_},P):i==="insideTopLeft"?on({x:u+T,y:c+y,textAnchor:O,verticalAnchor:S},P):i==="insideTopRight"?on({x:u+f-T,y:c+y,textAnchor:C,verticalAnchor:S},P):i==="insideBottomLeft"?on({x:u+T,y:c+h-y,textAnchor:O,verticalAnchor:_},P):i==="insideBottomRight"?on({x:u+f-T,y:c+h-y,textAnchor:C,verticalAnchor:_},P):Rl(i)&&(xe(i.x)||To(i.x))&&(xe(i.y)||To(i.y))?on({x:u+Ln(i.x,f),y:c+Ln(i.y,h),textAnchor:"end",verticalAnchor:"end"},P):on({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},lH=function(e){return"cx"in e&&xe(e.cx)};function gn(t){var e=t.offset,n=e===void 0?5:e,r=JG(t,HG),a=on({offset:n},r),i=a.viewBox,s=a.position,u=a.value,c=a.children,f=a.content,h=a.className,m=h===void 0?"":h,y=a.textBreakAll;if(!i||st(u)&&st(c)&&!q.isValidElement(f)&&!Ge(f))return null;if(q.isValidElement(f))return q.cloneElement(f,a);var _;if(Ge(f)){if(_=q.createElement(f,a),q.isValidElement(_))return _}else _=rH(a);var S=lH(i),A=Ve(a,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return iH(a,_,A);var T=S?oH(a):sH(a);return X.createElement(No,jc({className:rt("recharts-label",m)},A,T,{breakAll:y}),_)}gn.displayName="Label";var l5=function(e){var n=e.cx,r=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,y=e.y,_=e.top,S=e.left,A=e.width,T=e.height,C=e.clockWise,O=e.labelViewBox;if(O)return O;if(xe(A)&&xe(T)){if(xe(m)&&xe(y))return{x:m,y,width:A,height:T};if(xe(_)&&xe(S))return{x:_,y:S,width:A,height:T}}return xe(m)&&xe(y)?{x:m,y,width:0,height:0}:xe(n)&&xe(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:s||a||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:C}:e.viewBox?e.viewBox:{}},uH=function(e,n){return e?e===!0?X.createElement(gn,{key:"label-implicit",viewBox:n}):sn(e)?X.createElement(gn,{key:"label-implicit",viewBox:n,value:e}):q.isValidElement(e)?e.type===gn?q.cloneElement(e,{key:"label-implicit",viewBox:n}):X.createElement(gn,{key:"label-implicit",content:e,viewBox:n}):Ge(e)?X.createElement(gn,{key:"label-implicit",content:e,viewBox:n}):Rl(e)?X.createElement(gn,jc({viewBox:n},e,{key:"label-implicit"})):null:null},cH=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=l5(e),s=Er(a,gn).map(function(c,f){return q.cloneElement(c,{viewBox:n||i,key:"label-".concat(f)})});if(!r)return s;var u=uH(e.label,n||i);return[u].concat(KG(s))};gn.parseViewBox=l5;gn.renderCallByParent=cH;var Hb,YD;function fH(){if(YD)return Hb;YD=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Hb=t,Hb}var dH=fH();const hH=pt(dH);function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}var pH=["valueAccessor"],mH=["data","dataKey","clockWise","id","textBreakAll"];function gH(t){return xH(t)||bH(t)||yH(t)||vH()}function vH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yH(t,e){if(t){if(typeof t=="string")return b_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(t,e)}}function bH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xH(t){if(Array.isArray(t))return b_(t)}function b_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mh.apply(this,arguments)}function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function XD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){_H(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _H(t,e,n){return e=wH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wH(t){var e=SH(t,"string");return Lc(e)=="symbol"?e:e+""}function SH(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZD(t,e){if(t==null)return{};var n=TH(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var AH=function(e){return Array.isArray(e.value)?hH(e.value):e.value};function ji(t){var e=t.valueAccessor,n=e===void 0?AH:e,r=ZD(t,pH),a=r.data,i=r.dataKey,s=r.clockWise,u=r.id,c=r.textBreakAll,f=ZD(r,mH);return!a||!a.length?null:X.createElement(wt,{className:"recharts-label-list"},a.map(function(h,m){var y=st(i)?n(h,m):kn(h&&h.payload,i),_=st(u)?{}:{id:"".concat(u,"-").concat(m)};return X.createElement(gn,Mh({},Ve(h,!0),f,_,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:gn.parseViewBox(st(s)?h:XD(XD({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}ji.displayName="LabelList";function EH(t,e){return t?t===!0?X.createElement(ji,{key:"labelList-implicit",data:e}):X.isValidElement(t)||Ge(t)?X.createElement(ji,{key:"labelList-implicit",data:e,content:t}):Rl(t)?X.createElement(ji,Mh({data:e},t,{key:"labelList-implicit"})):null:null}function CH(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,a=Er(r,ji).map(function(s,u){return q.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!n)return a;var i=EH(t.label,e);return[i].concat(gH(a))}ji.renderCallByParent=CH;function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(this,arguments)}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function QD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){kH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kH(t,e,n){return e=OH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OH(t){var e=MH(t,"string");return $c(e)=="symbol"?e:e+""}function MH(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DH=function(e,n){var r=jn(n-e),a=Math.min(Math.abs(n-e),359.999);return r*a},Vd=function(e){var n=e.cx,r=e.cy,a=e.radius,i=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+a,m=Math.asin(c/h)/Oh,y=f?i:i+s*m,_=jt(n,r,h,y),S=jt(n,r,a,y),A=f?i-s*m:i,T=jt(n,r,h*Math.cos(m*Oh),A);return{center:_,circleTangency:S,lineTangency:T,theta:m}},u5=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,u=e.endAngle,c=DH(s,u),f=s+c,h=jt(n,r,i,s),m=jt(n,r,i,f),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var _=jt(n,r,a,s),S=jt(n,r,a,f);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},NH=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=jn(h-f),y=Vd({cx:n,cy:r,radius:i,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),_=y.circleTangency,S=y.lineTangency,A=y.theta,T=Vd({cx:n,cy:r,radius:i,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),C=T.circleTangency,O=T.lineTangency,E=T.theta,N=c?Math.abs(f-h):Math.abs(f-h)-A-E;if(N<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):u5({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:f,endAngle:h});var k="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
  `);if(a>0){var M=Vd({cx:n,cy:r,radius:a,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),P=M.circleTangency,I=M.lineTangency,B=M.theta,V=Vd({cx:n,cy:r,radius:a,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),L=V.circleTangency,W=V.lineTangency,Q=V.theta,Y=c?Math.abs(f-h):Math.abs(f-h)-B-Q;if(Y<0&&s===0)return"".concat(k,"L").concat(n,",").concat(r,"Z");k+="L".concat(W.x,",").concat(W.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(Y>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,"Z")}else k+="L".concat(n,",").concat(r,"Z");return k},PH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},c5=function(e){var n=QD(QD({},PH),e),r=n.cx,a=n.cy,i=n.innerRadius,s=n.outerRadius,u=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,y=n.className;if(s<i||h===m)return null;var _=rt("recharts-sector",y),S=s-i,A=Ln(u,S,0,!0),T;return A>0&&Math.abs(h-m)<360?T=NH({cx:r,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(A,S/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):T=u5({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:h,endAngle:m}),X.createElement("path",x_({},Ve(n,!0),{className:_,d:T,role:"img"}))};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function __(){return __=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},__.apply(this,arguments)}function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function t2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){RH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RH(t,e,n){return e=IH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IH(t){var e=jH(t,"string");return Bc(e)=="symbol"?e:e+""}function jH(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n2={curveBasisClosed:n8,curveBasisOpen:r8,curveBasis:t8,curveBumpX:UU,curveBumpY:FU,curveLinearClosed:a8,curveLinear:gp,curveMonotoneX:i8,curveMonotoneY:o8,curveNatural:s8,curveStep:l8,curveStepAfter:c8,curveStepBefore:u8},zd=function(e){return e.x===+e.x&&e.y===+e.y},Xu=function(e){return e.x},Zu=function(e){return e.y},LH=function(e,n){if(Ge(e))return e;var r="curve".concat(pp(e));return(r==="curveMonotone"||r==="curveBump")&&n?n2["".concat(r).concat(n==="vertical"?"Y":"X")]:n2[r]||gp},$H=function(e){var n=e.type,r=n===void 0?"linear":n,a=e.points,i=a===void 0?[]:a,s=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=LH(r,u),m=f?i.filter(function(A){return zd(A)}):i,y;if(Array.isArray(s)){var _=f?s.filter(function(A){return zd(A)}):s,S=m.map(function(A,T){return t2(t2({},A),{},{base:_[T]})});return u==="vertical"?y=Id().y(Zu).x1(Xu).x0(function(A){return A.base.x}):y=Id().x(Xu).y1(Zu).y0(function(A){return A.base.y}),y.defined(zd).curve(h),y(S)}return u==="vertical"&&xe(s)?y=Id().y(Zu).x1(Xu).x0(s):xe(s)?y=Id().x(Xu).y1(Zu).y0(s):y=sI().x(Xu).y(Zu),y.defined(zd).curve(h),y(m)},w_=function(e){var n=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var s=r&&r.length?$H(e):a;return X.createElement("path",__({},Ve(e,!1),ah(e),{className:rt("recharts-curve",n),d:s,ref:i}))},Kb={exports:{}},Yb,r2;function BH(){if(r2)return Yb;r2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Yb=t,Yb}var Wb,a2;function qH(){if(a2)return Wb;a2=1;var t=BH();function e(){}function n(){}return n.resetWarningCache=e,Wb=function(){function r(s,u,c,f,h,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},Wb}var i2;function UH(){return i2||(i2=1,Kb.exports=qH()()),Kb.exports}var FH=UH();const vt=pt(FH);var VH=Object.getOwnPropertyNames,zH=Object.getOwnPropertySymbols,GH=Object.prototype.hasOwnProperty;function o2(t,e){return function(r,a,i){return t(r,a,i)&&e(r,a,i)}}function Gd(t){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,a);var i=a.cache,s=i.get(n),u=i.get(r);if(s&&u)return s===r&&u===n;i.set(n,r),i.set(r,n);var c=t(n,r,a);return i.delete(n),i.delete(r),c}}function s2(t){return VH(t).concat(zH(t))}var HH=Object.hasOwn||function(t,e){return GH.call(t,e)};function zo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var KH="__v",YH="__o",WH="_owner",l2=Object.getOwnPropertyDescriptor,u2=Object.keys;function XH(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function ZH(t,e){return zo(t.getTime(),e.getTime())}function JH(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function QH(t,e){return t===e}function c2(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.entries(),s,u,c=0;(s=i.next())&&!s.done;){for(var f=e.entries(),h=!1,m=0;(u=f.next())&&!u.done;){if(a[m]){m++;continue}var y=s.value,_=u.value;if(n.equals(y[0],_[0],c,m,t,e,n)&&n.equals(y[1],_[1],y[0],_[0],t,e,n)){h=a[m]=!0;break}m++}if(!h)return!1;c++}return!0}var eK=zo;function tK(t,e,n){var r=u2(t),a=r.length;if(u2(e).length!==a)return!1;for(;a-- >0;)if(!f5(t,e,n,r[a]))return!1;return!0}function Ju(t,e,n){var r=s2(t),a=r.length;if(s2(e).length!==a)return!1;for(var i,s,u;a-- >0;)if(i=r[a],!f5(t,e,n,i)||(s=l2(t,i),u=l2(e,i),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function nK(t,e){return zo(t.valueOf(),e.valueOf())}function rK(t,e){return t.source===e.source&&t.flags===e.flags}function f2(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.values(),s,u;(s=i.next())&&!s.done;){for(var c=e.values(),f=!1,h=0;(u=c.next())&&!u.done;){if(!a[h]&&n.equals(s.value,u.value,s.value,u.value,t,e,n)){f=a[h]=!0;break}h++}if(!f)return!1}return!0}function aK(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function iK(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function f5(t,e,n,r){return(r===WH||r===YH||r===KH)&&(t.$$typeof||e.$$typeof)?!0:HH(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var oK="[object Arguments]",sK="[object Boolean]",lK="[object Date]",uK="[object Error]",cK="[object Map]",fK="[object Number]",dK="[object Object]",hK="[object RegExp]",pK="[object Set]",mK="[object String]",gK="[object URL]",vK=Array.isArray,d2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,h2=Object.assign,yK=Object.prototype.toString.call.bind(Object.prototype.toString);function bK(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,u=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(S,A,T){if(S===A)return!0;if(S==null||A==null)return!1;var C=typeof S;if(C!==typeof A)return!1;if(C!=="object")return C==="number"?s(S,A,T):C==="function"?a(S,A,T):!1;var O=S.constructor;if(O!==A.constructor)return!1;if(O===Object)return u(S,A,T);if(vK(S))return e(S,A,T);if(d2!=null&&d2(S))return m(S,A,T);if(O===Date)return n(S,A,T);if(O===RegExp)return f(S,A,T);if(O===Map)return i(S,A,T);if(O===Set)return h(S,A,T);var E=yK(S);return E===lK?n(S,A,T):E===hK?f(S,A,T):E===cK?i(S,A,T):E===pK?h(S,A,T):E===dK?typeof S.then!="function"&&typeof A.then!="function"&&u(S,A,T):E===gK?y(S,A,T):E===uK?r(S,A,T):E===oK?u(S,A,T):E===sK||E===fK||E===mK?c(S,A,T):!1}}function xK(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,a={areArraysEqual:r?Ju:XH,areDatesEqual:ZH,areErrorsEqual:JH,areFunctionsEqual:QH,areMapsEqual:r?o2(c2,Ju):c2,areNumbersEqual:eK,areObjectsEqual:r?Ju:tK,arePrimitiveWrappersEqual:nK,areRegExpsEqual:rK,areSetsEqual:r?o2(f2,Ju):f2,areTypedArraysEqual:r?Ju:aK,areUrlsEqual:iK};if(n&&(a=h2({},a,n(a))),e){var i=Gd(a.areArraysEqual),s=Gd(a.areMapsEqual),u=Gd(a.areObjectsEqual),c=Gd(a.areSetsEqual);a=h2({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:u,areSetsEqual:c})}return a}function _K(t){return function(e,n,r,a,i,s,u){return t(e,n,u)}}function wK(t){var e=t.circular,n=t.comparator,r=t.createState,a=t.equals,i=t.strict;if(r)return function(c,f){var h=r(),m=h.cache,y=m===void 0?e?new WeakMap:void 0:m,_=h.meta;return n(c,f,{cache:y,equals:a,meta:_,strict:i})};if(e)return function(c,f){return n(c,f,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,f){return n(c,f,s)}}var SK=Vi();Vi({strict:!0});Vi({circular:!0});Vi({circular:!0,strict:!0});Vi({createInternalComparator:function(){return zo}});Vi({strict:!0,createInternalComparator:function(){return zo}});Vi({circular:!0,createInternalComparator:function(){return zo}});Vi({circular:!0,createInternalComparator:function(){return zo},strict:!0});function Vi(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,u=xK(t),c=bK(u),f=r?r(c):_K(c);return wK({circular:n,comparator:c,createState:a,equals:f,strict:s})}function TK(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function p2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>e?(t(i),n=-1):TK(a)};requestAnimationFrame(r)}function S_(t){"@babel/helpers - typeof";return S_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S_(t)}function AK(t){return OK(t)||kK(t)||CK(t)||EK()}function EK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CK(t,e){if(t){if(typeof t=="string")return m2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m2(t,e)}}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OK(t){if(Array.isArray(t))return t}function MK(){var t={},e=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var s=i,u=AK(s),c=u[0],f=u.slice(1);if(typeof c=="number"){p2(a.bind(null,f),c);return}a(c),p2(a.bind(null,f));return}S_(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function v2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){d5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d5(t,e,n){return e=DK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DK(t){var e=NK(t,"string");return qc(e)==="symbol"?e:String(e)}function NK(t,e){if(qc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PK=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},RK=function(e){return e},IK=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},hc=function(e,n){return Object.keys(n).reduce(function(r,a){return v2(v2({},r),{},d5({},a,e(a,n[a])))},{})},y2=function(e,n,r){return e.map(function(a){return"".concat(IK(a)," ").concat(n,"ms ").concat(r)}).join(",")};function jK(t,e){return BK(t)||$K(t,e)||h5(t,e)||LK()}function LK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $K(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw a}}return u}}function BK(t){if(Array.isArray(t))return t}function qK(t){return VK(t)||FK(t)||h5(t)||UK()}function UK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h5(t,e){if(t){if(typeof t=="string")return T_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(t,e)}}function FK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VK(t){if(Array.isArray(t))return T_(t)}function T_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dh=1e-4,p5=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},m5=function(e,n){return e.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},b2=function(e,n){return function(r){var a=p5(e,n);return m5(a,r)}},zK=function(e,n){return function(r){var a=p5(e,n),i=[].concat(qK(a.map(function(s,u){return s*u}).slice(1)),[0]);return m5(i,r)}},x2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0],i=n[1],s=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,s=1,u=1;break;case"ease":a=.25,i=.1,s=.25,u=1;break;case"ease-in":a=.42,i=0,s=1,u=1;break;case"ease-out":a=.42,i=0,s=.58,u=1;break;case"ease-in-out":a=0,i=0,s=.58,u=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(T){return parseFloat(T)}),h=jK(f,4);a=h[0],i=h[1],s=h[2],u=h[3]}}}var m=b2(a,s),y=b2(i,u),_=zK(a,s),S=function(C){return C>1?1:C<0?0:C},A=function(C){for(var O=C>1?1:C,E=O,N=0;N<8;++N){var k=m(E)-O,M=_(E);if(Math.abs(k-O)<Dh||M<Dh)return y(E);E=S(E-k/M)}return y(E)};return A.isStepper=!1,A},GK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,a=e.damping,i=a===void 0?8:a,s=e.dt,u=s===void 0?17:s,c=function(h,m,y){var _=-(h-m)*r,S=y*i,A=y+(_-S)*u/1e3,T=y*u/1e3+h;return Math.abs(T-m)<Dh&&Math.abs(A)<Dh?[m,0]:[T,A]};return c.isStepper=!0,c.dt=u,c},HK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return x2(a);case"spring":return GK();default:if(a.split("(")[0]==="cubic-bezier")return x2(a)}return typeof a=="function"?a:null};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function _2(t){return WK(t)||YK(t)||g5(t)||KK()}function KK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WK(t){if(Array.isArray(t))return E_(t)}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){A_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A_(t,e,n){return e=XK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XK(t){var e=ZK(t,"string");return Uc(e)==="symbol"?e:String(e)}function ZK(t,e){if(Uc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JK(t,e){return tY(t)||eY(t,e)||g5(t,e)||QK()}function QK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g5(t,e){if(t){if(typeof t=="string")return E_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(t,e)}}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw a}}return u}}function tY(t){if(Array.isArray(t))return t}var Nh=function(e,n,r){return e+(n-e)*r},C_=function(e){var n=e.from,r=e.to;return n!==r},nY=function t(e,n,r){var a=hc(function(i,s){if(C_(s)){var u=e(s.from,s.to,s.velocity),c=JK(u,2),f=c[0],h=c[1];return _n(_n({},s),{},{from:f,velocity:h})}return s},n);return r<1?hc(function(i,s){return C_(s)?_n(_n({},s),{},{velocity:Nh(s.velocity,a[i].velocity,r),from:Nh(s.from,a[i].from,r)}):s},n):t(e,a,r-1)};const rY=function(t,e,n,r,a){var i=PK(t,e),s=i.reduce(function(T,C){return _n(_n({},T),{},A_({},C,[t[C],e[C]]))},{}),u=i.reduce(function(T,C){return _n(_n({},T),{},A_({},C,{from:t[C],velocity:0,to:e[C]}))},{}),c=-1,f,h,m=function(){return null},y=function(){return hc(function(C,O){return O.from},u)},_=function(){return!Object.values(u).filter(C_).length},S=function(C){f||(f=C);var O=C-f,E=O/n.dt;u=nY(n,u,E),a(_n(_n(_n({},t),e),y())),f=C,_()||(c=requestAnimationFrame(m))},A=function(C){h||(h=C);var O=(C-h)/r,E=hc(function(k,M){return Nh.apply(void 0,_2(M).concat([n(O)]))},s);if(a(_n(_n(_n({},t),e),E)),O<1)c=requestAnimationFrame(m);else{var N=hc(function(k,M){return Nh.apply(void 0,_2(M).concat([n(1)]))},s);a(_n(_n(_n({},t),e),N))}};return m=n.isStepper?S:A,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}var aY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function iY(t,e){if(t==null)return{};var n=oY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oY(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function Xb(t){return cY(t)||uY(t)||lY(t)||sY()}function sY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lY(t,e){if(t){if(typeof t=="string")return k_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k_(t,e)}}function uY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cY(t){if(Array.isArray(t))return k_(t)}function k_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){ac(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ac(t,e,n){return e=v5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v5(r.key),r)}}function hY(t,e,n){return e&&dY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v5(t){var e=pY(t,"string");return fl(e)==="symbol"?e:String(e)}function pY(t,e){if(fl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},O_(t,e)}function gY(t){var e=vY();return function(){var r=Ph(t),a;if(e){var i=Ph(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return M_(this,a)}}function M_(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D_(t)}function D_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ph(t)}var Ka=function(t){mY(n,t);var e=gY(n);function n(r,a){var i;fY(this,n),i=e.call(this,r,a);var s=i.props,u=s.isActive,c=s.attributeName,f=s.from,h=s.to,m=s.steps,y=s.children,_=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(D_(i)),i.changeStyle=i.changeStyle.bind(D_(i)),!u||_<=0)return i.state={style:{}},typeof y=="function"&&(i.state={style:h}),M_(i);if(m&&m.length)i.state={style:m[0].style};else if(f){if(typeof y=="function")return i.state={style:f},M_(i);i.state={style:c?ac({},c,f):f}}else i.state={style:{}};return i}return hY(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,u=i.canBegin,c=i.attributeName,f=i.shouldReAnimate,h=i.to,m=i.from,y=this.state.style;if(u){if(!s){var _={style:c?ac({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(_);return}if(!(SK(a.to,h)&&a.canBegin&&a.isActive)){var S=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=S||f?m:a.to;if(this.state&&y){var T={style:c?ac({},c,A):A};(c&&y[c]!==A||!c&&y!==A)&&this.setState(T)}this.runAnimation(Lr(Lr({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,u=a.to,c=a.duration,f=a.easing,h=a.begin,m=a.onAnimationEnd,y=a.onAnimationStart,_=rY(s,u,HK(f),c,this.changeStyle),S=function(){i.stopJSAnimation=_()};this.manager.start([y,h,S,c,m])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,u=a.begin,c=a.onAnimationStart,f=s[0],h=f.style,m=f.duration,y=m===void 0?0:m,_=function(A,T,C){if(C===0)return A;var O=T.duration,E=T.easing,N=E===void 0?"ease":E,k=T.style,M=T.properties,P=T.onAnimationEnd,I=C>0?s[C-1]:T,B=M||Object.keys(k);if(typeof N=="function"||N==="spring")return[].concat(Xb(A),[i.runJSAnimation.bind(i,{from:I.style,to:k,duration:O,easing:N}),O]);var V=y2(B,O,N),L=Lr(Lr(Lr({},I.style),k),{},{transition:V});return[].concat(Xb(A),[L,O,P]).filter(RK)};return this.manager.start([c].concat(Xb(s.reduce(_,[h,Math.max(y,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=MK());var i=a.begin,s=a.duration,u=a.attributeName,c=a.to,f=a.easing,h=a.onAnimationStart,m=a.onAnimationEnd,y=a.steps,_=a.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof _=="function"||f==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var A=u?ac({},u,c):c,T=y2(Object.keys(A),s,f);S.start([h,i,Lr(Lr({},A),{},{transition:T}),s,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=iY(a,aY),f=q.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!u||f===0||s<=0)return i;var m=function(_){var S=_.props,A=S.style,T=A===void 0?{}:A,C=S.className,O=q.cloneElement(_,Lr(Lr({},c),{},{style:Lr(Lr({},T),h),className:C}));return O};return f===1?m(q.Children.only(i)):X.createElement("div",null,q.Children.map(i,function(y){return m(y)}))}}]),n}(q.PureComponent);Ka.displayName="Animate";Ka.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ka.propTypes={from:vt.oneOfType([vt.object,vt.string]),to:vt.oneOfType([vt.object,vt.string]),attributeName:vt.string,duration:vt.number,begin:vt.number,easing:vt.oneOfType([vt.string,vt.func]),steps:vt.arrayOf(vt.shape({duration:vt.number.isRequired,style:vt.object.isRequired,easing:vt.oneOfType([vt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vt.func]),properties:vt.arrayOf("string"),onAnimationEnd:vt.func})),children:vt.oneOfType([vt.node,vt.func]),isActive:vt.bool,canBegin:vt.bool,onAnimationEnd:vt.func,shouldReAnimate:vt.bool,onAnimationStart:vt.func,onAnimationReStart:vt.func};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}function yY(t,e){return wY(t)||_Y(t,e)||xY(t,e)||bY()}function bY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xY(t,e){if(t){if(typeof t=="string")return T2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T2(t,e)}}function T2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Y(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw a}}return u}}function wY(t){if(Array.isArray(t))return t}function A2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function E2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(n),!0).forEach(function(r){SY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SY(t,e,n){return e=TY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TY(t){var e=AY(t,"string");return Fc(e)=="symbol"?e:e+""}function AY(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C2=function(e,n,r,a,i){var s=Math.min(Math.abs(r)/2,Math.abs(a)/2),u=a>=0?1:-1,c=r>=0?1:-1,f=a>=0&&r>=0||a<0&&r<0?1:0,h;if(s>0&&i instanceof Array){for(var m=[0,0,0,0],y=0,_=4;y<_;y++)m[y]=i[y]>s?s:i[y];h="M".concat(e,",").concat(n+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(n)),h+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+u*m[1])),h+="L ".concat(e+r,",").concat(n+a-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+r-c*m[2],",").concat(n+a)),h+="L ".concat(e+c*m[3],",").concat(n+a),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+a-u*m[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var S=Math.min(s,i);h="M ".concat(e,",").concat(n+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+c*S,",").concat(n,`
            L `).concat(e+r-c*S,",").concat(n,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r,",").concat(n+u*S,`
            L `).concat(e+r,",").concat(n+a-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r-c*S,",").concat(n+a,`
            L `).concat(e+c*S,",").concat(n+a,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(n+a-u*S," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return h},EY=function(e,n){if(!e||!n)return!1;var r=e.x,a=e.y,i=n.x,s=n.y,u=n.width,c=n.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(i,i+u),h=Math.max(i,i+u),m=Math.min(s,s+c),y=Math.max(s,s+c);return r>=f&&r<=h&&a>=m&&a<=y}return!1},CY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_S=function(e){var n=E2(E2({},CY),e),r=q.useRef(),a=q.useState(-1),i=yY(a,2),s=i[0],u=i[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&u(N)}catch{}},[]);var c=n.x,f=n.y,h=n.width,m=n.height,y=n.radius,_=n.className,S=n.animationEasing,A=n.animationDuration,T=n.animationBegin,C=n.isAnimationActive,O=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var E=rt("recharts-rectangle",_);return O?X.createElement(Ka,{canBegin:s>0,from:{width:h,height:m,x:c,y:f},to:{width:h,height:m,x:c,y:f},duration:A,animationEasing:S,isActive:O},function(N){var k=N.width,M=N.height,P=N.x,I=N.y;return X.createElement(Ka,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:A,isActive:C,easing:S},X.createElement("path",Rh({},Ve(n,!0),{className:E,d:C2(P,I,k,M,y),ref:r})))}):X.createElement("path",Rh({},Ve(n,!0),{className:E,d:C2(c,f,h,m,y)}))},kY=["points","className","baseLinePoints","connectNulls"];function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zs.apply(this,arguments)}function OY(t,e){if(t==null)return{};var n=MY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k2(t){return RY(t)||PY(t)||NY(t)||DY()}function DY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NY(t,e){if(t){if(typeof t=="string")return N_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N_(t,e)}}function PY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RY(t){if(Array.isArray(t))return N_(t)}function N_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var O2=function(e){return e&&e.x===+e.x&&e.y===+e.y},IY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){O2(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),O2(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},pc=function(e,n){var r=IY(e);n&&(r=[r.reduce(function(i,s){return[].concat(k2(i),k2(s))},[])]);var a=r.map(function(i){return i.reduce(function(s,u,c){return"".concat(s).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},jY=function(e,n,r){var a=pc(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(pc(n.reverse(),r).slice(1))},LY=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,s=OY(e,kY);if(!n||!n.length)return null;var u=rt("recharts-polygon",r);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",f=jY(n,a,i);return X.createElement("g",{className:u},X.createElement("path",zs({},Ve(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?X.createElement("path",zs({},Ve(s,!0),{fill:"none",d:pc(n,i)})):null,c?X.createElement("path",zs({},Ve(s,!0),{fill:"none",d:pc(a,i)})):null)}var h=pc(n,i);return X.createElement("path",zs({},Ve(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}var wS=function(e){var n=e.cx,r=e.cy,a=e.r,i=e.className,s=rt("recharts-dot",i);return n===+n&&r===+r&&a===+a?X.createElement("circle",P_({},Ve(e,!1),ah(e),{className:s,cx:n,cy:r,r:a})):null};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}var $Y=["x","y","top","left","width","height","className"];function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function BY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){qY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qY(t,e,n){return e=UY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UY(t){var e=FY(t,"string");return Vc(e)=="symbol"?e:e+""}function FY(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VY(t,e){if(t==null)return{};var n=zY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var GY=function(e,n,r,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(n,"h").concat(r)},HY=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,s=e.top,u=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,m=h===void 0?0:h,y=e.height,_=y===void 0?0:y,S=e.className,A=VY(e,$Y),T=BY({x:r,y:i,top:u,left:f,width:m,height:_},A);return!xe(r)||!xe(i)||!xe(m)||!xe(_)||!xe(u)||!xe(f)?null:X.createElement("path",R_({},Ve(T,!0),{className:rt("recharts-cross",S),d:GY(r,i,m,_,u,f)}))},Zb,D2;function KY(){if(D2)return Zb;D2=1;var t=kp(),e=Nj(),n=ha();function r(a,i){return a&&a.length?t(a,n(i,2),e):void 0}return Zb=r,Zb}var YY=KY();const WY=pt(YY);var Jb,N2;function XY(){if(N2)return Jb;N2=1;var t=kp(),e=ha(),n=Pj();function r(a,i){return a&&a.length?t(a,e(i,2),n):void 0}return Jb=r,Jb}var ZY=XY();const JY=pt(ZY);var QY=["cx","cy","angle","ticks","axisLine"],eW=["ticks","tick","angle","tickFormatter","stroke"];function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function go(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){Ip(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R2(t,e){if(t==null)return{};var n=tW(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b5(r.key),r)}}function rW(t,e,n){return e&&I2(t.prototype,e),n&&I2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aW(t,e,n){return e=Ih(e),iW(t,y5()?Reflect.construct(e,n||[],Ih(t).constructor):e.apply(t,n))}function iW(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oW(t)}function oW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y5=function(){return!!t})()}function Ih(t){return Ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ih(t)}function sW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},I_(t,e)}function Ip(t,e,n){return e=b5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b5(t){var e=lW(t,"string");return dl(e)=="symbol"?e:e+""}function lW(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jp=function(t){function e(){return nW(this,e),aW(this,e,arguments)}return sW(e,t),rW(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,s=i.angle,u=i.cx,c=i.cy;return jt(u,c,a,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,u=r.ticks,c=WY(u,function(h){return h.coordinate||0}),f=JY(u,function(h){return h.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,u=r.ticks,c=r.axisLine,f=R2(r,QY),h=u.reduce(function(S,A){return[Math.min(S[0],A.coordinate),Math.max(S[1],A.coordinate)]},[1/0,-1/0]),m=jt(a,i,h[0],s),y=jt(a,i,h[1],s),_=go(go(go({},Ve(f,!1)),{},{fill:"none"},Ve(c,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return X.createElement("line",mc({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,u=a.angle,c=a.tickFormatter,f=a.stroke,h=R2(a,eW),m=this.getTickTextAnchor(),y=Ve(h,!1),_=Ve(s,!1),S=i.map(function(A,T){var C=r.getTickValueCoord(A),O=go(go(go(go({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(C.x,", ").concat(C.y,")")},y),{},{stroke:"none",fill:f},_),{},{index:T},C),{},{payload:A});return X.createElement(wt,mc({className:rt("recharts-polar-radius-axis-tick",s5(s)),key:"tick-".concat(A.coordinate)},Do(r.props,A,T)),e.renderTickItem(s,O,c?c(A.value,T):A.value))});return X.createElement(wt,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,s=r.tick;return!a||!a.length?null:X.createElement(wt,{className:rt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),gn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var s;return X.isValidElement(r)?s=X.cloneElement(r,a):Ge(r)?s=r(a):s=X.createElement(No,mc({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(q.PureComponent);Ip(jp,"displayName","PolarRadiusAxis");Ip(jp,"axisType","radiusAxis");Ip(jp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function So(){return So=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},So.apply(this,arguments)}function j2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(n),!0).forEach(function(r){Lp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_5(r.key),r)}}function cW(t,e,n){return e&&L2(t.prototype,e),n&&L2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fW(t,e,n){return e=jh(e),dW(t,x5()?Reflect.construct(e,n||[],jh(t).constructor):e.apply(t,n))}function dW(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hW(t)}function hW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x5=function(){return!!t})()}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jh(t)}function pW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},j_(t,e)}function Lp(t,e,n){return e=_5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _5(t){var e=mW(t,"string");return hl(e)=="symbol"?e:e+""}function mW(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gW=Math.PI/180,$2=1e-5,$p=function(t){function e(){return uW(this,e),fW(this,e,arguments)}return pW(e,t),cW(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,s=a.cy,u=a.radius,c=a.orientation,f=a.tickSize,h=f||8,m=jt(i,s,u,r.coordinate),y=jt(i,s,u+(c==="inner"?-1:1)*h,r.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*gW),s;return i>$2?s=a==="outer"?"start":"end":i<-$2?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.radius,u=r.axisLine,c=r.axisLineType,f=vo(vo({},Ve(this.props,!1)),{},{fill:"none"},Ve(u,!1));if(c==="circle")return X.createElement(wS,So({className:"recharts-polar-angle-axis-line"},f,{cx:a,cy:i,r:s}));var h=this.props.ticks,m=h.map(function(y){return jt(a,i,s,y.coordinate)});return X.createElement(LY,So({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,u=a.tickLine,c=a.tickFormatter,f=a.stroke,h=Ve(this.props,!1),m=Ve(s,!1),y=vo(vo({},h),{},{fill:"none"},Ve(u,!1)),_=i.map(function(S,A){var T=r.getTickLineCoord(S),C=r.getTickTextAnchor(S),O=vo(vo(vo({textAnchor:C},h),{},{stroke:"none",fill:f},m),{},{index:A,payload:S,x:T.x2,y:T.y2});return X.createElement(wt,So({className:rt("recharts-polar-angle-axis-tick",s5(s)),key:"tick-".concat(S.coordinate)},Do(r.props,S,A)),u&&X.createElement("line",So({className:"recharts-polar-angle-axis-tick-line"},y,T)),s&&e.renderTickItem(s,O,c?c(S.value,A):S.value))});return X.createElement(wt,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,s=r.axisLine;return i<=0||!a||!a.length?null:X.createElement(wt,{className:rt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var s;return X.isValidElement(r)?s=X.cloneElement(r,a):Ge(r)?s=r(a):s=X.createElement(No,So({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(q.PureComponent);Lp($p,"displayName","PolarAngleAxis");Lp($p,"axisType","angleAxis");Lp($p,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Qb,B2;function vW(){if(B2)return Qb;B2=1;var t=MI(),e=t(Object.getPrototypeOf,Object);return Qb=e,Qb}var ex,q2;function yW(){if(q2)return ex;q2=1;var t=Wa(),e=vW(),n=Xa(),r="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,u=i.hasOwnProperty,c=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var y=u.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==c}return ex=f,ex}var bW=yW();const xW=pt(bW);var tx,U2;function _W(){if(U2)return tx;U2=1;var t=Wa(),e=Xa(),n="[object Boolean]";function r(a){return a===!0||a===!1||e(a)&&t(a)==n}return tx=r,tx}var wW=_W();const SW=pt(wW);function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}function TW(t,e){return kW(t)||CW(t,e)||EW(t,e)||AW()}function AW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EW(t,e){if(t){if(typeof t=="string")return F2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw a}}return u}}function kW(t){if(Array.isArray(t))return t}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){OW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OW(t,e,n){return e=MW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MW(t){var e=DW(t,"string");return zc(e)=="symbol"?e:e+""}function DW(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G2=function(e,n,r,a,i){var s=r-a,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-s/2,",").concat(n+i),u+="L ".concat(e+r-s/2-a,",").concat(n+i),u+="L ".concat(e,",").concat(n," Z"),u},NW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PW=function(e){var n=z2(z2({},NW),e),r=q.useRef(),a=q.useState(-1),i=TW(a,2),s=i[0],u=i[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&u(E)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,m=n.lowerWidth,y=n.height,_=n.className,S=n.animationEasing,A=n.animationDuration,T=n.animationBegin,C=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||y!==+y||h===0&&m===0||y===0)return null;var O=rt("recharts-trapezoid",_);return C?X.createElement(Ka,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:h,lowerWidth:m,height:y,x:c,y:f},duration:A,animationEasing:S,isActive:C},function(E){var N=E.upperWidth,k=E.lowerWidth,M=E.height,P=E.x,I=E.y;return X.createElement(Ka,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:A,easing:S},X.createElement("path",Lh({},Ve(n,!0),{className:O,d:G2(P,I,N,k,M),ref:r})))}):X.createElement("g",null,X.createElement("path",Lh({},Ve(n,!0),{className:O,d:G2(c,f,h,m,y)})))},RW=["option","shapeType","propTransformer","activeClassName","isActive"];function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function IW(t,e){if(t==null)return{};var n=jW(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){LW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LW(t,e,n){return e=$W(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $W(t){var e=BW(t,"string");return Gc(e)=="symbol"?e:e+""}function BW(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qW(t,e){return $h($h({},e),t)}function UW(t,e){return t==="symbols"}function K2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return X.createElement(_S,n);case"trapezoid":return X.createElement(PW,n);case"sector":return X.createElement(c5,n);case"symbols":if(UW(e))return X.createElement(qw,n);break;default:return null}}function FW(t){return q.isValidElement(t)?t.props:t}function w5(t){var e=t.option,n=t.shapeType,r=t.propTransformer,a=r===void 0?qW:r,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,u=t.isActive,c=IW(t,RW),f;if(q.isValidElement(e))f=q.cloneElement(e,$h($h({},c),FW(e)));else if(Ge(e))f=e(c);else if(xW(e)&&!SW(e)){var h=a(e,c);f=X.createElement(K2,{shapeType:n,elementProps:h})}else{var m=c;f=X.createElement(K2,{shapeType:n,elementProps:m})}return u?X.createElement(wt,{className:s},f):f}function Bp(t,e){return e!=null&&"trapezoids"in t.props}function qp(t,e){return e!=null&&"sectors"in t.props}function Hc(t,e){return e!=null&&"points"in t.props}function VW(t,e){var n,r,a=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return a&&i}function zW(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function GW(t,e){var n=t.x===e.x,r=t.y===e.y,a=t.z===e.z;return n&&r&&a}function HW(t,e){var n;return Bp(t,e)?n=VW:qp(t,e)?n=zW:Hc(t,e)&&(n=GW),n}function KW(t,e){var n;return Bp(t,e)?n="trapezoids":qp(t,e)?n="sectors":Hc(t,e)&&(n="points"),n}function YW(t,e){if(Bp(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(qp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Hc(t,e)?e.payload:{}}function WW(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,a=KW(n,e),i=YW(n,e),s=r.filter(function(c,f){var h=Dp(i,c),m=n.props[a].filter(function(S){var A=HW(n,e);return A(S,e)}),y=n.props[a].indexOf(m[m.length-1]),_=f===y;return h&&_}),u=r.indexOf(s[s.length-1]);return u}var Zd;function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gs.apply(this,arguments)}function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){Tr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T5(r.key),r)}}function ZW(t,e,n){return e&&W2(t.prototype,e),n&&W2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JW(t,e,n){return e=Bh(e),QW(t,S5()?Reflect.construct(e,n||[],Bh(t).constructor):e.apply(t,n))}function QW(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eX(t)}function eX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S5=function(){return!!t})()}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bh(t)}function tX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},L_(t,e)}function Tr(t,e,n){return e=T5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T5(t){var e=nX(t,"string");return pl(e)=="symbol"?e:e+""}function nX(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ja=function(t){function e(n){var r;return XW(this,e),r=JW(this,e,[n]),Tr(r,"pieRef",null),Tr(r,"sectorRefs",[]),Tr(r,"id",of("recharts-pie-")),Tr(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ge(a)&&a()}),Tr(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ge(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return tX(e,t),ZW(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,u=i.labelLine,c=i.dataKey,f=i.valueKey,h=Ve(this.props,!1),m=Ve(s,!1),y=Ve(u,!1),_=s&&s.offsetRadius||20,S=r.map(function(A,T){var C=(A.startAngle+A.endAngle)/2,O=jt(A.cx,A.cy,A.outerRadius+_,C),E=Pt(Pt(Pt(Pt({},h),A),{},{stroke:"none"},m),{},{index:T,textAnchor:e.getTextAnchor(O.x,A.cx)},O),N=Pt(Pt(Pt(Pt({},h),A),{},{fill:"none",stroke:A.fill},y),{},{index:T,points:[jt(A.cx,A.cy,A.outerRadius,C),O]}),k=c;return st(c)&&st(f)?k="value":st(c)&&(k=f),X.createElement(wt,{key:"label-".concat(A.startAngle,"-").concat(A.endAngle,"-").concat(A.midAngle,"-").concat(T)},u&&e.renderLabelLineItem(u,N,"line"),e.renderLabelItem(s,E,kn(A,k)))});return X.createElement(wt,{className:"recharts-pie-labels"},S)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,s=i.activeShape,u=i.blendStroke,c=i.inactiveShape;return r.map(function(f,h){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&r.length!==1)return null;var m=a.isActiveIndex(h),y=c&&a.hasActiveIndex()?c:null,_=m?s:y,S=Pt(Pt({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return X.createElement(wt,Gs({ref:function(T){T&&!a.sectorRefs.includes(T)&&a.sectorRefs.push(T)},tabIndex:-1,className:"recharts-pie-sector"},Do(a.props,f,h),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(h)}),X.createElement(w5,Gs({option:_,isActive:m,shapeType:"sector"},S)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,s=a.isAnimationActive,u=a.animationBegin,c=a.animationDuration,f=a.animationEasing,h=a.animationId,m=this.state,y=m.prevSectors,_=m.prevIsAnimationActive;return X.createElement(Ka,{begin:u,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(S){var A=S.t,T=[],C=i&&i[0],O=C.startAngle;return i.forEach(function(E,N){var k=y&&y[N],M=N>0?ur(E,"paddingAngle",0):0;if(k){var P=ki(k.endAngle-k.startAngle,E.endAngle-E.startAngle),I=Pt(Pt({},E),{},{startAngle:O+M,endAngle:O+P(A)+M});T.push(I),O=I.endAngle}else{var B=E.endAngle,V=E.startAngle,L=ki(0,B-V),W=L(A),Q=Pt(Pt({},E),{},{startAngle:O+M,endAngle:O+W+M});T.push(Q),O=Q.endAngle}}),X.createElement(wt,null,r.renderSectorsStatically(T))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Dp(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,s=a.sectors,u=a.className,c=a.label,f=a.cx,h=a.cy,m=a.innerRadius,y=a.outerRadius,_=a.isAnimationActive,S=this.state.isAnimationFinished;if(i||!s||!s.length||!xe(f)||!xe(h)||!xe(m)||!xe(y))return null;var A=rt("recharts-pie",u);return X.createElement(wt,{tabIndex:this.props.rootTabIndex,className:A,ref:function(C){r.pieRef=C}},this.renderSectors(),c&&this.renderLabels(s),gn.renderCallByParent(this.props,null,!1),(!_||S)&&ji.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(X.isValidElement(r))return X.cloneElement(r,a);if(Ge(r))return r(a);var s=rt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return X.createElement(w_,Gs({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,a,i){if(X.isValidElement(r))return X.cloneElement(r,a);var s=i;if(Ge(r)&&(s=r(a),X.isValidElement(s)))return s;var u=rt("recharts-pie-label-text",typeof r!="boolean"&&!Ge(r)?r.className:"");return X.createElement(No,Gs({},a,{alignmentBaseline:"middle",className:u}),s)}}])}(q.PureComponent);Zd=Ja;Tr(Ja,"displayName","Pie");Tr(Ja,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!jl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Tr(Ja,"parseDeltaAngle",function(t,e){var n=jn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Tr(Ja,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ve(t,!1),a=Er(n,_p);return e&&e.length?e.map(function(i,s){return Pt(Pt(Pt({payload:i},r),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return Pt(Pt({},r),i.props)}):[]});Tr(Ja,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,a=e.width,i=e.height,s=o5(a,i),u=r+Ln(t.cx,a,a/2),c=n+Ln(t.cy,i,i/2),f=Ln(t.innerRadius,s,0),h=Ln(t.outerRadius,s,s*.8),m=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:h,maxRadius:m}});Tr(Ja,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Pt(Pt({},e.type.defaultProps),e.props):e.props,a=Zd.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,s=r.startAngle,u=r.endAngle,c=r.paddingAngle,f=r.dataKey,h=r.nameKey,m=r.valueKey,y=r.tooltipType,_=Math.abs(r.minAngle),S=Zd.parseCoordinateOfPie(r,n),A=Zd.parseDeltaAngle(s,u),T=Math.abs(A),C=f;st(f)&&st(m)?(Vr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C="value"):st(f)&&(Vr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C=m);var O=a.filter(function(I){return kn(I,C,0)!==0}).length,E=(T>=360?O:O-1)*c,N=T-O*_-E,k=a.reduce(function(I,B){var V=kn(B,C,0);return I+(xe(V)?V:0)},0),M;if(k>0){var P;M=a.map(function(I,B){var V=kn(I,C,0),L=kn(I,h,B),W=(xe(V)?V:0)/k,Q;B?Q=P.endAngle+jn(A)*c*(V!==0?1:0):Q=s;var Y=Q+jn(A)*((V!==0?_:0)+W*N),H=(Q+Y)/2,j=(S.innerRadius+S.outerRadius)/2,F=[{name:L,value:V,payload:I,dataKey:C,type:y}],Z=jt(S.cx,S.cy,j,H);return P=Pt(Pt(Pt({percent:W,cornerRadius:i,name:L,tooltipPayload:F,midAngle:H,middleRadius:j,tooltipPosition:Z},I),S),{},{value:kn(I,C),startAngle:Q,endAngle:Y,payload:I,paddingAngle:jn(A)*c}),P})}return Pt(Pt({},S),{},{sectors:M,data:a})});var nx,X2;function rX(){if(X2)return nx;X2=1;var t=Math.ceil,e=Math.max;function n(r,a,i,s){for(var u=-1,c=e(t((a-r)/(i||1)),0),f=Array(c);c--;)f[s?c:++u]=r,r+=i;return f}return nx=n,nx}var rx,Z2;function A5(){if(Z2)return rx;Z2=1;var t=HI(),e=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*n}return a===a?a:0}return rx=r,rx}var ax,J2;function aX(){if(J2)return ax;J2=1;var t=rX(),e=xp(),n=A5();function r(a){return function(i,s,u){return u&&typeof u!="number"&&e(i,s,u)&&(s=u=void 0),i=n(i),s===void 0?(s=i,i=0):s=n(s),u=u===void 0?i<s?1:-1:n(u),t(i,s,u,a)}}return ax=r,ax}var ix,Q2;function iX(){if(Q2)return ix;Q2=1;var t=aX(),e=t();return ix=e,ix}var oX=iX();const qh=pt(oX);function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){E5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E5(t,e,n){return e=sX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sX(t){var e=lX(t,"string");return Kc(e)=="symbol"?e:e+""}function lX(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uX=["Webkit","Moz","O","ms"],cX=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=uX.reduce(function(i,s){return tN(tN({},i),{},E5({},s+r,n))},{});return a[e]=n,a};function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uh.apply(this,arguments)}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ox(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){ir(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k5(r.key),r)}}function dX(t,e,n){return e&&rN(t.prototype,e),n&&rN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hX(t,e,n){return e=Fh(e),pX(t,C5()?Reflect.construct(e,n||[],Fh(t).constructor):e.apply(t,n))}function pX(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mX(t)}function mX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C5=function(){return!!t})()}function Fh(t){return Fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fh(t)}function gX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$_(t,e)}function ir(t,e,n){return e=k5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k5(t){var e=vX(t,"string");return ml(e)=="symbol"?e:e+""}function vX(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yX=function(e){var n=e.data,r=e.startIndex,a=e.endIndex,i=e.x,s=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=fc().domain(qh(0,c)).range([i,i+s-u]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(a),scale:f,scaleValues:h}},aN=function(e){return e.changedTouches&&!!e.changedTouches.length},gl=function(t){function e(n){var r;return fX(this,e),r=hX(this,e,[n]),ir(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),ir(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),ir(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,s=a.onDragEnd,u=a.startIndex;s==null||s({endIndex:i,startIndex:u})}),r.detachDragEndListener()}),ir(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ir(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ir(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ir(r,"handleSlideDragStart",function(a){var i=aN(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return gX(e,t),dX(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,s=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,m=Math.min(a,i),y=Math.max(a,i),_=e.getIndexInRange(s,m),S=e.getIndexInRange(s,y);return{startIndex:_-_%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,s=a.tickFormatter,u=a.dataKey,c=kn(i[r],u,r);return Ge(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,s=a.startX,u=a.endX,c=this.props,f=c.x,h=c.width,m=c.travellerWidth,y=c.startIndex,_=c.endIndex,S=c.onChange,A=r.pageX-i;A>0?A=Math.min(A,f+h-m-u,f+h-m-s):A<0&&(A=Math.max(A,f-s,f-u));var T=this.getIndex({startX:s+A,endX:u+A});(T.startIndex!==y||T.endIndex!==_)&&S&&S(T),this.setState({startX:s+A,endX:u+A,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=aN(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,u=a.endX,c=a.startX,f=this.state[s],h=this.props,m=h.x,y=h.width,_=h.travellerWidth,S=h.onChange,A=h.gap,T=h.data,C={startX:this.state.startX,endX:this.state.endX},O=r.pageX-i;O>0?O=Math.min(O,m+y-_-f):O<0&&(O=Math.max(O,m-f)),C[s]=f+O;var E=this.getIndex(C),N=E.startIndex,k=E.endIndex,M=function(){var I=T.length-1;return s==="startX"&&(u>c?N%A===0:k%A===0)||u<c&&k===I||s==="endX"&&(u>c?k%A===0:N%A===0)||u>c&&k===I};this.setState(ir(ir({},s,f+O),"brushMoveStartX",r.pageX),function(){S&&M()&&S(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,s=this.state,u=s.scaleValues,c=s.startX,f=s.endX,h=this.state[a],m=u.indexOf(h);if(m!==-1){var y=m+r;if(!(y===-1||y>=u.length)){var _=u[y];a==="startX"&&_>=f||a==="endX"&&_<=c||this.setState(ir({},a,_),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,c=r.fill,f=r.stroke;return X.createElement("rect",{stroke:f,fill:c,x:a,y:i,width:s,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,c=r.data,f=r.children,h=r.padding,m=q.Children.only(f);return m?X.cloneElement(m,{x:a,y:i,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,s,u=this,c=this.props,f=c.y,h=c.travellerWidth,m=c.height,y=c.traveller,_=c.ariaLabel,S=c.data,A=c.startIndex,T=c.endIndex,C=Math.max(r,this.props.x),O=ox(ox({},Ve(this.props,!1)),{},{x:C,y:f,width:h,height:m}),E=_||"Min value: ".concat((i=S[A])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=S[T])===null||s===void 0?void 0:s.name);return X.createElement(wt,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),u.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,O))}},{key:"renderSlide",value:function(r,a){var i=this.props,s=i.y,u=i.height,c=i.stroke,f=i.travellerWidth,h=Math.min(r,a)+f,m=Math.max(Math.abs(a-r)-f,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:u})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,s=r.y,u=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,m=h.startX,y=h.endX,_=5,S={pointerEvents:"none",fill:f};return X.createElement(wt,{className:"recharts-brush-texts"},X.createElement(No,Uh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-_,y:s+u/2},S),this.getTextOfTick(a)),X.createElement(No,Uh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+c+_,y:s+u/2},S),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,s=r.children,u=r.x,c=r.y,f=r.width,h=r.height,m=r.alwaysShowText,y=this.state,_=y.startX,S=y.endX,A=y.isTextActive,T=y.isSlideMoving,C=y.isTravellerMoving,O=y.isTravellerFocused;if(!a||!a.length||!xe(u)||!xe(c)||!xe(f)||!xe(h)||f<=0||h<=0)return null;var E=rt("recharts-brush",i),N=X.Children.count(s)===1,k=cX("userSelect","none");return X.createElement(wt,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(_,S),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(S,"endX"),(A||T||C||O||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,s=r.width,u=r.height,c=r.stroke,f=Math.floor(i+u/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:a,y:i,width:s,height:u,fill:c,stroke:"none"}),X.createElement("line",{x1:a+1,y1:f,x2:a+s-1,y2:f,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:a+1,y1:f+2,x2:a+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return X.isValidElement(r)?i=X.cloneElement(r,a):Ge(r)?i=r(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,s=r.width,u=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,m=r.endIndex;if(i!==a.prevData||f!==a.prevUpdateId)return ox({prevData:i,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s},i&&i.length?yX({data:i,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||u!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([u,u+s-c]);var y=a.scale.domain().map(function(_){return a.scale(_)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,s=0,u=i-1;u-s>1;){var c=Math.floor((s+u)/2);r[c]>a?u=c:s=c}return a>=r[u]?u:s}}])}(q.PureComponent);ir(gl,"displayName","Brush");ir(gl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var sx,iN;function bX(){if(iN)return sx;iN=1;var t=Kw();function e(n,r){var a;return t(n,function(i,s,u){return a=r(i,s,u),!a}),!!a}return sx=e,sx}var lx,oN;function xX(){if(oN)return lx;oN=1;var t=SI(),e=ha(),n=bX(),r=Wn(),a=xp();function i(s,u,c){var f=r(s)?t:n;return c&&a(s,u,c)&&(u=void 0),f(s,e(u,3))}return lx=i,lx}var _X=xX();const wX=pt(_X);var oa=function(e,n){var r=e.alwaysShow,a=e.ifOverflow;return r&&(a="extendDomain"),a===n},ux,sN;function SX(){if(sN)return ux;sN=1;var t=UI();function e(n,r,a){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return ux=e,ux}var cx,lN;function TX(){if(lN)return cx;lN=1;var t=SX(),e=BI(),n=ha();function r(a,i){var s={};return i=n(i,3),e(a,function(u,c,f){t(s,c,i(u,c,f))}),s}return cx=r,cx}var AX=TX();const EX=pt(AX);var fx,uN;function CX(){if(uN)return fx;uN=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!n(e[r],r,e))return!1;return!0}return fx=t,fx}var dx,cN;function kX(){if(cN)return dx;cN=1;var t=Kw();function e(n,r){var a=!0;return t(n,function(i,s,u){return a=!!r(i,s,u),a}),a}return dx=e,dx}var hx,fN;function OX(){if(fN)return hx;fN=1;var t=CX(),e=kX(),n=ha(),r=Wn(),a=xp();function i(s,u,c){var f=r(s)?t:e;return c&&a(s,u,c)&&(u=void 0),f(s,n(u,3))}return hx=i,hx}var MX=OX();const O5=pt(MX);var DX=["x","y"];function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}function dN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(n),!0).forEach(function(r){NX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NX(t,e,n){return e=PX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PX(t){var e=RX(t,"string");return Yc(e)=="symbol"?e:e+""}function RX(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IX(t,e){if(t==null)return{};var n=jX(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LX(t,e){var n=t.x,r=t.y,a=IX(t,DX),i="".concat(n),s=parseInt(i,10),u="".concat(r),c=parseInt(u,10),f="".concat(e.height||a.height),h=parseInt(f,10),m="".concat(e.width||a.width),y=parseInt(m,10);return Qu(Qu(Qu(Qu(Qu({},e),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function hN(t){return X.createElement(w5,B_({shapeType:"rectangle",propTransformer:LX,activeClassName:"recharts-active-bar"},t))}var $X=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof e=="number")return e;var i=typeof r=="number";return i?e(r,a):(i||Ro(),n)}},BX=["value","background"],M5;function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function qX(t,e){if(t==null)return{};var n=UX(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){Pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N5(r.key),r)}}function VX(t,e,n){return e&&mN(t.prototype,e),n&&mN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zX(t,e,n){return e=zh(e),GX(t,D5()?Reflect.construct(e,n||[],zh(t).constructor):e.apply(t,n))}function GX(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HX(t)}function HX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D5=function(){return!!t})()}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zh(t)}function KX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},q_(t,e)}function Pi(t,e,n){return e=N5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N5(t){var e=YX(t,"string");return vl(e)=="symbol"?e:e+""}function YX(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Go=function(t){function e(){var n;FX(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=zX(this,e,[].concat(a)),Pi(n,"state",{isAnimationFinished:!1}),Pi(n,"id",of("recharts-bar-")),Pi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Pi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return KX(e,t),VX(e,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,s=i.shape,u=i.dataKey,c=i.activeIndex,f=i.activeBar,h=Ve(this.props,!1);return r&&r.map(function(m,y){var _=y===c,S=_?f:s,A=en(en(en({},h),m),{},{isActive:_,option:S,index:y,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return X.createElement(wt,Vh({className:"recharts-bar-rectangle"},Do(a.props,m,y),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y)}),X.createElement(hN,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,s=a.layout,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,h=a.animationEasing,m=a.animationId,y=this.state.prevData;return X.createElement(Ka,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t,A=i.map(function(T,C){var O=y&&y[C];if(O){var E=ki(O.x,T.x),N=ki(O.y,T.y),k=ki(O.width,T.width),M=ki(O.height,T.height);return en(en({},T),{},{x:E(S),y:N(S),width:k(S),height:M(S)})}if(s==="horizontal"){var P=ki(0,T.height),I=P(S);return en(en({},T),{},{y:T.y+T.height-I,height:I})}var B=ki(0,T.width),V=B(S);return en(en({},T),{},{width:V})});return X.createElement(wt,null,r.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Dp(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,s=a.dataKey,u=a.activeIndex,c=Ve(this.props.background,!1);return i.map(function(f,h){f.value;var m=f.background,y=qX(f,BX);if(!m)return null;var _=en(en(en(en(en({},y),{},{fill:"#eee"},m),c),Do(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return X.createElement(hN,Vh({key:"background-bar-".concat(h),option:r.props.background,isActive:h===u},_))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,u=i.xAxis,c=i.yAxis,f=i.layout,h=i.children,m=Er(h,Rp);if(!m)return null;var y=f==="vertical"?s[0].height/2:s[0].width/2,_=function(T,C){var O=Array.isArray(T.value)?T.value[1]:T.value;return{x:T.x,y:T.y,value:O,errorVal:kn(T,C)}},S={clipPath:r?"url(#clipPath-".concat(a,")"):null};return X.createElement(wt,S,m.map(function(A){return X.cloneElement(A,{key:"error-bar-".concat(a,"-").concat(A.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,offset:y,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,s=r.className,u=r.xAxis,c=r.yAxis,f=r.left,h=r.top,m=r.width,y=r.height,_=r.isAnimationActive,S=r.background,A=r.id;if(a||!i||!i.length)return null;var T=this.state.isAnimationFinished,C=rt("recharts-bar",s),O=u&&u.allowDataOverflow,E=c&&c.allowDataOverflow,N=O||E,k=st(A)?this.id:A;return X.createElement(wt,{className:C},O||E?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(k)},X.createElement("rect",{x:O?f:f-m/2,y:E?h:h-y/2,width:O?m:m*2,height:E?y:y*2}))):null,X.createElement(wt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(k,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,k),(!_||T)&&ji.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(q.PureComponent);M5=Go;Pi(Go,"displayName","Bar");Pi(Go,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!jl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pi(Go,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,y=t.offset,_=SG(r,n);if(!_)return null;var S=e.layout,A=n.type.defaultProps,T=A!==void 0?en(en({},A),n.props):n.props,C=T.dataKey,O=T.children,E=T.minPointSize,N=S==="horizontal"?s:i,k=f?N.scale.domain():null,M=MG({numericAxis:N}),P=Er(O,_p),I=m.map(function(B,V){var L,W,Q,Y,H,j;f?L=TG(f[h+V],k):(L=kn(B,C),Array.isArray(L)||(L=[M,L]));var F=$X(E,M5.defaultProps.minPointSize)(L[1],V);if(S==="horizontal"){var Z,ae=[s.scale(L[0]),s.scale(L[1])],$=ae[0],G=ae[1];W=qD({axis:i,ticks:u,bandSize:a,offset:_.offset,entry:B,index:V}),Q=(Z=G??$)!==null&&Z!==void 0?Z:void 0,Y=_.size;var ne=$-G;if(H=Number.isNaN(ne)?0:ne,j={x:W,y:s.y,width:Y,height:s.height},Math.abs(F)>0&&Math.abs(H)<Math.abs(F)){var ce=jn(H||F)*(Math.abs(F)-Math.abs(H));Q-=ce,H+=ce}}else{var ge=[i.scale(L[0]),i.scale(L[1])],De=ge[0],Ce=ge[1];if(W=De,Q=qD({axis:s,ticks:c,bandSize:a,offset:_.offset,entry:B,index:V}),Y=Ce-De,H=_.size,j={x:i.x,y:Q,width:i.width,height:H},Math.abs(F)>0&&Math.abs(Y)<Math.abs(F)){var yt=jn(Y||F)*(Math.abs(F)-Math.abs(Y));Y+=yt}}return en(en(en({},B),{},{x:W,y:Q,width:Y,height:H,value:f?L:L[1],payload:B,background:j},P&&P[V]&&P[V].props),{},{tooltipPayload:[a5(n,B)],tooltipPosition:{x:W+Y/2,y:Q+H/2}})});return en({data:I,layout:S},y)});function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function WX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P5(r.key),r)}}function XX(t,e,n){return e&&gN(t.prototype,e),n&&gN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){Up(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Up(t,e,n){return e=P5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P5(t){var e=ZX(t,"string");return Wc(e)=="symbol"?e:e+""}function ZX(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JX=function(e,n,r,a,i){var s=e.width,u=e.height,c=e.layout,f=e.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},y=!!or(f,Go);return h.reduce(function(_,S){var A=n[S],T=A.orientation,C=A.domain,O=A.padding,E=O===void 0?{}:O,N=A.mirror,k=A.reversed,M="".concat(T).concat(N?"Mirror":""),P,I,B,V,L;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var W=C[1]-C[0],Q=1/0,Y=A.categoricalDomain.sort(dU);if(Y.forEach(function(ge,De){De>0&&(Q=Math.min((ge||0)-(Y[De-1]||0),Q))}),Number.isFinite(Q)){var H=Q/W,j=A.layout==="vertical"?r.height:r.width;if(A.padding==="gap"&&(P=H*j/2),A.padding==="no-gap"){var F=Ln(e.barCategoryGap,H*j),Z=H*j/2;P=Z-F-(Z-F)/j*F}}}a==="xAxis"?I=[r.left+(E.left||0)+(P||0),r.left+r.width-(E.right||0)-(P||0)]:a==="yAxis"?I=c==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(P||0),r.top+r.height-(E.bottom||0)-(P||0)]:I=A.range,k&&(I=[I[1],I[0]]);var ae=e5(A,i,y),$=ae.scale,G=ae.realScaleType;$.domain(C).range(I),t5($);var ne=n5($,Ur(Ur({},A),{},{realScaleType:G}));a==="xAxis"?(L=T==="top"&&!N||T==="bottom"&&N,B=r.left,V=m[M]-L*A.height):a==="yAxis"&&(L=T==="left"&&!N||T==="right"&&N,B=m[M]-L*A.width,V=r.top);var ce=Ur(Ur(Ur({},A),ne),{},{realScaleType:G,x:B,y:V,scale:$,width:a==="xAxis"?r.width:A.width,height:a==="yAxis"?r.height:A.height});return ce.bandSize=kh(ce,ne),!A.hide&&a==="xAxis"?m[M]+=(L?-1:1)*ce.height:A.hide||(m[M]+=(L?-1:1)*ce.width),Ur(Ur({},_),{},Up({},S,ce))},{})},R5=function(e,n){var r=e.x,a=e.y,i=n.x,s=n.y;return{x:Math.min(r,i),y:Math.min(a,s),width:Math.abs(i-r),height:Math.abs(s-a)}},QX=function(e){var n=e.x1,r=e.y1,a=e.x2,i=e.y2;return R5({x:n,y:r},{x:a,y:i})},I5=function(){function t(e){WX(this,t),this.scale=e}return XX(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new t(n)}}])}();Up(I5,"EPS",1e-4);var SS=function(e){var n=Object.keys(e).reduce(function(r,a){return Ur(Ur({},r),{},Up({},a,I5.create(e[a])))},{});return Ur(Ur({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,u=i.position;return EX(a,function(c,f){return n[f].apply(c,{bandAware:s,position:u})})},isInRange:function(a){return O5(a,function(i,s){return n[s].isInRange(i)})}})};function eZ(t){return(t%180+180)%180}var tZ=function(e){var n=e.width,r=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=eZ(a),s=i*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},px,yN;function nZ(){if(yN)return px;yN=1;var t=ha(),e=sf(),n=yp();function r(a){return function(i,s,u){var c=Object(i);if(!e(i)){var f=t(s,3);i=n(i),s=function(m){return f(c[m],m,c)}}var h=a(i,s,u);return h>-1?c[f?i[h]:h]:void 0}}return px=r,px}var mx,bN;function rZ(){if(bN)return mx;bN=1;var t=A5();function e(n){var r=t(n),a=r%1;return r===r?a?r-a:r:0}return mx=e,mx}var gx,xN;function aZ(){if(xN)return gx;xN=1;var t=RI(),e=ha(),n=rZ(),r=Math.max;function a(i,s,u){var c=i==null?0:i.length;if(!c)return-1;var f=u==null?0:n(u);return f<0&&(f=r(c+f,0)),t(i,e(s,3),f)}return gx=a,gx}var vx,_N;function iZ(){if(_N)return vx;_N=1;var t=nZ(),e=aZ(),n=t(e);return vx=n,vx}var oZ=iZ();const sZ=pt(oZ);var lZ=XR();const uZ=pt(lZ);var cZ=uZ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),TS=q.createContext(void 0),AS=q.createContext(void 0),j5=q.createContext(void 0),L5=q.createContext({}),$5=q.createContext(void 0),B5=q.createContext(0),q5=q.createContext(0),wN=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,s=e.clipPathId,u=e.children,c=e.width,f=e.height,h=cZ(i);return X.createElement(TS.Provider,{value:r},X.createElement(AS.Provider,{value:a},X.createElement(L5.Provider,{value:i},X.createElement(j5.Provider,{value:h},X.createElement($5.Provider,{value:s},X.createElement(B5.Provider,{value:f},X.createElement(q5.Provider,{value:c},u)))))))},fZ=function(){return q.useContext($5)},U5=function(e){var n=q.useContext(TS);n==null&&Ro();var r=n[e];return r==null&&Ro(),r},dZ=function(){var e=q.useContext(TS);return Ni(e)},hZ=function(){var e=q.useContext(AS),n=sZ(e,function(r){return O5(r.domain,Number.isFinite)});return n||Ni(e)},F5=function(e){var n=q.useContext(AS);n==null&&Ro();var r=n[e];return r==null&&Ro(),r},pZ=function(){var e=q.useContext(j5);return e},mZ=function(){return q.useContext(L5)},ES=function(){return q.useContext(q5)},CS=function(){return q.useContext(B5)};function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function gZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z5(r.key),r)}}function yZ(t,e,n){return e&&vZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bZ(t,e,n){return e=Gh(e),xZ(t,V5()?Reflect.construct(e,n||[],Gh(t).constructor):e.apply(t,n))}function xZ(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Z(t)}function _Z(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V5=function(){return!!t})()}function Gh(t){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gh(t)}function wZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U_(t,e)}function U_(t,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},U_(t,e)}function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function TN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(r){kS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kS(t,e,n){return e=z5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z5(t){var e=SZ(t,"string");return yl(e)=="symbol"?e:e+""}function SZ(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TZ(t,e){return kZ(t)||CZ(t,e)||EZ(t,e)||AZ()}function AZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZ(t,e){if(t){if(typeof t=="string")return AN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AN(t,e)}}function AN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw a}}return u}}function kZ(t){if(Array.isArray(t))return t}function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}var OZ=function(e,n){var r;return X.isValidElement(e)?r=X.cloneElement(e,n):Ge(e)?r=e(n):r=X.createElement("line",F_({},n,{className:"recharts-reference-line-line"})),r},MZ=function(e,n,r,a,i,s,u,c,f){var h=i.x,m=i.y,y=i.width,_=i.height;if(r){var S=f.y,A=e.y.apply(S,{position:s});if(oa(f,"discard")&&!e.y.isInRange(A))return null;var T=[{x:h+y,y:A},{x:h,y:A}];return c==="left"?T.reverse():T}if(n){var C=f.x,O=e.x.apply(C,{position:s});if(oa(f,"discard")&&!e.x.isInRange(O))return null;var E=[{x:O,y:m+_},{x:O,y:m}];return u==="top"?E.reverse():E}if(a){var N=f.segment,k=N.map(function(M){return e.apply(M,{position:s})});return oa(f,"discard")&&wX(k,function(M){return!e.isInRange(M)})?null:k}return null};function DZ(t){var e=t.x,n=t.y,r=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,f=fZ(),h=U5(a),m=F5(i),y=pZ();if(!f||!y)return null;Vr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=SS({x:h.scale,y:m.scale}),S=sn(e),A=sn(n),T=r&&r.length===2,C=MZ(_,S,A,T,y,t.position,h.orientation,m.orientation,t);if(!C)return null;var O=TZ(C,2),E=O[0],N=E.x,k=E.y,M=O[1],P=M.x,I=M.y,B=oa(t,"hidden")?"url(#".concat(f,")"):void 0,V=TN(TN({clipPath:B},Ve(t,!0)),{},{x1:N,y1:k,x2:P,y2:I});return X.createElement(wt,{className:rt("recharts-reference-line",u)},OZ(s,V),gn.renderCallByParent(t,QX({x1:N,y1:k,x2:P,y2:I})))}var OS=function(t){function e(){return gZ(this,e),bZ(this,e,arguments)}return wZ(e,t),yZ(e,[{key:"render",value:function(){return X.createElement(DZ,this.props)}}])}(X.Component);kS(OS,"displayName","ReferenceLine");kS(OS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(this,arguments)}function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function EN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function CN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(n),!0).forEach(function(r){Fp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H5(r.key),r)}}function RZ(t,e,n){return e&&PZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IZ(t,e,n){return e=Hh(e),jZ(t,G5()?Reflect.construct(e,n||[],Hh(t).constructor):e.apply(t,n))}function jZ(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LZ(t)}function LZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G5=function(){return!!t})()}function Hh(t){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hh(t)}function $Z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},z_(t,e)}function Fp(t,e,n){return e=H5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H5(t){var e=BZ(t,"string");return bl(e)=="symbol"?e:e+""}function BZ(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qZ=function(e){var n=e.x,r=e.y,a=e.xAxis,i=e.yAxis,s=SS({x:a.scale,y:i.scale}),u=s.apply({x:n,y:r},{bandAware:!0});return oa(e,"discard")&&!s.isInRange(u)?null:u},Vp=function(t){function e(){return NZ(this,e),IZ(this,e,arguments)}return $Z(e,t),RZ(e,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,s=r.r,u=r.alwaysShow,c=r.clipPathId,f=sn(a),h=sn(i);if(Vr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=qZ(this.props);if(!m)return null;var y=m.x,_=m.y,S=this.props,A=S.shape,T=S.className,C=oa(this.props,"hidden")?"url(#".concat(c,")"):void 0,O=CN(CN({clipPath:C},Ve(this.props,!0)),{},{cx:y,cy:_});return X.createElement(wt,{className:rt("recharts-reference-dot",T)},e.renderDot(A,O),gn.renderCallByParent(this.props,{x:y-s,y:_-s,width:2*s,height:2*s}))}}])}(X.Component);Fp(Vp,"displayName","ReferenceDot");Fp(Vp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Fp(Vp,"renderDot",function(t,e){var n;return X.isValidElement(t)?n=X.cloneElement(t,e):Ge(t)?n=t(e):n=X.createElement(wS,V_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(this,arguments)}function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ON(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(r){zp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y5(r.key),r)}}function VZ(t,e,n){return e&&FZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zZ(t,e,n){return e=Kh(e),GZ(t,K5()?Reflect.construct(e,n||[],Kh(t).constructor):e.apply(t,n))}function GZ(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HZ(t)}function HZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K5=function(){return!!t})()}function Kh(t){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kh(t)}function KZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},H_(t,e)}function zp(t,e,n){return e=Y5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y5(t){var e=YZ(t,"string");return xl(e)=="symbol"?e:e+""}function YZ(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WZ=function(e,n,r,a,i){var s=i.x1,u=i.x2,c=i.y1,f=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var y=SS({x:h.scale,y:m.scale}),_={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(c,{position:"start"}):y.y.rangeMin},S={x:n?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(f,{position:"end"}):y.y.rangeMax};return oa(i,"discard")&&(!y.isInRange(_)||!y.isInRange(S))?null:R5(_,S)},Gp=function(t){function e(){return UZ(this,e),zZ(this,e,arguments)}return KZ(e,t),VZ(e,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,s=r.y1,u=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;Vr(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=sn(a),y=sn(i),_=sn(s),S=sn(u),A=this.props.shape;if(!m&&!y&&!_&&!S&&!A)return null;var T=WZ(m,y,_,S,this.props);if(!T&&!A)return null;var C=oa(this.props,"hidden")?"url(#".concat(h,")"):void 0;return X.createElement(wt,{className:rt("recharts-reference-area",c)},e.renderRect(A,ON(ON({clipPath:C},Ve(this.props,!0)),T)),gn.renderCallByParent(this.props,T))}}])}(X.Component);zp(Gp,"displayName","ReferenceArea");zp(Gp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});zp(Gp,"renderRect",function(t,e){var n;return X.isValidElement(t)?n=X.cloneElement(t,e):Ge(t)?n=t(e):n=X.createElement(_S,G_({},e,{className:"recharts-reference-area-rect"})),n});function W5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function XZ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return tZ(r,n)}function ZZ(t,e,n){var r=n==="width",a=t.x,i=t.y,s=t.width,u=t.height;return e===1?{start:r?a:i,end:r?a+s:i+u}:{start:r?a+s:i+u,end:r?a:i}}function Yh(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-a)<=0}function JZ(t,e){return W5(t,e+1)}function QZ(t,e,n,r,a){for(var i=(r||[]).slice(),s=e.start,u=e.end,c=0,f=1,h=s,m=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:W5(r,f)};var A=c,T,C=function(){return T===void 0&&(T=n(S,A)),T},O=S.coordinate,E=c===0||Yh(t,O,C,h,u);E||(c=0,h=s,f+=1),E&&(h=O+t*(C()/2+a),c+=f)},y;f<=i.length;)if(y=m(),y)return y.v;return[]}function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){eJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eJ(t,e,n){return e=tJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tJ(t){var e=nJ(t,"string");return Xc(e)=="symbol"?e:e+""}function nJ(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rJ(t,e,n,r,a){for(var i=(r||[]).slice(),s=i.length,u=e.start,c=e.end,f=function(y){var _=i[y],S,A=function(){return S===void 0&&(S=n(_,y)),S};if(y===s-1){var T=t*(_.coordinate+t*A()/2-c);i[y]=_=En(En({},_),{},{tickCoord:T>0?_.coordinate-T*t:_.coordinate})}else i[y]=_=En(En({},_),{},{tickCoord:_.coordinate});var C=Yh(t,_.tickCoord,A,u,c);C&&(c=_.tickCoord-t*(A()/2+a),i[y]=En(En({},_),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return i}function aJ(t,e,n,r,a,i){var s=(r||[]).slice(),u=s.length,c=e.start,f=e.end;if(i){var h=r[u-1],m=n(h,u-1),y=t*(h.coordinate+t*m/2-f);s[u-1]=h=En(En({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var _=Yh(t,h.tickCoord,function(){return m},c,f);_&&(f=h.tickCoord-t*(m/2+a),s[u-1]=En(En({},h),{},{isShow:!0}))}for(var S=i?u-1:u,A=function(O){var E=s[O],N,k=function(){return N===void 0&&(N=n(E,O)),N};if(O===0){var M=t*(E.coordinate-t*k()/2-c);s[O]=E=En(En({},E),{},{tickCoord:M<0?E.coordinate-M*t:E.coordinate})}else s[O]=E=En(En({},E),{},{tickCoord:E.coordinate});var P=Yh(t,E.tickCoord,k,c,f);P&&(c=E.tickCoord+t*(k()/2+a),s[O]=En(En({},E),{},{isShow:!0}))},T=0;T<S;T++)A(T);return s}function MS(t,e,n){var r=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!a||!a.length||!r)return[];if(xe(c)||jl.isSsr)return JZ(a,typeof c=="number"&&xe(c)?c:0);var y=[],_=u==="top"||u==="bottom"?"width":"height",S=h&&_==="width"?cc(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(E,N){var k=Ge(f)?f(E.value,N):E.value;return _==="width"?XZ(cc(k,{fontSize:e,letterSpacing:n}),S,m):cc(k,{fontSize:e,letterSpacing:n})[_]},T=a.length>=2?jn(a[1].coordinate-a[0].coordinate):1,C=ZZ(i,T,_);return c==="equidistantPreserveStart"?QZ(T,C,A,a,s):(c==="preserveStart"||c==="preserveStartEnd"?y=aJ(T,C,A,a,s,c==="preserveStartEnd"):y=rJ(T,C,A,a,s),y.filter(function(O){return O.isShow}))}var iJ=["viewBox"],oJ=["viewBox"],sJ=["ticks"];function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hs.apply(this,arguments)}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){DS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yx(t,e){if(t==null)return{};var n=lJ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z5(r.key),r)}}function cJ(t,e,n){return e&&NN(t.prototype,e),n&&NN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fJ(t,e,n){return e=Wh(e),dJ(t,X5()?Reflect.construct(e,n||[],Wh(t).constructor):e.apply(t,n))}function dJ(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hJ(t)}function hJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X5=function(){return!!t})()}function Wh(t){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wh(t)}function pJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},K_(t,e)}function DS(t,e,n){return e=Z5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z5(t){var e=mJ(t,"string");return _l(e)=="symbol"?e:e+""}function mJ(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ql=function(t){function e(n){var r;return uJ(this,e),r=fJ(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return pJ(e,t),cJ(e,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,s=yx(r,iJ),u=this.props,c=u.viewBox,f=yx(u,oJ);return!Xs(i,c)||!Xs(s,f)||!Xs(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,s=a.y,u=a.width,c=a.height,f=a.orientation,h=a.tickSize,m=a.mirror,y=a.tickMargin,_,S,A,T,C,O,E=m?-1:1,N=r.tickSize||h,k=xe(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":_=S=r.coordinate,T=s+ +!m*c,A=T-E*N,O=A-E*y,C=k;break;case"left":A=T=r.coordinate,S=i+ +!m*u,_=S-E*N,C=_-E*y,O=k;break;case"right":A=T=r.coordinate,S=i+ +m*u,_=S+E*N,C=_+E*y,O=k;break;default:_=S=r.coordinate,T=s+ +m*c,A=T+E*N,O=A+E*y,C=k;break}return{line:{x1:_,y1:A,x2:S,y2:T},tick:{x:C,y:O}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,m=Rn(Rn(Rn({},Ve(this.props,!1)),Ve(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);m=Rn(Rn({},m),{},{x1:a,y1:i+y*u,x2:a+s,y2:i+y*u})}else{var _=+(c==="left"&&!f||c==="right"&&f);m=Rn(Rn({},m),{},{x1:a+_*s,y1:i,x2:a+_*s,y2:i+u})}return X.createElement("line",Hs({},m,{className:rt("recharts-cartesian-axis-line",ur(h,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var s=this,u=this.props,c=u.tickLine,f=u.stroke,h=u.tick,m=u.tickFormatter,y=u.unit,_=MS(Rn(Rn({},this.props),{},{ticks:r}),a,i),S=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),T=Ve(this.props,!1),C=Ve(h,!1),O=Rn(Rn({},T),{},{fill:"none"},Ve(c,!1)),E=_.map(function(N,k){var M=s.getTickLineCoord(N),P=M.line,I=M.tick,B=Rn(Rn(Rn(Rn({textAnchor:S,verticalAnchor:A},T),{},{stroke:"none",fill:f},C),I),{},{index:k,payload:N,visibleTicksCount:_.length,tickFormatter:m});return X.createElement(wt,Hs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Do(s.props,N,k)),c&&X.createElement("line",Hs({},O,P,{className:rt("recharts-cartesian-axis-tick-line",ur(c,"className"))})),h&&e.renderTickItem(h,B,"".concat(Ge(m)?m(N.value,k):N.value).concat(y||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,s=a.width,u=a.height,c=a.ticksGenerator,f=a.className,h=a.hide;if(h)return null;var m=this.props,y=m.ticks,_=yx(m,sJ),S=y;return Ge(c)&&(S=y&&y.length>0?c(this.props):c(_)),s<=0||u<=0||!S||!S.length?null:X.createElement(wt,{className:rt("recharts-cartesian-axis",f),ref:function(T){r.layerReference=T}},i&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),gn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var s;return X.isValidElement(r)?s=X.cloneElement(r,a):Ge(r)?s=r(a):s=X.createElement(No,Hs({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(q.Component);DS(ql,"displayName","CartesianAxis");DS(ql,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gJ=["x1","y1","x2","y2","key"],vJ=["offset"];function Io(t){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(t)}function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){yJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yJ(t,e,n){return e=bJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t){var e=xJ(t,"string");return Io(e)=="symbol"?e:e+""}function xJ(t,e){if(Io(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Io(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Co(){return Co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Co.apply(this,arguments)}function RN(t,e){if(t==null)return{};var n=_J(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _J(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wJ=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,a=e.x,i=e.y,s=e.width,u=e.height,c=e.ry;return X.createElement("rect",{x:a,y:i,ry:c,width:s,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function J5(t,e){var n;if(X.isValidElement(t))n=X.cloneElement(t,e);else if(Ge(t))n=t(e);else{var r=e.x1,a=e.y1,i=e.x2,s=e.y2,u=e.key,c=RN(e,gJ),f=Ve(c,!1);f.offset;var h=RN(f,vJ);n=X.createElement("line",Co({},h,{x1:r,y1:a,x2:i,y2:s,fill:"none",key:u}))}return n}function SJ(t){var e=t.x,n=t.width,r=t.horizontal,a=r===void 0?!0:r,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(u,c){var f=Cn(Cn({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return J5(a,f)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function TJ(t){var e=t.y,n=t.height,r=t.vertical,a=r===void 0?!0:r,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(u,c){var f=Cn(Cn({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return J5(a,f)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function AJ(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,a=t.y,i=t.width,s=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,_){return y-_});a!==h[0]&&h.unshift(0);var m=h.map(function(y,_){var S=!h[_+1],A=S?a+s-y:h[_+1]-y;if(A<=0)return null;var T=_%e.length;return X.createElement("rect",{key:"react-".concat(_),y,x:r,height:A,width:i,stroke:"none",fill:e[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function EJ(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var h=f.map(function(y){return Math.round(y+i-i)}).sort(function(y,_){return y-_});i!==h[0]&&h.unshift(0);var m=h.map(function(y,_){var S=!h[_+1],A=S?i+u-y:h[_+1]-y;if(A<=0)return null;var T=_%r.length;return X.createElement("rect",{key:"react-".concat(_),x:y,y:s,width:A,height:c,stroke:"none",fill:r[T],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var CJ=function(e,n){var r=e.xAxis,a=e.width,i=e.height,s=e.offset;return Qj(MS(Cn(Cn(Cn({},ql.defaultProps),r),{},{ticks:Ua(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,n)},kJ=function(e,n){var r=e.yAxis,a=e.width,i=e.height,s=e.offset;return Qj(MS(Cn(Cn(Cn({},ql.defaultProps),r),{},{ticks:Ua(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,n)},Bs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Q5(t){var e,n,r,a,i,s,u=ES(),c=CS(),f=mZ(),h=Cn(Cn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bs.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bs.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bs.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Bs.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Bs.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Bs.verticalFill,x:xe(t.x)?t.x:f.left,y:xe(t.y)?t.y:f.top,width:xe(t.width)?t.width:f.width,height:xe(t.height)?t.height:f.height}),m=h.x,y=h.y,_=h.width,S=h.height,A=h.syncWithTicks,T=h.horizontalValues,C=h.verticalValues,O=dZ(),E=hZ();if(!xe(_)||_<=0||!xe(S)||S<=0||!xe(m)||m!==+m||!xe(y)||y!==+y)return null;var N=h.verticalCoordinatesGenerator||CJ,k=h.horizontalCoordinatesGenerator||kJ,M=h.horizontalPoints,P=h.verticalPoints;if((!M||!M.length)&&Ge(k)){var I=T&&T.length,B=k({yAxis:E?Cn(Cn({},E),{},{ticks:I?T:E.ticks}):void 0,width:u,height:c,offset:f},I?!0:A);Vr(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Io(B),"]")),Array.isArray(B)&&(M=B)}if((!P||!P.length)&&Ge(N)){var V=C&&C.length,L=N({xAxis:O?Cn(Cn({},O),{},{ticks:V?C:O.ticks}):void 0,width:u,height:c,offset:f},V?!0:A);Vr(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Io(L),"]")),Array.isArray(L)&&(P=L)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(wJ,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),X.createElement(SJ,Co({},h,{offset:f,horizontalPoints:M,xAxis:O,yAxis:E})),X.createElement(TJ,Co({},h,{offset:f,verticalPoints:P,xAxis:O,yAxis:E})),X.createElement(AJ,Co({},h,{horizontalPoints:M})),X.createElement(EJ,Co({},h,{verticalPoints:P})))}Q5.displayName="CartesianGrid";function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function OJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nL(r.key),r)}}function DJ(t,e,n){return e&&MJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NJ(t,e,n){return e=Xh(e),PJ(t,eL()?Reflect.construct(e,n||[],Xh(t).constructor):e.apply(t,n))}function PJ(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RJ(t)}function RJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eL=function(){return!!t})()}function Xh(t){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xh(t)}function IJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}function Y_(t,e){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Y_(t,e)}function tL(t,e,n){return e=nL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nL(t){var e=jJ(t,"string");return wl(e)=="symbol"?e:e+""}function jJ(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}function LJ(t){var e=t.xAxisId,n=ES(),r=CS(),a=U5(e);return a==null?null:X.createElement(ql,W_({},a,{className:rt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ua(s,!0)}}))}var Hp=function(t){function e(){return OJ(this,e),NJ(this,e,arguments)}return IJ(e,t),DJ(e,[{key:"render",value:function(){return X.createElement(LJ,this.props)}}])}(X.Component);tL(Hp,"displayName","XAxis");tL(Hp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function $J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iL(r.key),r)}}function qJ(t,e,n){return e&&BJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UJ(t,e,n){return e=Zh(e),FJ(t,rL()?Reflect.construct(e,n||[],Zh(t).constructor):e.apply(t,n))}function FJ(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VJ(t)}function VJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rL=function(){return!!t})()}function Zh(t){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zh(t)}function zJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},X_(t,e)}function aL(t,e,n){return e=iL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iL(t){var e=GJ(t,"string");return Sl(e)=="symbol"?e:e+""}function GJ(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(this,arguments)}var HJ=function(e){var n=e.yAxisId,r=ES(),a=CS(),i=F5(n);return i==null?null:X.createElement(ql,Z_({},i,{className:rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(u){return Ua(u,!0)}}))},Kp=function(t){function e(){return $J(this,e),UJ(this,e,arguments)}return zJ(e,t),qJ(e,[{key:"render",value:function(){return X.createElement(HJ,this.props)}}])}(X.Component);aL(Kp,"displayName","YAxis");aL(Kp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function IN(t){return XJ(t)||WJ(t)||YJ(t)||KJ()}function KJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YJ(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function WJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XJ(t){if(Array.isArray(t))return J_(t)}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Q_=function(e,n,r,a,i){var s=Er(e,OS),u=Er(e,Vp),c=[].concat(IN(s),IN(u)),f=Er(e,Gp),h="".concat(a,"Id"),m=a[0],y=n;if(c.length&&(y=c.reduce(function(A,T){if(T.props[h]===r&&oa(T.props,"extendDomain")&&xe(T.props[m])){var C=T.props[m];return[Math.min(A[0],C),Math.max(A[1],C)]}return A},y)),f.length){var _="".concat(m,"1"),S="".concat(m,"2");y=f.reduce(function(A,T){if(T.props[h]===r&&oa(T.props,"extendDomain")&&xe(T.props[_])&&xe(T.props[S])){var C=T.props[_],O=T.props[S];return[Math.min(A[0],C,O),Math.max(A[1],C,O)]}return A},y)}return i&&i.length&&(y=i.reduce(function(A,T){return xe(T)?[Math.min(A[0],T),Math.max(A[1],T)]:A},y)),y},bx={exports:{}},jN;function ZJ(){return jN||(jN=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function i(c,f,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new a(h,m||c,y),S=n?n+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],_]:c._events[S].push(_):(c._events[S]=_,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,_=m.length,S=new Array(_);y<_;y++)S[y]=m[y].fn;return S},u.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,y,_,S){var A=n?n+f:f;if(!this._events[A])return!1;var T=this._events[A],C=arguments.length,O,E;if(T.fn){switch(T.once&&this.removeListener(f,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,m),!0;case 4:return T.fn.call(T.context,h,m,y),!0;case 5:return T.fn.call(T.context,h,m,y,_),!0;case 6:return T.fn.call(T.context,h,m,y,_,S),!0}for(E=1,O=new Array(C-1);E<C;E++)O[E-1]=arguments[E];T.fn.apply(T.context,O)}else{var N=T.length,k;for(E=0;E<N;E++)switch(T[E].once&&this.removeListener(f,T[E].fn,void 0,!0),C){case 1:T[E].fn.call(T[E].context);break;case 2:T[E].fn.call(T[E].context,h);break;case 3:T[E].fn.call(T[E].context,h,m);break;case 4:T[E].fn.call(T[E].context,h,m,y);break;default:if(!O)for(k=1,O=new Array(C-1);k<C;k++)O[k-1]=arguments[k];T[E].fn.apply(T[E].context,O)}}return!0},u.prototype.on=function(f,h,m){return i(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return i(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,y){var _=n?n+f:f;if(!this._events[_])return this;if(!h)return s(this,_),this;var S=this._events[_];if(S.fn)S.fn===h&&(!y||S.once)&&(!m||S.context===m)&&s(this,_);else{for(var A=0,T=[],C=S.length;A<C;A++)(S[A].fn!==h||y&&!S[A].once||m&&S[A].context!==m)&&T.push(S[A]);T.length?this._events[_]=T.length===1?T[0]:T:s(this,_)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(bx)),bx.exports}var JJ=ZJ();const QJ=pt(JJ);var xx=new QJ,_x="recharts.syncMouseEvents";function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function eQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oL(r.key),r)}}function nQ(t,e,n){return e&&tQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wx(t,e,n){return e=oL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oL(t){var e=rQ(t,"string");return Zc(e)=="symbol"?e:e+""}function rQ(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aQ=function(){function t(){eQ(this,t),wx(this,"activeIndex",0),wx(this,"coordinateList",[]),wx(this,"layout","horizontal")}return nQ(t,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,s=n.container,u=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,h=n.offset,m=h===void 0?null:h,y=n.mouseHandlerCallback,_=y===void 0?null:y;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,u=a.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=i+c+f,y=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])}();function iQ(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],a=t==null?void 0:t[1];if(r&&a&&xe(r)&&xe(a))return!0}return!1}function oQ(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function sL(t){var e=t.cx,n=t.cy,r=t.radius,a=t.startAngle,i=t.endAngle,s=jt(e,n,r,a),u=jt(e,n,r,i);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:a,endAngle:i}}function sQ(t,e,n){var r,a,i,s;if(t==="horizontal")r=e.x,i=r,a=n.top,s=n.top+n.height;else if(t==="vertical")a=e.y,s=a,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,y=jt(u,c,f,m),_=jt(u,c,h,m);r=y.x,a=y.y,i=_.x,s=_.y}else return sL(e);return[{x:r,y:a},{x:i,y:s}]}function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){lQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lQ(t,e,n){return e=uQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uQ(t){var e=cQ(t,"string");return Jc(e)=="symbol"?e:e+""}function cQ(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fQ(t){var e,n,r=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!i||!s||y!=="ScatterChart"&&a!=="axis")return null;var S,A=w_;if(y==="ScatterChart")S=s,A=HY;else if(y==="BarChart")S=oQ(m,s,c,h),A=_S;else if(m==="radial"){var T=sL(s),C=T.cx,O=T.cy,E=T.radius,N=T.startAngle,k=T.endAngle;S={cx:C,cy:O,startAngle:N,endAngle:k,innerRadius:E,outerRadius:E},A=c5}else S={points:sQ(m,s,c)},A=w_;var M=Hd(Hd(Hd(Hd({stroke:"#ccc",pointerEvents:"none"},c),S),Ve(_,!1)),{},{payload:u,payloadIndex:f,className:rt("recharts-tooltip-cursor",_.className)});return q.isValidElement(_)?q.cloneElement(_,M):q.createElement(A,M)}var dQ=["item"],hQ=["children","className","width","height","style","compact","title","desc"];function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ks.apply(this,arguments)}function $N(t,e){return gQ(t)||mQ(t,e)||uL(t,e)||pQ()}function pQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw a}}return u}}function gQ(t){if(Array.isArray(t))return t}function BN(t,e){if(t==null)return{};var n=vQ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cL(r.key),r)}}function xQ(t,e,n){return e&&bQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Q(t,e,n){return e=Jh(e),wQ(t,lL()?Reflect.construct(e,n||[],Jh(t).constructor):e.apply(t,n))}function wQ(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SQ(t)}function SQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lL=function(){return!!t})()}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jh(t)}function TQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ew(t,e)}function ew(t,e){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ew(t,e)}function Al(t){return CQ(t)||EQ(t)||uL(t)||AQ()}function AQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uL(t,e){if(t){if(typeof t=="string")return tw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tw(t,e)}}function EQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CQ(t){if(Array.isArray(t))return tw(t)}function tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(r){Be(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Be(t,e,n){return e=cL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cL(t){var e=kQ(t,"string");return Tl(e)=="symbol"?e:e+""}function kQ(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OQ={xAxis:["bottom","top"],yAxis:["left","right"]},MQ={width:"100%",height:"100%"},fL={x:0,y:0};function Kd(t){return t}var DQ=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},NQ=function(e,n,r,a){var i=n.find(function(h){return h&&h.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,u=a.radius;return fe(fe(fe({},a),jt(a.cx,a.cy,u,s)),{},{angle:s,radius:u})}var c=i.coordinate,f=a.angle;return fe(fe(fe({},a),jt(a.cx,a.cy,c,f)),{},{angle:f,radius:c})}return fL},Yp=function(e,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,s=(r??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(Al(u),Al(f)):u},[]);return s.length>0?s:e&&e.length&&xe(a)&&xe(i)?e.slice(a,i+1):[]};function dL(t){return t==="number"?[0,"auto"]:void 0}var nw=function(e,n,r,a){var i=e.graphicalItems,s=e.tooltipAxis,u=Yp(n,e);return r<0||!i||!i.length||r>=u.length?null:i.reduce(function(c,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var _=m===void 0?u:m;y=Lx(_,s.dataKey,a)}else y=m&&m[r]||u[r];return y?[].concat(Al(c),[a5(f,y)]):c},[])},UN=function(e,n,r,a){var i=a||{x:e.chartX,y:e.chartY},s=DQ(i,r),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=vG(s,u,f,c);if(h>=0&&f){var m=f[h]&&f[h].value,y=nw(e,n,h,m),_=NQ(r,u,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:y,activeCoordinate:_}}return null},PQ=function(e,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,y=e.stackOffset,_=Jj(h,i);return r.reduce(function(S,A){var T,C=A.type.defaultProps!==void 0?fe(fe({},A.type.defaultProps),A.props):A.props,O=C.type,E=C.dataKey,N=C.allowDataOverflow,k=C.allowDuplicatedCategory,M=C.scale,P=C.ticks,I=C.includeHidden,B=C[s];if(S[B])return S;var V=Yp(e.data,{graphicalItems:a.filter(function(ne){var ce,ge=s in ne.props?ne.props[s]:(ce=ne.type.defaultProps)===null||ce===void 0?void 0:ce[s];return ge===B}),dataStartIndex:c,dataEndIndex:f}),L=V.length,W,Q,Y;iQ(C.domain,N,O)&&(W=v_(C.domain,null,N),_&&(O==="number"||M!=="auto")&&(Y=dc(V,E,"category")));var H=dL(O);if(!W||W.length===0){var j,F=(j=C.domain)!==null&&j!==void 0?j:H;if(E){if(W=dc(V,E,O),O==="category"&&_){var Z=fU(W);k&&Z?(Q=W,W=qh(0,L)):k||(W=VD(F,W,A).reduce(function(ne,ce){return ne.indexOf(ce)>=0?ne:[].concat(Al(ne),[ce])},[]))}else if(O==="category")k?W=W.filter(function(ne){return ne!==""&&!st(ne)}):W=VD(F,W,A).reduce(function(ne,ce){return ne.indexOf(ce)>=0||ce===""||st(ce)?ne:[].concat(Al(ne),[ce])},[]);else if(O==="number"){var ae=wG(V,a.filter(function(ne){var ce,ge,De=s in ne.props?ne.props[s]:(ce=ne.type.defaultProps)===null||ce===void 0?void 0:ce[s],Ce="hide"in ne.props?ne.props.hide:(ge=ne.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return De===B&&(I||!Ce)}),E,i,h);ae&&(W=ae)}_&&(O==="number"||M!=="auto")&&(Y=dc(V,E,"category"))}else _?W=qh(0,L):u&&u[B]&&u[B].hasStack&&O==="number"?W=y==="expand"?[0,1]:r5(u[B].stackGroups,c,f):W=Zj(V,a.filter(function(ne){var ce=s in ne.props?ne.props[s]:ne.type.defaultProps[s],ge="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return ce===B&&(I||!ge)}),O,h,!0);if(O==="number")W=Q_(m,W,B,i,P),F&&(W=v_(F,W,N));else if(O==="category"&&F){var $=F,G=W.every(function(ne){return $.indexOf(ne)>=0});G&&(W=$)}}return fe(fe({},S),{},Be({},B,fe(fe({},C),{},{axisType:i,domain:W,categoricalDomain:Y,duplicateDomain:Q,originalDomain:(T=C.domain)!==null&&T!==void 0?T:H,isCategorical:_,layout:h})))},{})},RQ=function(e,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,s=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,y=Yp(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),_=y.length,S=Jj(h,i),A=-1;return r.reduce(function(T,C){var O=C.type.defaultProps!==void 0?fe(fe({},C.type.defaultProps),C.props):C.props,E=O[s],N=dL("number");if(!T[E]){A++;var k;return S?k=qh(0,_):u&&u[E]&&u[E].hasStack?(k=r5(u[E].stackGroups,c,f),k=Q_(m,k,E,i)):(k=v_(N,Zj(y,r.filter(function(M){var P,I,B=s in M.props?M.props[s]:(P=M.type.defaultProps)===null||P===void 0?void 0:P[s],V="hide"in M.props?M.props.hide:(I=M.type.defaultProps)===null||I===void 0?void 0:I.hide;return B===E&&!V}),"number",h),a.defaultProps.allowDataOverflow),k=Q_(m,k,E,i)),fe(fe({},T),{},Be({},E,fe(fe({axisType:i},a.defaultProps),{},{hide:!0,orientation:ur(OQ,"".concat(i,".").concat(A%2),null),domain:k,originalDomain:N,isCategorical:S,layout:h})))}return T},{})},IQ=function(e,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,s=n.graphicalItems,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,m="".concat(a,"Id"),y=Er(h,i),_={};return y&&y.length?_=PQ(e,{axes:y,graphicalItems:s,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(_=RQ(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),_},jQ=function(e){var n=Ni(e),r=Ua(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Yw(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:kh(n,r)}},FN=function(e){var n=e.children,r=e.defaultShowTooltip,a=or(n,gl),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},LQ=function(e){return!e||!e.length?!1:e.some(function(n){var r=Fa(n&&n.type);return r&&r.indexOf("Bar")>=0})},VN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$Q=function(e,n){var r=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,u=e.yAxisMap,c=u===void 0?{}:u,f=r.width,h=r.height,m=r.children,y=r.margin||{},_=or(m,gl),S=or(m,Ri),A=Object.keys(c).reduce(function(k,M){var P=c[M],I=P.orientation;return!P.mirror&&!P.hide?fe(fe({},k),{},Be({},I,k[I]+P.width)):k},{left:y.left||0,right:y.right||0}),T=Object.keys(s).reduce(function(k,M){var P=s[M],I=P.orientation;return!P.mirror&&!P.hide?fe(fe({},k),{},Be({},I,ur(k,"".concat(I))+P.height)):k},{top:y.top||0,bottom:y.bottom||0}),C=fe(fe({},T),A),O=C.bottom;_&&(C.bottom+=_.props.height||gl.defaultProps.height),S&&n&&(C=xG(C,a,r,n));var E=f-C.left-C.right,N=h-C.top-C.bottom;return fe(fe({brushBottom:O},C),{},{width:Math.max(E,0),height:Math.max(N,0)})},BQ=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},hL=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,y=function(C,O){var E=O.graphicalItems,N=O.stackGroups,k=O.offset,M=O.updateId,P=O.dataStartIndex,I=O.dataEndIndex,B=C.barSize,V=C.layout,L=C.barGap,W=C.barCategoryGap,Q=C.maxBarSize,Y=VN(V),H=Y.numericAxisName,j=Y.cateAxisName,F=LQ(E),Z=[];return E.forEach(function(ae,$){var G=Yp(C.data,{graphicalItems:[ae],dataStartIndex:P,dataEndIndex:I}),ne=ae.type.defaultProps!==void 0?fe(fe({},ae.type.defaultProps),ae.props):ae.props,ce=ne.dataKey,ge=ne.maxBarSize,De=ne["".concat(H,"Id")],Ce=ne["".concat(j,"Id")],yt={},ze=c.reduce(function(On,Nr){var ei=O["".concat(Nr.axisType,"Map")],Ho=ne["".concat(Nr.axisType,"Id")];ei&&ei[Ho]||Nr.axisType==="zAxis"||Ro();var Ko=ei[Ho];return fe(fe({},On),{},Be(Be({},Nr.axisType,Ko),"".concat(Nr.axisType,"Ticks"),Ua(Ko)))},yt),we=ze[j],je=ze["".concat(j,"Ticks")],qe=N&&N[De]&&N[De].hasStack&&DG(ae,N[De].stackGroups),me=Fa(ae.type).indexOf("Bar")>=0,mt=kh(we,je),Qe=[],Mt=F&&yG({barSize:B,stackGroups:N,totalSize:BQ(ze,j)});if(me){var zt,Ct,Zn=st(ge)?Q:ge,Dr=(zt=(Ct=kh(we,je,!0))!==null&&Ct!==void 0?Ct:Zn)!==null&&zt!==void 0?zt:0;Qe=bG({barGap:L,barCategoryGap:W,bandSize:Dr!==mt?Dr:mt,sizeList:Mt[Ce],maxBarSize:Zn}),Dr!==mt&&(Qe=Qe.map(function(On){return fe(fe({},On),{},{position:fe(fe({},On.position),{},{offset:On.position.offset-Dr/2})})}))}var pa=ae&&ae.type&&ae.type.getComposedData;pa&&Z.push({props:fe(fe({},pa(fe(fe({},ze),{},{displayedData:G,props:C,dataKey:ce,item:ae,bandSize:mt,barPosition:Qe,offset:k,stackedData:qe,layout:V,dataStartIndex:P,dataEndIndex:I}))),{},Be(Be(Be({key:ae.key||"item-".concat($)},H,ze[H]),j,ze[j]),"animationId",M)),childIndex:SU(ae,C.children),item:ae})}),Z},_=function(C,O){var E=C.props,N=C.dataStartIndex,k=C.dataEndIndex,M=C.updateId;if(!ak({props:E}))return null;var P=E.children,I=E.layout,B=E.stackOffset,V=E.data,L=E.reverseStackOrder,W=VN(I),Q=W.numericAxisName,Y=W.cateAxisName,H=Er(P,r),j=OG(V,H,"".concat(Q,"Id"),"".concat(Y,"Id"),B,L),F=c.reduce(function(ne,ce){var ge="".concat(ce.axisType,"Map");return fe(fe({},ne),{},Be({},ge,IQ(E,fe(fe({},ce),{},{graphicalItems:H,stackGroups:ce.axisType===Q&&j,dataStartIndex:N,dataEndIndex:k}))))},{}),Z=$Q(fe(fe({},F),{},{props:E,graphicalItems:H}),O==null?void 0:O.legendBBox);Object.keys(F).forEach(function(ne){F[ne]=h(E,F[ne],Z,ne.replace("Map",""),n)});var ae=F["".concat(Y,"Map")],$=jQ(ae),G=y(E,fe(fe({},F),{},{dataStartIndex:N,dataEndIndex:k,updateId:M,graphicalItems:H,stackGroups:j,offset:Z}));return fe(fe({formattedGraphicalItems:G,graphicalItems:H,offset:Z,stackGroups:j},$),F)},S=function(T){function C(O){var E,N,k;return yQ(this,C),k=_Q(this,C,[O]),Be(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(k,"accessibilityManager",new aQ),Be(k,"handleLegendBBoxUpdate",function(M){if(M){var P=k.state,I=P.dataStartIndex,B=P.dataEndIndex,V=P.updateId;k.setState(fe({legendBBox:M},_({props:k.props,dataStartIndex:I,dataEndIndex:B,updateId:V},fe(fe({},k.state),{},{legendBBox:M}))))}}),Be(k,"handleReceiveSyncEvent",function(M,P,I){if(k.props.syncId===M){if(I===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(P)}}),Be(k,"handleBrushChange",function(M){var P=M.startIndex,I=M.endIndex;if(P!==k.state.dataStartIndex||I!==k.state.dataEndIndex){var B=k.state.updateId;k.setState(function(){return fe({dataStartIndex:P,dataEndIndex:I},_({props:k.props,dataStartIndex:P,dataEndIndex:I,updateId:B},k.state))}),k.triggerSyncEvent({dataStartIndex:P,dataEndIndex:I})}}),Be(k,"handleMouseEnter",function(M){var P=k.getMouseInfo(M);if(P){var I=fe(fe({},P),{},{isTooltipActive:!0});k.setState(I),k.triggerSyncEvent(I);var B=k.props.onMouseEnter;Ge(B)&&B(I,M)}}),Be(k,"triggeredAfterMouseMove",function(M){var P=k.getMouseInfo(M),I=P?fe(fe({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(I),k.triggerSyncEvent(I);var B=k.props.onMouseMove;Ge(B)&&B(I,M)}),Be(k,"handleItemMouseEnter",function(M){k.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),Be(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),Be(k,"handleMouseMove",function(M){M.persist(),k.throttleTriggeredAfterMouseMove(M)}),Be(k,"handleMouseLeave",function(M){k.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};k.setState(P),k.triggerSyncEvent(P);var I=k.props.onMouseLeave;Ge(I)&&I(P,M)}),Be(k,"handleOuterEvent",function(M){var P=wU(M),I=ur(k.props,"".concat(P));if(P&&Ge(I)){var B,V;/.*touch.*/i.test(P)?V=k.getMouseInfo(M.changedTouches[0]):V=k.getMouseInfo(M),I((B=V)!==null&&B!==void 0?B:{},M)}}),Be(k,"handleClick",function(M){var P=k.getMouseInfo(M);if(P){var I=fe(fe({},P),{},{isTooltipActive:!0});k.setState(I),k.triggerSyncEvent(I);var B=k.props.onClick;Ge(B)&&B(I,M)}}),Be(k,"handleMouseDown",function(M){var P=k.props.onMouseDown;if(Ge(P)){var I=k.getMouseInfo(M);P(I,M)}}),Be(k,"handleMouseUp",function(M){var P=k.props.onMouseUp;if(Ge(P)){var I=k.getMouseInfo(M);P(I,M)}}),Be(k,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),Be(k,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&k.handleMouseDown(M.changedTouches[0])}),Be(k,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&k.handleMouseUp(M.changedTouches[0])}),Be(k,"handleDoubleClick",function(M){var P=k.props.onDoubleClick;if(Ge(P)){var I=k.getMouseInfo(M);P(I,M)}}),Be(k,"handleContextMenu",function(M){var P=k.props.onContextMenu;if(Ge(P)){var I=k.getMouseInfo(M);P(I,M)}}),Be(k,"triggerSyncEvent",function(M){k.props.syncId!==void 0&&xx.emit(_x,k.props.syncId,M,k.eventEmitterSymbol)}),Be(k,"applySyncEvent",function(M){var P=k.props,I=P.layout,B=P.syncMethod,V=k.state.updateId,L=M.dataStartIndex,W=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)k.setState(fe({dataStartIndex:L,dataEndIndex:W},_({props:k.props,dataStartIndex:L,dataEndIndex:W,updateId:V},k.state)));else if(M.activeTooltipIndex!==void 0){var Q=M.chartX,Y=M.chartY,H=M.activeTooltipIndex,j=k.state,F=j.offset,Z=j.tooltipTicks;if(!F)return;if(typeof B=="function")H=B(Z,M);else if(B==="value"){H=-1;for(var ae=0;ae<Z.length;ae++)if(Z[ae].value===M.activeLabel){H=ae;break}}var $=fe(fe({},F),{},{x:F.left,y:F.top}),G=Math.min(Q,$.x+$.width),ne=Math.min(Y,$.y+$.height),ce=Z[H]&&Z[H].value,ge=nw(k.state,k.props.data,H),De=Z[H]?{x:I==="horizontal"?Z[H].coordinate:G,y:I==="horizontal"?ne:Z[H].coordinate}:fL;k.setState(fe(fe({},M),{},{activeLabel:ce,activeCoordinate:De,activePayload:ge,activeTooltipIndex:H}))}else k.setState(M)}),Be(k,"renderCursor",function(M){var P,I=k.state,B=I.isTooltipActive,V=I.activeCoordinate,L=I.activePayload,W=I.offset,Q=I.activeTooltipIndex,Y=I.tooltipAxisBandSize,H=k.getTooltipEventType(),j=(P=M.props.active)!==null&&P!==void 0?P:B,F=k.props.layout,Z=M.key||"_recharts-cursor";return X.createElement(fQ,{key:Z,activeCoordinate:V,activePayload:L,activeTooltipIndex:Q,chartName:n,element:M,isActive:j,layout:F,offset:W,tooltipAxisBandSize:Y,tooltipEventType:H})}),Be(k,"renderPolarAxis",function(M,P,I){var B=ur(M,"type.axisType"),V=ur(k.state,"".concat(B,"Map")),L=M.type.defaultProps,W=L!==void 0?fe(fe({},L),M.props):M.props,Q=V&&V[W["".concat(B,"Id")]];return q.cloneElement(M,fe(fe({},Q),{},{className:rt(B,Q.className),key:M.key||"".concat(P,"-").concat(I),ticks:Ua(Q,!0)}))}),Be(k,"renderPolarGrid",function(M){var P=M.props,I=P.radialLines,B=P.polarAngles,V=P.polarRadius,L=k.state,W=L.radiusAxisMap,Q=L.angleAxisMap,Y=Ni(W),H=Ni(Q),j=H.cx,F=H.cy,Z=H.innerRadius,ae=H.outerRadius;return q.cloneElement(M,{polarAngles:Array.isArray(B)?B:Ua(H,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(V)?V:Ua(Y,!0).map(function($){return $.coordinate}),cx:j,cy:F,innerRadius:Z,outerRadius:ae,key:M.key||"polar-grid",radialLines:I})}),Be(k,"renderLegend",function(){var M=k.state.formattedGraphicalItems,P=k.props,I=P.children,B=P.width,V=P.height,L=k.props.margin||{},W=B-(L.left||0)-(L.right||0),Q=Wj({children:I,formattedGraphicalItems:M,legendWidth:W,legendContent:f});if(!Q)return null;var Y=Q.item,H=BN(Q,dQ);return q.cloneElement(Y,fe(fe({},H),{},{chartWidth:B,chartHeight:V,margin:L,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),Be(k,"renderTooltip",function(){var M,P=k.props,I=P.children,B=P.accessibilityLayer,V=or(I,qr);if(!V)return null;var L=k.state,W=L.isTooltipActive,Q=L.activeCoordinate,Y=L.activePayload,H=L.activeLabel,j=L.offset,F=(M=V.props.active)!==null&&M!==void 0?M:W;return q.cloneElement(V,{viewBox:fe(fe({},j),{},{x:j.left,y:j.top}),active:F,label:H,payload:F?Y:[],coordinate:Q,accessibilityLayer:B})}),Be(k,"renderBrush",function(M){var P=k.props,I=P.margin,B=P.data,V=k.state,L=V.offset,W=V.dataStartIndex,Q=V.dataEndIndex,Y=V.updateId;return q.cloneElement(M,{key:M.key||"_recharts-brush",onChange:Fd(k.handleBrushChange,M.props.onChange),data:B,x:xe(M.props.x)?M.props.x:L.left,y:xe(M.props.y)?M.props.y:L.top+L.height+L.brushBottom-(I.bottom||0),width:xe(M.props.width)?M.props.width:L.width,startIndex:W,endIndex:Q,updateId:"brush-".concat(Y)})}),Be(k,"renderReferenceElement",function(M,P,I){if(!M)return null;var B=k,V=B.clipPathId,L=k.state,W=L.xAxisMap,Q=L.yAxisMap,Y=L.offset,H=M.type.defaultProps||{},j=M.props,F=j.xAxisId,Z=F===void 0?H.xAxisId:F,ae=j.yAxisId,$=ae===void 0?H.yAxisId:ae;return q.cloneElement(M,{key:M.key||"".concat(P,"-").concat(I),xAxis:W[Z],yAxis:Q[$],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:V})}),Be(k,"renderActivePoints",function(M){var P=M.item,I=M.activePoint,B=M.basePoint,V=M.childIndex,L=M.isRange,W=[],Q=P.props.key,Y=P.item.type.defaultProps!==void 0?fe(fe({},P.item.type.defaultProps),P.item.props):P.item.props,H=Y.activeDot,j=Y.dataKey,F=fe(fe({index:V,dataKey:j,cx:I.x,cy:I.y,r:4,fill:xS(P.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Ve(H,!1)),ah(H));return W.push(C.renderActiveDot(H,F,"".concat(Q,"-activePoint-").concat(V))),B?W.push(C.renderActiveDot(H,fe(fe({},F),{},{cx:B.x,cy:B.y}),"".concat(Q,"-basePoint-").concat(V))):L&&W.push(null),W}),Be(k,"renderGraphicChild",function(M,P,I){var B=k.filterFormatItem(M,P,I);if(!B)return null;var V=k.getTooltipEventType(),L=k.state,W=L.isTooltipActive,Q=L.tooltipAxis,Y=L.activeTooltipIndex,H=L.activeLabel,j=k.props.children,F=or(j,qr),Z=B.props,ae=Z.points,$=Z.isRange,G=Z.baseLine,ne=B.item.type.defaultProps!==void 0?fe(fe({},B.item.type.defaultProps),B.item.props):B.item.props,ce=ne.activeDot,ge=ne.hide,De=ne.activeBar,Ce=ne.activeShape,yt=!!(!ge&&W&&F&&(ce||De||Ce)),ze={};V!=="axis"&&F&&F.props.trigger==="click"?ze={onClick:Fd(k.handleItemMouseEnter,M.props.onClick)}:V!=="axis"&&(ze={onMouseLeave:Fd(k.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:Fd(k.handleItemMouseEnter,M.props.onMouseEnter)});var we=q.cloneElement(M,fe(fe({},B.props),ze));function je(Nr){return typeof Q.dataKey=="function"?Q.dataKey(Nr.payload):null}if(yt)if(Y>=0){var qe,me;if(Q.dataKey&&!Q.allowDuplicatedCategory){var mt=typeof Q.dataKey=="function"?je:"payload.".concat(Q.dataKey.toString());qe=Lx(ae,mt,H),me=$&&G&&Lx(G,mt,H)}else qe=ae==null?void 0:ae[Y],me=$&&G&&G[Y];if(Ce||De){var Qe=M.props.activeIndex!==void 0?M.props.activeIndex:Y;return[q.cloneElement(M,fe(fe(fe({},B.props),ze),{},{activeIndex:Qe})),null,null]}if(!st(qe))return[we].concat(Al(k.renderActivePoints({item:B,activePoint:qe,basePoint:me,childIndex:Y,isRange:$})))}else{var Mt,zt=(Mt=k.getItemByXY(k.state.activeCoordinate))!==null&&Mt!==void 0?Mt:{graphicalItem:we},Ct=zt.graphicalItem,Zn=Ct.item,Dr=Zn===void 0?M:Zn,pa=Ct.childIndex,On=fe(fe(fe({},B.props),ze),{},{activeIndex:pa});return[q.cloneElement(Dr,On),null,null]}return $?[we,null,null]:[we,null]}),Be(k,"renderCustomized",function(M,P,I){return q.cloneElement(M,fe(fe({key:"recharts-customized-".concat(I)},k.props),k.state))}),Be(k,"renderMap",{CartesianGrid:{handler:Kd,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:Kd},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:Kd},YAxis:{handler:Kd},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((E=O.id)!==null&&E!==void 0?E:of("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=KI(k.triggeredAfterMouseMove,(N=O.throttleDelay)!==null&&N!==void 0?N:1e3/60),k.state={},k}return TQ(C,T),xQ(C,[{key:"componentDidMount",value:function(){var E,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,N=E.children,k=E.data,M=E.height,P=E.layout,I=or(N,qr);if(I){var B=I.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,L=nw(this.state,k,B,V),W=this.state.tooltipTicks[B].coordinate,Q=(this.state.offset.top+M)/2,Y=P==="horizontal",H=Y?{x:W,y:Q}:{y:W,x:Q},j=this.state.formattedGraphicalItems.find(function(Z){var ae=Z.item;return ae.type.name==="Scatter"});j&&(H=fe(fe({},H),j.props.points[B].tooltipPosition),L=j.props.points[B].tooltipPayload);var F={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:V,activePayload:L,activeCoordinate:H};this.setState(F),this.renderCursor(I),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var k,M;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(E){Bx([or(E.children,qr)],[or(this.props.children,qr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=or(this.props.children,qr);if(E&&typeof E.props.shared=="boolean"){var N=E.props.shared?"axis":"item";return u.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var N=this.container,k=N.getBoundingClientRect(),M=u9(k),P={chartX:Math.round(E.pageX-M.left),chartY:Math.round(E.pageY-M.top)},I=k.width/N.offsetWidth||1,B=this.inRange(P.chartX,P.chartY,I);if(!B)return null;var V=this.state,L=V.xAxisMap,W=V.yAxisMap,Q=this.getTooltipEventType(),Y=UN(this.state,this.props.data,this.props.layout,B);if(Q!=="axis"&&L&&W){var H=Ni(L).scale,j=Ni(W).scale,F=H&&H.invert?H.invert(P.chartX):null,Z=j&&j.invert?j.invert(P.chartY):null;return fe(fe({},P),{},{xValue:F,yValue:Z},Y)}return Y?fe(fe({},P),Y):null}},{key:"inRange",value:function(E,N){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,P=E/k,I=N/k;if(M==="horizontal"||M==="vertical"){var B=this.state.offset,V=P>=B.left&&P<=B.left+B.width&&I>=B.top&&I<=B.top+B.height;return V?{x:P,y:I}:null}var L=this.state,W=L.angleAxisMap,Q=L.radiusAxisMap;if(W&&Q){var Y=Ni(W);return HD({x:P,y:I},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,N=this.getTooltipEventType(),k=or(E,qr),M={};k&&N==="axis"&&(k.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=ah(this.props,this.handleOuterEvent);return fe(fe({},P),M)}},{key:"addListener",value:function(){xx.on(_x,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xx.removeListener(_x,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,N,k){for(var M=this.state.formattedGraphicalItems,P=0,I=M.length;P<I;P++){var B=M[P];if(B.item===E||B.props.key===E.key||N===Fa(B.item.type)&&k===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,N=this.state.offset,k=N.left,M=N.top,P=N.height,I=N.width;return X.createElement("defs",null,X.createElement("clipPath",{id:E},X.createElement("rect",{x:k,y:M,height:P,width:I})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(N,k){var M=$N(k,2),P=M[0],I=M[1];return fe(fe({},N),{},Be({},P,I.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(N,k){var M=$N(k,2),P=M[0],I=M[1];return fe(fe({},N),{},Be({},P,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[E])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(E){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[E])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(E){var N=this.state,k=N.formattedGraphicalItems,M=N.activeItem;if(k&&k.length)for(var P=0,I=k.length;P<I;P++){var B=k[P],V=B.props,L=B.item,W=L.type.defaultProps!==void 0?fe(fe({},L.type.defaultProps),L.props):L.props,Q=Fa(L.type);if(Q==="Bar"){var Y=(V.data||[]).find(function(Z){return EY(E,Z)});if(Y)return{graphicalItem:B,payload:Y}}else if(Q==="RadialBar"){var H=(V.data||[]).find(function(Z){return HD(E,Z)});if(H)return{graphicalItem:B,payload:H}}else if(Bp(B,M)||qp(B,M)||Hc(B,M)){var j=WW({graphicalItem:B,activeTooltipItem:M,itemData:W.data}),F=W.activeIndex===void 0?j:W.activeIndex;return{graphicalItem:fe(fe({},B),{},{childIndex:F}),payload:Hc(B,M)?W.data[j]:B.props.data[j]}}}return null}},{key:"render",value:function(){var E=this;if(!ak(this))return null;var N=this.props,k=N.children,M=N.className,P=N.width,I=N.height,B=N.style,V=N.compact,L=N.title,W=N.desc,Q=BN(N,hQ),Y=Ve(Q,!1);if(V)return X.createElement(wN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(Ux,Ks({},Y,{width:P,height:I,title:L,desc:W}),this.renderClipPath(),ok(k,this.renderMap)));if(this.props.accessibilityLayer){var H,j;Y.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,Y.role=(j=this.props.role)!==null&&j!==void 0?j:"application",Y.onKeyDown=function(Z){E.accessibilityManager.keyboardEvent(Z)},Y.onFocus=function(){E.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return X.createElement(wN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",Ks({className:rt("recharts-wrapper",M),style:fe({position:"relative",cursor:"default",width:P,height:I},B)},F,{ref:function(ae){E.container=ae}}),X.createElement(Ux,Ks({},Y,{width:P,height:I,title:L,desc:W,style:MQ}),this.renderClipPath(),ok(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(q.Component);Be(S,"displayName",n),Be(S,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Be(S,"getDerivedStateFromProps",function(T,C){var O=T.dataKey,E=T.data,N=T.children,k=T.width,M=T.height,P=T.layout,I=T.stackOffset,B=T.margin,V=C.dataStartIndex,L=C.dataEndIndex;if(C.updateId===void 0){var W=FN(T);return fe(fe(fe({},W),{},{updateId:0},_(fe(fe({props:T},W),{},{updateId:0}),C)),{},{prevDataKey:O,prevData:E,prevWidth:k,prevHeight:M,prevLayout:P,prevStackOffset:I,prevMargin:B,prevChildren:N})}if(O!==C.prevDataKey||E!==C.prevData||k!==C.prevWidth||M!==C.prevHeight||P!==C.prevLayout||I!==C.prevStackOffset||!Xs(B,C.prevMargin)){var Q=FN(T),Y={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},H=fe(fe({},UN(C,E,P)),{},{updateId:C.updateId+1}),j=fe(fe(fe({},Q),Y),H);return fe(fe(fe({},j),_(fe({props:T},j),C)),{},{prevDataKey:O,prevData:E,prevWidth:k,prevHeight:M,prevLayout:P,prevStackOffset:I,prevMargin:B,prevChildren:N})}if(!Bx(N,C.prevChildren)){var F,Z,ae,$,G=or(N,gl),ne=G&&(F=(Z=G.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&F!==void 0?F:V,ce=G&&(ae=($=G.props)===null||$===void 0?void 0:$.endIndex)!==null&&ae!==void 0?ae:L,ge=ne!==V||ce!==L,De=!st(E),Ce=De&&!ge?C.updateId:C.updateId+1;return fe(fe({updateId:Ce},_(fe(fe({props:T},C),{},{updateId:Ce,dataStartIndex:ne,dataEndIndex:ce}),C)),{},{prevChildren:N,dataStartIndex:ne,dataEndIndex:ce})}return null}),Be(S,"renderActiveDot",function(T,C,O){var E;return q.isValidElement(T)?E=q.cloneElement(T,C):Ge(T)?E=T(C):E=X.createElement(wS,C),X.createElement(wt,{className:"recharts-active-dot",key:O},E)});var A=q.forwardRef(function(C,O){return X.createElement(S,Ks({},C,{ref:O}))});return A.displayName=S.displayName,A},qQ=hL({chartName:"BarChart",GraphicalChild:Go,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hp},{axisType:"yAxis",AxisComp:Kp}],formatAxisMap:JX}),UQ=hL({chartName:"PieChart",GraphicalChild:Ja,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$p},{axisType:"radiusAxis",AxisComp:jp}],formatAxisMap:UG,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const zN=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82ca9d","#ffc658","#a4de6c","#d0ed57","#ff7300","#4CAF50","#F44336","#E91E63","#9C27B0","#3F51B5"],FQ=({active:t,payload:e})=>t&&e&&e.length?x.jsx("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:x.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:`${e[0].name} : ${Ae(e[0].value)}`})}):null,VQ=({transactions:t,categories:e,type:n,month:r})=>{const a=X.useMemo(()=>{const i=t.filter(u=>u.type===n&&u.date.startsWith(r)&&u.category_id),s={};return i.forEach(u=>{u.category_id&&(s[u.category_id]=(s[u.category_id]||0)+u.amount)}),Object.entries(s).map(([u,c])=>{const f=e.find(h=>h.id===u);return{name:f?f.name:"Desconhecido",value:c}}).sort((u,c)=>c.value-u.value)},[t,e,n,r]);return a.length===0?x.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",n===ye.INCOME?"receitas":"despesas"," este mês."]}):x.jsx("div",{className:"w-full h-80 md:h-96",children:x.jsx(YI,{width:"100%",height:"100%",children:x.jsxs(UQ,{children:[x.jsx(Ja,{data:a,cx:"50%",cy:"50%",labelLine:!1,outerRadius:"80%",fill:"#8884d8",dataKey:"value",nameKey:"name",label:({cx:i,cy:s,midAngle:u,innerRadius:c,outerRadius:f,percent:h,index:m})=>{const y=Math.PI/180,_=c+(f-c)*.5,S=i+_*Math.cos(-u*y),A=s+_*Math.sin(-u*y),T=document.documentElement.classList.contains("dark");return h*100<5?null:x.jsx("text",{x:S,y:A,fill:"#FFF",textAnchor:S>i?"start":"end",dominantBaseline:"central",fontSize:"12px",children:`${(h*100).toFixed(0)}%`})},children:a.map((i,s)=>x.jsx(_p,{fill:zN[s%zN.length]},`cell-${s}`))}),x.jsx(qr,{content:x.jsx(FQ,{})}),x.jsx(Ri,{formatter:(i,s)=>x.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:i})})]})})})},zQ=({active:t,payload:e,label:n})=>t&&e&&e.length?x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:[x.jsxs("p",{className:"text-sm font-semibold text-textBase dark:text-textBaseDark",children:["Dia ",n]}),x.jsxs("p",{className:`text-sm ${e[0].fill==="#00C49F"?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:[e[0].name,": ",Ae(e[0].value)]})]}):null,GQ=({transactions:t,type:e,month:n})=>{const r=X.useMemo(()=>{const[s,u]=n.split("-").map(Number),c=new Date(s,u,0).getDate(),f=Array.from({length:c},(h,m)=>({name:(m+1).toString().padStart(2,"0"),value:0}));return t.forEach(h=>{if(h.type===e&&h.date.startsWith(n)){const m=parseInt(h.date.split("-")[2],10)-1;m>=0&&m<c&&(f[m].value+=h.amount)}}),f},[t,e,n]);if(r.every(s=>s.value===0))return x.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",e===ye.INCOME?"receitas":"despesas"," este mês."]});const a=s=>s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(0)}K`:s.toString(),i=e===ye.INCOME?"#00C49F":"#FF8042";return x.jsx("div",{className:"w-full h-80 md:h-96",children:x.jsx(YI,{width:"100%",height:"100%",children:x.jsxs(qQ,{data:r,margin:{top:5,right:0,left:-10,bottom:5},children:[x.jsx(Q5,{strokeDasharray:"3 3",strokeOpacity:.2,className:"stroke-neutral dark:stroke-neutralDark"}),x.jsx(Hp,{dataKey:"name",tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",interval:"preserveStartEnd"}),x.jsx(Kp,{tickFormatter:a,tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",width:45}),x.jsx(qr,{content:x.jsx(zQ,{}),cursor:{fill:"rgba(128, 128, 128, 0.1)"}}),x.jsx(Ri,{payload:[{value:e===ye.INCOME?"Receitas":"Despesas",type:"square",color:i}],formatter:s=>x.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:s})}),x.jsx(Go,{dataKey:"value",name:e===ye.INCOME?"Receitas":"Despesas",fill:i,radius:[4,4,0,0]})]})})})},pL=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})]}),HQ=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),KQ=({className:t="w-5 h-5",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 10.5h19.5M4.5 3v2.25M19.5 3v2.25"})]}),YQ=({className:t="w-5 h-5",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75h.008v.008H12V6.75Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75h.008v.008H12v-.008Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75h.008v.008H12V18.75Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Z"})]}),GN=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 11.25a.75.75 0 0 1 0-1.5m1.259 5.25a.75.75 0 0 1 0-1.5m15.257 1.5a.75.75 0 0 1 0-1.5M16.5 6.375a.75.75 0 0 1 0-1.5m-9.75 1.5a.75.75 0 0 1 0-1.5M21 9.75A.75.75 0 0 1 20.25 9M12 3.75a.75.75 0 0 1 .75-.75M3.75 9A.75.75 0 0 1 3 9.75m1.5-4.5a.75.75 0 0 1-.75-.75"})}),WQ=({recurringTransactions:t,accounts:e,categories:n,onViewTransaction:r,isPrivacyModeEnabled:a})=>{const i=Ut(new Date),s=Ut(new Date(new Date().setDate(new Date().getDate()+7))),u=t.filter(m=>!m.is_paused&&(!m.end_date||m.end_date>=i)&&(m.remaining_occurrences===void 0||m.remaining_occurrences>0)),c=u.filter(m=>m.next_due_date<i).sort((m,y)=>new Date(m.next_due_date).getTime()-new Date(y.next_due_date).getTime()),f=u.filter(m=>m.next_due_date>=i&&m.next_due_date<=s).sort((m,y)=>new Date(m.next_due_date).getTime()-new Date(y.next_due_date).getTime());if(c.length===0&&f.length===0)return x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex items-center mb-3",children:[x.jsx(GN,{className:"w-6 h-6 text-secondary dark:text-secondaryDark mr-2"}),x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),x.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark text-center py-3",children:"Nenhuma conta vencida ou próxima do vencimento. Tudo em dia!"})]});const h=(m,y)=>{const _=e.find(C=>C.id===m.account_id),S=m.category_id?n.find(C=>C.id===m.category_id):null,A=m.type===ye.EXPENSE?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark",T=m.type===ye.EXPENSE?"-":"+";return x.jsx("li",{className:`p-3 rounded-md border-l-4 ${y?"border-destructive dark:border-destructiveDark bg-destructive/5 dark:bg-destructiveDark/10":"border-amber-500 dark:border-amber-400 bg-amber-500/5 dark:bg-amber-400/10"} hover:shadow-sm transition-shadow`,onClick:()=>r&&r(m.id),role:r?"button":void 0,tabIndex:r?0:void 0,"aria-label":`Ver detalhes de ${m.description}`,children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[y?x.jsx(KQ,{className:"w-5 h-5 text-destructive dark:text-destructiveDark flex-shrink-0"}):x.jsx(YQ,{className:"w-5 h-5 text-amber-500 dark:text-amber-400 flex-shrink-0"}),x.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:m.description})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-7",children:["Vence em: ",Cr(m.next_due_date),_&&` (${_.name})`,S&&` - ${S.name}`]})]}),x.jsxs("span",{className:`text-md font-bold ${A}`,children:[T,Ae(m.amount,"BRL","pt-BR",a)]})]})},m.id)};return x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex items-center mb-4",children:[x.jsx(GN,{className:"w-6 h-6 text-primary dark:text-primaryDark mr-2"}),x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),x.jsxs("div",{className:"space-y-4",children:[c.length>0&&x.jsxs("div",{children:[x.jsxs("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Vencidas (",c.length,")"]}),x.jsx("ul",{className:"space-y-2",children:c.map(m=>h(m,!0))})]}),f.length>0&&x.jsxs("div",{children:[x.jsxs("h3",{className:`text-md font-semibold text-amber-600 dark:text-amber-500 mb-2 ${c.length>0?"mt-4":""}`,children:["Próximas (7 dias) (",f.length,")"]}),x.jsx("ul",{className:"space-y-2",children:f.map(m=>h(m,!1))})]})]})]})},HN=({transactions:t,accounts:e,categories:n,creditCards:r,installmentPurchases:a,moneyBoxes:i,loans:s,loanRepayments:u,recurringTransactions:c,onAddTransaction:f,calculateAccountBalance:h,calculateMoneyBoxBalance:m,onViewRecurringTransaction:y,isPrivacyModeEnabled:_})=>{const[S,A]=q.useState(ye.EXPENSE),[T,C]=q.useState("pie"),O=Ut(new Date).substring(0,7),E=q.useMemo(()=>e.reduce((L,W)=>L+h(W.id),0),[e,h]),N=q.useMemo(()=>i.reduce((L,W)=>L+m(W.id),0),[i,m]),k=q.useMemo(()=>a.reduce((L,W)=>{if(W.installments_paid>=W.number_of_installments)return L;const Q=W.total_amount/W.number_of_installments,Y=W.number_of_installments-W.installments_paid;return L+Q*Y},0),[a]),M=q.useMemo(()=>s.reduce((L,W)=>{const Q=u.filter(Y=>Y.loan_id===W.id).reduce((Y,H)=>Y+H.amount_paid,0);return L+(W.total_amount_to_reimburse-Q)},0),[s,u]),P=q.useMemo(()=>E+N+M-k,[E,N,M,k]),I=q.useMemo(()=>[...t].sort((L,W)=>new Date(W.date).getTime()-new Date(L.date).getTime()).slice(0,5),[t]),B=q.useMemo(()=>n.filter(L=>L.type===ye.EXPENSE&&L.monthly_budget&&L.monthly_budget>0),[n]),V=q.useMemo(()=>{const L=B.reduce((Q,Y)=>Q+(Y.monthly_budget||0),0);let W=0;return B.forEach(Q=>{const Y=t.filter(H=>H.category_id===Q.id&&H.date.startsWith(O)&&H.type===ye.EXPENSE).reduce((H,j)=>H+j.amount,0);W+=Y}),{totalBudgeted:L,totalSpentInBudgetedCategories:W}},[B,t,O]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Painel Geral"}),x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Bem-vindo ao seu controle financeiro."})]}),x.jsxs(_e,{onClick:f,variant:"primary",size:"lg",children:[x.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO TOTAL (CONTAS)"}),x.jsx("p",{className:`text-3xl font-bold ${E>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:Ae(E,"BRL","pt-BR",_)})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO CAIXINHAS"}),x.jsx("p",{className:`text-3xl font-bold ${N>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:Ae(N,"BRL","pt-BR",_)})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex items-center w-full justify-between",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"A RECEBER (EMPRÉSTIMOS)"}),x.jsx(Cw,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),x.jsx("p",{className:"text-3xl font-bold text-primary dark:text-primaryDark",children:Ae(M,"BRL","pt-BR",_)})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30 flex flex-col items-start",children:[x.jsxs("div",{className:"flex items-center w-full justify-between",children:[x.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"PATRIMÔNIO LÍQUIDO"}),x.jsx(Sq,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),x.jsx("p",{className:`text-3xl font-bold ${P>=0?"text-primary dark:text-primaryDark":"text-destructive dark:text-destructiveDark"}`,children:Ae(P,"BRL","pt-BR",_)}),!_&&x.jsxs("div",{className:"text-xs mt-1 space-y-0.5",children:[k>0&&x.jsxs("p",{className:"text-destructive dark:text-destructiveDark/80",children:["Dívida Cartões: ",Ae(k)]}),M>0&&x.jsxs("p",{className:"text-primary dark:text-primaryDark/80",children:["Empréstimos a Receber: ",Ae(M)]})]})]})]}),x.jsx(WQ,{recurringTransactions:c,accounts:e,categories:n,onViewTransaction:y,isPrivacyModeEnabled:_}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[x.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:["Resumo Mensal (",O.split("-")[1],"/",O.split("-")[0],")"]}),x.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[x.jsx(_e,{variant:S===ye.EXPENSE?"primary":"ghost",size:"sm",onClick:()=>A(ye.EXPENSE),children:"Despesas"}),x.jsx(_e,{variant:S===ye.INCOME?"secondary":"ghost",size:"sm",onClick:()=>A(ye.INCOME),children:"Receitas"}),x.jsx("div",{className:"h-6 border-l border-borderBase dark:border-borderBaseDark mx-1 sm:mx-2"}),x.jsx(_e,{variant:T==="pie"?"primary":"ghost",size:"sm",onClick:()=>C("pie"),className:"!px-2",title:"Gráfico de Pizza",children:x.jsx(pL,{className:"w-4 h-4"})}),x.jsx(_e,{variant:T==="bar"?"primary":"ghost",size:"sm",onClick:()=>C("bar"),className:"!px-2",title:"Gráfico de Barras",children:x.jsx(HQ,{className:"w-4 h-4"})})]})]}),_?x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Gráficos ocultos em Modo Privacidade."}):T==="pie"?x.jsx(VQ,{transactions:t,categories:n.filter(L=>L.type===S),type:S,month:O}):x.jsx(GQ,{transactions:t,type:S,month:O})]}),B.length>0&&x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:["Orçamento Mensal (",O.split("-")[1],"/",O.split("-")[0],")"]}),x.jsxs("div",{className:"mb-3",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsxs("span",{children:["Total Gasto (Orçado): ",Ae(V.totalSpentInBudgetedCategories,"BRL","pt-BR",_)]}),x.jsxs("span",{children:["Total Orçado: ",Ae(V.totalBudgeted,"BRL","pt-BR",_)]})]}),!_&&V.totalBudgeted>0&&x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 mt-1 dark:progress-bar-bg",children:x.jsx("div",{className:`h-2.5 rounded-full ${V.totalSpentInBudgetedCategories>V.totalBudgeted?"bg-destructive":"bg-primary dark:bg-primaryDark"}`,style:{width:`${Math.min(V.totalSpentInBudgetedCategories/V.totalBudgeted*100,100)}%`}})}),_&&x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center",children:"Progresso oculto em Modo Privacidade."})]}),x.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto",children:B.map(L=>{const W=t.filter(H=>H.category_id===L.id&&H.date.startsWith(O)&&H.type===ye.EXPENSE).reduce((H,j)=>H+j.amount,0),Q=L.monthly_budget?Math.min(W/L.monthly_budget*100,100):0,Y=L.monthly_budget?W>L.monthly_budget:!1;return x.jsxs("li",{className:"text-sm",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:L.name}),x.jsxs("span",{className:Y?"text-destructive dark:text-destructiveDark":"",children:[Ae(W,"BRL","pt-BR",_)," / ",Ae(L.monthly_budget||0,"BRL","pt-BR",_)]})]}),!_&&L.monthly_budget&&L.monthly_budget>0&&x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-1.5 mt-0.5 dark:progress-bar-bg",children:x.jsx("div",{className:`h-1.5 rounded-full ${Y?"bg-destructive":"bg-secondary dark:bg-secondaryDark"}`,style:{width:`${Q}%`}})})]},L.id)})})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:"Transações Recentes"}),I.length>0?x.jsx("ul",{className:"space-y-3",children:I.map(L=>{const W=e.find(j=>j.id===L.account_id),Q=n.find(j=>j.id===L.category_id);let Y="text-textBase dark:text-textBaseDark";L.type===ye.INCOME?Y="text-secondary dark:text-secondaryDark":L.type===ye.EXPENSE&&(Y="text-destructive dark:text-destructiveDark");let H=L.description||(L.type===ye.TRANSFER?"Transferência":Q==null?void 0:Q.name)||"Transação";if(L.type===ye.TRANSFER){const j=e.find(F=>F.id===L.to_account_id);H+=` para ${(j==null?void 0:j.name)||"N/A"}`}return x.jsxs("li",{className:"flex justify-between items-center py-2 border-b border-borderBase/50 dark:border-borderBaseDark/50 last:border-b-0",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-textBase dark:text-textBaseDark",children:H}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[W==null?void 0:W.name," • ",Cr(L.date)]})]}),x.jsx("p",{className:`font-semibold ${Y}`,children:Ae(L.amount,"BRL","pt-BR",_)})]},L.id)})}):x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Nenhuma transação recente."})]})]})},ua=({className:t="w-5 h-5",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79M5.25 5.79h13.5"})}),ca=({className:t="w-5 h-5",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),Qc=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})}),XQ=({transaction:t,accounts:e,categories:n,tags:r,installmentPurchases:a,onEdit:i,onDelete:s,isPrivacyModeEnabled:u})=>{const{type:c,amount:f,category_id:h,description:m,date:y,account_id:_,to_account_id:S,tag_ids:A}=t,T=e.find(V=>V.id===_),C=S?e.find(V=>V.id===S):null,O=h?n.find(V=>V.id===h):null,E=A?r.filter(V=>A.includes(V.id)):[];let N="text-textBase dark:text-textBaseDark",k="";c===ye.INCOME?(N="text-secondary dark:text-secondaryDark",k="+"):c===ye.EXPENSE&&(N="text-destructive dark:text-destructiveDark",k="-");const M=m||(O==null?void 0:O.name)||c,P=[];T&&P.push(T.name),c===ye.TRANSFER&&C?P.push(`➔ ${C.name}`):O&&c!==ye.TRANSFER&&P.push(O.name);const I=V=>{if(!V)return"text-textBase dark:text-textBaseDark";try{const L=parseInt(V.slice(1,3),16),W=parseInt(V.slice(3,5),16),Q=parseInt(V.slice(5,7),16);return(.299*L+.587*W+.114*Q)/255>.5?"text-neutral-800":"text-white"}catch{return"text-white"}},B=a.some(V=>V.linked_transaction_id===t.id&&V.number_of_installments===1);return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-2 sm:space-y-0",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsxs("span",{className:`font-semibold text-lg ${N}`,children:[k,Ae(f,"BRL","pt-BR",u)]}),x.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:M}),B&&x.jsxs("span",{title:"Débito em fatura de cartão",className:"ml-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300 px-1.5 py-0.5 rounded-full inline-flex items-center",children:[x.jsx(Qc,{className:"w-3 h-3 mr-1"})," Cartão"]})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[Cr(y)," ",x.jsx("span",{className:"mx-1",children:"•"})," ",P.join(" ")]}),m&&O&&c!==ye.TRANSFER&&x.jsx("p",{className:"text-xs text-neutral/70 dark:text-neutralDark/70 italic mt-1",children:m}),E.length>0&&x.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:E.map(V=>x.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full border
                            ${V.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:V.color?{backgroundColor:V.color,borderColor:V.color}:{},children:x.jsx("span",{className:V.color?I(V.color):"text-textBase dark:text-textBaseDark",children:V.name})},V.id))})]}),x.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>i(t),"aria-label":"Editar",children:x.jsx(ca,{className:"w-4 h-4"})}),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>s(t.id),"aria-label":"Excluir",children:x.jsx(ua,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})},qt=({label:t,id:e,error:n,className:r,containerClassName:a,options:i,placeholder:s,...u})=>x.jsxs("div",{className:a,children:[t&&x.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),x.jsxs("select",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...u,children:[s&&x.jsx("option",{value:"",children:s}),i.map(h=>x.jsx("option",{value:h.value,children:h.label},h.value))]}),n&&x.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),Je=({label:t,id:e,error:n,className:r,containerClassName:a,...i})=>x.jsxs("div",{className:a,children:[t&&x.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),x.jsx("input",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...i}),n&&x.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),ZQ=({transactions:t,accounts:e,categories:n,tags:r,installmentPurchases:a,onAddTransaction:i,onEditTransaction:s,onDeleteTransaction:u,isLoading:c,isPrivacyModeEnabled:f})=>{const[h,m]=q.useState("all"),[y,_]=q.useState("all"),[S,A]=q.useState("all"),[T,C]=q.useState("all"),[O,E]=q.useState([]),[N,k]=q.useState(""),[M,P]=q.useState("desc"),I=[{value:"all",label:"Todas as Contas"},...e.map(H=>({value:H.id,label:H.name}))],B=[{value:"all",label:"Todas as Categorias"},...n.map(H=>({value:H.id,label:H.name}))],V=[{value:"all",label:"Todos os Tipos"},...Ew],L=r.map(H=>({value:H.id,label:H.name})),W=q.useMemo(()=>{let H=[...t];if(h!=="all"){const j=new Date;let F=null,Z=new Date(j.getFullYear(),j.getMonth(),j.getDate(),23,59,59,999);if(h==="today"?F=new Date(j.getFullYear(),j.getMonth(),j.getDate()):h==="current_month"?(F=new Date(j.getFullYear(),j.getMonth(),1),Z=new Date(j.getFullYear(),j.getMonth()+1,0,23,59,59,999)):h==="last_7_days"?(F=new Date(j),F.setDate(j.getDate()-6),F.setHours(0,0,0,0)):h==="last_30_days"&&(F=new Date(j),F.setDate(j.getDate()-29),F.setHours(0,0,0,0)),F){const ae=Ut(F),$=Ut(Z);H=H.filter(G=>G.date>=ae&&G.date<=$)}}if(y!=="all"&&(H=H.filter(j=>j.type===y)),S!=="all"&&(H=H.filter(j=>j.account_id===S||j.to_account_id===S)),T!=="all"&&(H=H.filter(j=>j.category_id===T)),O.length>0&&(H=H.filter(j=>j.tag_ids&&j.tag_ids.some(F=>O.includes(F)))),N.trim()!==""){const j=N.toLowerCase();H=H.filter(F=>{var Z;return F.description&&F.description.toLowerCase().includes(j)||F.category_id&&((Z=n.find(ae=>ae.id===F.category_id))==null?void 0:Z.name.toLowerCase().includes(j))})}return H.sort((j,F)=>{const Z=new Date(j.date).getTime(),ae=new Date(F.date).getTime();return M==="desc"?ae-Z:Z-ae}),H},[t,h,y,S,T,O,N,n,M]),Q=q.useCallback(()=>P(H=>H==="asc"?"desc":"asc"),[]),Y=H=>{const j=H.target.options,F=[];for(let Z=0,ae=j.length;Z<ae;Z++)j[Z].selected&&F.push(j[Z].value);E(F)};return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações"}),x.jsxs(_e,{onClick:i,variant:"primary",children:[x.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-6 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx(qt,{label:"Período",options:vq,value:h,onChange:H=>m(H.target.value)}),x.jsx(qt,{label:"Tipo",options:V,value:y,onChange:H=>_(H.target.value)}),x.jsx(qt,{label:"Conta",options:I,value:S,onChange:H=>A(H.target.value)}),x.jsx(qt,{label:"Categoria",options:B,value:T,onChange:H=>C(H.target.value),disabled:y===ye.TRANSFER.toString()}),r.length>0&&x.jsx(qt,{label:"Tags",options:L,value:O,onChange:Y,multiple:!0,className:"h-24",placeholder:"Todas as Tags"}),x.jsx(Je,{label:"Buscar Descrição",type:"text",placeholder:"Ex: Supermercado",value:N,onChange:H=>k(H.target.value),containerClassName:r.length===0?"lg:col-span-2":""})]}),x.jsx("div",{className:"flex justify-end",children:x.jsxs(_e,{variant:"ghost",size:"sm",onClick:Q,children:["Ordenar por Data: ",M==="desc"?"Mais Recentes":"Mais Antigas"]})}),c&&x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Carregando transações..."}),!c&&W.length>0?x.jsx("ul",{className:"space-y-3",children:W.map(H=>x.jsx(XQ,{transaction:H,accounts:e,categories:n,tags:r,installmentPurchases:a,onEdit:s,onDelete:u,isPrivacyModeEnabled:f},H.id))}):!c&&x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação encontrada com os filtros aplicados."})]})},JQ=({account:t,balance:e,onEdit:n,onDelete:r,transactionCount:a,isPrivacyModeEnabled:i})=>x.jsx("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Qc,{className:"w-6 h-6 text-primary dark:text-primaryDark"}),x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),x.jsx("p",{className:`text-2xl font-bold mt-1 ${e>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:Ae(e,"BRL","pt-BR",i)}),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1",children:["Saldo Inicial: ",Ae(t.initial_balance,"BRL","pt-BR",i)]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[x.jsxs("div",{className:"flex space-x-2",children:[x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Conta",children:x.jsx(ca,{className:"w-4 h-4"})}),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Conta",disabled:a>0,title:a>0?"Não pode excluir contas com transações associadas":"Excluir conta",children:x.jsx(ua,{className:`w-4 h-4 ${a>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),a>0&&x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Possui ",a," transaçõe(s)"]})]})]})}),Xn=({isOpen:t,onClose:e,title:n,children:r,size:a="md"})=>{if(!t)return null;let i="max-w-md";return a==="sm"&&(i="max-w-sm"),a==="lg"&&(i="max-w-lg"),a==="xl"&&(i="max-w-xl"),x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 dark:bg-opacity-70 backdrop-blur-sm p-4",children:x.jsxs("div",{className:`bg-surface dark:bg-surfaceDark rounded-lg shadow-xl dark:shadow-neutralDark/50 w-full ${i} transform transition-all flex flex-col max-h-[85vh]`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[x.jsxs("div",{id:"modal-title",className:"flex items-center justify-between px-6 py-4 border-b border-borderBase dark:border-borderBaseDark flex-shrink-0",children:[x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n}),x.jsx("button",{onClick:e,className:"text-textMuted dark:text-textMutedDark hover:text-textBase dark:hover:text-textBaseDark transition-colors","aria-label":"Fechar modal",children:x.jsx(zR,{className:"w-5 h-5"})})]}),x.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:r})]})})},QQ=({accounts:t,transactions:e,onAddAccount:n,onUpdateAccount:r,onDeleteAccount:a,calculateAccountBalance:i,isPrivacyModeEnabled:s})=>{const[u,c]=q.useState(!1),[f,h]=q.useState(null),[m,y]=q.useState(""),[_,S]=q.useState("0"),[A,T]=q.useState(""),C=()=>{h(null),y(""),S("0"),T(""),c(!0)},O=M=>{h(M),y(M.name),S(M.initial_balance.toString()),T(""),c(!0)},E=()=>{c(!1),h(null)},N=()=>{if(!m.trim()){T("Nome da conta é obrigatório.");return}const M=parseFloat(_);if(isNaN(M)){T("Saldo inicial inválido.");return}T(""),f?r({...f,name:m,initial_balance:M}):n({name:m,initial_balance:M}),E()},k=M=>e.filter(P=>P.account_id===M||P.to_account_id===M).length;return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Contas"}),x.jsxs(_e,{onClick:C,variant:"primary",children:[x.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Conta"]})]}),t.length>0?x.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(M=>x.jsx(JQ,{account:M,balance:i(M.id),onEdit:O,onDelete:a,transactionCount:k(M.id),isPrivacyModeEnabled:s},M.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma conta cadastrada. Adicione uma para começar!"}),x.jsx(Xn,{isOpen:u,onClose:E,title:f?"Editar Conta":"Nova Conta",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Je,{label:"Nome da Conta",id:"accountName",type:"text",value:m,onChange:M=>y(M.target.value),placeholder:"Ex: Carteira, Banco X",required:!0}),x.jsx(Je,{label:"Saldo Inicial",id:"initialBalance",type:"number",step:"0.01",value:_,onChange:M=>S(M.target.value),placeholder:s?Ae(0,"BRL","pt-BR",!0).replace("0,00","Ex: 1000.00"):"Ex: 1000.00",required:!0}),A&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:A}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(_e,{variant:"ghost",onClick:E,children:"Cancelar"}),x.jsx(_e,{variant:"primary",onClick:N,children:"Salvar"})]})]})})]})},mL=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),KN=({category:t,transactions:e,onEdit:n,onDelete:r,transactionCount:a,isPrivacyModeEnabled:i})=>{const s=t.type===ye.INCOME?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",u=t.type===ye.INCOME?"Receita":"Despesa",c=Ut().substring(0,7),f=t.type===ye.EXPENSE&&t.monthly_budget?e.filter(y=>y.category_id===t.id&&y.date.startsWith(c)&&y.type===ye.EXPENSE).reduce((y,_)=>y+_.amount,0):0,h=t.monthly_budget&&t.monthly_budget>0?Math.min(f/t.monthly_budget*100,100):0,m=t.monthly_budget&&f>t.monthly_budget;return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(mL,{className:`w-5 h-5 ${s}`}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.name}),x.jsx("p",{className:`text-xs font-semibold ${s}`,children:u})]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[x.jsxs("div",{className:"flex space-x-2",children:[x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Categoria",className:"!p-1.5",children:x.jsx(ca,{className:"w-4 h-4"})}),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Categoria",className:"!p-1.5",disabled:a>0,title:a>0?"Não pode excluir categorias com transações associadas":"Excluir categoria",children:x.jsx(ua,{className:`w-4 h-4 ${a>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),a>0&&x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Usada em ",a," trans."]})]})]}),t.type===ye.EXPENSE&&t.monthly_budget&&t.monthly_budget>0&&x.jsxs("div",{className:"mt-3 pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[x.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[x.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Orçamento Mensal: ",Ae(t.monthly_budget,"BRL","pt-BR",i)]}),x.jsxs("span",{className:`font-medium ${m?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark"}`,children:["Gasto: ",Ae(f,"BRL","pt-BR",i)]})]}),x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:x.jsx("div",{className:`h-2 rounded-full ${m?"bg-destructive dark:bg-destructiveDark":"bg-primary dark:bg-primaryDark"}`,style:{width:`${h}%`}})}),m&&x.jsx("p",{className:"text-xs text-destructive dark:text-destructiveDark mt-1 text-right",children:"Orçamento excedido!"})]})]})},NS=({className:t="w-5 h-5",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.355a12.053 12.053 0 0 1-4.5 0M12 3V1.5M12 16.5h.008v.008H12V16.5Zm-4.508-2.656L6.292 12.64a9.018 9.018 0 0 1-.365-2.074 9.028 9.028 0 0 1 .365-2.073l1.208-1.208m5.832 5.46L17.708 12.36a9.018 9.018 0 0 0 .365-2.074 9.028 9.028 0 0 0-.365-2.073L16.5 6.992M12 1.5a9 9 0 0 0-9 9c0 2.21.81 4.286 2.186 5.885L6.9 17.72A9.03 9.03 0 0 0 12 22.5a9.03 9.03 0 0 0 5.1-4.78l1.714-1.335A8.973 8.973 0 0 0 21 10.5a9 9 0 0 0-9-9Z"})}),eee=({categories:t,transactions:e,aiConfig:n,onAddCategory:r,onUpdateCategory:a,onDeleteCategory:i,onSuggestBudget:s,isPrivacyModeEnabled:u})=>{const[c,f]=q.useState(!1),[h,m]=q.useState(null),[y,_]=q.useState(""),[S,A]=q.useState(ye.EXPENSE),[T,C]=q.useState(""),[O,E]=q.useState(""),[N,k]=q.useState(!1),M=()=>{m(null),_(""),A(ye.EXPENSE),C(""),E(""),f(!0)},P=Y=>{var H;m(Y),_(Y.name),A(Y.type),C(((H=Y.monthly_budget)==null?void 0:H.toString())||""),E(""),f(!0)},I=()=>{f(!1),m(null)},B=()=>{if(!y.trim()){E("Nome da categoria é obrigatório.");return}const Y=T?parseFloat(T):void 0;if(S===ye.EXPENSE&&T&&(isNaN(Y)||Y<0)){E("Orçamento mensal deve ser um número positivo ou vazio.");return}E(""),h?a({...h,name:y.trim(),type:S,monthly_budget:S===ye.EXPENSE?Y:void 0}):r({name:y.trim(),type:S,monthly_budget:S===ye.EXPENSE?Y:void 0}),I()},V=Y=>e.filter(H=>H.category_id===Y).length,L=async()=>{if(!y.trim()&&!h){E("Por favor, insira um nome para a categoria antes de sugerir um orçamento.");return}E(""),k(!0);const Y=t.filter(j=>j.type===ye.EXPENSE&&j.id!==(h==null?void 0:h.id)&&j.monthly_budget).map(j=>({name:j.name,budget:j.monthly_budget})),H=await s((h==null?void 0:h.name)||y,Y);H!==null?C(H.toString()):E("Não foi possível sugerir um orçamento no momento."),k(!1)},W=t.filter(Y=>Y.type===ye.INCOME).sort((Y,H)=>Y.name.localeCompare(H.name)),Q=t.filter(Y=>Y.type===ye.EXPENSE).sort((Y,H)=>Y.name.localeCompare(H.name));return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Categorias"}),x.jsxs(_e,{onClick:M,variant:"primary",children:[x.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Categoria"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Receitas (",W.length,")"]}),W.length>0?x.jsx("ul",{className:"space-y-3",children:W.map(Y=>x.jsx(KN,{category:Y,transactions:e,onEdit:P,onDelete:i,transactionCount:V(Y.id),isPrivacyModeEnabled:u},Y.id))}):x.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de receita."})]}),x.jsxs("div",{children:[x.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Despesas (",Q.length,")"]}),Q.length>0?x.jsx("ul",{className:"space-y-3",children:Q.map(Y=>x.jsx(KN,{category:Y,transactions:e,onEdit:P,onDelete:i,transactionCount:V(Y.id),isPrivacyModeEnabled:u},Y.id))}):x.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de despesa."})]})]}),x.jsx(Xn,{isOpen:c,onClose:I,title:h?"Editar Categoria":"Nova Categoria",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Je,{label:"Nome da Categoria",id:"categoryName",type:"text",value:y,onChange:Y=>_(Y.target.value),placeholder:"Ex: Alimentação, Salário",required:!0}),x.jsx(qt,{label:"Tipo de Categoria",id:"categoryType",options:[{value:ye.INCOME,label:"Receita"},{value:ye.EXPENSE,label:"Despesa"}],value:S,onChange:Y=>{A(Y.target.value),Y.target.value===ye.INCOME&&C("")},required:!0}),S===ye.EXPENSE&&x.jsxs("div",{className:"space-y-1",children:[x.jsx(Je,{label:"Orçamento Mensal (Opcional)",id:"monthlyBudget",type:"number",step:"0.01",value:T,onChange:Y=>C(Y.target.value),placeholder:u?Ae(0,"BRL","pt-BR",!0).replace("0,00","Ex: 500.00"):"Ex: 500.00"}),n.isEnabled&&n.apiKeyStatus==="available"&&n.monthlyIncome&&n.monthlyIncome>0&&x.jsxs(_e,{type:"button",variant:"ghost",size:"sm",onClick:L,disabled:N,className:"text-primary dark:text-primaryDark !mt-1.5",children:[x.jsx(NS,{className:"w-4 h-4 mr-1.5"}),N?"Sugerindo...":"Sugerir com IA"]})]}),O&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:O}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(_e,{variant:"ghost",onClick:I,children:"Cancelar"}),x.jsx(_e,{variant:"primary",onClick:B,children:"Salvar"})]})]})})]})},gL=({className:t="w-5 h-5",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25zM12 2.25L11.187 5.104a4.502 4.502 0 00-3.09 3.09L5.25 9l2.846.813a4.502 4.502 0 003.09 3.09L12 15.75l.813-2.846a4.502 4.502 0 003.09-3.09L18.75 9l-2.846-.813a4.502 4.502 0 00-3.09-3.09L12 2.25z"})]}),tee=({card:t,installmentPurchases:e,onEditCard:n,onDeleteCard:r,onAddInstallmentPurchase:a,onEditInstallmentPurchase:i,onDeleteInstallmentPurchase:s,onMarkInstallmentPaid:u,onGetBestPurchaseDay:c,onPayMonthlyInstallments:f,isAIFeatureEnabled:h,isPrivacyModeEnabled:m})=>{const[y,_]=q.useState(!1),S=e.filter(O=>O.credit_card_id===t.id),A=S.reduce((O,E)=>{if(E.installments_paid>=E.number_of_installments)return O;const N=E.total_amount/E.number_of_installments,k=E.number_of_installments-E.installments_paid;return O+N*k},0),T=t.card_limit-A,C=X.useMemo(()=>VR(S,t,new Date),[S,t]);return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow-lg hover:shadow-xl dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx(Qc,{className:"w-7 h-7 text-primary dark:text-primaryDark"}),x.jsx("h3",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Limite Total: ",Ae(t.card_limit,"BRL","pt-BR",m)]}),x.jsxs("p",{className:`text-md font-medium ${T>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:["Disponível: ",Ae(T,"BRL","pt-BR",m)]}),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Fechamento: Dia ",t.closing_day," | Vencimento: Dia ",t.due_day]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1.5",children:[x.jsxs("div",{className:"flex space-x-1",children:[x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Cartão",className:"!p-1.5",children:x.jsx(ca,{className:"w-4 h-4"})}),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Cartão",className:"!p-1.5",disabled:S.length>0,title:S.length>0?"Exclua as compras parceladas primeiro":"Excluir cartão",children:x.jsx(ua,{className:`w-4 h-4 ${S.length>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),x.jsxs(_e,{size:"sm",variant:"secondary",onClick:()=>a(t),className:"!text-xs !py-1 !px-2.5",children:[x.jsx(Yn,{className:"w-4 h-4 mr-1"})," Novo Parcelamento"]})]})]}),x.jsxs("div",{className:"space-y-2",children:[h&&x.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>c(t.id),className:"text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !text-xs",title:"Ver melhor dia para compra com IA",children:[x.jsx(gL,{className:"w-4 h-4 mr-1.5"})," Melhor Dia para Compra (IA)"]}),C.length>0&&x.jsxs(_e,{variant:"primary",size:"sm",onClick:()=>f(t.id),className:"w-full !text-xs",children:["Pagar Parcelas da Fatura (",C.length,")"]})]}),S.length>0&&x.jsx("div",{className:"mt-2",children:x.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>_(!y),className:"text-sm text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !font-normal",children:[y?"Ocultar":"Mostrar"," ",S.length," Compra(s) Parcelada(s)"]})}),y&&S.length>0&&x.jsxs("div",{className:"mt-2 pt-3 border-t border-borderBase/50 dark:border-borderBaseDark/50 space-y-3",children:[x.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark",children:"Detalhes dos Parcelamentos:"}),x.jsx("ul",{className:"space-y-3 max-h-72 overflow-y-auto pr-1",children:S.map(O=>{const E=O.total_amount/O.number_of_installments,N=O.installments_paid>=O.number_of_installments,k=O.installments_paid+1,M=N?null:FR(O.purchase_date,k,t.due_day),P=C.some(I=>I.id===O.id);return x.jsxs("li",{className:`p-3 rounded-md ${N?"bg-green-500/10 dark:bg-green-500/20 opacity-70":"bg-surface dark:bg-surfaceDark shadow-sm border border-borderBase dark:border-borderBaseDark"}`,children:[x.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[x.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:O.description}),x.jsxs("div",{className:"flex space-x-1",children:[x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>i(O,t),"aria-label":"Editar Compra",className:"!p-1",children:x.jsx(ca,{className:"w-3.5 h-3.5"})}),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>s(O.id),"aria-label":"Excluir Compra",className:"!p-1",children:x.jsx(ua,{className:"w-3.5 h-3.5 text-destructive dark:text-destructiveDark"})})]})]}),x.jsxs("div",{className:"text-sm space-y-0.5",children:[x.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Parcela: ",x.jsx("span",{className:"font-medium",children:Ae(E,"BRL","pt-BR",m)}),x.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:[" (",O.installments_paid,"/",O.number_of_installments," pagas)"]})]}),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Total: ",Ae(O.total_amount,"BRL","pt-BR",m)," | Compra: ",Cr(O.purchase_date)]}),M&&!N&&x.jsxs("p",{className:`text-xs font-medium ${P?"text-red-600 dark:text-red-400":"text-textMuted dark:text-textMutedDark"}`,children:["Próx. Venc. Parcela: ",Cr(Ut(M))]})]}),!N&&x.jsxs(_e,{size:"sm",variant:P?"primary":"ghost",onClick:()=>u(O.id),className:`text-xs py-1 px-2 mt-2.5 w-full sm:w-auto ${P?"":"border border-borderBase dark:border-borderBaseDark"}`,children:[P?x.jsx(jx,{className:"w-4 h-4 mr-1"}):null,"Pagar Parcela (",k,")"]}),N&&x.jsxs("p",{className:"text-xs text-secondary dark:text-secondaryDark mt-2 font-medium flex items-center",children:[x.jsx(jx,{className:"w-4 h-4 mr-1"})," Compra Totalmente Paga"]})]},O.id)})})]}),y&&S.length===0&&x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center py-2",children:"Nenhuma compra parcelada para este cartão."})]})},nee=({isOpen:t,onClose:e,onSave:n,existingCard:r})=>{const[a,i]=q.useState(""),[s,u]=q.useState(""),[c,f]=q.useState(""),[h,m]=q.useState(""),[y,_]=q.useState({});q.useEffect(()=>{r?(i(r.name),u(r.card_limit.toString()),f(r.closing_day.toString()),m(r.due_day.toString())):(i(""),u(""),f(""),m("")),_({})},[r,t]);const S=()=>{const T={};a.trim()||(T.name="Nome do cartão é obrigatório.");const C=parseFloat(s);(isNaN(C)||C<=0)&&(T.limit="Limite deve ser um número positivo.");const O=parseInt(c,10);(isNaN(O)||O<1||O>31)&&(T.closingDay="Dia de fechamento deve ser entre 1 e 31.");const E=parseInt(h,10);return(isNaN(E)||E<1||E>31)&&(T.dueDay="Dia de vencimento deve ser entre 1 e 31."),_(T),Object.keys(T).length===0},A=()=>{if(!S())return;const T={id:(r==null?void 0:r.id)||It(),name:a.trim(),card_limit:parseFloat(s),closing_day:parseInt(c,10),due_day:parseInt(h,10)};n(T),e()};return x.jsx(Xn,{isOpen:t,onClose:e,title:r?"Editar Cartão de Crédito":"Novo Cartão de Crédito",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Je,{label:"Nome do Cartão",id:"cardName",value:a,onChange:T=>i(T.target.value),error:y.name,placeholder:"Ex: Cartão Principal, Cartão Viagem"}),x.jsx(Je,{label:"Limite do Cartão (R$)",id:"cardLimit",type:"number",step:"0.01",value:s,onChange:T=>u(T.target.value),error:y.limit,placeholder:"Ex: 5000.00"}),x.jsx(Je,{label:"Dia de Fechamento da Fatura",id:"cardClosingDay",type:"number",min:"1",max:"31",value:c,onChange:T=>f(T.target.value),error:y.closingDay,placeholder:"Ex: 25"}),x.jsx(Je,{label:"Dia de Vencimento da Fatura",id:"cardDueDay",type:"number",min:"1",max:"31",value:h,onChange:T=>m(T.target.value),error:y.dueDay,placeholder:"Ex: 10"}),y.form&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:y.form}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(_e,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(_e,{variant:"primary",onClick:A,children:"Salvar Cartão"})]})]})})},ree=({isOpen:t,onClose:e,onSave:n,creditCard:r,existingPurchase:a})=>{const[i,s]=q.useState(""),[u,c]=q.useState(Ut()),[f,h]=q.useState(""),[m,y]=q.useState(""),[_,S]=q.useState("0"),[A,T]=q.useState({});q.useEffect(()=>{a?(s(a.description),c(a.purchase_date),h(a.total_amount.toString()),y(a.number_of_installments.toString()),S(a.installments_paid.toString())):(s(""),c(Ut()),h(""),y(""),S("0")),T({})},[a,t]);const C=()=>{const E={};i.trim()||(E.description="Descrição é obrigatória."),u||(E.purchaseDate="Data da compra é obrigatória.");const N=parseFloat(f);(isNaN(N)||N<=0)&&(E.totalAmount="Valor total deve ser positivo.");const k=parseInt(m,10);(isNaN(k)||k<=0)&&(E.numberOfInstallments="Número de parcelas deve ser positivo.");const M=parseInt(_,10);return(isNaN(M)||M<0||k>0&&M>k)&&(E.installmentsPaid="Parcelas pagas inválido."),T(E),Object.keys(E).length===0},O=()=>{if(!C())return;const E={id:(a==null?void 0:a.id)||It(),credit_card_id:r.id,description:i.trim(),purchase_date:u,total_amount:parseFloat(f),number_of_installments:parseInt(m,10),installments_paid:parseInt(_,10)};n(E),e()};return x.jsxs(Xn,{isOpen:t,onClose:e,title:a?"Editar Compra Parcelada":"Nova Compra Parcelada",children:[x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark mb-3",children:["Cartão: ",x.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:r.name})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(Je,{label:"Descrição da Compra",id:"purchaseDescription",value:i,onChange:E=>s(E.target.value),error:A.description,placeholder:"Ex: Celular Novo, Geladeira"}),x.jsx(Je,{label:"Data da Compra",id:"purchaseDate",type:"date",value:u,onChange:E=>c(E.target.value),error:A.purchaseDate}),x.jsx(Je,{label:"Valor Total (R$)",id:"totalAmount",type:"number",step:"0.01",value:f,onChange:E=>h(E.target.value),error:A.totalAmount,placeholder:"Ex: 1200.00"}),x.jsx(Je,{label:"Número de Parcelas",id:"numberOfInstallments",type:"number",min:"1",value:m,onChange:E=>y(E.target.value),error:A.numberOfInstallments,placeholder:"Ex: 12"}),a&&x.jsx(Je,{label:"Parcelas Pagas",id:"installmentsPaid",type:"number",min:"0",max:m||void 0,value:_,onChange:E=>S(E.target.value),error:A.installmentsPaid}),A.form&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:A.form}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(_e,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(_e,{variant:"primary",onClick:O,children:"Salvar Compra"})]})]})]})},aee=({isOpen:t,onClose:e,advice:n,isLoading:r,cardName:a})=>x.jsxs(Xn,{isOpen:t,onClose:e,title:`Melhor Dia para Compra ${a?`(${a})`:""}`,size:"md",children:[r&&x.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 p-6",children:[x.jsx(gL,{className:"w-12 h-12 text-primary dark:text-primaryDark animate-pulse"}),x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Analisando o melhor dia para sua compra..."}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Aguarde um momento."})]}),!r&&n&&x.jsxs("div",{className:"space-y-4 p-2",children:[n.error?x.jsxs("div",{className:"bg-destructive/10 dark:bg-destructiveDark/20 p-4 rounded-md border-l-4 border-destructive dark:border-destructiveDark",children:[x.jsx("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-1",children:"Erro ao Analisar"}),x.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:n.explanation||"Não foi possível obter a sugestão no momento."})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Melhor dia para sua próxima compra:"}),x.jsx("p",{className:"text-2xl font-bold text-primary dark:text-primaryDark my-1",children:n.bestPurchaseDay||"N/A"})]}),x.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-4 rounded-md",children:[x.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Pagamento estimado para:"}),x.jsx("p",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n.paymentDueDate||"N/A"})]}),x.jsxs("div",{className:"mt-3",children:[x.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"Por quê?"}),x.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark bg-surface p-3 rounded-md shadow-inner dark:bg-surfaceDark/50",children:n.explanation||"Informação não disponível."})]})]}),x.jsx("div",{className:"flex justify-end pt-3",children:x.jsx(_e,{variant:"primary",onClick:e,children:"Entendido"})})]}),!r&&!n&&x.jsxs("div",{className:"text-center p-6",children:[x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Não foi possível carregar a sugestão."}),x.jsx(_e,{variant:"ghost",onClick:e,className:"mt-4",children:"Fechar"})]})]});var ft;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),s={};for(const u of i)s[u]=a[u];return t.objectValues(s)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},t.find=(a,i)=>{for(const s of a)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ft||(ft={}));var YN;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(YN||(YN={}));const Me=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mi=t=>{switch(typeof t){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return Number.isNaN(t)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(t)?Me.array:t===null?Me.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Me.promise:typeof Map<"u"&&t instanceof Map?Me.map:typeof Set<"u"&&t instanceof Set?Me.set:typeof Date<"u"&&t instanceof Date?Me.date:Me.object;default:return Me.unknown}},be=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ya extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let u=r,c=0;for(;c<s.path.length;){const f=s.path[c];c===s.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(s))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return a(this),r}static assert(e){if(!(e instanceof Ya))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ya.create=t=>new Ya(t);const rw=(t,e)=>{let n;switch(t.code){case be.invalid_type:t.received===Me.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ft.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:n=`Unrecognized key(s) in object: ${ft.joinValues(t.keys,", ")}`;break;case be.invalid_union:n="Invalid input";break;case be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ft.joinValues(t.options)}`;break;case be.invalid_enum_value:n=`Invalid enum value. Expected ${ft.joinValues(t.options)}, received '${t.received}'`;break;case be.invalid_arguments:n="Invalid function arguments";break;case be.invalid_return_type:n="Invalid function return type";break;case be.invalid_date:n="Invalid date";break;case be.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ft.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case be.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case be.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case be.custom:n="Invalid input";break;case be.invalid_intersection_types:n="Intersection results could not be merged";break;case be.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case be.not_finite:n="Number must be finite";break;default:n=e.defaultError,ft.assertNever(t)}return{message:n}};let iee=rw;function oee(){return iee}const see=t=>{const{data:e,path:n,errorMaps:r,issueData:a}=t,i=[...n,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let u="";const c=r.filter(f=>!!f).slice().reverse();for(const f of c)u=f(s,{data:e,defaultError:u}).message;return{...a,path:i,message:u}};function Se(t,e){const n=oee(),r=see({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===rw?void 0:rw].filter(a=>!!a)});t.common.issues.push(r)}class qn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const a of n){if(a.status==="aborted")return Ke;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const a of n){const i=await a.key,s=await a.value;r.push({key:i,value:s})}return qn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const a of n){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return Ke;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(r[i.value]=s.value)}return{status:e.value,value:r}}}const Ke=Object.freeze({status:"aborted"}),ic=t=>({status:"dirty",value:t}),Mr=t=>({status:"valid",value:t}),WN=t=>t.status==="aborted",XN=t=>t.status==="dirty",El=t=>t.status==="valid",Qh=t=>typeof Promise<"u"&&t instanceof Promise;var Pe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Pe||(Pe={}));class fa{constructor(e,n,r,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ZN=(t,e)=>{if(El(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ya(t.common.issues);return this._error=n,this._error}}};function et(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:a}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(s,u)=>{const{message:c}=t;return s.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??r??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:c??n??u.defaultError}},description:a}}class lt{get description(){return this._def.description}_getType(e){return Mi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qn,ctx:{common:e.parent.common,data:e.data,parsedType:Mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Qh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)},a=this._parseSync({data:e,path:r.path,parent:r});return ZN(r,a)}"~validate"(e){var r,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return El(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(a=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>El(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)},a=this._parse({data:e,path:r.path,parent:r}),i=await(Qh(a)?a:Promise.resolve(a));return ZN(r,i)}refine(e,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const s=e(a),u=()=>i.addIssue({code:be.custom,...r(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(e){return new Ol({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Li.create(this,this._def)}nullable(){return Ml.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return sa.create(this)}promise(){return ap.create(this,this._def)}or(e){return tp.create([this,e],this._def)}and(e){return np.create(this,e,this._def)}transform(e){return new Ol({...et(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new sw({...et(this._def),innerType:this,defaultValue:n,typeName:He.ZodDefault})}brand(){return new Mee({typeName:He.ZodBranded,type:this,...et(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new lw({...et(this._def),innerType:this,catchValue:n,typeName:He.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return PS.create(this,e)}readonly(){return uw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lee=/^c[^\s-]{8,}$/i,uee=/^[0-9a-z]+$/,cee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,fee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,dee=/^[a-z0-9_-]{21}$/i,hee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,pee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,mee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,gee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Sx;const vee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,bee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,xee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_ee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",See=new RegExp(`^${vL}$`);function yL(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Tee(t){return new RegExp(`^${yL(t)}$`)}function Aee(t){let e=`${vL}T${yL(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Eee(t,e){return!!((e==="v4"||!e)&&vee.test(t)||(e==="v6"||!e)&&bee.test(t))}function Cee(t,e){if(!hee.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function kee(t,e){return!!((e==="v4"||!e)&&yee.test(t)||(e==="v6"||!e)&&xee.test(t))}class ra extends lt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Me.string){const i=this._getOrReturnCtx(e);return Se(i,{code:be.invalid_type,expected:Me.string,received:i.parsedType}),Ke}const r=new qn;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),Se(a,{code:be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),Se(a,{code:be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,u=e.data.length<i.value;(s||u)&&(a=this._getOrReturnCtx(e,a),s?Se(a,{code:be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&Se(a,{code:be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")mee.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"email",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Sx||(Sx=new RegExp(gee,"u")),Sx.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"emoji",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")fee.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"uuid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")dee.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"nanoid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")lee.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"cuid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")uee.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"cuid2",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")cee.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"ulid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Se(a,{validation:"url",code:be.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"regex",code:be.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),Se(a,{code:be.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),Se(a,{code:be.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),Se(a,{code:be.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Aee(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{code:be.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?See.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{code:be.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Tee(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{code:be.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?pee.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"duration",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Eee(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"ip",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Cee(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"jwt",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?kee(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"cidr",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?_ee.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"base64",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?wee.test(e.data)||(a=this._getOrReturnCtx(e,a),Se(a,{validation:"base64url",code:be.invalid_string,message:i.message}),r.dirty()):ft.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(a=>e.test(a),{validation:n,code:be.invalid_string,...Pe.errToObj(r)})}_addCheck(e){return new ra({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Pe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Pe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Pe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Pe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Pe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Pe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Pe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Pe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Pe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Pe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Pe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Pe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Pe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Pe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Pe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Pe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Pe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Pe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Pe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Pe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Pe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Pe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Pe.errToObj(n)})}nonempty(e){return this.min(1,Pe.errToObj(e))}trim(){return new ra({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ra({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ra({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ra.create=t=>new ra({checks:[],typeName:He.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...et(t)});function Oee(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=n>r?n:r,i=Number.parseInt(t.toFixed(a).replace(".","")),s=Number.parseInt(e.toFixed(a).replace(".",""));return i%s/10**a}class jo extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Me.number){const i=this._getOrReturnCtx(e);return Se(i,{code:be.invalid_type,expected:Me.number,received:i.parsedType}),Ke}let r;const a=new qn;for(const i of this._def.checks)i.kind==="int"?ft.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Se(r,{code:be.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:be.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:be.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Oee(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Se(r,{code:be.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Se(r,{code:be.not_finite,message:i.message}),a.dirty()):ft.assertNever(i);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Pe.toString(n))}setLimit(e,n,r,a){return new jo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Pe.toString(a)}]})}_addCheck(e){return new jo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Pe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Pe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Pe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ft.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}jo.create=t=>new jo({checks:[],typeName:He.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...et(t)});class Lo extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Me.bigint)return this._getInvalidInput(e);let r;const a=new qn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:be.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:be.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:be.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ft.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Se(n,{code:be.invalid_type,expected:Me.bigint,received:n.parsedType}),Ke}gte(e,n){return this.setLimit("min",e,!0,Pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Pe.toString(n))}setLimit(e,n,r,a){return new Lo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Pe.toString(a)}]})}_addCheck(e){return new Lo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Pe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Lo.create=t=>new Lo({checks:[],typeName:He.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...et(t)});class ep extends lt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Me.boolean){const r=this._getOrReturnCtx(e);return Se(r,{code:be.invalid_type,expected:Me.boolean,received:r.parsedType}),Ke}return Mr(e.data)}}ep.create=t=>new ep({typeName:He.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...et(t)});class Cl extends lt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Me.date){const i=this._getOrReturnCtx(e);return Se(i,{code:be.invalid_type,expected:Me.date,received:i.parsedType}),Ke}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Se(i,{code:be.invalid_date}),Ke}const r=new qn;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),Se(a,{code:be.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),Se(a,{code:be.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ft.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Cl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Pe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Pe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Cl.create=t=>new Cl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:He.ZodDate,...et(t)});class JN extends lt{_parse(e){if(this._getType(e)!==Me.symbol){const r=this._getOrReturnCtx(e);return Se(r,{code:be.invalid_type,expected:Me.symbol,received:r.parsedType}),Ke}return Mr(e.data)}}JN.create=t=>new JN({typeName:He.ZodSymbol,...et(t)});class QN extends lt{_parse(e){if(this._getType(e)!==Me.undefined){const r=this._getOrReturnCtx(e);return Se(r,{code:be.invalid_type,expected:Me.undefined,received:r.parsedType}),Ke}return Mr(e.data)}}QN.create=t=>new QN({typeName:He.ZodUndefined,...et(t)});class eP extends lt{_parse(e){if(this._getType(e)!==Me.null){const r=this._getOrReturnCtx(e);return Se(r,{code:be.invalid_type,expected:Me.null,received:r.parsedType}),Ke}return Mr(e.data)}}eP.create=t=>new eP({typeName:He.ZodNull,...et(t)});class tP extends lt{constructor(){super(...arguments),this._any=!0}_parse(e){return Mr(e.data)}}tP.create=t=>new tP({typeName:He.ZodAny,...et(t)});class aw extends lt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mr(e.data)}}aw.create=t=>new aw({typeName:He.ZodUnknown,...et(t)});class $i extends lt{_parse(e){const n=this._getOrReturnCtx(e);return Se(n,{code:be.invalid_type,expected:Me.never,received:n.parsedType}),Ke}}$i.create=t=>new $i({typeName:He.ZodNever,...et(t)});class nP extends lt{_parse(e){if(this._getType(e)!==Me.undefined){const r=this._getOrReturnCtx(e);return Se(r,{code:be.invalid_type,expected:Me.void,received:r.parsedType}),Ke}return Mr(e.data)}}nP.create=t=>new nP({typeName:He.ZodVoid,...et(t)});class sa extends lt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),a=this._def;if(n.parsedType!==Me.array)return Se(n,{code:be.invalid_type,expected:Me.array,received:n.parsedType}),Ke;if(a.exactLength!==null){const s=n.data.length>a.exactLength.value,u=n.data.length<a.exactLength.value;(s||u)&&(Se(n,{code:s?be.too_big:be.too_small,minimum:u?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Se(n,{code:be.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Se(n,{code:be.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,u)=>a.type._parseAsync(new fa(n,s,n.path,u)))).then(s=>qn.mergeArray(r,s));const i=[...n.data].map((s,u)=>a.type._parseSync(new fa(n,s,n.path,u)));return qn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new sa({...this._def,minLength:{value:e,message:Pe.toString(n)}})}max(e,n){return new sa({...this._def,maxLength:{value:e,message:Pe.toString(n)}})}length(e,n){return new sa({...this._def,exactLength:{value:e,message:Pe.toString(n)}})}nonempty(e){return this.min(1,e)}}sa.create=(t,e)=>new sa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...et(e)});function Fs(t){if(t instanceof tn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Li.create(Fs(r))}return new tn({...t._def,shape:()=>e})}else return t instanceof sa?new sa({...t._def,type:Fs(t.element)}):t instanceof Li?Li.create(Fs(t.unwrap())):t instanceof Ml?Ml.create(Fs(t.unwrap())):t instanceof $o?$o.create(t.items.map(e=>Fs(e))):t}class tn extends lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ft.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Me.object){const f=this._getOrReturnCtx(e);return Se(f,{code:be.invalid_type,expected:Me.object,received:f.parsedType}),Ke}const{status:r,ctx:a}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof $i&&this._def.unknownKeys==="strip"))for(const f in a.data)s.includes(f)||u.push(f);const c=[];for(const f of s){const h=i[f],m=a.data[f];c.push({key:{status:"valid",value:f},value:h._parse(new fa(a,m,a.path,f)),alwaysSet:f in a.data})}if(this._def.catchall instanceof $i){const f=this._def.unknownKeys;if(f==="passthrough")for(const h of u)c.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(f==="strict")u.length>0&&(Se(a,{code:be.unrecognized_keys,keys:u}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const h of u){const m=a.data[h];c.push({key:{status:"valid",value:h},value:f._parse(new fa(a,m,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const f=[];for(const h of c){const m=await h.key,y=await h.value;f.push({key:m,value:y,alwaysSet:h.alwaysSet})}return f}).then(f=>qn.mergeObjectSync(r,f)):qn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Pe.errToObj,new tn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s;const a=((s=(i=this._def).errorMap)==null?void 0:s.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Pe.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new tn({...this._def,unknownKeys:"strip"})}passthrough(){return new tn({...this._def,unknownKeys:"passthrough"})}extend(e){return new tn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:He.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new tn({...this._def,catchall:e})}pick(e){const n={};for(const r of ft.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new tn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ft.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new tn({...this._def,shape:()=>n})}deepPartial(){return Fs(this)}partial(e){const n={};for(const r of ft.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?n[r]=a:n[r]=a.optional()}return new tn({...this._def,shape:()=>n})}required(e){const n={};for(const r of ft.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Li;)i=i._def.innerType;n[r]=i}return new tn({...this._def,shape:()=>n})}keyof(){return bL(ft.objectKeys(this.shape))}}tn.create=(t,e)=>new tn({shape:()=>t,unknownKeys:"strip",catchall:$i.create(),typeName:He.ZodObject,...et(e)});tn.strictCreate=(t,e)=>new tn({shape:()=>t,unknownKeys:"strict",catchall:$i.create(),typeName:He.ZodObject,...et(e)});tn.lazycreate=(t,e)=>new tn({shape:t,unknownKeys:"strip",catchall:$i.create(),typeName:He.ZodObject,...et(e)});class tp extends lt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function a(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const s=i.map(u=>new Ya(u.ctx.common.issues));return Se(n,{code:be.invalid_union,unionErrors:s}),Ke}if(n.common.async)return Promise.all(r.map(async i=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const c of r){const f={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:f});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:f}),f.common.issues.length&&s.push(f.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const u=s.map(c=>new Ya(c));return Se(n,{code:be.invalid_union,unionErrors:u}),Ke}}get options(){return this._def.options}}tp.create=(t,e)=>new tp({options:t,typeName:He.ZodUnion,...et(e)});function iw(t,e){const n=Mi(t),r=Mi(e);if(t===e)return{valid:!0,data:t};if(n===Me.object&&r===Me.object){const a=ft.objectKeys(e),i=ft.objectKeys(t).filter(u=>a.indexOf(u)!==-1),s={...t,...e};for(const u of i){const c=iw(t[u],e[u]);if(!c.valid)return{valid:!1};s[u]=c.data}return{valid:!0,data:s}}else if(n===Me.array&&r===Me.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const s=t[i],u=e[i],c=iw(s,u);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===Me.date&&r===Me.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class np extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=(i,s)=>{if(WN(i)||WN(s))return Ke;const u=iw(i.value,s.value);return u.valid?((XN(i)||XN(s))&&n.dirty(),{status:n.value,value:u.data}):(Se(r,{code:be.invalid_intersection_types}),Ke)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}np.create=(t,e,n)=>new np({left:t,right:e,typeName:He.ZodIntersection,...et(n)});class $o extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.array)return Se(r,{code:be.invalid_type,expected:Me.array,received:r.parsedType}),Ke;if(r.data.length<this._def.items.length)return Se(r,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&r.data.length>this._def.items.length&&(Se(r,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((s,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new fa(r,s,r.path,u)):null}).filter(s=>!!s);return r.common.async?Promise.all(i).then(s=>qn.mergeArray(n,s)):qn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new $o({...this._def,rest:e})}}$o.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $o({items:t,typeName:He.ZodTuple,rest:null,...et(e)})};class rp extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.object)return Se(r,{code:be.invalid_type,expected:Me.object,received:r.parsedType}),Ke;const a=[],i=this._def.keyType,s=this._def.valueType;for(const u in r.data)a.push({key:i._parse(new fa(r,u,r.path,u)),value:s._parse(new fa(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?qn.mergeObjectAsync(n,a):qn.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof lt?new rp({keyType:e,valueType:n,typeName:He.ZodRecord,...et(r)}):new rp({keyType:ra.create(),valueType:e,typeName:He.ZodRecord,...et(n)})}}class rP extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.map)return Se(r,{code:be.invalid_type,expected:Me.map,received:r.parsedType}),Ke;const a=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([u,c],f)=>({key:a._parse(new fa(r,u,r.path,[f,"key"])),value:i._parse(new fa(r,c,r.path,[f,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of s){const f=await c.key,h=await c.value;if(f.status==="aborted"||h.status==="aborted")return Ke;(f.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(f.value,h.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const c of s){const f=c.key,h=c.value;if(f.status==="aborted"||h.status==="aborted")return Ke;(f.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(f.value,h.value)}return{status:n.value,value:u}}}}rP.create=(t,e,n)=>new rP({valueType:e,keyType:t,typeName:He.ZodMap,...et(n)});class ef extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.set)return Se(r,{code:be.invalid_type,expected:Me.set,received:r.parsedType}),Ke;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(Se(r,{code:be.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(Se(r,{code:be.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function s(c){const f=new Set;for(const h of c){if(h.status==="aborted")return Ke;h.status==="dirty"&&n.dirty(),f.add(h.value)}return{status:n.value,value:f}}const u=[...r.data.values()].map((c,f)=>i._parse(new fa(r,c,r.path,f)));return r.common.async?Promise.all(u).then(c=>s(c)):s(u)}min(e,n){return new ef({...this._def,minSize:{value:e,message:Pe.toString(n)}})}max(e,n){return new ef({...this._def,maxSize:{value:e,message:Pe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ef.create=(t,e)=>new ef({valueType:t,minSize:null,maxSize:null,typeName:He.ZodSet,...et(e)});class ow extends lt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ow.create=(t,e)=>new ow({getter:t,typeName:He.ZodLazy,...et(e)});class aP extends lt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Se(n,{received:n.data,code:be.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}aP.create=(t,e)=>new aP({value:t,typeName:He.ZodLiteral,...et(e)});function bL(t,e){return new kl({values:t,typeName:He.ZodEnum,...et(e)})}class kl extends lt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Se(n,{expected:ft.joinValues(r),received:n.parsedType,code:be.invalid_type}),Ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Se(n,{received:n.data,code:be.invalid_enum_value,options:r}),Ke}return Mr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return kl.create(e,{...this._def,...n})}exclude(e,n=this._def){return kl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}kl.create=bL;class iP extends lt{_parse(e){const n=ft.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Me.string&&r.parsedType!==Me.number){const a=ft.objectValues(n);return Se(r,{expected:ft.joinValues(a),received:r.parsedType,code:be.invalid_type}),Ke}if(this._cache||(this._cache=new Set(ft.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=ft.objectValues(n);return Se(r,{received:r.data,code:be.invalid_enum_value,options:a}),Ke}return Mr(e.data)}get enum(){return this._def.values}}iP.create=(t,e)=>new iP({values:t,typeName:He.ZodNativeEnum,...et(e)});class ap extends lt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.promise&&n.common.async===!1)return Se(n,{code:be.invalid_type,expected:Me.promise,received:n.parsedType}),Ke;const r=n.parsedType===Me.promise?n.data:Promise.resolve(n.data);return Mr(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ap.create=(t,e)=>new ap({type:t,typeName:He.ZodPromise,...et(e)});class Ol extends lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:s=>{Se(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(r.data,i);if(r.common.async)return Promise.resolve(s).then(async u=>{if(n.value==="aborted")return Ke;const c=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return c.status==="aborted"?Ke:c.status==="dirty"||n.value==="dirty"?ic(c.value):c});{if(n.value==="aborted")return Ke;const u=this._def.schema._parseSync({data:s,path:r.path,parent:r});return u.status==="aborted"?Ke:u.status==="dirty"||n.value==="dirty"?ic(u.value):u}}if(a.type==="refinement"){const s=u=>{const c=a.refinement(u,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Ke:(u.status==="dirty"&&n.dirty(),s(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Ke:(u.status==="dirty"&&n.dirty(),s(u.value).then(()=>({status:n.value,value:u.value}))))}if(a.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!El(s))return Ke;const u=a.transform(s.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>El(s)?Promise.resolve(a.transform(s.value,i)).then(u=>({status:n.value,value:u})):Ke);ft.assertNever(a)}}Ol.create=(t,e,n)=>new Ol({schema:t,typeName:He.ZodEffects,effect:e,...et(n)});Ol.createWithPreprocess=(t,e,n)=>new Ol({schema:e,effect:{type:"preprocess",transform:t},typeName:He.ZodEffects,...et(n)});class Li extends lt{_parse(e){return this._getType(e)===Me.undefined?Mr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Li.create=(t,e)=>new Li({innerType:t,typeName:He.ZodOptional,...et(e)});class Ml extends lt{_parse(e){return this._getType(e)===Me.null?Mr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ml.create=(t,e)=>new Ml({innerType:t,typeName:He.ZodNullable,...et(e)});class sw extends lt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}sw.create=(t,e)=>new sw({innerType:t,typeName:He.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...et(e)});class lw extends lt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Qh(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ya(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ya(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}lw.create=(t,e)=>new lw({innerType:t,typeName:He.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...et(e)});class oP extends lt{_parse(e){if(this._getType(e)!==Me.nan){const r=this._getOrReturnCtx(e);return Se(r,{code:be.invalid_type,expected:Me.nan,received:r.parsedType}),Ke}return{status:"valid",value:e.data}}}oP.create=t=>new oP({typeName:He.ZodNaN,...et(t)});class Mee extends lt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class PS extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ke:i.status==="dirty"?(n.dirty(),ic(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ke:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,n){return new PS({in:e,out:n,typeName:He.ZodPipeline})}}class uw extends lt{_parse(e){const n=this._def.innerType._parse(e),r=a=>(El(a)&&(a.value=Object.freeze(a.value)),a);return Qh(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}uw.create=(t,e)=>new uw({innerType:t,typeName:He.ZodReadonly,...et(e)});var He;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(He||(He={}));const yo=ra.create,sP=jo.create;Lo.create;const Dee=ep.create;Cl.create;const lP=aw.create;$i.create;const oc=sa.create,Nee=tn.create,Pee=tp.create;np.create;$o.create;const Ree=rp.create,Iee=ow.create,jee=kl.create;ap.create;Li.create;Ml.create;const qs={string:t=>ra.create({...t,coerce:!0}),number:t=>jo.create({...t,coerce:!0}),boolean:t=>ep.create({...t,coerce:!0}),bigint:t=>Lo.create({...t,coerce:!0}),date:t=>Cl.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Lee,$ee;function Bee(){return{geminiUrl:Lee,vertexUrl:$ee}}function qee(t,e,n){var r,a,i;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=Bee();return t.vertexai?(a=s.vertexUrl)!==null&&a!==void 0?a:e:(i=s.geminiUrl)!==null&&i!==void 0?i:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ul{}function Fe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const i=e[a];return i!=null?String(i):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function v(t,e,n){for(let i=0;i<e.length-1;i++){const s=e[i];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];v(h,e.slice(i+1),n[f])}else for(const f of c)v(f,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];v(c[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],a=t[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function g(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const i=t[a];return Array.isArray(i)?i.map(s=>g(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var uP;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(uP||(uP={}));var cP;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(cP||(cP={}));var aa;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(aa||(aa={}));var fP;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(fP||(fP={}));var dP;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(dP||(dP={}));var hP;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(hP||(hP={}));var pP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(pP||(pP={}));var mP;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(mP||(mP={}));var gP;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(gP||(gP={}));var vP;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(vP||(vP={}));var yP;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(yP||(yP={}));var bP;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(bP||(bP={}));var xP;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(xP||(xP={}));var ip;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ip||(ip={}));var _P;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_P||(_P={}));var cw;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cw||(cw={}));var wP;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wP||(wP={}));var SP;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(SP||(SP={}));var TP;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(TP||(TP={}));var AP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(AP||(AP={}));var EP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(EP||(EP={}));var CP;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(CP||(CP={}));var kP;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(kP||(kP={}));var OP;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(OP||(OP={}));var MP;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(MP||(MP={}));var DP;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(DP||(DP={}));var NP;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(NP||(NP={}));var PP;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(PP||(PP={}));var RP;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(RP||(RP={}));var IP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(IP||(IP={}));var jP;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(jP||(jP={}));var LP;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(LP||(LP={}));var $P;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})($P||($P={}));var BP;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(BP||(BP={}));var qP;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(qP||(qP={}));var UP;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(UP||(UP={}));var FP;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(FP||(FP={}));var VP;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(VP||(VP={}));var Ys;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ys||(Ys={}));class ec{get text(){var e,n,r,a,i,s,u,c;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const m=[];for(const y of(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[_,S]of Object.entries(y))_!=="text"&&_!=="thought"&&(S!==null||S!==void 0)&&m.push(_);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,f+=y.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,a,i,s,u,c;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const m of(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[y,_]of Object.entries(m))y!=="inlineData"&&(_!==null||_!==void 0)&&h.push(y);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,a,i,s,u,c;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,a,i,s,u,c,f;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,a,i,s,u,c,f;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class zP{}class GP{}class Uee{}class Fee{}class HP{}class KP{}class YP{}class Vee{}class WP{}class XP{}class ZP{}class zee{}class fw{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Gee{}class Hee{}class Kee{get text(){var e,n,r;let a="",i=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,a+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?a:void 0}get data(){var e,n,r;let a="";const i=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&i.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(a+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Yee{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function xL(t,e){const n=Lt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function _L(t,e){return Array.isArray(e)?e.map(n=>op(t,n)):[op(t,e)]}function op(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Wee(t,e){const n=op(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Xee(t,e){const n=op(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function JP(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function wL(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>JP(t,n)):[JP(t,e)]}function dw(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function QP(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function eR(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Bn(t,e){if(e==null)throw new Error("ContentUnion is required");return dw(e)?e:{role:"user",parts:wL(t,e)}}function SL(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Bn(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Bn(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Bn(t,n)):[Bn(t,e)]}function zr(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(QP(e)||eR(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Bn(t,e)]}const n=[],r=[],a=dw(e[0]);for(const i of e){const s=dw(i);if(s!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)n.push(i);else{if(QP(i)||eR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return a||n.push({role:"user",parts:wL(t,r)}),n}const Zee=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),tR=jee(["string","number","integer","object","array","boolean","null"]),Jee=Pee([tR,oc(tR)]);function Qee(t=!0){const e=Iee(()=>{const n=Nee({type:Jee.optional(),format:yo().optional(),title:yo().optional(),description:yo().optional(),default:lP().optional(),items:e.optional(),minItems:qs.string().optional(),maxItems:qs.string().optional(),enum:oc(lP()).optional(),properties:Ree(yo(),e).optional(),required:oc(yo()).optional(),minProperties:qs.string().optional(),maxProperties:qs.string().optional(),propertyOrdering:oc(yo()).optional(),minimum:sP().optional(),maximum:sP().optional(),minLength:qs.string().optional(),maxLength:qs.string().optional(),pattern:yo().optional(),anyOf:oc(e).optional(),additionalProperties:Dee().optional()});return t?n.strict():n});return e}function ete(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(aa).includes(n[0].toUpperCase())?n[0].toUpperCase():aa.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(aa).includes(r.toUpperCase())?r.toUpperCase():aa.TYPE_UNSPECIFIED})}}function Qs(t){const e={},n=["items"],r=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&ete(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(aa).includes(u.toUpperCase())?u.toUpperCase():aa.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Qs(u);else if(r.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Qs(f))}e[s]=c}else if(a.includes(s)){const c={};for(const[f,h]of Object.entries(u))c[f]=Qs(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function sp(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=Qee().parse(e);return Qs(n)}else return Qs(e)}function TL(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function RS(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function df(t,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=sp(t,n.parameters)),n.response&&(n.response=sp(t,n.response));return e}function hf(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of e)n.push(r);return n}function tte(t,e,n,r=1){const a=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:a?`${n}/${e}`:e}function zi(t,e){if(typeof e!="string")throw new Error("name must be a string");return tte(t,e,"cachedContents")}function AL(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Qa(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function nte(t){return t!=null&&typeof t=="object"&&"name"in t}function rte(t){return t!=null&&typeof t=="object"&&"video"in t}function ate(t){return t!=null&&typeof t=="object"&&"uri"in t}function EL(t,e){var n;let r;if(nte(e)&&(r=e.name),!(ate(e)&&(r=e.uri,r===void 0))&&!(rte(e)&&(r=(n=e.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function CL(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function kL(t,e){for(const n of["models","tunedModels","publisherModels"])if(ite(e,n))return e[n];return[]}function ite(t,e){return t!==null&&typeof t=="object"&&e in t}function ote(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:Qs(Wp(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ste(t,e={}){const n=[],r=new Set;for(const a of t){const i=a.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const s=ote(a,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function lte(t){const e=[];for(const n of t)e.push(Wp(n));return e}function ute(t){const e={};for(const[n,r]of Object.entries(t)){const a=r;e[n]=Wp(a)}return e}function Wp(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),a={};for(const[i,s]of Object.entries(t))if(e.has(i))a[i]=Wp(s);else if(n.has(i))a[i]=lte(s);else if(r.has(i))a[i]=ute(s);else if(i==="type"){const u=s.toUpperCase();a[i]=Object.values(aa).includes(u)?u:aa.TYPE_UNSPECIFIED}else Zee.has(i)&&(a[i]=s);return a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cte(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function fte(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function dte(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function hte(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],cte(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],fte(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],dte(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&v(n,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function nR(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>hte(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function pte(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function mte(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function gte(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],mte(t,r)),n}function vte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function yte(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],vte(t,r)),n}function bte(){return{}}function xte(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>pte(t,f))),v(n,["functionDeclarations"],c)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],gte(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],yte(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],bte());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function _te(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function wte(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Ste(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],wte(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Tte(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],_te(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Ste(t,a)),n}function Ate(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const s=g(e,["displayName"]);n!==void 0&&s!=null&&v(n,["displayName"],s);const u=g(e,["contents"]);if(n!==void 0&&u!=null){let m=zr(t,u);Array.isArray(m)&&(m=m.map(y=>nR(t,y))),v(n,["contents"],m)}const c=g(e,["systemInstruction"]);n!==void 0&&c!=null&&v(n,["systemInstruction"],nR(t,Bn(t,c)));const f=g(e,["tools"]);if(n!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>xte(t,y))),v(n,["tools"],m)}const h=g(e,["toolConfig"]);if(n!==void 0&&h!=null&&v(n,["toolConfig"],Tte(t,h)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function Ete(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],xL(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Ate(t,a,n)),n}function Cte(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],zi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function kte(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],zi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Ote(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);return n!==void 0&&i!=null&&v(n,["expireTime"],i),r}function Mte(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],zi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Ote(t,a,n)),n}function Dte(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function Nte(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Dte(t,r,n)),n}function Pte(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Rte(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Ite(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function jte(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Pte(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Rte(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Ite(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&v(n,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function rR(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>jte(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Lte(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function $te(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Bte(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],$te(t,r)),n}function qte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Ute(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],qte(t,r)),n}function Fte(){return{}}function Vte(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function zte(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],Vte(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const c=g(e,["oidcConfig"]);return c!=null&&v(n,["oidcConfig"],c),n}function Gte(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],zte(t,r)),n}function Hte(){return{}}function Kte(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(y=>Lte(t,y))),v(n,["functionDeclarations"],m)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],Bte(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],Ute(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],Fte());const c=g(e,["googleMaps"]);c!=null&&v(n,["googleMaps"],Gte(t,c)),g(e,["urlContext"])!=null&&v(n,["urlContext"],Hte());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function Yte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Wte(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Xte(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Wte(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Zte(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],Yte(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Xte(t,a)),n}function Jte(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const s=g(e,["displayName"]);n!==void 0&&s!=null&&v(n,["displayName"],s);const u=g(e,["contents"]);if(n!==void 0&&u!=null){let y=zr(t,u);Array.isArray(y)&&(y=y.map(_=>rR(t,_))),v(n,["contents"],y)}const c=g(e,["systemInstruction"]);n!==void 0&&c!=null&&v(n,["systemInstruction"],rR(t,Bn(t,c)));const f=g(e,["tools"]);if(n!==void 0&&f!=null){let y=f;Array.isArray(y)&&(y=y.map(_=>Kte(t,_))),v(n,["tools"],y)}const h=g(e,["toolConfig"]);n!==void 0&&h!=null&&v(n,["toolConfig"],Zte(t,h));const m=g(e,["kmsKeyName"]);return n!==void 0&&m!=null&&v(n,["encryption_spec","kmsKeyName"],m),r}function Qte(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],xL(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Jte(t,a,n)),n}function ene(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],zi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function tne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],zi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function nne(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);return n!==void 0&&i!=null&&v(n,["expireTime"],i),r}function rne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],zi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],nne(t,a,n)),n}function ane(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function ine(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],ane(t,r,n)),n}function Jd(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["model"]);i!=null&&v(n,["model"],i);const s=g(e,["createTime"]);s!=null&&v(n,["createTime"],s);const u=g(e,["updateTime"]);u!=null&&v(n,["updateTime"],u);const c=g(e,["expireTime"]);c!=null&&v(n,["expireTime"],c);const f=g(e,["usageMetadata"]);return f!=null&&v(n,["usageMetadata"],f),n}function one(){return{}}function sne(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>Jd(t,s))),v(n,["cachedContents"],i)}return n}function Qd(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["model"]);i!=null&&v(n,["model"],i);const s=g(e,["createTime"]);s!=null&&v(n,["createTime"],s);const u=g(e,["updateTime"]);u!=null&&v(n,["updateTime"],u);const c=g(e,["expireTime"]);c!=null&&v(n,["expireTime"],c);const f=g(e,["usageMetadata"]);return f!=null&&v(n,["usageMetadata"],f),n}function lne(){return{}}function une(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>Qd(t,s))),v(n,["cachedContents"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Dl||(Dl={}));class Xp{constructor(e,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,a)}init(e,n,r){var a,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(a=s.config)===null||a===void 0?void 0:a.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cne extends Ul{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xp(Dl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Qte(this.apiClient,e);return u=Fe("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Qd(this.apiClient,h))}else{const f=Ete(this.apiClient,e);return u=Fe("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Jd(this.apiClient,h))}}async get(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ene(this.apiClient,e);return u=Fe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Qd(this.apiClient,h))}else{const f=Cte(this.apiClient,e);return u=Fe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Jd(this.apiClient,h))}}async delete(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=tne(this.apiClient,e);return u=Fe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(()=>{const h=lne(),m=new XP;return Object.assign(m,h),m})}else{const f=kte(this.apiClient,e);return u=Fe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=one(),m=new XP;return Object.assign(m,h),m})}}async update(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=rne(this.apiClient,e);return u=Fe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Qd(this.apiClient,h))}else{const f=Mte(this.apiClient,e);return u=Fe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Jd(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ine(this.apiClient,e);return u=Fe("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=une(this.apiClient,h),y=new ZP;return Object.assign(y,m),y})}else{const f=Nte(this.apiClient,e);return u=Fe("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=sne(this.apiClient,h),y=new ZP;return Object.assign(y,m),y})}}}function aR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $t(t){return this instanceof $t?(this.v=t,this):new $t(t)}function el(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(_){return function(S){return Promise.resolve(S).then(_,m)}}function u(_,S){r[_]&&(a[_]=function(A){return new Promise(function(T,C){i.push([_,A,T,C])>1||c(_,A)})},S&&(a[_]=S(a[_])))}function c(_,S){try{f(r[_](S))}catch(A){y(i[0][3],A)}}function f(_){_.value instanceof $t?Promise.resolve(_.value.v).then(h,m):y(i[0][2],_)}function h(_){c("next",_)}function m(_){c("throw",_)}function y(_,S){_(S),i.shift(),i.length&&c(i[0][0],i[0][1])}}function gc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof aR=="function"?aR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(u,c){s=t[i](s),a(u,c,s.done,s.value)})}}function a(i,s,u,c){Promise.resolve(c).then(function(f){i({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fne(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:OL(n)}function OL(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function dne(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function iR(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const a=[];let i=!0;for(;r<n&&t[r].role==="model";)a.push(t[r]),i&&!OL(t[r])&&(i=!1),r++;i?e.push(...a):e.pop()}return e}class hne{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new pne(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class pne{constructor(e,n,r,a={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=a,this.history=i,this.sendPromise=Promise.resolve(),dne(i)}async sendMessage(e){var n;await this.sendPromise;const r=Bn(this.apiClient,e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,u;const c=await a,f=(s=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let y=[];h!=null&&(y=(u=h.slice(m))!==null&&u!==void 0?u:[]);const _=f?[f]:[];this.recordHistory(r,_,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var n;await this.sendPromise;const r=Bn(this.apiClient,e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const i=await a;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?iR(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,a;return el(this,arguments,function*(){var s,u,c,f;const h=[];try{for(var m=!0,y=gc(e),_;_=yield $t(y.next()),s=_.done,!s;m=!0){f=_.value,m=!1;const S=f;if(fne(S)){const A=(a=(r=S.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;A!==void 0&&h.push(A)}yield yield $t(S)}}catch(S){u={error:S}}finally{try{!m&&!s&&(c=y.return)&&(yield $t(c.call(y)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let a=[];n.length>0&&n.every(i=>i.role!==void 0)?a=n:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...iR(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mne(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function gne(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],mne(t,r,n)),n}function vne(t,e){const n={},r=g(e,["details"]);r!=null&&v(n,["details"],r);const a=g(e,["message"]);a!=null&&v(n,["message"],a);const i=g(e,["code"]);return i!=null&&v(n,["code"],i),n}function yne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["mimeType"]);i!=null&&v(n,["mimeType"],i);const s=g(e,["sizeBytes"]);s!=null&&v(n,["sizeBytes"],s);const u=g(e,["createTime"]);u!=null&&v(n,["createTime"],u);const c=g(e,["expirationTime"]);c!=null&&v(n,["expirationTime"],c);const f=g(e,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=g(e,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const m=g(e,["uri"]);m!=null&&v(n,["uri"],m);const y=g(e,["downloadUri"]);y!=null&&v(n,["downloadUri"],y);const _=g(e,["state"]);_!=null&&v(n,["state"],_);const S=g(e,["source"]);S!=null&&v(n,["source"],S);const A=g(e,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const T=g(e,["error"]);return T!=null&&v(n,["error"],vne(t,T)),n}function bne(t,e){const n={},r=g(e,["file"]);r!=null&&v(n,["file"],yne(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function xne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","file"],EL(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function _ne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","file"],EL(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function wne(t,e){const n={},r=g(e,["details"]);r!=null&&v(n,["details"],r);const a=g(e,["message"]);a!=null&&v(n,["message"],a);const i=g(e,["code"]);return i!=null&&v(n,["code"],i),n}function hw(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["mimeType"]);i!=null&&v(n,["mimeType"],i);const s=g(e,["sizeBytes"]);s!=null&&v(n,["sizeBytes"],s);const u=g(e,["createTime"]);u!=null&&v(n,["createTime"],u);const c=g(e,["expirationTime"]);c!=null&&v(n,["expirationTime"],c);const f=g(e,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=g(e,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const m=g(e,["uri"]);m!=null&&v(n,["uri"],m);const y=g(e,["downloadUri"]);y!=null&&v(n,["downloadUri"],y);const _=g(e,["state"]);_!=null&&v(n,["state"],_);const S=g(e,["source"]);S!=null&&v(n,["source"],S);const A=g(e,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const T=g(e,["error"]);return T!=null&&v(n,["error"],wne(t,T)),n}function Sne(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["files"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>hw(t,s))),v(n,["files"],i)}return n}function Tne(){return{}}function Ane(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ene extends Ul{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xp(Dl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>hw(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gne(this.apiClient,e);return i=Fe("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const f=Sne(this.apiClient,c),h=new zee;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bne(this.apiClient,e);return i=Fe("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(()=>{const c=Tne(),f=new Gee;return Object.assign(f,c),f})}}async get(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xne(this.apiClient,e);return i=Fe("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>hw(this.apiClient,c))}}async delete(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_ne(this.apiClient,e);return i=Fe("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(()=>{const c=Ane(),f=new Hee;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cne(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function kne(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function ML(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Cne(t,r)),n}function One(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],kne(t,r)),n}function Mne(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],ML(t,a)),n}function Dne(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Mne(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function Nne(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],ML(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],Dne(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function Pne(t,e){const n={},r=g(e,["voiceConfig"]);if(r!=null&&v(n,["voiceConfig"],One(t,r)),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Rne(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Ine(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function jne(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Lne(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function $ne(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Bne(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function qne(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Rne(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],jne(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],$ne(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&v(n,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Une(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Ine(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Lne(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Bne(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&v(n,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Fne(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>qne(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Vne(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Une(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function zne(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function Gne(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function Hne(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Kne(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Yne(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Hne(t,r)),n}function Wne(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Kne(t,r)),n}function Xne(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Zne(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Jne(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Xne(t,r)),n}function Qne(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Zne(t,r)),n}function ere(){return{}}function tre(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function nre(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],tre(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const c=g(e,["oidcConfig"]);return c!=null&&v(n,["oidcConfig"],c),n}function rre(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],nre(t,r)),n}function are(){return{}}function ire(){return{}}function ore(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>zne(t,f))),v(n,["functionDeclarations"],c)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],Yne(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],Jne(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],are());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function sre(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(y=>Gne(t,y))),v(n,["functionDeclarations"],m)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],Wne(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],Qne(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],ere());const c=g(e,["googleMaps"]);c!=null&&v(n,["googleMaps"],rre(t,c)),g(e,["urlContext"])!=null&&v(n,["urlContext"],ire());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function lre(t,e){const n={},r=g(e,["handle"]);if(r!=null&&v(n,["handle"],r),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function ure(t,e){const n={},r=g(e,["handle"]);r!=null&&v(n,["handle"],r);const a=g(e,["transparent"]);return a!=null&&v(n,["transparent"],a),n}function oR(){return{}}function sR(){return{}}function cre(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function fre(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function dre(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],cre(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function hre(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],fre(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function pre(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function mre(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function gre(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],pre(t,a)),n}function vre(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],mre(t,a)),n}function yre(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function bre(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function xre(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const c=g(e,["topK"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","topK"],c);const f=g(e,["maxOutputTokens"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","maxOutputTokens"],f);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const m=g(e,["seed"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","seed"],m);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],Nne(t,RS(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],Fne(t,Bn(t,S)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let M=hf(t,A);Array.isArray(M)&&(M=M.map(P=>ore(t,df(t,P)))),v(n,["setup","tools"],M)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],lre(t,T));const C=g(e,["inputAudioTranscription"]);n!==void 0&&C!=null&&v(n,["setup","inputAudioTranscription"],oR());const O=g(e,["outputAudioTranscription"]);n!==void 0&&O!=null&&v(n,["setup","outputAudioTranscription"],oR());const E=g(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&v(n,["setup","realtimeInputConfig"],dre(t,E));const N=g(e,["contextWindowCompression"]);n!==void 0&&N!=null&&v(n,["setup","contextWindowCompression"],gre(t,N));const k=g(e,["proactivity"]);return n!==void 0&&k!=null&&v(n,["setup","proactivity"],yre(t,k)),r}function _re(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const c=g(e,["topK"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","topK"],c);const f=g(e,["maxOutputTokens"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","maxOutputTokens"],f);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const m=g(e,["seed"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","seed"],m);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],Pne(t,RS(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],Vne(t,Bn(t,S)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let M=hf(t,A);Array.isArray(M)&&(M=M.map(P=>sre(t,df(t,P)))),v(n,["setup","tools"],M)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],ure(t,T));const C=g(e,["inputAudioTranscription"]);n!==void 0&&C!=null&&v(n,["setup","inputAudioTranscription"],sR());const O=g(e,["outputAudioTranscription"]);n!==void 0&&O!=null&&v(n,["setup","outputAudioTranscription"],sR());const E=g(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&v(n,["setup","realtimeInputConfig"],hre(t,E));const N=g(e,["contextWindowCompression"]);n!==void 0&&N!=null&&v(n,["setup","contextWindowCompression"],vre(t,N));const k=g(e,["proactivity"]);return n!==void 0&&k!=null&&v(n,["setup","proactivity"],bre(t,k)),r}function wre(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Lt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],xre(t,a,n)),n}function Sre(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Lt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],_re(t,a,n)),n}function Tre(){return{}}function Are(){return{}}function Ere(){return{}}function Cre(){return{}}function kre(t,e){const n={},r=g(e,["media"]);r!=null&&v(n,["mediaChunks"],_L(t,r));const a=g(e,["audio"]);a!=null&&v(n,["audio"],Xee(t,a));const i=g(e,["audioStreamEnd"]);i!=null&&v(n,["audioStreamEnd"],i);const s=g(e,["video"]);s!=null&&v(n,["video"],Wee(t,s));const u=g(e,["text"]);return u!=null&&v(n,["text"],u),g(e,["activityStart"])!=null&&v(n,["activityStart"],Tre()),g(e,["activityEnd"])!=null&&v(n,["activityEnd"],Ere()),n}function Ore(t,e){const n={},r=g(e,["media"]);if(r!=null&&v(n,["mediaChunks"],_L(t,r)),g(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const a=g(e,["audioStreamEnd"]);if(a!=null&&v(n,["audioStreamEnd"],a),g(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(g(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return g(e,["activityStart"])!=null&&v(n,["activityStart"],Are()),g(e,["activityEnd"])!=null&&v(n,["activityEnd"],Cre()),n}function DL(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["weight"]);return a!=null&&v(n,["weight"],a),n}function Mre(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>DL(t,i))),v(n,["weightedPrompts"],a)}return n}function NL(t,e){const n={},r=g(e,["temperature"]);r!=null&&v(n,["temperature"],r);const a=g(e,["topK"]);a!=null&&v(n,["topK"],a);const i=g(e,["seed"]);i!=null&&v(n,["seed"],i);const s=g(e,["guidance"]);s!=null&&v(n,["guidance"],s);const u=g(e,["bpm"]);u!=null&&v(n,["bpm"],u);const c=g(e,["density"]);c!=null&&v(n,["density"],c);const f=g(e,["brightness"]);f!=null&&v(n,["brightness"],f);const h=g(e,["scale"]);h!=null&&v(n,["scale"],h);const m=g(e,["muteBass"]);m!=null&&v(n,["muteBass"],m);const y=g(e,["muteDrums"]);y!=null&&v(n,["muteDrums"],y);const _=g(e,["onlyBassAndDrums"]);return _!=null&&v(n,["onlyBassAndDrums"],_),n}function Dre(t,e){const n={},r=g(e,["musicGenerationConfig"]);return r!=null&&v(n,["musicGenerationConfig"],NL(t,r)),n}function PL(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["model"],r),n}function RL(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>DL(t,i))),v(n,["weightedPrompts"],a)}return n}function pw(t,e){const n={},r=g(e,["setup"]);r!=null&&v(n,["setup"],PL(t,r));const a=g(e,["clientContent"]);a!=null&&v(n,["clientContent"],RL(t,a));const i=g(e,["musicGenerationConfig"]);i!=null&&v(n,["musicGenerationConfig"],NL(t,i));const s=g(e,["playbackControl"]);return s!=null&&v(n,["playbackControl"],s),n}function Nre(){return{}}function Pre(){return{}}function Rre(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Ire(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function jre(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Lre(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function $re(t,e){const n={},r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Bre(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function qre(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Rre(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],jre(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],$re(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&v(n,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Ure(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Ire(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Lre(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Bre(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&v(n,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Fre(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>qre(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Vre(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Ure(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function lR(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["finished"]);return a!=null&&v(n,["finished"],a),n}function uR(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["finished"]);return a!=null&&v(n,["finished"],a),n}function zre(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function Gre(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>zre(t,i))),v(n,["urlMetadata"],a)}return n}function Hre(t,e){const n={},r=g(e,["modelTurn"]);r!=null&&v(n,["modelTurn"],Fre(t,r));const a=g(e,["turnComplete"]);a!=null&&v(n,["turnComplete"],a);const i=g(e,["interrupted"]);i!=null&&v(n,["interrupted"],i);const s=g(e,["groundingMetadata"]);s!=null&&v(n,["groundingMetadata"],s);const u=g(e,["generationComplete"]);u!=null&&v(n,["generationComplete"],u);const c=g(e,["inputTranscription"]);c!=null&&v(n,["inputTranscription"],lR(t,c));const f=g(e,["outputTranscription"]);f!=null&&v(n,["outputTranscription"],lR(t,f));const h=g(e,["urlContextMetadata"]);return h!=null&&v(n,["urlContextMetadata"],Gre(t,h)),n}function Kre(t,e){const n={},r=g(e,["modelTurn"]);r!=null&&v(n,["modelTurn"],Vre(t,r));const a=g(e,["turnComplete"]);a!=null&&v(n,["turnComplete"],a);const i=g(e,["interrupted"]);i!=null&&v(n,["interrupted"],i);const s=g(e,["groundingMetadata"]);s!=null&&v(n,["groundingMetadata"],s);const u=g(e,["generationComplete"]);u!=null&&v(n,["generationComplete"],u);const c=g(e,["inputTranscription"]);c!=null&&v(n,["inputTranscription"],uR(t,c));const f=g(e,["outputTranscription"]);return f!=null&&v(n,["outputTranscription"],uR(t,f)),n}function Yre(t,e){const n={},r=g(e,["id"]);r!=null&&v(n,["id"],r);const a=g(e,["args"]);a!=null&&v(n,["args"],a);const i=g(e,["name"]);return i!=null&&v(n,["name"],i),n}function Wre(t,e){const n={},r=g(e,["args"]);r!=null&&v(n,["args"],r);const a=g(e,["name"]);return a!=null&&v(n,["name"],a),n}function Xre(t,e){const n={},r=g(e,["functionCalls"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Yre(t,i))),v(n,["functionCalls"],a)}return n}function Zre(t,e){const n={},r=g(e,["functionCalls"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Wre(t,i))),v(n,["functionCalls"],a)}return n}function Jre(t,e){const n={},r=g(e,["ids"]);return r!=null&&v(n,["ids"],r),n}function Qre(t,e){const n={},r=g(e,["ids"]);return r!=null&&v(n,["ids"],r),n}function Yd(t,e){const n={},r=g(e,["modality"]);r!=null&&v(n,["modality"],r);const a=g(e,["tokenCount"]);return a!=null&&v(n,["tokenCount"],a),n}function Wd(t,e){const n={},r=g(e,["modality"]);r!=null&&v(n,["modality"],r);const a=g(e,["tokenCount"]);return a!=null&&v(n,["tokenCount"],a),n}function eae(t,e){const n={},r=g(e,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const a=g(e,["cachedContentTokenCount"]);a!=null&&v(n,["cachedContentTokenCount"],a);const i=g(e,["responseTokenCount"]);i!=null&&v(n,["responseTokenCount"],i);const s=g(e,["toolUsePromptTokenCount"]);s!=null&&v(n,["toolUsePromptTokenCount"],s);const u=g(e,["thoughtsTokenCount"]);u!=null&&v(n,["thoughtsTokenCount"],u);const c=g(e,["totalTokenCount"]);c!=null&&v(n,["totalTokenCount"],c);const f=g(e,["promptTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>Yd(t,S))),v(n,["promptTokensDetails"],_)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>Yd(t,S))),v(n,["cacheTokensDetails"],_)}const m=g(e,["responseTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(S=>Yd(t,S))),v(n,["responseTokensDetails"],_)}const y=g(e,["toolUsePromptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>Yd(t,S))),v(n,["toolUsePromptTokensDetails"],_)}return n}function tae(t,e){const n={},r=g(e,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const a=g(e,["cachedContentTokenCount"]);a!=null&&v(n,["cachedContentTokenCount"],a);const i=g(e,["candidatesTokenCount"]);i!=null&&v(n,["responseTokenCount"],i);const s=g(e,["toolUsePromptTokenCount"]);s!=null&&v(n,["toolUsePromptTokenCount"],s);const u=g(e,["thoughtsTokenCount"]);u!=null&&v(n,["thoughtsTokenCount"],u);const c=g(e,["totalTokenCount"]);c!=null&&v(n,["totalTokenCount"],c);const f=g(e,["promptTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(A=>Wd(t,A))),v(n,["promptTokensDetails"],S)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(A=>Wd(t,A))),v(n,["cacheTokensDetails"],S)}const m=g(e,["candidatesTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(A=>Wd(t,A))),v(n,["responseTokensDetails"],S)}const y=g(e,["toolUsePromptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(A=>Wd(t,A))),v(n,["toolUsePromptTokensDetails"],S)}const _=g(e,["trafficType"]);return _!=null&&v(n,["trafficType"],_),n}function nae(t,e){const n={},r=g(e,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function rae(t,e){const n={},r=g(e,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function aae(t,e){const n={},r=g(e,["newHandle"]);r!=null&&v(n,["newHandle"],r);const a=g(e,["resumable"]);a!=null&&v(n,["resumable"],a);const i=g(e,["lastConsumedClientMessageIndex"]);return i!=null&&v(n,["lastConsumedClientMessageIndex"],i),n}function iae(t,e){const n={},r=g(e,["newHandle"]);r!=null&&v(n,["newHandle"],r);const a=g(e,["resumable"]);a!=null&&v(n,["resumable"],a);const i=g(e,["lastConsumedClientMessageIndex"]);return i!=null&&v(n,["lastConsumedClientMessageIndex"],i),n}function oae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],Nre());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],Hre(t,a));const i=g(e,["toolCall"]);i!=null&&v(n,["toolCall"],Xre(t,i));const s=g(e,["toolCallCancellation"]);s!=null&&v(n,["toolCallCancellation"],Jre(t,s));const u=g(e,["usageMetadata"]);u!=null&&v(n,["usageMetadata"],eae(t,u));const c=g(e,["goAway"]);c!=null&&v(n,["goAway"],nae(t,c));const f=g(e,["sessionResumptionUpdate"]);return f!=null&&v(n,["sessionResumptionUpdate"],aae(t,f)),n}function sae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],Pre());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],Kre(t,a));const i=g(e,["toolCall"]);i!=null&&v(n,["toolCall"],Zre(t,i));const s=g(e,["toolCallCancellation"]);s!=null&&v(n,["toolCallCancellation"],Qre(t,s));const u=g(e,["usageMetadata"]);u!=null&&v(n,["usageMetadata"],tae(t,u));const c=g(e,["goAway"]);c!=null&&v(n,["goAway"],rae(t,c));const f=g(e,["sessionResumptionUpdate"]);return f!=null&&v(n,["sessionResumptionUpdate"],iae(t,f)),n}function lae(){return{}}function uae(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["weight"]);return a!=null&&v(n,["weight"],a),n}function cae(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>uae(t,i))),v(n,["weightedPrompts"],a)}return n}function fae(t,e){const n={},r=g(e,["temperature"]);r!=null&&v(n,["temperature"],r);const a=g(e,["topK"]);a!=null&&v(n,["topK"],a);const i=g(e,["seed"]);i!=null&&v(n,["seed"],i);const s=g(e,["guidance"]);s!=null&&v(n,["guidance"],s);const u=g(e,["bpm"]);u!=null&&v(n,["bpm"],u);const c=g(e,["density"]);c!=null&&v(n,["density"],c);const f=g(e,["brightness"]);f!=null&&v(n,["brightness"],f);const h=g(e,["scale"]);h!=null&&v(n,["scale"],h);const m=g(e,["muteBass"]);m!=null&&v(n,["muteBass"],m);const y=g(e,["muteDrums"]);y!=null&&v(n,["muteDrums"],y);const _=g(e,["onlyBassAndDrums"]);return _!=null&&v(n,["onlyBassAndDrums"],_),n}function dae(t,e){const n={},r=g(e,["clientContent"]);r!=null&&v(n,["clientContent"],cae(t,r));const a=g(e,["musicGenerationConfig"]);return a!=null&&v(n,["musicGenerationConfig"],fae(t,a)),n}function hae(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);a!=null&&v(n,["mimeType"],a);const i=g(e,["sourceMetadata"]);return i!=null&&v(n,["sourceMetadata"],dae(t,i)),n}function pae(t,e){const n={},r=g(e,["audioChunks"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>hae(t,i))),v(n,["audioChunks"],a)}return n}function mae(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["filteredReason"]);return a!=null&&v(n,["filteredReason"],a),n}function gae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],lae());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],pae(t,a));const i=g(e,["filteredPrompt"]);return i!=null&&v(n,["filteredPrompt"],mae(t,i)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vae(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function yae(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function bae(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function xae(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],vae(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],yae(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],bae(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&v(n,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Zp(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>xae(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function _ae(t,e){const n={},r=g(e,["anyOf"]);r!=null&&v(n,["anyOf"],r);const a=g(e,["default"]);a!=null&&v(n,["default"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["enum"]);s!=null&&v(n,["enum"],s);const u=g(e,["example"]);u!=null&&v(n,["example"],u);const c=g(e,["format"]);c!=null&&v(n,["format"],c);const f=g(e,["items"]);f!=null&&v(n,["items"],f);const h=g(e,["maxItems"]);h!=null&&v(n,["maxItems"],h);const m=g(e,["maxLength"]);m!=null&&v(n,["maxLength"],m);const y=g(e,["maxProperties"]);y!=null&&v(n,["maxProperties"],y);const _=g(e,["maximum"]);_!=null&&v(n,["maximum"],_);const S=g(e,["minItems"]);S!=null&&v(n,["minItems"],S);const A=g(e,["minLength"]);A!=null&&v(n,["minLength"],A);const T=g(e,["minProperties"]);T!=null&&v(n,["minProperties"],T);const C=g(e,["minimum"]);C!=null&&v(n,["minimum"],C);const O=g(e,["nullable"]);O!=null&&v(n,["nullable"],O);const E=g(e,["pattern"]);E!=null&&v(n,["pattern"],E);const N=g(e,["properties"]);N!=null&&v(n,["properties"],N);const k=g(e,["propertyOrdering"]);k!=null&&v(n,["propertyOrdering"],k);const M=g(e,["required"]);M!=null&&v(n,["required"],M);const P=g(e,["title"]);P!=null&&v(n,["title"],P);const I=g(e,["type"]);return I!=null&&v(n,["type"],I),n}function wae(t,e){const n={};if(g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["category"]);r!=null&&v(n,["category"],r);const a=g(e,["threshold"]);return a!=null&&v(n,["threshold"],a),n}function Sae(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function Tae(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Aae(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Tae(t,r)),n}function Eae(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Cae(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Eae(t,r)),n}function kae(){return{}}function Oae(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Sae(t,f))),v(n,["functionDeclarations"],c)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],Aae(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],Cae(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],kae());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function Mae(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Dae(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Nae(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Dae(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Pae(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],Mae(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Nae(t,a)),n}function Rae(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function IL(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Rae(t,r)),n}function Iae(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],IL(t,a)),n}function jae(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Iae(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function Lae(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],IL(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],jae(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function $ae(t,e){const n={},r=g(e,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const a=g(e,["thinkingBudget"]);return a!=null&&v(n,["thinkingBudget"],a),n}function Bae(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],Zp(t,Bn(t,a)));const i=g(e,["temperature"]);i!=null&&v(r,["temperature"],i);const s=g(e,["topP"]);s!=null&&v(r,["topP"],s);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const f=g(e,["maxOutputTokens"]);f!=null&&v(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const _=g(e,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const S=g(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const A=g(e,["seed"]);A!=null&&v(r,["seed"],A);const T=g(e,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const C=g(e,["responseSchema"]);if(C!=null&&v(r,["responseSchema"],_ae(t,sp(t,C))),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=g(e,["safetySettings"]);if(n!==void 0&&O!=null){let V=O;Array.isArray(V)&&(V=V.map(L=>wae(t,L))),v(n,["safetySettings"],V)}const E=g(e,["tools"]);if(n!==void 0&&E!=null){let V=hf(t,E);Array.isArray(V)&&(V=V.map(L=>Oae(t,df(t,L)))),v(n,["tools"],V)}const N=g(e,["toolConfig"]);if(n!==void 0&&N!=null&&v(n,["toolConfig"],Pae(t,N)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=g(e,["cachedContent"]);n!==void 0&&k!=null&&v(n,["cachedContent"],zi(t,k));const M=g(e,["responseModalities"]);M!=null&&v(r,["responseModalities"],M);const P=g(e,["mediaResolution"]);P!=null&&v(r,["mediaResolution"],P);const I=g(e,["speechConfig"]);if(I!=null&&v(r,["speechConfig"],Lae(t,TL(t,I))),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=g(e,["thinkingConfig"]);return B!=null&&v(r,["thinkingConfig"],$ae(t,B)),r}function cR(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["contents"]);if(a!=null){let s=zr(t,a);Array.isArray(s)&&(s=s.map(u=>Zp(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["generationConfig"],Bae(t,i,n)),n}function qae(t,e,n){const r={},a=g(e,["taskType"]);n!==void 0&&a!=null&&v(n,["requests[]","taskType"],a);const i=g(e,["title"]);n!==void 0&&i!=null&&v(n,["requests[]","title"],i);const s=g(e,["outputDimensionality"]);if(n!==void 0&&s!=null&&v(n,["requests[]","outputDimensionality"],s),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Uae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["contents"]);a!=null&&v(n,["requests[]","content"],SL(t,a));const i=g(e,["config"]);i!=null&&v(n,["config"],qae(t,i,n));const s=g(e,["model"]);return s!==void 0&&v(n,["requests[]","model"],Lt(t,s)),n}function Fae(t,e,n){const r={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=g(e,["numberOfImages"]);n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a);const i=g(e,["aspectRatio"]);n!==void 0&&i!=null&&v(n,["parameters","aspectRatio"],i);const s=g(e,["guidanceScale"]);if(n!==void 0&&s!=null&&v(n,["parameters","guidanceScale"],s),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=g(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&v(n,["parameters","safetySetting"],u);const c=g(e,["personGeneration"]);n!==void 0&&c!=null&&v(n,["parameters","personGeneration"],c);const f=g(e,["includeSafetyAttributes"]);n!==void 0&&f!=null&&v(n,["parameters","includeSafetyAttributes"],f);const h=g(e,["includeRaiReason"]);n!==void 0&&h!=null&&v(n,["parameters","includeRaiReason"],h);const m=g(e,["language"]);n!==void 0&&m!=null&&v(n,["parameters","language"],m);const y=g(e,["outputMimeType"]);n!==void 0&&y!=null&&v(n,["parameters","outputOptions","mimeType"],y);const _=g(e,["outputCompressionQuality"]);if(n!==void 0&&_!=null&&v(n,["parameters","outputOptions","compressionQuality"],_),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Vae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],Fae(t,i,n)),n}function zae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Lt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Gae(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],CL(t,u)),r}function Hae(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Gae(t,r,n)),n}function Kae(t,e,n){const r={},a=g(e,["displayName"]);n!==void 0&&a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);n!==void 0&&i!=null&&v(n,["description"],i);const s=g(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&v(n,["defaultCheckpointId"],s),r}function Yae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Lt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Kae(t,a,n)),n}function Wae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Lt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Xae(t,e){const n={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Zae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["contents"]);if(a!=null){let s=zr(t,a);Array.isArray(s)&&(s=s.map(u=>Zp(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],Xae(t,i)),n}function Jae(t,e){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=g(e,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],Qa(t,r));const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Qae(t,e,n){const r={},a=g(e,["numberOfVideos"]);if(n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(e,["durationSeconds"]);if(n!==void 0&&i!=null&&v(n,["parameters","durationSeconds"],i),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=g(e,["aspectRatio"]);if(n!==void 0&&s!=null&&v(n,["parameters","aspectRatio"],s),g(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=g(e,["personGeneration"]);if(n!==void 0&&u!=null&&v(n,["parameters","personGeneration"],u),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=g(e,["negativePrompt"]);n!==void 0&&c!=null&&v(n,["parameters","negativePrompt"],c);const f=g(e,["enhancePrompt"]);if(n!==void 0&&f!=null&&v(n,["parameters","enhancePrompt"],f),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(g(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return r}function eie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["image"]);if(i!=null&&v(n,["instances[0]","image"],Jae(t,i)),g(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=g(e,["config"]);return s!=null&&v(n,["config"],Qae(t,s,n)),n}function tie(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function nie(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function rie(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function aie(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],tie(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],nie(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],rie(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&v(n,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Fl(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>aie(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function iie(t,e){const n={},r=g(e,["anyOf"]);r!=null&&v(n,["anyOf"],r);const a=g(e,["default"]);a!=null&&v(n,["default"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["enum"]);s!=null&&v(n,["enum"],s);const u=g(e,["example"]);u!=null&&v(n,["example"],u);const c=g(e,["format"]);c!=null&&v(n,["format"],c);const f=g(e,["items"]);f!=null&&v(n,["items"],f);const h=g(e,["maxItems"]);h!=null&&v(n,["maxItems"],h);const m=g(e,["maxLength"]);m!=null&&v(n,["maxLength"],m);const y=g(e,["maxProperties"]);y!=null&&v(n,["maxProperties"],y);const _=g(e,["maximum"]);_!=null&&v(n,["maximum"],_);const S=g(e,["minItems"]);S!=null&&v(n,["minItems"],S);const A=g(e,["minLength"]);A!=null&&v(n,["minLength"],A);const T=g(e,["minProperties"]);T!=null&&v(n,["minProperties"],T);const C=g(e,["minimum"]);C!=null&&v(n,["minimum"],C);const O=g(e,["nullable"]);O!=null&&v(n,["nullable"],O);const E=g(e,["pattern"]);E!=null&&v(n,["pattern"],E);const N=g(e,["properties"]);N!=null&&v(n,["properties"],N);const k=g(e,["propertyOrdering"]);k!=null&&v(n,["propertyOrdering"],k);const M=g(e,["required"]);M!=null&&v(n,["required"],M);const P=g(e,["title"]);P!=null&&v(n,["title"],P);const I=g(e,["type"]);return I!=null&&v(n,["type"],I),n}function oie(t,e){const n={},r=g(e,["featureSelectionPreference"]);return r!=null&&v(n,["featureSelectionPreference"],r),n}function sie(t,e){const n={},r=g(e,["method"]);r!=null&&v(n,["method"],r);const a=g(e,["category"]);a!=null&&v(n,["category"],a);const i=g(e,["threshold"]);return i!=null&&v(n,["threshold"],i),n}function lie(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function uie(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function cie(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],uie(t,r)),n}function fie(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function die(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],fie(t,r)),n}function hie(){return{}}function pie(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function mie(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],pie(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const c=g(e,["oidcConfig"]);return c!=null&&v(n,["oidcConfig"],c),n}function gie(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],mie(t,r)),n}function vie(){return{}}function jL(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(y=>lie(t,y))),v(n,["functionDeclarations"],m)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],cie(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],die(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],hie());const c=g(e,["googleMaps"]);c!=null&&v(n,["googleMaps"],gie(t,c)),g(e,["urlContext"])!=null&&v(n,["urlContext"],vie());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function yie(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function bie(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function xie(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],bie(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function _ie(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],yie(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],xie(t,a)),n}function wie(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function Sie(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],wie(t,r)),n}function Tie(t,e){const n={},r=g(e,["voiceConfig"]);if(r!=null&&v(n,["voiceConfig"],Sie(t,r)),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Aie(t,e){const n={},r=g(e,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const a=g(e,["thinkingBudget"]);return a!=null&&v(n,["thinkingBudget"],a),n}function Eie(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],Fl(t,Bn(t,a)));const i=g(e,["temperature"]);i!=null&&v(r,["temperature"],i);const s=g(e,["topP"]);s!=null&&v(r,["topP"],s);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const f=g(e,["maxOutputTokens"]);f!=null&&v(r,["maxOutputTokens"],f);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const _=g(e,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const S=g(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const A=g(e,["seed"]);A!=null&&v(r,["seed"],A);const T=g(e,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const C=g(e,["responseSchema"]);C!=null&&v(r,["responseSchema"],iie(t,sp(t,C)));const O=g(e,["routingConfig"]);O!=null&&v(r,["routingConfig"],O);const E=g(e,["modelSelectionConfig"]);E!=null&&v(r,["modelConfig"],oie(t,E));const N=g(e,["safetySettings"]);if(n!==void 0&&N!=null){let Y=N;Array.isArray(Y)&&(Y=Y.map(H=>sie(t,H))),v(n,["safetySettings"],Y)}const k=g(e,["tools"]);if(n!==void 0&&k!=null){let Y=hf(t,k);Array.isArray(Y)&&(Y=Y.map(H=>jL(t,df(t,H)))),v(n,["tools"],Y)}const M=g(e,["toolConfig"]);n!==void 0&&M!=null&&v(n,["toolConfig"],_ie(t,M));const P=g(e,["labels"]);n!==void 0&&P!=null&&v(n,["labels"],P);const I=g(e,["cachedContent"]);n!==void 0&&I!=null&&v(n,["cachedContent"],zi(t,I));const B=g(e,["responseModalities"]);B!=null&&v(r,["responseModalities"],B);const V=g(e,["mediaResolution"]);V!=null&&v(r,["mediaResolution"],V);const L=g(e,["speechConfig"]);L!=null&&v(r,["speechConfig"],Tie(t,TL(t,L)));const W=g(e,["audioTimestamp"]);W!=null&&v(r,["audioTimestamp"],W);const Q=g(e,["thinkingConfig"]);return Q!=null&&v(r,["thinkingConfig"],Aie(t,Q)),r}function fR(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["contents"]);if(a!=null){let s=zr(t,a);Array.isArray(s)&&(s=s.map(u=>Fl(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["generationConfig"],Eie(t,i,n)),n}function Cie(t,e,n){const r={},a=g(e,["taskType"]);n!==void 0&&a!=null&&v(n,["instances[]","task_type"],a);const i=g(e,["title"]);n!==void 0&&i!=null&&v(n,["instances[]","title"],i);const s=g(e,["outputDimensionality"]);n!==void 0&&s!=null&&v(n,["parameters","outputDimensionality"],s);const u=g(e,["mimeType"]);n!==void 0&&u!=null&&v(n,["instances[]","mimeType"],u);const c=g(e,["autoTruncate"]);return n!==void 0&&c!=null&&v(n,["parameters","autoTruncate"],c),r}function kie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["contents"]);a!=null&&v(n,["instances[]","content"],SL(t,a));const i=g(e,["config"]);return i!=null&&v(n,["config"],Cie(t,i,n)),n}function Oie(t,e,n){const r={},a=g(e,["outputGcsUri"]);n!==void 0&&a!=null&&v(n,["parameters","storageUri"],a);const i=g(e,["negativePrompt"]);n!==void 0&&i!=null&&v(n,["parameters","negativePrompt"],i);const s=g(e,["numberOfImages"]);n!==void 0&&s!=null&&v(n,["parameters","sampleCount"],s);const u=g(e,["aspectRatio"]);n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u);const c=g(e,["guidanceScale"]);n!==void 0&&c!=null&&v(n,["parameters","guidanceScale"],c);const f=g(e,["seed"]);n!==void 0&&f!=null&&v(n,["parameters","seed"],f);const h=g(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const m=g(e,["personGeneration"]);n!==void 0&&m!=null&&v(n,["parameters","personGeneration"],m);const y=g(e,["includeSafetyAttributes"]);n!==void 0&&y!=null&&v(n,["parameters","includeSafetyAttributes"],y);const _=g(e,["includeRaiReason"]);n!==void 0&&_!=null&&v(n,["parameters","includeRaiReason"],_);const S=g(e,["language"]);n!==void 0&&S!=null&&v(n,["parameters","language"],S);const A=g(e,["outputMimeType"]);n!==void 0&&A!=null&&v(n,["parameters","outputOptions","mimeType"],A);const T=g(e,["outputCompressionQuality"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","compressionQuality"],T);const C=g(e,["addWatermark"]);n!==void 0&&C!=null&&v(n,["parameters","addWatermark"],C);const O=g(e,["enhancePrompt"]);return n!==void 0&&O!=null&&v(n,["parameters","enhancePrompt"],O),r}function Mie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],Oie(t,i,n)),n}function Jp(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["imageBytes"]);a!=null&&v(n,["bytesBase64Encoded"],Qa(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Die(t,e){const n={},r=g(e,["maskMode"]);r!=null&&v(n,["maskMode"],r);const a=g(e,["segmentationClasses"]);a!=null&&v(n,["maskClasses"],a);const i=g(e,["maskDilation"]);return i!=null&&v(n,["dilation"],i),n}function Nie(t,e){const n={},r=g(e,["controlType"]);r!=null&&v(n,["controlType"],r);const a=g(e,["enableControlImageComputation"]);return a!=null&&v(n,["computeControl"],a),n}function Pie(t,e){const n={},r=g(e,["styleDescription"]);return r!=null&&v(n,["styleDescription"],r),n}function Rie(t,e){const n={},r=g(e,["subjectType"]);r!=null&&v(n,["subjectType"],r);const a=g(e,["subjectDescription"]);return a!=null&&v(n,["subjectDescription"],a),n}function Iie(t,e){const n={},r=g(e,["referenceImage"]);r!=null&&v(n,["referenceImage"],Jp(t,r));const a=g(e,["referenceId"]);a!=null&&v(n,["referenceId"],a);const i=g(e,["referenceType"]);i!=null&&v(n,["referenceType"],i);const s=g(e,["maskImageConfig"]);s!=null&&v(n,["maskImageConfig"],Die(t,s));const u=g(e,["controlImageConfig"]);u!=null&&v(n,["controlImageConfig"],Nie(t,u));const c=g(e,["styleImageConfig"]);c!=null&&v(n,["styleImageConfig"],Pie(t,c));const f=g(e,["subjectImageConfig"]);return f!=null&&v(n,["subjectImageConfig"],Rie(t,f)),n}function jie(t,e,n){const r={},a=g(e,["outputGcsUri"]);n!==void 0&&a!=null&&v(n,["parameters","storageUri"],a);const i=g(e,["negativePrompt"]);n!==void 0&&i!=null&&v(n,["parameters","negativePrompt"],i);const s=g(e,["numberOfImages"]);n!==void 0&&s!=null&&v(n,["parameters","sampleCount"],s);const u=g(e,["aspectRatio"]);n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u);const c=g(e,["guidanceScale"]);n!==void 0&&c!=null&&v(n,["parameters","guidanceScale"],c);const f=g(e,["seed"]);n!==void 0&&f!=null&&v(n,["parameters","seed"],f);const h=g(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const m=g(e,["personGeneration"]);n!==void 0&&m!=null&&v(n,["parameters","personGeneration"],m);const y=g(e,["includeSafetyAttributes"]);n!==void 0&&y!=null&&v(n,["parameters","includeSafetyAttributes"],y);const _=g(e,["includeRaiReason"]);n!==void 0&&_!=null&&v(n,["parameters","includeRaiReason"],_);const S=g(e,["language"]);n!==void 0&&S!=null&&v(n,["parameters","language"],S);const A=g(e,["outputMimeType"]);n!==void 0&&A!=null&&v(n,["parameters","outputOptions","mimeType"],A);const T=g(e,["outputCompressionQuality"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","compressionQuality"],T);const C=g(e,["editMode"]);n!==void 0&&C!=null&&v(n,["parameters","editMode"],C);const O=g(e,["baseSteps"]);return n!==void 0&&O!=null&&v(n,["parameters","editConfig","baseSteps"],O),r}function Lie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>Iie(t,c))),v(n,["instances[0]","referenceImages"],u)}const s=g(e,["config"]);return s!=null&&v(n,["config"],jie(t,s,n)),n}function $ie(t,e,n){const r={},a=g(e,["includeRaiReason"]);n!==void 0&&a!=null&&v(n,["parameters","includeRaiReason"],a);const i=g(e,["outputMimeType"]);n!==void 0&&i!=null&&v(n,["parameters","outputOptions","mimeType"],i);const s=g(e,["outputCompressionQuality"]);n!==void 0&&s!=null&&v(n,["parameters","outputOptions","compressionQuality"],s);const u=g(e,["numberOfImages"]);n!==void 0&&u!=null&&v(n,["parameters","sampleCount"],u);const c=g(e,["mode"]);return n!==void 0&&c!=null&&v(n,["parameters","mode"],c),r}function Bie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["image"]);a!=null&&v(n,["instances[0]","image"],Jp(t,a));const i=g(e,["upscaleFactor"]);i!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=g(e,["config"]);return s!=null&&v(n,["config"],$ie(t,s,n)),n}function qie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Lt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Uie(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],CL(t,u)),r}function Fie(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Uie(t,r,n)),n}function Vie(t,e,n){const r={},a=g(e,["displayName"]);n!==void 0&&a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);n!==void 0&&i!=null&&v(n,["description"],i);const s=g(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&v(n,["defaultCheckpointId"],s),r}function zie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Vie(t,a,n)),n}function Gie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],Lt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Hie(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],Fl(t,Bn(t,a)));const i=g(e,["tools"]);if(n!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>jL(t,c))),v(n,["tools"],u)}const s=g(e,["generationConfig"]);return n!==void 0&&s!=null&&v(n,["generationConfig"],s),r}function Kie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["contents"]);if(a!=null){let s=zr(t,a);Array.isArray(s)&&(s=s.map(u=>Fl(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],Hie(t,i,n)),n}function Yie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["contents"]);if(a!=null){let s=zr(t,a);Array.isArray(s)&&(s=s.map(u=>Fl(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],i),n}function Wie(t,e){const n={},r=g(e,["uri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["videoBytes"]);a!=null&&v(n,["bytesBase64Encoded"],Qa(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Xie(t,e,n){const r={},a=g(e,["numberOfVideos"]);n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a);const i=g(e,["outputGcsUri"]);n!==void 0&&i!=null&&v(n,["parameters","storageUri"],i);const s=g(e,["fps"]);n!==void 0&&s!=null&&v(n,["parameters","fps"],s);const u=g(e,["durationSeconds"]);n!==void 0&&u!=null&&v(n,["parameters","durationSeconds"],u);const c=g(e,["seed"]);n!==void 0&&c!=null&&v(n,["parameters","seed"],c);const f=g(e,["aspectRatio"]);n!==void 0&&f!=null&&v(n,["parameters","aspectRatio"],f);const h=g(e,["resolution"]);n!==void 0&&h!=null&&v(n,["parameters","resolution"],h);const m=g(e,["personGeneration"]);n!==void 0&&m!=null&&v(n,["parameters","personGeneration"],m);const y=g(e,["pubsubTopic"]);n!==void 0&&y!=null&&v(n,["parameters","pubsubTopic"],y);const _=g(e,["negativePrompt"]);n!==void 0&&_!=null&&v(n,["parameters","negativePrompt"],_);const S=g(e,["enhancePrompt"]);n!==void 0&&S!=null&&v(n,["parameters","enhancePrompt"],S);const A=g(e,["generateAudio"]);n!==void 0&&A!=null&&v(n,["parameters","generateAudio"],A);const T=g(e,["lastFrame"]);return n!==void 0&&T!=null&&v(n,["instances[0]","lastFrame"],Jp(t,T)),r}function Zie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],Lt(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["image"]);i!=null&&v(n,["instances[0]","image"],Jp(t,i));const s=g(e,["video"]);s!=null&&v(n,["instances[0]","video"],Wie(t,s));const u=g(e,["config"]);return u!=null&&v(n,["config"],Xie(t,u,n)),n}function Jie(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Qie(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function eoe(t,e){const n={},r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function toe(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Jie(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Qie(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],eoe(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&v(n,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function noe(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>toe(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function roe(t,e){const n={},r=g(e,["citationSources"]);return r!=null&&v(n,["citations"],r),n}function aoe(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function ioe(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>aoe(t,i))),v(n,["urlMetadata"],a)}return n}function ooe(t,e){const n={},r=g(e,["content"]);r!=null&&v(n,["content"],noe(t,r));const a=g(e,["citationMetadata"]);a!=null&&v(n,["citationMetadata"],roe(t,a));const i=g(e,["tokenCount"]);i!=null&&v(n,["tokenCount"],i);const s=g(e,["finishReason"]);s!=null&&v(n,["finishReason"],s);const u=g(e,["urlContextMetadata"]);u!=null&&v(n,["urlContextMetadata"],ioe(t,u));const c=g(e,["avgLogprobs"]);c!=null&&v(n,["avgLogprobs"],c);const f=g(e,["groundingMetadata"]);f!=null&&v(n,["groundingMetadata"],f);const h=g(e,["index"]);h!=null&&v(n,["index"],h);const m=g(e,["logprobsResult"]);m!=null&&v(n,["logprobsResult"],m);const y=g(e,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function dR(t,e){const n={},r=g(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>ooe(t,c))),v(n,["candidates"],u)}const a=g(e,["modelVersion"]);a!=null&&v(n,["modelVersion"],a);const i=g(e,["promptFeedback"]);i!=null&&v(n,["promptFeedback"],i);const s=g(e,["usageMetadata"]);return s!=null&&v(n,["usageMetadata"],s),n}function soe(t,e){const n={},r=g(e,["values"]);return r!=null&&v(n,["values"],r),n}function loe(){return{}}function uoe(t,e){const n={},r=g(e,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>soe(t,s))),v(n,["embeddings"],i)}return g(e,["metadata"])!=null&&v(n,["metadata"],loe()),n}function coe(t,e){const n={},r=g(e,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],Qa(t,r));const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function LL(t,e){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const a=g(e,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const i=g(e,["contentType"]);return i!=null&&v(n,["contentType"],i),n}function foe(t,e){const n={},r=g(e,["_self"]);r!=null&&v(n,["image"],coe(t,r));const a=g(e,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const i=g(e,["_self"]);return i!=null&&v(n,["safetyAttributes"],LL(t,i)),n}function doe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>foe(t,s))),v(n,["generatedImages"],i)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],LL(t,a)),n}function hoe(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["updateTime"]);return i!=null&&v(n,["updateTime"],i),n}function mw(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["version"]);s!=null&&v(n,["version"],s);const u=g(e,["_self"]);u!=null&&v(n,["tunedModelInfo"],hoe(t,u));const c=g(e,["inputTokenLimit"]);c!=null&&v(n,["inputTokenLimit"],c);const f=g(e,["outputTokenLimit"]);f!=null&&v(n,["outputTokenLimit"],f);const h=g(e,["supportedGenerationMethods"]);return h!=null&&v(n,["supportedActions"],h),n}function poe(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["_self"]);if(a!=null){let i=kL(t,a);Array.isArray(i)&&(i=i.map(s=>mw(t,s))),v(n,["models"],i)}return n}function moe(){return{}}function goe(t,e){const n={},r=g(e,["totalTokens"]);r!=null&&v(n,["totalTokens"],r);const a=g(e,["cachedContentTokenCount"]);return a!=null&&v(n,["cachedContentTokenCount"],a),n}function voe(t,e){const n={},r=g(e,["video","uri"]);r!=null&&v(n,["uri"],r);const a=g(e,["video","encodedVideo"]);a!=null&&v(n,["videoBytes"],Qa(t,a));const i=g(e,["encoding"]);return i!=null&&v(n,["mimeType"],i),n}function yoe(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],voe(t,r)),n}function boe(t,e){const n={},r=g(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>yoe(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function xoe(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response","generateVideoResponse"]);return u!=null&&v(n,["response"],boe(t,u)),n}function _oe(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function woe(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Soe(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Toe(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],_oe(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],woe(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Soe(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&v(n,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Aoe(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Toe(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Eoe(t,e){const n={},r=g(e,["citations"]);return r!=null&&v(n,["citations"],r),n}function Coe(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function koe(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Coe(t,i))),v(n,["urlMetadata"],a)}return n}function Ooe(t,e){const n={},r=g(e,["content"]);r!=null&&v(n,["content"],Aoe(t,r));const a=g(e,["citationMetadata"]);a!=null&&v(n,["citationMetadata"],Eoe(t,a));const i=g(e,["finishMessage"]);i!=null&&v(n,["finishMessage"],i);const s=g(e,["finishReason"]);s!=null&&v(n,["finishReason"],s);const u=g(e,["urlContextMetadata"]);u!=null&&v(n,["urlContextMetadata"],koe(t,u));const c=g(e,["avgLogprobs"]);c!=null&&v(n,["avgLogprobs"],c);const f=g(e,["groundingMetadata"]);f!=null&&v(n,["groundingMetadata"],f);const h=g(e,["index"]);h!=null&&v(n,["index"],h);const m=g(e,["logprobsResult"]);m!=null&&v(n,["logprobsResult"],m);const y=g(e,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function hR(t,e){const n={},r=g(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Ooe(t,h))),v(n,["candidates"],f)}const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["responseId"]);i!=null&&v(n,["responseId"],i);const s=g(e,["modelVersion"]);s!=null&&v(n,["modelVersion"],s);const u=g(e,["promptFeedback"]);u!=null&&v(n,["promptFeedback"],u);const c=g(e,["usageMetadata"]);return c!=null&&v(n,["usageMetadata"],c),n}function Moe(t,e){const n={},r=g(e,["truncated"]);r!=null&&v(n,["truncated"],r);const a=g(e,["token_count"]);return a!=null&&v(n,["tokenCount"],a),n}function Doe(t,e){const n={},r=g(e,["values"]);r!=null&&v(n,["values"],r);const a=g(e,["statistics"]);return a!=null&&v(n,["statistics"],Moe(t,a)),n}function Noe(t,e){const n={},r=g(e,["billableCharacterCount"]);return r!=null&&v(n,["billableCharacterCount"],r),n}function Poe(t,e){const n={},r=g(e,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Doe(t,s))),v(n,["embeddings"],i)}const a=g(e,["metadata"]);return a!=null&&v(n,["metadata"],Noe(t,a)),n}function Roe(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["imageBytes"],Qa(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function $L(t,e){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const a=g(e,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const i=g(e,["contentType"]);return i!=null&&v(n,["contentType"],i),n}function IS(t,e){const n={},r=g(e,["_self"]);r!=null&&v(n,["image"],Roe(t,r));const a=g(e,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const i=g(e,["_self"]);i!=null&&v(n,["safetyAttributes"],$L(t,i));const s=g(e,["prompt"]);return s!=null&&v(n,["enhancedPrompt"],s),n}function Ioe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>IS(t,s))),v(n,["generatedImages"],i)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],$L(t,a)),n}function joe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>IS(t,i))),v(n,["generatedImages"],a)}return n}function Loe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>IS(t,i))),v(n,["generatedImages"],a)}return n}function $oe(t,e){const n={},r=g(e,["endpoint"]);r!=null&&v(n,["name"],r);const a=g(e,["deployedModelId"]);return a!=null&&v(n,["deployedModelId"],a),n}function Boe(t,e){const n={},r=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["updateTime"]);return i!=null&&v(n,["updateTime"],i),n}function qoe(t,e){const n={},r=g(e,["checkpointId"]);r!=null&&v(n,["checkpointId"],r);const a=g(e,["epoch"]);a!=null&&v(n,["epoch"],a);const i=g(e,["step"]);return i!=null&&v(n,["step"],i),n}function gw(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["versionId"]);s!=null&&v(n,["version"],s);const u=g(e,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(_=>$oe(t,_))),v(n,["endpoints"],y)}const c=g(e,["labels"]);c!=null&&v(n,["labels"],c);const f=g(e,["_self"]);f!=null&&v(n,["tunedModelInfo"],Boe(t,f));const h=g(e,["defaultCheckpointId"]);h!=null&&v(n,["defaultCheckpointId"],h);const m=g(e,["checkpoints"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(_=>qoe(t,_))),v(n,["checkpoints"],y)}return n}function Uoe(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["_self"]);if(a!=null){let i=kL(t,a);Array.isArray(i)&&(i=i.map(s=>gw(t,s))),v(n,["models"],i)}return n}function Foe(){return{}}function Voe(t,e){const n={},r=g(e,["totalTokens"]);return r!=null&&v(n,["totalTokens"],r),n}function zoe(t,e){const n={},r=g(e,["tokensInfo"]);return r!=null&&v(n,["tokensInfo"],r),n}function Goe(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["uri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["videoBytes"],Qa(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Hoe(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Goe(t,r)),n}function Koe(t,e){const n={},r=g(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Hoe(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function Yoe(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],Koe(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Woe="Content-Type",Xoe="X-Server-Timeout",Zoe="User-Agent",vw="x-goog-api-client",Joe="1.5.1",Qoe=`google-genai-sdk/${Joe}`,ese="v1beta1",tse="v1beta",pR=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class BL extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class yw extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class nse{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:ese,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:tse,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))a.searchParams.append(s,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.unaryApiCall(a,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[a,i]of Object.entries(n))typeof i=="object"?r[a]=Object.assign(Object.assign({},r[a]),i):i!==void 0&&(r[a]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.streamApiCall(a,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const a=new AbortController,i=a.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>a.abort(),n.timeout),r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=i}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await mR(a),new fw(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await mR(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var n;return el(this,arguments,function*(){const a=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield $t(a.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=i.decode(c);try{const m=JSON.parse(f);if("error"in m){const y=JSON.parse(JSON.stringify(m.error)),_=y.status,S=y.code,A=`got status: ${_}. ${JSON.stringify(m)}`;if(S>=400&&S<500)throw new BL(A);if(S>=500&&S<600)throw new yw(A)}}catch(m){const y=m;if(y.name==="ClientError"||y.name==="ServerError")throw m}s+=f;let h=s.match(pR);for(;h;){const m=h[1];try{const y=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield $t(new fw(y)),s=s.slice(h[0].length),h=s.match(pR)}catch(y){throw new Error(`exception parsing stream chunk ${m}. ${y}`)}}}}finally{a.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Qoe+" "+this.clientOptions.userAgentExtra;return e[Zoe]=n,e[vw]=n,e[Woe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))n.append(r,a);e.timeout&&e.timeout>0&&n.append(Xoe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const i=this.clientOptions.uploader,s=await i.stat(e);a.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=u;const c=await this.fetchUploadUrl(a,n);return i.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let a={};n!=null&&n.httpOptions?a=n.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},s=await this.request({path:Fe("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:a});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function mR(t){var e;if(t===void 0)throw new yw("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let a;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await t.json():a={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=`got status: ${n} ${r}. ${JSON.stringify(a)}`;throw n>=400&&n<500?new BL(i):n>=500&&n<600?new yw(i):new Error(i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rse="mcp_used/unknown";function qL(t){for(const e of t)if(jS(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function UL(t){var e;const n=(e=t[vw])!==null&&e!==void 0?e:"";t[vw]=(n+` ${rse}`).trimStart()}function ase(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>jS(a)))!==null&&r!==void 0?r:!1}function ise(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>!jS(a)))!==null&&r!==void 0?r:!1}function jS(t){return t!==null&&typeof t=="object"&&t instanceof LS}function ose(t,e=100){return el(this,arguments,function*(){let r,a=0;for(;a<e;){const i=yield $t(t.listTools({cursor:r}));for(const s of i.tools)yield yield $t(s),a++;if(!i.nextCursor)break;r=i.nextCursor}})}class LS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new LS(e,n)}async initialize(){var e,n,r,a;if(this.mcpTools.length>0)return;const i={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,gc(ose(h))),f;f=await c.next(),e=f.done,!e;u=!0){a=f.value,u=!1;const m=a;s.push(m);const y=m.name;if(i[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);i[y]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),ste(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const s=await a.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sse(t,e,n){const r=new Yee;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data);const i=gae(t,a);Object.assign(r,i),e(r)}class lse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=fse(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(E=>{f=E}),m=e.callbacks,y=function(){f({})},_=this.apiClient,S={onopen:y,onmessage:E=>{sse(_,m.onmessage,E)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(E){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(E){}},A=this.webSocketFactory.create(c,cse(s),S);A.connect(),await h;const T=Lt(this.apiClient,e.model),C=PL(this.apiClient,{model:T}),O=pw(this.apiClient,{setup:C});return A.send(JSON.stringify(O)),new use(A,this.apiClient)}}class use{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Mre(this.apiClient,e),r=RL(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Dre(this.apiClient,e),r=pw(this.apiClient,n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=pw(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ys.PLAY)}pause(){this.sendPlaybackControl(Ys.PAUSE)}stop(){this.sendPlaybackControl(Ys.STOP)}resetContext(){this.sendPlaybackControl(Ys.RESET_CONTEXT)}close(){this.conn.close()}}function cse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function fse(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dse="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function hse(t,e,n){const r=new Kee;let a;if(n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),t.isVertexAI()){const i=sae(t,a);Object.assign(r,i)}else{const i=oae(t,a);Object.assign(r,i)}e(r)}class pse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new lse(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,a,i,s,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const m=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&qL(e.config.tools)&&UL(m);const y=yse(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y);else{const B=this.apiClient.getApiKey();let V="BidiGenerateContent",L="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),V="BidiGenerateContentConstrained",L="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${V}?${L}=${B}`}let _=()=>{};const S=new Promise(B=>{_=B}),A=e.callbacks,T=function(){var B;(B=A==null?void 0:A.onopen)===null||B===void 0||B.call(A),_({})},C=this.apiClient,O={onopen:T,onmessage:B=>{hse(C,A.onmessage,B)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(B){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(B){}},E=this.webSocketFactory.create(h,vse(y),O);E.connect(),await S;let N=Lt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const B=this.apiClient.getProject(),V=this.apiClient.getLocation();N=`projects/${B}/locations/${V}/`+N}let k={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ip.AUDIO]}:e.config.responseModalities=[ip.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],P=[];for(const B of M)if(this.isCallableTool(B)){const V=B;P.push(await V.tool())}else P.push(B);P.length>0&&(e.config.tools=P);const I={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?k=Sre(this.apiClient,I):k=wre(this.apiClient,I),delete k.config,E.send(JSON.stringify(k)),new gse(E,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const mse={turnComplete:!0};class gse{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=zr(e,n.turns),e.isVertexAI()?r=r.map(a=>Fl(e,a)):r=r.map(a=>Zp(e,a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(dse)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},mse),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Ore(this.apiClient,e)}:n={realtimeInput:kre(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function vse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function yse(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gR=10;function vR(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(eh(s)){a=!0;break}if(!a)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function eh(t){return"callTool"in t&&typeof t.callTool=="function"}function yR(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bse extends Ul{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,a,i,s,u;const c=await this.processParamsForMcpUsage(n);if(!ase(n)||vR(n.config))return await this.generateContentInternal(c);if(ise(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,h;const m=zr(this.apiClient,c.contents),y=(i=(a=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&i!==void 0?i:gR;let _=0;for(;_<y&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const S=f.candidates[0].content,A=[];for(const T of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(eh(T)){const O=await T.callTool(f.functionCalls);A.push(...O)}_++,h={role:"user",parts:A},c.contents=zr(this.apiClient,c.contents),c.contents.push(S),c.contents.push(h),yR(c.config)&&(m.push(S),m.push(h))}return yR(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{if(vR(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let i;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((a=c==null?void 0:c.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:s.push(c);let u;return i?u={generatedImages:s,positivePromptSafetyAttributes:i}:u={generatedImages:s},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Xp(Dl.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(a)}}async processParamsForMcpUsage(e){var n,r,a;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const s=await Promise.all(i.map(async c=>eh(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&qL(e.config.tools)){const c=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),UL(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,r,a;const i=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(eh(s)){const u=s,c=await u.tool();for(const f of(a=c.functionDeclarations)!==null&&a!==void 0?a:[]){if(!f.name)throw new Error("Function declaration name is required.");if(i.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);i.set(f.name,u)}}return i}async processAfcStream(e){var n,r,a;const i=(a=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:gR;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,h,m){var y,_;return el(this,arguments,function*(){for(var S,A,T,C;u<i;){s&&(u++,s=!1);const k=yield $t(f.processParamsForMcpUsage(m)),M=yield $t(f.generateContentStreamInternal(k)),P=[],I=[];try{for(var O=!0,E=(A=void 0,gc(M)),N;N=yield $t(E.next()),S=N.done,!S;O=!0){C=N.value,O=!1;const B=C;if(yield yield $t(B),B.candidates&&(!((y=B.candidates[0])===null||y===void 0)&&y.content)){I.push(B.candidates[0].content);for(const V of(_=B.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(u<i&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(V.functionCall.name)){const L=yield $t(h.get(V.functionCall.name).callTool([V.functionCall]));P.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(B){A={error:B}}finally{try{!O&&!S&&(T=E.return)&&(yield $t(T.call(E)))}finally{if(A)throw A.error}}if(P.length>0){s=!0;const B=new ec;B.candidates=[{content:{role:"user",parts:P}}],yield yield $t(B);const V=[];V.push(...I),V.push({role:"user",parts:P});const L=zr(f.apiClient,m.contents).concat(V);m.contents=L}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=fR(this.apiClient,e);return u=Fe("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=hR(this.apiClient,h),y=new ec;return Object.assign(y,m),y})}else{const f=cR(this.apiClient,e);return u=Fe("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=dR(this.apiClient,h),y=new ec;return Object.assign(y,m),y})}}async generateContentStreamInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=fR(this.apiClient,e);u=Fe("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const h=this.apiClient;return s=h.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return el(this,arguments,function*(){var y,_,S,A;try{for(var T=!0,C=gc(m),O;O=yield $t(C.next()),y=O.done,!y;T=!0){A=O.value,T=!1;const N=hR(h,yield $t(A.json())),k=new ec;Object.assign(k,N),yield yield $t(k)}}catch(E){_={error:E}}finally{try{!T&&!y&&(S=C.return)&&(yield $t(S.call(C)))}finally{if(_)throw _.error}}})})}else{const f=cR(this.apiClient,e);u=Fe("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const h=this.apiClient;return s=h.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(m){return el(this,arguments,function*(){var y,_,S,A;try{for(var T=!0,C=gc(m),O;O=yield $t(C.next()),y=O.done,!y;T=!0){A=O.value,T=!1;const N=dR(h,yield $t(A.json())),k=new ec;Object.assign(k,N),yield yield $t(k)}}catch(E){_={error:E}}finally{try{!T&&!y&&(S=C.return)&&(yield $t(S.call(C)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=kie(this.apiClient,e);return u=Fe("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Poe(this.apiClient,h),y=new zP;return Object.assign(y,m),y})}else{const f=Uae(this.apiClient,e);return u=Fe("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=uoe(this.apiClient,h),y=new zP;return Object.assign(y,m),y})}}async generateImagesInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Mie(this.apiClient,e);return u=Fe("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Ioe(this.apiClient,h),y=new GP;return Object.assign(y,m),y})}else{const f=Vae(this.apiClient,e);return u=Fe("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=doe(this.apiClient,h),y=new GP;return Object.assign(y,m),y})}}async editImageInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Lie(this.apiClient,e);return i=Fe("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const f=joe(this.apiClient,c),h=new Uee;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Bie(this.apiClient,e);return i=Fe("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const f=Loe(this.apiClient,c),h=new Fee;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=qie(this.apiClient,e);return u=Fe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>gw(this.apiClient,h))}else{const f=zae(this.apiClient,e);return u=Fe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>mw(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Fie(this.apiClient,e);return u=Fe("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Uoe(this.apiClient,h),y=new HP;return Object.assign(y,m),y})}else{const f=Hae(this.apiClient,e);return u=Fe("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=poe(this.apiClient,h),y=new HP;return Object.assign(y,m),y})}}async update(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=zie(this.apiClient,e);return u=Fe("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>gw(this.apiClient,h))}else{const f=Yae(this.apiClient,e);return u=Fe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>mw(this.apiClient,h))}}async delete(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Gie(this.apiClient,e);return u=Fe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(()=>{const h=Foe(),m=new KP;return Object.assign(m,h),m})}else{const f=Wae(this.apiClient,e);return u=Fe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=moe(),m=new KP;return Object.assign(m,h),m})}}async countTokens(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Kie(this.apiClient,e);return u=Fe("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Voe(this.apiClient,h),y=new YP;return Object.assign(y,m),y})}else{const f=Zae(this.apiClient,e);return u=Fe("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=goe(this.apiClient,h),y=new YP;return Object.assign(y,m),y})}}async computeTokens(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Yie(this.apiClient,e);return i=Fe("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const f=zoe(this.apiClient,c),h=new Vee;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Zie(this.apiClient,e);return u=Fe("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Yoe(this.apiClient,h))}else{const f=eie(this.apiClient,e);return u=Fe("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>xoe(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xse(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function _se(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function wse(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["operationName"],r);const a=g(e,["resourceName"]);a!=null&&v(n,["_url","resourceName"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],i),n}function Sse(t,e){const n={},r=g(e,["video","uri"]);r!=null&&v(n,["uri"],r);const a=g(e,["video","encodedVideo"]);a!=null&&v(n,["videoBytes"],Qa(t,a));const i=g(e,["encoding"]);return i!=null&&v(n,["mimeType"],i),n}function Tse(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Sse(t,r)),n}function Ase(t,e){const n={},r=g(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Tse(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function Ese(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response","generateVideoResponse"]);return u!=null&&v(n,["response"],Ase(t,u)),n}function Cse(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["uri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["videoBytes"],Qa(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function kse(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Cse(t,r)),n}function Ose(t,e){const n={},r=g(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>kse(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function bR(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],Ose(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mse extends Ul{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let i;return r&&"httpOptions"in r&&(i=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:i}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=_se(this.apiClient,e);return u=Fe("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>bR(this.apiClient,h))}else{const f=xse(this.apiClient,e);return u=Fe("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Ese(this.apiClient,h))}}async fetchPredictVideosOperationInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=wse(this.apiClient,e);return i=Fe("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>bR(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dse(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function FL(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Dse(t,r)),n}function Nse(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],FL(t,a)),n}function Pse(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Nse(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function Rse(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],FL(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],Pse(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function Ise(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function jse(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Lse(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function $se(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Ise(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],jse(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Lse(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const c=g(e,["codeExecutionResult"]);c!=null&&v(n,["codeExecutionResult"],c);const f=g(e,["executableCode"]);f!=null&&v(n,["executableCode"],f);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const m=g(e,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Bse(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>$se(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function qse(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function Use(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Fse(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Use(t,r)),n}function Vse(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function zse(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Vse(t,r)),n}function Gse(){return{}}function Hse(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>qse(t,f))),v(n,["functionDeclarations"],c)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],Fse(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],zse(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],Gse());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function Kse(t,e){const n={},r=g(e,["handle"]);if(r!=null&&v(n,["handle"],r),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function xR(){return{}}function Yse(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function Wse(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],Yse(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function Xse(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function Zse(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],Xse(t,a)),n}function Jse(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function Qse(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const c=g(e,["topK"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","topK"],c);const f=g(e,["maxOutputTokens"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","maxOutputTokens"],f);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const m=g(e,["seed"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","seed"],m);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],Rse(t,RS(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],Bse(t,Bn(t,S)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let M=hf(t,A);Array.isArray(M)&&(M=M.map(P=>Hse(t,df(t,P)))),v(n,["setup","tools"],M)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],Kse(t,T));const C=g(e,["inputAudioTranscription"]);n!==void 0&&C!=null&&v(n,["setup","inputAudioTranscription"],xR());const O=g(e,["outputAudioTranscription"]);n!==void 0&&O!=null&&v(n,["setup","outputAudioTranscription"],xR());const E=g(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&v(n,["setup","realtimeInputConfig"],Wse(t,E));const N=g(e,["contextWindowCompression"]);n!==void 0&&N!=null&&v(n,["setup","contextWindowCompression"],Zse(t,N));const k=g(e,["proactivity"]);return n!==void 0&&k!=null&&v(n,["setup","proactivity"],Jse(t,k)),r}function ele(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],Lt(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Qse(t,a,n)),n}function tle(t,e,n){const r={},a=g(e,["expireTime"]);n!==void 0&&a!=null&&v(n,["expireTime"],a);const i=g(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&v(n,["newSessionExpireTime"],i);const s=g(e,["uses"]);n!==void 0&&s!=null&&v(n,["uses"],s);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],ele(t,u));const c=g(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&v(n,["fieldMask"],c),r}function nle(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],tle(t,r,n)),n}function rle(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["name"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ale(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(i=>`${n}.${i}`);e.push(...a)}else e.push(n)}return e.join(",")}function ile(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(n){const i=ale(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];a.length>0&&(u=a.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class ole extends Ul{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=nle(this.apiClient,e);i=Fe("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=ile(u,e.config);return a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>rle(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sle(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function lle(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);return n!==void 0&&s!=null&&v(n,["_query","filter"],s),r}function ule(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],lle(t,r,n)),n}function cle(t,e){const n={},r=g(e,["textInput"]);r!=null&&v(n,["textInput"],r);const a=g(e,["output"]);return a!=null&&v(n,["output"],a),n}function fle(t,e){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>cle(t,i))),v(n,["examples","examples"],a)}return n}function dle(t,e,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=g(e,["tunedModelDisplayName"]);if(n!==void 0&&a!=null&&v(n,["displayName"],a),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=g(e,["epochCount"]);n!==void 0&&i!=null&&v(n,["tuningTask","hyperparameters","epochCount"],i);const s=g(e,["learningRateMultiplier"]);if(s!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);n!==void 0&&u!=null&&v(n,["tuningTask","hyperparameters","batchSize"],u);const c=g(e,["learningRate"]);return n!==void 0&&c!=null&&v(n,["tuningTask","hyperparameters","learningRate"],c),r}function hle(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["trainingDataset"]);a!=null&&v(n,["tuningTask","trainingData"],fle(t,a));const i=g(e,["config"]);return i!=null&&v(n,["config"],dle(t,i,n)),n}function ple(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function mle(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);return n!==void 0&&s!=null&&v(n,["_query","filter"],s),r}function gle(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],mle(t,r,n)),n}function vle(t,e,n){const r={},a=g(e,["gcsUri"]);if(n!==void 0&&a!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],a),g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function yle(t,e){const n={},r=g(e,["gcsUri"]);return r!=null&&v(n,["validationDatasetUri"],r),n}function ble(t,e,n){const r={},a=g(e,["validationDataset"]);n!==void 0&&a!=null&&v(n,["supervisedTuningSpec"],yle(t,a));const i=g(e,["tunedModelDisplayName"]);n!==void 0&&i!=null&&v(n,["tunedModelDisplayName"],i);const s=g(e,["description"]);n!==void 0&&s!=null&&v(n,["description"],s);const u=g(e,["epochCount"]);n!==void 0&&u!=null&&v(n,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=g(e,["learningRateMultiplier"]);n!==void 0&&c!=null&&v(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const f=g(e,["exportLastCheckpointOnly"]);n!==void 0&&f!=null&&v(n,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const h=g(e,["adapterSize"]);if(n!==void 0&&h!=null&&v(n,["supervisedTuningSpec","hyperParameters","adapterSize"],h),g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function xle(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["trainingDataset"]);a!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],vle(t,a,n));const i=g(e,["config"]);return i!=null&&v(n,["config"],ble(t,i,n)),n}function _le(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["model"],r);const a=g(e,["name"]);return a!=null&&v(n,["endpoint"],a),n}function VL(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["state"]);a!=null&&v(n,["state"],AL(t,a));const i=g(e,["createTime"]);i!=null&&v(n,["createTime"],i);const s=g(e,["tuningTask","startTime"]);s!=null&&v(n,["startTime"],s);const u=g(e,["tuningTask","completeTime"]);u!=null&&v(n,["endTime"],u);const c=g(e,["updateTime"]);c!=null&&v(n,["updateTime"],c);const f=g(e,["description"]);f!=null&&v(n,["description"],f);const h=g(e,["baseModel"]);h!=null&&v(n,["baseModel"],h);const m=g(e,["_self"]);m!=null&&v(n,["tunedModel"],_le(t,m));const y=g(e,["distillationSpec"]);y!=null&&v(n,["distillationSpec"],y);const _=g(e,["experiment"]);_!=null&&v(n,["experiment"],_);const S=g(e,["labels"]);S!=null&&v(n,["labels"],S);const A=g(e,["pipelineJob"]);A!=null&&v(n,["pipelineJob"],A);const T=g(e,["serviceAccount"]);T!=null&&v(n,["serviceAccount"],T);const C=g(e,["tunedModelDisplayName"]);return C!=null&&v(n,["tunedModelDisplayName"],C),n}function wle(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["tunedModels"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>VL(t,s))),v(n,["tuningJobs"],i)}return n}function Sle(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);return s!=null&&v(n,["error"],s),n}function Tle(t,e){const n={},r=g(e,["checkpointId"]);r!=null&&v(n,["checkpointId"],r);const a=g(e,["epoch"]);a!=null&&v(n,["epoch"],a);const i=g(e,["step"]);i!=null&&v(n,["step"],i);const s=g(e,["endpoint"]);return s!=null&&v(n,["endpoint"],s),n}function Ale(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],r);const a=g(e,["endpoint"]);a!=null&&v(n,["endpoint"],a);const i=g(e,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Tle(t,u))),v(n,["checkpoints"],s)}return n}function bw(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["state"]);a!=null&&v(n,["state"],AL(t,a));const i=g(e,["createTime"]);i!=null&&v(n,["createTime"],i);const s=g(e,["startTime"]);s!=null&&v(n,["startTime"],s);const u=g(e,["endTime"]);u!=null&&v(n,["endTime"],u);const c=g(e,["updateTime"]);c!=null&&v(n,["updateTime"],c);const f=g(e,["error"]);f!=null&&v(n,["error"],f);const h=g(e,["description"]);h!=null&&v(n,["description"],h);const m=g(e,["baseModel"]);m!=null&&v(n,["baseModel"],m);const y=g(e,["tunedModel"]);y!=null&&v(n,["tunedModel"],Ale(t,y));const _=g(e,["supervisedTuningSpec"]);_!=null&&v(n,["supervisedTuningSpec"],_);const S=g(e,["tuningDataStats"]);S!=null&&v(n,["tuningDataStats"],S);const A=g(e,["encryptionSpec"]);A!=null&&v(n,["encryptionSpec"],A);const T=g(e,["partnerModelTuningSpec"]);T!=null&&v(n,["partnerModelTuningSpec"],T);const C=g(e,["distillationSpec"]);C!=null&&v(n,["distillationSpec"],C);const O=g(e,["experiment"]);O!=null&&v(n,["experiment"],O);const E=g(e,["labels"]);E!=null&&v(n,["labels"],E);const N=g(e,["pipelineJob"]);N!=null&&v(n,["pipelineJob"],N);const k=g(e,["serviceAccount"]);k!=null&&v(n,["serviceAccount"],k);const M=g(e,["tunedModelDisplayName"]);return M!=null&&v(n,["tunedModelDisplayName"],M),n}function Ele(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["tuningJobs"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>bw(t,s))),v(n,["tuningJobs"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cle extends Ul{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Xp(Dl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let a="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?a=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(a=r.name.split("/operations/")[0]),{name:a,state:cw.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=ple(this.apiClient,e);return u=Fe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>bw(this.apiClient,h))}else{const f=sle(this.apiClient,e);return u=Fe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>VL(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=gle(this.apiClient,e);return u=Fe("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=Ele(this.apiClient,h),y=new WP;return Object.assign(y,m),y})}else{const f=ule(this.apiClient,e);return u=Fe("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const m=wle(this.apiClient,h),y=new WP;return Object.assign(y,m),y})}}async tuneInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=xle(this.apiClient,e);return i=Fe("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>bw(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hle(this.apiClient,e);return i=Fe("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Sle(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kle{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ole=1024*1024*8,Mle=3,Dle=1e3,Nle=2,Tx="x-goog-upload-status";async function Ple(t,e,n){var r,a,i;let s=0,u=0,c=new fw(new Response),f="upload";for(s=t.size;u<s;){const m=Math.min(Ole,s-u),y=t.slice(u,u+m);u+m>=s&&(f+=", finalize");let _=0,S=Dle;for(;_<Mle&&(c=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[Tx]));)_++,await Ile(S),S=S*Nle;if(u+=m,((a=c==null?void 0:c.headers)===null||a===void 0?void 0:a[Tx])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(c==null?void 0:c.json());if(((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[Tx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function Rle(t){return{size:t.size,type:t.type}}function Ile(t){return new Promise(e=>setTimeout(e,t))}class jle{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ple(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Rle(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lle{create(e,n,r){return new $le(e,n,r)}}class $le{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _R="x-goog-api-key";class Ble{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(_R)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(_R,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qle="gl-node/";class Ule{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=qee(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new Ble(this.apiKey);this.apiClient=new nse({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:qle+"web",uploader:new jle,downloader:new kle}),this.models=new bse(this.apiClient),this.live=new pse(this.apiClient,a,new Lle),this.chats=new hne(this.models,this.apiClient),this.caches=new cne(this.apiClient),this.files=new Ene(this.apiClient),this.operations=new Mse(this.apiClient),this.authTokens=new ole(this.apiClient),this.tunings=new Cle(this.apiClient)}}const Fle="AIzaSyCfl6CKDNyhWMrsIl15kp_IVT2rr_38B1E";let cr=null;try{cr=new Ule({apiKey:Fle})}catch(t){console.error("Failed to initialize GoogleGenAI:",t),cr=null}const Bo=()=>!!cr,Vle=t=>`Você é um assistente financeiro amigável e prestativo para um aplicativo de finanças pessoais.
Data Atual: ${t.currentDate}.
Renda Mensal Informada: ${t.monthlyIncome?`${Ae(t.monthlyIncome)} BRL`:"Não informada"}.

Resumo Financeiro do Usuário:
Contas:
${t.accounts.map(n=>{const r=t.accountBalances.find(a=>a.accountId===n.id);return`- ${n.name}: Saldo ${r?Ae(r.balance):"N/A"}`}).join(`
`)}

Caixinhas de Dinheiro (Metas):
${t.moneyBoxes&&t.moneyBoxes.length>0?t.moneyBoxes.map(n=>{var a;const r=(a=t.moneyBoxBalances)==null?void 0:a.find(i=>i.moneyBoxId===n.id);return`- ${n.name}: ${Ae(r?r.balance:0)} ${n.goal_amount?`(Meta: ${Ae(n.goal_amount)})`:""}`}).join(`
`):"Nenhuma caixinha configurada."}

Orçamentos (Despesas):
${t.categories.filter(n=>n.type==="EXPENSE"&&n.monthly_budget).map(n=>`- ${n.name}: Orçamento ${Ae(n.monthly_budget||0)}`).join(`
`)||"Nenhum orçamento de despesa configurado."}

Compras Futuras Planejadas:
${t.futurePurchases&&t.futurePurchases.length>0?t.futurePurchases.map(n=>`- ${n.name} (Custo: ${Ae(n.estimated_cost)}, Prioridade: ${n.priority}, Status: ${n.status})`).join(`
`):"Nenhuma compra futura planejada."}


Com base neste resumo, forneça uma dica financeira principal, observação ou sugestão para o usuário hoje.
Seja conciso (1-2 frases), prático e encorajador. Não faça perguntas. Não use markdown.
Exemplos de tom: "Lembre-se de verificar seus gastos com Lazer este mês!" ou "Você está indo bem em sua meta de Viagem!".
Dica:`,zle=(t,e,n,r)=>{var c;const a=e.accountBalances.find(f=>f.accountId===t.account_id),i=a?Ae(a.balance):"N/A";let s=`Você é um assistente financeiro. O usuário acabou de registrar uma ${t.type==="INCOME"?"receita":t.type==="EXPENSE"?"despesa":"transferência"}.
Detalhes: Valor ${Ae(t.amount)} ${t.description?`descrita como "${t.description}"`:""} na conta "${r||"N/A"}".
${n?`Categoria: "${n}".`:""}
Saldo atual da conta "${r||"N/A"}": ${i}.
`;if(t.type==="EXPENSE"&&n){const f=e.categories.find(h=>h.name===n&&h.type==="EXPENSE");f!=null&&f.monthly_budget&&(s+=`Orçamento para "${n}": ${Ae(f.monthly_budget)}. `)}const u=e.moneyBoxes&&e.moneyBoxes.find(f=>t.description&&f.name.toLowerCase().includes(t.description.toLowerCase().substring(0,5))||n&&f.name.toLowerCase().includes(n.toLowerCase().substring(0,5)));if(u){const f=(c=e.moneyBoxBalances)==null?void 0:c.find(h=>h.moneyBoxId===u.id);s+=`Lembre-se da sua caixinha "${u.name}" (Saldo: ${Ae(f?f.balance:0)}${u.goal_amount?`, Meta: ${Ae(u.goal_amount)}`:""}). `}return s+=`Forneça um breve comentário ou sugestão (máx 1 frase). Não use markdown. Não faça perguntas.
Exemplo: "Ótimo! Continue assim." ou "Fique de olho nos gastos com Comida." ou "Considere guardar uma parte na sua caixinha Viagem."
Comentário:`,s},Gle=(t,e,n,r)=>{var i;return`Você é um assistente financeiro. O usuário tem uma renda mensal de ${Ae(e)}.
Ele está pedindo uma sugestão de orçamento para a categoria de despesa: "${t}".

Orçamentos de despesa já definidos pelo usuário:
${n.length>0?n.map(s=>`- ${s.name}: ${Ae(s.budget||0)}`).join(`
`):"Nenhum outro orçamento definido."}

Contexto financeiro adicional:
Saldo total em contas: ${Ae(r.accountBalances.reduce((s,u)=>s+u.balance,0))}
Total em caixinhas (metas): ${Ae(((i=r.moneyBoxBalances)==null?void 0:i.reduce((s,u)=>s+u.balance,0))||0)}

Baseado na renda mensal, nos orçamentos existentes e nos princípios de finanças pessoais (como a regra 50/30/20, mas de forma flexível e adaptada à realidade brasileira), sugira um valor de orçamento mensal para a categoria "${t}".
Responda APENAS com um objeto JSON contendo a chave "suggestedBudget" e o valor numérico sugerido. Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"suggestedBudget": 350}
Sugestão:`},Hle=(t,e)=>{var i,s;const n=e.accountBalances.reduce((u,c)=>u+c.balance,0),r=((i=e.moneyBoxBalances)==null?void 0:i.reduce((u,c)=>u+c.balance,0))||0;return`Você é um assistente financeiro. O usuário deseja comprar "${t.name}", que custa aproximadamente ${Ae(t.estimated_cost)}. A prioridade é ${t.priority}.
Data Atual: ${e.currentDate}.
Renda Mensal: ${e.monthlyIncome?Ae(e.monthlyIncome):"Não informada"}.
Saldo Total em Contas: ${Ae(n)}.
Total Guardado em Caixinhas/Metas: ${Ae(r)}.

Orçamentos de Despesa Mensais:
${e.categories.filter(u=>u.type===ye.EXPENSE&&u.monthly_budget).map(u=>`- ${u.name}: ${Ae(u.monthly_budget||0)}`).join(`
`)||"Nenhum."}

Outras Compras Futuras Planejadas:
${((s=e.futurePurchases)==null?void 0:s.filter(u=>u.id!==t.id).map(u=>`- ${u.name} (Custo: ${Ae(u.estimated_cost)}, Prioridade: ${u.priority})`).join(`
`))||"Nenhuma outra."}

Analise a viabilidade desta compra ("${t.name}").
Considere se o usuário tem fundos suficientes, se a compra impactaria significativamente seus orçamentos ou outras metas.
Se a renda não for informada, baseie-se nos saldos e economias.
Forneça uma análise concisa (2-3 frases) e sugira um status. Status possíveis: ACHIEVABLE_SOON (se viável em breve ou agora), NOT_RECOMMENDED_NOW (se deve adiar), PLANNED (manter como planejado se a análise não for conclusiva ou se depender de mais economia).

Responda APENAS com um objeto JSON contendo as chaves "analysisText" (string com sua análise) e "recommendedStatus" (string com um dos status: 'ACHIEVABLE_SOON', 'NOT_RECOMMENDED_NOW', 'PLANNED').
Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"analysisText": "Comprar ${t.name} parece razoável agora, considerando seus saldos. Lembre-se de ajustar seu orçamento de Lazer.", "recommendedStatus": "ACHIEVABLE_SOON"}
Análise:`},Kle=(t,e)=>`Você é um especialista em finanças e cartões de crédito.
O usuário quer saber o melhor dia para fazer uma compra com o cartão de crédito para maximizar o período sem juros e ter o maior prazo para pagar.

Dados do Cartão de Crédito:
- Dia de Fechamento da Fatura: ${t.closing_day} (Ex: 20, significa dia 20 de cada mês)
- Dia de Vencimento da Fatura: ${t.due_day} (Ex: 05, significa dia 05 de cada mês, geralmente no mês seguinte ao fechamento)

Data Atual: ${e} (Formato: YYYY-MM-DD)

Instruções:
1.  Identifique o próximo ciclo de fatura. O melhor dia para comprar é geralmente o dia imediatamente após o fechamento da fatura atual (se a data atual for ANTES ou NO DIA do fechamento do mês corrente) ou o dia após o fechamento da fatura do próximo mês (se a data atual for APÓS o fechamento do mês corrente).
2.  Determine a data exata (DD de MMMM de YYYY) para este "melhor dia para comprar".
3.  Determine a data exata (DD de MMMM de YYYY) em que o pagamento da fatura (contendo essa compra) seria devido.
4.  Forneça uma explicação clara e concisa (1-2 frases) do porquê esta data é vantajosa, mencionando o prazo estendido.

Responda APENAS com um objeto JSON com as seguintes chaves:
- "bestPurchaseDay": "string" (Data formatada como "DD de MMMM de YYYY", ex: "21 de Julho de 2024")
- "paymentDueDate": "string" (Data formatada como "DD de MMMM de YYYY", ex: "05 de Setembro de 2024")
- "explanation": "string" (Explicação concisa)
- "error": "string" (Opcional: preencha apenas se não puder calcular ou se os dados forem inválidos/inconsistentes)

Exemplo de Cálculo (Data Atual: 2024-07-18, Fechamento: dia 20, Vencimento: dia 05):
- A fatura atual fecha em 20 de Julho de 2024.
- O melhor dia para comprar é 21 de Julho de 2024.
- Essa compra entraria na fatura que fecha em 20 de Agosto de 2024.
- O pagamento dessa fatura seria em 05 de Setembro de 2024.

Exemplo de Cálculo (Data Atual: 2024-07-25, Fechamento: dia 20, Vencimento: dia 05):
- A fatura de Julho já fechou (em 20 de Julho).
- O próximo fechamento é 20 de Agosto.
- O melhor dia para comprar é 21 de Agosto de 2024.
- Essa compra entraria na fatura que fecha em 20 de Setembro de 2024.
- O pagamento dessa fatura seria em 05 de Outubro de 2024.`,Yle=async t=>{var n;if(!cr||!Bo())return console.warn("Gemini API not available for fetchGeneralAdvice."),{id:It(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada.",is_read:!1};const e=Vle(t);try{const a=(n=(await cr.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:e})).text)==null?void 0:n.trim();return a?{id:It(),timestamp:new Date().toISOString(),type:"general_advice",content:a,is_read:!1}:{id:It(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter um conselho geral no momento (resposta vazia).",is_read:!1}}catch(r){console.error("Error fetching general advice from Gemini:",r);let a="Desculpe, não consegui buscar um conselho geral no momento.";return r instanceof Error&&(a+=` Detalhe: ${r.message}`),{id:It(),timestamp:new Date().toISOString(),type:"error_message",content:a,is_read:!1}}},Wle=async(t,e,n,r)=>{var i;if(!cr||!Bo())return console.warn("Gemini API not available for fetchCommentForTransaction."),{id:It(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para comentar transação.",related_transaction_id:t.id,is_read:!1};const a=zle(t,e,n,r);try{const u=(i=(await cr.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:a})).text)==null?void 0:i.trim();return u?{id:It(),timestamp:new Date().toISOString(),type:"transaction_comment",content:u,related_transaction_id:t.id,is_read:!1}:{id:It(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível gerar um comentário para esta transação (resposta vazia).",related_transaction_id:t.id,is_read:!1}}catch(s){console.error("Error fetching transaction comment from Gemini:",s);let u="Desculpe, não consegui gerar um comentário para esta transação.";return s instanceof Error&&(u+=` Detalhe: ${s.message}`),{id:It(),timestamp:new Date().toISOString(),type:"error_message",content:u,related_transaction_id:t.id,is_read:!1}}},Xle=async(t,e,n,r)=>{var i;if(!cr||!Bo())return console.warn("Gemini API not available for fetchBudgetSuggestion."),{id:It(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para sugerir orçamentos.",is_read:!1};if(!e||e<=0)return{id:It(),timestamp:new Date().toISOString(),type:"error_message",content:"Por favor, informe sua renda mensal na tela do AI Coach para receber sugestões de orçamento.",is_read:!1};const a=Gle(t,e,n,r);try{let u=((i=(await cr.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:a,config:{responseMimeType:"application/json"}})).text)==null?void 0:i.trim())||"";const c=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,f=u.match(c);f&&f[2]&&(u=f[2].trim());const h=JSON.parse(u);return h&&typeof h.suggestedBudget=="number"&&h.suggestedBudget>=0?{suggestedBudget:h.suggestedBudget}:{id:It(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma sugestão de orçamento válida no momento (resposta inválida da IA).",is_read:!1}}catch(s){console.error("Error fetching budget suggestion from Gemini:",s);let u="Desculpe, não consegui buscar uma sugestão de orçamento.";return s instanceof Error&&(u+=` Detalhe: ${s.message}`),{id:It(),timestamp:new Date().toISOString(),type:"error_message",content:u,is_read:!1}}},Zle=async(t,e)=>{var r;if(!cr||!Bo())return{id:It(),timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para analisar compra futura.",related_future_purchase_id:t.id,is_read:!1};const n=Hle(t,e);try{let i=((r=(await cr.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const s=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,u=i.match(s);u&&u[2]&&(i=u[2].trim());const c=JSON.parse(i);return c&&typeof c.analysisText=="string"&&typeof c.recommendedStatus=="string"&&["ACHIEVABLE_SOON","NOT_RECOMMENDED_NOW","PLANNED"].includes(c.recommendedStatus)?{analysisText:c.analysisText,recommendedStatus:c.recommendedStatus}:{id:It(),timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma análise válida da IA para esta compra (resposta inválida).",related_future_purchase_id:t.id,is_read:!1}}catch(a){console.error("Error fetching future purchase analysis from Gemini:",a);let i="Desculpe, não consegui analisar esta compra futura no momento.";return a instanceof Error&&(i+=` Detalhe: ${a.message}`),{id:It(),timestamp:new Date().toISOString(),type:"error_message",content:i,related_future_purchase_id:t.id,is_read:!1}}},Jle=async(t,e)=>{var r;if(!cr||!Bo())return console.warn("Gemini API not available for fetchBestPurchaseDayAdvice."),{bestPurchaseDay:"",paymentDueDate:"",explanation:"AI Coach desativado ou API Key não configurada.",error:"AI Coach desativado ou API Key não configurada."};const n=Kle(t,e);try{let i=((r=(await cr.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const s=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,u=i.match(s);u&&u[2]&&(i=u[2].trim());const c=JSON.parse(i);return c.error?(console.warn("Gemini returned an error for best purchase day:",c.error),{...c,explanation:c.error}):c.bestPurchaseDay&&c.paymentDueDate&&c.explanation?c:{bestPurchaseDay:"",paymentDueDate:"",explanation:"Não foi possível determinar o melhor dia para compra (resposta inválida da IA).",error:"Resposta inválida da IA."}}catch(a){console.error("Error fetching best purchase day advice from Gemini:",a);let i="Desculpe, não consegui determinar o melhor dia para compra no momento.";return a instanceof Error&&(i+=` Detalhe: ${a.message}`),{bestPurchaseDay:"",paymentDueDate:"",explanation:i,error:i}}},Qle=(t,e,n)=>{const r=new Date(t+"T00:00:00");switch(e){case"daily":r.setDate(r.getDate()+1);break;case"weekly":r.setDate(r.getDate()+7);break;case"monthly":r.setMonth(r.getMonth()+1);break;case"yearly":r.setFullYear(r.getFullYear()+1);break;case"custom_days":r.setDate(r.getDate()+(n||1));break}return Ut(r)},eue=({creditCards:t,installmentPurchases:e,aiConfig:n,onAddCreditCard:r,onUpdateCreditCard:a,onDeleteCreditCard:i,onAddInstallmentPurchase:s,onUpdateInstallmentPurchase:u,onDeleteInstallmentPurchase:c,onMarkInstallmentPaid:f,onPayMonthlyInstallments:h,isPrivacyModeEnabled:m})=>{const{addToast:y}=HR(),[_,S]=q.useState(!1),[A,T]=q.useState(null),[C,O]=q.useState(!1),[E,N]=q.useState(null),[k,M]=q.useState(null),[P,I]=q.useState(!1),[B,V]=q.useState(null),[L,W]=q.useState(!1),[Q,Y]=q.useState(null),H=()=>{T(null),S(!0)},j=ne=>{T(ne),S(!0)},F=ne=>{A?a({...ne,user_id:A.user_id,created_at:A.created_at,updated_at:new Date().toISOString()}):r(ne)},Z=ne=>{M(ne),N(null),O(!0)},ae=(ne,ce)=>{M(ce),N(ne),O(!0)},$=ne=>{E?u({...ne,user_id:E.user_id,created_at:E.created_at,updated_at:new Date().toISOString()}):s(ne)},G=q.useCallback(async ne=>{if(!n.isEnabled||n.apiKeyStatus!=="available"){y("AI Coach desativado ou API Key indisponível.","warning");return}const ce=t.find(De=>De.id===ne);if(!ce)return;Y(ce),W(!0),I(!0),V(null);const ge=await Jle({name:ce.name,closing_day:ce.closing_day,due_day:ce.due_day},Ut());V(ge),W(!1),ge!=null&&ge.error&&y(ge.explanation||"Erro ao buscar sugestão da IA.","error")},[n,t,y]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Cartões de Crédito"}),x.jsxs(_e,{onClick:H,variant:"primary",children:[x.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Novo Cartão"]})]}),t.length>0?x.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(ne=>x.jsx(tee,{card:ne,installmentPurchases:e.filter(ce=>ce.credit_card_id===ne.id),onEditCard:j,onDeleteCard:i,onAddInstallmentPurchase:Z,onEditInstallmentPurchase:ae,onDeleteInstallmentPurchase:c,onMarkInstallmentPaid:f,onGetBestPurchaseDay:G,onPayMonthlyInstallments:h,isAIFeatureEnabled:n.isEnabled&&n.apiKeyStatus==="available",isPrivacyModeEnabled:m},ne.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhum cartão de crédito cadastrado."}),x.jsx(nee,{isOpen:_,onClose:()=>S(!1),onSave:F,existingCard:A}),k&&x.jsx(ree,{isOpen:C,onClose:()=>O(!1),onSave:$,creditCard:k,existingPurchase:E}),x.jsx(aee,{isOpen:P,onClose:()=>I(!1),advice:B,isLoading:L,cardName:Q==null?void 0:Q.name})]})},zL=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h13.5m-13.5 4.5h13.5m-13.5 4.5h13.5m3-13.5V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v3.75m13.5 0v3.75m-13.5-3.75v3.75m1.5-9V3.75c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125V5.25m-3 0h3m6 0v2.25m0 0v1.5m0 0v1.5m0 0V15m0 0v-1.5m0 0V9.75M7.5 5.25h9M7.5 12h9m-9 4.5h9M5.25 19.5h13.5a2.25 2.25 0 0 0 2.25-2.25V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v12a2.25 2.25 0 0 0 2.25 2.25Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h-3m3 0V12m0 0v-2.25"})]}),tue=({moneyBox:t,balance:e,onEdit:n,onDelete:r,onOpenTransactionModal:a,onOpenHistoryModal:i,isPrivacyModeEnabled:s,hasTransactions:u})=>{const c=t.goal_amount&&t.goal_amount>0?Math.min(e/t.goal_amount*100,100):0,f=t.color?{borderLeftColor:t.color,borderLeftWidth:"4px"}:{},h=t.color?{backgroundColor:t.color}:{backgroundColor:"var(--color-primary)"};return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",style:f,children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx(zL,{className:"w-6 h-6",style:{color:t.color||"currentColor"}}),x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),x.jsx("p",{className:"text-2xl font-bold",style:{color:t.color||"var(--color-primary)"},children:Ae(e,"BRL","pt-BR",s)}),t.goal_amount&&t.goal_amount>0&&x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Meta: ",Ae(t.goal_amount,"BRL","pt-BR",s)]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[x.jsxs("div",{className:"flex space-x-1",children:[x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Caixinha",className:"!p-1.5",children:x.jsx(ca,{className:"w-4 h-4"})}),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Caixinha",className:"!p-1.5",disabled:u,title:u?"Não pode excluir caixinhas com transações":"Excluir caixinha",children:x.jsx(ua,{className:`w-4 h-4 ${u?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>i(t),"aria-label":"Ver Histórico",className:"text-xs !px-2 !py-1",children:"Histórico"})]})]}),t.goal_amount&&t.goal_amount>0&&x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:x.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${c}%`,...h}})}),x.jsxs("div",{className:"flex justify-start space-x-2 pt-1",children:[x.jsxs(_e,{size:"sm",variant:"secondary",onClick:()=>a(t,lr.DEPOSIT),className:"!bg-opacity-80 dark:!bg-opacity-80",style:t.color?{backgroundColor:t.color}:{},children:[x.jsx(Yn,{className:"w-4 h-4 mr-1"})," Depositar"]}),x.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>a(t,lr.WITHDRAWAL),className:"border border-borderBase dark:border-borderBaseDark",children:"Sacar"})]})]})},Xd=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],nue=({isOpen:t,onClose:e,onSave:n,existingMoneyBox:r})=>{const[a,i]=q.useState(""),[s,u]=q.useState(""),[c,f]=q.useState(Xd[0]),[h,m]=q.useState({});q.useEffect(()=>{var S;r?(i(r.name),u(((S=r.goal_amount)==null?void 0:S.toString())||""),f(r.color||Xd[0])):(i(""),u(""),f(Xd[0])),m({})},[r,t]);const y=()=>{const S={};return a.trim()||(S.name="Nome da caixinha é obrigatório."),s&&(isNaN(parseFloat(s))||parseFloat(s)<0)&&(S.goalAmount="Meta deve ser um número positivo ou vazio."),m(S),Object.keys(S).length===0},_=()=>{if(!y())return;const S={id:(r==null?void 0:r.id)||It(),name:a.trim(),goal_amount:s?parseFloat(s):void 0,icon:"piggy-bank",color:c};n(S),e()};return x.jsx(Xn,{isOpen:t,onClose:e,title:r?"Editar Caixinha":"Nova Caixinha",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Je,{label:"Nome da Caixinha",id:"moneyBoxName",value:a,onChange:S=>i(S.target.value),error:h.name,placeholder:"Ex: Reserva de Emergência, Viagem"}),x.jsx(Je,{label:"Meta de Valor (Opcional)",id:"moneyBoxGoal",type:"number",step:"0.01",value:s,onChange:S=>u(S.target.value),error:h.goalAmount,placeholder:"Ex: 1000.00"}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"moneyBoxColor",className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor de Destaque"}),x.jsx("div",{className:"flex space-x-2",children:Xd.map(S=>x.jsx("button",{type:"button",onClick:()=>f(S),className:`w-8 h-8 rounded-full border-2 ${c===S?"border-primary dark:border-primaryDark ring-2 ring-primary dark:ring-primaryDark ring-offset-2 dark:ring-offset-surfaceDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:S},"aria-label":`Selecionar cor ${S}`,"aria-pressed":c===S},S))})]}),h.form&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:h.form}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(_e,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(_e,{variant:"primary",onClick:_,children:"Salvar Caixinha"})]})]})})},rue=({isOpen:t,onClose:e,onSave:n,moneyBox:r,accounts:a,transactionType:i})=>{const[s,u]=q.useState(""),[c,f]=q.useState(Ut()),[h,m]=q.useState(""),[y,_]=q.useState(""),[S,A]=q.useState(!1),[T,C]=q.useState({});q.useEffect(()=>{t&&(u(""),f(Ut()),m(""),_(a.length>0?a[0].id:""),A(!1),C({}))},[t,a]);const O=()=>{const M={};return(!s||parseFloat(s)<=0)&&(M.amount="Valor deve ser positivo."),c||(M.date="Data é obrigatória."),S&&!y&&(M.linkedAccountId="Conta para vínculo é obrigatória."),C(M),Object.keys(M).length===0},E=()=>{if(!O())return;const M={money_box_id:r.id,type:i,amount:parseFloat(s),date:c,description:h.trim()||void 0};n(M,S,y),e()},N=i===lr.DEPOSIT?"Depositar na Caixinha":"Sacar da Caixinha",k=i===lr.DEPOSIT?"Registrar como despesa na conta:":"Registrar como receita na conta:";return x.jsx(Xn,{isOpen:t,onClose:e,title:`${N}: ${r.name}`,children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Je,{label:"Valor",id:"mbAmount",type:"number",step:"0.01",value:s,onChange:M=>u(M.target.value),error:T.amount,required:!0}),x.jsx(Je,{label:"Data",id:"mbDate",type:"date",value:c,onChange:M=>f(M.target.value),error:T.date,required:!0}),x.jsx(Je,{label:"Descrição (Opcional)",id:"mbDescription",type:"text",value:h,onChange:M=>m(M.target.value)}),a.length>0&&x.jsxs("div",{className:"pt-2",children:[x.jsxs("label",{className:"flex items-center space-x-2",children:[x.jsx("input",{type:"checkbox",checked:S,onChange:M=>A(M.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark"}),x.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:i===lr.DEPOSIT?"Vincular a uma despesa de conta?":"Vincular a uma receita em conta?"})]}),S&&x.jsx(qt,{containerClassName:"mt-2",label:k,id:"mbLinkedAccount",options:a.map(M=>({value:M.id,label:M.name})),value:y,onChange:M=>_(M.target.value),error:T.linkedAccountId,placeholder:"Selecione uma conta"})]}),T.form&&x.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:T.form}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(_e,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(_e,{type:"button",variant:"primary",onClick:E,children:i===lr.DEPOSIT?"Depositar":"Sacar"})]})]})})},aue=({isOpen:t,onClose:e,moneyBox:n,transactions:r,onDeleteTransaction:a,isPrivacyModeEnabled:i})=>{const s=r.filter(u=>u.money_box_id===n.id).sort((u,c)=>new Date(c.date).getTime()-new Date(u.date).getTime());return x.jsx(Xn,{isOpen:t,onClose:e,title:`Histórico: ${n.name}`,size:"lg",children:s.length===0?x.jsx("p",{className:"text-textMuted dark:text-textMutedDark text-center py-4",children:"Nenhuma transação nesta caixinha ainda."}):x.jsx("ul",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:s.map(u=>{const c=u.type===lr.DEPOSIT,f=c?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",h=c?"+":"-";return x.jsx("li",{className:"p-3 bg-surface/50 dark:bg-surfaceDark/50 rounded-md",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("p",{className:`font-semibold ${f}`,children:[h," ",Ae(u.amount,"BRL","pt-BR",i)]}),x.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:Cr(u.date)}),u.description&&x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark italic",children:u.description}),u.linked_transaction_id&&x.jsx("p",{className:"text-xs text-neutral dark:text-neutralDark",children:"(Vinculado a uma transação principal)"})]}),x.jsx("button",{onClick:()=>{window.confirm(`Excluir esta transação da caixinha? ${u.linked_transaction_id?"\\nA transação principal vinculada NÃO será excluída automaticamente por esta ação.":""}`)&&a(u.id,u.linked_transaction_id)},className:"text-xs text-destructive dark:text-destructiveDark hover:underline","aria-label":"Excluir transação da caixinha",title:"Excluir transação da caixinha",children:"Excluir"})]})},u.id)})})})},iue=({moneyBoxes:t,moneyBoxTransactions:e,accounts:n,onAddMoneyBox:r,onUpdateMoneyBox:a,onDeleteMoneyBox:i,onAddMoneyBoxTransaction:s,onDeleteMoneyBoxTransaction:u,calculateMoneyBoxBalance:c,isPrivacyModeEnabled:f})=>{const[h,m]=q.useState(!1),[y,_]=q.useState(null),[S,A]=q.useState(!1),[T,C]=q.useState(null),[O,E]=q.useState(lr.DEPOSIT),[N,k]=q.useState(!1),[M,P]=q.useState(null),I=()=>{_(null),m(!0)},B=Y=>{_(Y),m(!0)},V=(Y,H)=>{C(Y),E(H),A(!0)},L=Y=>{P(Y),k(!0)},W=Y=>{i(Y)},Q=q.useMemo(()=>t.reduce((Y,H)=>Y+c(H.id),0),[t,c]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Minhas Caixinhas"}),t.length>0&&x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total guardado: ",x.jsx("span",{className:"font-semibold text-secondary dark:text-secondaryDark",children:Ae(Q,"BRL","pt-BR",f)})]})]}),x.jsxs(_e,{onClick:I,variant:"primary",children:[x.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Caixinha"]})]}),t.length>0?x.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(Y=>x.jsx(tue,{moneyBox:Y,balance:c(Y.id),onEdit:B,onDelete:W,onOpenTransactionModal:V,onOpenHistoryModal:L,isPrivacyModeEnabled:f,hasTransactions:e.some(H=>H.money_box_id===Y.id)},Y.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma caixinha criada. Crie uma para começar a guardar dinheiro!"}),x.jsx(nue,{isOpen:h,onClose:()=>m(!1),onSave:y?a:r,existingMoneyBox:y}),T&&x.jsx(rue,{isOpen:S,onClose:()=>A(!1),onSave:s,moneyBox:T,accounts:n,transactionType:O}),M&&x.jsx(aue,{isOpen:N,onClose:()=>k(!1),moneyBox:M,transactions:e,onDeleteTransaction:u,isPrivacyModeEnabled:f})]})},$S=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})}),oue=t=>{switch(t){case"PLANNED":return{text:"Planejado",colorClasses:"bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300"};case"CONSIDERING":return{text:"Considerando",colorClasses:"bg-gray-100 text-gray-700 dark:bg-gray-700/30 dark:text-gray-300"};case"ACHIEVABLE_SOON":return{text:"Viável em Breve",colorClasses:"bg-green-100 text-green-700 dark:bg-green-700/30 dark:text-green-300"};case"NOT_RECOMMENDED_NOW":return{text:"Adiar Compra",colorClasses:"bg-red-100 text-red-700 dark:bg-red-700/30 dark:text-red-300"};case"AI_ANALYZING":return{text:"Analisando...",colorClasses:"bg-yellow-100 text-yellow-700 dark:bg-yellow-700/30 dark:text-yellow-300 animate-pulse"};default:return{text:"Desconhecido",colorClasses:"bg-gray-200 text-gray-800"}}},sue={low:"Baixa",medium:"Média",high:"Alta"},lue=({purchase:t,onEdit:e,onDelete:n,onAnalyze:r,isPrivacyModeEnabled:a})=>{const{name:i,estimated_cost:s,priority:u,notes:c,status:f,created_at:h,ai_analysis:m,ai_analyzed_at:y}=t,_=oue(f);return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx($S,{className:"w-5 h-5 text-primary dark:text-primaryDark flex-shrink-0"}),x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:i})]}),x.jsx("p",{className:"text-xl font-bold text-primary dark:text-primaryDark",children:Ae(s,"BRL","pt-BR",a)}),x.jsxs("div",{className:"flex items-center space-x-2 text-xs text-textMuted dark:text-textMutedDark mt-0.5",children:[x.jsxs("span",{children:["Prioridade: ",sue[u]]}),x.jsx("span",{children:"•"}),x.jsxs("span",{children:["Criado em: ",Cr(h)]})]})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[x.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${_.colorClasses}`,children:_.text}),x.jsxs("div",{className:"flex space-x-1 mt-1",children:[x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>e(t),"aria-label":"Editar Compra Futura",className:"!p-1.5",children:x.jsx(ca,{className:"w-4 h-4"})}),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>n(t.id),"aria-label":"Excluir Compra Futura",className:"!p-1.5",children:x.jsx(ua,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})]}),c&&x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark italic border-t border-borderBase/30 dark:border-borderBaseDark/30 pt-2 mt-2",children:["Notas: ",c]}),m&&x.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-3 rounded-md mt-2 border-l-4 border-primary dark:border-primaryDark",children:[x.jsxs("p",{className:"text-sm font-semibold text-primary dark:text-primaryDark mb-1",children:["Análise da IA (",y?Cr(y,"pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Recente","):"]}),x.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:m})]}),x.jsx("div",{className:"pt-2 border-t border-borderBase/30 dark:border-borderBaseDark/30 mt-auto",children:x.jsxs(_e,{variant:"secondary",size:"sm",onClick:()=>r(t.id),disabled:f==="AI_ANALYZING",className:"w-full sm:w-auto",children:[x.jsx(NS,{className:"w-4 h-4 mr-1.5"}),f==="AI_ANALYZING"?"Analisando...":"Analisar com IA"]})})]})},Qp=({label:t,id:e,error:n,className:r,containerClassName:a,...i})=>x.jsxs("div",{className:a,children:[t&&x.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),x.jsx("textarea",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...i}),n&&x.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),uue=[{value:"low",label:"Baixa"},{value:"medium",label:"Média"},{value:"high",label:"Alta"}],cue=({isOpen:t,onClose:e,onSave:n,existingPurchase:r})=>{const[a,i]=q.useState(""),[s,u]=q.useState(""),[c,f]=q.useState("medium"),[h,m]=q.useState(""),[y,_]=q.useState({});q.useEffect(()=>{t&&(r?(i(r.name),u(r.estimated_cost.toString()),f(r.priority),m(r.notes||"")):(i(""),u(""),f("medium"),m("")),_({}))},[r,t]);const S=()=>{const T={};a.trim()||(T.name="Nome do item é obrigatório.");const C=parseFloat(s);return(isNaN(C)||C<=0)&&(T.estimatedCost="Custo estimado deve ser um número positivo."),_(T),Object.keys(T).length===0},A=()=>{if(!S())return;const T={name:a.trim(),estimated_cost:parseFloat(s),priority:c,notes:h.trim()||void 0},C=r?{...T,id:r.id}:{...T,id:It()};n(C),e()};return x.jsx(Xn,{isOpen:t,onClose:e,title:r?"Editar Compra Futura":"Nova Compra Futura",size:"md",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Je,{label:"Nome do Item/Objetivo",id:"fpName",value:a,onChange:T=>i(T.target.value),error:y.name,placeholder:"Ex: Novo Celular, Viagem para a Praia",required:!0}),x.jsx(Je,{label:"Custo Estimado (R$)",id:"fpEstimatedCost",type:"number",step:"0.01",value:s,onChange:T=>u(T.target.value),error:y.estimatedCost,placeholder:"Ex: 2500.00",required:!0}),x.jsx(qt,{label:"Prioridade",id:"fpPriority",options:uue,value:c,onChange:T=>f(T.target.value)}),x.jsx(Qp,{label:"Notas (Opcional)",id:"fpNotes",value:h,onChange:T=>m(T.target.value),rows:3,placeholder:"Detalhes adicionais, link do produto, etc."}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(_e,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(_e,{type:"button",variant:"primary",onClick:A,children:r?"Salvar Alterações":"Adicionar Compra"})]})]})})},fue=[{value:"all",label:"Todas Prioridades"},{value:"high",label:"Alta"},{value:"medium",label:"Média"},{value:"low",label:"Baixa"}],due=[{value:"all",label:"Todos Status"},{value:"PLANNED",label:"Planejado"},{value:"CONSIDERING",label:"Considerando"},{value:"ACHIEVABLE_SOON",label:"Viável em Breve"},{value:"NOT_RECOMMENDED_NOW",label:"Adiar Compra"},{value:"AI_ANALYZING",label:"Analisando"}],hue=({futurePurchases:t,onAddFuturePurchase:e,onUpdateFuturePurchase:n,onDeleteFuturePurchase:r,onAnalyzeFuturePurchase:a,isPrivacyModeEnabled:i})=>{const[s,u]=q.useState(!1),[c,f]=q.useState(null),[h,m]=q.useState("all"),[y,_]=q.useState("all"),[S,A]=q.useState("date_desc"),T=()=>{f(null),u(!0)},C=E=>{f(E),u(!0)},O=q.useMemo(()=>{let E=[...t];return h!=="all"&&(E=E.filter(N=>N.priority===h)),y!=="all"&&(E=E.filter(N=>N.status===y)),E.sort((N,k)=>{switch(S){case"cost_desc":return k.estimated_cost-N.estimated_cost;case"cost_asc":return N.estimated_cost-k.estimated_cost;case"date_asc":return new Date(N.created_at).getTime()-new Date(k.created_at).getTime();case"date_desc":default:return new Date(k.created_at).getTime()-new Date(N.created_at).getTime()}}),E},[t,h,y,S]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx($S,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Compras Futuras & Objetivos"})]}),x.jsxs(_e,{onClick:T,variant:"primary",children:[x.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Adicionar Compra Desejada"]})]}),t.length>0&&x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx(qt,{label:"Filtrar por Prioridade",options:fue,value:h,onChange:E=>m(E.target.value)}),x.jsx(qt,{label:"Filtrar por Status",options:due,value:y,onChange:E=>_(E.target.value)}),x.jsx(qt,{label:"Ordenar Por",options:[{value:"date_desc",label:"Mais Recentes Primeiro"},{value:"date_asc",label:"Mais Antigos Primeiro"},{value:"cost_desc",label:"Maior Custo"},{value:"cost_asc",label:"Menor Custo"}],value:S,onChange:E=>A(E.target.value)})]}),O.length>0?x.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(E=>x.jsx(lue,{purchase:E,onEdit:C,onDelete:r,onAnalyze:a,isPrivacyModeEnabled:i},E.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:t.length===0?"Nenhuma compra futura planejada. Adicione uma para começar!":"Nenhuma compra encontrada com os filtros aplicados."}),x.jsx(cue,{isOpen:s,onClose:()=>u(!1),onSave:c?E=>n({...E,id:c.id}):e,existingPurchase:c})]})},pue=({allData:t,userPreferencesToExport:e,activeProfileName:n,user:r})=>{const a=async()=>{if(!r){alert("Nenhum usuário logado para exportar dados.");return}const i=n?n.replace(/\s+/g,"_"):"usuario_desconhecido",s={profileName:n||"N/A",exportedAt:new Date().toISOString(),supabaseSchemaVersion:"2.0",userPreferences:e,...t},u=JSON.stringify(s,null,2),c=new Blob([u],{type:"application/json"}),f=URL.createObjectURL(c),h=document.createElement("a");h.href=f,h.download=`financeiro_pessoal_${i}_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(f)};return x.jsxs("div",{className:"space-y-8 p-4 md:p-6",children:[x.jsxs("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:["Gerenciamento de Dados: ",x.jsx("span",{className:"text-primary dark:text-primaryDark",children:n})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Exportar Dados"}),x.jsxs("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:["Faça um backup completo dos seus dados (",n,") em um arquivo JSON."]}),x.jsx(_e,{onClick:a,variant:"secondary",children:"Exportar Todos os Dados (.json)"})]}),x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Importar Dados"}),x.jsx("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:"A importação de dados a partir de um arquivo JSON não é suportada nesta versão do aplicativo. Para restaurar dados, considere utilizar ferramentas de gerenciamento de banco de dados diretamente com o Supabase, se aplicável."})]}),e&&x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Backup Automático em Arquivo (Local)"}),x.jsxs("p",{className:"text-textMuted dark:text-textMutedDark",children:[e.ai_auto_backup_enabled?"Backup automático local em arquivo está ATIVADO.":"Backup automático local em arquivo está DESATIVADO.",x.jsx("span",{className:"block text-xs",children:"Isso é um backup extra em arquivo JSON no seu dispositivo, independente da sincronização com o Supabase."})]})]})]})},mue=({tag:t,transactionCount:e,onEdit:n,onDelete:r})=>{t.color&&(t.color,t.color),t.color,t.color;const i=(s=>{if(!s)return"text-textBase dark:text-textBaseDark";const u=parseInt(s.slice(1,3),16),c=parseInt(s.slice(3,5),16),f=parseInt(s.slice(5,7),16);return(.299*u+.587*c+.114*f)/255>.5?"text-neutral-800":"text-white"})(t.color);return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-3 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex justify-between items-center",children:[x.jsx("div",{className:"flex items-center",children:x.jsx("span",{className:`text-xs font-semibold mr-3 px-2.5 py-1 rounded-full inline-block border
                        ${t.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:t.color?{backgroundColor:t.color,borderColor:t.color}:{},children:x.jsx("span",{className:t.color?i:"text-textBase dark:text-textBaseDark",children:t.name})})}),x.jsxs("div",{className:"flex items-center space-x-1",children:[e>0&&x.jsxs("span",{className:"text-xs text-textMuted dark:text-textMutedDark mr-2",children:["(",e," trans.)"]}),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Tag",className:"!p-1.5",children:x.jsx(ca,{className:"w-4 h-4"})}),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Tag",className:"!p-1.5",disabled:e>0,title:e>0?"Não é possível excluir tags em uso":"Excluir Tag",children:x.jsx(ua,{className:`w-4 h-4 ${e>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]})},wR=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6","#A3A3A3"],gue=({isOpen:t,onClose:e,onSave:n,existingTag:r,allTagNames:a=[]})=>{const[i,s]=q.useState(""),[u,c]=q.useState(void 0),[f,h]=q.useState("");q.useEffect(()=>{t&&(r?(s(r.name),c(r.color)):(s(""),c(wR[0])),h(""))},[r,t]);const m=()=>{const y=i.trim();if(!y){h("Nome da tag é obrigatório.");return}if(a.filter(S=>r?S.toLowerCase()!==r.name.toLowerCase():!0).includes(y.toLowerCase())){h("Já existe uma tag com este nome.");return}h(""),n({id:(r==null?void 0:r.id)||It(),name:y,color:u}),e()};return x.jsx(Xn,{isOpen:t,onClose:e,title:r?"Editar Tag":"Nova Tag",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Je,{label:"Nome da Tag",id:"tagName",value:i,onChange:y=>s(y.target.value),error:f,placeholder:"Ex: Viagem, Pessoal, Urgente"}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor (Opcional)"}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[wR.map(y=>x.jsx("button",{type:"button",onClick:()=>c(y),className:`w-7 h-7 rounded-full border-2 transition-all
                            ${u===y?"ring-2 ring-offset-2 dark:ring-offset-surfaceDark border-primary dark:border-primaryDark ring-primary dark:ring-primaryDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:y},"aria-label":`Selecionar cor ${y}`,"aria-pressed":u===y},y)),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>c(void 0),className:`h-7 px-2 ${u?"":"bg-neutral/20 dark:bg-neutralDark/30"}`,title:"Remover cor",children:"Sem Cor"})]})]}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(_e,{variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(_e,{variant:"primary",onClick:m,children:"Salvar"})]})]})})},vue=({tags:t,transactions:e,onAddTag:n,onUpdateTag:r,onDeleteTag:a})=>{const[i,s]=q.useState(!1),[u,c]=q.useState(null),f=()=>{c(null),s(!0)},h=_=>{c(_),s(!0)},m=_=>e.filter(S=>{var A;return(A=S.tag_ids)==null?void 0:A.includes(_)}).length,y=t.map(_=>_.name);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Tags"}),x.jsxs(_e,{onClick:f,variant:"primary",children:[x.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Tag"]})]}),t.length>0?x.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(_=>x.jsx(mue,{tag:_,transactionCount:m(_.id),onEdit:h,onDelete:a},_.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma tag cadastrada. Crie tags para organizar melhor suas transações!"}),x.jsx(gue,{isOpen:i,onClose:()=>s(!1),onSave:u?r:n,existingTag:u,allTagNames:y})]})},GL=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),Ax=({rt:t,accounts:e,categories:n,onEdit:r,onDelete:a,onTogglePause:i,isPrivacyModeEnabled:s})=>{const u=e.find(y=>y.id===t.account_id),c=t.category_id?n.find(y=>y.id===t.category_id):null;let f="text-textBase dark:text-textBaseDark",h="";t.type===ye.INCOME?(f="text-secondary dark:text-secondaryDark",h="+"):t.type===ye.EXPENSE&&(f="text-destructive dark:text-destructiveDark",h="-");const m={daily:"Diariamente",weekly:"Semanalmente",monthly:"Mensalmente",yearly:"Anualmente",custom_days:`A cada ${t.custom_interval_days} dias`};return x.jsx("li",{className:`bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 ${t.is_paused?"opacity-60":""}`,children:x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0",children:[x.jsxs("div",{className:"flex-grow",children:[x.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[x.jsx(GL,{className:`w-5 h-5 ${t.is_paused?"text-textMuted dark:text-textMutedDark":"text-primary dark:text-primaryDark"}`}),x.jsxs("span",{className:`font-semibold text-lg ${f}`,children:[h,Ae(t.amount,"BRL","pt-BR",s)]}),x.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.description})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-8",children:[m[t.frequency]," • Próximo: ",Cr(t.next_due_date),t.end_date&&` &bull; Termina em: ${Cr(t.end_date)}`,t.remaining_occurrences!==void 0&&t.occurrences&&` &bull; (${t.remaining_occurrences}/${t.occurrences} restantes)`]}),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark ml-8",children:["Conta: ",(u==null?void 0:u.name)||"N/A",c&&` &bull; Categoria: ${c.name}`,t.is_paused&&x.jsx("span",{className:"font-semibold text-amber-600 dark:text-amber-500",children:" (Pausado)"})]}),t.notes&&x.jsxs("p",{className:"text-xs italic text-neutral dark:text-neutralDark ml-8 mt-1",children:["Nota: ",t.notes]})]}),x.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>r(t),"aria-label":"Editar Recorrência",children:x.jsx(ca,{className:"w-4 h-4"})}),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>a(t.id),"aria-label":"Excluir Recorrência",children:x.jsx(ua,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})})},yue=[{value:"daily",label:"Diariamente"},{value:"weekly",label:"Semanalmente"},{value:"monthly",label:"Mensalmente"},{value:"yearly",label:"Anualmente"},{value:"custom_days",label:"Dias Personalizados"}],bue=(t,e,n,r)=>Ut(new Date(t+"T00:00:00")),xue=({isOpen:t,onClose:e,onSave:n,accounts:r,categories:a,existingRT:i})=>{const[s,u]=q.useState(""),[c,f]=q.useState(""),[h,m]=q.useState(ye.EXPENSE),[y,_]=q.useState(""),[S,A]=q.useState(""),[T,C]=q.useState(""),[O,E]=q.useState("monthly"),[N,k]=q.useState("30"),[M,P]=q.useState(Ut()),[I,B]=q.useState(""),[V,L]=q.useState(""),[W,Q]=q.useState(!1),[Y,H]=q.useState(""),[j,F]=q.useState({});q.useEffect(()=>{var G,ne,ce,ge,De,Ce;t&&(i?(u(i.description),f(i.amount.toString()),m(i.type),_(i.category_id||""),A(i.account_id),C(i.to_account_id||""),E(i.frequency),k(((G=i.custom_interval_days)==null?void 0:G.toString())||"30"),P(i.start_date),B(i.end_date||""),L(((ne=i.occurrences)==null?void 0:ne.toString())||""),Q(i.is_paused||!1),H(i.notes||"")):(u(""),f(""),m(ye.EXPENSE),_(((ce=a.filter(yt=>yt.type===ye.EXPENSE)[0])==null?void 0:ce.id)||""),A(((ge=r[0])==null?void 0:ge.id)||""),C(((De=r[1])==null?void 0:De.id)||((Ce=r[0])==null?void 0:Ce.id)||""),E("monthly"),k("30"),P(Ut()),B(""),L(""),Q(!1),H("")),F({}))},[i,t,r,a]);const Z=()=>{const G={};return s.trim()||(G.description="Descrição é obrigatória."),(!c||parseFloat(c)<=0)&&(G.amount="Valor deve ser positivo."),h!==ye.TRANSFER&&!y&&(G.categoryId="Categoria é obrigatória."),S||(G.accountId="Conta é obrigatória."),h===ye.TRANSFER&&!T&&(G.toAccountId="Conta de destino é obrigatória."),h===ye.TRANSFER&&S===T&&(G.toAccountId="Contas não podem ser iguais."),M||(G.startDate="Data de início é obrigatória."),I&&M>I&&(G.endDate="Data final deve ser após data inicial."),V&&parseInt(V)<=0&&(G.occurrences="Ocorrências deve ser positivo."),O==="custom_days"&&(!N||parseInt(N)<=0)&&(G.customIntervalDays="Intervalo de dias deve ser positivo."),F(G),Object.keys(G).length===0},ae=()=>{if(!Z())return;const G=V?parseInt(V):void 0,ne={id:(i==null?void 0:i.id)||It(),description:s.trim(),amount:parseFloat(c),type:h,category_id:h===ye.TRANSFER?void 0:y,account_id:S,to_account_id:h===ye.TRANSFER?T:void 0,frequency:O,custom_interval_days:O==="custom_days"?parseInt(N):void 0,start_date:M,end_date:I||void 0,occurrences:G,remaining_occurrences:i!=null&&i.id?i.remaining_occurrences:G,next_due_date:i!=null&&i.id?i.next_due_date:bue(M),last_posted_date:i==null?void 0:i.last_posted_date,is_paused:W||!1,notes:Y.trim()||void 0};n(ne),e()},$=a.filter(G=>G.type===h);return x.jsx(Xn,{isOpen:t,onClose:e,title:i?"Editar Transação Recorrente":"Nova Transação Recorrente",size:"lg",children:x.jsxs("form",{onSubmit:G=>{G.preventDefault(),ae()},className:"space-y-4",children:[x.jsx(Je,{label:"Descrição",id:"rtDescription",value:s,onChange:G=>u(G.target.value),error:j.description,required:!0}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(Je,{label:"Valor",id:"rtAmount",type:"number",step:"0.01",value:c,onChange:G=>f(G.target.value),error:j.amount,required:!0}),x.jsx(qt,{label:"Tipo",id:"rtType",options:Ew,value:h,onChange:G=>m(G.target.value)})]}),h!==ye.TRANSFER&&x.jsx(qt,{label:"Categoria",id:"rtCategory",options:$.map(G=>({value:G.id,label:G.name})),value:y,onChange:G=>_(G.target.value),error:j.categoryId,placeholder:"Selecione uma categoria",disabled:$.length===0}),x.jsx(qt,{label:h===ye.TRANSFER?"Conta de Origem":"Conta",id:"rtAccountId",options:r.map(G=>({value:G.id,label:G.name})),value:S,onChange:G=>A(G.target.value),error:j.accountId,placeholder:"Selecione uma conta",disabled:r.length===0}),h===ye.TRANSFER&&x.jsx(qt,{label:"Conta de Destino",id:"rtToAccountId",options:r.map(G=>({value:G.id,label:G.name})),value:T,onChange:G=>C(G.target.value),error:j.toAccountId,placeholder:"Selecione conta de destino",disabled:r.length===0}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(qt,{label:"Frequência",id:"rtFrequency",options:yue,value:O,onChange:G=>E(G.target.value)}),O==="custom_days"&&x.jsx(Je,{label:"Intervalo (dias)",id:"rtCustomInterval",type:"number",min:"1",value:N,onChange:G=>k(G.target.value),error:j.customIntervalDays})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(Je,{label:"Data de Início",id:"rtStartDate",type:"date",value:M,onChange:G=>P(G.target.value),error:j.startDate,required:!0}),x.jsx(Je,{label:"Data Final (Opcional)",id:"rtEndDate",type:"date",value:I,onChange:G=>B(G.target.value),error:j.endDate})]}),x.jsx(Je,{label:"Número de Ocorrências (Opcional)",id:"rtOccurrences",type:"number",min:"1",value:V,onChange:G=>L(G.target.value),error:j.occurrences,placeholder:"Deixe em branco para indefinido (use Data Final)"}),x.jsx(Qp,{label:"Notas (Opcional)",id:"rtNotes",value:Y,onChange:G=>H(G.target.value),rows:2}),x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",id:"rtIsPaused",checked:W,onChange:G=>Q(G.target.checked),className:"h-4 w-4 text-primary rounded border-neutral/50 focus:ring-primary dark:text-primaryDark dark:border-neutralDark/50 dark:focus:ring-primaryDark"}),x.jsx("label",{htmlFor:"rtIsPaused",className:"ml-2 block text-sm text-textMuted dark:text-textMutedDark",children:"Pausar esta recorrência"})]}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(_e,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(_e,{type:"submit",variant:"primary",children:i?"Salvar Alterações":"Criar Recorrência"})]})]})})},_ue=({recurringTransactions:t,accounts:e,categories:n,onAddRecurringTransaction:r,onUpdateRecurringTransaction:a,onDeleteRecurringTransaction:i,onProcessRecurringTransactions:s,isPrivacyModeEnabled:u})=>{const[c,f]=q.useState(!1),[h,m]=q.useState(null),[y,_]=q.useState(!1),[S,A]=q.useState(null),T=()=>{m(null),f(!0)},C=I=>{m(I),f(!0)},O=async()=>{_(!0),A("Processando...");try{const I=await s();I.errors.length>0?A(`Processamento concluído. ${I.count} transações lançadas. Erros: ${I.errors.join(", ")}`):I.count>0?A(`${I.count} transações recorrentes foram lançadas com sucesso!`):A("Nenhuma transação recorrente pendente para lançar.")}catch(I){A("Erro ao processar transações recorrentes."),console.error(I)}_(!1),setTimeout(()=>A(null),7e3)},E=q.useMemo(()=>[...t].sort((I,B)=>new Date(I.next_due_date).getTime()-new Date(B.next_due_date).getTime()),[t]),N=Ut(),k=E.filter(I=>!I.is_paused&&I.next_due_date>=N),M=E.filter(I=>!I.is_paused&&I.next_due_date<N),P=E.filter(I=>I.is_paused);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações Recorrentes"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(_e,{onClick:O,variant:"secondary",disabled:y,children:y?"Processando...":"Lançar Pendentes"}),x.jsxs(_e,{onClick:T,variant:"primary",children:[x.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Recorrência"]})]})]}),S&&x.jsx("div",{className:`p-3 rounded-md text-sm ${S.includes("Erro")||S.includes("Erros:")?"bg-destructive/10 text-destructiveDark":"bg-secondary/10 text-secondaryDark"}`,children:S}),t.length===0?x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação recorrente cadastrada."}):x.jsxs(x.Fragment,{children:[M.length>0&&x.jsxs("div",{children:[x.jsxs("h2",{className:"text-lg font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Pendentes / Atrasadas (",M.length,")"]}),x.jsx("ul",{className:"space-y-3",children:M.map(I=>x.jsx(Ax,{rt:I,accounts:e,categories:n,onEdit:C,onDelete:i,isPrivacyModeEnabled:u},I.id))})]}),k.length>0&&x.jsxs("div",{children:[x.jsxs("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mt-6 mb-2",children:["Próximas (",k.length,")"]}),x.jsx("ul",{className:"space-y-3",children:k.map(I=>x.jsx(Ax,{rt:I,accounts:e,categories:n,onEdit:C,onDelete:i,isPrivacyModeEnabled:u},I.id))})]}),P.length>0&&x.jsxs("div",{children:[x.jsxs("h2",{className:"text-lg font-semibold text-textMuted dark:text-textMutedDark mt-6 mb-2",children:["Pausadas (",P.length,")"]}),x.jsx("ul",{className:"space-y-3",children:P.map(I=>x.jsx(Ax,{rt:I,accounts:e,categories:n,onEdit:C,onDelete:i,isPrivacyModeEnabled:u},I.id))})]})]}),x.jsx(xue,{isOpen:c,onClose:()=>f(!1),onSave:h?a:r,accounts:e,categories:n,existingRT:h})]})},wue=({loan:t,repayments:e,accounts:n,creditCards:r,onEdit:a,onDelete:i,onRegisterRepayment:s,isPrivacyModeEnabled:u})=>{var C,O;const c=e.reduce((E,N)=>E+N.amount_paid,0),f=t.total_amount_to_reimburse-c;let h="PENDING",m="text-amber-600 dark:text-amber-500",y="bg-amber-100 dark:bg-amber-500/20",_="bg-amber-500";c>=t.total_amount_to_reimburse?(h="PAID",m="text-secondary dark:text-secondaryDark",y="bg-emerald-100 dark:bg-emerald-500/20",_="bg-secondary"):c>0&&(h="PARTIALLY_PAID",m="text-blue-600 dark:text-blue-500",y="bg-blue-100 dark:bg-blue-500/20",_="bg-blue-500");const S=t.total_amount_to_reimburse>0?Math.min(c/t.total_amount_to_reimburse*100,100):0,A=t.funding_source==="account"&&t.linked_account_id?(C=n.find(E=>E.id===t.linked_account_id))==null?void 0:C.name:null,T=t.funding_source==="creditCard"&&t.linked_credit_card_id?(O=r.find(E=>E.id===t.linked_credit_card_id))==null?void 0:O.name:null;return x.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx(Cw,{className:"w-5 h-5 text-primary dark:text-primaryDark"}),x.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.person_name}),x.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${y} ${m}`,children:h==="PENDING"?"Pendente":h==="PARTIALLY_PAID"?"Parcialmente Pago":"Pago"})]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Emprestado em: ",Cr(t.loan_date)]}),x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a Reembolsar: ",x.jsx("span",{className:"font-semibold",children:Ae(t.total_amount_to_reimburse,"BRL","pt-BR",u)})]}),t.description&&x.jsx("p",{className:"text-xs italic text-neutral dark:text-neutralDark mt-1",children:t.description})]}),x.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>a(t),"aria-label":"Editar Empréstimo",className:"!p-1.5",children:x.jsx(ca,{className:"w-4 h-4"})}),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>i(t.id),"aria-label":"Excluir Empréstimo",className:"!p-1.5",disabled:c>0&&h!=="PAID",title:c>0&&h!=="PAID"?"Exclua os pagamentos primeiro ou quite o empréstimo":"Excluir Empréstimo",children:x.jsx(ua,{className:`w-4 h-4 ${c>0&&h!=="PAID"?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Pago: ",Ae(c,"BRL","pt-BR",u)]}),x.jsxs("span",{className:`font-semibold ${f<=0?m:"text-destructive dark:text-destructiveDark"}`,children:["Pendente: ",Ae(Math.max(0,f),"BRL","pt-BR",u)]})]}),x.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:x.jsx("div",{className:`h-2.5 rounded-full ${_}`,style:{width:`${S}%`}})})]}),x.jsxs("div",{className:"text-xs text-textMuted dark:text-textMutedDark pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[x.jsx("p",{children:x.jsx("strong",{children:"Origem do Dinheiro:"})}),t.funding_source==="account"&&x.jsxs(x.Fragment,{children:[x.jsxs("p",{children:["Conta: ",A||"N/A"]}),x.jsxs("p",{children:["Valor Entregue da Conta: ",Ae(t.amount_delivered_from_account||0,"BRL","pt-BR",u)]})]}),t.funding_source==="creditCard"&&x.jsxs(x.Fragment,{children:[x.jsxs("p",{children:["Cartão de Crédito: ",T||"N/A"]}),x.jsxs("p",{children:["Valor Líquido Entregue: ",Ae(t.amount_delivered_from_credit||0,"BRL","pt-BR",u)]}),x.jsxs("p",{children:["Custo no Cartão (Fatura): ",Ae(t.cost_on_credit_card||0,"BRL","pt-BR",u)]})]})]}),h!=="PAID"&&x.jsx("div",{className:"flex justify-start pt-2",children:x.jsxs(_e,{size:"sm",variant:"secondary",onClick:()=>s(t),children:[x.jsx(Yn,{className:"w-4 h-4 mr-1"})," Registrar Pagamento Recebido"]})})]})},Sue=({isOpen:t,onClose:e,onSave:n,accounts:r,creditCards:a,existingLoan:i})=>{const[s,u]=q.useState(""),[c,f]=q.useState(Ut()),[h,m]=q.useState(""),[y,_]=q.useState(""),[S,A]=q.useState("account"),[T,C]=q.useState(""),[O,E]=q.useState(""),[N,k]=q.useState(""),[M,P]=q.useState(""),[I,B]=q.useState(""),[V,L]=q.useState("1"),[W,Q]=q.useState({});q.useEffect(()=>{var F,Z,ae;t&&(i?(u(i.person_name),f(i.loan_date),m(i.description||""),_(i.total_amount_to_reimburse.toString()),A(i.funding_source),i.funding_source==="account"?(C(((F=i.amount_delivered_from_account)==null?void 0:F.toString())||""),E(i.linked_account_id||"")):(C(""),E("")),i.funding_source==="creditCard"?(k(((Z=i.amount_delivered_from_credit)==null?void 0:Z.toString())||""),P(((ae=i.cost_on_credit_card)==null?void 0:ae.toString())||""),B(i.linked_credit_card_id||"")):(k(""),P(""),B(""))):(u(""),f(Ut()),m(""),_(""),A("account"),C(""),E(r.length>0?r[0].id:""),k(""),P(""),B(a.length>0?a[0].id:""),L("1")),Q({}))},[i,t,r,a]);const Y=()=>{const F={};s.trim()||(F.personName="Nome da pessoa é obrigatório."),c||(F.loanDate="Data do empréstimo é obrigatória.");const Z=parseFloat(y);if((isNaN(Z)||Z<=0)&&(F.totalAmountToReimburse="Valor a ser reembolsado deve ser positivo."),S==="account"){O||(F.linkedAccountId="Conta de origem é obrigatória.");const ae=parseFloat(T);(isNaN(ae)||ae<=0)&&(F.amountDeliveredFromAccount="Valor entregue deve ser positivo.")}else if(S==="creditCard"){I||(F.linkedCreditCardId="Cartão de crédito é obrigatório.");const ae=parseFloat(N);(isNaN(ae)||ae<=0)&&(F.amountDeliveredFromCredit="Valor entregue (líquido) deve ser positivo.");const $=parseFloat(M);(isNaN($)||$<=0)&&(F.costOnCreditCard="Custo no cartão deve ser positivo."),ae>$&&(F.amountDeliveredFromCredit="Valor entregue não pode ser maior que o custo no cartão.");const G=parseInt(V,10);(isNaN(G)||G<=0)&&(F.numberOfInstallments="Número de parcelas deve ser positivo.")}return Q(F),Object.keys(F).length===0},H=()=>{if(!Y())return;const F={person_name:s.trim(),loan_date:c,description:h.trim()||void 0,total_amount_to_reimburse:parseFloat(y),funding_source:S};let Z;S==="account"?Z={...F,amount_delivered_from_account:parseFloat(T),linked_account_id:O}:Z={...F,amount_delivered_from_credit:parseFloat(N),cost_on_credit_card:parseFloat(M),linked_credit_card_id:I};const ae=i?{...Z,id:i.id}:Z;n(ae,S==="creditCard"?parseInt(V):void 0),e()},j=[{value:"account",label:"Dinheiro de uma Conta"},{value:"creditCard",label:"Crédito (Convertido em Dinheiro)"}];return x.jsx(Xn,{isOpen:t,onClose:e,title:i?"Editar Empréstimo":"Novo Empréstimo",size:"lg",children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Je,{label:"Nome da Pessoa",id:"personName",value:s,onChange:F=>u(F.target.value),error:W.personName,required:!0}),x.jsx(Je,{label:"Data do Empréstimo",id:"loanDate",type:"date",value:c,onChange:F=>f(F.target.value),error:W.loanDate,required:!0}),x.jsx(Qp,{label:"Descrição (Opcional)",id:"loanDescription",value:h,onChange:F=>m(F.target.value),rows:2}),x.jsx(Je,{label:"Valor Total a Ser Reembolsado por Você (R$)",id:"totalAmountToReimburse",type:"number",step:"0.01",value:y,onChange:F=>_(F.target.value),error:W.totalAmountToReimburse,placeholder:"Ex: 270.00",required:!0}),x.jsx(qt,{label:"Origem do Dinheiro",id:"fundingSource",options:j,value:S,onChange:F=>A(F.target.value)}),S==="account"&&x.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[x.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Saída de Conta)"}),x.jsx(qt,{label:"Conta de Origem",id:"linkedAccountId",options:r.map(F=>({value:F.id,label:F.name})),value:O,onChange:F=>E(F.target.value),error:W.linkedAccountId,disabled:r.length===0,required:!0}),x.jsx(Je,{label:"Valor Efetivamente Entregue (R$)",id:"amountDeliveredFromAccount",type:"number",step:"0.01",value:T,onChange:F=>C(F.target.value),error:W.amountDeliveredFromAccount,placeholder:"Ex: 250.00",required:!0})]}),S==="creditCard"&&x.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[x.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Uso de Crédito)"}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:'Use esta opção se você usou um serviço do cartão para sacar/transferir crédito, incorrendo em taxas. O "Custo Real no Cartão" será lançado como uma compra parcelada.'}),x.jsx(qt,{label:"Cartão de Crédito Utilizado",id:"linkedCreditCardId",options:a.map(F=>({value:F.id,label:F.name})),value:I,onChange:F=>B(F.target.value),error:W.linkedCreditCardId,disabled:a.length===0,required:!0}),x.jsx(Je,{label:"Valor Efetivamente Entregue à Pessoa (R$)",id:"amountDeliveredFromCredit",type:"number",step:"0.01",value:N,onChange:F=>k(F.target.value),error:W.amountDeliveredFromCredit,placeholder:`Ex: ${Ae(250)} (valor líquido recebido pela pessoa)`,required:!0}),x.jsx(Je,{label:"Custo Real no Cartão (com taxas) (R$)",id:"costOnCreditCard",type:"number",step:"0.01",value:M,onChange:F=>{P(F.target.value),!i&&!y&&_(F.target.value)},error:W.costOnCreditCard,placeholder:"Ex: 270.00 (valor total que virá na fatura)",required:!0}),x.jsx(Je,{label:"Número de Parcelas no Cartão",id:"numberOfInstallments",type:"number",min:"1",value:V,onChange:F=>L(F.target.value),error:W.numberOfInstallments,required:!0,disabled:!!i&&!!i.linked_installment_purchase_id,title:i&&i.linked_installment_purchase_id?"Número de parcelas não pode ser alterado após a criação da compra vinculada.":""})]}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(_e,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(_e,{type:"button",variant:"primary",onClick:H,children:"Salvar Empréstimo"})]})]})})},Tue=({isOpen:t,onClose:e,onSave:n,loan:r,accounts:a})=>{const[i,s]=q.useState(""),[u,c]=q.useState(Ut()),[f,h]=q.useState(""),[m,y]=q.useState(""),[_,S]=q.useState({});q.useEffect(()=>{t&&(s(""),c(Ut()),h(a.length>0?a[0].id:""),y(""),S({}))},[t,a]);const A=()=>{const C={},O=parseFloat(i);return(isNaN(O)||O<=0)&&(C.amountPaid="Valor pago deve ser positivo."),u||(C.repaymentDate="Data do pagamento é obrigatória."),f||(C.creditedAccountId="Conta de crédito é obrigatória."),S(C),Object.keys(C).length===0},T=()=>{if(!A())return;const C={repayment_date:u,amount_paid:parseFloat(i),notes:m.trim()||void 0,credited_account_id:f};n(C,r.id),e()};return x.jsx(Xn,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.person_name}`,children:x.jsxs("div",{className:"space-y-4",children:[x.jsx(Je,{label:"Valor Recebido (R$)",id:"repaymentAmount",type:"number",step:"0.01",value:i,onChange:C=>s(C.target.value),error:_.amountPaid,required:!0}),x.jsx(Je,{label:"Data do Recebimento",id:"repaymentDate",type:"date",value:u,onChange:C=>c(C.target.value),error:_.repaymentDate,required:!0}),x.jsx(qt,{label:"Conta Creditada (Onde o dinheiro entrou)",id:"creditedAccountId",options:a.map(C=>({value:C.id,label:C.name})),value:f,onChange:C=>h(C.target.value),error:_.creditedAccountId,disabled:a.length===0,required:!0}),x.jsx(Qp,{label:"Notas (Opcional)",id:"repaymentNotes",value:m,onChange:C=>y(C.target.value),rows:2}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(_e,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(_e,{type:"button",variant:"primary",onClick:T,children:"Salvar Pagamento"})]})]})})},Aue=({loans:t,loanRepayments:e,accounts:n,creditCards:r,onAddLoan:a,onUpdateLoan:i,onDeleteLoan:s,onAddLoanRepayment:u,isPrivacyModeEnabled:c})=>{const[f,h]=q.useState(!1),[m,y]=q.useState(null),[_,S]=q.useState(!1),[A,T]=q.useState(null),C=()=>{y(null),h(!0)},O=P=>{y(P),h(!0)},E=(P,I)=>{m&&P.id?i({...m,...P}):a(P,I)},N=P=>{T(P),S(!0)},k=q.useMemo(()=>t.reduce((P,I)=>{const B=e.filter(V=>V.loan_id===I.id).reduce((V,L)=>V+L.amount_paid,0);return P+(I.total_amount_to_reimburse-B)},0),[t,e]),M=q.useMemo(()=>[...t].sort((P,I)=>new Date(I.loan_date).getTime()-new Date(P.loan_date).getTime()),[t]);return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Empréstimos Concedidos"}),t.length>0&&x.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a receber: ",x.jsx("span",{className:"font-semibold text-primary dark:text-primaryDark",children:Ae(k,"BRL","pt-BR",c)})]})]}),x.jsxs(_e,{onClick:C,variant:"primary",children:[x.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Novo Empréstimo"]})]}),M.length>0?x.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:M.map(P=>x.jsx(wue,{loan:P,repayments:e.filter(I=>I.loan_id===P.id),accounts:n,creditCards:r,onEdit:O,onDelete:s,onRegisterRepayment:N,isPrivacyModeEnabled:c},P.id))}):x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:'Nenhum empréstimo registrado. Clique em "Novo Empréstimo" para começar.'}),f&&x.jsx(Sue,{isOpen:f,onClose:()=>h(!1),onSave:E,accounts:n,creditCards:r,existingLoan:m}),_&&A&&x.jsx(Tue,{isOpen:_,onClose:()=>S(!1),onSave:u,loan:A,accounts:n})]})},th=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3.697-3.697c-.022-.021-.041-.044-.06-.067H6.75c-1.136 0-2.097-.847-2.193-1.98a18.75 18.75 0 0 1-.072-1.02c0-.884.284-1.5 2.097-1.5H13.5c.884 0 1.5-.284 2.097-1.5 1.136 0 2.1.847 2.193 1.98.027.34.052.68.072 1.02z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h-.008v.008H3.75V12zm0-3.75h.008v.008H3.75V8.25zm0 7.5h.008v.008H3.75v-.008zM4.5 6H15a2.25 2.25 0 0 1 2.25 2.25v1.5A2.25 2.25 0 0 1 15 12H4.5A2.25 2.25 0 0 1 2.25 9.75v-1.5A2.25 2.25 0 0 1 4.5 6z"})]}),Eue=({aiConfig:t,setAiConfig:e,insights:n,onFetchGeneralAdvice:r,onUpdateInsight:a,isPrivacyModeEnabled:i})=>{var T;const[s,u]=q.useState(((T=t.monthlyIncome)==null?void 0:T.toString())||""),[c,f]=q.useState(!1),h=()=>{e({isEnabled:!t.isEnabled})},m=()=>{const C=parseFloat(s);!isNaN(C)&&C>0?(e({monthlyIncome:C}),f(!1)):s===""?(e({monthlyIncome:null}),f(!1)):alert("Por favor, insira um valor de renda válido ou deixe em branco.")};X.useEffect(()=>{var C;u(((C=t.monthlyIncome)==null?void 0:C.toString())||"")},[t.monthlyIncome]);const y=[...n].sort((C,O)=>new Date(O.timestamp).getTime()-new Date(C.timestamp).getTime()),_=C=>x.jsx("p",{className:"text-textBase dark:text-textBaseDark whitespace-pre-wrap",children:C.content}),S=C=>{switch(C){case"budget_recommendation":return x.jsx(NS,{className:"w-5 h-5 mr-2 text-yellow-500 dark:text-yellow-400 flex-shrink-0"});case"general_advice":case"transaction_comment":case"spending_suggestion":return x.jsx(th,{className:"w-5 h-5 mr-2 text-primary dark:text-primaryDark flex-shrink-0"});default:return x.jsx(th,{className:"w-5 h-5 mr-2 text-textMuted dark:text-textMutedDark flex-shrink-0"})}},A=C=>{C.is_read||a({...C,is_read:!0})};return x.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(th,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),x.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"AI Coach Financeiro"})]}),t.apiKeyStatus!=="unavailable"&&x.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[x.jsx("span",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:t.isEnabled?"Coach Ativado":"Coach Desativado"}),x.jsxs("div",{className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${t.isEnabled?"bg-primary dark:bg-primaryDark":"bg-neutral/30 dark:bg-neutralDark/40"}`,children:[x.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${t.isEnabled?"translate-x-6":"translate-x-1"}`}),x.jsx("input",{type:"checkbox",className:"absolute opacity-0 w-0 h-0",checked:t.isEnabled,onChange:h})]})]})]}),t.apiKeyStatus==="unavailable"&&x.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[x.jsx("strong",{className:"font-bold",children:"API Key Indisponível! "}),x.jsx("span",{className:"block sm:inline",children:"A funcionalidade do AI Coach está desativada. A chave da API Gemini (process.env.GEMINI_API_KEY) não foi configurada no ambiente. Sem ela, o AI Coach não pode operar."})]}),t.apiKeyStatus==="error"&&x.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[x.jsx("strong",{className:"font-bold",children:"Erro na API! "}),x.jsx("span",{className:"block sm:inline",children:"Ocorreu um erro ao tentar inicializar ou usar a API Gemini. Verifique o console para mais detalhes."})]}),t.apiKeyStatus==="available"&&x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Renda Mensal (para Sugestões)"}),t.monthlyIncome&&!c?x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Sua renda mensal salva:",x.jsx("span",{className:"font-bold text-lg text-primary dark:text-primaryDark ml-2",children:Ae(t.monthlyIncome,"BRL","pt-BR",i)})]}),x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>f(!0),children:"Editar Renda"})]}):x.jsxs("div",{className:"space-y-3",children:[x.jsx(Je,{label:"Informe sua renda mensal estimada",id:"monthlyIncome",type:"number",placeholder:i?Ae(0,"BRL","pt-BR",!0).replace("0,00","Ex: 3500.00"):"Ex: 3500.00",value:s,onChange:C=>u(C.target.value),containerClassName:"max-w-xs"}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx(_e,{variant:"primary",size:"sm",onClick:m,children:"Salvar Renda"}),t.monthlyIncome&&x.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>f(!1),children:"Cancelar"})]}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Esta informação ajuda o AI Coach a fornecer sugestões de orçamento mais personalizadas."})]})]}),t.isEnabled&&t.apiKeyStatus==="available"&&x.jsx(x.Fragment,{children:x.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Conselhos e Atividades Recentes"}),x.jsx(_e,{onClick:r,variant:"ghost",size:"sm",children:"Novo Conselho Geral"})]}),y.length===0?x.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhum conselho ou comentário do AI Coach ainda. Interaja com o app ou peça um novo conselho!"}):x.jsx("ul",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:y.map(C=>x.jsx("li",{className:`p-4 rounded-lg shadow-sm
                                ${C.isLoading?"opacity-60 animate-pulse":""}
                                ${C.type==="error_message"?"bg-destructive/10 dark:bg-destructiveDark/15 border-l-4 border-destructive dark:border-destructiveDark":C.type==="budget_recommendation"?"bg-yellow-400/10 dark:bg-yellow-400/15 border-l-4 border-yellow-500 dark:border-yellow-400":"bg-primary/5 dark:bg-primaryDark/10 border-l-4 border-primary dark:border-primaryDark"} ${!C.is_read&&!C.isLoading?"cursor-pointer hover:shadow-md":""}`,onClick:()=>A(C),onKeyDown:O=>{(O.key==="Enter"||O.key===" ")&&A(C)},tabIndex:!C.is_read&&!C.isLoading?0:void 0,role:!C.is_read&&!C.isLoading?"button":void 0,"aria-label":!C.is_read&&!C.isLoading?"Marcar como lido":void 0,children:x.jsxs("div",{className:"flex items-start",children:[S(C.type),x.jsxs("div",{className:"flex-1",children:[_(C),x.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1.5",children:[Cr(C.timestamp,"pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),C.related_transaction_id&&x.jsx("span",{className:"ml-2",children:" (Ref. Transação)"}),C.related_category_id&&C.type==="budget_recommendation"&&x.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),!C.is_read&&!C.isLoading&&x.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Novo"})]})]})]})},C.id))})]})}),!t.isEnabled&&t.apiKeyStatus==="available"&&x.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-700/20 border border-yellow-400 dark:border-yellow-600 text-yellow-700 dark:text-yellow-300 px-4 py-3 rounded-lg",role:"alert",children:x.jsx("p",{children:"O AI Coach está atualmente desativado. Ative-o acima para receber dicas e comentários personalizados."})})]})},Cue=({className:t="w-5 h-5",style:e})=>x.jsxs("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),x.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),x.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),x.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),x.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),HL=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),kue=({onLoginWithGoogle:t,isLoading:e})=>x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background dark:bg-backgroundDark p-4 text-textBase dark:text-textBaseDark",children:[x.jsxs("div",{className:"w-full max-w-sm bg-surface dark:bg-surfaceDark shadow-2xl rounded-xl p-8 space-y-8 text-center",children:[x.jsx(HL,{className:"w-20 h-20 text-primary dark:text-primaryDark mx-auto mb-4"}),x.jsxs("h1",{className:"text-3xl font-bold text-textBase dark:text-textBaseDark",children:["Bem-vindo ao ",Ix]}),x.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Faça login com sua conta Google para acessar suas finanças."}),x.jsxs(_e,{variant:"primary",size:"lg",className:"w-full !py-3 flex items-center justify-center !bg-white !text-neutral-700 hover:!bg-gray-100 border border-gray-300 dark:!bg-slate-700 dark:!text-slate-200 dark:hover:!bg-slate-600 dark:border-slate-500",onClick:t,disabled:e,children:[x.jsx(Cue,{className:"w-5 h-5 mr-3"}),e?"Conectando...":"Entrar com Google"]}),x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark pt-4",children:"Ao continuar, você concorda com nossos Termos de Serviço e Política de Privacidade (simulados)."})]}),x.jsx("footer",{className:"mt-8 text-center text-xs text-textMuted dark:text-textMutedDark",children:x.jsxs("p",{children:["© ",new Date().getFullYear()," ",Ix,". Todos os direitos reservados."]})})]}),Oue=({onSubmit:t,onCancel:e,accounts:n,creditCards:r,categories:a,tags:i,initialTransaction:s,isPrivacyModeEnabled:u})=>{var F;const[c,f]=q.useState((s==null?void 0:s.type)||ye.EXPENSE),[h,m]=q.useState((s==null?void 0:s.amount.toString())||""),[y,_]=q.useState((s==null?void 0:s.category_id)||""),[S,A]=q.useState((s==null?void 0:s.description)||""),[T,C]=q.useState((s==null?void 0:s.date)||Ut()),[O,E]=q.useState((s==null?void 0:s.account_id)||(n.length>0?n[0].id:"")),[N,k]=q.useState((s==null?void 0:s.to_account_id)||(n.length>1?n[1].id:"")),[M,P]=q.useState((s==null?void 0:s.tag_ids)||[]),[I,B]=q.useState({}),V=q.useMemo(()=>{const Z=n.map($=>({value:$.id,label:`Conta: ${$.name}`,type:"account"})),ae=r.map($=>({value:$.id,label:`Cartão: ${$.name}`,type:"creditCard"}));return[...Z,...ae]},[n,r]);q.useEffect(()=>{var Z,ae,$,G;s?(f(s.type),m(s.amount.toString()),_(s.category_id||""),A(s.description||""),C(s.date),E(s.account_id),k(s.to_account_id||""),P(s.tag_ids||[])):(f(ye.EXPENSE),m(""),_(((Z=a.filter(ne=>ne.type===ye.EXPENSE)[0])==null?void 0:Z.id)||""),A(""),C(Ut()),E(((ae=V[0])==null?void 0:ae.value)||""),k((($=n[1])==null?void 0:$.id)||((G=n[0])==null?void 0:G.id)||""),P([]))},[s,n,a,V]),q.useEffect(()=>{var ae;if(c!==ye.TRANSFER){const $=a.find(G=>G.id===y);if(!$||$.type!==c){const G=a.find(ne=>ne.type===c);_((G==null?void 0:G.id)||"")}}const Z=V.find($=>$.value===O);(Z==null?void 0:Z.type)==="creditCard"&&(c===ye.INCOME||c===ye.TRANSFER)&&E(((ae=n[0])==null?void 0:ae.id)||"")},[c,y,a,O,n,V]);const L=()=>{const Z={};(!h||parseFloat(h)<=0)&&(Z.amount="Valor deve ser maior que zero.");const ae=V.find($=>$.value===O);return c!==ye.TRANSFER&&!y&&(ae==null?void 0:ae.type)!=="creditCard"&&(y||(Z.categoryId="Categoria é obrigatória.")),O||(Z.sourceId="Origem (Conta/Cartão) é obrigatória."),c===ye.TRANSFER&&!N&&(Z.toAccountId="Conta de destino é obrigatória."),c===ye.TRANSFER&&O===N&&(Z.toAccountId="Conta de origem e destino não podem ser iguais."),c===ye.TRANSFER&&(ae==null?void 0:ae.type)==="creditCard"&&(Z.sourceId="Transferências não podem originar de um cartão de crédito."),T||(Z.date="Data é obrigatória."),B(Z),Object.keys(Z).length===0},W=Z=>{if(Z.preventDefault(),!L())return;const ae={...s?{id:s.id}:{},type:c,amount:parseFloat(h),category_id:c===ye.TRANSFER?void 0:y,description:S,date:T,account_id:O,to_account_id:c===ye.TRANSFER?N:void 0,tag_ids:M.length>0?M:void 0};t(ae)},Q=Z=>{const ae=Z.target.options,$=[];for(let G=0,ne=ae.length;G<ne;G++)ae[G].selected&&$.push(ae[G].value);P($)},Y=a.filter(Z=>Z.type===c),H=i.map(Z=>({value:Z.id,label:Z.name})),j=((F=V.find(Z=>Z.value===O))==null?void 0:F.type)==="creditCard";return x.jsxs("form",{onSubmit:W,className:"space-y-4",children:[x.jsx(qt,{label:"Tipo",id:"type",options:Ew,value:c,onChange:Z=>f(Z.target.value)}),x.jsx(Je,{label:"Valor",id:"amount",type:"number",step:"0.01",value:h,onChange:Z=>m(Z.target.value),error:I.amount,placeholder:u?Ae(0,"BRL","pt-BR",!0).replace("0,00","Ex: 123.45"):"Ex: 123.45",required:!0}),c!==ye.TRANSFER&&x.jsx(qt,{label:j&&c===ye.EXPENSE?"Categoria (Opcional para Débito Direto no Cartão)":"Categoria",id:"category",options:Y.map(Z=>({value:Z.id,label:Z.name})),value:y,onChange:Z=>_(Z.target.value),error:I.categoryId,placeholder:"Selecione uma categoria",disabled:Y.length===0}),x.jsx(Je,{label:"Descrição (Opcional)",id:"description",type:"text",value:S,onChange:Z=>A(Z.target.value),placeholder:j&&c===ye.EXPENSE?"Ex: Academia, Assinatura Spotify (será usado na fatura)":"Ex: Compras no mercado"}),x.jsx(Je,{label:"Data",id:"date",type:"date",value:T,onChange:Z=>C(Z.target.value),error:I.date,required:!0}),x.jsx(qt,{label:c===ye.TRANSFER?"Debitar de (Conta)":"Debitar de (Conta / Cartão)",id:"sourceId",options:c===ye.TRANSFER?V.filter(Z=>Z.type==="account"):V,value:O,onChange:Z=>E(Z.target.value),error:I.sourceId,placeholder:"Selecione uma origem",disabled:V.length===0}),c===ye.TRANSFER&&x.jsx(qt,{label:"Conta de Destino",id:"toAccountId",options:n.map(Z=>({value:Z.id,label:Z.name})),value:N,onChange:Z=>k(Z.target.value),error:I.toAccountId,placeholder:"Selecione uma conta de destino",disabled:n.length===0}),i.length>0&&x.jsx(qt,{label:"Tags (Opcional, segure Ctrl/Cmd para selecionar várias)",id:"tags",multiple:!0,options:H,value:M,onChange:Q,containerClassName:"h-auto",className:"h-24"}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[x.jsx(_e,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),x.jsx(_e,{type:"submit",variant:"primary",children:s?"Salvar Alterações":"Adicionar Transação"})]})]})},Mue=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-6.364-.386 1.591-1.591M3 12h2.25m.386-6.364 1.591 1.591M12 12a2.25 2.25 0 0 0-2.25 2.25 2.25 2.25 0 0 0 2.25 2.25A2.25 2.25 0 0 0 14.25 12 2.25 2.25 0 0 0 12 12Z"})}),Due=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),Nue=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25Z"})}),Pue=({theme:t,setTheme:e})=>{const n=[{name:"light",label:"Claro",icon:x.jsx(Mue,{className:"w-4 h-4"})},{name:"dark",label:"Escuro",icon:x.jsx(Due,{className:"w-4 h-4"})},{name:"system",label:"Sistema",icon:x.jsx(Nue,{className:"w-4 h-4"})}];return x.jsxs("div",{className:"p-2",children:[x.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark mb-1 px-1",children:"Tema"}),x.jsx("div",{className:"flex items-center justify-around bg-neutral/10 dark:bg-neutralDark/20 rounded-md p-1",children:n.map(r=>x.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>e(r.name),className:`flex-1 !px-2 !py-1 text-xs transition-all duration-200 ease-in-out
                        ${t===r.name?"!bg-primary/20 dark:!bg-primaryDark/30 !text-primary dark:!text-primaryDark":"hover:!bg-neutral/20 dark:hover:!bg-neutralDark/30 !text-textMuted dark:!text-textMutedDark"}`,title:`Mudar para tema ${r.label.toLowerCase()}`,"aria-pressed":t===r.name,children:[X.cloneElement(r.icon,{className:"w-4 h-4 sm:mr-1"}),x.jsx("span",{className:"hidden sm:inline",children:r.label})]},r.name))})]})},Rue=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Iue=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93s.844.179 1.259.038l.821-.393c.55-.263 1.18.055 1.39.606l.548 1.004c.21.55-.056 1.18-.607 1.39l-.82.393c-.415.198-.688.598-.758 1.038s.038.844.179 1.259l.393.821c.263.55.055 1.18-.606 1.39l-1.004.548c-.55.21-1.18-.056-1.39-.607l-.393-.82c-.198-.415-.598-.688-1.038-.758s-.844-.038-1.259.179l-.821.393c-.55.263-1.18-.055-1.39-.606l-.548-1.004c-.21-.55.056-1.18.607-1.39l.82-.393c.415-.198.688.598-.758-1.038s-.038-.844-.179-1.259l-.393-.821c-.263-.55-.055-1.18.606-1.39l1.004-.548c.55-.21 1.18.056 1.39.607l.393.82c.198.415.598.688 1.038.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433l-.002-.003c-.043-.073-.086-.146-.129-.219l-.821-.393c-.415-.198-.688-.598-.758-1.038s.038-.844-.179-1.259l.393-.821A.991.991 0 0 0 12 3c-.55 0-1.02.398-1.11.94l-.149.894c-.07.424-.384.764-.78.93s-.844.179-1.259.038l-.821-.393a.991.991 0 0 0-1.433.287l-.003.002c-.073.043-.146.086-.219.129l-.393.821c-.198-.415-.598-.688-1.038.758s-.844-.038-1.259.179l-.821.393a.991.991 0 0 0-.287 1.433l.002.003c.043.073.086.146.129.219l.821.393c.415.198.688.598.758 1.038s-.038.844-.179-1.259l-.393.821a.991.991 0 0 0 1.433.287l.003-.002c.073-.043.146-.086.219-.129l.393-.821c.198-.415.598-.688 1.038-.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433L10.343 3.94Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})]}),jue=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5L12 14.25L7.5 16.5V3.75m9 0H18A2.25 2.25 0 0 1 20.25 6v12A2.25 2.25 0 0 1 18 20.25H6A2.25 2.25 0 0 1 3.75 18V6A2.25 2.25 0 0 1 6 3.75h1.5m9 0h-9"})}),Lue=({className:t="w-6 h-6",style:e})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),$ue=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}),Bue=({className:t="w-6 h-6",style:e})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"})}),que=()=>{var _f;const{addToast:t}=HR(),[e,n]=q.useState(null),[r,a]=q.useState(null),[i,s]=q.useState(!0),[u,c]=q.useState(null),[f,h]=q.useState("system"),[m,y]=q.useState(!1),[_,S]=q.useState({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),[A,T]=q.useState([]),[C,O]=q.useState([]),[E,N]=q.useState([]),[k,M]=q.useState([]),[P,I]=q.useState([]),[B,V]=q.useState([]),[L,W]=q.useState([]),[Q,Y]=q.useState([]),[H,j]=q.useState([]),[F,Z]=q.useState([]),[ae,$]=q.useState([]),[G,ne]=q.useState([]),[ce,ge]=q.useState([]),[De,Ce]=q.useState(!0),[yt,ze]=q.useState("DASHBOARD"),[we,je]=q.useState(!1),[qe,me]=q.useState(null),mt=q.useMemo(()=>{var U;return((U=r==null?void 0:r.user_metadata)==null?void 0:U.full_name)||(r==null?void 0:r.email)||"Usuário"},[r]);q.useEffect(()=>{s(!0),Te.auth.getSession().then(({data:{session:z}})=>{n(z),a((z==null?void 0:z.user)??null),s(!1)});const{data:{subscription:U}}=Te.auth.onAuthStateChange((z,J)=>{n(J),a((J==null?void 0:J.user)??null),s(!1),z==="SIGNED_OUT"&&(ze("LOGIN"),T([]),O([]),N([]),M([]),I([]),V([]),W([]),Y([]),j([]),Z([]),$([]),ne([]),ge([]),h("system"),y(!1),S({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),t("Você foi desconectado.","info"))});return()=>U.unsubscribe()},[t]);const Qe=q.useCallback(async U=>{var z,J;Ce(!0);try{const{data:ue,error:oe}=await Te.from("user_preferences").select("*").eq("user_id",U).single();if(oe&&oe.code!=="PGRST116")throw oe;if(ue)h(ue.theme),y(ue.is_privacy_mode_enabled),S({isEnabled:ue.ai_is_enabled,monthlyIncome:ue.ai_monthly_income,autoBackupToFileEnabled:ue.ai_auto_backup_enabled,apiKeyStatus:Bo()?"available":"unavailable"});else{const Un={theme:"system",is_privacy_mode_enabled:!1,ai_is_enabled:!1,ai_monthly_income:null,ai_auto_backup_enabled:!1},{error:Pr}=await Te.from("user_preferences").insert({user_id:U,...Un});if(Pr)throw Pr;h(Un.theme),y(Un.is_privacy_mode_enabled),S({isEnabled:Un.ai_is_enabled,monthlyIncome:Un.ai_monthly_income,autoBackupToFileEnabled:Un.ai_auto_backup_enabled,apiKeyStatus:Bo()?"available":"unavailable"})}const[ve,Re,ke,We,Ye,Ne,bt,ba,Wr,Wo,ri,Yl,Sn]=await Promise.all([Te.from("transactions").select("*").eq("user_id",U).order("date",{ascending:!1}),Te.from("accounts").select("*").eq("user_id",U).order("name"),Te.from("categories").select("*").eq("user_id",U).order("name"),Te.from("credit_cards").select("*").eq("user_id",U).order("name"),Te.from("installment_purchases").select("*").eq("user_id",U).order("purchase_date",{ascending:!1}),Te.from("money_boxes").select("*").eq("user_id",U).order("name"),Te.from("money_box_transactions").select("*").eq("user_id",U).order("date",{ascending:!1}),Te.from("future_purchases").select("*").eq("user_id",U).order("created_at",{ascending:!1}),Te.from("tags").select("*").eq("user_id",U).order("name"),Te.from("recurring_transactions").select("*").eq("user_id",U).order("next_due_date"),Te.from("loans").select("*").eq("user_id",U).order("loan_date",{ascending:!1}),Te.from("loan_repayments").select("*").eq("user_id",U).order("repayment_date",{ascending:!1}),Te.from("ai_insights").select("*").eq("user_id",U).order("timestamp",{ascending:!1})]);if(ve.error)throw ve.error;if(T(ve.data),Re.error)throw Re.error;if(O(Re.data),ke.error)throw ke.error;if(N(ke.data),We.error)throw We.error;if(M(We.data),Ye.error)throw Ye.error;if(I(Ye.data),Ne.error)throw Ne.error;if(V(Ne.data),bt.error)throw bt.error;if(W(bt.data),ba.error)throw ba.error;if(Y(ba.data),Wr.error)throw Wr.error;if(j(Wr.data),Wo.error)throw Wo.error;if(Z(Wo.data),ri.error)throw ri.error;if($(ri.data),Yl.error)throw Yl.error;if(ne(Yl.data),Sn.error)throw Sn.error;if(ge(Sn.data),((z=Re.data)==null?void 0:z.length)===0){const Un=bq(U).map(Xr=>({...Xr,user_id:U})),{data:Pr,error:xa}=await Te.from("accounts").insert(Un).select();if(xa)throw xa;Pr&&O(Pr)}if(((J=ke.data)==null?void 0:J.length)===0){const Un=yq(U).map(Xr=>({...Xr,user_id:U})),{data:Pr,error:xa}=await Te.from("categories").insert(Un).select();if(xa)throw xa;Pr&&N(Pr)}ze("DASHBOARD")}catch(ue){console.error("Error fetching user data:",ue),t(`Erro ao carregar dados: ${ue.message}`,"error")}finally{Ce(!1)}},[t]);q.useEffect(()=>{r&&!i?Qe(r.id):!r&&!i&&(ze("LOGIN"),Ce(!1))},[r,i,Qe]);const Mt=q.useCallback(async(U,z,J)=>{const{error:ue}=await Te.from("user_preferences").update({[z]:J,updated_at:new Date().toISOString()}).eq("user_id",U);ue&&(console.error(`Error updating user preference ${z}:`,ue),t(`Erro ao salvar preferência (${z}): ${ue.message}`,"error"))},[t]),zt=q.useCallback(U=>{h(U),r&&Mt(r.id,"theme",U)},[r,Mt]),Ct=q.useCallback(()=>{const U=!m;y(U),r&&Mt(r.id,"is_privacy_mode_enabled",U)},[m,r,Mt]),Zn=q.useCallback(U=>{const z={};U.isEnabled!==void 0&&(z.ai_is_enabled=U.isEnabled),U.monthlyIncome!==void 0&&(z.ai_monthly_income=U.monthlyIncome),U.autoBackupToFileEnabled!==void 0&&(z.ai_auto_backup_enabled=U.autoBackupToFileEnabled),S(J=>({...J,...U})),r&&Object.keys(z).length>0&&Te.from("user_preferences").update({...z,updated_at:new Date().toISOString()}).eq("user_id",r.id).then(({error:J})=>{J&&(console.error("Error updating AI config in preferences:",J),t(`Erro ao salvar configurações da IA: ${J.message}`,"error"))})},[r,t]);q.useEffect(()=>{const U=z=>{z==="dark"||z==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};if(U(f),f==="system"){const z=window.matchMedia("(prefers-color-scheme: dark)"),J=()=>U("system");return z.addEventListener("change",J),()=>z.removeEventListener("change",J)}},[f]);const Dr=async()=>{try{c(null);const{error:U}=await Te.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://thiago3005.github.io/controle-financeiro/"}});if(U)throw U}catch(U){console.error("Error signing in with Google:",U),c(U.message||"Falha ao fazer login com Google."),t(U.message||"Falha ao fazer login com Google.","error")}},pa=async()=>{try{const{error:U}=await Te.auth.signOut();if(U)throw U}catch(U){console.error("Error signing out:",U),t(U.message||"Falha ao sair.","error")}},On=async U=>{var oe;if(!r)return;const z={...U,user_id:r.id},{data:J,error:ue}=await Te.from("transactions").insert(z).select().single();if(ue){t(`Erro: ${ue.message}`,"error");return}if(J&&(T(Re=>[J,...Re].sort((ke,We)=>new Date(We.date).getTime()-new Date(ke.date).getTime())),je(!1),ga(J),t("Transação adicionada!","success"),k.some(Re=>Re.id===J.account_id)&&J.type===ye.EXPENSE)){const Re={credit_card_id:J.account_id,description:`Débito na Fatura: ${J.description||((oe=E.find(ke=>ke.id===J.category_id))==null?void 0:oe.name)||"Despesa no Cartão"}`,purchase_date:J.date,total_amount:J.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:J.id};await Kr(Re,!1)}},Nr=async U=>{var oe,ve,Re;if(!r||!U.id)return;const z=A.find(ke=>ke.id===U.id);if(!z){t("Erro: Transação original não encontrada.","error");return}const{data:J,error:ue}=await Te.from("transactions").update(U).eq("id",U.id).eq("user_id",r.id).select().single();if(ue){t(`Erro ao atualizar transação: ${ue.message}`,"error");return}if(J){T(Ne=>Ne.map(bt=>bt.id===J.id?J:bt).sort((bt,ba)=>new Date(ba.date).getTime()-new Date(bt.date).getTime())),je(!1),me(null),ga(J),t("Transação atualizada!","success");const ke=k.some(Ne=>Ne.id===z.account_id)&&z.type===ye.EXPENSE,We=k.some(Ne=>Ne.id===J.account_id)&&J.type===ye.EXPENSE,Ye=P.find(Ne=>Ne.linked_transaction_id===z.id&&Ne.number_of_installments===1);if(ke&&!We&&Ye)await fr(Ye.id,!1);else if(!ke&&We){const Ne={credit_card_id:J.account_id,description:`Débito na Fatura: ${J.description||((oe=E.find(bt=>bt.id===J.category_id))==null?void 0:oe.name)||"Despesa no Cartão"}`,purchase_date:J.date,total_amount:J.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:J.id};await Kr(Ne,!1)}else if(ke&&We&&Ye){if(z.account_id!==J.account_id&&Ye){await fr(Ye.id,!1);const Ne={credit_card_id:J.account_id,description:`Débito na Fatura: ${J.description||((ve=E.find(bt=>bt.id===J.category_id))==null?void 0:ve.name)||"Despesa no Cartão"}`,purchase_date:J.date,total_amount:J.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:J.id};await Kr(Ne,!1)}else if(Ye){const Ne={...Ye,description:`Débito na Fatura: ${J.description||((Re=E.find(bt=>bt.id===J.category_id))==null?void 0:Re.name)||"Despesa no Cartão"}`,purchase_date:J.date,total_amount:J.amount};await ti(Ne,!1)}}}},ei=async U=>{if(r&&window.confirm("Excluir esta transação?")){L.find(ue=>ue.linked_transaction_id===U);const z=P.find(ue=>ue.linked_transaction_id===U&&ue.number_of_installments===1);z&&await fr(z.id,!1);const{error:J}=await Te.from("transactions").delete().eq("id",U).eq("user_id",r.id);J?t(`Erro: ${J.message}`,"error"):(T(ue=>ue.filter(oe=>oe.id!==U)),t("Transação excluída!","success"))}},Ho=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("accounts").insert({...U,user_id:r.id}).select().single();J?t(`Erro: ${J.message}`,"error"):z&&(O(ue=>[...ue,z].sort((oe,ve)=>oe.name.localeCompare(ve.name))),t("Conta adicionada!","success"))},Ko=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("accounts").update(U).eq("id",U.id).eq("user_id",r.id).select().single();J?t(`Erro: ${J.message}`,"error"):z&&(O(ue=>ue.map(oe=>oe.id===z.id?z:oe).sort((oe,ve)=>oe.name.localeCompare(ve.name))),t("Conta atualizada!","success"))},Gi=async U=>{if(r){if(A.some(z=>z.account_id===U||z.to_account_id===U)||F.some(z=>z.account_id===U||z.to_account_id===U)||ae.some(z=>z.linked_account_id===U||G.some(J=>J.loan_id===z.id&&J.credited_account_id===U))||L.some(z=>{var J;return((J=A.find(ue=>ue.id===z.linked_transaction_id))==null?void 0:J.account_id)===U})){t("Conta em uso. Remova/reatribua transações, recorrências ou empréstimos primeiro.","error");return}if(window.confirm("Excluir esta conta?")){const{error:z}=await Te.from("accounts").delete().eq("id",U).eq("user_id",r.id);z?t(`Erro: ${z.message}`,"error"):(O(J=>J.filter(ue=>ue.id!==U)),t("Conta excluída!","success"))}}},Mn=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("categories").insert({...U,user_id:r.id}).select().single();J?t(`Erro: ${J.message}`,"error"):z&&(N(ue=>[...ue,z].sort((oe,ve)=>oe.name.localeCompare(ve.name))),t("Categoria adicionada!","success"))},Hr=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("categories").update(U).eq("id",U.id).eq("user_id",r.id).select().single();J?t(`Erro: ${J.message}`,"error"):z&&(N(ue=>ue.map(oe=>oe.id===z.id?z:oe).sort((oe,ve)=>oe.name.localeCompare(ve.name))),t("Categoria atualizada!","success"))},Dn=async U=>{if(r){if(A.some(z=>z.category_id===U)||F.some(z=>z.category_id===U)){t("Categoria em uso. Remova/reatribua transações ou recorrências primeiro.","error");return}if(window.confirm("Excluir esta categoria?")){const{error:z}=await Te.from("categories").delete().eq("id",U).eq("user_id",r.id);z?t(`Erro: ${z.message}`,"error"):(N(J=>J.filter(ue=>ue.id!==U)),t("Categoria excluída!","success"))}}},em=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("credit_cards").insert({...U,user_id:r.id}).select().single();J?t(`Erro: ${J.message}`,"error"):z&&(M(ue=>[...ue,z].sort((oe,ve)=>oe.name.localeCompare(ve.name))),t("Cartão adicionado!","success"))},tm=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("credit_cards").update(U).eq("id",U.id).eq("user_id",r.id).select().single();J?t(`Erro: ${J.message}`,"error"):z&&(M(ue=>ue.map(oe=>oe.id===z.id?z:oe).sort((oe,ve)=>oe.name.localeCompare(ve.name))),t("Cartão atualizado!","success"))},nm=async U=>{if(r){if(P.some(z=>z.credit_card_id===U)||ae.some(z=>z.linked_credit_card_id===U)||A.some(z=>z.account_id===U&&z.type===ye.EXPENSE)){t("Cartão em uso em compras, empréstimos ou débitos diretos. Remova-os primeiro.","error");return}if(window.confirm("Excluir este cartão?")){const{error:z}=await Te.from("credit_cards").delete().eq("id",U).eq("user_id",r.id);z?t(`Erro: ${z.message}`,"error"):(M(J=>J.filter(ue=>ue.id!==U)),t("Cartão excluído!","success"))}}},Kr=async(U,z=!0)=>{if(!r)return;const{data:J,error:ue}=await Te.from("installment_purchases").insert({...U,user_id:r.id}).select().single();ue?t(`Erro: ${ue.message}`,"error"):J&&(I(oe=>[...oe,J].sort((ve,Re)=>new Date(Re.purchase_date).getTime()-new Date(ve.purchase_date).getTime())),z&&t("Compra parcelada adicionada!","success"))},ti=async(U,z=!0)=>{if(!r)return;const{data:J,error:ue}=await Te.from("installment_purchases").update(U).eq("id",U.id).eq("user_id",r.id).select().single();ue?t(`Erro: ${ue.message}`,"error"):J&&(I(oe=>oe.map(ve=>ve.id===J.id?J:ve).sort((ve,Re)=>new Date(Re.purchase_date).getTime()-new Date(ve.purchase_date).getTime())),z&&t("Compra parcelada atualizada!","success"))},fr=async(U,z=!0)=>{if(!r)return;const J=P.find(oe=>oe.id===U);if(ae.some(oe=>oe.linked_installment_purchase_id===U)){t("Esta compra parcelada está vinculada a um empréstimo. Remova o vínculo no empréstimo primeiro.","error");return}const ue=J!=null&&J.linked_transaction_id&&J.number_of_installments===1&&z?"Excluir esta compra e a transação de despesa original vinculada?":"Excluir esta compra parcelada?";if(window.confirm(ue)){if(J!=null&&J.linked_transaction_id&&J.number_of_installments===1&&z){const{error:ve}=await Te.from("transactions").delete().eq("id",J.linked_transaction_id).eq("user_id",r.id);ve?t(`Erro ao excluir transação vinculada: ${ve.message}`,"error"):T(Re=>Re.filter(ke=>ke.id!==J.linked_transaction_id))}const{error:oe}=await Te.from("installment_purchases").delete().eq("id",U).eq("user_id",r.id);oe?t(`Erro ao excluir compra: ${oe.message}`,"error"):(I(ve=>ve.filter(Re=>Re.id!==U)),t("Compra parcelada excluída!","success"))}},Yo=async U=>{if(!r)return;const z=P.find(J=>J.id===U);if(z&&z.installments_paid<z.number_of_installments){const J={...z,installments_paid:z.installments_paid+1};await ti(J)}},Hi=async U=>{if(!r)return;const z=k.find(oe=>oe.id===U);if(!z){t("Cartão não encontrado.","error");return}const J=VR(P,z,new Date);if(J.length===0){t("Nenhuma parcela elegível para pagamento neste ciclo.","info");return}const ue=J.map(oe=>{const ve={...oe,installments_paid:oe.installments_paid+1};return Te.from("installment_purchases").update({installments_paid:ve.installments_paid,updated_at:new Date().toISOString()}).eq("id",oe.id).eq("user_id",r.id).select().single()});try{const oe=await Promise.all(ue),ve=[];let Re=0;oe.forEach(ke=>{ke.error?(Re++,console.error("Error updating installment:",ke.error)):ke.data&&ve.push(ke.data)}),ve.length>0&&(I(ke=>ke.map(We=>ve.find(Ne=>Ne.id===We.id)||We).sort((We,Ye)=>new Date(Ye.purchase_date).getTime()-new Date(We.purchase_date).getTime())),t(`${ve.length} parcela(s) da fatura marcada(s) como paga(s)!`,"success")),Re>0&&t(`Falha ao pagar ${Re} parcela(s).`,"error")}catch(oe){t(`Erro ao processar pagamento das parcelas: ${oe.message}`,"error")}},rm=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("money_boxes").insert({...U,user_id:r.id}).select().single();J?t(`Erro: ${J.message}`,"error"):z&&(V(ue=>[...ue,z].sort((oe,ve)=>oe.name.localeCompare(ve.name))),t("Caixinha adicionada!","success"))},pf=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("money_boxes").update(U).eq("id",U.id).eq("user_id",r.id).select().single();J?t(`Erro: ${J.message}`,"error"):z&&(V(ue=>ue.map(oe=>oe.id===z.id?z:oe).sort((oe,ve)=>oe.name.localeCompare(ve.name))),t("Caixinha atualizada!","success"))},mf=async U=>{if(r){if(L.some(z=>z.money_box_id===U)){t("Caixinha possui transações. Exclua as transações primeiro.","error");return}if(window.confirm("Excluir esta caixinha?")){const{error:z}=await Te.from("money_boxes").delete().eq("id",U).eq("user_id",r.id);z?t(`Erro ao excluir caixinha: ${z.message}`,"error"):(V(J=>J.filter(ue=>ue.id!==U)),t("Caixinha excluída!","success"))}}},Vl=async(U,z,J)=>{var Re;if(!r)return;let ue;if(z&&J){const ke=U.type===lr.DEPOSIT?ye.EXPENSE:ye.INCOME,We=`${U.type===lr.DEPOSIT?"Depósito para":"Saque de"} Caixinha: ${((Re=B.find(bt=>bt.id===U.money_box_id))==null?void 0:Re.name)||"N/A"}`,{data:Ye,error:Ne}=await Te.from("transactions").insert({user_id:r.id,type:ke,amount:U.amount,date:U.date,account_id:J,description:We}).select().single();if(Ne||!Ye){t(`Erro ao criar transação principal: ${(Ne==null?void 0:Ne.message)||"Falha"}`,"error");return}ue=Ye.id,T(bt=>[Ye,...bt].sort((ba,Wr)=>new Date(Wr.date).getTime()-new Date(ba.date).getTime()))}const{data:oe,error:ve}=await Te.from("money_box_transactions").insert({...U,user_id:r.id,linked_transaction_id:ue}).select().single();ve?t(`Erro ao adicionar transação da caixinha: ${ve.message}`,"error"):oe&&(W(ke=>[...ke,oe]),t("Transação da caixinha adicionada!","success"))},Ki=async(U,z)=>{if(r&&window.confirm(`Excluir esta transação da caixinha? ${z?"\\nA transação principal vinculada NÃO será excluída automaticamente por esta ação.":""}`)){const{error:J}=await Te.from("money_box_transactions").delete().eq("id",U).eq("user_id",r.id);J?t(`Erro: ${J.message}`,"error"):(W(ue=>ue.filter(oe=>oe.id!==U)),t("Transação da caixinha excluída!","success"))}},am=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("tags").insert({...U,user_id:r.id}).select().single();J?t(`Erro: ${J.message}`,"error"):z&&(j(ue=>[...ue,z].sort((oe,ve)=>oe.name.localeCompare(ve.name))),t("Tag adicionada!","success"))},gf=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("tags").update(U).eq("id",U.id).eq("user_id",r.id).select().single();J?t(`Erro: ${J.message}`,"error"):z&&(j(ue=>ue.map(oe=>oe.id===z.id?z:oe).sort((oe,ve)=>oe.name.localeCompare(ve.name))),t("Tag atualizada!","success"))},vf=async U=>{if(r){if(A.some(z=>{var J;return(J=z.tag_ids)==null?void 0:J.includes(U)})){t("Tag em uso. Remova-a das transações primeiro.","error");return}if(window.confirm("Excluir esta tag?")){const{error:z}=await Te.from("tags").delete().eq("id",U).eq("user_id",r.id);z?t(`Erro: ${z.message}`,"error"):(j(J=>J.filter(ue=>ue.id!==U)),t("Tag excluída!","success"))}}},zl=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("recurring_transactions").insert({...U,user_id:r.id}).select().single();J?t(`Erro: ${J.message}`,"error"):z&&(Z(ue=>[...ue,z].sort((oe,ve)=>new Date(oe.next_due_date).getTime()-new Date(ve.next_due_date).getTime())),t("Recorrência adicionada!","success"))},Gl=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("recurring_transactions").update(U).eq("id",U.id).eq("user_id",r.id).select().single();J?t(`Erro: ${J.message}`,"error"):z&&(Z(ue=>ue.map(oe=>oe.id===z.id?z:oe).sort((oe,ve)=>new Date(oe.next_due_date).getTime()-new Date(ve.next_due_date).getTime())),t("Recorrência atualizada!","success"))},yf=async U=>{if(r&&window.confirm("Excluir esta recorrência?")){const{error:z}=await Te.from("recurring_transactions").delete().eq("id",U).eq("user_id",r.id);z?t(`Erro: ${z.message}`,"error"):(Z(J=>J.filter(ue=>ue.id!==U)),t("Recorrência excluída!","success"))}},im=async()=>{if(!r)return{count:0,errors:["Usuário não logado."]};const U=Ut(),z=F.filter(oe=>!oe.is_paused&&oe.next_due_date<=U&&(oe.remaining_occurrences===void 0||oe.remaining_occurrences>0));let J=0;const ue=[];for(const oe of z){const ve={type:oe.type,amount:oe.amount,category_id:oe.category_id,description:`Rec: ${oe.description}`,date:oe.next_due_date,account_id:oe.account_id,to_account_id:oe.to_account_id};await On(ve);const Re=Qle(oe.next_due_date,oe.frequency,oe.custom_interval_days),ke={last_posted_date:oe.next_due_date,next_due_date:Re,remaining_occurrences:oe.remaining_occurrences!==void 0?Math.max(0,oe.remaining_occurrences-1):void 0},{error:We}=await Te.from("recurring_transactions").update(ke).eq("id",oe.id).eq("user_id",r.id);We?ue.push(`Erro ao atualizar ${oe.description}: ${We.message}`):(Z(Ye=>Ye.map(Ne=>Ne.id===oe.id?{...Ne,...ke}:Ne).sort((Ne,bt)=>new Date(Ne.next_due_date).getTime()-new Date(bt.next_due_date).getTime())),J++)}return{count:J,errors:ue}},Yr=async(U,z)=>{if(!r)return;let J,ue;if(U.funding_source==="account"&&U.linked_account_id&&U.amount_delivered_from_account){const{data:ke,error:We}=await Te.from("transactions").insert({user_id:r.id,type:ye.EXPENSE,amount:U.amount_delivered_from_account,date:U.loan_date,account_id:U.linked_account_id,description:`Empréstimo para ${U.person_name}`}).select().single();if(We||!ke){t(`Erro ao criar despesa vinculada: ${(We==null?void 0:We.message)||"Falha"}`,"error");return}J=ke.id,T(Ye=>[ke,...Ye].sort((Ne,bt)=>new Date(bt.date).getTime()-new Date(Ne.date).getTime()))}else if(U.funding_source==="creditCard"&&U.linked_credit_card_id&&U.cost_on_credit_card&&z){const ke={credit_card_id:U.linked_credit_card_id,description:`Empréstimo (crédito) para ${U.person_name}`,purchase_date:U.loan_date,total_amount:U.cost_on_credit_card,number_of_installments:z,installments_paid:0};It(),await Kr(ke,!1);const We=P.find(Ye=>Ye.credit_card_id===U.linked_credit_card_id&&Ye.description===`Empréstimo (crédito) para ${U.person_name}`&&Ye.purchase_date===U.loan_date&&Ye.total_amount===U.cost_on_credit_card&&!Ye.linked_installment_purchase_id);if(We)ue=We.id;else{const Ye=P.sort((Ne,bt)=>new Date(bt.created_at).getTime()-new Date(Ne.created_at).getTime())[0];Ye!=null&&Ye.description.startsWith(`Empréstimo (crédito) para ${U.person_name}`)?ue=Ye.id:t("Aviso: Não foi possível vincular automaticamente a compra parcelada ao empréstimo. Verifique manualmente.","warning")}}const oe={...U,user_id:r.id,linked_expense_transaction_id:J,linked_installment_purchase_id:ue},{data:ve,error:Re}=await Te.from("loans").insert(oe).select().single();Re?t(`Erro ao adicionar empréstimo: ${Re.message}`,"error"):ve&&($(ke=>[...ke,ve].sort((We,Ye)=>new Date(Ye.loan_date).getTime()-new Date(We.loan_date).getTime())),t("Empréstimo adicionado!","success"))},un=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("loans").update(U).eq("id",U.id).eq("user_id",r.id).select().single();J?t(`Erro: ${J.message}`,"error"):z&&($(ue=>ue.map(oe=>oe.id===z.id?z:oe).sort((oe,ve)=>new Date(ve.loan_date).getTime()-new Date(oe.loan_date).getTime())),t("Empréstimo atualizado!","success"))},wn=async U=>{if(r){if(G.some(z=>z.loan_id===U)){t("Este empréstimo possui pagamentos. Exclua os pagamentos primeiro.","error");return}if(window.confirm("Excluir este empréstimo? Isso também excluirá a despesa/compra parcelada vinculada, se houver.")){const z=ae.find(ue=>ue.id===U);z!=null&&z.linked_expense_transaction_id&&(await Te.from("transactions").delete().eq("id",z.linked_expense_transaction_id).eq("user_id",r.id),T(ue=>ue.filter(oe=>oe.id!==z.linked_expense_transaction_id))),z!=null&&z.linked_installment_purchase_id&&(await Te.from("installment_purchases").delete().eq("id",z.linked_installment_purchase_id).eq("user_id",r.id),I(ue=>ue.filter(oe=>oe.id!==z.linked_installment_purchase_id)));const{error:J}=await Te.from("loans").delete().eq("id",U).eq("user_id",r.id);J?t(`Erro ao excluir empréstimo: ${J.message}`,"error"):($(ue=>ue.filter(oe=>oe.id!==U)),t("Empréstimo excluído!","success"))}}},ni=async(U,z)=>{if(!r)return;const J=ae.find(We=>We.id===z);if(!J){t("Empréstimo não encontrado.","error");return}const{data:ue,error:oe}=await Te.from("transactions").insert({user_id:r.id,type:ye.INCOME,amount:U.amount_paid,date:U.repayment_date,account_id:U.credited_account_id,description:`Recebimento empréstimo de ${J.person_name}`}).select().single();if(oe||!ue){t(`Erro ao criar receita vinculada: ${(oe==null?void 0:oe.message)||"Falha"}`,"error");return}T(We=>[ue,...We].sort((Ye,Ne)=>new Date(Ne.date).getTime()-new Date(Ye.date).getTime()));const ve={...U,user_id:r.id,loan_id:z,linked_income_transaction_id:ue.id},{data:Re,error:ke}=await Te.from("loan_repayments").insert(ve).select().single();ke?t(`Erro ao adicionar pagamento: ${ke.message}`,"error"):Re&&(ne(We=>[...We,Re]),t("Pagamento registrado!","success"))},Hl=async U=>{if(!r)return;const z={...U,user_id:r.id,status:"PLANNED"},{data:J,error:ue}=await Te.from("future_purchases").insert(z).select().single();ue?t(`Erro: ${ue.message}`,"error"):J&&(Y(oe=>[...oe,J]),t("Compra futura adicionada!","success"))},om=async U=>{if(!r)return;const z=Q.find(ve=>ve.id===U.id);if(!z)return;const J={...z,...U},{data:ue,error:oe}=await Te.from("future_purchases").update(J).eq("id",J.id).eq("user_id",r.id).select().single();oe?t(`Erro: ${oe.message}`,"error"):ue&&(Y(ve=>ve.map(Re=>Re.id===ue.id?ue:Re)),t("Compra futura atualizada!","success"))},sm=async U=>{if(r&&window.confirm("Excluir esta compra futura?")){const{error:z}=await Te.from("future_purchases").delete().eq("id",U).eq("user_id",r.id);z?t(`Erro: ${z.message}`,"error"):(Y(J=>J.filter(ue=>ue.id!==U)),t("Compra futura excluída!","success"))}},dr=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("ai_insights").insert({...U,user_id:r.id}).select().single();J?t(`Erro ao salvar insight: ${J.message}`,"error"):z&&ge(ue=>[z,...ue].sort((oe,ve)=>new Date(ve.timestamp).getTime()-new Date(oe.timestamp).getTime()))},Yi=async U=>{if(!r)return;const{data:z,error:J}=await Te.from("ai_insights").update({is_read:U.is_read}).eq("id",U.id).eq("user_id",r.id).select().single();J?t(`Erro ao atualizar insight: ${J.message}`,"error"):z&&ge(ue=>ue.map(oe=>oe.id===z.id?z:oe).sort((oe,ve)=>new Date(ve.timestamp).getTime()-new Date(oe.timestamp).getTime()))},ma=q.useCallback(U=>{if(!r)return 0;const z=C.find(J=>J.id===U);return z?A.reduce((J,ue)=>{if(ue.account_id===U){if(ue.type===ye.INCOME)return J+ue.amount;if(ue.type===ye.EXPENSE||ue.type===ye.TRANSFER)return J-ue.amount}else if(ue.to_account_id===U&&ue.type===ye.TRANSFER)return J+ue.amount;return J},z.initial_balance):0},[C,A,r]),hr=q.useCallback(U=>r?L.reduce((z,J)=>{if(J.money_box_id===U){if(J.type===lr.DEPOSIT)return z+J.amount;if(J.type===lr.WITHDRAWAL)return z-J.amount}return z},0):0,[L,r]),Nn=q.useCallback(()=>{const U=()=>f==="system"?typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":f;return{currentDate:Ut(),accounts:C.map(z=>({id:z.id,name:z.name})),accountBalances:C.map(z=>({accountId:z.id,balance:ma(z.id)})),categories:E.map(z=>({id:z.id,name:z.name,type:z.type,monthly_budget:z.monthly_budget})),recentTransactions:A.slice(0,10),moneyBoxes:B.map(z=>({id:z.id,name:z.name,goal_amount:z.goal_amount})),moneyBoxBalances:B.map(z=>({moneyBoxId:z.id,balance:hr(z.id)})),loans:ae.map(z=>({id:z.id,person_name:z.person_name,total_amount_to_reimburse:z.total_amount_to_reimburse})),outstandingLoanBalances:ae.map(z=>{const J=G.filter(ue=>ue.loan_id===z.id).reduce((ue,oe)=>ue+oe.amount_paid,0);return{loanId:z.id,outstanding:z.total_amount_to_reimburse-J}}),recurringTransactions:F.map(z=>({id:z.id,description:z.description,amount:z.amount,type:z.type,next_due_date:z.next_due_date})),futurePurchases:Q.map(z=>({id:z.id,name:z.name,estimated_cost:z.estimated_cost,priority:z.priority,status:z.status})),theme:U(),monthlyIncome:_.monthlyIncome}},[C,A,E,B,L,ae,G,F,Q,f,_.monthlyIncome,ma,hr]),Wi=q.useCallback(async()=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const U={timestamp:new Date().toISOString(),type:"general_advice",content:"Buscando novo conselho...",is_read:!1,isLoading:!0},z=It();ge(oe=>[{...U,id:z,user_id:r.id,created_at:"",updated_at:""},...oe]);const J=Nn(),ue=await Yle(J);ge(oe=>oe.filter(ve=>ve.id!==z)),ue&&dr(ue)},[r,_.isEnabled,_.apiKeyStatus,Nn,dr]),ga=q.useCallback(async U=>{var ke,We,Ye;if(!r||!_.isEnabled||_.apiKeyStatus!=="available")return;const z={timestamp:new Date().toISOString(),type:"transaction_comment",content:`Analisando transação: ${U.description||U.type}...`,related_transaction_id:U.id,is_read:!1,isLoading:!0},J=It();ge(Ne=>[{...z,id:J,user_id:r.id,created_at:"",updated_at:""},...Ne]);const ue=Nn(),oe=U.category_id?(ke=E.find(Ne=>Ne.id===U.category_id))==null?void 0:ke.name:void 0,ve=((We=C.find(Ne=>Ne.id===U.account_id))==null?void 0:We.name)||((Ye=k.find(Ne=>Ne.id===U.account_id))==null?void 0:Ye.name),Re=await Wle(U,ue,oe,ve);ge(Ne=>Ne.filter(bt=>bt.id!==J)),Re&&dr(Re)},[r,_.isEnabled,_.apiKeyStatus,E,C,k,Nn,dr]),Zt=q.useCallback(async(U,z)=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available"||!_.monthlyIncome)return t("Renda mensal não informada ou IA desativada.","warning"),null;const J=E.find(ke=>ke.name===U&&ke.type===ye.EXPENSE),ue={timestamp:new Date().toISOString(),type:"budget_recommendation",content:`Calculando sugestão de orçamento para ${U}...`,related_category_id:J==null?void 0:J.id,is_read:!1,isLoading:!0},oe=It();ge(ke=>[{...ue,id:oe,user_id:r.id,created_at:"",updated_at:""},...ke]);const ve=Nn(),Re=await Xle(U,_.monthlyIncome,z,ve);if(ge(ke=>ke.filter(We=>We.id!==oe)),Re&&"suggestedBudget"in Re&&typeof Re.suggestedBudget=="number"){const ke={content:`Sugestão para ${U}: ${Ae(Re.suggestedBudget)}`,related_category_id:J==null?void 0:J.id,timestamp:new Date().toISOString(),type:"budget_recommendation",is_read:!1};return dr(ke),Re.suggestedBudget}else Re&&"content"in Re&&dr(Re);return null},[r,_,E,Nn,t,dr]),bf=q.useCallback(async U=>{if(!r||!_.isEnabled||_.apiKeyStatus!=="available"){t("AI Coach desativado ou API Key indisponível.","warning");return}const z=Q.find(oe=>oe.id===U);if(!z)return;Y(oe=>oe.map(ve=>ve.id===U?{...ve,status:"AI_ANALYZING"}:ve));const J=Nn(),ue=await Zle(z,J);if(ue&&"analysisText"in ue){const{data:oe,error:ve}=await Te.from("future_purchases").update({status:ue.recommendedStatus,ai_analysis:ue.analysisText,ai_analyzed_at:new Date().toISOString()}).eq("id",U).eq("user_id",r.id).select().single();ve||!oe?(t(`Erro ao atualizar compra futura: ${(ve==null?void 0:ve.message)||"Falha"}`,"error"),Y(Re=>Re.map(ke=>ke.id===U?{...ke,status:z.status}:ke))):(Y(Re=>Re.map(ke=>ke.id===U?oe:ke)),t(`Análise para "${z.name}" concluída!`,"info"))}else ue&&"content"in ue&&(dr(ue),Y(oe=>oe.map(ve=>ve.id===U?{...ve,status:z.status}:ve)))},[r,_,Q,Nn,t,dr]),Xi=()=>{me(null),je(!0)},va=U=>{me(U),je(!0)},ya=[{view:"DASHBOARD",label:"Painel Geral",icon:x.jsx(pL,{})},{view:"TRANSACTIONS",label:"Transações",icon:x.jsx(Rue,{})},{view:"ACCOUNTS",label:"Contas",icon:x.jsx(Qc,{})},{view:"CATEGORIES",label:"Categorias",icon:x.jsx(mL,{})},{view:"CREDIT_CARDS",label:"Cartões de Crédito",icon:x.jsx(Qc,{})},{view:"MONEY_BOXES",label:"Caixinhas",icon:x.jsx(zL,{})},{view:"FUTURE_PURCHASES",label:"Compras Futuras",icon:x.jsx($S,{})},{view:"TAGS",label:"Tags",icon:x.jsx(jue,{})},{view:"RECURRING_TRANSACTIONS",label:"Recorrências",icon:x.jsx(GL,{})},{view:"LOANS",label:"Empréstimos",icon:x.jsx(Cw,{})},{view:"AI_COACH",label:"AI Coach",icon:x.jsx(th,{})},{view:"DATA_MANAGEMENT",label:"Dados",icon:x.jsx(Iue,{})}],lm=ya.filter(U=>["DASHBOARD","TRANSACTIONS","AI_COACH","FUTURE_PURCHASES","ACCOUNTS"].includes(U.view)).slice(0,5);if(i||r&&De)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background dark:bg-backgroundDark",children:x.jsx("p",{className:"text-lg text-textMuted dark:text-textMutedDark",children:"Carregando..."})});if(!r)return x.jsx(kue,{onLoginWithGoogle:Dr,isLoading:i});const Kl=U=>{F.find(J=>J.id===U)?ze("RECURRING_TRANSACTIONS"):t("Transação recorrente não encontrada.","warning")},xf=()=>{switch(yt){case"DASHBOARD":return x.jsx(HN,{transactions:A,accounts:C,categories:E,creditCards:k,installmentPurchases:P,moneyBoxes:B,loans:ae,loanRepayments:G,recurringTransactions:F,onAddTransaction:Xi,calculateAccountBalance:ma,calculateMoneyBoxBalance:hr,onViewRecurringTransaction:Kl,isPrivacyModeEnabled:m});case"TRANSACTIONS":return x.jsx(ZQ,{transactions:A,accounts:C,categories:E,tags:H,installmentPurchases:P,onAddTransaction:Xi,onEditTransaction:va,onDeleteTransaction:ei,isLoading:De,isPrivacyModeEnabled:m});case"ACCOUNTS":return x.jsx(QQ,{accounts:C,transactions:A,onAddAccount:Ho,onUpdateAccount:Ko,onDeleteAccount:Gi,calculateAccountBalance:ma,isPrivacyModeEnabled:m});case"CREDIT_CARDS":return x.jsx(eue,{creditCards:k,installmentPurchases:P,aiConfig:_,onAddCreditCard:em,onUpdateCreditCard:tm,onDeleteCreditCard:nm,onAddInstallmentPurchase:Kr,onUpdateInstallmentPurchase:ti,onDeleteInstallmentPurchase:fr,onMarkInstallmentPaid:Yo,onPayMonthlyInstallments:Hi,isPrivacyModeEnabled:m});case"CATEGORIES":return x.jsx(eee,{categories:E,transactions:A,aiConfig:_,onAddCategory:Mn,onUpdateCategory:Hr,onDeleteCategory:Dn,onSuggestBudget:Zt,isPrivacyModeEnabled:m});case"MONEY_BOXES":return x.jsx(iue,{moneyBoxes:B,moneyBoxTransactions:L,accounts:C,onAddMoneyBox:rm,onUpdateMoneyBox:pf,onDeleteMoneyBox:mf,onAddMoneyBoxTransaction:Vl,onDeleteMoneyBoxTransaction:Ki,calculateMoneyBoxBalance:hr,isPrivacyModeEnabled:m});case"FUTURE_PURCHASES":return x.jsx(hue,{futurePurchases:Q,onAddFuturePurchase:Hl,onUpdateFuturePurchase:om,onDeleteFuturePurchase:sm,onAnalyzeFuturePurchase:bf,isPrivacyModeEnabled:m});case"TAGS":return x.jsx(vue,{tags:H,transactions:A,onAddTag:am,onUpdateTag:gf,onDeleteTag:vf});case"RECURRING_TRANSACTIONS":return x.jsx(_ue,{recurringTransactions:F,accounts:C,categories:E,onAddRecurringTransaction:zl,onUpdateRecurringTransaction:Gl,onDeleteRecurringTransaction:yf,onProcessRecurringTransactions:im,isPrivacyModeEnabled:m});case"LOANS":return x.jsx(Aue,{loans:ae,loanRepayments:G,accounts:C,creditCards:k,onAddLoan:Yr,onUpdateLoan:un,onDeleteLoan:wn,onAddLoanRepayment:ni,isPrivacyModeEnabled:m});case"AI_COACH":return x.jsx(Eue,{aiConfig:_,setAiConfig:Zn,insights:ce,onFetchGeneralAdvice:Wi,onUpdateInsight:Yi,isPrivacyModeEnabled:m});case"DATA_MANAGEMENT":return x.jsx(pue,{allData:{transactions:A,accounts:C,categories:E,creditCards:k,installmentPurchases:P,moneyBoxes:B,moneyBoxTransactions:L,futurePurchases:Q,tags:H,recurringTransactions:F,loans:ae,loanRepayments:G,aiInsights:ce},userPreferencesToExport:{theme:f,is_privacy_mode_enabled:m,ai_is_enabled:_.isEnabled,ai_monthly_income:_.monthlyIncome,ai_auto_backup_enabled:_.autoBackupToFileEnabled},activeProfileName:mt,setAiConfig:Zn,user:r});default:return ze("DASHBOARD"),x.jsx(HN,{transactions:A,accounts:C,categories:E,creditCards:k,installmentPurchases:P,moneyBoxes:B,loans:ae,loanRepayments:G,recurringTransactions:F,onAddTransaction:Xi,calculateAccountBalance:ma,calculateMoneyBoxBalance:hr,onViewRecurringTransaction:Kl,isPrivacyModeEnabled:m})}};return x.jsxs("div",{className:"min-h-screen bg-background text-textBase dark:bg-backgroundDark dark:text-textBaseDark flex flex-col md:flex-row transition-colors duration-300",children:[x.jsxs("nav",{className:"hidden md:flex flex-col w-64 bg-surface dark:bg-surfaceDark border-r border-borderBase dark:border-borderBaseDark p-4 fixed top-0 left-0 h-full shadow-lg dark:shadow-neutralDark/40 overflow-y-auto",children:[x.jsxs("div",{className:"px-2 py-3 mb-1",children:[x.jsx("h1",{className:"text-2xl font-bold text-primary dark:text-primaryDark",children:Ix}),x.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[(_f=r==null?void 0:r.user_metadata)!=null&&_f.avatar_url?x.jsx("img",{src:r.user_metadata.avatar_url,alt:"Avatar",className:"w-8 h-8 rounded-full"}):x.jsx(HL,{className:"w-8 h-8 text-textMuted dark:text-textMutedDark"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-textBase dark:text-textBaseDark truncate",title:mt,children:mt}),x.jsxs(_e,{variant:"ghost",size:"sm",onClick:Ct,className:"!p-1 text-xs text-textMuted dark:text-textMutedDark hover:text-primary dark:hover:text-primaryDark",children:[m?x.jsx($ue,{className:"w-4 h-4 mr-1"}):x.jsx(Lue,{className:"w-4 h-4 mr-1"}),m?"Modo Privado":"Normal"]})]})]})]}),x.jsx("div",{className:"flex-grow space-y-1",children:ya.map(U=>U.view==="AI_COACH"&&_.apiKeyStatus==="unavailable"?null:x.jsxs(_e,{variant:"ghost",onClick:()=>ze(U.view),className:`w-full flex items-center justify-start px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
                                ${yt===U.view?"!bg-primary/10 !text-primary dark:!bg-primaryDark/20 dark:!text-primaryDark":"!text-textMuted dark:!text-textMutedDark hover:!bg-neutral/5 dark:hover:!bg-neutralDark/10 hover:!text-textBase dark:hover:!text-textBaseDark"}`,"aria-current":yt===U.view?"page":void 0,children:[X.cloneElement(U.icon,{className:"w-5 h-5 mr-3 flex-shrink-0"}),x.jsx("span",{className:"flex-1 truncate",children:U.label}),U.view==="AI_COACH"&&_.isEnabled&&_.apiKeyStatus==="available"&&x.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full",title:"AI Coach Ativado"})]},U.view))}),x.jsxs("div",{className:"mt-auto pt-2 space-y-2",children:[x.jsxs(_e,{variant:"ghost",onClick:pa,className:"w-full flex items-center justify-start px-3 py-2.5 rounded-lg text-sm font-medium text-textMuted dark:text-textMutedDark hover:bg-neutral/5 dark:hover:bg-neutralDark/10 hover:!text-destructive dark:hover:!text-destructiveDark",title:"Sair",children:[x.jsx(Bue,{className:"w-5 h-5 mr-3 flex-shrink-0"}),x.jsx("span",{className:"flex-1 truncate",children:"Sair"})]}),x.jsx(Pue,{theme:f,setTheme:zt})]})]}),x.jsx("main",{className:"flex-1 md:ml-64 overflow-y-auto pb-20 md:pb-0",children:xf()}),x.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-surface dark:bg-surfaceDark border-t border-borderBase dark:border-borderBaseDark shadow-top p-1 grid grid-cols-5 gap-1 z-20",children:lm.map(U=>U.view==="AI_COACH"&&_.apiKeyStatus==="unavailable"?x.jsx("div",{className:"flex flex-col items-center justify-center p-1.5 rounded-md opacity-50",children:"..."},U.view):x.jsxs(_e,{variant:"ghost",onClick:()=>ze(U.view),title:U.label,className:`flex flex-col items-center justify-center p-1.5 rounded-md relative
                          ${yt===U.view?"!text-primary dark:!text-primaryDark !bg-primary/10 dark:!bg-primaryDark/20":"!text-textMuted dark:!text-textMutedDark hover:!text-primary dark:hover:!text-primaryDark"}`,"aria-current":yt===U.view?"page":void 0,children:[X.cloneElement(U.icon,{className:"w-5 h-5 mb-0.5"}),x.jsx("span",{className:"text-[10px] leading-tight text-center",children:U.label}),U.view==="AI_COACH"&&_.isEnabled&&_.apiKeyStatus==="available"&&x.jsx("span",{className:"absolute top-1 right-1 w-1.5 h-1.5 bg-green-500 rounded-full"})]},U.view))}),x.jsx(_e,{onClick:Xi,title:"Nova Transação",variant:"primary",className:"md:hidden fixed bottom-16 right-4 text-white rounded-full p-3 shadow-lg z-30 hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors","aria-label":"Adicionar Nova Transação",children:x.jsx(Yn,{className:"w-7 h-7"})}),x.jsx(Xn,{isOpen:we,onClose:()=>{je(!1),me(null)},title:qe?"Editar Transação":"Nova Transação",size:"lg",children:x.jsx(Oue,{onSubmit:qe?Nr:U=>On(U),onCancel:()=>{je(!1),me(null)},accounts:C,creditCards:k,categories:E,tags:H,initialTransaction:qe,isPrivacyModeEnabled:m})})]})},Uue=()=>x.jsx(wq,{children:x.jsx(que,{})}),KL=document.getElementById("root");if(!KL)throw new Error("Could not find root element to mount to");const Fue=lB.createRoot(KL);Fue.render(x.jsx(X.StrictMode,{children:x.jsx(Uue,{})}));
