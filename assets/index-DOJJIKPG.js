(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function eB(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var wv={exports:{}},Ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function tB(){if(SE)return Ju;SE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:s,ref:a!==void 0?a:null,props:i}}return Ju.Fragment=e,Ju.jsx=n,Ju.jsxs=n,Ju}var wE;function nB(){return wE||(wE=1,wv.exports=tB()),wv.exports}var b=nB(),Tv={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function rB(){if(TE)return Xe;TE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function T(q,G,ee){this.props=q,this.context=G,this.refs=A,this.updater=ee||_}T.prototype.isReactComponent={},T.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},T.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function k(){}k.prototype=T.prototype;function M(q,G,ee){this.props=q,this.context=G,this.refs=A,this.updater=ee||_}var E=M.prototype=new k;E.constructor=M,w(E,T.prototype),E.isPureReactComponent=!0;var D=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function P(q,G,ee,se,be,me){return ee=me.ref,{$$typeof:t,type:q,key:G,ref:ee!==void 0?ee:null,props:me}}function I(q,G){return P(q.type,G,void 0,void 0,void 0,q.props)}function U(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function V(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ee){return G[ee]})}var $=/\/+/g;function H(q,G){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):G.toString(36)}function Z(){}function Y(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(Z,Z):(q.status="pending",q.then(function(G){q.status==="pending"&&(q.status="fulfilled",q.value=G)},function(G){q.status==="pending"&&(q.status="rejected",q.reason=G)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function B(q,G,ee,se,be){var me=typeof q;(me==="undefined"||me==="boolean")&&(q=null);var Ae=!1;if(q===null)Ae=!0;else switch(me){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(q.$$typeof){case t:case e:Ae=!0;break;case h:return Ae=q._init,B(Ae(q._payload),G,ee,se,be)}}if(Ae)return be=be(q),Ae=se===""?"."+H(q,0):se,D(be)?(ee="",Ae!=null&&(ee=Ae.replace($,"$&/")+"/"),B(be,G,ee,"",function(Se){return Se})):be!=null&&(U(be)&&(be=I(be,ee+(be.key==null||q&&q.key===be.key?"":(""+be.key).replace($,"$&/")+"/")+Ae)),G.push(be)),1;Ae=0;var mt=se===""?".":se+":";if(D(q))for(var Ke=0;Ke<q.length;Ke++)se=q[Ke],me=mt+H(se,Ke),Ae+=B(se,G,ee,me,be);else if(Ke=y(q),typeof Ke=="function")for(q=Ke.call(q),Ke=0;!(se=q.next()).done;)se=se.value,me=mt+H(se,Ke++),Ae+=B(se,G,ee,me,be);else if(me==="object"){if(typeof q.then=="function")return B(Y(q),G,ee,se,be);throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function L(q,G,ee){if(q==null)return q;var se=[],be=0;return B(q,se,"","",function(me){return G.call(ee,me,be++)}),se}function F(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(ee){(q._status===0||q._status===-1)&&(q._status=1,q._result=ee)},function(ee){(q._status===0||q._status===-1)&&(q._status=2,q._result=ee)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var W=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function ie(){}return Xe.Children={map:L,forEach:function(q,G,ee){L(q,function(){G.apply(this,arguments)},ee)},count:function(q){var G=0;return L(q,function(){G++}),G},toArray:function(q){return L(q,function(G){return G})||[]},only:function(q){if(!U(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Xe.Component=T,Xe.Fragment=n,Xe.Profiler=a,Xe.PureComponent=M,Xe.StrictMode=r,Xe.Suspense=f,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(q){return C.H.useMemoCache(q)}},Xe.cache=function(q){return function(){return q.apply(null,arguments)}},Xe.cloneElement=function(q,G,ee){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var se=w({},q.props),be=q.key,me=void 0;if(G!=null)for(Ae in G.ref!==void 0&&(me=void 0),G.key!==void 0&&(be=""+G.key),G)!O.call(G,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&G.ref===void 0||(se[Ae]=G[Ae]);var Ae=arguments.length-2;if(Ae===1)se.children=ee;else if(1<Ae){for(var mt=Array(Ae),Ke=0;Ke<Ae;Ke++)mt[Ke]=arguments[Ke+2];se.children=mt}return P(q.type,be,void 0,void 0,me,se)},Xe.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:i,_context:q},q},Xe.createElement=function(q,G,ee){var se,be={},me=null;if(G!=null)for(se in G.key!==void 0&&(me=""+G.key),G)O.call(G,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(be[se]=G[se]);var Ae=arguments.length-2;if(Ae===1)be.children=ee;else if(1<Ae){for(var mt=Array(Ae),Ke=0;Ke<Ae;Ke++)mt[Ke]=arguments[Ke+2];be.children=mt}if(q&&q.defaultProps)for(se in Ae=q.defaultProps,Ae)be[se]===void 0&&(be[se]=Ae[se]);return P(q,me,void 0,void 0,null,be)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(q){return{$$typeof:u,render:q}},Xe.isValidElement=U,Xe.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:F}},Xe.memo=function(q,G){return{$$typeof:c,type:q,compare:G===void 0?null:G}},Xe.startTransition=function(q){var G=C.T,ee={};C.T=ee;try{var se=q(),be=C.S;be!==null&&be(ee,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ie,W)}catch(me){W(me)}finally{C.T=G}},Xe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Xe.use=function(q){return C.H.use(q)},Xe.useActionState=function(q,G,ee){return C.H.useActionState(q,G,ee)},Xe.useCallback=function(q,G){return C.H.useCallback(q,G)},Xe.useContext=function(q){return C.H.useContext(q)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(q,G){return C.H.useDeferredValue(q,G)},Xe.useEffect=function(q,G,ee){var se=C.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(q,G)},Xe.useId=function(){return C.H.useId()},Xe.useImperativeHandle=function(q,G,ee){return C.H.useImperativeHandle(q,G,ee)},Xe.useInsertionEffect=function(q,G){return C.H.useInsertionEffect(q,G)},Xe.useLayoutEffect=function(q,G){return C.H.useLayoutEffect(q,G)},Xe.useMemo=function(q,G){return C.H.useMemo(q,G)},Xe.useOptimistic=function(q,G){return C.H.useOptimistic(q,G)},Xe.useReducer=function(q,G,ee){return C.H.useReducer(q,G,ee)},Xe.useRef=function(q){return C.H.useRef(q)},Xe.useState=function(q){return C.H.useState(q)},Xe.useSyncExternalStore=function(q,G,ee){return C.H.useSyncExternalStore(q,G,ee)},Xe.useTransition=function(){return C.H.useTransition()},Xe.version="19.1.0",Xe}var AE;function LS(){return AE||(AE=1,Tv.exports=rB()),Tv.exports}var j=LS();const X=vt(j);var Av={exports:{}},Qu={},Ev={exports:{}},Cv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function aB(){return EE||(EE=1,function(t){function e(L,F){var W=L.length;L.push(F);e:for(;0<W;){var ie=W-1>>>1,q=L[ie];if(0<a(q,F))L[ie]=F,L[W]=q,W=ie;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var F=L[0],W=L.pop();if(W!==F){L[0]=W;e:for(var ie=0,q=L.length,G=q>>>1;ie<G;){var ee=2*(ie+1)-1,se=L[ee],be=ee+1,me=L[be];if(0>a(se,W))be<q&&0>a(me,se)?(L[ie]=me,L[be]=W,ie=be):(L[ie]=se,L[ee]=W,ie=ee);else if(be<q&&0>a(me,W))L[ie]=me,L[be]=W,ie=be;else break e}}return F}function a(L,F){var W=L.sortIndex-F.sortIndex;return W!==0?W:L.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var f=[],c=[],h=1,p=null,y=3,_=!1,w=!1,A=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function D(L){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=L)r(c),F.sortIndex=F.expirationTime,e(f,F);else break;F=n(c)}}function C(L){if(A=!1,D(L),!w)if(n(f)!==null)w=!0,O||(O=!0,H());else{var F=n(c);F!==null&&B(C,F.startTime-L)}}var O=!1,P=-1,I=5,U=-1;function V(){return T?!0:!(t.unstable_now()-U<I)}function $(){if(T=!1,O){var L=t.unstable_now();U=L;var F=!0;try{e:{w=!1,A&&(A=!1,M(P),P=-1),_=!0;var W=y;try{t:{for(D(L),p=n(f);p!==null&&!(p.expirationTime>L&&V());){var ie=p.callback;if(typeof ie=="function"){p.callback=null,y=p.priorityLevel;var q=ie(p.expirationTime<=L);if(L=t.unstable_now(),typeof q=="function"){p.callback=q,D(L),F=!0;break t}p===n(f)&&r(f),D(L)}else r(f);p=n(f)}if(p!==null)F=!0;else{var G=n(c);G!==null&&B(C,G.startTime-L),F=!1}}break e}finally{p=null,y=W,_=!1}F=void 0}}finally{F?H():O=!1}}}var H;if(typeof E=="function")H=function(){E($)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Y=Z.port2;Z.port1.onmessage=$,H=function(){Y.postMessage(null)}}else H=function(){k($,0)};function B(L,F){P=k(function(){L(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(L){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var W=y;y=F;try{return L()}finally{y=W}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=y;y=L;try{return F()}finally{y=W}},t.unstable_scheduleCallback=function(L,F,W){var ie=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ie+W:ie):W=ie,L){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,L={id:h++,callback:F,priorityLevel:L,startTime:W,expirationTime:q,sortIndex:-1},W>ie?(L.sortIndex=W,e(c,L),n(f)===null&&L===n(c)&&(A?(M(P),P=-1):A=!0,B(C,W-ie))):(L.sortIndex=q,e(f,L),w||_||(w=!0,O||(O=!0,H()))),L},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(L){var F=y;return function(){var W=y;y=F;try{return L.apply(this,arguments)}finally{y=W}}}}(Cv)),Cv}var CE;function iB(){return CE||(CE=1,Ev.exports=aB()),Ev.exports}var kv={exports:{}},Pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function oB(){if(kE)return Pn;kE=1;var t=LS();function e(f){var c="https://react.dev/errors/"+f;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(f,c,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:f,containerInfo:c,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,c){if(f==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pn.createPortal=function(f,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return i(f,c,null,h)},Pn.flushSync=function(f){var c=s.T,h=r.p;try{if(s.T=null,r.p=2,f)return f()}finally{s.T=c,r.p=h,r.d.f()}},Pn.preconnect=function(f,c){typeof f=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(f,c))},Pn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Pn.preinit=function(f,c){if(typeof f=="string"&&c&&typeof c.as=="string"){var h=c.as,p=u(h,c.crossOrigin),y=typeof c.integrity=="string"?c.integrity:void 0,_=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?r.d.S(f,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:_}):h==="script"&&r.d.X(f,{crossOrigin:p,integrity:y,fetchPriority:_,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Pn.preinitModule=function(f,c){if(typeof f=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=u(c.as,c.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(f)},Pn.preload=function(f,c){if(typeof f=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,p=u(h,c.crossOrigin);r.d.L(f,h,{crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Pn.preloadModule=function(f,c){if(typeof f=="string")if(c){var h=u(c.as,c.crossOrigin);r.d.m(f,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(f)},Pn.requestFormReset=function(f){r.d.r(f)},Pn.unstable_batchedUpdates=function(f,c){return f(c)},Pn.useFormState=function(f,c,h){return s.H.useFormState(f,c,h)},Pn.useFormStatus=function(){return s.H.useHostTransitionStatus()},Pn.version="19.1.0",Pn}var OE;function sB(){if(OE)return kv.exports;OE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kv.exports=oB(),kv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function lB(){if(ME)return Qu;ME=1;var t=iB(),e=LS(),n=sB();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(r(188))}function f(o){var l=o.alternate;if(!l){if(l=i(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,m=l;;){var x=d.return;if(x===null)break;var S=x.alternate;if(S===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===d)return u(x),o;if(S===m)return u(x),l;S=S.sibling}throw Error(r(188))}if(d.return!==m.return)d=x,m=S;else{for(var N=!1,R=x.child;R;){if(R===d){N=!0,d=x,m=S;break}if(R===m){N=!0,m=x,d=S;break}R=R.sibling}if(!N){for(R=S.child;R;){if(R===d){N=!0,d=S,m=x;break}if(R===m){N=!0,m=S,d=x;break}R=R.sibling}if(!N)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function c(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=c(o),l!==null)return l;o=o.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),E=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=$&&o[$]||o["@@iterator"],typeof o=="function"?o:null)}var Z=Symbol.for("react.client.reference");function Y(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case O:return"SuspenseList";case U:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case E:return(o.displayName||"Context")+".Provider";case M:return(o._context.displayName||"Context")+".Consumer";case D:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return l=o.displayName||null,l!==null?l:Y(o.type)||"Memo";case I:l=o._payload,o=o._init;try{return Y(o(l))}catch{}}return null}var B=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ie=[],q=-1;function G(o){return{current:o}}function ee(o){0>q||(o.current=ie[q],ie[q]=null,q--)}function se(o,l){q++,ie[q]=o.current,o.current=l}var be=G(null),me=G(null),Ae=G(null),mt=G(null);function Ke(o,l){switch(se(Ae,l),se(me,o),se(be,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?XA(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=XA(l),o=ZA(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ee(be),se(be,o)}function Se(){ee(be),ee(me),ee(Ae)}function Re(o){o.memoizedState!==null&&se(mt,o);var l=be.current,d=ZA(l,o.type);l!==d&&(se(me,o),se(be,d))}function Be(o){me.current===o&&(ee(be),ee(me)),mt.current===o&&(ee(mt),Ku._currentValue=W)}var ge=Object.prototype.hasOwnProperty,yt=t.unstable_scheduleCallback,Ye=t.unstable_cancelCallback,nt=t.unstable_shouldYield,At=t.unstable_requestPaint,Et=t.unstable_now,cn=t.unstable_getCurrentPriorityLevel,ir=t.unstable_ImmediatePriority,xr=t.unstable_UserBlockingPriority,_n=t.unstable_NormalPriority,or=t.unstable_LowPriority,ba=t.unstable_IdlePriority,ns=t.log,xa=t.unstable_setDisableYieldValue,ea=null,Ln=null;function Lr(o){if(typeof ns=="function"&&xa(o),Ln&&typeof Ln.setStrictMode=="function")try{Ln.setStrictMode(ea,o)}catch{}}var $n=Math.clz32?Math.clz32:rs,Af=Math.log,bp=Math.LN2;function rs(o){return o>>>=0,o===0?32:31-(Af(o)/bp|0)|0}var _a=256,Wn=4194304;function Ze(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Sn(o,l,d){var m=o.pendingLanes;if(m===0)return 0;var x=0,S=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var R=m&134217727;return R!==0?(m=R&~S,m!==0?x=Ze(m):(N&=R,N!==0?x=Ze(N):d||(d=R&~o,d!==0&&(x=Ze(d))))):(R=m&~S,R!==0?x=Ze(R):N!==0?x=Ze(N):d||(d=m&~o,d!==0&&(x=Ze(d)))),x===0?0:l!==0&&l!==x&&(l&S)===0&&(S=x&-x,d=l&-l,S>=d||S===32&&(d&4194048)!==0)?l:x}function ri(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function xp(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ef(){var o=_a;return _a<<=1,(_a&4194048)===0&&(_a=256),o}function Cf(){var o=Wn;return Wn<<=1,(Wn&62914560)===0&&(Wn=4194304),o}function tu(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Qi(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function _p(o,l,d,m,x,S){var N=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var R=o.entanglements,K=o.expirationTimes,ae=o.hiddenUpdates;for(d=N&~d;0<d;){var ce=31-$n(d),he=1<<ce;R[ce]=0,K[ce]=-1;var oe=ae[ce];if(oe!==null)for(ae[ce]=null,ce=0;ce<oe.length;ce++){var le=oe[ce];le!==null&&(le.lane&=-536870913)}d&=~he}m!==0&&kf(o,m,0),S!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=S&~(N&~l))}function kf(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var m=31-$n(l);o.entangledLanes|=l,o.entanglements[m]=o.entanglements[m]|1073741824|d&4194090}function Of(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-$n(d),x=1<<m;x&l|o[m]&l&&(o[m]|=l),d&=~x}}function nu(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ru(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Mf(){var o=F.p;return o!==0?o:(o=window.event,o===void 0?32:gE(o.type))}function Df(o,l){var d=F.p;try{return F.p=o,l()}finally{F.p=d}}var $r=Math.random().toString(36).slice(2),fn="__reactFiber$"+$r,kn="__reactProps$"+$r,ai="__reactContainer$"+$r,au="__reactEvents$"+$r,Sp="__reactListeners$"+$r,wp="__reactHandles$"+$r,Nf="__reactResources$"+$r,eo="__reactMarker$"+$r;function iu(o){delete o[fn],delete o[kn],delete o[au],delete o[Sp],delete o[wp]}function ii(o){var l=o[fn];if(l)return l;for(var d=o.parentNode;d;){if(l=d[ai]||d[fn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=tE(o);o!==null;){if(d=o[fn])return d;o=tE(o)}return l}o=d,d=o.parentNode}return null}function oi(o){if(o=o[fn]||o[ai]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function to(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function si(o){var l=o[Nf];return l||(l=o[Nf]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Zt(o){o[eo]=!0}var Pf=new Set,Rf={};function Sa(o,l){li(o,l),li(o+"Capture",l)}function li(o,l){for(Rf[o]=l,o=0;o<l.length;o++)Pf.add(l[o])}var Tp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),On={},If={};function jf(o){return ge.call(If,o)?!0:ge.call(On,o)?!1:Tp.test(o)?If[o]=!0:(On[o]=!0,!1)}function as(o,l,d){if(jf(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function no(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function Br(o,l,d,m){if(m===null)o.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+m)}}var ou,Lf;function ui(o){if(ou===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ou=l&&l[1]||"",Lf=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ou+o+Lf}var is=!1;function su(o,l){if(!o||is)return"";is=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(le){var oe=le}Reflect.construct(o,[],he)}else{try{he.call()}catch(le){oe=le}o.call(he.prototype)}}else{try{throw Error()}catch(le){oe=le}(he=o())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(le){if(le&&oe&&typeof le.stack=="string")return[le.stack,oe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),N=S[0],R=S[1];if(N&&R){var K=N.split(`
`),ae=R.split(`
`);for(x=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;x<ae.length&&!ae[x].includes("DetermineComponentFrameRoot");)x++;if(m===K.length||x===ae.length)for(m=K.length-1,x=ae.length-1;1<=m&&0<=x&&K[m]!==ae[x];)x--;for(;1<=m&&0<=x;m--,x--)if(K[m]!==ae[x]){if(m!==1||x!==1)do if(m--,x--,0>x||K[m]!==ae[x]){var ce=`
`+K[m].replace(" at new "," at ");return o.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",o.displayName)),ce}while(1<=m&&0<=x);break}}}finally{is=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?ui(d):""}function Ap(o){switch(o.tag){case 26:case 27:case 5:return ui(o.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return su(o.type,!1);case 11:return su(o.type.render,!1);case 1:return su(o.type,!0);case 31:return ui("Activity");default:return""}}function $f(o){try{var l="";do l+=Ap(o),o=o.return;while(o);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Xn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Bf(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ep(o){var l=Bf(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,S=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(N){m=""+N,S.call(this,N)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(N){m=""+N},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function os(o){o._valueTracker||(o._valueTracker=Ep(o))}function qf(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=Bf(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function ss(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Cp=/[\n"\\]/g;function z(o){return o.replace(Cp,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function te(o,l,d,m,x,S,N,R){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),l!=null?N==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Xn(l)):o.value!==""+Xn(l)&&(o.value=""+Xn(l)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),l!=null?de(o,N,Xn(l)):d!=null?de(o,N,Xn(d)):m!=null&&o.removeAttribute("value"),x==null&&S!=null&&(o.defaultChecked=!!S),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.name=""+Xn(R):o.removeAttribute("name")}function re(o,l,d,m,x,S,N,R){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),l!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||l!=null))return;d=d!=null?""+Xn(d):"",l=l!=null?""+Xn(l):d,R||l===o.value||(o.value=l),o.defaultValue=l}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=R?o.checked:!!m,o.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N)}function de(o,l,d){l==="number"&&ss(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function _e(o,l,d,m){if(o=o.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=l.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&m&&(o[d].defaultSelected=!0)}else{for(d=""+Xn(d),l=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,m&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function Te(o,l,d){if(l!=null&&(l=""+Xn(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+Xn(d):""}function Ee(o,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(B(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Xn(l),o.defaultValue=d,m=o.textContent,m===d&&m!==""&&m!==null&&(o.value=m)}function Ge(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var pt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pe(o,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":m?o.setProperty(l,d):typeof d!="number"||d===0||pt.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function Bt(o,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var x in l)m=l[x],l.hasOwnProperty(x)&&d[x]!==m&&Pe(o,x,m)}else for(var S in l)l.hasOwnProperty(S)&&Pe(o,S,l[S])}function Mn(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ci=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fi(o){return ci.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var ro=null;function ao(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ta=null,na=null;function ls(o){var l=oi(o);if(l&&(o=l.stateNode)){var d=o[kn]||null;e:switch(o=l.stateNode,l.type){case"input":if(te(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+z(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var x=m[kn]||null;if(!x)throw Error(r(90));te(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===o.form&&qf(m)}break e;case"textarea":Te(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&_e(o,!!d.multiple,l,!1)}}}var io=!1;function us(o,l,d){if(io)return o(l,d);io=!0;try{var m=o(l);return m}finally{if(io=!1,(ta!==null||na!==null)&&(Td(),ta&&(l=ta,o=na,na=ta=null,ls(l),o)))for(l=0;l<o.length;l++)ls(o[l])}}function wa(o,l){var d=o.stateNode;if(d===null)return null;var m=d[kn]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oo=!1;if(sr)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){oo=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{oo=!1}var zt=null,Zn=null,Dn=null;function cs(){if(Dn)return Dn;var o,l=Zn,d=l.length,m,x="value"in zt?zt.value:zt.textContent,S=x.length;for(o=0;o<d&&l[o]===x[o];o++);var N=d-o;for(m=1;m<=N&&l[d-m]===x[S-m];m++);return Dn=x.slice(o,1<m?1-m:void 0)}function Uf(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ff(){return!0}function t1(){return!1}function Jn(o){function l(d,m,x,S,N){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var R in o)o.hasOwnProperty(R)&&(d=o[R],this[R]=d?d(S):S[R]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ff:t1,this.isPropagationStopped=t1,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ff)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ff)},persist:function(){},isPersistent:Ff}),l}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vf=Jn(so),lu=h({},so,{view:0,detail:0}),e$=Jn(lu),kp,Op,uu,zf=h({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==uu&&(uu&&o.type==="mousemove"?(kp=o.screenX-uu.screenX,Op=o.screenY-uu.screenY):Op=kp=0,uu=o),kp)},movementY:function(o){return"movementY"in o?o.movementY:Op}}),n1=Jn(zf),t$=h({},zf,{dataTransfer:0}),n$=Jn(t$),r$=h({},lu,{relatedTarget:0}),Mp=Jn(r$),a$=h({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),i$=Jn(a$),o$=h({},so,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),s$=Jn(o$),l$=h({},so,{data:0}),r1=Jn(l$),u$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d$(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=f$[o])?!!l[o]:!1}function Dp(){return d$}var h$=h({},lu,{key:function(o){if(o.key){var l=u$[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Uf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?c$[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dp,charCode:function(o){return o.type==="keypress"?Uf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Uf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),m$=Jn(h$),p$=h({},zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a1=Jn(p$),g$=h({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dp}),v$=Jn(g$),y$=h({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),b$=Jn(y$),x$=h({},zf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),_$=Jn(x$),S$=h({},so,{newState:0,oldState:0}),w$=Jn(S$),T$=[9,13,27,32],Np=sr&&"CompositionEvent"in window,cu=null;sr&&"documentMode"in document&&(cu=document.documentMode);var A$=sr&&"TextEvent"in window&&!cu,i1=sr&&(!Np||cu&&8<cu&&11>=cu),o1=" ",s1=!1;function l1(o,l){switch(o){case"keyup":return T$.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var fs=!1;function E$(o,l){switch(o){case"compositionend":return u1(l);case"keypress":return l.which!==32?null:(s1=!0,o1);case"textInput":return o=l.data,o===o1&&s1?null:o;default:return null}}function C$(o,l){if(fs)return o==="compositionend"||!Np&&l1(o,l)?(o=cs(),Dn=Zn=zt=null,fs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return i1&&l.locale!=="ko"?null:l.data;default:return null}}var k$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!k$[o.type]:l==="textarea"}function f1(o,l,d,m){ta?na?na.push(m):na=[m]:ta=m,l=Md(l,"onChange"),0<l.length&&(d=new Vf("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var fu=null,du=null;function O$(o){GA(o,0)}function Gf(o){var l=to(o);if(qf(l))return o}function d1(o,l){if(o==="change")return l}var h1=!1;if(sr){var Pp;if(sr){var Rp="oninput"in document;if(!Rp){var m1=document.createElement("div");m1.setAttribute("oninput","return;"),Rp=typeof m1.oninput=="function"}Pp=Rp}else Pp=!1;h1=Pp&&(!document.documentMode||9<document.documentMode)}function p1(){fu&&(fu.detachEvent("onpropertychange",g1),du=fu=null)}function g1(o){if(o.propertyName==="value"&&Gf(du)){var l=[];f1(l,du,o,ao(o)),us(O$,l)}}function M$(o,l,d){o==="focusin"?(p1(),fu=l,du=d,fu.attachEvent("onpropertychange",g1)):o==="focusout"&&p1()}function D$(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Gf(du)}function N$(o,l){if(o==="click")return Gf(l)}function P$(o,l){if(o==="input"||o==="change")return Gf(l)}function R$(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var lr=typeof Object.is=="function"?Object.is:R$;function hu(o,l){if(lr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!ge.call(l,x)||!lr(o[x],l[x]))return!1}return!0}function v1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function y1(o,l){var d=v1(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=v1(d)}}function b1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?b1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function x1(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=ss(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=ss(o.document)}return l}function Ip(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var I$=sr&&"documentMode"in document&&11>=document.documentMode,ds=null,jp=null,mu=null,Lp=!1;function _1(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Lp||ds==null||ds!==ss(m)||(m=ds,"selectionStart"in m&&Ip(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),mu&&hu(mu,m)||(mu=m,m=Md(jp,"onSelect"),0<m.length&&(l=new Vf("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=ds)))}function lo(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var hs={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},$p={},S1={};sr&&(S1=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function uo(o){if($p[o])return $p[o];if(!hs[o])return o;var l=hs[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in S1)return $p[o]=l[d];return o}var w1=uo("animationend"),T1=uo("animationiteration"),A1=uo("animationstart"),j$=uo("transitionrun"),L$=uo("transitionstart"),$$=uo("transitioncancel"),E1=uo("transitionend"),C1=new Map,Bp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bp.push("scrollEnd");function qr(o,l){C1.set(o,l),Sa(l,[o])}var k1=new WeakMap;function _r(o,l){if(typeof o=="object"&&o!==null){var d=k1.get(o);return d!==void 0?d:(l={value:o,source:l,stack:$f(l)},k1.set(o,l),l)}return{value:o,source:l,stack:$f(l)}}var Sr=[],ms=0,qp=0;function Hf(){for(var o=ms,l=qp=ms=0;l<o;){var d=Sr[l];Sr[l++]=null;var m=Sr[l];Sr[l++]=null;var x=Sr[l];Sr[l++]=null;var S=Sr[l];if(Sr[l++]=null,m!==null&&x!==null){var N=m.pending;N===null?x.next=x:(x.next=N.next,N.next=x),m.pending=x}S!==0&&O1(d,x,S)}}function Kf(o,l,d,m){Sr[ms++]=o,Sr[ms++]=l,Sr[ms++]=d,Sr[ms++]=m,qp|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Up(o,l,d,m){return Kf(o,l,d,m),Yf(o)}function ps(o,l){return Kf(o,null,null,l),Yf(o)}function O1(o,l,d){o.lanes|=d;var m=o.alternate;m!==null&&(m.lanes|=d);for(var x=!1,S=o.return;S!==null;)S.childLanes|=d,m=S.alternate,m!==null&&(m.childLanes|=d),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(x=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,x&&l!==null&&(x=31-$n(d),o=S.hiddenUpdates,m=o[x],m===null?o[x]=[l]:m.push(l),l.lane=d|536870912),S):null}function Yf(o){if(50<Bu)throw Bu=0,Kg=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var gs={};function B$(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(o,l,d,m){return new B$(o,l,d,m)}function Fp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Aa(o,l){var d=o.alternate;return d===null?(d=ur(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function M1(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Wf(o,l,d,m,x,S){var N=0;if(m=o,typeof o=="function")Fp(o)&&(N=1);else if(typeof o=="string")N=U3(o,d,be.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case U:return o=ur(31,d,l,x),o.elementType=U,o.lanes=S,o;case w:return co(d.children,x,S,l);case A:N=8,x|=24;break;case T:return o=ur(12,d,l,x|2),o.elementType=T,o.lanes=S,o;case C:return o=ur(13,d,l,x),o.elementType=C,o.lanes=S,o;case O:return o=ur(19,d,l,x),o.elementType=O,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:case E:N=10;break e;case M:N=9;break e;case D:N=11;break e;case P:N=14;break e;case I:N=16,m=null;break e}N=29,d=Error(r(130,o===null?"null":typeof o,"")),m=null}return l=ur(N,d,l,x),l.elementType=o,l.type=m,l.lanes=S,l}function co(o,l,d,m){return o=ur(7,o,m,l),o.lanes=d,o}function Vp(o,l,d){return o=ur(6,o,null,l),o.lanes=d,o}function zp(o,l,d){return l=ur(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var vs=[],ys=0,Xf=null,Zf=0,wr=[],Tr=0,fo=null,Ea=1,Ca="";function ho(o,l){vs[ys++]=Zf,vs[ys++]=Xf,Xf=o,Zf=l}function D1(o,l,d){wr[Tr++]=Ea,wr[Tr++]=Ca,wr[Tr++]=fo,fo=o;var m=Ea;o=Ca;var x=32-$n(m)-1;m&=~(1<<x),d+=1;var S=32-$n(l)+x;if(30<S){var N=x-x%5;S=(m&(1<<N)-1).toString(32),m>>=N,x-=N,Ea=1<<32-$n(l)+x|d<<x|m,Ca=S+o}else Ea=1<<S|d<<x|m,Ca=o}function Gp(o){o.return!==null&&(ho(o,1),D1(o,1,0))}function Hp(o){for(;o===Xf;)Xf=vs[--ys],vs[ys]=null,Zf=vs[--ys],vs[ys]=null;for(;o===fo;)fo=wr[--Tr],wr[Tr]=null,Ca=wr[--Tr],wr[Tr]=null,Ea=wr[--Tr],wr[Tr]=null}var Bn=null,Ht=null,gt=!1,mo=null,ra=!1,Kp=Error(r(519));function po(o){var l=Error(r(418,""));throw vu(_r(l,o)),Kp}function N1(o){var l=o.stateNode,d=o.type,m=o.memoizedProps;switch(l[fn]=o,l[kn]=m,d){case"dialog":at("cancel",l),at("close",l);break;case"iframe":case"object":case"embed":at("load",l);break;case"video":case"audio":for(d=0;d<Uu.length;d++)at(Uu[d],l);break;case"source":at("error",l);break;case"img":case"image":case"link":at("error",l),at("load",l);break;case"details":at("toggle",l);break;case"input":at("invalid",l),re(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),os(l);break;case"select":at("invalid",l);break;case"textarea":at("invalid",l),Ee(l,m.value,m.defaultValue,m.children),os(l)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||WA(l.textContent,d)?(m.popover!=null&&(at("beforetoggle",l),at("toggle",l)),m.onScroll!=null&&at("scroll",l),m.onScrollEnd!=null&&at("scrollend",l),m.onClick!=null&&(l.onclick=Dd),l=!0):l=!1,l||po(o)}function P1(o){for(Bn=o.return;Bn;)switch(Bn.tag){case 5:case 13:ra=!1;return;case 27:case 3:ra=!0;return;default:Bn=Bn.return}}function pu(o){if(o!==Bn)return!1;if(!gt)return P1(o),gt=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||uv(o.type,o.memoizedProps)),d=!d),d&&Ht&&po(o),P1(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(d=o.data,d==="/$"){if(l===0){Ht=Fr(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;o=o.nextSibling}Ht=null}}else l===27?(l=Ht,Ci(o.type)?(o=hv,hv=null,Ht=o):Ht=l):Ht=Bn?Fr(o.stateNode.nextSibling):null;return!0}function gu(){Ht=Bn=null,gt=!1}function R1(){var o=mo;return o!==null&&(tr===null?tr=o:tr.push.apply(tr,o),mo=null),o}function vu(o){mo===null?mo=[o]:mo.push(o)}var Yp=G(null),go=null,ka=null;function di(o,l,d){se(Yp,l._currentValue),l._currentValue=d}function Oa(o){o._currentValue=Yp.current,ee(Yp)}function Wp(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function Xp(o,l,d,m){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var S=x.dependencies;if(S!==null){var N=x.child;S=S.firstContext;e:for(;S!==null;){var R=S;S=x;for(var K=0;K<l.length;K++)if(R.context===l[K]){S.lanes|=d,R=S.alternate,R!==null&&(R.lanes|=d),Wp(S.return,d,o),m||(N=null);break e}S=R.next}}else if(x.tag===18){if(N=x.return,N===null)throw Error(r(341));N.lanes|=d,S=N.alternate,S!==null&&(S.lanes|=d),Wp(N,d,o),N=null}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===o){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}}function yu(o,l,d,m){o=null;for(var x=l,S=!1;x!==null;){if(!S){if((x.flags&524288)!==0)S=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var N=x.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var R=x.type;lr(x.pendingProps.value,N.value)||(o!==null?o.push(R):o=[R])}}else if(x===mt.current){if(N=x.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(Ku):o=[Ku])}x=x.return}o!==null&&Xp(l,o,d,m),l.flags|=262144}function Jf(o){for(o=o.firstContext;o!==null;){if(!lr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function vo(o){go=o,ka=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Nn(o){return I1(go,o)}function Qf(o,l){return go===null&&vo(o),I1(o,l)}function I1(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},ka===null){if(o===null)throw Error(r(308));ka=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else ka=ka.next=l;return d}var q$=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,m){o.push(m)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},U$=t.unstable_scheduleCallback,F$=t.unstable_NormalPriority,an={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zp(){return{controller:new q$,data:new Map,refCount:0}}function bu(o){o.refCount--,o.refCount===0&&U$(F$,function(){o.controller.abort()})}var xu=null,Jp=0,bs=0,xs=null;function V$(o,l){if(xu===null){var d=xu=[];Jp=0,bs=ev(),xs={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Jp++,l.then(j1,j1),l}function j1(){if(--Jp===0&&xu!==null){xs!==null&&(xs.status="fulfilled");var o=xu;xu=null,bs=0,xs=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function z$(o,l){var d=[],m={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return o.then(function(){m.status="fulfilled",m.value=l;for(var x=0;x<d.length;x++)(0,d[x])(l)},function(x){for(m.status="rejected",m.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),m}var L1=L.S;L.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&V$(o,l),L1!==null&&L1(o,l)};var yo=G(null);function Qp(){var o=yo.current;return o!==null?o:Pt.pooledCache}function ed(o,l){l===null?se(yo,yo.current):se(yo,l.pool)}function $1(){var o=Qp();return o===null?null:{parent:an._currentValue,pool:o}}var _u=Error(r(460)),B1=Error(r(474)),td=Error(r(542)),eg={then:function(){}};function q1(o){return o=o.status,o==="fulfilled"||o==="rejected"}function nd(){}function U1(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(nd,nd),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,V1(o),o;default:if(typeof l.status=="string")l.then(nd,nd);else{if(o=Pt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(m){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=m}},function(m){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,V1(o),o}throw Su=l,_u}}var Su=null;function F1(){if(Su===null)throw Error(r(459));var o=Su;return Su=null,o}function V1(o){if(o===_u||o===td)throw Error(r(483))}var hi=!1;function tg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ng(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function mi(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function pi(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(_t&2)!==0){var x=m.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),m.pending=l,l=Yf(o),O1(o,null,d),l}return Kf(o,m,l,d),Yf(o)}function wu(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Of(o,d)}}function rg(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var N={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?x=S=N:S=S.next=N,d=d.next}while(d!==null);S===null?x=S=l:S=S.next=l}else x=S=l;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var ag=!1;function Tu(){if(ag){var o=xs;if(o!==null)throw o}}function Au(o,l,d,m){ag=!1;var x=o.updateQueue;hi=!1;var S=x.firstBaseUpdate,N=x.lastBaseUpdate,R=x.shared.pending;if(R!==null){x.shared.pending=null;var K=R,ae=K.next;K.next=null,N===null?S=ae:N.next=ae,N=K;var ce=o.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==N&&(R===null?ce.firstBaseUpdate=ae:R.next=ae,ce.lastBaseUpdate=K))}if(S!==null){var he=x.baseState;N=0,ce=ae=K=null,R=S;do{var oe=R.lane&-536870913,le=oe!==R.lane;if(le?(ut&oe)===oe:(m&oe)===oe){oe!==0&&oe===bs&&(ag=!0),ce!==null&&(ce=ce.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var qe=o,je=R;oe=l;var Ot=d;switch(je.tag){case 1:if(qe=je.payload,typeof qe=="function"){he=qe.call(Ot,he,oe);break e}he=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=je.payload,oe=typeof qe=="function"?qe.call(Ot,he,oe):qe,oe==null)break e;he=h({},he,oe);break e;case 2:hi=!0}}oe=R.callback,oe!==null&&(o.flags|=64,le&&(o.flags|=8192),le=x.callbacks,le===null?x.callbacks=[oe]:le.push(oe))}else le={lane:oe,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(ae=ce=le,K=he):ce=ce.next=le,N|=oe;if(R=R.next,R===null){if(R=x.shared.pending,R===null)break;le=R,R=le.next,le.next=null,x.lastBaseUpdate=le,x.shared.pending=null}}while(!0);ce===null&&(K=he),x.baseState=K,x.firstBaseUpdate=ae,x.lastBaseUpdate=ce,S===null&&(x.shared.lanes=0),wi|=N,o.lanes=N,o.memoizedState=he}}function z1(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function G1(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)z1(d[o],l)}var _s=G(null),rd=G(0);function H1(o,l){o=ja,se(rd,o),se(_s,l),ja=o|l.baseLanes}function ig(){se(rd,ja),se(_s,_s.current)}function og(){ja=rd.current,ee(_s),ee(rd)}var gi=0,Qe=null,Ct=null,Qt=null,ad=!1,Ss=!1,bo=!1,id=0,Eu=0,ws=null,G$=0;function Wt(){throw Error(r(321))}function sg(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!lr(o[d],l[d]))return!1;return!0}function lg(o,l,d,m,x,S){return gi=S,Qe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,L.H=o===null||o.memoizedState===null?OT:MT,bo=!1,S=d(m,x),bo=!1,Ss&&(S=Y1(l,d,m,x)),K1(o),S}function K1(o){L.H=fd;var l=Ct!==null&&Ct.next!==null;if(gi=0,Qt=Ct=Qe=null,ad=!1,Eu=0,ws=null,l)throw Error(r(300));o===null||dn||(o=o.dependencies,o!==null&&Jf(o)&&(dn=!0))}function Y1(o,l,d,m){Qe=o;var x=0;do{if(Ss&&(ws=null),Eu=0,Ss=!1,25<=x)throw Error(r(301));if(x+=1,Qt=Ct=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}L.H=J$,S=l(d,m)}while(Ss);return S}function H$(){var o=L.H,l=o.useState()[0];return l=typeof l.then=="function"?Cu(l):l,o=o.useState()[0],(Ct!==null?Ct.memoizedState:null)!==o&&(Qe.flags|=1024),l}function ug(){var o=id!==0;return id=0,o}function cg(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function fg(o){if(ad){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}ad=!1}gi=0,Qt=Ct=Qe=null,Ss=!1,Eu=id=0,ws=null}function Qn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Qe.memoizedState=Qt=o:Qt=Qt.next=o,Qt}function en(){if(Ct===null){var o=Qe.alternate;o=o!==null?o.memoizedState:null}else o=Ct.next;var l=Qt===null?Qe.memoizedState:Qt.next;if(l!==null)Qt=l,Ct=o;else{if(o===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));Ct=o,o={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Qt===null?Qe.memoizedState=Qt=o:Qt=Qt.next=o}return Qt}function dg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cu(o){var l=Eu;return Eu+=1,ws===null&&(ws=[]),o=U1(ws,o,l),l=Qe,(Qt===null?l.memoizedState:Qt.next)===null&&(l=l.alternate,L.H=l===null||l.memoizedState===null?OT:MT),o}function od(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Cu(o);if(o.$$typeof===E)return Nn(o)}throw Error(r(438,String(o)))}function hg(o){var l=null,d=Qe.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Qe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=dg(),Qe.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),m=0;m<o;m++)d[m]=V;return l.index++,d}function Ma(o,l){return typeof l=="function"?l(o):l}function sd(o){var l=en();return mg(l,Ct,o)}function mg(o,l,d){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var x=o.baseQueue,S=m.pending;if(S!==null){if(x!==null){var N=x.next;x.next=S.next,S.next=N}l.baseQueue=x=S,m.pending=null}if(S=o.baseState,x===null)o.memoizedState=S;else{l=x.next;var R=N=null,K=null,ae=l,ce=!1;do{var he=ae.lane&-536870913;if(he!==ae.lane?(ut&he)===he:(gi&he)===he){var oe=ae.revertLane;if(oe===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),he===bs&&(ce=!0);else if((gi&oe)===oe){ae=ae.next,oe===bs&&(ce=!0);continue}else he={lane:0,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},K===null?(R=K=he,N=S):K=K.next=he,Qe.lanes|=oe,wi|=oe;he=ae.action,bo&&d(S,he),S=ae.hasEagerState?ae.eagerState:d(S,he)}else oe={lane:he,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},K===null?(R=K=oe,N=S):K=K.next=oe,Qe.lanes|=he,wi|=he;ae=ae.next}while(ae!==null&&ae!==l);if(K===null?N=S:K.next=R,!lr(S,o.memoizedState)&&(dn=!0,ce&&(d=xs,d!==null)))throw d;o.memoizedState=S,o.baseState=N,o.baseQueue=K,m.lastRenderedState=S}return x===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function pg(o){var l=en(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var m=d.dispatch,x=d.pending,S=l.memoizedState;if(x!==null){d.pending=null;var N=x=x.next;do S=o(S,N.action),N=N.next;while(N!==x);lr(S,l.memoizedState)||(dn=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),d.lastRenderedState=S}return[S,m]}function W1(o,l,d){var m=Qe,x=en(),S=gt;if(S){if(d===void 0)throw Error(r(407));d=d()}else d=l();var N=!lr((Ct||x).memoizedState,d);N&&(x.memoizedState=d,dn=!0),x=x.queue;var R=J1.bind(null,m,x,o);if(ku(2048,8,R,[o]),x.getSnapshot!==l||N||Qt!==null&&Qt.memoizedState.tag&1){if(m.flags|=2048,Ts(9,ld(),Z1.bind(null,m,x,d,l),null),Pt===null)throw Error(r(349));S||(gi&124)!==0||X1(m,l,d)}return d}function X1(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Qe.updateQueue,l===null?(l=dg(),Qe.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function Z1(o,l,d,m){l.value=d,l.getSnapshot=m,Q1(l)&&eT(o)}function J1(o,l,d){return d(function(){Q1(l)&&eT(o)})}function Q1(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!lr(o,d)}catch{return!0}}function eT(o){var l=ps(o,2);l!==null&&mr(l,o,2)}function gg(o){var l=Qn();if(typeof o=="function"){var d=o;if(o=d(),bo){Lr(!0);try{d()}finally{Lr(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:o},l}function tT(o,l,d,m){return o.baseState=d,mg(o,Ct,typeof m=="function"?m:Ma)}function K$(o,l,d,m,x){if(cd(o))throw Error(r(485));if(o=l.action,o!==null){var S={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};L.T!==null?d(!0):S.isTransition=!1,m(S),d=l.pending,d===null?(S.next=l.pending=S,nT(l,S)):(S.next=d.next,l.pending=d.next=S)}}function nT(o,l){var d=l.action,m=l.payload,x=o.state;if(l.isTransition){var S=L.T,N={};L.T=N;try{var R=d(x,m),K=L.S;K!==null&&K(N,R),rT(o,l,R)}catch(ae){vg(o,l,ae)}finally{L.T=S}}else try{S=d(x,m),rT(o,l,S)}catch(ae){vg(o,l,ae)}}function rT(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){aT(o,l,m)},function(m){return vg(o,l,m)}):aT(o,l,d)}function aT(o,l,d){l.status="fulfilled",l.value=d,iT(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,nT(o,d)))}function vg(o,l,d){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,iT(l),l=l.next;while(l!==m)}o.action=null}function iT(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function oT(o,l){return l}function sT(o,l){if(gt){var d=Pt.formState;if(d!==null){e:{var m=Qe;if(gt){if(Ht){t:{for(var x=Ht,S=ra;x.nodeType!==8;){if(!S){x=null;break t}if(x=Fr(x.nextSibling),x===null){x=null;break t}}S=x.data,x=S==="F!"||S==="F"?x:null}if(x){Ht=Fr(x.nextSibling),m=x.data==="F!";break e}}po(m)}m=!1}m&&(l=d[0])}}return d=Qn(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oT,lastRenderedState:l},d.queue=m,d=ET.bind(null,Qe,m),m.dispatch=d,m=gg(!1),S=Sg.bind(null,Qe,!1,m.queue),m=Qn(),x={state:l,dispatch:null,action:o,pending:null},m.queue=x,d=K$.bind(null,Qe,x,S,d),x.dispatch=d,m.memoizedState=o,[l,d,!1]}function lT(o){var l=en();return uT(l,Ct,o)}function uT(o,l,d){if(l=mg(o,l,oT)[0],o=sd(Ma)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Cu(l)}catch(N){throw N===_u?td:N}else m=l;l=en();var x=l.queue,S=x.dispatch;return d!==l.memoizedState&&(Qe.flags|=2048,Ts(9,ld(),Y$.bind(null,x,d),null)),[m,S,o]}function Y$(o,l){o.action=l}function cT(o){var l=en(),d=Ct;if(d!==null)return uT(l,d,o);en(),l=l.memoizedState,d=en();var m=d.queue.dispatch;return d.memoizedState=o,[l,m,!1]}function Ts(o,l,d,m){return o={tag:o,create:d,deps:m,inst:l,next:null},l=Qe.updateQueue,l===null&&(l=dg(),Qe.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o),o}function ld(){return{destroy:void 0,resource:void 0}}function fT(){return en().memoizedState}function ud(o,l,d,m){var x=Qn();m=m===void 0?null:m,Qe.flags|=o,x.memoizedState=Ts(1|l,ld(),d,m)}function ku(o,l,d,m){var x=en();m=m===void 0?null:m;var S=x.memoizedState.inst;Ct!==null&&m!==null&&sg(m,Ct.memoizedState.deps)?x.memoizedState=Ts(l,S,d,m):(Qe.flags|=o,x.memoizedState=Ts(1|l,S,d,m))}function dT(o,l){ud(8390656,8,o,l)}function hT(o,l){ku(2048,8,o,l)}function mT(o,l){return ku(4,2,o,l)}function pT(o,l){return ku(4,4,o,l)}function gT(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function vT(o,l,d){d=d!=null?d.concat([o]):null,ku(4,4,gT.bind(null,l,o),d)}function yg(){}function yT(o,l){var d=en();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&sg(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function bT(o,l){var d=en();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&sg(l,m[1]))return m[0];if(m=o(),bo){Lr(!0);try{o()}finally{Lr(!1)}}return d.memoizedState=[m,l],m}function bg(o,l,d){return d===void 0||(gi&1073741824)!==0?o.memoizedState=l:(o.memoizedState=d,o=SA(),Qe.lanes|=o,wi|=o,d)}function xT(o,l,d,m){return lr(d,l)?d:_s.current!==null?(o=bg(o,d,m),lr(o,l)||(dn=!0),o):(gi&42)===0?(dn=!0,o.memoizedState=d):(o=SA(),Qe.lanes|=o,wi|=o,l)}function _T(o,l,d,m,x){var S=F.p;F.p=S!==0&&8>S?S:8;var N=L.T,R={};L.T=R,Sg(o,!1,l,d);try{var K=x(),ae=L.S;if(ae!==null&&ae(R,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ce=z$(K,m);Ou(o,l,ce,hr(o))}else Ou(o,l,m,hr(o))}catch(he){Ou(o,l,{then:function(){},status:"rejected",reason:he},hr())}finally{F.p=S,L.T=N}}function W$(){}function xg(o,l,d,m){if(o.tag!==5)throw Error(r(476));var x=ST(o).queue;_T(o,x,l,W,d===null?W$:function(){return wT(o),d(m)})}function ST(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:W},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function wT(o){var l=ST(o).next.queue;Ou(o,l,{},hr())}function _g(){return Nn(Ku)}function TT(){return en().memoizedState}function AT(){return en().memoizedState}function X$(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=hr();o=mi(d);var m=pi(l,o,d);m!==null&&(mr(m,l,d),wu(m,l,d)),l={cache:Zp()},o.payload=l;return}l=l.return}}function Z$(o,l,d){var m=hr();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},cd(o)?CT(l,d):(d=Up(o,l,d,m),d!==null&&(mr(d,o,m),kT(d,l,m)))}function ET(o,l,d){var m=hr();Ou(o,l,d,m)}function Ou(o,l,d,m){var x={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(cd(o))CT(l,x);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var N=l.lastRenderedState,R=S(N,d);if(x.hasEagerState=!0,x.eagerState=R,lr(R,N))return Kf(o,l,x,0),Pt===null&&Hf(),!1}catch{}finally{}if(d=Up(o,l,x,m),d!==null)return mr(d,o,m),kT(d,l,m),!0}return!1}function Sg(o,l,d,m){if(m={lane:2,revertLane:ev(),action:m,hasEagerState:!1,eagerState:null,next:null},cd(o)){if(l)throw Error(r(479))}else l=Up(o,d,m,2),l!==null&&mr(l,o,2)}function cd(o){var l=o.alternate;return o===Qe||l!==null&&l===Qe}function CT(o,l){Ss=ad=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function kT(o,l,d){if((d&4194048)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,Of(o,d)}}var fd={readContext:Nn,use:od,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},OT={readContext:Nn,use:od,useCallback:function(o,l){return Qn().memoizedState=[o,l===void 0?null:l],o},useContext:Nn,useEffect:dT,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,ud(4194308,4,gT.bind(null,l,o),d)},useLayoutEffect:function(o,l){return ud(4194308,4,o,l)},useInsertionEffect:function(o,l){ud(4,2,o,l)},useMemo:function(o,l){var d=Qn();l=l===void 0?null:l;var m=o();if(bo){Lr(!0);try{o()}finally{Lr(!1)}}return d.memoizedState=[m,l],m},useReducer:function(o,l,d){var m=Qn();if(d!==void 0){var x=d(l);if(bo){Lr(!0);try{d(l)}finally{Lr(!1)}}}else x=l;return m.memoizedState=m.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},m.queue=o,o=o.dispatch=Z$.bind(null,Qe,o),[m.memoizedState,o]},useRef:function(o){var l=Qn();return o={current:o},l.memoizedState=o},useState:function(o){o=gg(o);var l=o.queue,d=ET.bind(null,Qe,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:yg,useDeferredValue:function(o,l){var d=Qn();return bg(d,o,l)},useTransition:function(){var o=gg(!1);return o=_T.bind(null,Qe,o.queue,!0,!1),Qn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var m=Qe,x=Qn();if(gt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Pt===null)throw Error(r(349));(ut&124)!==0||X1(m,l,d)}x.memoizedState=d;var S={value:d,getSnapshot:l};return x.queue=S,dT(J1.bind(null,m,S,o),[o]),m.flags|=2048,Ts(9,ld(),Z1.bind(null,m,S,d,l),null),d},useId:function(){var o=Qn(),l=Pt.identifierPrefix;if(gt){var d=Ca,m=Ea;d=(m&~(1<<32-$n(m)-1)).toString(32)+d,l="«"+l+"R"+d,d=id++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=G$++,l="«"+l+"r"+d.toString(32)+"»";return o.memoizedState=l},useHostTransitionStatus:_g,useFormState:sT,useActionState:sT,useOptimistic:function(o){var l=Qn();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Sg.bind(null,Qe,!0,d),d.dispatch=l,[o,l]},useMemoCache:hg,useCacheRefresh:function(){return Qn().memoizedState=X$.bind(null,Qe)}},MT={readContext:Nn,use:od,useCallback:yT,useContext:Nn,useEffect:hT,useImperativeHandle:vT,useInsertionEffect:mT,useLayoutEffect:pT,useMemo:bT,useReducer:sd,useRef:fT,useState:function(){return sd(Ma)},useDebugValue:yg,useDeferredValue:function(o,l){var d=en();return xT(d,Ct.memoizedState,o,l)},useTransition:function(){var o=sd(Ma)[0],l=en().memoizedState;return[typeof o=="boolean"?o:Cu(o),l]},useSyncExternalStore:W1,useId:TT,useHostTransitionStatus:_g,useFormState:lT,useActionState:lT,useOptimistic:function(o,l){var d=en();return tT(d,Ct,o,l)},useMemoCache:hg,useCacheRefresh:AT},J$={readContext:Nn,use:od,useCallback:yT,useContext:Nn,useEffect:hT,useImperativeHandle:vT,useInsertionEffect:mT,useLayoutEffect:pT,useMemo:bT,useReducer:pg,useRef:fT,useState:function(){return pg(Ma)},useDebugValue:yg,useDeferredValue:function(o,l){var d=en();return Ct===null?bg(d,o,l):xT(d,Ct.memoizedState,o,l)},useTransition:function(){var o=pg(Ma)[0],l=en().memoizedState;return[typeof o=="boolean"?o:Cu(o),l]},useSyncExternalStore:W1,useId:TT,useHostTransitionStatus:_g,useFormState:cT,useActionState:cT,useOptimistic:function(o,l){var d=en();return Ct!==null?tT(d,Ct,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:hg,useCacheRefresh:AT},As=null,Mu=0;function dd(o){var l=Mu;return Mu+=1,As===null&&(As=[]),U1(As,o,l)}function Du(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function hd(o,l){throw l.$$typeof===p?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function DT(o){var l=o._init;return l(o._payload)}function NT(o){function l(Q,J){if(o){var ne=Q.deletions;ne===null?(Q.deletions=[J],Q.flags|=16):ne.push(J)}}function d(Q,J){if(!o)return null;for(;J!==null;)l(Q,J),J=J.sibling;return null}function m(Q){for(var J=new Map;Q!==null;)Q.key!==null?J.set(Q.key,Q):J.set(Q.index,Q),Q=Q.sibling;return J}function x(Q,J){return Q=Aa(Q,J),Q.index=0,Q.sibling=null,Q}function S(Q,J,ne){return Q.index=ne,o?(ne=Q.alternate,ne!==null?(ne=ne.index,ne<J?(Q.flags|=67108866,J):ne):(Q.flags|=67108866,J)):(Q.flags|=1048576,J)}function N(Q){return o&&Q.alternate===null&&(Q.flags|=67108866),Q}function R(Q,J,ne,fe){return J===null||J.tag!==6?(J=Vp(ne,Q.mode,fe),J.return=Q,J):(J=x(J,ne),J.return=Q,J)}function K(Q,J,ne,fe){var Oe=ne.type;return Oe===w?ce(Q,J,ne.props.children,fe,ne.key):J!==null&&(J.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&DT(Oe)===J.type)?(J=x(J,ne.props),Du(J,ne),J.return=Q,J):(J=Wf(ne.type,ne.key,ne.props,null,Q.mode,fe),Du(J,ne),J.return=Q,J)}function ae(Q,J,ne,fe){return J===null||J.tag!==4||J.stateNode.containerInfo!==ne.containerInfo||J.stateNode.implementation!==ne.implementation?(J=zp(ne,Q.mode,fe),J.return=Q,J):(J=x(J,ne.children||[]),J.return=Q,J)}function ce(Q,J,ne,fe,Oe){return J===null||J.tag!==7?(J=co(ne,Q.mode,fe,Oe),J.return=Q,J):(J=x(J,ne),J.return=Q,J)}function he(Q,J,ne){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Vp(""+J,Q.mode,ne),J.return=Q,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case y:return ne=Wf(J.type,J.key,J.props,null,Q.mode,ne),Du(ne,J),ne.return=Q,ne;case _:return J=zp(J,Q.mode,ne),J.return=Q,J;case I:var fe=J._init;return J=fe(J._payload),he(Q,J,ne)}if(B(J)||H(J))return J=co(J,Q.mode,ne,null),J.return=Q,J;if(typeof J.then=="function")return he(Q,dd(J),ne);if(J.$$typeof===E)return he(Q,Qf(Q,J),ne);hd(Q,J)}return null}function oe(Q,J,ne,fe){var Oe=J!==null?J.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Oe!==null?null:R(Q,J,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:return ne.key===Oe?K(Q,J,ne,fe):null;case _:return ne.key===Oe?ae(Q,J,ne,fe):null;case I:return Oe=ne._init,ne=Oe(ne._payload),oe(Q,J,ne,fe)}if(B(ne)||H(ne))return Oe!==null?null:ce(Q,J,ne,fe,null);if(typeof ne.then=="function")return oe(Q,J,dd(ne),fe);if(ne.$$typeof===E)return oe(Q,J,Qf(Q,ne),fe);hd(Q,ne)}return null}function le(Q,J,ne,fe,Oe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Q=Q.get(ne)||null,R(J,Q,""+fe,Oe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case y:return Q=Q.get(fe.key===null?ne:fe.key)||null,K(J,Q,fe,Oe);case _:return Q=Q.get(fe.key===null?ne:fe.key)||null,ae(J,Q,fe,Oe);case I:var et=fe._init;return fe=et(fe._payload),le(Q,J,ne,fe,Oe)}if(B(fe)||H(fe))return Q=Q.get(ne)||null,ce(J,Q,fe,Oe,null);if(typeof fe.then=="function")return le(Q,J,ne,dd(fe),Oe);if(fe.$$typeof===E)return le(Q,J,ne,Qf(J,fe),Oe);hd(J,fe)}return null}function qe(Q,J,ne,fe){for(var Oe=null,et=null,Ne=J,Le=J=0,mn=null;Ne!==null&&Le<ne.length;Le++){Ne.index>Le?(mn=Ne,Ne=null):mn=Ne.sibling;var ct=oe(Q,Ne,ne[Le],fe);if(ct===null){Ne===null&&(Ne=mn);break}o&&Ne&&ct.alternate===null&&l(Q,Ne),J=S(ct,J,Le),et===null?Oe=ct:et.sibling=ct,et=ct,Ne=mn}if(Le===ne.length)return d(Q,Ne),gt&&ho(Q,Le),Oe;if(Ne===null){for(;Le<ne.length;Le++)Ne=he(Q,ne[Le],fe),Ne!==null&&(J=S(Ne,J,Le),et===null?Oe=Ne:et.sibling=Ne,et=Ne);return gt&&ho(Q,Le),Oe}for(Ne=m(Ne);Le<ne.length;Le++)mn=le(Ne,Q,Le,ne[Le],fe),mn!==null&&(o&&mn.alternate!==null&&Ne.delete(mn.key===null?Le:mn.key),J=S(mn,J,Le),et===null?Oe=mn:et.sibling=mn,et=mn);return o&&Ne.forEach(function(Ni){return l(Q,Ni)}),gt&&ho(Q,Le),Oe}function je(Q,J,ne,fe){if(ne==null)throw Error(r(151));for(var Oe=null,et=null,Ne=J,Le=J=0,mn=null,ct=ne.next();Ne!==null&&!ct.done;Le++,ct=ne.next()){Ne.index>Le?(mn=Ne,Ne=null):mn=Ne.sibling;var Ni=oe(Q,Ne,ct.value,fe);if(Ni===null){Ne===null&&(Ne=mn);break}o&&Ne&&Ni.alternate===null&&l(Q,Ne),J=S(Ni,J,Le),et===null?Oe=Ni:et.sibling=Ni,et=Ni,Ne=mn}if(ct.done)return d(Q,Ne),gt&&ho(Q,Le),Oe;if(Ne===null){for(;!ct.done;Le++,ct=ne.next())ct=he(Q,ct.value,fe),ct!==null&&(J=S(ct,J,Le),et===null?Oe=ct:et.sibling=ct,et=ct);return gt&&ho(Q,Le),Oe}for(Ne=m(Ne);!ct.done;Le++,ct=ne.next())ct=le(Ne,Q,Le,ct.value,fe),ct!==null&&(o&&ct.alternate!==null&&Ne.delete(ct.key===null?Le:ct.key),J=S(ct,J,Le),et===null?Oe=ct:et.sibling=ct,et=ct);return o&&Ne.forEach(function(Q3){return l(Q,Q3)}),gt&&ho(Q,Le),Oe}function Ot(Q,J,ne,fe){if(typeof ne=="object"&&ne!==null&&ne.type===w&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:e:{for(var Oe=ne.key;J!==null;){if(J.key===Oe){if(Oe=ne.type,Oe===w){if(J.tag===7){d(Q,J.sibling),fe=x(J,ne.props.children),fe.return=Q,Q=fe;break e}}else if(J.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&DT(Oe)===J.type){d(Q,J.sibling),fe=x(J,ne.props),Du(fe,ne),fe.return=Q,Q=fe;break e}d(Q,J);break}else l(Q,J);J=J.sibling}ne.type===w?(fe=co(ne.props.children,Q.mode,fe,ne.key),fe.return=Q,Q=fe):(fe=Wf(ne.type,ne.key,ne.props,null,Q.mode,fe),Du(fe,ne),fe.return=Q,Q=fe)}return N(Q);case _:e:{for(Oe=ne.key;J!==null;){if(J.key===Oe)if(J.tag===4&&J.stateNode.containerInfo===ne.containerInfo&&J.stateNode.implementation===ne.implementation){d(Q,J.sibling),fe=x(J,ne.children||[]),fe.return=Q,Q=fe;break e}else{d(Q,J);break}else l(Q,J);J=J.sibling}fe=zp(ne,Q.mode,fe),fe.return=Q,Q=fe}return N(Q);case I:return Oe=ne._init,ne=Oe(ne._payload),Ot(Q,J,ne,fe)}if(B(ne))return qe(Q,J,ne,fe);if(H(ne)){if(Oe=H(ne),typeof Oe!="function")throw Error(r(150));return ne=Oe.call(ne),je(Q,J,ne,fe)}if(typeof ne.then=="function")return Ot(Q,J,dd(ne),fe);if(ne.$$typeof===E)return Ot(Q,J,Qf(Q,ne),fe);hd(Q,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,J!==null&&J.tag===6?(d(Q,J.sibling),fe=x(J,ne),fe.return=Q,Q=fe):(d(Q,J),fe=Vp(ne,Q.mode,fe),fe.return=Q,Q=fe),N(Q)):d(Q,J)}return function(Q,J,ne,fe){try{Mu=0;var Oe=Ot(Q,J,ne,fe);return As=null,Oe}catch(Ne){if(Ne===_u||Ne===td)throw Ne;var et=ur(29,Ne,null,Q.mode);return et.lanes=fe,et.return=Q,et}finally{}}}var Es=NT(!0),PT=NT(!1),Ar=G(null),aa=null;function vi(o){var l=o.alternate;se(on,on.current&1),se(Ar,o),aa===null&&(l===null||_s.current!==null||l.memoizedState!==null)&&(aa=o)}function RT(o){if(o.tag===22){if(se(on,on.current),se(Ar,o),aa===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(aa=o)}}else yi()}function yi(){se(on,on.current),se(Ar,Ar.current)}function Da(o){ee(Ar),aa===o&&(aa=null),ee(on)}var on=G(0);function md(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||dv(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function wg(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:h({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Tg={enqueueSetState:function(o,l,d){o=o._reactInternals;var m=hr(),x=mi(m);x.payload=l,d!=null&&(x.callback=d),l=pi(o,x,m),l!==null&&(mr(l,o,m),wu(l,o,m))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=hr(),x=mi(m);x.tag=1,x.payload=l,d!=null&&(x.callback=d),l=pi(o,x,m),l!==null&&(mr(l,o,m),wu(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=hr(),m=mi(d);m.tag=2,l!=null&&(m.callback=l),l=pi(o,m,d),l!==null&&(mr(l,o,d),wu(l,o,d))}};function IT(o,l,d,m,x,S,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,S,N):l.prototype&&l.prototype.isPureReactComponent?!hu(d,m)||!hu(x,S):!0}function jT(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&Tg.enqueueReplaceState(l,l.state,null)}function xo(o,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(o=o.defaultProps){d===l&&(d=h({},d));for(var x in o)d[x]===void 0&&(d[x]=o[x])}return d}var pd=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function LT(o){pd(o)}function $T(o){console.error(o)}function BT(o){pd(o)}function gd(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function qT(o,l,d){try{var m=o.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Ag(o,l,d){return d=mi(d),d.tag=3,d.payload={element:null},d.callback=function(){gd(o,l)},d}function UT(o){return o=mi(o),o.tag=3,o}function FT(o,l,d,m){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var S=m.value;o.payload=function(){return x(S)},o.callback=function(){qT(l,d,m)}}var N=d.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){qT(l,d,m),typeof x!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var R=m.stack;this.componentDidCatch(m.value,{componentStack:R!==null?R:""})})}function Q$(o,l,d,m,x){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&yu(l,d,x,!0),d=Ar.current,d!==null){switch(d.tag){case 13:return aa===null?Wg():d.alternate===null&&Kt===0&&(Kt=3),d.flags&=-257,d.flags|=65536,d.lanes=x,m===eg?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),Zg(o,m,x)),!1;case 22:return d.flags|=65536,m===eg?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),Zg(o,m,x)),!1}throw Error(r(435,d.tag))}return Zg(o,m,x),Wg(),!1}if(gt)return l=Ar.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,m!==Kp&&(o=Error(r(422),{cause:m}),vu(_r(o,d)))):(m!==Kp&&(l=Error(r(423),{cause:m}),vu(_r(l,d))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,m=_r(m,d),x=Ag(o.stateNode,m,x),rg(o,x),Kt!==4&&(Kt=2)),!1;var S=Error(r(520),{cause:m});if(S=_r(S,d),$u===null?$u=[S]:$u.push(S),Kt!==4&&(Kt=2),l===null)return!0;m=_r(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=x&-x,d.lanes|=o,o=Ag(d.stateNode,m,o),rg(d,o),!1;case 1:if(l=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ti===null||!Ti.has(S))))return d.flags|=65536,x&=-x,d.lanes|=x,x=UT(x),FT(x,o,d,m),rg(d,x),!1}d=d.return}while(d!==null);return!1}var VT=Error(r(461)),dn=!1;function wn(o,l,d,m){l.child=o===null?PT(l,null,d,m):Es(l,o.child,d,m)}function zT(o,l,d,m,x){d=d.render;var S=l.ref;if("ref"in m){var N={};for(var R in m)R!=="ref"&&(N[R]=m[R])}else N=m;return vo(l),m=lg(o,l,d,N,S,x),R=ug(),o!==null&&!dn?(cg(o,l,x),Na(o,l,x)):(gt&&R&&Gp(l),l.flags|=1,wn(o,l,m,x),l.child)}function GT(o,l,d,m,x){if(o===null){var S=d.type;return typeof S=="function"&&!Fp(S)&&S.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=S,HT(o,l,S,m,x)):(o=Wf(d.type,null,m,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(S=o.child,!Pg(o,x)){var N=S.memoizedProps;if(d=d.compare,d=d!==null?d:hu,d(N,m)&&o.ref===l.ref)return Na(o,l,x)}return l.flags|=1,o=Aa(S,m),o.ref=l.ref,o.return=l,l.child=o}function HT(o,l,d,m,x){if(o!==null){var S=o.memoizedProps;if(hu(S,m)&&o.ref===l.ref)if(dn=!1,l.pendingProps=m=S,Pg(o,x))(o.flags&131072)!==0&&(dn=!0);else return l.lanes=o.lanes,Na(o,l,x)}return Eg(o,l,d,m,x)}function KT(o,l,d){var m=l.pendingProps,x=m.children,S=o!==null?o.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=S!==null?S.baseLanes|d:d,o!==null){for(x=l.child=o.child,S=0;x!==null;)S=S|x.lanes|x.childLanes,x=x.sibling;l.childLanes=S&~m}else l.childLanes=0,l.child=null;return YT(o,l,m,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&ed(l,S!==null?S.cachePool:null),S!==null?H1(l,S):ig(),RT(l);else return l.lanes=l.childLanes=536870912,YT(o,l,S!==null?S.baseLanes|d:d,d)}else S!==null?(ed(l,S.cachePool),H1(l,S),yi(),l.memoizedState=null):(o!==null&&ed(l,null),ig(),yi());return wn(o,l,x,d),l.child}function YT(o,l,d,m){var x=Qp();return x=x===null?null:{parent:an._currentValue,pool:x},l.memoizedState={baseLanes:d,cachePool:x},o!==null&&ed(l,null),ig(),RT(l),o!==null&&yu(o,l,m,!0),null}function vd(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function Eg(o,l,d,m,x){return vo(l),d=lg(o,l,d,m,void 0,x),m=ug(),o!==null&&!dn?(cg(o,l,x),Na(o,l,x)):(gt&&m&&Gp(l),l.flags|=1,wn(o,l,d,x),l.child)}function WT(o,l,d,m,x,S){return vo(l),l.updateQueue=null,d=Y1(l,m,d,x),K1(o),m=ug(),o!==null&&!dn?(cg(o,l,S),Na(o,l,S)):(gt&&m&&Gp(l),l.flags|=1,wn(o,l,d,S),l.child)}function XT(o,l,d,m,x){if(vo(l),l.stateNode===null){var S=gs,N=d.contextType;typeof N=="object"&&N!==null&&(S=Nn(N)),S=new d(m,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Tg,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=m,S.state=l.memoizedState,S.refs={},tg(l),N=d.contextType,S.context=typeof N=="object"&&N!==null?Nn(N):gs,S.state=l.memoizedState,N=d.getDerivedStateFromProps,typeof N=="function"&&(wg(l,d,N,m),S.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&Tg.enqueueReplaceState(S,S.state,null),Au(l,m,S,x),Tu(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(o===null){S=l.stateNode;var R=l.memoizedProps,K=xo(d,R);S.props=K;var ae=S.context,ce=d.contextType;N=gs,typeof ce=="object"&&ce!==null&&(N=Nn(ce));var he=d.getDerivedStateFromProps;ce=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function",R=l.pendingProps!==R,ce||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R||ae!==N)&&jT(l,S,m,N),hi=!1;var oe=l.memoizedState;S.state=oe,Au(l,m,S,x),Tu(),ae=l.memoizedState,R||oe!==ae||hi?(typeof he=="function"&&(wg(l,d,he,m),ae=l.memoizedState),(K=hi||IT(l,d,K,m,oe,ae,N))?(ce||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ae),S.props=m,S.state=ae,S.context=N,m=K):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{S=l.stateNode,ng(o,l),N=l.memoizedProps,ce=xo(d,N),S.props=ce,he=l.pendingProps,oe=S.context,ae=d.contextType,K=gs,typeof ae=="object"&&ae!==null&&(K=Nn(ae)),R=d.getDerivedStateFromProps,(ae=typeof R=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==he||oe!==K)&&jT(l,S,m,K),hi=!1,oe=l.memoizedState,S.state=oe,Au(l,m,S,x),Tu();var le=l.memoizedState;N!==he||oe!==le||hi||o!==null&&o.dependencies!==null&&Jf(o.dependencies)?(typeof R=="function"&&(wg(l,d,R,m),le=l.memoizedState),(ce=hi||IT(l,d,ce,m,oe,le,K)||o!==null&&o.dependencies!==null&&Jf(o.dependencies))?(ae||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,le,K),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,le,K)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===o.memoizedProps&&oe===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&oe===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=le),S.props=m,S.state=le,S.context=K,m=ce):(typeof S.componentDidUpdate!="function"||N===o.memoizedProps&&oe===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&oe===o.memoizedState||(l.flags|=1024),m=!1)}return S=m,vd(o,l),m=(l.flags&128)!==0,S||m?(S=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,o!==null&&m?(l.child=Es(l,o.child,null,x),l.child=Es(l,null,d,x)):wn(o,l,d,x),l.memoizedState=S.state,o=l.child):o=Na(o,l,x),o}function ZT(o,l,d,m){return gu(),l.flags|=256,wn(o,l,d,m),l.child}var Cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kg(o){return{baseLanes:o,cachePool:$1()}}function Og(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=Er),o}function JT(o,l,d){var m=l.pendingProps,x=!1,S=(l.flags&128)!==0,N;if((N=S)||(N=o!==null&&o.memoizedState===null?!1:(on.current&2)!==0),N&&(x=!0,l.flags&=-129),N=(l.flags&32)!==0,l.flags&=-33,o===null){if(gt){if(x?vi(l):yi(),gt){var R=Ht,K;if(K=R){e:{for(K=R,R=ra;K.nodeType!==8;){if(!R){R=null;break e}if(K=Fr(K.nextSibling),K===null){R=null;break e}}R=K}R!==null?(l.memoizedState={dehydrated:R,treeContext:fo!==null?{id:Ea,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},K=ur(18,null,null,0),K.stateNode=R,K.return=l,l.child=K,Bn=l,Ht=null,K=!0):K=!1}K||po(l)}if(R=l.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return dv(R)?l.lanes=32:l.lanes=536870912,null;Da(l)}return R=m.children,m=m.fallback,x?(yi(),x=l.mode,R=yd({mode:"hidden",children:R},x),m=co(m,x,d,null),R.return=l,m.return=l,R.sibling=m,l.child=R,x=l.child,x.memoizedState=kg(d),x.childLanes=Og(o,N,d),l.memoizedState=Cg,m):(vi(l),Mg(l,R))}if(K=o.memoizedState,K!==null&&(R=K.dehydrated,R!==null)){if(S)l.flags&256?(vi(l),l.flags&=-257,l=Dg(o,l,d)):l.memoizedState!==null?(yi(),l.child=o.child,l.flags|=128,l=null):(yi(),x=m.fallback,R=l.mode,m=yd({mode:"visible",children:m.children},R),x=co(x,R,d,null),x.flags|=2,m.return=l,x.return=l,m.sibling=x,l.child=m,Es(l,o.child,null,d),m=l.child,m.memoizedState=kg(d),m.childLanes=Og(o,N,d),l.memoizedState=Cg,l=x);else if(vi(l),dv(R)){if(N=R.nextSibling&&R.nextSibling.dataset,N)var ae=N.dgst;N=ae,m=Error(r(419)),m.stack="",m.digest=N,vu({value:m,source:null,stack:null}),l=Dg(o,l,d)}else if(dn||yu(o,l,d,!1),N=(d&o.childLanes)!==0,dn||N){if(N=Pt,N!==null&&(m=d&-d,m=(m&42)!==0?1:nu(m),m=(m&(N.suspendedLanes|d))!==0?0:m,m!==0&&m!==K.retryLane))throw K.retryLane=m,ps(o,m),mr(N,o,m),VT;R.data==="$?"||Wg(),l=Dg(o,l,d)}else R.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=K.treeContext,Ht=Fr(R.nextSibling),Bn=l,gt=!0,mo=null,ra=!1,o!==null&&(wr[Tr++]=Ea,wr[Tr++]=Ca,wr[Tr++]=fo,Ea=o.id,Ca=o.overflow,fo=l),l=Mg(l,m.children),l.flags|=4096);return l}return x?(yi(),x=m.fallback,R=l.mode,K=o.child,ae=K.sibling,m=Aa(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,ae!==null?x=Aa(ae,x):(x=co(x,R,d,null),x.flags|=2),x.return=l,m.return=l,m.sibling=x,l.child=m,m=x,x=l.child,R=o.child.memoizedState,R===null?R=kg(d):(K=R.cachePool,K!==null?(ae=an._currentValue,K=K.parent!==ae?{parent:ae,pool:ae}:K):K=$1(),R={baseLanes:R.baseLanes|d,cachePool:K}),x.memoizedState=R,x.childLanes=Og(o,N,d),l.memoizedState=Cg,m):(vi(l),d=o.child,o=d.sibling,d=Aa(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,o!==null&&(N=l.deletions,N===null?(l.deletions=[o],l.flags|=16):N.push(o)),l.child=d,l.memoizedState=null,d)}function Mg(o,l){return l=yd({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function yd(o,l){return o=ur(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Dg(o,l,d){return Es(l,o.child,null,d),o=Mg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function QT(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Wp(o.return,l,d)}function Ng(o,l,d,m,x){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=d,S.tailMode=x)}function eA(o,l,d){var m=l.pendingProps,x=m.revealOrder,S=m.tail;if(wn(o,l,m.children,d),m=on.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&QT(o,d,l);else if(o.tag===19)QT(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}switch(se(on,m),x){case"forwards":for(d=l.child,x=null;d!==null;)o=d.alternate,o!==null&&md(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),Ng(l,!1,x,d,S);break;case"backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&md(o)===null){l.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}Ng(l,!0,d,null,S);break;case"together":Ng(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Na(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),wi|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(yu(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=Aa(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Aa(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function Pg(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Jf(o)))}function e3(o,l,d){switch(l.tag){case 3:Ke(l,l.stateNode.containerInfo),di(l,an,o.memoizedState.cache),gu();break;case 27:case 5:Re(l);break;case 4:Ke(l,l.stateNode.containerInfo);break;case 10:di(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(vi(l),l.flags|=128,null):(d&l.child.childLanes)!==0?JT(o,l,d):(vi(l),o=Na(o,l,d),o!==null?o.sibling:null);vi(l);break;case 19:var x=(o.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(yu(o,l,d,!1),m=(d&l.childLanes)!==0),x){if(m)return eA(o,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),se(on,on.current),m)break;return null;case 22:case 23:return l.lanes=0,KT(o,l,d);case 24:di(l,an,o.memoizedState.cache)}return Na(o,l,d)}function tA(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)dn=!0;else{if(!Pg(o,d)&&(l.flags&128)===0)return dn=!1,e3(o,l,d);dn=(o.flags&131072)!==0}else dn=!1,gt&&(l.flags&1048576)!==0&&D1(l,Zf,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var m=l.elementType,x=m._init;if(m=x(m._payload),l.type=m,typeof m=="function")Fp(m)?(o=xo(m,o),l.tag=1,l=XT(null,l,m,o,d)):(l.tag=0,l=Eg(null,l,m,o,d));else{if(m!=null){if(x=m.$$typeof,x===D){l.tag=11,l=zT(null,l,m,o,d);break e}else if(x===P){l.tag=14,l=GT(null,l,m,o,d);break e}}throw l=Y(m)||m,Error(r(306,l,""))}}return l;case 0:return Eg(o,l,l.type,l.pendingProps,d);case 1:return m=l.type,x=xo(m,l.pendingProps),XT(o,l,m,x,d);case 3:e:{if(Ke(l,l.stateNode.containerInfo),o===null)throw Error(r(387));m=l.pendingProps;var S=l.memoizedState;x=S.element,ng(o,l),Au(l,m,null,d);var N=l.memoizedState;if(m=N.cache,di(l,an,m),m!==S.cache&&Xp(l,[an],d,!0),Tu(),m=N.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:N.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=ZT(o,l,m,d);break e}else if(m!==x){x=_r(Error(r(424)),l),vu(x),l=ZT(o,l,m,d);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ht=Fr(o.firstChild),Bn=l,gt=!0,mo=null,ra=!0,d=PT(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(gu(),m===x){l=Na(o,l,d);break e}wn(o,l,m,d)}l=l.child}return l;case 26:return vd(o,l),o===null?(d=iE(l.type,null,l.pendingProps,null))?l.memoizedState=d:gt||(d=l.type,o=l.pendingProps,m=Nd(Ae.current).createElement(d),m[fn]=l,m[kn]=o,An(m,d,o),Zt(m),l.stateNode=m):l.memoizedState=iE(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Re(l),o===null&&gt&&(m=l.stateNode=nE(l.type,l.pendingProps,Ae.current),Bn=l,ra=!0,x=Ht,Ci(l.type)?(hv=x,Ht=Fr(m.firstChild)):Ht=x),wn(o,l,l.pendingProps.children,d),vd(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&gt&&((x=m=Ht)&&(m=k3(m,l.type,l.pendingProps,ra),m!==null?(l.stateNode=m,Bn=l,Ht=Fr(m.firstChild),ra=!1,x=!0):x=!1),x||po(l)),Re(l),x=l.type,S=l.pendingProps,N=o!==null?o.memoizedProps:null,m=S.children,uv(x,S)?m=null:N!==null&&uv(x,N)&&(l.flags|=32),l.memoizedState!==null&&(x=lg(o,l,H$,null,null,d),Ku._currentValue=x),vd(o,l),wn(o,l,m,d),l.child;case 6:return o===null&&gt&&((o=d=Ht)&&(d=O3(d,l.pendingProps,ra),d!==null?(l.stateNode=d,Bn=l,Ht=null,o=!0):o=!1),o||po(l)),null;case 13:return JT(o,l,d);case 4:return Ke(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Es(l,null,m,d):wn(o,l,m,d),l.child;case 11:return zT(o,l,l.type,l.pendingProps,d);case 7:return wn(o,l,l.pendingProps,d),l.child;case 8:return wn(o,l,l.pendingProps.children,d),l.child;case 12:return wn(o,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,di(l,l.type,m.value),wn(o,l,m.children,d),l.child;case 9:return x=l.type._context,m=l.pendingProps.children,vo(l),x=Nn(x),m=m(x),l.flags|=1,wn(o,l,m,d),l.child;case 14:return GT(o,l,l.type,l.pendingProps,d);case 15:return HT(o,l,l.type,l.pendingProps,d);case 19:return eA(o,l,d);case 31:return m=l.pendingProps,d=l.mode,m={mode:m.mode,children:m.children},o===null?(d=yd(m,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=Aa(o.child,m),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return KT(o,l,d);case 24:return vo(l),m=Nn(an),o===null?(x=Qp(),x===null&&(x=Pt,S=Zp(),x.pooledCache=S,S.refCount++,S!==null&&(x.pooledCacheLanes|=d),x=S),l.memoizedState={parent:m,cache:x},tg(l),di(l,an,x)):((o.lanes&d)!==0&&(ng(o,l),Au(l,null,null,d),Tu()),x=o.memoizedState,S=l.memoizedState,x.parent!==m?(x={parent:m,cache:m},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),di(l,an,m)):(m=S.cache,di(l,an,m),m!==x.cache&&Xp(l,[an],d,!0))),wn(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Pa(o){o.flags|=4}function nA(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!cE(l)){if(l=Ar.current,l!==null&&((ut&4194048)===ut?aa!==null:(ut&62914560)!==ut&&(ut&536870912)===0||l!==aa))throw Su=eg,B1;o.flags|=8192}}function bd(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Cf():536870912,o.lanes|=l,Ms|=l)}function Nu(o,l){if(!gt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Gt(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function t3(o,l,d){var m=l.pendingProps;switch(Hp(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(l),null;case 1:return Gt(l),null;case 3:return d=l.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Oa(an),Se(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(pu(l)?Pa(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,R1())),Gt(l),null;case 26:return d=l.memoizedState,o===null?(Pa(l),d!==null?(Gt(l),nA(l,d)):(Gt(l),l.flags&=-16777217)):d?d!==o.memoizedState?(Pa(l),Gt(l),nA(l,d)):(Gt(l),l.flags&=-16777217):(o.memoizedProps!==m&&Pa(l),Gt(l),l.flags&=-16777217),null;case 27:Be(l),d=Ae.current;var x=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==m&&Pa(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Gt(l),null}o=be.current,pu(l)?N1(l):(o=nE(x,m,d),l.stateNode=o,Pa(l))}return Gt(l),null;case 5:if(Be(l),d=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&Pa(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Gt(l),null}if(o=be.current,pu(l))N1(l);else{switch(x=Nd(Ae.current),o){case 1:o=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:o=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":o=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":o=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof m.is=="string"?x.createElement("select",{is:m.is}):x.createElement("select"),m.multiple?o.multiple=!0:m.size&&(o.size=m.size);break;default:o=typeof m.is=="string"?x.createElement(d,{is:m.is}):x.createElement(d)}}o[fn]=l,o[kn]=m;e:for(x=l.child;x!==null;){if(x.tag===5||x.tag===6)o.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===l)break e;for(;x.sibling===null;){if(x.return===null||x.return===l)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}l.stateNode=o;e:switch(An(o,d,m),d){case"button":case"input":case"select":case"textarea":o=!!m.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Pa(l)}}return Gt(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==m&&Pa(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(o=Ae.current,pu(l)){if(o=l.stateNode,d=l.memoizedProps,m=null,x=Bn,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}o[fn]=l,o=!!(o.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||WA(o.nodeValue,d)),o||po(l)}else o=Nd(o).createTextNode(m),o[fn]=l,l.stateNode=o}return Gt(l),null;case 13:if(m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=pu(l),m!==null&&m.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[fn]=l}else gu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Gt(l),x=!1}else x=R1(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(Da(l),l):(Da(l),null)}if(Da(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=m!==null,o=o!==null&&o.memoizedState!==null,d){m=l.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==x&&(m.flags|=2048)}return d!==o&&d&&(l.child.flags|=8192),bd(l,l.updateQueue),Gt(l),null;case 4:return Se(),o===null&&av(l.stateNode.containerInfo),Gt(l),null;case 10:return Oa(l.type),Gt(l),null;case 19:if(ee(on),x=l.memoizedState,x===null)return Gt(l),null;if(m=(l.flags&128)!==0,S=x.rendering,S===null)if(m)Nu(x,!1);else{if(Kt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(S=md(o),S!==null){for(l.flags|=128,Nu(x,!1),o=S.updateQueue,l.updateQueue=o,bd(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)M1(d,o),d=d.sibling;return se(on,on.current&1|2),l.child}o=o.sibling}x.tail!==null&&Et()>Sd&&(l.flags|=128,m=!0,Nu(x,!1),l.lanes=4194304)}else{if(!m)if(o=md(S),o!==null){if(l.flags|=128,m=!0,o=o.updateQueue,l.updateQueue=o,bd(l,o),Nu(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!gt)return Gt(l),null}else 2*Et()-x.renderingStartTime>Sd&&d!==536870912&&(l.flags|=128,m=!0,Nu(x,!1),l.lanes=4194304);x.isBackwards?(S.sibling=l.child,l.child=S):(o=x.last,o!==null?o.sibling=S:l.child=S,x.last=S)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Et(),l.sibling=null,o=on.current,se(on,m?o&1|2:o&1),l):(Gt(l),null);case 22:case 23:return Da(l),og(),m=l.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(Gt(l),l.subtreeFlags&6&&(l.flags|=8192)):Gt(l),d=l.updateQueue,d!==null&&bd(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),o!==null&&ee(yo),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Oa(an),Gt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function n3(o,l){switch(Hp(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Oa(an),Se(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Be(l),null;case 13:if(Da(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));gu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return ee(on),null;case 4:return Se(),null;case 10:return Oa(l.type),null;case 22:case 23:return Da(l),og(),o!==null&&ee(yo),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Oa(an),null;case 25:return null;default:return null}}function rA(o,l){switch(Hp(l),l.tag){case 3:Oa(an),Se();break;case 26:case 27:case 5:Be(l);break;case 4:Se();break;case 13:Da(l);break;case 19:ee(on);break;case 10:Oa(l.type);break;case 22:case 23:Da(l),og(),o!==null&&ee(yo);break;case 24:Oa(an)}}function Pu(o,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var x=m.next;d=x;do{if((d.tag&o)===o){m=void 0;var S=d.create,N=d.inst;m=S(),N.destroy=m}d=d.next}while(d!==x)}}catch(R){Dt(l,l.return,R)}}function bi(o,l,d){try{var m=l.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var S=x.next;m=S;do{if((m.tag&o)===o){var N=m.inst,R=N.destroy;if(R!==void 0){N.destroy=void 0,x=l;var K=d,ae=R;try{ae()}catch(ce){Dt(x,K,ce)}}}m=m.next}while(m!==S)}}catch(ce){Dt(l,l.return,ce)}}function aA(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{G1(l,d)}catch(m){Dt(o,o.return,m)}}}function iA(o,l,d){d.props=xo(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(m){Dt(o,l,m)}}function Ru(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof d=="function"?o.refCleanup=d(m):d.current=m}}catch(x){Dt(o,l,x)}}function ia(o,l){var d=o.ref,m=o.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(x){Dt(o,l,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Dt(o,l,x)}else d.current=null}function oA(o){var l=o.type,d=o.memoizedProps,m=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(x){Dt(o,o.return,x)}}function Rg(o,l,d){try{var m=o.stateNode;w3(m,o.type,d,l),m[kn]=l}catch(x){Dt(o,o.return,x)}}function sA(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ci(o.type)||o.tag===4}function Ig(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||sA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ci(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function jg(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Dd));else if(m!==4&&(m===27&&Ci(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for(jg(o,l,d),o=o.sibling;o!==null;)jg(o,l,d),o=o.sibling}function xd(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(m===27&&Ci(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(xd(o,l,d),o=o.sibling;o!==null;)xd(o,l,d),o=o.sibling}function lA(o){var l=o.stateNode,d=o.memoizedProps;try{for(var m=o.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);An(l,m,d),l[fn]=o,l[kn]=d}catch(S){Dt(o,o.return,S)}}var Ra=!1,Xt=!1,Lg=!1,uA=typeof WeakSet=="function"?WeakSet:Set,hn=null;function r3(o,l){if(o=o.containerInfo,sv=$d,o=x1(o),Ip(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var N=0,R=-1,K=-1,ae=0,ce=0,he=o,oe=null;t:for(;;){for(var le;he!==d||x!==0&&he.nodeType!==3||(R=N+x),he!==S||m!==0&&he.nodeType!==3||(K=N+m),he.nodeType===3&&(N+=he.nodeValue.length),(le=he.firstChild)!==null;)oe=he,he=le;for(;;){if(he===o)break t;if(oe===d&&++ae===x&&(R=N),oe===S&&++ce===m&&(K=N),(le=he.nextSibling)!==null)break;he=oe,oe=he.parentNode}he=le}d=R===-1||K===-1?null:{start:R,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(lv={focusedElem:o,selectionRange:d},$d=!1,hn=l;hn!==null;)if(l=hn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,hn=o;else for(;hn!==null;){switch(l=hn,S=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,d=l,x=S.memoizedProps,S=S.memoizedState,m=d.stateNode;try{var qe=xo(d.type,x,d.elementType===d.type);o=m.getSnapshotBeforeUpdate(qe,S),m.__reactInternalSnapshotBeforeUpdate=o}catch(je){Dt(d,d.return,je)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)fv(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":fv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,hn=o;break}hn=l.return}}function cA(o,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:xi(o,d),m&4&&Pu(5,d);break;case 1:if(xi(o,d),m&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(N){Dt(d,d.return,N)}else{var x=xo(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(x,l,o.__reactInternalSnapshotBeforeUpdate)}catch(N){Dt(d,d.return,N)}}m&64&&aA(d),m&512&&Ru(d,d.return);break;case 3:if(xi(o,d),m&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{G1(o,l)}catch(N){Dt(d,d.return,N)}}break;case 27:l===null&&m&4&&lA(d);case 26:case 5:xi(o,d),l===null&&m&4&&oA(d),m&512&&Ru(d,d.return);break;case 12:xi(o,d);break;case 13:xi(o,d),m&4&&hA(o,d),m&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=d3.bind(null,d),M3(o,d))));break;case 22:if(m=d.memoizedState!==null||Ra,!m){l=l!==null&&l.memoizedState!==null||Xt,x=Ra;var S=Xt;Ra=m,(Xt=l)&&!S?_i(o,d,(d.subtreeFlags&8772)!==0):xi(o,d),Ra=x,Xt=S}break;case 30:break;default:xi(o,d)}}function fA(o){var l=o.alternate;l!==null&&(o.alternate=null,fA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&iu(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ft=null,er=!1;function Ia(o,l,d){for(d=d.child;d!==null;)dA(o,l,d),d=d.sibling}function dA(o,l,d){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(ea,d)}catch{}switch(d.tag){case 26:Xt||ia(d,l),Ia(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Xt||ia(d,l);var m=Ft,x=er;Ci(d.type)&&(Ft=d.stateNode,er=!1),Ia(o,l,d),Vu(d.stateNode),Ft=m,er=x;break;case 5:Xt||ia(d,l);case 6:if(m=Ft,x=er,Ft=null,Ia(o,l,d),Ft=m,er=x,Ft!==null)if(er)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(d.stateNode)}catch(S){Dt(d,l,S)}else try{Ft.removeChild(d.stateNode)}catch(S){Dt(d,l,S)}break;case 18:Ft!==null&&(er?(o=Ft,eE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),Zu(o)):eE(Ft,d.stateNode));break;case 4:m=Ft,x=er,Ft=d.stateNode.containerInfo,er=!0,Ia(o,l,d),Ft=m,er=x;break;case 0:case 11:case 14:case 15:Xt||bi(2,d,l),Xt||bi(4,d,l),Ia(o,l,d);break;case 1:Xt||(ia(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&iA(d,l,m)),Ia(o,l,d);break;case 21:Ia(o,l,d);break;case 22:Xt=(m=Xt)||d.memoizedState!==null,Ia(o,l,d),Xt=m;break;default:Ia(o,l,d)}}function hA(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Zu(o)}catch(d){Dt(l,l.return,d)}}function a3(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new uA),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new uA),l;default:throw Error(r(435,o.tag))}}function $g(o,l){var d=a3(o);l.forEach(function(m){var x=h3.bind(null,o,m);d.has(m)||(d.add(m),m.then(x,x))})}function cr(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m],S=o,N=l,R=N;e:for(;R!==null;){switch(R.tag){case 27:if(Ci(R.type)){Ft=R.stateNode,er=!1;break e}break;case 5:Ft=R.stateNode,er=!1;break e;case 3:case 4:Ft=R.stateNode.containerInfo,er=!0;break e}R=R.return}if(Ft===null)throw Error(r(160));dA(S,N,x),Ft=null,er=!1,S=x.alternate,S!==null&&(S.return=null),x.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)mA(l,o),l=l.sibling}var Ur=null;function mA(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:cr(l,o),fr(o),m&4&&(bi(3,o,o.return),Pu(3,o),bi(5,o,o.return));break;case 1:cr(l,o),fr(o),m&512&&(Xt||d===null||ia(d,d.return)),m&64&&Ra&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var x=Ur;if(cr(l,o),fr(o),m&512&&(Xt||d===null||ia(d,d.return)),m&4){var S=d!==null?d.memoizedState:null;if(m=o.memoizedState,d===null)if(m===null)if(o.stateNode===null){e:{m=o.type,d=o.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":S=x.getElementsByTagName("title")[0],(!S||S[eo]||S[fn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=x.createElement(m),x.head.insertBefore(S,x.querySelector("head > title"))),An(S,m,d),S[fn]=o,Zt(S),m=S;break e;case"link":var N=lE("link","href",x).get(m+(d.href||""));if(N){for(var R=0;R<N.length;R++)if(S=N[R],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){N.splice(R,1);break t}}S=x.createElement(m),An(S,m,d),x.head.appendChild(S);break;case"meta":if(N=lE("meta","content",x).get(m+(d.content||""))){for(R=0;R<N.length;R++)if(S=N[R],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){N.splice(R,1);break t}}S=x.createElement(m),An(S,m,d),x.head.appendChild(S);break;default:throw Error(r(468,m))}S[fn]=o,Zt(S),m=S}o.stateNode=m}else uE(x,o.type,o.stateNode);else o.stateNode=sE(x,m,o.memoizedProps);else S!==m?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,m===null?uE(x,o.type,o.stateNode):sE(x,m,o.memoizedProps)):m===null&&o.stateNode!==null&&Rg(o,o.memoizedProps,d.memoizedProps)}break;case 27:cr(l,o),fr(o),m&512&&(Xt||d===null||ia(d,d.return)),d!==null&&m&4&&Rg(o,o.memoizedProps,d.memoizedProps);break;case 5:if(cr(l,o),fr(o),m&512&&(Xt||d===null||ia(d,d.return)),o.flags&32){x=o.stateNode;try{Ge(x,"")}catch(le){Dt(o,o.return,le)}}m&4&&o.stateNode!=null&&(x=o.memoizedProps,Rg(o,x,d!==null?d.memoizedProps:x)),m&1024&&(Lg=!0);break;case 6:if(cr(l,o),fr(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,d=o.stateNode;try{d.nodeValue=m}catch(le){Dt(o,o.return,le)}}break;case 3:if(Id=null,x=Ur,Ur=Pd(l.containerInfo),cr(l,o),Ur=x,fr(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Zu(l.containerInfo)}catch(le){Dt(o,o.return,le)}Lg&&(Lg=!1,pA(o));break;case 4:m=Ur,Ur=Pd(o.stateNode.containerInfo),cr(l,o),fr(o),Ur=m;break;case 12:cr(l,o),fr(o);break;case 13:cr(l,o),fr(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(zg=Et()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,$g(o,m)));break;case 22:x=o.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,ae=Ra,ce=Xt;if(Ra=ae||x,Xt=ce||K,cr(l,o),Xt=ce,Ra=ae,fr(o),m&8192)e:for(l=o.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(d===null||K||Ra||Xt||_o(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){K=d=l;try{if(S=K.stateNode,x)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{R=K.stateNode;var he=K.memoizedProps.style,oe=he!=null&&he.hasOwnProperty("display")?he.display:null;R.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(le){Dt(K,K.return,le)}}}else if(l.tag===6){if(d===null){K=l;try{K.stateNode.nodeValue=x?"":K.memoizedProps}catch(le){Dt(K,K.return,le)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=o.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,$g(o,d))));break;case 19:cr(l,o),fr(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,$g(o,m)));break;case 30:break;case 21:break;default:cr(l,o),fr(o)}}function fr(o){var l=o.flags;if(l&2){try{for(var d,m=o.return;m!==null;){if(sA(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var x=d.stateNode,S=Ig(o);xd(o,S,x);break;case 5:var N=d.stateNode;d.flags&32&&(Ge(N,""),d.flags&=-33);var R=Ig(o);xd(o,R,N);break;case 3:case 4:var K=d.stateNode.containerInfo,ae=Ig(o);jg(o,ae,K);break;default:throw Error(r(161))}}catch(ce){Dt(o,o.return,ce)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function pA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;pA(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function xi(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)cA(o,l.alternate,l),l=l.sibling}function _o(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:bi(4,l,l.return),_o(l);break;case 1:ia(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&iA(l,l.return,d),_o(l);break;case 27:Vu(l.stateNode);case 26:case 5:ia(l,l.return),_o(l);break;case 22:l.memoizedState===null&&_o(l);break;case 30:_o(l);break;default:_o(l)}o=o.sibling}}function _i(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,x=o,S=l,N=S.flags;switch(S.tag){case 0:case 11:case 15:_i(x,S,d),Pu(4,S);break;case 1:if(_i(x,S,d),m=S,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ae){Dt(m,m.return,ae)}if(m=S,x=m.updateQueue,x!==null){var R=m.stateNode;try{var K=x.shared.hiddenCallbacks;if(K!==null)for(x.shared.hiddenCallbacks=null,x=0;x<K.length;x++)z1(K[x],R)}catch(ae){Dt(m,m.return,ae)}}d&&N&64&&aA(S),Ru(S,S.return);break;case 27:lA(S);case 26:case 5:_i(x,S,d),d&&m===null&&N&4&&oA(S),Ru(S,S.return);break;case 12:_i(x,S,d);break;case 13:_i(x,S,d),d&&N&4&&hA(x,S);break;case 22:S.memoizedState===null&&_i(x,S,d),Ru(S,S.return);break;case 30:break;default:_i(x,S,d)}l=l.sibling}}function Bg(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&bu(d))}function qg(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&bu(o))}function oa(o,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)gA(o,l,d,m),l=l.sibling}function gA(o,l,d,m){var x=l.flags;switch(l.tag){case 0:case 11:case 15:oa(o,l,d,m),x&2048&&Pu(9,l);break;case 1:oa(o,l,d,m);break;case 3:oa(o,l,d,m),x&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&bu(o)));break;case 12:if(x&2048){oa(o,l,d,m),o=l.stateNode;try{var S=l.memoizedProps,N=S.id,R=S.onPostCommit;typeof R=="function"&&R(N,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(K){Dt(l,l.return,K)}}else oa(o,l,d,m);break;case 13:oa(o,l,d,m);break;case 23:break;case 22:S=l.stateNode,N=l.alternate,l.memoizedState!==null?S._visibility&2?oa(o,l,d,m):Iu(o,l):S._visibility&2?oa(o,l,d,m):(S._visibility|=2,Cs(o,l,d,m,(l.subtreeFlags&10256)!==0)),x&2048&&Bg(N,l);break;case 24:oa(o,l,d,m),x&2048&&qg(l.alternate,l);break;default:oa(o,l,d,m)}}function Cs(o,l,d,m,x){for(x=x&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var S=o,N=l,R=d,K=m,ae=N.flags;switch(N.tag){case 0:case 11:case 15:Cs(S,N,R,K,x),Pu(8,N);break;case 23:break;case 22:var ce=N.stateNode;N.memoizedState!==null?ce._visibility&2?Cs(S,N,R,K,x):Iu(S,N):(ce._visibility|=2,Cs(S,N,R,K,x)),x&&ae&2048&&Bg(N.alternate,N);break;case 24:Cs(S,N,R,K,x),x&&ae&2048&&qg(N.alternate,N);break;default:Cs(S,N,R,K,x)}l=l.sibling}}function Iu(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,m=l,x=m.flags;switch(m.tag){case 22:Iu(d,m),x&2048&&Bg(m.alternate,m);break;case 24:Iu(d,m),x&2048&&qg(m.alternate,m);break;default:Iu(d,m)}l=l.sibling}}var ju=8192;function ks(o){if(o.subtreeFlags&ju)for(o=o.child;o!==null;)vA(o),o=o.sibling}function vA(o){switch(o.tag){case 26:ks(o),o.flags&ju&&o.memoizedState!==null&&V3(Ur,o.memoizedState,o.memoizedProps);break;case 5:ks(o);break;case 3:case 4:var l=Ur;Ur=Pd(o.stateNode.containerInfo),ks(o),Ur=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=ju,ju=16777216,ks(o),ju=l):ks(o));break;default:ks(o)}}function yA(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Lu(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];hn=m,xA(m,o)}yA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)bA(o),o=o.sibling}function bA(o){switch(o.tag){case 0:case 11:case 15:Lu(o),o.flags&2048&&bi(9,o,o.return);break;case 3:Lu(o);break;case 12:Lu(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,_d(o)):Lu(o);break;default:Lu(o)}}function _d(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];hn=m,xA(m,o)}yA(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:bi(8,l,l.return),_d(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,_d(l));break;default:_d(l)}o=o.sibling}}function xA(o,l){for(;hn!==null;){var d=hn;switch(d.tag){case 0:case 11:case 15:bi(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:bu(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,hn=m;else e:for(d=o;hn!==null;){m=hn;var x=m.sibling,S=m.return;if(fA(m),m===d){hn=null;break e}if(x!==null){x.return=S,hn=x;break e}hn=S}}}var i3={getCacheForType:function(o){var l=Nn(an),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d}},o3=typeof WeakMap=="function"?WeakMap:Map,_t=0,Pt=null,rt=null,ut=0,St=0,dr=null,Si=!1,Os=!1,Ug=!1,ja=0,Kt=0,wi=0,So=0,Fg=0,Er=0,Ms=0,$u=null,tr=null,Vg=!1,zg=0,Sd=1/0,wd=null,Ti=null,Tn=0,Ai=null,Ds=null,Ns=0,Gg=0,Hg=null,_A=null,Bu=0,Kg=null;function hr(){if((_t&2)!==0&&ut!==0)return ut&-ut;if(L.T!==null){var o=bs;return o!==0?o:ev()}return Mf()}function SA(){Er===0&&(Er=(ut&536870912)===0||gt?Ef():536870912);var o=Ar.current;return o!==null&&(o.flags|=32),Er}function mr(o,l,d){(o===Pt&&(St===2||St===9)||o.cancelPendingCommit!==null)&&(Ps(o,0),Ei(o,ut,Er,!1)),Qi(o,d),((_t&2)===0||o!==Pt)&&(o===Pt&&((_t&2)===0&&(So|=d),Kt===4&&Ei(o,ut,Er,!1)),sa(o))}function wA(o,l,d){if((_t&6)!==0)throw Error(r(327));var m=!d&&(l&124)===0&&(l&o.expiredLanes)===0||ri(o,l),x=m?u3(o,l):Xg(o,l,!0),S=m;do{if(x===0){Os&&!m&&Ei(o,l,0,!1);break}else{if(d=o.current.alternate,S&&!s3(d)){x=Xg(o,l,!1),S=!1;continue}if(x===2){if(S=l,o.errorRecoveryDisabledLanes&S)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){l=N;e:{var R=o;x=$u;var K=R.current.memoizedState.isDehydrated;if(K&&(Ps(R,N).flags|=256),N=Xg(R,N,!1),N!==2){if(Ug&&!K){R.errorRecoveryDisabledLanes|=S,So|=S,x=4;break e}S=tr,tr=x,S!==null&&(tr===null?tr=S:tr.push.apply(tr,S))}x=N}if(S=!1,x!==2)continue}}if(x===1){Ps(o,0),Ei(o,l,0,!0);break}e:{switch(m=o,S=x,S){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ei(m,l,Er,!Si);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(x=zg+300-Et(),10<x)){if(Ei(m,l,Er,!Si),Sn(m,0,!0)!==0)break e;m.timeoutHandle=JA(TA.bind(null,m,d,tr,wd,Vg,l,Er,So,Ms,Si,S,2,-0,0),x);break e}TA(m,d,tr,wd,Vg,l,Er,So,Ms,Si,S,0,-0,0)}}break}while(!0);sa(o)}function TA(o,l,d,m,x,S,N,R,K,ae,ce,he,oe,le){if(o.timeoutHandle=-1,he=l.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(Hu={stylesheets:null,count:0,unsuspend:F3},vA(l),he=z3(),he!==null)){o.cancelPendingCommit=he(DA.bind(null,o,l,S,d,m,x,N,R,K,ce,1,oe,le)),Ei(o,S,N,!ae);return}DA(o,l,S,d,m,x,N,R,K)}function s3(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var x=d[m],S=x.getSnapshot;x=x.value;try{if(!lr(S(),x))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ei(o,l,d,m){l&=~Fg,l&=~So,o.suspendedLanes|=l,o.pingedLanes&=~l,m&&(o.warmLanes|=l),m=o.expirationTimes;for(var x=l;0<x;){var S=31-$n(x),N=1<<S;m[S]=-1,x&=~N}d!==0&&kf(o,d,l)}function Td(){return(_t&6)===0?(qu(0),!1):!0}function Yg(){if(rt!==null){if(St===0)var o=rt.return;else o=rt,ka=go=null,fg(o),As=null,Mu=0,o=rt;for(;o!==null;)rA(o.alternate,o),o=o.return;rt=null}}function Ps(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,A3(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),Yg(),Pt=o,rt=d=Aa(o.current,null),ut=l,St=0,dr=null,Si=!1,Os=ri(o,l),Ug=!1,Ms=Er=Fg=So=wi=Kt=0,tr=$u=null,Vg=!1,(l&8)!==0&&(l|=l&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=l;0<m;){var x=31-$n(m),S=1<<x;l|=o[x],m&=~S}return ja=l,Hf(),d}function AA(o,l){Qe=null,L.H=fd,l===_u||l===td?(l=F1(),St=3):l===B1?(l=F1(),St=4):St=l===VT?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,dr=l,rt===null&&(Kt=1,gd(o,_r(l,o.current)))}function EA(){var o=L.H;return L.H=fd,o===null?fd:o}function CA(){var o=L.A;return L.A=i3,o}function Wg(){Kt=4,Si||(ut&4194048)!==ut&&Ar.current!==null||(Os=!0),(wi&134217727)===0&&(So&134217727)===0||Pt===null||Ei(Pt,ut,Er,!1)}function Xg(o,l,d){var m=_t;_t|=2;var x=EA(),S=CA();(Pt!==o||ut!==l)&&(wd=null,Ps(o,l)),l=!1;var N=Kt;e:do try{if(St!==0&&rt!==null){var R=rt,K=dr;switch(St){case 8:Yg(),N=6;break e;case 3:case 2:case 9:case 6:Ar.current===null&&(l=!0);var ae=St;if(St=0,dr=null,Rs(o,R,K,ae),d&&Os){N=0;break e}break;default:ae=St,St=0,dr=null,Rs(o,R,K,ae)}}l3(),N=Kt;break}catch(ce){AA(o,ce)}while(!0);return l&&o.shellSuspendCounter++,ka=go=null,_t=m,L.H=x,L.A=S,rt===null&&(Pt=null,ut=0,Hf()),N}function l3(){for(;rt!==null;)kA(rt)}function u3(o,l){var d=_t;_t|=2;var m=EA(),x=CA();Pt!==o||ut!==l?(wd=null,Sd=Et()+500,Ps(o,l)):Os=ri(o,l);e:do try{if(St!==0&&rt!==null){l=rt;var S=dr;t:switch(St){case 1:St=0,dr=null,Rs(o,l,S,1);break;case 2:case 9:if(q1(S)){St=0,dr=null,OA(l);break}l=function(){St!==2&&St!==9||Pt!==o||(St=7),sa(o)},S.then(l,l);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:q1(S)?(St=0,dr=null,OA(l)):(St=0,dr=null,Rs(o,l,S,7));break;case 5:var N=null;switch(rt.tag){case 26:N=rt.memoizedState;case 5:case 27:var R=rt;if(!N||cE(N)){St=0,dr=null;var K=R.sibling;if(K!==null)rt=K;else{var ae=R.return;ae!==null?(rt=ae,Ad(ae)):rt=null}break t}}St=0,dr=null,Rs(o,l,S,5);break;case 6:St=0,dr=null,Rs(o,l,S,6);break;case 8:Yg(),Kt=6;break e;default:throw Error(r(462))}}c3();break}catch(ce){AA(o,ce)}while(!0);return ka=go=null,L.H=m,L.A=x,_t=d,rt!==null?0:(Pt=null,ut=0,Hf(),Kt)}function c3(){for(;rt!==null&&!nt();)kA(rt)}function kA(o){var l=tA(o.alternate,o,ja);o.memoizedProps=o.pendingProps,l===null?Ad(o):rt=l}function OA(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=WT(d,l,l.pendingProps,l.type,void 0,ut);break;case 11:l=WT(d,l,l.pendingProps,l.type.render,l.ref,ut);break;case 5:fg(l);default:rA(d,l),l=rt=M1(l,ja),l=tA(d,l,ja)}o.memoizedProps=o.pendingProps,l===null?Ad(o):rt=l}function Rs(o,l,d,m){ka=go=null,fg(l),As=null,Mu=0;var x=l.return;try{if(Q$(o,x,l,d,ut)){Kt=1,gd(o,_r(d,o.current)),rt=null;return}}catch(S){if(x!==null)throw rt=x,S;Kt=1,gd(o,_r(d,o.current)),rt=null;return}l.flags&32768?(gt||m===1?o=!0:Os||(ut&536870912)!==0?o=!1:(Si=o=!0,(m===2||m===9||m===3||m===6)&&(m=Ar.current,m!==null&&m.tag===13&&(m.flags|=16384))),MA(l,o)):Ad(l)}function Ad(o){var l=o;do{if((l.flags&32768)!==0){MA(l,Si);return}o=l.return;var d=t3(l.alternate,l,ja);if(d!==null){rt=d;return}if(l=l.sibling,l!==null){rt=l;return}rt=l=o}while(l!==null);Kt===0&&(Kt=5)}function MA(o,l){do{var d=n3(o.alternate,o);if(d!==null){d.flags&=32767,rt=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){rt=o;return}rt=o=d}while(o!==null);Kt=6,rt=null}function DA(o,l,d,m,x,S,N,R,K){o.cancelPendingCommit=null;do Ed();while(Tn!==0);if((_t&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(S=l.lanes|l.childLanes,S|=qp,_p(o,d,S,N,R,K),o===Pt&&(rt=Pt=null,ut=0),Ds=l,Ai=o,Ns=d,Gg=S,Hg=x,_A=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,m3(_n,function(){return jA(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=L.T,L.T=null,x=F.p,F.p=2,N=_t,_t|=4;try{r3(o,l,d)}finally{_t=N,F.p=x,L.T=m}}Tn=1,NA(),PA(),RA()}}function NA(){if(Tn===1){Tn=0;var o=Ai,l=Ds,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=L.T,L.T=null;var m=F.p;F.p=2;var x=_t;_t|=4;try{mA(l,o);var S=lv,N=x1(o.containerInfo),R=S.focusedElem,K=S.selectionRange;if(N!==R&&R&&R.ownerDocument&&b1(R.ownerDocument.documentElement,R)){if(K!==null&&Ip(R)){var ae=K.start,ce=K.end;if(ce===void 0&&(ce=ae),"selectionStart"in R)R.selectionStart=ae,R.selectionEnd=Math.min(ce,R.value.length);else{var he=R.ownerDocument||document,oe=he&&he.defaultView||window;if(oe.getSelection){var le=oe.getSelection(),qe=R.textContent.length,je=Math.min(K.start,qe),Ot=K.end===void 0?je:Math.min(K.end,qe);!le.extend&&je>Ot&&(N=Ot,Ot=je,je=N);var Q=y1(R,je),J=y1(R,Ot);if(Q&&J&&(le.rangeCount!==1||le.anchorNode!==Q.node||le.anchorOffset!==Q.offset||le.focusNode!==J.node||le.focusOffset!==J.offset)){var ne=he.createRange();ne.setStart(Q.node,Q.offset),le.removeAllRanges(),je>Ot?(le.addRange(ne),le.extend(J.node,J.offset)):(ne.setEnd(J.node,J.offset),le.addRange(ne))}}}}for(he=[],le=R;le=le.parentNode;)le.nodeType===1&&he.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<he.length;R++){var fe=he[R];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}$d=!!sv,lv=sv=null}finally{_t=x,F.p=m,L.T=d}}o.current=l,Tn=2}}function PA(){if(Tn===2){Tn=0;var o=Ai,l=Ds,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=L.T,L.T=null;var m=F.p;F.p=2;var x=_t;_t|=4;try{cA(o,l.alternate,l)}finally{_t=x,F.p=m,L.T=d}}Tn=3}}function RA(){if(Tn===4||Tn===3){Tn=0,At();var o=Ai,l=Ds,d=Ns,m=_A;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Tn=5:(Tn=0,Ds=Ai=null,IA(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(Ti=null),ru(d),l=l.stateNode,Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(ea,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=L.T,x=F.p,F.p=2,L.T=null;try{for(var S=o.onRecoverableError,N=0;N<m.length;N++){var R=m[N];S(R.value,{componentStack:R.stack})}}finally{L.T=l,F.p=x}}(Ns&3)!==0&&Ed(),sa(o),x=o.pendingLanes,(d&4194090)!==0&&(x&42)!==0?o===Kg?Bu++:(Bu=0,Kg=o):Bu=0,qu(0)}}function IA(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,bu(l)))}function Ed(o){return NA(),PA(),RA(),jA()}function jA(){if(Tn!==5)return!1;var o=Ai,l=Gg;Gg=0;var d=ru(Ns),m=L.T,x=F.p;try{F.p=32>d?32:d,L.T=null,d=Hg,Hg=null;var S=Ai,N=Ns;if(Tn=0,Ds=Ai=null,Ns=0,(_t&6)!==0)throw Error(r(331));var R=_t;if(_t|=4,bA(S.current),gA(S,S.current,N,d),_t=R,qu(0,!1),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(ea,S)}catch{}return!0}finally{F.p=x,L.T=m,IA(o,l)}}function LA(o,l,d){l=_r(d,l),l=Ag(o.stateNode,l,2),o=pi(o,l,2),o!==null&&(Qi(o,2),sa(o))}function Dt(o,l,d){if(o.tag===3)LA(o,o,d);else for(;l!==null;){if(l.tag===3){LA(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ti===null||!Ti.has(m))){o=_r(d,o),d=UT(2),m=pi(l,d,2),m!==null&&(FT(d,m,l,o),Qi(m,2),sa(m));break}}l=l.return}}function Zg(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new o3;var x=new Set;m.set(l,x)}else x=m.get(l),x===void 0&&(x=new Set,m.set(l,x));x.has(d)||(Ug=!0,x.add(d),o=f3.bind(null,o,l,d),l.then(o,o))}function f3(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Pt===o&&(ut&d)===d&&(Kt===4||Kt===3&&(ut&62914560)===ut&&300>Et()-zg?(_t&2)===0&&Ps(o,0):Fg|=d,Ms===ut&&(Ms=0)),sa(o)}function $A(o,l){l===0&&(l=Cf()),o=ps(o,l),o!==null&&(Qi(o,l),sa(o))}function d3(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),$A(o,d)}function h3(o,l){var d=0;switch(o.tag){case 13:var m=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),$A(o,d)}function m3(o,l){return yt(o,l)}var Cd=null,Is=null,Jg=!1,kd=!1,Qg=!1,wo=0;function sa(o){o!==Is&&o.next===null&&(Is===null?Cd=Is=o:Is=Is.next=o),kd=!0,Jg||(Jg=!0,g3())}function qu(o,l){if(!Qg&&kd){Qg=!0;do for(var d=!1,m=Cd;m!==null;){if(o!==0){var x=m.pendingLanes;if(x===0)var S=0;else{var N=m.suspendedLanes,R=m.pingedLanes;S=(1<<31-$n(42|o)+1)-1,S&=x&~(N&~R),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,FA(m,S))}else S=ut,S=Sn(m,m===Pt?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||ri(m,S)||(d=!0,FA(m,S));m=m.next}while(d);Qg=!1}}function p3(){BA()}function BA(){kd=Jg=!1;var o=0;wo!==0&&(T3()&&(o=wo),wo=0);for(var l=Et(),d=null,m=Cd;m!==null;){var x=m.next,S=qA(m,l);S===0?(m.next=null,d===null?Cd=x:d.next=x,x===null&&(Is=d)):(d=m,(o!==0||(S&3)!==0)&&(kd=!0)),m=x}qu(o)}function qA(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,x=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var N=31-$n(S),R=1<<N,K=x[N];K===-1?((R&d)===0||(R&m)!==0)&&(x[N]=xp(R,l)):K<=l&&(o.expiredLanes|=R),S&=~R}if(l=Pt,d=ut,d=Sn(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,d===0||o===l&&(St===2||St===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&Ye(m),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||ri(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(m!==null&&Ye(m),ru(d)){case 2:case 8:d=xr;break;case 32:d=_n;break;case 268435456:d=ba;break;default:d=_n}return m=UA.bind(null,o),d=yt(d,m),o.callbackPriority=l,o.callbackNode=d,l}return m!==null&&m!==null&&Ye(m),o.callbackPriority=2,o.callbackNode=null,2}function UA(o,l){if(Tn!==0&&Tn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(Ed()&&o.callbackNode!==d)return null;var m=ut;return m=Sn(o,o===Pt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(wA(o,m,l),qA(o,Et()),o.callbackNode!=null&&o.callbackNode===d?UA.bind(null,o):null)}function FA(o,l){if(Ed())return null;wA(o,l,!0)}function g3(){E3(function(){(_t&6)!==0?yt(ir,p3):BA()})}function ev(){return wo===0&&(wo=Ef()),wo}function VA(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:fi(""+o)}function zA(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function v3(o,l,d,m,x){if(l==="submit"&&d&&d.stateNode===x){var S=VA((x[kn]||null).action),N=m.submitter;N&&(l=(l=N[kn]||null)?VA(l.formAction):N.getAttribute("formAction"),l!==null&&(S=l,N=null));var R=new Vf("action","action",null,m,x);o.push({event:R,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(wo!==0){var K=N?zA(x,N):new FormData(x);xg(d,{pending:!0,data:K,method:x.method,action:S},null,K)}}else typeof S=="function"&&(R.preventDefault(),K=N?zA(x,N):new FormData(x),xg(d,{pending:!0,data:K,method:x.method,action:S},S,K))},currentTarget:x}]})}}for(var tv=0;tv<Bp.length;tv++){var nv=Bp[tv],y3=nv.toLowerCase(),b3=nv[0].toUpperCase()+nv.slice(1);qr(y3,"on"+b3)}qr(w1,"onAnimationEnd"),qr(T1,"onAnimationIteration"),qr(A1,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(j$,"onTransitionRun"),qr(L$,"onTransitionStart"),qr($$,"onTransitionCancel"),qr(E1,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uu));function GA(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],x=m.event;m=m.listeners;e:{var S=void 0;if(l)for(var N=m.length-1;0<=N;N--){var R=m[N],K=R.instance,ae=R.currentTarget;if(R=R.listener,K!==S&&x.isPropagationStopped())break e;S=R,x.currentTarget=ae;try{S(x)}catch(ce){pd(ce)}x.currentTarget=null,S=K}else for(N=0;N<m.length;N++){if(R=m[N],K=R.instance,ae=R.currentTarget,R=R.listener,K!==S&&x.isPropagationStopped())break e;S=R,x.currentTarget=ae;try{S(x)}catch(ce){pd(ce)}x.currentTarget=null,S=K}}}}function at(o,l){var d=l[au];d===void 0&&(d=l[au]=new Set);var m=o+"__bubble";d.has(m)||(HA(l,o,2,!1),d.add(m))}function rv(o,l,d){var m=0;l&&(m|=4),HA(d,o,m,l)}var Od="_reactListening"+Math.random().toString(36).slice(2);function av(o){if(!o[Od]){o[Od]=!0,Pf.forEach(function(d){d!=="selectionchange"&&(x3.has(d)||rv(d,!1,o),rv(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Od]||(l[Od]=!0,rv("selectionchange",!1,l))}}function HA(o,l,d,m){switch(gE(l)){case 2:var x=K3;break;case 8:x=Y3;break;default:x=yv}d=x.bind(null,l,d,o),x=void 0,!oo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),m?x!==void 0?o.addEventListener(l,d,{capture:!0,passive:x}):o.addEventListener(l,d,!0):x!==void 0?o.addEventListener(l,d,{passive:x}):o.addEventListener(l,d,!1)}function iv(o,l,d,m,x){var S=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var R=m.stateNode.containerInfo;if(R===x)break;if(N===4)for(N=m.return;N!==null;){var K=N.tag;if((K===3||K===4)&&N.stateNode.containerInfo===x)return;N=N.return}for(;R!==null;){if(N=ii(R),N===null)return;if(K=N.tag,K===5||K===6||K===26||K===27){m=S=N;continue e}R=R.parentNode}}m=m.return}us(function(){var ae=S,ce=ao(d),he=[];e:{var oe=C1.get(o);if(oe!==void 0){var le=Vf,qe=o;switch(o){case"keypress":if(Uf(d)===0)break e;case"keydown":case"keyup":le=m$;break;case"focusin":qe="focus",le=Mp;break;case"focusout":qe="blur",le=Mp;break;case"beforeblur":case"afterblur":le=Mp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=n1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=n$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=v$;break;case w1:case T1:case A1:le=i$;break;case E1:le=b$;break;case"scroll":case"scrollend":le=e$;break;case"wheel":le=_$;break;case"copy":case"cut":case"paste":le=s$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=a1;break;case"toggle":case"beforetoggle":le=w$}var je=(l&4)!==0,Ot=!je&&(o==="scroll"||o==="scrollend"),Q=je?oe!==null?oe+"Capture":null:oe;je=[];for(var J=ae,ne;J!==null;){var fe=J;if(ne=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ne===null||Q===null||(fe=wa(J,Q),fe!=null&&je.push(Fu(J,fe,ne))),Ot)break;J=J.return}0<je.length&&(oe=new le(oe,qe,null,d,ce),he.push({event:oe,listeners:je}))}}if((l&7)===0){e:{if(oe=o==="mouseover"||o==="pointerover",le=o==="mouseout"||o==="pointerout",oe&&d!==ro&&(qe=d.relatedTarget||d.fromElement)&&(ii(qe)||qe[ai]))break e;if((le||oe)&&(oe=ce.window===ce?ce:(oe=ce.ownerDocument)?oe.defaultView||oe.parentWindow:window,le?(qe=d.relatedTarget||d.toElement,le=ae,qe=qe?ii(qe):null,qe!==null&&(Ot=i(qe),je=qe.tag,qe!==Ot||je!==5&&je!==27&&je!==6)&&(qe=null)):(le=null,qe=ae),le!==qe)){if(je=n1,fe="onMouseLeave",Q="onMouseEnter",J="mouse",(o==="pointerout"||o==="pointerover")&&(je=a1,fe="onPointerLeave",Q="onPointerEnter",J="pointer"),Ot=le==null?oe:to(le),ne=qe==null?oe:to(qe),oe=new je(fe,J+"leave",le,d,ce),oe.target=Ot,oe.relatedTarget=ne,fe=null,ii(ce)===ae&&(je=new je(Q,J+"enter",qe,d,ce),je.target=ne,je.relatedTarget=Ot,fe=je),Ot=fe,le&&qe)t:{for(je=le,Q=qe,J=0,ne=je;ne;ne=js(ne))J++;for(ne=0,fe=Q;fe;fe=js(fe))ne++;for(;0<J-ne;)je=js(je),J--;for(;0<ne-J;)Q=js(Q),ne--;for(;J--;){if(je===Q||Q!==null&&je===Q.alternate)break t;je=js(je),Q=js(Q)}je=null}else je=null;le!==null&&KA(he,oe,le,je,!1),qe!==null&&Ot!==null&&KA(he,Ot,qe,je,!0)}}e:{if(oe=ae?to(ae):window,le=oe.nodeName&&oe.nodeName.toLowerCase(),le==="select"||le==="input"&&oe.type==="file")var Oe=d1;else if(c1(oe))if(h1)Oe=P$;else{Oe=D$;var et=M$}else le=oe.nodeName,!le||le.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ae&&Mn(ae.elementType)&&(Oe=d1):Oe=N$;if(Oe&&(Oe=Oe(o,ae))){f1(he,Oe,d,ce);break e}et&&et(o,oe,ae),o==="focusout"&&ae&&oe.type==="number"&&ae.memoizedProps.value!=null&&de(oe,"number",oe.value)}switch(et=ae?to(ae):window,o){case"focusin":(c1(et)||et.contentEditable==="true")&&(ds=et,jp=ae,mu=null);break;case"focusout":mu=jp=ds=null;break;case"mousedown":Lp=!0;break;case"contextmenu":case"mouseup":case"dragend":Lp=!1,_1(he,d,ce);break;case"selectionchange":if(I$)break;case"keydown":case"keyup":_1(he,d,ce)}var Ne;if(Np)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else fs?l1(o,d)&&(Le="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Le="onCompositionStart");Le&&(i1&&d.locale!=="ko"&&(fs||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&fs&&(Ne=cs()):(zt=ce,Zn="value"in zt?zt.value:zt.textContent,fs=!0)),et=Md(ae,Le),0<et.length&&(Le=new r1(Le,o,null,d,ce),he.push({event:Le,listeners:et}),Ne?Le.data=Ne:(Ne=u1(d),Ne!==null&&(Le.data=Ne)))),(Ne=A$?E$(o,d):C$(o,d))&&(Le=Md(ae,"onBeforeInput"),0<Le.length&&(et=new r1("onBeforeInput","beforeinput",null,d,ce),he.push({event:et,listeners:Le}),et.data=Ne)),v3(he,o,ae,d,ce)}GA(he,l)})}function Fu(o,l,d){return{instance:o,listener:l,currentTarget:d}}function Md(o,l){for(var d=l+"Capture",m=[];o!==null;){var x=o,S=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||S===null||(x=wa(o,d),x!=null&&m.unshift(Fu(o,x,S)),x=wa(o,l),x!=null&&m.push(Fu(o,x,S))),o.tag===3)return m;o=o.return}return[]}function js(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function KA(o,l,d,m,x){for(var S=l._reactName,N=[];d!==null&&d!==m;){var R=d,K=R.alternate,ae=R.stateNode;if(R=R.tag,K!==null&&K===m)break;R!==5&&R!==26&&R!==27||ae===null||(K=ae,x?(ae=wa(d,S),ae!=null&&N.unshift(Fu(d,ae,K))):x||(ae=wa(d,S),ae!=null&&N.push(Fu(d,ae,K)))),d=d.return}N.length!==0&&o.push({event:l,listeners:N})}var _3=/\r\n?/g,S3=/\u0000|\uFFFD/g;function YA(o){return(typeof o=="string"?o:""+o).replace(_3,`
`).replace(S3,"")}function WA(o,l){return l=YA(l),YA(o)===l}function Dd(){}function kt(o,l,d,m,x,S){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Ge(o,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Ge(o,""+m);break;case"className":no(o,"class",m);break;case"tabIndex":no(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":no(o,d,m);break;case"style":Bt(o,m,S);break;case"data":if(l!=="object"){no(o,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=fi(""+m),o.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(l!=="input"&&kt(o,l,"name",x.name,x,null),kt(o,l,"formEncType",x.formEncType,x,null),kt(o,l,"formMethod",x.formMethod,x,null),kt(o,l,"formTarget",x.formTarget,x,null)):(kt(o,l,"encType",x.encType,x,null),kt(o,l,"method",x.method,x,null),kt(o,l,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(d);break}m=fi(""+m),o.setAttribute(d,m);break;case"onClick":m!=null&&(o.onclick=Dd);break;case"onScroll":m!=null&&at("scroll",o);break;case"onScrollEnd":m!=null&&at("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}d=fi(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""+m):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":m===!0?o.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(d,m):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(d,m):o.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(d):o.setAttribute(d,m);break;case"popover":at("beforetoggle",o),at("toggle",o),as(o,"popover",m);break;case"xlinkActuate":Br(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Br(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Br(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Br(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Br(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Br(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Br(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Br(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Br(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":as(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Jt.get(d)||d,as(o,d,m))}}function ov(o,l,d,m,x,S){switch(d){case"style":Bt(o,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=d}}break;case"children":typeof m=="string"?Ge(o,m):(typeof m=="number"||typeof m=="bigint")&&Ge(o,""+m);break;case"onScroll":m!=null&&at("scroll",o);break;case"onScrollEnd":m!=null&&at("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Dd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rf.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),l=d.slice(2,x?d.length-7:void 0),S=o[kn]||null,S=S!=null?S[d]:null,typeof S=="function"&&o.removeEventListener(l,S,x),typeof m=="function")){typeof S!="function"&&S!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,m,x);break e}d in o?o[d]=m:m===!0?o.setAttribute(d,""):as(o,d,m)}}}function An(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",o),at("load",o);var m=!1,x=!1,S;for(S in d)if(d.hasOwnProperty(S)){var N=d[S];if(N!=null)switch(S){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:kt(o,l,S,N,d,null)}}x&&kt(o,l,"srcSet",d.srcSet,d,null),m&&kt(o,l,"src",d.src,d,null);return;case"input":at("invalid",o);var R=S=N=x=null,K=null,ae=null;for(m in d)if(d.hasOwnProperty(m)){var ce=d[m];if(ce!=null)switch(m){case"name":x=ce;break;case"type":N=ce;break;case"checked":K=ce;break;case"defaultChecked":ae=ce;break;case"value":S=ce;break;case"defaultValue":R=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,l));break;default:kt(o,l,m,ce,d,null)}}re(o,S,R,K,ae,N,x,!1),os(o);return;case"select":at("invalid",o),m=N=S=null;for(x in d)if(d.hasOwnProperty(x)&&(R=d[x],R!=null))switch(x){case"value":S=R;break;case"defaultValue":N=R;break;case"multiple":m=R;default:kt(o,l,x,R,d,null)}l=S,d=N,o.multiple=!!m,l!=null?_e(o,!!m,l,!1):d!=null&&_e(o,!!m,d,!0);return;case"textarea":at("invalid",o),S=x=m=null;for(N in d)if(d.hasOwnProperty(N)&&(R=d[N],R!=null))switch(N){case"value":m=R;break;case"defaultValue":x=R;break;case"children":S=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:kt(o,l,N,R,d,null)}Ee(o,m,x,S),os(o);return;case"option":for(K in d)if(d.hasOwnProperty(K)&&(m=d[K],m!=null))switch(K){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:kt(o,l,K,m,d,null)}return;case"dialog":at("beforetoggle",o),at("toggle",o),at("cancel",o),at("close",o);break;case"iframe":case"object":at("load",o);break;case"video":case"audio":for(m=0;m<Uu.length;m++)at(Uu[m],o);break;case"image":at("error",o),at("load",o);break;case"details":at("toggle",o);break;case"embed":case"source":case"link":at("error",o),at("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in d)if(d.hasOwnProperty(ae)&&(m=d[ae],m!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:kt(o,l,ae,m,d,null)}return;default:if(Mn(l)){for(ce in d)d.hasOwnProperty(ce)&&(m=d[ce],m!==void 0&&ov(o,l,ce,m,d,void 0));return}}for(R in d)d.hasOwnProperty(R)&&(m=d[R],m!=null&&kt(o,l,R,m,d,null))}function w3(o,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,S=null,N=null,R=null,K=null,ae=null,ce=null;for(le in d){var he=d[le];if(d.hasOwnProperty(le)&&he!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":K=he;default:m.hasOwnProperty(le)||kt(o,l,le,null,m,he)}}for(var oe in m){var le=m[oe];if(he=d[oe],m.hasOwnProperty(oe)&&(le!=null||he!=null))switch(oe){case"type":S=le;break;case"name":x=le;break;case"checked":ae=le;break;case"defaultChecked":ce=le;break;case"value":N=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:le!==he&&kt(o,l,oe,le,m,he)}}te(o,N,R,K,ae,ce,S,x);return;case"select":le=N=R=oe=null;for(S in d)if(K=d[S],d.hasOwnProperty(S)&&K!=null)switch(S){case"value":break;case"multiple":le=K;default:m.hasOwnProperty(S)||kt(o,l,S,null,m,K)}for(x in m)if(S=m[x],K=d[x],m.hasOwnProperty(x)&&(S!=null||K!=null))switch(x){case"value":oe=S;break;case"defaultValue":R=S;break;case"multiple":N=S;default:S!==K&&kt(o,l,x,S,m,K)}l=R,d=N,m=le,oe!=null?_e(o,!!d,oe,!1):!!m!=!!d&&(l!=null?_e(o,!!d,l,!0):_e(o,!!d,d?[]:"",!1));return;case"textarea":le=oe=null;for(R in d)if(x=d[R],d.hasOwnProperty(R)&&x!=null&&!m.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:kt(o,l,R,null,m,x)}for(N in m)if(x=m[N],S=d[N],m.hasOwnProperty(N)&&(x!=null||S!=null))switch(N){case"value":oe=x;break;case"defaultValue":le=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==S&&kt(o,l,N,x,m,S)}Te(o,oe,le);return;case"option":for(var qe in d)if(oe=d[qe],d.hasOwnProperty(qe)&&oe!=null&&!m.hasOwnProperty(qe))switch(qe){case"selected":o.selected=!1;break;default:kt(o,l,qe,null,m,oe)}for(K in m)if(oe=m[K],le=d[K],m.hasOwnProperty(K)&&oe!==le&&(oe!=null||le!=null))switch(K){case"selected":o.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:kt(o,l,K,oe,m,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in d)oe=d[je],d.hasOwnProperty(je)&&oe!=null&&!m.hasOwnProperty(je)&&kt(o,l,je,null,m,oe);for(ae in m)if(oe=m[ae],le=d[ae],m.hasOwnProperty(ae)&&oe!==le&&(oe!=null||le!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:kt(o,l,ae,oe,m,le)}return;default:if(Mn(l)){for(var Ot in d)oe=d[Ot],d.hasOwnProperty(Ot)&&oe!==void 0&&!m.hasOwnProperty(Ot)&&ov(o,l,Ot,void 0,m,oe);for(ce in m)oe=m[ce],le=d[ce],!m.hasOwnProperty(ce)||oe===le||oe===void 0&&le===void 0||ov(o,l,ce,oe,m,le);return}}for(var Q in d)oe=d[Q],d.hasOwnProperty(Q)&&oe!=null&&!m.hasOwnProperty(Q)&&kt(o,l,Q,null,m,oe);for(he in m)oe=m[he],le=d[he],!m.hasOwnProperty(he)||oe===le||oe==null&&le==null||kt(o,l,he,oe,m,le)}var sv=null,lv=null;function Nd(o){return o.nodeType===9?o:o.ownerDocument}function XA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZA(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function uv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var cv=null;function T3(){var o=window.event;return o&&o.type==="popstate"?o===cv?!1:(cv=o,!0):(cv=null,!1)}var JA=typeof setTimeout=="function"?setTimeout:void 0,A3=typeof clearTimeout=="function"?clearTimeout:void 0,QA=typeof Promise=="function"?Promise:void 0,E3=typeof queueMicrotask=="function"?queueMicrotask:typeof QA<"u"?function(o){return QA.resolve(null).then(o).catch(C3)}:JA;function C3(o){setTimeout(function(){throw o})}function Ci(o){return o==="head"}function eE(o,l){var d=l,m=0,x=0;do{var S=d.nextSibling;if(o.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(0<m&&8>m){d=m;var N=o.ownerDocument;if(d&1&&Vu(N.documentElement),d&2&&Vu(N.body),d&4)for(d=N.head,Vu(d),N=d.firstChild;N;){var R=N.nextSibling,K=N.nodeName;N[eo]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=R}}if(x===0){o.removeChild(S),Zu(l);return}x--}else d==="$"||d==="$?"||d==="$!"?x++:m=d.charCodeAt(0)-48;else m=0;d=S}while(d);Zu(l)}function fv(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":fv(d),iu(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function k3(o,l,d,m){for(;o.nodeType===1;){var x=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[eo])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var S=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=Fr(o.nextSibling),o===null)break}return null}function O3(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=Fr(o.nextSibling),o===null))return null;return o}function dv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function M3(o,l){var d=o.ownerDocument;if(o.data!=="$?"||d.readyState==="complete")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function Fr(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var hv=null;function tE(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}function nE(o,l,d){switch(l=Nd(d),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Vu(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);iu(o)}var Cr=new Map,rE=new Set;function Pd(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var La=F.d;F.d={f:D3,r:N3,D:P3,C:R3,L:I3,m:j3,X:$3,S:L3,M:B3};function D3(){var o=La.f(),l=Td();return o||l}function N3(o){var l=oi(o);l!==null&&l.tag===5&&l.type==="form"?wT(l):La.r(o)}var Ls=typeof document>"u"?null:document;function aE(o,l,d){var m=Ls;if(m&&typeof l=="string"&&l){var x=z(l);x='link[rel="'+o+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),rE.has(x)||(rE.add(x),o={rel:o,crossOrigin:d,href:l},m.querySelector(x)===null&&(l=m.createElement("link"),An(l,"link",o),Zt(l),m.head.appendChild(l)))}}function P3(o){La.D(o),aE("dns-prefetch",o,null)}function R3(o,l){La.C(o,l),aE("preconnect",o,l)}function I3(o,l,d){La.L(o,l,d);var m=Ls;if(m&&o&&l){var x='link[rel="preload"][as="'+z(l)+'"]';l==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+z(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+z(d.imageSizes)+'"]')):x+='[href="'+z(o)+'"]';var S=x;switch(l){case"style":S=$s(o);break;case"script":S=Bs(o)}Cr.has(S)||(o=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),Cr.set(S,o),m.querySelector(x)!==null||l==="style"&&m.querySelector(zu(S))||l==="script"&&m.querySelector(Gu(S))||(l=m.createElement("link"),An(l,"link",o),Zt(l),m.head.appendChild(l)))}}function j3(o,l){La.m(o,l);var d=Ls;if(d&&o){var m=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+z(m)+'"][href="'+z(o)+'"]',S=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Bs(o)}if(!Cr.has(S)&&(o=h({rel:"modulepreload",href:o},l),Cr.set(S,o),d.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Gu(S)))return}m=d.createElement("link"),An(m,"link",o),Zt(m),d.head.appendChild(m)}}}function L3(o,l,d){La.S(o,l,d);var m=Ls;if(m&&o){var x=si(m).hoistableStyles,S=$s(o);l=l||"default";var N=x.get(S);if(!N){var R={loading:0,preload:null};if(N=m.querySelector(zu(S)))R.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":l},d),(d=Cr.get(S))&&mv(o,d);var K=N=m.createElement("link");Zt(K),An(K,"link",o),K._p=new Promise(function(ae,ce){K.onload=ae,K.onerror=ce}),K.addEventListener("load",function(){R.loading|=1}),K.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Rd(N,l,m)}N={type:"stylesheet",instance:N,count:1,state:R},x.set(S,N)}}}function $3(o,l){La.X(o,l);var d=Ls;if(d&&o){var m=si(d).hoistableScripts,x=Bs(o),S=m.get(x);S||(S=d.querySelector(Gu(x)),S||(o=h({src:o,async:!0},l),(l=Cr.get(x))&&pv(o,l),S=d.createElement("script"),Zt(S),An(S,"link",o),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(x,S))}}function B3(o,l){La.M(o,l);var d=Ls;if(d&&o){var m=si(d).hoistableScripts,x=Bs(o),S=m.get(x);S||(S=d.querySelector(Gu(x)),S||(o=h({src:o,async:!0,type:"module"},l),(l=Cr.get(x))&&pv(o,l),S=d.createElement("script"),Zt(S),An(S,"link",o),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(x,S))}}function iE(o,l,d,m){var x=(x=Ae.current)?Pd(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=$s(d.href),d=si(x).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=$s(d.href);var S=si(x).hoistableStyles,N=S.get(o);if(N||(x=x.ownerDocument||x,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,N),(S=x.querySelector(zu(o)))&&!S._p&&(N.instance=S,N.state.loading=5),Cr.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Cr.set(o,d),S||q3(x,o,d,N.state))),l&&m===null)throw Error(r(528,""));return N}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Bs(d),d=si(x).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function $s(o){return'href="'+z(o)+'"'}function zu(o){return'link[rel="stylesheet"]['+o+"]"}function oE(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function q3(o,l,d,m){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=o.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),An(l,"link",d),Zt(l),o.head.appendChild(l))}function Bs(o){return'[src="'+z(o)+'"]'}function Gu(o){return"script[async]"+o}function sE(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=o.querySelector('style[data-href~="'+z(d.href)+'"]');if(m)return l.instance=m,Zt(m),m;var x=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Zt(m),An(m,"style",x),Rd(m,d.precedence,o),l.instance=m;case"stylesheet":x=$s(d.href);var S=o.querySelector(zu(x));if(S)return l.state.loading|=4,l.instance=S,Zt(S),S;m=oE(d),(x=Cr.get(x))&&mv(m,x),S=(o.ownerDocument||o).createElement("link"),Zt(S);var N=S;return N._p=new Promise(function(R,K){N.onload=R,N.onerror=K}),An(S,"link",m),l.state.loading|=4,Rd(S,d.precedence,o),l.instance=S;case"script":return S=Bs(d.src),(x=o.querySelector(Gu(S)))?(l.instance=x,Zt(x),x):(m=d,(x=Cr.get(S))&&(m=h({},d),pv(m,x)),o=o.ownerDocument||o,x=o.createElement("script"),Zt(x),An(x,"link",m),o.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Rd(m,d.precedence,o));return l.instance}function Rd(o,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,S=x,N=0;N<m.length;N++){var R=m[N];if(R.dataset.precedence===l)S=R;else if(S!==x)break}S?S.parentNode.insertBefore(o,S.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function mv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function pv(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Id=null;function lE(o,l,d){if(Id===null){var m=new Map,x=Id=new Map;x.set(d,m)}else x=Id,m=x.get(d),m||(m=new Map,x.set(d,m));if(m.has(o))return m;for(m.set(o,null),d=d.getElementsByTagName(o),x=0;x<d.length;x++){var S=d[x];if(!(S[eo]||S[fn]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(l)||"";N=o+N;var R=m.get(N);R?R.push(S):m.set(N,[S])}}return m}function uE(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function U3(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function cE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Hu=null;function F3(){}function V3(o,l,d){if(Hu===null)throw Error(r(475));var m=Hu;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var x=$s(d.href),S=o.querySelector(zu(x));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(m.count++,m=jd.bind(m),o.then(m,m)),l.state.loading|=4,l.instance=S,Zt(S);return}S=o.ownerDocument||o,d=oE(d),(x=Cr.get(x))&&mv(d,x),S=S.createElement("link"),Zt(S);var N=S;N._p=new Promise(function(R,K){N.onload=R,N.onerror=K}),An(S,"link",d),l.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=jd.bind(m),o.addEventListener("load",l),o.addEventListener("error",l))}}function z3(){if(Hu===null)throw Error(r(475));var o=Hu;return o.stylesheets&&o.count===0&&gv(o,o.stylesheets),0<o.count?function(l){var d=setTimeout(function(){if(o.stylesheets&&gv(o,o.stylesheets),o.unsuspend){var m=o.unsuspend;o.unsuspend=null,m()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(d)}}:null}function jd(){if(this.count--,this.count===0){if(this.stylesheets)gv(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Ld=null;function gv(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Ld=new Map,l.forEach(G3,o),Ld=null,jd.call(o))}function G3(o,l){if(!(l.state.loading&4)){var d=Ld.get(o);if(d)var m=d.get(null);else{d=new Map,Ld.set(o,d);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<x.length;S++){var N=x[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(d.set(N.dataset.precedence,N),m=N)}m&&d.set(null,m)}x=l.instance,N=x.getAttribute("data-precedence"),S=d.get(N)||m,S===m&&d.set(null,x),d.set(N,x),this.count++,m=jd.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),S?S.parentNode.insertBefore(x,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),l.state.loading|=4}}var Ku={$$typeof:E,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function H3(o,l,d,m,x,S,N,R){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.hiddenUpdates=tu(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function fE(o,l,d,m,x,S,N,R,K,ae,ce,he){return o=new H3(o,l,d,N,R,K,ae,he),l=1,S===!0&&(l|=24),S=ur(3,null,null,l),o.current=S,S.stateNode=o,l=Zp(),l.refCount++,o.pooledCache=l,l.refCount++,S.memoizedState={element:m,isDehydrated:d,cache:l},tg(S),o}function dE(o){return o?(o=gs,o):gs}function hE(o,l,d,m,x,S){x=dE(x),m.context===null?m.context=x:m.pendingContext=x,m=mi(l),m.payload={element:d},S=S===void 0?null:S,S!==null&&(m.callback=S),d=pi(o,m,l),d!==null&&(mr(d,o,l),wu(d,o,l))}function mE(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function vv(o,l){mE(o,l),(o=o.alternate)&&mE(o,l)}function pE(o){if(o.tag===13){var l=ps(o,67108864);l!==null&&mr(l,o,67108864),vv(o,67108864)}}var $d=!0;function K3(o,l,d,m){var x=L.T;L.T=null;var S=F.p;try{F.p=2,yv(o,l,d,m)}finally{F.p=S,L.T=x}}function Y3(o,l,d,m){var x=L.T;L.T=null;var S=F.p;try{F.p=8,yv(o,l,d,m)}finally{F.p=S,L.T=x}}function yv(o,l,d,m){if($d){var x=bv(m);if(x===null)iv(o,l,m,Bd,d),vE(o,m);else if(X3(x,o,l,d,m))m.stopPropagation();else if(vE(o,m),l&4&&-1<W3.indexOf(o)){for(;x!==null;){var S=oi(x);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=Ze(S.pendingLanes);if(N!==0){var R=S;for(R.pendingLanes|=2,R.entangledLanes|=2;N;){var K=1<<31-$n(N);R.entanglements[1]|=K,N&=~K}sa(S),(_t&6)===0&&(Sd=Et()+500,qu(0))}}break;case 13:R=ps(S,2),R!==null&&mr(R,S,2),Td(),vv(S,2)}if(S=bv(m),S===null&&iv(o,l,m,Bd,d),S===x)break;x=S}x!==null&&m.stopPropagation()}else iv(o,l,m,null,d)}}function bv(o){return o=ao(o),xv(o)}var Bd=null;function xv(o){if(Bd=null,o=ii(o),o!==null){var l=i(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=s(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Bd=o,null}function gE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cn()){case ir:return 2;case xr:return 8;case _n:case or:return 32;case ba:return 268435456;default:return 32}default:return 32}}var _v=!1,ki=null,Oi=null,Mi=null,Yu=new Map,Wu=new Map,Di=[],W3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vE(o,l){switch(o){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Yu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(l.pointerId)}}function Xu(o,l,d,m,x,S){return o===null||o.nativeEvent!==S?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:S,targetContainers:[x]},l!==null&&(l=oi(l),l!==null&&pE(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function X3(o,l,d,m,x){switch(l){case"focusin":return ki=Xu(ki,o,l,d,m,x),!0;case"dragenter":return Oi=Xu(Oi,o,l,d,m,x),!0;case"mouseover":return Mi=Xu(Mi,o,l,d,m,x),!0;case"pointerover":var S=x.pointerId;return Yu.set(S,Xu(Yu.get(S)||null,o,l,d,m,x)),!0;case"gotpointercapture":return S=x.pointerId,Wu.set(S,Xu(Wu.get(S)||null,o,l,d,m,x)),!0}return!1}function yE(o){var l=ii(o.target);if(l!==null){var d=i(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){o.blockedOn=l,Df(o.priority,function(){if(d.tag===13){var m=hr();m=nu(m);var x=ps(d,m);x!==null&&mr(x,d,m),vv(d,m)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function qd(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=bv(o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);ro=m,d.target.dispatchEvent(m),ro=null}else return l=oi(d),l!==null&&pE(l),o.blockedOn=d,!1;l.shift()}return!0}function bE(o,l,d){qd(o)&&d.delete(l)}function Z3(){_v=!1,ki!==null&&qd(ki)&&(ki=null),Oi!==null&&qd(Oi)&&(Oi=null),Mi!==null&&qd(Mi)&&(Mi=null),Yu.forEach(bE),Wu.forEach(bE)}function Ud(o,l){o.blockedOn===l&&(o.blockedOn=null,_v||(_v=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Z3)))}var Fd=null;function xE(o){Fd!==o&&(Fd=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Fd===o&&(Fd=null);for(var l=0;l<o.length;l+=3){var d=o[l],m=o[l+1],x=o[l+2];if(typeof m!="function"){if(xv(m||d)===null)continue;break}var S=oi(d);S!==null&&(o.splice(l,3),l-=3,xg(S,{pending:!0,data:x,method:d.method,action:m},m,x))}}))}function Zu(o){function l(K){return Ud(K,o)}ki!==null&&Ud(ki,o),Oi!==null&&Ud(Oi,o),Mi!==null&&Ud(Mi,o),Yu.forEach(l),Wu.forEach(l);for(var d=0;d<Di.length;d++){var m=Di[d];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Di.length&&(d=Di[0],d.blockedOn===null);)yE(d),d.blockedOn===null&&Di.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var x=d[m],S=d[m+1],N=x[kn]||null;if(typeof S=="function")N||xE(d);else if(N){var R=null;if(S&&S.hasAttribute("formAction")){if(x=S,N=S[kn]||null)R=N.formAction;else if(xv(x)!==null)continue}else R=N.action;typeof R=="function"?d[m+1]=R:(d.splice(m,3),m-=3),xE(d)}}}function Sv(o){this._internalRoot=o}Vd.prototype.render=Sv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=hr();hE(d,m,o,l,null,null)},Vd.prototype.unmount=Sv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;hE(o.current,2,null,o,null,null),Td(),l[ai]=null}};function Vd(o){this._internalRoot=o}Vd.prototype.unstable_scheduleHydration=function(o){if(o){var l=Mf();o={blockedOn:null,target:o,priority:l};for(var d=0;d<Di.length&&l!==0&&l<Di[d].priority;d++);Di.splice(d,0,o),d===0&&yE(o)}};var _E=e.version;if(_E!=="19.1.0")throw Error(r(527,_E,"19.1.0"));F.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(l),o=o!==null?c(o):null,o=o===null?null:o.stateNode,o};var J3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{ea=zd.inject(J3),Ln=zd}catch{}}return Qu.createRoot=function(o,l){if(!a(o))throw Error(r(299));var d=!1,m="",x=LT,S=$T,N=BT,R=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(R=l.unstable_transitionCallbacks)),l=fE(o,1,!1,null,null,d,m,x,S,N,R,null),o[ai]=l.current,av(o),new Sv(l)},Qu.hydrateRoot=function(o,l,d){if(!a(o))throw Error(r(299));var m=!1,x="",S=LT,N=$T,R=BT,K=null,ae=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(N=d.onCaughtError),d.onRecoverableError!==void 0&&(R=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(K=d.unstable_transitionCallbacks),d.formState!==void 0&&(ae=d.formState)),l=fE(o,1,!0,l,d??null,m,x,S,N,R,K,ae),l.context=dE(null),d=l.current,m=hr(),m=nu(m),x=mi(m),x.callback=null,pi(d,x,m),d=m,l.current.lanes=d,Qi(l,d),sa(l),o[ai]=l.current,av(o),new Vd(l)},Qu.version="19.1.0",Qu}var DE;function uB(){if(DE)return Av.exports;DE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Av.exports=lB(),Av.exports}var cB=uB();const fB=vt(cB),dB="modulepreload",hB=function(t){return"/controle-financeiro/"+t},NE={},df=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let s=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=s(n.map(c=>{if(c=hB(c),c in NE)return;NE[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":dB,h||(y.as="script"),y.crossOrigin="",y.href=c,f&&y.setAttribute("nonce",f),document.head.appendChild(y),h)return new Promise((_,w)=>{y.addEventListener("load",_),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return a.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},mB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>df(async()=>{const{default:r}=await Promise.resolve().then(()=>zl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class $S extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class pB extends $S{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gB extends $S{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vB extends $S{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Bx||(Bx={}));var yB=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(p){s(p)}}function f(h){try{c(r.throw(h))}catch(p){s(p)}}function c(h){h.done?i(h.value):a(h.value).then(u,f)}c((r=r.apply(t,e||[])).next())})};class bB{constructor(e,{headers:n={},customFetch:r,region:a=Bx.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=mB(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return yB(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=n;let u={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(u["x-region"]=f);let c;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(u["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(u["Content-Type"]="application/json",c=JSON.stringify(s)));const h=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:c}).catch(w=>{throw new pB(w)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new gB(h);if(!h.ok)throw new vB(h);let y=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield h.json():y==="application/octet-stream"?_=yield h.blob():y==="text/event-stream"?_=h:y==="multipart/form-data"?_=yield h.formData():_=yield h.text(),{data:_,error:null}}catch(a){return{data:null,error:a}}})}}var pn={},qs={},Us={},Fs={},Vs={},zs={},xB=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hl=xB();const _B=hl.fetch,DR=hl.fetch.bind(hl),NR=hl.Headers,SB=hl.Request,wB=hl.Response,zl=Object.freeze(Object.defineProperty({__proto__:null,Headers:NR,Request:SB,Response:wB,default:DR,fetch:_B},Symbol.toStringTag,{value:"Module"})),TB=eB(zl);var Hd={},PE;function PR(){if(PE)return Hd;PE=1,Object.defineProperty(Hd,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Hd.default=t,Hd}var RE;function RR(){if(RE)return zs;RE=1;var t=zs&&zs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(zs,"__esModule",{value:!0});const e=t(TB),n=t(PR());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=Object.assign({},this.headers),this.headers[i]=s,this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var h,p,y;let _=null,w=null,A=null,T=c.status,k=c.statusText;if(c.ok){if(this.method!=="HEAD"){const C=await c.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=C:w=JSON.parse(C))}const E=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),D=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");E&&D&&D.length>1&&(A=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(_={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,A=null,T=406,k="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const E=await c.text();try{_=JSON.parse(E),Array.isArray(_)&&c.status===404&&(w=[],_=null,T=200,k="OK")}catch{c.status===404&&E===""?(T=204,k="No Content"):_={message:E}}if(_&&this.isMaybeSingle&&(!((y=_==null?void 0:_.details)===null||y===void 0)&&y.includes("0 rows"))&&(_=null,T=200,k="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:w,count:A,status:T,statusText:k}});return this.shouldThrowOnError||(f=f.catch(c=>{var h,p,y;return{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=c==null?void 0:c.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),f.then(i,s)}returns(){return this}overrideTypes(){return this}}return zs.default=r,zs}var IE;function IR(){if(IE)return Vs;IE=1;var t=Vs&&Vs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vs,"__esModule",{value:!0});const e=t(RR());class n extends e.default{select(a){let i=!1;const s=(a??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:u,referencedTable:f=u}={}){const c=f?`${f}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:u=s}={}){const f=typeof u>"u"?"offset":`${u}.offset`,c=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(c,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:u=!1,wal:f=!1,format:c="text"}={}){var h;const p=[a?"analyze":null,i?"verbose":null,s?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${y}"; options=${p};`,c==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Vs.default=n,Vs}var jE;function BS(){if(jE)return Fs;jE=1;var t=Fs&&Fs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fs,"__esModule",{value:!0});const e=t(IR());class n extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${f}fts${c}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const u=s?`${s}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return Fs.default=n,Fs}var LE;function jR(){if(LE)return Us;LE=1;var t=Us&&Us.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Us,"__esModule",{value:!0});const e=t(BS());class n{constructor(a,{headers:i={},schema:s,fetch:u}){this.url=a,this.headers=i,this.schema=s,this.fetch=u}select(a,{head:i=!1,count:s}={}){const u=i?"HEAD":"GET";let f=!1;const c=(a??"*").split("").map(h=>/\s/.test(h)&&!f?"":(h==='"'&&(f=!f),h)).join("");return this.url.searchParams.set("select",c),s&&(this.headers.Prefer=`count=${s}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:s=!0}={}){const u="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),i&&f.push(`count=${i}`),s||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(a)){const c=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(c.length>0){const h=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:u,defaultToNull:f=!0}={}){const c="POST",h=[`resolution=${s?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),f||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(a)){const p=a.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(p.length>0){const y=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const s="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),this.headers.Prefer=u.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",s=[];return a&&s.push(`count=${a}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Us.default=n,Us}var ec={},tc={},$E;function AB(){return $E||($E=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.version=void 0,tc.version="0.0.0-automated"),tc}var BE;function EB(){if(BE)return ec;BE=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.DEFAULT_HEADERS=void 0;const t=AB();return ec.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},ec}var qE;function CB(){if(qE)return qs;qE=1;var t=qs&&qs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(qs,"__esModule",{value:!0});const e=t(jR()),n=t(BS()),r=EB();class a{constructor(s,{headers:u={},schema:f,fetch:c}={}){this.url=s,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=f,this.fetch=c}from(s){const u=new URL(`${this.url}/${s}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,u={},{head:f=!1,get:c=!1,count:h}={}){let p;const y=new URL(`${this.url}/rpc/${s}`);let _;f||c?(p=f?"HEAD":"GET",Object.entries(u).filter(([A,T])=>T!==void 0).map(([A,T])=>[A,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([A,T])=>{y.searchParams.append(A,T)})):(p="POST",_=u);const w=Object.assign({},this.headers);return h&&(w.Prefer=`count=${h}`),new n.default({method:p,url:y,headers:w,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return qs.default=a,qs}var UE;function kB(){if(UE)return pn;UE=1;var t=pn&&pn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(pn,"__esModule",{value:!0}),pn.PostgrestError=pn.PostgrestBuilder=pn.PostgrestTransformBuilder=pn.PostgrestFilterBuilder=pn.PostgrestQueryBuilder=pn.PostgrestClient=void 0;const e=t(CB());pn.PostgrestClient=e.default;const n=t(jR());pn.PostgrestQueryBuilder=n.default;const r=t(BS());pn.PostgrestFilterBuilder=r.default;const a=t(IR());pn.PostgrestTransformBuilder=a.default;const i=t(RR());pn.PostgrestBuilder=i.default;const s=t(PR());return pn.PostgrestError=s.default,pn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},pn}var OB=kB();const MB=vt(OB),{PostgrestClient:DB,PostgrestQueryBuilder:hce,PostgrestFilterBuilder:mce,PostgrestTransformBuilder:pce,PostgrestBuilder:gce,PostgrestError:vce}=MB;let qx;typeof window>"u"?qx=require("ws"):qx=window.WebSocket;const NB="2.11.10",PB={"X-Client-Info":`realtime-js/${NB}`},RB="1.0.0",LR=1e4,IB=1e3;var sl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(sl||(sl={}));var Un;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Un||(Un={}));var Gr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Gr||(Gr={}));var Ux;(function(t){t.websocket="websocket"})(Ux||(Ux={}));var No;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(No||(No={}));class jB{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const a=n.getUint8(1),i=n.getUint8(2);let s=this.HEADER_LENGTH+2;const u=r.decode(e.slice(s,s+a));s=s+a;const f=r.decode(e.slice(s,s+i));s=s+i;const c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:u,event:f,payload:c}}}class $R{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Rt||(Rt={}));const FE=(t,e,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,s)=>(i[s]=LB(s,t,e,a),i),{})},LB=(t,e,n,r)=>{const a=e.find(u=>u.name===t),i=a==null?void 0:a.type,s=n[t];return i&&!r.includes(i)?BR(i,s):Fx(s)},BR=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return UB(e,n)}switch(t){case Rt.bool:return $B(e);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return BB(e);case Rt.json:case Rt.jsonb:return qB(e);case Rt.timestamp:return FB(e);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return Fx(e);default:return Fx(e)}},Fx=t=>t,$B=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},BB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},UB=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(u=>BR(e,u))}return t},FB=t=>typeof t=="string"?t.replace(" ","T"):t,qR=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ov{constructor(e,n,r={},a=LR){this.channel=e,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var VE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(VE||(VE={}));class yc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(f=>{this.state=yc.syncDiff(this.state,f,i,s)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=yc.syncDiff(this.state,a,i,s),u())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,a){const i=this.cloneDeep(e),s=this.transformState(n),u={},f={};return this.map(i,(c,h)=>{s[c]||(f[c]=h)}),this.map(s,(c,h)=>{const p=i[c];if(p){const y=h.map(T=>T.presence_ref),_=p.map(T=>T.presence_ref),w=h.filter(T=>_.indexOf(T.presence_ref)<0),A=p.filter(T=>y.indexOf(T.presence_ref)<0);w.length>0&&(u[c]=w),A.length>0&&(f[c]=A)}else u[c]=h}),this.syncDiff(i,{joins:u,leaves:f},r,a)}static syncDiff(e,n,r,a){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(u,f)=>{var c;const h=(c=e[u])!==null&&c!==void 0?c:[];if(e[u]=this.cloneDeep(f),h.length>0){const p=e[u].map(_=>_.presence_ref),y=h.filter(_=>p.indexOf(_.presence_ref)<0);e[u].unshift(...y)}r(u,h,f)}),this.map(s,(u,f)=>{let c=e[u];if(!c)return;const h=f.map(p=>p.presence_ref);c=c.filter(p=>h.indexOf(p.presence_ref)<0),e[u]=c,a(u,c,f),c.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const a=e[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(zE||(zE={}));var GE;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(GE||(GE={}));var qa;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qa||(qa={}));class qS{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ov(this,Gr.join,this.params,this.timeout),this.rejoinTimer=new $R(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Un.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new yc(this),this.broadcastEndpointURL=qR(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:u}}=this.params;this._onError(h=>e==null?void 0:e(qa.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(qa.CLOSED));const f={},c={broadcast:i,presence:s,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&a!==void 0?a:[],private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){e==null||e(qa.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,_=(p=y==null?void 0:y.length)!==null&&p!==void 0?p:0,w=[];for(let A=0;A<_;A++){const T=y[A],{filter:{event:k,schema:M,table:E,filter:D}}=T,C=h&&h[A];if(C&&C.event===k&&C.schema===M&&C.table===E&&C.filter===D)w.push(Object.assign(Object.assign({},T),{id:C.id}));else{this.unsubscribe(),this.state=Un.errored,e==null||e(qa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(qa.SUBSCRIBED);return}}).receive("error",h=>{this.state=Un.errored,e==null||e(qa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,u,f;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const a=new Ov(this,Gr.leave,{},e);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ov(this,e,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var a,i;const s=e.toLocaleLowerCase(),{close:u,error:f,leave:c,join:h}=Gr;if(r&&[u,f,c,h].indexOf(s)>=0&&r!==this._joinRef())return;let y=this._onMessage(s,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var w,A,T;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((T=(A=_.filter)===null||A===void 0?void 0:A.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===s}).map(_=>_.callback(y,r)):(i=this.bindings[s])===null||i===void 0||i.filter(_=>{var w,A,T,k,M,E;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in _){const D=_.id,C=(w=_.filter)===null||w===void 0?void 0:w.event;return D&&((A=n.ids)===null||A===void 0?void 0:A.includes(D))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const D=(M=(k=_==null?void 0:_.filter)===null||k===void 0?void 0:k.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return D==="*"||D===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===s}).map(_=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:A,table:T,commit_timestamp:k,type:M,errors:E}=w;y=Object.assign(Object.assign({},{schema:A,table:T,commit_timestamp:k,eventType:M,new:{},old:{},errors:E}),this._getPayloadRecords(w))}_.callback(y,r)})}_isClosed(){return this.state===Un.closed}_isJoined(){return this.state===Un.joined}_isJoining(){return this.state===Un.joining}_isLeaving(){return this.state===Un.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const a=e.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&qS.isEqual(a.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Gr.close,{},e)}_onError(e){this._on(Gr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Un.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=FE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=FE(e.columns,e.old_record)),n}}const HE=()=>{},VB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zB{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=PB,this.params={},this.timeout=LR,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=HE,this.ref=0,this.logger=HE,this.conn=null,this.sendBuffer=[],this.serializer=new jB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...u)=>df(async()=>{const{default:f}=await Promise.resolve().then(()=>zl);return{default:f}},void 0).then(({default:f})=>f(...u)):s=fetch,(...u)=>s(...u)},this.endPoint=`${e}/${Ux.websocket}`,this.httpEndpoint=qR(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $R(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=qx),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new GB(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RB}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case sl.connecting:return No.Connecting;case sl.open:return No.Open;case sl.closing:return No.Closing;default:return No.Closed}}isConnected(){return this.connectionState()===No.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new qS(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:a,ref:i}=e,s=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Gr.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(IB,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:a,payload:i,ref:s}=n;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${a} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Gr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${r}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([VB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class GB{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=sl.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class US extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function gn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class HB extends US{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Vx extends US{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var KB=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(p){s(p)}}function f(h){try{c(r.throw(h))}catch(p){s(p)}}function c(h){h.done?i(h.value):a(h.value).then(u,f)}c((r=r.apply(t,e||[])).next())})};const UR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>df(async()=>{const{default:r}=await Promise.resolve().then(()=>zl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},YB=()=>KB(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield df(()=>Promise.resolve().then(()=>zl),void 0)).Response:Response}),zx=t=>{if(Array.isArray(t))return t.map(n=>zx(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=zx(r)}),e};var Xo=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(p){s(p)}}function f(h){try{c(r.throw(h))}catch(p){s(p)}}function c(h){h.done?i(h.value):a(h.value).then(u,f)}c((r=r.apply(t,e||[])).next())})};const Mv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),WB=(t,e,n)=>Xo(void 0,void 0,void 0,function*(){const r=yield YB();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(a=>{e(new HB(Mv(a),t.status||500))}).catch(a=>{e(new Vx(Mv(a),a))}):e(new Vx(Mv(t),t))}),XB=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function hf(t,e,n,r,a,i){return Xo(this,void 0,void 0,function*(){return new Promise((s,u)=>{t(n,XB(e,r,a,i)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>s(f)).catch(f=>WB(f,u,r))})})}function yh(t,e,n,r){return Xo(this,void 0,void 0,function*(){return hf(t,"GET",e,n,r)})}function Ri(t,e,n,r,a){return Xo(this,void 0,void 0,function*(){return hf(t,"POST",e,r,a,n)})}function ZB(t,e,n,r,a){return Xo(this,void 0,void 0,function*(){return hf(t,"PUT",e,r,a,n)})}function JB(t,e,n,r){return Xo(this,void 0,void 0,function*(){return hf(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function FR(t,e,n,r,a){return Xo(this,void 0,void 0,function*(){return hf(t,"DELETE",e,r,a,n)})}var nr=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(p){s(p)}}function f(h){try{c(r.throw(h))}catch(p){s(p)}}function c(h){h.done?i(h.value):a(h.value).then(u,f)}c((r=r.apply(t,e||[])).next())})};const QB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},KE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class e4{constructor(e,n={},r,a){this.url=e,this.headers=n,this.bucketId=r,this.fetch=UR(a)}uploadOrUpdate(e,n,r,a){return nr(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},KE),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const f=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),f&&i.append("metadata",this.encodeMetadata(f)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),f&&i.append("metadata",this.encodeMetadata(f))):(i=r,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a!=null&&a.headers&&(u=Object.assign(Object.assign({},u),a.headers));const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),p=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:i,headers:u},s!=null&&s.duplex?{duplex:s.duplex}:{})),y=yield p.json();return p.ok?{data:{path:c,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(i){if(gn(i))return{data:null,error:i};throw i}})}upload(e,n,r){return nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,a){return nr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${s}`);u.searchParams.set("token",n);try{let f;const c=Object.assign({upsert:KE.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",c.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",c.cacheControl)):(f=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const p=yield this.fetch(u.toString(),{method:"PUT",body:f,headers:h}),y=yield p.json();return p.ok?{data:{path:i,fullPath:y.Key},error:null}:{data:null,error:y}}catch(f){if(gn(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return nr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield Ri(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),s=new URL(this.url+i.url),u=s.searchParams.get("token");if(!u)throw new US("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:u},error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}update(e,n,r){return nr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return nr(this,void 0,void 0,function*(){try{return{data:yield Ri(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}copy(e,n,r){return nr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ri(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,r){return nr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Ri(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,r){return nr(this,void 0,void 0,function*(){try{const a=yield Ri(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}download(e,n){return nr(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=i?`?${i}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield yh(this.fetch,`${this.url}/${a}/${u}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(gn(u))return{data:null,error:u};throw u}})}info(e){return nr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield yh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:zx(r),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}exists(e){return nr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield JB(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(gn(r)&&r instanceof Vx){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&a.push(f);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${c}`)}}}remove(e){return nr(this,void 0,void 0,function*(){try{return{data:yield FR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}list(e,n,r){return nr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},QB),n),{prefix:e||""});return{data:yield Ri(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const t4="2.7.1",n4={"X-Client-Info":`storage-js/${t4}`};var Gs=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(p){s(p)}}function f(h){try{c(r.throw(h))}catch(p){s(p)}}function c(h){h.done?i(h.value):a(h.value).then(u,f)}c((r=r.apply(t,e||[])).next())})};class r4{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},n4),n),this.fetch=UR(r)}listBuckets(){return Gs(this,void 0,void 0,function*(){try{return{data:yield yh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(gn(e))return{data:null,error:e};throw e}})}getBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield yh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Gs(this,void 0,void 0,function*(){try{return{data:yield Ri(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Gs(this,void 0,void 0,function*(){try{return{data:yield ZB(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield Ri(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Gs(this,void 0,void 0,function*(){try{return{data:yield FR(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}}class a4 extends r4{constructor(e,n={},r){super(e,n,r)}from(e){return new e4(this.url,this.headers,e,this.fetch)}}const i4="2.50.0";let dc="";typeof Deno<"u"?dc="deno":typeof document<"u"?dc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dc="react-native":dc="node";const o4={"X-Client-Info":`supabase-js-${dc}/${i4}`},s4={headers:o4},l4={schema:"public"},u4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c4={};var f4=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(p){s(p)}}function f(h){try{c(r.throw(h))}catch(p){s(p)}}function c(h){h.done?i(h.value):a(h.value).then(u,f)}c((r=r.apply(t,e||[])).next())})};const d4=t=>{let e;return t?e=t:typeof fetch>"u"?e=DR:e=fetch,(...n)=>e(...n)},h4=()=>typeof Headers>"u"?NR:Headers,m4=(t,e,n)=>{const r=d4(n),a=h4();return(i,s)=>f4(void 0,void 0,void 0,function*(){var u;const f=(u=yield e())!==null&&u!==void 0?u:t;let c=new a(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${f}`),r(i,Object.assign(Object.assign({},s),{headers:c}))})};var p4=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(p){s(p)}}function f(h){try{c(r.throw(h))}catch(p){s(p)}}function c(h){h.done?i(h.value):a(h.value).then(u,f)}c((r=r.apply(t,e||[])).next())})};function g4(t){return t.endsWith("/")?t:t+"/"}function v4(t,e){var n,r;const{db:a,auth:i,realtime:s,global:u}=t,{db:f,auth:c,realtime:h,global:p}=e,y={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},h),s),global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>p4(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const VR="2.70.0",Qs=30*1e3,Gx=3,Dv=Gx*Qs,y4="http://localhost:9999",b4="supabase.auth.token",x4={"X-Client-Info":`gotrue-js/${VR}`},Hx="X-Supabase-Api-Version",zR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,S4=6e5;class FS extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function We(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class w4 extends FS{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function T4(t){return We(t)&&t.name==="AuthApiError"}class GR extends FS{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Hi extends FS{constructor(e,n,r,a){super(e,r,a),this.name=n,this.status=r}}class Pi extends Hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A4(t){return We(t)&&t.name==="AuthSessionMissingError"}class Kd extends Hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yd extends Hi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wd extends Hi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function E4(t){return We(t)&&t.name==="AuthImplicitGrantRedirectError"}class YE extends Hi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kx extends Hi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Nv(t){return We(t)&&t.name==="AuthRetryableFetchError"}class WE extends Hi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bc extends Hi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),XE=` 	
\r=`.split(""),C4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<XE.length;e+=1)t[XE[e].charCodeAt(0)]=-2;for(let e=0;e<bh.length;e+=1)t[bh[e].charCodeAt(0)]=e;return t})();function ZE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(bh[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(bh[r]),e.queuedBits-=6}}function HR(t,e,n){const r=C4[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function JE(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{M4(s,r,n)};for(let s=0;s<t.length;s+=1)HR(t.charCodeAt(s),a,i);return e.join("")}function k4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function O4(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}k4(r,e)}}function M4(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function D4(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)HR(t.charCodeAt(a),n,r);return new Uint8Array(e)}function N4(t){const e=[];return O4(t,n=>e.push(n)),new Uint8Array(e)}function P4(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};return t.forEach(a=>ZE(a,n,r)),ZE(null,n,r),e.join("")}function R4(t){return Math.round(Date.now()/1e3)+t}function I4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const zr=()=>typeof window<"u"&&typeof document<"u",To={tested:!1,writable:!1},xc=()=>{if(!zr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(To.tested)return To.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),To.tested=!0,To.writable=!0}catch{To.tested=!0,To.writable=!1}return To.writable};function j4(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{e[a]=r}),e}const KR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>df(async()=>{const{default:r}=await Promise.resolve().then(()=>zl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},L4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",YR=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Xd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zd=async(t,e)=>{await t.removeItem(e)};class Em{constructor(){this.promise=new Em.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Em.promiseConstructor=Promise;function Pv(t){const e=t.split(".");if(e.length!==3)throw new bc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!_4.test(e[r]))throw new bc("JWT not in base64url format");return{header:JSON.parse(JE(e[0])),payload:JSON.parse(JE(e[1])),signature:D4(e[2]),raw:{header:e[0],payload:e[1]}}}async function $4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function B4(t,e){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function q4(t){return("0"+t.toString(16)).substr(-2)}function U4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,q4).join("")}async function F4(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function V4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await F4(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hs(t,e,n=!1){const r=U4();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await YR(t,`${e}-code-verifier`,a);const i=await V4(r);return[i,r===i?"plain":"s256"]}const z4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function G4(t){const e=t.headers.get(Hx);if(!e||!e.match(z4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function H4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function K4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Y4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ks(t){if(!Y4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var W4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),X4=[502,503,504];async function QE(t){var e;if(!L4(t))throw new Kx(Oo(t),0);if(X4.includes(t.status))throw new Kx(Oo(t),t.status);let n;try{n=await t.json()}catch(i){throw new GR(Oo(i),i)}let r;const a=G4(t);if(a&&a.getTime()>=zR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new WE(Oo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Pi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new WE(Oo(n),t.status,n.weak_password.reasons);throw new w4(Oo(n),t.status||500,r)}const Z4=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function ot(t,e,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[Hx]||(i[Hx]=zR["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const s=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",f=await J4(t,e,n+u,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function J4(t,e,n,r,a,i){const s=Z4(e,r,a,i);let u;try{u=await t(n,Object.assign({},s))}catch(f){throw console.error(f),new Kx(Oo(f),0)}if(u.ok||await QE(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(f){await QE(f)}}function Ba(t){var e;let n=null;nq(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=R4(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function eC(t){const e=Ba(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $i(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Q4(t){return{data:t,error:null}}function eq(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=t,s=W4(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},f=Object.assign({},s);return{data:{properties:u,user:f},error:null}}function tq(t){return t}function nq(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rv=["global","local","others"];var rq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};class aq{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=KR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Rv[0]){if(Rv.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rv.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$i})}catch(r){if(We(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=rq(e,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:eq,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(We(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$i})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,a,i,s,u,f;try{const c={nextPage:null,lastPage:0,total:0},h=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:tq});if(h.error)throw h.error;const p=await h.json(),y=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,_=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(w=>{const A=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(w.split(";")[1].split("=")[1]);c[`${T}Page`]=A}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(We(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Ks(e);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$i})}catch(n){if(We(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ks(e);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:$i})}catch(r){if(We(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ks(e);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:$i})}catch(r){if(We(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ks(e.userId);try{const{data:n,error:r}=await ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(We(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ks(e.userId),Ks(e.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}}}const iq={getItem:t=>xc()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{xc()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{xc()&&globalThis.localStorage.removeItem(t)}};function tC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function oq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ys={debug:!!(globalThis&&xc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class WR extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sq extends WR{}async function lq(t,e,n){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sq(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ys.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}oq();const uq={url:y4,storageKey:b4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nC(t,e,n){return await n()}class kc{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kc.nextInstanceID,kc.nextInstanceID+=1,this.instanceID>0&&zr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},uq),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new aq({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=KR(a.fetch),this.lock=a.lock||nC,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:zr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lq:this.lock=nC,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:xc()?this.storage=iq:(this.memoryStorage={},this.storage=tC(this.memoryStorage)):(this.memoryStorage={},this.storage=tC(this.memoryStorage)),zr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${VR}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=j4(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),zr()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),E4(i)){const f=(e=i.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return We(n)?{error:n}:{error:new GR("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,a;try{const i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ba}),{data:s,error:u}=i;if(u||!s)return{data:{user:null,session:null},error:u};const f=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:c,session:f},error:null}}catch(i){if(We(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,a;try{let i;if("email"in e){const{email:h,password:p,options:y}=e;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await Hs(this.storage,this.storageKey)),i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:h,password:p,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:_,code_challenge_method:w},xform:Ba})}else if("phone"in e){const{phone:h,password:p,options:y}=e;i=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Ba})}else throw new Yd("You must provide either an email or phone number and a password");const{data:s,error:u}=i;if(u||!s)return{data:{user:null,session:null},error:u};const f=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:c,session:f},error:null}}catch(i){if(We(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:s,options:u}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:eC})}else if("phone"in e){const{phone:i,password:s,options:u}=e;n=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:eC})}else throw new Yd("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Kd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(We(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,a,i,s,u,f,c,h,p,y,_;let w,A;if("message"in e)w=e.message,A=e.signature;else{const{chain:T,wallet:k,statement:M,options:E}=e;let D;if(zr())if(typeof k=="object")D=k;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))D=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=k}const C=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const O=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),M?{statement:M}:null));let P;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")P=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)P=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)w=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),A=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${C.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((s=E==null?void 0:E.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((p=(h=E==null?void 0:E.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...E.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const O=await D.signMessage(new TextEncoder().encode(w),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=O}}try{const{data:T,error:k}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:P4(A)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ba});if(k)throw k;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Kd}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:k})}catch(T){if(We(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const n=await Xd(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:s}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ba});if(await Zd(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Kd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(We(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:a,access_token:i,nonce:s}=e,u=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ba}),{data:f,error:c}=u;return c?{data:{user:null,session:null},error:c}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Kd}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:c})}catch(n){if(We(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,a,i,s;try{if("email"in e){const{email:u,options:f}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Hs(this.storage,this.storageKey));const{error:p}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:u,options:f}=e,{data:c,error:h}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Yd("You must provide either an email or phone number.")}catch(u){if(We(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let a,i;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:u}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ba});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const f=s.session,c=s.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:c,session:f},error:null}}catch(a){if(We(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var n,r,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Hs(this.storage,this.storageKey)),await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:Q4})}catch(i){if(We(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Pi;const{error:a}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(We(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:i}=e,{error:s}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:a,options:i}=e,{data:s,error:u}=await ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:u}}throw new Yd("You must provide either an email or phone number and a type")}catch(n){if(We(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Xd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Dv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,c,h)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,c,h))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$i}):await this._useSession(async n=>{var r,a,i;const{data:s,error:u}=n;if(u)throw u;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pi}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:$i})})}catch(n){if(We(n))return A4(n)&&(await this._removeSession(),await Zd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new Pi;const s=a.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await Hs(this.storage,this.storageKey));const{data:c,error:h}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:s.access_token,xform:$i});if(h)throw h;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(We(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pi;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:s}=Pv(e.access_token);if(s.exp&&(r=s.exp,a=r<=n),a){const{session:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(We(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:u}=n;if(u)throw u;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Pi;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(We(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!zr())throw new Wd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new YE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new YE("No code detected.");const{data:M,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:u,expires_at:f,token_type:c}=e;if(!i||!u||!s||!c)throw new Wd("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let y=h+p;f&&(y=parseInt(f));const _=y-h;_*1e3<=Qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${p}s`);const w=y-p;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,h);const{data:A,error:T}=await this._getUser(i);if(T)throw T;const k={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:p,expires_at:y,refresh_token:s,token_type:c,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(r){if(We(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Xd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const s=(r=a.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:u}=await this.admin.signOut(s,e);if(u&&!(T4(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Zd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=I4(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Hs(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(We(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var s,u,f,c,h;const{data:p,error:y}=i;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",_,{headers:this.headers,jwt:(h=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return zr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(We(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,a;const{data:i,error:s}=n;if(s)throw s;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(We(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await B4(async a=>(a>0&&await $4(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ba})),(a,i)=>{const s=200*Math.pow(2,a);return i&&Nv(i)&&Date.now()+s-r<Qs})}catch(r){if(this._debug(n,"error",r),We(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),zr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Xd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Dv;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Dv}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Nv(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Em;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Pi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={session:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),We(i)){const s={session:null,error:i};return Nv(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(f){i.push(f)}});if(await Promise.all(s),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await YR(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Zd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/Qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Qs}ms, refresh threshold is ${Gx} ticks`),a<=Gx&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof WR)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,s]=await Hs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(u.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(We(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:c}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(We(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:s,error:u}=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:u})})}catch(n){if(We(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(We(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],a=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Pv(a.access_token);let u=null;s.aal&&(u=s.aal);let f=u;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const h=s.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r||(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+S4>Date.now()))return r;const{data:a,error:i}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new bc("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),r=a.keys.find(s=>s.kid===e),!r)throw new bc("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:_,error:w}=await this.getSession();if(w||!_.session)return{data:null,error:w};r=_.session.access_token}const{header:a,payload:i,signature:s,raw:{header:u,payload:f}}=Pv(r);if(H4(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:a,signature:s},error:null}}const c=K4(a.alg),h=await this.fetchJwk(a.kid,n),p=await crypto.subtle.importKey("jwk",h,c,!0,["verify"]);if(!await crypto.subtle.verify(c,p,s,N4(`${u}.${f}`)))throw new bc("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}}}kc.nextInstanceID=0;const cq=kc;class fq extends cq{constructor(e){super(e)}}var dq=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(h){try{c(r.next(h))}catch(p){s(p)}}function f(h){try{c(r.throw(h))}catch(p){s(p)}}function c(h){h.done?i(h.value):a(h.value).then(u,f)}c((r=r.apply(t,e||[])).next())})};class hq{constructor(e,n,r){var a,i,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=g4(e),f=new URL(u);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const c=`sb-${f.hostname.split(".")[0]}-auth-token`,h={db:l4,realtime:c4,auth:Object.assign(Object.assign({},u4),{storageKey:c}),global:s4},p=v4(r??{},h);this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=p.auth)!==null&&s!==void 0?s:{},this.headers,p.global.fetch),this.fetch=m4(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new DB(new URL("rest/v1",f).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new bB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new a4(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return dq(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:i,flowType:s,lock:u,debug:f},c,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fq({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,flowType:s,lock:u,debug:f,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new zB(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mq=(t,e,n)=>new hq(t,e,n),pq="https://kezqwaibstyhvxpdhdts.supabase.co",gq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtlenF3YWlic3R5aHZ4cGRoZHRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2ODU0NTEsImV4cCI6MjA1OTI2MTQ1MX0.f8lcr89hUJLsQYdHWE6tFlijL7PtHKI3w7KtG-PGgb8",it=mq(pq,gq);var ve=(t=>(t.INCOME="INCOME",t.EXPENSE="EXPENSE",t.TRANSFER="TRANSFER",t))(ve||{}),yr=(t=>(t.DEPOSIT="DEPOSIT",t.WITHDRAWAL="WITHDRAWAL",t))(yr||{});const vq=[{name:"Salário"},{name:"Vendas"},{name:"Investimentos"},{name:"Presente"},{name:"Outras Receitas"}],yq=[{name:"Alimentação"},{name:"Transporte"},{name:"Moradia"},{name:"Lazer"},{name:"Saúde"},{name:"Educação"},{name:"Compras"},{name:"Impostos"},{name:"Água"},{name:"Luz"},{name:"Outras Despesas"}],bq=[{name:"Carteira",initial_balance:0},{name:"Banco Principal",initial_balance:1e3}],Yx="Meu Financeiro",Cm=[{value:ve.INCOME,label:"Receita"},{value:ve.EXPENSE,label:"Despesa"},{value:ve.TRANSFER,label:"Transferência"}],xq=[{value:"all",label:"Todo o Período"},{value:"today",label:"Hoje"},{value:"current_month",label:"Este Mês"},{value:"last_7_days",label:"Últimos 7 Dias"},{value:"last_30_days",label:"Últimos 30 Dias"}],_q=(t,e)=>{const n=vq.map(a=>({...a,user_id:t,profile_id:e,type:ve.INCOME})),r=yq.map(a=>({...a,user_id:t,profile_id:e,type:ve.EXPENSE}));return[...n,...r]},Sq=(t,e)=>bq.map(n=>({...n,user_id:t,profile_id:e})),Wx=()=>crypto.randomUUID(),Hn=(t,e="pt-BR",n)=>{const r=new Date(t.includes("T")?t:t+"T00:00:00"),a={year:"numeric",month:"short",day:"numeric"},i=n?{...a,...n}:a;return r.toLocaleDateString(e,i)},pe=(t,e="BRL",n="pt-BR",r=!1)=>{var a;return r?`${((a=new Intl.NumberFormat(n,{style:"currency",currency:e}).formatToParts(0).find(s=>s.type==="currency"))==null?void 0:a.value)||"$"} ****,**`:new Intl.NumberFormat(n,{style:"currency",currency:e}).format(t)},dt=(t=new Date)=>(typeof t=="string"?new Date(t.includes("T")?t:t+"T00:00:00"):t).toISOString().split("T")[0],XR=(t,e,n)=>{const r=new Date(t+"T00:00:00");let a=r.getMonth()+e,i=r.getFullYear();a>11&&(i+=Math.floor(a/12),a=a%12);const u=r.getMonth()+1+(e-1);i=r.getFullYear(),a=u,a>11&&(i+=Math.floor(a/12),a=a%12);const f=new Date(i,a,1),c=new Date(i,a+1,0).getDate(),h=Math.min(n,c);return f.setDate(h),f},ZR=(t,e,n)=>{if(!t||!e)return[];const r=[],a=n.getFullYear(),i=n.getMonth();let s=new Date(a,i,e.closing_day);n.getDate()>e.closing_day&&s.setMonth(i+1);let u=new Date(s.getFullYear(),s.getMonth(),e.due_day);e.due_day<e.closing_day&&u.setMonth(s.getMonth()+1);for(const f of t)if(f.installments_paid<f.number_of_installments){const c=f.installments_paid+1,h=XR(f.purchase_date,c,e.due_day);if(h<=u){let p=new Date(u);p.setMonth(p.getMonth()-1),(h>p||h.getFullYear()===u.getFullYear()&&h.getMonth()===u.getMonth())&&r.push(f)}}return r.filter((f,c,h)=>h.findIndex(p=>p.id===f.id)===c)},JR=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),rC=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),Xx=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15L15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),xh=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"})}),wq=({id:t,message:e,type:n,onDismiss:r})=>{let a="bg-primary dark:bg-primaryDark",i="text-white",s=rC;switch(n){case"success":a="bg-secondary dark:bg-secondaryDark",s=Xx;break;case"warning":a="bg-amber-500 dark:bg-amber-600",s=xh;break;case"error":a="bg-destructive dark:bg-destructiveDark",s=xh;break;case"info":default:a="bg-blue-500 dark:bg-blue-600",s=rC;break}return b.jsxs("div",{role:"alert","aria-live":"assertive","aria-atomic":"true",className:`relative flex items-start w-full max-w-sm p-4 rounded-lg shadow-2xl ${a} ${i} transform transition-all duration-300 ease-in-out animate-fadeIn`,children:[b.jsx("div",{className:"flex-shrink-0 mr-3",children:b.jsx(s,{className:"w-6 h-6"})}),b.jsx("div",{className:"flex-grow text-sm font-medium",children:e}),b.jsx("button",{onClick:()=>r(t),"aria-label":"Fechar notificação",className:"ml-3 -mr-1 -my-1 p-1 rounded-md hover:bg-black/20 focus:outline-none focus:ring-2 focus:ring-white/50 transition-colors",children:b.jsx(JR,{className:"w-5 h-5"})}),b.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},Tq=({toasts:t,removeToast:e})=>t.length?b.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"fixed top-4 right-4 z-[100] space-y-3 w-full max-w-sm pointer-events-none",children:t.map(n=>b.jsx("div",{className:"pointer-events-auto",children:b.jsx(wq,{...n,onDismiss:e})},n.id))}):null,QR=j.createContext(void 0),eI=()=>{const t=j.useContext(QR);if(!t)throw new Error("useToasts must be used within a ToastProvider");return t},Aq=({children:t})=>{const[e,n]=j.useState([]),r=j.useCallback((i,s,u=5e3)=>{const f=Wx();n(c=>[{id:f,message:i,type:s,duration:u},...c.slice(0,4)]),u&&setTimeout(()=>{a(f)},u)},[]),a=j.useCallback(i=>{n(s=>s.filter(u=>u.id!==i))},[]);return b.jsxs(QR.Provider,{value:{addToast:r},children:[t,b.jsx(Tq,{toasts:e,removeToast:a})]})},Yn=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Eq=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52M6.25 4.97A48.416 48.416 0 0 1 12 4.5c2.291 0 4.545.16 6.75.47m-13.5 0C4.146 5.116 3.146 5.29 2.25 5.5m3.75-.48a25.293 25.293 0 0 0-3.75.48M12 12.75h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0 3h.008v.008H12v-.008Zm0-9h.008v.008H12V9.75Z"})}),VS=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-3.741-5.602M12 12.75a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 0H7.5M12 12.75V15m0 0H7.5M12 15A6.75 6.75 0 0 0 5.25 9.75M12 15A6.75 6.75 0 0 1 18.75 9.75M12 2.25A6.75 6.75 0 0 0 5.25 9m6.75-6.75v1.5m0 1.5V9m0-3a2.25 2.25 0 0 0-2.25-2.25H7.5A2.25 2.25 0 0 0 5.25 6m13.5 6.75a2.25 2.25 0 0 0-2.25-2.25H15a2.25 2.25 0 0 0-2.25 2.25m3.75 0v1.5m0 1.5V18m0-3a2.25 2.25 0 0 0-2.25-2.25H15A2.25 2.25 0 0 0 12.75 15m3.75 0h-3.75M3.375 19.5a2.25 2.25 0 0 1 2.25-2.25H10.5a2.25 2.25 0 0 1 2.25 2.25"})}),ye=({variant:t="primary",size:e="md",children:n,className:r,...a})=>{const i="font-semibold rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-backgroundDark transition-colors duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center";let s="";switch(t){case"primary":s="bg-primary text-white hover:bg-blue-700 dark:bg-primaryDark dark:hover:bg-blue-600 focus:ring-primary dark:focus:ring-primaryDark";break;case"secondary":s="bg-secondary text-white hover:bg-emerald-700 dark:bg-secondaryDark dark:hover:bg-emerald-600 focus:ring-secondary dark:focus:ring-secondaryDark";break;case"danger":s="bg-destructive text-white hover:bg-red-700 dark:bg-destructiveDark dark:hover:bg-red-600 focus:ring-destructive dark:focus:ring-destructiveDark";break;case"ghost":s="bg-transparent text-textBase dark:text-textBaseDark hover:bg-neutral/10 dark:hover:bg-neutralDark/20 focus:ring-neutral dark:focus:ring-neutralDark";break}let u="";switch(e){case"sm":u="px-3 py-1.5 text-sm";break;case"md":u="px-4 py-2 text-base";break;case"lg":u="px-6 py-3 text-lg";break}return b.jsx("button",{className:`${i} ${s} ${u} ${r||""}`,...a,children:n})};function tI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=tI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=tI(t))&&(r&&(r+=" "),r+=e);return r}var Iv,aC;function ar(){if(aC)return Iv;aC=1;var t=Array.isArray;return Iv=t,Iv}var jv,iC;function nI(){if(iC)return jv;iC=1;var t=typeof Gd=="object"&&Gd&&Gd.Object===Object&&Gd;return jv=t,jv}var Lv,oC;function va(){if(oC)return Lv;oC=1;var t=nI(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Lv=n,Lv}var $v,sC;function mf(){if(sC)return $v;sC=1;var t=va(),e=t.Symbol;return $v=e,$v}var Bv,lC;function Cq(){if(lC)return Bv;lC=1;var t=mf(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function i(s){var u=n.call(s,a),f=s[a];try{s[a]=void 0;var c=!0}catch{}var h=r.call(s);return c&&(u?s[a]=f:delete s[a]),h}return Bv=i,Bv}var qv,uC;function kq(){if(uC)return qv;uC=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return qv=n,qv}var Uv,cC;function Ja(){if(cC)return Uv;cC=1;var t=mf(),e=Cq(),n=kq(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?a:r:i&&i in Object(u)?e(u):n(u)}return Uv=s,Uv}var Fv,fC;function Qa(){if(fC)return Fv;fC=1;function t(e){return e!=null&&typeof e=="object"}return Fv=t,Fv}var Vv,dC;function Gl(){if(dC)return Vv;dC=1;var t=Ja(),e=Qa(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return Vv=r,Vv}var zv,hC;function zS(){if(hC)return zv;hC=1;var t=ar(),e=Gl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,s){if(t(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||s!=null&&i in Object(s)}return zv=a,zv}var Gv,mC;function Ki(){if(mC)return Gv;mC=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Gv=t,Gv}var Hv,pC;function GS(){if(pC)return Hv;pC=1;var t=Ja(),e=Ki(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(u){if(!e(u))return!1;var f=t(u);return f==r||f==a||f==n||f==i}return Hv=s,Hv}var Kv,gC;function Oq(){if(gC)return Kv;gC=1;var t=va(),e=t["__core-js_shared__"];return Kv=e,Kv}var Yv,vC;function Mq(){if(vC)return Yv;vC=1;var t=Oq(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Yv=n,Yv}var Wv,yC;function rI(){if(yC)return Wv;yC=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Wv=n,Wv}var Xv,bC;function Dq(){if(bC)return Xv;bC=1;var t=GS(),e=Mq(),n=Ki(),r=rI(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,f=s.toString,c=u.hasOwnProperty,h=RegExp("^"+f.call(c).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var _=t(y)?h:i;return _.test(r(y))}return Xv=p,Xv}var Zv,xC;function Nq(){if(xC)return Zv;xC=1;function t(e,n){return e==null?void 0:e[n]}return Zv=t,Zv}var Jv,_C;function Zo(){if(_C)return Jv;_C=1;var t=Dq(),e=Nq();function n(r,a){var i=e(r,a);return t(i)?i:void 0}return Jv=n,Jv}var Qv,SC;function km(){if(SC)return Qv;SC=1;var t=Zo(),e=t(Object,"create");return Qv=e,Qv}var ey,wC;function Pq(){if(wC)return ey;wC=1;var t=km();function e(){this.__data__=t?t(null):{},this.size=0}return ey=e,ey}var ty,TC;function Rq(){if(TC)return ty;TC=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return ty=t,ty}var ny,AC;function Iq(){if(AC)return ny;AC=1;var t=km(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var s=this.__data__;if(t){var u=s[i];return u===e?void 0:u}return r.call(s,i)?s[i]:void 0}return ny=a,ny}var ry,EC;function jq(){if(EC)return ry;EC=1;var t=km(),e=Object.prototype,n=e.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return ry=r,ry}var ay,CC;function Lq(){if(CC)return ay;CC=1;var t=km(),e="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?e:a,this}return ay=n,ay}var iy,kC;function $q(){if(kC)return iy;kC=1;var t=Pq(),e=Rq(),n=Iq(),r=jq(),a=Lq();function i(s){var u=-1,f=s==null?0:s.length;for(this.clear();++u<f;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,iy=i,iy}var oy,OC;function Bq(){if(OC)return oy;OC=1;function t(){this.__data__=[],this.size=0}return oy=t,oy}var sy,MC;function HS(){if(MC)return sy;MC=1;function t(e,n){return e===n||e!==e&&n!==n}return sy=t,sy}var ly,DC;function Om(){if(DC)return ly;DC=1;var t=HS();function e(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return ly=e,ly}var uy,NC;function qq(){if(NC)return uy;NC=1;var t=Om(),e=Array.prototype,n=e.splice;function r(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var u=i.length-1;return s==u?i.pop():n.call(i,s,1),--this.size,!0}return uy=r,uy}var cy,PC;function Uq(){if(PC)return cy;PC=1;var t=Om();function e(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return cy=e,cy}var fy,RC;function Fq(){if(RC)return fy;RC=1;var t=Om();function e(n){return t(this.__data__,n)>-1}return fy=e,fy}var dy,IC;function Vq(){if(IC)return dy;IC=1;var t=Om();function e(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return dy=e,dy}var hy,jC;function Mm(){if(jC)return hy;jC=1;var t=Bq(),e=qq(),n=Uq(),r=Fq(),a=Vq();function i(s){var u=-1,f=s==null?0:s.length;for(this.clear();++u<f;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,hy=i,hy}var my,LC;function KS(){if(LC)return my;LC=1;var t=Zo(),e=va(),n=t(e,"Map");return my=n,my}var py,$C;function zq(){if($C)return py;$C=1;var t=$q(),e=Mm(),n=KS();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return py=r,py}var gy,BC;function Gq(){if(BC)return gy;BC=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return gy=t,gy}var vy,qC;function Dm(){if(qC)return vy;qC=1;var t=Gq();function e(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return vy=e,vy}var yy,UC;function Hq(){if(UC)return yy;UC=1;var t=Dm();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return yy=e,yy}var by,FC;function Kq(){if(FC)return by;FC=1;var t=Dm();function e(n){return t(this,n).get(n)}return by=e,by}var xy,VC;function Yq(){if(VC)return xy;VC=1;var t=Dm();function e(n){return t(this,n).has(n)}return xy=e,xy}var _y,zC;function Wq(){if(zC)return _y;zC=1;var t=Dm();function e(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return _y=e,_y}var Sy,GC;function YS(){if(GC)return Sy;GC=1;var t=zq(),e=Hq(),n=Kq(),r=Yq(),a=Wq();function i(s){var u=-1,f=s==null?0:s.length;for(this.clear();++u<f;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Sy=i,Sy}var wy,HC;function aI(){if(HC)return wy;HC=1;var t=YS(),e="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,u=a?a.apply(this,s):s[0],f=i.cache;if(f.has(u))return f.get(u);var c=r.apply(this,s);return i.cache=f.set(u,c)||f,c};return i.cache=new(n.Cache||t),i}return n.Cache=t,wy=n,wy}var Ty,KC;function Xq(){if(KC)return Ty;KC=1;var t=aI(),e=500;function n(r){var a=t(r,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return Ty=n,Ty}var Ay,YC;function Zq(){if(YC)return Ay;YC=1;var t=Xq(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,u,f,c){i.push(f?c.replace(n,"$1"):u||s)}),i});return Ay=r,Ay}var Ey,WC;function WS(){if(WC)return Ey;WC=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=n(e[r],r,e);return i}return Ey=t,Ey}var Cy,XC;function Jq(){if(XC)return Cy;XC=1;var t=mf(),e=WS(),n=ar(),r=Gl(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return e(u,s)+"";if(r(u))return i?i.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}return Cy=s,Cy}var ky,ZC;function iI(){if(ZC)return ky;ZC=1;var t=Jq();function e(n){return n==null?"":t(n)}return ky=e,ky}var Oy,JC;function oI(){if(JC)return Oy;JC=1;var t=ar(),e=zS(),n=Zq(),r=iI();function a(i,s){return t(i)?i:e(i,s)?[i]:n(r(i))}return Oy=a,Oy}var My,QC;function Nm(){if(QC)return My;QC=1;var t=Gl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return My=e,My}var Dy,ek;function XS(){if(ek)return Dy;ek=1;var t=oI(),e=Nm();function n(r,a){a=t(a,r);for(var i=0,s=a.length;r!=null&&i<s;)r=r[e(a[i++])];return i&&i==s?r:void 0}return Dy=n,Dy}var Ny,tk;function sI(){if(tk)return Ny;tk=1;var t=XS();function e(n,r,a){var i=n==null?void 0:t(n,r);return i===void 0?a:i}return Ny=e,Ny}var Qq=sI();const br=vt(Qq);var Py,nk;function eU(){if(nk)return Py;nk=1;function t(e){return e==null}return Py=t,Py}var tU=eU();const st=vt(tU);var Ry,rk;function nU(){if(rk)return Ry;rk=1;var t=Ja(),e=ar(),n=Qa(),r="[object String]";function a(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return Ry=a,Ry}var rU=nU();const Uo=vt(rU);var aU=GS();const Ve=vt(aU);var iU=Ki();const Hl=vt(iU);var Iy={exports:{}},bt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ak;function oU(){if(ak)return bt;ak=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function A(T){if(typeof T=="object"&&T!==null){var k=T.$$typeof;switch(k){case t:switch(T=T.type,T){case n:case a:case r:case c:case h:return T;default:switch(T=T&&T.$$typeof,T){case u:case s:case f:case y:case p:case i:return T;default:return k}}case e:return k}}}return bt.ContextConsumer=s,bt.ContextProvider=i,bt.Element=t,bt.ForwardRef=f,bt.Fragment=n,bt.Lazy=y,bt.Memo=p,bt.Portal=e,bt.Profiler=a,bt.StrictMode=r,bt.Suspense=c,bt.SuspenseList=h,bt.isAsyncMode=function(){return!1},bt.isConcurrentMode=function(){return!1},bt.isContextConsumer=function(T){return A(T)===s},bt.isContextProvider=function(T){return A(T)===i},bt.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},bt.isForwardRef=function(T){return A(T)===f},bt.isFragment=function(T){return A(T)===n},bt.isLazy=function(T){return A(T)===y},bt.isMemo=function(T){return A(T)===p},bt.isPortal=function(T){return A(T)===e},bt.isProfiler=function(T){return A(T)===a},bt.isStrictMode=function(T){return A(T)===r},bt.isSuspense=function(T){return A(T)===c},bt.isSuspenseList=function(T){return A(T)===h},bt.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===a||T===r||T===c||T===h||T===_||typeof T=="object"&&T!==null&&(T.$$typeof===y||T.$$typeof===p||T.$$typeof===i||T.$$typeof===s||T.$$typeof===f||T.$$typeof===w||T.getModuleId!==void 0)},bt.typeOf=A,bt}var ik;function sU(){return ik||(ik=1,Iy.exports=oU()),Iy.exports}var lU=sU(),jy,ok;function lI(){if(ok)return jy;ok=1;var t=Ja(),e=Qa(),n="[object Number]";function r(a){return typeof a=="number"||e(a)&&t(a)==n}return jy=r,jy}var Ly,sk;function uU(){if(sk)return Ly;sk=1;var t=lI();function e(n){return t(n)&&n!=+n}return Ly=e,Ly}var cU=uU();const pf=vt(cU);var fU=lI();const dU=vt(fU);var Fn=function(e){return e===0?0:e>0?1:-1},Ro=function(e){return Uo(e)&&e.indexOf("%")===e.length-1},we=function(e){return dU(e)&&!pf(e)},ln=function(e){return we(e)||Uo(e)},hU=0,gf=function(e){var n=++hU;return"".concat(e||"").concat(n)},Vn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(e)&&!Uo(e))return r;var i;if(Ro(e)){var s=e.indexOf("%");i=n*parseFloat(e.slice(0,s))/100}else i=+e;return pf(i)&&(i=r),a&&i>n&&(i=n),i},Bi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},mU=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},a=0;a<n;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1},Ii=function(e,n){return we(e)&&we(n)?function(r){return e+r*(n-e)}:function(){return n}};function Zx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):br(r,e))===n})}var pU=function(e,n){return we(e)&&we(n)?e-n:Uo(e)&&Uo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ll(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Jx(t){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jx(t)}var gU=["viewBox","children"],vU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lk=["points","pathLength"],$y={svg:gU,polygon:lk,polyline:lk},ZS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],_h=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!Hl(r))return null;var a={};return Object.keys(r).forEach(function(i){ZS.includes(i)&&(a[i]=n||function(s){return r[i](r,s)})}),a},yU=function(e,n,r){return function(a){return e(n,r,a),null}},Fo=function(e,n,r){if(!Hl(e)||Jx(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];ZS.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=yU(s,n,r))}),a},bU=["children"],xU=["children"];function uk(t,e){if(t==null)return{};var n=_U(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _U(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ck={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ga=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},fk=null,By=null,JS=function t(e){if(e===fk&&Array.isArray(By))return By;var n=[];return j.Children.forEach(e,function(r){st(r)||(lU.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),By=n,fk=e,n};function Pr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(a){return Ga(a)}):r=[Ga(e)],JS(t).forEach(function(a){var i=br(a,"type.displayName")||br(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function gr(t,e){var n=Pr(t,e);return n&&n[0]}var dk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,a=n.height;return!(!we(r)||r<=0||!we(a)||a<=0)},SU=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wU=function(e){return e&&e.type&&Uo(e.type)&&SU.indexOf(e.type)>=0},TU=function(e,n,r,a){var i,s=(i=$y==null?void 0:$y[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Ve(e)&&(a&&s.includes(n)||vU.includes(n))||r&&ZS.includes(n)},Fe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(j.isValidElement(e)&&(a=e.props),!Hl(a))return null;var i={};return Object.keys(a).forEach(function(s){var u;TU((u=a)===null||u===void 0?void 0:u[s],s,n,r)&&(i[s]=a[s])}),i},Qx=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return hk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=e[a],s=n[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!hk(i,s))return!1}return!0},hk=function(e,n){if(st(e)&&st(n))return!0;if(!st(e)&&!st(n)){var r=e.props||{},a=r.children,i=uk(r,bU),s=n.props||{},u=s.children,f=uk(s,xU);return a&&u?ll(i,f)&&Qx(a,u):!a&&!u?ll(i,f):!1}return!1},mk=function(e,n){var r=[],a={};return JS(e).forEach(function(i,s){if(wU(i))r.push(i);else if(i){var u=Ga(i.type),f=n[u]||{},c=f.handler,h=f.once;if(c&&(!h||!a[u])){var p=c(i,u,s);r.push(p),a[u]=!0}}}),r},AU=function(e){var n=e&&e.type;return n&&ck[n]?ck[n]:null},EU=function(e,n){return JS(n).indexOf(e)},CU=["children","width","height","viewBox","className","style","title","desc"];function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(this,arguments)}function kU(t,e){if(t==null)return{};var n=OU(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t_(t){var e=t.children,n=t.width,r=t.height,a=t.viewBox,i=t.className,s=t.style,u=t.title,f=t.desc,c=kU(t,CU),h=a||{width:n,height:r,x:0,y:0},p=tt("recharts-surface",i);return X.createElement("svg",e_({},Fe(c,!0,"svg"),{className:p,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),X.createElement("title",null,u),X.createElement("desc",null,f),e)}var MU=["children","className"];function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n_.apply(this,arguments)}function DU(t,e){if(t==null)return{};var n=NU(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wt=X.forwardRef(function(t,e){var n=t.children,r=t.className,a=DU(t,MU),i=tt("recharts-layer",r);return X.createElement("g",n_({className:i},Fe(a,!0),{ref:e}),n)}),Wr=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]},qy,pk;function PU(){if(pk)return qy;pk=1;function t(e,n,r){var a=-1,i=e.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+n];return s}return qy=t,qy}var Uy,gk;function RU(){if(gk)return Uy;gk=1;var t=PU();function e(n,r,a){var i=n.length;return a=a===void 0?i:a,!r&&a>=i?n:t(n,r,a)}return Uy=e,Uy}var Fy,vk;function uI(){if(vk)return Fy;vk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+a+i+"]");function f(c){return u.test(c)}return Fy=f,Fy}var Vy,yk;function IU(){if(yk)return Vy;yk=1;function t(e){return e.split("")}return Vy=t,Vy}var zy,bk;function jU(){if(bk)return zy;bk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="["+t+"]",u="["+a+"]",f="\\ud83c[\\udffb-\\udfff]",c="(?:"+u+"|"+f+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",w=c+"?",A="["+i+"]?",T="(?:"+_+"(?:"+[h,p,y].join("|")+")"+A+w+")*",k=A+w+T,M="(?:"+[h+u+"?",u,p,y,s].join("|")+")",E=RegExp(f+"(?="+f+")|"+M+k,"g");function D(C){return C.match(E)||[]}return zy=D,zy}var Gy,xk;function LU(){if(xk)return Gy;xk=1;var t=IU(),e=uI(),n=jU();function r(a){return e(a)?n(a):t(a)}return Gy=r,Gy}var Hy,_k;function $U(){if(_k)return Hy;_k=1;var t=RU(),e=uI(),n=LU(),r=iI();function a(i){return function(s){s=r(s);var u=e(s)?n(s):void 0,f=u?u[0]:s.charAt(0),c=u?t(u,1).join(""):s.slice(1);return f[i]()+c}}return Hy=a,Hy}var Ky,Sk;function BU(){if(Sk)return Ky;Sk=1;var t=$U(),e=t("toUpperCase");return Ky=e,Ky}var qU=BU();const Pm=vt(qU);function jt(t){return function(){return t}}const cI=Math.cos,Sh=Math.sin,Qr=Math.sqrt,wh=Math.PI,Rm=2*wh,r_=Math.PI,a_=2*r_,Mo=1e-6,UU=a_-Mo;function fI(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function FU(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fI;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class VU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fI:FU(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,s){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,u=this._y1,f=r-e,c=a-n,h=s-e,p=u-n,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Mo)if(!(Math.abs(p*f-c*h)>Mo)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-s,w=a-u,A=f*f+c*c,T=_*_+w*w,k=Math.sqrt(A),M=Math.sqrt(y),E=i*Math.tan((r_-Math.acos((A+y-T)/(2*k*M)))/2),D=E/M,C=E/k;Math.abs(D-1)>Mo&&this._append`L${e+D*h},${n+D*p}`,this._append`A${i},${i},0,0,${+(p*_>h*w)},${this._x1=e+C*f},${this._y1=n+C*c}`}}arc(e,n,r,a,i,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),f=r*Math.sin(a),c=e+u,h=n+f,p=1^s,y=s?a-i:i-a;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Mo||Math.abs(this._y1-h)>Mo)&&this._append`L${c},${h}`,r&&(y<0&&(y=y%a_+a_),y>UU?this._append`A${r},${r},0,1,${p},${e-u},${n-f}A${r},${r},0,1,${p},${this._x1=c},${this._y1=h}`:y>Mo&&this._append`A${r},${r},0,${+(y>=r_)},${p},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function QS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new VU(e)}function ew(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function dI(t){this._context=t}dI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Im(t){return new dI(t)}function hI(t){return t[0]}function mI(t){return t[1]}function pI(t,e){var n=jt(!0),r=null,a=Im,i=null,s=QS(u);t=typeof t=="function"?t:t===void 0?hI:jt(t),e=typeof e=="function"?e:e===void 0?mI:jt(e);function u(f){var c,h=(f=ew(f)).length,p,y=!1,_;for(r==null&&(i=a(_=s())),c=0;c<=h;++c)!(c<h&&n(p=f[c],c,f))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+t(p,c,f),+e(p,c,f));if(_)return i=null,_+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:jt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:jt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:jt(!!f),u):n},u.curve=function(f){return arguments.length?(a=f,r!=null&&(i=a(r)),u):a},u.context=function(f){return arguments.length?(f==null?r=i=null:i=a(r=f),u):r},u}function Jd(t,e,n){var r=null,a=jt(!0),i=null,s=Im,u=null,f=QS(c);t=typeof t=="function"?t:t===void 0?hI:jt(+t),e=typeof e=="function"?e:jt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?mI:jt(+n);function c(p){var y,_,w,A=(p=ew(p)).length,T,k=!1,M,E=new Array(A),D=new Array(A);for(i==null&&(u=s(M=f())),y=0;y<=A;++y){if(!(y<A&&a(T=p[y],y,p))===k)if(k=!k)_=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=y-1;w>=_;--w)u.point(E[w],D[w]);u.lineEnd(),u.areaEnd()}k&&(E[y]=+t(T,y,p),D[y]=+e(T,y,p),u.point(r?+r(T,y,p):E[y],n?+n(T,y,p):D[y]))}if(M)return u=null,M+""||null}function h(){return pI().defined(a).curve(s).context(i)}return c.x=function(p){return arguments.length?(t=typeof p=="function"?p:jt(+p),r=null,c):t},c.x0=function(p){return arguments.length?(t=typeof p=="function"?p:jt(+p),c):t},c.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:jt(+p),c):r},c.y=function(p){return arguments.length?(e=typeof p=="function"?p:jt(+p),n=null,c):e},c.y0=function(p){return arguments.length?(e=typeof p=="function"?p:jt(+p),c):e},c.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:jt(+p),c):n},c.lineX0=c.lineY0=function(){return h().x(t).y(e)},c.lineY1=function(){return h().x(t).y(n)},c.lineX1=function(){return h().x(r).y(e)},c.defined=function(p){return arguments.length?(a=typeof p=="function"?p:jt(!!p),c):a},c.curve=function(p){return arguments.length?(s=p,i!=null&&(u=s(i)),c):s},c.context=function(p){return arguments.length?(p==null?i=u=null:u=s(i=p),c):i},c}class gI{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zU(t){return new gI(t,!0)}function GU(t){return new gI(t,!1)}const tw={draw(t,e){const n=Qr(e/wh);t.moveTo(n,0),t.arc(0,0,n,0,Rm)}},HU={draw(t,e){const n=Qr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},vI=Qr(1/3),KU=vI*2,YU={draw(t,e){const n=Qr(e/KU),r=n*vI;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},WU={draw(t,e){const n=Qr(e),r=-n/2;t.rect(r,r,n,n)}},XU=.8908130915292852,yI=Sh(wh/10)/Sh(7*wh/10),ZU=Sh(Rm/10)*yI,JU=-cI(Rm/10)*yI,QU={draw(t,e){const n=Qr(e*XU),r=ZU*n,a=JU*n;t.moveTo(0,-n),t.lineTo(r,a);for(let i=1;i<5;++i){const s=Rm*i/5,u=cI(s),f=Sh(s);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*a,f*r+u*a)}t.closePath()}},Yy=Qr(3),e6={draw(t,e){const n=-Qr(e/(Yy*3));t.moveTo(0,n*2),t.lineTo(-Yy*n,-n),t.lineTo(Yy*n,-n),t.closePath()}},kr=-.5,Or=Qr(3)/2,i_=1/Qr(12),t6=(i_/2+1)*3,n6={draw(t,e){const n=Qr(e/t6),r=n/2,a=n*i_,i=r,s=n*i_+n,u=-i,f=s;t.moveTo(r,a),t.lineTo(i,s),t.lineTo(u,f),t.lineTo(kr*r-Or*a,Or*r+kr*a),t.lineTo(kr*i-Or*s,Or*i+kr*s),t.lineTo(kr*u-Or*f,Or*u+kr*f),t.lineTo(kr*r+Or*a,kr*a-Or*r),t.lineTo(kr*i+Or*s,kr*s-Or*i),t.lineTo(kr*u+Or*f,kr*f-Or*u),t.closePath()}};function r6(t,e){let n=null,r=QS(a);t=typeof t=="function"?t:jt(t||tw),e=typeof e=="function"?e:jt(e===void 0?64:+e);function a(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:jt(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:jt(+i),a):e},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Th(){}function Ah(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bI(t){this._context=t}bI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ah(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ah(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function a6(t){return new bI(t)}function xI(t){this._context=t}xI.prototype={areaStart:Th,areaEnd:Th,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ah(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function i6(t){return new xI(t)}function _I(t){this._context=t}_I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ah(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function o6(t){return new _I(t)}function SI(t){this._context=t}SI.prototype={areaStart:Th,areaEnd:Th,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function s6(t){return new SI(t)}function wk(t){return t<0?-1:1}function Tk(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),s=(n-t._y1)/(a||r<0&&-0),u=(i*a+s*r)/(r+a);return(wk(i)+wk(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(u))||0}function Ak(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Wy(t,e,n){var r=t._x0,a=t._y0,i=t._x1,s=t._y1,u=(i-r)/3;t._context.bezierCurveTo(r+u,a+u*e,i-u,s-u*n,i,s)}function Eh(t){this._context=t}Eh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wy(this,this._t0,Ak(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Wy(this,Ak(this,n=Tk(this,t,e)),n);break;default:Wy(this,this._t0,n=Tk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function wI(t){this._context=new TI(t)}(wI.prototype=Object.create(Eh.prototype)).point=function(t,e){Eh.prototype.point.call(this,e,t)};function TI(t){this._context=t}TI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};function l6(t){return new Eh(t)}function u6(t){return new wI(t)}function AI(t){this._context=t}AI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Ek(t),a=Ek(e),i=0,s=1;s<n;++i,++s)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ek(t){var e,n=t.length-1,r,a=new Array(n),i=new Array(n),s=new Array(n);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,i[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/i[e-1],i[e]-=r,s[e]-=r*s[e-1];for(a[n-1]=s[n-1]/i[n-1],e=n-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function c6(t){return new AI(t)}function jm(t,e){this._context=t,this._t=e}jm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function f6(t){return new jm(t,.5)}function d6(t){return new jm(t,0)}function h6(t){return new jm(t,1)}function ml(t,e){if((s=t.length)>1)for(var n=1,r,a,i=t[e[0]],s,u=i.length;n<s;++n)for(a=i,i=t[e[n]],r=0;r<u;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function o_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function m6(t,e){return t[e]}function p6(t){const e=[];return e.key=t,e}function g6(){var t=jt([]),e=o_,n=ml,r=m6;function a(i){var s=Array.from(t.apply(this,arguments),p6),u,f=s.length,c=-1,h;for(const p of i)for(u=0,++c;u<f;++u)(s[u][c]=[0,+r(p,s[u].key,c,i)]).data=p;for(u=0,h=ew(e(s));u<f;++u)s[h[u]].index=u;return n(s,h),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:jt(Array.from(i)),a):t},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:jt(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?o_:typeof i=="function"?i:jt(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(n=i??ml,a):n},a}function v6(t,e){if((r=t.length)>0){for(var n,r,a=0,i=t[0].length,s;a<i;++a){for(s=n=0;n<r;++n)s+=t[n][a][1]||0;if(s)for(n=0;n<r;++n)t[n][a][1]/=s}ml(t,e)}}function y6(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,i=r.length;n<i;++n){for(var s=0,u=0;s<a;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}ml(t,e)}}function b6(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,i,s;r<i;++r){for(var u=0,f=0,c=0;u<s;++u){for(var h=t[e[u]],p=h[r][1]||0,y=h[r-1][1]||0,_=(p-y)/2,w=0;w<u;++w){var A=t[e[w]],T=A[r][1]||0,k=A[r-1][1]||0;_+=T-k}f+=p,c+=_*p}a[r-1][1]+=a[r-1][0]=n,f&&(n-=c/f)}a[r-1][1]+=a[r-1][0]=n,ml(t,e)}}function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}var x6=["type","size","sizeType"];function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(this,arguments)}function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){_6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _6(t,e,n){return e=S6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S6(t){var e=w6(t,"string");return Oc(e)=="symbol"?e:e+""}function w6(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T6(t,e){if(t==null)return{};var n=A6(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EI={symbolCircle:tw,symbolCross:HU,symbolDiamond:YU,symbolSquare:WU,symbolStar:QU,symbolTriangle:e6,symbolWye:n6},E6=Math.PI/180,C6=function(e){var n="symbol".concat(Pm(e));return EI[n]||tw},k6=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*E6;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},O6=function(e,n){EI["symbol".concat(Pm(e))]=n},nw=function(e){var n=e.type,r=n===void 0?"circle":n,a=e.size,i=a===void 0?64:a,s=e.sizeType,u=s===void 0?"area":s,f=T6(e,x6),c=kk(kk({},f),{},{type:r,size:i,sizeType:u}),h=function(){var T=C6(r),k=r6().type(T).size(k6(i,u,r));return k()},p=c.className,y=c.cx,_=c.cy,w=Fe(c,!0);return y===+y&&_===+_&&i===+i?X.createElement("path",s_({},w,{className:tt("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(_,")"),d:h()})):null};nw.registerSymbol=O6;function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l_.apply(this,arguments)}function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function M6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){Mc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kI(r.key),r)}}function P6(t,e,n){return e&&N6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R6(t,e,n){return e=Ch(e),I6(t,CI()?Reflect.construct(e,n||[],Ch(t).constructor):e.apply(t,n))}function I6(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j6(t)}function j6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CI=function(){return!!t})()}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ch(t)}function L6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u_(t,e)}function u_(t,e){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},u_(t,e)}function Mc(t,e,n){return e=kI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kI(t){var e=$6(t,"string");return pl(e)=="symbol"?e:e+""}function $6(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mr=32,rw=function(t){function e(){return D6(this,e),R6(this,e,arguments)}return L6(e,t),P6(e,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=Mr/2,s=Mr/6,u=Mr/3,f=r.inactive?a:r.color;if(r.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:Mr,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(Mr,"M").concat(2*u,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return X.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Mr/8,"h").concat(Mr,"v").concat(Mr*3/4,"h").concat(-Mr,"z"),className:"recharts-legend-icon"});if(X.isValidElement(r.legendIcon)){var c=M6({},r);return delete c.legendIcon,X.cloneElement(r.legendIcon,c)}return X.createElement(nw,{fill:f,cx:i,cy:i,size:Mr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,s=a.iconSize,u=a.layout,f=a.formatter,c=a.inactiveColor,h={x:0,y:0,width:Mr,height:Mr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(_,w){var A=_.formatter||f,T=tt(Mc(Mc({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",_.inactive));if(_.type==="none")return null;var k=Ve(_.value)?null:_.value;Wr(!Ve(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var M=_.inactive?c:_.color;return X.createElement("li",l_({className:T,style:p,key:"legend-item-".concat(w)},Fo(r.props,_,w)),X.createElement(t_,{width:s,height:s,viewBox:h,style:y},r.renderIcon(_)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:M}},A?A(k,_,w):k))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,s=r.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(j.PureComponent);Mc(rw,"displayName","Legend");Mc(rw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Xy,Mk;function B6(){if(Mk)return Xy;Mk=1;var t=Mm();function e(){this.__data__=new t,this.size=0}return Xy=e,Xy}var Zy,Dk;function q6(){if(Dk)return Zy;Dk=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Zy=t,Zy}var Jy,Nk;function U6(){if(Nk)return Jy;Nk=1;function t(e){return this.__data__.get(e)}return Jy=t,Jy}var Qy,Pk;function F6(){if(Pk)return Qy;Pk=1;function t(e){return this.__data__.has(e)}return Qy=t,Qy}var e0,Rk;function V6(){if(Rk)return e0;Rk=1;var t=Mm(),e=KS(),n=YS(),r=200;function a(i,s){var u=this.__data__;if(u instanceof t){var f=u.__data__;if(!e||f.length<r-1)return f.push([i,s]),this.size=++u.size,this;u=this.__data__=new n(f)}return u.set(i,s),this.size=u.size,this}return e0=a,e0}var t0,Ik;function OI(){if(Ik)return t0;Ik=1;var t=Mm(),e=B6(),n=q6(),r=U6(),a=F6(),i=V6();function s(u){var f=this.__data__=new t(u);this.size=f.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,t0=s,t0}var n0,jk;function z6(){if(jk)return n0;jk=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return n0=e,n0}var r0,Lk;function G6(){if(Lk)return r0;Lk=1;function t(e){return this.__data__.has(e)}return r0=t,r0}var a0,$k;function MI(){if($k)return a0;$k=1;var t=YS(),e=z6(),n=G6();function r(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,a0=r,a0}var i0,Bk;function DI(){if(Bk)return i0;Bk=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(e[r],r,e))return!0;return!1}return i0=t,i0}var o0,qk;function NI(){if(qk)return o0;qk=1;function t(e,n){return e.has(n)}return o0=t,o0}var s0,Uk;function PI(){if(Uk)return s0;Uk=1;var t=MI(),e=DI(),n=NI(),r=1,a=2;function i(s,u,f,c,h,p){var y=f&r,_=s.length,w=u.length;if(_!=w&&!(y&&w>_))return!1;var A=p.get(s),T=p.get(u);if(A&&T)return A==u&&T==s;var k=-1,M=!0,E=f&a?new t:void 0;for(p.set(s,u),p.set(u,s);++k<_;){var D=s[k],C=u[k];if(c)var O=y?c(C,D,k,u,s,p):c(D,C,k,s,u,p);if(O!==void 0){if(O)continue;M=!1;break}if(E){if(!e(u,function(P,I){if(!n(E,I)&&(D===P||h(D,P,f,c,p)))return E.push(I)})){M=!1;break}}else if(!(D===C||h(D,C,f,c,p))){M=!1;break}}return p.delete(s),p.delete(u),M}return s0=i,s0}var l0,Fk;function H6(){if(Fk)return l0;Fk=1;var t=va(),e=t.Uint8Array;return l0=e,l0}var u0,Vk;function K6(){if(Vk)return u0;Vk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a,i){r[++n]=[i,a]}),r}return u0=t,u0}var c0,zk;function aw(){if(zk)return c0;zk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a){r[++n]=a}),r}return c0=t,c0}var f0,Gk;function Y6(){if(Gk)return f0;Gk=1;var t=mf(),e=H6(),n=HS(),r=PI(),a=K6(),i=aw(),s=1,u=2,f="[object Boolean]",c="[object Date]",h="[object Error]",p="[object Map]",y="[object Number]",_="[object RegExp]",w="[object Set]",A="[object String]",T="[object Symbol]",k="[object ArrayBuffer]",M="[object DataView]",E=t?t.prototype:void 0,D=E?E.valueOf:void 0;function C(O,P,I,U,V,$,H){switch(I){case M:if(O.byteLength!=P.byteLength||O.byteOffset!=P.byteOffset)return!1;O=O.buffer,P=P.buffer;case k:return!(O.byteLength!=P.byteLength||!$(new e(O),new e(P)));case f:case c:case y:return n(+O,+P);case h:return O.name==P.name&&O.message==P.message;case _:case A:return O==P+"";case p:var Z=a;case w:var Y=U&s;if(Z||(Z=i),O.size!=P.size&&!Y)return!1;var B=H.get(O);if(B)return B==P;U|=u,H.set(O,P);var L=r(Z(O),Z(P),U,V,$,H);return H.delete(O),L;case T:if(D)return D.call(O)==D.call(P)}return!1}return f0=C,f0}var d0,Hk;function RI(){if(Hk)return d0;Hk=1;function t(e,n){for(var r=-1,a=n.length,i=e.length;++r<a;)e[i+r]=n[r];return e}return d0=t,d0}var h0,Kk;function W6(){if(Kk)return h0;Kk=1;var t=RI(),e=ar();function n(r,a,i){var s=a(r);return e(r)?s:t(s,i(r))}return h0=n,h0}var m0,Yk;function X6(){if(Yk)return m0;Yk=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=0,s=[];++r<a;){var u=e[r];n(u,r,e)&&(s[i++]=u)}return s}return m0=t,m0}var p0,Wk;function Z6(){if(Wk)return p0;Wk=1;function t(){return[]}return p0=t,p0}var g0,Xk;function J6(){if(Xk)return g0;Xk=1;var t=X6(),e=Z6(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(u){return r.call(s,u)}))}:e;return g0=i,g0}var v0,Zk;function Q6(){if(Zk)return v0;Zk=1;function t(e,n){for(var r=-1,a=Array(e);++r<e;)a[r]=n(r);return a}return v0=t,v0}var y0,Jk;function e8(){if(Jk)return y0;Jk=1;var t=Ja(),e=Qa(),n="[object Arguments]";function r(a){return e(a)&&t(a)==n}return y0=r,y0}var b0,Qk;function iw(){if(Qk)return b0;Qk=1;var t=e8(),e=Qa(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!a.call(s,"callee")};return b0=i,b0}var hc={exports:{}},x0,eO;function t8(){if(eO)return x0;eO=1;function t(){return!1}return x0=t,x0}hc.exports;var tO;function II(){return tO||(tO=1,function(t,e){var n=va(),r=t8(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,u=s?n.Buffer:void 0,f=u?u.isBuffer:void 0,c=f||r;t.exports=c}(hc,hc.exports)),hc.exports}var _0,nO;function ow(){if(nO)return _0;nO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<a}return _0=n,_0}var S0,rO;function sw(){if(rO)return S0;rO=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return S0=e,S0}var w0,aO;function n8(){if(aO)return w0;aO=1;var t=Ja(),e=sw(),n=Qa(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",u="[object Error]",f="[object Function]",c="[object Map]",h="[object Number]",p="[object Object]",y="[object RegExp]",_="[object Set]",w="[object String]",A="[object WeakMap]",T="[object ArrayBuffer]",k="[object DataView]",M="[object Float32Array]",E="[object Float64Array]",D="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",I="[object Uint8ClampedArray]",U="[object Uint16Array]",V="[object Uint32Array]",$={};$[M]=$[E]=$[D]=$[C]=$[O]=$[P]=$[I]=$[U]=$[V]=!0,$[r]=$[a]=$[T]=$[i]=$[k]=$[s]=$[u]=$[f]=$[c]=$[h]=$[p]=$[y]=$[_]=$[w]=$[A]=!1;function H(Z){return n(Z)&&e(Z.length)&&!!$[t(Z)]}return w0=H,w0}var T0,iO;function jI(){if(iO)return T0;iO=1;function t(e){return function(n){return e(n)}}return T0=t,T0}var mc={exports:{}};mc.exports;var oO;function r8(){return oO||(oO=1,function(t,e){var n=nI(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,s=i&&n.process,u=function(){try{var f=a&&a.require&&a.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}}();t.exports=u}(mc,mc.exports)),mc.exports}var A0,sO;function LI(){if(sO)return A0;sO=1;var t=n8(),e=jI(),n=r8(),r=n&&n.isTypedArray,a=r?e(r):t;return A0=a,A0}var E0,lO;function a8(){if(lO)return E0;lO=1;var t=Q6(),e=iw(),n=ar(),r=II(),a=ow(),i=LI(),s=Object.prototype,u=s.hasOwnProperty;function f(c,h){var p=n(c),y=!p&&e(c),_=!p&&!y&&r(c),w=!p&&!y&&!_&&i(c),A=p||y||_||w,T=A?t(c.length,String):[],k=T.length;for(var M in c)(h||u.call(c,M))&&!(A&&(M=="length"||_&&(M=="offset"||M=="parent")||w&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||a(M,k)))&&T.push(M);return T}return E0=f,E0}var C0,uO;function i8(){if(uO)return C0;uO=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return C0=e,C0}var k0,cO;function $I(){if(cO)return k0;cO=1;function t(e,n){return function(r){return e(n(r))}}return k0=t,k0}var O0,fO;function o8(){if(fO)return O0;fO=1;var t=$I(),e=t(Object.keys,Object);return O0=e,O0}var M0,dO;function s8(){if(dO)return M0;dO=1;var t=i8(),e=o8(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var u in Object(i))r.call(i,u)&&u!="constructor"&&s.push(u);return s}return M0=a,M0}var D0,hO;function vf(){if(hO)return D0;hO=1;var t=GS(),e=sw();function n(r){return r!=null&&e(r.length)&&!t(r)}return D0=n,D0}var N0,mO;function Lm(){if(mO)return N0;mO=1;var t=a8(),e=s8(),n=vf();function r(a){return n(a)?t(a):e(a)}return N0=r,N0}var P0,pO;function l8(){if(pO)return P0;pO=1;var t=W6(),e=J6(),n=Lm();function r(a){return t(a,n,e)}return P0=r,P0}var R0,gO;function u8(){if(gO)return R0;gO=1;var t=l8(),e=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,s,u,f,c,h){var p=u&e,y=t(i),_=y.length,w=t(s),A=w.length;if(_!=A&&!p)return!1;for(var T=_;T--;){var k=y[T];if(!(p?k in s:r.call(s,k)))return!1}var M=h.get(i),E=h.get(s);if(M&&E)return M==s&&E==i;var D=!0;h.set(i,s),h.set(s,i);for(var C=p;++T<_;){k=y[T];var O=i[k],P=s[k];if(f)var I=p?f(P,O,k,s,i,h):f(O,P,k,i,s,h);if(!(I===void 0?O===P||c(O,P,u,f,h):I)){D=!1;break}C||(C=k=="constructor")}if(D&&!C){var U=i.constructor,V=s.constructor;U!=V&&"constructor"in i&&"constructor"in s&&!(typeof U=="function"&&U instanceof U&&typeof V=="function"&&V instanceof V)&&(D=!1)}return h.delete(i),h.delete(s),D}return R0=a,R0}var I0,vO;function c8(){if(vO)return I0;vO=1;var t=Zo(),e=va(),n=t(e,"DataView");return I0=n,I0}var j0,yO;function f8(){if(yO)return j0;yO=1;var t=Zo(),e=va(),n=t(e,"Promise");return j0=n,j0}var L0,bO;function BI(){if(bO)return L0;bO=1;var t=Zo(),e=va(),n=t(e,"Set");return L0=n,L0}var $0,xO;function d8(){if(xO)return $0;xO=1;var t=Zo(),e=va(),n=t(e,"WeakMap");return $0=n,$0}var B0,_O;function h8(){if(_O)return B0;_O=1;var t=c8(),e=KS(),n=f8(),r=BI(),a=d8(),i=Ja(),s=rI(),u="[object Map]",f="[object Object]",c="[object Promise]",h="[object Set]",p="[object WeakMap]",y="[object DataView]",_=s(t),w=s(e),A=s(n),T=s(r),k=s(a),M=i;return(t&&M(new t(new ArrayBuffer(1)))!=y||e&&M(new e)!=u||n&&M(n.resolve())!=c||r&&M(new r)!=h||a&&M(new a)!=p)&&(M=function(E){var D=i(E),C=D==f?E.constructor:void 0,O=C?s(C):"";if(O)switch(O){case _:return y;case w:return u;case A:return c;case T:return h;case k:return p}return D}),B0=M,B0}var q0,SO;function m8(){if(SO)return q0;SO=1;var t=OI(),e=PI(),n=Y6(),r=u8(),a=h8(),i=ar(),s=II(),u=LI(),f=1,c="[object Arguments]",h="[object Array]",p="[object Object]",y=Object.prototype,_=y.hasOwnProperty;function w(A,T,k,M,E,D){var C=i(A),O=i(T),P=C?h:a(A),I=O?h:a(T);P=P==c?p:P,I=I==c?p:I;var U=P==p,V=I==p,$=P==I;if($&&s(A)){if(!s(T))return!1;C=!0,U=!1}if($&&!U)return D||(D=new t),C||u(A)?e(A,T,k,M,E,D):n(A,T,P,k,M,E,D);if(!(k&f)){var H=U&&_.call(A,"__wrapped__"),Z=V&&_.call(T,"__wrapped__");if(H||Z){var Y=H?A.value():A,B=Z?T.value():T;return D||(D=new t),E(Y,B,k,M,D)}}return $?(D||(D=new t),r(A,T,k,M,E,D)):!1}return q0=w,q0}var U0,wO;function lw(){if(wO)return U0;wO=1;var t=m8(),e=Qa();function n(r,a,i,s,u){return r===a?!0:r==null||a==null||!e(r)&&!e(a)?r!==r&&a!==a:t(r,a,i,s,n,u)}return U0=n,U0}var F0,TO;function p8(){if(TO)return F0;TO=1;var t=OI(),e=lw(),n=1,r=2;function a(i,s,u,f){var c=u.length,h=c,p=!f;if(i==null)return!h;for(i=Object(i);c--;){var y=u[c];if(p&&y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++c<h;){y=u[c];var _=y[0],w=i[_],A=y[1];if(p&&y[2]){if(w===void 0&&!(_ in i))return!1}else{var T=new t;if(f)var k=f(w,A,_,i,s,T);if(!(k===void 0?e(A,w,n|r,f,T):k))return!1}}return!0}return F0=a,F0}var V0,AO;function qI(){if(AO)return V0;AO=1;var t=Ki();function e(n){return n===n&&!t(n)}return V0=e,V0}var z0,EO;function g8(){if(EO)return z0;EO=1;var t=qI(),e=Lm();function n(r){for(var a=e(r),i=a.length;i--;){var s=a[i],u=r[s];a[i]=[s,u,t(u)]}return a}return z0=n,z0}var G0,CO;function UI(){if(CO)return G0;CO=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return G0=t,G0}var H0,kO;function v8(){if(kO)return H0;kO=1;var t=p8(),e=g8(),n=UI();function r(a){var i=e(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return H0=r,H0}var K0,OO;function y8(){if(OO)return K0;OO=1;function t(e,n){return e!=null&&n in Object(e)}return K0=t,K0}var Y0,MO;function b8(){if(MO)return Y0;MO=1;var t=oI(),e=iw(),n=ar(),r=ow(),a=sw(),i=Nm();function s(u,f,c){f=t(f,u);for(var h=-1,p=f.length,y=!1;++h<p;){var _=i(f[h]);if(!(y=u!=null&&c(u,_)))break;u=u[_]}return y||++h!=p?y:(p=u==null?0:u.length,!!p&&a(p)&&r(_,p)&&(n(u)||e(u)))}return Y0=s,Y0}var W0,DO;function x8(){if(DO)return W0;DO=1;var t=y8(),e=b8();function n(r,a){return r!=null&&e(r,a,t)}return W0=n,W0}var X0,NO;function _8(){if(NO)return X0;NO=1;var t=lw(),e=sI(),n=x8(),r=zS(),a=qI(),i=UI(),s=Nm(),u=1,f=2;function c(h,p){return r(h)&&a(p)?i(s(h),p):function(y){var _=e(y,h);return _===void 0&&_===p?n(y,h):t(p,_,u|f)}}return X0=c,X0}var Z0,PO;function Kl(){if(PO)return Z0;PO=1;function t(e){return e}return Z0=t,Z0}var J0,RO;function S8(){if(RO)return J0;RO=1;function t(e){return function(n){return n==null?void 0:n[e]}}return J0=t,J0}var Q0,IO;function w8(){if(IO)return Q0;IO=1;var t=XS();function e(n){return function(r){return t(r,n)}}return Q0=e,Q0}var eb,jO;function T8(){if(jO)return eb;jO=1;var t=S8(),e=w8(),n=zS(),r=Nm();function a(i){return n(i)?t(r(i)):e(i)}return eb=a,eb}var tb,LO;function ya(){if(LO)return tb;LO=1;var t=v8(),e=_8(),n=Kl(),r=ar(),a=T8();function i(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):a(s)}return tb=i,tb}var nb,$O;function FI(){if($O)return nb;$O=1;function t(e,n,r,a){for(var i=e.length,s=r+(a?1:-1);a?s--:++s<i;)if(n(e[s],s,e))return s;return-1}return nb=t,nb}var rb,BO;function A8(){if(BO)return rb;BO=1;function t(e){return e!==e}return rb=t,rb}var ab,qO;function E8(){if(qO)return ab;qO=1;function t(e,n,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}return ab=t,ab}var ib,UO;function C8(){if(UO)return ib;UO=1;var t=FI(),e=A8(),n=E8();function r(a,i,s){return i===i?n(a,i,s):t(a,e,s)}return ib=r,ib}var ob,FO;function k8(){if(FO)return ob;FO=1;var t=C8();function e(n,r){var a=n==null?0:n.length;return!!a&&t(n,r,0)>-1}return ob=e,ob}var sb,VO;function O8(){if(VO)return sb;VO=1;function t(e,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(n,e[a]))return!0;return!1}return sb=t,sb}var lb,zO;function M8(){if(zO)return lb;zO=1;function t(){}return lb=t,lb}var ub,GO;function D8(){if(GO)return ub;GO=1;var t=BI(),e=M8(),n=aw(),r=1/0,a=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return ub=a,ub}var cb,HO;function N8(){if(HO)return cb;HO=1;var t=MI(),e=k8(),n=O8(),r=NI(),a=D8(),i=aw(),s=200;function u(f,c,h){var p=-1,y=e,_=f.length,w=!0,A=[],T=A;if(h)w=!1,y=n;else if(_>=s){var k=c?null:a(f);if(k)return i(k);w=!1,y=r,T=new t}else T=c?[]:A;e:for(;++p<_;){var M=f[p],E=c?c(M):M;if(M=h||M!==0?M:0,w&&E===E){for(var D=T.length;D--;)if(T[D]===E)continue e;c&&T.push(E),A.push(M)}else y(T,E,h)||(T!==A&&T.push(E),A.push(M))}return A}return cb=u,cb}var fb,KO;function P8(){if(KO)return fb;KO=1;var t=ya(),e=N8();function n(r,a){return r&&r.length?e(r,t(a,2)):[]}return fb=n,fb}var R8=P8();const YO=vt(R8);function VI(t,e,n){return e===!0?YO(t,n):Ve(e)?YO(t,e):t}function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}var I8=["ref"];function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){$m(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GI(r.key),r)}}function L8(t,e,n){return e&&XO(t.prototype,e),n&&XO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $8(t,e,n){return e=kh(e),B8(t,zI()?Reflect.construct(e,n||[],kh(t).constructor):e.apply(t,n))}function B8(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q8(t)}function q8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zI=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kh(t)}function U8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},c_(t,e)}function $m(t,e,n){return e=GI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GI(t){var e=F8(t,"string");return gl(e)=="symbol"?e:e+""}function F8(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function V8(t,e){if(t==null)return{};var n=z8(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G8(t){return t.value}function H8(t,e){if(X.isValidElement(t))return X.cloneElement(t,e);if(typeof t=="function")return X.createElement(t,e);e.ref;var n=V8(e,I8);return X.createElement(rw,n)}var ZO=1,Ui=function(t){function e(){var n;j8(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=$8(this,e,[].concat(a)),$m(n,"lastBoundingBox",{width:-1,height:-1}),n}return U8(e,t),L8(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>ZO||Math.abs(a.height-this.lastBoundingBox.height)>ZO)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$a({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,s=a.align,u=a.verticalAlign,f=a.margin,c=a.chartWidth,h=a.chartHeight,p,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&i==="vertical"){var _=this.getBBoxSnapshot();p={left:((c||0)-_.width)/2}}else p=s==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();y={top:((h||0)-w.height)/2}}else y=u==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return $a($a({},p),y)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,s=a.width,u=a.height,f=a.wrapperStyle,c=a.payloadUniqBy,h=a.payload,p=$a($a({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(f)),f);return X.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(_){r.wrapperNode=_}},H8(i,$a($a({},this.props),{},{payload:VI(h,c,G8)})))}}],[{key:"getWithHeight",value:function(r,a){var i=$a($a({},this.defaultProps),r.props),s=i.layout;return s==="vertical"&&we(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||a}:null}}])}(j.PureComponent);$m(Ui,"displayName","Legend");$m(Ui,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var db,JO;function K8(){if(JO)return db;JO=1;var t=mf(),e=iw(),n=ar(),r=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||e(i)||!!(r&&i&&i[r])}return db=a,db}var hb,QO;function HI(){if(QO)return hb;QO=1;var t=RI(),e=K8();function n(r,a,i,s,u){var f=-1,c=r.length;for(i||(i=e),u||(u=[]);++f<c;){var h=r[f];a>0&&i(h)?a>1?n(h,a-1,i,s,u):t(u,h):s||(u[u.length]=h)}return u}return hb=n,hb}var mb,eM;function Y8(){if(eM)return mb;eM=1;function t(e){return function(n,r,a){for(var i=-1,s=Object(n),u=a(n),f=u.length;f--;){var c=u[e?f:++i];if(r(s[c],c,s)===!1)break}return n}}return mb=t,mb}var pb,tM;function W8(){if(tM)return pb;tM=1;var t=Y8(),e=t();return pb=e,pb}var gb,nM;function KI(){if(nM)return gb;nM=1;var t=W8(),e=Lm();function n(r,a){return r&&t(r,a,e)}return gb=n,gb}var vb,rM;function X8(){if(rM)return vb;rM=1;var t=vf();function e(n,r){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var s=a.length,u=r?s:-1,f=Object(a);(r?u--:++u<s)&&i(f[u],u,f)!==!1;);return a}}return vb=e,vb}var yb,aM;function uw(){if(aM)return yb;aM=1;var t=KI(),e=X8(),n=e(t);return yb=n,yb}var bb,iM;function YI(){if(iM)return bb;iM=1;var t=uw(),e=vf();function n(r,a){var i=-1,s=e(r)?Array(r.length):[];return t(r,function(u,f,c){s[++i]=a(u,f,c)}),s}return bb=n,bb}var xb,oM;function Z8(){if(oM)return xb;oM=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return xb=t,xb}var _b,sM;function J8(){if(sM)return _b;sM=1;var t=Gl();function e(n,r){if(n!==r){var a=n!==void 0,i=n===null,s=n===n,u=t(n),f=r!==void 0,c=r===null,h=r===r,p=t(r);if(!c&&!p&&!u&&n>r||u&&f&&h&&!c&&!p||i&&f&&h||!a&&h||!s)return 1;if(!i&&!u&&!p&&n<r||p&&a&&s&&!i&&!u||c&&a&&s||!f&&s||!h)return-1}return 0}return _b=e,_b}var Sb,lM;function Q8(){if(lM)return Sb;lM=1;var t=J8();function e(n,r,a){for(var i=-1,s=n.criteria,u=r.criteria,f=s.length,c=a.length;++i<f;){var h=t(s[i],u[i]);if(h){if(i>=c)return h;var p=a[i];return h*(p=="desc"?-1:1)}}return n.index-r.index}return Sb=e,Sb}var wb,uM;function eF(){if(uM)return wb;uM=1;var t=WS(),e=XS(),n=ya(),r=YI(),a=Z8(),i=jI(),s=Q8(),u=Kl(),f=ar();function c(h,p,y){p.length?p=t(p,function(A){return f(A)?function(T){return e(T,A.length===1?A[0]:A)}:A}):p=[u];var _=-1;p=t(p,i(n));var w=r(h,function(A,T,k){var M=t(p,function(E){return E(A)});return{criteria:M,index:++_,value:A}});return a(w,function(A,T){return s(A,T,y)})}return wb=c,wb}var Tb,cM;function tF(){if(cM)return Tb;cM=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return Tb=t,Tb}var Ab,fM;function nF(){if(fM)return Ab;fM=1;var t=tF(),e=Math.max;function n(r,a,i){return a=e(a===void 0?r.length-1:a,0),function(){for(var s=arguments,u=-1,f=e(s.length-a,0),c=Array(f);++u<f;)c[u]=s[a+u];u=-1;for(var h=Array(a+1);++u<a;)h[u]=s[u];return h[a]=i(c),t(r,this,h)}}return Ab=n,Ab}var Eb,dM;function rF(){if(dM)return Eb;dM=1;function t(e){return function(){return e}}return Eb=t,Eb}var Cb,hM;function WI(){if(hM)return Cb;hM=1;var t=Zo(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Cb=e,Cb}var kb,mM;function aF(){if(mM)return kb;mM=1;var t=rF(),e=WI(),n=Kl(),r=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return kb=r,kb}var Ob,pM;function iF(){if(pM)return Ob;pM=1;var t=800,e=16,n=Date.now;function r(a){var i=0,s=0;return function(){var u=n(),f=e-(u-s);if(s=u,f>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Ob=r,Ob}var Mb,gM;function oF(){if(gM)return Mb;gM=1;var t=aF(),e=iF(),n=e(t);return Mb=n,Mb}var Db,vM;function sF(){if(vM)return Db;vM=1;var t=Kl(),e=nF(),n=oF();function r(a,i){return n(e(a,i,t),a+"")}return Db=r,Db}var Nb,yM;function Bm(){if(yM)return Nb;yM=1;var t=HS(),e=vf(),n=ow(),r=Ki();function a(i,s,u){if(!r(u))return!1;var f=typeof s;return(f=="number"?e(u)&&n(s,u.length):f=="string"&&s in u)?t(u[s],i):!1}return Nb=a,Nb}var Pb,bM;function lF(){if(bM)return Pb;bM=1;var t=HI(),e=eF(),n=sF(),r=Bm(),a=n(function(i,s){if(i==null)return[];var u=s.length;return u>1&&r(i,s[0],s[1])?s=[]:u>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return Pb=a,Pb}var uF=lF();const cw=vt(uF);function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(this,arguments)}function cF(t,e){return mF(t)||hF(t,e)||dF(t,e)||fF()}function fF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dF(t,e){if(t){if(typeof t=="string")return xM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xM(t,e)}}function xM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hF(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],f=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(h){c=!0,a=h}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function mF(t){if(Array.isArray(t))return t}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){pF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pF(t,e,n){return e=gF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gF(t){var e=vF(t,"string");return Dc(e)=="symbol"?e:e+""}function vF(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yF(t){return Array.isArray(t)&&ln(t[0])&&ln(t[1])?t.join(" ~ "):t}var bF=function(e){var n=e.separator,r=n===void 0?" : ":n,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,u=s===void 0?{}:s,f=e.labelStyle,c=f===void 0?{}:f,h=e.payload,p=e.formatter,y=e.itemSorter,_=e.wrapperClassName,w=e.labelClassName,A=e.label,T=e.labelFormatter,k=e.accessibilityLayer,M=k===void 0?!1:k,E=function(){if(h&&h.length){var H={padding:0,margin:0},Z=(y?cw(h,y):h).map(function(Y,B){if(Y.type==="none")return null;var L=Rb({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},u),F=Y.formatter||p||yF,W=Y.value,ie=Y.name,q=W,G=ie;if(F&&q!=null&&G!=null){var ee=F(W,ie,Y,B,h);if(Array.isArray(ee)){var se=cF(ee,2);q=se[0],G=se[1]}else q=ee}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:L},ln(G)?X.createElement("span",{className:"recharts-tooltip-item-name"},G):null,ln(G)?X.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,X.createElement("span",{className:"recharts-tooltip-item-value"},q),X.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:H},Z)}return null},D=Rb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=Rb({margin:0},c),O=!st(A),P=O?A:"",I=tt("recharts-default-tooltip",_),U=tt("recharts-tooltip-label",w);O&&T&&h!==void 0&&h!==null&&(P=T(A,h));var V=M?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",f_({className:I,style:D},V),X.createElement("p",{className:U,style:C},X.isValidElement(P)?P:"".concat(P)),E())};function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function Qd(t,e,n){return e=xF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xF(t){var e=_F(t,"string");return Nc(e)=="symbol"?e:e+""}function _F(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nc="recharts-tooltip-wrapper",SF={visibility:"hidden"};function wF(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return tt(nc,Qd(Qd(Qd(Qd({},"".concat(nc,"-right"),we(n)&&e&&we(e.x)&&n>=e.x),"".concat(nc,"-left"),we(n)&&e&&we(e.x)&&n<e.x),"".concat(nc,"-bottom"),we(r)&&e&&we(e.y)&&r>=e.y),"".concat(nc,"-top"),we(r)&&e&&we(e.y)&&r<e.y))}function SM(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,u=t.tooltipDimension,f=t.viewBox,c=t.viewBoxDimension;if(i&&we(i[r]))return i[r];var h=n[r]-u-a,p=n[r]+a;if(e[r])return s[r]?h:p;if(s[r]){var y=h,_=f[r];return y<_?Math.max(p,f[r]):Math.max(h,f[r])}var w=p+u,A=f[r]+c;return w>A?Math.max(h,f[r]):Math.max(p,f[r])}function TF(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function AF(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,f=t.viewBox,c,h,p;return s.height>0&&s.width>0&&n?(h=SM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:f,viewBoxDimension:f.width}),p=SM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:f,viewBoxDimension:f.height}),c=TF({translateX:h,translateY:p,useTranslate3d:u})):c=SF,{cssProperties:c,cssClasses:wF({translateX:h,translateY:p,coordinate:n})}}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function TM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){h_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZI(r.key),r)}}function kF(t,e,n){return e&&CF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OF(t,e,n){return e=Oh(e),MF(t,XI()?Reflect.construct(e,n||[],Oh(t).constructor):e.apply(t,n))}function MF(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DF(t)}function DF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XI=function(){return!!t})()}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oh(t)}function NF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},d_(t,e)}function h_(t,e,n){return e=ZI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZI(t){var e=PF(t,"string");return vl(e)=="symbol"?e:e+""}function PF(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AM=1,RF=function(t){function e(){var n;EF(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=OF(this,e,[].concat(a)),h_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),h_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var u,f,c,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&u!==void 0?u:0,y:(c=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&c!==void 0?c:0}})}}),n}return NF(e,t),kF(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>AM||Math.abs(r.height-this.state.lastBoundingBox.height)>AM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,u=a.animationDuration,f=a.animationEasing,c=a.children,h=a.coordinate,p=a.hasPayload,y=a.isAnimationActive,_=a.offset,w=a.position,A=a.reverseDirection,T=a.useTranslate3d,k=a.viewBox,M=a.wrapperStyle,E=AF({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:_,position:w,reverseDirection:A,tooltipBox:this.state.lastBoundingBox,useTranslate3d:T,viewBox:k}),D=E.cssClasses,C=E.cssProperties,O=TM(TM({transition:y&&i?"transform ".concat(u,"ms ").concat(f):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&p?"visible":"hidden",position:"absolute",top:0,left:0},M);return X.createElement("div",{tabIndex:-1,className:D,style:O,ref:function(I){r.wrapperNode=I}},c)}}])}(j.PureComponent),IF=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Yl={isSsr:IF()};function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function CM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){fw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QI(r.key),r)}}function $F(t,e,n){return e&&LF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BF(t,e,n){return e=Mh(e),qF(t,JI()?Reflect.construct(e,n||[],Mh(t).constructor):e.apply(t,n))}function qF(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UF(t)}function UF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JI=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(t)}function FF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},m_(t,e)}function fw(t,e,n){return e=QI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QI(t){var e=VF(t,"string");return yl(e)=="symbol"?e:e+""}function VF(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zF(t){return t.dataKey}function GF(t,e){return X.isValidElement(t)?X.cloneElement(t,e):typeof t=="function"?X.createElement(t,e):X.createElement(bF,e)}var Hr=function(t){function e(){return jF(this,e),BF(this,e,arguments)}return FF(e,t),$F(e,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,u=a.animationDuration,f=a.animationEasing,c=a.content,h=a.coordinate,p=a.filterNull,y=a.isAnimationActive,_=a.offset,w=a.payload,A=a.payloadUniqBy,T=a.position,k=a.reverseDirection,M=a.useTranslate3d,E=a.viewBox,D=a.wrapperStyle,C=w??[];p&&C.length&&(C=VI(w.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),A,zF));var O=C.length>0;return X.createElement(RF,{allowEscapeViewBox:s,animationDuration:u,animationEasing:f,isAnimationActive:y,active:i,coordinate:h,hasPayload:O,offset:_,position:T,reverseDirection:k,useTranslate3d:M,viewBox:E,wrapperStyle:D},GF(c,CM(CM({},this.props),{},{payload:C})))}}])}(j.PureComponent);fw(Hr,"displayName","Tooltip");fw(Hr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Yl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ib,kM;function HF(){if(kM)return Ib;kM=1;var t=va(),e=function(){return t.Date.now()};return Ib=e,Ib}var jb,OM;function KF(){if(OM)return jb;OM=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return jb=e,jb}var Lb,MM;function YF(){if(MM)return Lb;MM=1;var t=KF(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Lb=n,Lb}var $b,DM;function ej(){if(DM)return $b;DM=1;var t=YF(),e=Ki(),n=Gl(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function f(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=e(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=t(c);var p=i.test(c);return p||s.test(c)?u(c.slice(2),p?2:8):a.test(c)?r:+c}return $b=f,$b}var Bb,NM;function WF(){if(NM)return Bb;NM=1;var t=Ki(),e=HF(),n=ej(),r="Expected a function",a=Math.max,i=Math.min;function s(u,f,c){var h,p,y,_,w,A,T=0,k=!1,M=!1,E=!0;if(typeof u!="function")throw new TypeError(r);f=n(f)||0,t(c)&&(k=!!c.leading,M="maxWait"in c,y=M?a(n(c.maxWait)||0,f):y,E="trailing"in c?!!c.trailing:E);function D(Z){var Y=h,B=p;return h=p=void 0,T=Z,_=u.apply(B,Y),_}function C(Z){return T=Z,w=setTimeout(I,f),k?D(Z):_}function O(Z){var Y=Z-A,B=Z-T,L=f-Y;return M?i(L,y-B):L}function P(Z){var Y=Z-A,B=Z-T;return A===void 0||Y>=f||Y<0||M&&B>=y}function I(){var Z=e();if(P(Z))return U(Z);w=setTimeout(I,O(Z))}function U(Z){return w=void 0,E&&h?D(Z):(h=p=void 0,_)}function V(){w!==void 0&&clearTimeout(w),T=0,h=A=p=w=void 0}function $(){return w===void 0?_:U(e())}function H(){var Z=e(),Y=P(Z);if(h=arguments,p=this,A=Z,Y){if(w===void 0)return C(A);if(M)return clearTimeout(w),w=setTimeout(I,f),D(A)}return w===void 0&&(w=setTimeout(I,f)),_}return H.cancel=V,H.flush=$,H}return Bb=s,Bb}var qb,PM;function XF(){if(PM)return qb;PM=1;var t=WF(),e=Ki(),n="Expected a function";function r(a,i,s){var u=!0,f=!0;if(typeof a!="function")throw new TypeError(n);return e(s)&&(u="leading"in s?!!s.leading:u,f="trailing"in s?!!s.trailing:f),t(a,i,{leading:u,maxWait:i,trailing:f})}return qb=r,qb}var ZF=XF();const tj=vt(ZF);function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){JF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JF(t,e,n){return e=QF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QF(t){var e=e9(t,"string");return Pc(e)=="symbol"?e:e+""}function e9(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t9(t,e){return i9(t)||a9(t,e)||r9(t,e)||n9()}function n9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9(t,e){if(t){if(typeof t=="string")return IM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IM(t,e)}}function IM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],f=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(h){c=!0,a=h}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function i9(t){if(Array.isArray(t))return t}var nj=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=t.width,s=i===void 0?"100%":i,u=t.height,f=u===void 0?"100%":u,c=t.minWidth,h=c===void 0?0:c,p=t.minHeight,y=t.maxHeight,_=t.children,w=t.debounce,A=w===void 0?0:w,T=t.id,k=t.className,M=t.onResize,E=t.style,D=E===void 0?{}:E,C=j.useRef(null),O=j.useRef();O.current=M,j.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=j.useState({containerWidth:a.width,containerHeight:a.height}),I=t9(P,2),U=I[0],V=I[1],$=j.useCallback(function(Z,Y){V(function(B){var L=Math.round(Z),F=Math.round(Y);return B.containerWidth===L&&B.containerHeight===F?B:{containerWidth:L,containerHeight:F}})},[]);j.useEffect(function(){var Z=function(ie){var q,G=ie[0].contentRect,ee=G.width,se=G.height;$(ee,se),(q=O.current)===null||q===void 0||q.call(O,ee,se)};A>0&&(Z=tj(Z,A,{trailing:!0,leading:!1}));var Y=new ResizeObserver(Z),B=C.current.getBoundingClientRect(),L=B.width,F=B.height;return $(L,F),Y.observe(C.current),function(){Y.disconnect()}},[$,A]);var H=j.useMemo(function(){var Z=U.containerWidth,Y=U.containerHeight;if(Z<0||Y<0)return null;Wr(Ro(s)||Ro(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,f),Wr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Ro(s)?Z:s,L=Ro(f)?Y:f;n&&n>0&&(B?L=B/n:L&&(B=L*n),y&&L>y&&(L=y)),Wr(B>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,L,s,f,h,p,n);var F=!Array.isArray(_)&&Ga(_.type).endsWith("Chart");return X.Children.map(_,function(W){return X.isValidElement(W)?j.cloneElement(W,eh({width:B,height:L},F?{style:eh({height:"100%",width:"100%",maxHeight:L,maxWidth:B},W.props.style)}:{})):W})},[n,_,f,y,p,h,U,s]);return X.createElement("div",{id:T?"".concat(T):void 0,className:tt("recharts-responsive-container",k),style:eh(eh({},D),{},{width:s,height:f,minWidth:h,minHeight:p,maxHeight:y}),ref:C},H)}),qm=function(e){return null};qm.displayName="Cell";function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function p_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){o9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o9(t,e,n){return e=s9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t){var e=l9(t,"string");return Rc(e)=="symbol"?e:e+""}function l9(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ws={widthCache:{},cacheCount:0},u9=2e3,c9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LM="recharts_measurement_span";function f9(t){var e=p_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var _c=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Yl.isSsr)return{width:0,height:0};var r=f9(n),a=JSON.stringify({text:e,copyStyle:r});if(Ws.widthCache[a])return Ws.widthCache[a];try{var i=document.getElementById(LM);i||(i=document.createElement("span"),i.setAttribute("id",LM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=p_(p_({},c9),r);Object.assign(i.style,s),i.textContent="".concat(e);var u=i.getBoundingClientRect(),f={width:u.width,height:u.height};return Ws.widthCache[a]=f,++Ws.cacheCount>u9&&(Ws.cacheCount=0,Ws.widthCache={}),f}catch{return{width:0,height:0}}},d9=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function Dh(t,e){return g9(t)||p9(t,e)||m9(t,e)||h9()}function h9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m9(t,e){if(t){if(typeof t=="string")return $M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $M(t,e)}}function $M(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],f=!0,c=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(h){c=!0,a=h}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function g9(t){if(Array.isArray(t))return t}function v9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b9(r.key),r)}}function y9(t,e,n){return e&&BM(t.prototype,e),n&&BM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b9(t){var e=x9(t,"string");return Ic(e)=="symbol"?e:e+""}function x9(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,S9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},w9=Object.keys(rj),tl="NaN";function T9(t,e){return t*rj[e]}var th=function(){function t(e,n){v9(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!_9.test(n)&&(this.num=NaN,this.unit=""),w9.includes(n)&&(this.num=T9(e,n),this.unit="px")}return y9(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=S9.exec(n))!==null&&r!==void 0?r:[],i=Dh(a,3),s=i[1],u=i[2];return new t(parseFloat(s),u??"")}}])}();function aj(t){if(t.includes(tl))return tl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=qM.exec(e))!==null&&n!==void 0?n:[],a=Dh(r,4),i=a[1],s=a[2],u=a[3],f=th.parse(i??""),c=th.parse(u??""),h=s==="*"?f.multiply(c):f.divide(c);if(h.isNaN())return tl;e=e.replace(qM,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,y=(p=UM.exec(e))!==null&&p!==void 0?p:[],_=Dh(y,4),w=_[1],A=_[2],T=_[3],k=th.parse(w??""),M=th.parse(T??""),E=A==="+"?k.add(M):k.subtract(M);if(E.isNaN())return tl;e=e.replace(UM,E.toString())}return e}var FM=/\(([^()]*)\)/;function A9(t){for(var e=t;e.includes("(");){var n=FM.exec(e),r=Dh(n,2),a=r[1];e=e.replace(FM,aj(a))}return e}function E9(t){var e=t.replace(/\s+/g,"");return e=A9(e),e=aj(e),e}function C9(t){try{return E9(t)}catch{return tl}}function Ub(t){var e=C9(t.slice(5,-1));return e===tl?"":e}var k9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],O9=["dx","dy","angle","className","breakAll"];function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(this,arguments)}function VM(t,e){if(t==null)return{};var n=M9(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zM(t,e){return R9(t)||P9(t,e)||N9(t,e)||D9()}function D9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N9(t,e){if(t){if(typeof t=="string")return GM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GM(t,e)}}function GM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],f=!0,c=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(h){c=!0,a=h}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function R9(t){if(Array.isArray(t))return t}var ij=/[ \f\n\r\t\v\u2028\u2029]+/,oj=function(e){var n=e.children,r=e.breakAll,a=e.style;try{var i=[];st(n)||(r?i=n.toString().split(""):i=n.toString().split(ij));var s=i.map(function(f){return{word:f,width:_c(f,a).width}}),u=r?0:_c(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},I9=function(e,n,r,a,i){var s=e.maxLines,u=e.children,f=e.style,c=e.breakAll,h=we(s),p=u,y=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(L,F){var W=F.word,ie=F.width,q=L[L.length-1];if(q&&(a==null||i||q.width+ie+r<Number(a)))q.words.push(W),q.width+=ie+r;else{var G={words:[W],width:ie};L.push(G)}return L},[])},_=y(n),w=function(B){return B.reduce(function(L,F){return L.width>F.width?L:F})};if(!h)return _;for(var A="…",T=function(B){var L=p.slice(0,B),F=oj({breakAll:c,style:f,children:L+A}).wordsWithComputedWidth,W=y(F),ie=W.length>s||w(W).width>Number(a);return[ie,W]},k=0,M=p.length-1,E=0,D;k<=M&&E<=p.length-1;){var C=Math.floor((k+M)/2),O=C-1,P=T(O),I=zM(P,2),U=I[0],V=I[1],$=T(C),H=zM($,1),Z=H[0];if(!U&&!Z&&(k=C+1),U&&Z&&(M=C-1),!U&&Z){D=V;break}E++}return D||_},HM=function(e){var n=st(e)?[]:e.toString().split(ij);return[{words:n}]},j9=function(e){var n=e.width,r=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,u=e.maxLines;if((n||r)&&!Yl.isSsr){var f,c,h=oj({breakAll:s,children:a,style:i});if(h){var p=h.wordsWithComputedWidth,y=h.spaceWidth;f=p,c=y}else return HM(a);return I9({breakAll:s,children:a,maxLines:u,style:i},f,c,n,r)}return HM(a)},KM="#808080",Vo=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,s=e.lineHeight,u=s===void 0?"1em":s,f=e.capHeight,c=f===void 0?"0.71em":f,h=e.scaleToFit,p=h===void 0?!1:h,y=e.textAnchor,_=y===void 0?"start":y,w=e.verticalAnchor,A=w===void 0?"end":w,T=e.fill,k=T===void 0?KM:T,M=VM(e,k9),E=j.useMemo(function(){return j9({breakAll:M.breakAll,children:M.children,maxLines:M.maxLines,scaleToFit:p,style:M.style,width:M.width})},[M.breakAll,M.children,M.maxLines,p,M.style,M.width]),D=M.dx,C=M.dy,O=M.angle,P=M.className,I=M.breakAll,U=VM(M,O9);if(!ln(r)||!ln(i))return null;var V=r+(we(D)?D:0),$=i+(we(C)?C:0),H;switch(A){case"start":H=Ub("calc(".concat(c,")"));break;case"middle":H=Ub("calc(".concat((E.length-1)/2," * -").concat(u," + (").concat(c," / 2))"));break;default:H=Ub("calc(".concat(E.length-1," * -").concat(u,")"));break}var Z=[];if(p){var Y=E[0].width,B=M.width;Z.push("scale(".concat((we(B)?B/Y:1)/Y,")"))}return O&&Z.push("rotate(".concat(O,", ").concat(V,", ").concat($,")")),Z.length&&(U.transform=Z.join(" ")),X.createElement("text",g_({},Fe(U,!0),{x:V,y:$,className:tt("recharts-text",P),textAnchor:_,fill:k.includes("url")?KM:k}),E.map(function(L,F){var W=L.words.join(I?"":" ");return X.createElement("tspan",{x:V,dy:F===0?H:u,key:"".concat(W,"-").concat(F)},W)}))};function Fi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function L9(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dw(t){let e,n,r;t.length!==2?(e=Fi,n=(u,f)=>Fi(t(u),f),r=(u,f)=>t(u)-f):(e=t===Fi||t===L9?t:$9,n=t,r=t);function a(u,f,c=0,h=u.length){if(c<h){if(e(f,f)!==0)return h;do{const p=c+h>>>1;n(u[p],f)<0?c=p+1:h=p}while(c<h)}return c}function i(u,f,c=0,h=u.length){if(c<h){if(e(f,f)!==0)return h;do{const p=c+h>>>1;n(u[p],f)<=0?c=p+1:h=p}while(c<h)}return c}function s(u,f,c=0,h=u.length){const p=a(u,f,c,h-1);return p>c&&r(u[p-1],f)>-r(u[p],f)?p-1:p}return{left:a,center:s,right:i}}function $9(){return 0}function sj(t){return t===null?NaN:+t}function*B9(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const q9=dw(Fi),yf=q9.right;dw(sj).center;class YM extends Map{constructor(e,n=V9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(WM(this,e))}has(e){return super.has(WM(this,e))}set(e,n){return super.set(U9(this,e),n)}delete(e){return super.delete(F9(this,e))}}function WM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function U9({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function F9({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function V9(t){return t!==null&&typeof t=="object"?t.valueOf():t}function z9(t=Fi){if(t===Fi)return lj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function lj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const G9=Math.sqrt(50),H9=Math.sqrt(10),K9=Math.sqrt(2);function Nh(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=G9?10:i>=H9?5:i>=K9?2:1;let u,f,c;return a<0?(c=Math.pow(10,-a)/s,u=Math.round(t*c),f=Math.round(e*c),u/c<t&&++u,f/c>e&&--f,c=-c):(c=Math.pow(10,a)*s,u=Math.round(t/c),f=Math.round(e/c),u*c<t&&++u,f*c>e&&--f),f<u&&.5<=n&&n<2?Nh(t,e,n*2):[u,f,c]}function v_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,s]=r?Nh(e,t,n):Nh(t,e,n);if(!(i>=a))return[];const u=i-a+1,f=new Array(u);if(r)if(s<0)for(let c=0;c<u;++c)f[c]=(i-c)/-s;else for(let c=0;c<u;++c)f[c]=(i-c)*s;else if(s<0)for(let c=0;c<u;++c)f[c]=(a+c)/-s;else for(let c=0;c<u;++c)f[c]=(a+c)*s;return f}function y_(t,e,n){return e=+e,t=+t,n=+n,Nh(t,e,n)[2]}function b_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?y_(e,t,n):y_(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function XM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ZM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function uj(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?lj:z9(a);r>n;){if(r-n>600){const f=r-n+1,c=e-n+1,h=Math.log(f),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(f-p)/f)*(c-f/2<0?-1:1),_=Math.max(n,Math.floor(e-c*p/f+y)),w=Math.min(r,Math.floor(e+(f-c)*p/f+y));uj(t,e,_,w,a)}const i=t[e];let s=n,u=r;for(rc(t,n,e),a(t[r],i)>0&&rc(t,n,r);s<u;){for(rc(t,s,u),++s,--u;a(t[s],i)<0;)++s;for(;a(t[u],i)>0;)--u}a(t[n],i)===0?rc(t,n,u):(++u,rc(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function rc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Y9(t,e,n){if(t=Float64Array.from(B9(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ZM(t);if(e>=1)return XM(t);var r,a=(r-1)*e,i=Math.floor(a),s=XM(uj(t,i).subarray(0,i+1)),u=ZM(t.subarray(i+1));return s+(u-s)*(a-i)}}function W9(t,e,n=sj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),s=+n(t[i],i,t),u=+n(t[i+1],i+1,t);return s+(u-s)*(a-i)}}function X9(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function Ir(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ei(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const x_=Symbol("implicit");function hw(){var t=new YM,e=[],n=[],r=x_;function a(i){let s=t.get(i);if(s===void 0){if(r!==x_)return r;t.set(i,s=e.push(i)-1)}return n[s%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new YM;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return hw(e,n).unknown(r)},Ir.apply(a,arguments),a}function jc(){var t=hw().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,s,u=!1,f=0,c=0,h=.5;delete t.unknown;function p(){var y=e().length,_=a<r,w=_?a:r,A=_?r:a;i=(A-w)/Math.max(1,y-f+c*2),u&&(i=Math.floor(i)),w+=(A-w-i*(y-f))*h,s=i*(1-f),u&&(w=Math.round(w),s=Math.round(s));var T=X9(y).map(function(k){return w+i*k});return n(_?T.reverse():T)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,a]=y,r=+r,a=+a,p()):[r,a]},t.rangeRound=function(y){return[r,a]=y,r=+r,a=+a,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(y){return arguments.length?(u=!!y,p()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,c=+y),p()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),p()):f},t.paddingOuter=function(y){return arguments.length?(c=+y,p()):c},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return jc(e(),[r,a]).round(u).paddingInner(f).paddingOuter(c).align(h)},Ir.apply(p(),arguments)}function cj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return cj(e())},t}function Sc(){return cj(jc.apply(null,arguments).paddingInner(1))}function mw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bf(){}var Lc=.7,Ph=1/Lc,ul="\\s*([+-]?\\d+)\\s*",$c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z9=/^#([0-9a-f]{3,8})$/,J9=new RegExp(`^rgb\\(${ul},${ul},${ul}\\)$`),Q9=new RegExp(`^rgb\\(${fa},${fa},${fa}\\)$`),eV=new RegExp(`^rgba\\(${ul},${ul},${ul},${$c}\\)$`),tV=new RegExp(`^rgba\\(${fa},${fa},${fa},${$c}\\)$`),nV=new RegExp(`^hsl\\(${$c},${fa},${fa}\\)$`),rV=new RegExp(`^hsla\\(${$c},${fa},${fa},${$c}\\)$`),JM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mw(bf,Bc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:QM,formatHex:QM,formatHex8:aV,formatHsl:iV,formatRgb:eD,toString:eD});function QM(){return this.rgb().formatHex()}function aV(){return this.rgb().formatHex8()}function iV(){return dj(this).formatHsl()}function eD(){return this.rgb().formatRgb()}function Bc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Z9.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tD(e):n===3?new rr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?nh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?nh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=J9.exec(t))?new rr(e[1],e[2],e[3],1):(e=Q9.exec(t))?new rr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eV.exec(t))?nh(e[1],e[2],e[3],e[4]):(e=tV.exec(t))?nh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nV.exec(t))?aD(e[1],e[2]/100,e[3]/100,1):(e=rV.exec(t))?aD(e[1],e[2]/100,e[3]/100,e[4]):JM.hasOwnProperty(t)?tD(JM[t]):t==="transparent"?new rr(NaN,NaN,NaN,0):null}function tD(t){return new rr(t>>16&255,t>>8&255,t&255,1)}function nh(t,e,n,r){return r<=0&&(t=e=n=NaN),new rr(t,e,n,r)}function oV(t){return t instanceof bf||(t=Bc(t)),t?(t=t.rgb(),new rr(t.r,t.g,t.b,t.opacity)):new rr}function __(t,e,n,r){return arguments.length===1?oV(t):new rr(t,e,n,r??1)}function rr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}mw(rr,__,fj(bf,{brighter(t){return t=t==null?Ph:Math.pow(Ph,t),new rr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Lc:Math.pow(Lc,t),new rr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rr($o(this.r),$o(this.g),$o(this.b),Rh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nD,formatHex:nD,formatHex8:sV,formatRgb:rD,toString:rD}));function nD(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}`}function sV(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}${Io((isNaN(this.opacity)?1:this.opacity)*255)}`}function rD(){const t=Rh(this.opacity);return`${t===1?"rgb(":"rgba("}${$o(this.r)}, ${$o(this.g)}, ${$o(this.b)}${t===1?")":`, ${t})`}`}function Rh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $o(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Io(t){return t=$o(t),(t<16?"0":"")+t.toString(16)}function aD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Yr(t,e,n,r)}function dj(t){if(t instanceof Yr)return new Yr(t.h,t.s,t.l,t.opacity);if(t instanceof bf||(t=Bc(t)),!t)return new Yr;if(t instanceof Yr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,u=i-a,f=(i+a)/2;return u?(e===i?s=(n-r)/u+(n<r)*6:n===i?s=(r-e)/u+2:s=(e-n)/u+4,u/=f<.5?i+a:2-i-a,s*=60):u=f>0&&f<1?0:s,new Yr(s,u,f,t.opacity)}function lV(t,e,n,r){return arguments.length===1?dj(t):new Yr(t,e,n,r??1)}function Yr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}mw(Yr,lV,fj(bf,{brighter(t){return t=t==null?Ph:Math.pow(Ph,t),new Yr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Lc:Math.pow(Lc,t),new Yr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new rr(Fb(t>=240?t-240:t+120,a,r),Fb(t,a,r),Fb(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Yr(iD(this.h),rh(this.s),rh(this.l),Rh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Rh(this.opacity);return`${t===1?"hsl(":"hsla("}${iD(this.h)}, ${rh(this.s)*100}%, ${rh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function iD(t){return t=(t||0)%360,t<0?t+360:t}function rh(t){return Math.max(0,Math.min(1,t||0))}function Fb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const pw=t=>()=>t;function uV(t,e){return function(n){return t+n*e}}function cV(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fV(t){return(t=+t)==1?hj:function(e,n){return n-e?cV(e,n,t):pw(isNaN(e)?n:e)}}function hj(t,e){var n=e-t;return n?uV(t,n):pw(isNaN(t)?e:t)}const oD=function t(e){var n=fV(e);function r(a,i){var s=n((a=__(a)).r,(i=__(i)).r),u=n(a.g,i.g),f=n(a.b,i.b),c=hj(a.opacity,i.opacity);return function(h){return a.r=s(h),a.g=u(h),a.b=f(h),a.opacity=c(h),a+""}}return r.gamma=t,r}(1);function dV(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function hV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mV(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)a[s]=Wl(t[s],e[s]);for(;s<n;++s)i[s]=e[s];return function(u){for(s=0;s<r;++s)i[s]=a[s](u);return i}}function pV(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ih(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gV(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Wl(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var S_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vb=new RegExp(S_.source,"g");function vV(t){return function(){return t}}function yV(t){return function(e){return t(e)+""}}function bV(t,e){var n=S_.lastIndex=Vb.lastIndex=0,r,a,i,s=-1,u=[],f=[];for(t=t+"",e=e+"";(r=S_.exec(t))&&(a=Vb.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),u[s]?u[s]+=i:u[++s]=i),(r=r[0])===(a=a[0])?u[s]?u[s]+=a:u[++s]=a:(u[++s]=null,f.push({i:s,x:Ih(r,a)})),n=Vb.lastIndex;return n<e.length&&(i=e.slice(n),u[s]?u[s]+=i:u[++s]=i),u.length<2?f[0]?yV(f[0].x):vV(e):(e=f.length,function(c){for(var h=0,p;h<e;++h)u[(p=f[h]).i]=p.x(c);return u.join("")})}function Wl(t,e){var n=typeof e,r;return e==null||n==="boolean"?pw(e):(n==="number"?Ih:n==="string"?(r=Bc(e))?(e=r,oD):bV:e instanceof Bc?oD:e instanceof Date?pV:hV(e)?dV:Array.isArray(e)?mV:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gV:Ih)(t,e)}function gw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function xV(t,e){e===void 0&&(e=t,t=Wl);for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return i[u](s-u)}}function _V(t){return function(){return t}}function jh(t){return+t}var sD=[0,1];function zn(t){return t}function w_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_V(isNaN(e)?NaN:.5)}function SV(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function wV(t,e,n){var r=t[0],a=t[1],i=e[0],s=e[1];return a<r?(r=w_(a,r),i=n(s,i)):(r=w_(r,a),i=n(i,s)),function(u){return i(r(u))}}function TV(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=w_(t[s],t[s+1]),i[s]=n(e[s],e[s+1]);return function(u){var f=yf(t,u,1,r)-1;return i[f](a[f](u))}}function xf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Um(){var t=sD,e=sD,n=Wl,r,a,i,s=zn,u,f,c;function h(){var y=Math.min(t.length,e.length);return s!==zn&&(s=SV(t[0],t[y-1])),u=y>2?TV:wV,f=c=null,p}function p(y){return y==null||isNaN(y=+y)?i:(f||(f=u(t.map(r),e,n)))(r(s(y)))}return p.invert=function(y){return s(a((c||(c=u(e,t.map(r),Ih)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,jh),h()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=gw,h()},p.clamp=function(y){return arguments.length?(s=y?!0:zn,h()):s!==zn},p.interpolate=function(y){return arguments.length?(n=y,h()):n},p.unknown=function(y){return arguments.length?(i=y,p):i},function(y,_){return r=y,a=_,h()}}function vw(){return Um()(zn,zn)}function AV(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Lh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function bl(t){return t=Lh(Math.abs(t)),t?t[1]:NaN}function EV(t,e){return function(n,r){for(var a=n.length,i=[],s=0,u=t[0],f=0;a>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),i.push(n.substring(a-=u,a+u)),!((f+=u+1)>r));)u=t[s=(s+1)%t.length];return i.reverse().join(e)}}function CV(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var kV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qc(t){if(!(e=kV.exec(t)))throw new Error("invalid format: "+t);var e;return new yw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qc.prototype=yw.prototype;function yw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OV(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var mj;function MV(t,e){var n=Lh(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(mj=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Lh(t,Math.max(0,e+i-1))[0]}function lD(t,e){var n=Lh(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const uD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:AV,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lD(t*100,e),r:lD,s:MV,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function cD(t){return t}var fD=Array.prototype.map,dD=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function DV(t){var e=t.grouping===void 0||t.thousands===void 0?cD:EV(fD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?cD:CV(fD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function c(p){p=qc(p);var y=p.fill,_=p.align,w=p.sign,A=p.symbol,T=p.zero,k=p.width,M=p.comma,E=p.precision,D=p.trim,C=p.type;C==="n"?(M=!0,C="g"):uD[C]||(E===void 0&&(E=12),D=!0,C="g"),(T||y==="0"&&_==="=")&&(T=!0,y="0",_="=");var O=A==="$"?n:A==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=A==="$"?r:/[%p]/.test(C)?s:"",I=uD[C],U=/[defgprs%]/.test(C);E=E===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function V($){var H=O,Z=P,Y,B,L;if(C==="c")Z=I($)+Z,$="";else{$=+$;var F=$<0||1/$<0;if($=isNaN($)?f:I(Math.abs($),E),D&&($=OV($)),F&&+$==0&&w!=="+"&&(F=!1),H=(F?w==="("?w:u:w==="-"||w==="("?"":w)+H,Z=(C==="s"?dD[8+mj/3]:"")+Z+(F&&w==="("?")":""),U){for(Y=-1,B=$.length;++Y<B;)if(L=$.charCodeAt(Y),48>L||L>57){Z=(L===46?a+$.slice(Y+1):$.slice(Y))+Z,$=$.slice(0,Y);break}}}M&&!T&&($=e($,1/0));var W=H.length+$.length+Z.length,ie=W<k?new Array(k-W+1).join(y):"";switch(M&&T&&($=e(ie+$,ie.length?k-Z.length:1/0),ie=""),_){case"<":$=H+$+Z+ie;break;case"=":$=H+ie+$+Z;break;case"^":$=ie.slice(0,W=ie.length>>1)+H+$+Z+ie.slice(W);break;default:$=ie+H+$+Z;break}return i($)}return V.toString=function(){return p+""},V}function h(p,y){var _=c((p=qc(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(bl(y)/3)))*3,A=Math.pow(10,-w),T=dD[8+w/3];return function(k){return _(A*k)+T}}return{format:c,formatPrefix:h}}var ah,bw,pj;NV({thousands:",",grouping:[3],currency:["$",""]});function NV(t){return ah=DV(t),bw=ah.format,pj=ah.formatPrefix,ah}function PV(t){return Math.max(0,-bl(Math.abs(t)))}function RV(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bl(e)/3)))*3-bl(Math.abs(t)))}function IV(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bl(e)-bl(t))+1}function gj(t,e,n,r){var a=b_(t,e,n),i;switch(r=qc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=RV(a,s))&&(r.precision=i),pj(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=IV(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=PV(a))&&(r.precision=i-(r.type==="%")*2);break}}return bw(r)}function Yi(t){var e=t.domain;return t.ticks=function(n){var r=e();return v_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return gj(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,s=r[a],u=r[i],f,c,h=10;for(u<s&&(c=s,s=u,u=c,c=a,a=i,i=c);h-- >0;){if(c=y_(s,u,n),c===f)return r[a]=s,r[i]=u,e(r);if(c>0)s=Math.floor(s/c)*c,u=Math.ceil(u/c)*c;else if(c<0)s=Math.ceil(s*c)/c,u=Math.floor(u*c)/c;else break;f=c}return t},t}function $h(){var t=vw();return t.copy=function(){return xf(t,$h())},Ir.apply(t,arguments),Yi(t)}function vj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,jh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return vj(t).unknown(e)},t=arguments.length?Array.from(t,jh):[0,1],Yi(n)}function yj(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],s;return i<a&&(s=n,n=r,r=s,s=a,a=i,i=s),t[n]=e.floor(a),t[r]=e.ceil(i),t}function hD(t){return Math.log(t)}function mD(t){return Math.exp(t)}function jV(t){return-Math.log(-t)}function LV(t){return-Math.exp(-t)}function $V(t){return isFinite(t)?+("1e"+t):t<0?0:t}function BV(t){return t===10?$V:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qV(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function pD(t){return(e,n)=>-t(-e,n)}function xw(t){const e=t(hD,mD),n=e.domain;let r=10,a,i;function s(){return a=qV(r),i=BV(r),n()[0]<0?(a=pD(a),i=pD(i),t(jV,LV)):t(hD,mD),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const f=n();let c=f[0],h=f[f.length-1];const p=h<c;p&&([c,h]=[h,c]);let y=a(c),_=a(h),w,A;const T=u==null?10:+u;let k=[];if(!(r%1)&&_-y<T){if(y=Math.floor(y),_=Math.ceil(_),c>0){for(;y<=_;++y)for(w=1;w<r;++w)if(A=y<0?w/i(-y):w*i(y),!(A<c)){if(A>h)break;k.push(A)}}else for(;y<=_;++y)for(w=r-1;w>=1;--w)if(A=y>0?w/i(-y):w*i(y),!(A<c)){if(A>h)break;k.push(A)}k.length*2<T&&(k=v_(c,h,T))}else k=v_(y,_,Math.min(_-y,T)).map(i);return p?k.reverse():k},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=qc(f)).precision==null&&(f.trim=!0),f=bw(f)),u===1/0)return f;const c=Math.max(1,r*u/e.ticks().length);return h=>{let p=h/i(Math.round(a(h)));return p*r<r-.5&&(p*=r),p<=c?f(h):""}},e.nice=()=>n(yj(n(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),e}function bj(){const t=xw(Um()).domain([1,10]);return t.copy=()=>xf(t,bj()).base(t.base()),Ir.apply(t,arguments),t}function gD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _w(t){var e=1,n=t(gD(e),vD(e));return n.constant=function(r){return arguments.length?t(gD(e=+r),vD(e)):e},Yi(n)}function xj(){var t=_w(Um());return t.copy=function(){return xf(t,xj()).constant(t.constant())},Ir.apply(t,arguments)}function yD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function UV(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function FV(t){return t<0?-t*t:t*t}function Sw(t){var e=t(zn,zn),n=1;function r(){return n===1?t(zn,zn):n===.5?t(UV,FV):t(yD(n),yD(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Yi(e)}function ww(){var t=Sw(Um());return t.copy=function(){return xf(t,ww()).exponent(t.exponent())},Ir.apply(t,arguments),t}function VV(){return ww.apply(null,arguments).exponent(.5)}function bD(t){return Math.sign(t)*t*t}function zV(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _j(){var t=vw(),e=[0,1],n=!1,r;function a(i){var s=zV(t(i));return isNaN(s)?r:n?Math.round(s):s}return a.invert=function(i){return t.invert(bD(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,jh)).map(bD)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return _j(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ir.apply(a,arguments),Yi(a)}function Sj(){var t=[],e=[],n=[],r;function a(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=W9(t,s/u);return i}function i(s){return s==null||isNaN(s=+s)?r:e[yf(n,s)]}return i.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Fi),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return Sj().domain(t).range(e).unknown(r)},Ir.apply(i,arguments)}function wj(){var t=0,e=1,n=1,r=[.5],a=[0,1],i;function s(f){return f!=null&&f<=f?a[yf(r,f,0,n)]:i}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return s}return s.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},s.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,u()):a.slice()},s.invertExtent=function(f){var c=a.indexOf(f);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(f){return arguments.length&&(i=f),s},s.thresholds=function(){return r.slice()},s.copy=function(){return wj().domain([t,e]).range(a).unknown(i)},Ir.apply(Yi(s),arguments)}function Tj(){var t=[.5],e=[0,1],n,r=1;function a(i){return i!=null&&i<=i?e[yf(t,i,0,r)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Tj().domain(t).range(e).unknown(n)},Ir.apply(a,arguments)}const zb=new Date,Gb=new Date;function un(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),u=a.ceil(i);return i-s<u-i?s:u},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,u)=>{const f=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<s)||!(u>0))return f;let c;do f.push(c=new Date(+i)),e(i,u),t(i);while(c<i&&i<s);return f},a.filter=i=>un(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!i(s););else for(;--u>=0;)for(;e(s,1),!i(s););}),n&&(a.count=(i,s)=>(zb.setTime(+i),Gb.setTime(+s),t(zb),t(Gb),Math.floor(n(zb,Gb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?s=>r(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Bh=un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Bh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?un(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Bh);Bh.range;const Fa=1e3,Nr=Fa*60,Va=Nr*60,Ka=Va*24,Tw=Ka*7,xD=Ka*30,Hb=Ka*365,jo=un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Fa)},(t,e)=>(e-t)/Fa,t=>t.getUTCSeconds());jo.range;const Aw=un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fa)},(t,e)=>{t.setTime(+t+e*Nr)},(t,e)=>(e-t)/Nr,t=>t.getMinutes());Aw.range;const Ew=un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Nr)},(t,e)=>(e-t)/Nr,t=>t.getUTCMinutes());Ew.range;const Cw=un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fa-t.getMinutes()*Nr)},(t,e)=>{t.setTime(+t+e*Va)},(t,e)=>(e-t)/Va,t=>t.getHours());Cw.range;const kw=un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Va)},(t,e)=>(e-t)/Va,t=>t.getUTCHours());kw.range;const _f=un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Nr)/Ka,t=>t.getDate()-1);_f.range;const Fm=un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ka,t=>t.getUTCDate()-1);Fm.range;const Aj=un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ka,t=>Math.floor(t/Ka));Aj.range;function Jo(t){return un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Nr)/Tw)}const Vm=Jo(0),qh=Jo(1),GV=Jo(2),HV=Jo(3),xl=Jo(4),KV=Jo(5),YV=Jo(6);Vm.range;qh.range;GV.range;HV.range;xl.range;KV.range;YV.range;function Qo(t){return un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Tw)}const zm=Qo(0),Uh=Qo(1),WV=Qo(2),XV=Qo(3),_l=Qo(4),ZV=Qo(5),JV=Qo(6);zm.range;Uh.range;WV.range;XV.range;_l.range;ZV.range;JV.range;const Ow=un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ow.range;const Mw=un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Mw.range;const Ya=un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ya.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ya.range;const Wa=un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Wa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Wa.range;function Ej(t,e,n,r,a,i){const s=[[jo,1,Fa],[jo,5,5*Fa],[jo,15,15*Fa],[jo,30,30*Fa],[i,1,Nr],[i,5,5*Nr],[i,15,15*Nr],[i,30,30*Nr],[a,1,Va],[a,3,3*Va],[a,6,6*Va],[a,12,12*Va],[r,1,Ka],[r,2,2*Ka],[n,1,Tw],[e,1,xD],[e,3,3*xD],[t,1,Hb]];function u(c,h,p){const y=h<c;y&&([c,h]=[h,c]);const _=p&&typeof p.range=="function"?p:f(c,h,p),w=_?_.range(c,+h+1):[];return y?w.reverse():w}function f(c,h,p){const y=Math.abs(h-c)/p,_=dw(([,,T])=>T).right(s,y);if(_===s.length)return t.every(b_(c/Hb,h/Hb,p));if(_===0)return Bh.every(Math.max(b_(c,h,p),1));const[w,A]=s[y/s[_-1][2]<s[_][2]/y?_-1:_];return w.every(A)}return[u,f]}const[QV,e7]=Ej(Wa,Mw,zm,Aj,kw,Ew),[t7,n7]=Ej(Ya,Ow,Vm,_f,Cw,Aw);function Kb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Yb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ac(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function r7(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,s=t.shortDays,u=t.months,f=t.shortMonths,c=ic(a),h=oc(a),p=ic(i),y=oc(i),_=ic(s),w=oc(s),A=ic(u),T=oc(u),k=ic(f),M=oc(f),E={a:F,A:W,b:ie,B:q,c:null,d:ED,e:ED,f:E7,g:j7,G:$7,H:w7,I:T7,j:A7,L:Cj,m:C7,M:k7,p:G,q:ee,Q:OD,s:MD,S:O7,u:M7,U:D7,V:N7,w:P7,W:R7,x:null,X:null,y:I7,Y:L7,Z:B7,"%":kD},D={a:se,A:be,b:me,B:Ae,c:null,d:CD,e:CD,f:V7,g:Q7,G:tz,H:q7,I:U7,j:F7,L:Oj,m:z7,M:G7,p:mt,q:Ke,Q:OD,s:MD,S:H7,u:K7,U:Y7,V:W7,w:X7,W:Z7,x:null,X:null,y:J7,Y:ez,Z:nz,"%":kD},C={a:V,A:$,b:H,B:Z,c:Y,d:TD,e:TD,f:b7,g:wD,G:SD,H:AD,I:AD,j:p7,L:y7,m:m7,M:g7,p:U,q:h7,Q:_7,s:S7,S:v7,u:l7,U:u7,V:c7,w:s7,W:f7,x:B,X:L,y:wD,Y:SD,Z:d7,"%":x7};E.x=O(n,E),E.X=O(r,E),E.c=O(e,E),D.x=O(n,D),D.X=O(r,D),D.c=O(e,D);function O(Se,Re){return function(Be){var ge=[],yt=-1,Ye=0,nt=Se.length,At,Et,cn;for(Be instanceof Date||(Be=new Date(+Be));++yt<nt;)Se.charCodeAt(yt)===37&&(ge.push(Se.slice(Ye,yt)),(Et=_D[At=Se.charAt(++yt)])!=null?At=Se.charAt(++yt):Et=At==="e"?" ":"0",(cn=Re[At])&&(At=cn(Be,Et)),ge.push(At),Ye=yt+1);return ge.push(Se.slice(Ye,yt)),ge.join("")}}function P(Se,Re){return function(Be){var ge=ac(1900,void 0,1),yt=I(ge,Se,Be+="",0),Ye,nt;if(yt!=Be.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Re&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Ye=Yb(ac(ge.y,0,1)),nt=Ye.getUTCDay(),Ye=nt>4||nt===0?Uh.ceil(Ye):Uh(Ye),Ye=Fm.offset(Ye,(ge.V-1)*7),ge.y=Ye.getUTCFullYear(),ge.m=Ye.getUTCMonth(),ge.d=Ye.getUTCDate()+(ge.w+6)%7):(Ye=Kb(ac(ge.y,0,1)),nt=Ye.getDay(),Ye=nt>4||nt===0?qh.ceil(Ye):qh(Ye),Ye=_f.offset(Ye,(ge.V-1)*7),ge.y=Ye.getFullYear(),ge.m=Ye.getMonth(),ge.d=Ye.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),nt="Z"in ge?Yb(ac(ge.y,0,1)).getUTCDay():Kb(ac(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(nt+5)%7:ge.w+ge.U*7-(nt+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,Yb(ge)):Kb(ge)}}function I(Se,Re,Be,ge){for(var yt=0,Ye=Re.length,nt=Be.length,At,Et;yt<Ye;){if(ge>=nt)return-1;if(At=Re.charCodeAt(yt++),At===37){if(At=Re.charAt(yt++),Et=C[At in _D?Re.charAt(yt++):At],!Et||(ge=Et(Se,Be,ge))<0)return-1}else if(At!=Be.charCodeAt(ge++))return-1}return ge}function U(Se,Re,Be){var ge=c.exec(Re.slice(Be));return ge?(Se.p=h.get(ge[0].toLowerCase()),Be+ge[0].length):-1}function V(Se,Re,Be){var ge=_.exec(Re.slice(Be));return ge?(Se.w=w.get(ge[0].toLowerCase()),Be+ge[0].length):-1}function $(Se,Re,Be){var ge=p.exec(Re.slice(Be));return ge?(Se.w=y.get(ge[0].toLowerCase()),Be+ge[0].length):-1}function H(Se,Re,Be){var ge=k.exec(Re.slice(Be));return ge?(Se.m=M.get(ge[0].toLowerCase()),Be+ge[0].length):-1}function Z(Se,Re,Be){var ge=A.exec(Re.slice(Be));return ge?(Se.m=T.get(ge[0].toLowerCase()),Be+ge[0].length):-1}function Y(Se,Re,Be){return I(Se,e,Re,Be)}function B(Se,Re,Be){return I(Se,n,Re,Be)}function L(Se,Re,Be){return I(Se,r,Re,Be)}function F(Se){return s[Se.getDay()]}function W(Se){return i[Se.getDay()]}function ie(Se){return f[Se.getMonth()]}function q(Se){return u[Se.getMonth()]}function G(Se){return a[+(Se.getHours()>=12)]}function ee(Se){return 1+~~(Se.getMonth()/3)}function se(Se){return s[Se.getUTCDay()]}function be(Se){return i[Se.getUTCDay()]}function me(Se){return f[Se.getUTCMonth()]}function Ae(Se){return u[Se.getUTCMonth()]}function mt(Se){return a[+(Se.getUTCHours()>=12)]}function Ke(Se){return 1+~~(Se.getUTCMonth()/3)}return{format:function(Se){var Re=O(Se+="",E);return Re.toString=function(){return Se},Re},parse:function(Se){var Re=P(Se+="",!1);return Re.toString=function(){return Se},Re},utcFormat:function(Se){var Re=O(Se+="",D);return Re.toString=function(){return Se},Re},utcParse:function(Se){var Re=P(Se+="",!0);return Re.toString=function(){return Se},Re}}}var _D={"-":"",_:" ",0:"0"},xn=/^\s*\d+/,a7=/^%/,i7=/[\\^$*+?|[\]().{}]/g;function ht(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function o7(t){return t.replace(i7,"\\$&")}function ic(t){return new RegExp("^(?:"+t.map(o7).join("|")+")","i")}function oc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function s7(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function l7(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function u7(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function c7(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function f7(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function SD(t,e,n){var r=xn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wD(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function d7(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function h7(t,e,n){var r=xn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function m7(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function TD(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function p7(t,e,n){var r=xn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function AD(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function g7(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function v7(t,e,n){var r=xn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function y7(t,e,n){var r=xn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function b7(t,e,n){var r=xn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function x7(t,e,n){var r=a7.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _7(t,e,n){var r=xn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function S7(t,e,n){var r=xn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ED(t,e){return ht(t.getDate(),e,2)}function w7(t,e){return ht(t.getHours(),e,2)}function T7(t,e){return ht(t.getHours()%12||12,e,2)}function A7(t,e){return ht(1+_f.count(Ya(t),t),e,3)}function Cj(t,e){return ht(t.getMilliseconds(),e,3)}function E7(t,e){return Cj(t,e)+"000"}function C7(t,e){return ht(t.getMonth()+1,e,2)}function k7(t,e){return ht(t.getMinutes(),e,2)}function O7(t,e){return ht(t.getSeconds(),e,2)}function M7(t){var e=t.getDay();return e===0?7:e}function D7(t,e){return ht(Vm.count(Ya(t)-1,t),e,2)}function kj(t){var e=t.getDay();return e>=4||e===0?xl(t):xl.ceil(t)}function N7(t,e){return t=kj(t),ht(xl.count(Ya(t),t)+(Ya(t).getDay()===4),e,2)}function P7(t){return t.getDay()}function R7(t,e){return ht(qh.count(Ya(t)-1,t),e,2)}function I7(t,e){return ht(t.getFullYear()%100,e,2)}function j7(t,e){return t=kj(t),ht(t.getFullYear()%100,e,2)}function L7(t,e){return ht(t.getFullYear()%1e4,e,4)}function $7(t,e){var n=t.getDay();return t=n>=4||n===0?xl(t):xl.ceil(t),ht(t.getFullYear()%1e4,e,4)}function B7(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ht(e/60|0,"0",2)+ht(e%60,"0",2)}function CD(t,e){return ht(t.getUTCDate(),e,2)}function q7(t,e){return ht(t.getUTCHours(),e,2)}function U7(t,e){return ht(t.getUTCHours()%12||12,e,2)}function F7(t,e){return ht(1+Fm.count(Wa(t),t),e,3)}function Oj(t,e){return ht(t.getUTCMilliseconds(),e,3)}function V7(t,e){return Oj(t,e)+"000"}function z7(t,e){return ht(t.getUTCMonth()+1,e,2)}function G7(t,e){return ht(t.getUTCMinutes(),e,2)}function H7(t,e){return ht(t.getUTCSeconds(),e,2)}function K7(t){var e=t.getUTCDay();return e===0?7:e}function Y7(t,e){return ht(zm.count(Wa(t)-1,t),e,2)}function Mj(t){var e=t.getUTCDay();return e>=4||e===0?_l(t):_l.ceil(t)}function W7(t,e){return t=Mj(t),ht(_l.count(Wa(t),t)+(Wa(t).getUTCDay()===4),e,2)}function X7(t){return t.getUTCDay()}function Z7(t,e){return ht(Uh.count(Wa(t)-1,t),e,2)}function J7(t,e){return ht(t.getUTCFullYear()%100,e,2)}function Q7(t,e){return t=Mj(t),ht(t.getUTCFullYear()%100,e,2)}function ez(t,e){return ht(t.getUTCFullYear()%1e4,e,4)}function tz(t,e){var n=t.getUTCDay();return t=n>=4||n===0?_l(t):_l.ceil(t),ht(t.getUTCFullYear()%1e4,e,4)}function nz(){return"+0000"}function kD(){return"%"}function OD(t){return+t}function MD(t){return Math.floor(+t/1e3)}var Xs,Dj,Nj;rz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rz(t){return Xs=r7(t),Dj=Xs.format,Xs.parse,Nj=Xs.utcFormat,Xs.utcParse,Xs}function az(t){return new Date(t)}function iz(t){return t instanceof Date?+t:+new Date(+t)}function Dw(t,e,n,r,a,i,s,u,f,c){var h=vw(),p=h.invert,y=h.domain,_=c(".%L"),w=c(":%S"),A=c("%I:%M"),T=c("%I %p"),k=c("%a %d"),M=c("%b %d"),E=c("%B"),D=c("%Y");function C(O){return(f(O)<O?_:u(O)<O?w:s(O)<O?A:i(O)<O?T:r(O)<O?a(O)<O?k:M:n(O)<O?E:D)(O)}return h.invert=function(O){return new Date(p(O))},h.domain=function(O){return arguments.length?y(Array.from(O,iz)):y().map(az)},h.ticks=function(O){var P=y();return t(P[0],P[P.length-1],O??10)},h.tickFormat=function(O,P){return P==null?C:c(P)},h.nice=function(O){var P=y();return(!O||typeof O.range!="function")&&(O=e(P[0],P[P.length-1],O??10)),O?y(yj(P,O)):h},h.copy=function(){return xf(h,Dw(t,e,n,r,a,i,s,u,f,c))},h}function oz(){return Ir.apply(Dw(t7,n7,Ya,Ow,Vm,_f,Cw,Aw,jo,Dj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sz(){return Ir.apply(Dw(QV,e7,Wa,Mw,zm,Fm,kw,Ew,jo,Nj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gm(){var t=0,e=1,n,r,a,i,s=zn,u=!1,f;function c(p){return p==null||isNaN(p=+p)?f:s(a===0?.5:(p=(i(p)-n)*a,u?Math.max(0,Math.min(1,p)):p))}c.domain=function(p){return arguments.length?([t,e]=p,n=i(t=+t),r=i(e=+e),a=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(p){return arguments.length?(u=!!p,c):u},c.interpolator=function(p){return arguments.length?(s=p,c):s};function h(p){return function(y){var _,w;return arguments.length?([_,w]=y,s=p(_,w),c):[s(0),s(1)]}}return c.range=h(Wl),c.rangeRound=h(gw),c.unknown=function(p){return arguments.length?(f=p,c):f},function(p){return i=p,n=p(t),r=p(e),a=n===r?0:1/(r-n),c}}function Wi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Pj(){var t=Yi(Gm()(zn));return t.copy=function(){return Wi(t,Pj())},ei.apply(t,arguments)}function Rj(){var t=xw(Gm()).domain([1,10]);return t.copy=function(){return Wi(t,Rj()).base(t.base())},ei.apply(t,arguments)}function Ij(){var t=_w(Gm());return t.copy=function(){return Wi(t,Ij()).constant(t.constant())},ei.apply(t,arguments)}function Nw(){var t=Sw(Gm());return t.copy=function(){return Wi(t,Nw()).exponent(t.exponent())},ei.apply(t,arguments)}function lz(){return Nw.apply(null,arguments).exponent(.5)}function jj(){var t=[],e=zn;function n(r){if(r!=null&&!isNaN(r=+r))return e((yf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Fi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>Y9(t,i/r))},n.copy=function(){return jj(e).domain(t)},ei.apply(n,arguments)}function Hm(){var t=0,e=.5,n=1,r=1,a,i,s,u,f,c=zn,h,p=!1,y;function _(A){return isNaN(A=+A)?y:(A=.5+((A=+h(A))-i)*(r*A<r*i?u:f),c(p?Math.max(0,Math.min(1,A)):A))}_.domain=function(A){return arguments.length?([t,e,n]=A,a=h(t=+t),i=h(e=+e),s=h(n=+n),u=a===i?0:.5/(i-a),f=i===s?0:.5/(s-i),r=i<a?-1:1,_):[t,e,n]},_.clamp=function(A){return arguments.length?(p=!!A,_):p},_.interpolator=function(A){return arguments.length?(c=A,_):c};function w(A){return function(T){var k,M,E;return arguments.length?([k,M,E]=T,c=xV(A,[k,M,E]),_):[c(0),c(.5),c(1)]}}return _.range=w(Wl),_.rangeRound=w(gw),_.unknown=function(A){return arguments.length?(y=A,_):y},function(A){return h=A,a=A(t),i=A(e),s=A(n),u=a===i?0:.5/(i-a),f=i===s?0:.5/(s-i),r=i<a?-1:1,_}}function Lj(){var t=Yi(Hm()(zn));return t.copy=function(){return Wi(t,Lj())},ei.apply(t,arguments)}function $j(){var t=xw(Hm()).domain([.1,1,10]);return t.copy=function(){return Wi(t,$j()).base(t.base())},ei.apply(t,arguments)}function Bj(){var t=_w(Hm());return t.copy=function(){return Wi(t,Bj()).constant(t.constant())},ei.apply(t,arguments)}function Pw(){var t=Sw(Hm());return t.copy=function(){return Wi(t,Pw()).exponent(t.exponent())},ei.apply(t,arguments)}function uz(){return Pw.apply(null,arguments).exponent(.5)}const DD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jc,scaleDiverging:Lj,scaleDivergingLog:$j,scaleDivergingPow:Pw,scaleDivergingSqrt:uz,scaleDivergingSymlog:Bj,scaleIdentity:vj,scaleImplicit:x_,scaleLinear:$h,scaleLog:bj,scaleOrdinal:hw,scalePoint:Sc,scalePow:ww,scaleQuantile:Sj,scaleQuantize:wj,scaleRadial:_j,scaleSequential:Pj,scaleSequentialLog:Rj,scaleSequentialPow:Nw,scaleSequentialQuantile:jj,scaleSequentialSqrt:lz,scaleSequentialSymlog:Ij,scaleSqrt:VV,scaleSymlog:xj,scaleThreshold:Tj,scaleTime:oz,scaleUtc:sz,tickFormat:gj},Symbol.toStringTag,{value:"Module"}));var Wb,ND;function Km(){if(ND)return Wb;ND=1;var t=Gl();function e(n,r,a){for(var i=-1,s=n.length;++i<s;){var u=n[i],f=r(u);if(f!=null&&(c===void 0?f===f&&!t(f):a(f,c)))var c=f,h=u}return h}return Wb=e,Wb}var Xb,PD;function qj(){if(PD)return Xb;PD=1;function t(e,n){return e>n}return Xb=t,Xb}var Zb,RD;function cz(){if(RD)return Zb;RD=1;var t=Km(),e=qj(),n=Kl();function r(a){return a&&a.length?t(a,n,e):void 0}return Zb=r,Zb}var fz=cz();const Ym=vt(fz);var Jb,ID;function Uj(){if(ID)return Jb;ID=1;function t(e,n){return e<n}return Jb=t,Jb}var Qb,jD;function dz(){if(jD)return Qb;jD=1;var t=Km(),e=Uj(),n=Kl();function r(a){return a&&a.length?t(a,n,e):void 0}return Qb=r,Qb}var hz=dz();const Wm=vt(hz);var ex,LD;function mz(){if(LD)return ex;LD=1;var t=WS(),e=ya(),n=YI(),r=ar();function a(i,s){var u=r(i)?t:n;return u(i,e(s,3))}return ex=a,ex}var tx,$D;function pz(){if($D)return tx;$D=1;var t=HI(),e=mz();function n(r,a){return t(e(r,a),1)}return tx=n,tx}var gz=pz();const vz=vt(gz);var nx,BD;function yz(){if(BD)return nx;BD=1;var t=lw();function e(n,r){return t(n,r)}return nx=e,nx}var bz=yz();const Xm=vt(bz);var Xl=1e9,xz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Iw,Vt=!0,Rr="[DecimalError] ",Bo=Rr+"Invalid argument: ",Rw=Rr+"Exponent out of range: ",Zl=Math.floor,Do=Math.pow,_z=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vr,vn=1e7,Ut=7,Fj=9007199254740991,Fh=Zl(Fj/Ut),ke={};ke.absoluteValue=ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ke.comparedTo=ke.cmp=function(t){var e,n,r,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ut;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(t){return Ha(this,new this.constructor(t))};ke.dividedToIntegerBy=ke.idiv=function(t){var e=this,n=e.constructor;return Nt(Ha(e,new n(t),0,1),n.precision)};ke.equals=ke.eq=function(t){return!this.cmp(t)};ke.exponent=function(){return rn(this)};ke.greaterThan=ke.gt=function(t){return this.cmp(t)>0};ke.greaterThanOrEqualTo=ke.gte=function(t){return this.cmp(t)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(t){return this.cmp(t)<0};ke.lessThanOrEqualTo=ke.lte=function(t){return this.cmp(t)<1};ke.logarithm=ke.log=function(t){var e,n=this,r=n.constructor,a=r.precision,i=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(vr))throw Error(Rr+"NaN");if(n.s<1)throw Error(Rr+(n.s?"NaN":"-Infinity"));return n.eq(vr)?new r(0):(Vt=!1,e=Ha(Uc(n,i),Uc(t,i),i),Vt=!0,Nt(e,a))};ke.minus=ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Gj(e,t):Vj(e,(t.s=-t.s,t))};ke.modulo=ke.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Rr+"NaN");return n.s?(Vt=!1,e=Ha(n,t,0,1).times(t),Vt=!0,n.minus(e)):Nt(new r(n),a)};ke.naturalExponential=ke.exp=function(){return zj(this)};ke.naturalLogarithm=ke.ln=function(){return Uc(this)};ke.negated=ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ke.plus=ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Vj(e,t):Gj(e,(t.s=-t.s,t))};ke.precision=ke.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bo+t);if(e=rn(a)+1,r=a.d.length-1,n=r*Ut+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ke.squareRoot=ke.sqrt=function(){var t,e,n,r,a,i,s,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Rr+"NaN")}for(t=rn(u),Vt=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=la(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Zl((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=s=n+3;;)if(i=r,r=i.plus(Ha(u,i,s+2)).times(.5),la(i.d).slice(0,s)===(e=la(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(Nt(i,n+1,0),i.times(i).eq(u)){r=i;break}}else if(e!="9999")break;s+=4}return Vt=!0,Nt(r,n)};ke.times=ke.mul=function(t){var e,n,r,a,i,s,u,f,c,h=this,p=h.constructor,y=h.d,_=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,f=y.length,c=_.length,f<c&&(i=y,y=_,_=i,s=f,f=c,c=s),i=[],s=f+c,r=s;r--;)i.push(0);for(r=c;--r>=0;){for(e=0,a=f+r;a>r;)u=i[a]+_[r]*y[a-r-1]+e,i[a--]=u%vn|0,e=u/vn|0;i[a]=(i[a]+e)%vn|0}for(;!i[--s];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,Vt?Nt(t,p.precision):t};ke.toDecimalPlaces=ke.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ma(t,0,Xl),e===void 0?e=r.rounding:ma(e,0,8),Nt(n,t+rn(n)+1,e))};ke.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=zo(r,!0):(ma(t,0,Xl),e===void 0?e=a.rounding:ma(e,0,8),r=Nt(new a(r),t+1,e),n=zo(r,!0,t+1)),n};ke.toFixed=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?zo(a):(ma(t,0,Xl),e===void 0?e=i.rounding:ma(e,0,8),r=Nt(new i(a),t+rn(a)+1,e),n=zo(r.abs(),!1,t+rn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var t=this,e=t.constructor;return Nt(new e(t),rn(t)+1,e.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(t){var e,n,r,a,i,s,u=this,f=u.constructor,c=12,h=+(t=new f(t));if(!t.s)return new f(vr);if(u=new f(u),!u.s){if(t.s<1)throw Error(Rr+"Infinity");return u}if(u.eq(vr))return u;if(r=f.precision,t.eq(vr))return Nt(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,i=u.s,s){if((n=h<0?-h:h)<=Fj){for(a=new f(vr),e=Math.ceil(r/Ut+4),Vt=!1;n%2&&(a=a.times(u),UD(a.d,e)),n=Zl(n/2),n!==0;)u=u.times(u),UD(u.d,e);return Vt=!0,t.s<0?new f(vr).div(a):Nt(a,r)}}else if(i<0)throw Error(Rr+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Vt=!1,a=t.times(Uc(u,r+c)),Vt=!0,a=zj(a),a.s=i,a};ke.toPrecision=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?(n=rn(a),r=zo(a,n<=i.toExpNeg||n>=i.toExpPos)):(ma(t,1,Xl),e===void 0?e=i.rounding:ma(e,0,8),a=Nt(new i(a),t,e),n=rn(a),r=zo(a,t<=n||n<=i.toExpNeg,t)),r};ke.toSignificantDigits=ke.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ma(t,1,Xl),e===void 0?e=r.rounding:ma(e,0,8)),Nt(new r(n),t,e)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=rn(t),n=t.constructor;return zo(t,e<=n.toExpNeg||e>=n.toExpPos)};function Vj(t,e){var n,r,a,i,s,u,f,c,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Vt?Nt(e,p):e;if(f=t.d,c=e.d,s=t.e,a=e.e,f=f.slice(),i=s-a,i){for(i<0?(r=f,i=-i,u=c.length):(r=c,a=s,u=f.length),s=Math.ceil(p/Ut),u=s>u?s+1:u+1,i>u&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(u=f.length,i=c.length,u-i<0&&(i=u,r=c,c=f,f=r),n=0;i;)n=(f[--i]=f[i]+c[i]+n)/vn|0,f[i]%=vn;for(n&&(f.unshift(n),++a),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=a,Vt?Nt(e,p):e}function ma(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Bo+t)}function la(t){var e,n,r,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)r=t[e]+"",n=Ut-r.length,n&&(i+=ji(n)),i+=r;s=t[e],r=s+"",n=Ut-r.length,n&&(i+=ji(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ha=function(){function t(r,a){var i,s=0,u=r.length;for(r=r.slice();u--;)i=r[u]*a+s,r[u]=i%vn|0,s=i/vn|0;return s&&r.unshift(s),r}function e(r,a,i,s){var u,f;if(i!=s)f=i>s?1:-1;else for(u=f=0;u<i;u++)if(r[u]!=a[u]){f=r[u]>a[u]?1:-1;break}return f}function n(r,a,i){for(var s=0;i--;)r[i]-=s,s=r[i]<a[i]?1:0,r[i]=s*vn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,s){var u,f,c,h,p,y,_,w,A,T,k,M,E,D,C,O,P,I,U=r.constructor,V=r.s==a.s?1:-1,$=r.d,H=a.d;if(!r.s)return new U(r);if(!a.s)throw Error(Rr+"Division by zero");for(f=r.e-a.e,P=H.length,C=$.length,_=new U(V),w=_.d=[],c=0;H[c]==($[c]||0);)++c;if(H[c]>($[c]||0)&&--f,i==null?M=i=U.precision:s?M=i+(rn(r)-rn(a))+1:M=i,M<0)return new U(0);if(M=M/Ut+2|0,c=0,P==1)for(h=0,H=H[0],M++;(c<C||h)&&M--;c++)E=h*vn+($[c]||0),w[c]=E/H|0,h=E%H|0;else{for(h=vn/(H[0]+1)|0,h>1&&(H=t(H,h),$=t($,h),P=H.length,C=$.length),D=P,A=$.slice(0,P),T=A.length;T<P;)A[T++]=0;I=H.slice(),I.unshift(0),O=H[0],H[1]>=vn/2&&++O;do h=0,u=e(H,A,P,T),u<0?(k=A[0],P!=T&&(k=k*vn+(A[1]||0)),h=k/O|0,h>1?(h>=vn&&(h=vn-1),p=t(H,h),y=p.length,T=A.length,u=e(p,A,y,T),u==1&&(h--,n(p,P<y?I:H,y))):(h==0&&(u=h=1),p=H.slice()),y=p.length,y<T&&p.unshift(0),n(A,p,T),u==-1&&(T=A.length,u=e(H,A,P,T),u<1&&(h++,n(A,P<T?I:H,T))),T=A.length):u===0&&(h++,A=[0]),w[c++]=h,u&&A[0]?A[T++]=$[D]||0:(A=[$[D]],T=1);while((D++<C||A[0]!==void 0)&&M--)}return w[0]||w.shift(),_.e=f,Nt(_,s?i+rn(_)+1:i)}}();function zj(t,e){var n,r,a,i,s,u,f=0,c=0,h=t.constructor,p=h.precision;if(rn(t)>16)throw Error(Rw+rn(t));if(!t.s)return new h(vr);for(Vt=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Do(2,c))/Math.LN10*2+5|0,u+=r,n=a=i=new h(vr),h.precision=u;;){if(a=Nt(a.times(t),u),n=n.times(++f),s=i.plus(Ha(a,n,u)),la(s.d).slice(0,u)===la(i.d).slice(0,u)){for(;c--;)i=Nt(i.times(i),u);return h.precision=p,e==null?(Vt=!0,Nt(i,p)):i}i=s}}function rn(t){for(var e=t.e*Ut,n=t.d[0];n>=10;n/=10)e++;return e}function rx(t,e,n){if(e>t.LN10.sd())throw Vt=!0,n&&(t.precision=n),Error(Rr+"LN10 precision limit exceeded");return Nt(new t(t.LN10),e)}function ji(t){for(var e="";t--;)e+="0";return e}function Uc(t,e){var n,r,a,i,s,u,f,c,h,p=1,y=10,_=t,w=_.d,A=_.constructor,T=A.precision;if(_.s<1)throw Error(Rr+(_.s?"NaN":"-Infinity"));if(_.eq(vr))return new A(0);if(e==null?(Vt=!1,c=T):c=e,_.eq(10))return e==null&&(Vt=!0),rx(A,c);if(c+=y,A.precision=c,n=la(w),r=n.charAt(0),i=rn(_),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=la(_.d),r=n.charAt(0),p++;i=rn(_),r>1?(_=new A("0."+n),i++):_=new A(r+"."+n.slice(1))}else return f=rx(A,c+2,T).times(i+""),_=Uc(new A(r+"."+n.slice(1)),c-y).plus(f),A.precision=T,e==null?(Vt=!0,Nt(_,T)):_;for(u=s=_=Ha(_.minus(vr),_.plus(vr),c),h=Nt(_.times(_),c),a=3;;){if(s=Nt(s.times(h),c),f=u.plus(Ha(s,new A(a),c)),la(f.d).slice(0,c)===la(u.d).slice(0,c))return u=u.times(2),i!==0&&(u=u.plus(rx(A,c+2,T).times(i+""))),u=Ha(u,new A(p),c),A.precision=T,e==null?(Vt=!0,Nt(u,T)):u;u=f,a+=2}}function qD(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Zl(n/Ut),t.d=[],r=(n+1)%Ut,n<0&&(r+=Ut),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Ut;r<a;)t.d.push(+e.slice(r,r+=Ut));e=e.slice(r),r=Ut-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Vt&&(t.e>Fh||t.e<-Fh))throw Error(Rw+n)}else t.s=0,t.e=0,t.d=[0];return t}function Nt(t,e,n){var r,a,i,s,u,f,c,h,p=t.d;for(s=1,i=p[0];i>=10;i/=10)s++;if(r=e-s,r<0)r+=Ut,a=e,c=p[h=0];else{if(h=Math.ceil((r+1)/Ut),i=p.length,h>=i)return t;for(c=i=p[h],s=1;i>=10;i/=10)s++;r%=Ut,a=r-Ut+s}if(n!==void 0&&(i=Do(10,s-a-1),u=c/i%10|0,f=e<0||p[h+1]!==void 0||c%i,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?a>0?c/Do(10,s-a):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return f?(i=rn(t),p.length=1,e=e-i-1,p[0]=Do(10,(Ut-e%Ut)%Ut),t.e=Zl(-e/Ut)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,i=1,h--):(p.length=h+1,i=Do(10,Ut-r),p[h]=a>0?(c/Do(10,s-a)%Do(10,a)|0)*i:0),f)for(;;)if(h==0){(p[0]+=i)==vn&&(p[0]=1,++t.e);break}else{if(p[h]+=i,p[h]!=vn)break;p[h--]=0,i=1}for(r=p.length;p[--r]===0;)p.pop();if(Vt&&(t.e>Fh||t.e<-Fh))throw Error(Rw+rn(t));return t}function Gj(t,e){var n,r,a,i,s,u,f,c,h,p,y=t.constructor,_=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Vt?Nt(e,_):e;if(f=t.d,p=e.d,r=e.e,c=t.e,f=f.slice(),s=c-r,s){for(h=s<0,h?(n=f,s=-s,u=p.length):(n=p,r=c,u=f.length),a=Math.max(Math.ceil(_/Ut),u)+2,s>a&&(s=a,n.length=1),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else{for(a=f.length,u=p.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(f[a]!=p[a]){h=f[a]<p[a];break}s=0}for(h&&(n=f,f=p,p=n,e.s=-e.s),u=f.length,a=p.length-u;a>0;--a)f[u++]=0;for(a=p.length;a>s;){if(f[--a]<p[a]){for(i=a;i&&f[--i]===0;)f[i]=vn-1;--f[i],f[a]+=vn}f[a]-=p[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Vt?Nt(e,_):e):new y(0)}function zo(t,e,n){var r,a=rn(t),i=la(t.d),s=i.length;return e?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+ji(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ji(-a-1)+i,n&&(r=n-s)>0&&(i+=ji(r))):a>=s?(i+=ji(a+1-s),n&&(r=n-a-1)>0&&(i=i+"."+ji(r))):((r=a+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(a+1===s&&(i+="."),i+=ji(r))),t.s<0?"-"+i:i}function UD(t,e){if(t.length>e)return t.length=e,!0}function Hj(t){var e,n,r;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bo+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return qD(s,i.toString())}else if(typeof i!="string")throw Error(Bo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,_z.test(i))qD(s,i);else throw Error(Bo+i)}if(a.prototype=ke,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Hj,a.config=a.set=Sz,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function Sz(t){if(!t||typeof t!="object")throw Error(Rr+"Object expected");var e,n,r,a=["precision",1,Xl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Zl(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(Bo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bo+n+": "+r);return this}var Iw=Hj(xz);vr=new Iw(1);const Mt=Iw;function wz(t){return Cz(t)||Ez(t)||Az(t)||Tz()}function Tz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Az(t,e){if(t){if(typeof t=="string")return T_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(t,e)}}function Ez(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Cz(t){if(Array.isArray(t))return T_(t)}function T_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kz=function(e){return e},Kj={},Yj=function(e){return e===Kj},FD=function(e){return function n(){return arguments.length===0||arguments.length===1&&Yj(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Oz=function t(e,n){return e===1?n:FD(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var s=a.filter(function(u){return u!==Kj}).length;return s>=e?n.apply(void 0,a):t(e-s,FD(function(){for(var u=arguments.length,f=new Array(u),c=0;c<u;c++)f[c]=arguments[c];var h=a.map(function(p){return Yj(p)?f.shift():p});return n.apply(void 0,wz(h).concat(f))}))})},Zm=function(e){return Oz(e.length,e)},A_=function(e,n){for(var r=[],a=e;a<n;++a)r[a-e]=a;return r},Mz=Zm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Dz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return kz;var a=n.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(u,f){return f(u)},i.apply(void 0,arguments))}},E_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Wj=function(e){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n&&i.every(function(u,f){return u===n[f]})||(n=i,r=e.apply(void 0,i)),r}};function Nz(t){var e;return t===0?e=1:e=Math.floor(new Mt(t).abs().log(10).toNumber())+1,e}function Pz(t,e,n){for(var r=new Mt(t),a=0,i=[];r.lt(e)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var Rz=Zm(function(t,e,n){var r=+t,a=+e;return r+n*(a-r)}),Iz=Zm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),jz=Zm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Jm={rangeStep:Pz,getDigitCount:Nz,interpolateNumber:Rz,uninterpolateNumber:Iz,uninterpolateTruncation:jz};function C_(t){return Bz(t)||$z(t)||Xj(t)||Lz()}function Lz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $z(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Bz(t){if(Array.isArray(t))return k_(t)}function Fc(t,e){return Fz(t)||Uz(t,e)||Xj(t,e)||qz()}function qz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xj(t,e){if(t){if(typeof t=="string")return k_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k_(t,e)}}function k_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uz(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),u;!(r=(u=s.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(f){a=!0,i=f}finally{try{!r&&s.return!=null&&s.return()}finally{if(a)throw i}}return n}}function Fz(t){if(Array.isArray(t))return t}function Zj(t){var e=Fc(t,2),n=e[0],r=e[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function Jj(t,e,n){if(t.lte(0))return new Mt(0);var r=Jm.getDigitCount(t.toNumber()),a=new Mt(10).pow(r),i=t.div(a),s=r!==1?.05:.1,u=new Mt(Math.ceil(i.div(s).toNumber())).add(n).mul(s),f=u.mul(a);return e?f:new Mt(Math.ceil(f))}function Vz(t,e,n){var r=1,a=new Mt(t);if(!a.isint()&&n){var i=Math.abs(t);i<1?(r=new Mt(10).pow(Jm.getDigitCount(t)-1),a=new Mt(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Mt(Math.floor(t)))}else t===0?a=new Mt(Math.floor((e-1)/2)):n||(a=new Mt(Math.floor(t)));var s=Math.floor((e-1)/2),u=Dz(Mz(function(f){return a.add(new Mt(f-s).mul(r)).toNumber()}),A_);return u(0,e)}function Qj(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var i=Jj(new Mt(e).sub(t).div(n-1),r,a),s;t<=0&&e>=0?s=new Mt(0):(s=new Mt(t).add(e).div(2),s=s.sub(new Mt(s).mod(i)));var u=Math.ceil(s.sub(t).div(i).toNumber()),f=Math.ceil(new Mt(e).sub(s).div(i).toNumber()),c=u+f+1;return c>n?Qj(t,e,n,r,a+1):(c<n&&(f=e>0?f+(n-c):f,u=e>0?u:u+(n-c)),{step:i,tickMin:s.sub(new Mt(u).mul(i)),tickMax:s.add(new Mt(f).mul(i))})}function zz(t){var e=Fc(t,2),n=e[0],r=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),u=Zj([n,r]),f=Fc(u,2),c=f[0],h=f[1];if(c===-1/0||h===1/0){var p=h===1/0?[c].concat(C_(A_(0,a-1).map(function(){return 1/0}))):[].concat(C_(A_(0,a-1).map(function(){return-1/0})),[h]);return n>r?E_(p):p}if(c===h)return Vz(c,a,i);var y=Qj(c,h,s,i),_=y.step,w=y.tickMin,A=y.tickMax,T=Jm.rangeStep(w,A.add(new Mt(.1).mul(_)),_);return n>r?E_(T):T}function Gz(t,e){var n=Fc(t,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Zj([r,a]),u=Fc(s,2),f=u[0],c=u[1];if(f===-1/0||c===1/0)return[r,a];if(f===c)return[f];var h=Math.max(e,2),p=Jj(new Mt(c).sub(f).div(h-1),i,0),y=[].concat(C_(Jm.rangeStep(new Mt(f),new Mt(c).sub(new Mt(.99).mul(p)),p)),[c]);return r>a?E_(y):y}var Hz=Wj(zz),Kz=Wj(Gz),Yz="Invariant failed";function Go(t,e){throw new Error(Yz)}var Wz=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}function Xz(t,e){return eG(t)||Qz(t,e)||Jz(t,e)||Zz()}function Zz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jz(t,e){if(t){if(typeof t=="string")return VD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VD(t,e)}}function VD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],f=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(h){c=!0,a=h}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function eG(t){if(Array.isArray(t))return t}function tG(t,e){if(t==null)return{};var n=nG(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n5(r.key),r)}}function iG(t,e,n){return e&&aG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oG(t,e,n){return e=zh(e),sG(t,e5()?Reflect.construct(e,n||[],zh(t).constructor):e.apply(t,n))}function sG(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lG(t)}function lG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e5=function(){return!!t})()}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zh(t)}function uG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},O_(t,e)}function t5(t,e,n){return e=n5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n5(t){var e=cG(t,"string");return Sl(e)=="symbol"?e:e+""}function cG(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qm=function(t){function e(){return rG(this,e),oG(this,e,arguments)}return uG(e,t),iG(e,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,s=r.width,u=r.dataKey,f=r.data,c=r.dataPointFormatter,h=r.xAxis,p=r.yAxis,y=tG(r,Wz),_=Fe(y,!1);this.props.direction==="x"&&h.type!=="number"&&Go();var w=f.map(function(A){var T=c(A,u),k=T.x,M=T.y,E=T.value,D=T.errorVal;if(!D)return null;var C=[],O,P;if(Array.isArray(D)){var I=Xz(D,2);O=I[0],P=I[1]}else O=P=D;if(i==="vertical"){var U=h.scale,V=M+a,$=V+s,H=V-s,Z=U(E-O),Y=U(E+P);C.push({x1:Y,y1:$,x2:Y,y2:H}),C.push({x1:Z,y1:V,x2:Y,y2:V}),C.push({x1:Z,y1:$,x2:Z,y2:H})}else if(i==="horizontal"){var B=p.scale,L=k+a,F=L-s,W=L+s,ie=B(E-O),q=B(E+P);C.push({x1:F,y1:q,x2:W,y2:q}),C.push({x1:L,y1:ie,x2:L,y2:q}),C.push({x1:F,y1:ie,x2:W,y2:ie})}return X.createElement(wt,Vh({className:"recharts-errorBar",key:"bar-".concat(C.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},_),C.map(function(G){return X.createElement("line",Vh({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return X.createElement(wt,{className:"recharts-errorBars"},w)}}])}(X.Component);t5(Qm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});t5(Qm,"displayName","ErrorBar");function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){fG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fG(t,e,n){return e=dG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dG(t){var e=hG(t,"string");return Vc(e)=="symbol"?e:e+""}function hG(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r5=function(e){var n=e.children,r=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=gr(n,Ui);if(!s)return null;var u=Ui.defaultProps,f=u!==void 0?Ao(Ao({},u),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(r||[]).reduce(function(h,p){var y=p.item,_=p.props,w=_.sectors||_.data||[];return h.concat(w.map(function(A){return{type:s.props.iconType||y.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):c=(r||[]).map(function(h){var p=h.item,y=p.type.defaultProps,_=y!==void 0?Ao(Ao({},y),p.props):{},w=_.dataKey,A=_.name,T=_.legendType,k=_.hide;return{inactive:k,dataKey:w,type:f.iconType||T||"square",color:jw(p),value:A||w,payload:_}}),Ao(Ao(Ao({},f),Ui.getWithHeight(s,a)),{},{payload:c,item:s})};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function GD(t){return vG(t)||gG(t)||pG(t)||mG()}function mG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pG(t,e){if(t){if(typeof t=="string")return M_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M_(t,e)}}function gG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vG(t){if(Array.isArray(t))return M_(t)}function M_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(n),!0).forEach(function(r){cl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cl(t,e,n){return e=yG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yG(t){var e=bG(t,"string");return zc(e)=="symbol"?e:e+""}function bG(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jn(t,e,n){return st(t)||st(e)?n:ln(e)?br(t,e,n):Ve(e)?e(t):n}function wc(t,e,n,r){var a=vz(t,function(u){return jn(u,e)});if(n==="number"){var i=a.filter(function(u){return we(u)||parseFloat(u)});return i.length?[Wm(i),Ym(i)]:[1/0,-1/0]}var s=r?a.filter(function(u){return!st(u)}):a;return s.map(function(u){return ln(u)||u instanceof Date?u:""})}var xG=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var f=i.range,c=0;c<u;c++){var h=c>0?a[c-1].coordinate:a[u-1].coordinate,p=a[c].coordinate,y=c>=u-1?a[0].coordinate:a[c+1].coordinate,_=void 0;if(Fn(p-h)!==Fn(y-p)){var w=[];if(Fn(y-p)===Fn(f[1]-f[0])){_=y;var A=p+f[1]-f[0];w[0]=Math.min(A,(A+h)/2),w[1]=Math.max(A,(A+h)/2)}else{_=h;var T=y+f[1]-f[0];w[0]=Math.min(p,(T+p)/2),w[1]=Math.max(p,(T+p)/2)}var k=[Math.min(p,(_+p)/2),Math.max(p,(_+p)/2)];if(e>k[0]&&e<=k[1]||e>=w[0]&&e<=w[1]){s=a[c].index;break}}else{var M=Math.min(h,y),E=Math.max(h,y);if(e>(M+p)/2&&e<=(E+p)/2){s=a[c].index;break}}}else for(var D=0;D<u;D++)if(D===0&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D>0&&D<u-1&&e>(r[D].coordinate+r[D-1].coordinate)/2&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D===u-1&&e>(r[D].coordinate+r[D-1].coordinate)/2){s=r[D].index;break}return s},jw=function(e){var n,r=e,a=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,s=i.stroke,u=i.fill,f;switch(a){case"Line":f=s;break;case"Area":case"Radar":f=s&&s!=="none"?s:u;break;default:f=u;break}return f},_G=function(e){var n=e.barSize,r=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},u=Object.keys(i),f=0,c=u.length;f<c;f++)for(var h=i[u[f]].stackGroups,p=Object.keys(h),y=0,_=p.length;y<_;y++){var w=h[p[y]],A=w.items,T=w.cateAxisId,k=A.filter(function(P){return Ga(P.type).indexOf("Bar")>=0});if(k&&k.length){var M=k[0].type.defaultProps,E=M!==void 0?Yt(Yt({},M),k[0].props):k[0].props,D=E.barSize,C=E[T];s[C]||(s[C]=[]);var O=st(D)?n:D;s[C].push({item:k[0],stackList:k.slice(1),barSize:st(O)?void 0:Vn(O,r,0)})}}return s},SG=function(e){var n=e.barGap,r=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,u=e.maxBarSize,f=s.length;if(f<1)return null;var c=Vn(n,a,0,!0),h,p=[];if(s[0].barSize===+s[0].barSize){var y=!1,_=a/f,w=s.reduce(function(D,C){return D+C.barSize||0},0);w+=(f-1)*c,w>=a&&(w-=(f-1)*c,c=0),w>=a&&_>0&&(y=!0,_*=.9,w=f*_);var A=(a-w)/2>>0,T={offset:A-c,size:0};h=s.reduce(function(D,C){var O={item:C.item,position:{offset:T.offset+T.size+c,size:y?_:C.barSize}},P=[].concat(GD(D),[O]);return T=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){P.push({item:I,position:T})}),P},p)}else{var k=Vn(r,a,0,!0);a-2*k-(f-1)*c<=0&&(c=0);var M=(a-2*k-(f-1)*c)/f;M>1&&(M>>=0);var E=u===+u?Math.min(M,u):M;h=s.reduce(function(D,C,O){var P=[].concat(GD(D),[{item:C.item,position:{offset:k+(M+c)*O+(M-E)/2,size:E}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){P.push({item:I,position:P[P.length-1].position})}),P},p)}return h},wG=function(e,n,r,a){var i=r.children,s=r.width,u=r.margin,f=s-(u.left||0)-(u.right||0),c=r5({children:i,legendWidth:f});if(c){var h=a||{},p=h.width,y=h.height,_=c.align,w=c.verticalAlign,A=c.layout;if((A==="vertical"||A==="horizontal"&&w==="middle")&&_!=="center"&&we(e[_]))return Yt(Yt({},e),{},cl({},_,e[_]+(p||0)));if((A==="horizontal"||A==="vertical"&&_==="center")&&w!=="middle"&&we(e[w]))return Yt(Yt({},e),{},cl({},w,e[w]+(y||0)))}return e},TG=function(e,n,r){return st(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},a5=function(e,n,r,a,i){var s=n.props.children,u=Pr(s,Qm).filter(function(c){return TG(a,i,c.props.direction)});if(u&&u.length){var f=u.map(function(c){return c.props.dataKey});return e.reduce(function(c,h){var p=jn(h,r);if(st(p))return c;var y=Array.isArray(p)?[Wm(p),Ym(p)]:[p,p],_=f.reduce(function(w,A){var T=jn(h,A,0),k=y[0]-Math.abs(Array.isArray(T)?T[0]:T),M=y[1]+Math.abs(Array.isArray(T)?T[1]:T);return[Math.min(k,w[0]),Math.max(M,w[1])]},[1/0,-1/0]);return[Math.min(_[0],c[0]),Math.max(_[1],c[1])]},[1/0,-1/0])}return null},AG=function(e,n,r,a,i){var s=n.map(function(u){return a5(e,u,r,i,a)}).filter(function(u){return!st(u)});return s&&s.length?s.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]):null},i5=function(e,n,r,a,i){var s=n.map(function(f){var c=f.props.dataKey;return r==="number"&&c&&a5(e,f,c,a)||wc(e,c,r,i)});if(r==="number")return s.reduce(function(f,c){return[Math.min(f[0],c[0]),Math.max(f[1],c[1])]},[1/0,-1/0]);var u={};return s.reduce(function(f,c){for(var h=0,p=c.length;h<p;h++)u[c[h]]||(u[c[h]]=!0,f.push(c[h]));return f},[])},o5=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},s5=function(e,n,r,a){if(a)return e.map(function(f){return f.coordinate});var i,s,u=e.map(function(f){return f.coordinate===n&&(i=!0),f.coordinate===r&&(s=!0),f.coordinate});return i||u.push(n),s||u.push(r),u},za=function(e,n,r){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,u=e.range,f=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(n||r)&&s==="category"&&a.bandwidth?a.bandwidth()/f:0;if(c=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?Fn(u[0]-u[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var y=i?i.indexOf(p):p;return{coordinate:a(y)+c,value:p,offset:c}});return h.filter(function(p){return!pf(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,y){return{coordinate:a(p)+c,value:p,index:y,offset:c}}):a.ticks&&!r?a.ticks(e.tickCount).map(function(p){return{coordinate:a(p)+c,value:p,offset:c}}):a.domain().map(function(p,y){return{coordinate:a(p)+c,value:i?i[p]:p,index:y,offset:c}})},ax=new WeakMap,ih=function(e,n){if(typeof n!="function")return e;ax.has(e)||ax.set(e,new WeakMap);var r=ax.get(e);if(r.has(n))return r.get(n);var a=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},l5=function(e,n,r){var a=e.scale,i=e.type,s=e.layout,u=e.axisType;if(a==="auto")return s==="radial"&&u==="radiusAxis"?{scale:jc(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:$h(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Sc(),realScaleType:"point"}:i==="category"?{scale:jc(),realScaleType:"band"}:{scale:$h(),realScaleType:"linear"};if(Uo(a)){var f="scale".concat(Pm(a));return{scale:(DD[f]||Sc)(),realScaleType:DD[f]?f:"point"}}return Ve(a)?{scale:a}:{scale:Sc(),realScaleType:"point"}},KD=1e-4,u5=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,a=e.range(),i=Math.min(a[0],a[1])-KD,s=Math.max(a[0],a[1])+KD,u=e(n[0]),f=e(n[r-1]);(u<i||u>s||f<i||f>s)&&e.domain([n[0],n[r-1]])}},EG=function(e,n){if(!e)return null;for(var r=0,a=e.length;r<a;r++)if(e[r].item===n)return e[r].position;return null},CG=function(e,n){if(!n||n.length!==2||!we(n[0])||!we(n[1]))return e;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!we(e[0])||e[0]<r)&&(i[0]=r),(!we(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},kG=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,s=0,u=0;u<n;++u){var f=pf(e[u][r][1])?e[u][r][0]:e[u][r][1];f>=0?(e[u][r][0]=i,e[u][r][1]=i+f,i=e[u][r][1]):(e[u][r][0]=s,e[u][r][1]=s+f,s=e[u][r][1])}},OG=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,s=0;s<n;++s){var u=pf(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=i,e[s][r][1]=i+u,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},MG={sign:kG,expand:v6,none:ml,silhouette:y6,wiggle:b6,positive:OG},DG=function(e,n,r){var a=n.map(function(u){return u.props.dataKey}),i=MG[r],s=g6().keys(a).value(function(u,f){return+jn(u,f,0)}).order(o_).offset(i);return s(e)},NG=function(e,n,r,a,i,s){if(!e)return null;var u=s?n.reverse():n,f={},c=u.reduce(function(p,y){var _,w=(_=y.type)!==null&&_!==void 0&&_.defaultProps?Yt(Yt({},y.type.defaultProps),y.props):y.props,A=w.stackId,T=w.hide;if(T)return p;var k=w[r],M=p[k]||{hasStack:!1,stackGroups:{}};if(ln(A)){var E=M.stackGroups[A]||{numericAxisId:r,cateAxisId:a,items:[]};E.items.push(y),M.hasStack=!0,M.stackGroups[A]=E}else M.stackGroups[gf("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[y]};return Yt(Yt({},p),{},cl({},k,M))},f),h={};return Object.keys(c).reduce(function(p,y){var _=c[y];if(_.hasStack){var w={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(A,T){var k=_.stackGroups[T];return Yt(Yt({},A),{},cl({},T,{numericAxisId:r,cateAxisId:a,items:k.items,stackedData:DG(e,k.items,i)}))},w)}return Yt(Yt({},p),{},cl({},y,_))},h)},c5=function(e,n){var r=n.realScaleType,a=n.type,i=n.tickCount,s=n.originalDomain,u=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var h=Hz(c,i,u);return e.domain([Wm(h),Ym(h)]),{niceTicks:h}}if(i&&a==="number"){var p=e.domain(),y=Kz(p,i,u);return{niceTicks:y}}return null},YD=function(e){var n=e.axis,r=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+a:null;var f=jn(s,n.dataKey,n.domain[u]);return st(f)?null:n.scale(f)-i/2+a},PG=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},RG=function(e,n){var r,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(ln(i)){var s=n[i];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},IG=function(e){return e.reduce(function(n,r){return[Wm(r.concat([n[0]]).filter(we)),Ym(r.concat([n[1]]).filter(we))]},[1/0,-1/0])},f5=function(e,n,r){return Object.keys(e).reduce(function(a,i){var s=e[i],u=s.stackedData,f=u.reduce(function(c,h){var p=IG(h.slice(n,r+1));return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(f[0],a[0]),Math.max(f[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},WD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,D_=function(e,n,r){if(Ve(e))return e(n,r);if(!Array.isArray(e))return n;var a=[];if(we(e[0]))a[0]=r?e[0]:Math.min(e[0],n[0]);else if(WD.test(e[0])){var i=+WD.exec(e[0])[1];a[0]=n[0]-i}else Ve(e[0])?a[0]=e[0](n[0]):a[0]=n[0];if(we(e[1]))a[1]=r?e[1]:Math.max(e[1],n[1]);else if(XD.test(e[1])){var s=+XD.exec(e[1])[1];a[1]=n[1]+s}else Ve(e[1])?a[1]=e[1](n[1]):a[1]=n[1];return a},Gh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&n&&n.length>=2){for(var i=cw(n,function(p){return p.coordinate}),s=1/0,u=1,f=i.length;u<f;u++){var c=i[u],h=i[u-1];s=Math.min((c.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},ZD=function(e,n,r){return!e||!e.length||Xm(e,br(r,"type.defaultProps.domain"))?n:e},d5=function(e,n){var r=e.type.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,a=r.dataKey,i=r.name,s=r.unit,u=r.formatter,f=r.tooltipType,c=r.chartType,h=r.hide;return Yt(Yt({},Fe(e,!1)),{},{dataKey:a,unit:s,formatter:u,name:i||a,color:jw(e),value:jn(n,a),type:f,payload:n,chartType:c,hide:h})};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){h5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h5(t,e,n){return e=jG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jG(t){var e=LG(t,"string");return Gc(e)=="symbol"?e:e+""}function LG(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $G(t,e){return FG(t)||UG(t,e)||qG(t,e)||BG()}function BG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qG(t,e){if(t){if(typeof t=="string")return QD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QD(t,e)}}function QD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],f=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(h){c=!0,a=h}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function FG(t){if(Array.isArray(t))return t}var Hh=Math.PI/180,VG=function(e){return e*180/Math.PI},Lt=function(e,n,r,a){return{x:e+Math.cos(-Hh*a)*r,y:n+Math.sin(-Hh*a)*r}},m5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},zG=function(e,n,r,a,i){var s=e.width,u=e.height,f=e.startAngle,c=e.endAngle,h=Vn(e.cx,s,s/2),p=Vn(e.cy,u,u/2),y=m5(s,u,r),_=Vn(e.innerRadius,y,0),w=Vn(e.outerRadius,y,y*.8),A=Object.keys(n);return A.reduce(function(T,k){var M=n[k],E=M.domain,D=M.reversed,C;if(st(M.range))a==="angleAxis"?C=[f,c]:a==="radiusAxis"&&(C=[_,w]),D&&(C=[C[1],C[0]]);else{C=M.range;var O=C,P=$G(O,2);f=P[0],c=P[1]}var I=l5(M,i),U=I.realScaleType,V=I.scale;V.domain(E).range(C),u5(V);var $=c5(V,Ua(Ua({},M),{},{realScaleType:U})),H=Ua(Ua(Ua({},M),$),{},{range:C,radius:w,realScaleType:U,scale:V,cx:h,cy:p,innerRadius:_,outerRadius:w,startAngle:f,endAngle:c});return Ua(Ua({},T),{},h5({},k,H))},{})},GG=function(e,n){var r=e.x,a=e.y,i=n.x,s=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-s,2))},HG=function(e,n){var r=e.x,a=e.y,i=n.cx,s=n.cy,u=GG({x:r,y:a},{x:i,y:s});if(u<=0)return{radius:u};var f=(r-i)/u,c=Math.acos(f);return a>s&&(c=2*Math.PI-c),{radius:u,angle:VG(c),angleInRadian:c}},KG=function(e){var n=e.startAngle,r=e.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),s=Math.min(a,i);return{startAngle:n-s*360,endAngle:r-s*360}},YG=function(e,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),s=Math.floor(a/360),u=Math.min(i,s);return e+u*360},eN=function(e,n){var r=e.x,a=e.y,i=HG({x:r,y:a},n),s=i.radius,u=i.angle,f=n.innerRadius,c=n.outerRadius;if(s<f||s>c)return!1;if(s===0)return!0;var h=KG(n),p=h.startAngle,y=h.endAngle,_=u,w;if(p<=y){for(;_>y;)_-=360;for(;_<p;)_+=360;w=_>=p&&_<=y}else{for(;_>p;)_-=360;for(;_<y;)_+=360;w=_>=y&&_<=p}return w?Ua(Ua({},n),{},{radius:s,angle:YG(_,n)}):null},p5=function(e){return!j.isValidElement(e)&&!Ve(e)&&typeof e!="boolean"?e.className:""};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}var WG=["offset"];function XG(t){return eH(t)||QG(t)||JG(t)||ZG()}function ZG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JG(t,e){if(t){if(typeof t=="string")return N_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N_(t,e)}}function QG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eH(t){if(Array.isArray(t))return N_(t)}function N_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tH(t,e){if(t==null)return{};var n=nH(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(r){rH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rH(t,e,n){return e=aH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aH(t){var e=iH(t,"string");return Hc(e)=="symbol"?e:e+""}function iH(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kc.apply(this,arguments)}var oH=function(e){var n=e.value,r=e.formatter,a=st(e.children)?n:e.children;return Ve(r)?r(a):a},sH=function(e,n){var r=Fn(n-e),a=Math.min(Math.abs(n-e),360);return r*a},lH=function(e,n,r){var a=e.position,i=e.viewBox,s=e.offset,u=e.className,f=i,c=f.cx,h=f.cy,p=f.innerRadius,y=f.outerRadius,_=f.startAngle,w=f.endAngle,A=f.clockWise,T=(p+y)/2,k=sH(_,w),M=k>=0?1:-1,E,D;a==="insideStart"?(E=_+M*s,D=A):a==="insideEnd"?(E=w-M*s,D=!A):a==="end"&&(E=w+M*s,D=A),D=k<=0?D:!D;var C=Lt(c,h,T,E),O=Lt(c,h,T,E+(D?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(D?0:1,`,
    `).concat(O.x,",").concat(O.y),I=st(e.id)?gf("recharts-radial-line-"):e.id;return X.createElement("text",Kc({},r,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",u)}),X.createElement("defs",null,X.createElement("path",{id:I,d:P})),X.createElement("textPath",{xlinkHref:"#".concat(I)},n))},uH=function(e){var n=e.viewBox,r=e.offset,a=e.position,i=n,s=i.cx,u=i.cy,f=i.innerRadius,c=i.outerRadius,h=i.startAngle,p=i.endAngle,y=(h+p)/2;if(a==="outside"){var _=Lt(s,u,c+r,y),w=_.x,A=_.y;return{x:w,y:A,textAnchor:w>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var T=(f+c)/2,k=Lt(s,u,T,y),M=k.x,E=k.y;return{x:M,y:E,textAnchor:"middle",verticalAnchor:"middle"}},cH=function(e){var n=e.viewBox,r=e.parentViewBox,a=e.offset,i=e.position,s=n,u=s.x,f=s.y,c=s.width,h=s.height,p=h>=0?1:-1,y=p*a,_=p>0?"end":"start",w=p>0?"start":"end",A=c>=0?1:-1,T=A*a,k=A>0?"end":"start",M=A>0?"start":"end";if(i==="top"){var E={x:u+c/2,y:f-p*a,textAnchor:"middle",verticalAnchor:_};return sn(sn({},E),r?{height:Math.max(f-r.y,0),width:c}:{})}if(i==="bottom"){var D={x:u+c/2,y:f+h+y,textAnchor:"middle",verticalAnchor:w};return sn(sn({},D),r?{height:Math.max(r.y+r.height-(f+h),0),width:c}:{})}if(i==="left"){var C={x:u-T,y:f+h/2,textAnchor:k,verticalAnchor:"middle"};return sn(sn({},C),r?{width:Math.max(C.x-r.x,0),height:h}:{})}if(i==="right"){var O={x:u+c+T,y:f+h/2,textAnchor:M,verticalAnchor:"middle"};return sn(sn({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:h}:{})}var P=r?{width:c,height:h}:{};return i==="insideLeft"?sn({x:u+T,y:f+h/2,textAnchor:M,verticalAnchor:"middle"},P):i==="insideRight"?sn({x:u+c-T,y:f+h/2,textAnchor:k,verticalAnchor:"middle"},P):i==="insideTop"?sn({x:u+c/2,y:f+y,textAnchor:"middle",verticalAnchor:w},P):i==="insideBottom"?sn({x:u+c/2,y:f+h-y,textAnchor:"middle",verticalAnchor:_},P):i==="insideTopLeft"?sn({x:u+T,y:f+y,textAnchor:M,verticalAnchor:w},P):i==="insideTopRight"?sn({x:u+c-T,y:f+y,textAnchor:k,verticalAnchor:w},P):i==="insideBottomLeft"?sn({x:u+T,y:f+h-y,textAnchor:M,verticalAnchor:_},P):i==="insideBottomRight"?sn({x:u+c-T,y:f+h-y,textAnchor:k,verticalAnchor:_},P):Hl(i)&&(we(i.x)||Ro(i.x))&&(we(i.y)||Ro(i.y))?sn({x:u+Vn(i.x,c),y:f+Vn(i.y,h),textAnchor:"end",verticalAnchor:"end"},P):sn({x:u+c/2,y:f+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},fH=function(e){return"cx"in e&&we(e.cx)};function yn(t){var e=t.offset,n=e===void 0?5:e,r=tH(t,WG),a=sn({offset:n},r),i=a.viewBox,s=a.position,u=a.value,f=a.children,c=a.content,h=a.className,p=h===void 0?"":h,y=a.textBreakAll;if(!i||st(u)&&st(f)&&!j.isValidElement(c)&&!Ve(c))return null;if(j.isValidElement(c))return j.cloneElement(c,a);var _;if(Ve(c)){if(_=j.createElement(c,a),j.isValidElement(_))return _}else _=oH(a);var w=fH(i),A=Fe(a,!0);if(w&&(s==="insideStart"||s==="insideEnd"||s==="end"))return lH(a,_,A);var T=w?uH(a):cH(a);return X.createElement(Vo,Kc({className:tt("recharts-label",p)},A,T,{breakAll:y}),_)}yn.displayName="Label";var g5=function(e){var n=e.cx,r=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,u=e.r,f=e.radius,c=e.innerRadius,h=e.outerRadius,p=e.x,y=e.y,_=e.top,w=e.left,A=e.width,T=e.height,k=e.clockWise,M=e.labelViewBox;if(M)return M;if(we(A)&&we(T)){if(we(p)&&we(y))return{x:p,y,width:A,height:T};if(we(_)&&we(w))return{x:_,y:w,width:A,height:T}}return we(p)&&we(y)?{x:p,y,width:0,height:0}:we(n)&&we(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:h||f||u||0,clockWise:k}:e.viewBox?e.viewBox:{}},dH=function(e,n){return e?e===!0?X.createElement(yn,{key:"label-implicit",viewBox:n}):ln(e)?X.createElement(yn,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===yn?j.cloneElement(e,{key:"label-implicit",viewBox:n}):X.createElement(yn,{key:"label-implicit",content:e,viewBox:n}):Ve(e)?X.createElement(yn,{key:"label-implicit",content:e,viewBox:n}):Hl(e)?X.createElement(yn,Kc({viewBox:n},e,{key:"label-implicit"})):null:null},hH=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=g5(e),s=Pr(a,yn).map(function(f,c){return j.cloneElement(f,{viewBox:n||i,key:"label-".concat(c)})});if(!r)return s;var u=dH(e.label,n||i);return[u].concat(XG(s))};yn.parseViewBox=g5;yn.renderCallByParent=hH;var ix,nN;function mH(){if(nN)return ix;nN=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return ix=t,ix}var pH=mH();const gH=vt(pH);function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}var vH=["valueAccessor"],yH=["data","dataKey","clockWise","id","textBreakAll"];function bH(t){return wH(t)||SH(t)||_H(t)||xH()}function xH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _H(t,e){if(t){if(typeof t=="string")return P_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(t,e)}}function SH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wH(t){if(Array.isArray(t))return P_(t)}function P_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function aN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){TH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TH(t,e,n){return e=AH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AH(t){var e=EH(t,"string");return Yc(e)=="symbol"?e:e+""}function EH(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iN(t,e){if(t==null)return{};var n=CH(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kH=function(e){return Array.isArray(e.value)?gH(e.value):e.value};function Vi(t){var e=t.valueAccessor,n=e===void 0?kH:e,r=iN(t,vH),a=r.data,i=r.dataKey,s=r.clockWise,u=r.id,f=r.textBreakAll,c=iN(r,yH);return!a||!a.length?null:X.createElement(wt,{className:"recharts-label-list"},a.map(function(h,p){var y=st(i)?n(h,p):jn(h&&h.payload,i),_=st(u)?{}:{id:"".concat(u,"-").concat(p)};return X.createElement(yn,Kh({},Fe(h,!0),c,_,{parentViewBox:h.parentViewBox,value:y,textBreakAll:f,viewBox:yn.parseViewBox(st(s)?h:aN(aN({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}Vi.displayName="LabelList";function OH(t,e){return t?t===!0?X.createElement(Vi,{key:"labelList-implicit",data:e}):X.isValidElement(t)||Ve(t)?X.createElement(Vi,{key:"labelList-implicit",data:e,content:t}):Hl(t)?X.createElement(Vi,Kh({data:e},t,{key:"labelList-implicit"})):null:null}function MH(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,a=Pr(r,Vi).map(function(s,u){return j.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!n)return a;var i=OH(t.label,e);return[i].concat(bH(a))}Vi.renderCallByParent=MH;function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){DH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DH(t,e,n){return e=NH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NH(t){var e=PH(t,"string");return Wc(e)=="symbol"?e:e+""}function PH(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RH=function(e,n){var r=Fn(n-e),a=Math.min(Math.abs(n-e),359.999);return r*a},oh=function(e){var n=e.cx,r=e.cy,a=e.radius,i=e.angle,s=e.sign,u=e.isExternal,f=e.cornerRadius,c=e.cornerIsExternal,h=f*(u?1:-1)+a,p=Math.asin(f/h)/Hh,y=c?i:i+s*p,_=Lt(n,r,h,y),w=Lt(n,r,a,y),A=c?i-s*p:i,T=Lt(n,r,h*Math.cos(p*Hh),A);return{center:_,circleTangency:w,lineTangency:T,theta:p}},v5=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,u=e.endAngle,f=RH(s,u),c=s+f,h=Lt(n,r,i,s),p=Lt(n,r,i,c),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(s>c),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(a>0){var _=Lt(n,r,a,s),w=Lt(n,r,a,c);y+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(s<=c),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},IH=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,f=e.cornerIsExternal,c=e.startAngle,h=e.endAngle,p=Fn(h-c),y=oh({cx:n,cy:r,radius:i,angle:c,sign:p,cornerRadius:s,cornerIsExternal:f}),_=y.circleTangency,w=y.lineTangency,A=y.theta,T=oh({cx:n,cy:r,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:f}),k=T.circleTangency,M=T.lineTangency,E=T.theta,D=f?Math.abs(c-h):Math.abs(c-h)-A-E;if(D<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):v5({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:h});var C="M ".concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
  `);if(a>0){var O=oh({cx:n,cy:r,radius:a,angle:c,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),P=O.circleTangency,I=O.lineTangency,U=O.theta,V=oh({cx:n,cy:r,radius:a,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),$=V.circleTangency,H=V.lineTangency,Z=V.theta,Y=f?Math.abs(c-h):Math.abs(c-h)-U-Z;if(Y<0&&s===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(H.x,",").concat(H.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(Y>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},jH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},y5=function(e){var n=sN(sN({},jH),e),r=n.cx,a=n.cy,i=n.innerRadius,s=n.outerRadius,u=n.cornerRadius,f=n.forceCornerRadius,c=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,y=n.className;if(s<i||h===p)return null;var _=tt("recharts-sector",y),w=s-i,A=Vn(u,w,0,!0),T;return A>0&&Math.abs(h-p)<360?T=IH({cx:r,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(A,w/2),forceCornerRadius:f,cornerIsExternal:c,startAngle:h,endAngle:p}):T=v5({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),X.createElement("path",R_({},Fe(n,!0),{className:_,d:T,role:"img"}))};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){LH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LH(t,e,n){return e=$H(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $H(t){var e=BH(t,"string");return Xc(e)=="symbol"?e:e+""}function BH(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cN={curveBasisClosed:i6,curveBasisOpen:o6,curveBasis:a6,curveBumpX:zU,curveBumpY:GU,curveLinearClosed:s6,curveLinear:Im,curveMonotoneX:l6,curveMonotoneY:u6,curveNatural:c6,curveStep:f6,curveStepAfter:h6,curveStepBefore:d6},sh=function(e){return e.x===+e.x&&e.y===+e.y},sc=function(e){return e.x},lc=function(e){return e.y},qH=function(e,n){if(Ve(e))return e;var r="curve".concat(Pm(e));return(r==="curveMonotone"||r==="curveBump")&&n?cN["".concat(r).concat(n==="vertical"?"Y":"X")]:cN[r]||Im},UH=function(e){var n=e.type,r=n===void 0?"linear":n,a=e.points,i=a===void 0?[]:a,s=e.baseLine,u=e.layout,f=e.connectNulls,c=f===void 0?!1:f,h=qH(r,u),p=c?i.filter(function(A){return sh(A)}):i,y;if(Array.isArray(s)){var _=c?s.filter(function(A){return sh(A)}):s,w=p.map(function(A,T){return uN(uN({},A),{},{base:_[T]})});return u==="vertical"?y=Jd().y(lc).x1(sc).x0(function(A){return A.base.x}):y=Jd().x(sc).y1(lc).y0(function(A){return A.base.y}),y.defined(sh).curve(h),y(w)}return u==="vertical"&&we(s)?y=Jd().y(lc).x1(sc).x0(s):we(s)?y=Jd().x(sc).y1(lc).y0(s):y=pI().x(sc).y(lc),y.defined(sh).curve(h),y(p)},j_=function(e){var n=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var s=r&&r.length?UH(e):a;return X.createElement("path",I_({},Fe(e,!1),_h(e),{className:tt("recharts-curve",n),d:s,ref:i}))},ox={exports:{}},sx,fN;function FH(){if(fN)return sx;fN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sx=t,sx}var lx,dN;function VH(){if(dN)return lx;dN=1;var t=FH();function e(){}function n(){}return n.resetWarningCache=e,lx=function(){function r(s,u,f,c,h,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},lx}var hN;function zH(){return hN||(hN=1,ox.exports=VH()()),ox.exports}var GH=zH();const xt=vt(GH);var HH=Object.getOwnPropertyNames,KH=Object.getOwnPropertySymbols,YH=Object.prototype.hasOwnProperty;function mN(t,e){return function(r,a,i){return t(r,a,i)&&e(r,a,i)}}function lh(t){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,a);var i=a.cache,s=i.get(n),u=i.get(r);if(s&&u)return s===r&&u===n;i.set(n,r),i.set(r,n);var f=t(n,r,a);return i.delete(n),i.delete(r),f}}function pN(t){return HH(t).concat(KH(t))}var WH=Object.hasOwn||function(t,e){return YH.call(t,e)};function es(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var XH="__v",ZH="__o",JH="_owner",gN=Object.getOwnPropertyDescriptor,vN=Object.keys;function QH(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function eK(t,e){return es(t.getTime(),e.getTime())}function tK(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function nK(t,e){return t===e}function yN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.entries(),s,u,f=0;(s=i.next())&&!s.done;){for(var c=e.entries(),h=!1,p=0;(u=c.next())&&!u.done;){if(a[p]){p++;continue}var y=s.value,_=u.value;if(n.equals(y[0],_[0],f,p,t,e,n)&&n.equals(y[1],_[1],y[0],_[0],t,e,n)){h=a[p]=!0;break}p++}if(!h)return!1;f++}return!0}var rK=es;function aK(t,e,n){var r=vN(t),a=r.length;if(vN(e).length!==a)return!1;for(;a-- >0;)if(!b5(t,e,n,r[a]))return!1;return!0}function uc(t,e,n){var r=pN(t),a=r.length;if(pN(e).length!==a)return!1;for(var i,s,u;a-- >0;)if(i=r[a],!b5(t,e,n,i)||(s=gN(t,i),u=gN(e,i),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function iK(t,e){return es(t.valueOf(),e.valueOf())}function oK(t,e){return t.source===e.source&&t.flags===e.flags}function bN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.values(),s,u;(s=i.next())&&!s.done;){for(var f=e.values(),c=!1,h=0;(u=f.next())&&!u.done;){if(!a[h]&&n.equals(s.value,u.value,s.value,u.value,t,e,n)){c=a[h]=!0;break}h++}if(!c)return!1}return!0}function sK(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function lK(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function b5(t,e,n,r){return(r===JH||r===ZH||r===XH)&&(t.$$typeof||e.$$typeof)?!0:WH(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var uK="[object Arguments]",cK="[object Boolean]",fK="[object Date]",dK="[object Error]",hK="[object Map]",mK="[object Number]",pK="[object Object]",gK="[object RegExp]",vK="[object Set]",yK="[object String]",bK="[object URL]",xK=Array.isArray,xN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,_N=Object.assign,_K=Object.prototype.toString.call.bind(Object.prototype.toString);function SK(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,u=t.areObjectsEqual,f=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,h=t.areSetsEqual,p=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(w,A,T){if(w===A)return!0;if(w==null||A==null)return!1;var k=typeof w;if(k!==typeof A)return!1;if(k!=="object")return k==="number"?s(w,A,T):k==="function"?a(w,A,T):!1;var M=w.constructor;if(M!==A.constructor)return!1;if(M===Object)return u(w,A,T);if(xK(w))return e(w,A,T);if(xN!=null&&xN(w))return p(w,A,T);if(M===Date)return n(w,A,T);if(M===RegExp)return c(w,A,T);if(M===Map)return i(w,A,T);if(M===Set)return h(w,A,T);var E=_K(w);return E===fK?n(w,A,T):E===gK?c(w,A,T):E===hK?i(w,A,T):E===vK?h(w,A,T):E===pK?typeof w.then!="function"&&typeof A.then!="function"&&u(w,A,T):E===bK?y(w,A,T):E===dK?r(w,A,T):E===uK?u(w,A,T):E===cK||E===mK||E===yK?f(w,A,T):!1}}function wK(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,a={areArraysEqual:r?uc:QH,areDatesEqual:eK,areErrorsEqual:tK,areFunctionsEqual:nK,areMapsEqual:r?mN(yN,uc):yN,areNumbersEqual:rK,areObjectsEqual:r?uc:aK,arePrimitiveWrappersEqual:iK,areRegExpsEqual:oK,areSetsEqual:r?mN(bN,uc):bN,areTypedArraysEqual:r?uc:sK,areUrlsEqual:lK};if(n&&(a=_N({},a,n(a))),e){var i=lh(a.areArraysEqual),s=lh(a.areMapsEqual),u=lh(a.areObjectsEqual),f=lh(a.areSetsEqual);a=_N({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:u,areSetsEqual:f})}return a}function TK(t){return function(e,n,r,a,i,s,u){return t(e,n,u)}}function AK(t){var e=t.circular,n=t.comparator,r=t.createState,a=t.equals,i=t.strict;if(r)return function(f,c){var h=r(),p=h.cache,y=p===void 0?e?new WeakMap:void 0:p,_=h.meta;return n(f,c,{cache:y,equals:a,meta:_,strict:i})};if(e)return function(f,c){return n(f,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(f,c){return n(f,c,s)}}var EK=Xi();Xi({strict:!0});Xi({circular:!0});Xi({circular:!0,strict:!0});Xi({createInternalComparator:function(){return es}});Xi({strict:!0,createInternalComparator:function(){return es}});Xi({circular:!0,createInternalComparator:function(){return es}});Xi({circular:!0,createInternalComparator:function(){return es},strict:!0});function Xi(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,u=wK(t),f=SK(u),c=r?r(f):TK(f);return AK({circular:n,comparator:f,createState:a,equals:c,strict:s})}function CK(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function SN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>e?(t(i),n=-1):CK(a)};requestAnimationFrame(r)}function L_(t){"@babel/helpers - typeof";return L_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L_(t)}function kK(t){return NK(t)||DK(t)||MK(t)||OK()}function OK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(t,e){if(t){if(typeof t=="string")return wN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wN(t,e)}}function wN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NK(t){if(Array.isArray(t))return t}function PK(){var t={},e=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var s=i,u=kK(s),f=u[0],c=u.slice(1);if(typeof f=="number"){SN(a.bind(null,c),f);return}a(f),SN(a.bind(null,c));return}L_(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){x5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x5(t,e,n){return e=RK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RK(t){var e=IK(t,"string");return Zc(e)==="symbol"?e:String(e)}function IK(t,e){if(Zc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jK=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},LK=function(e){return e},$K=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Tc=function(e,n){return Object.keys(n).reduce(function(r,a){return AN(AN({},r),{},x5({},a,e(a,n[a])))},{})},EN=function(e,n,r){return e.map(function(a){return"".concat($K(a)," ").concat(n,"ms ").concat(r)}).join(",")};function BK(t,e){return FK(t)||UK(t,e)||_5(t,e)||qK()}function qK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],f=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(h){c=!0,a=h}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function FK(t){if(Array.isArray(t))return t}function VK(t){return HK(t)||GK(t)||_5(t)||zK()}function zK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _5(t,e){if(t){if(typeof t=="string")return $_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(t,e)}}function GK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HK(t){if(Array.isArray(t))return $_(t)}function $_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yh=1e-4,S5=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},w5=function(e,n){return e.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},CN=function(e,n){return function(r){var a=S5(e,n);return w5(a,r)}},KK=function(e,n){return function(r){var a=S5(e,n),i=[].concat(VK(a.map(function(s,u){return s*u}).slice(1)),[0]);return w5(i,r)}},kN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0],i=n[1],s=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,s=1,u=1;break;case"ease":a=.25,i=.1,s=.25,u=1;break;case"ease-in":a=.42,i=0,s=1,u=1;break;case"ease-out":a=.42,i=0,s=.58,u=1;break;case"ease-in-out":a=0,i=0,s=.58,u=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var c=f[1].split(")")[0].split(",").map(function(T){return parseFloat(T)}),h=BK(c,4);a=h[0],i=h[1],s=h[2],u=h[3]}}}var p=CN(a,s),y=CN(i,u),_=KK(a,s),w=function(k){return k>1?1:k<0?0:k},A=function(k){for(var M=k>1?1:k,E=M,D=0;D<8;++D){var C=p(E)-M,O=_(E);if(Math.abs(C-M)<Yh||O<Yh)return y(E);E=w(E-C/O)}return y(E)};return A.isStepper=!1,A},YK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,a=e.damping,i=a===void 0?8:a,s=e.dt,u=s===void 0?17:s,f=function(h,p,y){var _=-(h-p)*r,w=y*i,A=y+(_-w)*u/1e3,T=y*u/1e3+h;return Math.abs(T-p)<Yh&&Math.abs(A)<Yh?[p,0]:[T,A]};return f.isStepper=!0,f.dt=u,f},WK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kN(a);case"spring":return YK();default:if(a.split("(")[0]==="cubic-bezier")return kN(a)}return typeof a=="function"?a:null};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function ON(t){return JK(t)||ZK(t)||T5(t)||XK()}function XK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JK(t){if(Array.isArray(t))return q_(t)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){B_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B_(t,e,n){return e=QK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QK(t){var e=eY(t,"string");return Jc(e)==="symbol"?e:String(e)}function eY(t,e){if(Jc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tY(t,e){return aY(t)||rY(t,e)||T5(t,e)||nY()}function nY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T5(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],f=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(h){c=!0,a=h}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function aY(t){if(Array.isArray(t))return t}var Wh=function(e,n,r){return e+(n-e)*r},U_=function(e){var n=e.from,r=e.to;return n!==r},iY=function t(e,n,r){var a=Tc(function(i,s){if(U_(s)){var u=e(s.from,s.to,s.velocity),f=tY(u,2),c=f[0],h=f[1];return En(En({},s),{},{from:c,velocity:h})}return s},n);return r<1?Tc(function(i,s){return U_(s)?En(En({},s),{},{velocity:Wh(s.velocity,a[i].velocity,r),from:Wh(s.from,a[i].from,r)}):s},n):t(e,a,r-1)};const oY=function(t,e,n,r,a){var i=jK(t,e),s=i.reduce(function(T,k){return En(En({},T),{},B_({},k,[t[k],e[k]]))},{}),u=i.reduce(function(T,k){return En(En({},T),{},B_({},k,{from:t[k],velocity:0,to:e[k]}))},{}),f=-1,c,h,p=function(){return null},y=function(){return Tc(function(k,M){return M.from},u)},_=function(){return!Object.values(u).filter(U_).length},w=function(k){c||(c=k);var M=k-c,E=M/n.dt;u=iY(n,u,E),a(En(En(En({},t),e),y())),c=k,_()||(f=requestAnimationFrame(p))},A=function(k){h||(h=k);var M=(k-h)/r,E=Tc(function(C,O){return Wh.apply(void 0,ON(O).concat([n(M)]))},s);if(a(En(En(En({},t),e),E)),M<1)f=requestAnimationFrame(p);else{var D=Tc(function(C,O){return Wh.apply(void 0,ON(O).concat([n(1)]))},s);a(En(En(En({},t),e),D))}};return p=n.isStepper?w:A,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(f)}}};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}var sY=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lY(t,e){if(t==null)return{};var n=uY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uY(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function ux(t){return hY(t)||dY(t)||fY(t)||cY()}function cY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fY(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function dY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hY(t){if(Array.isArray(t))return F_(t)}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){pc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pc(t,e,n){return e=A5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A5(r.key),r)}}function gY(t,e,n){return e&&pY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function A5(t){var e=vY(t,"string");return wl(e)==="symbol"?e:String(e)}function vY(t,e){if(wl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},V_(t,e)}function bY(t){var e=xY();return function(){var r=Xh(t),a;if(e){var i=Xh(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return z_(this,a)}}function z_(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G_(t)}function G_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xh(t){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xh(t)}var Xa=function(t){yY(n,t);var e=bY(n);function n(r,a){var i;mY(this,n),i=e.call(this,r,a);var s=i.props,u=s.isActive,f=s.attributeName,c=s.from,h=s.to,p=s.steps,y=s.children,_=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(G_(i)),i.changeStyle=i.changeStyle.bind(G_(i)),!u||_<=0)return i.state={style:{}},typeof y=="function"&&(i.state={style:h}),z_(i);if(p&&p.length)i.state={style:p[0].style};else if(c){if(typeof y=="function")return i.state={style:c},z_(i);i.state={style:f?pc({},f,c):c}}else i.state={style:{}};return i}return gY(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,u=i.canBegin,f=i.attributeName,c=i.shouldReAnimate,h=i.to,p=i.from,y=this.state.style;if(u){if(!s){var _={style:f?pc({},f,h):h};this.state&&y&&(f&&y[f]!==h||!f&&y!==h)&&this.setState(_);return}if(!(EK(a.to,h)&&a.canBegin&&a.isActive)){var w=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=w||c?p:a.to;if(this.state&&y){var T={style:f?pc({},f,A):A};(f&&y[f]!==A||!f&&y!==A)&&this.setState(T)}this.runAnimation(Vr(Vr({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,u=a.to,f=a.duration,c=a.easing,h=a.begin,p=a.onAnimationEnd,y=a.onAnimationStart,_=oY(s,u,WK(c),f,this.changeStyle),w=function(){i.stopJSAnimation=_()};this.manager.start([y,h,w,f,p])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,u=a.begin,f=a.onAnimationStart,c=s[0],h=c.style,p=c.duration,y=p===void 0?0:p,_=function(A,T,k){if(k===0)return A;var M=T.duration,E=T.easing,D=E===void 0?"ease":E,C=T.style,O=T.properties,P=T.onAnimationEnd,I=k>0?s[k-1]:T,U=O||Object.keys(C);if(typeof D=="function"||D==="spring")return[].concat(ux(A),[i.runJSAnimation.bind(i,{from:I.style,to:C,duration:M,easing:D}),M]);var V=EN(U,M,D),$=Vr(Vr(Vr({},I.style),C),{},{transition:V});return[].concat(ux(A),[$,M,P]).filter(LK)};return this.manager.start([f].concat(ux(s.reduce(_,[h,Math.max(y,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=PK());var i=a.begin,s=a.duration,u=a.attributeName,f=a.to,c=a.easing,h=a.onAnimationStart,p=a.onAnimationEnd,y=a.steps,_=a.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof c=="function"||typeof _=="function"||c==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var A=u?pc({},u,f):f,T=EN(Object.keys(A),s,c);w.start([h,i,Vr(Vr({},A),{},{transition:T}),s,p])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var f=lY(a,sY),c=j.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!u||c===0||s<=0)return i;var p=function(_){var w=_.props,A=w.style,T=A===void 0?{}:A,k=w.className,M=j.cloneElement(_,Vr(Vr({},f),{},{style:Vr(Vr({},T),h),className:k}));return M};return c===1?p(j.Children.only(i)):X.createElement("div",null,j.Children.map(i,function(y){return p(y)}))}}]),n}(j.PureComponent);Xa.displayName="Animate";Xa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xa.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}function _Y(t,e){return AY(t)||TY(t,e)||wY(t,e)||SY()}function SY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wY(t,e){if(t){if(typeof t=="string")return NN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NN(t,e)}}function NN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],f=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(h){c=!0,a=h}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function AY(t){if(Array.isArray(t))return t}function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function RN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){EY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EY(t,e,n){return e=CY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CY(t){var e=kY(t,"string");return Qc(e)=="symbol"?e:e+""}function kY(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IN=function(e,n,r,a,i){var s=Math.min(Math.abs(r)/2,Math.abs(a)/2),u=a>=0?1:-1,f=r>=0?1:-1,c=a>=0&&r>=0||a<0&&r<0?1:0,h;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],y=0,_=4;y<_;y++)p[y]=i[y]>s?s:i[y];h="M".concat(e,",").concat(n+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(c,",").concat(e+f*p[0],",").concat(n)),h+="L ".concat(e+r-f*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+u*p[1])),h+="L ".concat(e+r,",").concat(n+a-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(c,`,
        `).concat(e+r-f*p[2],",").concat(n+a)),h+="L ".concat(e+f*p[3],",").concat(n+a),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+a-u*p[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var w=Math.min(s,i);h="M ".concat(e,",").concat(n+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(e+f*w,",").concat(n,`
            L `).concat(e+r-f*w,",").concat(n,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(e+r,",").concat(n+u*w,`
            L `).concat(e+r,",").concat(n+a-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(e+r-f*w,",").concat(n+a,`
            L `).concat(e+f*w,",").concat(n+a,`
            A `).concat(w,",").concat(w,",0,0,").concat(c,",").concat(e,",").concat(n+a-u*w," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return h},OY=function(e,n){if(!e||!n)return!1;var r=e.x,a=e.y,i=n.x,s=n.y,u=n.width,f=n.height;if(Math.abs(u)>0&&Math.abs(f)>0){var c=Math.min(i,i+u),h=Math.max(i,i+u),p=Math.min(s,s+f),y=Math.max(s,s+f);return r>=c&&r<=h&&a>=p&&a<=y}return!1},MY={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lw=function(e){var n=RN(RN({},MY),e),r=j.useRef(),a=j.useState(-1),i=_Y(a,2),s=i[0],u=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&u(D)}catch{}},[]);var f=n.x,c=n.y,h=n.width,p=n.height,y=n.radius,_=n.className,w=n.animationEasing,A=n.animationDuration,T=n.animationBegin,k=n.isAnimationActive,M=n.isUpdateAnimationActive;if(f!==+f||c!==+c||h!==+h||p!==+p||h===0||p===0)return null;var E=tt("recharts-rectangle",_);return M?X.createElement(Xa,{canBegin:s>0,from:{width:h,height:p,x:f,y:c},to:{width:h,height:p,x:f,y:c},duration:A,animationEasing:w,isActive:M},function(D){var C=D.width,O=D.height,P=D.x,I=D.y;return X.createElement(Xa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:A,isActive:k,easing:w},X.createElement("path",Zh({},Fe(n,!0),{className:E,d:IN(P,I,C,O,y),ref:r})))}):X.createElement("path",Zh({},Fe(n,!0),{className:E,d:IN(f,c,h,p,y)}))},DY=["points","className","baseLinePoints","connectNulls"];function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(this,arguments)}function NY(t,e){if(t==null)return{};var n=PY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jN(t){return LY(t)||jY(t)||IY(t)||RY()}function RY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IY(t,e){if(t){if(typeof t=="string")return H_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(t,e)}}function jY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LY(t){if(Array.isArray(t))return H_(t)}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var LN=function(e){return e&&e.x===+e.x&&e.y===+e.y},$Y=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){LN(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),LN(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ac=function(e,n){var r=$Y(e);n&&(r=[r.reduce(function(i,s){return[].concat(jN(i),jN(s))},[])]);var a=r.map(function(i){return i.reduce(function(s,u,f){return"".concat(s).concat(f===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},BY=function(e,n,r){var a=Ac(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ac(n.reverse(),r).slice(1))},qY=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,s=NY(e,DY);if(!n||!n.length)return null;var u=tt("recharts-polygon",r);if(a&&a.length){var f=s.stroke&&s.stroke!=="none",c=BY(n,a,i);return X.createElement("g",{className:u},X.createElement("path",nl({},Fe(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),f?X.createElement("path",nl({},Fe(s,!0),{fill:"none",d:Ac(n,i)})):null,f?X.createElement("path",nl({},Fe(s,!0),{fill:"none",d:Ac(a,i)})):null)}var h=Ac(n,i);return X.createElement("path",nl({},Fe(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(this,arguments)}var $w=function(e){var n=e.cx,r=e.cy,a=e.r,i=e.className,s=tt("recharts-dot",i);return n===+n&&r===+r&&a===+a?X.createElement("circle",K_({},Fe(e,!1),_h(e),{className:s,cx:n,cy:r,r:a})):null};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}var UY=["x","y","top","left","width","height","className"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(this,arguments)}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function FY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){VY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VY(t,e,n){return e=zY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zY(t){var e=GY(t,"string");return ef(e)=="symbol"?e:e+""}function GY(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HY(t,e){if(t==null)return{};var n=KY(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var YY=function(e,n,r,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(n,"h").concat(r)},WY=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,s=e.top,u=s===void 0?0:s,f=e.left,c=f===void 0?0:f,h=e.width,p=h===void 0?0:h,y=e.height,_=y===void 0?0:y,w=e.className,A=HY(e,UY),T=FY({x:r,y:i,top:u,left:c,width:p,height:_},A);return!we(r)||!we(i)||!we(p)||!we(_)||!we(u)||!we(c)?null:X.createElement("path",Y_({},Fe(T,!0),{className:tt("recharts-cross",w),d:YY(r,i,p,_,u,c)}))},cx,BN;function XY(){if(BN)return cx;BN=1;var t=Km(),e=qj(),n=ya();function r(a,i){return a&&a.length?t(a,n(i,2),e):void 0}return cx=r,cx}var ZY=XY();const JY=vt(ZY);var fx,qN;function QY(){if(qN)return fx;qN=1;var t=Km(),e=ya(),n=Uj();function r(a,i){return a&&a.length?t(a,e(i,2),n):void 0}return fx=r,fx}var eW=QY();const tW=vt(eW);var nW=["cx","cy","angle","ticks","axisLine"],rW=["ticks","tick","angle","tickFormatter","stroke"];function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ec.apply(this,arguments)}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){ep(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FN(t,e){if(t==null)return{};var n=aW(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C5(r.key),r)}}function oW(t,e,n){return e&&VN(t.prototype,e),n&&VN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sW(t,e,n){return e=Jh(e),lW(t,E5()?Reflect.construct(e,n||[],Jh(t).constructor):e.apply(t,n))}function lW(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uW(t)}function uW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E5=function(){return!!t})()}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jh(t)}function cW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W_(t,e)}function W_(t,e){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},W_(t,e)}function ep(t,e,n){return e=C5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C5(t){var e=fW(t,"string");return Tl(e)=="symbol"?e:e+""}function fW(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tp=function(t){function e(){return iW(this,e),sW(this,e,arguments)}return cW(e,t),oW(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,s=i.angle,u=i.cx,f=i.cy;return Lt(u,f,a,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,u=r.ticks,f=JY(u,function(h){return h.coordinate||0}),c=tW(u,function(h){return h.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.angle,u=r.ticks,f=r.axisLine,c=FN(r,nW),h=u.reduce(function(w,A){return[Math.min(w[0],A.coordinate),Math.max(w[1],A.coordinate)]},[1/0,-1/0]),p=Lt(a,i,h[0],s),y=Lt(a,i,h[1],s),_=Eo(Eo(Eo({},Fe(c,!1)),{},{fill:"none"},Fe(f,!1)),{},{x1:p.x,y1:p.y,x2:y.x,y2:y.y});return X.createElement("line",Ec({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,u=a.angle,f=a.tickFormatter,c=a.stroke,h=FN(a,rW),p=this.getTickTextAnchor(),y=Fe(h,!1),_=Fe(s,!1),w=i.map(function(A,T){var k=r.getTickValueCoord(A),M=Eo(Eo(Eo(Eo({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(k.x,", ").concat(k.y,")")},y),{},{stroke:"none",fill:c},_),{},{index:T},k),{},{payload:A});return X.createElement(wt,Ec({className:tt("recharts-polar-radius-axis-tick",p5(s)),key:"tick-".concat(A.coordinate)},Fo(r.props,A,T)),e.renderTickItem(s,M,f?f(A.value,T):A.value))});return X.createElement(wt,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,s=r.tick;return!a||!a.length?null:X.createElement(wt,{className:tt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),yn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var s;return X.isValidElement(r)?s=X.cloneElement(r,a):Ve(r)?s=r(a):s=X.createElement(Vo,Ec({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(j.PureComponent);ep(tp,"displayName","PolarRadiusAxis");ep(tp,"axisType","radiusAxis");ep(tp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function Po(){return Po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Po.apply(this,arguments)}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){np(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O5(r.key),r)}}function hW(t,e,n){return e&&GN(t.prototype,e),n&&GN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mW(t,e,n){return e=Qh(e),pW(t,k5()?Reflect.construct(e,n||[],Qh(t).constructor):e.apply(t,n))}function pW(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gW(t)}function gW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k5=function(){return!!t})()}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qh(t)}function vW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},X_(t,e)}function np(t,e,n){return e=O5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O5(t){var e=yW(t,"string");return Al(e)=="symbol"?e:e+""}function yW(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bW=Math.PI/180,HN=1e-5,rp=function(t){function e(){return dW(this,e),mW(this,e,arguments)}return vW(e,t),hW(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,s=a.cy,u=a.radius,f=a.orientation,c=a.tickSize,h=c||8,p=Lt(i,s,u,r.coordinate),y=Lt(i,s,u+(f==="inner"?-1:1)*h,r.coordinate);return{x1:p.x,y1:p.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*bW),s;return i>HN?s=a==="outer"?"start":"end":i<-HN?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,s=r.radius,u=r.axisLine,f=r.axisLineType,c=Co(Co({},Fe(this.props,!1)),{},{fill:"none"},Fe(u,!1));if(f==="circle")return X.createElement($w,Po({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:i,r:s}));var h=this.props.ticks,p=h.map(function(y){return Lt(a,i,s,y.coordinate)});return X.createElement(qY,Po({className:"recharts-polar-angle-axis-line"},c,{points:p}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,s=a.tick,u=a.tickLine,f=a.tickFormatter,c=a.stroke,h=Fe(this.props,!1),p=Fe(s,!1),y=Co(Co({},h),{},{fill:"none"},Fe(u,!1)),_=i.map(function(w,A){var T=r.getTickLineCoord(w),k=r.getTickTextAnchor(w),M=Co(Co(Co({textAnchor:k},h),{},{stroke:"none",fill:c},p),{},{index:A,payload:w,x:T.x2,y:T.y2});return X.createElement(wt,Po({className:tt("recharts-polar-angle-axis-tick",p5(s)),key:"tick-".concat(w.coordinate)},Fo(r.props,w,A)),u&&X.createElement("line",Po({className:"recharts-polar-angle-axis-tick-line"},y,T)),s&&e.renderTickItem(s,M,f?f(w.value,A):w.value))});return X.createElement(wt,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,s=r.axisLine;return i<=0||!a||!a.length?null:X.createElement(wt,{className:tt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var s;return X.isValidElement(r)?s=X.cloneElement(r,a):Ve(r)?s=r(a):s=X.createElement(Vo,Po({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(j.PureComponent);np(rp,"displayName","PolarAngleAxis");np(rp,"axisType","angleAxis");np(rp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var dx,KN;function xW(){if(KN)return dx;KN=1;var t=$I(),e=t(Object.getPrototypeOf,Object);return dx=e,dx}var hx,YN;function _W(){if(YN)return hx;YN=1;var t=Ja(),e=xW(),n=Qa(),r="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,u=i.hasOwnProperty,f=s.call(Object);function c(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var y=u.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==f}return hx=c,hx}var SW=_W();const wW=vt(SW);var mx,WN;function TW(){if(WN)return mx;WN=1;var t=Ja(),e=Qa(),n="[object Boolean]";function r(a){return a===!0||a===!1||e(a)&&t(a)==n}return mx=r,mx}var AW=TW();const EW=vt(AW);function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},em.apply(this,arguments)}function CW(t,e){return DW(t)||MW(t,e)||OW(t,e)||kW()}function kW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OW(t,e){if(t){if(typeof t=="string")return XN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XN(t,e)}}function XN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],f=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(h){c=!0,a=h}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function DW(t){if(Array.isArray(t))return t}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function JN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){NW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NW(t,e,n){return e=PW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PW(t){var e=RW(t,"string");return tf(e)=="symbol"?e:e+""}function RW(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QN=function(e,n,r,a,i){var s=r-a,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-s/2,",").concat(n+i),u+="L ".concat(e+r-s/2-a,",").concat(n+i),u+="L ".concat(e,",").concat(n," Z"),u},IW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jW=function(e){var n=JN(JN({},IW),e),r=j.useRef(),a=j.useState(-1),i=CW(a,2),s=i[0],u=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&u(E)}catch{}},[]);var f=n.x,c=n.y,h=n.upperWidth,p=n.lowerWidth,y=n.height,_=n.className,w=n.animationEasing,A=n.animationDuration,T=n.animationBegin,k=n.isUpdateAnimationActive;if(f!==+f||c!==+c||h!==+h||p!==+p||y!==+y||h===0&&p===0||y===0)return null;var M=tt("recharts-trapezoid",_);return k?X.createElement(Xa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:f,y:c},to:{upperWidth:h,lowerWidth:p,height:y,x:f,y:c},duration:A,animationEasing:w,isActive:k},function(E){var D=E.upperWidth,C=E.lowerWidth,O=E.height,P=E.x,I=E.y;return X.createElement(Xa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:A,easing:w},X.createElement("path",em({},Fe(n,!0),{className:M,d:QN(P,I,D,C,O),ref:r})))}):X.createElement("g",null,X.createElement("path",em({},Fe(n,!0),{className:M,d:QN(f,c,h,p,y)})))},LW=["option","shapeType","propTransformer","activeClassName","isActive"];function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function $W(t,e){if(t==null)return{};var n=BW(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){qW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qW(t,e,n){return e=UW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UW(t){var e=FW(t,"string");return nf(e)=="symbol"?e:e+""}function FW(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VW(t,e){return tm(tm({},e),t)}function zW(t,e){return t==="symbols"}function t2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return X.createElement(Lw,n);case"trapezoid":return X.createElement(jW,n);case"sector":return X.createElement(y5,n);case"symbols":if(zW(e))return X.createElement(nw,n);break;default:return null}}function GW(t){return j.isValidElement(t)?t.props:t}function M5(t){var e=t.option,n=t.shapeType,r=t.propTransformer,a=r===void 0?VW:r,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,u=t.isActive,f=$W(t,LW),c;if(j.isValidElement(e))c=j.cloneElement(e,tm(tm({},f),GW(e)));else if(Ve(e))c=e(f);else if(wW(e)&&!EW(e)){var h=a(e,f);c=X.createElement(t2,{shapeType:n,elementProps:h})}else{var p=f;c=X.createElement(t2,{shapeType:n,elementProps:p})}return u?X.createElement(wt,{className:s},c):c}function ap(t,e){return e!=null&&"trapezoids"in t.props}function ip(t,e){return e!=null&&"sectors"in t.props}function rf(t,e){return e!=null&&"points"in t.props}function HW(t,e){var n,r,a=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return a&&i}function KW(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function YW(t,e){var n=t.x===e.x,r=t.y===e.y,a=t.z===e.z;return n&&r&&a}function WW(t,e){var n;return ap(t,e)?n=HW:ip(t,e)?n=KW:rf(t,e)&&(n=YW),n}function XW(t,e){var n;return ap(t,e)?n="trapezoids":ip(t,e)?n="sectors":rf(t,e)&&(n="points"),n}function ZW(t,e){if(ap(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ip(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return rf(t,e)?e.payload:{}}function JW(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,a=XW(n,e),i=ZW(n,e),s=r.filter(function(f,c){var h=Xm(i,f),p=n.props[a].filter(function(w){var A=WW(n,e);return A(w,e)}),y=n.props[a].indexOf(p[p.length-1]),_=c===y;return h&&_}),u=r.indexOf(s[s.length-1]);return u}var mh;function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(this,arguments)}function n2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(n),!0).forEach(function(r){Dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N5(r.key),r)}}function eX(t,e,n){return e&&r2(t.prototype,e),n&&r2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tX(t,e,n){return e=nm(e),nX(t,D5()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function nX(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rX(t)}function rX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D5=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function aX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Z_(t,e)}function Dr(t,e,n){return e=N5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N5(t){var e=iX(t,"string");return El(e)=="symbol"?e:e+""}function iX(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ti=function(t){function e(n){var r;return QW(this,e),r=tX(this,e,[n]),Dr(r,"pieRef",null),Dr(r,"sectorRefs",[]),Dr(r,"id",gf("recharts-pie-")),Dr(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ve(a)&&a()}),Dr(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ve(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return aX(e,t),eX(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,u=i.labelLine,f=i.dataKey,c=i.valueKey,h=Fe(this.props,!1),p=Fe(s,!1),y=Fe(u,!1),_=s&&s.offsetRadius||20,w=r.map(function(A,T){var k=(A.startAngle+A.endAngle)/2,M=Lt(A.cx,A.cy,A.outerRadius+_,k),E=It(It(It(It({},h),A),{},{stroke:"none"},p),{},{index:T,textAnchor:e.getTextAnchor(M.x,A.cx)},M),D=It(It(It(It({},h),A),{},{fill:"none",stroke:A.fill},y),{},{index:T,points:[Lt(A.cx,A.cy,A.outerRadius,k),M]}),C=f;return st(f)&&st(c)?C="value":st(f)&&(C=c),X.createElement(wt,{key:"label-".concat(A.startAngle,"-").concat(A.endAngle,"-").concat(A.midAngle,"-").concat(T)},u&&e.renderLabelLineItem(u,D,"line"),e.renderLabelItem(s,E,jn(A,C)))});return X.createElement(wt,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,s=i.activeShape,u=i.blendStroke,f=i.inactiveShape;return r.map(function(c,h){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var p=a.isActiveIndex(h),y=f&&a.hasActiveIndex()?f:null,_=p?s:y,w=It(It({},c),{},{stroke:u?c.fill:c.stroke,tabIndex:-1});return X.createElement(wt,rl({ref:function(T){T&&!a.sectorRefs.includes(T)&&a.sectorRefs.push(T)},tabIndex:-1,className:"recharts-pie-sector"},Fo(a.props,c,h),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(h)}),X.createElement(M5,rl({option:_,isActive:p,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,s=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,c=a.animationEasing,h=a.animationId,p=this.state,y=p.prevSectors,_=p.prevIsAnimationActive;return X.createElement(Xa,{begin:u,duration:f,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var A=w.t,T=[],k=i&&i[0],M=k.startAngle;return i.forEach(function(E,D){var C=y&&y[D],O=D>0?br(E,"paddingAngle",0):0;if(C){var P=Ii(C.endAngle-C.startAngle,E.endAngle-E.startAngle),I=It(It({},E),{},{startAngle:M+O,endAngle:M+P(A)+O});T.push(I),M=I.endAngle}else{var U=E.endAngle,V=E.startAngle,$=Ii(0,U-V),H=$(A),Z=It(It({},E),{},{startAngle:M+O,endAngle:M+H+O});T.push(Z),M=Z.endAngle}}),X.createElement(wt,null,r.renderSectorsStatically(T))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Xm(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,s=a.sectors,u=a.className,f=a.label,c=a.cx,h=a.cy,p=a.innerRadius,y=a.outerRadius,_=a.isAnimationActive,w=this.state.isAnimationFinished;if(i||!s||!s.length||!we(c)||!we(h)||!we(p)||!we(y))return null;var A=tt("recharts-pie",u);return X.createElement(wt,{tabIndex:this.props.rootTabIndex,className:A,ref:function(k){r.pieRef=k}},this.renderSectors(),f&&this.renderLabels(s),yn.renderCallByParent(this.props,null,!1),(!_||w)&&Vi.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(X.isValidElement(r))return X.cloneElement(r,a);if(Ve(r))return r(a);var s=tt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return X.createElement(j_,rl({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,a,i){if(X.isValidElement(r))return X.cloneElement(r,a);var s=i;if(Ve(r)&&(s=r(a),X.isValidElement(s)))return s;var u=tt("recharts-pie-label-text",typeof r!="boolean"&&!Ve(r)?r.className:"");return X.createElement(Vo,rl({},a,{alignmentBaseline:"middle",className:u}),s)}}])}(j.PureComponent);mh=ti;Dr(ti,"displayName","Pie");Dr(ti,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Yl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Dr(ti,"parseDeltaAngle",function(t,e){var n=Fn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Dr(ti,"getRealPieData",function(t){var e=t.data,n=t.children,r=Fe(t,!1),a=Pr(n,qm);return e&&e.length?e.map(function(i,s){return It(It(It({payload:i},r),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return It(It({},r),i.props)}):[]});Dr(ti,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,a=e.width,i=e.height,s=m5(a,i),u=r+Vn(t.cx,a,a/2),f=n+Vn(t.cy,i,i/2),c=Vn(t.innerRadius,s,0),h=Vn(t.outerRadius,s,s*.8),p=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:u,cy:f,innerRadius:c,outerRadius:h,maxRadius:p}});Dr(ti,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?It(It({},e.type.defaultProps),e.props):e.props,a=mh.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,s=r.startAngle,u=r.endAngle,f=r.paddingAngle,c=r.dataKey,h=r.nameKey,p=r.valueKey,y=r.tooltipType,_=Math.abs(r.minAngle),w=mh.parseCoordinateOfPie(r,n),A=mh.parseDeltaAngle(s,u),T=Math.abs(A),k=c;st(c)&&st(p)?(Wr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k="value"):st(c)&&(Wr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k=p);var M=a.filter(function(I){return jn(I,k,0)!==0}).length,E=(T>=360?M:M-1)*f,D=T-M*_-E,C=a.reduce(function(I,U){var V=jn(U,k,0);return I+(we(V)?V:0)},0),O;if(C>0){var P;O=a.map(function(I,U){var V=jn(I,k,0),$=jn(I,h,U),H=(we(V)?V:0)/C,Z;U?Z=P.endAngle+Fn(A)*f*(V!==0?1:0):Z=s;var Y=Z+Fn(A)*((V!==0?_:0)+H*D),B=(Z+Y)/2,L=(w.innerRadius+w.outerRadius)/2,F=[{name:$,value:V,payload:I,dataKey:k,type:y}],W=Lt(w.cx,w.cy,L,B);return P=It(It(It({percent:H,cornerRadius:i,name:$,tooltipPayload:F,midAngle:B,middleRadius:L,tooltipPosition:W},I),w),{},{value:jn(I,k),startAngle:Z,endAngle:Y,payload:I,paddingAngle:Fn(A)*f}),P})}return It(It({},w),{},{sectors:O,data:a})});var px,a2;function oX(){if(a2)return px;a2=1;var t=Math.ceil,e=Math.max;function n(r,a,i,s){for(var u=-1,f=e(t((a-r)/(i||1)),0),c=Array(f);f--;)c[s?f:++u]=r,r+=i;return c}return px=n,px}var gx,i2;function P5(){if(i2)return gx;i2=1;var t=ej(),e=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*n}return a===a?a:0}return gx=r,gx}var vx,o2;function sX(){if(o2)return vx;o2=1;var t=oX(),e=Bm(),n=P5();function r(a){return function(i,s,u){return u&&typeof u!="number"&&e(i,s,u)&&(s=u=void 0),i=n(i),s===void 0?(s=i,i=0):s=n(s),u=u===void 0?i<s?1:-1:n(u),t(i,s,u,a)}}return vx=r,vx}var yx,s2;function lX(){if(s2)return yx;s2=1;var t=sX(),e=t();return yx=e,yx}var uX=lX();const rm=vt(uX);function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function u2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){R5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R5(t,e,n){return e=cX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cX(t){var e=fX(t,"string");return af(e)=="symbol"?e:e+""}function fX(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dX=["Webkit","Moz","O","ms"],hX=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=dX.reduce(function(i,s){return u2(u2({},i),{},R5({},s+r,n))},{});return a[e]=n,a};function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){pr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j5(r.key),r)}}function pX(t,e,n){return e&&f2(t.prototype,e),n&&f2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gX(t,e,n){return e=im(e),vX(t,I5()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function vX(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yX(t)}function yX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I5=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function bX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},J_(t,e)}function pr(t,e,n){return e=j5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j5(t){var e=xX(t,"string");return Cl(e)=="symbol"?e:e+""}function xX(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _X=function(e){var n=e.data,r=e.startIndex,a=e.endIndex,i=e.x,s=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var f=n.length,c=Sc().domain(rm(0,f)).range([i,i+s-u]),h=c.domain().map(function(p){return c(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(a),scale:c,scaleValues:h}},d2=function(e){return e.changedTouches&&!!e.changedTouches.length},kl=function(t){function e(n){var r;return mX(this,e),r=gX(this,e,[n]),pr(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),pr(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),pr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,s=a.onDragEnd,u=a.startIndex;s==null||s({endIndex:i,startIndex:u})}),r.detachDragEndListener()}),pr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),pr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),pr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),pr(r,"handleSlideDragStart",function(a){var i=d2(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return bX(e,t),pX(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,s=this.state.scaleValues,u=this.props,f=u.gap,c=u.data,h=c.length-1,p=Math.min(a,i),y=Math.max(a,i),_=e.getIndexInRange(s,p),w=e.getIndexInRange(s,y);return{startIndex:_-_%f,endIndex:w===h?h:w-w%f}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,s=a.tickFormatter,u=a.dataKey,f=jn(i[r],u,r);return Ve(s)?s(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,s=a.startX,u=a.endX,f=this.props,c=f.x,h=f.width,p=f.travellerWidth,y=f.startIndex,_=f.endIndex,w=f.onChange,A=r.pageX-i;A>0?A=Math.min(A,c+h-p-u,c+h-p-s):A<0&&(A=Math.max(A,c-s,c-u));var T=this.getIndex({startX:s+A,endX:u+A});(T.startIndex!==y||T.endIndex!==_)&&w&&w(T),this.setState({startX:s+A,endX:u+A,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=d2(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,u=a.endX,f=a.startX,c=this.state[s],h=this.props,p=h.x,y=h.width,_=h.travellerWidth,w=h.onChange,A=h.gap,T=h.data,k={startX:this.state.startX,endX:this.state.endX},M=r.pageX-i;M>0?M=Math.min(M,p+y-_-c):M<0&&(M=Math.max(M,p-c)),k[s]=c+M;var E=this.getIndex(k),D=E.startIndex,C=E.endIndex,O=function(){var I=T.length-1;return s==="startX"&&(u>f?D%A===0:C%A===0)||u<f&&C===I||s==="endX"&&(u>f?C%A===0:D%A===0)||u>f&&C===I};this.setState(pr(pr({},s,c+M),"brushMoveStartX",r.pageX),function(){w&&O()&&w(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,s=this.state,u=s.scaleValues,f=s.startX,c=s.endX,h=this.state[a],p=u.indexOf(h);if(p!==-1){var y=p+r;if(!(y===-1||y>=u.length)){var _=u[y];a==="startX"&&_>=c||a==="endX"&&_<=f||this.setState(pr({},a,_),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,f=r.fill,c=r.stroke;return X.createElement("rect",{stroke:c,fill:f,x:a,y:i,width:s,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,f=r.data,c=r.children,h=r.padding,p=j.Children.only(c);return p?X.cloneElement(p,{x:a,y:i,width:s,height:u,margin:h,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,s,u=this,f=this.props,c=f.y,h=f.travellerWidth,p=f.height,y=f.traveller,_=f.ariaLabel,w=f.data,A=f.startIndex,T=f.endIndex,k=Math.max(r,this.props.x),M=bx(bx({},Fe(this.props,!1)),{},{x:k,y:c,width:h,height:p}),E=_||"Min value: ".concat((i=w[A])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=w[T])===null||s===void 0?void 0:s.name);return X.createElement(wt,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),u.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,M))}},{key:"renderSlide",value:function(r,a){var i=this.props,s=i.y,u=i.height,f=i.stroke,c=i.travellerWidth,h=Math.min(r,a)+c,p=Math.max(Math.abs(a-r)-c,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:h,y:s,width:p,height:u})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,s=r.y,u=r.height,f=r.travellerWidth,c=r.stroke,h=this.state,p=h.startX,y=h.endX,_=5,w={pointerEvents:"none",fill:c};return X.createElement(wt,{className:"recharts-brush-texts"},X.createElement(Vo,am({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-_,y:s+u/2},w),this.getTextOfTick(a)),X.createElement(Vo,am({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+f+_,y:s+u/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,s=r.children,u=r.x,f=r.y,c=r.width,h=r.height,p=r.alwaysShowText,y=this.state,_=y.startX,w=y.endX,A=y.isTextActive,T=y.isSlideMoving,k=y.isTravellerMoving,M=y.isTravellerFocused;if(!a||!a.length||!we(u)||!we(f)||!we(c)||!we(h)||c<=0||h<=0)return null;var E=tt("recharts-brush",i),D=X.Children.count(s)===1,C=hX("userSelect","none");return X.createElement(wt,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(_,w),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(w,"endX"),(A||T||k||M||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,s=r.width,u=r.height,f=r.stroke,c=Math.floor(i+u/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:a,y:i,width:s,height:u,fill:f,stroke:"none"}),X.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return X.isValidElement(r)?i=X.cloneElement(r,a):Ve(r)?i=r(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,s=r.width,u=r.x,f=r.travellerWidth,c=r.updateId,h=r.startIndex,p=r.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return bx({prevData:i,prevTravellerWidth:f,prevUpdateId:c,prevX:u,prevWidth:s},i&&i.length?_X({data:i,width:s,x:u,travellerWidth:f,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||u!==a.prevX||f!==a.prevTravellerWidth)){a.scale.range([u,u+s-f]);var y=a.scale.domain().map(function(_){return a.scale(_)});return{prevData:i,prevTravellerWidth:f,prevUpdateId:c,prevX:u,prevWidth:s,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,s=0,u=i-1;u-s>1;){var f=Math.floor((s+u)/2);r[f]>a?u=f:s=f}return a>=r[u]?u:s}}])}(j.PureComponent);pr(kl,"displayName","Brush");pr(kl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var xx,h2;function SX(){if(h2)return xx;h2=1;var t=uw();function e(n,r){var a;return t(n,function(i,s,u){return a=r(i,s,u),!a}),!!a}return xx=e,xx}var _x,m2;function wX(){if(m2)return _x;m2=1;var t=DI(),e=ya(),n=SX(),r=ar(),a=Bm();function i(s,u,f){var c=r(s)?t:n;return f&&a(s,u,f)&&(u=void 0),c(s,e(u,3))}return _x=i,_x}var TX=wX();const AX=vt(TX);var da=function(e,n){var r=e.alwaysShow,a=e.ifOverflow;return r&&(a="extendDomain"),a===n},Sx,p2;function EX(){if(p2)return Sx;p2=1;var t=WI();function e(n,r,a){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return Sx=e,Sx}var wx,g2;function CX(){if(g2)return wx;g2=1;var t=EX(),e=KI(),n=ya();function r(a,i){var s={};return i=n(i,3),e(a,function(u,f,c){t(s,f,i(u,f,c))}),s}return wx=r,wx}var kX=CX();const OX=vt(kX);var Tx,v2;function MX(){if(v2)return Tx;v2=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!n(e[r],r,e))return!1;return!0}return Tx=t,Tx}var Ax,y2;function DX(){if(y2)return Ax;y2=1;var t=uw();function e(n,r){var a=!0;return t(n,function(i,s,u){return a=!!r(i,s,u),a}),a}return Ax=e,Ax}var Ex,b2;function NX(){if(b2)return Ex;b2=1;var t=MX(),e=DX(),n=ya(),r=ar(),a=Bm();function i(s,u,f){var c=r(s)?t:e;return f&&a(s,u,f)&&(u=void 0),c(s,n(u,3))}return Ex=i,Ex}var PX=NX();const L5=vt(PX);var RX=["x","y"];function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){IX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IX(t,e,n){return e=jX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jX(t){var e=LX(t,"string");return of(e)=="symbol"?e:e+""}function LX(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $X(t,e){if(t==null)return{};var n=BX(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qX(t,e){var n=t.x,r=t.y,a=$X(t,RX),i="".concat(n),s=parseInt(i,10),u="".concat(r),f=parseInt(u,10),c="".concat(e.height||a.height),h=parseInt(c,10),p="".concat(e.width||a.width),y=parseInt(p,10);return cc(cc(cc(cc(cc({},e),a),s?{x:s}:{}),f?{y:f}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function _2(t){return X.createElement(M5,Q_({shapeType:"rectangle",propTransformer:qX,activeClassName:"recharts-active-bar"},t))}var UX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof e=="number")return e;var i=typeof r=="number";return i?e(r,a):(i||Go(),n)}},FX=["value","background"],$5;function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function VX(t,e){if(t==null)return{};var n=zX(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},om.apply(this,arguments)}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){qi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q5(r.key),r)}}function HX(t,e,n){return e&&w2(t.prototype,e),n&&w2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KX(t,e,n){return e=sm(e),YX(t,B5()?Reflect.construct(e,n||[],sm(t).constructor):e.apply(t,n))}function YX(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WX(t)}function WX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B5=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sm(t)}function XX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eS(t,e)}function eS(t,e){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},eS(t,e)}function qi(t,e,n){return e=q5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q5(t){var e=ZX(t,"string");return Ol(e)=="symbol"?e:e+""}function ZX(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ts=function(t){function e(){var n;GX(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=KX(this,e,[].concat(a)),qi(n,"state",{isAnimationFinished:!1}),qi(n,"id",gf("recharts-bar-")),qi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),qi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return XX(e,t),HX(e,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,s=i.shape,u=i.dataKey,f=i.activeIndex,c=i.activeBar,h=Fe(this.props,!1);return r&&r.map(function(p,y){var _=y===f,w=_?c:s,A=tn(tn(tn({},h),p),{},{isActive:_,option:w,index:y,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return X.createElement(wt,om({className:"recharts-bar-rectangle"},Fo(a.props,p,y),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(y)}),X.createElement(_2,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,s=a.layout,u=a.isAnimationActive,f=a.animationBegin,c=a.animationDuration,h=a.animationEasing,p=a.animationId,y=this.state.prevData;return X.createElement(Xa,{begin:f,duration:c,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t,A=i.map(function(T,k){var M=y&&y[k];if(M){var E=Ii(M.x,T.x),D=Ii(M.y,T.y),C=Ii(M.width,T.width),O=Ii(M.height,T.height);return tn(tn({},T),{},{x:E(w),y:D(w),width:C(w),height:O(w)})}if(s==="horizontal"){var P=Ii(0,T.height),I=P(w);return tn(tn({},T),{},{y:T.y+T.height-I,height:I})}var U=Ii(0,T.width),V=U(w);return tn(tn({},T),{},{width:V})});return X.createElement(wt,null,r.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Xm(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,s=a.dataKey,u=a.activeIndex,f=Fe(this.props.background,!1);return i.map(function(c,h){c.value;var p=c.background,y=VX(c,FX);if(!p)return null;var _=tn(tn(tn(tn(tn({},y),{},{fill:"#eee"},p),f),Fo(r.props,c,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return X.createElement(_2,om({key:"background-bar-".concat(h),option:r.props.background,isActive:h===u},_))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,u=i.xAxis,f=i.yAxis,c=i.layout,h=i.children,p=Pr(h,Qm);if(!p)return null;var y=c==="vertical"?s[0].height/2:s[0].width/2,_=function(T,k){var M=Array.isArray(T.value)?T.value[1]:T.value;return{x:T.x,y:T.y,value:M,errorVal:jn(T,k)}},w={clipPath:r?"url(#clipPath-".concat(a,")"):null};return X.createElement(wt,w,p.map(function(A){return X.cloneElement(A,{key:"error-bar-".concat(a,"-").concat(A.props.dataKey),data:s,xAxis:u,yAxis:f,layout:c,offset:y,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,s=r.className,u=r.xAxis,f=r.yAxis,c=r.left,h=r.top,p=r.width,y=r.height,_=r.isAnimationActive,w=r.background,A=r.id;if(a||!i||!i.length)return null;var T=this.state.isAnimationFinished,k=tt("recharts-bar",s),M=u&&u.allowDataOverflow,E=f&&f.allowDataOverflow,D=M||E,C=st(A)?this.id:A;return X.createElement(wt,{className:k},M||E?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(C)},X.createElement("rect",{x:M?c:c-p/2,y:E?h:h-y/2,width:M?p:p*2,height:E?y:y*2}))):null,X.createElement(wt,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(C,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,C),(!_||T)&&Vi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(j.PureComponent);$5=ts;qi(ts,"displayName","Bar");qi(ts,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Yl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qi(ts,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,u=t.xAxisTicks,f=t.yAxisTicks,c=t.stackedData,h=t.dataStartIndex,p=t.displayedData,y=t.offset,_=EG(r,n);if(!_)return null;var w=e.layout,A=n.type.defaultProps,T=A!==void 0?tn(tn({},A),n.props):n.props,k=T.dataKey,M=T.children,E=T.minPointSize,D=w==="horizontal"?s:i,C=c?D.scale.domain():null,O=PG({numericAxis:D}),P=Pr(M,qm),I=p.map(function(U,V){var $,H,Z,Y,B,L;c?$=CG(c[h+V],C):($=jn(U,k),Array.isArray($)||($=[O,$]));var F=UX(E,$5.defaultProps.minPointSize)($[1],V);if(w==="horizontal"){var W,ie=[s.scale($[0]),s.scale($[1])],q=ie[0],G=ie[1];H=YD({axis:i,ticks:u,bandSize:a,offset:_.offset,entry:U,index:V}),Z=(W=G??q)!==null&&W!==void 0?W:void 0,Y=_.size;var ee=q-G;if(B=Number.isNaN(ee)?0:ee,L={x:H,y:s.y,width:Y,height:s.height},Math.abs(F)>0&&Math.abs(B)<Math.abs(F)){var se=Fn(B||F)*(Math.abs(F)-Math.abs(B));Z-=se,B+=se}}else{var be=[i.scale($[0]),i.scale($[1])],me=be[0],Ae=be[1];if(H=me,Z=YD({axis:s,ticks:f,bandSize:a,offset:_.offset,entry:U,index:V}),Y=Ae-me,B=_.size,L={x:i.x,y:Z,width:i.width,height:B},Math.abs(F)>0&&Math.abs(Y)<Math.abs(F)){var mt=Fn(Y||F)*(Math.abs(F)-Math.abs(Y));Y+=mt}}return tn(tn(tn({},U),{},{x:H,y:Z,width:Y,height:B,value:c?$:$[1],payload:U,background:L},P&&P[V]&&P[V].props),{},{tooltipPayload:[d5(n,U)],tooltipPosition:{x:H+Y/2,y:Z+B/2}})});return tn({data:I,layout:w},y)});function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function JX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U5(r.key),r)}}function QX(t,e,n){return e&&T2(t.prototype,e),n&&T2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function A2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(n),!0).forEach(function(r){op(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function op(t,e,n){return e=U5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U5(t){var e=eZ(t,"string");return sf(e)=="symbol"?e:e+""}function eZ(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tZ=function(e,n,r,a,i){var s=e.width,u=e.height,f=e.layout,c=e.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},y=!!gr(c,ts);return h.reduce(function(_,w){var A=n[w],T=A.orientation,k=A.domain,M=A.padding,E=M===void 0?{}:M,D=A.mirror,C=A.reversed,O="".concat(T).concat(D?"Mirror":""),P,I,U,V,$;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var H=k[1]-k[0],Z=1/0,Y=A.categoricalDomain.sort(pU);if(Y.forEach(function(be,me){me>0&&(Z=Math.min((be||0)-(Y[me-1]||0),Z))}),Number.isFinite(Z)){var B=Z/H,L=A.layout==="vertical"?r.height:r.width;if(A.padding==="gap"&&(P=B*L/2),A.padding==="no-gap"){var F=Vn(e.barCategoryGap,B*L),W=B*L/2;P=W-F-(W-F)/L*F}}}a==="xAxis"?I=[r.left+(E.left||0)+(P||0),r.left+r.width-(E.right||0)-(P||0)]:a==="yAxis"?I=f==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(P||0),r.top+r.height-(E.bottom||0)-(P||0)]:I=A.range,C&&(I=[I[1],I[0]]);var ie=l5(A,i,y),q=ie.scale,G=ie.realScaleType;q.domain(k).range(I),u5(q);var ee=c5(q,Kr(Kr({},A),{},{realScaleType:G}));a==="xAxis"?($=T==="top"&&!D||T==="bottom"&&D,U=r.left,V=p[O]-$*A.height):a==="yAxis"&&($=T==="left"&&!D||T==="right"&&D,U=p[O]-$*A.width,V=r.top);var se=Kr(Kr(Kr({},A),ee),{},{realScaleType:G,x:U,y:V,scale:q,width:a==="xAxis"?r.width:A.width,height:a==="yAxis"?r.height:A.height});return se.bandSize=Gh(se,ee),!A.hide&&a==="xAxis"?p[O]+=($?-1:1)*se.height:A.hide||(p[O]+=($?-1:1)*se.width),Kr(Kr({},_),{},op({},w,se))},{})},F5=function(e,n){var r=e.x,a=e.y,i=n.x,s=n.y;return{x:Math.min(r,i),y:Math.min(a,s),width:Math.abs(i-r),height:Math.abs(s-a)}},nZ=function(e){var n=e.x1,r=e.y1,a=e.x2,i=e.y2;return F5({x:n,y:r},{x:a,y:i})},V5=function(){function t(e){JX(this,t),this.scale=e}return QX(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(a){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new t(n)}}])}();op(V5,"EPS",1e-4);var Bw=function(e){var n=Object.keys(e).reduce(function(r,a){return Kr(Kr({},r),{},op({},a,V5.create(e[a])))},{});return Kr(Kr({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,u=i.position;return OX(a,function(f,c){return n[c].apply(f,{bandAware:s,position:u})})},isInRange:function(a){return L5(a,function(i,s){return n[s].isInRange(i)})}})};function rZ(t){return(t%180+180)%180}var aZ=function(e){var n=e.width,r=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=rZ(a),s=i*Math.PI/180,u=Math.atan(r/n),f=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(f)},Cx,E2;function iZ(){if(E2)return Cx;E2=1;var t=ya(),e=vf(),n=Lm();function r(a){return function(i,s,u){var f=Object(i);if(!e(i)){var c=t(s,3);i=n(i),s=function(p){return c(f[p],p,f)}}var h=a(i,s,u);return h>-1?f[c?i[h]:h]:void 0}}return Cx=r,Cx}var kx,C2;function oZ(){if(C2)return kx;C2=1;var t=P5();function e(n){var r=t(n),a=r%1;return r===r?a?r-a:r:0}return kx=e,kx}var Ox,k2;function sZ(){if(k2)return Ox;k2=1;var t=FI(),e=ya(),n=oZ(),r=Math.max;function a(i,s,u){var f=i==null?0:i.length;if(!f)return-1;var c=u==null?0:n(u);return c<0&&(c=r(f+c,0)),t(i,e(s,3),c)}return Ox=a,Ox}var Mx,O2;function lZ(){if(O2)return Mx;O2=1;var t=iZ(),e=sZ(),n=t(e);return Mx=n,Mx}var uZ=lZ();const cZ=vt(uZ);var fZ=aI();const dZ=vt(fZ);var hZ=dZ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),qw=j.createContext(void 0),Uw=j.createContext(void 0),z5=j.createContext(void 0),G5=j.createContext({}),H5=j.createContext(void 0),K5=j.createContext(0),Y5=j.createContext(0),M2=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,s=e.clipPathId,u=e.children,f=e.width,c=e.height,h=hZ(i);return X.createElement(qw.Provider,{value:r},X.createElement(Uw.Provider,{value:a},X.createElement(G5.Provider,{value:i},X.createElement(z5.Provider,{value:h},X.createElement(H5.Provider,{value:s},X.createElement(K5.Provider,{value:c},X.createElement(Y5.Provider,{value:f},u)))))))},mZ=function(){return j.useContext(H5)},W5=function(e){var n=j.useContext(qw);n==null&&Go();var r=n[e];return r==null&&Go(),r},pZ=function(){var e=j.useContext(qw);return Bi(e)},gZ=function(){var e=j.useContext(Uw),n=cZ(e,function(r){return L5(r.domain,Number.isFinite)});return n||Bi(e)},X5=function(e){var n=j.useContext(Uw);n==null&&Go();var r=n[e];return r==null&&Go(),r},vZ=function(){var e=j.useContext(z5);return e},yZ=function(){return j.useContext(G5)},Fw=function(){return j.useContext(Y5)},Vw=function(){return j.useContext(K5)};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function bZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J5(r.key),r)}}function _Z(t,e,n){return e&&xZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SZ(t,e,n){return e=lm(e),wZ(t,Z5()?Reflect.construct(e,n||[],lm(t).constructor):e.apply(t,n))}function wZ(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TZ(t)}function TZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z5=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lm(t)}function AZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tS(t,e)}function tS(t,e){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},tS(t,e)}function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function N2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){zw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zw(t,e,n){return e=J5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J5(t){var e=EZ(t,"string");return Ml(e)=="symbol"?e:e+""}function EZ(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CZ(t,e){return DZ(t)||MZ(t,e)||OZ(t,e)||kZ()}function kZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OZ(t,e){if(t){if(typeof t=="string")return P2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P2(t,e)}}function P2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],f=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(h){c=!0,a=h}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function DZ(t){if(Array.isArray(t))return t}function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(this,arguments)}var NZ=function(e,n){var r;return X.isValidElement(e)?r=X.cloneElement(e,n):Ve(e)?r=e(n):r=X.createElement("line",nS({},n,{className:"recharts-reference-line-line"})),r},PZ=function(e,n,r,a,i,s,u,f,c){var h=i.x,p=i.y,y=i.width,_=i.height;if(r){var w=c.y,A=e.y.apply(w,{position:s});if(da(c,"discard")&&!e.y.isInRange(A))return null;var T=[{x:h+y,y:A},{x:h,y:A}];return f==="left"?T.reverse():T}if(n){var k=c.x,M=e.x.apply(k,{position:s});if(da(c,"discard")&&!e.x.isInRange(M))return null;var E=[{x:M,y:p+_},{x:M,y:p}];return u==="top"?E.reverse():E}if(a){var D=c.segment,C=D.map(function(O){return e.apply(O,{position:s})});return da(c,"discard")&&AX(C,function(O){return!e.isInRange(O)})?null:C}return null};function RZ(t){var e=t.x,n=t.y,r=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,u=t.className,f=t.alwaysShow,c=mZ(),h=W5(a),p=X5(i),y=vZ();if(!c||!y)return null;Wr(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=Bw({x:h.scale,y:p.scale}),w=ln(e),A=ln(n),T=r&&r.length===2,k=PZ(_,w,A,T,y,t.position,h.orientation,p.orientation,t);if(!k)return null;var M=CZ(k,2),E=M[0],D=E.x,C=E.y,O=M[1],P=O.x,I=O.y,U=da(t,"hidden")?"url(#".concat(c,")"):void 0,V=N2(N2({clipPath:U},Fe(t,!0)),{},{x1:D,y1:C,x2:P,y2:I});return X.createElement(wt,{className:tt("recharts-reference-line",u)},NZ(s,V),yn.renderCallByParent(t,nZ({x1:D,y1:C,x2:P,y2:I})))}var Gw=function(t){function e(){return bZ(this,e),SZ(this,e,arguments)}return AZ(e,t),_Z(e,[{key:"render",value:function(){return X.createElement(RZ,this.props)}}])}(X.Component);zw(Gw,"displayName","ReferenceLine");zw(Gw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rS(){return rS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rS.apply(this,arguments)}function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function I2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){sp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eL(r.key),r)}}function LZ(t,e,n){return e&&jZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Z(t,e,n){return e=um(e),BZ(t,Q5()?Reflect.construct(e,n||[],um(t).constructor):e.apply(t,n))}function BZ(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qZ(t)}function qZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q5=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},um(t)}function UZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aS(t,e)}function aS(t,e){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},aS(t,e)}function sp(t,e,n){return e=eL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eL(t){var e=FZ(t,"string");return Dl(e)=="symbol"?e:e+""}function FZ(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VZ=function(e){var n=e.x,r=e.y,a=e.xAxis,i=e.yAxis,s=Bw({x:a.scale,y:i.scale}),u=s.apply({x:n,y:r},{bandAware:!0});return da(e,"discard")&&!s.isInRange(u)?null:u},lp=function(t){function e(){return IZ(this,e),$Z(this,e,arguments)}return UZ(e,t),LZ(e,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,s=r.r,u=r.alwaysShow,f=r.clipPathId,c=ln(a),h=ln(i);if(Wr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!h)return null;var p=VZ(this.props);if(!p)return null;var y=p.x,_=p.y,w=this.props,A=w.shape,T=w.className,k=da(this.props,"hidden")?"url(#".concat(f,")"):void 0,M=I2(I2({clipPath:k},Fe(this.props,!0)),{},{cx:y,cy:_});return X.createElement(wt,{className:tt("recharts-reference-dot",T)},e.renderDot(A,M),yn.renderCallByParent(this.props,{x:y-s,y:_-s,width:2*s,height:2*s}))}}])}(X.Component);sp(lp,"displayName","ReferenceDot");sp(lp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});sp(lp,"renderDot",function(t,e){var n;return X.isValidElement(t)?n=X.cloneElement(t,e):Ve(t)?n=t(e):n=X.createElement($w,rS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iS.apply(this,arguments)}function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function j2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(n),!0).forEach(function(r){up(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nL(r.key),r)}}function HZ(t,e,n){return e&&GZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KZ(t,e,n){return e=cm(e),YZ(t,tL()?Reflect.construct(e,n||[],cm(t).constructor):e.apply(t,n))}function YZ(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WZ(t)}function WZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tL=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cm(t)}function XZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oS(t,e)}function oS(t,e){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},oS(t,e)}function up(t,e,n){return e=nL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nL(t){var e=ZZ(t,"string");return Nl(e)=="symbol"?e:e+""}function ZZ(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JZ=function(e,n,r,a,i){var s=i.x1,u=i.x2,f=i.y1,c=i.y2,h=i.xAxis,p=i.yAxis;if(!h||!p)return null;var y=Bw({x:h.scale,y:p.scale}),_={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(f,{position:"start"}):y.y.rangeMin},w={x:n?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(c,{position:"end"}):y.y.rangeMax};return da(i,"discard")&&(!y.isInRange(_)||!y.isInRange(w))?null:F5(_,w)},cp=function(t){function e(){return zZ(this,e),KZ(this,e,arguments)}return XZ(e,t),HZ(e,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,s=r.y1,u=r.y2,f=r.className,c=r.alwaysShow,h=r.clipPathId;Wr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=ln(a),y=ln(i),_=ln(s),w=ln(u),A=this.props.shape;if(!p&&!y&&!_&&!w&&!A)return null;var T=JZ(p,y,_,w,this.props);if(!T&&!A)return null;var k=da(this.props,"hidden")?"url(#".concat(h,")"):void 0;return X.createElement(wt,{className:tt("recharts-reference-area",f)},e.renderRect(A,L2(L2({clipPath:k},Fe(this.props,!0)),T)),yn.renderCallByParent(this.props,T))}}])}(X.Component);up(cp,"displayName","ReferenceArea");up(cp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});up(cp,"renderRect",function(t,e){var n;return X.isValidElement(t)?n=X.cloneElement(t,e):Ve(t)?n=t(e):n=X.createElement(Lw,iS({},e,{className:"recharts-reference-area-rect"})),n});function rL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function QZ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return aZ(r,n)}function eJ(t,e,n){var r=n==="width",a=t.x,i=t.y,s=t.width,u=t.height;return e===1?{start:r?a:i,end:r?a+s:i+u}:{start:r?a+s:i+u,end:r?a:i}}function fm(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-a)<=0}function tJ(t,e){return rL(t,e+1)}function nJ(t,e,n,r,a){for(var i=(r||[]).slice(),s=e.start,u=e.end,f=0,c=1,h=s,p=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:rL(r,c)};var A=f,T,k=function(){return T===void 0&&(T=n(w,A)),T},M=w.coordinate,E=f===0||fm(t,M,k,h,u);E||(f=0,h=s,c+=1),E&&(h=M+t*(k()/2+a),f+=c)},y;c<=i.length;)if(y=p(),y)return y.v;return[]}function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){rJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rJ(t,e,n){return e=aJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aJ(t){var e=iJ(t,"string");return lf(e)=="symbol"?e:e+""}function iJ(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oJ(t,e,n,r,a){for(var i=(r||[]).slice(),s=i.length,u=e.start,f=e.end,c=function(y){var _=i[y],w,A=function(){return w===void 0&&(w=n(_,y)),w};if(y===s-1){var T=t*(_.coordinate+t*A()/2-f);i[y]=_=Rn(Rn({},_),{},{tickCoord:T>0?_.coordinate-T*t:_.coordinate})}else i[y]=_=Rn(Rn({},_),{},{tickCoord:_.coordinate});var k=fm(t,_.tickCoord,A,u,f);k&&(f=_.tickCoord-t*(A()/2+a),i[y]=Rn(Rn({},_),{},{isShow:!0}))},h=s-1;h>=0;h--)c(h);return i}function sJ(t,e,n,r,a,i){var s=(r||[]).slice(),u=s.length,f=e.start,c=e.end;if(i){var h=r[u-1],p=n(h,u-1),y=t*(h.coordinate+t*p/2-c);s[u-1]=h=Rn(Rn({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var _=fm(t,h.tickCoord,function(){return p},f,c);_&&(c=h.tickCoord-t*(p/2+a),s[u-1]=Rn(Rn({},h),{},{isShow:!0}))}for(var w=i?u-1:u,A=function(M){var E=s[M],D,C=function(){return D===void 0&&(D=n(E,M)),D};if(M===0){var O=t*(E.coordinate-t*C()/2-f);s[M]=E=Rn(Rn({},E),{},{tickCoord:O<0?E.coordinate-O*t:E.coordinate})}else s[M]=E=Rn(Rn({},E),{},{tickCoord:E.coordinate});var P=fm(t,E.tickCoord,C,f,c);P&&(f=E.tickCoord+t*(C()/2+a),s[M]=Rn(Rn({},E),{},{isShow:!0}))},T=0;T<w;T++)A(T);return s}function Hw(t,e,n){var r=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,u=t.orientation,f=t.interval,c=t.tickFormatter,h=t.unit,p=t.angle;if(!a||!a.length||!r)return[];if(we(f)||Yl.isSsr)return tJ(a,typeof f=="number"&&we(f)?f:0);var y=[],_=u==="top"||u==="bottom"?"width":"height",w=h&&_==="width"?_c(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(E,D){var C=Ve(c)?c(E.value,D):E.value;return _==="width"?QZ(_c(C,{fontSize:e,letterSpacing:n}),w,p):_c(C,{fontSize:e,letterSpacing:n})[_]},T=a.length>=2?Fn(a[1].coordinate-a[0].coordinate):1,k=eJ(i,T,_);return f==="equidistantPreserveStart"?nJ(T,k,A,a,s):(f==="preserveStart"||f==="preserveStartEnd"?y=sJ(T,k,A,a,s,f==="preserveStartEnd"):y=oJ(T,k,A,a,s),y.filter(function(M){return M.isShow}))}var lJ=["viewBox"],uJ=["viewBox"],cJ=["ticks"];function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(this,arguments)}function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){Kw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dx(t,e){if(t==null)return{};var n=fJ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iL(r.key),r)}}function hJ(t,e,n){return e&&q2(t.prototype,e),n&&q2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mJ(t,e,n){return e=dm(e),pJ(t,aL()?Reflect.construct(e,n||[],dm(t).constructor):e.apply(t,n))}function pJ(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gJ(t)}function gJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aL=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dm(t)}function vJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sS(t,e)}function sS(t,e){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},sS(t,e)}function Kw(t,e,n){return e=iL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iL(t){var e=yJ(t,"string");return Pl(e)=="symbol"?e:e+""}function yJ(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jl=function(t){function e(n){var r;return dJ(this,e),r=mJ(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return vJ(e,t),hJ(e,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,s=Dx(r,lJ),u=this.props,f=u.viewBox,c=Dx(u,uJ);return!ll(i,f)||!ll(s,c)||!ll(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,s=a.y,u=a.width,f=a.height,c=a.orientation,h=a.tickSize,p=a.mirror,y=a.tickMargin,_,w,A,T,k,M,E=p?-1:1,D=r.tickSize||h,C=we(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":_=w=r.coordinate,T=s+ +!p*f,A=T-E*D,M=A-E*y,k=C;break;case"left":A=T=r.coordinate,w=i+ +!p*u,_=w-E*D,k=_-E*y,M=C;break;case"right":A=T=r.coordinate,w=i+ +p*u,_=w+E*D,k=_+E*y,M=C;break;default:_=w=r.coordinate,T=s+ +p*f,A=T+E*D,M=A+E*y,k=C;break}return{line:{x1:_,y1:A,x2:w,y2:T},tick:{x:k,y:M}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,s=r.width,u=r.height,f=r.orientation,c=r.mirror,h=r.axisLine,p=qn(qn(qn({},Fe(this.props,!1)),Fe(h,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var y=+(f==="top"&&!c||f==="bottom"&&c);p=qn(qn({},p),{},{x1:a,y1:i+y*u,x2:a+s,y2:i+y*u})}else{var _=+(f==="left"&&!c||f==="right"&&c);p=qn(qn({},p),{},{x1:a+_*s,y1:i,x2:a+_*s,y2:i+u})}return X.createElement("line",al({},p,{className:tt("recharts-cartesian-axis-line",br(h,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var s=this,u=this.props,f=u.tickLine,c=u.stroke,h=u.tick,p=u.tickFormatter,y=u.unit,_=Hw(qn(qn({},this.props),{},{ticks:r}),a,i),w=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),T=Fe(this.props,!1),k=Fe(h,!1),M=qn(qn({},T),{},{fill:"none"},Fe(f,!1)),E=_.map(function(D,C){var O=s.getTickLineCoord(D),P=O.line,I=O.tick,U=qn(qn(qn(qn({textAnchor:w,verticalAnchor:A},T),{},{stroke:"none",fill:c},k),I),{},{index:C,payload:D,visibleTicksCount:_.length,tickFormatter:p});return X.createElement(wt,al({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Fo(s.props,D,C)),f&&X.createElement("line",al({},M,P,{className:tt("recharts-cartesian-axis-tick-line",br(f,"className"))})),h&&e.renderTickItem(h,U,"".concat(Ve(p)?p(D.value,C):D.value).concat(y||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,s=a.width,u=a.height,f=a.ticksGenerator,c=a.className,h=a.hide;if(h)return null;var p=this.props,y=p.ticks,_=Dx(p,cJ),w=y;return Ve(f)&&(w=y&&y.length>0?f(this.props):f(_)),s<=0||u<=0||!w||!w.length?null:X.createElement(wt,{className:tt("recharts-cartesian-axis",c),ref:function(T){r.layerReference=T}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),yn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var s;return X.isValidElement(r)?s=X.cloneElement(r,a):Ve(r)?s=r(a):s=X.createElement(Vo,al({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(j.Component);Kw(Jl,"displayName","CartesianAxis");Kw(Jl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bJ=["x1","y1","x2","y2","key"],xJ=["offset"];function Ho(t){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function U2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(n),!0).forEach(function(r){_J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _J(t,e,n){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=wJ(t,"string");return Ho(e)=="symbol"?e:e+""}function wJ(t,e){if(Ho(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ho(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lo.apply(this,arguments)}function F2(t,e){if(t==null)return{};var n=TJ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var AJ=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,a=e.x,i=e.y,s=e.width,u=e.height,f=e.ry;return X.createElement("rect",{x:a,y:i,ry:f,width:s,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function oL(t,e){var n;if(X.isValidElement(t))n=X.cloneElement(t,e);else if(Ve(t))n=t(e);else{var r=e.x1,a=e.y1,i=e.x2,s=e.y2,u=e.key,f=F2(e,bJ),c=Fe(f,!1);c.offset;var h=F2(c,xJ);n=X.createElement("line",Lo({},h,{x1:r,y1:a,x2:i,y2:s,fill:"none",key:u}))}return n}function EJ(t){var e=t.x,n=t.width,r=t.horizontal,a=r===void 0?!0:r,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(u,f){var c=In(In({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(f),index:f});return oL(a,c)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function CJ(t){var e=t.y,n=t.height,r=t.vertical,a=r===void 0?!0:r,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(u,f){var c=In(In({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(f),index:f});return oL(a,c)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function kJ(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,a=t.y,i=t.width,s=t.height,u=t.horizontalPoints,f=t.horizontal,c=f===void 0?!0:f;if(!c||!e||!e.length)return null;var h=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,_){return y-_});a!==h[0]&&h.unshift(0);var p=h.map(function(y,_){var w=!h[_+1],A=w?a+s-y:h[_+1]-y;if(A<=0)return null;var T=_%e.length;return X.createElement("rect",{key:"react-".concat(_),y,x:r,height:A,width:i,stroke:"none",fill:e[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function OJ(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,u=t.width,f=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var h=c.map(function(y){return Math.round(y+i-i)}).sort(function(y,_){return y-_});i!==h[0]&&h.unshift(0);var p=h.map(function(y,_){var w=!h[_+1],A=w?i+u-y:h[_+1]-y;if(A<=0)return null;var T=_%r.length;return X.createElement("rect",{key:"react-".concat(_),x:y,y:s,width:A,height:f,stroke:"none",fill:r[T],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var MJ=function(e,n){var r=e.xAxis,a=e.width,i=e.height,s=e.offset;return s5(Hw(In(In(In({},Jl.defaultProps),r),{},{ticks:za(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,n)},DJ=function(e,n){var r=e.yAxis,a=e.width,i=e.height,s=e.offset;return s5(Hw(In(In(In({},Jl.defaultProps),r),{},{ticks:za(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,n)},Zs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sL(t){var e,n,r,a,i,s,u=Fw(),f=Vw(),c=yZ(),h=In(In({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Zs.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Zs.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Zs.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Zs.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Zs.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Zs.verticalFill,x:we(t.x)?t.x:c.left,y:we(t.y)?t.y:c.top,width:we(t.width)?t.width:c.width,height:we(t.height)?t.height:c.height}),p=h.x,y=h.y,_=h.width,w=h.height,A=h.syncWithTicks,T=h.horizontalValues,k=h.verticalValues,M=pZ(),E=gZ();if(!we(_)||_<=0||!we(w)||w<=0||!we(p)||p!==+p||!we(y)||y!==+y)return null;var D=h.verticalCoordinatesGenerator||MJ,C=h.horizontalCoordinatesGenerator||DJ,O=h.horizontalPoints,P=h.verticalPoints;if((!O||!O.length)&&Ve(C)){var I=T&&T.length,U=C({yAxis:E?In(In({},E),{},{ticks:I?T:E.ticks}):void 0,width:u,height:f,offset:c},I?!0:A);Wr(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ho(U),"]")),Array.isArray(U)&&(O=U)}if((!P||!P.length)&&Ve(D)){var V=k&&k.length,$=D({xAxis:M?In(In({},M),{},{ticks:V?k:M.ticks}):void 0,width:u,height:f,offset:c},V?!0:A);Wr(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ho($),"]")),Array.isArray($)&&(P=$)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(AJ,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),X.createElement(EJ,Lo({},h,{offset:c,horizontalPoints:O,xAxis:M,yAxis:E})),X.createElement(CJ,Lo({},h,{offset:c,verticalPoints:P,xAxis:M,yAxis:E})),X.createElement(kJ,Lo({},h,{horizontalPoints:O})),X.createElement(OJ,Lo({},h,{verticalPoints:P})))}sL.displayName="CartesianGrid";function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function NJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cL(r.key),r)}}function RJ(t,e,n){return e&&PJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IJ(t,e,n){return e=hm(e),jJ(t,lL()?Reflect.construct(e,n||[],hm(t).constructor):e.apply(t,n))}function jJ(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LJ(t)}function LJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lL=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hm(t)}function $J(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lS(t,e)}function lS(t,e){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},lS(t,e)}function uL(t,e,n){return e=cL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cL(t){var e=BJ(t,"string");return Rl(e)=="symbol"?e:e+""}function BJ(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(this,arguments)}function qJ(t){var e=t.xAxisId,n=Fw(),r=Vw(),a=W5(e);return a==null?null:X.createElement(Jl,uS({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return za(s,!0)}}))}var fp=function(t){function e(){return NJ(this,e),IJ(this,e,arguments)}return $J(e,t),RJ(e,[{key:"render",value:function(){return X.createElement(qJ,this.props)}}])}(X.Component);uL(fp,"displayName","XAxis");uL(fp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function UJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hL(r.key),r)}}function VJ(t,e,n){return e&&FJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zJ(t,e,n){return e=mm(e),GJ(t,fL()?Reflect.construct(e,n||[],mm(t).constructor):e.apply(t,n))}function GJ(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HJ(t)}function HJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fL=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mm(t)}function KJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cS(t,e)}function cS(t,e){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},cS(t,e)}function dL(t,e,n){return e=hL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hL(t){var e=YJ(t,"string");return Il(e)=="symbol"?e:e+""}function YJ(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fS.apply(this,arguments)}var WJ=function(e){var n=e.yAxisId,r=Fw(),a=Vw(),i=X5(n);return i==null?null:X.createElement(Jl,fS({},i,{className:tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(u){return za(u,!0)}}))},dp=function(t){function e(){return UJ(this,e),zJ(this,e,arguments)}return KJ(e,t),VJ(e,[{key:"render",value:function(){return X.createElement(WJ,this.props)}}])}(X.Component);dL(dp,"displayName","YAxis");dL(dp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function V2(t){return QJ(t)||JJ(t)||ZJ(t)||XJ()}function XJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJ(t,e){if(t){if(typeof t=="string")return dS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dS(t,e)}}function JJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QJ(t){if(Array.isArray(t))return dS(t)}function dS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hS=function(e,n,r,a,i){var s=Pr(e,Gw),u=Pr(e,lp),f=[].concat(V2(s),V2(u)),c=Pr(e,cp),h="".concat(a,"Id"),p=a[0],y=n;if(f.length&&(y=f.reduce(function(A,T){if(T.props[h]===r&&da(T.props,"extendDomain")&&we(T.props[p])){var k=T.props[p];return[Math.min(A[0],k),Math.max(A[1],k)]}return A},y)),c.length){var _="".concat(p,"1"),w="".concat(p,"2");y=c.reduce(function(A,T){if(T.props[h]===r&&da(T.props,"extendDomain")&&we(T.props[_])&&we(T.props[w])){var k=T.props[_],M=T.props[w];return[Math.min(A[0],k,M),Math.max(A[1],k,M)]}return A},y)}return i&&i.length&&(y=i.reduce(function(A,T){return we(T)?[Math.min(A[0],T),Math.max(A[1],T)]:A},y)),y},Nx={exports:{}},z2;function eQ(){return z2||(z2=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,c,h){this.fn=f,this.context=c,this.once=h||!1}function i(f,c,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new a(h,p||f,y),w=n?n+c:c;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],_]:f._events[w].push(_):(f._events[w]=_,f._eventsCount++),f}function s(f,c){--f._eventsCount===0?f._events=new r:delete f._events[c]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],h,p;if(this._eventsCount===0)return c;for(p in h=this._events)e.call(h,p)&&c.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},u.prototype.listeners=function(c){var h=n?n+c:c,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,_=p.length,w=new Array(_);y<_;y++)w[y]=p[y].fn;return w},u.prototype.listenerCount=function(c){var h=n?n+c:c,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(c,h,p,y,_,w){var A=n?n+c:c;if(!this._events[A])return!1;var T=this._events[A],k=arguments.length,M,E;if(T.fn){switch(T.once&&this.removeListener(c,T.fn,void 0,!0),k){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,p),!0;case 4:return T.fn.call(T.context,h,p,y),!0;case 5:return T.fn.call(T.context,h,p,y,_),!0;case 6:return T.fn.call(T.context,h,p,y,_,w),!0}for(E=1,M=new Array(k-1);E<k;E++)M[E-1]=arguments[E];T.fn.apply(T.context,M)}else{var D=T.length,C;for(E=0;E<D;E++)switch(T[E].once&&this.removeListener(c,T[E].fn,void 0,!0),k){case 1:T[E].fn.call(T[E].context);break;case 2:T[E].fn.call(T[E].context,h);break;case 3:T[E].fn.call(T[E].context,h,p);break;case 4:T[E].fn.call(T[E].context,h,p,y);break;default:if(!M)for(C=1,M=new Array(k-1);C<k;C++)M[C-1]=arguments[C];T[E].fn.apply(T[E].context,M)}}return!0},u.prototype.on=function(c,h,p){return i(this,c,h,p,!1)},u.prototype.once=function(c,h,p){return i(this,c,h,p,!0)},u.prototype.removeListener=function(c,h,p,y){var _=n?n+c:c;if(!this._events[_])return this;if(!h)return s(this,_),this;var w=this._events[_];if(w.fn)w.fn===h&&(!y||w.once)&&(!p||w.context===p)&&s(this,_);else{for(var A=0,T=[],k=w.length;A<k;A++)(w[A].fn!==h||y&&!w[A].once||p&&w[A].context!==p)&&T.push(w[A]);T.length?this._events[_]=T.length===1?T[0]:T:s(this,_)}return this},u.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(Nx)),Nx.exports}var tQ=eQ();const nQ=vt(tQ);var Px=new nQ,Rx="recharts.syncMouseEvents";function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function rQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mL(r.key),r)}}function iQ(t,e,n){return e&&aQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ix(t,e,n){return e=mL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mL(t){var e=oQ(t,"string");return uf(e)=="symbol"?e:e+""}function oQ(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sQ=function(){function t(){rQ(this,t),Ix(this,"activeIndex",0),Ix(this,"coordinateList",[]),Ix(this,"layout","horizontal")}return iQ(t,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,s=n.container,u=s===void 0?null:s,f=n.layout,c=f===void 0?null:f,h=n.offset,p=h===void 0?null:h,y=n.mouseHandlerCallback,_=y===void 0?null:y;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=c??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,u=a.height,f=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=i+f+c,y=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])}();function lQ(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],a=t==null?void 0:t[1];if(r&&a&&we(r)&&we(a))return!0}return!1}function uQ(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function pL(t){var e=t.cx,n=t.cy,r=t.radius,a=t.startAngle,i=t.endAngle,s=Lt(e,n,r,a),u=Lt(e,n,r,i);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:a,endAngle:i}}function cQ(t,e,n){var r,a,i,s;if(t==="horizontal")r=e.x,i=r,a=n.top,s=n.top+n.height;else if(t==="vertical")a=e.y,s=a,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,f=e.cy,c=e.innerRadius,h=e.outerRadius,p=e.angle,y=Lt(u,f,c,p),_=Lt(u,f,h,p);r=y.x,a=y.y,i=_.x,s=_.y}else return pL(e);return[{x:r,y:a},{x:i,y:s}]}function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){fQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fQ(t,e,n){return e=dQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dQ(t){var e=hQ(t,"string");return cf(e)=="symbol"?e:e+""}function hQ(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mQ(t){var e,n,r=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,u=t.activePayload,f=t.offset,c=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,y=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!i||!s||y!=="ScatterChart"&&a!=="axis")return null;var w,A=j_;if(y==="ScatterChart")w=s,A=WY;else if(y==="BarChart")w=uQ(p,s,f,h),A=Lw;else if(p==="radial"){var T=pL(s),k=T.cx,M=T.cy,E=T.radius,D=T.startAngle,C=T.endAngle;w={cx:k,cy:M,startAngle:D,endAngle:C,innerRadius:E,outerRadius:E},A=y5}else w={points:cQ(p,s,f)},A=j_;var O=uh(uh(uh(uh({stroke:"#ccc",pointerEvents:"none"},f),w),Fe(_,!1)),{},{payload:u,payloadIndex:c,className:tt("recharts-tooltip-cursor",_.className)});return j.isValidElement(_)?j.cloneElement(_,O):j.createElement(A,O)}var pQ=["item"],gQ=["children","className","width","height","style","compact","title","desc"];function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(this,arguments)}function H2(t,e){return bQ(t)||yQ(t,e)||vL(t,e)||vQ()}function vQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,s,u=[],f=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(h){c=!0,a=h}finally{try{if(!f&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function bQ(t){if(Array.isArray(t))return t}function K2(t,e){if(t==null)return{};var n=xQ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yL(r.key),r)}}function wQ(t,e,n){return e&&SQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TQ(t,e,n){return e=pm(e),AQ(t,gL()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function AQ(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EQ(t)}function EQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gL=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function CQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mS(t,e)}function mS(t,e){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},mS(t,e)}function Ll(t){return MQ(t)||OQ(t)||vL(t)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vL(t,e){if(t){if(typeof t=="string")return pS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pS(t,e)}}function OQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MQ(t){if(Array.isArray(t))return pS(t)}function pS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $e(t,e,n){return e=yL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yL(t){var e=DQ(t,"string");return jl(e)=="symbol"?e:e+""}function DQ(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NQ={xAxis:["bottom","top"],yAxis:["left","right"]},PQ={width:"100%",height:"100%"},bL={x:0,y:0};function ch(t){return t}var RQ=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},IQ=function(e,n,r,a){var i=n.find(function(h){return h&&h.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,u=a.radius;return ue(ue(ue({},a),Lt(a.cx,a.cy,u,s)),{},{angle:s,radius:u})}var f=i.coordinate,c=a.angle;return ue(ue(ue({},a),Lt(a.cx,a.cy,f,c)),{},{angle:c,radius:f})}return bL},hp=function(e,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,s=(r??[]).reduce(function(u,f){var c=f.props.data;return c&&c.length?[].concat(Ll(u),Ll(c)):u},[]);return s.length>0?s:e&&e.length&&we(a)&&we(i)?e.slice(a,i+1):[]};function xL(t){return t==="number"?[0,"auto"]:void 0}var gS=function(e,n,r,a){var i=e.graphicalItems,s=e.tooltipAxis,u=hp(n,e);return r<0||!i||!i.length||r>=u.length?null:i.reduce(function(f,c){var h,p=(h=c.props.data)!==null&&h!==void 0?h:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var _=p===void 0?u:p;y=Zx(_,s.dataKey,a)}else y=p&&p[r]||u[r];return y?[].concat(Ll(f),[d5(c,y)]):f},[])},W2=function(e,n,r,a){var i=a||{x:e.chartX,y:e.chartY},s=RQ(i,r),u=e.orderedTooltipTicks,f=e.tooltipAxis,c=e.tooltipTicks,h=xG(s,u,c,f);if(h>=0&&c){var p=c[h]&&c[h].value,y=gS(e,n,h,p),_=IQ(r,u,h,i);return{activeTooltipIndex:h,activeLabel:p,activePayload:y,activeCoordinate:_}}return null},jQ=function(e,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,s=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,p=e.children,y=e.stackOffset,_=o5(h,i);return r.reduce(function(w,A){var T,k=A.type.defaultProps!==void 0?ue(ue({},A.type.defaultProps),A.props):A.props,M=k.type,E=k.dataKey,D=k.allowDataOverflow,C=k.allowDuplicatedCategory,O=k.scale,P=k.ticks,I=k.includeHidden,U=k[s];if(w[U])return w;var V=hp(e.data,{graphicalItems:a.filter(function(ee){var se,be=s in ee.props?ee.props[s]:(se=ee.type.defaultProps)===null||se===void 0?void 0:se[s];return be===U}),dataStartIndex:f,dataEndIndex:c}),$=V.length,H,Z,Y;lQ(k.domain,D,M)&&(H=D_(k.domain,null,D),_&&(M==="number"||O!=="auto")&&(Y=wc(V,E,"category")));var B=xL(M);if(!H||H.length===0){var L,F=(L=k.domain)!==null&&L!==void 0?L:B;if(E){if(H=wc(V,E,M),M==="category"&&_){var W=mU(H);C&&W?(Z=H,H=rm(0,$)):C||(H=ZD(F,H,A).reduce(function(ee,se){return ee.indexOf(se)>=0?ee:[].concat(Ll(ee),[se])},[]))}else if(M==="category")C?H=H.filter(function(ee){return ee!==""&&!st(ee)}):H=ZD(F,H,A).reduce(function(ee,se){return ee.indexOf(se)>=0||se===""||st(se)?ee:[].concat(Ll(ee),[se])},[]);else if(M==="number"){var ie=AG(V,a.filter(function(ee){var se,be,me=s in ee.props?ee.props[s]:(se=ee.type.defaultProps)===null||se===void 0?void 0:se[s],Ae="hide"in ee.props?ee.props.hide:(be=ee.type.defaultProps)===null||be===void 0?void 0:be.hide;return me===U&&(I||!Ae)}),E,i,h);ie&&(H=ie)}_&&(M==="number"||O!=="auto")&&(Y=wc(V,E,"category"))}else _?H=rm(0,$):u&&u[U]&&u[U].hasStack&&M==="number"?H=y==="expand"?[0,1]:f5(u[U].stackGroups,f,c):H=i5(V,a.filter(function(ee){var se=s in ee.props?ee.props[s]:ee.type.defaultProps[s],be="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return se===U&&(I||!be)}),M,h,!0);if(M==="number")H=hS(p,H,U,i,P),F&&(H=D_(F,H,D));else if(M==="category"&&F){var q=F,G=H.every(function(ee){return q.indexOf(ee)>=0});G&&(H=q)}}return ue(ue({},w),{},$e({},U,ue(ue({},k),{},{axisType:i,domain:H,categoricalDomain:Y,duplicateDomain:Z,originalDomain:(T=k.domain)!==null&&T!==void 0?T:B,isCategorical:_,layout:h})))},{})},LQ=function(e,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,s=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,p=e.children,y=hp(e.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:c}),_=y.length,w=o5(h,i),A=-1;return r.reduce(function(T,k){var M=k.type.defaultProps!==void 0?ue(ue({},k.type.defaultProps),k.props):k.props,E=M[s],D=xL("number");if(!T[E]){A++;var C;return w?C=rm(0,_):u&&u[E]&&u[E].hasStack?(C=f5(u[E].stackGroups,f,c),C=hS(p,C,E,i)):(C=D_(D,i5(y,r.filter(function(O){var P,I,U=s in O.props?O.props[s]:(P=O.type.defaultProps)===null||P===void 0?void 0:P[s],V="hide"in O.props?O.props.hide:(I=O.type.defaultProps)===null||I===void 0?void 0:I.hide;return U===E&&!V}),"number",h),a.defaultProps.allowDataOverflow),C=hS(p,C,E,i)),ue(ue({},T),{},$e({},E,ue(ue({axisType:i},a.defaultProps),{},{hide:!0,orientation:br(NQ,"".concat(i,".").concat(A%2),null),domain:C,originalDomain:D,isCategorical:w,layout:h})))}return T},{})},$Q=function(e,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,s=n.graphicalItems,u=n.stackGroups,f=n.dataStartIndex,c=n.dataEndIndex,h=e.children,p="".concat(a,"Id"),y=Pr(h,i),_={};return y&&y.length?_=jQ(e,{axes:y,graphicalItems:s,axisType:a,axisIdKey:p,stackGroups:u,dataStartIndex:f,dataEndIndex:c}):s&&s.length&&(_=LQ(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:p,stackGroups:u,dataStartIndex:f,dataEndIndex:c})),_},BQ=function(e){var n=Bi(e),r=za(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:cw(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Gh(n,r)}},X2=function(e){var n=e.children,r=e.defaultShowTooltip,a=gr(n,kl),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},qQ=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ga(n&&n.type);return r&&r.indexOf("Bar")>=0})},Z2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},UQ=function(e,n){var r=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,u=e.yAxisMap,f=u===void 0?{}:u,c=r.width,h=r.height,p=r.children,y=r.margin||{},_=gr(p,kl),w=gr(p,Ui),A=Object.keys(f).reduce(function(C,O){var P=f[O],I=P.orientation;return!P.mirror&&!P.hide?ue(ue({},C),{},$e({},I,C[I]+P.width)):C},{left:y.left||0,right:y.right||0}),T=Object.keys(s).reduce(function(C,O){var P=s[O],I=P.orientation;return!P.mirror&&!P.hide?ue(ue({},C),{},$e({},I,br(C,"".concat(I))+P.height)):C},{top:y.top||0,bottom:y.bottom||0}),k=ue(ue({},T),A),M=k.bottom;_&&(k.bottom+=_.props.height||kl.defaultProps.height),w&&n&&(k=wG(k,a,r,n));var E=c-k.left-k.right,D=h-k.top-k.bottom;return ue(ue({brushBottom:M},k),{},{width:Math.max(E,0),height:Math.max(D,0)})},FQ=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},_L=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,f=e.axisComponents,c=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,y=function(k,M){var E=M.graphicalItems,D=M.stackGroups,C=M.offset,O=M.updateId,P=M.dataStartIndex,I=M.dataEndIndex,U=k.barSize,V=k.layout,$=k.barGap,H=k.barCategoryGap,Z=k.maxBarSize,Y=Z2(V),B=Y.numericAxisName,L=Y.cateAxisName,F=qQ(E),W=[];return E.forEach(function(ie,q){var G=hp(k.data,{graphicalItems:[ie],dataStartIndex:P,dataEndIndex:I}),ee=ie.type.defaultProps!==void 0?ue(ue({},ie.type.defaultProps),ie.props):ie.props,se=ee.dataKey,be=ee.maxBarSize,me=ee["".concat(B,"Id")],Ae=ee["".concat(L,"Id")],mt={},Ke=f.reduce(function(_n,or){var ba=M["".concat(or.axisType,"Map")],ns=ee["".concat(or.axisType,"Id")];ba&&ba[ns]||or.axisType==="zAxis"||Go();var xa=ba[ns];return ue(ue({},_n),{},$e($e({},or.axisType,xa),"".concat(or.axisType,"Ticks"),za(xa)))},mt),Se=Ke[L],Re=Ke["".concat(L,"Ticks")],Be=D&&D[me]&&D[me].hasStack&&RG(ie,D[me].stackGroups),ge=Ga(ie.type).indexOf("Bar")>=0,yt=Gh(Se,Re),Ye=[],nt=F&&_G({barSize:U,stackGroups:D,totalSize:FQ(Ke,L)});if(ge){var At,Et,cn=st(be)?Z:be,ir=(At=(Et=Gh(Se,Re,!0))!==null&&Et!==void 0?Et:cn)!==null&&At!==void 0?At:0;Ye=SG({barGap:$,barCategoryGap:H,bandSize:ir!==yt?ir:yt,sizeList:nt[Ae],maxBarSize:cn}),ir!==yt&&(Ye=Ye.map(function(_n){return ue(ue({},_n),{},{position:ue(ue({},_n.position),{},{offset:_n.position.offset-ir/2})})}))}var xr=ie&&ie.type&&ie.type.getComposedData;xr&&W.push({props:ue(ue({},xr(ue(ue({},Ke),{},{displayedData:G,props:k,dataKey:se,item:ie,bandSize:yt,barPosition:Ye,offset:C,stackedData:Be,layout:V,dataStartIndex:P,dataEndIndex:I}))),{},$e($e($e({key:ie.key||"item-".concat(q)},B,Ke[B]),L,Ke[L]),"animationId",O)),childIndex:EU(ie,k.children),item:ie})}),W},_=function(k,M){var E=k.props,D=k.dataStartIndex,C=k.dataEndIndex,O=k.updateId;if(!dk({props:E}))return null;var P=E.children,I=E.layout,U=E.stackOffset,V=E.data,$=E.reverseStackOrder,H=Z2(I),Z=H.numericAxisName,Y=H.cateAxisName,B=Pr(P,r),L=NG(V,B,"".concat(Z,"Id"),"".concat(Y,"Id"),U,$),F=f.reduce(function(ee,se){var be="".concat(se.axisType,"Map");return ue(ue({},ee),{},$e({},be,$Q(E,ue(ue({},se),{},{graphicalItems:B,stackGroups:se.axisType===Z&&L,dataStartIndex:D,dataEndIndex:C}))))},{}),W=UQ(ue(ue({},F),{},{props:E,graphicalItems:B}),M==null?void 0:M.legendBBox);Object.keys(F).forEach(function(ee){F[ee]=h(E,F[ee],W,ee.replace("Map",""),n)});var ie=F["".concat(Y,"Map")],q=BQ(ie),G=y(E,ue(ue({},F),{},{dataStartIndex:D,dataEndIndex:C,updateId:O,graphicalItems:B,stackGroups:L,offset:W}));return ue(ue({formattedGraphicalItems:G,graphicalItems:B,offset:W,stackGroups:L},q),F)},w=function(T){function k(M){var E,D,C;return _Q(this,k),C=TQ(this,k,[M]),$e(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(C,"accessibilityManager",new sQ),$e(C,"handleLegendBBoxUpdate",function(O){if(O){var P=C.state,I=P.dataStartIndex,U=P.dataEndIndex,V=P.updateId;C.setState(ue({legendBBox:O},_({props:C.props,dataStartIndex:I,dataEndIndex:U,updateId:V},ue(ue({},C.state),{},{legendBBox:O}))))}}),$e(C,"handleReceiveSyncEvent",function(O,P,I){if(C.props.syncId===O){if(I===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(P)}}),$e(C,"handleBrushChange",function(O){var P=O.startIndex,I=O.endIndex;if(P!==C.state.dataStartIndex||I!==C.state.dataEndIndex){var U=C.state.updateId;C.setState(function(){return ue({dataStartIndex:P,dataEndIndex:I},_({props:C.props,dataStartIndex:P,dataEndIndex:I,updateId:U},C.state))}),C.triggerSyncEvent({dataStartIndex:P,dataEndIndex:I})}}),$e(C,"handleMouseEnter",function(O){var P=C.getMouseInfo(O);if(P){var I=ue(ue({},P),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var U=C.props.onMouseEnter;Ve(U)&&U(I,O)}}),$e(C,"triggeredAfterMouseMove",function(O){var P=C.getMouseInfo(O),I=P?ue(ue({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(I),C.triggerSyncEvent(I);var U=C.props.onMouseMove;Ve(U)&&U(I,O)}),$e(C,"handleItemMouseEnter",function(O){C.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),$e(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),$e(C,"handleMouseMove",function(O){O.persist(),C.throttleTriggeredAfterMouseMove(O)}),$e(C,"handleMouseLeave",function(O){C.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var I=C.props.onMouseLeave;Ve(I)&&I(P,O)}),$e(C,"handleOuterEvent",function(O){var P=AU(O),I=br(C.props,"".concat(P));if(P&&Ve(I)){var U,V;/.*touch.*/i.test(P)?V=C.getMouseInfo(O.changedTouches[0]):V=C.getMouseInfo(O),I((U=V)!==null&&U!==void 0?U:{},O)}}),$e(C,"handleClick",function(O){var P=C.getMouseInfo(O);if(P){var I=ue(ue({},P),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var U=C.props.onClick;Ve(U)&&U(I,O)}}),$e(C,"handleMouseDown",function(O){var P=C.props.onMouseDown;if(Ve(P)){var I=C.getMouseInfo(O);P(I,O)}}),$e(C,"handleMouseUp",function(O){var P=C.props.onMouseUp;if(Ve(P)){var I=C.getMouseInfo(O);P(I,O)}}),$e(C,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),$e(C,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseDown(O.changedTouches[0])}),$e(C,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseUp(O.changedTouches[0])}),$e(C,"handleDoubleClick",function(O){var P=C.props.onDoubleClick;if(Ve(P)){var I=C.getMouseInfo(O);P(I,O)}}),$e(C,"handleContextMenu",function(O){var P=C.props.onContextMenu;if(Ve(P)){var I=C.getMouseInfo(O);P(I,O)}}),$e(C,"triggerSyncEvent",function(O){C.props.syncId!==void 0&&Px.emit(Rx,C.props.syncId,O,C.eventEmitterSymbol)}),$e(C,"applySyncEvent",function(O){var P=C.props,I=P.layout,U=P.syncMethod,V=C.state.updateId,$=O.dataStartIndex,H=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)C.setState(ue({dataStartIndex:$,dataEndIndex:H},_({props:C.props,dataStartIndex:$,dataEndIndex:H,updateId:V},C.state)));else if(O.activeTooltipIndex!==void 0){var Z=O.chartX,Y=O.chartY,B=O.activeTooltipIndex,L=C.state,F=L.offset,W=L.tooltipTicks;if(!F)return;if(typeof U=="function")B=U(W,O);else if(U==="value"){B=-1;for(var ie=0;ie<W.length;ie++)if(W[ie].value===O.activeLabel){B=ie;break}}var q=ue(ue({},F),{},{x:F.left,y:F.top}),G=Math.min(Z,q.x+q.width),ee=Math.min(Y,q.y+q.height),se=W[B]&&W[B].value,be=gS(C.state,C.props.data,B),me=W[B]?{x:I==="horizontal"?W[B].coordinate:G,y:I==="horizontal"?ee:W[B].coordinate}:bL;C.setState(ue(ue({},O),{},{activeLabel:se,activeCoordinate:me,activePayload:be,activeTooltipIndex:B}))}else C.setState(O)}),$e(C,"renderCursor",function(O){var P,I=C.state,U=I.isTooltipActive,V=I.activeCoordinate,$=I.activePayload,H=I.offset,Z=I.activeTooltipIndex,Y=I.tooltipAxisBandSize,B=C.getTooltipEventType(),L=(P=O.props.active)!==null&&P!==void 0?P:U,F=C.props.layout,W=O.key||"_recharts-cursor";return X.createElement(mQ,{key:W,activeCoordinate:V,activePayload:$,activeTooltipIndex:Z,chartName:n,element:O,isActive:L,layout:F,offset:H,tooltipAxisBandSize:Y,tooltipEventType:B})}),$e(C,"renderPolarAxis",function(O,P,I){var U=br(O,"type.axisType"),V=br(C.state,"".concat(U,"Map")),$=O.type.defaultProps,H=$!==void 0?ue(ue({},$),O.props):O.props,Z=V&&V[H["".concat(U,"Id")]];return j.cloneElement(O,ue(ue({},Z),{},{className:tt(U,Z.className),key:O.key||"".concat(P,"-").concat(I),ticks:za(Z,!0)}))}),$e(C,"renderPolarGrid",function(O){var P=O.props,I=P.radialLines,U=P.polarAngles,V=P.polarRadius,$=C.state,H=$.radiusAxisMap,Z=$.angleAxisMap,Y=Bi(H),B=Bi(Z),L=B.cx,F=B.cy,W=B.innerRadius,ie=B.outerRadius;return j.cloneElement(O,{polarAngles:Array.isArray(U)?U:za(B,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(V)?V:za(Y,!0).map(function(q){return q.coordinate}),cx:L,cy:F,innerRadius:W,outerRadius:ie,key:O.key||"polar-grid",radialLines:I})}),$e(C,"renderLegend",function(){var O=C.state.formattedGraphicalItems,P=C.props,I=P.children,U=P.width,V=P.height,$=C.props.margin||{},H=U-($.left||0)-($.right||0),Z=r5({children:I,formattedGraphicalItems:O,legendWidth:H,legendContent:c});if(!Z)return null;var Y=Z.item,B=K2(Z,pQ);return j.cloneElement(Y,ue(ue({},B),{},{chartWidth:U,chartHeight:V,margin:$,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),$e(C,"renderTooltip",function(){var O,P=C.props,I=P.children,U=P.accessibilityLayer,V=gr(I,Hr);if(!V)return null;var $=C.state,H=$.isTooltipActive,Z=$.activeCoordinate,Y=$.activePayload,B=$.activeLabel,L=$.offset,F=(O=V.props.active)!==null&&O!==void 0?O:H;return j.cloneElement(V,{viewBox:ue(ue({},L),{},{x:L.left,y:L.top}),active:F,label:B,payload:F?Y:[],coordinate:Z,accessibilityLayer:U})}),$e(C,"renderBrush",function(O){var P=C.props,I=P.margin,U=P.data,V=C.state,$=V.offset,H=V.dataStartIndex,Z=V.dataEndIndex,Y=V.updateId;return j.cloneElement(O,{key:O.key||"_recharts-brush",onChange:ih(C.handleBrushChange,O.props.onChange),data:U,x:we(O.props.x)?O.props.x:$.left,y:we(O.props.y)?O.props.y:$.top+$.height+$.brushBottom-(I.bottom||0),width:we(O.props.width)?O.props.width:$.width,startIndex:H,endIndex:Z,updateId:"brush-".concat(Y)})}),$e(C,"renderReferenceElement",function(O,P,I){if(!O)return null;var U=C,V=U.clipPathId,$=C.state,H=$.xAxisMap,Z=$.yAxisMap,Y=$.offset,B=O.type.defaultProps||{},L=O.props,F=L.xAxisId,W=F===void 0?B.xAxisId:F,ie=L.yAxisId,q=ie===void 0?B.yAxisId:ie;return j.cloneElement(O,{key:O.key||"".concat(P,"-").concat(I),xAxis:H[W],yAxis:Z[q],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:V})}),$e(C,"renderActivePoints",function(O){var P=O.item,I=O.activePoint,U=O.basePoint,V=O.childIndex,$=O.isRange,H=[],Z=P.props.key,Y=P.item.type.defaultProps!==void 0?ue(ue({},P.item.type.defaultProps),P.item.props):P.item.props,B=Y.activeDot,L=Y.dataKey,F=ue(ue({index:V,dataKey:L,cx:I.x,cy:I.y,r:4,fill:jw(P.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Fe(B,!1)),_h(B));return H.push(k.renderActiveDot(B,F,"".concat(Z,"-activePoint-").concat(V))),U?H.push(k.renderActiveDot(B,ue(ue({},F),{},{cx:U.x,cy:U.y}),"".concat(Z,"-basePoint-").concat(V))):$&&H.push(null),H}),$e(C,"renderGraphicChild",function(O,P,I){var U=C.filterFormatItem(O,P,I);if(!U)return null;var V=C.getTooltipEventType(),$=C.state,H=$.isTooltipActive,Z=$.tooltipAxis,Y=$.activeTooltipIndex,B=$.activeLabel,L=C.props.children,F=gr(L,Hr),W=U.props,ie=W.points,q=W.isRange,G=W.baseLine,ee=U.item.type.defaultProps!==void 0?ue(ue({},U.item.type.defaultProps),U.item.props):U.item.props,se=ee.activeDot,be=ee.hide,me=ee.activeBar,Ae=ee.activeShape,mt=!!(!be&&H&&F&&(se||me||Ae)),Ke={};V!=="axis"&&F&&F.props.trigger==="click"?Ke={onClick:ih(C.handleItemMouseEnter,O.props.onClick)}:V!=="axis"&&(Ke={onMouseLeave:ih(C.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:ih(C.handleItemMouseEnter,O.props.onMouseEnter)});var Se=j.cloneElement(O,ue(ue({},U.props),Ke));function Re(or){return typeof Z.dataKey=="function"?Z.dataKey(or.payload):null}if(mt)if(Y>=0){var Be,ge;if(Z.dataKey&&!Z.allowDuplicatedCategory){var yt=typeof Z.dataKey=="function"?Re:"payload.".concat(Z.dataKey.toString());Be=Zx(ie,yt,B),ge=q&&G&&Zx(G,yt,B)}else Be=ie==null?void 0:ie[Y],ge=q&&G&&G[Y];if(Ae||me){var Ye=O.props.activeIndex!==void 0?O.props.activeIndex:Y;return[j.cloneElement(O,ue(ue(ue({},U.props),Ke),{},{activeIndex:Ye})),null,null]}if(!st(Be))return[Se].concat(Ll(C.renderActivePoints({item:U,activePoint:Be,basePoint:ge,childIndex:Y,isRange:q})))}else{var nt,At=(nt=C.getItemByXY(C.state.activeCoordinate))!==null&&nt!==void 0?nt:{graphicalItem:Se},Et=At.graphicalItem,cn=Et.item,ir=cn===void 0?O:cn,xr=Et.childIndex,_n=ue(ue(ue({},U.props),Ke),{},{activeIndex:xr});return[j.cloneElement(ir,_n),null,null]}return q?[Se,null,null]:[Se,null]}),$e(C,"renderCustomized",function(O,P,I){return j.cloneElement(O,ue(ue({key:"recharts-customized-".concat(I)},C.props),C.state))}),$e(C,"renderMap",{CartesianGrid:{handler:ch,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:ch},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:ch},YAxis:{handler:ch},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((E=M.id)!==null&&E!==void 0?E:gf("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=tj(C.triggeredAfterMouseMove,(D=M.throttleDelay)!==null&&D!==void 0?D:1e3/60),C.state={},C}return CQ(k,T),wQ(k,[{key:"componentDidMount",value:function(){var E,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,D=E.children,C=E.data,O=E.height,P=E.layout,I=gr(D,Hr);if(I){var U=I.props.defaultIndex;if(!(typeof U!="number"||U<0||U>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[U]&&this.state.tooltipTicks[U].value,$=gS(this.state,C,U,V),H=this.state.tooltipTicks[U].coordinate,Z=(this.state.offset.top+O)/2,Y=P==="horizontal",B=Y?{x:H,y:Z}:{y:H,x:Z},L=this.state.formattedGraphicalItems.find(function(W){var ie=W.item;return ie.type.name==="Scatter"});L&&(B=ue(ue({},B),L.props.points[U].tooltipPosition),$=L.props.points[U].tooltipPayload);var F={activeTooltipIndex:U,isTooltipActive:!0,activeLabel:V,activePayload:$,activeCoordinate:B};this.setState(F),this.renderCursor(I),this.accessibilityManager.setIndex(U)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var C,O;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(E){Qx([gr(E.children,Hr)],[gr(this.props.children,Hr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=gr(this.props.children,Hr);if(E&&typeof E.props.shared=="boolean"){var D=E.props.shared?"axis":"item";return u.indexOf(D)>=0?D:i}return i}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var D=this.container,C=D.getBoundingClientRect(),O=d9(C),P={chartX:Math.round(E.pageX-O.left),chartY:Math.round(E.pageY-O.top)},I=C.width/D.offsetWidth||1,U=this.inRange(P.chartX,P.chartY,I);if(!U)return null;var V=this.state,$=V.xAxisMap,H=V.yAxisMap,Z=this.getTooltipEventType(),Y=W2(this.state,this.props.data,this.props.layout,U);if(Z!=="axis"&&$&&H){var B=Bi($).scale,L=Bi(H).scale,F=B&&B.invert?B.invert(P.chartX):null,W=L&&L.invert?L.invert(P.chartY):null;return ue(ue({},P),{},{xValue:F,yValue:W},Y)}return Y?ue(ue({},P),Y):null}},{key:"inRange",value:function(E,D){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,P=E/C,I=D/C;if(O==="horizontal"||O==="vertical"){var U=this.state.offset,V=P>=U.left&&P<=U.left+U.width&&I>=U.top&&I<=U.top+U.height;return V?{x:P,y:I}:null}var $=this.state,H=$.angleAxisMap,Z=$.radiusAxisMap;if(H&&Z){var Y=Bi(H);return eN({x:P,y:I},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,D=this.getTooltipEventType(),C=gr(E,Hr),O={};C&&D==="axis"&&(C.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=_h(this.props,this.handleOuterEvent);return ue(ue({},P),O)}},{key:"addListener",value:function(){Px.on(Rx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Px.removeListener(Rx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,D,C){for(var O=this.state.formattedGraphicalItems,P=0,I=O.length;P<I;P++){var U=O[P];if(U.item===E||U.props.key===E.key||D===Ga(U.item.type)&&C===U.childIndex)return U}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,D=this.state.offset,C=D.left,O=D.top,P=D.height,I=D.width;return X.createElement("defs",null,X.createElement("clipPath",{id:E},X.createElement("rect",{x:C,y:O,height:P,width:I})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(D,C){var O=H2(C,2),P=O[0],I=O[1];return ue(ue({},D),{},$e({},P,I.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(D,C){var O=H2(C,2),P=O[0],I=O[1];return ue(ue({},D),{},$e({},P,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[E])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(E){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[E])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(E){var D=this.state,C=D.formattedGraphicalItems,O=D.activeItem;if(C&&C.length)for(var P=0,I=C.length;P<I;P++){var U=C[P],V=U.props,$=U.item,H=$.type.defaultProps!==void 0?ue(ue({},$.type.defaultProps),$.props):$.props,Z=Ga($.type);if(Z==="Bar"){var Y=(V.data||[]).find(function(W){return OY(E,W)});if(Y)return{graphicalItem:U,payload:Y}}else if(Z==="RadialBar"){var B=(V.data||[]).find(function(W){return eN(E,W)});if(B)return{graphicalItem:U,payload:B}}else if(ap(U,O)||ip(U,O)||rf(U,O)){var L=JW({graphicalItem:U,activeTooltipItem:O,itemData:H.data}),F=H.activeIndex===void 0?L:H.activeIndex;return{graphicalItem:ue(ue({},U),{},{childIndex:F}),payload:rf(U,O)?H.data[L]:U.props.data[L]}}}return null}},{key:"render",value:function(){var E=this;if(!dk(this))return null;var D=this.props,C=D.children,O=D.className,P=D.width,I=D.height,U=D.style,V=D.compact,$=D.title,H=D.desc,Z=K2(D,gQ),Y=Fe(Z,!1);if(V)return X.createElement(M2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(t_,il({},Y,{width:P,height:I,title:$,desc:H}),this.renderClipPath(),mk(C,this.renderMap)));if(this.props.accessibilityLayer){var B,L;Y.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,Y.role=(L=this.props.role)!==null&&L!==void 0?L:"application",Y.onKeyDown=function(W){E.accessibilityManager.keyboardEvent(W)},Y.onFocus=function(){E.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return X.createElement(M2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",il({className:tt("recharts-wrapper",O),style:ue({position:"relative",cursor:"default",width:P,height:I},U)},F,{ref:function(ie){E.container=ie}}),X.createElement(t_,il({},Y,{width:P,height:I,title:$,desc:H,style:PQ}),this.renderClipPath(),mk(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);$e(w,"displayName",n),$e(w,"defaultProps",ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),$e(w,"getDerivedStateFromProps",function(T,k){var M=T.dataKey,E=T.data,D=T.children,C=T.width,O=T.height,P=T.layout,I=T.stackOffset,U=T.margin,V=k.dataStartIndex,$=k.dataEndIndex;if(k.updateId===void 0){var H=X2(T);return ue(ue(ue({},H),{},{updateId:0},_(ue(ue({props:T},H),{},{updateId:0}),k)),{},{prevDataKey:M,prevData:E,prevWidth:C,prevHeight:O,prevLayout:P,prevStackOffset:I,prevMargin:U,prevChildren:D})}if(M!==k.prevDataKey||E!==k.prevData||C!==k.prevWidth||O!==k.prevHeight||P!==k.prevLayout||I!==k.prevStackOffset||!ll(U,k.prevMargin)){var Z=X2(T),Y={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},B=ue(ue({},W2(k,E,P)),{},{updateId:k.updateId+1}),L=ue(ue(ue({},Z),Y),B);return ue(ue(ue({},L),_(ue({props:T},L),k)),{},{prevDataKey:M,prevData:E,prevWidth:C,prevHeight:O,prevLayout:P,prevStackOffset:I,prevMargin:U,prevChildren:D})}if(!Qx(D,k.prevChildren)){var F,W,ie,q,G=gr(D,kl),ee=G&&(F=(W=G.props)===null||W===void 0?void 0:W.startIndex)!==null&&F!==void 0?F:V,se=G&&(ie=(q=G.props)===null||q===void 0?void 0:q.endIndex)!==null&&ie!==void 0?ie:$,be=ee!==V||se!==$,me=!st(E),Ae=me&&!be?k.updateId:k.updateId+1;return ue(ue({updateId:Ae},_(ue(ue({props:T},k),{},{updateId:Ae,dataStartIndex:ee,dataEndIndex:se}),k)),{},{prevChildren:D,dataStartIndex:ee,dataEndIndex:se})}return null}),$e(w,"renderActiveDot",function(T,k,M){var E;return j.isValidElement(T)?E=j.cloneElement(T,k):Ve(T)?E=T(k):E=X.createElement($w,k),X.createElement(wt,{className:"recharts-active-dot",key:M},E)});var A=j.forwardRef(function(k,M){return X.createElement(w,il({},k,{ref:M}))});return A.displayName=w.displayName,A},VQ=_L({chartName:"BarChart",GraphicalChild:ts,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:fp},{axisType:"yAxis",AxisComp:dp}],formatAxisMap:tZ}),zQ=_L({chartName:"PieChart",GraphicalChild:ti,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:rp},{axisType:"radiusAxis",AxisComp:tp}],formatAxisMap:zG,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const J2=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82ca9d","#ffc658","#a4de6c","#d0ed57","#ff7300","#4CAF50","#F44336","#E91E63","#9C27B0","#3F51B5"],GQ=({active:t,payload:e})=>t&&e&&e.length?b.jsx("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:b.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:`${e[0].name} : ${pe(e[0].value)}`})}):null,HQ=({transactions:t,categories:e,type:n,month:r})=>{const a=X.useMemo(()=>{const i=t.filter(u=>u.type===n&&u.date.startsWith(r)&&u.category_id),s={};return i.forEach(u=>{u.category_id&&(s[u.category_id]=(s[u.category_id]||0)+u.amount)}),Object.entries(s).map(([u,f])=>{const c=e.find(h=>h.id===u);return{name:c?c.name:"Desconhecido",value:f}}).sort((u,f)=>f.value-u.value)},[t,e,n,r]);return a.length===0?b.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",n===ve.INCOME?"receitas":"despesas"," este mês."]}):b.jsx("div",{className:"w-full h-80 md:h-96",children:b.jsx(nj,{width:"100%",height:"100%",children:b.jsxs(zQ,{children:[b.jsx(ti,{data:a,cx:"50%",cy:"50%",labelLine:!1,outerRadius:"80%",fill:"#8884d8",dataKey:"value",nameKey:"name",label:({cx:i,cy:s,midAngle:u,innerRadius:f,outerRadius:c,percent:h,index:p})=>{const y=Math.PI/180,_=f+(c-f)*.5,w=i+_*Math.cos(-u*y),A=s+_*Math.sin(-u*y),T=document.documentElement.classList.contains("dark");return h*100<5?null:b.jsx("text",{x:w,y:A,fill:"#FFF",textAnchor:w>i?"start":"end",dominantBaseline:"central",fontSize:"12px",children:`${(h*100).toFixed(0)}%`})},children:a.map((i,s)=>b.jsx(qm,{fill:J2[s%J2.length]},`cell-${s}`))}),b.jsx(Hr,{content:b.jsx(GQ,{})}),b.jsx(Ui,{formatter:(i,s)=>b.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:i})})]})})})},KQ=({active:t,payload:e,label:n})=>t&&e&&e.length?b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-2 border border-borderBase dark:border-borderBaseDark rounded shadow-lg",children:[b.jsxs("p",{className:"text-sm font-semibold text-textBase dark:text-textBaseDark",children:["Dia ",n]}),b.jsxs("p",{className:`text-sm ${e[0].fill==="#00C49F"?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:[e[0].name,": ",pe(e[0].value)]})]}):null,YQ=({transactions:t,type:e,month:n})=>{const r=X.useMemo(()=>{const[s,u]=n.split("-").map(Number),f=new Date(s,u,0).getDate(),c=Array.from({length:f},(h,p)=>({name:(p+1).toString().padStart(2,"0"),value:0}));return t.forEach(h=>{if(h.type===e&&h.date.startsWith(n)){const p=parseInt(h.date.split("-")[2],10)-1;p>=0&&p<f&&(c[p].value+=h.amount)}}),c},[t,e,n]);if(r.every(s=>s.value===0))return b.jsxs("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:["Nenhum dado para exibir no gráfico para ",e===ve.INCOME?"receitas":"despesas"," este mês."]});const a=s=>s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(0)}K`:s.toString(),i=e===ve.INCOME?"#00C49F":"#FF8042";return b.jsx("div",{className:"w-full h-80 md:h-96",children:b.jsx(nj,{width:"100%",height:"100%",children:b.jsxs(VQ,{data:r,margin:{top:5,right:0,left:-10,bottom:5},children:[b.jsx(sL,{strokeDasharray:"3 3",strokeOpacity:.2,className:"stroke-neutral dark:stroke-neutralDark"}),b.jsx(fp,{dataKey:"name",tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",interval:"preserveStartEnd"}),b.jsx(dp,{tickFormatter:a,tick:{fontSize:10,fill:"currentColor"},className:"text-textMuted dark:text-textMutedDark",width:45}),b.jsx(Hr,{content:b.jsx(KQ,{}),cursor:{fill:"rgba(128, 128, 128, 0.1)"}}),b.jsx(Ui,{payload:[{value:e===ve.INCOME?"Receitas":"Despesas",type:"square",color:i}],formatter:s=>b.jsx("span",{className:"text-textMuted dark:text-textMutedDark text-sm",children:s})}),b.jsx(ts,{dataKey:"value",name:e===ve.INCOME?"Receitas":"Despesas",fill:i,radius:[4,4,0,0]})]})})})},SL=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})]}),WQ=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),XQ=({className:t="w-5 h-5",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.008v.008H12v-.008Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 10.5h19.5M4.5 3v2.25M19.5 3v2.25"})]}),vS=({className:t="w-5 h-5",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75h.008v.008H12V6.75Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75h.008v.008H12v-.008Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75h.008v.008H12V18.75Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9Z"})]}),Q2=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 11.25a.75.75 0 0 1 0-1.5m1.259 5.25a.75.75 0 0 1 0-1.5m15.257 1.5a.75.75 0 0 1 0-1.5M16.5 6.375a.75.75 0 0 1 0-1.5m-9.75 1.5a.75.75 0 0 1 0-1.5M21 9.75A.75.75 0 0 1 20.25 9M12 3.75a.75.75 0 0 1 .75-.75M3.75 9A.75.75 0 0 1 3 9.75m1.5-4.5a.75.75 0 0 1-.75-.75"})}),ZQ=({recurringTransactions:t,accounts:e,categories:n,onViewTransaction:r,isPrivacyModeEnabled:a})=>{const i=dt(new Date),s=dt(new Date(new Date().setDate(new Date().getDate()+7))),u=t.filter(p=>!p.is_paused&&(!p.end_date||p.end_date>=i)&&(p.remaining_occurrences===void 0||p.remaining_occurrences>0)),f=u.filter(p=>p.next_due_date<i).sort((p,y)=>new Date(p.next_due_date).getTime()-new Date(y.next_due_date).getTime()),c=u.filter(p=>p.next_due_date>=i&&p.next_due_date<=s).sort((p,y)=>new Date(p.next_due_date).getTime()-new Date(y.next_due_date).getTime());if(f.length===0&&c.length===0)return b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex items-center mb-3",children:[b.jsx(Q2,{className:"w-6 h-6 text-secondary dark:text-secondaryDark mr-2"}),b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),b.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark text-center py-3",children:"Nenhuma conta vencida ou próxima do vencimento. Tudo em dia!"})]});const h=(p,y)=>{const _=e.find(k=>k.id===p.account_id),w=p.category_id?n.find(k=>k.id===p.category_id):null,A=p.type===ve.EXPENSE?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark",T=p.type===ve.EXPENSE?"-":"+";return b.jsx("li",{className:`p-3 rounded-md border-l-4 ${y?"border-destructive dark:border-destructiveDark bg-destructive/5 dark:bg-destructiveDark/10":"border-amber-500 dark:border-amber-400 bg-amber-500/5 dark:bg-amber-400/10"} hover:shadow-sm transition-shadow`,onClick:()=>r&&r(p.id),role:r?"button":void 0,tabIndex:r?0:void 0,"aria-label":`Ver detalhes de ${p.description}`,children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[y?b.jsx(XQ,{className:"w-5 h-5 text-destructive dark:text-destructiveDark flex-shrink-0"}):b.jsx(vS,{className:"w-5 h-5 text-amber-500 dark:text-amber-400 flex-shrink-0"}),b.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:p.description})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-7",children:["Vence em: ",Hn(p.next_due_date),_&&` (${_.name})`,w&&` - ${w.name}`]})]}),b.jsxs("span",{className:`text-md font-bold ${A}`,children:[T,pe(p.amount,"BRL","pt-BR",a)]})]})},p.id)};return b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex items-center mb-4",children:[b.jsx(Q2,{className:"w-6 h-6 text-primary dark:text-primaryDark mr-2"}),b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Alertas de Contas"})]}),b.jsxs("div",{className:"space-y-4",children:[f.length>0&&b.jsxs("div",{children:[b.jsxs("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Vencidas (",f.length,")"]}),b.jsx("ul",{className:"space-y-2",children:f.map(p=>h(p,!0))})]}),c.length>0&&b.jsxs("div",{children:[b.jsxs("h3",{className:`text-md font-semibold text-amber-600 dark:text-amber-500 mb-2 ${f.length>0?"mt-4":""}`,children:["Próximas (7 dias) (",c.length,")"]}),b.jsx("ul",{className:"space-y-2",children:c.map(p=>h(p,!1))})]})]})]})},JQ=({transactions:t,accounts:e,categories:n,creditCards:r,installmentPurchases:a,moneyBoxes:i,loans:s,loanRepayments:u,recurringTransactions:f,onAddTransaction:c,calculateAccountBalance:h,calculateMoneyBoxBalance:p,onViewRecurringTransaction:y,isPrivacyModeEnabled:_})=>{const[w,A]=j.useState(ve.EXPENSE),[T,k]=j.useState("pie"),M=dt(new Date).substring(0,7),E=j.useMemo(()=>e.reduce(($,H)=>$+h(H.id),0),[e,h]),D=j.useMemo(()=>i.reduce(($,H)=>$+p(H.id),0),[i,p]),C=j.useMemo(()=>a.reduce(($,H)=>{if(H.installments_paid>=H.number_of_installments)return $;const Z=H.total_amount/H.number_of_installments,Y=H.number_of_installments-H.installments_paid;return $+Z*Y},0),[a]),O=j.useMemo(()=>s.reduce(($,H)=>{const Z=u.filter(Y=>Y.loan_id===H.id).reduce((Y,B)=>Y+B.amount_paid,0);return $+(H.total_amount_to_reimburse-Z)},0),[s,u]),P=j.useMemo(()=>E+D+O-C,[E,D,O,C]),I=j.useMemo(()=>[...t].sort(($,H)=>new Date(H.date).getTime()-new Date($.date).getTime()).slice(0,5),[t]),U=j.useMemo(()=>n.filter($=>$.type===ve.EXPENSE&&$.monthly_budget&&$.monthly_budget>0),[n]),V=j.useMemo(()=>{const $=U.reduce((Z,Y)=>Z+(Y.monthly_budget||0),0);let H=0;return U.forEach(Z=>{const Y=t.filter(B=>B.category_id===Z.id&&B.date.startsWith(M)&&B.type===ve.EXPENSE).reduce((B,L)=>B+L.amount,0);H+=Y}),{totalBudgeted:$,totalSpentInBudgetedCategories:H}},[U,t,M]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Painel Geral"}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Bem-vindo ao seu controle financeiro."})]}),b.jsxs(ye,{onClick:c,variant:"primary",size:"lg",children:[b.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO TOTAL (CONTAS)"}),b.jsx("p",{className:`text-3xl font-bold ${E>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:pe(E,"BRL","pt-BR",_)})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SALDO CAIXINHAS"}),b.jsx("p",{className:`text-3xl font-bold ${D>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:pe(D,"BRL","pt-BR",_)})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex items-center w-full justify-between",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"A RECEBER (EMPRÉSTIMOS)"}),b.jsx(VS,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),b.jsx("p",{className:"text-3xl font-bold text-primary dark:text-primaryDark",children:pe(O,"BRL","pt-BR",_)})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30 flex flex-col items-start",children:[b.jsxs("div",{className:"flex items-center w-full justify-between",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"PATRIMÔNIO LÍQUIDO"}),b.jsx(Eq,{className:"w-5 h-5 text-textMuted dark:text-textMutedDark"})]}),b.jsx("p",{className:`text-3xl font-bold ${P>=0?"text-primary dark:text-primaryDark":"text-destructive dark:text-destructiveDark"}`,children:pe(P,"BRL","pt-BR",_)}),!_&&b.jsxs("div",{className:"text-xs mt-1 space-y-0.5",children:[C>0&&b.jsxs("p",{className:"text-destructive dark:text-destructiveDark/80",children:["Dívida Cartões: ",pe(C)]}),O>0&&b.jsxs("p",{className:"text-primary dark:text-primaryDark/80",children:["Empréstimos a Receber: ",pe(O)]})]})]})]}),b.jsx(ZQ,{recurringTransactions:f,accounts:e,categories:n,onViewTransaction:y,isPrivacyModeEnabled:_}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[b.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:["Resumo Mensal (",M.split("-")[1],"/",M.split("-")[0],")"]}),b.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[b.jsx(ye,{variant:w===ve.EXPENSE?"primary":"ghost",size:"sm",onClick:()=>A(ve.EXPENSE),children:"Despesas"}),b.jsx(ye,{variant:w===ve.INCOME?"secondary":"ghost",size:"sm",onClick:()=>A(ve.INCOME),children:"Receitas"}),b.jsx("div",{className:"h-6 border-l border-borderBase dark:border-borderBaseDark mx-1 sm:mx-2"}),b.jsx(ye,{variant:T==="pie"?"primary":"ghost",size:"sm",onClick:()=>k("pie"),className:"!px-2",title:"Gráfico de Pizza",children:b.jsx(SL,{className:"w-4 h-4"})}),b.jsx(ye,{variant:T==="bar"?"primary":"ghost",size:"sm",onClick:()=>k("bar"),className:"!px-2",title:"Gráfico de Barras",children:b.jsx(WQ,{className:"w-4 h-4"})})]})]}),_?b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Gráficos ocultos em Modo Privacidade."}):T==="pie"?b.jsx(HQ,{transactions:t,categories:n.filter($=>$.type===w),type:w,month:M}):b.jsx(YQ,{transactions:t,type:w,month:M})]}),U.length>0&&b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:["Orçamento Mensal (",M.split("-")[1],"/",M.split("-")[0],")"]}),b.jsxs("div",{className:"mb-3",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsxs("span",{children:["Total Gasto (Orçado): ",pe(V.totalSpentInBudgetedCategories,"BRL","pt-BR",_)]}),b.jsxs("span",{children:["Total Orçado: ",pe(V.totalBudgeted,"BRL","pt-BR",_)]})]}),!_&&V.totalBudgeted>0&&b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 mt-1 dark:progress-bar-bg",children:b.jsx("div",{className:`h-2.5 rounded-full ${V.totalSpentInBudgetedCategories>V.totalBudgeted?"bg-destructive":"bg-primary dark:bg-primaryDark"}`,style:{width:`${Math.min(V.totalSpentInBudgetedCategories/V.totalBudgeted*100,100)}%`}})}),_&&b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center",children:"Progresso oculto em Modo Privacidade."})]}),b.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto",children:U.map($=>{const H=t.filter(B=>B.category_id===$.id&&B.date.startsWith(M)&&B.type===ve.EXPENSE).reduce((B,L)=>B+L.amount,0),Z=$.monthly_budget?Math.min(H/$.monthly_budget*100,100):0,Y=$.monthly_budget?H>$.monthly_budget:!1;return b.jsxs("li",{className:"text-sm",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:$.name}),b.jsxs("span",{className:Y?"text-destructive dark:text-destructiveDark":"",children:[pe(H,"BRL","pt-BR",_)," / ",pe($.monthly_budget||0,"BRL","pt-BR",_)]})]}),!_&&$.monthly_budget&&$.monthly_budget>0&&b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-1.5 mt-0.5 dark:progress-bar-bg",children:b.jsx("div",{className:`h-1.5 rounded-full ${Y?"bg-destructive":"bg-secondary dark:bg-secondaryDark"}`,style:{width:`${Z}%`}})})]},$.id)})})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-4",children:"Transações Recentes"}),I.length>0?b.jsx("ul",{className:"space-y-3",children:I.map($=>{const H=e.find(L=>L.id===$.account_id),Z=n.find(L=>L.id===$.category_id);let Y="text-textBase dark:text-textBaseDark";$.type===ve.INCOME?Y="text-secondary dark:text-secondaryDark":$.type===ve.EXPENSE&&(Y="text-destructive dark:text-destructiveDark");let B=$.description||($.type===ve.TRANSFER?"Transferência":Z==null?void 0:Z.name)||"Transação";if($.type===ve.TRANSFER){const L=e.find(F=>F.id===$.to_account_id);B+=` para ${(L==null?void 0:L.name)||"N/A"}`}return b.jsxs("li",{className:"flex justify-between items-center py-2 border-b border-borderBase/50 dark:border-borderBaseDark/50 last:border-b-0",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-textBase dark:text-textBaseDark",children:B}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[H==null?void 0:H.name," • ",Hn($.date)]})]}),b.jsx("p",{className:`font-semibold ${Y}`,children:pe($.amount,"BRL","pt-BR",_)})]},$.id)})}):b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Nenhuma transação recente."})]})]})},Zr=({className:t="w-5 h-5",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.877 4.684a2.25 2.25 0 0 1 2.244-2.077h.093a2.25 2.25 0 0 1 2.244 2.077L14.772 5.79M5.25 5.79h13.5"})}),Jr=({className:t="w-5 h-5",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),mp=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})}),QQ=({transaction:t,accounts:e,categories:n,tags:r,installmentPurchases:a,onEdit:i,onDelete:s,isPrivacyModeEnabled:u})=>{const{type:f,amount:c,category_id:h,description:p,date:y,account_id:_,to_account_id:w,tag_ids:A}=t,T=e.find(V=>V.id===_),k=w?e.find(V=>V.id===w):null,M=h?n.find(V=>V.id===h):null,E=A?r.filter(V=>A.includes(V.id)):[];let D="text-textBase dark:text-textBaseDark",C="";f===ve.INCOME?(D="text-secondary dark:text-secondaryDark",C="+"):f===ve.EXPENSE&&(D="text-destructive dark:text-destructiveDark",C="-");const O=p||(M==null?void 0:M.name)||f,P=[];T&&P.push(T.name),f===ve.TRANSFER&&k?P.push(`➔ ${k.name}`):M&&f!==ve.TRANSFER&&P.push(M.name);const I=V=>{if(!V)return"text-textBase dark:text-textBaseDark";try{const $=parseInt(V.slice(1,3),16),H=parseInt(V.slice(3,5),16),Z=parseInt(V.slice(5,7),16);return(.299*$+.587*H+.114*Z)/255>.5?"text-neutral-800":"text-white"}catch{return"text-white"}},U=a.some(V=>V.linked_transaction_id===t.id&&V.number_of_installments===1);return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-2 sm:space-y-0",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsxs("span",{className:`font-semibold text-lg ${D}`,children:[C,pe(c,"BRL","pt-BR",u)]}),b.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:O}),U&&b.jsxs("span",{title:"Débito em fatura de cartão",className:"ml-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300 px-1.5 py-0.5 rounded-full inline-flex items-center",children:[b.jsx(mp,{className:"w-3 h-3 mr-1"})," Cartão"]})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:[Hn(y)," ",b.jsx("span",{className:"mx-1",children:"•"})," ",P.join(" ")]}),p&&M&&f!==ve.TRANSFER&&b.jsx("p",{className:"text-xs text-neutral/70 dark:text-neutralDark/70 italic mt-1",children:p}),E.length>0&&b.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:E.map(V=>b.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full border
                            ${V.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:V.color?{backgroundColor:V.color,borderColor:V.color}:{},children:b.jsx("span",{className:V.color?I(V.color):"text-textBase dark:text-textBaseDark",children:V.name})},V.id))})]}),b.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>i(t),"aria-label":"Editar",children:b.jsx(Jr,{className:"w-4 h-4"})}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>s(t.id),"aria-label":"Excluir",children:b.jsx(Zr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})},Tt=({label:t,id:e,error:n,className:r,containerClassName:a,options:i,placeholder:s,...u})=>b.jsxs("div",{className:a,children:[t&&b.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),b.jsxs("select",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...u,children:[s&&b.jsx("option",{value:"",children:s}),i.map(h=>b.jsx("option",{value:h.value,children:h.label},h.value))]}),n&&b.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),Ie=({label:t,id:e,error:n,className:r,containerClassName:a,...i})=>b.jsxs("div",{className:a,children:[t&&b.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),b.jsx("input",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...i}),n&&b.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),eee=({transactions:t,accounts:e,categories:n,tags:r,installmentPurchases:a,onAddTransaction:i,onEditTransaction:s,onDeleteTransaction:u,isLoading:f,isPrivacyModeEnabled:c})=>{const[h,p]=j.useState("all"),[y,_]=j.useState("all"),[w,A]=j.useState("all"),[T,k]=j.useState("all"),[M,E]=j.useState([]),[D,C]=j.useState(""),[O,P]=j.useState("desc"),I=[{value:"all",label:"Todas as Contas"},...e.map(B=>({value:B.id,label:B.name}))],U=[{value:"all",label:"Todas as Categorias"},...n.map(B=>({value:B.id,label:B.name}))],V=[{value:"all",label:"Todos os Tipos"},...Cm],$=r.map(B=>({value:B.id,label:B.name})),H=j.useMemo(()=>{let B=[...t];if(h!=="all"){const L=new Date;let F=null,W=new Date(L.getFullYear(),L.getMonth(),L.getDate(),23,59,59,999);if(h==="today"?F=new Date(L.getFullYear(),L.getMonth(),L.getDate()):h==="current_month"?(F=new Date(L.getFullYear(),L.getMonth(),1),W=new Date(L.getFullYear(),L.getMonth()+1,0,23,59,59,999)):h==="last_7_days"?(F=new Date(L),F.setDate(L.getDate()-6),F.setHours(0,0,0,0)):h==="last_30_days"&&(F=new Date(L),F.setDate(L.getDate()-29),F.setHours(0,0,0,0)),F){const ie=dt(F),q=dt(W);B=B.filter(G=>G.date>=ie&&G.date<=q)}}if(y!=="all"&&(B=B.filter(L=>L.type===y)),w!=="all"&&(B=B.filter(L=>L.account_id===w||L.to_account_id===w)),T!=="all"&&(B=B.filter(L=>L.category_id===T)),M.length>0&&(B=B.filter(L=>L.tag_ids&&L.tag_ids.some(F=>M.includes(F)))),D.trim()!==""){const L=D.toLowerCase();B=B.filter(F=>{var W;return F.description&&F.description.toLowerCase().includes(L)||F.category_id&&((W=n.find(ie=>ie.id===F.category_id))==null?void 0:W.name.toLowerCase().includes(L))})}return B.sort((L,F)=>{const W=new Date(L.date).getTime(),ie=new Date(F.date).getTime();return O==="desc"?ie-W:W-ie}),B},[t,h,y,w,T,M,D,n,O]),Z=j.useCallback(()=>P(B=>B==="asc"?"desc":"asc"),[]),Y=B=>{const L=B.target.options,F=[];for(let W=0,ie=L.length;W<ie;W++)L[W].selected&&F.push(L[W].value);E(F)};return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações"}),b.jsxs(ye,{onClick:i,variant:"primary",children:[b.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Transação"]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-6 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx(Tt,{label:"Período",options:xq,value:h,onChange:B=>p(B.target.value)}),b.jsx(Tt,{label:"Tipo",options:V,value:y,onChange:B=>_(B.target.value)}),b.jsx(Tt,{label:"Conta",options:I,value:w,onChange:B=>A(B.target.value)}),b.jsx(Tt,{label:"Categoria",options:U,value:T,onChange:B=>k(B.target.value),disabled:y===ve.TRANSFER.toString()}),r.length>0&&b.jsx(Tt,{label:"Tags",options:$,value:M,onChange:Y,multiple:!0,className:"h-24",placeholder:"Todas as Tags"}),b.jsx(Ie,{label:"Buscar Descrição",type:"text",placeholder:"Ex: Supermercado",value:D,onChange:B=>C(B.target.value),containerClassName:r.length===0?"lg:col-span-2":""})]}),b.jsx("div",{className:"flex justify-end",children:b.jsxs(ye,{variant:"ghost",size:"sm",onClick:Z,children:["Ordenar por Data: ",O==="desc"?"Mais Recentes":"Mais Antigas"]})}),f&&b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Carregando transações..."}),!f&&H.length>0?b.jsx("ul",{className:"space-y-3",children:H.map(B=>b.jsx(QQ,{transaction:B,accounts:e,categories:n,tags:r,installmentPurchases:a,onEdit:s,onDelete:u,isPrivacyModeEnabled:c},B.id))}):!f&&b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação encontrada com os filtros aplicados."})]})},tee=({account:t,balance:e,onEdit:n,onDelete:r,transactionCount:a,isPrivacyModeEnabled:i})=>b.jsx("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(mp,{className:"w-6 h-6 text-primary dark:text-primaryDark"}),b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),b.jsx("p",{className:`text-2xl font-bold mt-1 ${e>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:pe(e,"BRL","pt-BR",i)}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1",children:["Saldo Inicial: ",pe(t.initial_balance,"BRL","pt-BR",i)]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[b.jsxs("div",{className:"flex space-x-2",children:[b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Conta",children:b.jsx(Jr,{className:"w-4 h-4"})}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Conta",disabled:a>0,title:a>0?"Não pode excluir contas com transações associadas":"Excluir conta",children:b.jsx(Zr,{className:`w-4 h-4 ${a>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),a>0&&b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Possui ",a," transaçõe(s)"]})]})]})}),bn=({isOpen:t,onClose:e,title:n,children:r,size:a="md"})=>{if(!t)return null;let i="max-w-md";return a==="sm"&&(i="max-w-sm"),a==="lg"&&(i="max-w-lg"),a==="xl"&&(i="max-w-xl"),b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 dark:bg-opacity-70 backdrop-blur-sm p-4",children:b.jsxs("div",{className:`bg-surface dark:bg-surfaceDark rounded-lg shadow-xl dark:shadow-neutralDark/50 w-full ${i} transform transition-all flex flex-col max-h-[85vh]`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[b.jsxs("div",{id:"modal-title",className:"flex items-center justify-between px-6 py-4 border-b border-borderBase dark:border-borderBaseDark flex-shrink-0",children:[b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n}),b.jsx("button",{onClick:e,className:"text-textMuted dark:text-textMutedDark hover:text-textBase dark:hover:text-textBaseDark transition-colors","aria-label":"Fechar modal",children:b.jsx(JR,{className:"w-5 h-5"})})]}),b.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:r})]})})},nee=({accounts:t,transactions:e,onAddAccount:n,onUpdateAccount:r,onDeleteAccount:a,calculateAccountBalance:i,isPrivacyModeEnabled:s})=>{const[u,f]=j.useState(!1),[c,h]=j.useState(null),[p,y]=j.useState(""),[_,w]=j.useState("0"),[A,T]=j.useState(""),k=()=>{h(null),y(""),w("0"),T(""),f(!0)},M=O=>{h(O),y(O.name),w(O.initial_balance.toString()),T(""),f(!0)},E=()=>{f(!1),h(null)},D=()=>{if(!p.trim()){T("Nome da conta é obrigatório.");return}const O=parseFloat(_);if(isNaN(O)){T("Saldo inicial inválido.");return}T(""),c?r({...c,name:p,initial_balance:O}):n({name:p,initial_balance:O}),E()},C=O=>e.filter(P=>P.account_id===O||P.to_account_id===O).length;return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Contas"}),b.jsxs(ye,{onClick:k,variant:"primary",children:[b.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Conta"]})]}),t.length>0?b.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(O=>b.jsx(tee,{account:O,balance:i(O.id),onEdit:M,onDelete:a,transactionCount:C(O.id),isPrivacyModeEnabled:s},O.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma conta cadastrada. Adicione uma para começar!"}),b.jsx(bn,{isOpen:u,onClose:E,title:c?"Editar Conta":"Nova Conta",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(Ie,{label:"Nome da Conta",id:"accountName",type:"text",value:p,onChange:O=>y(O.target.value),placeholder:"Ex: Carteira, Banco X",required:!0}),b.jsx(Ie,{label:"Saldo Inicial",id:"initialBalance",type:"number",step:"0.01",value:_,onChange:O=>w(O.target.value),placeholder:s?pe(0,"BRL","pt-BR",!0).replace("0,00","Ex: 1000.00"):"Ex: 1000.00",required:!0}),A&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:A}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(ye,{variant:"ghost",onClick:E,children:"Cancelar"}),b.jsx(ye,{variant:"primary",onClick:D,children:"Salvar"})]})]})})]})},wL=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),eP=({category:t,transactions:e,onEdit:n,onDelete:r,transactionCount:a,isPrivacyModeEnabled:i})=>{const s=t.type===ve.INCOME?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",u=t.type===ve.INCOME?"Receita":"Despesa",f=dt().substring(0,7),c=t.type===ve.EXPENSE&&t.monthly_budget?e.filter(y=>y.category_id===t.id&&y.date.startsWith(f)&&y.type===ve.EXPENSE).reduce((y,_)=>y+_.amount,0):0,h=t.monthly_budget&&t.monthly_budget>0?Math.min(c/t.monthly_budget*100,100):0,p=t.monthly_budget&&c>t.monthly_budget;return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(wL,{className:`w-5 h-5 ${s}`}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.name}),b.jsx("p",{className:`text-xs font-semibold ${s}`,children:u})]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[b.jsxs("div",{className:"flex space-x-2",children:[b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Categoria",className:"!p-1.5",children:b.jsx(Jr,{className:"w-4 h-4"})}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Categoria",className:"!p-1.5",disabled:a>0,title:a>0?"Não pode excluir categorias com transações associadas":"Excluir categoria",children:b.jsx(Zr,{className:`w-4 h-4 ${a>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),a>0&&b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-right",children:["Usada em ",a," trans."]})]})]}),t.type===ve.EXPENSE&&t.monthly_budget&&t.monthly_budget>0&&b.jsxs("div",{className:"mt-3 pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[b.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[b.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Orçamento Mensal: ",pe(t.monthly_budget,"BRL","pt-BR",i)]}),b.jsxs("span",{className:`font-medium ${p?"text-destructive dark:text-destructiveDark":"text-secondary dark:text-secondaryDark"}`,children:["Gasto: ",pe(c,"BRL","pt-BR",i)]})]}),b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:b.jsx("div",{className:`h-2 rounded-full ${p?"bg-destructive dark:bg-destructiveDark":"bg-primary dark:bg-primaryDark"}`,style:{width:`${h}%`}})}),p&&b.jsx("p",{className:"text-xs text-destructive dark:text-destructiveDark mt-1 text-right",children:"Orçamento excedido!"})]})]})},qo=({className:t="w-5 h-5",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.355a12.053 12.053 0 0 1-4.5 0M12 3V1.5M12 16.5h.008v.008H12V16.5Zm-4.508-2.656L6.292 12.64a9.018 9.018 0 0 1-.365-2.074 9.028 9.028 0 0 1 .365-2.073l1.208-1.208m5.832 5.46L17.708 12.36a9.018 9.018 0 0 0 .365-2.074 9.028 9.028 0 0 0-.365-2.073L16.5 6.992M12 1.5a9 9 0 0 0-9 9c0 2.21.81 4.286 2.186 5.885L6.9 17.72A9.03 9.03 0 0 0 12 22.5a9.03 9.03 0 0 0 5.1-4.78l1.714-1.335A8.973 8.973 0 0 0 21 10.5a9 9 0 0 0-9-9Z"})}),ree=({categories:t,transactions:e,aiConfig:n,onAddCategory:r,onUpdateCategory:a,onDeleteCategory:i,onSuggestBudget:s,isPrivacyModeEnabled:u})=>{const[f,c]=j.useState(!1),[h,p]=j.useState(null),[y,_]=j.useState(""),[w,A]=j.useState(ve.EXPENSE),[T,k]=j.useState(""),[M,E]=j.useState(""),[D,C]=j.useState(!1),O=()=>{p(null),_(""),A(ve.EXPENSE),k(""),E(""),c(!0)},P=Y=>{var B;p(Y),_(Y.name),A(Y.type),k(((B=Y.monthly_budget)==null?void 0:B.toString())||""),E(""),c(!0)},I=()=>{c(!1),p(null)},U=()=>{if(!y.trim()){E("Nome da categoria é obrigatório.");return}const Y=T?parseFloat(T):void 0;if(w===ve.EXPENSE&&T&&(isNaN(Y)||Y<0)){E("Orçamento mensal deve ser um número positivo ou vazio.");return}E(""),h?a({...h,name:y.trim(),type:w,monthly_budget:w===ve.EXPENSE?Y:void 0}):r({name:y.trim(),type:w,monthly_budget:w===ve.EXPENSE?Y:void 0}),I()},V=Y=>e.filter(B=>B.category_id===Y).length,$=async()=>{if(!y.trim()&&!h){E("Por favor, insira um nome para a categoria antes de sugerir um orçamento.");return}E(""),C(!0);const Y=t.filter(L=>L.type===ve.EXPENSE&&L.id!==(h==null?void 0:h.id)&&L.monthly_budget).map(L=>({name:L.name,budget:L.monthly_budget})),B=await s((h==null?void 0:h.name)||y,Y);B!==null?k(B.toString()):E("Não foi possível sugerir um orçamento no momento."),C(!1)},H=t.filter(Y=>Y.type===ve.INCOME).sort((Y,B)=>Y.name.localeCompare(B.name)),Z=t.filter(Y=>Y.type===ve.EXPENSE).sort((Y,B)=>Y.name.localeCompare(B.name));return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Categorias"}),b.jsxs(ye,{onClick:O,variant:"primary",children:[b.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Categoria"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Receitas (",H.length,")"]}),H.length>0?b.jsx("ul",{className:"space-y-3",children:H.map(Y=>b.jsx(eP,{category:Y,transactions:e,onEdit:P,onDelete:i,transactionCount:V(Y.id),isPrivacyModeEnabled:u},Y.id))}):b.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de receita."})]}),b.jsxs("div",{children:[b.jsxs("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:["Despesas (",Z.length,")"]}),Z.length>0?b.jsx("ul",{className:"space-y-3",children:Z.map(Y=>b.jsx(eP,{category:Y,transactions:e,onEdit:P,onDelete:i,transactionCount:V(Y.id),isPrivacyModeEnabled:u},Y.id))}):b.jsx("p",{className:"text-textMuted dark:text-textMutedDark py-4",children:"Nenhuma categoria de despesa."})]})]}),b.jsx(bn,{isOpen:f,onClose:I,title:h?"Editar Categoria":"Nova Categoria",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(Ie,{label:"Nome da Categoria",id:"categoryName",type:"text",value:y,onChange:Y=>_(Y.target.value),placeholder:"Ex: Alimentação, Salário",required:!0}),b.jsx(Tt,{label:"Tipo de Categoria",id:"categoryType",options:[{value:ve.INCOME,label:"Receita"},{value:ve.EXPENSE,label:"Despesa"}],value:w,onChange:Y=>{A(Y.target.value),Y.target.value===ve.INCOME&&k("")},required:!0}),w===ve.EXPENSE&&b.jsxs("div",{className:"space-y-1",children:[b.jsx(Ie,{label:"Orçamento Mensal (Opcional)",id:"monthlyBudget",type:"number",step:"0.01",value:T,onChange:Y=>k(Y.target.value),placeholder:u?pe(0,"BRL","pt-BR",!0).replace("0,00","Ex: 500.00"):"Ex: 500.00"}),n.isEnabled&&n.apiKeyStatus==="available"&&n.monthlyIncome&&n.monthlyIncome>0&&b.jsxs(ye,{type:"button",variant:"ghost",size:"sm",onClick:$,disabled:D,className:"text-primary dark:text-primaryDark !mt-1.5",children:[b.jsx(qo,{className:"w-4 h-4 mr-1.5"}),D?"Sugerindo...":"Sugerir com IA"]})]}),M&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:M}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(ye,{variant:"ghost",onClick:I,children:"Cancelar"}),b.jsx(ye,{variant:"primary",onClick:U,children:"Salvar"})]})]})})]})},Yw=({className:t="w-5 h-5",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25zM12 2.25L11.187 5.104a4.502 4.502 0 00-3.09 3.09L5.25 9l2.846.813a4.502 4.502 0 003.09 3.09L12 15.75l.813-2.846a4.502 4.502 0 003.09-3.09L18.75 9l-2.846-.813a4.502 4.502 0 00-3.09-3.09L12 2.25z"})]}),aee=({card:t,installmentPurchases:e,onEditCard:n,onDeleteCard:r,onAddInstallmentPurchase:a,onEditInstallmentPurchase:i,onDeleteInstallmentPurchase:s,onMarkInstallmentPaid:u,onGetBestPurchaseDay:f,onPayMonthlyInstallments:c,isAIFeatureEnabled:h,isPrivacyModeEnabled:p})=>{const[y,_]=j.useState(!1),w=e.filter(M=>M.credit_card_id===t.id),A=w.reduce((M,E)=>{if(E.installments_paid>=E.number_of_installments)return M;const D=E.total_amount/E.number_of_installments,C=E.number_of_installments-E.installments_paid;return M+D*C},0),T=t.card_limit-A,k=X.useMemo(()=>ZR(w,t,new Date),[w,t]);return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow-lg hover:shadow-xl dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[b.jsx(mp,{className:"w-7 h-7 text-primary dark:text-primaryDark"}),b.jsx("h3",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Limite Total: ",pe(t.card_limit,"BRL","pt-BR",p)]}),b.jsxs("p",{className:`text-md font-medium ${T>=0?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark"}`,children:["Disponível: ",pe(T,"BRL","pt-BR",p)]}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Fechamento: Dia ",t.closing_day," | Vencimento: Dia ",t.due_day]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1.5",children:[b.jsxs("div",{className:"flex space-x-1",children:[b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Cartão",className:"!p-1.5",children:b.jsx(Jr,{className:"w-4 h-4"})}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Cartão",className:"!p-1.5",disabled:w.length>0,title:w.length>0?"Exclua as compras parceladas primeiro":"Excluir cartão",children:b.jsx(Zr,{className:`w-4 h-4 ${w.length>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),b.jsxs(ye,{size:"sm",variant:"secondary",onClick:()=>a(t),className:"!text-xs !py-1 !px-2.5",children:[b.jsx(Yn,{className:"w-4 h-4 mr-1"})," Novo Parcelamento"]})]})]}),b.jsxs("div",{className:"space-y-2",children:[h&&b.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>f(t.id),className:"text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !text-xs",title:"Ver melhor dia para compra com IA",children:[b.jsx(Yw,{className:"w-4 h-4 mr-1.5"})," Melhor Dia para Compra (IA)"]}),k.length>0&&b.jsxs(ye,{variant:"primary",size:"sm",onClick:()=>c(t.id),className:"w-full !text-xs",children:["Pagar Parcelas da Fatura (",k.length,")"]})]}),w.length>0&&b.jsx("div",{className:"mt-2",children:b.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>_(!y),className:"text-sm text-primary dark:text-primaryDark hover:underline !justify-start !p-1 w-full text-left !font-normal",children:[y?"Ocultar":"Mostrar"," ",w.length," Compra(s) Parcelada(s)"]})}),y&&w.length>0&&b.jsxs("div",{className:"mt-2 pt-3 border-t border-borderBase/50 dark:border-borderBaseDark/50 space-y-3",children:[b.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark",children:"Detalhes dos Parcelamentos:"}),b.jsx("ul",{className:"space-y-3 max-h-72 overflow-y-auto pr-1",children:w.map(M=>{const E=M.total_amount/M.number_of_installments,D=M.installments_paid>=M.number_of_installments,C=M.installments_paid+1,O=D?null:XR(M.purchase_date,C,t.due_day),P=k.some(I=>I.id===M.id);return b.jsxs("li",{className:`p-3 rounded-md ${D?"bg-green-500/10 dark:bg-green-500/20 opacity-70":"bg-surface dark:bg-surfaceDark shadow-sm border border-borderBase dark:border-borderBaseDark"}`,children:[b.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[b.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:M.description}),b.jsxs("div",{className:"flex space-x-1",children:[b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>i(M,t),"aria-label":"Editar Compra",className:"!p-1",children:b.jsx(Jr,{className:"w-3.5 h-3.5"})}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>s(M.id),"aria-label":"Excluir Compra",className:"!p-1",children:b.jsx(Zr,{className:"w-3.5 h-3.5 text-destructive dark:text-destructiveDark"})})]})]}),b.jsxs("div",{className:"text-sm space-y-0.5",children:[b.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Parcela: ",b.jsx("span",{className:"font-medium",children:pe(E,"BRL","pt-BR",p)}),b.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:[" (",M.installments_paid,"/",M.number_of_installments," pagas)"]})]}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Total: ",pe(M.total_amount,"BRL","pt-BR",p)," | Compra: ",Hn(M.purchase_date)]}),O&&!D&&b.jsxs("p",{className:`text-xs font-medium ${P?"text-red-600 dark:text-red-400":"text-textMuted dark:text-textMutedDark"}`,children:["Próx. Venc. Parcela: ",Hn(dt(O))]})]}),!D&&b.jsxs(ye,{size:"sm",variant:P?"primary":"ghost",onClick:()=>u(M.id),className:`text-xs py-1 px-2 mt-2.5 w-full sm:w-auto ${P?"":"border border-borderBase dark:border-borderBaseDark"}`,children:[P?b.jsx(Xx,{className:"w-4 h-4 mr-1"}):null,"Pagar Parcela (",C,")"]}),D&&b.jsxs("p",{className:"text-xs text-secondary dark:text-secondaryDark mt-2 font-medium flex items-center",children:[b.jsx(Xx,{className:"w-4 h-4 mr-1"})," Compra Totalmente Paga"]})]},M.id)})})]}),y&&w.length===0&&b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark text-center py-2",children:"Nenhuma compra parcelada para este cartão."})]})},iee=({isOpen:t,onClose:e,onSave:n,existingCard:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState(""),[f,c]=j.useState(""),[h,p]=j.useState(""),[y,_]=j.useState({});j.useEffect(()=>{r?(i(r.name),u(r.card_limit.toString()),c(r.closing_day.toString()),p(r.due_day.toString())):(i(""),u(""),c(""),p("")),_({})},[r,t]);const w=()=>{const T={};a.trim()||(T.name="Nome do cartão é obrigatório.");const k=parseFloat(s);(isNaN(k)||k<=0)&&(T.limit="Limite deve ser um número positivo.");const M=parseInt(f,10);(isNaN(M)||M<1||M>31)&&(T.closingDay="Dia de fechamento deve ser entre 1 e 31.");const E=parseInt(h,10);return(isNaN(E)||E<1||E>31)&&(T.dueDay="Dia de vencimento deve ser entre 1 e 31."),_(T),Object.keys(T).length===0},A=()=>{if(!w())return;const T={name:a.trim(),card_limit:parseFloat(s),closing_day:parseInt(f,10),due_day:parseInt(h,10)},k=r?{...T,id:r.id}:T;n(k),e()};return b.jsx(bn,{isOpen:t,onClose:e,title:r?"Editar Cartão de Crédito":"Novo Cartão de Crédito",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(Ie,{label:"Nome do Cartão",id:"cardName",value:a,onChange:T=>i(T.target.value),error:y.name,placeholder:"Ex: Cartão Principal, Cartão Viagem"}),b.jsx(Ie,{label:"Limite do Cartão (R$)",id:"cardLimit",type:"number",step:"0.01",value:s,onChange:T=>u(T.target.value),error:y.limit,placeholder:"Ex: 5000.00"}),b.jsx(Ie,{label:"Dia de Fechamento da Fatura",id:"cardClosingDay",type:"number",min:"1",max:"31",value:f,onChange:T=>c(T.target.value),error:y.closingDay,placeholder:"Ex: 25"}),b.jsx(Ie,{label:"Dia de Vencimento da Fatura",id:"cardDueDay",type:"number",min:"1",max:"31",value:h,onChange:T=>p(T.target.value),error:y.dueDay,placeholder:"Ex: 10"}),y.form&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:y.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(ye,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(ye,{variant:"primary",onClick:A,children:"Salvar Cartão"})]})]})})},oee=({isOpen:t,onClose:e,onSave:n,creditCard:r,existingPurchase:a})=>{const[i,s]=j.useState(""),[u,f]=j.useState(dt()),[c,h]=j.useState(""),[p,y]=j.useState(""),[_,w]=j.useState("0"),[A,T]=j.useState({});j.useEffect(()=>{a?(s(a.description),f(a.purchase_date),h(a.total_amount.toString()),y(a.number_of_installments.toString()),w(a.installments_paid.toString())):(s(""),f(dt()),h(""),y(""),w("0")),T({})},[a,t]);const k=()=>{const E={};i.trim()||(E.description="Descrição é obrigatória."),u||(E.purchaseDate="Data da compra é obrigatória.");const D=parseFloat(c);(isNaN(D)||D<=0)&&(E.totalAmount="Valor total deve ser positivo.");const C=parseInt(p,10);(isNaN(C)||C<=0)&&(E.numberOfInstallments="Número de parcelas deve ser positivo.");const O=parseInt(_,10);return(isNaN(O)||O<0||C>0&&O>C)&&(E.installmentsPaid="Parcelas pagas inválido."),T(E),Object.keys(E).length===0},M=()=>{if(!k())return;const E={credit_card_id:r.id,description:i.trim(),purchase_date:u,total_amount:parseFloat(c),number_of_installments:parseInt(p,10),installments_paid:parseInt(_,10)},D=a?{...E,id:a.id}:E;n(D),e()};return b.jsxs(bn,{isOpen:t,onClose:e,title:a?"Editar Compra Parcelada":"Nova Compra Parcelada",children:[b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark mb-3",children:["Cartão: ",b.jsx("span",{className:"font-semibold text-textBase dark:text-textBaseDark",children:r.name})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx(Ie,{label:"Descrição da Compra",id:"purchaseDescription",value:i,onChange:E=>s(E.target.value),error:A.description,placeholder:"Ex: Celular Novo, Geladeira"}),b.jsx(Ie,{label:"Data da Compra",id:"purchaseDate",type:"date",value:u,onChange:E=>f(E.target.value),error:A.purchaseDate}),b.jsx(Ie,{label:"Valor Total (R$)",id:"totalAmount",type:"number",step:"0.01",value:c,onChange:E=>h(E.target.value),error:A.totalAmount,placeholder:"Ex: 1200.00"}),b.jsx(Ie,{label:"Número de Parcelas",id:"numberOfInstallments",type:"number",min:"1",value:p,onChange:E=>y(E.target.value),error:A.numberOfInstallments,placeholder:"Ex: 12"}),a&&b.jsx(Ie,{label:"Parcelas Pagas",id:"installmentsPaid",type:"number",min:"0",max:p||void 0,value:_,onChange:E=>w(E.target.value),error:A.installmentsPaid}),A.form&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:A.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(ye,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(ye,{variant:"primary",onClick:M,children:"Salvar Compra"})]})]})]})},see=({isOpen:t,onClose:e,advice:n,isLoading:r,cardName:a})=>b.jsxs(bn,{isOpen:t,onClose:e,title:`Melhor Dia para Compra ${a?`(${a})`:""}`,size:"md",children:[r&&b.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 p-6",children:[b.jsx(Yw,{className:"w-12 h-12 text-primary dark:text-primaryDark animate-pulse"}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Analisando o melhor dia para sua compra..."}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Aguarde um momento."})]}),!r&&n&&b.jsxs("div",{className:"space-y-4 p-2",children:[n.error?b.jsxs("div",{className:"bg-destructive/10 dark:bg-destructiveDark/20 p-4 rounded-md border-l-4 border-destructive dark:border-destructiveDark",children:[b.jsx("h3",{className:"text-md font-semibold text-destructive dark:text-destructiveDark mb-1",children:"Erro ao Analisar"}),b.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:n.explanation||"Não foi possível obter a sugestão no momento."})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Melhor dia para sua próxima compra:"}),b.jsx("p",{className:"text-2xl font-bold text-primary dark:text-primaryDark my-1",children:n.bestPurchaseDay||"N/A"})]}),b.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-4 rounded-md",children:[b.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Pagamento estimado para:"}),b.jsx("p",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:n.paymentDueDate||"N/A"})]}),b.jsxs("div",{className:"mt-3",children:[b.jsx("h4",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"Por quê?"}),b.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark bg-surface p-3 rounded-md shadow-inner dark:bg-surfaceDark/50",children:n.explanation||"Informação não disponível."})]})]}),b.jsx("div",{className:"flex justify-end pt-3",children:b.jsx(ye,{variant:"primary",onClick:e,children:"Entendido"})})]}),!r&&!n&&b.jsxs("div",{className:"text-center p-6",children:[b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Não foi possível carregar a sugestão."}),b.jsx(ye,{variant:"ghost",onClick:e,className:"mt-4",children:"Fechar"})]})]});var ft;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),s={};for(const u of i)s[u]=a[u];return t.objectValues(s)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},t.find=(a,i)=>{for(const s of a)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ft||(ft={}));var tP;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(tP||(tP={}));const Me=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Li=t=>{switch(typeof t){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return Number.isNaN(t)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(t)?Me.array:t===null?Me.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Me.promise:typeof Map<"u"&&t instanceof Map?Me.map:typeof Set<"u"&&t instanceof Set?Me.set:typeof Date<"u"&&t instanceof Date?Me.date:Me.object;default:return Me.unknown}},xe=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Za extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let u=r,f=0;for(;f<s.path.length;){const c=s.path[f];f===s.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(n(s))):u[c]=u[c]||{_errors:[]},u=u[c],f++}}};return a(this),r}static assert(e){if(!(e instanceof Za))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Za.create=t=>new Za(t);const yS=(t,e)=>{let n;switch(t.code){case xe.invalid_type:t.received===Me.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case xe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ft.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:n=`Unrecognized key(s) in object: ${ft.joinValues(t.keys,", ")}`;break;case xe.invalid_union:n="Invalid input";break;case xe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ft.joinValues(t.options)}`;break;case xe.invalid_enum_value:n=`Invalid enum value. Expected ${ft.joinValues(t.options)}, received '${t.received}'`;break;case xe.invalid_arguments:n="Invalid function arguments";break;case xe.invalid_return_type:n="Invalid function return type";break;case xe.invalid_date:n="Invalid date";break;case xe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ft.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case xe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case xe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case xe.custom:n="Invalid input";break;case xe.invalid_intersection_types:n="Intersection results could not be merged";break;case xe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case xe.not_finite:n="Number must be finite";break;default:n=e.defaultError,ft.assertNever(t)}return{message:n}};let lee=yS;function uee(){return lee}const cee=t=>{const{data:e,path:n,errorMaps:r,issueData:a}=t,i=[...n,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let u="";const f=r.filter(c=>!!c).slice().reverse();for(const c of f)u=c(s,{data:e,defaultError:u}).message;return{...a,path:i,message:u}};function Ce(t,e){const n=uee(),r=cee({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===yS?void 0:yS].filter(a=>!!a)});t.common.issues.push(r)}class Kn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const a of n){if(a.status==="aborted")return He;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const a of n){const i=await a.key,s=await a.value;r.push({key:i,value:s})}return Kn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const a of n){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return He;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(r[i.value]=s.value)}return{status:e.value,value:r}}}const He=Object.freeze({status:"aborted"}),gc=t=>({status:"dirty",value:t}),jr=t=>({status:"valid",value:t}),nP=t=>t.status==="aborted",rP=t=>t.status==="dirty",$l=t=>t.status==="valid",gm=t=>typeof Promise<"u"&&t instanceof Promise;var De;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(De||(De={}));class pa{constructor(e,n,r,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const aP=(t,e)=>{if($l(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Za(t.common.issues);return this._error=n,this._error}}};function Je(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:a}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(s,u)=>{const{message:f}=t;return s.code==="invalid_enum_value"?{message:f??u.defaultError}:typeof u.data>"u"?{message:f??r??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:f??n??u.defaultError}},description:a}}class lt{get description(){return this._def.description}_getType(e){return Li(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Li(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kn,ctx:{common:e.parent.common,data:e.data,parsedType:Li(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(gm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Li(e)},a=this._parseSync({data:e,path:r.path,parent:r});return aP(r,a)}"~validate"(e){var r,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Li(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return $l(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(a=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>$l(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Li(e)},a=this._parse({data:e,path:r.path,parent:r}),i=await(gm(a)?a:Promise.resolve(a));return aP(r,i)}refine(e,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const s=e(a),u=()=>i.addIssue({code:xe.custom,...r(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(f=>f?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(e){return new Ul({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return zi.create(this,this._def)}nullable(){return Fl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ha.create(this)}promise(){return _m.create(this,this._def)}or(e){return ym.create([this,e],this._def)}and(e){return bm.create(this,e,this._def)}transform(e){return new Ul({...Je(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new SS({...Je(this._def),innerType:this,defaultValue:n,typeName:ze.ZodDefault})}brand(){return new Pee({typeName:ze.ZodBranded,type:this,...Je(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new wS({...Je(this._def),innerType:this,catchValue:n,typeName:ze.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ww.create(this,e)}readonly(){return TS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fee=/^c[^\s-]{8,}$/i,dee=/^[0-9a-z]+$/,hee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pee=/^[a-z0-9_-]{21}$/i,gee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let jx;const xee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_ee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,See=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Tee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Aee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,TL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Eee=new RegExp(`^${TL}$`);function AL(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Cee(t){return new RegExp(`^${AL(t)}$`)}function kee(t){let e=`${TL}T${AL(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Oee(t,e){return!!((e==="v4"||!e)&&xee.test(t)||(e==="v6"||!e)&&See.test(t))}function Mee(t,e){if(!gee.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function Dee(t,e){return!!((e==="v4"||!e)&&_ee.test(t)||(e==="v6"||!e)&&wee.test(t))}class ua extends lt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Me.string){const i=this._getOrReturnCtx(e);return Ce(i,{code:xe.invalid_type,expected:Me.string,received:i.parsedType}),He}const r=new Kn;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),Ce(a,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),Ce(a,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,u=e.data.length<i.value;(s||u)&&(a=this._getOrReturnCtx(e,a),s?Ce(a,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&Ce(a,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")yee.test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"email",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")jx||(jx=new RegExp(bee,"u")),jx.test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"emoji",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")mee.test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"uuid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")pee.test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"nanoid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")fee.test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"cuid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")dee.test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"cuid2",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")hee.test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"ulid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Ce(a,{validation:"url",code:xe.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"regex",code:xe.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),Ce(a,{code:xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),Ce(a,{code:xe.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),Ce(a,{code:xe.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?kee(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{code:xe.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Eee.test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{code:xe.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Cee(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{code:xe.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?vee.test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"duration",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Oee(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"ip",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Mee(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"jwt",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Dee(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"cidr",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Tee.test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"base64",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Aee.test(e.data)||(a=this._getOrReturnCtx(e,a),Ce(a,{validation:"base64url",code:xe.invalid_string,message:i.message}),r.dirty()):ft.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(a=>e.test(a),{validation:n,code:xe.invalid_string,...De.errToObj(r)})}_addCheck(e){return new ua({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...De.errToObj(e)})}url(e){return this._addCheck({kind:"url",...De.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...De.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...De.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...De.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...De.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...De.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...De.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...De.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...De.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...De.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...De.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...De.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...De.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...De.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...De.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...De.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...De.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...De.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...De.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...De.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...De.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...De.errToObj(n)})}nonempty(e){return this.min(1,De.errToObj(e))}trim(){return new ua({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ua({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ua({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ua.create=t=>new ua({checks:[],typeName:ze.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Je(t)});function Nee(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=n>r?n:r,i=Number.parseInt(t.toFixed(a).replace(".","")),s=Number.parseInt(e.toFixed(a).replace(".",""));return i%s/10**a}class Ko extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Me.number){const i=this._getOrReturnCtx(e);return Ce(i,{code:xe.invalid_type,expected:Me.number,received:i.parsedType}),He}let r;const a=new Kn;for(const i of this._def.checks)i.kind==="int"?ft.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{code:xe.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Nee(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{code:xe.not_finite,message:i.message}),a.dirty()):ft.assertNever(i);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,De.toString(n))}gt(e,n){return this.setLimit("min",e,!1,De.toString(n))}lte(e,n){return this.setLimit("max",e,!0,De.toString(n))}lt(e,n){return this.setLimit("max",e,!1,De.toString(n))}setLimit(e,n,r,a){return new Ko({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:De.toString(a)}]})}_addCheck(e){return new Ko({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:De.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:De.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:De.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:De.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:De.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ft.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ko.create=t=>new Ko({checks:[],typeName:ze.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Je(t)});class Yo extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Me.bigint)return this._getInvalidInput(e);let r;const a=new Kn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ft.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ce(n,{code:xe.invalid_type,expected:Me.bigint,received:n.parsedType}),He}gte(e,n){return this.setLimit("min",e,!0,De.toString(n))}gt(e,n){return this.setLimit("min",e,!1,De.toString(n))}lte(e,n){return this.setLimit("max",e,!0,De.toString(n))}lt(e,n){return this.setLimit("max",e,!1,De.toString(n))}setLimit(e,n,r,a){return new Yo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:De.toString(a)}]})}_addCheck(e){return new Yo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:De.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Yo.create=t=>new Yo({checks:[],typeName:ze.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Je(t)});class vm extends lt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Me.boolean){const r=this._getOrReturnCtx(e);return Ce(r,{code:xe.invalid_type,expected:Me.boolean,received:r.parsedType}),He}return jr(e.data)}}vm.create=t=>new vm({typeName:ze.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Je(t)});class Bl extends lt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Me.date){const i=this._getOrReturnCtx(e);return Ce(i,{code:xe.invalid_type,expected:Me.date,received:i.parsedType}),He}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ce(i,{code:xe.invalid_date}),He}const r=new Kn;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),Ce(a,{code:xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),Ce(a,{code:xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ft.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:De.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:De.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Bl.create=t=>new Bl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ze.ZodDate,...Je(t)});class iP extends lt{_parse(e){if(this._getType(e)!==Me.symbol){const r=this._getOrReturnCtx(e);return Ce(r,{code:xe.invalid_type,expected:Me.symbol,received:r.parsedType}),He}return jr(e.data)}}iP.create=t=>new iP({typeName:ze.ZodSymbol,...Je(t)});class oP extends lt{_parse(e){if(this._getType(e)!==Me.undefined){const r=this._getOrReturnCtx(e);return Ce(r,{code:xe.invalid_type,expected:Me.undefined,received:r.parsedType}),He}return jr(e.data)}}oP.create=t=>new oP({typeName:ze.ZodUndefined,...Je(t)});class sP extends lt{_parse(e){if(this._getType(e)!==Me.null){const r=this._getOrReturnCtx(e);return Ce(r,{code:xe.invalid_type,expected:Me.null,received:r.parsedType}),He}return jr(e.data)}}sP.create=t=>new sP({typeName:ze.ZodNull,...Je(t)});class lP extends lt{constructor(){super(...arguments),this._any=!0}_parse(e){return jr(e.data)}}lP.create=t=>new lP({typeName:ze.ZodAny,...Je(t)});class bS extends lt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return jr(e.data)}}bS.create=t=>new bS({typeName:ze.ZodUnknown,...Je(t)});class Gi extends lt{_parse(e){const n=this._getOrReturnCtx(e);return Ce(n,{code:xe.invalid_type,expected:Me.never,received:n.parsedType}),He}}Gi.create=t=>new Gi({typeName:ze.ZodNever,...Je(t)});class uP extends lt{_parse(e){if(this._getType(e)!==Me.undefined){const r=this._getOrReturnCtx(e);return Ce(r,{code:xe.invalid_type,expected:Me.void,received:r.parsedType}),He}return jr(e.data)}}uP.create=t=>new uP({typeName:ze.ZodVoid,...Je(t)});class ha extends lt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),a=this._def;if(n.parsedType!==Me.array)return Ce(n,{code:xe.invalid_type,expected:Me.array,received:n.parsedType}),He;if(a.exactLength!==null){const s=n.data.length>a.exactLength.value,u=n.data.length<a.exactLength.value;(s||u)&&(Ce(n,{code:s?xe.too_big:xe.too_small,minimum:u?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Ce(n,{code:xe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Ce(n,{code:xe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,u)=>a.type._parseAsync(new pa(n,s,n.path,u)))).then(s=>Kn.mergeArray(r,s));const i=[...n.data].map((s,u)=>a.type._parseSync(new pa(n,s,n.path,u)));return Kn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ha({...this._def,minLength:{value:e,message:De.toString(n)}})}max(e,n){return new ha({...this._def,maxLength:{value:e,message:De.toString(n)}})}length(e,n){return new ha({...this._def,exactLength:{value:e,message:De.toString(n)}})}nonempty(e){return this.min(1,e)}}ha.create=(t,e)=>new ha({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...Je(e)});function el(t){if(t instanceof nn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=zi.create(el(r))}return new nn({...t._def,shape:()=>e})}else return t instanceof ha?new ha({...t._def,type:el(t.element)}):t instanceof zi?zi.create(el(t.unwrap())):t instanceof Fl?Fl.create(el(t.unwrap())):t instanceof Wo?Wo.create(t.items.map(e=>el(e))):t}class nn extends lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ft.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Me.object){const c=this._getOrReturnCtx(e);return Ce(c,{code:xe.invalid_type,expected:Me.object,received:c.parsedType}),He}const{status:r,ctx:a}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof Gi&&this._def.unknownKeys==="strip"))for(const c in a.data)s.includes(c)||u.push(c);const f=[];for(const c of s){const h=i[c],p=a.data[c];f.push({key:{status:"valid",value:c},value:h._parse(new pa(a,p,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof Gi){const c=this._def.unknownKeys;if(c==="passthrough")for(const h of u)f.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(c==="strict")u.length>0&&(Ce(a,{code:xe.unrecognized_keys,keys:u}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const h of u){const p=a.data[h];f.push({key:{status:"valid",value:h},value:c._parse(new pa(a,p,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const h of f){const p=await h.key,y=await h.value;c.push({key:p,value:y,alwaysSet:h.alwaysSet})}return c}).then(c=>Kn.mergeObjectSync(r,c)):Kn.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return De.errToObj,new nn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s;const a=((s=(i=this._def).errorMap)==null?void 0:s.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:De.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new nn({...this._def,unknownKeys:"strip"})}passthrough(){return new nn({...this._def,unknownKeys:"passthrough"})}extend(e){return new nn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ze.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new nn({...this._def,catchall:e})}pick(e){const n={};for(const r of ft.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new nn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ft.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new nn({...this._def,shape:()=>n})}deepPartial(){return el(this)}partial(e){const n={};for(const r of ft.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?n[r]=a:n[r]=a.optional()}return new nn({...this._def,shape:()=>n})}required(e){const n={};for(const r of ft.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof zi;)i=i._def.innerType;n[r]=i}return new nn({...this._def,shape:()=>n})}keyof(){return EL(ft.objectKeys(this.shape))}}nn.create=(t,e)=>new nn({shape:()=>t,unknownKeys:"strip",catchall:Gi.create(),typeName:ze.ZodObject,...Je(e)});nn.strictCreate=(t,e)=>new nn({shape:()=>t,unknownKeys:"strict",catchall:Gi.create(),typeName:ze.ZodObject,...Je(e)});nn.lazycreate=(t,e)=>new nn({shape:t,unknownKeys:"strip",catchall:Gi.create(),typeName:ze.ZodObject,...Je(e)});class ym extends lt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function a(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const s=i.map(u=>new Za(u.ctx.common.issues));return Ce(n,{code:xe.invalid_union,unionErrors:s}),He}if(n.common.async)return Promise.all(r.map(async i=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const f of r){const c={...n,common:{...n.common,issues:[]},parent:null},h=f._parseSync({data:n.data,path:n.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const u=s.map(f=>new Za(f));return Ce(n,{code:xe.invalid_union,unionErrors:u}),He}}get options(){return this._def.options}}ym.create=(t,e)=>new ym({options:t,typeName:ze.ZodUnion,...Je(e)});function xS(t,e){const n=Li(t),r=Li(e);if(t===e)return{valid:!0,data:t};if(n===Me.object&&r===Me.object){const a=ft.objectKeys(e),i=ft.objectKeys(t).filter(u=>a.indexOf(u)!==-1),s={...t,...e};for(const u of i){const f=xS(t[u],e[u]);if(!f.valid)return{valid:!1};s[u]=f.data}return{valid:!0,data:s}}else if(n===Me.array&&r===Me.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const s=t[i],u=e[i],f=xS(s,u);if(!f.valid)return{valid:!1};a.push(f.data)}return{valid:!0,data:a}}else return n===Me.date&&r===Me.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class bm extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=(i,s)=>{if(nP(i)||nP(s))return He;const u=xS(i.value,s.value);return u.valid?((rP(i)||rP(s))&&n.dirty(),{status:n.value,value:u.data}):(Ce(r,{code:xe.invalid_intersection_types}),He)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}bm.create=(t,e,n)=>new bm({left:t,right:e,typeName:ze.ZodIntersection,...Je(n)});class Wo extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.array)return Ce(r,{code:xe.invalid_type,expected:Me.array,received:r.parsedType}),He;if(r.data.length<this._def.items.length)return Ce(r,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&r.data.length>this._def.items.length&&(Ce(r,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((s,u)=>{const f=this._def.items[u]||this._def.rest;return f?f._parse(new pa(r,s,r.path,u)):null}).filter(s=>!!s);return r.common.async?Promise.all(i).then(s=>Kn.mergeArray(n,s)):Kn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Wo({...this._def,rest:e})}}Wo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wo({items:t,typeName:ze.ZodTuple,rest:null,...Je(e)})};class xm extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.object)return Ce(r,{code:xe.invalid_type,expected:Me.object,received:r.parsedType}),He;const a=[],i=this._def.keyType,s=this._def.valueType;for(const u in r.data)a.push({key:i._parse(new pa(r,u,r.path,u)),value:s._parse(new pa(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?Kn.mergeObjectAsync(n,a):Kn.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof lt?new xm({keyType:e,valueType:n,typeName:ze.ZodRecord,...Je(r)}):new xm({keyType:ua.create(),valueType:e,typeName:ze.ZodRecord,...Je(n)})}}class cP extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.map)return Ce(r,{code:xe.invalid_type,expected:Me.map,received:r.parsedType}),He;const a=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([u,f],c)=>({key:a._parse(new pa(r,u,r.path,[c,"key"])),value:i._parse(new pa(r,f,r.path,[c,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const f of s){const c=await f.key,h=await f.value;if(c.status==="aborted"||h.status==="aborted")return He;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(c.value,h.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const f of s){const c=f.key,h=f.value;if(c.status==="aborted"||h.status==="aborted")return He;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(c.value,h.value)}return{status:n.value,value:u}}}}cP.create=(t,e,n)=>new cP({valueType:e,keyType:t,typeName:ze.ZodMap,...Je(n)});class ff extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.set)return Ce(r,{code:xe.invalid_type,expected:Me.set,received:r.parsedType}),He;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(Ce(r,{code:xe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(Ce(r,{code:xe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function s(f){const c=new Set;for(const h of f){if(h.status==="aborted")return He;h.status==="dirty"&&n.dirty(),c.add(h.value)}return{status:n.value,value:c}}const u=[...r.data.values()].map((f,c)=>i._parse(new pa(r,f,r.path,c)));return r.common.async?Promise.all(u).then(f=>s(f)):s(u)}min(e,n){return new ff({...this._def,minSize:{value:e,message:De.toString(n)}})}max(e,n){return new ff({...this._def,maxSize:{value:e,message:De.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ff.create=(t,e)=>new ff({valueType:t,minSize:null,maxSize:null,typeName:ze.ZodSet,...Je(e)});class _S extends lt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_S.create=(t,e)=>new _S({getter:t,typeName:ze.ZodLazy,...Je(e)});class fP extends lt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ce(n,{received:n.data,code:xe.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:e.data}}get value(){return this._def.value}}fP.create=(t,e)=>new fP({value:t,typeName:ze.ZodLiteral,...Je(e)});function EL(t,e){return new ql({values:t,typeName:ze.ZodEnum,...Je(e)})}class ql extends lt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ce(n,{expected:ft.joinValues(r),received:n.parsedType,code:xe.invalid_type}),He}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ce(n,{received:n.data,code:xe.invalid_enum_value,options:r}),He}return jr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ql.create(e,{...this._def,...n})}exclude(e,n=this._def){return ql.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ql.create=EL;class dP extends lt{_parse(e){const n=ft.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Me.string&&r.parsedType!==Me.number){const a=ft.objectValues(n);return Ce(r,{expected:ft.joinValues(a),received:r.parsedType,code:xe.invalid_type}),He}if(this._cache||(this._cache=new Set(ft.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=ft.objectValues(n);return Ce(r,{received:r.data,code:xe.invalid_enum_value,options:a}),He}return jr(e.data)}get enum(){return this._def.values}}dP.create=(t,e)=>new dP({values:t,typeName:ze.ZodNativeEnum,...Je(e)});class _m extends lt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.promise&&n.common.async===!1)return Ce(n,{code:xe.invalid_type,expected:Me.promise,received:n.parsedType}),He;const r=n.parsedType===Me.promise?n.data:Promise.resolve(n.data);return jr(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}_m.create=(t,e)=>new _m({type:t,typeName:ze.ZodPromise,...Je(e)});class Ul extends lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:s=>{Ce(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(r.data,i);if(r.common.async)return Promise.resolve(s).then(async u=>{if(n.value==="aborted")return He;const f=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return f.status==="aborted"?He:f.status==="dirty"||n.value==="dirty"?gc(f.value):f});{if(n.value==="aborted")return He;const u=this._def.schema._parseSync({data:s,path:r.path,parent:r});return u.status==="aborted"?He:u.status==="dirty"||n.value==="dirty"?gc(u.value):u}}if(a.type==="refinement"){const s=u=>{const f=a.refinement(u,i);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?He:(u.status==="dirty"&&n.dirty(),s(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?He:(u.status==="dirty"&&n.dirty(),s(u.value).then(()=>({status:n.value,value:u.value}))))}if(a.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!$l(s))return He;const u=a.transform(s.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>$l(s)?Promise.resolve(a.transform(s.value,i)).then(u=>({status:n.value,value:u})):He);ft.assertNever(a)}}Ul.create=(t,e,n)=>new Ul({schema:t,typeName:ze.ZodEffects,effect:e,...Je(n)});Ul.createWithPreprocess=(t,e,n)=>new Ul({schema:e,effect:{type:"preprocess",transform:t},typeName:ze.ZodEffects,...Je(n)});class zi extends lt{_parse(e){return this._getType(e)===Me.undefined?jr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zi.create=(t,e)=>new zi({innerType:t,typeName:ze.ZodOptional,...Je(e)});class Fl extends lt{_parse(e){return this._getType(e)===Me.null?jr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fl.create=(t,e)=>new Fl({innerType:t,typeName:ze.ZodNullable,...Je(e)});class SS extends lt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}SS.create=(t,e)=>new SS({innerType:t,typeName:ze.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Je(e)});class wS extends lt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return gm(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Za(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Za(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}wS.create=(t,e)=>new wS({innerType:t,typeName:ze.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Je(e)});class hP extends lt{_parse(e){if(this._getType(e)!==Me.nan){const r=this._getOrReturnCtx(e);return Ce(r,{code:xe.invalid_type,expected:Me.nan,received:r.parsedType}),He}return{status:"valid",value:e.data}}}hP.create=t=>new hP({typeName:ze.ZodNaN,...Je(t)});class Pee extends lt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ww extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?He:i.status==="dirty"?(n.dirty(),gc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?He:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,n){return new Ww({in:e,out:n,typeName:ze.ZodPipeline})}}class TS extends lt{_parse(e){const n=this._def.innerType._parse(e),r=a=>($l(a)&&(a.value=Object.freeze(a.value)),a);return gm(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}TS.create=(t,e)=>new TS({innerType:t,typeName:ze.ZodReadonly,...Je(e)});var ze;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ze||(ze={}));const ko=ua.create,mP=Ko.create;Yo.create;const Ree=vm.create;Bl.create;const pP=bS.create;Gi.create;const vc=ha.create,Iee=nn.create,jee=ym.create;bm.create;Wo.create;const Lee=xm.create,$ee=_S.create,Bee=ql.create;_m.create;zi.create;Fl.create;const Js={string:t=>ua.create({...t,coerce:!0}),number:t=>Ko.create({...t,coerce:!0}),boolean:t=>vm.create({...t,coerce:!0}),bigint:t=>Yo.create({...t,coerce:!0}),date:t=>Bl.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qee,Uee;function Fee(){return{geminiUrl:qee,vertexUrl:Uee}}function Vee(t,e,n){var r,a,i;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=Fee();return t.vertexai?(a=s.vertexUrl)!==null&&a!==void 0?a:e:(i=s.geminiUrl)!==null&&i!==void 0?i:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ql{}function Ue(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const i=e[a];return i!=null?String(i):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function v(t,e,n){for(let i=0;i<e.length-1;i++){const s=e[i];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let c=0;c<f.length;c++){const h=f[c];v(h,e.slice(i+1),n[c])}else for(const c of f)v(c,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];v(f[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],a=t[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function g(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const i=t[a];return Array.isArray(i)?i.map(s=>g(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gP;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gP||(gP={}));var vP;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(vP||(vP={}));var ca;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ca||(ca={}));var yP;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(yP||(yP={}));var bP;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(bP||(bP={}));var xP;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(xP||(xP={}));var _P;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(_P||(_P={}));var SP;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(SP||(SP={}));var wP;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(wP||(wP={}));var TP;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(TP||(TP={}));var AP;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(AP||(AP={}));var EP;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(EP||(EP={}));var CP;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(CP||(CP={}));var Sm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Sm||(Sm={}));var kP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(kP||(kP={}));var AS;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(AS||(AS={}));var OP;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(OP||(OP={}));var MP;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(MP||(MP={}));var DP;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(DP||(DP={}));var NP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(NP||(NP={}));var PP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(PP||(PP={}));var RP;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(RP||(RP={}));var IP;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(IP||(IP={}));var jP;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(jP||(jP={}));var LP;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(LP||(LP={}));var $P;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($P||($P={}));var BP;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(BP||(BP={}));var qP;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(qP||(qP={}));var UP;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(UP||(UP={}));var FP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(FP||(FP={}));var VP;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(VP||(VP={}));var zP;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(zP||(zP={}));var GP;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(GP||(GP={}));var HP;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(HP||(HP={}));var KP;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(KP||(KP={}));var YP;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(YP||(YP={}));var WP;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(WP||(WP={}));var XP;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(XP||(XP={}));var ol;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ol||(ol={}));class fc{get text(){var e,n,r,a,i,s,u,f;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",h=!1;const p=[];for(const y of(f=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[_,w]of Object.entries(y))_!=="text"&&_!=="thought"&&(w!==null||w!==void 0)&&p.push(_);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,c+=y.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?c:void 0}get data(){var e,n,r,a,i,s,u,f;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const h=[];for(const p of(f=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[y,_]of Object.entries(p))y!=="inlineData"&&(_!==null||_!==void 0)&&h.push(y);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,a,i,s,u,f;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,a,i,s,u,f,c;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,a,i,s,u,f,c;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(c=h==null?void 0:h[0])===null||c===void 0?void 0:c.output}}class ZP{}class JP{}class zee{}class Gee{}class QP{}class eR{}class tR{}class Hee{}class nR{}class rR{}class aR{}class Kee{}class ES{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Yee{}class Wee{}class Xee{get text(){var e,n,r;let a="",i=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,c]of Object.entries(u))f!=="text"&&f!=="thought"&&c!==null&&s.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,a+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?a:void 0}get data(){var e,n,r;let a="";const i=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(s))u!=="inlineData"&&f!==null&&i.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(a+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Zee{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $t(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function CL(t,e){const n=$t(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function kL(t,e){return Array.isArray(e)?e.map(n=>wm(t,n)):[wm(t,e)]}function wm(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Jee(t,e){const n=wm(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Qee(t,e){const n=wm(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function iR(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function OL(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>iR(t,n)):[iR(t,e)]}function CS(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function oR(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function sR(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Gn(t,e){if(e==null)throw new Error("ContentUnion is required");return CS(e)?e:{role:"user",parts:OL(t,e)}}function ML(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Gn(t,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Gn(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Gn(t,n)):[Gn(t,e)]}function Xr(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(oR(e)||sR(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Gn(t,e)]}const n=[],r=[],a=CS(e[0]);for(const i of e){const s=CS(i);if(s!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)n.push(i);else{if(oR(i)||sR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return a||n.push({role:"user",parts:OL(t,r)}),n}const ete=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),lR=Bee(["string","number","integer","object","array","boolean","null"]),tte=jee([lR,vc(lR)]);function nte(t=!0){const e=$ee(()=>{const n=Iee({type:tte.optional(),format:ko().optional(),title:ko().optional(),description:ko().optional(),default:pP().optional(),items:e.optional(),minItems:Js.string().optional(),maxItems:Js.string().optional(),enum:vc(pP()).optional(),properties:Lee(ko(),e).optional(),required:vc(ko()).optional(),minProperties:Js.string().optional(),maxProperties:Js.string().optional(),propertyOrdering:vc(ko()).optional(),minimum:mP().optional(),maximum:mP().optional(),minLength:Js.string().optional(),maxLength:Js.string().optional(),pattern:ko().optional(),anyOf:vc(e).optional(),additionalProperties:Ree().optional()});return t?n.strict():n});return e}function rte(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ca).includes(n[0].toUpperCase())?n[0].toUpperCase():ca.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ca).includes(r.toUpperCase())?r.toUpperCase():ca.TYPE_UNSPECIFIED})}}function fl(t){const e={},n=["items"],r=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&rte(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(ca).includes(u.toUpperCase())?u.toUpperCase():ca.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=fl(u);else if(r.includes(s)){const f=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}f.push(fl(c))}e[s]=f}else if(a.includes(s)){const f={};for(const[c,h]of Object.entries(u))f[c]=fl(h);e[s]=f}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Tm(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=nte().parse(e);return fl(n)}else return fl(e)}function DL(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Xw(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Sf(t,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=Tm(t,n.parameters)),n.response&&(n.response=Tm(t,n.response));return e}function wf(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of e)n.push(r);return n}function ate(t,e,n,r=1){const a=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:a?`${n}/${e}`:e}function Zi(t,e){if(typeof e!="string")throw new Error("name must be a string");return ate(t,e,"cachedContents")}function NL(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ni(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function ite(t){return t!=null&&typeof t=="object"&&"name"in t}function ote(t){return t!=null&&typeof t=="object"&&"video"in t}function ste(t){return t!=null&&typeof t=="object"&&"uri"in t}function PL(t,e){var n;let r;if(ite(e)&&(r=e.name),!(ste(e)&&(r=e.uri,r===void 0))&&!(ote(e)&&(r=(n=e.video)===null||n===void 0?void 0:n.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function RL(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function IL(t,e){for(const n of["models","tunedModels","publisherModels"])if(lte(e,n))return e[n];return[]}function lte(t,e){return t!==null&&typeof t=="object"&&e in t}function ute(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:fl(pp(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function cte(t,e={}){const n=[],r=new Set;for(const a of t){const i=a.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const s=ute(a,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function fte(t){const e=[];for(const n of t)e.push(pp(n));return e}function dte(t){const e={};for(const[n,r]of Object.entries(t)){const a=r;e[n]=pp(a)}return e}function pp(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),a={};for(const[i,s]of Object.entries(t))if(e.has(i))a[i]=pp(s);else if(n.has(i))a[i]=fte(s);else if(r.has(i))a[i]=dte(s);else if(i==="type"){const u=s.toUpperCase();a[i]=Object.values(ca).includes(u)?u:ca.TYPE_UNSPECIFIED}else ete.has(i)&&(a[i]=s);return a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hte(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function mte(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function pte(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function gte(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],hte(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],mte(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],pte(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const f=g(e,["codeExecutionResult"]);f!=null&&v(n,["codeExecutionResult"],f);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function uR(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>gte(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function vte(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function yte(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function bte(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],yte(t,r)),n}function xte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function _te(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],xte(t,r)),n}function Ste(){return{}}function wte(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>vte(t,c))),v(n,["functionDeclarations"],f)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],bte(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],_te(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],Ste());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function Tte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Ate(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Ete(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Ate(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Cte(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],Tte(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Ete(t,a)),n}function kte(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const s=g(e,["displayName"]);n!==void 0&&s!=null&&v(n,["displayName"],s);const u=g(e,["contents"]);if(n!==void 0&&u!=null){let p=Xr(t,u);Array.isArray(p)&&(p=p.map(y=>uR(t,y))),v(n,["contents"],p)}const f=g(e,["systemInstruction"]);n!==void 0&&f!=null&&v(n,["systemInstruction"],uR(t,Gn(t,f)));const c=g(e,["tools"]);if(n!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(y=>wte(t,y))),v(n,["tools"],p)}const h=g(e,["toolConfig"]);if(n!==void 0&&h!=null&&v(n,["toolConfig"],Cte(t,h)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function Ote(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],CL(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],kte(t,a,n)),n}function Mte(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],Zi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Dte(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],Zi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Nte(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);return n!==void 0&&i!=null&&v(n,["expireTime"],i),r}function Pte(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],Zi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Nte(t,a,n)),n}function Rte(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function Ite(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Rte(t,r,n)),n}function jte(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Lte(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function $te(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Bte(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],jte(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Lte(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],$te(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const f=g(e,["codeExecutionResult"]);f!=null&&v(n,["codeExecutionResult"],f);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function cR(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Bte(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function qte(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function Ute(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Fte(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Ute(t,r)),n}function Vte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function zte(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Vte(t,r)),n}function Gte(){return{}}function Hte(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function Kte(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],Hte(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const f=g(e,["oidcConfig"]);return f!=null&&v(n,["oidcConfig"],f),n}function Yte(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],Kte(t,r)),n}function Wte(){return{}}function Xte(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(y=>qte(t,y))),v(n,["functionDeclarations"],p)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],Fte(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],zte(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],Gte());const f=g(e,["googleMaps"]);f!=null&&v(n,["googleMaps"],Yte(t,f)),g(e,["urlContext"])!=null&&v(n,["urlContext"],Wte());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function Zte(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Jte(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Qte(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Jte(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function ene(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],Zte(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Qte(t,a)),n}function tne(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const s=g(e,["displayName"]);n!==void 0&&s!=null&&v(n,["displayName"],s);const u=g(e,["contents"]);if(n!==void 0&&u!=null){let y=Xr(t,u);Array.isArray(y)&&(y=y.map(_=>cR(t,_))),v(n,["contents"],y)}const f=g(e,["systemInstruction"]);n!==void 0&&f!=null&&v(n,["systemInstruction"],cR(t,Gn(t,f)));const c=g(e,["tools"]);if(n!==void 0&&c!=null){let y=c;Array.isArray(y)&&(y=y.map(_=>Xte(t,_))),v(n,["tools"],y)}const h=g(e,["toolConfig"]);n!==void 0&&h!=null&&v(n,["toolConfig"],ene(t,h));const p=g(e,["kmsKeyName"]);return n!==void 0&&p!=null&&v(n,["encryption_spec","kmsKeyName"],p),r}function nne(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],CL(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],tne(t,a,n)),n}function rne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],Zi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function ane(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],Zi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function ine(t,e,n){const r={},a=g(e,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const i=g(e,["expireTime"]);return n!==void 0&&i!=null&&v(n,["expireTime"],i),r}function one(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],Zi(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],ine(t,a,n)),n}function sne(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function lne(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],sne(t,r,n)),n}function ph(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["model"]);i!=null&&v(n,["model"],i);const s=g(e,["createTime"]);s!=null&&v(n,["createTime"],s);const u=g(e,["updateTime"]);u!=null&&v(n,["updateTime"],u);const f=g(e,["expireTime"]);f!=null&&v(n,["expireTime"],f);const c=g(e,["usageMetadata"]);return c!=null&&v(n,["usageMetadata"],c),n}function une(){return{}}function cne(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>ph(t,s))),v(n,["cachedContents"],i)}return n}function gh(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["model"]);i!=null&&v(n,["model"],i);const s=g(e,["createTime"]);s!=null&&v(n,["createTime"],s);const u=g(e,["updateTime"]);u!=null&&v(n,["updateTime"],u);const f=g(e,["expireTime"]);f!=null&&v(n,["expireTime"],f);const c=g(e,["usageMetadata"]);return c!=null&&v(n,["usageMetadata"],c),n}function fne(){return{}}function dne(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>gh(t,s))),v(n,["cachedContents"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Vl||(Vl={}));class gp{constructor(e,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,a)}init(e,n,r){var a,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(a=s.config)===null||a===void 0?void 0:a.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hne extends Ql{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new gp(Vl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=nne(this.apiClient,e);return u=Ue("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>gh(this.apiClient,h))}else{const c=Ote(this.apiClient,e);return u=Ue("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>ph(this.apiClient,h))}}async get(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=rne(this.apiClient,e);return u=Ue("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>gh(this.apiClient,h))}else{const c=Mte(this.apiClient,e);return u=Ue("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>ph(this.apiClient,h))}}async delete(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=ane(this.apiClient,e);return u=Ue("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(()=>{const h=fne(),p=new rR;return Object.assign(p,h),p})}else{const c=Dte(this.apiClient,e);return u=Ue("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=une(),p=new rR;return Object.assign(p,h),p})}}async update(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=one(this.apiClient,e);return u=Ue("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>gh(this.apiClient,h))}else{const c=Pte(this.apiClient,e);return u=Ue("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>ph(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=lne(this.apiClient,e);return u=Ue("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=dne(this.apiClient,h),y=new aR;return Object.assign(y,p),y})}else{const c=Ite(this.apiClient,e);return u=Ue("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=cne(this.apiClient,h),y=new aR;return Object.assign(y,p),y})}}}function fR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qt(t){return this instanceof qt?(this.v=t,this):new qt(t)}function dl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(_){return function(w){return Promise.resolve(w).then(_,p)}}function u(_,w){r[_]&&(a[_]=function(A){return new Promise(function(T,k){i.push([_,A,T,k])>1||f(_,A)})},w&&(a[_]=w(a[_])))}function f(_,w){try{c(r[_](w))}catch(A){y(i[0][3],A)}}function c(_){_.value instanceof qt?Promise.resolve(_.value.v).then(h,p):y(i[0][2],_)}function h(_){f("next",_)}function p(_){f("throw",_)}function y(_,w){_(w),i.shift(),i.length&&f(i[0][0],i[0][1])}}function Cc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fR=="function"?fR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(u,f){s=t[i](s),a(u,f,s.done,s.value)})}}function a(i,s,u,f){Promise.resolve(f).then(function(c){i({value:c,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mne(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:jL(n)}function jL(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function pne(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function dR(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const a=[];let i=!0;for(;r<n&&t[r].role==="model";)a.push(t[r]),i&&!jL(t[r])&&(i=!1),r++;i?e.push(...a):e.pop()}return e}class gne{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new vne(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class vne{constructor(e,n,r,a={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=a,this.history=i,this.sendPromise=Promise.resolve(),pne(i)}async sendMessage(e){var n;await this.sendPromise;const r=Gn(this.apiClient,e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,u;const f=await a,c=(s=(i=f.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,h=f.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let y=[];h!=null&&(y=(u=h.slice(p))!==null&&u!==void 0?u:[]);const _=c?[c]:[];this.recordHistory(r,_,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var n;await this.sendPromise;const r=Gn(this.apiClient,e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const i=await a;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?dR(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,a;return dl(this,arguments,function*(){var s,u,f,c;const h=[];try{for(var p=!0,y=Cc(e),_;_=yield qt(y.next()),s=_.done,!s;p=!0){c=_.value,p=!1;const w=c;if(mne(w)){const A=(a=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;A!==void 0&&h.push(A)}yield yield qt(w)}}catch(w){u={error:w}}finally{try{!p&&!s&&(f=y.return)&&(yield qt(f.call(y)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let a=[];n.length>0&&n.every(i=>i.role!==void 0)?a=n:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...dR(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yne(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);return n!==void 0&&i!=null&&v(n,["_query","pageToken"],i),r}function bne(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],yne(t,r,n)),n}function xne(t,e){const n={},r=g(e,["details"]);r!=null&&v(n,["details"],r);const a=g(e,["message"]);a!=null&&v(n,["message"],a);const i=g(e,["code"]);return i!=null&&v(n,["code"],i),n}function _ne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["mimeType"]);i!=null&&v(n,["mimeType"],i);const s=g(e,["sizeBytes"]);s!=null&&v(n,["sizeBytes"],s);const u=g(e,["createTime"]);u!=null&&v(n,["createTime"],u);const f=g(e,["expirationTime"]);f!=null&&v(n,["expirationTime"],f);const c=g(e,["updateTime"]);c!=null&&v(n,["updateTime"],c);const h=g(e,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const p=g(e,["uri"]);p!=null&&v(n,["uri"],p);const y=g(e,["downloadUri"]);y!=null&&v(n,["downloadUri"],y);const _=g(e,["state"]);_!=null&&v(n,["state"],_);const w=g(e,["source"]);w!=null&&v(n,["source"],w);const A=g(e,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const T=g(e,["error"]);return T!=null&&v(n,["error"],xne(t,T)),n}function Sne(t,e){const n={},r=g(e,["file"]);r!=null&&v(n,["file"],_ne(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function wne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","file"],PL(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Tne(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","file"],PL(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Ane(t,e){const n={},r=g(e,["details"]);r!=null&&v(n,["details"],r);const a=g(e,["message"]);a!=null&&v(n,["message"],a);const i=g(e,["code"]);return i!=null&&v(n,["code"],i),n}function kS(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["mimeType"]);i!=null&&v(n,["mimeType"],i);const s=g(e,["sizeBytes"]);s!=null&&v(n,["sizeBytes"],s);const u=g(e,["createTime"]);u!=null&&v(n,["createTime"],u);const f=g(e,["expirationTime"]);f!=null&&v(n,["expirationTime"],f);const c=g(e,["updateTime"]);c!=null&&v(n,["updateTime"],c);const h=g(e,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const p=g(e,["uri"]);p!=null&&v(n,["uri"],p);const y=g(e,["downloadUri"]);y!=null&&v(n,["downloadUri"],y);const _=g(e,["state"]);_!=null&&v(n,["state"],_);const w=g(e,["source"]);w!=null&&v(n,["source"],w);const A=g(e,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const T=g(e,["error"]);return T!=null&&v(n,["error"],Ane(t,T)),n}function Ene(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["files"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>kS(t,s))),v(n,["files"],i)}return n}function Cne(){return{}}function kne(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class One extends Ql{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new gp(Vl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>kS(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bne(this.apiClient,e);return i=Ue("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const c=Ene(this.apiClient,f),h=new Kee;return Object.assign(h,c),h})}}async createInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sne(this.apiClient,e);return i=Ue("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(()=>{const f=Cne(),c=new Yee;return Object.assign(c,f),c})}}async get(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wne(this.apiClient,e);return i=Ue("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>kS(this.apiClient,f))}}async delete(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tne(this.apiClient,e);return i=Ue("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(()=>{const f=kne(),c=new Wee;return Object.assign(c,f),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mne(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function Dne(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function LL(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Mne(t,r)),n}function Nne(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Dne(t,r)),n}function Pne(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],LL(t,a)),n}function Rne(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Pne(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function Ine(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],LL(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],Rne(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function jne(t,e){const n={},r=g(e,["voiceConfig"]);if(r!=null&&v(n,["voiceConfig"],Nne(t,r)),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Lne(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function $ne(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Bne(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function qne(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Une(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Fne(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Vne(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Lne(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Bne(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Une(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const f=g(e,["codeExecutionResult"]);f!=null&&v(n,["codeExecutionResult"],f);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function zne(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],$ne(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],qne(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Fne(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const f=g(e,["codeExecutionResult"]);f!=null&&v(n,["codeExecutionResult"],f);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Gne(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Vne(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Hne(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>zne(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Kne(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function Yne(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function Wne(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Xne(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Zne(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Wne(t,r)),n}function Jne(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Xne(t,r)),n}function Qne(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function ere(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function tre(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Qne(t,r)),n}function nre(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],ere(t,r)),n}function rre(){return{}}function are(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function ire(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],are(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const f=g(e,["oidcConfig"]);return f!=null&&v(n,["oidcConfig"],f),n}function ore(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],ire(t,r)),n}function sre(){return{}}function lre(){return{}}function ure(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>Kne(t,c))),v(n,["functionDeclarations"],f)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],Zne(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],tre(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],sre());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function cre(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(y=>Yne(t,y))),v(n,["functionDeclarations"],p)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],Jne(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],nre(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],rre());const f=g(e,["googleMaps"]);f!=null&&v(n,["googleMaps"],ore(t,f)),g(e,["urlContext"])!=null&&v(n,["urlContext"],lre());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function fre(t,e){const n={},r=g(e,["handle"]);if(r!=null&&v(n,["handle"],r),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function dre(t,e){const n={},r=g(e,["handle"]);r!=null&&v(n,["handle"],r);const a=g(e,["transparent"]);return a!=null&&v(n,["transparent"],a),n}function hR(){return{}}function mR(){return{}}function hre(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function mre(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function pre(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],hre(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function gre(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],mre(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function vre(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function yre(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function bre(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],vre(t,a)),n}function xre(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],yre(t,a)),n}function _re(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function Sre(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function wre(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const f=g(e,["topK"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topK"],f);const c=g(e,["maxOutputTokens"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","maxOutputTokens"],c);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const p=g(e,["seed"]);n!==void 0&&p!=null&&v(n,["setup","generationConfig","seed"],p);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],Ine(t,Xw(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const w=g(e,["systemInstruction"]);n!==void 0&&w!=null&&v(n,["setup","systemInstruction"],Gne(t,Gn(t,w)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let O=wf(t,A);Array.isArray(O)&&(O=O.map(P=>ure(t,Sf(t,P)))),v(n,["setup","tools"],O)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],fre(t,T));const k=g(e,["inputAudioTranscription"]);n!==void 0&&k!=null&&v(n,["setup","inputAudioTranscription"],hR());const M=g(e,["outputAudioTranscription"]);n!==void 0&&M!=null&&v(n,["setup","outputAudioTranscription"],hR());const E=g(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&v(n,["setup","realtimeInputConfig"],pre(t,E));const D=g(e,["contextWindowCompression"]);n!==void 0&&D!=null&&v(n,["setup","contextWindowCompression"],bre(t,D));const C=g(e,["proactivity"]);return n!==void 0&&C!=null&&v(n,["setup","proactivity"],_re(t,C)),r}function Tre(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const f=g(e,["topK"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topK"],f);const c=g(e,["maxOutputTokens"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","maxOutputTokens"],c);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const p=g(e,["seed"]);n!==void 0&&p!=null&&v(n,["setup","generationConfig","seed"],p);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],jne(t,Xw(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const w=g(e,["systemInstruction"]);n!==void 0&&w!=null&&v(n,["setup","systemInstruction"],Hne(t,Gn(t,w)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let O=wf(t,A);Array.isArray(O)&&(O=O.map(P=>cre(t,Sf(t,P)))),v(n,["setup","tools"],O)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],dre(t,T));const k=g(e,["inputAudioTranscription"]);n!==void 0&&k!=null&&v(n,["setup","inputAudioTranscription"],mR());const M=g(e,["outputAudioTranscription"]);n!==void 0&&M!=null&&v(n,["setup","outputAudioTranscription"],mR());const E=g(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&v(n,["setup","realtimeInputConfig"],gre(t,E));const D=g(e,["contextWindowCompression"]);n!==void 0&&D!=null&&v(n,["setup","contextWindowCompression"],xre(t,D));const C=g(e,["proactivity"]);return n!==void 0&&C!=null&&v(n,["setup","proactivity"],Sre(t,C)),r}function Are(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],$t(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],wre(t,a,n)),n}function Ere(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],$t(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Tre(t,a,n)),n}function Cre(){return{}}function kre(){return{}}function Ore(){return{}}function Mre(){return{}}function Dre(t,e){const n={},r=g(e,["media"]);r!=null&&v(n,["mediaChunks"],kL(t,r));const a=g(e,["audio"]);a!=null&&v(n,["audio"],Qee(t,a));const i=g(e,["audioStreamEnd"]);i!=null&&v(n,["audioStreamEnd"],i);const s=g(e,["video"]);s!=null&&v(n,["video"],Jee(t,s));const u=g(e,["text"]);return u!=null&&v(n,["text"],u),g(e,["activityStart"])!=null&&v(n,["activityStart"],Cre()),g(e,["activityEnd"])!=null&&v(n,["activityEnd"],Ore()),n}function Nre(t,e){const n={},r=g(e,["media"]);if(r!=null&&v(n,["mediaChunks"],kL(t,r)),g(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const a=g(e,["audioStreamEnd"]);if(a!=null&&v(n,["audioStreamEnd"],a),g(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(g(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return g(e,["activityStart"])!=null&&v(n,["activityStart"],kre()),g(e,["activityEnd"])!=null&&v(n,["activityEnd"],Mre()),n}function $L(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["weight"]);return a!=null&&v(n,["weight"],a),n}function Pre(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>$L(t,i))),v(n,["weightedPrompts"],a)}return n}function BL(t,e){const n={},r=g(e,["temperature"]);r!=null&&v(n,["temperature"],r);const a=g(e,["topK"]);a!=null&&v(n,["topK"],a);const i=g(e,["seed"]);i!=null&&v(n,["seed"],i);const s=g(e,["guidance"]);s!=null&&v(n,["guidance"],s);const u=g(e,["bpm"]);u!=null&&v(n,["bpm"],u);const f=g(e,["density"]);f!=null&&v(n,["density"],f);const c=g(e,["brightness"]);c!=null&&v(n,["brightness"],c);const h=g(e,["scale"]);h!=null&&v(n,["scale"],h);const p=g(e,["muteBass"]);p!=null&&v(n,["muteBass"],p);const y=g(e,["muteDrums"]);y!=null&&v(n,["muteDrums"],y);const _=g(e,["onlyBassAndDrums"]);return _!=null&&v(n,["onlyBassAndDrums"],_),n}function Rre(t,e){const n={},r=g(e,["musicGenerationConfig"]);return r!=null&&v(n,["musicGenerationConfig"],BL(t,r)),n}function qL(t,e){const n={},r=g(e,["model"]);return r!=null&&v(n,["model"],r),n}function UL(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>$L(t,i))),v(n,["weightedPrompts"],a)}return n}function OS(t,e){const n={},r=g(e,["setup"]);r!=null&&v(n,["setup"],qL(t,r));const a=g(e,["clientContent"]);a!=null&&v(n,["clientContent"],UL(t,a));const i=g(e,["musicGenerationConfig"]);i!=null&&v(n,["musicGenerationConfig"],BL(t,i));const s=g(e,["playbackControl"]);return s!=null&&v(n,["playbackControl"],s),n}function Ire(){return{}}function jre(){return{}}function Lre(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function $re(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Bre(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function qre(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Ure(t,e){const n={},r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Fre(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Vre(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Lre(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Bre(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Ure(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const f=g(e,["codeExecutionResult"]);f!=null&&v(n,["codeExecutionResult"],f);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function zre(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],$re(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],qre(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Fre(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const f=g(e,["codeExecutionResult"]);f!=null&&v(n,["codeExecutionResult"],f);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Gre(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Vre(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Hre(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>zre(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function pR(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["finished"]);return a!=null&&v(n,["finished"],a),n}function gR(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["finished"]);return a!=null&&v(n,["finished"],a),n}function Kre(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function Yre(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Kre(t,i))),v(n,["urlMetadata"],a)}return n}function Wre(t,e){const n={},r=g(e,["modelTurn"]);r!=null&&v(n,["modelTurn"],Gre(t,r));const a=g(e,["turnComplete"]);a!=null&&v(n,["turnComplete"],a);const i=g(e,["interrupted"]);i!=null&&v(n,["interrupted"],i);const s=g(e,["groundingMetadata"]);s!=null&&v(n,["groundingMetadata"],s);const u=g(e,["generationComplete"]);u!=null&&v(n,["generationComplete"],u);const f=g(e,["inputTranscription"]);f!=null&&v(n,["inputTranscription"],pR(t,f));const c=g(e,["outputTranscription"]);c!=null&&v(n,["outputTranscription"],pR(t,c));const h=g(e,["urlContextMetadata"]);return h!=null&&v(n,["urlContextMetadata"],Yre(t,h)),n}function Xre(t,e){const n={},r=g(e,["modelTurn"]);r!=null&&v(n,["modelTurn"],Hre(t,r));const a=g(e,["turnComplete"]);a!=null&&v(n,["turnComplete"],a);const i=g(e,["interrupted"]);i!=null&&v(n,["interrupted"],i);const s=g(e,["groundingMetadata"]);s!=null&&v(n,["groundingMetadata"],s);const u=g(e,["generationComplete"]);u!=null&&v(n,["generationComplete"],u);const f=g(e,["inputTranscription"]);f!=null&&v(n,["inputTranscription"],gR(t,f));const c=g(e,["outputTranscription"]);return c!=null&&v(n,["outputTranscription"],gR(t,c)),n}function Zre(t,e){const n={},r=g(e,["id"]);r!=null&&v(n,["id"],r);const a=g(e,["args"]);a!=null&&v(n,["args"],a);const i=g(e,["name"]);return i!=null&&v(n,["name"],i),n}function Jre(t,e){const n={},r=g(e,["args"]);r!=null&&v(n,["args"],r);const a=g(e,["name"]);return a!=null&&v(n,["name"],a),n}function Qre(t,e){const n={},r=g(e,["functionCalls"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Zre(t,i))),v(n,["functionCalls"],a)}return n}function eae(t,e){const n={},r=g(e,["functionCalls"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Jre(t,i))),v(n,["functionCalls"],a)}return n}function tae(t,e){const n={},r=g(e,["ids"]);return r!=null&&v(n,["ids"],r),n}function nae(t,e){const n={},r=g(e,["ids"]);return r!=null&&v(n,["ids"],r),n}function fh(t,e){const n={},r=g(e,["modality"]);r!=null&&v(n,["modality"],r);const a=g(e,["tokenCount"]);return a!=null&&v(n,["tokenCount"],a),n}function dh(t,e){const n={},r=g(e,["modality"]);r!=null&&v(n,["modality"],r);const a=g(e,["tokenCount"]);return a!=null&&v(n,["tokenCount"],a),n}function rae(t,e){const n={},r=g(e,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const a=g(e,["cachedContentTokenCount"]);a!=null&&v(n,["cachedContentTokenCount"],a);const i=g(e,["responseTokenCount"]);i!=null&&v(n,["responseTokenCount"],i);const s=g(e,["toolUsePromptTokenCount"]);s!=null&&v(n,["toolUsePromptTokenCount"],s);const u=g(e,["thoughtsTokenCount"]);u!=null&&v(n,["thoughtsTokenCount"],u);const f=g(e,["totalTokenCount"]);f!=null&&v(n,["totalTokenCount"],f);const c=g(e,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(w=>fh(t,w))),v(n,["promptTokensDetails"],_)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(w=>fh(t,w))),v(n,["cacheTokensDetails"],_)}const p=g(e,["responseTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(w=>fh(t,w))),v(n,["responseTokensDetails"],_)}const y=g(e,["toolUsePromptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(w=>fh(t,w))),v(n,["toolUsePromptTokensDetails"],_)}return n}function aae(t,e){const n={},r=g(e,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const a=g(e,["cachedContentTokenCount"]);a!=null&&v(n,["cachedContentTokenCount"],a);const i=g(e,["candidatesTokenCount"]);i!=null&&v(n,["responseTokenCount"],i);const s=g(e,["toolUsePromptTokenCount"]);s!=null&&v(n,["toolUsePromptTokenCount"],s);const u=g(e,["thoughtsTokenCount"]);u!=null&&v(n,["thoughtsTokenCount"],u);const f=g(e,["totalTokenCount"]);f!=null&&v(n,["totalTokenCount"],f);const c=g(e,["promptTokensDetails"]);if(c!=null){let w=c;Array.isArray(w)&&(w=w.map(A=>dh(t,A))),v(n,["promptTokensDetails"],w)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(A=>dh(t,A))),v(n,["cacheTokensDetails"],w)}const p=g(e,["candidatesTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(A=>dh(t,A))),v(n,["responseTokensDetails"],w)}const y=g(e,["toolUsePromptTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(A=>dh(t,A))),v(n,["toolUsePromptTokensDetails"],w)}const _=g(e,["trafficType"]);return _!=null&&v(n,["trafficType"],_),n}function iae(t,e){const n={},r=g(e,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function oae(t,e){const n={},r=g(e,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function sae(t,e){const n={},r=g(e,["newHandle"]);r!=null&&v(n,["newHandle"],r);const a=g(e,["resumable"]);a!=null&&v(n,["resumable"],a);const i=g(e,["lastConsumedClientMessageIndex"]);return i!=null&&v(n,["lastConsumedClientMessageIndex"],i),n}function lae(t,e){const n={},r=g(e,["newHandle"]);r!=null&&v(n,["newHandle"],r);const a=g(e,["resumable"]);a!=null&&v(n,["resumable"],a);const i=g(e,["lastConsumedClientMessageIndex"]);return i!=null&&v(n,["lastConsumedClientMessageIndex"],i),n}function uae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],Ire());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],Wre(t,a));const i=g(e,["toolCall"]);i!=null&&v(n,["toolCall"],Qre(t,i));const s=g(e,["toolCallCancellation"]);s!=null&&v(n,["toolCallCancellation"],tae(t,s));const u=g(e,["usageMetadata"]);u!=null&&v(n,["usageMetadata"],rae(t,u));const f=g(e,["goAway"]);f!=null&&v(n,["goAway"],iae(t,f));const c=g(e,["sessionResumptionUpdate"]);return c!=null&&v(n,["sessionResumptionUpdate"],sae(t,c)),n}function cae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],jre());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],Xre(t,a));const i=g(e,["toolCall"]);i!=null&&v(n,["toolCall"],eae(t,i));const s=g(e,["toolCallCancellation"]);s!=null&&v(n,["toolCallCancellation"],nae(t,s));const u=g(e,["usageMetadata"]);u!=null&&v(n,["usageMetadata"],aae(t,u));const f=g(e,["goAway"]);f!=null&&v(n,["goAway"],oae(t,f));const c=g(e,["sessionResumptionUpdate"]);return c!=null&&v(n,["sessionResumptionUpdate"],lae(t,c)),n}function fae(){return{}}function dae(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["weight"]);return a!=null&&v(n,["weight"],a),n}function hae(t,e){const n={},r=g(e,["weightedPrompts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>dae(t,i))),v(n,["weightedPrompts"],a)}return n}function mae(t,e){const n={},r=g(e,["temperature"]);r!=null&&v(n,["temperature"],r);const a=g(e,["topK"]);a!=null&&v(n,["topK"],a);const i=g(e,["seed"]);i!=null&&v(n,["seed"],i);const s=g(e,["guidance"]);s!=null&&v(n,["guidance"],s);const u=g(e,["bpm"]);u!=null&&v(n,["bpm"],u);const f=g(e,["density"]);f!=null&&v(n,["density"],f);const c=g(e,["brightness"]);c!=null&&v(n,["brightness"],c);const h=g(e,["scale"]);h!=null&&v(n,["scale"],h);const p=g(e,["muteBass"]);p!=null&&v(n,["muteBass"],p);const y=g(e,["muteDrums"]);y!=null&&v(n,["muteDrums"],y);const _=g(e,["onlyBassAndDrums"]);return _!=null&&v(n,["onlyBassAndDrums"],_),n}function pae(t,e){const n={},r=g(e,["clientContent"]);r!=null&&v(n,["clientContent"],hae(t,r));const a=g(e,["musicGenerationConfig"]);return a!=null&&v(n,["musicGenerationConfig"],mae(t,a)),n}function gae(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);a!=null&&v(n,["mimeType"],a);const i=g(e,["sourceMetadata"]);return i!=null&&v(n,["sourceMetadata"],pae(t,i)),n}function vae(t,e){const n={},r=g(e,["audioChunks"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>gae(t,i))),v(n,["audioChunks"],a)}return n}function yae(t,e){const n={},r=g(e,["text"]);r!=null&&v(n,["text"],r);const a=g(e,["filteredReason"]);return a!=null&&v(n,["filteredReason"],a),n}function bae(t,e){const n={};g(e,["setupComplete"])!=null&&v(n,["setupComplete"],fae());const a=g(e,["serverContent"]);a!=null&&v(n,["serverContent"],vae(t,a));const i=g(e,["filteredPrompt"]);return i!=null&&v(n,["filteredPrompt"],yae(t,i)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xae(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function _ae(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Sae(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function wae(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],xae(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],_ae(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Sae(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const f=g(e,["codeExecutionResult"]);f!=null&&v(n,["codeExecutionResult"],f);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function vp(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>wae(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Tae(t,e){const n={},r=g(e,["anyOf"]);r!=null&&v(n,["anyOf"],r);const a=g(e,["default"]);a!=null&&v(n,["default"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["enum"]);s!=null&&v(n,["enum"],s);const u=g(e,["example"]);u!=null&&v(n,["example"],u);const f=g(e,["format"]);f!=null&&v(n,["format"],f);const c=g(e,["items"]);c!=null&&v(n,["items"],c);const h=g(e,["maxItems"]);h!=null&&v(n,["maxItems"],h);const p=g(e,["maxLength"]);p!=null&&v(n,["maxLength"],p);const y=g(e,["maxProperties"]);y!=null&&v(n,["maxProperties"],y);const _=g(e,["maximum"]);_!=null&&v(n,["maximum"],_);const w=g(e,["minItems"]);w!=null&&v(n,["minItems"],w);const A=g(e,["minLength"]);A!=null&&v(n,["minLength"],A);const T=g(e,["minProperties"]);T!=null&&v(n,["minProperties"],T);const k=g(e,["minimum"]);k!=null&&v(n,["minimum"],k);const M=g(e,["nullable"]);M!=null&&v(n,["nullable"],M);const E=g(e,["pattern"]);E!=null&&v(n,["pattern"],E);const D=g(e,["properties"]);D!=null&&v(n,["properties"],D);const C=g(e,["propertyOrdering"]);C!=null&&v(n,["propertyOrdering"],C);const O=g(e,["required"]);O!=null&&v(n,["required"],O);const P=g(e,["title"]);P!=null&&v(n,["title"],P);const I=g(e,["type"]);return I!=null&&v(n,["type"],I),n}function Aae(t,e){const n={};if(g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["category"]);r!=null&&v(n,["category"],r);const a=g(e,["threshold"]);return a!=null&&v(n,["threshold"],a),n}function Eae(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function Cae(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function kae(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],Cae(t,r)),n}function Oae(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Mae(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Oae(t,r)),n}function Dae(){return{}}function Nae(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>Eae(t,c))),v(n,["functionDeclarations"],f)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],kae(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],Mae(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],Dae());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function Pae(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Rae(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function Iae(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Rae(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function jae(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],Pae(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],Iae(t,a)),n}function Lae(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function FL(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Lae(t,r)),n}function $ae(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],FL(t,a)),n}function Bae(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>$ae(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function qae(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],FL(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],Bae(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function Uae(t,e){const n={},r=g(e,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const a=g(e,["thinkingBudget"]);return a!=null&&v(n,["thinkingBudget"],a),n}function Fae(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],vp(t,Gn(t,a)));const i=g(e,["temperature"]);i!=null&&v(r,["temperature"],i);const s=g(e,["topP"]);s!=null&&v(r,["topP"],s);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&v(r,["candidateCount"],f);const c=g(e,["maxOutputTokens"]);c!=null&&v(r,["maxOutputTokens"],c);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const p=g(e,["responseLogprobs"]);p!=null&&v(r,["responseLogprobs"],p);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const _=g(e,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const w=g(e,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const A=g(e,["seed"]);A!=null&&v(r,["seed"],A);const T=g(e,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const k=g(e,["responseSchema"]);if(k!=null&&v(r,["responseSchema"],Tae(t,Tm(t,k))),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=g(e,["safetySettings"]);if(n!==void 0&&M!=null){let V=M;Array.isArray(V)&&(V=V.map($=>Aae(t,$))),v(n,["safetySettings"],V)}const E=g(e,["tools"]);if(n!==void 0&&E!=null){let V=wf(t,E);Array.isArray(V)&&(V=V.map($=>Nae(t,Sf(t,$)))),v(n,["tools"],V)}const D=g(e,["toolConfig"]);if(n!==void 0&&D!=null&&v(n,["toolConfig"],jae(t,D)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=g(e,["cachedContent"]);n!==void 0&&C!=null&&v(n,["cachedContent"],Zi(t,C));const O=g(e,["responseModalities"]);O!=null&&v(r,["responseModalities"],O);const P=g(e,["mediaResolution"]);P!=null&&v(r,["mediaResolution"],P);const I=g(e,["speechConfig"]);if(I!=null&&v(r,["speechConfig"],qae(t,DL(t,I))),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=g(e,["thinkingConfig"]);return U!=null&&v(r,["thinkingConfig"],Uae(t,U)),r}function vR(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["contents"]);if(a!=null){let s=Xr(t,a);Array.isArray(s)&&(s=s.map(u=>vp(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["generationConfig"],Fae(t,i,n)),n}function Vae(t,e,n){const r={},a=g(e,["taskType"]);n!==void 0&&a!=null&&v(n,["requests[]","taskType"],a);const i=g(e,["title"]);n!==void 0&&i!=null&&v(n,["requests[]","title"],i);const s=g(e,["outputDimensionality"]);if(n!==void 0&&s!=null&&v(n,["requests[]","outputDimensionality"],s),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function zae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["contents"]);a!=null&&v(n,["requests[]","content"],ML(t,a));const i=g(e,["config"]);i!=null&&v(n,["config"],Vae(t,i,n));const s=g(e,["model"]);return s!==void 0&&v(n,["requests[]","model"],$t(t,s)),n}function Gae(t,e,n){const r={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=g(e,["numberOfImages"]);n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a);const i=g(e,["aspectRatio"]);n!==void 0&&i!=null&&v(n,["parameters","aspectRatio"],i);const s=g(e,["guidanceScale"]);if(n!==void 0&&s!=null&&v(n,["parameters","guidanceScale"],s),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=g(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&v(n,["parameters","safetySetting"],u);const f=g(e,["personGeneration"]);n!==void 0&&f!=null&&v(n,["parameters","personGeneration"],f);const c=g(e,["includeSafetyAttributes"]);n!==void 0&&c!=null&&v(n,["parameters","includeSafetyAttributes"],c);const h=g(e,["includeRaiReason"]);n!==void 0&&h!=null&&v(n,["parameters","includeRaiReason"],h);const p=g(e,["language"]);n!==void 0&&p!=null&&v(n,["parameters","language"],p);const y=g(e,["outputMimeType"]);n!==void 0&&y!=null&&v(n,["parameters","outputOptions","mimeType"],y);const _=g(e,["outputCompressionQuality"]);if(n!==void 0&&_!=null&&v(n,["parameters","outputOptions","compressionQuality"],_),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Hae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],Gae(t,i,n)),n}function Kae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],$t(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Yae(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],RL(t,u)),r}function Wae(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],Yae(t,r,n)),n}function Xae(t,e,n){const r={},a=g(e,["displayName"]);n!==void 0&&a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);n!==void 0&&i!=null&&v(n,["description"],i);const s=g(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&v(n,["defaultCheckpointId"],s),r}function Zae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],$t(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Xae(t,a,n)),n}function Jae(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],$t(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Qae(t,e){const n={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function eie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["contents"]);if(a!=null){let s=Xr(t,a);Array.isArray(s)&&(s=s.map(u=>vp(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],Qae(t,i)),n}function tie(t,e){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=g(e,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],ni(t,r));const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function nie(t,e,n){const r={},a=g(e,["numberOfVideos"]);if(n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(e,["durationSeconds"]);if(n!==void 0&&i!=null&&v(n,["parameters","durationSeconds"],i),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=g(e,["aspectRatio"]);if(n!==void 0&&s!=null&&v(n,["parameters","aspectRatio"],s),g(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=g(e,["personGeneration"]);if(n!==void 0&&u!=null&&v(n,["parameters","personGeneration"],u),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=g(e,["negativePrompt"]);n!==void 0&&f!=null&&v(n,["parameters","negativePrompt"],f);const c=g(e,["enhancePrompt"]);if(n!==void 0&&c!=null&&v(n,["parameters","enhancePrompt"],c),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(g(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return r}function rie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["image"]);if(i!=null&&v(n,["instances[0]","image"],tie(t,i)),g(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=g(e,["config"]);return s!=null&&v(n,["config"],nie(t,s,n)),n}function aie(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function iie(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function oie(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function sie(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],aie(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],iie(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],oie(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const f=g(e,["codeExecutionResult"]);f!=null&&v(n,["codeExecutionResult"],f);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function eu(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>sie(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function lie(t,e){const n={},r=g(e,["anyOf"]);r!=null&&v(n,["anyOf"],r);const a=g(e,["default"]);a!=null&&v(n,["default"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["enum"]);s!=null&&v(n,["enum"],s);const u=g(e,["example"]);u!=null&&v(n,["example"],u);const f=g(e,["format"]);f!=null&&v(n,["format"],f);const c=g(e,["items"]);c!=null&&v(n,["items"],c);const h=g(e,["maxItems"]);h!=null&&v(n,["maxItems"],h);const p=g(e,["maxLength"]);p!=null&&v(n,["maxLength"],p);const y=g(e,["maxProperties"]);y!=null&&v(n,["maxProperties"],y);const _=g(e,["maximum"]);_!=null&&v(n,["maximum"],_);const w=g(e,["minItems"]);w!=null&&v(n,["minItems"],w);const A=g(e,["minLength"]);A!=null&&v(n,["minLength"],A);const T=g(e,["minProperties"]);T!=null&&v(n,["minProperties"],T);const k=g(e,["minimum"]);k!=null&&v(n,["minimum"],k);const M=g(e,["nullable"]);M!=null&&v(n,["nullable"],M);const E=g(e,["pattern"]);E!=null&&v(n,["pattern"],E);const D=g(e,["properties"]);D!=null&&v(n,["properties"],D);const C=g(e,["propertyOrdering"]);C!=null&&v(n,["propertyOrdering"],C);const O=g(e,["required"]);O!=null&&v(n,["required"],O);const P=g(e,["title"]);P!=null&&v(n,["title"],P);const I=g(e,["type"]);return I!=null&&v(n,["type"],I),n}function uie(t,e){const n={},r=g(e,["featureSelectionPreference"]);return r!=null&&v(n,["featureSelectionPreference"],r),n}function cie(t,e){const n={},r=g(e,["method"]);r!=null&&v(n,["method"],r);const a=g(e,["category"]);a!=null&&v(n,["category"],a);const i=g(e,["threshold"]);return i!=null&&v(n,["threshold"],i),n}function fie(t,e){const n={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=g(e,["description"]);r!=null&&v(n,["description"],r);const a=g(e,["name"]);a!=null&&v(n,["name"],a);const i=g(e,["parameters"]);i!=null&&v(n,["parameters"],i);const s=g(e,["response"]);return s!=null&&v(n,["response"],s),n}function die(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function hie(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],die(t,r)),n}function mie(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function pie(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],mie(t,r)),n}function gie(){return{}}function vie(t,e){const n={},r=g(e,["apiKeyString"]);return r!=null&&v(n,["apiKeyString"],r),n}function yie(t,e){const n={},r=g(e,["apiKeyConfig"]);r!=null&&v(n,["apiKeyConfig"],vie(t,r));const a=g(e,["authType"]);a!=null&&v(n,["authType"],a);const i=g(e,["googleServiceAccountConfig"]);i!=null&&v(n,["googleServiceAccountConfig"],i);const s=g(e,["httpBasicAuthConfig"]);s!=null&&v(n,["httpBasicAuthConfig"],s);const u=g(e,["oauthConfig"]);u!=null&&v(n,["oauthConfig"],u);const f=g(e,["oidcConfig"]);return f!=null&&v(n,["oidcConfig"],f),n}function bie(t,e){const n={},r=g(e,["authConfig"]);return r!=null&&v(n,["authConfig"],yie(t,r)),n}function xie(){return{}}function VL(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(y=>fie(t,y))),v(n,["functionDeclarations"],p)}const a=g(e,["retrieval"]);a!=null&&v(n,["retrieval"],a);const i=g(e,["googleSearch"]);i!=null&&v(n,["googleSearch"],hie(t,i));const s=g(e,["googleSearchRetrieval"]);s!=null&&v(n,["googleSearchRetrieval"],pie(t,s)),g(e,["enterpriseWebSearch"])!=null&&v(n,["enterpriseWebSearch"],gie());const f=g(e,["googleMaps"]);f!=null&&v(n,["googleMaps"],bie(t,f)),g(e,["urlContext"])!=null&&v(n,["urlContext"],xie());const h=g(e,["codeExecution"]);return h!=null&&v(n,["codeExecution"],h),n}function _ie(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function Sie(t,e){const n={},r=g(e,["latitude"]);r!=null&&v(n,["latitude"],r);const a=g(e,["longitude"]);return a!=null&&v(n,["longitude"],a),n}function wie(t,e){const n={},r=g(e,["latLng"]);r!=null&&v(n,["latLng"],Sie(t,r));const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function Tie(t,e){const n={},r=g(e,["functionCallingConfig"]);r!=null&&v(n,["functionCallingConfig"],_ie(t,r));const a=g(e,["retrievalConfig"]);return a!=null&&v(n,["retrievalConfig"],wie(t,a)),n}function Aie(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function Eie(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Aie(t,r)),n}function Cie(t,e){const n={},r=g(e,["voiceConfig"]);if(r!=null&&v(n,["voiceConfig"],Eie(t,r)),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=g(e,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function kie(t,e){const n={},r=g(e,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const a=g(e,["thinkingBudget"]);return a!=null&&v(n,["thinkingBudget"],a),n}function Oie(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],eu(t,Gn(t,a)));const i=g(e,["temperature"]);i!=null&&v(r,["temperature"],i);const s=g(e,["topP"]);s!=null&&v(r,["topP"],s);const u=g(e,["topK"]);u!=null&&v(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&v(r,["candidateCount"],f);const c=g(e,["maxOutputTokens"]);c!=null&&v(r,["maxOutputTokens"],c);const h=g(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const p=g(e,["responseLogprobs"]);p!=null&&v(r,["responseLogprobs"],p);const y=g(e,["logprobs"]);y!=null&&v(r,["logprobs"],y);const _=g(e,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const w=g(e,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const A=g(e,["seed"]);A!=null&&v(r,["seed"],A);const T=g(e,["responseMimeType"]);T!=null&&v(r,["responseMimeType"],T);const k=g(e,["responseSchema"]);k!=null&&v(r,["responseSchema"],lie(t,Tm(t,k)));const M=g(e,["routingConfig"]);M!=null&&v(r,["routingConfig"],M);const E=g(e,["modelSelectionConfig"]);E!=null&&v(r,["modelConfig"],uie(t,E));const D=g(e,["safetySettings"]);if(n!==void 0&&D!=null){let Y=D;Array.isArray(Y)&&(Y=Y.map(B=>cie(t,B))),v(n,["safetySettings"],Y)}const C=g(e,["tools"]);if(n!==void 0&&C!=null){let Y=wf(t,C);Array.isArray(Y)&&(Y=Y.map(B=>VL(t,Sf(t,B)))),v(n,["tools"],Y)}const O=g(e,["toolConfig"]);n!==void 0&&O!=null&&v(n,["toolConfig"],Tie(t,O));const P=g(e,["labels"]);n!==void 0&&P!=null&&v(n,["labels"],P);const I=g(e,["cachedContent"]);n!==void 0&&I!=null&&v(n,["cachedContent"],Zi(t,I));const U=g(e,["responseModalities"]);U!=null&&v(r,["responseModalities"],U);const V=g(e,["mediaResolution"]);V!=null&&v(r,["mediaResolution"],V);const $=g(e,["speechConfig"]);$!=null&&v(r,["speechConfig"],Cie(t,DL(t,$)));const H=g(e,["audioTimestamp"]);H!=null&&v(r,["audioTimestamp"],H);const Z=g(e,["thinkingConfig"]);return Z!=null&&v(r,["thinkingConfig"],kie(t,Z)),r}function yR(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["contents"]);if(a!=null){let s=Xr(t,a);Array.isArray(s)&&(s=s.map(u=>eu(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["generationConfig"],Oie(t,i,n)),n}function Mie(t,e,n){const r={},a=g(e,["taskType"]);n!==void 0&&a!=null&&v(n,["instances[]","task_type"],a);const i=g(e,["title"]);n!==void 0&&i!=null&&v(n,["instances[]","title"],i);const s=g(e,["outputDimensionality"]);n!==void 0&&s!=null&&v(n,["parameters","outputDimensionality"],s);const u=g(e,["mimeType"]);n!==void 0&&u!=null&&v(n,["instances[]","mimeType"],u);const f=g(e,["autoTruncate"]);return n!==void 0&&f!=null&&v(n,["parameters","autoTruncate"],f),r}function Die(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["contents"]);a!=null&&v(n,["instances[]","content"],ML(t,a));const i=g(e,["config"]);return i!=null&&v(n,["config"],Mie(t,i,n)),n}function Nie(t,e,n){const r={},a=g(e,["outputGcsUri"]);n!==void 0&&a!=null&&v(n,["parameters","storageUri"],a);const i=g(e,["negativePrompt"]);n!==void 0&&i!=null&&v(n,["parameters","negativePrompt"],i);const s=g(e,["numberOfImages"]);n!==void 0&&s!=null&&v(n,["parameters","sampleCount"],s);const u=g(e,["aspectRatio"]);n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u);const f=g(e,["guidanceScale"]);n!==void 0&&f!=null&&v(n,["parameters","guidanceScale"],f);const c=g(e,["seed"]);n!==void 0&&c!=null&&v(n,["parameters","seed"],c);const h=g(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const p=g(e,["personGeneration"]);n!==void 0&&p!=null&&v(n,["parameters","personGeneration"],p);const y=g(e,["includeSafetyAttributes"]);n!==void 0&&y!=null&&v(n,["parameters","includeSafetyAttributes"],y);const _=g(e,["includeRaiReason"]);n!==void 0&&_!=null&&v(n,["parameters","includeRaiReason"],_);const w=g(e,["language"]);n!==void 0&&w!=null&&v(n,["parameters","language"],w);const A=g(e,["outputMimeType"]);n!==void 0&&A!=null&&v(n,["parameters","outputOptions","mimeType"],A);const T=g(e,["outputCompressionQuality"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","compressionQuality"],T);const k=g(e,["addWatermark"]);n!==void 0&&k!=null&&v(n,["parameters","addWatermark"],k);const M=g(e,["enhancePrompt"]);return n!==void 0&&M!=null&&v(n,["parameters","enhancePrompt"],M),r}function Pie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],Nie(t,i,n)),n}function yp(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["imageBytes"]);a!=null&&v(n,["bytesBase64Encoded"],ni(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Rie(t,e){const n={},r=g(e,["maskMode"]);r!=null&&v(n,["maskMode"],r);const a=g(e,["segmentationClasses"]);a!=null&&v(n,["maskClasses"],a);const i=g(e,["maskDilation"]);return i!=null&&v(n,["dilation"],i),n}function Iie(t,e){const n={},r=g(e,["controlType"]);r!=null&&v(n,["controlType"],r);const a=g(e,["enableControlImageComputation"]);return a!=null&&v(n,["computeControl"],a),n}function jie(t,e){const n={},r=g(e,["styleDescription"]);return r!=null&&v(n,["styleDescription"],r),n}function Lie(t,e){const n={},r=g(e,["subjectType"]);r!=null&&v(n,["subjectType"],r);const a=g(e,["subjectDescription"]);return a!=null&&v(n,["subjectDescription"],a),n}function $ie(t,e){const n={},r=g(e,["referenceImage"]);r!=null&&v(n,["referenceImage"],yp(t,r));const a=g(e,["referenceId"]);a!=null&&v(n,["referenceId"],a);const i=g(e,["referenceType"]);i!=null&&v(n,["referenceType"],i);const s=g(e,["maskImageConfig"]);s!=null&&v(n,["maskImageConfig"],Rie(t,s));const u=g(e,["controlImageConfig"]);u!=null&&v(n,["controlImageConfig"],Iie(t,u));const f=g(e,["styleImageConfig"]);f!=null&&v(n,["styleImageConfig"],jie(t,f));const c=g(e,["subjectImageConfig"]);return c!=null&&v(n,["subjectImageConfig"],Lie(t,c)),n}function Bie(t,e,n){const r={},a=g(e,["outputGcsUri"]);n!==void 0&&a!=null&&v(n,["parameters","storageUri"],a);const i=g(e,["negativePrompt"]);n!==void 0&&i!=null&&v(n,["parameters","negativePrompt"],i);const s=g(e,["numberOfImages"]);n!==void 0&&s!=null&&v(n,["parameters","sampleCount"],s);const u=g(e,["aspectRatio"]);n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u);const f=g(e,["guidanceScale"]);n!==void 0&&f!=null&&v(n,["parameters","guidanceScale"],f);const c=g(e,["seed"]);n!==void 0&&c!=null&&v(n,["parameters","seed"],c);const h=g(e,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const p=g(e,["personGeneration"]);n!==void 0&&p!=null&&v(n,["parameters","personGeneration"],p);const y=g(e,["includeSafetyAttributes"]);n!==void 0&&y!=null&&v(n,["parameters","includeSafetyAttributes"],y);const _=g(e,["includeRaiReason"]);n!==void 0&&_!=null&&v(n,["parameters","includeRaiReason"],_);const w=g(e,["language"]);n!==void 0&&w!=null&&v(n,["parameters","language"],w);const A=g(e,["outputMimeType"]);n!==void 0&&A!=null&&v(n,["parameters","outputOptions","mimeType"],A);const T=g(e,["outputCompressionQuality"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","compressionQuality"],T);const k=g(e,["editMode"]);n!==void 0&&k!=null&&v(n,["parameters","editMode"],k);const M=g(e,["baseSteps"]);return n!==void 0&&M!=null&&v(n,["parameters","editConfig","baseSteps"],M),r}function qie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>$ie(t,f))),v(n,["instances[0]","referenceImages"],u)}const s=g(e,["config"]);return s!=null&&v(n,["config"],Bie(t,s,n)),n}function Uie(t,e,n){const r={},a=g(e,["includeRaiReason"]);n!==void 0&&a!=null&&v(n,["parameters","includeRaiReason"],a);const i=g(e,["outputMimeType"]);n!==void 0&&i!=null&&v(n,["parameters","outputOptions","mimeType"],i);const s=g(e,["outputCompressionQuality"]);n!==void 0&&s!=null&&v(n,["parameters","outputOptions","compressionQuality"],s);const u=g(e,["numberOfImages"]);n!==void 0&&u!=null&&v(n,["parameters","sampleCount"],u);const f=g(e,["mode"]);return n!==void 0&&f!=null&&v(n,["parameters","mode"],f),r}function Fie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["image"]);a!=null&&v(n,["instances[0]","image"],yp(t,a));const i=g(e,["upscaleFactor"]);i!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=g(e,["config"]);return s!=null&&v(n,["config"],Uie(t,s,n)),n}function Vie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],$t(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function zie(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],RL(t,u)),r}function Gie(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],zie(t,r,n)),n}function Hie(t,e,n){const r={},a=g(e,["displayName"]);n!==void 0&&a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);n!==void 0&&i!=null&&v(n,["description"],i);const s=g(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&v(n,["defaultCheckpointId"],s),r}function Kie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],Hie(t,a,n)),n}function Yie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","name"],$t(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Wie(t,e,n){const r={},a=g(e,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],eu(t,Gn(t,a)));const i=g(e,["tools"]);if(n!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>VL(t,f))),v(n,["tools"],u)}const s=g(e,["generationConfig"]);return n!==void 0&&s!=null&&v(n,["generationConfig"],s),r}function Xie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["contents"]);if(a!=null){let s=Xr(t,a);Array.isArray(s)&&(s=s.map(u=>eu(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],Wie(t,i,n)),n}function Zie(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["contents"]);if(a!=null){let s=Xr(t,a);Array.isArray(s)&&(s=s.map(u=>eu(t,u))),v(n,["contents"],s)}const i=g(e,["config"]);return i!=null&&v(n,["config"],i),n}function Jie(t,e){const n={},r=g(e,["uri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["videoBytes"]);a!=null&&v(n,["bytesBase64Encoded"],ni(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Qie(t,e,n){const r={},a=g(e,["numberOfVideos"]);n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a);const i=g(e,["outputGcsUri"]);n!==void 0&&i!=null&&v(n,["parameters","storageUri"],i);const s=g(e,["fps"]);n!==void 0&&s!=null&&v(n,["parameters","fps"],s);const u=g(e,["durationSeconds"]);n!==void 0&&u!=null&&v(n,["parameters","durationSeconds"],u);const f=g(e,["seed"]);n!==void 0&&f!=null&&v(n,["parameters","seed"],f);const c=g(e,["aspectRatio"]);n!==void 0&&c!=null&&v(n,["parameters","aspectRatio"],c);const h=g(e,["resolution"]);n!==void 0&&h!=null&&v(n,["parameters","resolution"],h);const p=g(e,["personGeneration"]);n!==void 0&&p!=null&&v(n,["parameters","personGeneration"],p);const y=g(e,["pubsubTopic"]);n!==void 0&&y!=null&&v(n,["parameters","pubsubTopic"],y);const _=g(e,["negativePrompt"]);n!==void 0&&_!=null&&v(n,["parameters","negativePrompt"],_);const w=g(e,["enhancePrompt"]);n!==void 0&&w!=null&&v(n,["parameters","enhancePrompt"],w);const A=g(e,["generateAudio"]);n!==void 0&&A!=null&&v(n,["parameters","generateAudio"],A);const T=g(e,["lastFrame"]);return n!==void 0&&T!=null&&v(n,["instances[0]","lastFrame"],yp(t,T)),r}function eoe(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["_url","model"],$t(t,r));const a=g(e,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const i=g(e,["image"]);i!=null&&v(n,["instances[0]","image"],yp(t,i));const s=g(e,["video"]);s!=null&&v(n,["instances[0]","video"],Jie(t,s));const u=g(e,["config"]);return u!=null&&v(n,["config"],Qie(t,u,n)),n}function toe(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function noe(t,e){const n={},r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function roe(t,e){const n={},r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function aoe(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],toe(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],noe(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],roe(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const f=g(e,["codeExecutionResult"]);f!=null&&v(n,["codeExecutionResult"],f);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function ioe(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>aoe(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function ooe(t,e){const n={},r=g(e,["citationSources"]);return r!=null&&v(n,["citations"],r),n}function soe(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function loe(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>soe(t,i))),v(n,["urlMetadata"],a)}return n}function uoe(t,e){const n={},r=g(e,["content"]);r!=null&&v(n,["content"],ioe(t,r));const a=g(e,["citationMetadata"]);a!=null&&v(n,["citationMetadata"],ooe(t,a));const i=g(e,["tokenCount"]);i!=null&&v(n,["tokenCount"],i);const s=g(e,["finishReason"]);s!=null&&v(n,["finishReason"],s);const u=g(e,["urlContextMetadata"]);u!=null&&v(n,["urlContextMetadata"],loe(t,u));const f=g(e,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const c=g(e,["groundingMetadata"]);c!=null&&v(n,["groundingMetadata"],c);const h=g(e,["index"]);h!=null&&v(n,["index"],h);const p=g(e,["logprobsResult"]);p!=null&&v(n,["logprobsResult"],p);const y=g(e,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function bR(t,e){const n={},r=g(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>uoe(t,f))),v(n,["candidates"],u)}const a=g(e,["modelVersion"]);a!=null&&v(n,["modelVersion"],a);const i=g(e,["promptFeedback"]);i!=null&&v(n,["promptFeedback"],i);const s=g(e,["usageMetadata"]);return s!=null&&v(n,["usageMetadata"],s),n}function coe(t,e){const n={},r=g(e,["values"]);return r!=null&&v(n,["values"],r),n}function foe(){return{}}function doe(t,e){const n={},r=g(e,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>coe(t,s))),v(n,["embeddings"],i)}return g(e,["metadata"])!=null&&v(n,["metadata"],foe()),n}function hoe(t,e){const n={},r=g(e,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],ni(t,r));const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function zL(t,e){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const a=g(e,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const i=g(e,["contentType"]);return i!=null&&v(n,["contentType"],i),n}function moe(t,e){const n={},r=g(e,["_self"]);r!=null&&v(n,["image"],hoe(t,r));const a=g(e,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const i=g(e,["_self"]);return i!=null&&v(n,["safetyAttributes"],zL(t,i)),n}function poe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>moe(t,s))),v(n,["generatedImages"],i)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],zL(t,a)),n}function goe(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["updateTime"]);return i!=null&&v(n,["updateTime"],i),n}function MS(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["version"]);s!=null&&v(n,["version"],s);const u=g(e,["_self"]);u!=null&&v(n,["tunedModelInfo"],goe(t,u));const f=g(e,["inputTokenLimit"]);f!=null&&v(n,["inputTokenLimit"],f);const c=g(e,["outputTokenLimit"]);c!=null&&v(n,["outputTokenLimit"],c);const h=g(e,["supportedGenerationMethods"]);return h!=null&&v(n,["supportedActions"],h),n}function voe(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["_self"]);if(a!=null){let i=IL(t,a);Array.isArray(i)&&(i=i.map(s=>MS(t,s))),v(n,["models"],i)}return n}function yoe(){return{}}function boe(t,e){const n={},r=g(e,["totalTokens"]);r!=null&&v(n,["totalTokens"],r);const a=g(e,["cachedContentTokenCount"]);return a!=null&&v(n,["cachedContentTokenCount"],a),n}function xoe(t,e){const n={},r=g(e,["video","uri"]);r!=null&&v(n,["uri"],r);const a=g(e,["video","encodedVideo"]);a!=null&&v(n,["videoBytes"],ni(t,a));const i=g(e,["encoding"]);return i!=null&&v(n,["mimeType"],i),n}function _oe(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],xoe(t,r)),n}function Soe(t,e){const n={},r=g(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>_oe(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function woe(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response","generateVideoResponse"]);return u!=null&&v(n,["response"],Soe(t,u)),n}function Toe(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Aoe(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["data"]);a!=null&&v(n,["data"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Eoe(t,e){const n={},r=g(e,["displayName"]);r!=null&&v(n,["displayName"],r);const a=g(e,["fileUri"]);a!=null&&v(n,["fileUri"],a);const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Coe(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],Toe(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Aoe(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],Eoe(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const f=g(e,["codeExecutionResult"]);f!=null&&v(n,["codeExecutionResult"],f);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function koe(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Coe(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Ooe(t,e){const n={},r=g(e,["citations"]);return r!=null&&v(n,["citations"],r),n}function Moe(t,e){const n={},r=g(e,["retrievedUrl"]);r!=null&&v(n,["retrievedUrl"],r);const a=g(e,["urlRetrievalStatus"]);return a!=null&&v(n,["urlRetrievalStatus"],a),n}function Doe(t,e){const n={},r=g(e,["urlMetadata"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Moe(t,i))),v(n,["urlMetadata"],a)}return n}function Noe(t,e){const n={},r=g(e,["content"]);r!=null&&v(n,["content"],koe(t,r));const a=g(e,["citationMetadata"]);a!=null&&v(n,["citationMetadata"],Ooe(t,a));const i=g(e,["finishMessage"]);i!=null&&v(n,["finishMessage"],i);const s=g(e,["finishReason"]);s!=null&&v(n,["finishReason"],s);const u=g(e,["urlContextMetadata"]);u!=null&&v(n,["urlContextMetadata"],Doe(t,u));const f=g(e,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const c=g(e,["groundingMetadata"]);c!=null&&v(n,["groundingMetadata"],c);const h=g(e,["index"]);h!=null&&v(n,["index"],h);const p=g(e,["logprobsResult"]);p!=null&&v(n,["logprobsResult"],p);const y=g(e,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function xR(t,e){const n={},r=g(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>Noe(t,h))),v(n,["candidates"],c)}const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["responseId"]);i!=null&&v(n,["responseId"],i);const s=g(e,["modelVersion"]);s!=null&&v(n,["modelVersion"],s);const u=g(e,["promptFeedback"]);u!=null&&v(n,["promptFeedback"],u);const f=g(e,["usageMetadata"]);return f!=null&&v(n,["usageMetadata"],f),n}function Poe(t,e){const n={},r=g(e,["truncated"]);r!=null&&v(n,["truncated"],r);const a=g(e,["token_count"]);return a!=null&&v(n,["tokenCount"],a),n}function Roe(t,e){const n={},r=g(e,["values"]);r!=null&&v(n,["values"],r);const a=g(e,["statistics"]);return a!=null&&v(n,["statistics"],Poe(t,a)),n}function Ioe(t,e){const n={},r=g(e,["billableCharacterCount"]);return r!=null&&v(n,["billableCharacterCount"],r),n}function joe(t,e){const n={},r=g(e,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Roe(t,s))),v(n,["embeddings"],i)}const a=g(e,["metadata"]);return a!=null&&v(n,["metadata"],Ioe(t,a)),n}function Loe(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["imageBytes"],ni(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function GL(t,e){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const a=g(e,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const i=g(e,["contentType"]);return i!=null&&v(n,["contentType"],i),n}function Zw(t,e){const n={},r=g(e,["_self"]);r!=null&&v(n,["image"],Loe(t,r));const a=g(e,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const i=g(e,["_self"]);i!=null&&v(n,["safetyAttributes"],GL(t,i));const s=g(e,["prompt"]);return s!=null&&v(n,["enhancedPrompt"],s),n}function $oe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Zw(t,s))),v(n,["generatedImages"],i)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],GL(t,a)),n}function Boe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Zw(t,i))),v(n,["generatedImages"],a)}return n}function qoe(t,e){const n={},r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Zw(t,i))),v(n,["generatedImages"],a)}return n}function Uoe(t,e){const n={},r=g(e,["endpoint"]);r!=null&&v(n,["name"],r);const a=g(e,["deployedModelId"]);return a!=null&&v(n,["deployedModelId"],a),n}function Foe(t,e){const n={},r=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["createTime"]);a!=null&&v(n,["createTime"],a);const i=g(e,["updateTime"]);return i!=null&&v(n,["updateTime"],i),n}function Voe(t,e){const n={},r=g(e,["checkpointId"]);r!=null&&v(n,["checkpointId"],r);const a=g(e,["epoch"]);a!=null&&v(n,["epoch"],a);const i=g(e,["step"]);return i!=null&&v(n,["step"],i),n}function DS(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["displayName"]);a!=null&&v(n,["displayName"],a);const i=g(e,["description"]);i!=null&&v(n,["description"],i);const s=g(e,["versionId"]);s!=null&&v(n,["version"],s);const u=g(e,["deployedModels"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(_=>Uoe(t,_))),v(n,["endpoints"],y)}const f=g(e,["labels"]);f!=null&&v(n,["labels"],f);const c=g(e,["_self"]);c!=null&&v(n,["tunedModelInfo"],Foe(t,c));const h=g(e,["defaultCheckpointId"]);h!=null&&v(n,["defaultCheckpointId"],h);const p=g(e,["checkpoints"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(_=>Voe(t,_))),v(n,["checkpoints"],y)}return n}function zoe(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["_self"]);if(a!=null){let i=IL(t,a);Array.isArray(i)&&(i=i.map(s=>DS(t,s))),v(n,["models"],i)}return n}function Goe(){return{}}function Hoe(t,e){const n={},r=g(e,["totalTokens"]);return r!=null&&v(n,["totalTokens"],r),n}function Koe(t,e){const n={},r=g(e,["tokensInfo"]);return r!=null&&v(n,["tokensInfo"],r),n}function Yoe(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["uri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["videoBytes"],ni(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Woe(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Yoe(t,r)),n}function Xoe(t,e){const n={},r=g(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Woe(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function Zoe(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],Xoe(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Joe="Content-Type",Qoe="X-Server-Timeout",ese="User-Agent",NS="x-goog-api-client",tse="1.5.1",nse=`google-genai-sdk/${tse}`,rse="v1beta1",ase="v1beta",_R=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class HL extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class PS extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class ise{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:rse,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ase,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))a.searchParams.append(s,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.unaryApiCall(a,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[a,i]of Object.entries(n))typeof i=="object"?r[a]=Object.assign(Object.assign({},r[a]),i):i!==void 0&&(r[a]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.streamApiCall(a,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const a=new AbortController,i=a.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>a.abort(),n.timeout),r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=i}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await SR(a),new ES(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await SR(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var n;return dl(this,arguments,function*(){const a=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:f}=yield qt(a.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(f);try{const p=JSON.parse(c);if("error"in p){const y=JSON.parse(JSON.stringify(p.error)),_=y.status,w=y.code,A=`got status: ${_}. ${JSON.stringify(p)}`;if(w>=400&&w<500)throw new HL(A);if(w>=500&&w<600)throw new PS(A)}}catch(p){const y=p;if(y.name==="ClientError"||y.name==="ServerError")throw p}s+=c;let h=s.match(_R);for(;h;){const p=h[1];try{const y=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qt(new ES(y)),s=s.slice(h[0].length),h=s.match(_R)}catch(y){throw new Error(`exception parsing stream chunk ${p}. ${y}`)}}}}finally{a.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=nse+" "+this.clientOptions.userAgentExtra;return e[ese]=n,e[NS]=n,e[Joe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))n.append(r,a);e.timeout&&e.timeout>0&&n.append(Qoe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const i=this.clientOptions.uploader,s=await i.stat(e);a.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=u;const f=await this.fetchUploadUrl(a,n);return i.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let a={};n!=null&&n.httpOptions?a=n.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},s=await this.request({path:Ue("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:a});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function SR(t){var e;if(t===void 0)throw new PS("response is undefined");if(!t.ok){const n=t.status,r=t.statusText;let a;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await t.json():a={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=`got status: ${n} ${r}. ${JSON.stringify(a)}`;throw n>=400&&n<500?new HL(i):n>=500&&n<600?new PS(i):new Error(i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ose="mcp_used/unknown";function KL(t){for(const e of t)if(Jw(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function YL(t){var e;const n=(e=t[NS])!==null&&e!==void 0?e:"";t[NS]=(n+` ${ose}`).trimStart()}function sse(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>Jw(a)))!==null&&r!==void 0?r:!1}function lse(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>!Jw(a)))!==null&&r!==void 0?r:!1}function Jw(t){return t!==null&&typeof t=="object"&&t instanceof Qw}function use(t,e=100){return dl(this,arguments,function*(){let r,a=0;for(;a<e;){const i=yield qt(t.listTools({cursor:r}));for(const s of i.tools)yield yield qt(s),a++;if(!i.nextCursor)break;r=i.nextCursor}})}class Qw{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Qw(e,n)}async initialize(){var e,n,r,a;if(this.mcpTools.length>0)return;const i={},s=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,Cc(use(h))),c;c=await f.next(),e=c.done,!e;u=!0){a=c.value,u=!1;const p=a;s.push(p);const y=p.name;if(i[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);i[y]=h}}catch(p){n={error:p}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),cte(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const s=await a.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cse(t,e,n){const r=new Zee;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data);const i=bae(t,a);Object.assign(r,i),e(r)}class fse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=mse(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const h=new Promise(E=>{c=E}),p=e.callbacks,y=function(){c({})},_=this.apiClient,w={onopen:y,onmessage:E=>{cse(_,p.onmessage,E)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(E){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(E){}},A=this.webSocketFactory.create(f,hse(s),w);A.connect(),await h;const T=$t(this.apiClient,e.model),k=qL(this.apiClient,{model:T}),M=OS(this.apiClient,{setup:k});return A.send(JSON.stringify(M)),new dse(A,this.apiClient)}}class dse{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Pre(this.apiClient,e),r=UL(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Rre(this.apiClient,e),r=OS(this.apiClient,n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=OS(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ol.PLAY)}pause(){this.sendPlaybackControl(ol.PAUSE)}stop(){this.sendPlaybackControl(ol.STOP)}resetContext(){this.sendPlaybackControl(ol.RESET_CONTEXT)}close(){this.conn.close()}}function hse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function mse(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pse="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function gse(t,e,n){const r=new Xee;let a;if(n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),t.isVertexAI()){const i=cae(t,a);Object.assign(r,i)}else{const i=uae(t,a);Object.assign(r,i)}e(r)}class vse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new fse(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,a,i,s,u;const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let h;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&KL(e.config.tools)&&YL(p);const y=_se(p);if(this.apiClient.isVertexAI())h=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y);else{const U=this.apiClient.getApiKey();let V="BidiGenerateContent",$="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),V="BidiGenerateContentConstrained",$="access_token"),h=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${V}?${$}=${U}`}let _=()=>{};const w=new Promise(U=>{_=U}),A=e.callbacks,T=function(){var U;(U=A==null?void 0:A.onopen)===null||U===void 0||U.call(A),_({})},k=this.apiClient,M={onopen:T,onmessage:U=>{gse(k,A.onmessage,U)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(U){}},E=this.webSocketFactory.create(h,xse(y),M);E.connect(),await w;let D=$t(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const U=this.apiClient.getProject(),V=this.apiClient.getLocation();D=`projects/${U}/locations/${V}/`+D}let C={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Sm.AUDIO]}:e.config.responseModalities=[Sm.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],P=[];for(const U of O)if(this.isCallableTool(U)){const V=U;P.push(await V.tool())}else P.push(U);P.length>0&&(e.config.tools=P);const I={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=Ere(this.apiClient,I):C=Are(this.apiClient,I),delete C.config,E.send(JSON.stringify(C)),new bse(E,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const yse={turnComplete:!0};class bse{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Xr(e,n.turns),e.isVertexAI()?r=r.map(a=>eu(e,a)):r=r.map(a=>vp(e,a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(pse)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},yse),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Nre(this.apiClient,e)}:n={realtimeInput:Dre(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function xse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function _se(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wR=10;function TR(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(vh(s)){a=!0;break}if(!a)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function vh(t){return"callTool"in t&&typeof t.callTool=="function"}function AR(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sse extends Ql{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,a,i,s,u;const f=await this.processParamsForMcpUsage(n);if(!sse(n)||TR(n.config))return await this.generateContentInternal(f);if(lse(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,h;const p=Xr(this.apiClient,f.contents),y=(i=(a=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&i!==void 0?i:wR;let _=0;for(;_<y&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,A=[];for(const T of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(vh(T)){const M=await T.callTool(c.functionCalls);A.push(...M)}_++,h={role:"user",parts:A},f.contents=Xr(this.apiClient,f.contents),f.contents.push(w),f.contents.push(h),AR(f.config)&&(p.push(w),p.push(h))}return AR(f.config)&&(c.automaticFunctionCallingHistory=p),c},this.generateContentStream=async n=>{if(TR(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let i;const s=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((a=f==null?void 0:f.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?i=f==null?void 0:f.safetyAttributes:s.push(f);let u;return i?u={generatedImages:s,positivePromptSafetyAttributes:i}:u={generatedImages:s},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new gp(Vl.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(a)}}async processParamsForMcpUsage(e){var n,r,a;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const s=await Promise.all(i.map(async f=>vh(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&KL(e.config.tools)){const f=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),YL(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,r,a;const i=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(vh(s)){const u=s,f=await u.tool();for(const c of(a=f.functionDeclarations)!==null&&a!==void 0?a:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,u)}}return i}async processAfcStream(e){var n,r,a;const i=(a=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:wR;let s=!1,u=0;const f=await this.initAfcToolsMap(e);return function(c,h,p){var y,_;return dl(this,arguments,function*(){for(var w,A,T,k;u<i;){s&&(u++,s=!1);const C=yield qt(c.processParamsForMcpUsage(p)),O=yield qt(c.generateContentStreamInternal(C)),P=[],I=[];try{for(var M=!0,E=(A=void 0,Cc(O)),D;D=yield qt(E.next()),w=D.done,!w;M=!0){k=D.value,M=!1;const U=k;if(yield yield qt(U),U.candidates&&(!((y=U.candidates[0])===null||y===void 0)&&y.content)){I.push(U.candidates[0].content);for(const V of(_=U.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(u<i&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(V.functionCall.name)){const $=yield qt(h.get(V.functionCall.name).callTool([V.functionCall]));P.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(U){A={error:U}}finally{try{!M&&!w&&(T=E.return)&&(yield qt(T.call(E)))}finally{if(A)throw A.error}}if(P.length>0){s=!0;const U=new fc;U.candidates=[{content:{role:"user",parts:P}}],yield yield qt(U);const V=[];V.push(...I),V.push({role:"user",parts:P});const $=Xr(c.apiClient,p.contents).concat(V);p.contents=$}else break}})}(this,f,e)}async generateContentInternal(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=yR(this.apiClient,e);return u=Ue("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=xR(this.apiClient,h),y=new fc;return Object.assign(y,p),y})}else{const c=vR(this.apiClient,e);return u=Ue("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=bR(this.apiClient,h),y=new fc;return Object.assign(y,p),y})}}async generateContentStreamInternal(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=yR(this.apiClient,e);u=Ue("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query;const h=this.apiClient;return s=h.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return dl(this,arguments,function*(){var y,_,w,A;try{for(var T=!0,k=Cc(p),M;M=yield qt(k.next()),y=M.done,!y;T=!0){A=M.value,T=!1;const D=xR(h,yield qt(A.json())),C=new fc;Object.assign(C,D),yield yield qt(C)}}catch(E){_={error:E}}finally{try{!T&&!y&&(w=k.return)&&(yield qt(w.call(k)))}finally{if(_)throw _.error}}})})}else{const c=vR(this.apiClient,e);u=Ue("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query;const h=this.apiClient;return s=h.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return dl(this,arguments,function*(){var y,_,w,A;try{for(var T=!0,k=Cc(p),M;M=yield qt(k.next()),y=M.done,!y;T=!0){A=M.value,T=!1;const D=bR(h,yield qt(A.json())),C=new fc;Object.assign(C,D),yield yield qt(C)}}catch(E){_={error:E}}finally{try{!T&&!y&&(w=k.return)&&(yield qt(w.call(k)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Die(this.apiClient,e);return u=Ue("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=joe(this.apiClient,h),y=new ZP;return Object.assign(y,p),y})}else{const c=zae(this.apiClient,e);return u=Ue("{model}:batchEmbedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=doe(this.apiClient,h),y=new ZP;return Object.assign(y,p),y})}}async generateImagesInternal(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Pie(this.apiClient,e);return u=Ue("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=$oe(this.apiClient,h),y=new JP;return Object.assign(y,p),y})}else{const c=Hae(this.apiClient,e);return u=Ue("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=poe(this.apiClient,h),y=new JP;return Object.assign(y,p),y})}}async editImageInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=qie(this.apiClient,e);return i=Ue("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const c=Boe(this.apiClient,f),h=new zee;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Fie(this.apiClient,e);return i=Ue("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const c=qoe(this.apiClient,f),h=new Gee;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Vie(this.apiClient,e);return u=Ue("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>DS(this.apiClient,h))}else{const c=Kae(this.apiClient,e);return u=Ue("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>MS(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Gie(this.apiClient,e);return u=Ue("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=zoe(this.apiClient,h),y=new QP;return Object.assign(y,p),y})}else{const c=Wae(this.apiClient,e);return u=Ue("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=voe(this.apiClient,h),y=new QP;return Object.assign(y,p),y})}}async update(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Kie(this.apiClient,e);return u=Ue("{model}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>DS(this.apiClient,h))}else{const c=Zae(this.apiClient,e);return u=Ue("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>MS(this.apiClient,h))}}async delete(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Yie(this.apiClient,e);return u=Ue("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(()=>{const h=Goe(),p=new eR;return Object.assign(p,h),p})}else{const c=Jae(this.apiClient,e);return u=Ue("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(()=>{const h=yoe(),p=new eR;return Object.assign(p,h),p})}}async countTokens(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Xie(this.apiClient,e);return u=Ue("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Hoe(this.apiClient,h),y=new tR;return Object.assign(y,p),y})}else{const c=eie(this.apiClient,e);return u=Ue("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=boe(this.apiClient,h),y=new tR;return Object.assign(y,p),y})}}async computeTokens(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Zie(this.apiClient,e);return i=Ue("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const c=Koe(this.apiClient,f),h=new Hee;return Object.assign(h,c),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=eoe(this.apiClient,e);return u=Ue("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Zoe(this.apiClient,h))}else{const c=rie(this.apiClient,e);return u=Ue("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>woe(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wse(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Tse(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function Ase(t,e){const n={},r=g(e,["operationName"]);r!=null&&v(n,["operationName"],r);const a=g(e,["resourceName"]);a!=null&&v(n,["_url","resourceName"],a);const i=g(e,["config"]);return i!=null&&v(n,["config"],i),n}function Ese(t,e){const n={},r=g(e,["video","uri"]);r!=null&&v(n,["uri"],r);const a=g(e,["video","encodedVideo"]);a!=null&&v(n,["videoBytes"],ni(t,a));const i=g(e,["encoding"]);return i!=null&&v(n,["mimeType"],i),n}function Cse(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Ese(t,r)),n}function kse(t,e){const n={},r=g(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Cse(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function Ose(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response","generateVideoResponse"]);return u!=null&&v(n,["response"],kse(t,u)),n}function Mse(t,e){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["uri"],r);const a=g(e,["bytesBase64Encoded"]);a!=null&&v(n,["videoBytes"],ni(t,a));const i=g(e,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Dse(t,e){const n={},r=g(e,["_self"]);return r!=null&&v(n,["video"],Mse(t,r)),n}function Nse(t,e){const n={},r=g(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>Dse(t,u))),v(n,["generatedVideos"],s)}const a=g(e,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(n,["raiMediaFilteredReasons"],i),n}function ER(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);s!=null&&v(n,["error"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],Nse(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pse extends Ql{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let i;return r&&"httpOptions"in r&&(i=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:i}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=Tse(this.apiClient,e);return u=Ue("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>ER(this.apiClient,h))}else{const c=wse(this.apiClient,e);return u=Ue("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>Ose(this.apiClient,h))}}async fetchPredictVideosOperationInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=Ase(this.apiClient,e);return i=Ue("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>ER(this.apiClient,f))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rse(t,e){const n={},r=g(e,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function WL(t,e){const n={},r=g(e,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Rse(t,r)),n}function Ise(t,e){const n={},r=g(e,["speaker"]);r!=null&&v(n,["speaker"],r);const a=g(e,["voiceConfig"]);return a!=null&&v(n,["voiceConfig"],WL(t,a)),n}function jse(t,e){const n={},r=g(e,["speakerVoiceConfigs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Ise(t,i))),v(n,["speakerVoiceConfigs"],a)}return n}function Lse(t,e){const n={},r=g(e,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],WL(t,r));const a=g(e,["multiSpeakerVoiceConfig"]);a!=null&&v(n,["multiSpeakerVoiceConfig"],jse(t,a));const i=g(e,["languageCode"]);return i!=null&&v(n,["languageCode"],i),n}function $se(t,e){const n={},r=g(e,["fps"]);r!=null&&v(n,["fps"],r);const a=g(e,["endOffset"]);a!=null&&v(n,["endOffset"],a);const i=g(e,["startOffset"]);return i!=null&&v(n,["startOffset"],i),n}function Bse(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["data"]);r!=null&&v(n,["data"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function qse(t,e){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&v(n,["fileUri"],r);const a=g(e,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Use(t,e){const n={},r=g(e,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],$se(t,r));const a=g(e,["thought"]);a!=null&&v(n,["thought"],a);const i=g(e,["inlineData"]);i!=null&&v(n,["inlineData"],Bse(t,i));const s=g(e,["fileData"]);s!=null&&v(n,["fileData"],qse(t,s));const u=g(e,["thoughtSignature"]);u!=null&&v(n,["thoughtSignature"],u);const f=g(e,["codeExecutionResult"]);f!=null&&v(n,["codeExecutionResult"],f);const c=g(e,["executableCode"]);c!=null&&v(n,["executableCode"],c);const h=g(e,["functionCall"]);h!=null&&v(n,["functionCall"],h);const p=g(e,["functionResponse"]);p!=null&&v(n,["functionResponse"],p);const y=g(e,["text"]);return y!=null&&v(n,["text"],y),n}function Fse(t,e){const n={},r=g(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Use(t,s))),v(n,["parts"],i)}const a=g(e,["role"]);return a!=null&&v(n,["role"],a),n}function Vse(t,e){const n={},r=g(e,["behavior"]);r!=null&&v(n,["behavior"],r);const a=g(e,["description"]);a!=null&&v(n,["description"],a);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const s=g(e,["parameters"]);s!=null&&v(n,["parameters"],s);const u=g(e,["response"]);return u!=null&&v(n,["response"],u),n}function zse(t,e){const n={},r=g(e,["startTime"]);r!=null&&v(n,["startTime"],r);const a=g(e,["endTime"]);return a!=null&&v(n,["endTime"],a),n}function Gse(t,e){const n={},r=g(e,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],zse(t,r)),n}function Hse(t,e){const n={},r=g(e,["mode"]);r!=null&&v(n,["mode"],r);const a=g(e,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function Kse(t,e){const n={},r=g(e,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Hse(t,r)),n}function Yse(){return{}}function Wse(t,e){const n={},r=g(e,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>Vse(t,c))),v(n,["functionDeclarations"],f)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=g(e,["googleSearch"]);a!=null&&v(n,["googleSearch"],Gse(t,a));const i=g(e,["googleSearchRetrieval"]);if(i!=null&&v(n,["googleSearchRetrieval"],Kse(t,i)),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(g(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");g(e,["urlContext"])!=null&&v(n,["urlContext"],Yse());const u=g(e,["codeExecution"]);return u!=null&&v(n,["codeExecution"],u),n}function Xse(t,e){const n={},r=g(e,["handle"]);if(r!=null&&v(n,["handle"],r),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function CR(){return{}}function Zse(t,e){const n={},r=g(e,["disabled"]);r!=null&&v(n,["disabled"],r);const a=g(e,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const i=g(e,["endOfSpeechSensitivity"]);i!=null&&v(n,["endOfSpeechSensitivity"],i);const s=g(e,["prefixPaddingMs"]);s!=null&&v(n,["prefixPaddingMs"],s);const u=g(e,["silenceDurationMs"]);return u!=null&&v(n,["silenceDurationMs"],u),n}function Jse(t,e){const n={},r=g(e,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],Zse(t,r));const a=g(e,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const i=g(e,["turnCoverage"]);return i!=null&&v(n,["turnCoverage"],i),n}function Qse(t,e){const n={},r=g(e,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function ele(t,e){const n={},r=g(e,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=g(e,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],Qse(t,a)),n}function tle(t,e){const n={},r=g(e,["proactiveAudio"]);return r!=null&&v(n,["proactiveAudio"],r),n}function nle(t,e,n){const r={},a=g(e,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const i=g(e,["responseModalities"]);n!==void 0&&i!=null&&v(n,["setup","generationConfig","responseModalities"],i);const s=g(e,["temperature"]);n!==void 0&&s!=null&&v(n,["setup","generationConfig","temperature"],s);const u=g(e,["topP"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","topP"],u);const f=g(e,["topK"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topK"],f);const c=g(e,["maxOutputTokens"]);n!==void 0&&c!=null&&v(n,["setup","generationConfig","maxOutputTokens"],c);const h=g(e,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const p=g(e,["seed"]);n!==void 0&&p!=null&&v(n,["setup","generationConfig","seed"],p);const y=g(e,["speechConfig"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","speechConfig"],Lse(t,Xw(t,y)));const _=g(e,["enableAffectiveDialog"]);n!==void 0&&_!=null&&v(n,["setup","generationConfig","enableAffectiveDialog"],_);const w=g(e,["systemInstruction"]);n!==void 0&&w!=null&&v(n,["setup","systemInstruction"],Fse(t,Gn(t,w)));const A=g(e,["tools"]);if(n!==void 0&&A!=null){let O=wf(t,A);Array.isArray(O)&&(O=O.map(P=>Wse(t,Sf(t,P)))),v(n,["setup","tools"],O)}const T=g(e,["sessionResumption"]);n!==void 0&&T!=null&&v(n,["setup","sessionResumption"],Xse(t,T));const k=g(e,["inputAudioTranscription"]);n!==void 0&&k!=null&&v(n,["setup","inputAudioTranscription"],CR());const M=g(e,["outputAudioTranscription"]);n!==void 0&&M!=null&&v(n,["setup","outputAudioTranscription"],CR());const E=g(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&v(n,["setup","realtimeInputConfig"],Jse(t,E));const D=g(e,["contextWindowCompression"]);n!==void 0&&D!=null&&v(n,["setup","contextWindowCompression"],ele(t,D));const C=g(e,["proactivity"]);return n!==void 0&&C!=null&&v(n,["setup","proactivity"],tle(t,C)),r}function rle(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["setup","model"],$t(t,r));const a=g(e,["config"]);return a!=null&&v(n,["config"],nle(t,a,n)),n}function ale(t,e,n){const r={},a=g(e,["expireTime"]);n!==void 0&&a!=null&&v(n,["expireTime"],a);const i=g(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&v(n,["newSessionExpireTime"],i);const s=g(e,["uses"]);n!==void 0&&s!=null&&v(n,["uses"],s);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],rle(t,u));const f=g(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&v(n,["fieldMask"],f),r}function ile(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],ale(t,r,n)),n}function ole(t,e){const n={},r=g(e,["name"]);return r!=null&&v(n,["name"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sle(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(i=>`${n}.${i}`);e.push(...a)}else e.push(n)}return e.join(",")}function lle(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(n){const i=sle(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];a.length>0&&(u=a.map(c=>s.includes(c)?`generationConfig.${c}`:c));const f=[];i&&f.push(i),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class ule extends Ql{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=ile(this.apiClient,e);i=Ue("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const f=lle(u,e.config);return a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>ole(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cle(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function fle(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);return n!==void 0&&s!=null&&v(n,["_query","filter"],s),r}function dle(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],fle(t,r,n)),n}function hle(t,e){const n={},r=g(e,["textInput"]);r!=null&&v(n,["textInput"],r);const a=g(e,["output"]);return a!=null&&v(n,["output"],a),n}function mle(t,e){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>hle(t,i))),v(n,["examples","examples"],a)}return n}function ple(t,e,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=g(e,["tunedModelDisplayName"]);if(n!==void 0&&a!=null&&v(n,["displayName"],a),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=g(e,["epochCount"]);n!==void 0&&i!=null&&v(n,["tuningTask","hyperparameters","epochCount"],i);const s=g(e,["learningRateMultiplier"]);if(s!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);n!==void 0&&u!=null&&v(n,["tuningTask","hyperparameters","batchSize"],u);const f=g(e,["learningRate"]);return n!==void 0&&f!=null&&v(n,["tuningTask","hyperparameters","learningRate"],f),r}function gle(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["trainingDataset"]);a!=null&&v(n,["tuningTask","trainingData"],mle(t,a));const i=g(e,["config"]);return i!=null&&v(n,["config"],ple(t,i,n)),n}function vle(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["_url","name"],r);const a=g(e,["config"]);return a!=null&&v(n,["config"],a),n}function yle(t,e,n){const r={},a=g(e,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const i=g(e,["pageToken"]);n!==void 0&&i!=null&&v(n,["_query","pageToken"],i);const s=g(e,["filter"]);return n!==void 0&&s!=null&&v(n,["_query","filter"],s),r}function ble(t,e){const n={},r=g(e,["config"]);return r!=null&&v(n,["config"],yle(t,r,n)),n}function xle(t,e,n){const r={},a=g(e,["gcsUri"]);if(n!==void 0&&a!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],a),g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function _le(t,e){const n={},r=g(e,["gcsUri"]);return r!=null&&v(n,["validationDatasetUri"],r),n}function Sle(t,e,n){const r={},a=g(e,["validationDataset"]);n!==void 0&&a!=null&&v(n,["supervisedTuningSpec"],_le(t,a));const i=g(e,["tunedModelDisplayName"]);n!==void 0&&i!=null&&v(n,["tunedModelDisplayName"],i);const s=g(e,["description"]);n!==void 0&&s!=null&&v(n,["description"],s);const u=g(e,["epochCount"]);n!==void 0&&u!=null&&v(n,["supervisedTuningSpec","hyperParameters","epochCount"],u);const f=g(e,["learningRateMultiplier"]);n!==void 0&&f!=null&&v(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f);const c=g(e,["exportLastCheckpointOnly"]);n!==void 0&&c!=null&&v(n,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const h=g(e,["adapterSize"]);if(n!==void 0&&h!=null&&v(n,["supervisedTuningSpec","hyperParameters","adapterSize"],h),g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function wle(t,e){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=g(e,["trainingDataset"]);a!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],xle(t,a,n));const i=g(e,["config"]);return i!=null&&v(n,["config"],Sle(t,i,n)),n}function Tle(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["model"],r);const a=g(e,["name"]);return a!=null&&v(n,["endpoint"],a),n}function XL(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["state"]);a!=null&&v(n,["state"],NL(t,a));const i=g(e,["createTime"]);i!=null&&v(n,["createTime"],i);const s=g(e,["tuningTask","startTime"]);s!=null&&v(n,["startTime"],s);const u=g(e,["tuningTask","completeTime"]);u!=null&&v(n,["endTime"],u);const f=g(e,["updateTime"]);f!=null&&v(n,["updateTime"],f);const c=g(e,["description"]);c!=null&&v(n,["description"],c);const h=g(e,["baseModel"]);h!=null&&v(n,["baseModel"],h);const p=g(e,["_self"]);p!=null&&v(n,["tunedModel"],Tle(t,p));const y=g(e,["distillationSpec"]);y!=null&&v(n,["distillationSpec"],y);const _=g(e,["experiment"]);_!=null&&v(n,["experiment"],_);const w=g(e,["labels"]);w!=null&&v(n,["labels"],w);const A=g(e,["pipelineJob"]);A!=null&&v(n,["pipelineJob"],A);const T=g(e,["serviceAccount"]);T!=null&&v(n,["serviceAccount"],T);const k=g(e,["tunedModelDisplayName"]);return k!=null&&v(n,["tunedModelDisplayName"],k),n}function Ale(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["tunedModels"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>XL(t,s))),v(n,["tuningJobs"],i)}return n}function Ele(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const i=g(e,["done"]);i!=null&&v(n,["done"],i);const s=g(e,["error"]);return s!=null&&v(n,["error"],s),n}function Cle(t,e){const n={},r=g(e,["checkpointId"]);r!=null&&v(n,["checkpointId"],r);const a=g(e,["epoch"]);a!=null&&v(n,["epoch"],a);const i=g(e,["step"]);i!=null&&v(n,["step"],i);const s=g(e,["endpoint"]);return s!=null&&v(n,["endpoint"],s),n}function kle(t,e){const n={},r=g(e,["model"]);r!=null&&v(n,["model"],r);const a=g(e,["endpoint"]);a!=null&&v(n,["endpoint"],a);const i=g(e,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Cle(t,u))),v(n,["checkpoints"],s)}return n}function RS(t,e){const n={},r=g(e,["name"]);r!=null&&v(n,["name"],r);const a=g(e,["state"]);a!=null&&v(n,["state"],NL(t,a));const i=g(e,["createTime"]);i!=null&&v(n,["createTime"],i);const s=g(e,["startTime"]);s!=null&&v(n,["startTime"],s);const u=g(e,["endTime"]);u!=null&&v(n,["endTime"],u);const f=g(e,["updateTime"]);f!=null&&v(n,["updateTime"],f);const c=g(e,["error"]);c!=null&&v(n,["error"],c);const h=g(e,["description"]);h!=null&&v(n,["description"],h);const p=g(e,["baseModel"]);p!=null&&v(n,["baseModel"],p);const y=g(e,["tunedModel"]);y!=null&&v(n,["tunedModel"],kle(t,y));const _=g(e,["supervisedTuningSpec"]);_!=null&&v(n,["supervisedTuningSpec"],_);const w=g(e,["tuningDataStats"]);w!=null&&v(n,["tuningDataStats"],w);const A=g(e,["encryptionSpec"]);A!=null&&v(n,["encryptionSpec"],A);const T=g(e,["partnerModelTuningSpec"]);T!=null&&v(n,["partnerModelTuningSpec"],T);const k=g(e,["distillationSpec"]);k!=null&&v(n,["distillationSpec"],k);const M=g(e,["experiment"]);M!=null&&v(n,["experiment"],M);const E=g(e,["labels"]);E!=null&&v(n,["labels"],E);const D=g(e,["pipelineJob"]);D!=null&&v(n,["pipelineJob"],D);const C=g(e,["serviceAccount"]);C!=null&&v(n,["serviceAccount"],C);const O=g(e,["tunedModelDisplayName"]);return O!=null&&v(n,["tunedModelDisplayName"],O),n}function Ole(t,e){const n={},r=g(e,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=g(e,["tuningJobs"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(s=>RS(t,s))),v(n,["tuningJobs"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mle extends Ql{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new gp(Vl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let a="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?a=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(a=r.name.split("/operations/")[0]),{name:a,state:AS.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=vle(this.apiClient,e);return u=Ue("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>RS(this.apiClient,h))}else{const c=cle(this.apiClient,e);return u=Ue("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>XL(this.apiClient,h))}}async listInternal(e){var n,r,a,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const c=ble(this.apiClient,e);return u=Ue("tuningJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Ole(this.apiClient,h),y=new nR;return Object.assign(y,p),y})}else{const c=dle(this.apiClient,e);return u=Ue("tunedModels",c._url),f=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Ale(this.apiClient,h),y=new nR;return Object.assign(y,p),y})}}async tuneInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI()){const u=wle(this.apiClient,e);return i=Ue("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>RS(this.apiClient,f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let a,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gle(this.apiClient,e);return i=Ue("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>Ele(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dle{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Nle=1024*1024*8,Ple=3,Rle=1e3,Ile=2,Lx="x-goog-upload-status";async function jle(t,e,n){var r,a,i;let s=0,u=0,f=new ES(new Response),c="upload";for(s=t.size;u<s;){const p=Math.min(Nle,s-u),y=t.slice(u,u+p);u+p>=s&&(c+=", finalize");let _=0,w=Rle;for(;_<Ple&&(f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[Lx]));)_++,await $le(w),w=w*Ile;if(u+=p,((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a[Lx])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(f==null?void 0:f.json());if(((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[Lx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function Lle(t){return{size:t.size,type:t.type}}function $le(t){return new Promise(e=>setTimeout(e,t))}class Ble{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jle(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Lle(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qle{create(e,n,r){return new Ule(e,n,r)}}class Ule{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kR="x-goog-api-key";class Fle{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(kR)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(kR,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vle="gl-node/";class zle{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Vee(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new Fle(this.apiKey);this.apiClient=new ise({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Vle+"web",uploader:new Ble,downloader:new Dle}),this.models=new Sse(this.apiClient),this.live=new vse(this.apiClient,a,new qle),this.chats=new gne(this.models,this.apiClient),this.caches=new hne(this.apiClient),this.files=new One(this.apiClient),this.operations=new Pse(this.apiClient),this.authTokens=new ule(this.apiClient),this.tunings=new Mle(this.apiClient)}}const Gle="PLACEHOLDER_API_KEY";let Cn=null;try{Cn=new zle({apiKey:Gle})}catch(t){console.error("Failed to initialize GoogleGenAI:",t),Cn=null}const ga=()=>!!Cn,Hle=t=>`Você é um assistente financeiro amigável e prestativo para um aplicativo de finanças pessoais.
Data Atual: ${t.currentDate}.
Renda Mensal Informada: ${t.monthlyIncome?`${pe(t.monthlyIncome)} BRL`:"Não informada"}.

Resumo Financeiro do Usuário:
Contas:
${t.accounts.map(n=>{const r=t.accountBalances.find(a=>a.accountId===n.id);return`- ${n.name}: Saldo ${r?pe(r.balance):"N/A"}`}).join(`
`)}

Caixinhas de Dinheiro (Metas):
${t.moneyBoxes&&t.moneyBoxes.length>0?t.moneyBoxes.map(n=>{var a;const r=(a=t.moneyBoxBalances)==null?void 0:a.find(i=>i.moneyBoxId===n.id);return`- ${n.name}: ${pe(r?r.balance:0)} ${n.goal_amount?`(Meta: ${pe(n.goal_amount)})`:""}`}).join(`
`):"Nenhuma caixinha configurada."}

Orçamentos (Despesas):
${t.categories.filter(n=>n.type==="EXPENSE"&&n.monthly_budget).map(n=>`- ${n.name}: Orçamento ${pe(n.monthly_budget||0)}`).join(`
`)||"Nenhum orçamento de despesa configurado."}

Compras Futuras Planejadas:
${t.futurePurchases&&t.futurePurchases.length>0?t.futurePurchases.map(n=>`- ${n.name} (Custo: ${pe(n.estimated_cost)}, Prioridade: ${n.priority}, Status: ${n.status})`).join(`
`):"Nenhuma compra futura planejada."}


Com base neste resumo, forneça uma dica financeira principal, observação ou sugestão para o usuário hoje.
Seja conciso (1-2 frases), prático e encorajador. Não faça perguntas. Não use markdown.
Exemplos de tom: "Lembre-se de verificar seus gastos com Lazer este mês!" ou "Você está indo bem em sua meta de Viagem!".
Dica:`,Kle=(t,e,n,r)=>{var f;const a=e.accountBalances.find(c=>c.accountId===t.account_id),i=a?pe(a.balance):"N/A";let s=`Você é um assistente financeiro. O usuário acabou de registrar uma ${t.type==="INCOME"?"receita":t.type==="EXPENSE"?"despesa":"transferência"}.
Detalhes: Valor ${pe(t.amount)} ${t.description?`descrita como "${t.description}"`:""} na conta "${r||"N/A"}".
${n?`Categoria: "${n}".`:""}
Saldo atual da conta "${r||"N/A"}": ${i}.
`;if(t.type==="EXPENSE"&&n){const c=e.categories.find(h=>h.name===n&&h.type==="EXPENSE");c!=null&&c.monthly_budget&&(s+=`Orçamento para "${n}": ${pe(c.monthly_budget)}. `)}const u=e.moneyBoxes&&e.moneyBoxes.find(c=>t.description&&c.name.toLowerCase().includes(t.description.toLowerCase().substring(0,5))||n&&c.name.toLowerCase().includes(n.toLowerCase().substring(0,5)));if(u){const c=(f=e.moneyBoxBalances)==null?void 0:f.find(h=>h.moneyBoxId===u.id);s+=`Lembre-se da sua caixinha "${u.name}" (Saldo: ${pe(c?c.balance:0)}${u.goal_amount?`, Meta: ${pe(u.goal_amount)}`:""}). `}return s+=`Forneça um breve comentário ou sugestão (máx 1 frase). Não use markdown. Não faça perguntas.
Exemplo: "Ótimo! Continue assim." ou "Fique de olho nos gastos com Comida." ou "Considere guardar uma parte na sua caixinha Viagem."
Comentário:`,s},Yle=(t,e,n,r)=>{var i;return`Você é um assistente financeiro. O usuário tem uma renda mensal de ${pe(e)}.
Ele está pedindo uma sugestão de orçamento para a categoria de despesa: "${t}".

Orçamentos de despesa já definidos pelo usuário:
${n.length>0?n.map(s=>`- ${s.name}: ${pe(s.budget||0)}`).join(`
`):"Nenhum outro orçamento definido."}

Contexto financeiro adicional:
Saldo total em contas: ${pe(r.accountBalances.reduce((s,u)=>s+u.balance,0))}
Total em caixinhas (metas): ${pe(((i=r.moneyBoxBalances)==null?void 0:i.reduce((s,u)=>s+u.balance,0))||0)}

Baseado na renda mensal, nos orçamentos existentes e nos princípios de finanças pessoais (como a regra 50/30/20, mas de forma flexível e adaptada à realidade brasileira), sugira um valor de orçamento mensal para a categoria "${t}".
Responda APENAS com um objeto JSON contendo a chave "suggestedBudget" e o valor numérico sugerido. Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"suggestedBudget": 350}
Sugestão:`},Wle=(t,e)=>{var i,s;const n=e.accountBalances.reduce((u,f)=>u+f.balance,0),r=((i=e.moneyBoxBalances)==null?void 0:i.reduce((u,f)=>u+f.balance,0))||0;return`Você é um assistente financeiro. O usuário deseja comprar "${t.name}", que custa aproximadamente ${pe(t.estimated_cost)}. A prioridade é ${t.priority}.
Data Atual: ${e.currentDate}.
Renda Mensal: ${e.monthlyIncome?pe(e.monthlyIncome):"Não informada"}.
Saldo Total em Contas: ${pe(n)}.
Total Guardado em Caixinhas/Metas: ${pe(r)}.

Orçamentos de Despesa Mensais:
${e.categories.filter(u=>u.type===ve.EXPENSE&&u.monthly_budget).map(u=>`- ${u.name}: ${pe(u.monthly_budget||0)}`).join(`
`)||"Nenhum."}

Outras Compras Futuras Planejadas:
${((s=e.futurePurchases)==null?void 0:s.filter(u=>u.id!==t.id).map(u=>`- ${u.name} (Custo: ${pe(u.estimated_cost)}, Prioridade: ${u.priority})`).join(`
`))||"Nenhuma outra."}

Analise a viabilidade desta compra ("${t.name}").
Considere se o usuário tem fundos suficientes, se a compra impactaria significativamente seus orçamentos ou outras metas.
Se a renda não for informada, baseie-se nos saldos e economias.
Forneça uma análise concisa (2-3 frases) e sugira um status. Status possíveis: ACHIEVABLE_SOON (se viável em breve ou agora), NOT_RECOMMENDED_NOW (se deve adiar), PLANNED (manter como planejado se a análise não for conclusiva ou se depender de mais economia).

Responda APENAS com um objeto JSON contendo as chaves "analysisText" (string com sua análise) e "recommendedStatus" (string com um dos status: 'ACHIEVABLE_SOON', 'NOT_RECOMMENDED_NOW', 'PLANNED').
Não adicione nenhum outro texto, explicação ou markdown.
Exemplo de resposta: {"analysisText": "Comprar ${t.name} parece razoável agora, considerando seus saldos. Lembre-se de ajustar seu orçamento de Lazer.", "recommendedStatus": "ACHIEVABLE_SOON"}
Análise:`},Xle=(t,e)=>`Você é um especialista em finanças e cartões de crédito.
O usuário quer saber o melhor dia para fazer uma compra com o cartão de crédito para maximizar o período sem juros e ter o maior prazo para pagar.

Dados do Cartão de Crédito:
- Dia de Fechamento da Fatura: ${t.closing_day} (Ex: 20, significa dia 20 de cada mês)
- Dia de Vencimento da Fatura: ${t.due_day} (Ex: 05, significa dia 05 de cada mês, geralmente no mês seguinte ao fechamento)

Data Atual: ${e} (Formato: YYYY-MM-DD)

Instruções:
1.  Identifique o próximo ciclo de fatura. O melhor dia para comprar é geralmente o dia imediatamente após o fechamento da fatura atual (se a data atual for ANTES ou NO DIA do fechamento do mês corrente) ou o dia após o fechamento da fatura do próximo mês (se a data atual for APÓS o fechamento do mês corrente).
2.  Determine a data exata (DD de MMMM de YYYY) para este "melhor dia para comprar".
3.  Determine a data exata (DD de MMMM de YYYY) em que o pagamento da fatura (contendo essa compra) seria devido.
4.  Forneça uma explicação clara e concisa (1-2 frases) do porquê esta data é vantajosa, mencionando o prazo estendido.

Responda APENAS com um objeto JSON com as seguintes chaves:
- "bestPurchaseDay": "string" (Data formatada como "DD de MMMM de YYYY", ex: "21 de Julho de 2024")
- "paymentDueDate": "string" (Data formatada como "DD de MMMM de YYYY", ex: "05 de Setembro de 2024")
- "explanation": "string" (Explicação concisa)
- "error": "string" (Opcional: preencha apenas se não puder calcular ou se os dados forem inválidos/inconsistentes)

Exemplo de Cálculo (Data Atual: 2024-07-18, Fechamento: dia 20, Vencimento: dia 05):
- A fatura atual fecha em 20 de Julho de 2024.
- O melhor dia para comprar é 21 de Julho de 2024.
- Essa compra entraria na fatura que fecha em 20 de Agosto de 2024.
- O pagamento dessa fatura seria em 05 de Setembro de 2024.

Exemplo de Cálculo (Data Atual: 2024-07-25, Fechamento: dia 20, Vencimento: dia 05):
- A fatura de Julho já fechou (em 20 de Julho).
- O próximo fechamento é 20 de Agosto.
- O melhor dia para comprar é 21 de Agosto de 2024.
- Essa compra entraria na fatura que fecha em 20 de Setembro de 2024.
- O pagamento dessa fatura seria em 05 de Outubro de 2024.`,Zle=(t,e,n,r,a)=>`Você é um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Mês: ${pe(e)}
${r?`Orçamento Mensal para esta Categoria: ${pe(r)}.`:"Orçamento não definido para esta categoria."}
${r&&a?`Hoje é dia ${a.dayOfMonth} de ${a.daysInMonth} do mês. Proporcionalmente, o gasto esperado até agora seria em torno de ${pe(n)}.`:""}

Com base no gasto atual, ele está significativamente acima do esperado para esta altura do mês ou do orçamento proporcional?
Se sim, forneça um alerta CURTO e DIRETO (1-2 frases). Ex: "Atenção: Seus gastos com ${t} (${pe(e)}) já ultrapassaram o esperado para esta data (${pe(n)})." ou "Gastos com ${t} estão X% acima do esperado para hoje."
Se não houver anomalia clara, ou se o gasto estiver dentro do esperado/orçamento, responda APENAS com a palavra "NORMAL".
Não faça perguntas. Não use markdown.
Alerta:`,Jle=(t,e,n,r,a,i)=>`Você é um assistente financeiro.
Categoria: "${t}"
Gasto Atual no Mês: ${pe(e)}
Orçamento Mensal para esta Categoria: ${pe(n)}
${i?`Hoje é dia ${i.dayOfMonth} de ${i.daysInMonth} do mês. Faltam ${r} dias.`:""}
Projeção de Gasto Total no Mês (mantendo o ritmo atual): ${pe(a)}

Com base no ritmo atual de gastos, há uma projeção de que o orçamento para "${t}" será estourado este mês?
Se sim, forneça um alerta CURTO e DIRETO (1-2 frases), mencionando o possível valor do estouro. Ex: "Alerta: Mantendo este ritmo, seus gastos com ${t} podem exceder o orçamento em cerca de ${pe(a-n)} este mês."
Se não houver projeção clara de estouro, ou se a projeção estiver dentro do orçamento, responda APENAS com a palavra "NORMAL".
Não faça perguntas. Não use markdown.
Alerta:`,Qle=(t,e,n)=>{const r=new Date(n.currentDate);r.setDate(r.getDate()-90);const a=t.filter(i=>i.date>=dt(r)&&i.type===ve.EXPENSE);return`Você é um assistente financeiro que ajuda a identificar despesas recorrentes não cadastradas.
  Analise o histórico de despesas do usuário dos últimos 90 dias (data atual: ${n.currentDate}).
  Procure por pagamentos que se repetem com valores e descrições similares em intervalos regulares (ex: mensais, semanais).
  
  Despesas Recorrentes já cadastradas (NÃO SUGIRA ESTAS):
  ${e.length>0?e.map(i=>`- "${i.description}" (${pe(i.amount)}, ${i.frequency})`).join(`
`):"Nenhuma."}

  Histórico de Transações de Despesa (Últimos 90 dias):
  ${a.map(i=>{var s;return`- Data: ${i.date}, Descrição: "${i.description||((s=n.categories.find(u=>u.id===i.category_id))==null?void 0:s.name)||"Despesa"}", Valor: ${pe(i.amount)}`}).slice(0,30).join(`
`)} 
  ${a.length>30?`
... (e mais ${a.length-30} transações)`:""}

  Se encontrar UMA despesa que parece ser recorrente mas NÃO ESTÁ na lista de já cadastradas, sugira registrá-la.
  Seja específico: "Notei pagamentos para '{Nome do Serviço/Descrição}' de aproximadamente {Valor} em datas como {Data1}, {Data2}. Gostaria de cadastrar como despesa recorrente?"
  Se encontrar múltiplas, sugira a mais óbvia ou mais frequente.
  Se não encontrar nenhuma candidata clara, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas diretas no final, apenas a sugestão como no exemplo.
  Sugestão:`},eue=(t,e,n,r)=>{const a=new Date(r.currentDate);a.setMonth(a.getMonth()-1);const i=t.filter(c=>c.type===ve.EXPENSE&&c.date>=dt(a));let s=`Você é um coach financeiro que ajuda usuários a encontrar oportunidades de economia.
  Renda Mensal: ${r.monthlyIncome?pe(r.monthlyIncome):"Não informada"}.
  Data Atual: ${r.currentDate}.

  Metas de Economia (Caixinhas):
  ${n.length>0?n.map(c=>`- ${c.name}${c.goal_amount?` (Meta: ${pe(c.goal_amount)})`:""}`).join(`
`):"Nenhuma meta de economia ativa."}

  Gastos do Último Mês (Top 5 categorias por frequência, excluindo essenciais como aluguel, contas fixas de casa):
  `;const u={};i.forEach(c=>{var h;if(c.category_id){const p=((h=e.find(y=>y.id===c.category_id))==null?void 0:h.name)||"Outros";if(["Moradia","Aluguel","Condomínio","Impostos","Luz","Água","Gás","Internet Fixa","Saúde","Educação"].includes(p))return;u[c.category_id]||(u[c.category_id]={total:0,count:0,name:p}),u[c.category_id].total+=c.amount,u[c.category_id].count++}});const f=Object.values(u).sort((c,h)=>h.count-c.count).slice(0,5);return s+=f.map(c=>`- ${c.name}: ${pe(c.total)} em ${c.count} transações`).join(`
`)||"Nenhum gasto relevante encontrado.",s+=`

Identifique UMA categoria onde o usuário parece ter gastos pequenos e frequentes que, somados, são significativos (ex: cafés diários, lanches, delivery, apps de transporte).
  Sugira uma pequena mudança de hábito que poderia gerar economia. Se houver metas (Caixinhas), tente vincular a economia a uma delas.
  Seja prático e positivo. Ex: "Seus gastos com 'Delivery' somaram ${pe(150)} no último mês. Que tal reduzir para uma vez por semana e direcionar ${pe(75)} para sua meta 'Viagem'?"
  Se não houver oportunidade clara ou dados suficientes, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas.
  Sugestão:`,s},tue=(t,e,n,r)=>{const a=n.filter(i=>i.id!==t.id).slice(0,10).map(i=>pe(i.amount));return`Você é um assistente financeiro que detecta transações de valor incomum.
  O usuário registrou uma despesa:
  - Descrição: "${t.description||e}"
  - Categoria: "${e}"
  - Valor: ${pe(t.amount)}
  - Data: ${t.date}

  Valores de despesas recentes nesta categoria ("${e}"): ${a.length>0?a.join(", "):"Nenhuma outra recente."}
  
  O valor desta transação (${pe(t.amount)}) é significativamente mais alto que o normal para esta categoria, baseado nas amostras?
  Se sim, forneça um alerta CURTO. Ex: "Alerta: O valor de ${pe(t.amount)} para ${e} parece mais alto que seus gastos usuais nesta categoria. Está correto?"
  Se o valor parecer normal ou não houver dados suficientes para comparar, responda APENAS com a palavra "NORMAL".
  Não use markdown. Não faça perguntas no final, apenas o alerta como no exemplo.
  Alerta:`},nue=(t,e)=>{var c,h;const n=new Date(t.currentDate);n.setDate(n.getDate()+e);const r=dt(n),a=(c=t.recurringTransactions)==null?void 0:c.filter(p=>p.next_due_date<=r).sort((p,y)=>new Date(p.next_due_date).getTime()-new Date(y.next_due_date).getTime()).map(p=>`- ${p.type===ve.INCOME?"Receita":"Despesa"}: ${p.description} (${pe(p.amount)}) em ${Hn(p.next_due_date)}`).join(`
`),i=new Date(t.currentDate);i.setMonth(i.getMonth()-1);const s=(h=t.transactions)==null?void 0:h.filter(p=>{var y;return p.type===ve.EXPENSE&&p.date>=dt(i)&&!((y=t.recurringTransactions)!=null&&y.some(_=>{var w;return _.description.toLowerCase().includes(((w=p.description)==null?void 0:w.toLowerCase())||"xxxx")}))}).reduce((p,y)=>{var w;const _=((w=t.categories.find(A=>A.id===y.category_id))==null?void 0:w.name)||"Outras Despesas";return p[_]=(p[_]||0)+y.amount,p},{}),u=s?Object.entries(s).map(([p,y])=>`- ${p}: aprox. ${pe(y)}/mês`).join(`
`):"Nenhum padrão recente de gastos discricionários encontrado.";let f="";if(t.simulatedTransactionData){const p=t.simulatedTransactionData;f=`
Considere também a seguinte transação SIMULADA para esta projeção:
- Tipo: ${p.type===ve.INCOME?"Receita":"Despesa"}
- Valor: ${pe(p.amount)}
- Data: ${Hn(p.date)}
- Descrição: ${p.description||(p.type===ve.INCOME?"Receita Simulada":"Despesa Simulada")}
Esta simulação NÃO está salva, use-a apenas para esta projeção.`}return`Você é um assistente financeiro. Preveja o fluxo de caixa do usuário para os próximos ${e} dias.
Data Atual: ${t.currentDate}.
Projeção até: ${Hn(r)}.
Renda Mensal Informada: ${t.monthlyIncome?pe(t.monthlyIncome):"Não informada (use apenas recorrências e histórico)"}.
${f}

Saldos Atuais das Contas Principais:
${t.accounts.map(p=>{const y=t.accountBalances.find(_=>_.accountId===p.id);return`- ${p.name}: ${y?pe(y.balance):"N/A"}`}).join(`
`)}
Saldo Total Combinado: ${pe(t.accountBalances.reduce((p,y)=>p+y.balance,0))}

Transações Recorrentes Programadas (Receitas e Despesas) no Período:
${a||"Nenhuma transação recorrente programada no período."}

Padrão de Gastos Discricionários Recentes (último mês, não recorrentes):
${u}

Analise essas informações e forneça uma projeção textual do fluxo de caixa.
Destaque:
1.  Um resumo geral (ex: "Seu saldo deve permanecer positivo", "Prevê-se um aperto financeiro em meados de [Mês]").
2.  Principais entradas e saídas esperadas e suas datas.
3.  Qualquer data onde o saldo possa ficar perigosamente baixo ou negativo, se aplicável.
Se uma simulação foi fornecida, mencione brevemente o impacto dela.
Seja conciso (3-5 frases). Não use markdown. Responda apenas com a projeção. Se não puder projetar confiavelmente, diga "Não foi possível gerar uma projeção de fluxo de caixa detalhada com os dados atuais."
Projeção:`},rue=t=>{let e="",n="";switch(t){case"snowball":e="Bola de Neve (Snowball)",n="prioriza quitar as dívidas com os menores saldos primeiro, independentemente das taxas de juros, para obter vitórias rápidas e motivação.";break;case"avalanche":e="Avalanche",n="prioriza quitar as dívidas com as maiores taxas de juros primeiro, o que geralmente economiza mais dinheiro em juros a longo prazo.";break;case"minimums":e="Pagamentos Mínimos",n="consiste em pagar apenas o valor mínimo exigido em todas as dívidas. Geralmente é a forma mais lenta e cara de quitar dívidas devido ao acúmulo de juros.";break;default:return"Estratégia desconhecida."}return`Você é um educador financeiro. Explique a estratégia de quitação de dívidas "${e}" em termos simples.
O conceito principal desta estratégia é que ${n}.
Forneça uma breve explicação (2-3 frases) sobre como funciona, suas principais vantagens e desvantagens.
Não use markdown. Responda apenas com a explicação.
Explicação:`},aue=(t,e,n)=>{var i,s,u;const r=t.strategy==="snowball"?"Bola de Neve":t.strategy==="avalanche"?"Avalanche":"Pagamentos Mínimos";let a=e.map(f=>`- ${f.name}: Saldo ${pe(f.current_balance)}, Juros ${f.interest_rate_annual}% a.a.`).join(`
`);return`Você é um consultor financeiro. O usuário calculou um plano de quitação de dívidas.
Estratégia Utilizada: ${r}.
Tempo Estimado para Quitar Todas as Dívidas: ${t.monthsToPayoff} meses (${(t.monthsToPayoff/12).toFixed(1)} anos).
Total de Juros Pagos Estimado: ${pe(t.totalInterestPaid)}.
Total Principal Pago Estimado: ${pe(t.totalPrincipalPaid)}.
Pagamento Extra Mensal Adicionado aos Mínimos: ${pe(((s=(i=t.payoffDetails[0])==null?void 0:i.monthlyPayments[0])==null?void 0:s.payment)-((u=e.find(f=>{var c;return f.id===((c=t.payoffDetails[0])==null?void 0:c.debtId)}))==null?void 0:u.minimum_payment)||0)} (se houver um extra aplicado à primeira dívida do plano).

Dívidas Incluídas no Plano:
${a}

Renda Mensal Informada: ${n.monthlyIncome?pe(n.monthlyIncome):"Não informada"}.
Saldo Total em Contas: ${pe(n.accountBalances.reduce((f,c)=>f+c.balance,0))}

Com base no resultado da projeção e no contexto financeiro do usuário, forneça um resumo e insights (2-4 frases).
Comente se o plano parece realista, se o tempo de quitação é bom, e talvez uma sugestão baseada no impacto dos juros ou no pagamento extra.
Exemplo de tom: "Este plano ${r} parece eficaz, quitando suas dívidas em ${t.monthsToPayoff} meses. O total de juros de ${pe(t.totalInterestPaid)} é significativo; considere aumentar o pagamento extra, se possível, para acelerar."
Não use markdown. Responda apenas com o resumo.
Resumo:`},Ji=async(t,e,n)=>{var r;if(!Cn||!ga())return console.warn(`Gemini API not available for ${e}.`),null;try{const i=(r=(await Cn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:t})).text)==null?void 0:r.trim();return i&&i.toUpperCase()!=="NORMAL"?i:null}catch(a){return console.error(`Error fetching ${e} from Gemini:`,a),null}},iue=async t=>{var n;if(!Cn||!ga())return console.warn("Gemini API not available for fetchGeneralAdvice."),{timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada.",is_read:!1};const e=Hle(t);try{const a=(n=(await Cn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:e})).text)==null?void 0:n.trim();return a?{timestamp:new Date().toISOString(),type:"general_advice",content:a,is_read:!1}:{timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter um conselho geral no momento (resposta vazia).",is_read:!1}}catch(r){console.error("Error fetching general advice from Gemini:",r);let a="Desculpe, não consegui buscar um conselho geral no momento.";return r instanceof Error&&(a+=` Detalhe: ${r.message}`),{timestamp:new Date().toISOString(),type:"error_message",content:a,is_read:!1}}},oue=async(t,e,n,r)=>{var i;if(!Cn||!ga())return console.warn("Gemini API not available for fetchCommentForTransaction."),{timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para comentar transação.",related_transaction_id:t.id,is_read:!1};const a=Kle(t,e,n,r);try{const u=(i=(await Cn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:a})).text)==null?void 0:i.trim();return u?{timestamp:new Date().toISOString(),type:"transaction_comment",content:u,related_transaction_id:t.id,is_read:!1}:{timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível gerar um comentário para esta transação (resposta vazia).",related_transaction_id:t.id,is_read:!1}}catch(s){console.error("Error fetching transaction comment from Gemini:",s);let u="Desculpe, não consegui gerar um comentário para esta transação.";return s instanceof Error&&(u+=` Detalhe: ${s.message}`),{timestamp:new Date().toISOString(),type:"error_message",content:u,related_transaction_id:t.id,is_read:!1}}},sue=async(t,e,n,r)=>{var i;if(!Cn||!ga())return console.warn("Gemini API not available for fetchBudgetSuggestion."),{timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key (GEMINI_API_KEY) não configurada para sugerir orçamentos.",is_read:!1};if(!e||e<=0)return{timestamp:new Date().toISOString(),type:"error_message",content:"Por favor, informe sua renda mensal na tela do AI Coach para receber sugestões de orçamento.",is_read:!1};const a=Yle(t,e,n,r);try{let u=((i=(await Cn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:a,config:{responseMimeType:"application/json"}})).text)==null?void 0:i.trim())||"";const f=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,c=u.match(f);c&&c[2]&&(u=c[2].trim());const h=JSON.parse(u);return h&&typeof h.suggestedBudget=="number"&&h.suggestedBudget>=0?{suggestedBudget:h.suggestedBudget}:{timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma sugestão de orçamento válida no momento (resposta inválida da IA).",is_read:!1}}catch(s){console.error("Error fetching budget suggestion from Gemini:",s);let u="Desculpe, não consegui buscar uma sugestão de orçamento.";return s instanceof Error&&(u+=` Detalhe: ${s.message}`),{timestamp:new Date().toISOString(),type:"error_message",content:u,is_read:!1}}},lue=async(t,e)=>{var r;if(!Cn||!ga())return{timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para analisar compra futura.",related_future_purchase_id:t.id,is_read:!1};const n=Wle(t,e);try{let i=((r=(await Cn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const s=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,u=i.match(s);u&&u[2]&&(i=u[2].trim());const f=JSON.parse(i);return f&&typeof f.analysisText=="string"&&typeof f.recommendedStatus=="string"&&["ACHIEVABLE_SOON","NOT_RECOMMENDED_NOW","PLANNED"].includes(f.recommendedStatus)?{analysisText:f.analysisText,recommendedStatus:f.recommendedStatus}:{timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter uma análise válida da IA para esta compra (resposta inválida).",related_future_purchase_id:t.id,is_read:!1}}catch(a){console.error("Error fetching future purchase analysis from Gemini:",a);let i="Desculpe, não consegui analisar esta compra futura no momento.";return a instanceof Error&&(i+=` Detalhe: ${a.message}`),{timestamp:new Date().toISOString(),type:"error_message",content:i,related_future_purchase_id:t.id,is_read:!1}}},uue=async(t,e)=>{var r;if(!Cn||!ga())return console.warn("Gemini API not available for fetchBestPurchaseDayAdvice."),{bestPurchaseDay:"",paymentDueDate:"",explanation:"AI Coach desativado ou API Key não configurada.",error:"AI Coach desativado ou API Key não configurada."};const n=Xle(t,e);try{let i=((r=(await Cn.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:n,config:{responseMimeType:"application/json"}})).text)==null?void 0:r.trim())||"";const s=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,u=i.match(s);u&&u[2]&&(i=u[2].trim());const f=JSON.parse(i);return f.error?(console.warn("Gemini returned an error for best purchase day:",f.error),{...f,explanation:f.error}):f.bestPurchaseDay&&f.paymentDueDate&&f.explanation?f:{bestPurchaseDay:"",paymentDueDate:"",explanation:"Não foi possível determinar o melhor dia para compra (resposta inválida da IA).",error:"Resposta inválida da IA."}}catch(a){console.error("Error fetching best purchase day advice from Gemini:",a);let i="Desculpe, não consegui determinar o melhor dia para compra no momento.";return a instanceof Error&&(i+=` Detalhe: ${a.message}`),{bestPurchaseDay:"",paymentDueDate:"",explanation:i,error:i}}},cue=async(t,e,n,r,a,i)=>{const s=Zle(t,e,n,r,a),u=await Ji(s,"spending_anomaly_category");return u?{timestamp:new Date().toISOString(),type:"spending_anomaly_category",content:u,related_category_id:i,is_read:!1}:null},fue=async(t,e,n,r,a,i,s)=>{const u=Jle(t,e,n,r,a,i),f=await Ji(u,"budget_overspend_projection");return f?{timestamp:new Date().toISOString(),type:"budget_overspend_projection",content:f,related_category_id:s,is_read:!1}:null},due=async(t,e,n)=>{const r=Qle(t,e.map(i=>({description:i.description,amount:i.amount,type:i.type,frequency:i.frequency,category_id:i.category_id})),n),a=await Ji(r,"recurring_payment_candidate");return a?{timestamp:new Date().toISOString(),type:"recurring_payment_candidate",content:a,is_read:!1}:null},hue=async(t,e,n,r)=>{const a=eue(t,e.map(s=>({id:s.id,name:s.name,type:s.type})),n.map(s=>({id:s.id,name:s.name,goal_amount:s.goal_amount})),r),i=await Ji(a,"saving_opportunity_suggestion");return i?{timestamp:new Date().toISOString(),type:"saving_opportunity_suggestion",content:i,is_read:!1}:null},mue=async(t,e,n,r)=>{const a=tue(t,e,n),i=await Ji(a,"unusual_transaction_value",t.category_id);return i?{timestamp:new Date().toISOString(),type:"unusual_transaction_value",content:i,related_transaction_id:t.id,related_category_id:t.category_id,is_read:!1}:null},pue=async(t,e)=>{const n=nue(t,e),r=await Ji(n,"cash_flow_projection");return r?{timestamp:new Date().toISOString(),type:"cash_flow_projection",content:r,is_read:!1}:{timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível gerar uma projeção de fluxo de caixa com os dados atuais.",is_read:!1}},gue=async t=>{if(!Cn||!ga())return{timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para explicar estratégia de dívida.",related_debt_strategy:t,is_read:!1};const e=rue(t),n=await Ji(e,"debt_strategy_explanation");return n?{timestamp:new Date().toISOString(),type:"debt_strategy_explanation",content:n,related_debt_strategy:t,is_read:!1}:{timestamp:new Date().toISOString(),type:"error_message",content:`Não foi possível obter uma explicação para a estratégia ${t} no momento.`,related_debt_strategy:t,is_read:!1}},vue=async(t,e,n)=>{if(!Cn||!ga())return{timestamp:new Date().toISOString(),type:"error_message",content:"AI Coach desativado ou API Key não configurada para resumir projeção de dívida.",is_read:!1};const r={...n},a=aue(t,e,r),i=await Ji(a,"debt_projection_summary");return i?{timestamp:new Date().toISOString(),type:"debt_projection_summary",content:i,related_debt_strategy:t.strategy,is_read:!1}:{timestamp:new Date().toISOString(),type:"error_message",content:"Não foi possível obter um resumo da projeção de dívida no momento.",is_read:!1}},yue=(t,e,n)=>{const r=new Date(t+"T00:00:00");switch(e){case"daily":r.setDate(r.getDate()+1);break;case"weekly":r.setDate(r.getDate()+7);break;case"monthly":r.setMonth(r.getMonth()+1);break;case"yearly":r.setFullYear(r.getFullYear()+1);break;case"custom_days":r.setDate(r.getDate()+(n||1));break}return dt(r)},bue=({creditCards:t,installmentPurchases:e,aiConfig:n,onAddCreditCard:r,onUpdateCreditCard:a,onDeleteCreditCard:i,onAddInstallmentPurchase:s,onUpdateInstallmentPurchase:u,onDeleteInstallmentPurchase:f,onMarkInstallmentPaid:c,onPayMonthlyInstallments:h,isPrivacyModeEnabled:p})=>{const{addToast:y}=eI(),[_,w]=j.useState(!1),[A,T]=j.useState(null),[k,M]=j.useState(!1),[E,D]=j.useState(null),[C,O]=j.useState(null),[P,I]=j.useState(!1),[U,V]=j.useState(null),[$,H]=j.useState(!1),[Z,Y]=j.useState(null),B=()=>{T(null),w(!0)},L=ee=>{T(ee),w(!0)},F=ee=>{A?a({...ee,user_id:A.user_id,created_at:A.created_at,updated_at:new Date().toISOString()}):r(ee)},W=ee=>{O(ee),D(null),M(!0)},ie=(ee,se)=>{O(se),D(ee),M(!0)},q=ee=>{E?u({...ee,user_id:E.user_id,created_at:E.created_at,updated_at:new Date().toISOString()}):s(ee)},G=j.useCallback(async ee=>{if(!n.isEnabled||n.apiKeyStatus!=="available"){y("AI Coach desativado ou API Key indisponível.","warning");return}const se=t.find(me=>me.id===ee);if(!se)return;Y(se),H(!0),I(!0),V(null);const be=await uue({name:se.name,closing_day:se.closing_day,due_day:se.due_day},dt());V(be),H(!1),be!=null&&be.error&&y(be.explanation||"Erro ao buscar sugestão da IA.","error")},[n,t,y]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Cartões de Crédito"}),b.jsxs(ye,{onClick:B,variant:"primary",children:[b.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Novo Cartão"]})]}),t.length>0?b.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(ee=>b.jsx(aee,{card:ee,installmentPurchases:e.filter(se=>se.credit_card_id===ee.id),onEditCard:L,onDeleteCard:i,onAddInstallmentPurchase:W,onEditInstallmentPurchase:ie,onDeleteInstallmentPurchase:f,onMarkInstallmentPaid:c,onGetBestPurchaseDay:G,onPayMonthlyInstallments:h,isAIFeatureEnabled:n.isEnabled&&n.apiKeyStatus==="available",isPrivacyModeEnabled:p},ee.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhum cartão de crédito cadastrado."}),b.jsx(iee,{isOpen:_,onClose:()=>w(!1),onSave:F,existingCard:A}),C&&b.jsx(oee,{isOpen:k,onClose:()=>M(!1),onSave:q,creditCard:C,existingPurchase:E}),b.jsx(see,{isOpen:P,onClose:()=>I(!1),advice:U,isLoading:$,cardName:Z==null?void 0:Z.name})]})},ZL=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h13.5m-13.5 4.5h13.5m-13.5 4.5h13.5m3-13.5V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v3.75m13.5 0v3.75m-13.5-3.75v3.75m1.5-9V3.75c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125V5.25m-3 0h3m6 0v2.25m0 0v1.5m0 0v1.5m0 0V15m0 0v-1.5m0 0V9.75M7.5 5.25h9M7.5 12h9m-9 4.5h9M5.25 19.5h13.5a2.25 2.25 0 0 0 2.25-2.25V5.25A2.25 2.25 0 0 0 16.5 3H7.5A2.25 2.25 0 0 0 5.25 5.25v12a2.25 2.25 0 0 0 2.25 2.25Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h-3m3 0V12m0 0v-2.25"})]}),xue=({moneyBox:t,balance:e,onEdit:n,onDelete:r,onOpenTransactionModal:a,onOpenHistoryModal:i,isPrivacyModeEnabled:s,hasTransactions:u})=>{const f=t.goal_amount&&t.goal_amount>0?Math.min(e/t.goal_amount*100,100):0,c=t.color?{borderLeftColor:t.color,borderLeftWidth:"4px"}:{},h=t.color?{backgroundColor:t.color}:{backgroundColor:"var(--color-primary)"};return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",style:c,children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[b.jsx(ZL,{className:"w-6 h-6",style:{color:t.color||"currentColor"}}),b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name})]}),b.jsx("p",{className:"text-2xl font-bold",style:{color:t.color||"var(--color-primary)"},children:pe(e,"BRL","pt-BR",s)}),t.goal_amount&&t.goal_amount>0&&b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Meta: ",pe(t.goal_amount,"BRL","pt-BR",s)]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[b.jsxs("div",{className:"flex space-x-1",children:[b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Caixinha",className:"!p-1.5",children:b.jsx(Jr,{className:"w-4 h-4"})}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Caixinha",className:"!p-1.5",disabled:u,title:u?"Não pode excluir caixinhas com transações":"Excluir caixinha",children:b.jsx(Zr,{className:`w-4 h-4 ${u?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>i(t),"aria-label":"Ver Histórico",className:"text-xs !px-2 !py-1",children:"Histórico"})]})]}),t.goal_amount&&t.goal_amount>0&&b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:b.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${f}%`,...h}})}),b.jsxs("div",{className:"flex justify-start space-x-2 pt-1",children:[b.jsxs(ye,{size:"sm",variant:"secondary",onClick:()=>a(t,yr.DEPOSIT),className:"!bg-opacity-80 dark:!bg-opacity-80",style:t.color?{backgroundColor:t.color}:{},children:[b.jsx(Yn,{className:"w-4 h-4 mr-1"})," Depositar"]}),b.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>a(t,yr.WITHDRAWAL),className:"border border-borderBase dark:border-borderBaseDark",children:"Sacar"})]})]})},hh=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6"],_ue=({isOpen:t,onClose:e,onSave:n,existingMoneyBox:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState(""),[f,c]=j.useState(hh[0]),[h,p]=j.useState({});j.useEffect(()=>{var w;r?(i(r.name),u(((w=r.goal_amount)==null?void 0:w.toString())||""),c(r.color||hh[0])):(i(""),u(""),c(hh[0])),p({})},[r,t]);const y=()=>{const w={};return a.trim()||(w.name="Nome da caixinha é obrigatório."),s&&(isNaN(parseFloat(s))||parseFloat(s)<0)&&(w.goalAmount="Meta deve ser um número positivo ou vazio."),p(w),Object.keys(w).length===0},_=()=>{if(!y())return;const w={name:a.trim(),goal_amount:s?parseFloat(s):void 0,icon:"piggy-bank",color:f},A=r?{...w,id:r.id}:w;n(A),e()};return b.jsx(bn,{isOpen:t,onClose:e,title:r?"Editar Caixinha":"Nova Caixinha",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(Ie,{label:"Nome da Caixinha",id:"moneyBoxName",value:a,onChange:w=>i(w.target.value),error:h.name,placeholder:"Ex: Reserva de Emergência, Viagem"}),b.jsx(Ie,{label:"Meta de Valor (Opcional)",id:"moneyBoxGoal",type:"number",step:"0.01",value:s,onChange:w=>u(w.target.value),error:h.goalAmount,placeholder:"Ex: 1000.00"}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"moneyBoxColor",className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor de Destaque"}),b.jsx("div",{className:"flex space-x-2",children:hh.map(w=>b.jsx("button",{type:"button",onClick:()=>c(w),className:`w-8 h-8 rounded-full border-2 ${f===w?"border-primary dark:border-primaryDark ring-2 ring-primary dark:ring-primaryDark ring-offset-2 dark:ring-offset-surfaceDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:w},"aria-label":`Selecionar cor ${w}`,"aria-pressed":f===w},w))})]}),h.form&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:h.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(ye,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(ye,{variant:"primary",onClick:_,children:"Salvar Caixinha"})]})]})})},Sue=({isOpen:t,onClose:e,onSave:n,moneyBox:r,accounts:a,transactionType:i})=>{const[s,u]=j.useState(""),[f,c]=j.useState(dt()),[h,p]=j.useState(""),[y,_]=j.useState(""),[w,A]=j.useState(!1),[T,k]=j.useState({});j.useEffect(()=>{t&&(u(""),c(dt()),p(""),_(a.length>0?a[0].id:""),A(!1),k({}))},[t,a]);const M=()=>{const O={};return(!s||parseFloat(s)<=0)&&(O.amount="Valor deve ser positivo."),f||(O.date="Data é obrigatória."),w&&!y&&(O.linkedAccountId="Conta para vínculo é obrigatória."),k(O),Object.keys(O).length===0},E=()=>{if(!M())return;const O={money_box_id:r.id,type:i,amount:parseFloat(s),date:f,description:h.trim()||void 0};n(O,w,y),e()},D=i===yr.DEPOSIT?"Depositar na Caixinha":"Sacar da Caixinha",C=i===yr.DEPOSIT?"Registrar como despesa na conta:":"Registrar como receita na conta:";return b.jsx(bn,{isOpen:t,onClose:e,title:`${D}: ${r.name}`,children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(Ie,{label:"Valor",id:"mbAmount",type:"number",step:"0.01",value:s,onChange:O=>u(O.target.value),error:T.amount,required:!0}),b.jsx(Ie,{label:"Data",id:"mbDate",type:"date",value:f,onChange:O=>c(O.target.value),error:T.date,required:!0}),b.jsx(Ie,{label:"Descrição (Opcional)",id:"mbDescription",type:"text",value:h,onChange:O=>p(O.target.value)}),a.length>0&&b.jsxs("div",{className:"pt-2",children:[b.jsxs("label",{className:"flex items-center space-x-2",children:[b.jsx("input",{type:"checkbox",checked:w,onChange:O=>A(O.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark"}),b.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:i===yr.DEPOSIT?"Vincular a uma despesa de conta?":"Vincular a uma receita em conta?"})]}),w&&b.jsx(Tt,{containerClassName:"mt-2",label:C,id:"mbLinkedAccount",options:a.map(O=>({value:O.id,label:O.name})),value:y,onChange:O=>_(O.target.value),error:T.linkedAccountId,placeholder:"Selecione uma conta"})]}),T.form&&b.jsx("p",{className:"text-sm text-destructive dark:text-destructiveDark/90",children:T.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(ye,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(ye,{type:"button",variant:"primary",onClick:E,children:i===yr.DEPOSIT?"Depositar":"Sacar"})]})]})})},wue=({isOpen:t,onClose:e,moneyBox:n,transactions:r,onDeleteTransaction:a,isPrivacyModeEnabled:i})=>{const s=r.filter(u=>u.money_box_id===n.id).sort((u,f)=>new Date(f.date).getTime()-new Date(u.date).getTime());return b.jsx(bn,{isOpen:t,onClose:e,title:`Histórico: ${n.name}`,size:"lg",children:s.length===0?b.jsx("p",{className:"text-textMuted dark:text-textMutedDark text-center py-4",children:"Nenhuma transação nesta caixinha ainda."}):b.jsx("ul",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:s.map(u=>{const f=u.type===yr.DEPOSIT,c=f?"text-secondary dark:text-secondaryDark":"text-destructive dark:text-destructiveDark",h=f?"+":"-";return b.jsx("li",{className:"p-3 bg-surface/50 dark:bg-surfaceDark/50 rounded-md",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsxs("p",{className:`font-semibold ${c}`,children:[h," ",pe(u.amount,"BRL","pt-BR",i)]}),b.jsx("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:Hn(u.date)}),u.description&&b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark italic",children:u.description}),u.linked_transaction_id&&b.jsx("p",{className:"text-xs text-neutral dark:text-neutralDark",children:"(Vinculado a uma transação principal)"})]}),b.jsx("button",{onClick:()=>{window.confirm(`Excluir esta transação da caixinha? ${u.linked_transaction_id?"\\nA transação principal vinculada NÃO será excluída automaticamente por esta ação.":""}`)&&a(u.id,u.linked_transaction_id)},className:"text-xs text-destructive dark:text-destructiveDark hover:underline","aria-label":"Excluir transação da caixinha",title:"Excluir transação da caixinha",children:"Excluir"})]})},u.id)})})})},Tue=({moneyBoxes:t,moneyBoxTransactions:e,accounts:n,onAddMoneyBox:r,onUpdateMoneyBox:a,onDeleteMoneyBox:i,onAddMoneyBoxTransaction:s,onDeleteMoneyBoxTransaction:u,calculateMoneyBoxBalance:f,isPrivacyModeEnabled:c})=>{const[h,p]=j.useState(!1),[y,_]=j.useState(null),[w,A]=j.useState(!1),[T,k]=j.useState(null),[M,E]=j.useState(yr.DEPOSIT),[D,C]=j.useState(!1),[O,P]=j.useState(null),I=()=>{_(null),p(!0)},U=Y=>{_(Y),p(!0)},V=(Y,B)=>{k(Y),E(B),A(!0)},$=Y=>{P(Y),C(!0)},H=Y=>{i(Y)},Z=j.useMemo(()=>t.reduce((Y,B)=>Y+f(B.id),0),[t,f]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Minhas Caixinhas"}),t.length>0&&b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total guardado: ",b.jsx("span",{className:"font-semibold text-secondary dark:text-secondaryDark",children:pe(Z,"BRL","pt-BR",c)})]})]}),b.jsxs(ye,{onClick:I,variant:"primary",children:[b.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Caixinha"]})]}),t.length>0?b.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(Y=>b.jsx(xue,{moneyBox:Y,balance:f(Y.id),onEdit:U,onDelete:H,onOpenTransactionModal:V,onOpenHistoryModal:$,isPrivacyModeEnabled:c,hasTransactions:e.some(B=>B.money_box_id===Y.id)},Y.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma caixinha criada. Crie uma para começar a guardar dinheiro!"}),b.jsx(_ue,{isOpen:h,onClose:()=>p(!1),onSave:y?a:r,existingMoneyBox:y}),T&&b.jsx(Sue,{isOpen:w,onClose:()=>A(!1),onSave:s,moneyBox:T,accounts:n,transactionType:M}),O&&b.jsx(wue,{isOpen:D,onClose:()=>C(!1),moneyBox:O,transactions:e,onDeleteTransaction:u,isPrivacyModeEnabled:c})]})},e1=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})}),Aue=t=>{switch(t){case"PLANNED":return{text:"Planejado",colorClasses:"bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300"};case"CONSIDERING":return{text:"Considerando",colorClasses:"bg-gray-100 text-gray-700 dark:bg-gray-700/30 dark:text-gray-300"};case"ACHIEVABLE_SOON":return{text:"Viável em Breve",colorClasses:"bg-green-100 text-green-700 dark:bg-green-700/30 dark:text-green-300"};case"NOT_RECOMMENDED_NOW":return{text:"Adiar Compra",colorClasses:"bg-red-100 text-red-700 dark:bg-red-700/30 dark:text-red-300"};case"AI_ANALYZING":return{text:"Analisando...",colorClasses:"bg-yellow-100 text-yellow-700 dark:bg-yellow-700/30 dark:text-yellow-300 animate-pulse"};default:return{text:"Desconhecido",colorClasses:"bg-gray-200 text-gray-800"}}},Eue={low:"Baixa",medium:"Média",high:"Alta"},Cue=({purchase:t,onEdit:e,onDelete:n,onAnalyze:r,isPrivacyModeEnabled:a})=>{const{name:i,estimated_cost:s,priority:u,notes:f,status:c,created_at:h,ai_analysis:p,ai_analyzed_at:y}=t,_=Aue(c);return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex flex-col space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[b.jsx(e1,{className:"w-5 h-5 text-primary dark:text-primaryDark flex-shrink-0"}),b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:i})]}),b.jsx("p",{className:"text-xl font-bold text-primary dark:text-primaryDark",children:pe(s,"BRL","pt-BR",a)}),b.jsxs("div",{className:"flex items-center space-x-2 text-xs text-textMuted dark:text-textMutedDark mt-0.5",children:[b.jsxs("span",{children:["Prioridade: ",Eue[u]]}),b.jsx("span",{children:"•"}),b.jsxs("span",{children:["Criado em: ",Hn(h)]})]})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[b.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${_.colorClasses}`,children:_.text}),b.jsxs("div",{className:"flex space-x-1 mt-1",children:[b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>e(t),"aria-label":"Editar Compra Futura",className:"!p-1.5",children:b.jsx(Jr,{className:"w-4 h-4"})}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>n(t.id),"aria-label":"Excluir Compra Futura",className:"!p-1.5",children:b.jsx(Zr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})]}),f&&b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark italic border-t border-borderBase/30 dark:border-borderBaseDark/30 pt-2 mt-2",children:["Notas: ",f]}),p&&b.jsxs("div",{className:"bg-primary/5 dark:bg-primaryDark/10 p-3 rounded-md mt-2 border-l-4 border-primary dark:border-primaryDark",children:[b.jsxs("p",{className:"text-sm font-semibold text-primary dark:text-primaryDark mb-1",children:["Análise da IA (",y?Hn(y,"pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Recente","):"]}),b.jsx("p",{className:"text-sm text-textBase dark:text-textBaseDark",children:p})]}),b.jsx("div",{className:"pt-2 border-t border-borderBase/30 dark:border-borderBaseDark/30 mt-auto",children:b.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>r(t.id),disabled:c==="AI_ANALYZING",className:"w-full sm:w-auto",children:[b.jsx(qo,{className:"w-4 h-4 mr-1.5"}),c==="AI_ANALYZING"?"Analisando...":"Analisar com IA"]})})]})},Tf=({label:t,id:e,error:n,className:r,containerClassName:a,...i})=>b.jsxs("div",{className:a,children:[t&&b.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:t}),b.jsx("textarea",{id:e,className:`block w-full px-3 py-2 text-textBase bg-surface border border-borderBase rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm disabled:opacity-50 disabled:bg-neutral/10 dark:text-textBaseDark dark:bg-surfaceDark dark:border-borderBaseDark dark:focus:ring-primaryDark dark:focus:border-primaryDark dark:disabled:bg-neutralDark/20 dark:placeholder-textMutedDark/60 ${n?"border-destructive dark:border-destructiveDark focus:ring-destructive dark:focus:ring-destructiveDark focus:border-destructive dark:focus:border-destructiveDark":""} ${r||""}`,...i}),n&&b.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:n})]}),kue=[{value:"low",label:"Baixa"},{value:"medium",label:"Média"},{value:"high",label:"Alta"}],Oue=({isOpen:t,onClose:e,onSave:n,existingPurchase:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState(""),[f,c]=j.useState("medium"),[h,p]=j.useState(""),[y,_]=j.useState({});j.useEffect(()=>{t&&(r?(i(r.name),u(r.estimated_cost.toString()),c(r.priority),p(r.notes||"")):(i(""),u(""),c("medium"),p("")),_({}))},[r,t]);const w=()=>{const T={};a.trim()||(T.name="Nome do item é obrigatório.");const k=parseFloat(s);return(isNaN(k)||k<=0)&&(T.estimatedCost="Custo estimado deve ser um número positivo."),_(T),Object.keys(T).length===0},A=()=>{if(!w())return;const T={name:a.trim(),estimated_cost:parseFloat(s),priority:f,notes:h.trim()||void 0},k=r?{...T,id:r.id}:T;n(k),e()};return b.jsx(bn,{isOpen:t,onClose:e,title:r?"Editar Compra Futura":"Nova Compra Futura",size:"md",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(Ie,{label:"Nome do Item/Objetivo",id:"fpName",value:a,onChange:T=>i(T.target.value),error:y.name,placeholder:"Ex: Novo Celular, Viagem para a Praia",required:!0}),b.jsx(Ie,{label:"Custo Estimado (R$)",id:"fpEstimatedCost",type:"number",step:"0.01",value:s,onChange:T=>u(T.target.value),error:y.estimatedCost,placeholder:"Ex: 2500.00",required:!0}),b.jsx(Tt,{label:"Prioridade",id:"fpPriority",options:kue,value:f,onChange:T=>c(T.target.value)}),b.jsx(Tf,{label:"Notas (Opcional)",id:"fpNotes",value:h,onChange:T=>p(T.target.value),rows:3,placeholder:"Detalhes adicionais, link do produto, etc."}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(ye,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(ye,{type:"button",variant:"primary",onClick:A,children:r?"Salvar Alterações":"Adicionar Compra"})]})]})})},Mue=[{value:"all",label:"Todas Prioridades"},{value:"high",label:"Alta"},{value:"medium",label:"Média"},{value:"low",label:"Baixa"}],Due=[{value:"all",label:"Todos Status"},{value:"PLANNED",label:"Planejado"},{value:"CONSIDERING",label:"Considerando"},{value:"ACHIEVABLE_SOON",label:"Viável em Breve"},{value:"NOT_RECOMMENDED_NOW",label:"Adiar Compra"},{value:"AI_ANALYZING",label:"Analisando"}],Nue=({futurePurchases:t,onAddFuturePurchase:e,onUpdateFuturePurchase:n,onDeleteFuturePurchase:r,onAnalyzeFuturePurchase:a,isPrivacyModeEnabled:i})=>{const[s,u]=j.useState(!1),[f,c]=j.useState(null),[h,p]=j.useState("all"),[y,_]=j.useState("all"),[w,A]=j.useState("date_desc"),T=()=>{c(null),u(!0)},k=E=>{c(E),u(!0)},M=j.useMemo(()=>{let E=[...t];return h!=="all"&&(E=E.filter(D=>D.priority===h)),y!=="all"&&(E=E.filter(D=>D.status===y)),E.sort((D,C)=>{switch(w){case"cost_desc":return C.estimated_cost-D.estimated_cost;case"cost_asc":return D.estimated_cost-C.estimated_cost;case"date_asc":return new Date(D.created_at).getTime()-new Date(C.created_at).getTime();case"date_desc":default:return new Date(C.created_at).getTime()-new Date(D.created_at).getTime()}}),E},[t,h,y,w]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(e1,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Compras Futuras & Objetivos"})]}),b.jsxs(ye,{onClick:T,variant:"primary",children:[b.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Adicionar Compra Desejada"]})]}),t.length>0&&b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-4 bg-surface dark:bg-surfaceDark rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx(Tt,{label:"Filtrar por Prioridade",options:Mue,value:h,onChange:E=>p(E.target.value)}),b.jsx(Tt,{label:"Filtrar por Status",options:Due,value:y,onChange:E=>_(E.target.value)}),b.jsx(Tt,{label:"Ordenar Por",options:[{value:"date_desc",label:"Mais Recentes Primeiro"},{value:"date_asc",label:"Mais Antigos Primeiro"},{value:"cost_desc",label:"Maior Custo"},{value:"cost_asc",label:"Menor Custo"}],value:w,onChange:E=>A(E.target.value)})]}),M.length>0?b.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(E=>b.jsx(Cue,{purchase:E,onEdit:k,onDelete:r,onAnalyze:a,isPrivacyModeEnabled:i},E.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:t.length===0?"Nenhuma compra futura planejada. Adicione uma para começar!":"Nenhuma compra encontrada com os filtros aplicados."}),b.jsx(Oue,{isOpen:s,onClose:()=>u(!1),onSave:f?E=>n({...E,id:f.id}):e,existingPurchase:f})]})},Pue=({allData:t,userPreferencesToExport:e,activeProfileName:n,user:r})=>{const a=async()=>{if(!r){alert("Nenhum usuário logado para exportar dados.");return}const i=n?n.replace(/\s+/g,"_"):"usuario_desconhecido",s={profileName:n||"N/A",exportedAt:new Date().toISOString(),supabaseSchemaVersion:"2.0",userPreferences:e,...t},u=JSON.stringify(s,null,2),f=new Blob([u],{type:"application/json"}),c=URL.createObjectURL(f),h=document.createElement("a");h.href=c,h.download=`financeiro_pessoal_${i}_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(c)};return b.jsxs("div",{className:"space-y-8 p-4 md:p-6",children:[b.jsxs("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:["Gerenciamento de Dados: ",b.jsx("span",{className:"text-primary dark:text-primaryDark",children:n})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Exportar Dados"}),b.jsxs("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:["Faça um backup completo dos seus dados (",n,") em um arquivo JSON."]}),b.jsx(ye,{onClick:a,variant:"secondary",children:"Exportar Todos os Dados (.json)"})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Importar Dados"}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark mb-4",children:"A importação de dados a partir de um arquivo JSON não é suportada nesta versão do aplicativo. Para restaurar dados, considere utilizar ferramentas de gerenciamento de banco de dados diretamente com o Supabase, se aplicável."})]}),e&&b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-lg shadow dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Backup Automático em Arquivo (Local)"}),b.jsxs("p",{className:"text-textMuted dark:text-textMutedDark",children:[e.ai_auto_backup_enabled?"Backup automático local em arquivo está ATIVADO.":"Backup automático local em arquivo está DESATIVADO.",b.jsx("span",{className:"block text-xs",children:"Isso é um backup extra em arquivo JSON no seu dispositivo, independente da sincronização com o Supabase."})]})]})]})},Rue=({tag:t,transactionCount:e,onEdit:n,onDelete:r})=>{t.color&&(t.color,t.color),t.color,t.color;const i=(s=>{if(!s)return"text-textBase dark:text-textBaseDark";const u=parseInt(s.slice(1,3),16),f=parseInt(s.slice(3,5),16),c=parseInt(s.slice(5,7),16);return(.299*u+.587*f+.114*c)/255>.5?"text-neutral-800":"text-white"})(t.color);return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-3 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 flex justify-between items-center",children:[b.jsx("div",{className:"flex items-center",children:b.jsx("span",{className:`text-xs font-semibold mr-3 px-2.5 py-1 rounded-full inline-block border
                        ${t.color?"":"bg-neutral/10 dark:bg-neutralDark/20 border-neutral/30 dark:border-neutralDark/40"}`,style:t.color?{backgroundColor:t.color,borderColor:t.color}:{},children:b.jsx("span",{className:t.color?i:"text-textBase dark:text-textBaseDark",children:t.name})})}),b.jsxs("div",{className:"flex items-center space-x-1",children:[e>0&&b.jsxs("span",{className:"text-xs text-textMuted dark:text-textMutedDark mr-2",children:["(",e," trans.)"]}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Tag",className:"!p-1.5",children:b.jsx(Jr,{className:"w-4 h-4"})}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Tag",className:"!p-1.5",disabled:e>0,title:e>0?"Não é possível excluir tags em uso":"Excluir Tag",children:b.jsx(Zr,{className:`w-4 h-4 ${e>0?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]})},OR=["#F87171","#FBBF24","#34D399","#60A5FA","#A78BFA","#F472B6","#A3A3A3"],Iue=({isOpen:t,onClose:e,onSave:n,existingTag:r,allTagNames:a=[]})=>{const[i,s]=j.useState(""),[u,f]=j.useState(void 0),[c,h]=j.useState("");j.useEffect(()=>{t&&(r?(s(r.name),f(r.color)):(s(""),f(OR[0])),h(""))},[r,t]);const p=()=>{const y=i.trim();if(!y){h("Nome da tag é obrigatório.");return}if(a.filter(T=>r?T.toLowerCase()!==r.name.toLowerCase():!0).includes(y.toLowerCase())){h("Já existe uma tag com este nome.");return}h("");const w={name:y,color:u},A=r?{...w,id:r.id}:w;n(A),e()};return b.jsx(bn,{isOpen:t,onClose:e,title:r?"Editar Tag":"Nova Tag",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(Ie,{label:"Nome da Tag",id:"tagName",value:i,onChange:y=>s(y.target.value),error:c,placeholder:"Ex: Viagem, Pessoal, Urgente"}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-textMuted dark:text-textMutedDark mb-1",children:"Cor (Opcional)"}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[OR.map(y=>b.jsx("button",{type:"button",onClick:()=>f(y),className:`w-7 h-7 rounded-full border-2 transition-all
                            ${u===y?"ring-2 ring-offset-2 dark:ring-offset-surfaceDark border-primary dark:border-primaryDark ring-primary dark:ring-primaryDark":"border-transparent hover:border-neutral/50 dark:hover:border-neutralDark/50"}`,style:{backgroundColor:y},"aria-label":`Selecionar cor ${y}`,"aria-pressed":u===y},y)),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>f(void 0),className:`h-7 px-2 ${u?"":"bg-neutral/20 dark:bg-neutralDark/30"}`,title:"Remover cor",children:"Sem Cor"})]})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(ye,{variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(ye,{variant:"primary",onClick:p,children:"Salvar"})]})]})})},jue=({tags:t,transactions:e,onAddTag:n,onUpdateTag:r,onDeleteTag:a})=>{const[i,s]=j.useState(!1),[u,f]=j.useState(null),c=()=>{f(null),s(!0)},h=_=>{f(_),s(!0)},p=_=>e.filter(w=>{var A;return(A=w.tag_ids)==null?void 0:A.includes(_)}).length,y=t.map(_=>_.name);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Tags"}),b.jsxs(ye,{onClick:c,variant:"primary",children:[b.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Tag"]})]}),t.length>0?b.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(_=>b.jsx(Rue,{tag:_,transactionCount:p(_.id),onEdit:h,onDelete:a},_.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma tag cadastrada. Crie tags para organizar melhor suas transações!"}),b.jsx(Iue,{isOpen:i,onClose:()=>s(!1),onSave:u?r:n,existingTag:u,allTagNames:y})]})},Am=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),$x=({rt:t,accounts:e,categories:n,onEdit:r,onDelete:a,onTogglePause:i,isPrivacyModeEnabled:s})=>{const u=e.find(y=>y.id===t.account_id),f=t.category_id?n.find(y=>y.id===t.category_id):null;let c="text-textBase dark:text-textBaseDark",h="";t.type===ve.INCOME?(c="text-secondary dark:text-secondaryDark",h="+"):t.type===ve.EXPENSE&&(c="text-destructive dark:text-destructiveDark",h="-");const p={daily:"Diariamente",weekly:"Semanalmente",monthly:"Mensalmente",yearly:"Anualmente",custom_days:`A cada ${t.custom_interval_days} dias`};return b.jsx("li",{className:`bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 ${t.is_paused?"opacity-60":""}`,children:b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[b.jsx(Am,{className:`w-5 h-5 ${t.is_paused?"text-textMuted dark:text-textMutedDark":"text-primary dark:text-primaryDark"}`}),b.jsxs("span",{className:`font-semibold text-lg ${c}`,children:[h,pe(t.amount,"BRL","pt-BR",s)]}),b.jsx("h3",{className:"text-md font-medium text-textBase dark:text-textBaseDark",children:t.description})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark ml-8",children:[p[t.frequency]," • Próximo: ",Hn(t.next_due_date),t.end_date&&` &bull; Termina em: ${Hn(t.end_date)}`,t.remaining_occurrences!==void 0&&t.occurrences&&` &bull; (${t.remaining_occurrences}/${t.occurrences} restantes)`]}),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark ml-8",children:["Conta: ",(u==null?void 0:u.name)||"N/A",f&&` &bull; Categoria: ${f.name}`,t.is_paused&&b.jsx("span",{className:"font-semibold text-amber-600 dark:text-amber-500",children:" (Pausado)"})]}),t.notes&&b.jsxs("p",{className:"text-xs italic text-neutral dark:text-neutralDark ml-8 mt-1",children:["Nota: ",t.notes]})]}),b.jsxs("div",{className:"flex space-x-2 self-end sm:self-center",children:[b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(t),"aria-label":"Editar Recorrência",children:b.jsx(Jr,{className:"w-4 h-4"})}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>a(t.id),"aria-label":"Excluir Recorrência",children:b.jsx(Zr,{className:"w-4 h-4 text-destructive dark:text-destructiveDark"})})]})]})})},Lue=[{value:"daily",label:"Diariamente"},{value:"weekly",label:"Semanalmente"},{value:"monthly",label:"Mensalmente"},{value:"yearly",label:"Anualmente"},{value:"custom_days",label:"Dias Personalizados"}],$ue=(t,e,n,r)=>dt(new Date(t+"T00:00:00")),Bue=({isOpen:t,onClose:e,onSave:n,accounts:r,categories:a,existingRT:i})=>{const[s,u]=j.useState(""),[f,c]=j.useState(""),[h,p]=j.useState(ve.EXPENSE),[y,_]=j.useState(""),[w,A]=j.useState(""),[T,k]=j.useState(""),[M,E]=j.useState("monthly"),[D,C]=j.useState("30"),[O,P]=j.useState(dt()),[I,U]=j.useState(""),[V,$]=j.useState(""),[H,Z]=j.useState(!1),[Y,B]=j.useState(""),[L,F]=j.useState({});j.useEffect(()=>{var G,ee,se,be,me,Ae;t&&(i?(u(i.description),c(i.amount.toString()),p(i.type),_(i.category_id||""),A(i.account_id),k(i.to_account_id||""),E(i.frequency),C(((G=i.custom_interval_days)==null?void 0:G.toString())||"30"),P(i.start_date),U(i.end_date||""),$(((ee=i.occurrences)==null?void 0:ee.toString())||""),Z(i.is_paused||!1),B(i.notes||"")):(u(""),c(""),p(ve.EXPENSE),_(((se=a.filter(mt=>mt.type===ve.EXPENSE)[0])==null?void 0:se.id)||""),A(((be=r[0])==null?void 0:be.id)||""),k(((me=r[1])==null?void 0:me.id)||((Ae=r[0])==null?void 0:Ae.id)||""),E("monthly"),C("30"),P(dt()),U(""),$(""),Z(!1),B("")),F({}))},[i,t,r,a]);const W=()=>{const G={};return s.trim()||(G.description="Descrição é obrigatória."),(!f||parseFloat(f)<=0)&&(G.amount="Valor deve ser positivo."),h!==ve.TRANSFER&&!y&&(G.categoryId="Categoria é obrigatória."),w||(G.accountId="Conta é obrigatória."),h===ve.TRANSFER&&!T&&(G.toAccountId="Conta de destino é obrigatória."),h===ve.TRANSFER&&w===T&&(G.toAccountId="Contas não podem ser iguais."),O||(G.startDate="Data de início é obrigatória."),I&&O>I&&(G.endDate="Data final deve ser após data inicial."),V&&parseInt(V)<=0&&(G.occurrences="Ocorrências deve ser positivo."),M==="custom_days"&&(!D||parseInt(D)<=0)&&(G.customIntervalDays="Intervalo de dias deve ser positivo."),F(G),Object.keys(G).length===0},ie=()=>{if(!W())return;const G=V?parseInt(V):void 0,ee={description:s.trim(),amount:parseFloat(f),type:h,category_id:h===ve.TRANSFER?void 0:y,account_id:w,to_account_id:h===ve.TRANSFER?T:void 0,frequency:M,custom_interval_days:M==="custom_days"?parseInt(D):void 0,start_date:O,end_date:I||void 0,occurrences:G,remaining_occurrences:i!=null&&i.id?i.remaining_occurrences:G,next_due_date:i!=null&&i.id?i.next_due_date:$ue(O),last_posted_date:i==null?void 0:i.last_posted_date,is_paused:H||!1,notes:Y.trim()||void 0},se=i?{...ee,id:i.id}:ee;n(se),e()},q=a.filter(G=>G.type===h);return b.jsx(bn,{isOpen:t,onClose:e,title:i?"Editar Transação Recorrente":"Nova Transação Recorrente",size:"lg",children:b.jsxs("form",{onSubmit:G=>{G.preventDefault(),ie()},className:"space-y-4",children:[b.jsx(Ie,{label:"Descrição",id:"rtDescription",value:s,onChange:G=>u(G.target.value),error:L.description,required:!0}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx(Ie,{label:"Valor",id:"rtAmount",type:"number",step:"0.01",value:f,onChange:G=>c(G.target.value),error:L.amount,required:!0}),b.jsx(Tt,{label:"Tipo",id:"rtType",options:Cm,value:h,onChange:G=>p(G.target.value)})]}),h!==ve.TRANSFER&&b.jsx(Tt,{label:"Categoria",id:"rtCategory",options:q.map(G=>({value:G.id,label:G.name})),value:y,onChange:G=>_(G.target.value),error:L.categoryId,placeholder:"Selecione uma categoria",disabled:q.length===0}),b.jsx(Tt,{label:h===ve.TRANSFER?"Conta de Origem":"Conta",id:"rtAccountId",options:r.map(G=>({value:G.id,label:G.name})),value:w,onChange:G=>A(G.target.value),error:L.accountId,placeholder:"Selecione uma conta",disabled:r.length===0}),h===ve.TRANSFER&&b.jsx(Tt,{label:"Conta de Destino",id:"rtToAccountId",options:r.map(G=>({value:G.id,label:G.name})),value:T,onChange:G=>k(G.target.value),error:L.toAccountId,placeholder:"Selecione conta de destino",disabled:r.length===0}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx(Tt,{label:"Frequência",id:"rtFrequency",options:Lue,value:M,onChange:G=>E(G.target.value)}),M==="custom_days"&&b.jsx(Ie,{label:"Intervalo (dias)",id:"rtCustomInterval",type:"number",min:"1",value:D,onChange:G=>C(G.target.value),error:L.customIntervalDays})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx(Ie,{label:"Data de Início",id:"rtStartDate",type:"date",value:O,onChange:G=>P(G.target.value),error:L.startDate,required:!0}),b.jsx(Ie,{label:"Data Final (Opcional)",id:"rtEndDate",type:"date",value:I,onChange:G=>U(G.target.value),error:L.endDate})]}),b.jsx(Ie,{label:"Número de Ocorrências (Opcional)",id:"rtOccurrences",type:"number",min:"1",value:V,onChange:G=>$(G.target.value),error:L.occurrences,placeholder:"Deixe em branco para indefinido (use Data Final)"}),b.jsx(Tf,{label:"Notas (Opcional)",id:"rtNotes",value:Y,onChange:G=>B(G.target.value),rows:2}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"rtIsPaused",checked:H,onChange:G=>Z(G.target.checked),className:"h-4 w-4 text-primary rounded border-neutral/50 focus:ring-primary dark:text-primaryDark dark:border-neutralDark/50 dark:focus:ring-primaryDark"}),b.jsx("label",{htmlFor:"rtIsPaused",className:"ml-2 block text-sm text-textMuted dark:text-textMutedDark",children:"Pausar esta recorrência"})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(ye,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(ye,{type:"submit",variant:"primary",children:i?"Salvar Alterações":"Criar Recorrência"})]})]})})},que=({recurringTransactions:t,accounts:e,categories:n,onAddRecurringTransaction:r,onUpdateRecurringTransaction:a,onDeleteRecurringTransaction:i,onProcessRecurringTransactions:s,isPrivacyModeEnabled:u})=>{const[f,c]=j.useState(!1),[h,p]=j.useState(null),[y,_]=j.useState(!1),[w,A]=j.useState(null),T=()=>{p(null),c(!0)},k=I=>{p(I),c(!0)},M=async()=>{_(!0),A("Processando...");try{const I=await s();I.errors.length>0?A(`Processamento concluído. ${I.count} transações lançadas. Erros: ${I.errors.join(", ")}`):I.count>0?A(`${I.count} transações recorrentes foram lançadas com sucesso!`):A("Nenhuma transação recorrente pendente para lançar.")}catch(I){A("Erro ao processar transações recorrentes."),console.error(I)}_(!1),setTimeout(()=>A(null),7e3)},E=j.useMemo(()=>[...t].sort((I,U)=>new Date(I.next_due_date).getTime()-new Date(U.next_due_date).getTime()),[t]),D=dt(),C=E.filter(I=>!I.is_paused&&I.next_due_date>=D),O=E.filter(I=>!I.is_paused&&I.next_due_date<D),P=E.filter(I=>I.is_paused);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Transações Recorrentes"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(ye,{onClick:M,variant:"secondary",disabled:y,children:y?"Processando...":"Lançar Pendentes"}),b.jsxs(ye,{onClick:T,variant:"primary",children:[b.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Nova Recorrência"]})]})]}),w&&b.jsx("div",{className:`p-3 rounded-md text-sm ${w.includes("Erro")||w.includes("Erros:")?"bg-destructive/10 text-destructiveDark":"bg-secondary/10 text-secondaryDark"}`,children:w}),t.length===0?b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma transação recorrente cadastrada."}):b.jsxs(b.Fragment,{children:[O.length>0&&b.jsxs("div",{children:[b.jsxs("h2",{className:"text-lg font-semibold text-destructive dark:text-destructiveDark mb-2",children:["Pendentes / Atrasadas (",O.length,")"]}),b.jsx("ul",{className:"space-y-3",children:O.map(I=>b.jsx($x,{rt:I,accounts:e,categories:n,onEdit:k,onDelete:i,isPrivacyModeEnabled:u},I.id))})]}),C.length>0&&b.jsxs("div",{children:[b.jsxs("h2",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mt-6 mb-2",children:["Próximas (",C.length,")"]}),b.jsx("ul",{className:"space-y-3",children:C.map(I=>b.jsx($x,{rt:I,accounts:e,categories:n,onEdit:k,onDelete:i,isPrivacyModeEnabled:u},I.id))})]}),P.length>0&&b.jsxs("div",{children:[b.jsxs("h2",{className:"text-lg font-semibold text-textMuted dark:text-textMutedDark mt-6 mb-2",children:["Pausadas (",P.length,")"]}),b.jsx("ul",{className:"space-y-3",children:P.map(I=>b.jsx($x,{rt:I,accounts:e,categories:n,onEdit:k,onDelete:i,isPrivacyModeEnabled:u},I.id))})]})]}),b.jsx(Bue,{isOpen:f,onClose:()=>c(!1),onSave:h?a:r,accounts:e,categories:n,existingRT:h})]})},Uue=({loan:t,repayments:e,accounts:n,creditCards:r,onEdit:a,onDelete:i,onRegisterRepayment:s,isPrivacyModeEnabled:u})=>{var k,M;const f=e.reduce((E,D)=>E+D.amount_paid,0),c=t.total_amount_to_reimburse-f;let h="PENDING",p="text-amber-600 dark:text-amber-500",y="bg-amber-100 dark:bg-amber-500/20",_="bg-amber-500";f>=t.total_amount_to_reimburse?(h="PAID",p="text-secondary dark:text-secondaryDark",y="bg-emerald-100 dark:bg-emerald-500/20",_="bg-secondary"):f>0&&(h="PARTIALLY_PAID",p="text-blue-600 dark:text-blue-500",y="bg-blue-100 dark:bg-blue-500/20",_="bg-blue-500");const w=t.total_amount_to_reimburse>0?Math.min(f/t.total_amount_to_reimburse*100,100):0,A=t.funding_source==="account"&&t.linked_account_id?(k=n.find(E=>E.id===t.linked_account_id))==null?void 0:k.name:null,T=t.funding_source==="creditCard"&&t.linked_credit_card_id?(M=r.find(E=>E.id===t.linked_credit_card_id))==null?void 0:M.name:null;return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[b.jsx(VS,{className:"w-5 h-5 text-primary dark:text-primaryDark"}),b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.person_name}),b.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${y} ${p}`,children:h==="PENDING"?"Pendente":h==="PARTIALLY_PAID"?"Parcialmente Pago":"Pago"})]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Emprestado em: ",Hn(t.loan_date)]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a Reembolsar: ",b.jsx("span",{className:"font-semibold",children:pe(t.total_amount_to_reimburse,"BRL","pt-BR",u)})]}),t.description&&b.jsx("p",{className:"text-xs italic text-neutral dark:text-neutralDark mt-1",children:t.description})]}),b.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>a(t),"aria-label":"Editar Empréstimo",className:"!p-1.5",children:b.jsx(Jr,{className:"w-4 h-4"})}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>i(t.id),"aria-label":"Excluir Empréstimo",className:"!p-1.5",disabled:f>0&&h!=="PAID",title:f>0&&h!=="PAID"?"Exclua os pagamentos primeiro ou quite o empréstimo":"Excluir Empréstimo",children:b.jsx(Zr,{className:`w-4 h-4 ${f>0&&h!=="PAID"?"text-neutral/50 dark:text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsxs("span",{className:"text-textMuted dark:text-textMutedDark",children:["Pago: ",pe(f,"BRL","pt-BR",u)]}),b.jsxs("span",{className:`font-semibold ${c<=0?p:"text-destructive dark:text-destructiveDark"}`,children:["Pendente: ",pe(Math.max(0,c),"BRL","pt-BR",u)]})]}),b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2.5 dark:progress-bar-bg",children:b.jsx("div",{className:`h-2.5 rounded-full ${_}`,style:{width:`${w}%`}})})]}),b.jsxs("div",{className:"text-xs text-textMuted dark:text-textMutedDark pt-2 border-t border-borderBase/20 dark:border-borderBaseDark/30",children:[b.jsx("p",{children:b.jsx("strong",{children:"Origem do Dinheiro:"})}),t.funding_source==="account"&&b.jsxs(b.Fragment,{children:[b.jsxs("p",{children:["Conta: ",A||"N/A"]}),b.jsxs("p",{children:["Valor Entregue da Conta: ",pe(t.amount_delivered_from_account||0,"BRL","pt-BR",u)]})]}),t.funding_source==="creditCard"&&b.jsxs(b.Fragment,{children:[b.jsxs("p",{children:["Cartão de Crédito: ",T||"N/A"]}),b.jsxs("p",{children:["Valor Líquido Entregue: ",pe(t.amount_delivered_from_credit||0,"BRL","pt-BR",u)]}),b.jsxs("p",{children:["Custo no Cartão (Fatura): ",pe(t.cost_on_credit_card||0,"BRL","pt-BR",u)]})]})]}),h!=="PAID"&&b.jsx("div",{className:"flex justify-start pt-2",children:b.jsxs(ye,{size:"sm",variant:"secondary",onClick:()=>s(t),children:[b.jsx(Yn,{className:"w-4 h-4 mr-1"})," Registrar Pagamento Recebido"]})})]})},Fue=({isOpen:t,onClose:e,onSave:n,accounts:r,creditCards:a,existingLoan:i})=>{const[s,u]=j.useState(""),[f,c]=j.useState(dt()),[h,p]=j.useState(""),[y,_]=j.useState(""),[w,A]=j.useState("account"),[T,k]=j.useState(""),[M,E]=j.useState(""),[D,C]=j.useState(""),[O,P]=j.useState(""),[I,U]=j.useState(""),[V,$]=j.useState("1"),[H,Z]=j.useState({});j.useEffect(()=>{var F,W,ie;t&&(i?(u(i.person_name),c(i.loan_date),p(i.description||""),_(i.total_amount_to_reimburse.toString()),A(i.funding_source),i.funding_source==="account"?(k(((F=i.amount_delivered_from_account)==null?void 0:F.toString())||""),E(i.linked_account_id||"")):(k(""),E("")),i.funding_source==="creditCard"?(C(((W=i.amount_delivered_from_credit)==null?void 0:W.toString())||""),P(((ie=i.cost_on_credit_card)==null?void 0:ie.toString())||""),U(i.linked_credit_card_id||"")):(C(""),P(""),U(""))):(u(""),c(dt()),p(""),_(""),A("account"),k(""),E(r.length>0?r[0].id:""),C(""),P(""),U(a.length>0?a[0].id:""),$("1")),Z({}))},[i,t,r,a]);const Y=()=>{const F={};s.trim()||(F.personName="Nome da pessoa é obrigatório."),f||(F.loanDate="Data do empréstimo é obrigatória.");const W=parseFloat(y);if((isNaN(W)||W<=0)&&(F.totalAmountToReimburse="Valor a ser reembolsado deve ser positivo."),w==="account"){M||(F.linkedAccountId="Conta de origem é obrigatória.");const ie=parseFloat(T);(isNaN(ie)||ie<=0)&&(F.amountDeliveredFromAccount="Valor entregue deve ser positivo.")}else if(w==="creditCard"){I||(F.linkedCreditCardId="Cartão de crédito é obrigatório.");const ie=parseFloat(D);(isNaN(ie)||ie<=0)&&(F.amountDeliveredFromCredit="Valor entregue (líquido) deve ser positivo.");const q=parseFloat(O);(isNaN(q)||q<=0)&&(F.costOnCreditCard="Custo no cartão deve ser positivo."),ie>q&&(F.amountDeliveredFromCredit="Valor entregue não pode ser maior que o custo no cartão.");const G=parseInt(V,10);(isNaN(G)||G<=0)&&(F.numberOfInstallments="Número de parcelas deve ser positivo.")}return Z(F),Object.keys(F).length===0},B=()=>{if(!Y())return;const F={person_name:s.trim(),loan_date:f,description:h.trim()||void 0,total_amount_to_reimburse:parseFloat(y),funding_source:w};let W;w==="account"?W={...F,amount_delivered_from_account:parseFloat(T),linked_account_id:M}:W={...F,amount_delivered_from_credit:parseFloat(D),cost_on_credit_card:parseFloat(O),linked_credit_card_id:I};const ie=i?{...W,id:i.id}:W;n(ie,w==="creditCard"?parseInt(V):void 0),e()},L=[{value:"account",label:"Dinheiro de uma Conta"},{value:"creditCard",label:"Crédito (Convertido em Dinheiro)"}];return b.jsx(bn,{isOpen:t,onClose:e,title:i?"Editar Empréstimo":"Novo Empréstimo",size:"lg",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(Ie,{label:"Nome da Pessoa",id:"personName",value:s,onChange:F=>u(F.target.value),error:H.personName,required:!0}),b.jsx(Ie,{label:"Data do Empréstimo",id:"loanDate",type:"date",value:f,onChange:F=>c(F.target.value),error:H.loanDate,required:!0}),b.jsx(Tf,{label:"Descrição (Opcional)",id:"loanDescription",value:h,onChange:F=>p(F.target.value),rows:2}),b.jsx(Ie,{label:"Valor Total a Ser Reembolsado por Você (R$)",id:"totalAmountToReimburse",type:"number",step:"0.01",value:y,onChange:F=>_(F.target.value),error:H.totalAmountToReimburse,placeholder:"Ex: 270.00",required:!0}),b.jsx(Tt,{label:"Origem do Dinheiro",id:"fundingSource",options:L,value:w,onChange:F=>A(F.target.value)}),w==="account"&&b.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[b.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Saída de Conta)"}),b.jsx(Tt,{label:"Conta de Origem",id:"linkedAccountId",options:r.map(F=>({value:F.id,label:F.name})),value:M,onChange:F=>E(F.target.value),error:H.linkedAccountId,disabled:r.length===0,required:!0}),b.jsx(Ie,{label:"Valor Efetivamente Entregue (R$)",id:"amountDeliveredFromAccount",type:"number",step:"0.01",value:T,onChange:F=>k(F.target.value),error:H.amountDeliveredFromAccount,placeholder:"Ex: 250.00",required:!0})]}),w==="creditCard"&&b.jsxs("div",{className:"space-y-4 p-3 border border-borderBase dark:border-borderBaseDark rounded-md",children:[b.jsx("h3",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Detalhes (Uso de Crédito)"}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:'Use esta opção se você usou um serviço do cartão para sacar/transferir crédito, incorrendo em taxas. O "Custo Real no Cartão" será lançado como uma compra parcelada.'}),b.jsx(Tt,{label:"Cartão de Crédito Utilizado",id:"linkedCreditCardId",options:a.map(F=>({value:F.id,label:F.name})),value:I,onChange:F=>U(F.target.value),error:H.linkedCreditCardId,disabled:a.length===0,required:!0}),b.jsx(Ie,{label:"Valor Efetivamente Entregue à Pessoa (R$)",id:"amountDeliveredFromCredit",type:"number",step:"0.01",value:D,onChange:F=>C(F.target.value),error:H.amountDeliveredFromCredit,placeholder:`Ex: ${pe(250)} (valor líquido recebido pela pessoa)`,required:!0}),b.jsx(Ie,{label:"Custo Real no Cartão (com taxas) (R$)",id:"costOnCreditCard",type:"number",step:"0.01",value:O,onChange:F=>{P(F.target.value),!i&&!y&&_(F.target.value)},error:H.costOnCreditCard,placeholder:"Ex: 270.00 (valor total que virá na fatura)",required:!0}),b.jsx(Ie,{label:"Número de Parcelas no Cartão",id:"numberOfInstallments",type:"number",min:"1",value:V,onChange:F=>$(F.target.value),error:H.numberOfInstallments,required:!0,disabled:!!i&&!!i.linked_installment_purchase_id,title:i&&i.linked_installment_purchase_id?"Número de parcelas não pode ser alterado após a criação da compra vinculada.":""})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(ye,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(ye,{type:"button",variant:"primary",onClick:B,children:"Salvar Empréstimo"})]})]})})},Vue=({isOpen:t,onClose:e,onSave:n,loan:r,accounts:a})=>{const[i,s]=j.useState(""),[u,f]=j.useState(dt()),[c,h]=j.useState(""),[p,y]=j.useState(""),[_,w]=j.useState({});j.useEffect(()=>{t&&(s(""),f(dt()),h(a.length>0?a[0].id:""),y(""),w({}))},[t,a]);const A=()=>{const k={},M=parseFloat(i);return(isNaN(M)||M<=0)&&(k.amountPaid="Valor pago deve ser positivo."),u||(k.repaymentDate="Data do pagamento é obrigatória."),c||(k.creditedAccountId="Conta de crédito é obrigatória."),w(k),Object.keys(k).length===0},T=()=>{if(!A())return;const k={repayment_date:u,amount_paid:parseFloat(i),notes:p.trim()||void 0,credited_account_id:c};n(k,r.id),e()};return b.jsx(bn,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.person_name}`,children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(Ie,{label:"Valor Recebido (R$)",id:"repaymentAmount",type:"number",step:"0.01",value:i,onChange:k=>s(k.target.value),error:_.amountPaid,required:!0}),b.jsx(Ie,{label:"Data do Recebimento",id:"repaymentDate",type:"date",value:u,onChange:k=>f(k.target.value),error:_.repaymentDate,required:!0}),b.jsx(Tt,{label:"Conta Creditada (Onde o dinheiro entrou)",id:"creditedAccountId",options:a.map(k=>({value:k.id,label:k.name})),value:c,onChange:k=>h(k.target.value),error:_.creditedAccountId,disabled:a.length===0,required:!0}),b.jsx(Tf,{label:"Notas (Opcional)",id:"repaymentNotes",value:p,onChange:k=>y(k.target.value),rows:2}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(ye,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(ye,{type:"button",variant:"primary",onClick:T,children:"Salvar Pagamento"})]})]})})},zue=({loans:t,loanRepayments:e,accounts:n,creditCards:r,onAddLoan:a,onUpdateLoan:i,onDeleteLoan:s,onAddLoanRepayment:u,isPrivacyModeEnabled:f})=>{const[c,h]=j.useState(!1),[p,y]=j.useState(null),[_,w]=j.useState(!1),[A,T]=j.useState(null),k=()=>{y(null),h(!0)},M=P=>{y(P),h(!0)},E=(P,I)=>{p&&P.id?i({...p,...P}):a(P,I)},D=P=>{T(P),w(!0)},C=j.useMemo(()=>t.reduce((P,I)=>{const U=e.filter(V=>V.loan_id===I.id).reduce((V,$)=>V+$.amount_paid,0);return P+(I.total_amount_to_reimburse-U)},0),[t,e]),O=j.useMemo(()=>[...t].sort((P,I)=>new Date(I.loan_date).getTime()-new Date(P.loan_date).getTime()),[t]);return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Empréstimos Concedidos"}),t.length>0&&b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Total a receber: ",b.jsx("span",{className:"font-semibold text-primary dark:text-primaryDark",children:pe(C,"BRL","pt-BR",f)})]})]}),b.jsxs(ye,{onClick:k,variant:"primary",children:[b.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Novo Empréstimo"]})]}),O.length>0?b.jsx("ul",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:O.map(P=>b.jsx(Uue,{loan:P,repayments:e.filter(I=>I.loan_id===P.id),accounts:n,creditCards:r,onEdit:M,onDelete:s,onRegisterRepayment:D,isPrivacyModeEnabled:f},P.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:'Nenhum empréstimo registrado. Clique em "Novo Empréstimo" para começar.'}),c&&b.jsx(Fue,{isOpen:c,onClose:()=>h(!1),onSave:E,accounts:n,creditCards:r,existingLoan:p}),_&&A&&b.jsx(Vue,{isOpen:_,onClose:()=>w(!1),onSave:u,loan:A,accounts:n})]})},IS=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3.697-3.697c-.022-.021-.041-.044-.06-.067H6.75c-1.136 0-2.097-.847-2.193-1.98a18.75 18.75 0 0 1-.072-1.02c0-.884.284-1.5 2.097-1.5H13.5c.884 0 1.5-.284 2.097-1.5 1.136 0 2.1.847 2.193 1.98.027.34.052.68.072 1.02z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h-.008v.008H3.75V12zm0-3.75h.008v.008H3.75V8.25zm0 7.5h.008v.008H3.75v-.008zM4.5 6H15a2.25 2.25 0 0 1 2.25 2.25v1.5A2.25 2.25 0 0 1 15 12H4.5A2.25 2.25 0 0 1 2.25 9.75v-1.5A2.25 2.25 0 0 1 4.5 6z"})]}),Gue=({aiConfig:t,setAiConfig:e,insights:n,onFetchGeneralAdvice:r,onUpdateInsight:a,isPrivacyModeEnabled:i,onFetchRecurringPaymentCandidates:s,onFetchSavingOpportunities:u,onFetchCashFlowProjection:f})=>{var Y;const[c,h]=j.useState(((Y=t.monthlyIncome)==null?void 0:Y.toString())||""),[p,y]=j.useState(!1),[_,w]=j.useState(""),[A,T]=j.useState(""),[k,M]=j.useState(ve.EXPENSE),[E,D]=j.useState(dt(new Date(Date.now()+7*24*60*60*1e3))),[C,O]=j.useState(!1),P=()=>{e({isEnabled:!t.isEnabled})},I=()=>{const B=parseFloat(c);!isNaN(B)&&B>0?(e({monthlyIncome:B}),y(!1)):c===""?(e({monthlyIncome:null}),y(!1)):alert("Por favor, insira um valor de renda válido ou deixe em branco.")};X.useEffect(()=>{var B;h(((B=t.monthlyIncome)==null?void 0:B.toString())||"")},[t.monthlyIncome]);const U=[...n].sort((B,L)=>new Date(L.timestamp).getTime()-new Date(B.timestamp).getTime()),V=B=>b.jsx("p",{className:"text-textBase dark:text-textBaseDark whitespace-pre-wrap",children:B.content}),$=B=>{switch(B){case"budget_recommendation":case"saving_opportunity_suggestion":return{icon:b.jsx(qo,{className:"w-5 h-5 mr-2 text-yellow-500 dark:text-yellow-400 flex-shrink-0"}),borderColorClass:"border-yellow-500 dark:border-yellow-400",bgColorClass:"bg-yellow-400/10 dark:bg-yellow-400/15"};case"recurring_payment_candidate":return{icon:b.jsx(Am,{className:"w-5 h-5 mr-2 text-teal-500 dark:text-teal-400 flex-shrink-0"}),borderColorClass:"border-teal-500 dark:border-teal-400",bgColorClass:"bg-teal-500/10 dark:bg-teal-400/15"};case"cash_flow_projection":return{icon:b.jsx(vS,{className:"w-5 h-5 mr-2 text-indigo-500 dark:text-indigo-400 flex-shrink-0"}),borderColorClass:"border-indigo-500 dark:border-indigo-400",bgColorClass:"bg-indigo-500/10 dark:bg-indigo-400/15"};case"spending_anomaly_category":case"budget_overspend_projection":case"unusual_transaction_value":case"budget_warning":return{icon:b.jsx(xh,{className:"w-5 h-5 mr-2 text-amber-600 dark:text-amber-500 flex-shrink-0"}),borderColorClass:"border-amber-600 dark:border-amber-500",bgColorClass:"bg-amber-600/10 dark:bg-amber-500/15"};case"error_message":return{icon:b.jsx(xh,{className:"w-5 h-5 mr-2 text-destructive dark:text-destructiveDark flex-shrink-0"}),borderColorClass:"border-destructive dark:border-destructiveDark",bgColorClass:"bg-destructive/10 dark:bg-destructiveDark/15"};default:return{icon:b.jsx(IS,{className:"w-5 h-5 mr-2 text-primary dark:text-primaryDark flex-shrink-0"}),borderColorClass:"border-primary dark:border-primaryDark",bgColorClass:"bg-primary/5 dark:bg-primaryDark/10"}}},H=B=>{B.is_read||a({...B,is_read:!0})},Z=()=>{let B;C&&A&&parseFloat(A)>0&&E&&(B={description:_.trim()||(k===ve.EXPENSE?"Despesa Simulada":"Receita Simulada"),amount:parseFloat(A),type:k,date:E}),f(30,B)};return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(IS,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"AI Coach Financeiro"})]}),t.apiKeyStatus!=="unavailable"&&b.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[b.jsx("span",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:t.isEnabled?"Coach Ativado":"Coach Desativado"}),b.jsxs("div",{className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${t.isEnabled?"bg-primary dark:bg-primaryDark":"bg-neutral/30 dark:bg-neutralDark/40"}`,children:[b.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${t.isEnabled?"translate-x-6":"translate-x-1"}`}),b.jsx("input",{type:"checkbox",className:"absolute opacity-0 w-0 h-0",checked:t.isEnabled,onChange:P})]})]})]}),t.apiKeyStatus==="unavailable"&&b.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[b.jsx("strong",{className:"font-bold",children:"API Key Indisponível! "}),b.jsx("span",{className:"block sm:inline",children:"A funcionalidade do AI Coach está desativada. A chave da API Gemini (process.env.GEMINI_API_KEY) não foi configurada no ambiente. Sem ela, o AI Coach não pode operar."})]}),t.apiKeyStatus==="error"&&b.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg relative",role:"alert",children:[b.jsx("strong",{className:"font-bold",children:"Erro na API! "}),b.jsx("span",{className:"block sm:inline",children:"Ocorreu um erro ao tentar inicializar ou usar a API Gemini. Verifique o console para mais detalhes."})]}),t.apiKeyStatus==="available"&&b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark mb-3",children:"Renda Mensal (para Sugestões)"}),t.monthlyIncome&&!p?b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("p",{className:"text-textBase dark:text-textBaseDark",children:["Sua renda mensal salva:",b.jsx("span",{className:"font-bold text-lg text-primary dark:text-primaryDark ml-2",children:pe(t.monthlyIncome,"BRL","pt-BR",i)})]}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>y(!0),children:"Editar Renda"})]}):b.jsxs("div",{className:"space-y-3",children:[b.jsx(Ie,{label:"Informe sua renda mensal estimada",id:"monthlyIncome",type:"number",placeholder:i?pe(0,"BRL","pt-BR",!0).replace("0,00","Ex: 3500.00"):"Ex: 3500.00",value:c,onChange:B=>h(B.target.value),containerClassName:"max-w-xs"}),b.jsxs("div",{className:"flex space-x-2",children:[b.jsx(ye,{variant:"primary",size:"sm",onClick:I,children:"Salvar Renda"}),t.monthlyIncome&&b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>y(!1),children:"Cancelar"})]}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:"Esta informação ajuda o AI Coach a fornecer sugestões de orçamento mais personalizadas."})]})]}),t.isEnabled&&t.apiKeyStatus==="available"&&b.jsx(b.Fragment,{children:b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-4 sm:p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Conselhos e Análises"}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.jsxs(ye,{onClick:r,variant:"ghost",size:"sm",children:[b.jsx(qo,{className:"w-4 h-4 mr-1.5"})," Novo Conselho"]}),b.jsxs(ye,{onClick:s,variant:"ghost",size:"sm",children:[b.jsx(Am,{className:"w-4 h-4 mr-1.5"})," Analisar Recorrências"]}),b.jsxs(ye,{onClick:u,variant:"ghost",size:"sm",children:[b.jsx(Yw,{className:"w-4 h-4 mr-1.5"})," Oportunidades de Economia"]})]})]}),b.jsxs("div",{className:"mt-6 pt-4 border-t border-borderBase dark:border-borderBaseDark",children:[b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark mb-2",children:"Previsão de Fluxo de Caixa"}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>O(!C),className:"mb-3 text-sm",children:C?"Esconder Simulação":"Adicionar Simulação à Previsão"}),C&&b.jsxs("div",{className:"space-y-3 p-3 mb-4 border border-dashed border-neutral/50 dark:border-neutralDark/50 rounded-md",children:[b.jsx("h4",{className:"text-sm font-medium text-textMuted dark:text-textMutedDark",children:"Simular Transação Futura (Opcional)"}),b.jsx(Ie,{label:"Descrição (Opcional)",value:_,onChange:B=>w(B.target.value),placeholder:"Ex: Bônus Inesperado, Compra de Presente"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[b.jsx(Ie,{label:"Valor Simulado",type:"number",value:A,onChange:B=>T(B.target.value),placeholder:"Ex: 500"}),b.jsx(Tt,{label:"Tipo",options:Cm.filter(B=>B.value!==ve.TRANSFER),value:k,onChange:B=>M(B.target.value)}),b.jsx(Ie,{label:"Data Simulado",type:"date",value:E,onChange:B=>D(B.target.value)})]})]}),b.jsxs(ye,{onClick:Z,variant:"secondary",size:"sm",className:"w-full sm:w-auto",children:[b.jsx(vS,{className:"w-4 h-4 mr-1.5"}),"Gerar Previsão de Caixa (30d) ",C&&A?"com Simulação":""]})]}),U.length===0?b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8 mt-4",children:"Nenhum conselho ou comentário do AI Coach ainda. Interaja com o app ou peça uma nova análise!"}):b.jsx("ul",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 mt-4",children:U.map(B=>{const L=$(B.type);return b.jsx("li",{className:`p-4 rounded-lg shadow-sm border-l-4
                                    ${L.borderColorClass} ${L.bgColorClass}
                                    ${B.isLoading?"opacity-60 animate-pulse":""}
                                    ${!B.is_read&&!B.isLoading?"cursor-pointer hover:shadow-md":""}`,onClick:()=>H(B),onKeyDown:F=>{(F.key==="Enter"||F.key===" ")&&H(B)},tabIndex:!B.is_read&&!B.isLoading?0:void 0,role:!B.is_read&&!B.isLoading?"button":void 0,"aria-label":!B.is_read&&!B.isLoading?"Marcar como lido":void 0,children:b.jsxs("div",{className:"flex items-start",children:[L.icon,b.jsxs("div",{className:"flex-1",children:[V(B),b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark mt-1.5",children:[Hn(B.timestamp,"pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),B.related_transaction_id&&b.jsx("span",{className:"ml-2",children:" (Ref. Transação)"}),B.related_category_id&&B.type==="budget_recommendation"&&b.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),B.related_category_id&&(B.type==="spending_anomaly_category"||B.type==="budget_overspend_projection"||B.type==="unusual_transaction_value")&&b.jsx("span",{className:"ml-2",children:" (Ref. Categoria)"}),!B.is_read&&!B.isLoading&&b.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:"Novo"})]})]})]})},B.id)})})]})}),!t.isEnabled&&t.apiKeyStatus==="available"&&b.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-700/20 border border-yellow-400 dark:border-yellow-600 text-yellow-700 dark:text-yellow-300 px-4 py-3 rounded-lg",role:"alert",children:b.jsx("p",{children:"O AI Coach está atualmente desativado. Ative-o acima para receber dicas e comentários personalizados."})})]})},Hue=({className:t="w-5 h-5",style:e})=>b.jsxs("svg",{className:t,style:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),b.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),b.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),b.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),b.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),JL=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),MR=({onLoginWithGoogle:t,isLoading:e})=>b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background dark:bg-backgroundDark p-4 text-textBase dark:text-textBaseDark",children:[b.jsxs("div",{className:"w-full max-w-sm bg-surface dark:bg-surfaceDark shadow-2xl rounded-xl p-8 space-y-8 text-center",children:[b.jsx(JL,{className:"w-20 h-20 text-primary dark:text-primaryDark mx-auto mb-4"}),b.jsxs("h1",{className:"text-3xl font-bold text-textBase dark:text-textBaseDark",children:["Bem-vindo ao ",Yx]}),b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Faça login com sua conta Google para acessar suas finanças."}),b.jsxs(ye,{variant:"primary",size:"lg",className:"w-full !py-3 flex items-center justify-center !bg-white !text-neutral-700 hover:!bg-gray-100 border border-gray-300 dark:!bg-slate-700 dark:!text-slate-200 dark:hover:!bg-slate-600 dark:border-slate-500",onClick:t,disabled:e,children:[b.jsx(Hue,{className:"w-5 h-5 mr-3"}),e?"Conectando...":"Entrar com Google"]}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark pt-4",children:"Ao continuar, você concorda com nossos Termos de Serviço e Política de Privacidade (simulados)."})]}),b.jsx("footer",{className:"mt-8 text-center text-xs text-textMuted dark:text-textMutedDark",children:b.jsxs("p",{children:["© ",new Date().getFullYear()," ",Yx,". Todos os direitos reservados."]})})]}),jS=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6V5.25m0 0A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25v.75m0 0a2.25 2.25 0 0 1-2.25 2.25h-13.5A2.25 2.25 0 0 1 3 6m18 0v12.75A2.25 2.25 0 0 1 18.75 21H5.25A2.25 2.25 0 0 1 3 18.75V6.75m15-3h-15"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 12H18m-2.25 3H18m-2.25-3a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM12 6.75h.008v.008H12V6.75Z"})]}),Kue=[{value:"credit_card_balance",label:"Saldo de Cartão de Crédito"},{value:"personal_loan",label:"Empréstimo Pessoal"},{value:"student_loan",label:"Empréstimo Estudantil"},{value:"mortgage",label:"Hipoteca / Financiamento Imob."},{value:"car_loan",label:"Financiamento de Veículo"},{value:"other",label:"Outra Dívida"}],Yue=({isOpen:t,onClose:e,onSave:n,existingDebt:r})=>{const[a,i]=j.useState(""),[s,u]=j.useState("other"),[f,c]=j.useState(""),[h,p]=j.useState(""),[y,_]=j.useState(""),[w,A]=j.useState(""),[T,k]=j.useState({});j.useEffect(()=>{var D;t&&(r?(i(r.name),u(r.type),c(r.initial_balance.toString()),p(r.interest_rate_annual.toString()),_(r.minimum_payment.toString()),A(((D=r.due_date_day_of_month)==null?void 0:D.toString())||"")):(i(""),u("other"),c(""),p(""),_(""),A("")),k({}))},[r,t]);const M=()=>{const D={};a.trim()||(D.name="Nome da dívida é obrigatório.");const C=parseFloat(f);(isNaN(C)||C<=0)&&(D.initialBalance="Saldo inicial deve ser positivo.");const O=parseFloat(h);(isNaN(O)||O<0)&&(D.interestRateAnnual="Taxa de juros deve ser um número não negativo.");const P=parseFloat(y);if((isNaN(P)||P<=0)&&(D.minimumPayment="Pagamento mínimo deve ser positivo."),w){const I=parseInt(w,10);(isNaN(I)||I<1||I>31)&&(D.dueDateDayOfMonth="Dia de vencimento deve ser entre 1 e 31.")}return k(D),Object.keys(D).length===0},E=()=>{if(!M())return;const D={name:a.trim(),type:s,initial_balance:parseFloat(f),interest_rate_annual:parseFloat(h),minimum_payment:parseFloat(y),due_date_day_of_month:w?parseInt(w,10):void 0},C=r?{...D,id:r.id}:D;n(C),e()};return b.jsx(bn,{isOpen:t,onClose:e,title:r?"Editar Dívida":"Nova Dívida",size:"lg",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(Ie,{label:"Nome da Dívida",id:"debtName",value:a,onChange:D=>i(D.target.value),error:T.name,placeholder:"Ex: Cartão XP Fatura, Financiamento Carro",required:!0}),b.jsx(Tt,{label:"Tipo de Dívida",id:"debtType",options:Kue,value:s,onChange:D=>u(D.target.value),required:!0}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx(Ie,{label:"Saldo Devedor Inicial (R$)",id:"initialBalance",type:"number",step:"0.01",value:f,onChange:D=>c(D.target.value),error:T.initialBalance,required:!0}),b.jsx(Ie,{label:"Taxa de Juros Anual (%)",id:"interestRateAnnual",type:"number",step:"0.01",value:h,onChange:D=>p(D.target.value),error:T.interestRateAnnual,placeholder:"Ex: 19.9 para 19.9%",required:!0})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsx(Ie,{label:"Pagamento Mínimo Mensal (R$)",id:"minimumPayment",type:"number",step:"0.01",value:y,onChange:D=>_(D.target.value),error:T.minimumPayment,required:!0}),b.jsx(Ie,{label:"Dia de Vencimento (Opcional)",id:"dueDateDayOfMonth",type:"number",min:"1",max:"31",value:w,onChange:D=>A(D.target.value),error:T.dueDateDayOfMonth,placeholder:"Ex: 15"})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(ye,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(ye,{type:"button",variant:"primary",onClick:E,children:r?"Salvar Alterações":"Adicionar Dívida"})]})]})})},Wue=({isOpen:t,onClose:e,onSave:n,debt:r,accounts:a})=>{const[i,s]=j.useState(""),[u,f]=j.useState(dt()),[c,h]=j.useState(""),[p,y]=j.useState(!1),[_,w]=j.useState(""),[A,T]=j.useState({});j.useEffect(()=>{t&&(s(""),f(dt()),h(""),y(!1),w(a.length>0?a[0].id:""),T({}))},[t,a]);const k=()=>{const E={},D=parseFloat(i);return(isNaN(D)||D<=0)&&(E.amountPaid="Valor pago deve ser positivo."),u||(E.paymentDate="Data do pagamento é obrigatória."),p&&!_&&(E.linkedAccountId="Conta de origem da despesa é obrigatória."),T(E),Object.keys(E).length===0},M=()=>{if(!k())return;const E={debt_id:r.id,amount_paid:parseFloat(i),payment_date:u,notes:c.trim()||void 0};n(E,p,_),e()};return b.jsx(bn,{isOpen:t,onClose:e,title:`Registrar Pagamento: ${r.name}`,children:b.jsxs("div",{className:"space-y-4",children:[b.jsx(Ie,{label:"Valor Pago (R$)",id:"debtPaymentAmount",type:"number",step:"0.01",value:i,onChange:E=>s(E.target.value),error:A.amountPaid,required:!0}),b.jsx(Ie,{label:"Data do Pagamento",id:"debtPaymentDate",type:"date",value:u,onChange:E=>f(E.target.value),error:A.paymentDate,required:!0}),b.jsx(Tf,{label:"Notas (Opcional)",id:"debtPaymentNotes",value:c,onChange:E=>h(E.target.value),rows:2,placeholder:"Ex: Pagamento parcial, acordo..."}),a.length>0&&b.jsxs("div",{className:"pt-2",children:[b.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:p,onChange:E=>y(E.target.checked),className:"rounded text-primary dark:text-primaryDark focus:ring-primary dark:focus:ring-primaryDark bg-surface dark:bg-surfaceDark border-borderBase dark:border-borderBaseDark shadow-sm"}),b.jsx("span",{className:"text-sm text-textMuted dark:text-textMutedDark",children:"Registrar como despesa em uma conta?"})]}),p&&b.jsx(Tt,{containerClassName:"mt-2",label:"Conta de Origem da Despesa",id:"debtPaymentLinkedAccount",options:a.map(E=>({value:E.id,label:E.name})),value:_,onChange:E=>w(E.target.value),error:A.linkedAccountId,placeholder:"Selecione uma conta"})]}),A.form&&b.jsx("p",{className:"mt-1 text-xs text-destructive dark:text-destructiveDark/90",children:A.form}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-3",children:[b.jsx(ye,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(ye,{type:"button",variant:"primary",onClick:M,children:"Salvar Pagamento"})]})]})})},Xue=(t,e,n)=>{let r=JSON.parse(JSON.stringify(t)).filter(c=>c.current_balance>0&&!c.is_archived).map(c=>({...c,workingBalance:c.current_balance,interestPaidThisDebt:0,monthsToPayoffThisDebt:0,monthlyPaymentsLog:[]})),a=0,i=0;const s=720,u=[];for(;r.some(c=>c.workingBalance>0)&&a<s;){a++;let c=e;for(const p of r){if(p.workingBalance<=0)continue;const y=p.interest_rate_annual/100/12,_=p.workingBalance*y;p.workingBalance+=_,p.interestPaidThisDebt+=_,i+=_}for(const p of r){if(p.workingBalance<=0)continue;const y=Math.min(p.workingBalance,p.minimum_payment),_=Math.min(p.workingBalance*(p.interest_rate_annual/100/12),y),w=y-_;p.workingBalance-=y,p.monthlyPaymentsLog.push({month:a,payment:y,interest:_,principal:w,remainingBalance:p.workingBalance}),p.workingBalance<=0&&(c+=p.minimum_payment)}let h=r.filter(p=>p.workingBalance>0);if(c>0&&h.length>0){n==="snowball"?h.sort((p,y)=>p.workingBalance-y.workingBalance):n==="avalanche"?h.sort((p,y)=>y.interest_rate_annual-p.interest_rate_annual):n==="minimums"&&h.length>0&&h.sort((p,y)=>p.workingBalance-y.workingBalance);for(const p of h){if(c<=0)break;if(p.workingBalance<=0)continue;const y=Math.min(p.workingBalance,c);p.workingBalance-=y,c-=y;const _=p.monthlyPaymentsLog.findIndex(w=>w.month===a);_>-1?(p.monthlyPaymentsLog[_].payment+=y,p.monthlyPaymentsLog[_].principal+=y,p.monthlyPaymentsLog[_].remainingBalance=p.workingBalance):p.monthlyPaymentsLog.push({month:a,payment:y,interest:0,principal:y,remainingBalance:p.workingBalance}),p.workingBalance<=0&&(c+=p.minimum_payment)}}r.forEach(p=>{p.workingBalance<=0&&!u.find(y=>y.debtId===p.id)&&(p.monthsToPayoffThisDebt=a,u.push({debtId:p.id,monthsToPayoffThisDebt:p.monthsToPayoffThisDebt,interestPaidThisDebt:p.interestPaidThisDebt,principalPaidThisDebt:p.initial_balance,monthlyPayments:p.monthlyPaymentsLog}))}),r=r.filter(p=>p.workingBalance>0)}t.filter(c=>c.current_balance>0&&!c.is_archived).forEach(c=>{if(!u.find(h=>h.debtId===c.id)){const h=r.find(p=>p.id===c.id)||t.find(p=>p.id===c.id);u.push({debtId:c.id,monthsToPayoffThisDebt:(h==null?void 0:h.workingBalance)>0&&a>=s?s:(h==null?void 0:h.monthsToPayoffThisDebt)||a,interestPaidThisDebt:(h==null?void 0:h.interestPaidThisDebt)||0,principalPaidThisDebt:c.initial_balance-((h==null?void 0:h.workingBalance)>0?h.workingBalance:0),monthlyPayments:(h==null?void 0:h.monthlyPaymentsLog)||[]})}});const f=u.reduce((c,h)=>c+h.principalPaidThisDebt,0);return{strategy:n,monthsToPayoff:a>=s&&t.filter(c=>!c.is_archived).some(c=>{const h=u.find(p=>p.debtId===c.id);return h?c.initial_balance-h.principalPaidThisDebt>.01:c.current_balance>.01})?-1:a,totalInterestPaid:i,totalPrincipalPaid:f,totalPaid:i+f,payoffDetails:u.sort((c,h)=>{var p,y;if(c.monthsToPayoffThisDebt===h.monthsToPayoffThisDebt){const _=((p=t.find(A=>A.id===c.debtId))==null?void 0:p.initial_balance)||0,w=((y=t.find(A=>A.id===h.debtId))==null?void 0:y.initial_balance)||0;return _-w}return c.monthsToPayoffThisDebt-h.monthsToPayoffThisDebt})}},Zue=({debt:t,onRegisterPayment:e,onEdit:n,onDelete:r,hasPayments:a,isPrivacyModeEnabled:i})=>{const s=t.initial_balance>0?Math.max(0,Math.min((t.initial_balance-t.current_balance)/t.initial_balance*100,100)):0;return b.jsxs("li",{className:"bg-surface dark:bg-surfaceDark p-4 rounded-lg shadow hover:shadow-md dark:shadow-neutralDark/30 dark:hover:shadow-neutralDark/50 transition-shadow duration-150 space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-textBase dark:text-textBaseDark",children:t.name}),b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:t.type==="credit_card_balance"?"Saldo de Cartão":t.type==="personal_loan"?"Empréstimo Pessoal":"Outra Dívida"})]}),b.jsxs("div",{className:"flex space-x-1",children:[b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>n(t),"aria-label":"Editar Dívida",className:"!p-1.5",children:b.jsx(Jr,{className:"w-4 h-4"})}),b.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>r(t.id),"aria-label":"Excluir Dívida",className:"!p-1.5",disabled:a,title:a?"Exclua os pagamentos desta dívida primeiro":"Excluir Dívida",children:b.jsx(Zr,{className:`w-4 h-4 ${a?"text-neutralDark/50":"text-destructive dark:text-destructiveDark"}`})})]})]}),b.jsxs("div",{children:[b.jsxs("p",{className:"text-xl font-bold text-destructive dark:text-destructiveDark",children:["Saldo Devedor: ",pe(t.current_balance,"BRL","pt-BR",i)]}),b.jsxs("p",{className:"text-sm text-textMuted dark:text-textMutedDark",children:["Taxa de Juros: ",t.interest_rate_annual,"% a.a. | Mínimo: ",pe(t.minimum_payment,"BRL","pt-BR",i)]}),t.due_date_day_of_month&&b.jsxs("p",{className:"text-xs text-textMuted dark:text-textMutedDark",children:["Vencimento usual: Dia ",t.due_date_day_of_month]})]}),t.initial_balance>0&&b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[b.jsx("span",{children:"Progresso"}),b.jsxs("span",{children:[s.toFixed(0),"%"]})]}),b.jsx("div",{className:"w-full progress-bar-bg rounded-full h-2 dark:progress-bar-bg",children:b.jsx("div",{className:"h-2 rounded-full bg-secondary dark:bg-secondaryDark",style:{width:`${s}%`}})})]}),t.current_balance>0&&b.jsxs(ye,{variant:"secondary",size:"sm",onClick:()=>e(t),children:[b.jsx(Yn,{className:"w-4 h-4 mr-1"})," Registrar Pagamento"]}),t.current_balance<=0&&b.jsx("p",{className:"text-sm font-semibold text-secondary dark:text-secondaryDark",children:"Dívida Quitada!"})]})},Jue=({debts:t,debtPayments:e,accounts:n,onAddDebt:r,onUpdateDebt:a,onDeleteDebt:i,onAddDebtPayment:s,onFetchDebtStrategyExplanation:u,onFetchDebtProjectionSummary:f,isPrivacyModeEnabled:c})=>{var be;const[h,p]=j.useState(!1),[y,_]=j.useState(null),[w,A]=j.useState(!1),[T,k]=j.useState(null),[M,E]=j.useState("0"),[D,C]=j.useState("snowball"),[O,P]=j.useState(null),[I,U]=j.useState(!1),[V,$]=j.useState(!1),[H,Z]=j.useState(!1),Y=()=>{_(null),p(!0)},B=me=>{_(me),p(!0)},L=me=>{k(me),A(!0)},F=j.useMemo(()=>t.filter(me=>!me.is_archived).reduce((me,Ae)=>me+Ae.current_balance,0),[t]),W=j.useMemo(()=>t.filter(me=>!me.is_archived&&me.current_balance>0).reduce((me,Ae)=>me+Ae.minimum_payment,0),[t]),ie=me=>e.some(Ae=>Ae.debt_id===me),q=()=>{U(!0),P(null);const me=t.filter(mt=>!mt.is_archived&&mt.current_balance>0);if(me.length===0){alert("Nenhuma dívida ativa para calcular o plano."),U(!1);return}const Ae=Xue(me,parseFloat(M)||0,D);P(Ae),U(!1)},G=async me=>{$(!0),await u(me)},ee=async()=>{O&&(Z(!0),await f(O,t.filter(me=>!me.is_archived&&me.current_balance>0),D))},se=[{value:"minimums",label:"Apenas Pagamentos Mínimos"},{value:"snowball",label:"Bola de Neve (Menor Saldo Primeiro)"},{value:"avalanche",label:"Avalanche (Maior Juros Primeiro)"}];return b.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(jS,{className:"w-8 h-8 text-primary dark:text-primaryDark"}),b.jsx("h1",{className:"text-2xl font-bold text-textBase dark:text-textBaseDark",children:"Planejador de Dívidas"})]}),b.jsxs(ye,{onClick:Y,variant:"primary",children:[b.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Adicionar Dívida"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"TOTAL DE DÍVIDAS ATUAIS"}),b.jsx("p",{className:"text-3xl font-bold text-destructive dark:text-destructiveDark",children:pe(F,"BRL","pt-BR",c)})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30",children:[b.jsx("h2",{className:"text-sm font-semibold text-textMuted dark:text-textMutedDark mb-1",children:"SOMA DOS PAGAMENTOS MÍNIMOS"}),b.jsxs("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-500",children:[pe(W,"BRL","pt-BR",c)," / mês"]})]})]}),b.jsxs("div",{className:"bg-surface dark:bg-surfaceDark p-6 rounded-xl shadow-lg dark:shadow-neutralDark/30 space-y-4",children:[b.jsx("h2",{className:"text-xl font-semibold text-textBase dark:text-textBaseDark",children:"Estratégia de Quitação"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[b.jsx(Ie,{label:"Pagamento Extra Mensal (R$)",id:"extraPayment",type:"number",step:"0.01",min:"0",value:M,onChange:me=>E(me.target.value),placeholder:"Ex: 100.00"}),b.jsx(Tt,{label:"Escolha a Estratégia",id:"debtStrategy",options:se,value:D,onChange:me=>C(me.target.value)})]}),b.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[b.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>G("snowball"),className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline",children:[b.jsx(qo,{className:"w-3.5 h-3.5 mr-1"})," Entenda: Bola de Neve"]}),b.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>G("avalanche"),className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline",children:[b.jsx(qo,{className:"w-3.5 h-3.5 mr-1"})," Entenda: Avalanche"]})]}),b.jsx(ye,{onClick:q,variant:"primary",disabled:I,className:"w-full sm:w-auto",children:I?"Calculando...":"Calcular Plano de Quitação"}),O&&b.jsxs("div",{className:"mt-4 pt-4 border-t border-borderBase dark:border-borderBaseDark space-y-3",children:[b.jsxs("h3",{className:"text-lg font-semibold",children:["Resultado da Projeção (",(be=se.find(me=>me.value===D))==null?void 0:be.label,"):"]}),b.jsxs("p",{children:["Tempo para quitar todas as dívidas: ",b.jsxs("span",{className:"font-bold",children:[(O.monthsToPayoff/12).toFixed(1)," anos"]})," (",O.monthsToPayoff," meses)"]}),b.jsxs("p",{children:["Total de Juros Pagos: ",b.jsx("span",{className:"font-bold",children:pe(O.totalInterestPaid,"BRL","pt-BR",c)})]}),b.jsxs("p",{children:["Total Principal Pago: ",b.jsx("span",{className:"font-bold",children:pe(O.totalPrincipalPaid,"BRL","pt-BR",c)})]}),b.jsx("h4",{className:"text-md font-semibold mt-2",children:"Ordem de Quitação:"}),b.jsx("ul",{className:"list-decimal list-inside text-sm space-y-1",children:O.payoffDetails.map(me=>{const Ae=t.find(mt=>mt.id===me.debtId);return b.jsxs("li",{children:[b.jsx("strong",{children:(Ae==null?void 0:Ae.name)||"Dívida Desconhecida"}),": Quitada em ",me.monthsToPayoffThisDebt," meses. Juros pagos nesta dívida: ",pe(me.interestPaidThisDebt,"BRL","pt-BR",c),"."]},me.debtId)})}),b.jsxs(ye,{variant:"ghost",size:"sm",onClick:ee,className:"!text-xs text-blue-600 dark:text-blue-400 hover:underline mt-2",children:[b.jsx(qo,{className:"w-3.5 h-3.5 mr-1"})," Obter Resumo da IA sobre este plano"]})]})]}),t.filter(me=>!me.is_archived).length>0?b.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.filter(me=>!me.is_archived).sort((me,Ae)=>me.name.localeCompare(Ae.name)).map(me=>b.jsx(Zue,{debt:me,onRegisterPayment:L,onEdit:B,onDelete:i,hasPayments:ie(me.id),isPrivacyModeEnabled:c},me.id))}):b.jsx("p",{className:"text-center text-textMuted dark:text-textMutedDark py-8",children:"Nenhuma dívida cadastrada. Adicione suas dívidas para começar a planejar!"}),h&&b.jsx(Yue,{isOpen:h,onClose:()=>p(!1),onSave:y?me=>a({...me,id:y.id}):r,existingDebt:y}),w&&T&&b.jsx(Wue,{isOpen:w,onClose:()=>A(!1),onSave:s,debt:T,accounts:n}),b.jsx(bn,{isOpen:V,onClose:()=>$(!1),title:"Explicação da Estratégia (IA)",children:b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Buscando explicação da IA... Verifique o AI Coach para a resposta completa."})}),b.jsx(bn,{isOpen:H,onClose:()=>Z(!1),title:"Resumo do Plano (IA)",children:b.jsx("p",{className:"text-textMuted dark:text-textMutedDark",children:"Buscando resumo da IA... Verifique o AI Coach para a resposta completa."})})]})},Que=({onSubmit:t,onCancel:e,accounts:n,creditCards:r,categories:a,tags:i,initialTransaction:s,isPrivacyModeEnabled:u})=>{var F;const[f,c]=j.useState((s==null?void 0:s.type)||ve.EXPENSE),[h,p]=j.useState((s==null?void 0:s.amount.toString())||""),[y,_]=j.useState((s==null?void 0:s.category_id)||""),[w,A]=j.useState((s==null?void 0:s.description)||""),[T,k]=j.useState((s==null?void 0:s.date)||dt()),[M,E]=j.useState((s==null?void 0:s.account_id)||(n.length>0?n[0].id:"")),[D,C]=j.useState((s==null?void 0:s.to_account_id)||(n.length>1?n[1].id:"")),[O,P]=j.useState((s==null?void 0:s.tag_ids)||[]),[I,U]=j.useState({}),V=j.useMemo(()=>{const W=n.map(q=>({value:q.id,label:`Conta: ${q.name}`,type:"account"})),ie=r.map(q=>({value:q.id,label:`Cartão: ${q.name}`,type:"creditCard"}));return[...W,...ie]},[n,r]);j.useEffect(()=>{var W,ie,q,G;s?(c(s.type),p(s.amount.toString()),_(s.category_id||""),A(s.description||""),k(s.date),E(s.account_id),C(s.to_account_id||""),P(s.tag_ids||[])):(c(ve.EXPENSE),p(""),_(((W=a.filter(ee=>ee.type===ve.EXPENSE)[0])==null?void 0:W.id)||""),A(""),k(dt()),E(((ie=V[0])==null?void 0:ie.value)||""),C(((q=n[1])==null?void 0:q.id)||((G=n[0])==null?void 0:G.id)||""),P([]))},[s,n,a,V]),j.useEffect(()=>{var ie;if(f!==ve.TRANSFER){const q=a.find(G=>G.id===y);if(!q||q.type!==f){const G=a.find(ee=>ee.type===f);_((G==null?void 0:G.id)||"")}}const W=V.find(q=>q.value===M);(W==null?void 0:W.type)==="creditCard"&&(f===ve.INCOME||f===ve.TRANSFER)&&E(((ie=n[0])==null?void 0:ie.id)||"")},[f,y,a,M,n,V]);const $=()=>{const W={};(!h||parseFloat(h)<=0)&&(W.amount="Valor deve ser maior que zero.");const ie=V.find(q=>q.value===M);return f!==ve.TRANSFER&&!y&&(ie==null?void 0:ie.type)!=="creditCard"&&(y||(W.categoryId="Categoria é obrigatória.")),M||(W.sourceId="Origem (Conta/Cartão) é obrigatória."),f===ve.TRANSFER&&!D&&(W.toAccountId="Conta de destino é obrigatória."),f===ve.TRANSFER&&M===D&&(W.toAccountId="Conta de origem e destino não podem ser iguais."),f===ve.TRANSFER&&(ie==null?void 0:ie.type)==="creditCard"&&(W.sourceId="Transferências não podem originar de um cartão de crédito."),T||(W.date="Data é obrigatória."),U(W),Object.keys(W).length===0},H=W=>{if(W.preventDefault(),!$())return;const ie={...s?{id:s.id}:{},type:f,amount:parseFloat(h),category_id:f===ve.TRANSFER?void 0:y,description:w,date:T,account_id:M,to_account_id:f===ve.TRANSFER?D:void 0,tag_ids:O.length>0?O:void 0};t(ie)},Z=W=>{const ie=W.target.options,q=[];for(let G=0,ee=ie.length;G<ee;G++)ie[G].selected&&q.push(ie[G].value);P(q)},Y=a.filter(W=>W.type===f),B=i.map(W=>({value:W.id,label:W.name})),L=((F=V.find(W=>W.value===M))==null?void 0:F.type)==="creditCard";return b.jsxs("form",{onSubmit:H,className:"space-y-4",children:[b.jsx(Tt,{label:"Tipo",id:"type",options:Cm,value:f,onChange:W=>c(W.target.value)}),b.jsx(Ie,{label:"Valor",id:"amount",type:"number",step:"0.01",value:h,onChange:W=>p(W.target.value),error:I.amount,placeholder:u?pe(0,"BRL","pt-BR",!0).replace("0,00","Ex: 123.45"):"Ex: 123.45",required:!0}),f!==ve.TRANSFER&&b.jsx(Tt,{label:L&&f===ve.EXPENSE?"Categoria (Opcional para Débito Direto no Cartão)":"Categoria",id:"category",options:Y.map(W=>({value:W.id,label:W.name})),value:y,onChange:W=>_(W.target.value),error:I.categoryId,placeholder:"Selecione uma categoria",disabled:Y.length===0}),b.jsx(Ie,{label:"Descrição (Opcional)",id:"description",type:"text",value:w,onChange:W=>A(W.target.value),placeholder:L&&f===ve.EXPENSE?"Ex: Academia, Assinatura Spotify (será usado na fatura)":"Ex: Compras no mercado"}),b.jsx(Ie,{label:"Data",id:"date",type:"date",value:T,onChange:W=>k(W.target.value),error:I.date,required:!0}),b.jsx(Tt,{label:f===ve.TRANSFER?"Debitar de (Conta)":"Debitar de (Conta / Cartão)",id:"sourceId",options:f===ve.TRANSFER?V.filter(W=>W.type==="account"):V,value:M,onChange:W=>E(W.target.value),error:I.sourceId,placeholder:"Selecione uma origem",disabled:V.length===0}),f===ve.TRANSFER&&b.jsx(Tt,{label:"Conta de Destino",id:"toAccountId",options:n.map(W=>({value:W.id,label:W.name})),value:D,onChange:W=>C(W.target.value),error:I.toAccountId,placeholder:"Selecione uma conta de destino",disabled:n.length===0}),i.length>0&&b.jsx(Tt,{label:"Tags (Opcional, segure Ctrl/Cmd para selecionar várias)",id:"tags",multiple:!0,options:B,value:O,onChange:Z,containerClassName:"h-auto",className:"h-24"}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[b.jsx(ye,{type:"button",variant:"ghost",onClick:e,children:"Cancelar"}),b.jsx(ye,{type:"submit",variant:"primary",children:s?"Salvar Alterações":"Adicionar Transação"})]})]})},ece=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-6.364-.386 1.591-1.591M3 12h2.25m.386-6.364 1.591 1.591M12 12a2.25 2.25 0 0 0-2.25 2.25 2.25 2.25 0 0 0 2.25 2.25A2.25 2.25 0 0 0 14.25 12 2.25 2.25 0 0 0 12 12Z"})}),tce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),nce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25A2.25 2.25 0 0 1 5.25 3h13.5A2.25 2.25 0 0 1 21 5.25Z"})}),rce=({theme:t,setTheme:e})=>{const n=[{name:"light",label:"Claro",icon:b.jsx(ece,{className:"w-4 h-4"})},{name:"dark",label:"Escuro",icon:b.jsx(tce,{className:"w-4 h-4"})},{name:"system",label:"Sistema",icon:b.jsx(nce,{className:"w-4 h-4"})}];return b.jsxs("div",{className:"p-2",children:[b.jsx("p",{className:"text-xs text-textMuted dark:text-textMutedDark mb-1 px-1",children:"Tema"}),b.jsx("div",{className:"flex items-center justify-around bg-neutral/10 dark:bg-neutralDark/20 rounded-md p-1",children:n.map(r=>b.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>e(r.name),className:`flex-1 !px-2 !py-1 text-xs transition-all duration-200 ease-in-out
                        ${t===r.name?"!bg-primary/20 dark:!bg-primaryDark/30 !text-primary dark:!text-primaryDark":"hover:!bg-neutral/20 dark:hover:!bg-neutralDark/30 !text-textMuted dark:!text-textMutedDark"}`,title:`Mudar para tema ${r.label.toLowerCase()}`,"aria-pressed":t===r.name,children:[X.cloneElement(r.icon,{className:"w-4 h-4 sm:mr-1"}),b.jsx("span",{className:"hidden sm:inline",children:r.label})]},r.name))})]})},ace=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),ice=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93s.844.179 1.259.038l.821-.393c.55-.263 1.18.055 1.39.606l.548 1.004c.21.55-.056 1.18-.607 1.39l-.82.393c-.415.198-.688.598-.758 1.038s.038.844.179 1.259l.393.821c.263.55.055 1.18-.606 1.39l-1.004.548c-.55.21-1.18-.056-1.39-.607l-.393-.82c-.198-.415-.598-.688-1.038-.758s-.844-.038-1.259.179l-.821.393c-.55.263-1.18-.055-1.39-.606l-.548-1.004c-.21-.55.056-1.18.607-1.39l.82-.393c.415-.198.688.598-.758-1.038s-.038-.844-.179-1.259l-.393-.821c-.263-.55-.055-1.18.606-1.39l1.004-.548c.55-.21 1.18.056 1.39.607l.393.82c.198.415.598.688 1.038.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433l-.002-.003c-.043-.073-.086-.146-.129-.219l-.821-.393c-.415-.198-.688-.598-.758-1.038s.038-.844-.179-1.259l.393-.821A.991.991 0 0 0 12 3c-.55 0-1.02.398-1.11.94l-.149.894c-.07.424-.384.764-.78.93s-.844.179-1.259.038l-.821-.393a.991.991 0 0 0-1.433.287l-.003.002c-.073.043-.146.086-.219.129l-.393.821c-.198-.415-.598-.688-1.038.758s-.844-.038-1.259.179l-.821.393a.991.991 0 0 0-.287 1.433l.002.003c.043.073.086.146.129.219l.821.393c.415.198.688.598.758 1.038s-.038.844-.179-1.259l-.393.821a.991.991 0 0 0 1.433.287l.003-.002c.073-.043.146-.086.219-.129l.393-.821c.198-.415.598-.688 1.038-.758s.844.038 1.259-.179l.821-.393a.991.991 0 0 0 .287-1.433L10.343 3.94Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})]}),oce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5L12 14.25L7.5 16.5V3.75m9 0H18A2.25 2.25 0 0 1 20.25 6v12A2.25 2.25 0 0 1 18 20.25H6A2.25 2.25 0 0 1 3.75 18V6A2.25 2.25 0 0 1 6 3.75h1.5m9 0h-9"})}),sce=({className:t="w-6 h-6",style:e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),lce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}),uce=({className:t="w-6 h-6",style:e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,style:e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"})}),cce=()=>{const{addToast:t}=eI(),[e,n]=j.useState(null),[r,a]=j.useState(null),[i,s]=j.useState(null),[u,f]=j.useState(!0),[c,h]=j.useState(null),[p,y]=j.useState(null),[_,w]=j.useState("dark"),[A,T]=j.useState(!1),[k,M]=j.useState({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1}),[E,D]=j.useState([]),[C,O]=j.useState([]),[P,I]=j.useState([]),[U,V]=j.useState([]),[$,H]=j.useState([]),[Z,Y]=j.useState([]),[B,L]=j.useState([]),[F,W]=j.useState([]),[ie,q]=j.useState([]),[G,ee]=j.useState([]),[se,be]=j.useState([]),[me,Ae]=j.useState([]),[mt,Ke]=j.useState([]),[Se,Re]=j.useState([]),[Be,ge]=j.useState([]),[yt,Ye]=j.useState(!0),[nt,At]=j.useState("DASHBOARD"),[Et,cn]=j.useState(!1),[ir,xr]=j.useState(null),_n=j.useRef(!1),or=j.useMemo(()=>{var z;return((z=r==null?void 0:r.user_metadata)==null?void 0:z.full_name)||(r==null?void 0:r.email)||"Usuário"},[r]),ba=j.useMemo(()=>{var z;return((z=r==null?void 0:r.user_metadata)==null?void 0:z.avatar_url)||null},[r]),ns=()=>{D([]),O([]),I([]),V([]),H([]),Y([]),L([]),W([]),q([]),ee([]),be([]),Ae([]),Ke([]),Re([]),ge([]),s(null),y(null),M({isEnabled:!1,apiKeyStatus:"unknown",monthlyIncome:null,autoBackupToFileEnabled:!1})},xa=j.useCallback(async z=>{var re,de,_e;if(_n.current){console.log("Profile fetch already in progress, skipping.");return}_n.current=!0,Ye(!0);let te=null;try{const{data:Te,error:Ee}=await it.from("user_profiles").select("*").eq("user_id",z.id).single();if(Ee&&Ee.code!=="PGRST116")throw Ee;if(Te)te=Te;else{const zt={user_id:z.id,name:((re=z.user_metadata)==null?void 0:re.full_name)||z.email||"Perfil Principal"},{data:Zn,error:Dn}=await it.from("user_profiles").insert(zt).select().single();if(Dn)throw Dn;te=Zn}if(s(te),!te)throw new Error("Falha ao obter ou criar perfil de usuário.");const Ge=te.id,{data:pt,error:Pe}=await it.from("user_preferences").select("*").eq("user_id",z.id).eq("profile_id",Ge).single();if(Pe&&Pe.code!=="PGRST116")throw Pe;if(pt)y(pt),w(pt.theme),T(pt.is_privacy_mode_enabled),M({isEnabled:pt.ai_is_enabled,monthlyIncome:pt.ai_monthly_income,autoBackupToFileEnabled:pt.ai_auto_backup_enabled,apiKeyStatus:ga()?"available":"unavailable"});else{const zt={id:Wx(),user_id:z.id,profile_id:Ge,theme:"dark",is_privacy_mode_enabled:!1,ai_is_enabled:!1,ai_monthly_income:null,ai_auto_backup_enabled:!1},{data:Zn,error:Dn}=await it.from("user_preferences").insert(zt).select().single();if(Dn)throw Dn;Zn&&y(Zn),w(zt.theme),T(zt.is_privacy_mode_enabled),M({isEnabled:zt.ai_is_enabled,monthlyIncome:zt.ai_monthly_income,autoBackupToFileEnabled:zt.ai_auto_backup_enabled,apiKeyStatus:ga()?"available":"unavailable"})}const Bt=zt=>zt.eq("user_id",z.id).eq("profile_id",Ge),[Mn,Jt,ci,fi,ro,ao,ta,na,ls,io,us,wa,sr,oo,Ta]=await Promise.all([Bt(it.from("transactions").select("*")).order("date",{ascending:!1}),Bt(it.from("accounts").select("*")).order("name"),Bt(it.from("categories").select("*")).order("name"),Bt(it.from("credit_cards").select("*")).order("name"),Bt(it.from("installment_purchases").select("*")).order("purchase_date",{ascending:!1}),Bt(it.from("money_boxes").select("*")).order("name"),Bt(it.from("money_box_transactions").select("*")).order("date",{ascending:!1}),Bt(it.from("future_purchases").select("*")).order("created_at",{ascending:!1}),Bt(it.from("tags").select("*")).order("name"),Bt(it.from("recurring_transactions").select("*")).order("next_due_date"),Bt(it.from("loans").select("*")).order("loan_date",{ascending:!1}),Bt(it.from("loan_repayments").select("*")).order("repayment_date",{ascending:!1}),Bt(it.from("ai_insights").select("*")).order("timestamp",{ascending:!1}),Bt(it.from("debts").select("*")).order("created_at",{ascending:!1}),Bt(it.from("debt_payments").select("*")).order("payment_date",{ascending:!1})]);if(Mn.error)throw Mn.error;if(D(Mn.data),Jt.error)throw Jt.error;if(O(Jt.data),ci.error)throw ci.error;if(I(ci.data),fi.error)throw fi.error;if(V(fi.data),ro.error)throw ro.error;if(H(ro.data),ao.error)throw ao.error;if(Y(ao.data),ta.error)throw ta.error;if(L(ta.data),na.error)throw na.error;if(W(na.data),ls.error)throw ls.error;if(q(ls.data),io.error)throw io.error;if(ee(io.data),us.error)throw us.error;if(be(us.data),wa.error)throw wa.error;if(Ae(wa.data),sr.error)throw sr.error;if(Ke(sr.data),oo.error)throw oo.error;if(Re(oo.data),Ta.error)throw Ta.error;if(ge(Ta.data),((de=Jt.data)==null?void 0:de.length)===0){const zt=Sq(z.id,Ge).map(cs=>({...cs,user_id:z.id,profile_id:Ge})),{data:Zn,error:Dn}=await it.from("accounts").insert(zt).select();if(Dn)throw Dn;Zn&&O(Zn)}if(((_e=ci.data)==null?void 0:_e.length)===0){const zt=_q(z.id,Ge).map(cs=>({...cs,user_id:z.id,profile_id:Ge})),{data:Zn,error:Dn}=await it.from("categories").insert(zt).select();if(Dn)throw Dn;Zn&&I(Zn)}At("DASHBOARD")}catch(Te){console.error("Error fetching user data:",Te),t(`Erro ao carregar dados: ${Te.message||"TypeError: Failed to fetch"}`,"error"),s(null),y(null)}finally{Ye(!1),_n.current=!1}},[t]);j.useEffect(()=>{f(!0),it.auth.getSession().then(({data:{session:te}})=>{n(te);const re=(te==null?void 0:te.user)??null;a(re),f(!1),re?xa(re):(Ye(!1),At("LOGIN"))});const{data:{subscription:z}}=it.auth.onAuthStateChange((te,re)=>{const de=r==null?void 0:r.id;n(re);const _e=(re==null?void 0:re.user)??null;a(_e),(_e==null?void 0:_e.id)!==de?(ns(),_e?xa(_e):(Ye(!1),At("LOGIN"),te==="SIGNED_OUT"&&t("Você foi desconectado.","info"))):_e&&(te==="TOKEN_REFRESHED"||te==="USER_UPDATED")&&!i&&!_n.current&&xa(_e),f(!1)});return()=>z.unsubscribe()},[xa,t,r==null?void 0:r.id,i]);const ea=j.useCallback(async(z,te)=>{if(!r||!i)return;const{error:re}=await it.from("user_preferences").update({[z]:te,updated_at:new Date().toISOString()}).eq("user_id",r.id).eq("profile_id",i.id);re?(console.error(`Error updating user preference ${z}:`,re),t(`Erro ao salvar preferência (${z}): ${re.message}`,"error")):y(de=>de?{...de,[z]:te,updated_at:new Date().toISOString()}:null)},[r,i,t]),Ln=j.useCallback(z=>{w(z),r&&i&&ea("theme",z)},[r,i,ea]),Lr=j.useCallback(()=>{const z=!A;T(z),r&&i&&ea("is_privacy_mode_enabled",z)},[A,r,i,ea]),$n=j.useCallback(z=>{if(!r||!i)return;const te={};z.isEnabled!==void 0&&(te.ai_is_enabled=z.isEnabled),z.monthlyIncome!==void 0&&(te.ai_monthly_income=z.monthlyIncome),z.autoBackupToFileEnabled!==void 0&&(te.ai_auto_backup_enabled=z.autoBackupToFileEnabled),M(re=>({...re,...z})),Object.keys(te).length>0&&it.from("user_preferences").update({...te,updated_at:new Date().toISOString()}).eq("user_id",r.id).eq("profile_id",i.id).then(({error:re})=>{re?(console.error("Error updating AI config in preferences:",re),t(`Erro ao salvar configurações da IA: ${re.message}`,"error")):y(de=>de?{...de,...te,updated_at:new Date().toISOString()}:null)})},[r,i,t]);j.useEffect(()=>{const z=te=>{te==="dark"||te==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"))};if(z(_),_==="system"){const te=window.matchMedia("(prefers-color-scheme: dark)"),re=()=>z("system");return te.addEventListener("change",re),()=>te.removeEventListener("change",re)}},[_]);const Af=async()=>{try{h(null);const{error:z}=await it.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/controle-financeiro/`}});if(z)throw z}catch(z){console.error("Error signing in with Google:",z),h(z.message||"Falha ao fazer login com Google."),t(z.message||"Falha ao fazer login com Google.","error")}},bp=async()=>{try{const{error:z}=await it.auth.signOut();if(z)throw z}catch(z){console.error("Error signing out:",z),t(z.message||"Falha ao sair.","error")}},rs=j.useCallback(z=>{if(!r||!i)return 0;const te=C.find(re=>re.id===z);return te?E.reduce((re,de)=>{if(de.account_id===z){if(de.type===ve.INCOME)return re+de.amount;if(de.type===ve.EXPENSE||de.type===ve.TRANSFER)return re-de.amount}else if(de.to_account_id===z&&de.type===ve.TRANSFER)return re+de.amount;return re},te.initial_balance):0},[C,E,r,i]),_a=j.useCallback(z=>!r||!i?0:B.reduce((te,re)=>{if(re.money_box_id===z){if(re.type===yr.DEPOSIT)return te+re.amount;if(re.type===yr.WITHDRAWAL)return te-re.amount}return te},0),[B,r,i]),Wn=j.useCallback(z=>{if(!r||!i)return null;const te=new Date,re=dt(te),de=te.getDate(),_e=te.getFullYear(),Te=te.getMonth(),Ee=new Date(_e,Te+1,0).getDate();let Ge=[...E];if(z){const Pe={id:`simulated-${Wx()}`,user_id:r.id,profile_id:i.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),type:z.type,amount:z.amount,date:z.date,description:z.description,account_id:"simulated_account"};Ge.push(Pe)}const pt=()=>_==="system"?typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":_;return{currentDate:re,dayOfMonth:de,daysInMonth:Ee,accounts:C.map(Pe=>({id:Pe.id,name:Pe.name})),accountBalances:C.map(Pe=>({accountId:Pe.id,balance:rs(Pe.id)})),categories:P.map(Pe=>({id:Pe.id,name:Pe.name,type:Pe.type,monthly_budget:Pe.monthly_budget})),transactions:Ge,moneyBoxes:Z.map(Pe=>({id:Pe.id,name:Pe.name,goal_amount:Pe.goal_amount})),moneyBoxBalances:Z.map(Pe=>({moneyBoxId:Pe.id,balance:_a(Pe.id)})),loans:se.map(Pe=>({id:Pe.id,person_name:Pe.person_name,total_amount_to_reimburse:Pe.total_amount_to_reimburse})),outstandingLoanBalances:se.map(Pe=>{const Bt=me.filter(Mn=>Mn.loan_id===Pe.id).reduce((Mn,Jt)=>Mn+Jt.amount_paid,0);return{loanId:Pe.id,outstanding:Pe.total_amount_to_reimburse-Bt}}),recurringTransactions:G.map(Pe=>({id:Pe.id,description:Pe.description,amount:Pe.amount,type:Pe.type,next_due_date:Pe.next_due_date,frequency:Pe.frequency,category_id:Pe.category_id})),futurePurchases:F.map(Pe=>({id:Pe.id,name:Pe.name,estimated_cost:Pe.estimated_cost,priority:Pe.priority,status:Pe.status})),theme:pt(),monthlyIncome:k.monthlyIncome,simulatedTransactionData:z,debts:Se}},[r,i,C,E,P,Z,B,se,me,G,F,_,k.monthlyIncome,Se,rs,_a]),Ze=async(z,te,re,de,_e=!1)=>{if(!r||!i)return null;const Te={...te,user_id:r.id,profile_id:i.id};let Ee;if(_e&&te.id){const Ge={...Te,updated_at:new Date().toISOString()};Ee=await it.from(z).update(Ge).eq("id",te.id).eq("user_id",r.id).eq("profile_id",i.id).select().single()}else{const Ge={...Te,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};Ee=await it.from(z).insert(Ge).select().single()}if(Ee.error)return t(`Erro ao ${_e?"atualizar":"adicionar"} ${z}: ${Ee.error.message}`,"error"),null;if(Ee.data){const Ge=Ee.data;return re(pt=>{const Bt=[..._e?pt.filter(Mn=>Mn.id!==Ge.id):pt,Ge];return de?Bt.sort(de):Bt}),t(`${_e?"Atualizado":"Adicionado"} com sucesso!`,"success"),Ge}return null},Sn=async(z,te,re)=>{if(!r||!i)return;const{error:de}=await it.from(z).delete().eq("id",te).eq("user_id",r.id).eq("profile_id",i.id);de?t(`Erro ao excluir de ${z}: ${de.message}`,"error"):(re(_e=>_e.filter(Te=>Te.id!==te)),t("Excluído com sucesso!","success"))},ri=async z=>{var re;if(!r||!i)return;const te=await Ze("transactions",z,D,(de,_e)=>new Date(_e.date).getTime()-new Date(de.date).getTime());if(te&&(cn(!1),jf(te),no(te),U.some(_e=>_e.id===te.account_id)&&te.type===ve.EXPENSE)){const _e={credit_card_id:te.account_id,description:`Débito na Fatura: ${te.description||((re=P.find(Te=>Te.id===te.category_id))==null?void 0:re.name)||"Despesa no Cartão"}`,purchase_date:te.date,total_amount:te.amount,number_of_installments:1,installments_paid:0,linked_transaction_id:te.id};await Df(_e,!1)}},xp=async z=>{const te=await Ze("transactions",z,D,(re,de)=>new Date(de.date).getTime()-new Date(re.date).getTime(),!0);te&&(cn(!1),xr(null),jf(te),no(te))},Ef=z=>Sn("transactions",z,D),Cf=z=>Ze("accounts",z,O,(te,re)=>te.name.localeCompare(re.name)),tu=z=>Ze("accounts",z,O,(te,re)=>te.name.localeCompare(re.name),!0),Qi=z=>{window.confirm("Excluir esta conta?")&&Sn("accounts",z,O)},_p=z=>Ze("categories",z,I,(te,re)=>te.name.localeCompare(re.name)),kf=z=>Ze("categories",z,I,(te,re)=>te.name.localeCompare(re.name),!0),Of=z=>{window.confirm("Excluir esta categoria?")&&Sn("categories",z,I)},nu=z=>Ze("credit_cards",z,V,(te,re)=>te.name.localeCompare(re.name)),ru=z=>Ze("credit_cards",z,V,(te,re)=>te.name.localeCompare(re.name),!0),Mf=z=>{window.confirm("Excluir este cartão?")&&Sn("credit_cards",z,V)},Df=async(z,te=!0)=>{await Ze("installment_purchases",z,H,(re,de)=>new Date(de.purchase_date).getTime()-new Date(re.purchase_date).getTime())},$r=async(z,te=!0)=>{await Ze("installment_purchases",z,H,(re,de)=>new Date(de.purchase_date).getTime()-new Date(re.purchase_date).getTime(),!0)},fn=async(z,te=!0)=>{if(!r||!i)return;const re=$.find(de=>de.id===z);re!=null&&re.linked_transaction_id&&re.number_of_installments===1&&te&&await it.from("transactions").delete().eq("id",re.linked_transaction_id).eq("user_id",r.id).eq("profile_id",i.id),Sn("installment_purchases",z,H)},kn=async z=>{const te=$.find(re=>re.id===z);if(!(!te||!r||!i)&&te.installments_paid<te.number_of_installments){const re={...te,installments_paid:te.installments_paid+1};await $r(re)}},ai=async z=>{if(!r||!i)return;const re=ZR($.filter(Te=>Te.credit_card_id===z),U.find(Te=>Te.id===z),new Date).map(Te=>{const Ee={...Te,installments_paid:Te.installments_paid+1,updated_at:new Date().toISOString()};return it.from("installment_purchases").update({installments_paid:Ee.installments_paid,updated_at:Ee.updated_at}).eq("id",Te.id).eq("user_id",r.id).eq("profile_id",i.id).select().single()}),de=await Promise.all(re),_e=de.filter(Te=>Te.data).map(Te=>Te.data);_e.length>0&&(H(Te=>Te.map(Ee=>_e.find(Ge=>Ge.id===Ee.id)||Ee).sort((Ee,Ge)=>new Date(Ge.purchase_date).getTime()-new Date(Ee.purchase_date).getTime())),t(`${_e.length} parcela(s) da fatura marcada(s) como paga(s)!`,"success")),de.filter(Te=>Te.error).forEach(Te=>{var Ee;return t(`Erro ao pagar parcela: ${(Ee=Te.error)==null?void 0:Ee.message}`,"error")})},au=z=>Ze("money_boxes",z,Y,(te,re)=>te.name.localeCompare(re.name)),Sp=z=>Ze("money_boxes",z,Y,(te,re)=>te.name.localeCompare(re.name),!0),wp=z=>{window.confirm("Excluir esta caixinha?")&&Sn("money_boxes",z,Y)},Nf=async(z,te,re)=>{var _e;if(!r||!i)return;let de;if(te&&re){const Te={type:z.type===yr.DEPOSIT?ve.EXPENSE:ve.INCOME,amount:z.amount,date:z.date,description:`${z.type===yr.DEPOSIT?"Depósito":"Saque"} Caixinha: ${((_e=Z.find(Ge=>Ge.id===z.money_box_id))==null?void 0:_e.name)||"N/A"} ${z.description?`- ${z.description}`:""}`,account_id:re},Ee=await Ze("transactions",Te,D,(Ge,pt)=>new Date(pt.date).getTime()-new Date(Ge.date).getTime());if(!Ee){t("Erro ao criar transação principal para caixinha.","error");return}de=Ee.id}await Ze("money_box_transactions",{...z,linked_transaction_id:de},L,(Te,Ee)=>new Date(Ee.date).getTime()-new Date(Te.date).getTime())},eo=z=>Sn("money_box_transactions",z,L),iu=z=>Ze("tags",z,q,(te,re)=>te.name.localeCompare(re.name)),ii=z=>Ze("tags",z,q,(te,re)=>te.name.localeCompare(re.name),!0),oi=z=>{window.confirm("Excluir esta tag?")&&Sn("tags",z,q)},to=z=>Ze("recurring_transactions",z,ee,(te,re)=>new Date(te.next_due_date).getTime()-new Date(re.next_due_date).getTime()),si=z=>Ze("recurring_transactions",z,ee,(te,re)=>new Date(te.next_due_date).getTime()-new Date(re.next_due_date).getTime(),!0),Zt=z=>{window.confirm("Excluir esta recorrência?")&&Sn("recurring_transactions",z,ee)},Pf=async()=>{if(!r||!i)return{count:0,errors:["Usuário não ativo."]};const z=G.filter(de=>!de.is_paused&&new Date(de.next_due_date)<=new Date&&(de.remaining_occurrences===void 0||de.remaining_occurrences>0));let te=0;const re=[];for(const de of z){const _e={type:de.type,amount:de.amount,category_id:de.category_id,description:`Recorrência: ${de.description}`,date:de.next_due_date,account_id:de.account_id,to_account_id:de.to_account_id};await ri(_e);const Te={last_posted_date:de.next_due_date,next_due_date:yue(de.next_due_date,de.frequency,de.custom_interval_days),remaining_occurrences:de.remaining_occurrences!==void 0?de.remaining_occurrences-1:void 0},{error:Ee}=await it.from("recurring_transactions").update(Te).eq("id",de.id).eq("user_id",r.id).eq("profile_id",i.id);Ee?re.push(`Erro ao atualizar ${de.description}: ${Ee.message}`):te++}if(r&&i){const{data:de,error:_e}=await it.from("recurring_transactions").select("*").eq("user_id",r.id).eq("profile_id",i.id).order("next_due_date");_e?t("Erro ao recarregar recorrências.","error"):de&&ee(de)}return{count:te,errors:re}},Rf=async(z,te)=>{if(!r||!i)return;let re;if(z.funding_source==="account"&&z.amount_delivered_from_account&&z.linked_account_id){const Te={type:ve.EXPENSE,amount:z.amount_delivered_from_account,date:z.loan_date,description:`Empréstimo para ${z.person_name}`,account_id:z.linked_account_id},Ee=await Ze("transactions",Te,D,(Ge,pt)=>new Date(pt.date).getTime()-new Date(Ge.date).getTime());if(!Ee){t("Erro ao criar transação de despesa para empréstimo.","error");return}re=Ee.id}let de;if(z.funding_source==="creditCard"&&z.cost_on_credit_card&&z.linked_credit_card_id&&te){const Te={credit_card_id:z.linked_credit_card_id,description:`Empréstimo (crédito) para ${z.person_name}`,purchase_date:z.loan_date,total_amount:z.cost_on_credit_card,number_of_installments:te,installments_paid:0},Ee=await Ze("installment_purchases",Te,H,(Ge,pt)=>new Date(pt.purchase_date).getTime()-new Date(Ge.purchase_date).getTime());if(!Ee){t("Erro ao criar compra parcelada para empréstimo.","error");return}de=Ee.id}const _e={...z,linked_expense_transaction_id:re,linked_installment_purchase_id:de};await Ze("loans",_e,be,(Te,Ee)=>new Date(Ee.loan_date).getTime()-new Date(Te.loan_date).getTime())},Sa=z=>Ze("loans",z,be,(te,re)=>new Date(re.loan_date).getTime()-new Date(te.loan_date).getTime(),!0),li=async z=>{if(!r||!i)return;const te=se.find(re=>re.id===z);te&&(te.linked_expense_transaction_id&&await it.from("transactions").delete().eq("id",te.linked_expense_transaction_id).eq("user_id",r.id).eq("profile_id",i.id),te.linked_installment_purchase_id&&await it.from("installment_purchases").delete().eq("id",te.linked_installment_purchase_id).eq("user_id",r.id).eq("profile_id",i.id)),await Sn("loans",z,be),Ae(re=>re.filter(de=>de.loan_id!==z))},Tp=async(z,te)=>{var _e;if(!r||!i)return;const re={type:ve.INCOME,amount:z.amount_paid,date:z.repayment_date,description:`Recebimento de empréstimo de ${((_e=se.find(Te=>Te.id===te))==null?void 0:_e.person_name)||"N/A"}`,account_id:z.credited_account_id},de=await Ze("transactions",re,D,(Te,Ee)=>new Date(Ee.date).getTime()-new Date(Te.date).getTime());if(!de){t("Erro ao criar transação de receita para pagamento de empréstimo.","error");return}await Ze("loan_repayments",{...z,loan_id:te,linked_income_transaction_id:de.id},Ae,(Te,Ee)=>new Date(Ee.repayment_date).getTime()-new Date(Te.repayment_date).getTime())},On=async(z,te=!1)=>{const re=await Ze("ai_insights",z,Ke,(de,_e)=>new Date(_e.timestamp).getTime()-new Date(de.timestamp).getTime());return re&&te&&re.type!=="error_message"?t("Nova dica do AI Coach! Confira na aba AI Coach.","info",7e3):re&&re.type==="error_message"&&t(`AI Coach: ${re.content}`,"warning",7e3),re},If=z=>{Ze("ai_insights",{...z,isLoading:void 0},Ke,(te,re)=>new Date(re.timestamp).getTime()-new Date(te.timestamp).getTime(),!0)},jf=async z=>{if(!k.isEnabled||k.apiKeyStatus!=="available")return;const te=Wn();if(!te)return;const re=C.find(Te=>Te.id===z.account_id),de=P.find(Te=>Te.id===z.category_id),_e=await oue(z,te,de==null?void 0:de.name,re==null?void 0:re.name);_e&&On(_e,!0)},as=async(z,te)=>{if(!k.isEnabled||k.apiKeyStatus!=="available"||!k.monthlyIncome)return t("AI Coach ou renda mensal não configurados para sugestão de orçamento.","warning"),null;const re=Wn();if(!re)return null;const de=await sue(z,k.monthlyIncome,te,re);return de&&"suggestedBudget"in de?(t(`AI Coach sugeriu um orçamento de ${pe(de.suggestedBudget)} para ${z}.`,"info"),de.suggestedBudget):(de&&On(de,!0),null)},no=async z=>{if(!k.isEnabled||k.apiKeyStatus!=="available"||!z.category_id||z.type!==ve.EXPENSE)return;const te=Wn();if(!te)return;const re=P.find(_e=>_e.id===z.category_id);if(!re)return;const de=E.filter(_e=>_e.category_id===re.id&&_e.type===ve.EXPENSE&&_e.id!==z.id).slice(0,20);if(de.length>3){const _e=await mue(z,re.name,de);_e&&On(_e,!0)}if(re.monthly_budget&&re.monthly_budget>0){const _e=dt().substring(0,7),Te=E.filter(Jt=>Jt.category_id===re.id&&Jt.date.startsWith(_e)&&Jt.type===ve.EXPENSE).reduce((Jt,ci)=>Jt+ci.amount,0),Ee=new Date().getDate(),Ge=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),pt=re.monthly_budget/Ge*Ee,Pe=Ge-Ee,Bt=Te/Ee,Mn=Te+Bt*Pe;if(Te>pt*1.2){const Jt=await cue(re.name,Te,pt,re.monthly_budget,te,re.id);Jt&&On(Jt,!0)}if(Mn>re.monthly_budget*1.05){const Jt=await fue(re.name,Te,re.monthly_budget,Pe,Mn,te,re.id);Jt&&On(Jt,!0)}}},Br=async()=>{if(!k.isEnabled||k.apiKeyStatus!=="available")return;const z=Wn();if(!z)return;const te=await due(E,G,z);te?On(te,!0):t("Nenhum candidato óbvio para recorrência encontrado pela IA.","info")},ou=async()=>{if(!k.isEnabled||k.apiKeyStatus!=="available")return;const z=Wn();if(!z)return;const te=await hue(E,P,Z,z);te?On(te,!0):t("Nenhuma oportunidade clara de economia encontrada pela IA no momento.","info")},Lf=async(z=30,te)=>{if(!k.isEnabled||k.apiKeyStatus!=="available"){t("AI Coach desativado ou API Key não configurada.","warning");return}let re=Wn(te);if(!re){t("Não foi possível gerar contexto financeiro para a projeção.","error");return}const de=await pue(re,z);de?On(de,!0):t("Erro ao gerar projeção de fluxo de caixa.","error")},ui=z=>{const te={...z,status:"PLANNED"};Ze("future_purchases",te,W,(re,de)=>new Date(de.created_at||0).getTime()-new Date(re.created_at||0).getTime())},is=z=>Ze("future_purchases",z,W,(te,re)=>new Date(re.created_at||0).getTime()-new Date(te.created_at||0).getTime(),!0),su=z=>{window.confirm("Excluir esta compra futura?")&&Sn("future_purchases",z,W)},Ap=async z=>{if(!k.isEnabled||k.apiKeyStatus!=="available"){t("AI Coach desativado ou API Key não configurada.","warning");return}const te=F.find(Te=>Te.id===z);if(!te)return;const re=te.status;W(Te=>Te.map(Ee=>Ee.id===z?{...Ee,status:"AI_ANALYZING",ai_analysis:"Analisando com IA..."}:Ee));const de=Wn();if(!de){W(Te=>Te.map(Ee=>Ee.id===z?{...Ee,status:re,ai_analysis:"Erro: Contexto financeiro indisponível."}:Ee));return}const _e=await lue(te,de);if(_e&&"analysisText"in _e&&"recommendedStatus"in _e){const Te={...te,status:_e.recommendedStatus,ai_analysis:_e.analysisText,ai_analyzed_at:new Date().toISOString()};is(Te);const Ee=`Análise para "${te.name}": ${_e.analysisText} Status recomendado: ${_e.recommendedStatus}.`;On({timestamp:new Date().toISOString(),type:"future_purchase_advice",content:Ee,related_future_purchase_id:te.id,is_read:!1},!0)}else _e?(On(_e,!0),W(Te=>Te.map(Ee=>Ee.id===z?{...Ee,status:re,ai_analysis:_e.content||"Erro na análise."}:Ee))):W(Te=>Te.map(Ee=>Ee.id===z?{...Ee,status:re,ai_analysis:"Falha ao obter análise da IA."}:Ee))},$f=async z=>{const te={...z,current_balance:z.initial_balance,is_archived:!1};await Ze("debts",te,Re,(re,de)=>re.name.localeCompare(de.name))},Xn=z=>Ze("debts",z,Re,(te,re)=>te.name.localeCompare(re.name),!0),Bf=z=>{if(Be.some(te=>te.debt_id===z)){t("Não é possível excluir. Esta dívida possui pagamentos registrados.","error");return}window.confirm("Excluir esta dívida?")&&Sn("debts",z,Re)},Ep=async(z,te,re)=>{if(!r||!i)return;let de;if(te&&re){const Te=Se.find(pt=>pt.id===z.debt_id),Ee={type:ve.EXPENSE,amount:z.amount_paid,date:z.payment_date,description:`Pagamento Dívida: ${(Te==null?void 0:Te.name)||"N/A"} ${z.notes?`- ${z.notes}`:""}`,account_id:re},Ge=await Ze("transactions",Ee,D,(pt,Pe)=>new Date(Pe.date).getTime()-new Date(pt.date).getTime());if(!Ge){t("Erro ao criar transação de despesa para pagamento de dívida.","error");return}de=Ge.id}const _e=await Ze("debt_payments",{...z,linked_expense_transaction_id:de},ge,(Te,Ee)=>new Date(Ee.payment_date).getTime()-new Date(Te.payment_date).getTime());if(_e){const Te=Se.find(Ee=>Ee.id===_e.debt_id);if(Te){const Ee=Math.max(0,Te.current_balance-_e.amount_paid);Re(Ge=>Ge.map(pt=>pt.id===_e.debt_id?{...pt,current_balance:Ee}:pt)),await it.from("debts").update({current_balance:Ee}).eq("id",Te.id).eq("user_id",r.id).eq("profile_id",i.id)}}},os=async z=>{if(!k.isEnabled||k.apiKeyStatus!=="available"){t("AI Coach desativado ou API Key não configurada.","warning");return}const te=await gue(z);te&&On(te,!0)},qf=async(z,te,re)=>{if(!k.isEnabled||k.apiKeyStatus!=="available"){t("AI Coach desativado ou API Key não configurada.","warning");return}const de=Wn();if(!de){t("Contexto financeiro não disponível para resumo.","error");return}const _e=await vue(z,te,de);_e&&On(_e,!0)},ss=({view:z,icon:te,label:re,hasIndicator:de})=>b.jsxs("li",{onClick:()=>At(z),className:`flex items-center py-2.5 px-4 rounded-md cursor-pointer transition-colors
                  ${nt===z?"bg-primary dark:bg-primaryDark text-white shadow-lg":"text-neutral-300 hover:bg-neutral-700 hover:text-white"}`,role:"button",tabIndex:0,onKeyDown:_e=>{(_e.key==="Enter"||_e.key===" ")&&At(z)},"aria-label":`Navegar para ${re}`,"aria-current":nt===z?"page":void 0,children:[X.cloneElement(te,{className:"w-5 h-5 mr-3 flex-shrink-0"}),b.jsx("span",{className:"flex-grow",children:re}),de&&b.jsx("span",{className:"w-2.5 h-2.5 bg-green-400 rounded-full ml-auto animate-pulse"})]});if(u)return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-backgroundDark text-textBaseDark",children:"Carregando sessão..."});if(!r)return b.jsx(MR,{onLoginWithGoogle:Af,isLoading:!1});if(yt&&r)return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-backgroundDark text-textBaseDark",children:"Carregando dados do perfil..."});if(!yt&&!i&&r)return t("Falha ao carregar o perfil. Por favor, tente novamente.","error"),b.jsx(MR,{onLoginWithGoogle:Af,isLoading:!1});const Cp=[{view:"DASHBOARD",icon:b.jsx(SL,{}),label:"Painel Geral"},{view:"TRANSACTIONS",icon:b.jsx(ace,{}),label:"Transações"},{view:"ACCOUNTS",icon:b.jsx(jS,{}),label:"Contas"},{view:"CATEGORIES",icon:b.jsx(oce,{}),label:"Categorias"},{view:"CREDIT_CARDS",icon:b.jsx(mp,{}),label:"Cartões de Crédito"},{view:"MONEY_BOXES",icon:b.jsx(ZL,{}),label:"Caixinhas"},{view:"FUTURE_PURCHASES",icon:b.jsx(e1,{}),label:"Compras Futuras"},{view:"TAGS",icon:b.jsx(wL,{}),label:"Tags"},{view:"RECURRING_TRANSACTIONS",icon:b.jsx(Am,{}),label:"Recorrências"},{view:"LOANS",icon:b.jsx(VS,{}),label:"Empréstimos"},{view:"DEBT_PLANNER",icon:b.jsx(jS,{}),label:"Planejador Dívidas"},{view:"AI_COACH",icon:b.jsx(IS,{}),label:"AI Coach",hasIndicator:k.isEnabled&&k.apiKeyStatus==="available"},{view:"DATA_MANAGEMENT",icon:b.jsx(ice,{}),label:"Dados"}];return b.jsxs("div",{className:"flex h-screen bg-background dark:bg-backgroundDark",children:[b.jsxs("aside",{className:"w-64 bg-neutral-900 dark:bg-slate-900 text-white flex flex-col shadow-2xl fixed inset-y-0 left-0 z-30",children:[b.jsxs("div",{className:"p-4 border-b border-neutral-700 dark:border-slate-700",children:[b.jsx("h1",{className:"text-xl font-bold text-white",children:Yx}),r&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"mt-3 flex items-center space-x-3",children:[ba?b.jsx("img",{src:ba,alt:"Avatar",className:"w-10 h-10 rounded-full border-2 border-primaryDark"}):b.jsx(JL,{className:"w-10 h-10 text-neutral-400"}),b.jsx("div",{children:b.jsx("p",{className:"text-sm font-semibold text-white truncate",title:or,children:or})})]}),b.jsxs("div",{className:"mt-2 flex items-center space-x-2 px-1 py-1.5 rounded-md cursor-pointer hover:bg-neutral-700 transition-colors",onClick:Lr,role:"button",tabIndex:0,onKeyDown:z=>{(z.key==="Enter"||z.key===" ")&&Lr()},title:A?"Modo Privacidade Ativado":"Modo Privacidade Desativado. Clique para alternar.",children:[A?b.jsx(lce,{className:"w-5 h-5 text-neutral-400"}):b.jsx(sce,{className:"w-5 h-5 text-neutral-400"}),b.jsx("span",{className:"text-sm text-neutral-300",children:A?"Privado":"Normal"})]})]})]}),b.jsx("nav",{className:"flex-grow p-3 space-y-1.5 overflow-y-auto",children:b.jsx("ul",{children:Cp.map(z=>b.jsx(ss,{...z},z.view))})}),b.jsxs("div",{className:"p-2 border-t border-neutral-700 dark:border-slate-700",children:[b.jsx(rce,{theme:_,setTheme:Ln}),b.jsxs(ye,{variant:"ghost",onClick:bp,className:"w-full mt-2 !justify-start !px-3 !py-2 text-sm text-neutral-300 hover:!bg-red-600/80 hover:!text-white",children:[b.jsx(uce,{className:"w-5 h-5 mr-2.5"})," Sair"]})]})]}),b.jsxs("main",{className:"flex-1 ml-64 overflow-y-auto bg-background dark:bg-backgroundDark text-textBase dark:text-textBaseDark",children:[nt==="DASHBOARD"&&b.jsx(JQ,{transactions:E,accounts:C,categories:P,creditCards:U,installmentPurchases:$,moneyBoxes:Z,loans:se,loanRepayments:me,recurringTransactions:G,onAddTransaction:()=>{xr(null),cn(!0)},calculateAccountBalance:rs,calculateMoneyBoxBalance:_a,onViewRecurringTransaction:z=>At("RECURRING_TRANSACTIONS"),isPrivacyModeEnabled:A}),nt==="TRANSACTIONS"&&b.jsx(eee,{transactions:E,accounts:C,categories:P,tags:ie,installmentPurchases:$,onAddTransaction:()=>{xr(null),cn(!0)},onEditTransaction:z=>{xr(z),cn(!0)},onDeleteTransaction:Ef,isLoading:yt,isPrivacyModeEnabled:A}),nt==="ACCOUNTS"&&b.jsx(nee,{accounts:C,transactions:E,onAddAccount:Cf,onUpdateAccount:tu,onDeleteAccount:Qi,calculateAccountBalance:rs,isPrivacyModeEnabled:A}),nt==="CATEGORIES"&&b.jsx(ree,{categories:P,transactions:E,aiConfig:k,onAddCategory:_p,onUpdateCategory:kf,onDeleteCategory:Of,onSuggestBudget:as,isPrivacyModeEnabled:A}),nt==="CREDIT_CARDS"&&b.jsx(bue,{creditCards:U,installmentPurchases:$,aiConfig:k,onAddCreditCard:nu,onUpdateCreditCard:ru,onDeleteCreditCard:Mf,onAddInstallmentPurchase:Df,onUpdateInstallmentPurchase:$r,onDeleteInstallmentPurchase:fn,onMarkInstallmentPaid:kn,onPayMonthlyInstallments:ai,isPrivacyModeEnabled:A}),nt==="MONEY_BOXES"&&b.jsx(Tue,{moneyBoxes:Z,moneyBoxTransactions:B,accounts:C,onAddMoneyBox:au,onUpdateMoneyBox:Sp,onDeleteMoneyBox:wp,onAddMoneyBoxTransaction:Nf,onDeleteMoneyBoxTransaction:eo,calculateMoneyBoxBalance:_a,isPrivacyModeEnabled:A}),nt==="FUTURE_PURCHASES"&&b.jsx(Nue,{futurePurchases:F,onAddFuturePurchase:ui,onUpdateFuturePurchase:is,onDeleteFuturePurchase:su,onAnalyzeFuturePurchase:Ap,isPrivacyModeEnabled:A}),nt==="TAGS"&&b.jsx(jue,{tags:ie,transactions:E,onAddTag:iu,onUpdateTag:ii,onDeleteTag:oi}),nt==="RECURRING_TRANSACTIONS"&&b.jsx(que,{recurringTransactions:G,accounts:C,categories:P,onAddRecurringTransaction:to,onUpdateRecurringTransaction:si,onDeleteRecurringTransaction:Zt,onProcessRecurringTransactions:Pf,isPrivacyModeEnabled:A}),nt==="LOANS"&&b.jsx(zue,{loans:se,loanRepayments:me,accounts:C,creditCards:U,onAddLoan:Rf,onUpdateLoan:Sa,onDeleteLoan:li,onAddLoanRepayment:Tp,isPrivacyModeEnabled:A}),nt==="DEBT_PLANNER"&&b.jsx(Jue,{debts:Se,debtPayments:Be,accounts:C,onAddDebt:$f,onUpdateDebt:Xn,onDeleteDebt:Bf,onAddDebtPayment:Ep,onFetchDebtStrategyExplanation:os,onFetchDebtProjectionSummary:qf,isPrivacyModeEnabled:A}),nt==="AI_COACH"&&b.jsx(Gue,{aiConfig:k,setAiConfig:$n,insights:mt,onFetchGeneralAdvice:()=>{const z=Wn();z&&iue(z).then(te=>te&&On(te,!0))},onUpdateInsight:If,isPrivacyModeEnabled:A,onFetchRecurringPaymentCandidates:Br,onFetchSavingOpportunities:ou,onFetchCashFlowProjection:Lf}),nt==="DATA_MANAGEMENT"&&b.jsx(Pue,{allData:{transactions:E,accounts:C,categories:P,creditCards:U,installmentPurchases:$,moneyBoxes:Z,moneyBoxTransactions:B,futurePurchases:F,tags:ie,recurringTransactions:G,loans:se,loanRepayments:me,aiInsights:mt,debts:Se,debtPayments:Be},userPreferencesToExport:{theme:_,is_privacy_mode_enabled:A,ai_is_enabled:k.isEnabled,ai_monthly_income:k.monthlyIncome,ai_auto_backup_enabled:k.autoBackupToFileEnabled,id:(p==null?void 0:p.id)||"",profile_id:(i==null?void 0:i.id)||""},activeProfileName:or,user:r})]}),Et&&b.jsx(bn,{isOpen:Et,onClose:()=>cn(!1),title:ir?"Editar Transação":"Nova Transação",size:"lg",children:b.jsx(Que,{onSubmit:ir?xp:ri,onCancel:()=>cn(!1),accounts:C,creditCards:U,categories:P,tags:ie,initialTransaction:ir,isPrivacyModeEnabled:A})})]})},fce=()=>b.jsx(Aq,{children:b.jsx(cce,{})}),QL=document.getElementById("root");if(!QL)throw new Error("Could not find root element to mount to");const dce=fB.createRoot(QL);dce.render(b.jsx(X.StrictMode,{children:b.jsx(fce,{})}));
